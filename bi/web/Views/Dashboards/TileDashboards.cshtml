@using Newtonsoft.Json
@addTagHelper *, Microsoft.FeatureManagement.AspNetCore
@{
    var globalAppSettings = _globalAppSettings;
    ViewBag.Title = T["Dashboards"].Value + " - " + globalAppSettings.SystemSettings.OrganizationName;
    ViewBag.HelpSiteUrl = GlobalAppSettings.GetHelpSiteUrl(HelpSiteUrlNames.ManageDashboards);
    var currentUserId = ViewBag.currentUserId;
    var dashboardUrl = Url.Action("Dashboards", "Dashboards");
    var categories = String.Empty;
    if (ViewBag.Categories != null)
    {
        categories = JsonConvert.SerializeObject(ViewBag.Categories);
    }
    var permisions = ViewBag.ItemAddOptions;
    var itemsCount = ViewBag.ItemsCount as Dictionary<ItemType, int>;
    var isMobile = new DeviceDetection(Context).IsMobile;
    var dashboardServerResourceUrl = globalAppSettings.SystemSettings.CDNLink.TrimEnd('/');
    var customUI = globalAppSettings.SystemSettings.CustomUI;
    var iscustomUIProfile = customUI?.Profiles != null && customUI.Profiles[0].Dashboards != null;
    var schemes = iscustomUIProfile ? customUI.Schemes.Where(x => x.Name == customUI.Profiles[0].Dashboards.Scheme).FirstOrDefault() : null;
    var isAdmin = Context.Session.GetString("IsAdmin") != null && Convert.ToBoolean(Context.Session.GetString("IsAdmin"));
    var samePagePreview = iscustomUIProfile ? customUI.Profiles[0].Dashboards.SamePagePreview : false;
    var hideMenusAndOptions = iscustomUIProfile ? !isAdmin && customUI.Profiles[0].Dashboards.HideMenusAndOptions : false;
    var hideAuthorName = iscustomUIProfile && (hideMenusAndOptions || (customUI.Profiles[0].Dashboards.SamePagePreviewUI != null && customUI.Profiles[0].Dashboards.SamePagePreviewUI.HideAuthorName) || (customUI.Profiles[0].Dashboards.HideAuthorName)) ? true : false;    var hideMultitabText = iscustomUIProfile && ((customUI.Profiles[0].Dashboards.SamePagePreviewUI != null && customUI.Profiles[0].Dashboards.SamePagePreviewUI.HideMultiTabText) || (customUI.Profiles[0].Dashboards.HideMultiTabText) || (customUI.Profiles[0].Dashboards.HideAuthorName)) ? true : false;
    var hideSortOption = iscustomUIProfile ? customUI.Profiles[0].Dashboards.HideSorting : false;
    var hideCategoryName = iscustomUIProfile ? hideMenusAndOptions || customUI.Profiles[0].Dashboards.HideCategoryName : false;
    var hideDescription = iscustomUIProfile ? customUI.Profiles[0].Dashboards.HideDescription : false;
    var hideModifiedDate = iscustomUIProfile ? hideMenusAndOptions || customUI.Profiles[0].Dashboards.HideModifiedDate : false;
    var hideFavorite = iscustomUIProfile ? hideMenusAndOptions || (!isAdmin && customUI.Profiles[0].Dashboards.HideFavorite) : false;
    var hideDashboardsFiltering = iscustomUIProfile ? hideMenusAndOptions || (!isAdmin && customUI.Profiles[0].Dashboards.HideDashboardsFiltering) : false;
    var hideDownloadCheckbox = iscustomUIProfile ? (hideMenusAndOptions || (!isAdmin && customUI.Profiles[0].Dashboards.HideDownloadCheckbox)) : (ServerAppConfig.CanHideDownloadDashboard || false);
    var hideDownload = iscustomUIProfile ? hideMenusAndOptions || (!isAdmin && customUI.Profiles[0].Dashboards.HideDownload) : false;
    var hideFilterOverView = iscustomUIProfile ? hideMenusAndOptions || (!isAdmin && customUI.Profiles[0].Dashboards.HideFilterOverView) : false;
    var hideEdit = iscustomUIProfile ? hideMenusAndOptions || (!isAdmin && customUI.Profiles[0].Dashboards.HideEdit) : false;
    var hideMakePublic = iscustomUIProfile ? hideMenusAndOptions || (!isAdmin && customUI.Profiles[0].Dashboards.HideMakePublic) : false;
    var hideMakePrivate = iscustomUIProfile ? hideMenusAndOptions || (!isAdmin && customUI.Profiles[0].Dashboards.HideMakePrivate) : false;
    var hideGetLink = iscustomUIProfile ? hideMenusAndOptions || (!isAdmin && customUI.Profiles[0].Dashboards.HideGetLink) : false;
    var hideViews = iscustomUIProfile ? hideMenusAndOptions || (!isAdmin && customUI.Profiles[0].Dashboards.HideViews) : false;
    var hideViewSchedules = iscustomUIProfile ? hideMenusAndOptions || (!isAdmin && customUI.Profiles[0].Dashboards.HideViewSchedules) : false;
    var hideInfo = iscustomUIProfile ? hideMenusAndOptions || (!isAdmin && customUI.Profiles[0].Dashboards.HideInfo) : false;
    var hideSecurity = iscustomUIProfile ? hideMenusAndOptions || (!isAdmin && customUI.Profiles[0].Dashboards.HideSecurity) : false;
    var hideMove = iscustomUIProfile ? hideMenusAndOptions || (!isAdmin && customUI.Profiles[0].Dashboards.HideMove) : false;
    var hideCopy = iscustomUIProfile ? hideMenusAndOptions || (!isAdmin && customUI.Profiles[0].Dashboards.HideCopy) : false;
    var hideCreateSchedule = iscustomUIProfile ? hideMenusAndOptions || (!isAdmin && customUI.Profiles[0].Dashboards.HideCreateSchedule) : false;
    var hideVersionHistory = iscustomUIProfile ?  hideMenusAndOptions || (!isAdmin && customUI.Profiles[0].Dashboards.HideVersionHistory) : false;
    var hideDelete = iscustomUIProfile ? hideMenusAndOptions || (!isAdmin && customUI.Profiles[0].Dashboards.HideDelete) : false;
    var hideShare = iscustomUIProfile ? hideMenusAndOptions || (!isAdmin && customUI.Profiles[0].Dashboards.HideShare) : false;
    var hidePublish = iscustomUIProfile ? hideMenusAndOptions || (!isAdmin && customUI.Profiles[0].Dashboards.HidePublish) : false;
    var hideContextMenu = iscustomUIProfile ? hideMenusAndOptions || (!isAdmin && customUI.Profiles[0].Dashboards.HideContextMenu) : false;
    var hideTabSecurity = iscustomUIProfile ? hideMenusAndOptions || (!isAdmin && customUI.Profiles[0].Dashboards.HideTabSecurity) : false;
    var hideGetEmbedCode = iscustomUIProfile ? hideMenusAndOptions || (!isAdmin && customUI.Profiles[0].Dashboards.HideGetEmbedCode) : false;
    var customSortOption = customUI?.Profiles != null && !string.IsNullOrWhiteSpace(customUI.Profiles[0].ItemSorting) ? customUI.Profiles[0].ItemSorting : null;
    var customSortName = customSortOption != null && (customSortOption.ToLower() == "itemnameascending" || customSortOption.ToLower() == "itemnamedescending") ? "Name" : globalAppSettings.SystemSettings.ResourceType;
    var customSortDirection = customSortOption != null && customSortOption.ToLower() == "itemnameascending" ? "ascending" : globalAppSettings.SystemSettings.ResourceOrder.ToLower();
    var usageAnalytics = globalAppSettings.SystemSettings.UsageAnalytics;
    var getDashboardEmbedCode = globalAppSettings.SystemSettings.GetDashboardEmbedCode;
    bool hideDashboardInfoSection = samePagePreview ? hideAuthorName && hideCategoryName : hideAuthorName && hideCategoryName && hideModifiedDate;
    var granularPermissions = ViewBag.GranularPermissions as Dictionary<object, bool>;
    var itemAddPermissions = ViewBag.ItemAddOptions as Dictionary<ItemType, bool>;
    var partialViewsUrl = Url.Action("LoadPartialViews", "PartialView") + "?v=" + ServerAppConfig.ProductVersion + "&c=" + @System.Globalization.CultureInfo.CurrentCulture + "&isMobile=" + isMobile + "&page=" + (int)ItemType.Dashboard;
    var canCreateCategory = itemAddPermissions[ItemType.Category];
    var hacCreateDataSourcePermission = itemAddPermissions.ContainsKey(ItemType.Datasource) && itemAddPermissions[ItemType.Datasource];
    var itemsPartialScript = string.Empty;
    var isSharePublishAllowed = GlobalAppSettings.IsUrlInDnsList(globalAppSettings.DisplayUri);
    var isOracleDB = _globalAppSettings.DBSupport == DatabaseType.Oracle;
    var isDataSourceCreateDenied = GlobalAppSettings.IsUrlInDnsList(globalAppSettings.DisplayUri);
    var dataSourceCreateLimitCount = !ServerAppConfig.IsSelfHosted && !string.IsNullOrWhiteSpace(ServerAppConfig.AppSettings.DataSourceCreateLimitCount) ? ServerAppConfig.AppSettings.DataSourceCreateLimitCount : string.Empty;
    var canHideUploadDashboard =  GlobalAppSettings.IsUrlInDnsList(globalAppSettings.DisplayUri) && !_identityResponse.IsAdmin;
    var isSingleDatabaseMode = globalAppSettings.SystemSettings.ConfigurationMode == ConfigurationMode.SingleDatabaseForAllTenants;
    var isSandbox = ServerAppConfig.Sandbox.BI.Enabled;
}

<environment include="Development,CloudDevelopment">
    @{
        itemsPartialScript = this.Context.RequestServices.GetRequiredService<IFileVersionProvider>().AddFileVersionToPath(GlobalAppSettings.HttpPathBase, dashboardServerResourceUrl + "/cdn/scripts/items-partial-page.js");
    }
</environment>
<environment exclude="Development,CloudDevelopment">
    @{
        itemsPartialScript = this.Context.RequestServices.GetRequiredService<IFileVersionProvider>().AddFileVersionToPath(GlobalAppSettings.HttpPathBase, dashboardServerResourceUrl + "/cdn/scripts/items-partial-page.min.js");
    }
</environment>
@section scripts{
    <script>
        var partialViewsUrl = @Json.Serialize(partialViewsUrl);
        var itemsPartialScript = @Json.Serialize(itemsPartialScript);
        var isMobile = @Json.Serialize(isMobile);
        var buildVersion = "@ServerAppConfig.ProductVersion";
        $(function () {
            $.ajax({
                type: "GET",
                url: partialViewsUrl,
                async: true,
                success: function (response) {
                    $('#server-app-container #content-area').append(response);

                    var preloadLink = document.createElement("script");
                    preloadLink.type = "text/javascript";
                    preloadLink.src = itemsPartialScript;
                    document.head.appendChild(preloadLink);

                    var preloadLink1 = document.createElement("script");
                    preloadLink1.type = "text/javascript";
                    preloadLink1.src = createSlideshowScript;
                    document.head.appendChild(preloadLink1);
                    
                    var preloadLink2 = document.createElement("script");
                    preloadLink2.type = "text/javascript";
                    preloadLink2.src = itemActionScript;
                    document.head.appendChild(preloadLink2);

                },
            });
        });
    </script>
}

@section MainSection{
    <environment include="Development,CloudDevelopment">
        <link rel="stylesheet" asp-append-version="true" href="@dashboardServerResourceUrl/cdn/css/tile-dashboards-page.css" />
        <script asp-append-version="true" src="@dashboardServerResourceUrl/cdn/scripts/tile-dashboards-page.js"></script>
    </environment>
    <environment exclude="Development,CloudDevelopment">
        <link rel="stylesheet" asp-append-version="true" href="@dashboardServerResourceUrl/cdn/css/tile-dashboards-page.min.css" />
        <script asp-append-version="true" src="@dashboardServerResourceUrl/cdn/scripts/tile-dashboards-page.min.js"></script>
    </environment>

    <script>
        var searchKey = '@Html.Raw(ViewBag.searchKey)';
        var getItemUrl = "@Url.Action("GetItems", "Dashboards")";
        var favoriteItemUrl = "@Url.Action("MakeFavorite", "items")";
        var getCategories = "@Url.Action("RefreshCategoryList", "Dashboards")";
        var viewDashboardUrlAction = "@Url.Action("Dashboards", "Dashboards")";
        var editDashboardUrl = "@Url.Action("DashboardDesigner", "Designer")";
        var makePublicUrl = "@Url.Action("makeitempublic", "items")";
        var removePublicUrl = "@Url.Action("RemovePublic", "items")";
        var makeUnlistUrl = "@Url.Action("MakeItemUnlist", "items")";
        var privacySettingsUrl = "@Url.Action("PrivacySettings", "items")";
        var getLinkDialogViewUrl = "@Url.Action("GetLinkView", "items")";
        var viewSchedulesUrl = "@Url.Action("Schedules", "Scheduler")";
        var copyIframeUrl = "@Url.Action("copyviewitem", "items")";
        var movemultitabIframeUrl = "@Url.Action("movemultitabviewitem", "items")";
        var copyMultiTabDashboardUrl = "@Url.Action("copymultiviewitem", "items")";
        var moveIframeUrl = "@Url.Action("moveviewitem", "items")";
        var getdashboarddetailsUrl = "@Url.Action("getdashboarddetails", "dashboards")";
        var getDataSourceDetailsUrl = "@Url.Action("getdatasources", "dashboards")";
        var deleteItemUrl = "@Url.Action("deleteitem", "items")";
        var deleteConfirmationUrl = "@Url.Action("deleteconfirmation", "items")";
        var getViewsByItemIdUrl = "@Url.Action("GetViewsByItemId","Items")";
        var dashboardsUrl = "@Url.Action("dashboards", "dashboards")";
        var itemSettingsAccessUrl = "@Url.Action("itemsettingsaccess", "dashboards")";
        var downloadIframeUrl = "@Url.Action("DownloadViewItem", "items")";
        var downloadedResourcesUrl = "@Url.Action("GetPublishedItems", "publish")" + "?tab=offline-files";
        var uploadIframeUrl = "@Url.Action("UploadIframe", "Dashboards")";
        var uploadDashboardStatusUrl = "@Url.Action("UploadDashboardStatus", "Dashboards")";
        var editDashboardEmbedUrl = "@Url.Action("DashboardDesigner", "Designer")";
        var checkCategoriesExistUrl = "@Url.Action("CheckCategoriesExist", "Dashboards")";
        var validateDataSourceCountUrl = "@Url.Action("ValidateDataSourceCreateLimit", "Items")";
        var resourceLimitationCountUrl = "@Url.Action("ResourceCreateLimit", "Items")";
        var currentUserId = @currentUserId;
        var isMaster = @Json.Serialize(globalAppSettings.SystemSettings.IsMaster);
        var isSelfHosted = @Json.Serialize(ServerAppConfig.IsSelfHosted);
        var isMarkItemsPublic = @Json.Serialize(globalAppSettings.SystemSettings.IsMarkItemsPublic);
        var isAdmin = @Json.Serialize(Convert.ToBoolean(Context.Session.GetString("IsAdmin")));
        var samePagePreview = @Json.Serialize(samePagePreview);
        var isSharePublishAllowed = @Json.Serialize(isSharePublishAllowed);
        var hideAuthorName = @Json.Serialize(hideAuthorName);
        var hideMultitabText = @Json.Serialize(hideMultitabText);
        var hideSortOption = @Json.Serialize(hideSortOption);
        var hideCategoryName = @Json.Serialize(hideCategoryName);
        var hideDescription = @Json.Serialize(hideDescription);
        var hideModifiedDate = @Json.Serialize(hideModifiedDate);
        var hideDashboardInfoSection = @Json.Serialize(hideDashboardInfoSection);
        var hideFilterOverView = @Json.Serialize(hideFilterOverView);
        var hideEdit = @Json.Serialize(hideEdit);
        var hideMakePublic = @Json.Serialize(hideMakePublic);
        var hideMakePrivate = @Json.Serialize(hideMakePrivate);
        var hideGetLink = @Json.Serialize(hideGetLink);
        var hideViews = @Json.Serialize(hideViews);
        var hideViewSchedules = @Json.Serialize(hideViewSchedules);
        var hideInfo = @Json.Serialize(hideInfo);
        var hideSecurity = @Json.Serialize(hideSecurity);
        var hideMove = @Json.Serialize(hideMove);
        var hideCopy = @Json.Serialize(hideCopy);
        var hideCreateSchedule = @Json.Serialize(hideCreateSchedule);
        var hideVersionHistory = @Json.Serialize(hideVersionHistory);
        var hideDelete = @Json.Serialize(hideDelete);
        var hideShare = @Json.Serialize(hideShare);
        var hidePublish = @Json.Serialize(hidePublish);
        var hideDownloadCheckbox = @Json.Serialize(hideDownloadCheckbox);
        var hideDownload = @Json.Serialize(hideDownload);
        var hideDashboardsFiltering = @Json.Serialize(hideDashboardsFiltering);
        var hideFavorite = @Json.Serialize(hideFavorite);
        var hideContextMenu = @Json.Serialize(hideContextMenu);
        var hideTabSecurity = @Json.Serialize(hideTabSecurity);
        var hideGetEmbedCode = @Json.Serialize(hideGetEmbedCode);
        var canHideUploadDashboard = @Json.Serialize(canHideUploadDashboard);
        var schemesDetails = @Html.Raw(Json.Serialize(schemes));
        var usageAnalytics = @Json.Serialize(usageAnalytics);
        var getDashboardEmbedCode = @Json.Serialize(getDashboardEmbedCode);
        var designerInstallationHelpUrl = "@(ServerAppConfig.AppSettings.Documentation.BaseUri + GlobalAppSettings.GetHelpSiteUrl(HelpSiteUrlNames.DesignerInstallation))";
        var usageAnalyticsHelpUrl = helpSiteBaseUrl + "@GlobalAppSettings.GetHelpSiteUrl(HelpSiteUrlNames.UsageAnalyticsDashboard)";
        var categoryList;
        if ('@categories' != '') {
            categoryList = @Html.Raw(categories);
        }
        else {
            categoryList = "";
        }
        var granularPermissions = @Html.Raw(JsonConvert.SerializeObject(granularPermissions));
        var enableCloneDashboard = @Json.Serialize(ServerAppConfig.EnableClone);
        var dashboardItemCount = "@itemsCount[ItemType.Dashboard]";
        var sortOption = [{ "Name": '@customSortName', "Direction": '@customSortDirection' }];
        var enableSameTabLinkTarget = @ServerAppConfig.EnableSameTabLinkTarget.ToString().ToLower();

        var canCreateCategory = @Json.Serialize(canCreateCategory);
        var hacCreateDataSourcePermission = "@hacCreateDataSourcePermission"
        var copyItemType = "@Convert.ToInt32(ItemType.Dashboard)";
        var isDataSourceCreateDenied = @Json.Serialize(isDataSourceCreateDenied);
        var dataSourceCreateLimitCount = "@dataSourceCreateLimitCount";
    </script>
    @if (samePagePreview && !isMobile)
    {
        <div class="preloader-wrap viewer-blue-loader" style="width: 100%;height: 100%; position: fixed; top: 0; bottom: 0; background: white; z-index : 2;">
            <div id="loader_image" align="center" style="position:relative;top:45%;">
                <div class="loader-blue loader-icon" id="loader-icon">
                    <svg class="circular">
                        <circle class="path" cx="27" cy="27" r="20" fill="none" stroke-width="4" stroke-miterlimit="10"></circle>
                    </svg>
                </div>
            </div>
        </div>
    }
    @if (itemsCount != null && itemsCount.ContainsKey(ItemType.Dashboard) && itemsCount[ItemType.Dashboard] > 0)
    {
        <div class="dashboard-main-container no-padding" ng-controller="DashboardCtrl">
            <div id="dashboard-page-container" class="admin-page-container no-padding">
                <div class="mobile-header col-12 ng-hide" ng-show="isMobile && !samePagePreview" ng-click="expandCategorySection()">
                    <span class="category-icon su" ng-class="activeMenu === @((int)DisplayCategory.AllDashboards) ? 'su-all-dashboards' : activeMenu === @((int)DisplayCategory.DraftItems) ? 'su-draft' : 'su-categoried-dashboard'"></span>
                    <span class="mobile-category-title" ng-bind="activeMenuLabel">@T["All Dashboards"]</span>
                    <span class="su no-margin mobile-section-expand-collapse" ng-class="expandCatSec ? 'su-vertical-collapse' : 'su-vertical-expand'"></span>
                </div>

                @if (samePagePreview)
                {
                    <div id="category-panel-dropdown" class="dropdown" ng-show="samePagePreview">
                        <button class="btn btn-default dropdown-toggle" data-bs-toggle="dropdown" type="button">
                            <span class="category-icon su" ng-class="activeMenu === @((int)DisplayCategory.AllDashboards) ? 'su-all-dashboards' : activeMenu === @((int)DisplayCategory.DraftItems) ? 'su-draft' : 'su-categoried-dashboard'"></span>
                            <span class="mobile-category-title" ng-bind="activeMenuLabel === '@T["All Dashboards"]' ? '@T["All"]' : activeMenuLabel"></span>
                            <span class="su no-margin mobile-section-expand-collapse" ng-class="expandCatSec ? 'su-vertical-collapse' : 'su-vertical-expand'"></span>
                        </button>
                        <ul class="dropdown-menu category-bar-ul">
                            <li class="category-item" ng-class="{active : activeMenu === @((int)DisplayCategory.AllDashboards)}" ng-click="setActive(@((int)DisplayCategory.AllDashboards), '@T["All Dashboards"]', $event)">
                                <span class="category-icon su su-all-dashboards"></span>
                                <span class="category-bar-header all-dashboard-header">@T["All"]</span>
                            </li>
                            <li class="category-item" id="draft-items" ng-show="canCreateDashboard" ng-class="{active : activeMenu === @((int)DisplayCategory.DraftItems)}" ng-click="setActive(@((int)DisplayCategory.DraftItems), '@T["Drafts"]', $event)">
                                <span class="category-icon su su-clock"></span>
                                <span class="category-bar-header">@T["Drafts"]</span>
                            </li>
                            <li class="category-item" id="upload-draft-items" ng-show="!isMobile && !isTablet && !samePagePreview && canCreateDashboard" ng-class="{active : activeMenu === @((int)DisplayCategory.UploadDrafts)}" ng-click="setActive(@((int)DisplayCategory.UploadDrafts), '@T["Upload Drafts"]', $event)">
                                <span class="category-icon su su-clock"></span>
                                <span class="category-bar-header">@T["Upload Drafts"]</span>
                            </li>
                            @if (!isSingleDatabaseMode)
                            {
                                <li class="category-item ng-hide" ng-show="usageAnalytics && (isAdmin || hasDashboardSettingsPermission)" ng-class="{active : activeMenu === @((int)DisplayCategory.UsageAnalytics)}" ng-click="setActive(@((int)DisplayCategory.UsageAnalytics), '@T["Usage Analytics"]', $event)">
                                    <span class="category-icon su su-nav-dashboard"></span>
                                    <span class="category-bar-header">@T["Enterprise Insights"]</span>
                                </li>
                            }
                            <li class="category-list">
                                <div class="col-12 no-padding category-list-container">
                                    <div class="col-12 no-padding category-name-section" ng-click="expandCategoryList()">
                                        <span class="category-icon su su-categoried-dashboard"></span>
                                        <span class="category-bar-header">@T["Categories"]</span>
                                    </div>
                                    <div class="category-sort-container no-padding">
                                        <div id="category-sort-dropdown" class="col-10 category-filter-sort listing-dropdown dropdown no-padding">
                                            <button class="btn btn-default dropdown-toggle" data-bs-toggle="dropdown" type="button">
                                                <span class="col-2 no-padding sort-icon">
                                                    <span class="category-select-options">
                                                        <i class="su su-sort"></i>
                                                    </span>
                                                </span>
                                            </button>
                                            <ul class="dropdown-menu category-sort-filter-menu">
                                                <li ng-class="{selected : categorySelectedSort === 'Name' && categorySortDirection == 'descending'}" ng-click="setCategorySelectedSort($event, 'Name', 'descending')">
                                                    <a class="category-sort-options" href="javascript:void(0);">
                                                        <i class="su su-tick"></i>
                                                        <span class="search-option">@T["Name - Descending"]</span>
                                                    </a>
                                                </li>
                                                <li ng-class="{selected : categorySelectedSort === 'Name' && categorySortDirection == 'ascending'}" ng-click="setCategorySelectedSort($event, 'Name', 'ascending')">
                                                    <a class="category-sort-options" href="javascript:void(0);">
                                                        <i class="su su-tick"></i>
                                                        <span class="search-option">@T["Name - Ascending"]</span>
                                                    </a>
                                                </li>
                                                <li ng-class="{selected : categorySelectedSort === 'ModifiedDate' && categorySortDirection == 'descending'}" ng-click="setCategorySelectedSort($event, 'ModifiedDate', 'descending')">
                                                    <a class="category-sort-options" href="javascript:void(0);">
                                                        <i class="su su-tick"></i>
                                                        <span class="search-option">@T["Modified - Descending"]</span>
                                                    </a>
                                                </li>
                                                <li ng-class="{selected : categorySelectedSort === 'ModifiedDate' && categorySortDirection == 'ascending'}" ng-click="setCategorySelectedSort($event, 'ModifiedDate', 'ascending')">
                                                    <a class="category-sort-options" href="javascript:void(0);">
                                                        <i class="su su-tick"></i>
                                                        <span class="search-option">@T["Modified - Ascending"]</span>
                                                    </a>
                                                </li>
                                                <li ng-class="{selected : categorySelectedSort === 'Count' && categorySortDirection == 'descending'}" ng-click="setCategorySelectedSort($event, 'Count', 'descending')">
                                                    <a class="category-sort-options" href="javascript:void(0);">
                                                        <i class="su su-tick"></i>
                                                        <span class="search-option">@T["Count - Descending"]</span>
                                                    </a>
                                                </li>
                                                <li ng-class="{selected : categorySelectedSort === 'Count' && categorySortDirection == 'ascending'}" ng-click="setCategorySelectedSort($event, 'Count', 'ascending')">
                                                    <a class="category-sort-options" href="javascript:void(0);">
                                                        <i class="su su-tick"></i>
                                                        <span class="search-option">@T["Count - Ascending"]</span>
                                                    </a>
                                                </li>
                                            </ul>
                                        </div>
                                    </div>
                                </div>
                                <div class="col-12 no-padding ng-hide category-slide" ng-show="(categoryDataBindComplete || categoryList.length == 0) && expand">
                                    <div class="category-search-area">
                                        <input type="password" name="password" style="display:none;">
                                        <input type="text" class="category-search-box float-start no-margin" ng-model="categorySearchQuery" ng-init="categorySearchQuery = ''" ng-change="doCategorySearch()" ng-focus="isCategorySearchFocus = true" ng-blur="isCategorySearchFocus = false" placeholder="@T["Search Categories"]" />
                                        <span class="su close-icon su-inner-close float-end no-margin ng-hide" ng-show="categorySearchQuery != ''" ng-click="onCategorySearchClear()" ng-class="{focus : isCategorySearchFocus}" data-bs-toggle="clear-tooltip" data-container="body" title="@T["Clear search"]"></span>
                                        <span class="su su-search float-end no-margin" ng-show="categorySearchQuery == ''" ng-class="{focus : isCategorySearchFocus}" title="@T["Search"]" data-bs-toggle="search-tooltip"></span>
                                    </div>
                                    <div id="parent-category-scroll-element">
                                        <div id="category-scroll-element" class="col-12 no-padding">
                                            <div id="category-scroll-content" class="col-12 no-padding">
                                                <ul ng-repeat="categoryItem in categoryList" class="col-12 no-padding" category-repeat-directive data-dashboard-id = "{{categoryItem.Id}}">
                                                    <li class="category-item">
                                                        <div class="col-12 no-padding category-item" ng-class="{'active': activeMenu === categoryItem.Id}" ng-click="setActive(categoryItem.Id, categoryItem.Name, $event, 0)" data-bs-toggle="category-list-tooltip" data-bs-placement="right" data-container="body" title="<span class='dashboard-list-tooltip'><span class='tooltip-row'><span class='tooltip-label'>@T["Name"].Value: </span><span class='tooltip-description'>{{categoryItem.Name}}</span></span>{{categoryItem.Description != '' ? '<span class=\'tooltip-row\'><span class=\'tooltip-label\'>@T["Description"].Value: </span><span class=\'tooltip-description\'>' + categoryItem.Description + '</span></span>' : ''}}<span class='tooltip-row'><span class='tooltip-label'>@T["Owner Name"].Value: </span><span class='tooltip-description'>{{categoryItem.CreatedByDisplayName}} </span></span><span class='tooltip-row'><span class='tooltip-label'>@T["Added Date"].Value: </span><span class='tooltip-description'>{{categoryItem.CreatedDate}}</span></span></span>" data-bs-html="true">
                                                            <div id="category-name-div">
                                                                <span ng-class="{'su su-angle-right': categoryItem.SubCategory.length > 0}" class="arrow-icon"></span>
                                                                <a class="category-name" ng-class="{'category-padding': categoryItem.SubCategory.length <= 0}" id="category-item" href="@Html.Encode(dashboardUrl + "?category={{categoryItem.Name}}")">{{categoryItem.Name}}</a>
                                                            </div>
                                                            <span class="count-container">
                                                                <span class="category-count badge badge-primary badge-pill">{{categoryItem.ReportsCount}}</span>
                                                            </span>
                                                            <ul class="category-settings">
                                                                <li class="dropdown category-context-menu cat-settings-li" ng-if="(categoryItem.CreatedById== currentUserId || isAdmin || categoryItem.CanWrite || categoryItem.CanDelete || hasCategorySharePermission) && !isTablet">
                                                                    <span class="cat-settings dropdown-toggle no-margin no-padding su su-options" title="@T["Actions"]" data-bs-placement="top">
                                                                    </span>
                                                                    <ul class="dropdown-menu" role="menu">
                                                                        <li ng-if="categoryItem.CanWrite">
                                                                            <a class="EditCategory" href="javascript:void(0)" title="" ng-click="addSubCategory(categoryItem.Id, categoryItem.Name, categoryItem.Description)">
                                                                                <i class="su su-sub-category"></i>
                                                                                <span>@T["Add Sub Category"]</span>
                                                                            </a>
                                                                        </li>
                                                                        <li ng-if="!isSharePublishAllowed && (categoryItem.CreatedById== currentUserId || isAdmin || hasCategorySharePermission)">
                                                                            <a href="javascript:void(0);" class="item-permissions" title="" ng-click="sharePermission(categoryItem)">
                                                                                <i class="su su-manage-permission"></i>
                                                                                <span>@T["Sharing Permissions"]</span>
                                                                            </a>
                                                                            <hr ng-if="categoryItem.CanWrite || categoryItem.CanDelete" class="no-margin" />
                                                                        </li>
                                                                        <li ng-if="categoryItem.CanWrite">
                                                                            <a class="EditCategory" href="javascript:void(0)" title="" ng-click="editCategory(categoryItem.Id, categoryItem.Name, categoryItem.Description, categoryItem.Id)">
                                                                                <i class="su su-edit"></i>
                                                                                <span>@T["Update"]</span>
                                                                            </a>
                                                                        </li>
                                                                        <li ng-if="categoryItem.CanDelete">
                                                                            <a class="DeleteCategory" href="javascript:void(0)" ng-click="deleteCategory(categoryItem)">
                                                                                <i class="su su-delete"></i>
                                                                                <span>@T["Delete"]</span>
                                                                            </a>
                                                                        </li>
                                                                    </ul>
                                                                </li>
                                                            </ul>
                                                        </div>
                                                        <ul class="nested-li show-sub-category">
                                                            <li  class = "category-list-item" ng-repeat="subCategoryItem in categoryItem.SubCategory" category-repeat-directive data-dashboard-id = "{{subCategoryItem.Id}}">
                                                                <div class="col-12 no-padding category-item sub-category-panel" ng-click="setActiveSubcategory(subCategoryItem.Id, subCategoryItem.Name, $event, 1)" ng-class="{active : activeMenu === subCategoryItem.Id}" data-bs-toggle="category-list-tooltip" data-bs-placement="right" data-container="body" title="<span class='dashboard-list-tooltip'><span class='tooltip-row'><span class='tooltip-label'>@T["Name"].Value: </span><span class='tooltip-description'>{{subCategoryItem.Name}}</span></span>{{subCategoryItem.Description != '' ? '<span class=\'tooltip-row\'><span class=\'tooltip-label\'>@T["Description"].Value: </span><span class=\'tooltip-description\'>' + subCategoryItem.Description + '</span></span>' : ''}}<span class='tooltip-row'><span class='tooltip-label'>@T["Owner Name"].Value: </span><span class='tooltip-description'>{{subCategoryItem.CreatedByDisplayName}} </span></span><span class='tooltip-row'><span class='tooltip-label'>@T["Added Date"].Value: </span><span class='tooltip-description'>{{subCategoryItem.CreatedDate}}</span></span></span>" data-bs-html="true">
                                                                    <div class="sub-category-align">
                                                                        <span ng-class="{'su su-angle-right': subCategoryItem.SubCategory.length > 0}" class="arrow-icon"></span>
                                                                        <a class="category-name" id="sub-category-item" href="@Html.Encode(dashboardUrl + "?category={{subCategoryItem.Name}}")">{{subCategoryItem.Name}}</a>
                                                                    </div>
                                                                    <span class="count-container">
                                                                        <span class="category-count badge badge-primary badge-pill">{{subCategoryItem.ReportsCount}}</span>
                                                                    </span>
                                                                    <ul class="category-settings">
                                                                        <li class="dropdown category-context-menu cat-settings-li" ng-if="(subCategoryItem.CreatedById== currentUserId || isAdmin || subCategoryItem.CanWrite || subCategoryItem.CanDelete || hasCategorySharePermission) && !isTablet">
                                                                            <span class="cat-settings dropdown-toggle no-margin no-padding su su-options" title="@T["Actions"]" data-bs-placement="top">
                                                                            </span>
                                                                            <ul class="dropdown-menu" role="menu">
                                                                                <li ng-if="subCategoryItem.CanWrite">
                                                                                    <a class="EditCategory" href="javascript:void(0)" title="" ng-click="addSubCategory(subCategoryItem.Id, subCategoryItem.Name, subCategoryItem.Description)">
                                                                                        <i class="su su-sub-category"></i>
                                                                                        <span>@T["Add Sub Category"]</span>
                                                                                    </a>
                                                                                </li>
                                                                                <li ng-if="!isSharePublishAllowed && (subCategoryItem.CreatedById== currentUserId || isAdmin || hasCategorySharePermission)">
                                                                                    <a href="javascript:void(0);" class="item-permissions" title="" ng-click="sharePermission(subCategoryItem)">
                                                                                        <i class="su su-manage-permission"></i>
                                                                                        <span>@T["Sharing Permissions"]</span>
                                                                                    </a>
                                                                                    <hr ng-if="subCategoryItem.CanWrite || subCategoryItem.CanDelete" class="no-margin" />
                                                                                </li>
                                                                                <li ng-if="subCategoryItem.CanWrite">
                                                                                    <a class="EditCategory" href="javascript:void(0)" title="" ng-click="editCategory(subCategoryItem.Id, subCategoryItem.Name, subCategoryItem.Description, categoryItem.Id)">
                                                                                        <i class="su su-edit"></i>
                                                                                        <span>@T["Update"]</span>
                                                                                    </a>
                                                                                </li>
                                                                                <li ng-if="subCategoryItem.CanDelete">
                                                                                    <a class="DeleteCategory" href="javascript:void(0)" ng-click="deleteCategory(subCategoryItem)">
                                                                                        <i class="su su-delete"></i>
                                                                                        <span>@T["Delete"]</span>
                                                                                    </a>
                                                                                </li>
                                                                            </ul>
                                                                        </li>
                                                                    </ul>
                                                                </div>
                                                                <ul class="nested-li show-sub-category">
                                                                    <li  class = "category-list-item"  ng-repeat="subCategoryItemTree in subCategoryItem.SubCategory" category-repeat-directive data-dashboard-id = "{{subCategoryItemTree.Id}}">
                                                                        <div class="col-12 no-padding category-item sub-category-panel" ng-click="setActiveSubcategory(subCategoryItemTree.Id, subCategoryItemTree.Name, $event, 2)" ng-class="{active : activeMenu === subCategoryItemTree.Id}" data-bs-toggle="category-list-tooltip" data-bs-placement="right" data-container="body" title="<span class='dashboard-list-tooltip'><span class='tooltip-row'><span class='tooltip-label'>@T["Name"].Value: </span><span class='tooltip-description'>{{subCategoryItemTree.Name}}</span></span>{{subCategoryItemTree.Description != '' ? '<span class=\'tooltip-row\'><span class=\'tooltip-label\'>@T["Description"].Value: </span><span class=\'tooltip-description\'>' + subCategoryItemTree.Description + '</span></span>' : ''}}<span class='tooltip-row'><span class='tooltip-label'>@T["Owner Name"].Value: </span><span class='tooltip-description'>{{subCategoryItemTree.CreatedByDisplayName}} </span></span><span class='tooltip-row'><span class='tooltip-label'>@T["Added Date"].Value: </span><span class='tooltip-description'>{{subCategoryItemTree.CreatedDate}}</span></span></span>" data-bs-html="true">
                                                                            <div class="sub-categorytree-align">
                                                                                <span ng-class="{'su su-angle-right': subCategoryItemTree.SubCategory.length > 0}" class="arrow-icon"></span>
                                                                                <a class="category-name" id="sub-categorytree-item" href="@Html.Encode(dashboardUrl + "?category={{subCategoryItemTree.Name}}")">{{subCategoryItemTree.Name}}</a>
                                                                            </div>
                                                                            <span class="count-container">
                                                                                <span class="category-count badge badge-primary badge-pill">{{subCategoryItemTree.ReportsCount}}</span>
                                                                            </span>
                                                                            <ul class="category-settings">
                                                                                <li class="dropdown category-context-menu cat-settings-li" ng-if="(subCategoryItemTree.CreatedById== currentUserId || isAdmin || subCategoryItemTree.CanWrite || subCategoryItemTree.CanDelete || hasCategorySharePermission) && !isTablet">
                                                                                    <span class="cat-settings dropdown-toggle no-margin no-padding su su-options" title="@T["Actions"]" data-bs-placement="top">
                                                                                    </span>
                                                                                    <ul class="dropdown-menu" role="menu">
                                                                                        <li ng-if="subCategoryItemTree.CanWrite">
                                                                                            <a class="EditCategory" href="javascript:void(0)" title="" ng-click="addSubCategory(subCategoryItemTree.Id, subCategoryItemTree.Name, subCategoryItemTree.Description)">
                                                                                                <i class="su su-sub-category"></i>
                                                                                                <span>@T["Add Sub Category"]</span>
                                                                                            </a>
                                                                                        </li>
                                                                                        <li ng-if="!isSharePublishAllowed && (subCategoryItemTree.CreatedById== currentUserId || isAdmin || hasCategorySharePermission)">
                                                                                            <a href="javascript:void(0);" class="item-permissions" title="" ng-click="sharePermission(subCategoryItemTree)">
                                                                                                <i class="su su-manage-permission"></i>
                                                                                                <span>@T["Sharing Permissions"]</span>
                                                                                            </a>
                                                                                            <hr ng-if="subCategoryItemTree.CanWrite || subCategoryItemTree.CanDelete" class="no-margin" />
                                                                                        </li>
                                                                                        <li ng-if="subCategoryItemTree.CanWrite">
                                                                                            <a class="EditCategory" href="javascript:void(0)" title="" ng-click="editCategory(subCategoryItemTree.Id, subCategoryItemTree.Name, subCategoryItemTree.Description, subCategoryItem.Id)">
                                                                                                <i class="su su-edit"></i>
                                                                                                <span>@T["Update"]</span>
                                                                                            </a>
                                                                                        </li>
                                                                                        <li ng-if="subCategoryItemTree.CanDelete">
                                                                                            <a class="DeleteCategory" href="javascript:void(0)" ng-click="deleteCategory(subCategoryItemTree)">
                                                                                                <i class="su su-delete"></i>
                                                                                                <span>@T["Delete"]</span>
                                                                                            </a>
                                                                                        </li>
                                                                                    </ul>
                                                                                </li>
                                                                            </ul>
                                                                        </div>
                                                                        <ul class="nested-li show-sub-category">
                                                                            <li class="category-list-item" ng-repeat="subCategoryItemTreelast in subCategoryItemTree.SubCategory" category-repeat-directive data-dashboard-id = "{{subCategoryItemTreelast.Id}}">
                                                                                <div class="col-12 no-padding category-item sub-category-panel" ng-click="setActiveSubcategory(subCategoryItemTreelast.Id, subCategoryItemTreelast.Name, $event, 3)" ng-class="{active : activeMenu === subCategoryItemTreelast.Id}" data-bs-toggle="category-list-tooltip" data-bs-placement="right" data-container="body" title="<span class='dashboard-list-tooltip'><span class='tooltip-row'><span class='tooltip-label'>@T["Name"].Value: </span><span class='tooltip-description'>{{subCategoryItemTreelast.Name}}</span></span>{{subCategoryItemTreelast.Description != '' ? '<span class=\'tooltip-row\'><span class=\'tooltip-label\'>@T["Description"].Value: </span><span class=\'tooltip-description\'>' + subCategoryItemTreelast.Description + '</span></span>' : ''}}<span class='tooltip-row'><span class='tooltip-label'>@T["Owner Name"].Value: </span><span class='tooltip-description'>{{subCategoryItemTreelast.CreatedByDisplayName}} </span></span><span class='tooltip-row'><span class='tooltip-label'>@T["Added Date"].Value: </span><span class='tooltip-description'>{{subCategoryItemTreelast.CreatedDate}}</span></span></span>" data-bs-html="true">
                                                                                    <div class="sub-categorytree-align subcategory-final-level">
                                                                                        <a class="category-name" id="sub-categorytreelast-item" href="@Html.Encode(dashboardUrl + "?category={{subCategoryItemTreelast.Name}}")">{{subCategoryItemTreelast.Name}}</a>
                                                                                    </div>
                                                                                    <span class="count-container">
                                                                                        <span class="category-count badge badge-primary badge-pill">{{subCategoryItemTreelast.ReportsCount}}</span>
                                                                                    </span>
                                                                                    <ul class="category-settings">
                                                                                        <li class="dropdown category-context-menu cat-settings-li" ng-if="(subCategoryItemTreelast.CreatedById== currentUserId || isAdmin || subCategoryItemTreelast.CanWrite || subCategoryItemTreelast.CanDelete || hasCategorySharePermission) && !isTablet">
                                                                                            <span class="cat-settings dropdown-toggle no-margin no-padding su su-options" title="@T["Actions"]" data-bs-placement="top">
                                                                                            </span>
                                                                                            <ul class="dropdown-menu" role="menu">
                                                                                                <li ng-if="!isSharePublishAllowed && (subCategoryItemTreelast.CreatedById== currentUserId || isAdmin || hasCategorySharePermission)">
                                                                                                    <a href="javascript:void(0);" class="item-permissions" title="" ng-click="sharePermission(subCategoryItemTreelast)">
                                                                                                        <i class="su su-manage-permission"></i>
                                                                                                        <span>@T["Sharing Permissions"]</span>
                                                                                                    </a>
                                                                                                    <hr ng-if="subCategoryItemTreelast.CanWrite || subCategoryItemTreelast.CanDelete" class="no-margin" />
                                                                                                </li>
                                                                                                <li ng-if="subCategoryItemTreelast.CanWrite">
                                                                                                    <a class="EditCategory" href="javascript:void(0)" title="" ng-click="editCategory(subCategoryItemTreelast.Id, subCategoryItemTreelast.Name, subCategoryItemTreelast.Description, subCategoryItemTree.Id)">
                                                                                                        <i class="su su-edit"></i>
                                                                                                        <span>@T["Update"]</span>
                                                                                                    </a>
                                                                                                </li>
                                                                                                <li ng-if="subCategoryItemTreelast.CanDelete">
                                                                                                    <a class="DeleteCategory" href="javascript:void(0)" ng-click="deleteCategory(subCategoryItemTreelast)">
                                                                                                        <i class="su su-delete"></i>
                                                                                                        <span>@T["Delete"]</span>
                                                                                                    </a>
                                                                                                </li>
                                                                                            </ul>
                                                                                        </li>
                                                                                    </ul>
                                                                                </div>
                                                                            </li>
                                                                        </ul>
                                                                    </li>
                                                                </ul>
                                                            </li>
                                                        </ul>
                                                    </li>
                                                </ul>
                                                
                                                <div class="category-empty-message-div col-12 ng-hide" ng-show="filteredCategory.length == 0 || categoryList.length == 0">
                                                    <span class="category-empty-message">@T["No categories available to display."]</span>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </li>
                        </ul>
                        <div class=" col-3 dashboard-sort-container ng-hide no-padding" ng-show="!showSearch && !hideSortOption && !hideDashboardsFiltering">
                            <div id="dashboard-sort-dropdown" class="col-10 dashboard-filter-sort listing-dropdown dropdown no-padding">
                                <button class="btn btn-default dropdown-toggle" data-bs-toggle="dropdown" type="button">
                                    <span class="col-2 no-padding sort-icon">
                                        <span class="dashboard-select-options">
                                            <i class="su su-sort"></i>
                                        </span>
                                    </span>
                                </button>
                                <ul class="dropdown-menu dashboard-sort-filter-menu">
                                        <li ng-class="{selected : selectedSort === 'Name' && sortDirection == 'descending'}" ng-click="setSelectedSort($event, 'Name', 'descending')">
                                            <a class="dashboard-sort-options" href="javascript:void(0);">
                                            <i class="su su-tick"></i>
                                                <span class="search-option">@T["Name - Descending"]</span>
                                            </a>
                                        </li>
                                        <li ng-class="{selected : selectedSort === 'Name' && sortDirection == 'ascending'}" ng-click="setSelectedSort($event, 'Name', 'ascending')">
                                            <a class="dashboard-sort-options" href="javascript:void(0);">
                                            <i class="su su-tick"></i>
                                                <span class="search-option">@T["Name - Ascending"]</span>
                                            </a>
                                        </li>
                                        <li ng-class="{selected : selectedSort === 'ModifiedDate' && sortDirection == 'descending'}" ng-click="setSelectedSort($event, 'ModifiedDate', 'descending')">
                                            <a class="dashboard-sort-options" href="javascript:void(0);">
                                            <i class="su su-tick"></i>
                                                <span class="search-option">@T["Modified - Descending"]</span>
                                            </a>
                                        </li>
                                        <li ng-class="{selected : selectedSort === 'ModifiedDate' && sortDirection == 'ascending'}" ng-click="setSelectedSort($event, 'ModifiedDate', 'ascending')">
                                            <a class="dashboard-sort-options" href="javascript:void(0);">
                                            <i class="su su-tick"></i>
                                                <span class="search-option">@T["Modified - Ascending"]</span>
                                            </a>
                                        </li>
                                </ul>
                            </div>
                        </div>
                        <div class="col-3 dashboard-filter-container ng-scope no-padding no-margin ng-hide" ng-show="!showSearch && activeMenu !== @((int)DisplayCategory.DraftItems) && activeMenu !== @((int)DisplayCategory.UploadDrafts)">
                            <div id="dashboard-filter-dropdown" class="col-10 dashboard-filter-sort listing-dropdown dropdown no-padding" ng-if="activeMenu !== @((int)DisplayCategory.DraftItems) && activeMenu !== @((int)DisplayCategory.UsageAnalytics) && !hideFilterOverView">
                                <button class="btn btn-default dropdown-toggle" data-bs-toggle="dropdown" type="button">
                                    <span class="col-2 filter-icon" ng-if="activeMenu !== @((int)DisplayCategory.DraftItems) && activeMenu !== @((int)DisplayCategory.UsageAnalytics)">
                                        <span class="dashboard-select-options">
                                            <i class="su su-filter"></i>
                                        </span>
                                    </span>
                                </button>
                                <ul class="dropdown-menu dashboard-sort-filter-menu dashboard-listing-type-list">
                                    <li ng-class="{selected : selectedFilter === @((int)DisplayCategory.AllDashboards)}" ng-click="setSelectedFilter($event, @((int)DisplayCategory.AllDashboards))">
                                        <a class="dashboard-sort-options" href="javascript:void(0);">
                                            <i class="su su-tick"></i>
                                            <span class="search-option">@T["All"]</span>
                                        </a>
                                    </li>
                                    <li ng-class="{selected : selectedFilter === @((int)DisplayCategory.FavouriteItems)}" ng-click="setSelectedFilter($event, @((int)DisplayCategory.FavouriteItems))">
                                        <a class="dashboard-sort-options" href="javascript:void(0);">
                                            <i class="su su-tick"></i>
                                            <span class="search-option">@T["Favorites"]</span>
                                        </a>
                                    </li>
                                    <li ng-class="{selected : selectedFilter ===@((int)DisplayCategory.PublicItems)}" ng-click="setSelectedFilter($event, @((int)DisplayCategory.PublicItems))">
                                        <a class="dashboard-sort-options" href="javascript:void(0);">
                                            <i class="su su-tick"></i>
                                            <span class="search-option">@T["Public"]</span>
                                        </a>
                                    </li>
                                    <li ng-class="{selected : selectedFilter === @((int)DisplayCategory.OwnedByMe)}" ng-click="setSelectedFilter($event, @((int)DisplayCategory.OwnedByMe))">
                                        <a class="dashboard-sort-options" href="javascript:void(0);">
                                            <i class="su su-tick"></i>
                                            <span class="search-option">@T["Owned by me"]</span>
                                        </a>
                                    </li>
                                    <li ng-class="{selected : selectedFilter === @((int)DisplayCategory.SharedWithMe)}" ng-click="setSelectedFilter($event, @((int)DisplayCategory.SharedWithMe))">
                                        <a class="dashboard-sort-options" href="javascript:void(0);">
                                            <i class="su su-tick"></i>
                                            <span class="search-option">@T["Shared with me"]</span>
                                        </a>
                                    </li>
                                </ul>
                            </div>
                        </div>
                    </div>
                }

                <div id="category-panel" ng-show="(!isMobile && !samePagePreview) || expandCatSec">
                    <ul class="category-bar-ul">
                        <li class="category-item" ng-class="{active : activeMenu === @((int)DisplayCategory.AllDashboards)}" ng-click="setActive(@((int)DisplayCategory.AllDashboards), '@T["All Dashboards"]', $event)">
                            <span class="category-icon su su-all-dashboards"></span>
                            <span class="category-bar-header">@T["All"]</span>
                        </li>
                        <li class="category-item" id="draft-items" ng-show="canCreateDashboard" ng-class="{active : activeMenu === @((int)DisplayCategory.DraftItems)}" ng-click="setActive(@((int)DisplayCategory.DraftItems), '@T["Drafts"]', $event)">
                            <span class="category-icon su su-clock clock-listing-icon"></span>
                            <span class="category-bar-header">@T["Drafts"]</span>
                        </li>
                        <li class="category-item" id="upload-draft-items" ng-show="!isMobile && !isTablet && !samePagePreview && canCreateDashboard" ng-class="{active : activeMenu === @((int)DisplayCategory.UploadDrafts)}" ng-click="setActive(@((int)DisplayCategory.UploadDrafts), '@T["Upload Drafts"]', $event)">
                            <span class="category-icon su su-clock clock-listing-icon"></span>
                            <span class="category-bar-header">@T["Upload Drafts"]</span>
                        </li>
                        @if (!isSingleDatabaseMode)
                        {
                            <li class="category-item ng-hide" ng-show="usageAnalytics && (isAdmin || hasDashboardSettingsPermission)" ng-class="{active : activeMenu === @((int)DisplayCategory.UsageAnalytics)}" ng-click="setActive(@((int)DisplayCategory.UsageAnalytics), '@T["Usage Analytics"]', $event)">
                                <span class="category-icon su su-nav-dashboard"></span>
                                <span class="category-bar-header">@T["Enterprise Insights"]</span>
                            </li>
                        }
                        <li class="category-list">
                            <div class="col-12 no-padding category-list-container">
                                <div class="col-12 no-padding category-name-section" ng-click="expandCategoryList()">
                                    <span class="category-icon su su-categoried-dashboard"></span>
                                    <span class="category-bar-header">@T["Categories"]</span>
                                </div>
                                <div class="category-sort-container no-padding">
                                    <div id="category-sort-dropdown" class="col-10 category-filter-sort listing-dropdown dropdown no-padding">
                                        <button class="btn btn-default dropdown-toggle" data-bs-toggle="dropdown" type="button">
                                            <span class="col-2 no-padding sort-icon">
                                                <span>
                                                    <i class="su su-sort"></i>
                                                </span>
                                            </span>
                                        </button>
                                        <ul class="dropdown-menu category-sort-filter-menu">
                                            <li ng-class="{selected : categorySelectedSort === 'Name' && categorySortDirection == 'descending'}" ng-click="setCategorySelectedSort($event, 'Name', 'descending')">
                                                <a class="category-sort-options" href="javascript:void(0);">
                                                    <i class="su su-tick"></i>
                                                    <span class="search-option">@T["Name - Descending"]</span>
                                                </a>
                                            </li>
                                            <li ng-class="{selected : categorySelectedSort === 'Name' && categorySortDirection == 'ascending'}" ng-click="setCategorySelectedSort($event, 'Name', 'ascending')">
                                                <a class="category-sort-options" href="javascript:void(0);">
                                                    <i class="su su-tick"></i>
                                                    <span class="search-option">@T["Name - Ascending"]</span>
                                                </a>
                                            </li>
                                            <li ng-class="{selected : categorySelectedSort === 'ModifiedDate' && categorySortDirection == 'descending'}" ng-click="setCategorySelectedSort($event, 'ModifiedDate', 'descending')">
                                                <a class="category-sort-options" href="javascript:void(0);">
                                                    <i class="su su-tick"></i>
                                                    <span class="search-option">@T["Modified - Descending"]</span>
                                                </a>
                                            </li>
                                            <li ng-class="{selected : categorySelectedSort === 'ModifiedDate' && categorySortDirection == 'ascending'}" ng-click="setCategorySelectedSort($event, 'ModifiedDate', 'ascending')">
                                                <a class="category-sort-options" href="javascript:void(0);">
                                                    <i class="su su-tick"></i>
                                                    <span class="search-option">@T["Modified - Ascending"]</span>
                                                </a>
                                            </li>
                                            <li ng-class="{selected : categorySelectedSort === 'Count' && categorySortDirection == 'descending'}" ng-click="setCategorySelectedSort($event, 'Count', 'descending')">
                                                <a class="category-sort-options" href="javascript:void(0);">
                                                    <i class="su su-tick"></i>
                                                    <span class="search-option">@T["Count - Descending"]</span>
                                                </a>
                                            </li>
                                            <li ng-class="{selected : categorySelectedSort === 'Count' && categorySortDirection == 'ascending'}" ng-click="setCategorySelectedSort($event, 'Count', 'ascending')">
                                                <a class="category-sort-options" href="javascript:void(0);">
                                                    <i class="su su-tick"></i>
                                                    <span class="search-option">@T["Count - Ascending"]</span>
                                                </a>
                                            </li>
                                        </ul>
                                    </div>
                                </div>
                            </div>
                            <div class="col-12 no-padding ng-hide category-slide" ng-show="(categoryDataBindComplete || categoryList.length == 0) && expand">
                                <div class="category-search-area float-end">
                                    <input type="password" name="password" style="display:none;">
                                    <input type="text" class="category-search-box float-start no-margin" ng-model="categorySearchQuery" ng-init="categorySearchQuery = ''" ng-change="doCategorySearch()" ng-focus="isCategorySearchFocus = true" ng-blur="isCategorySearchFocus = false" placeholder="@T["Search Categories"]" />
                                    <span class="su close-icon su-inner-close float-end no-margin ng-hide" ng-show="categorySearchQuery != ''" ng-click="onCategorySearchClear()" ng-class="{focus : isCategorySearchFocus}" data-bs-toggle="clear-tooltip" data-container="body" title="@T["Clear search"]"></span>
                                    <span class="su su-search float-end no-margin" ng-show="categorySearchQuery == ''" ng-class="{focus : isCategorySearchFocus}" title="@T["Search"]" data-bs-toggle="search-tooltip"></span>
                                </div>
                                <div id="parent-category-scroll-element">
                                    <div id="category-scroll-element" class="col-12 no-padding">
                                        <div id="category-scroll-content" class="col-12 no-padding">
                                            <ul ng-repeat="categoryItem in categoryList" class="col-12 no-padding" category-repeat-directive  data-dashboard-id = "{{categoryItem.Id}}">
                                                <li class = "category-list-item">
                                                    <div class="col-12 no-padding category-item" ng-class="{'active': activeMenu === categoryItem.Id}" ng-click="setActive(categoryItem.Id, categoryItem.Name, $event, 0)" data-bs-toggle="category-list-tooltip" data-bs-placement="right" data-container="body" title="<span class='dashboard-list-tooltip'><span class='tooltip-row'><span class='tooltip-label'>@T["Name"].Value: </span><span class='tooltip-description'>{{categoryItem.Name}}</span></span>{{categoryItem.Description != '' ? '<span class=\'tooltip-row\'><span class=\'tooltip-label\'>@T["Description"].Value: </span><span class=\'tooltip-description\'>' + categoryItem.Description + '</span></span>' : ''}}<span class='tooltip-row'><span class='tooltip-label'>@T["Owner Name"].Value: </span><span class='tooltip-description'>{{categoryItem.CreatedByDisplayName}} </span></span><span class='tooltip-row'><span class='tooltip-label'>@T["Added Date"].Value: </span><span class='tooltip-description'>{{categoryItem.CreatedDate}}</span></span></span>" data-bs-html="true">
                                                       <div id="category-name-div">
                                                           <span ng-class="{'su su-angle-right': categoryItem.SubCategory.length > 0}" class="arrow-icon"></span>
                                                           <a class="category-name" ng-class="{'category-padding': categoryItem.SubCategory.length <= 0}" id="category-item" href="@Html.Encode(dashboardUrl + "?category={{categoryItem.Name}}")">{{categoryItem.Name}}</a>
                                                       </div>
                                                       <span class="count-container">
                                                             <span class="category-count badge badge-primary badge-pill">{{categoryItem.ReportsCount}}</span>
                                                       </span>
                                                        <ul class="category-settings">
                                                            <li class="dropdown category-context-menu" ng-if="(categoryItem.CreatedById== currentUserId || isAdmin || categoryItem.CanWrite || categoryItem.CanDelete || hasCategorySharePermission) && !isTablet">
                                                                <span class="dropdown-toggle no-margin no-padding su su-options" title="@T["Actions"]" data-bs-placement="top" data-bs-toggle="dropdown">
                                                                </span>
                                                                <ul class="dropdown-menu" role="menu">
                                                                    <li ng-if="categoryItem.CanWrite">
                                                                        <a class="EditCategory" href="javascript:void(0)" title="" ng-click="addSubCategory(categoryItem.Id, categoryItem.Name, categoryItem.Description)">
                                                                            <i class="su su-sub-category"></i>
                                                                            <span>@T["Add Sub Category"]</span>
                                                                        </a>
                                                                    </li>
                                                                    <li ng-if="!isSharePublishAllowed && (categoryItem.CreatedById== currentUserId || isAdmin || hasCategorySharePermission)">
                                                                        <a href="javascript:void(0);" class="item-permissions" title="" ng-click="sharePermission(categoryItem)">
                                                                            <i class="su su-manage-permission"></i>
                                                                            <span>@T["Sharing Permissions"]</span>
                                                                        </a>
                                                                        <hr ng-if="categoryItem.CanWrite || categoryItem.CanDelete" class="no-margin" />
                                                                    </li>
                                                                    <li ng-if="categoryItem.CanWrite">
                                                                        <a class="EditCategory" href="javascript:void(0)" title="" ng-click="editCategory(categoryItem.Id, categoryItem.Name, categoryItem.Description, categoryItem.Id)">
                                                                            <i class="su su-edit"></i>
                                                                            <span>@T["Update"]</span>
                                                                        </a>
                                                                    </li>
                                                                    <li ng-if="categoryItem.CanDelete">
                                                                        <a class="DeleteCategory" href="javascript:void(0)" ng-click="deleteCategory(categoryItem)">
                                                                            <i class="su su-delete"></i>
                                                                            <span>@T["Delete"]</span>
                                                                        </a>
                                                                    </li>
                                                                </ul>
                                                            </li>
                                                        </ul>
                                                    </div>
                                                    <ul class="nested-li show-sub-category">
                                                        <li  class = "category-list-item" ng-repeat="subCategoryItem in categoryItem.SubCategory" category-repeat-directive data-dashboard-id = "{{subCategoryItem.Id}}">
                                                            <div class="col-12 no-padding category-item sub-category-panel" ng-click="setActiveSubcategory(subCategoryItem.Id, subCategoryItem.Name, $event, 1)" ng-class="{active : activeMenu === subCategoryItem.Id}" data-bs-toggle="category-list-tooltip" data-bs-placement="right" data-container="body" title="<span class='dashboard-list-tooltip'><span class='tooltip-row'><span class='tooltip-label'>@T["Name"].Value: </span><span class='tooltip-description'>{{subCategoryItem.Name}}</span></span>{{subCategoryItem.Description != '' ? '<span class=\'tooltip-row\'><span class=\'tooltip-label\'>@T["Description"].Value: </span><span class=\'tooltip-description\'>' + subCategoryItem.Description + '</span></span>' : ''}}<span class='tooltip-row'><span class='tooltip-label'>@T["Owner Name"].Value: </span><span class='tooltip-description'>{{subCategoryItem.CreatedByDisplayName}} </span></span><span class='tooltip-row'><span class='tooltip-label'>@T["Added Date"].Value: </span><span class='tooltip-description'>{{subCategoryItem.CreatedDate}}</span></span></span>" data-bs-html="true">
                                                                <div class="sub-category-align">
                                                                    <span ng-class="{'su su-angle-right': subCategoryItem.SubCategory.length > 0}" class="arrow-icon"></span>
                                                                    <a class="category-name" id="sub-category-item" href="@Html.Encode(dashboardUrl + "?category={{subCategoryItem.Name}}")">{{subCategoryItem.Name}}</a>
                                                                </div>
                                                                <span class="count-container">
                                                                    <span class="category-count badge badge-primary badge-pill">{{subCategoryItem.ReportsCount}}</span>
                                                                </span>
                                                                <ul class="category-settings">
                                                                    <li class="dropdown category-context-menu" ng-if="(subCategoryItem.CreatedById== currentUserId || isAdmin || subCategoryItem.CanWrite || subCategoryItem.CanDelete || hasCategorySharePermission) && !isTablet">
                                                                        <span class="dropdown-toggle no-margin no-padding su su-options" title="@T["Actions"]" data-bs-placement="top" data-bs-toggle="dropdown">
                                                                        </span>
                                                                        <ul class="dropdown-menu" role="menu">
                                                                            <li ng-if="subCategoryItem.CanWrite">
                                                                                <a class="EditCategory" href="javascript:void(0)" title="" ng-click="addSubCategory(subCategoryItem.Id, subCategoryItem.Name, subCategoryItem.Description)">
                                                                                    <i class="su su-sub-category"></i>
                                                                                    <span>@T["Add Sub Category"]</span>
                                                                                </a>
                                                                            </li>
                                                                            <li ng-if="!isSharePublishAllowed && (subCategoryItem.CreatedById== currentUserId || isAdmin || hasCategorySharePermission)">
                                                                                <a href="javascript:void(0);" class="item-permissions" title="" ng-click="sharePermission(subCategoryItem)">
                                                                                    <i class="su su-manage-permission"></i>
                                                                                    <span>@T["Sharing Permissions"]</span>
                                                                                </a>
                                                                                <hr ng-if="subCategoryItem.CanWrite || subCategoryItem.CanDelete" class="no-margin" />
                                                                            </li>
                                                                            <li ng-if="subCategoryItem.CanWrite">
                                                                                <a class="EditCategory" href="javascript:void(0)" title="" ng-click="editCategory(subCategoryItem.Id, subCategoryItem.Name, subCategoryItem.Description, categoryItem.Id)">
                                                                                    <i class="su su-edit"></i>
                                                                                    <span>@T["Update"]</span>
                                                                                </a>
                                                                            </li>
                                                                            <li ng-if="subCategoryItem.CanDelete">
                                                                                <a class="DeleteCategory" href="javascript:void(0)" ng-click="deleteCategory(subCategoryItem)">
                                                                                    <i class="su su-delete"></i>
                                                                                    <span>@T["Delete"]</span>
                                                                                </a>
                                                                            </li>
                                                                        </ul>
                                                                    </li>
                                                                </ul>
                                                            </div>
                                                            <ul class="nested-li show-sub-category">
                                                                <li  class = "category-list-item"  ng-repeat="subCategoryItemTree in subCategoryItem.SubCategory" category-repeat-directive data-dashboard-id = "{{subCategoryItemTree.Id}}">
                                                                    <div class="col-12 no-padding category-item sub-category-panel" ng-click="setActiveSubcategory(subCategoryItemTree.Id, subCategoryItemTree.Name, $event, 2)" ng-class="{active : activeMenu === subCategoryItemTree.Id}" data-bs-toggle="category-list-tooltip" data-bs-placement="right" data-container="body" title="<span class='dashboard-list-tooltip'><span class='tooltip-row'><span class='tooltip-label'>@T["Name"].Value: </span><span class='tooltip-description'>{{subCategoryItemTree.Name}}</span></span>{{subCategoryItemTree.Description != '' ? '<span class=\'tooltip-row\'><span class=\'tooltip-label\'>@T["Description"].Value: </span><span class=\'tooltip-description\'>' + subCategoryItemTree.Description + '</span></span>' : ''}}<span class='tooltip-row'><span class='tooltip-label'>@T["Owner Name"].Value: </span><span class='tooltip-description'>{{subCategoryItemTree.CreatedByDisplayName}} </span></span><span class='tooltip-row'><span class='tooltip-label'>@T["Added Date"].Value: </span><span class='tooltip-description'>{{subCategoryItemTree.CreatedDate}}</span></span></span>" data-bs-html="true">
                                                                        <div class="sub-categorytree-align">
                                                                            <span ng-class="{'su su-angle-right': subCategoryItemTree.SubCategory.length > 0}" class="arrow-icon"></span>
                                                                            <a class="category-name" id="sub-categorytree-item" href="@Html.Encode(dashboardUrl + "?category={{subCategoryItemTree.Name}}")">{{subCategoryItemTree.Name}}</a>
                                                                        </div>
                                                                        <span class="count-container">
                                                                            <span class="category-count badge badge-primary badge-pill">{{subCategoryItemTree.ReportsCount}}</span>
                                                                        </span>
                                                                        <ul class="category-settings">
                                                                            <li class="dropdown category-context-menu" ng-if="(subCategoryItemTree.CreatedById== currentUserId || isAdmin || subCategoryItemTree.CanWrite || subCategoryItemTree.CanDelete || hasCategorySharePermission) && !isTablet">
                                                                                <span class="dropdown-toggle no-margin no-padding su su-options" title="@T["Actions"]" data-bs-placement="top" data-bs-toggle="dropdown">
                                                                                </span>
                                                                                <ul class="dropdown-menu" role="menu">
                                                                                    <li ng-if="subCategoryItemTree.CanWrite">
                                                                                        <a class="EditCategory" href="javascript:void(0)" title="" ng-click="addSubCategory(subCategoryItemTree.Id, subCategoryItemTree.Name, subCategoryItemTree.Description)">
                                                                                            <i class="su su-sub-category"></i>
                                                                                            <span>@T["Add Sub Category"]</span>
                                                                                        </a>
                                                                                    </li>
                                                                                    <li ng-if="!isSharePublishAllowed && (subCategoryItemTree.CreatedById== currentUserId || isAdmin || hasCategorySharePermission)">
                                                                                        <a href="javascript:void(0);" class="item-permissions" title="" ng-click="sharePermission(subCategoryItemTree)">
                                                                                            <i class="su su-manage-permission"></i>
                                                                                            <span>@T["Sharing Permissions"]</span>
                                                                                        </a>
                                                                                        <hr ng-if="subCategoryItemTree.CanWrite || subCategoryItemTree.CanDelete" class="no-margin" />
                                                                                    </li>
                                                                                    <li ng-if="subCategoryItemTree.CanWrite">
                                                                                        <a class="EditCategory" href="javascript:void(0)" title="" ng-click="editCategory(subCategoryItemTree.Id, subCategoryItemTree.Name, subCategoryItemTree.Description, subCategoryItem.Id)">
                                                                                            <i class="su su-edit"></i>
                                                                                            <span>@T["Update"]</span>
                                                                                        </a>
                                                                                    </li>
                                                                                    <li ng-if="subCategoryItemTree.CanDelete">
                                                                                        <a class="DeleteCategory" href="javascript:void(0)" ng-click="deleteCategory(subCategoryItemTree)">
                                                                                            <i class="su su-delete"></i>
                                                                                            <span>@T["Delete"]</span>
                                                                                        </a>
                                                                                    </li>
                                                                                </ul>
                                                                            </li>
                                                                        </ul>
                                                                    </div>
                                                                    <ul class="nested-li show-sub-category">
                                                                        <li class="category-list-item" ng-repeat="subCategoryItemTreelast in subCategoryItemTree.SubCategory" category-repeat-directive data-dashboard-id = "{{subCategoryItemTreelast.Id}}">
                                                                            <div class="col-12 no-padding category-item sub-category-panel" ng-click="setActiveSubcategory(subCategoryItemTreelast.Id, subCategoryItemTreelast.Name, $event, 3)" ng-class="{active : activeMenu === subCategoryItemTreelast.Id}" data-bs-toggle="category-list-tooltip" data-bs-placement="right" data-container="body" title="<span class='dashboard-list-tooltip'><span class='tooltip-row'><span class='tooltip-label'>@T["Name"].Value: </span><span class='tooltip-description'>{{subCategoryItemTreelast.Name}}</span></span>{{subCategoryItemTreelast.Description != '' ? '<span class=\'tooltip-row\'><span class=\'tooltip-label\'>@T["Description"].Value: </span><span class=\'tooltip-description\'>' + subCategoryItemTreelast.Description + '</span></span>' : ''}}<span class='tooltip-row'><span class='tooltip-label'>@T["Owner Name"].Value: </span><span class='tooltip-description'>{{subCategoryItemTreelast.CreatedByDisplayName}} </span></span><span class='tooltip-row'><span class='tooltip-label'>@T["Added Date"].Value: </span><span class='tooltip-description'>{{subCategoryItemTreelast.CreatedDate}}</span></span></span>" data-bs-html="true">
                                                                                <div class="sub-categorytree-align subcategory-final-level">
                                                                                    <a class="category-name" id="sub-categorytreelast-item" href="@Html.Encode(dashboardUrl + "?category={{subCategoryItemTreelast.Name}}")">{{subCategoryItemTreelast.Name}}</a>
                                                                                </div>
                                                                                <span class="count-container">
                                                                                    <span class="category-count badge badge-primary badge-pill">{{subCategoryItemTreelast.ReportsCount}}</span>
                                                                                </span>
                                                                                <ul class="category-settings">
                                                                                    <li class="dropdown category-context-menu" ng-if="(subCategoryItemTreelast.CreatedById== currentUserId || isAdmin || subCategoryItemTreelast.CanWrite || subCategoryItemTreelast.CanDelete || hasCategorySharePermission) && !isTablet">
                                                                                        <span class="dropdown-toggle no-margin no-padding su su-options" title="@T["Actions"]" data-bs-placement="top" data-bs-toggle="dropdown">
                                                                                        </span>
                                                                                        <ul class="dropdown-menu" role="menu">
                                                                                            <li ng-if="!isSharePublishAllowed && (subCategoryItemTreelast.CreatedById== currentUserId || isAdmin || hasCategorySharePermission)">
                                                                                                <a href="javascript:void(0);" class="item-permissions" title="" ng-click="sharePermission(subCategoryItemTreelast)">
                                                                                                    <i class="su su-manage-permission"></i>
                                                                                                    <span>@T["Sharing Permissions"]</span>
                                                                                                </a>
                                                                                                <hr ng-if="subCategoryItemTreelast.CanWrite || subCategoryItemTreelast.CanDelete" class="no-margin" />
                                                                                            </li>
                                                                                            <li ng-if="subCategoryItemTreelast.CanWrite">
                                                                                                <a class="EditCategory" href="javascript:void(0)" title="" ng-click="editCategory(subCategoryItemTreelast.Id, subCategoryItemTreelast.Name, subCategoryItemTreelast.Description, subCategoryItemTree.Id)">
                                                                                                    <i class="su su-edit"></i>
                                                                                                    <span>@T["Update"]</span>
                                                                                                </a>
                                                                                            </li>
                                                                                            <li ng-if="subCategoryItemTreelast.CanDelete">
                                                                                                <a class="DeleteCategory" href="javascript:void(0)" ng-click="deleteCategory(subCategoryItemTreelast)">
                                                                                                    <i class="su su-delete"></i>
                                                                                                    <span>@T["Delete"]</span>
                                                                                                </a>
                                                                                            </li>
                                                                                        </ul>
                                                                                    </li>
                                                                                </ul>
                                                                            </div>
                                                                        </li>
                                                                    </ul>
                                                                </li>
                                                            </ul>
                                                        </li>
                                                    </ul>
                                                 </li>
                                             </ul>

                                            <div class="category-empty-message-div col-12 ng-hide" ng-show="filteredCategory.length == 0 || categoryList.length == 0">
                                                <span class="category-empty-message">@T["No categories available to display."]</span>
                                            </div>
                                        </div>
                                    </div>
                               </div>
                           </div>
                       </li>
                   </ul>
                </div>
                <div id="dashboard-list-panel" class="no-padding" ng-show="!isMobile || !expandCatSec">
                    <div class="dashboard-header-container col-12" ng-show="!isTablet && !isMobile && !samePagePreview" ng-class="{'categorysection-header-height' : (activeMenu !== @((int)DisplayCategory.AllDashboards) && activeMenu !== @((int)DisplayCategory.DraftItems) && activeMenu !== @((int)DisplayCategory.UploadDrafts) && activeMenu !== @((int)DisplayCategory.UsageAnalytics))}">
                        <span class="col-4 dashboards-header">
                            <span class="col-12 no-padding dashboard-header-info">
                                <span class="dashboard-category-name" ng-bind="activeMenuLabel" data-container="body" data-bs-toggle="dashboard-list-tooltip" data-original-title="{{activeMenuLabel}}" data-bs-placement="bottom">@T["All Dashboards"]</span>
                                <span class="dashboard-count ng-hide" ng-show="dashboardDataBindComplete">({{totalDashboardCount}} {{totalDashboardCount == 1 ? "@T["dashboard"]" : "@T["dashboards"]"}})</span>
                             </span>
                            <span class="dashboard-category-owner float-start" ng-bind="categoryCreatedBy"></span>
                        </span>
                        @if(!samePagePreview){
                            <div class="col-3 top-nav-sec no-padding">
                                @await Html.PartialAsync("../Shared/_TopMenu")
                            </div>
                        }
                        <div class="item-searchbox-container col-5" ng-show="activeMenu !== @((int)DisplayCategory.UsageAnalytics)" ng-class="showSearch ? 'search-active' : ''">
                            <span ng-show="isTablet && !showSearch" ng-init="showSearch=false" ng-click="onMobileSearchClicked()" class="su su-search float-end mobile-dashboard-search ng-hide"></span>
                            <div ng-show="(!isTablet && !samePagePreview) || showSearch" class="col-3 no-padding no-margin dashboard-search-area float-end">
                                <span class="su su-inner-close float-end no-margin ng-hide" ng-show="dashboardSearchQuery != ''" ng-click="onDashboardSearchClear()" ng-class="isFocus ? 'active' : ''" data-bs-html="true" title="<span class='clear-search-tooltip'>@T["Clear search"]</span>" data-container="body" data-bs-toggle="clear-tooltip" data-bs-placement="bottom"></span>
                                <span class="su su-search float-end no-margin" ng-show="dashboardSearchQuery == ''" ng-class="isFocus ? 'active' : ''" title="@T["Search"]" data-bs-toggle="search-tooltip" data-container="body" data-bs-placement="bottom"></span>
                                <input type="password" name="password" style="display:none;">
                                <input type="text" id="dashboard-search-items" class="float-end no-margin" ng-change="doDashboardSearch()" ng-model="dashboardSearchQuery" ng-focus="isFocus = true" ng-blur="onSearchFocusOut()" placeholder="@T["Search dashboards"]" />
                            </div>
                        </div>
                    </div>
                    @if (isSandbox)
                    {
                        <div class="col-12 recommended-content-container" id="recommended-content-container" style="display: none">
                            <span class="card-title" id="recommended-section-title">@T["Recent"]</span>
                            <div class="row card-row">
                                <div class="col-12 col-sm-6 col-md-4 col-lg-2 recommended-items" ng-repeat="item in recommendedItems">
                                    <a class="recommended-item-link" href="{{viewDashboardUrl(item.Id, item.CategoryName, item.Name)}}" target="_blank">
                                        <div class="recommended-card">
                                            <div class="recommended-item-image">
                                                <img ng-src="@dashboardServerResourceUrl/cdn/css/sample_dashboards/{{item.ImageName | lowercase}}" />
                                            </div>
                                            <div class="card-body">
                                                <p class="card-title">{{item.Name}}</p>
                                                <p class="card-text">{{item.Description}}</p>
                                            </div>
                                        </div>
                                    </a>
                                </div>
                            </div>
                        </div>
                    }
                    <div class="dashboard-action-container col-12" ng-show="activeMenu !== @((int)DisplayCategory.UsageAnalytics)">
                        <span class="col-5 dashboards-header ng-hide" ng-show="isTablet && !isMobile">
                            <span class="col-12 no-padding dashboard-header-info">
                                <span class="dashboard-category-name" ng-bind="activeMenuLabel" data-container="body" data-bs-toggle="dashboard-list-tooltip" data-original-title="{{activeMenuLabel}}" data-bs-placement="bottom">@T["All Dashboards"]</span>
                                <span class="dashboard-count ng-hide" ng-show="dashboardDataBindComplete">({{totalDashboardCount}} {{totalDashboardCount == 1 ? "@T["dashboard"]" : "@T["dashboards"]"}})</span>
                            </span>
                            <span class="dashboard-category-owner float-start" ng-bind="categoryCreatedBy"></span>
                        </span>
                        <div class="dashboard-dropdown-container" ng-class="{'no-margin': activeMenu == @((int)DisplayCategory.DraftItems), 'col-6': isTablet, 'col-12': isMobile}">
                            <div class="no-padding item-searchbox-container no-margin ng-hide" ng-show="(isTablet || isMobile)" ng-class="{'search-active': showSearch, 'col-3': isTablet, 'col-9': !isTablet}">
                                <span ng-show="isTablet && !showSearch" ng-init="showSearch=false" ng-click="onMobileSearchClicked()" class="su su-search float-end mobile-dashboard-search ng-hide"></span>
                                <div ng-show="(!isTablet && !samePagePreview) || showSearch" class="col-3 no-padding no-margin dashboard-search-area float-end">
                                    <span class="su su-inner-close float-end no-margin ng-hide" ng-show="dashboardSearchQuery != ''" ng-click="onDashboardSearchClear()" ng-class="isFocus ? 'active' : ''" data-bs-html="true" title="<span class='clear-search-tooltip'>@T["Clear search"]</span>" data-container="body" data-bs-toggle="clear-tooltip"></span>
                                    <span class="su su-search float-end no-margin" ng-show="dashboardSearchQuery == ''" ng-class="isFocus ? 'active' : ''" title="@T["Search"]" data-bs-toggle="search-tooltip" data-container="body"></span>
                                    <input type="password" name="password" style="display:none;">
                                    <input type="text" id="dashboard-mobile-search-items" class="float-end no-margin" ng-change="doDashboardSearch()" ng-model="dashboardSearchQuery" ng-focus="isFocus = true" ng-blur="onSearchFocusOut()" placeholder="@T["Search dashboards"]" />
                                </div>
                            </div>
                            <span class="text-right ng-hide" id="order" ng-show="isTablet && !showSearch && !hideSortOption" data-bs-toggle="modal" data-bs-target="#dashboard-sort-modal" data-container="body" ng-class="{'descending': sortDirection == 'descending', 'ascending': sortDirection == 'ascending', 'col-1 no-padding': isTablet}">
                                &nbsp;
                                <i class="su su-sort"></i>
                            </span>
                            <div class="dashboard-select-all no-padding no-margin"  ng-class="{'col-3' : samePagePreview, 'col-4' : !samePagePreview}" ng-show="!isTablet && !isMobile && activeMenu !== @((int)DisplayCategory.DraftItems) && !hideDownloadCheckbox">
                                @Html.CheckBox("dashboard-list-select-all", false, new { @class = "material-checkbox", @autocomplete = "off", ng_disabled = "totalDashboardCount == 0",  ng_if = "!hideDownloadCheckbox" })
                                <label for="dashboard-list-select-all" class="dashboard-select-all-checkbox"  ng-if="!hideDownloadCheckbox"></label>
                                <span class="col-4 download-icon" ng-click="downloadBulkDashboard()" style="display:none">
                                    <span class="dashboard-select-options">
                                        <i class="su su-download"></i>
                                        <span class="download-text">@T["Download"]</span>
                                    </span>
                                </span>
                                <button class="btn btn-default upload-button" type="button" ng-show="activeMenu == @((int)DisplayCategory.UploadDrafts)" style="display:none" onclick="uploadBulkDashboard()">
                                    <span class="col-2 upload-icon no-padding">
                                        <span class="dashboard-select-options">
                                            <i class="su su-upload"></i>
                                        </span>
                                    </span>
                                    <span class="selected selected-field">@T["Complete Upload"]</span>
                                </button>
                                <label id="action-separator" class="sf-nav-separator action-separator"></label>
                            </div>
                                <div class="no-padding sort-filter-conatiner" ng-class="{'no-margin': activeMenu == @((int)DisplayCategory.DraftItems), 'col-3' : isTablet, 'col-5' : !isTablet}"  ng-show="!samePagePreview && !hideDashboardsFiltering">
                                    <div class=" col-3 dashboard-sort-container ng-hide no-padding" ng-show="!showSearch && !isTablet && !samePagePreview && !hideSortOption">
                                        <div id="dashboard-sort-dropdown" class="col-10 dashboard-filter-sort listing-dropdown dropdown no-padding">
                                            <button class="btn btn-default dropdown-toggle" data-bs-toggle="dropdown" type="button">
                                                <span class="col-2 no-padding sort-icon">
                                                    <span class="dashboard-select-options">
                                                        <i class="su su-sort"></i>
                                                    </span>
                                                </span>
                                                <span class="selected selected-field no-padding" ng-bind="selectedSortLabel">@T["Recently Updated"]</span>
                                                <span class="su su-vertical-expand"></span>
                                            </button>

                                            <ul class="dropdown-menu dashboard-sort-filter-menu">
                                            <li ng-class="{selected : selectedSort === 'Name' && sortDirection == 'descending'}" ng-click="setSelectedSort($event, 'Name', 'descending')">
                                                <a class="dashboard-sort-options" href="javascript:void(0);">
                                                    <i class="su su-tick"></i>
                                                    <span class="search-option">@T["Name - Descending"]</span>
                                                </a>
                                            </li>
                                            <li ng-class="{selected : selectedSort === 'Name' && sortDirection == 'ascending'}" ng-click="setSelectedSort($event, 'Name', 'ascending')">
                                                <a class="dashboard-sort-options" href="javascript:void(0);">
                                                    <i class="su su-tick"></i>
                                                    <span class="search-option">@T["Name - Ascending"]</span>
                                                </a>
                                            </li>
                                            <li ng-class="{selected : selectedSort === 'ModifiedDate' && sortDirection == 'descending'}" ng-click="setSelectedSort($event, 'ModifiedDate', 'descending')">
                                                <a class="dashboard-sort-options" href="javascript:void(0);">
                                                    <i class="su su-tick"></i>
                                                    <span class="search-option">@T["Modified - Descending"]</span>
                                                </a>
                                            </li>
                                            <li ng-class="{selected : selectedSort === 'ModifiedDate' && sortDirection == 'ascending'}" ng-click="setSelectedSort($event, 'ModifiedDate', 'ascending')">
                                                <a class="dashboard-sort-options" href="javascript:void(0);">
                                                    <i class="su su-tick"></i>
                                                    <span class="search-option">@T["Modified - Ascending"]</span>
                                                </a>
                                            </li>
                                                @*<li ng-class="{selected : selectedSort === 'CreatedByDisplayName' && sortDirection == 'ascending'}" ng-click="setSelectedSort($event, 'CreatedByDisplayName', 'ascending')">
                                        <a class="dashboard-sort-options" href="javascript:void(0);">
                                        <i class="su su-tick"></i>
                                        <span class="search-option">@T["Owner Name (A-Z)"]</span>
                                        </a>
                                        </li>
                                        <li ng-class="{selected : selectedSort === 'CreatedByDisplayName' && sortDirection == 'descending'}" ng-click="setSelectedSort($event, 'CreatedByDisplayName', 'descending')">
                                        <a class="dashboard-sort-options" href="javascript:void(0);">
                                        <i class="su su-tick"></i>
                                        <span class="search-option">@T["Owner Name (Z-A)"]</span>
                                        </a>
                                        </li>*@
                                            </ul>
                                        </div>
                                    </div>
                                <div class="col-3 dashboard-filter-container ng-scope no-padding no-margin ng-hide" ng-show="!showSearch && !samePagePreview && activeMenu !== @((int)DisplayCategory.DraftItems) && activeMenu !== @((int)DisplayCategory.UploadDrafts)">
                                        <span class="dashboard-dropdown-label" ng-if="isTablet || isMobile || samePagePreview">@T["Filter"]</span>
                                        <div id="dashboard-filter-dropdown" class="col-10 dashboard-filter-sort listing-dropdown dropdown no-padding" ng-if="activeMenu !== @((int)DisplayCategory.DraftItems) && activeMenu !== @((int)DisplayCategory.UsageAnalytics) && !hideFilterOverView">
                                            <button class="btn btn-default dropdown-toggle" data-bs-toggle="dropdown" type="button">
                                                <span class="col-2 filter-icon" ng-if="!isTablet && !isMobile && !samePagePreview && activeMenu !== @((int)DisplayCategory.DraftItems) && activeMenu !== @((int)DisplayCategory.UsageAnalytics)">
                                                    <span class="dashboard-select-options">
                                                        <i class="su su-filter"></i>
                                                    </span>
                                                </span>
                                            <span class="selected selected-field float-start ng-binding" ng-bind="selectedFilterLabel">@T["All"]</span>
                                            <span class="su su-vertical-expand" ng-if="isTablet || isMobile || samePagePreview"></span>
                                            </button>                                   
                                            <ul class="dropdown-menu dashboard-sort-filter-menu">
                                                <li ng-class="{selected : selectedFilter === @((int)DisplayCategory.AllDashboards)}" ng-click="setSelectedFilter($event, @((int)DisplayCategory.AllDashboards))">
                                                    <a class="dashboard-sort-options" href="javascript:void(0);">
                                                        <i class="su su-tick"></i>
                                                        <span class="search-option">@T["All"]</span>
                                                    </a>
                                                </li>
                                                <li ng-class="{selected : selectedFilter === @((int)DisplayCategory.FavouriteItems)}" ng-click="setSelectedFilter($event, @((int)DisplayCategory.FavouriteItems))">
                                                    <a class="dashboard-sort-options" href="javascript:void(0);">
                                                        <i class="su su-tick"></i>
                                                        <span class="search-option">@T["Favorites"]</span>
                                                    </a>
                                                </li>
                                                <li ng-class="{selected : selectedFilter ===@((int)DisplayCategory.PublicItems)}" ng-click="setSelectedFilter($event, @((int)DisplayCategory.PublicItems))">
                                                    <a class="dashboard-sort-options" href="javascript:void(0);">
                                                        <i class="su su-tick"></i>
                                                        <span class="search-option">@T["Public"]</span>
                                                    </a>
                                                </li>
                                                <li ng-class="{selected : selectedFilter === @((int)DisplayCategory.OwnedByMe)}" ng-click="setSelectedFilter($event, @((int)DisplayCategory.OwnedByMe))">
                                                    <a class="dashboard-sort-options" href="javascript:void(0);">
                                                        <i class="su su-tick"></i>
                                                        <span class="search-option">@T["Owned by me"]</span>
                                                    </a>
                                                </li>
                                                <li ng-class="{selected : selectedFilter === @((int)DisplayCategory.SharedWithMe)}" ng-click="setSelectedFilter($event, @((int)DisplayCategory.SharedWithMe))">
                                                    <a class="dashboard-sort-options" href="javascript:void(0);">
                                                        <i class="su su-tick"></i>
                                                        <span class="search-option">@T["Shared with me"]</span>
                                                    </a>
                                                </li>
                                            </ul>
                                        </div>
                                    </div>                        
                                </div>
                                <div class="pagination-section no-padding no-margin" ng-class="{'col-6 same-page-preview-pagination' : samePagePreview, 'col-3' : !samePagePreview}" ng-show="!isTablet && !isMobile && activeMenu !== @((int)DisplayCategory.UsageAnalytics)">
                                    <div class="pagination-div">
                                        <span class="page-count ng-hide" id="dashboards-page-count" ng-show="dashboardDataBindComplete">{{ ((currentPage - 1) * pageLimit) + 1 }} - {{ totalDashboardCount > (currentPage * pageLimit) ? (currentPage * pageLimit) : totalDashboardCount }} @T["of"] {{ totalDashboardCount}} </span>
                                        <span class="chevron-left disabled" ng-click="previousPage()">
                                            <span class="dashboard-select-options">
                                                <i class="su su-chevron-left"></i>
                                            </span>
                                        </span>
                                        <span class="chevron-right" ng-class="{'disabled' : totalDashboardCount == 0}" ng-click="nextPage()">
                                            <span class="dashboard-select-options">
                                                <i class="su su-chevron-right"></i>
                                            </span>
                                        </span>
                                    </div>                               
                                 </div>
                            </div>
                    </div>
                    <div class="dashboard-list-container col-12">
                        <div class="col-12 public-dashboard-disabled ng-hide" ng-show="dashboardDataBindComplete && !isMarkItemsPublic && selectedFilter === @((int)DisplayCategory.PublicItems) && activeMenu !== @((int)DisplayCategory.DraftItems) && activeMenu !== @((int)DisplayCategory.UploadDrafts)">
                            <span class="bg-warning text-warning" ng-show="hasDashboardSettingsPermission">@Html.Raw(String.Format(T["Public dashboards are disabled in {0}dashboard settings{1}."].Value, "<a class='app-hyperlink' href=" + Url.Action("DashboardSettings", "Administration") + ">", "</a>"))</span>
                            <span class="bg-warning text-warning" ng-show="!hasDashboardSettingsPermission">@T["Public dashboards are disabled by the system administrator. Please contact your system administrator to enable this."]</span>
                        </div>
                        <div id="parent-dashboard-scroll-element" ng-show="totalDashboardCount != 0" class="col-12 no-padding">
                            <div id="dashboard-scroll-element" class="col-12 no-padding">
                                <div id="dashboard-scroll-content" class="col-12 no-padding">
                                    <div class="col-12 no-padding" ng-show="!dashboardDataBindComplete">
                                        <div class="fd-post">
                                            <div class="fd-place-holder">
                                                <div class="fd-divider-1"></div>
                                                <div class="fd-divider-2"></div>
                                                <div class="fd-date-time"></div>
                                                <div class="fd-divider-3"></div>
                                            </div>
                                        </div>
                                        <div class="fd-post">
                                            <div class="fd-place-holder">
                                                <div class="fd-divider-1"></div>
                                                <div class="fd-divider-2"></div>
                                                <div class="fd-date-time"></div>
                                                <div class="fd-divider-3"></div>
                                            </div>
                                        </div>
                                        <div class="fd-post">
                                            <div class="fd-place-holder">
                                                <div class="fd-divider-1"></div>
                                                <div class="fd-divider-2"></div>
                                                <div class="fd-date-time"></div>
                                                <div class="fd-divider-3"></div>
                                            </div>
                                        </div>
                                    </div>
                                    <ul class="dashboard-list-section col-12 no-padding ng-hide" ng-show="dashboardDataBindComplete">
                                        <li ng-repeat="dashboardItem in currentDashboards | limitTo: (isMobile ? totalDashboardCount : pageLimit)" class="col-12 no-padding dashboard-tile" ng-class="{'dashboard-tile-hide-author': (hideAuthorName && ((dashboardItem.IsMultiDashboard && hideMultitabText) || !dashboardItem.IsMultiDashboard)) && activeMenu !== @((int)DisplayCategory.UsageAnalytics), 'dashboard-tile-hide-description': !dashboardItem.Description || hideDescription, 'dashboard-draft-height' : ((dashboardItem.IsDraft && !dashboardItem.IsUploadDraft)  || activeMenu == @((int)DisplayCategory.UsageAnalytics) || hideDashboardInfoSection), 'highlighted': dashboardItem.highlighted }" my-post-repeat-directive>
                                            <div ng-if="!dashboardItem.IsDraft" class="col-12 no-padding" ng-class="{'dashboard-draft-height' : activeMenu == @((int)DisplayCategory.UsageAnalytics) || hideDashboardInfoSection}" ng-click="canPreventDashboardOpenNavigation($event) ? null : redirectToDashboard(viewDashboardUrl(dashboardItem.Id, dashboardItem.CategoryName, dashboardItem.Name))">
                                                <div class="dashboard-info-section col-12" ng-class="{'dashboard-tile-hide-description-div': !dashboardItem.Description || hideDescription, 'dashboard-usage-height' : activeMenu == @((int)DisplayCategory.UsageAnalytics) || hideDashboardInfoSection}">
                                                    <div class="dashboard-select-list col-1 no-padding prevent-dashboard-navigation" ng-show="activeMenu !== @((int)DisplayCategory.UsageAnalytics)">
                                                        @Html.CheckBox("{{dashboardItem.Id}}", false, new { @id="{{dashboardItem.Id}}", @class = "dashboard-select-individual material-checkbox", @autocomplete = "off" })
                                                        <label for="{{dashboardItem.Id}}" ng-if="!isTablet && !isMobile && !dashboardItem.IsMultiDashboard && !hideDownloadCheckbox"></label>
                                                        <span class="su favorite favorite-icon" ng-class="{'favorite-hide-author': (hideAuthorName && ((dashboardItem.IsMultiDashboard && hideMultitabText) || !dashboardItem.IsMultiDashboard)), 'su-favorite': (!dashboardItem.IsDraft && dashboardItem.IsFavorite), 'su-dis-favorite': (!dashboardItem.IsDraft && !dashboardItem.IsFavorite)}" ng-hide="schemesDetails != null && !schemesDetails.Favorite || activeMenu === @((int)DisplayCategory.UsageAnalytics)" data-favorite="{{dashboardItem.IsFavorite}}" ng-click="toggleFavorite($event)"></span>
                                                    </div>
                                                    <div class="open-link no-padding" ng-class="setWidthForDashboardName()">
                                                        <a class="col-12 no-padding" ng-click="preventDefault($event, dashboardItem, currentDashboards)">
                                                            <span class="col-12 no-padding no-margin">
                                                                <span class="dashboard-name no-padding no-margin col-12">
                                                                    {{dashboardItem.Name}}
                                                                    <span class="dashboard-description col-12 no-padding" ng-hide="hideDescription">
                                                                        <span class="col-12 no-padding">{{dashboardItem.Description}}</span>
                                                                    </span>
                                                                </span>
                                                            </span>
                                                        </a>
                                                    </div>
                                                    <div id="prevent-dashboard-navigation" class="col-2 no-padding icon-menu prevent-dashboard-navigation ng-hide" ng-show="!hideOptionMenu">
                                                        <div class="no-padding options context-menu" ng-class="{'options-hide-author': (hideAuthorName && ((dashboardItem.IsMultiDashboard && hideMultitabText) || !dashboardItem.IsMultiDashboard)) && activeMenu !== 12}" ng-hide="hideContextMenu || (schemesDetails != null && !schemesDetails.ContextMenu) || (hideEdit && hideMakePublic && hideGetLink && hideGetEmbedCode && hideViews && hideViewSchedules && hideInfo && hideMove && hideCopy && hidePublish && hideDownload && hideCreateSchedule && hideVersionHistory && hideDelete && ((!dashboardItem.IsMultiDashboard && ((dashboardItem.CreatedById!=currentUserId && !isAdmin) || hideSecurity)) || (dashboardItem.IsMultiDashboard && (dashboardItem.CreatedById!=currentUserId || !isAdmin) && (hideTabSecurity && hideSecurity))))">
                                                            <span class="dropdown-toggle su su-options-menu options-area" data-bs-display="static" data-bs-toggle="dropdown"></span>
                                                            <ul class="dropdown-menu dashboard-options" data-bs-popper="none" role="menu">
                                                                <li ng-if="!isTablet && samePagePreview" ng-hide="schemesDetails != null && !schemesDetails.Open">
                                                                    <a class="web-designer option-click" href="{{viewDashboardUrl(dashboardItem.Id, dashboardItem.CategoryName, dashboardItem.Name)}}" target="_blank">
                                                                        <i class="su su-open"><i class="su su-open path1"></i></i>
                                                                        <span>@T["Open"]</span>
                                                                    </a>
                                                                </li>
                                                                <li ng-if="(dashboardItem.CreatedById==currentUserId || hasDashboardSharePermission) && !isTablet && samePagePreview" ng-hide="hideShare || (schemesDetails != null && !schemesDetails.Share) || activeMenu === @((int)DisplayCategory.UsageAnalytics)">
                                                                    <span class="item-permissions option-click" title="" ng-click="shareDashboardPermission()">
                                                                        <i class="su su-share"></i>
                                                                        <span>@T["Share"]</span>
                                                                    </span>
                                                                </li>
                                                                <li ng-if="dashboardItem.CanWrite && !isTablet" ng-hide="hideEdit || (schemesDetails != null && !schemesDetails.Edit)">
                                                                    <span class="web-designer option-click" title="" ng-click="editDashboard()">
                                                                        <i class="su su-edit"></i>
                                                                        <span>@T["Edit"]</span>
                                                                    </span>
                                                                </li>
                                                                <li ng-if="(dashboardItem.CreatedById == currentUserId || isAdmin || hasDashboardSharePermission) && !dashboardItem.IsPublic" ng-hide="isSharePublishAllowed || hideMakePublic || (schemesDetails != null && !schemesDetails.MakePublic || activeMenu === @((int)DisplayCategory.UsageAnalytics))">
                                                                    <span title="" class="make-public option-click" ng-click="makePublic()">
                                                                        <i class="su su-public"></i>
                                                                        <span>@T["Make Public"]</span>
                                                                    </span>
                                                                </li>
                                                                <li ng-if="(dashboardItem.CreatedById == currentUserId || isAdmin || hasDashboardSharePermission) && dashboardItem.IsPublic" ng-hide="isSharePublishAllowed || hideMakePrivate || (schemesDetails != null && !schemesDetails.MakePrivate)">
                                                                    <span title="" class="remove-public option-click" ng-click="makePrivate()">
                                                                        <i class="su su-remove-public"><span class="su-remove-public path1"></span><span class="su-remove-public path2"></span><span class="su-remove-public path3"></span></i>
                                                                        <span>@T["Make Private"]</span>
                                                                    </span>
                                                                </li>
                                                                <li ng-hide="hideGetLink || (schemesDetails != null && !schemesDetails.GetLink)">
                                                                    <span title="" class="get-link option-click" ng-click="getItemLink()">
                                                                        <i class="su su-link"></i>
                                                                        <span>@T["Get Link"]</span>
                                                                    </span>
                                                                </li>
                                                                <li ng-if="dashboardItem.ItemType == @((int)ItemType.Dashboard) && !isTablet && getDashboardEmbedCode" ng-hide="hideGetEmbedCode || (schemesDetails != null && !schemesDetails.GetEmbedCode) || activeMenu === @((int)DisplayCategory.UsageAnalytics)">
                                                                    <span title="" class="get-embed-code option-click" ng-click="getEmbedCodeFromContext()">
                                                                        <i class="su su-embed"></i>
                                                                        <span>@T["Get Embed code"]</span>
                                                                    </span>
                                                                </li>
                                                                <li ng-if="dashboardItem.ItemType == @((int)ItemType.Dashboard) && !isTablet && !dashboardItem.IsMultiDashboard" ng-hide="hideViews || (schemesDetails != null && !schemesDetails.Views) || activeMenu === @((int)DisplayCategory.UsageAnalytics)" class="dropdown dashboard-views no-padding" data-load="true">
                                                                    <span href="javascript:void(0);" class="dropdown-toggle views" data-bs-toggle="dropdown" ng-mouseenter="getDashboardViews($event)">
                                                                        <i class="su su-filter"></i>
                                                                        <span>@T["Views"]</span>
                                                                    </span>
                                                                    <ul class="dropdown-menu item-views no-padding" role="menu">
                                                                        <li>
                                                                            <span class="view-name" href="javascript:void(0);">
                                                                                @T["Loading..."]
                                                                            </span>
                                                                        </li>
                                                                    </ul>
                                                                </li>
                                                                <li ng-if="!isTablet && !dashboardItem.IsMultiDashboard" ng-hide="(isSharePublishAllowed || (isUserBasedMenu  && (!hasScheduleCreatePermission && !scheduleItemExist )) || hideViewSchedules ||(schemesDetails != null && !schemesDetails.ViewSchedules) || activeMenu === @((int)DisplayCategory.UsageAnalytics))">
                                                                    <span class="view-schedule option-click" ng-click="viewSchedules()">
                                                                        <i class="su su-nav-schedule"></i>
                                                                        <span>@T["View Schedules"]</span>
                                                                    </span>
                                                                </li>
                                                                <li ng-hide="hideInfo || (schemesDetails != null && !schemesDetails.Info)">
                                                                    <span class="option-click" title="" ng-click="openInfo()">
                                                                        <i class="su su-info"></i>
                                                                        <span>@T["Info"]</span>
                                                                    </span>
                                                                </li>
                                                                <li ng-if="!isTablet && (dashboardItem.CreatedById==currentUserId || isAdmin)" role="separator" class="divider" ng-hide="(hideEdit && hideMakePublic && hideGetLink && hideGetEmbedCode && hideViews && hideViewSchedules && hideInfo) || hideSecurity || (schemesDetails != null && !schemesDetails.Security) || activeMenu === @((int)DisplayCategory.UsageAnalytics)"></li>
                                                                <li ng-if="!isTablet && (dashboardItem.CreatedById==currentUserId || isAdmin)" ng-hide="hideSecurity || (schemesDetails != null && !schemesDetails.Security) || activeMenu === @((int)DisplayCategory.UsageAnalytics)">
                                                                    <span class="option-click" ng-click="getItemSettingsDialog()">
                                                                        <i class="su su-shield"></i>
                                                                        <span>@T["Security"]</span>
                                                                    </span>
                                                                </li>
                                                                <li ng-if="(dashboardItem.CreatedById == currentUserId || isAdmin) && dashboardItem.IsMultiDashboard" ng-hide="hideTabSecurity || activeMenu === @((int)DisplayCategory.UsageAnalytics)">
                                                                    <span title="" class="option-click" ng-click="tabSecurityConfirmation()">
                                                                        <i class="su su-tab-security"></i>
                                                                        <span>@T["Tab Security"]</span>
                                                                    </span>
                                                                </li>
                                                                <li ng-if="(dashboardItem.CanMove || dashboardItem.CanCopy || dashboardItem.CanClone) && !isTablet && !dashboardItem.IsLocked" role="separator" class="divider" ng-hide="hideMove || (schemesDetails != null && !schemesDetails.Move)"></li>
                                                                <li ng-if="dashboardItem.CanMove && dashboardItem.CanDelete && !isTablet && !dashboardItem.IsLocked" ng-hide="hideMove || (schemesDetails != null && !schemesDetails.Move)">
                                                                    <span title="" class="moveItem option-click" data-action="Move" ng-click="moveDashboard(dashboardItem)">
                                                                        <i class="su su-move"></i>
                                                                        <span>@T["Move"]</span>
                                                                    </span>
                                                                </li>
                                                                <li ng-if="(dashboardItem.CanCopy && !isTablet && !dashboardItem.IsLocked) || (usageAnalytics && (isAdmin || hasDashboardSettingsPermission))" ng-hide="schemesDetails != null && !schemesDetails.Copy">
                                                                    <span title="" class="copyItem option-click" data-action="Copy" ng-click="copyDashboard(dashboardItem)">
                                                                        <i class="su su-copy"></i>
                                                                        <span>@T["Copy"]</span>
                                                                    </span>
                                                                </li>
                                                                <li ng-if="enableCloneDashboard && dashboardItem.CanClone && !isTablet && !dashboardItem.IsMultiDashboard && !dashboardItem.IsLocked" ng-hide="schemesDetails != null && !schemesDetails.Clone">
                                                                    <span title="" class="copyItem option-click" data-action="Clone" ng-click="cloneDashboard()">
                                                                        <i class="su su-clone"></i>
                                                                        <span>@T["Clone"]</span>
                                                                    </span>
                                                                </li>
                                                                <li ng-if="(dashboardItem.CreatedById==currentUserId || isAdmin) && !isTablet && !dashboardItem.IsMultiDashboard" ng-hide="isSharePublishAllowed || (hidePublish || (schemesDetails != null && !schemesDetails.Publish) || activeMenu === @((int)DisplayCategory.UsageAnalytics))">
                                                                    <span title="" class="option-click" data-action="Publish" ng-click="getPublishSiteDetailDialog($event)">
                                                                        <i class="su su-publish"></i>
                                                                        <span>@T["Publish"]</span>
                                                                    </span>
                                                                </li>
                                                                <li ng-if="(dashboardItem.CreatedById==currentUserId || dashboardItem.CanDownload) && !isTablet && !dashboardItem.IsMultiDashboard" ng-hide="hideDownload || activeMenu === @((int)DisplayCategory.UsageAnalytics)">
                                                                    <span title="" class="option-click" data-action="Download" ng-click="downloadDashboard()">
                                                                        <i class="su su-download"></i>
                                                                        <span>@T["Download"]</span>
                                                                    </span>
                                                                </li>
                                                                <li ng-if="((dashboardItem.ItemType == @((int)ItemType.Dashboard) && dashboardItem.CanSchedule) || dashboardItem.CreatedById==currentUserId || isAdmin) && !isTablet && !dashboardItem.IsMultiDashboard" role="separator" class="divider" ng-hide="hideCreateSchedule || (schemesDetails != null && !schemesDetails.CreateSchedule) || activeMenu === @((int)DisplayCategory.UsageAnalytics)"></li>
                                                                <li ng-if="dashboardItem.ItemType == @((int)ItemType.Dashboard) && dashboardItem.CanSchedule && !isTablet && !dashboardItem.IsMultiDashboard" ng-hide="hideCreateSchedule || (schemesDetails != null && !schemesDetails.CreateSchedule)">
                                                                    <span href="javascript:void(0);" class="schedule-dashboards option-click" title="" ng-click="scheduleDashboard()">
                                                                        <i class="su su-nav-schedule"></i>
                                                                        <span>@T["Create Schedule"]</span>
                                                                    </span>
                                                                </li>
                                                                <li ng-if="!isTablet && !dashboardItem.IsMultiDashboard" role="separator" class="divider" ng-hide="hideVersionHistory || (schemesDetails != null && !schemesDetails.VersionHistory) || activeMenu === @((int)DisplayCategory.UsageAnalytics)"></li>
                                                                <li ng-if="!isTablet" ng-hide="hideVersionHistory || (schemesDetails != null && !schemesDetails.VersionHistory) || activeMenu === @((int)DisplayCategory.UsageAnalytics)">
                                                                    <span class="version-button option-click" title="" ng-click="versionHistory()">
                                                                        <i class="su su-versions"></i>
                                                                        <span>@T["Version History"]</span>
                                                                    </span>
                                                                </li>
                                                                <li ng-if="(dashboardItem.CanWrite || dashboardItem.CanDelete) && !isTablet && !dashboardItem.IsMultiDashboard" role="separator" class="divider" ng-hide="hideDelete ||(schemesDetails != null && !schemesDetails.Delete)"></li>
                                                                <li ng-if="dashboardItem.CanWrite && !isTablet && dashboardItem.Extension =='.sydx' && '@GlobalAppSettings.Branding' == '@AppBranding.Syncfusion.Identifier'">
                                                                    <span title="" class="item-edit option-click" ng-click="updateDashboard()">
                                                                        <i class="su su-upload"></i>
                                                                        <span>@T["Upload Dashboard"]</span>
                                                                    </span>
                                                                </li>
                                                                <li ng-if="dashboardItem.ItemType == @((int)ItemType.Dashboard) && dashboardItem.Extension == '.sydx' && dashboardItem.CanWrite && !isTablet && !dashboardItem.IsMultiDashboard">
                                                                    <span href="javascript:void(0);" title="" class="update-datasource option-click" ng-click="updateDashboardDataSource()">
                                                                        <i class="su su-nav-datasource"></i>
                                                                        <span>@T["Update Data Source(s)"]</span>
                                                                    </span>
                                                                </li>
                                                                <li ng-if="dashboardItem.CanDelete && !isTablet" ng-hide="hideDelete || (schemesDetails != null && !schemesDetails.Delete)">
                                                                    <span title="" class="item-delete option-click" ng-click="deleteItem()">
                                                                        <i class="su su-delete"></i>
                                                                        <span>@T["Delete"]</span>
                                                                    </span>
                                                                </li>
                                                            </ul>
                                                        </div>
                                                        <div class="dashboard-share ng-scope" ng-if="(dashboardItem.CreatedById==currentUserId || hasDashboardSharePermission) && !isTablet && !samePagePreview" ng-hide="isSharePublishAllowed || (hideShare || (schemesDetails != null && !schemesDetails.Share) || activeMenu === 12)" ng-show="activeMenu !== @((int)DisplayCategory.UsageAnalytics)">
                                                            <span class="item-permissions primary-menu no-margin" title="" ng-click="shareDashboardPermission()">
                                                                <i class="su su-share"></i>
                                                            </span>
                                                        </div>
                                                        <div class="no-padding dashboard-edit">
                                                            <span class="web-designer primary-menu no-margin" title="" ng-click="editDashboard()" ng-if="!hideEdit && dashboardItem.CanWrite && !isTablet && !isMobile && !samePagePreview && activeMenu !== @((int)DisplayCategory.UsageAnalytics)">
                                                            <i class="su su-edit"></i>
                                                            </span>
                                                        </div>
                                                        <div class="no-padding dashboard-open">
                                                            <span class="open-link-icon no-margin" title="" ng-show="!isTablet && !isMobile && !samePagePreview && activeMenu !== @((int)DisplayCategory.UsageAnalytics)">
                                                                <a class="web-designer option-click"ng-click="redirectToDashboard(viewDashboardUrl(dashboardItem.Id, dashboardItem.CategoryName, dashboardItem.Name))" href="javascript:void(0);" target="_blank">
                                                                    <i class="items view-item su su-external-link"></i>
                                                                </a>

                                                            </span> 
                                                        </div>
                                                    </div>
                                                </div>
                                                <div class="dashboard-info-section-2 col-12 no-padding no-margin" ng-show="activeMenu !== @((int)DisplayCategory.UsageAnalytics) && !hideDashboardInfoSection">
                                                    <div class="col-12 no-padding dashboard-info-section-2-div" ng-class="{'no-margin': samePagePreview || isMobile }">
                                                        <div class="col-4 no-padding profile-section" ng-show="!hideAuthorName || !hideMultitabText">
                                                            <span class="author-name no-padding no-margin" ng-show="!hideAuthorName">
                                                                <span class="su su-created-by"></span>
                                                                {{dashboardItem.CreatedByDisplayName}}
                                                            </span>
                                                            <span class="badge badge-secondary1" ng-class="{'badge-secondary2': !hideMultitabText }" ng-show="!hideMultitabText" ng-if="dashboardItem.IsMultiDashboard">@T["Multi-Tab"]</span>
                                                        </div>
                                                        <div class="col-4 no-padding category-section" ng-hide="hideCategoryName">
                                                            <span class="category-name no-padding no-margin" ng-if="activeMenu === @((int)DisplayCategory.AllDashboards)">
                                                                <span class="category-icon su su-categoried-dashboard"></span>
                                                                {{dashboardItem.CategoryName}}
                                                            </span>
                                                        </div>
                                                        <div class="col-4 no-padding modifieddate-section" ng-hide="hideModifiedDate">
                                                            <span ng-show="!isTablet && !samePagePreview && activeMenu !== @((int)DisplayCategory.UsageAnalytics)" class="modified-date no-padding no-margin">
                                                                <span ng-show="!isTablet" class="su su-clock clock-listing-icon modified-date no-margin"></span>
                                                                {{dashboardItem.ModifiedDate}}
                                                            </span>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                            <div ng-if="dashboardItem.IsDraft && !dashboardItem.IsUploadDraft" class="col-12 no-padding draft-item">
                                                <span class="su favorite" ng-hide="schemesDetails != null && !schemesDetails.Favorite" data-favorite="{{dashboardItem.IsFavorite}}" ng-click="toggleFavorite()" ng-class="!dashboardItem.IsDraft ? (dashboardItem.IsFavorite ? 'su-favorite' : 'su-dis-favorite') : ''"></span>
                                                <div class="col-12 open-link">
                                                    <a class="col-12 no-padding" ng-href="{{isTablet || dashboardItem.IsUploadDraft ? '' : editDraftDashboardUrl(dashboardItem.Id, dashboardItem.Name)}}" ng-click="dashboardItem.IsUploadDraft ? editDraftDashboard() : '' " href="#" target="_blank">
                                                        <span class="col-12 no-padding">
                                                            <span class="dashboard-name no-padding" ng-class="isTablet ? 'col-12' : 'col-8'">
                                                                {{dashboardItem.Name}}
                                                                <span class="author-name col-12 no-padding" ng-show="!hideAuthorName">
                                                                    <span>{{dashboardItem.CreatedByDisplayName}}</span>
                                                                </span>
                                                            </span>
                                                            <span ng-show="!isTable" class="col-2 modified-date" ng-hide="hideModifiedDate || samePagePreview">
                                                                <span ng-show="!isTablet" class="su su-clock clock-listing-icon modified-date no-padding no-margin"></span>
                                                                {{dashboardItem.ModifiedDate}}
                                                            </span>
                                                        </span>
                                                    </a>
                                                </div>
                                                <div class="no-padding float-end">
                                                    <div class="options context-menu" ng-class="{'options-hide-author': hideAuthorName }" ng-if="(dashboardItem.CreatedById==currentUserId || isAdmin) && !isTablet" ng-hide="schemesDetails != null && !schemesDetails.ContextMenu">
                                                        <span class="dropdown-toggle su su-options-menu options-area" data-bs-display="static" data-bs-toggle="dropdown"></span>
                                                        <ul class="dropdown-menu dashboard-options" data-bs-popper="none" role="menu">
                                                            <li ng-hide="schemesDetails != null && !schemesDetails.Edit">
                                                                <span class="open-item option-click" ng-click="editDraftDashboard()">
                                                                    <i class="su su-edit"></i>
                                                                    <span>@T["Edit"]</span>
                                                                </span>
                                                            </li>
                                                            <li ng-hide="schemesDetails != null && !schemesDetails.Info">
                                                                <span class="option-click" title="" ng-click="openInfo()">
                                                                    <i class="su su-info"></i>
                                                                    <span>@T["Info"]</span>
                                                                </span>
                                                            </li>
                                                            <li ng-hide="hideDelete || (schemesDetails != null && !schemesDetails.Delete)">
                                                                <span title="" class="item-delete option-click" ng-click="deleteItem()">
                                                                    <i class="su su-delete"></i>
                                                                    <span>@T["Delete"]</span>
                                                                </span>
                                                            </li>
                                                        </ul>
                                                    </div>
                                                </div>
                                            </div>
                                            <div ng-if="dashboardItem.IsDraft && dashboardItem.IsUploadDraft" class="col-12 no-padding upload-draft-item">
                                                <div class="dashboard-info-section col-12" ng-class="{'dashboard-tile-hide-description-div': !dashboardItem.Description || hideDescription, 'dashboard-usage-height' : activeMenu == @((int)DisplayCategory.UsageAnalytics) || hideDashboardInfoSection}">
                                                    <div class="dashboard-select-list col-1 no-padding" ng-show="activeMenu !== @((int)DisplayCategory.UsageAnalytics)">
                                                        @Html.CheckBox("{{dashboardItem.Id}}", false, new { @id="{{dashboardItem.Id}}", @class = "dashboard-select-individual material-checkbox", @autocomplete = "off" })
                                                        <label for="{{dashboardItem.Id}}" ng-if="!isTablet && !isMobile && !hideDownloadCheckbox"></label>
                                                    </div>
                                                    <div class="col-12 open-link no-padding" ng-class="setWidthForDashboardName()">
                                                        <a class="col-12 no-padding" ng-click="uploadDialogOpen()" href="#">
                                                            <span class="col-12 no-padding">
                                                                <span class="dashboard-name no-padding no-margin" ng-class="isTablet ? 'col-12' : 'col-8'">
                                                                    {{dashboardItem.Name}}
                                                                    <span class="dashboard-description col-12 no-padding" ng-hide="hideDescription">
                                                                        <span class="col-12 no-padding">{{dashboardItem.Description}}</span>
                                                                    </span>
                                                                </span>
                                                            </span>
                                                        </a>
                                                    </div>
                                                    <div class="col-2 no-padding icon-menu ng-hide" ng-show="!hideOptionMenu">
                                                        <div class="no-padding float-end">
                                                        <div class="options context-menu" ng-class="{'options-hide-author': hideAuthorName }" ng-if="(dashboardItem.CreatedById==currentUserId || isAdmin) && !isTablet" ng-hide="schemesDetails != null && !schemesDetails.ContextMenu">
                                                                <span class="dropdown-toggle su su-options-menu options-area" data-bs-display="static" data-bs-toggle="dropdown"></span>
                                                                <ul class="dropdown-menu dashboard-options" data-bs-popper="none" role="menu">
                                                                <li ng-hide="schemesDetails != null && !schemesDetails.Edit">
                                                                        <span class="open-item option-click" ng-click="uploadDialogOpen()">
                                                                        <i class="su su-upload"></i>
                                                                        <span>@T["Complete Upload"]</span>
                                                                    </span>
                                                                </li>
                                                                <li ng-hide="schemesDetails != null && !schemesDetails.Info">
                                                                    <span class="option-click" title="" ng-click="openInfo()">
                                                                        <i class="su su-info"></i>
                                                                        <span>@T["Info"]</span>
                                                                    </span>
                                                                </li>
                                                                <li ng-hide="hideDelete || (schemesDetails != null && !schemesDetails.Delete)">
                                                                    <span title="" class="item-delete option-click" ng-click="deleteItem()">
                                                                        <i class="su su-delete"></i>
                                                                        <span>@T["Delete"]</span>
                                                                    </span>
                                                                </li>
                                                            </ul>
                                                        </div>
                                                    </div>
                                                    </div>
                                                </div>
                                                <div class="dashboard-info-section-2 col-12 no-padding no-margin" ng-show="activeMenu !== @((int)DisplayCategory.UsageAnalytics) && !hideDashboardInfoSection">
                                                    <div class="col-4 no-padding profile-section" ng-show="!hideAuthorName">
                                                        <span class="author-name no-padding no-margin">
                                                            <span class="su su-created-by"></span>
                                                            {{dashboardItem.CreatedByDisplayName}}
                                                        </span>                                                  
                                                    </div>
                                                    <div class="col-4 no-padding category-section">
                                                        <span class="category-name no-padding no-margin">
                                                            <span class="category-icon su su-categoried-dashboard"></span>
                                                            {{dashboardItem.CategoryName}}
                                                        </span>
                                                    </div>
                                                    <div class="col-4 no-padding modifieddate-section" ng-hide="hideModifiedDate">
                                                        <span ng-show="!isTablet && !samePagePreview && activeMenu !== @((int)DisplayCategory.UsageAnalytics)" class="modified-date no-padding no-margin">
                                                            <span ng-show="!isTablet" class="su su-clock clock-listing-icon modified-date no-margin"></span>
                                                                {{dashboardItem.ModifiedDate}}
                                                        </span>
                                                    </div>
                                                </div>
                                            </div>
                                        </li>
                                        <li class="col-12 no-padding" ng-show="isAppendLoading">
                                            <div class="fd-post">
                                                <div class="fd-place-holder">
                                                    <div class="fd-divider-1"></div>
                                                    <div class="fd-divider-2"></div>
                                                    <div class="fd-date-time"></div>
                                                    <div class="fd-divider-3"></div>
                                                </div>
                                            </div>
                                            <div class="fd-post">
                                                <div class="fd-place-holder">
                                                    <div class="fd-divider-1"></div>
                                                    <div class="fd-divider-2"></div>
                                                    <div class="fd-date-time"></div>
                                                    <div class="fd-divider-3"></div>
                                                </div>
                                            </div>
                                            <div class="fd-post">
                                                <div class="fd-place-holder">
                                                    <div class="fd-divider-1"></div>
                                                    <div class="fd-divider-2"></div>
                                                    <div class="fd-date-time"></div>
                                                    <div class="fd-divider-3"></div>
                                                </div>
                                            </div>
                                        </li>
                                    </ul>
                                </div>
                            </div>
                        </div>

                        <div class="dashboard-empty-message-div col-12 ng-hide" ng-show="totalDashboardCount == 0">
                            <div class="empty-dashboard-image-div">
                                <img class="empty-dashboard-image" src="@dashboardServerResourceUrl/cdn/css/images/dashboard-empty-state.svg" style="margin: 0 auto;/*! width: 100%; */" loading="lazy">
                            </div>
                            <div ng-show="categoryList.length === 0 && activeMenu !== @((int)DisplayCategory.DraftItems) && activeMenu !== @((int)DisplayCategory.UploadDrafts)">
                                <span class="dashboard-empty-message" ng-show="!canCreateDashboard">@T["No dashboards have been shared with you."]</span>
                                <span class="dashboard-empty-message" ng-show="canCreateDashboard">@T["You don’t have any dashboards and no dashboards have been shared with you."]</span>
                            </div>
                            <div ng-show="categoryList.length !== 0 && activeMenu !== @((int)DisplayCategory.DraftItems) && activeMenu !== @((int)DisplayCategory.UploadDrafts)">
                                <span class="dashboard-empty-message" ng-show="selectedFilter === @((int)DisplayCategory.AllDashboards) && dashboardSearchQuery == ''">@T["No dashboards available to display."]</span>
                                <span class="dashboard-empty-message" ng-show="selectedFilter !== @((int)DisplayCategory.AllDashboards) || dashboardSearchQuery != ''">@T["No dashboards were found that match your search. Try modifying your search or filters."]</span>
                            </div>
                            <div ng-show="activeMenu === @((int)DisplayCategory.DraftItems)">
                                <span class="dashboard-empty-message" ng-show="dashboardSearchQuery == ''">@T["No drafts available to display."]</span>
                                <span class="dashboard-empty-message" ng-show="dashboardSearchQuery != ''">@T["No drafts were found that match your search. Try modifying your search."]</span>
                            </div>
                            <div ng-show="activeMenu === @((int)DisplayCategory.UploadDrafts)">
                                <span class="dashboard-empty-message" ng-show="dashboardSearchQuery == ''">@T["No upload drafts available to display."]</span>
                                <span class="dashboard-empty-message" ng-show="dashboardSearchQuery != ''">@T["No upload drafts were found that match your search. Try modifying your search."]</span>
                            </div>
                            <div ng-show="(activeMenu !== @((int)DisplayCategory.UsageAnalytics) && activeMenu !== @((int)DisplayCategory.UploadDrafts) && activeMenu !== @((int)DisplayCategory.DraftItems) && selectedFilter !== @((int)DisplayCategory.SharedWithMe)) || (activeMenu === @((int)DisplayCategory.DraftItems))" class="create-buttton">
                                <button data-action="create-items" ng-show="canCreateDashboard && !isTablet" class="primary-button app-btn-primary">@T["Create Dashboard"]</button>
                            </div>
                            <div ng-show="activeMenu === @((int)DisplayCategory.UploadDrafts)" class="create-buttton">
                                <button data-action="upload-items" ng-show="canCreateDashboard && !isTablet" class="primary-button app-btn-primary">@T["Upload Dashboard"]</button>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            @if (samePagePreview)
            {
                <div class="dashboard-header-container samepage-preview-header">
                    <div class="col-3 top-nav-sec no-padding">
                        @await Html.PartialAsync("../Shared/_TopMenu")
                    </div>
                    <div class="item-searchbox-container col-5" ng-show="activeMenu !== @((int)DisplayCategory.UsageAnalytics)" ng-class="showSearch ? 'search-active' : ''">
                        <div ng-show="(!isTablet) || showSearch" class="col-3 no-padding no-margin dashboard-search-area float-end">
                            <span class="su su-inner-close float-end no-margin ng-hide" ng-show="dashboardSearchQuery != ''" ng-click="onDashboardSearchClear()" ng-class="isFocus ? 'active' : ''" data-bs-html="true" title="<span class='clear-search-tooltip'>@T["Clear search"]</span>" data-container="body" data-bs-toggle="clear-tooltip" data-bs-placement="bottom"></span>
                            <span class="su su-search float-end no-margin" ng-show="dashboardSearchQuery == ''" ng-class="isFocus ? 'active' : ''" title="@T["Search"]" data-bs-toggle="search-tooltip" data-container="body" data-bs-placement="bottom"></span>
                            <input type="password" name="password" style="display:none;">
                            <input type="text" id="dashboard-search-items" class="float-end no-margin" ng-change="doDashboardSearch()" ng-model="dashboardSearchQuery" ng-focus="isFocus = true" ng-blur="onSearchFocusOut()" placeholder="@T["Search dashboards"]" />
                        </div>
                    </div>
                </div>
            }
        </div>

        <!-- Mobile view-->
        <div class="modal fade" id="dashboard-sort-modal" role="dialog" ng-controller="MobileViewSortCtrl">
            <div class="modal-dialog">
                <div class="modal-content">
                    <div class="modal-body no-padding">
                        <ul class="dashboard-sort-filter-menu no-padding">
                            @*<li ng-class="{selected : selectedSort === 'CreatedDate' && sortDirection === 'descending'}" ng-click="updateSortSelection($event, 'CreatedDate', 'descending')">
                    <a class="dashboard-sort-options" href="javascript:void(0);">
                    <i class="su su-tick"></i>
                    <span class="search-option">@T["Recently Added"]</span>
                    </a>
                    </li>*@
                            <li ng-class="{selected : selectedSort === 'ModifiedDate' && sortDirection === 'descending'}" ng-click="updateSortSelection($event, 'ModifiedDate', 'descending')">
                                <a class="dashboard-sort-options" href="javascript:void(0);">
                                    <i class="su su-tick"></i>
                                    <span class="search-option">@T["Recently Updated"]</span>
                                </a>
                            </li>
                            <li ng-class="{selected : selectedSort === 'Name' && sortDirection === 'ascending'}" ng-click="updateSortSelection($event, 'Name' , 'ascending')">
                                <a class="dashboard-sort-options" href="javascript:void(0);">
                                    <i class="su su-tick"></i>
                                    <span class="search-option">@T["Dashboard Name (A-Z)"]</span>
                                </a>
                            </li>
                            <li ng-class="{selected : selectedSort === 'Name' && sortDirection === 'descending'}" ng-click="updateSortSelection($event, 'Name', 'descending')">
                                <a class="dashboard-sort-options" href="javascript:void(0);">
                                    <i class="su su-tick"></i>
                                    <span class="search-option">@T["Dashboard Name (Z-A)"]</span>
                                </a>
                            </li>
                            @*<li ng-class="{selected : selectedSort === 'CreatedByDisplayName' && sortDirection === 'ascending'}" ng-click="updateSortSelection($event, 'CreatedByDisplayName', 'ascending')">
                    <a class="dashboard-sort-options" href="javascript:void(0);">
                    <i class="su su-tick"></i>
                    <span class="search-option">@T["Owner Name (A-Z)"]</span>
                    </a>
                    </li>
                    <li ng-class="{selected : selectedSort === 'CreatedByDisplayName' && sortDirection === 'descending'}" ng-click="updateSortSelection($event, 'CreatedByDisplayName', 'descending')">
                    <a class="dashboard-sort-options" href="javascript:void(0);">
                    <i class="su su-tick"></i>
                    <span class="search-option">@T["Owner Name (Z-A)"]</span>
                    </a>
                    </li>*@
                        </ul>
                    </div>
                    <div class="modal-footer">
                        <button type="button" class="app-button app-primary-button app-btn-primary" data-dismiss="modal" ng-click="onSortApplyClicked()">@T["Apply"]</button>
                        <button type="button" class="app-button app-secondary-button app-btn-secondary" data-dismiss="modal">@T["Close"]</button>
                    </div>
                </div>
            </div>
        </div>
    }
    else
    {
        @await Html.PartialAsync("../DefaultPages/DefaultPages", new ViewDataDictionary(ViewData) { { "Permissions", permisions }, { "ItemType", ItemType.Dashboard } })
    }
    
    <div id="tab-security" style="display:none">
        <div id="tab-security-content">@T["Enabling tab-level security will restrict tab visibility to users with the individual dashboard permission when dashboards are added as tabs. By default, all tabs will be visible to the user if the user has access to a multitab dashboard."]</div>
        <span>
            <input type="checkbox" class="material-checkbox" id="tab-security-checkbox">
            <input id="tab-security-checkbox" type="hidden">
            <label for="tab-security-checkbox" class="label-database">@T["Enable tab-level security"]</label>
        </span>
        <div class="bg-warning tab-security-note">
            <Span>@T["All tabs will be visible to the dashboard owner and administrators. Public dashboards added as tabs will also be visible."]</Span>
        </div>
    </div>

    <div id="popup-container" style="display:none" class="no-padding">
        <iframe id="scheduler-popup-iframe" class="datasource-popup-frame"></iframe>
    </div>

    <div id="Download_Item" style="display:none" class="no-padding"></div>

    <div id="make_item_public" class="no-padding float-start" style="display:none"></div>

    <div id="remove_item_public" class="no-padding" style="display:none"></div>

    <div id="make_item_unlist" class="no-padding float-start" style="display:none"></div>
    @if (!isMobile)
    {
        @await Html.PartialAsync("../Items/_AddItems")
        @await Html.PartialAsync("../Items/_SharePermission")
        @await Html.PartialAsync("../Items/_PublishDashboard")
        @await Html.PartialAsync("../Items/_GetExternalSites")
    }

    @if (samePagePreview && !isMobile)
    {
        @await Html.PartialAsync("_DashboardIframe")
    }

    @await Html.PartialAsync("../Items/_ItemInfo")

    <script>
        $(document).ready(function () {
            $('#user-group-search-input_suggestion').addClass("hide-suggesstion");
        });
    </script>
}