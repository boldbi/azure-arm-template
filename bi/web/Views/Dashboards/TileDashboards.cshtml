@using Newtonsoft.Json
@addTagHelper *, Microsoft.FeatureManagement.AspNetCore
@{
    var globalAppSettings = _globalAppSettings;
    ViewBag.Title = T["Dashboards"].Value + " - " + globalAppSettings.SystemSettings.OrganizationName;
    ViewBag.HelpSiteUrl = GlobalAppSettings.GetHelpSiteUrl(HelpSiteUrlNames.ManageDashboards);
    var currentUserId = ViewBag.currentUserId;
    var dashboardUrl = Url.Action("Dashboards", "Dashboards");
    var categories = String.Empty;
    if (ViewBag.Categories != null)
    {
        categories = JsonConvert.SerializeObject(ViewBag.Categories);
    }
    var permisions = ViewBag.ItemAddOptions;
    var itemsCount = ViewBag.ItemsCount as Dictionary<ItemType, int>;
    var isMobile = new DeviceDetection(Context).IsMobile;
    var dashboardServerResourceUrl = globalAppSettings.SystemSettings.CDNLink.TrimEnd('/');
    var customUI = globalAppSettings.SystemSettings.CustomUI;
    var iscustomUIProfile = customUI?.Profiles != null && customUI.Profiles[0].Dashboards != null;
    var schemes = iscustomUIProfile ? customUI.Schemes.Where(x => x.Name == customUI.Profiles[0].Dashboards.Scheme).FirstOrDefault() : null;
    var samePagePreview = iscustomUIProfile ? customUI.Profiles[0].Dashboards.SamePagePreview : false;
    var hideAuthorName = iscustomUIProfile && ((customUI.Profiles[0].Dashboards.SamePagePreviewUI != null && customUI.Profiles[0].Dashboards.SamePagePreviewUI.HideAuthorName) || (customUI.Profiles[0].Dashboards.HideAuthorName)) ? true : false;
    var hideMultitabText = iscustomUIProfile && ((customUI.Profiles[0].Dashboards.SamePagePreviewUI != null && customUI.Profiles[0].Dashboards.SamePagePreviewUI.HideMultiTabText) || (customUI.Profiles[0].Dashboards.HideMultiTabText) || (customUI.Profiles[0].Dashboards.HideAuthorName)) ? true : false;
    var hideSortOption = iscustomUIProfile ? customUI.Profiles[0].Dashboards.HideSorting : false;
    var hideCategoryName = iscustomUIProfile ? customUI.Profiles[0].Dashboards.HideCategoryName : false;
    var hideDescription = iscustomUIProfile ? customUI.Profiles[0].Dashboards.HideDescription : false;
    var hideModifiedDate = iscustomUIProfile ? customUI.Profiles[0].Dashboards.HideModifiedDate : false;
    var customSortOption = customUI?.Profiles != null && !string.IsNullOrWhiteSpace(customUI.Profiles[0].ItemSorting) ? customUI.Profiles[0].ItemSorting : null;
    var customSortName = customSortOption != null && (customSortOption.ToLower() == "itemnameascending" || customSortOption.ToLower() == "itemnamedescending") ? "Name" : "ModifiedDate";
    var customSortDirection = customSortOption != null && customSortOption.ToLower() == "itemnameascending" ? "ascending" : "descending";
    var usageAnalytics = globalAppSettings.SystemSettings.UsageAnalytics;
    var getDashboardEmbedCode = globalAppSettings.SystemSettings.GetDashboardEmbedCode;
    bool hideDashboardInfoSection = samePagePreview ? hideAuthorName && hideCategoryName : hideAuthorName && hideCategoryName && hideModifiedDate;
    var granularPermissions = ViewBag.GranularPermissions as Dictionary<object, bool>;
}

@section MainSection{
    <environment include="Development,CloudDevelopment">
        <link rel="stylesheet" asp-append-version="true" href="@dashboardServerResourceUrl/cdn/css/tile-dashboards-page.css" />
        <script asp-append-version="true" src="@dashboardServerResourceUrl/cdn/scripts/tile-dashboards-page.js"></script>
    </environment>
    <environment exclude="Development,CloudDevelopment">
        <link rel="stylesheet" asp-append-version="true" href="@dashboardServerResourceUrl/cdn/css/tile-dashboards-page.min.css" />
        <script asp-append-version="true" src="@dashboardServerResourceUrl/cdn/scripts/tile-dashboards-page.min.js"></script>
    </environment>

    <environment include="Development,CloudDevelopment">
        <script>
            var createItemMenuStyle = "@dashboardServerResourceUrl/cdn/css/create-item-menu.css?v=@ServerAppConfig.ProductVersion";
            var addSampleItemStyle = "@dashboardServerResourceUrl/cdn/css/addsampleitem.css?v=@ServerAppConfig.ProductVersion";
            var addCategoryStyle = "@dashboardServerResourceUrl/cdn/css/add-category.css?v=@ServerAppConfig.ProductVersion";
            var publishDashboardStyle = "@dashboardServerResourceUrl/cdn/css/publish-dashboard.css?v=@ServerAppConfig.ProductVersion";
            var dashboardSecurityStyle = "@dashboardServerResourceUrl/cdn/css/dashboard-security.css?v=@ServerAppConfig.ProductVersion";
            var itemVersionStyle = "@dashboardServerResourceUrl/cdn/css/itemversion.css?v=@ServerAppConfig.ProductVersion";
            var createSlideshowStyle = "@dashboardServerResourceUrl/cdn/css/create-slideshow.css?v=@ServerAppConfig.ProductVersion";
            var createDashboardStyle = "@dashboardServerResourceUrl/cdn/css/create-dashboard.css?v=@ServerAppConfig.ProductVersion";
            var dashboardFeedbackStyle = "@dashboardServerResourceUrl/cdn/css/dashboard-feedback.css?v=@ServerAppConfig.ProductVersion";
        </script>
    </environment>
    <environment exclude="Development,CloudDevelopment">
        <script>
            var createItemMenuStyle = "@dashboardServerResourceUrl/cdn/css/create-item-menu.min.css?v=@ServerAppConfig.ProductVersion" ;
            var addSampleItemStyle = "@dashboardServerResourceUrl/cdn/css/addsampleitem.min.css?v=@ServerAppConfig.ProductVersion";
            var addCategoryStyle = "@dashboardServerResourceUrl/cdn/css/add-category.min.css?v=@ServerAppConfig.ProductVersion";
            var publishDashboardStyle = "@dashboardServerResourceUrl/cdn/css/publish-dashboard.min.css?v=@ServerAppConfig.ProductVersion";
            var dashboardSecurityStyle = "@dashboardServerResourceUrl/cdn/css/dashboard-security.min.css?v=@ServerAppConfig.ProductVersion";
            var itemVersionStyle = "@dashboardServerResourceUrl/cdn/css/itemversion.min.css?v=@ServerAppConfig.ProductVersion";
            var createSlideshowStyle = "@dashboardServerResourceUrl/cdn/css/create-slideshow.min.css?v=@ServerAppConfig.ProductVersion";
            var createDashboardStyle = "@dashboardServerResourceUrl/cdn/css/create-dashboard.min.css?v=@ServerAppConfig.ProductVersion";
            var dashboardFeedbackStyle = "@dashboardServerResourceUrl/cdn/css/dashboard-feedback.min.css?v=@ServerAppConfig.ProductVersion";
        </script>
    </environment>

    <script>
        var searchKey = '@Html.Raw(ViewBag.searchKey)';
        var getItemUrl = "@Url.Action("GetItems", "Dashboards")";
        var favoriteItemUrl = "@Url.Action("MakeFavorite", "items")";
        var getCategories = "@Url.Action("RefreshCategoryList", "Dashboards")";
        var viewDashboardUrlAction = "@Url.Action("Dashboards", "Dashboards")";
        var editDashboardUrl = "@Url.Action("DashboardDesigner", "Designer")";
        var makePublicUrl = "@Url.Action("makeitempublic", "items")";
        var removePublicUrl = "@Url.Action("RemovePublic", "items")";
        var makeUnlistUrl = "@Url.Action("MakeItemUnlist", "items")";
        var privacySettingsUrl = "@Url.Action("PrivacySettings", "items")";
        var getLinkDialogViewUrl = "@Url.Action("GetLinkView", "items")";
        var viewSchedulesUrl = "@Url.Action("Schedules", "Scheduler")";
        var copyIframeUrl = "@Url.Action("copyviewitem", "items")";
        var moveIframeUrl = "@Url.Action("moveviewitem", "items")";
        var getdashboarddetailsUrl = "@Url.Action("getdashboarddetails", "dashboards")";
        var getDataSourceDetailsUrl = "@Url.Action("getdatasources", "dashboards")";
        var deleteItemUrl = "@Url.Action("deleteitem", "items")";
        var deleteConfirmationUrl = "@Url.Action("deleteconfirmation", "items")";
        var getViewsByItemIdUrl = "@Url.Action("GetViewsByItemId","Items")";
        var dashboardsUrl = "@Url.Action("dashboards", "dashboards")";
        var itemSettingsAccessUrl = "@Url.Action("itemsettingsaccess", "dashboards")";
        var downloadIframeUrl = "@Url.Action("DownloadViewItem", "items")";
        var downloadedResourcesUrl = "@Url.Action("GetPublishedItems", "publish")" + "?tab=offline-files";
        var uploadIframeUrl = "@Url.Action("UploadIframe", "Dashboards")";
        var uploadDashboardStatusUrl = "@Url.Action("UploadDashboardStatus", "Dashboards")";
        var editDashboardEmbedUrl = "@Url.Action("DashboardDesigner", "Designer")";
        var checkCategoriesExistUrl = "@Url.Action("CheckCategoriesExist", "Dashboards")";
        var currentUserId = @currentUserId;
        var isMaster = @Json.Serialize(globalAppSettings.SystemSettings.IsMaster);
        var isSelfHosted = @Json.Serialize(ServerAppConfig.IsSelfHosted);
        var isMarkItemsPublic = @Json.Serialize(globalAppSettings.SystemSettings.IsMarkItemsPublic);
        var isAdmin = @Json.Serialize(Convert.ToBoolean(Context.Session.GetString("IsAdmin")));
        var samePagePreview = @Json.Serialize(samePagePreview);
        var hideAuthorName = @Json.Serialize(hideAuthorName);
        var hideMultitabText = @Json.Serialize(hideMultitabText);
        var hideSortOption = @Json.Serialize(hideSortOption);
        var hideCategoryName = @Json.Serialize(hideCategoryName);
        var hideDescription = @Json.Serialize(hideDescription);
        var hideModifiedDate = @Json.Serialize(hideModifiedDate);
        var hideDashboardInfoSection = @Json.Serialize(hideDashboardInfoSection);
        var schemesDetails = @Html.Raw(Json.Serialize(schemes));
        var usageAnalytics = @Json.Serialize(usageAnalytics);
        var getDashboardEmbedCode = @Json.Serialize(getDashboardEmbedCode);
        var designerInstallationHelpUrl = "@(ServerAppConfig.AppSettings.Documentation.BaseUri + GlobalAppSettings.GetHelpSiteUrl(HelpSiteUrlNames.DesignerInstallation))";
        var usageAnalyticsHelpUrl = helpSiteBaseUrl + "@GlobalAppSettings.GetHelpSiteUrl(HelpSiteUrlNames.UsageAnalyticsDashboard)";
        var categoryList;
        if ('@categories' != '') {
            categoryList = @Html.Raw(categories);
        }
        else {
            categoryList = "";
        }
        var granularPermissions = @Html.Raw(JsonConvert.SerializeObject(granularPermissions));
        var enableCloneDashboard = @Json.Serialize(ServerAppConfig.EnableClone);
        var dashboardItemCount = "@itemsCount[ItemType.Dashboard]";
        var sortOption = [{ "Name": '@customSortName', "Direction": '@customSortDirection' }];
        var enableSameTabLinkTarget = @ServerAppConfig.EnableSameTabLinkTarget.ToString().ToLower();
    </script>
    @if (samePagePreview && !isMobile)
    {
        <div class="preloader-wrap viewer-blue-loader" style="width: 100%;height: 100%; position: fixed; top: 0; bottom: 0; background: white; z-index : 2;">
            <div id="loader_image" align="center" style="position:relative;top:45%;">
                <div class="loader-blue loader-icon" id="loader-icon">
                    <svg class="circular">
                        <circle class="path" cx="27" cy="27" r="20" fill="none" stroke-width="4" stroke-miterlimit="10"></circle>
                    </svg>
                </div>
            </div>
        </div>
    }
    @if (itemsCount != null && itemsCount.ContainsKey(ItemType.Dashboard) && itemsCount[ItemType.Dashboard] > 0)
    {
        <div class="dashboard-main-container no-padding" ng-controller="DashboardCtrl">
            <div id="dashboard-page-container" class="admin-page-container no-padding">
                <div class="mobile-header col-xs-12 ng-hide" ng-show="isMobile && !samePagePreview" ng-click="expandCategorySection()">
                    <span class="category-icon su" ng-class="activeMenu === @((int)DisplayCategory.AllDashboards) ? 'su-all-dashboards' : activeMenu === @((int)DisplayCategory.DraftItems) ? 'su-draft' : 'su-categoried-dashboard'"></span>
                    <span class="mobile-category-title" ng-bind="activeMenuLabel">@T["All Dashboards"]</span>
                    <span class="su no-margin mobile-section-expand-collapse" ng-class="expandCatSec ? 'su-vertical-collapse' : 'su-vertical-expand'"></span>
                </div>

                @if (samePagePreview)
                {
                    <div id="category-panel-dropdown" class="dropdown" ng-show="samePagePreview">
                        <button class="btn btn-default dropdown-toggle" data-toggle="dropdown" type="button">
                            <span class="category-icon su" ng-class="activeMenu === @((int)DisplayCategory.AllDashboards) ? 'su-all-dashboards' : activeMenu === @((int)DisplayCategory.DraftItems) ? 'su-draft' : 'su-categoried-dashboard'"></span>
                            <span class="mobile-category-title" ng-bind="activeMenuLabel === '@T["All Dashboards"]' ? '@T["All"]' : activeMenuLabel"></span>
                            <span class="su no-margin mobile-section-expand-collapse" ng-class="expandCatSec ? 'su-vertical-collapse' : 'su-vertical-expand'"></span>
                        </button>
                        <ul class="dropdown-menu category-bar-ul">
                            <li class="category-item" ng-class="{active : activeMenu === @((int)DisplayCategory.AllDashboards)}" ng-click="setActive(@((int)DisplayCategory.AllDashboards), '@T["All Dashboards"]', $event)">
                                <span class="category-icon su su-all-dashboards"></span>
                                <span class="category-bar-header">@T["All"]</span>
                            </li>
                            <li class="category-item" id="draft-items" ng-class="{active : activeMenu === @((int)DisplayCategory.DraftItems)}" ng-click="setActive(@((int)DisplayCategory.DraftItems), '@T["Drafts"]', $event)">
                                <span class="category-icon su su-clock"></span>
                                <span class="category-bar-header">@T["Drafts"]</span>
                            </li>
                            <li class="category-item" id="upload-draft-items" ng-show="!isMobile && !isTablet && !samePagePreview" ng-class="{active : activeMenu === @((int)DisplayCategory.UploadDrafts)}" ng-click="setActive(@((int)DisplayCategory.UploadDrafts), '@T["Upload Drafts"]', $event)">
                                <span class="category-icon su su-clock"></span>
                                <span class="category-bar-header">@T["Upload Drafts"]</span>
                                <span class="badge preview-badge badge-secondary1 badge-secondary2">@T["PREVIEW"]</span>
                            </li>
                            <li class="category-item ng-hide" ng-show="usageAnalytics && (isAdmin || hasDashboardSettingsPermission)" ng-class="{active : activeMenu === @((int)DisplayCategory.UsageAnalytics)}" ng-click="setActive(@((int)DisplayCategory.UsageAnalytics), '@T["Usage Analytics"]', $event)">
                                <span class="category-icon su su-nav-dashboard"></span>
                                <span class="category-bar-header">@T["Usage Analytics"]</span>
                            </li>
                            <li class="category-list">
                                <div class="col-xs-12 no-padding" ng-click="expandCategoryList()">
                                    <span class="category-icon su su-categoried-dashboard"></span>
                                    <span class="category-bar-header">@T["Categories"]</span>
                                    <span class="su no-margin category-expand-collapse" ng-class="expand ? 'su-vertical-collapse' : 'su-vertical-expand'"></span>
                                </div>
                                <div class="col-xs-12 no-padding ng-hide category-slide" ng-show="(categoryDataBindComplete || categoryList.length == 0) && expand">
                                    <div class="category-search-area">
                                        <input type="password" name="password" style="display:none;">
                                        <input type="text" class="category-search-box pull-left no-margin" ng-model="categorySearchQuery" ng-init="categorySearchQuery = ''" ng-change="refreshCategoryScroll()" ng-focus="isCategorySearchFocus = true" ng-blur="isCategorySearchFocus = false" placeholder="@T["Search Categories"]" />
                                        <span class="su close-icon su-inner-close pull-left no-margin ng-hide" ng-show="categorySearchQuery != ''" ng-click="onCategorySearchClear()" ng-class="{focus : isCategorySearchFocus}" data-toggle="tooltip" data-container="body" title="@T["Clear search"]"></span>
                                        <span class="su su-search pull-left no-margin" ng-show="categorySearchQuery == ''" ng-class="{focus : isCategorySearchFocus}" title="@T["Search"]" data-toggle="tooltip"></span>
                                    </div>
                                    <div id="parent-category-scroll-element">
                                        <div id="category-scroll-element" class="col-xs-12 no-padding">
                                            <div id="category-scroll-content" class="col-xs-12 no-padding">
                                                <ul ng-repeat="categoryItem in categoryList | filter:{Name: categorySearchQuery} as filteredCategory" class="col-xs-12 no-padding" category-repeat-directive>
                                                    <li class="category-item" ng-class="{active : activeMenu === categoryItem.Id}" ng-click="setActive(categoryItem.Id, categoryItem.Name, $event)">
                                                        <div class="col-xs-12 no-padding" data-toggle="category-list-tooltip" data-placement="right" data-container="body" title="<span class='dashboard-list-tooltip'><span class='tooltip-row'><span class='tooltip-label'>@T["Name"].Value: </span><span class='tooltip-description'>{{categoryItem.Name}}</span></span>{{categoryItem.Description != '' ? '<span class=\'tooltip-row\'><span class=\'tooltip-label\'>@T["Description"].Value: </span><span class=\'tooltip-description\'>' + categoryItem.Description + '</span></span>' : ''}}<span class='tooltip-row'><span class='tooltip-label'>@T["Owner Name"].Value: </span><span class='tooltip-description'>{{categoryItem.CreatedByDisplayName}} </span></span><span class='tooltip-row'><span class='tooltip-label'>@T["Added Date"].Value: </span><span class='tooltip-description'>{{categoryItem.CreatedDate}}</span></span></span>" data-html="true">
                                                            <a class="col-xs-8 category-name" id="category-item" href="@Html.Encode(dashboardUrl + "?category={{categoryItem.Name}}")">{{categoryItem.Name}}</a>
                                                            <span class="count-container">
                                                                <span class="category-count">{{categoryItem.ReportsCount}}</span>
                                                            </span>
                                                            <ul class="category-settings pull-left">
                                                                <li class="dropdown category-context-menu cat-settings-li" ng-if="(categoryItem.CreatedById== currentUserId || isAdmin || categoryItem.CanWrite || categoryItem.CanDelete || hasCategorySharePermission) && !isTablet">
                                                                    <span class="cat-settings dropdown-toggle no-margin no-padding su su-settings-1" title="@T["Actions"]" data-placement="top">
                                                                    </span>
                                                                    <ul class="dropdown-menu" role="menu">
                                                                        <li ng-if="categoryItem.CreatedById== currentUserId || isAdmin || hasCategorySharePermission">
                                                                            <a href="javascript:void(0);" class="item-permissions" title="" ng-click="sharePermission()">
                                                                                <i class="su su-manage-permission"></i>
                                                                                <span>@T["Sharing Permissions"]</span>
                                                                            </a>
                                                                            <hr ng-if="categoryItem.CanWrite || categoryItem.CanDelete" class="no-margin" />
                                                                        </li>
                                                                        <li ng-if="categoryItem.CanWrite">
                                                                            <a class="EditCategory" href="javascript:void(0)" title="" ng-click="editCategory()">
                                                                                <i class="su su-edit"></i>
                                                                                <span>@T["Update"]</span>
                                                                            </a>
                                                                        </li>
                                                                        <li ng-if="categoryItem.CanDelete">
                                                                            <a class="DeleteCategory" href="javascript:void(0)" ng-click="deleteCategory()">
                                                                                <i class="su su-delete"></i>
                                                                                <span>@T["Delete"]</span>
                                                                            </a>
                                                                        </li>
                                                                    </ul>
                                                                </li>
                                                            </ul>
                                                        </div>
                                                    </li>
                                                </ul>

                                                <div class="category-empty-message-div col-xs-12 ng-hide" ng-show="filteredCategory.length == 0 || categoryList.length == 0">
                                                    <span class="category-empty-message">@T["No categories available to display."]</span>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </li>
                        </ul>
                        <div class=" col-xs-3 dashboard-sort-container ng-hide no-padding" ng-show="!showSearch && !hideSortOption">
                            <div id="dashboard-sort-dropdown" class="col-xs-10 dashboard-filter-sort dropdown no-padding">
                                <button class="btn btn-default dropdown-toggle" data-toggle="dropdown" type="button">
                                    <span class="col-xs-2 no-padding sort-icon">
                                        <span class="dashboard-select-options">
                                            <i class="su su-sort"></i>
                                        </span>
                                    </span>
                                </button>
                                <ul class="dropdown-menu dashboard-sort-filter-menu">
                                    <li ng-class="{selected : selectedSort === 'ModifiedDate' && sortDirection == 'descending'}" ng-click="setSelectedSort($event, 'ModifiedDate', 'descending')">
                                        <a class="dashboard-sort-options" href="javascript:void(0);">
                                            <i class="su su-tick"></i>
                                            <span class="search-option">@T["Recently Updated"]</span>
                                        </a>
                                    </li>
                                    <li ng-class="{selected : selectedSort === 'Name' && sortDirection == 'ascending'}" ng-click="setSelectedSort($event, 'Name', 'ascending')">
                                        <a class="dashboard-sort-options" href="javascript:void(0);">
                                            <i class="su su-tick"></i>
                                            <span class="search-option">@T["Dashboard Name (A-Z)"]</span>
                                        </a>
                                    </li>
                                    <li ng-class="{selected : selectedSort === 'Name' && sortDirection == 'descending'}" ng-click="setSelectedSort($event, 'Name', 'descending')">
                                        <a class="dashboard-sort-options" href="javascript:void(0);">
                                            <i class="su su-tick"></i>
                                            <span class="search-option">@T["Dashboard Name (Z-A)"]</span>
                                        </a>
                                    </li>
                                </ul>
                            </div>
                        </div>
                        <div class="col-xs-3 dashboard-filter-container no-padding no-margin ng-hide" ng-show="!showSearch && activeMenu !== @((int)DisplayCategory.DraftItems) && activeMenu !== @((int)DisplayCategory.UploadDrafts)">
                            <div id="dashboard-filter-dropdown" class="col-xs-10 dashboard-filter-sort dropdown no-padding" ng-if="activeMenu !== @((int)DisplayCategory.DraftItems) && activeMenu !== @((int)DisplayCategory.UsageAnalytics)">
                                <button class="btn btn-default dropdown-toggle" data-toggle="dropdown" type="button">
                                    <span class="col-xs-2 filter-icon" ng-if="activeMenu !== @((int)DisplayCategory.DraftItems) && activeMenu !== @((int)DisplayCategory.UsageAnalytics)">
                                        <span class="dashboard-select-options">
                                            <i class="su su-filter"></i>
                                        </span>
                                    </span>
                                </button>
                                <ul class="dropdown-menu dashboard-sort-filter-menu">
                                    <li ng-class="{selected : selectedFilter === @((int)DisplayCategory.AllDashboards)}" ng-click="setSelectedFilter($event, @((int)DisplayCategory.AllDashboards))">
                                        <a class="dashboard-sort-options" href="javascript:void(0);">
                                            <i class="su su-tick"></i>
                                            <span class="search-option">@T["All"]</span>
                                        </a>
                                    </li>
                                    <li ng-class="{selected : selectedFilter === @((int)DisplayCategory.FavouriteItems)}" ng-click="setSelectedFilter($event, @((int)DisplayCategory.FavouriteItems))">
                                        <a class="dashboard-sort-options" href="javascript:void(0);">
                                            <i class="su su-tick"></i>
                                            <span class="search-option">@T["Favorites"]</span>
                                        </a>
                                    </li>
                                    <li ng-class="{selected : selectedFilter ===@((int)DisplayCategory.PublicItems)}" ng-click="setSelectedFilter($event, @((int)DisplayCategory.PublicItems))">
                                        <a class="dashboard-sort-options" href="javascript:void(0);">
                                            <i class="su su-tick"></i>
                                            <span class="search-option">@T["Public"]</span>
                                        </a>
                                    </li>
                                    <li ng-class="{selected : selectedFilter === @((int)DisplayCategory.OwnedByMe)}" ng-click="setSelectedFilter($event, @((int)DisplayCategory.OwnedByMe))">
                                        <a class="dashboard-sort-options" href="javascript:void(0);">
                                            <i class="su su-tick"></i>
                                            <span class="search-option">@T["Owned by me"]</span>
                                        </a>
                                    </li>
                                    <li ng-class="{selected : selectedFilter === @((int)DisplayCategory.SharedWithMe)}" ng-click="setSelectedFilter($event, @((int)DisplayCategory.SharedWithMe))">
                                        <a class="dashboard-sort-options" href="javascript:void(0);">
                                            <i class="su su-tick"></i>
                                            <span class="search-option">@T["Shared with me"]</span>
                                        </a>
                                    </li>
                                </ul>
                            </div>
                        </div>
                    </div>
                }

                <div id="category-panel" ng-show="(!isMobile && !samePagePreview) || expandCatSec">
                    <ul class="category-bar-ul">
                        <li class="category-item" ng-class="{active : activeMenu === @((int)DisplayCategory.AllDashboards)}" ng-click="setActive(@((int)DisplayCategory.AllDashboards), '@T["All Dashboards"]', $event)">
                            <span class="category-icon su su-all-dashboards"></span>
                            <span class="category-bar-header">@T["All"]</span>
                        </li>
                        <li class="category-item" id="draft-items" ng-class="{active : activeMenu === @((int)DisplayCategory.DraftItems)}" ng-click="setActive(@((int)DisplayCategory.DraftItems), '@T["Drafts"]', $event)">
                            <span class="category-icon su su-clock"></span>
                            <span class="category-bar-header">@T["Drafts"]</span>
                        </li>
                        <li class="category-item" id="upload-draft-items" ng-show="!isMobile && !isTablet && !samePagePreview" ng-class="{active : activeMenu === @((int)DisplayCategory.UploadDrafts)}" ng-click="setActive(@((int)DisplayCategory.UploadDrafts), '@T["Upload Drafts"]', $event)">
                            <span class="category-icon su su-clock"></span>
                            <span class="category-bar-header">@T["Upload Drafts"]</span>
                            <span class="badge preview-badge badge-secondary1 badge-secondary2">@T["PREVIEW"]</span>
                        </li>
                        <li class="category-item ng-hide" ng-show="usageAnalytics && (isAdmin || hasDashboardSettingsPermission)" ng-class="{active : activeMenu === @((int)DisplayCategory.UsageAnalytics)}" ng-click="setActive(@((int)DisplayCategory.UsageAnalytics), '@T["Usage Analytics"]', $event)">
                            <span class="category-icon su su-nav-dashboard"></span>
                            <span class="category-bar-header">@T["Usage Analytics"]</span>
                        </li>
                        <li class="category-list">
                            <div class="col-xs-12 no-padding" ng-click="expandCategoryList()">
                                <span class="category-icon su su-categoried-dashboard"></span>
                                <span class="category-bar-header">@T["Categories"]</span>
                                <span class="su no-margin category-expand-collapse" ng-class="expand ? 'su-vertical-collapse' : 'su-vertical-expand'"></span>
                            </div>
                            <div class="col-xs-12 no-padding ng-hide category-slide" ng-show="(categoryDataBindComplete || categoryList.length == 0) && expand">
                                <div class="category-search-area pull-right">
                                    <input type="password" name="password" style="display:none;">
                                    <input type="text" class="category-search-box pull-left no-margin" ng-model="categorySearchQuery" ng-init="categorySearchQuery = ''" ng-change="refreshCategoryScroll()" ng-focus="isCategorySearchFocus = true" ng-blur="isCategorySearchFocus = false" placeholder="@T["Search Categories"]" />
                                    <span class="su close-icon su-inner-close pull-left no-margin ng-hide" ng-show="categorySearchQuery != ''" ng-click="onCategorySearchClear()" ng-class="{focus : isCategorySearchFocus}" data-toggle="tooltip" data-container="body" title="@T["Clear search"]"></span>
                                    <span class="su su-search pull-left no-margin" ng-show="categorySearchQuery == ''" ng-class="{focus : isCategorySearchFocus}" title="@T["Search"]" data-toggle="tooltip"></span>
                                </div>
                                <div id="parent-category-scroll-element">
                                    <div id="category-scroll-element" class="col-xs-12 no-padding">
                                        <div id="category-scroll-content" class="col-xs-12 no-padding">
                                            <ul ng-repeat="categoryItem in categoryList | filter:{Name: categorySearchQuery} as filteredCategory" class="col-xs-12 no-padding" category-repeat-directive>
                                                <li class="category-item" ng-class="{active : activeMenu === categoryItem.Id}" ng-click="setActive(categoryItem.Id, categoryItem.Name, $event)">
                                                    <div class="col-xs-12 no-padding" data-toggle="category-list-tooltip" data-placement="right" data-container="body" title="<span class='dashboard-list-tooltip'><span class='tooltip-row'><span class='tooltip-label'>@T["Name"].Value: </span><span class='tooltip-description'>{{categoryItem.Name}}</span></span>{{categoryItem.Description != '' ? '<span class=\'tooltip-row\'><span class=\'tooltip-label\'>@T["Description"].Value: </span><span class=\'tooltip-description\'>' + categoryItem.Description + '</span></span>' : ''}}<span class='tooltip-row'><span class='tooltip-label'>@T["Owner Name"].Value: </span><span class='tooltip-description'>{{categoryItem.CreatedByDisplayName}} </span></span><span class='tooltip-row'><span class='tooltip-label'>@T["Added Date"].Value: </span><span class='tooltip-description'>{{categoryItem.CreatedDate}}</span></span></span>" data-html="true">
                                                        <a class="col-xs-8 category-name" id="category-item" href="@Html.Encode(dashboardUrl + "?category={{categoryItem.Name}}")">{{categoryItem.Name}}</a>
                                                        <span class="count-container">
                                                            <span class="category-count">{{categoryItem.ReportsCount}}</span>
                                                        </span>
                                                        <ul class="category-settings pull-left">
                                                            <li class="dropdown category-context-menu" ng-if="(categoryItem.CreatedById== currentUserId || isAdmin || categoryItem.CanWrite || categoryItem.CanDelete || hasCategorySharePermission) && !isTablet">
                                                                <span class="dropdown-toggle no-margin no-padding su su-settings-1" title="@T["Actions"]" data-placement="top" data-toggle="dropdown">
                                                                </span>
                                                                <ul class="dropdown-menu" role="menu">
                                                                    <li ng-if="categoryItem.CreatedById== currentUserId || isAdmin || hasCategorySharePermission">
                                                                        <a href="javascript:void(0);" class="item-permissions" title="" ng-click="sharePermission()">
                                                                            <i class="su su-manage-permission"></i>
                                                                            <span>@T["Sharing Permissions"]</span>
                                                                        </a>
                                                                        <hr ng-if="categoryItem.CanWrite || categoryItem.CanDelete" class="no-margin" />
                                                                    </li>
                                                                    <li ng-if="categoryItem.CanWrite">
                                                                        <a class="EditCategory" href="javascript:void(0)" title="" ng-click="editCategory()">
                                                                            <i class="su su-edit"></i>
                                                                            <span>@T["Update"]</span>
                                                                        </a>
                                                                    </li>
                                                                    <li ng-if="categoryItem.CanDelete">
                                                                        <a class="DeleteCategory" href="javascript:void(0)" ng-click="deleteCategory()">
                                                                            <i class="su su-delete"></i>
                                                                            <span>@T["Delete"]</span>
                                                                        </a>
                                                                    </li>
                                                                </ul>
                                                            </li>
                                                        </ul>
                                                    </div>
                                                </li>
                                            </ul>

                                            <div class="category-empty-message-div col-xs-12 ng-hide" ng-show="filteredCategory.length == 0 || categoryList.length == 0">
                                                <span class="category-empty-message">@T["No categories available to display."]</span>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </li>
                    </ul>
                </div>
                <div id="dashboard-list-panel" class="no-padding" ng-show="!isMobile || !expandCatSec">
                    <div class="dashboard-header-container col-xs-12" ng-show="!isTablet && !isMobile && !samePagePreview" ng-class="{'categorysection-header-height' : (activeMenu !== @((int)DisplayCategory.AllDashboards) && activeMenu !== @((int)DisplayCategory.DraftItems) && activeMenu !== @((int)DisplayCategory.UploadDrafts) && activeMenu !== @((int)DisplayCategory.UsageAnalytics))}">
                        <span class="col-xs-4 dashboards-header">
                            <span class="col-xs-12 no-padding dashboard-header-info">
                                <span class="dashboard-category-name" ng-bind="activeMenuLabel" data-container="body" data-toggle="dashboard-list-tooltip" data-original-title="{{activeMenuLabel}}" data-placement="bottom">@T["All Dashboards"]</span>
                                <span class="dashboard-count ng-hide" ng-show="dashboardDataBindComplete">({{totalDashboardCount}} {{totalDashboardCount == 1 ? "@T["dashboard"]" : "@T["dashboards"]"}})</span>
                             </span>
                            <span class="dashboard-category-owner pull-left" ng-bind="categoryCreatedBy"></span>
                        </span>
                        @if(!samePagePreview){
                            <div class="col-xs-3 top-nav-sec no-padding">
                                @await Html.PartialAsync("../Shared/_TopMenu")
                            </div>
                        }
                        <div class="item-searchbox-container col-xs-5" ng-show="activeMenu !== @((int)DisplayCategory.UsageAnalytics)" ng-class="showSearch ? 'search-active' : ''">
                            <span ng-show="isTablet && !showSearch" ng-init="showSearch=false" ng-click="onMobileSearchClicked()" class="su su-search pull-right mobile-dashboard-search ng-hide"></span>
                            <div ng-show="(!isTablet && !samePagePreview) || showSearch" class="col-xs-3 no-padding no-margin dashboard-search-area pull-right">
                                <span class="su su-inner-close pull-right no-margin ng-hide" ng-show="dashboardSearchQuery != ''" ng-click="onDashboardSearchClear()" ng-class="isFocus ? 'active' : ''" data-html="true" title="<span class='clear-search-tooltip'>@T["Clear search"]</span>" data-container="body" data-toggle="tooltip" data-placement="bottom"></span>
                                <span class="su su-search pull-right no-margin" ng-show="dashboardSearchQuery == ''" ng-class="isFocus ? 'active' : ''" title="@T["Search"]" data-toggle="tooltip" data-container="body" data-placement="bottom"></span>
                                <input type="password" name="password" style="display:none;">
                                <input type="text" id="dashboard-search-items" class="pull-right no-margin" ng-change="doDashboardSearch()" ng-model="dashboardSearchQuery" ng-focus="isFocus = true" ng-blur="onSearchFocusOut()" placeholder="@T["Search dashboards"]" />
                            </div>
                        </div>
                    </div>
                    <div class="dashboard-action-container col-xs-12" ng-show="activeMenu !== @((int)DisplayCategory.UsageAnalytics)">
                        <span class="col-xs-5 dashboards-header ng-hide" ng-show="isTablet && !isMobile">
                            <span class="col-xs-12 no-padding dashboard-header-info">
                                <span class="dashboard-category-name" ng-bind="activeMenuLabel" data-container="body" data-toggle="dashboard-list-tooltip" data-original-title="{{activeMenuLabel}}" data-placement="bottom">@T["All Dashboards"]</span>
                                <span class="dashboard-count ng-hide" ng-show="dashboardDataBindComplete">({{totalDashboardCount}} {{totalDashboardCount == 1 ? "@T["dashboard"]" : "@T["dashboards"]"}})</span>
                            </span>
                            <span class="dashboard-category-owner pull-left" ng-bind="categoryCreatedBy"></span>
                        </span>
                        <div class="dashboard-dropdown-container" ng-class="{'no-margin': activeMenu == @((int)DisplayCategory.DraftItems), 'col-xs-6': isTablet, 'col-xs-12': isMobile}">
                            <div class="no-padding item-searchbox-container no-margin ng-hide" ng-show="(isTablet || isMobile)" ng-class="{'search-active': showSearch, 'col-xs-3': isTablet, 'col-xs-9': !isTablet}">
                                <span ng-show="isTablet && !showSearch" ng-init="showSearch=false" ng-click="onMobileSearchClicked()" class="su su-search pull-right mobile-dashboard-search ng-hide"></span>
                                <div ng-show="(!isTablet && !samePagePreview) || showSearch" class="col-xs-3 no-padding no-margin dashboard-search-area pull-right">
                                    <span class="su su-inner-close pull-right no-margin ng-hide" ng-show="dashboardSearchQuery != ''" ng-click="onDashboardSearchClear()" ng-class="isFocus ? 'active' : ''" data-html="true" title="<span class='clear-search-tooltip'>@T["Clear search"]</span>" data-container="body" data-toggle="tooltip"></span>
                                    <span class="su su-search pull-right no-margin" ng-show="dashboardSearchQuery == ''" ng-class="isFocus ? 'active' : ''" title="@T["Search"]" data-toggle="tooltip" data-container="body"></span>
                                    <input type="password" name="password" style="display:none;">
                                    <input type="text" id="dashboard-mobile-search-items" class="pull-right no-margin" ng-change="doDashboardSearch()" ng-model="dashboardSearchQuery" ng-focus="isFocus = true" ng-blur="onSearchFocusOut()" placeholder="@T["Search dashboards"]" />
                                </div>
                            </div>
                            <span class="text-right ng-hide" id="order" ng-show="isTablet && !showSearch && !hideSortOption" data-toggle="modal" data-target="#dashboard-sort-modal" data-container="body" ng-class="{'descending': sortDirection == 'descending', 'ascending': sortDirection == 'ascending', 'col-xs-1 no-padding': isTablet}">
                                &nbsp;
                                <i class="su su-sort"></i>
                            </span>
                            <div class="dashboard-select-all no-padding no-margin" ng-class="{'col-xs-3' : samePagePreview, 'col-xs-4' : !samePagePreview}" ng-show="!isTablet && !isMobile && activeMenu !== @((int)DisplayCategory.DraftItems)">
                                @Html.CheckBox("dashboard-list-select-all", false, new { @class = "material-checkbox", @autocomplete = "off", ng_disabled = "totalDashboardCount == 0" })
                                <label for="dashboard-list-select-all" class="dashboard-select-all-checkbox"></label>
                                <span class="col-xs-4 download-icon" ng-click="downloadBulkDashboard()" style="display:none">
                                    <span class="dashboard-select-options">
                                        <i class="su su-download"></i>
                                        <span class="download-text">@T["Download"]</span> <span class="badge preview-badge badge-secondary1 badge-secondary2">@T["PREVIEW"]</span>
                                    </span>
                                </span>
                                <button class="btn btn-default upload-button" type="button" ng-show="activeMenu == @((int)DisplayCategory.UploadDrafts)" style="display:none" onclick="uploadBulkDashboard()">
                                    <span class="col-xs-2 upload-icon no-padding">
                                        <span class="dashboard-select-options">
                                            <i class="su su-upload"></i>
                                        </span>
                                    </span>
                                    <span class="selected selected-field">@T["Complete Upload"]</span>
                                </button>
                                <label id="action-separator" class="sf-nav-separator action-separator"></label>
                            </div>
                                <div class="no-padding sort-filter-conatiner" ng-class="{'no-margin': activeMenu == @((int)DisplayCategory.DraftItems), 'col-xs-3' : isTablet, 'col-xs-5' : !isTablet}"  ng-show="!samePagePreview">
                                    <div class=" col-xs-3 dashboard-sort-container ng-hide no-padding" ng-show="!showSearch && !isTablet && !samePagePreview && !hideSortOption">
                                        <div id="dashboard-sort-dropdown" class="col-xs-10 dashboard-filter-sort dropdown no-padding">
                                            <button class="btn btn-default dropdown-toggle" data-toggle="dropdown" type="button">
                                                <span class="col-xs-2 no-padding sort-icon">
                                                    <span class="dashboard-select-options">
                                                        <i class="su su-sort"></i>
                                                    </span>
                                                </span>
                                                <span class="selected selected-field no-padding" ng-bind="selectedSortLabel">@T["Recently Updated"]</span>
                                                <span class="su su-vertical-expand"></span>
                                            </button>

                                            <ul class="dropdown-menu dashboard-sort-filter-menu">
                                                <li ng-class="{selected : selectedSort === 'ModifiedDate' && sortDirection == 'descending'}" ng-click="setSelectedSort($event, 'ModifiedDate', 'descending')">
                                                    <a class="dashboard-sort-options" href="javascript:void(0);">
                                                        <i class="su su-tick"></i>
                                                        <span class="search-option">@T["Recently Updated"]</span>
                                                    </a>
                                                </li>
                                                <li ng-class="{selected : selectedSort === 'Name' && sortDirection == 'ascending'}" ng-click="setSelectedSort($event, 'Name', 'ascending')">
                                                    <a class="dashboard-sort-options" href="javascript:void(0);">
                                                        <i class="su su-tick"></i>
                                                        <span class="search-option">@T["Dashboard Name (A-Z)"]</span>
                                                    </a>
                                                </li>
                                                <li ng-class="{selected : selectedSort === 'Name' && sortDirection == 'descending'}" ng-click="setSelectedSort($event, 'Name', 'descending')">
                                                    <a class="dashboard-sort-options" href="javascript:void(0);">
                                                        <i class="su su-tick"></i>
                                                        <span class="search-option">@T["Dashboard Name (Z-A)"]</span>
                                                    </a>
                                                </li>
                                                @*<li ng-class="{selected : selectedSort === 'CreatedByDisplayName' && sortDirection == 'ascending'}" ng-click="setSelectedSort($event, 'CreatedByDisplayName', 'ascending')">
                                        <a class="dashboard-sort-options" href="javascript:void(0);">
                                        <i class="su su-tick"></i>
                                        <span class="search-option">@T["Owner Name (A-Z)"]</span>
                                        </a>
                                        </li>
                                        <li ng-class="{selected : selectedSort === 'CreatedByDisplayName' && sortDirection == 'descending'}" ng-click="setSelectedSort($event, 'CreatedByDisplayName', 'descending')">
                                        <a class="dashboard-sort-options" href="javascript:void(0);">
                                        <i class="su su-tick"></i>
                                        <span class="search-option">@T["Owner Name (Z-A)"]</span>
                                        </a>
                                        </li>*@
                                            </ul>
                                        </div>
                                    </div>
                                <div class="col-xs-3 dashboard-filter-container no-padding no-margin ng-hide" ng-show="!showSearch && !samePagePreview && activeMenu !== @((int)DisplayCategory.DraftItems) && activeMenu !== @((int)DisplayCategory.UploadDrafts)">
                                        <span class="dashboard-dropdown-label" ng-if="isTablet || isMobile || samePagePreview">@T["Filter"]</span>
                                        <div id="dashboard-filter-dropdown" class="col-xs-10 dashboard-filter-sort dropdown no-padding" ng-if="activeMenu !== @((int)DisplayCategory.DraftItems) && activeMenu !== @((int)DisplayCategory.UsageAnalytics)">
                                            <button class="btn btn-default dropdown-toggle" data-toggle="dropdown" type="button">
                                                <span class="col-xs-2 filter-icon" ng-if="!isTablet && !isMobile && !samePagePreview && activeMenu !== @((int)DisplayCategory.DraftItems) && activeMenu !== @((int)DisplayCategory.UsageAnalytics)">
                                                    <span class="dashboard-select-options">
                                                        <i class="su su-filter"></i>
                                                    </span>
                                                </span>
                                            <span class="selected selected-field pull-left ng-binding" ng-bind="selectedFilterLabel">@T["All"]</span>
                                            <span class="su su-vertical-expand" ng-if="isTablet || isMobile || samePagePreview"></span>
                                            </button>                                   
                                            <ul class="dropdown-menu dashboard-sort-filter-menu">
                                                <li ng-class="{selected : selectedFilter === @((int)DisplayCategory.AllDashboards)}" ng-click="setSelectedFilter($event, @((int)DisplayCategory.AllDashboards))">
                                                    <a class="dashboard-sort-options" href="javascript:void(0);">
                                                        <i class="su su-tick"></i>
                                                        <span class="search-option">@T["All"]</span>
                                                    </a>
                                                </li>
                                                <li ng-class="{selected : selectedFilter === @((int)DisplayCategory.FavouriteItems)}" ng-click="setSelectedFilter($event, @((int)DisplayCategory.FavouriteItems))">
                                                    <a class="dashboard-sort-options" href="javascript:void(0);">
                                                        <i class="su su-tick"></i>
                                                        <span class="search-option">@T["Favorites"]</span>
                                                    </a>
                                                </li>
                                                <li ng-class="{selected : selectedFilter ===@((int)DisplayCategory.PublicItems)}" ng-click="setSelectedFilter($event, @((int)DisplayCategory.PublicItems))">
                                                    <a class="dashboard-sort-options" href="javascript:void(0);">
                                                        <i class="su su-tick"></i>
                                                        <span class="search-option">@T["Public"]</span>
                                                    </a>
                                                </li>
                                                <li ng-class="{selected : selectedFilter === @((int)DisplayCategory.OwnedByMe)}" ng-click="setSelectedFilter($event, @((int)DisplayCategory.OwnedByMe))">
                                                    <a class="dashboard-sort-options" href="javascript:void(0);">
                                                        <i class="su su-tick"></i>
                                                        <span class="search-option">@T["Owned by me"]</span>
                                                    </a>
                                                </li>
                                                <li ng-class="{selected : selectedFilter === @((int)DisplayCategory.SharedWithMe)}" ng-click="setSelectedFilter($event, @((int)DisplayCategory.SharedWithMe))">
                                                    <a class="dashboard-sort-options" href="javascript:void(0);">
                                                        <i class="su su-tick"></i>
                                                        <span class="search-option">@T["Shared with me"]</span>
                                                    </a>
                                                </li>
                                            </ul>
                                        </div>
                                    </div>                        
                                </div>
                                <div class="pagination-section no-padding no-margin" ng-class="{'col-xs-6 same-page-preview-pagination' : samePagePreview, 'col-xs-3' : !samePagePreview}" ng-show="!isTablet && !isMobile && activeMenu !== @((int)DisplayCategory.UsageAnalytics)">
                                    <div class="pagination-div">
                                        <span class="page-count ng-hide" id="dashboards-page-count" ng-show="dashboardDataBindComplete">{{ ((currentPage - 1) * pageLimit) + 1 }} - {{ totalDashboardCount > (currentPage * pageLimit) ? (currentPage * pageLimit) : totalDashboardCount }} @T["of"] {{ totalDashboardCount}} </span>
                                        <span class="chevron-left disabled" ng-click="previousPage()">
                                            <span class="dashboard-select-options">
                                                <i class="su su-chevron-left"></i>
                                            </span>
                                        </span>
                                        <span class="chevron-right" ng-class="{'disabled' : totalDashboardCount == 0}" ng-click="nextPage()">
                                            <span class="dashboard-select-options">
                                                <i class="su su-chevron-right"></i>
                                            </span>
                                        </span>
                                    </div>                               
                                 </div>
                            </div>
                    </div>
                    <div class="dashboard-list-container col-xs-12">
                        <div class="col-xs-12 public-dashboard-disabled ng-hide" ng-show="dashboardDataBindComplete && !isMarkItemsPublic && selectedFilter === @((int)DisplayCategory.PublicItems) && activeMenu !== @((int)DisplayCategory.DraftItems) && activeMenu !== @((int)DisplayCategory.UploadDrafts)">
                            <span class="bg-warning text-warning" ng-show="hasDashboardSettingsPermission">@Html.Raw(String.Format(T["Public dashboards are disabled in {0}dashboard settings{1}."].Value, "<a class='app-hyperlink' href=" + Url.Action("DashboardSettings", "Administration") + ">", "</a>"))</span>
                            <span class="bg-warning text-warning" ng-show="!hasDashboardSettingsPermission">@T["Public dashboards are disabled by the system administrator. Please contact your system administrator to enable this."]</span>
                        </div>
                        <div id="parent-dashboard-scroll-element" ng-show="totalDashboardCount != 0" class="col-xs-12 no-padding">
                            <div id="dashboard-scroll-element" class="col-xs-12 no-padding">
                                <div id="dashboard-scroll-content" class="col-xs-12 no-padding">
                                    <div class="col-xs-12 no-padding" ng-show="!dashboardDataBindComplete">
                                        <div class="fd-post">
                                            <div class="fd-place-holder">
                                                <div class="fd-divider-1"></div>
                                                <div class="fd-divider-2"></div>
                                                <div class="fd-date-time"></div>
                                                <div class="fd-divider-3"></div>
                                            </div>
                                        </div>
                                        <div class="fd-post">
                                            <div class="fd-place-holder">
                                                <div class="fd-divider-1"></div>
                                                <div class="fd-divider-2"></div>
                                                <div class="fd-date-time"></div>
                                                <div class="fd-divider-3"></div>
                                            </div>
                                        </div>
                                        <div class="fd-post">
                                            <div class="fd-place-holder">
                                                <div class="fd-divider-1"></div>
                                                <div class="fd-divider-2"></div>
                                                <div class="fd-date-time"></div>
                                                <div class="fd-divider-3"></div>
                                            </div>
                                        </div>
                                    </div>
                                    <ul class="dashboard-list-section col-xs-12 no-padding ng-hide" ng-show="dashboardDataBindComplete">
                                        <li ng-repeat="dashboardItem in currentDashboards | limitTo: (isMobile ? totalDashboardCount : pageLimit)" class="col-xs-12 no-padding dashboard-tile" ng-class="{'dashboard-tile-hide-author': (hideAuthorName && ((dashboardItem.IsMultiDashboard && hideMultitabText) || !dashboardItem.IsMultiDashboard)) && activeMenu !== @((int)DisplayCategory.UsageAnalytics), 'dashboard-tile-hide-description': !dashboardItem.Description || hideDescription, 'dashboard-draft-height' : ((dashboardItem.IsDraft && !dashboardItem.IsUploadDraft)  || activeMenu == @((int)DisplayCategory.UsageAnalytics) || hideDashboardInfoSection), 'highlighted': dashboardItem.highlighted }" my-post-repeat-directive>
                                            <div ng-if="!dashboardItem.IsDraft" class="col-xs-12 no-padding" ng-class="{'dashboard-draft-height' : activeMenu == @((int)DisplayCategory.UsageAnalytics) || hideDashboardInfoSection}" ng-click="canPreventDashboardOpenNavigation($event) ? null : redirectToDashboard(viewDashboardUrl(dashboardItem.Id, dashboardItem.CategoryName, dashboardItem.Name))">
                                                <div class="dashboard-info-section col-xs-12" ng-class="{'dashboard-tile-hide-description-div': !dashboardItem.Description || hideDescription, 'dashboard-usage-height' : activeMenu == @((int)DisplayCategory.UsageAnalytics) || hideDashboardInfoSection}">
                                                    <div class="dashboard-select-list col-xs-1 no-padding prevent-dashboard-navigation" ng-show="activeMenu !== @((int)DisplayCategory.UsageAnalytics)">
                                                        @Html.CheckBox("{{dashboardItem.Id}}", false, new { @id="{{dashboardItem.Id}}", @class = "dashboard-select-individual material-checkbox", @autocomplete = "off" })
                                                        <label for="{{dashboardItem.Id}}" ng-if="!isTablet && !isMobile"></label>
                                                        <span class="su favorite favorite-icon" ng-class="{'favorite-hide-author': (hideAuthorName && ((dashboardItem.IsMultiDashboard && hideMultitabText) || !dashboardItem.IsMultiDashboard)), 'su-favorite': (!dashboardItem.IsDraft && dashboardItem.IsFavorite), 'su-dis-favorite': (!dashboardItem.IsDraft && !dashboardItem.IsFavorite)}" ng-hide="schemesDetails != null && !schemesDetails.Favorite || activeMenu === @((int)DisplayCategory.UsageAnalytics)" data-favorite="{{dashboardItem.IsFavorite}}" ng-click="toggleFavorite($event)"></span>
                                                    </div>
                                                    <div class="open-link no-padding" ng-class="setWidthForDashboardName()">
                                                        <a class="col-xs-12 no-padding" ng-click="preventDefault($event, dashboardItem, currentDashboards)">
                                                            <span class="col-xs-12 no-padding no-margin">
                                                                <span class="dashboard-name no-padding no-margin col-xs-12">
                                                                    {{dashboardItem.Name}}
                                                                    <span class="dashboard-description col-xs-12 no-padding" ng-hide="hideDescription">
                                                                        <span class="col-xs-12 no-padding">{{dashboardItem.Description}}</span>
                                                                    </span>
                                                                </span>
                                                            </span>
                                                        </a>
                                                    </div>
                                                    <div class="col-xs-2 no-padding icon-menu prevent-dashboard-navigation ng-hide" ng-show="!hideOptionMenu">
                                                        <div class="no-padding options context-menu" ng-class="{'options-hide-author': (hideAuthorName && ((dashboardItem.IsMultiDashboard && hideMultitabText) || !dashboardItem.IsMultiDashboard)) && activeMenu !== 12}" ng-hide="schemesDetails != null && !schemesDetails.ContextMenu">
                                                            <span class="dropdown-toggle su su-options-menu options-area" data-toggle="dropdown"></span>
                                                            <ul class="dropdown-menu dashboard-options" role="menu">
                                                                <li ng-if="!isTablet && samePagePreview" ng-hide="schemesDetails != null && !schemesDetails.Open">
                                                                    <a class="web-designer option-click" href="{{viewDashboardUrl(dashboardItem.Id, dashboardItem.CategoryName, dashboardItem.Name)}}" target="_blank">
                                                                        <i class="su su-open"><i class="su su-open path1"></i></i>
                                                                        <span>@T["Open"]</span>
                                                                    </a>
                                                                </li>
                                                                <li ng-if="(dashboardItem.CreatedById==currentUserId || hasDashboardSharePermission) && !isTablet && samePagePreview" ng-hide="schemesDetails != null && !schemesDetails.Share || activeMenu === @((int)DisplayCategory.UsageAnalytics)">
                                                                    <span class="item-permissions option-click" title="" ng-click="shareDashboardPermission()">
                                                                        <i class="su su-share"></i>
                                                                        <span>@T["Share"]</span>
                                                                    </span>
                                                                </li>
                                                                <li ng-if="dashboardItem.CanWrite && !isTablet" ng-hide="schemesDetails != null && !schemesDetails.Edit">
                                                                    <span class="web-designer option-click" title="" ng-click="editDashboard()">
                                                                        <i class="su su-edit"></i>
                                                                        <span>@T["Edit"]</span>
                                                                    </span>
                                                                </li>
                                                                <li ng-if="(dashboardItem.CreatedById == currentUserId || isAdmin || hasDashboardSharePermission) && !dashboardItem.IsPublic" ng-hide="schemesDetails != null && !schemesDetails.MakePublic || activeMenu === @((int)DisplayCategory.UsageAnalytics)">
                                                                    <span title="" class="make-public option-click" ng-click="makePublic()">
                                                                        <i class="su su-public"></i>
                                                                        <span>@T["Make Public"]</span>
                                                                    </span>
                                                                </li>
                                                                <li ng-if="(dashboardItem.CreatedById == currentUserId || isAdmin || hasDashboardSharePermission) && dashboardItem.IsPublic" ng-hide="schemesDetails != null && !schemesDetails.MakePrivate">
                                                                    <span title="" class="remove-public option-click" ng-click="makePrivate()">
                                                                        <i class="su su-remove-public"><span class="su-remove-public path1"></span><span class="su-remove-public path2"></span><span class="su-remove-public path3"></span></i>
                                                                        <span>@T["Make Private"]</span>
                                                                    </span>
                                                                </li>
                                                                <li ng-hide="schemesDetails != null && !schemesDetails.GetLink">
                                                                    <span title="" class="get-link option-click" ng-click="getItemLink()">
                                                                        <i class="su su-link"></i>
                                                                        <span>@T["Get Link"]</span>
                                                                    </span>
                                                                </li>
                                                                <li ng-if="dashboardItem.ItemType == @((int)ItemType.Dashboard) && !isTablet && getDashboardEmbedCode" ng-hide="schemesDetails != null && !schemesDetails.GetEmbedCode || activeMenu === @((int)DisplayCategory.UsageAnalytics)">
                                                                    <span title="" class="get-embed-code option-click" ng-click="getEmbedCodeFromContext()">
                                                                        <i class="su su-embed"></i>
                                                                        <span>@T["Get Embed code"]</span>
                                                                    </span>
                                                                </li>
                                                                <li ng-if="dashboardItem.ItemType == @((int)ItemType.Dashboard) && !isTablet && !dashboardItem.IsMultiDashboard" ng-hide="schemesDetails != null && !schemesDetails.Views || activeMenu === @((int)DisplayCategory.UsageAnalytics)" class="dropdown dashboard-views no-padding" data-load="true">
                                                                    <span href="javascript:void(0);" class="dropdown-toggle views" data-toggle="dropdown" ng-mouseenter="getDashboardViews($event)">
                                                                        <i class="su su-filter"></i>
                                                                        <span>@T["Views"]</span>
                                                                    </span>
                                                                    <ul class="dropdown-menu item-views no-padding" role="menu">
                                                                        <li>
                                                                            <span class="view-name" href="javascript:void(0);">
                                                                                @T["Loading..."]
                                                                            </span>
                                                                        </li>
                                                                    </ul>
                                                                </li>
                                                                <li ng-if="!isTablet && !dashboardItem.IsMultiDashboard" ng-hide="(isUserBasedMenu  && (!hasScheduleCreatePermission && !scheduleItemExist )) || (schemesDetails != null && !schemesDetails.ViewSchedules) || activeMenu === @((int)DisplayCategory.UsageAnalytics)">
                                                                    <span class="view-schedule option-click" ng-click="viewSchedules()">
                                                                        <i class="su su-nav-schedule"></i>
                                                                        <span>@T["View Schedules"]</span>
                                                                    </span>
                                                                </li>
                                                                <li ng-hide="schemesDetails != null && !schemesDetails.Info">
                                                                    <span class="option-click" title="" ng-click="openInfo()">
                                                                        <i class="su su-info"></i>
                                                                        <span>@T["Info"]</span>
                                                                    </span>
                                                                </li>
                                                                <li ng-if="!isTablet && (dashboardItem.CreatedById==currentUserId || isAdmin)" role="separator" class="divider" ng-hide="schemesDetails != null && !schemesDetails.Security || activeMenu === @((int)DisplayCategory.UsageAnalytics)"></li>
                                                                <li ng-if="!isTablet && (dashboardItem.CreatedById==currentUserId || isAdmin)" ng-hide="schemesDetails != null && !schemesDetails.Security || activeMenu === @((int)DisplayCategory.UsageAnalytics)">
                                                                    <span class="option-click" ng-click="getItemSettingsDialog()">
                                                                        <i class="su su-shield"></i>
                                                                        <span>@T["Security"]</span>
                                                                    </span>
                                                                </li>
                                                                <li ng-if="(dashboardItem.CreatedById == currentUserId || isAdmin) && dashboardItem.IsMultiDashboard" ng-hide="activeMenu === @((int)DisplayCategory.UsageAnalytics)">
                                                                    <span title="" class="option-click" ng-click="tabSecurityConfirmation()">
                                                                        <i class="su su-tab-security"></i>
                                                                        <span>@T["Tab Security"]</span>
                                                                    </span>
                                                                </li>
                                                                <li ng-if="(dashboardItem.CanMove || dashboardItem.CanCopy || dashboardItem.CanClone) && !isTablet && !dashboardItem.IsLocked" role="separator" class="divider" ng-hide="schemesDetails != null && !schemesDetails.Move"></li>
                                                                <li ng-if="dashboardItem.CanMove && dashboardItem.CanDelete && !isTablet && !dashboardItem.IsMultiDashboard && !dashboardItem.IsLocked" ng-hide="schemesDetails != null && !schemesDetails.Move">
                                                                    <span title="" class="moveItem option-click" data-action="Move" ng-click="moveDashboard()">
                                                                        <i class="su su-move"></i>
                                                                        <span>@T["Move"]</span>
                                                                    </span>
                                                                </li>
                                                                <li ng-if="(dashboardItem.CanCopy && !isTablet && !dashboardItem.IsMultiDashboard && !dashboardItem.IsLocked) || (isAdmin && usageAnalytics && !dashboardItem.IsMultiDashboard)" ng-hide="schemesDetails != null && !schemesDetails.Copy">
                                                                    <span title="" class="copyItem option-click" data-action="Copy" ng-click="copyDashboard()">
                                                                        <i class="su su-copy"></i>
                                                                        <span>@T["Copy"]</span>
                                                                    </span>
                                                                </li>
                                                                <li ng-if="enableCloneDashboard && dashboardItem.CanClone && !isTablet && !dashboardItem.IsMultiDashboard && !dashboardItem.IsLocked" ng-hide="schemesDetails != null && !schemesDetails.Clone">
                                                                    <span title="" class="copyItem option-click" data-action="Clone" ng-click="cloneDashboard()">
                                                                        <i class="su su-clone"></i>
                                                                        <span>@T["Clone"]</span>
                                                                    </span>
                                                                </li>
                                                                <li ng-if="(dashboardItem.CreatedById==currentUserId || isAdmin) && !isTablet && !dashboardItem.IsMultiDashboard" ng-hide="schemesDetails != null && !schemesDetails.Publish || activeMenu === @((int)DisplayCategory.UsageAnalytics)">
                                                                    <span title="" class="option-click" data-action="Publish" ng-click="getPublishSiteDetailDialog($event)">
                                                                        <i class="su su-publish"></i>
                                                                        <span>@T["Publish"]</span>
                                                                    </span>
                                                                </li>
                                                                <li ng-if="(dashboardItem.CreatedById==currentUserId || dashboardItem.CanDownload) && !isTablet && !dashboardItem.IsMultiDashboard" ng-hide="activeMenu === @((int)DisplayCategory.UsageAnalytics)">
                                                                    <span title="" class="option-click" data-action="Download" ng-click="downloadDashboard()">
                                                                        <i class="su su-download"></i>
                                                                        <span>@T["Download"]</span> <span class="badge preview-badge badge-secondary1 badge-secondary2">@T["PREVIEW"]</span>
                                                                    </span>
                                                                </li>
                                                                <li ng-if="((dashboardItem.ItemType == @((int)ItemType.Dashboard) && dashboardItem.CanSchedule) || dashboardItem.CreatedById==currentUserId || isAdmin) && !isTablet && !dashboardItem.IsMultiDashboard" role="separator" class="divider" ng-hide="schemesDetails != null && !schemesDetails.CreateSchedule || activeMenu === @((int)DisplayCategory.UsageAnalytics)"></li>
                                                                <li ng-if="dashboardItem.ItemType == @((int)ItemType.Dashboard) && dashboardItem.CanSchedule && !isTablet && !dashboardItem.IsMultiDashboard" ng-hide="schemesDetails != null && !schemesDetails.CreateSchedule">
                                                                    <span href="javascript:void(0);" class="schedule-dashboards option-click" title="" ng-click="scheduleDashboard()">
                                                                        <i class="su su-nav-schedule"></i>
                                                                        <span>@T["Create Schedule"]</span>
                                                                    </span>
                                                                </li>
                                                                <li ng-if="!isTablet && !dashboardItem.IsMultiDashboard" role="separator" class="divider" ng-hide="schemesDetails != null && !schemesDetails.VersionHistory || activeMenu === @((int)DisplayCategory.UsageAnalytics)"></li>
                                                                <li ng-if="!isTablet" ng-hide="schemesDetails != null && !schemesDetails.VersionHistory || activeMenu === @((int)DisplayCategory.UsageAnalytics)">
                                                                    <span class="version-button option-click" title="" ng-click="versionHistory()">
                                                                        <i class="su su-versions"></i>
                                                                        <span>@T["Version History"]</span>
                                                                    </span>
                                                                </li>
                                                                <li ng-if="(dashboardItem.CanWrite || dashboardItem.CanDelete) && !isTablet && !dashboardItem.IsMultiDashboard" role="separator" class="divider" ng-hide="schemesDetails != null && !schemesDetails.Delete"></li>
                                                                <li ng-if="dashboardItem.CanWrite && !isTablet && dashboardItem.Extension =='.sydx' && '@GlobalAppSettings.Branding' == '@AppBranding.Syncfusion.Identifier'">
                                                                    <span title="" class="item-edit option-click" ng-click="updateDashboard()">
                                                                        <i class="su su-upload"></i>
                                                                        <span>@T["Upload Dashboard"]</span>
                                                                    </span>
                                                                </li>
                                                                <li ng-if="dashboardItem.ItemType == @((int)ItemType.Dashboard) && dashboardItem.Extension == '.sydx' && dashboardItem.CanWrite && !isTablet && !dashboardItem.IsMultiDashboard">
                                                                    <span href="javascript:void(0);" title="" class="update-datasource option-click" ng-click="updateDashboardDataSource()">
                                                                        <i class="su su-nav-datasource"></i>
                                                                        <span>@T["Update Data Source(s)"]</span>
                                                                    </span>
                                                                </li>
                                                                <li ng-if="dashboardItem.CanDelete && !isTablet" ng-hide="schemesDetails != null && !schemesDetails.Delete">
                                                                    <span title="" class="item-delete option-click" ng-click="deleteItem()">
                                                                        <i class="su su-delete"></i>
                                                                        <span>@T["Delete"]</span>
                                                                    </span>
                                                                </li>
                                                            </ul>
                                                        </div>
                                                        <div class="dashboard-share ng-scope" ng-if="(dashboardItem.CreatedById==currentUserId || hasDashboardSharePermission) && !isTablet && !samePagePreview" ng-hide="schemesDetails != null && !schemesDetails.Share || activeMenu === 12" ng-show="activeMenu !== @((int)DisplayCategory.UsageAnalytics)">
                                                            <span class="item-permissions primary-menu no-margin" title="" ng-click="shareDashboardPermission()">
                                                                <i class="su su-share"></i>
                                                            </span>
                                                        </div>
                                                        <div class="no-padding dashboard-edit">
                                                            <span class="web-designer primary-menu no-margin" title="" ng-click="editDashboard()" ng-if="dashboardItem.CanWrite && !isTablet && !isMobile && !samePagePreview && activeMenu !== @((int)DisplayCategory.UsageAnalytics)">
                                                            <i class="su su-edit"></i>
                                                            </span>
                                                        </div>
                                                        <div class="no-padding dashboard-open">
                                                            <span class="open-link-icon no-margin" title="" ng-show="!isTablet && !isMobile && !samePagePreview && activeMenu !== @((int)DisplayCategory.UsageAnalytics)">
                                                                <a class="web-designer option-click" href="{{viewDashboardUrl(dashboardItem.Id, dashboardItem.CategoryName, dashboardItem.Name)}}" target="_blank">
                                                                    <i class="items view-item su su-external-link"></i>
                                                                </a>                                          
                                                            </span> 
                                                        </div>
                                                    </div>
                                                </div>
                                                <div class="dashboard-info-section-2 col-xs-12 no-padding no-margin" ng-show="activeMenu !== @((int)DisplayCategory.UsageAnalytics) && !hideDashboardInfoSection">
                                                    <div class="col-xs-12 no-padding dashboard-info-section-2-div" ng-class="{'no-margin': samePagePreview || isMobile }">
                                                        <div class="col-xs-4 no-padding profile-section" ng-show="!hideAuthorName || !hideMultitabText">
                                                            <span class="author-name no-padding no-margin" ng-show="!hideAuthorName">
                                                                <span class="su su-created-by"></span>
                                                                {{dashboardItem.CreatedByDisplayName}}
                                                            </span>
                                                            <span class="badge badge-secondary1" ng-class="{'badge-secondary2': !hideMultitabText }" ng-show="!hideMultitabText" ng-if="dashboardItem.IsMultiDashboard">@T["Multi-Tab"]</span>
                                                        </div>
                                                        <div class="col-xs-4 no-padding category-section" ng-hide="hideCategoryName">
                                                            <span class="category-name no-padding no-margin" ng-if="activeMenu === @((int)DisplayCategory.AllDashboards)">
                                                                <span class="category-icon su su-categoried-dashboard"></span>
                                                                {{dashboardItem.CategoryName}}
                                                            </span>
                                                        </div>
                                                        <div class="col-xs-4 no-padding modifieddate-section" ng-hide="hideModifiedDate">
                                                            <span ng-show="!isTablet && !samePagePreview && activeMenu !== @((int)DisplayCategory.UsageAnalytics)" class="modified-date no-padding no-margin">
                                                                <span ng-show="!isTablet" class="su su-clock modified-date no-margin"></span>
                                                                {{dashboardItem.ModifiedDate}}
                                                            </span>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                            <div ng-if="dashboardItem.IsDraft && !dashboardItem.IsUploadDraft" class="col-xs-12 no-padding draft-item">
                                                <span class="su favorite" ng-hide="schemesDetails != null && !schemesDetails.Favorite" data-favorite="{{dashboardItem.IsFavorite}}" ng-click="toggleFavorite()" ng-class="!dashboardItem.IsDraft ? (dashboardItem.IsFavorite ? 'su-favorite' : 'su-dis-favorite') : ''"></span>
                                                <div class="col-xs-12 open-link">
                                                    <a class="col-xs-12 no-padding" ng-href="{{isTablet || dashboardItem.IsUploadDraft ? '' : editDraftDashboardUrl(dashboardItem.Id, dashboardItem.Name)}}" ng-click="dashboardItem.IsUploadDraft ? editDraftDashboard() : '' " href="#" target="_blank">
                                                        <span class="col-xs-12 no-padding">
                                                            <span class="dashboard-name no-padding" ng-class="isTablet ? 'col-xs-12' : 'col-xs-8'">
                                                                {{dashboardItem.Name}}
                                                                <span class="author-name col-xs-12 no-padding" ng-show="!hideAuthorName">
                                                                    <span>{{dashboardItem.CreatedByDisplayName}}</span>
                                                                </span>
                                                            </span>
                                                            <span ng-show="!isTable" class="col-xs-2 modified-date" ng-hide="hideModifiedDate || samePagePreview">
                                                                <span ng-show="!isTablet" class="su su-clock modified-date no-padding no-margin"></span>
                                                                {{dashboardItem.ModifiedDate}}
                                                            </span>
                                                        </span>
                                                    </a>
                                                </div>
                                                <div class="no-padding pull-right">
                                                    <div class="options context-menu" ng-class="{'options-hide-author': hideAuthorName }" ng-if="(dashboardItem.CreatedById==currentUserId || isAdmin) && !isTablet" ng-hide="schemesDetails != null && !schemesDetails.ContextMenu">
                                                        <span class="dropdown-toggle su su-options-menu options-area" data-toggle="dropdown"></span>
                                                        <ul class="dropdown-menu dashboard-options" role="menu">
                                                            <li ng-hide="schemesDetails != null && !schemesDetails.Edit">
                                                                <span class="open-item option-click" ng-click="editDraftDashboard()">
                                                                    <i class="su su-edit"></i>
                                                                    <span>@T["Edit"]</span>
                                                                </span>
                                                            </li>
                                                            <li ng-hide="schemesDetails != null && !schemesDetails.Info">
                                                                <span class="option-click" title="" ng-click="openInfo()">
                                                                    <i class="su su-info"></i>
                                                                    <span>@T["Info"]</span>
                                                                </span>
                                                            </li>
                                                            <li ng-hide="schemesDetails != null && !schemesDetails.Delete">
                                                                <span title="" class="item-delete option-click" ng-click="deleteItem()">
                                                                    <i class="su su-delete"></i>
                                                                    <span>@T["Delete"]</span>
                                                                </span>
                                                            </li>
                                                        </ul>
                                                    </div>
                                                </div>
                                            </div>
                                            <div ng-if="dashboardItem.IsDraft && dashboardItem.IsUploadDraft" class="col-xs-12 no-padding upload-draft-item">
                                                <div class="dashboard-info-section col-xs-12" ng-class="{'dashboard-tile-hide-description-div': !dashboardItem.Description || hideDescription, 'dashboard-usage-height' : activeMenu == @((int)DisplayCategory.UsageAnalytics) || hideDashboardInfoSection}">
                                                    <div class="dashboard-select-list col-xs-1 no-padding" ng-show="activeMenu !== @((int)DisplayCategory.UsageAnalytics)">
                                                        @Html.CheckBox("{{dashboardItem.Id}}", false, new { @id="{{dashboardItem.Id}}", @class = "dashboard-select-individual material-checkbox", @autocomplete = "off" })
                                                        <label for="{{dashboardItem.Id}}" ng-if="!isTablet && !isMobile"></label>
                                                    </div>
                                                    <div class="col-xs-12 open-link no-padding" ng-class="setWidthForDashboardName()">
                                                        <a class="col-xs-12 no-padding" ng-click="uploadDialogOpen()" href="#">
                                                            <span class="col-xs-12 no-padding">
                                                                <span class="dashboard-name no-padding no-margin" ng-class="isTablet ? 'col-xs-12' : 'col-xs-8'">
                                                                    {{dashboardItem.Name}}
                                                                    <span class="dashboard-description col-xs-12 no-padding" ng-hide="hideDescription">
                                                                        <span class="col-xs-12 no-padding">{{dashboardItem.Description}}</span>
                                                                    </span>
                                                                </span>
                                                            </span>
                                                        </a>
                                                    </div>
                                                    <div class="col-xs-2 no-padding icon-menu ng-hide" ng-show="!hideOptionMenu">
                                                        <div class="no-padding pull-right">
                                                        <div class="options context-menu" ng-class="{'options-hide-author': hideAuthorName }" ng-if="(dashboardItem.CreatedById==currentUserId || isAdmin) && !isTablet" ng-hide="schemesDetails != null && !schemesDetails.ContextMenu">
                                                            <span class="dropdown-toggle su su-options-menu options-area" data-toggle="dropdown"></span>
                                                            <ul class="dropdown-menu dashboard-options" role="menu">
                                                                <li ng-hide="schemesDetails != null && !schemesDetails.Edit">
                                                                        <span class="open-item option-click" ng-click="uploadDialogOpen()">
                                                                        <i class="su su-upload"></i>
                                                                        <span>@T["Complete Upload"]</span>
                                                                    </span>
                                                                </li>
                                                                <li ng-hide="schemesDetails != null && !schemesDetails.Info">
                                                                    <span class="option-click" title="" ng-click="openInfo()">
                                                                        <i class="su su-info"></i>
                                                                        <span>@T["Info"]</span>
                                                                    </span>
                                                                </li>
                                                                <li ng-hide="schemesDetails != null && !schemesDetails.Delete">
                                                                    <span title="" class="item-delete option-click" ng-click="deleteItem()">
                                                                        <i class="su su-delete"></i>
                                                                        <span>@T["Delete"]</span>
                                                                    </span>
                                                                </li>
                                                            </ul>
                                                        </div>
                                                    </div>
                                                    </div>
                                                </div>
                                                <div class="dashboard-info-section-2 col-xs-12 no-padding no-margin" ng-show="activeMenu !== @((int)DisplayCategory.UsageAnalytics) && !hideDashboardInfoSection">
                                                    <div class="col-xs-4 no-padding profile-section" ng-show="!hideAuthorName">
                                                        <span class="author-name no-padding no-margin">
                                                            <span class="su su-created-by"></span>
                                                            {{dashboardItem.CreatedByDisplayName}}
                                                        </span>                                                  
                                                    </div>
                                                    <div class="col-xs-4 no-padding category-section">
                                                        <span class="category-name no-padding no-margin">
                                                            <span class="category-icon su su-categoried-dashboard"></span>
                                                            {{dashboardItem.CategoryName}}
                                                        </span>
                                                    </div>
                                                    <div class="col-xs-4 no-padding modifieddate-section" ng-hide="hideModifiedDate">
                                                        <span ng-show="!isTablet && !samePagePreview && activeMenu !== @((int)DisplayCategory.UsageAnalytics)" class="modified-date no-padding no-margin">
                                                            <span ng-show="!isTablet" class="su su-clock modified-date no-margin"></span>
                                                                {{dashboardItem.ModifiedDate}}
                                                        </span>
                                                    </div>
                                                </div>
                                            </div>
                                        </li>
                                        <li class="col-xs-12 no-padding" ng-show="isAppendLoading">
                                            <div class="fd-post">
                                                <div class="fd-place-holder">
                                                    <div class="fd-divider-1"></div>
                                                    <div class="fd-divider-2"></div>
                                                    <div class="fd-date-time"></div>
                                                    <div class="fd-divider-3"></div>
                                                </div>
                                            </div>
                                            <div class="fd-post">
                                                <div class="fd-place-holder">
                                                    <div class="fd-divider-1"></div>
                                                    <div class="fd-divider-2"></div>
                                                    <div class="fd-date-time"></div>
                                                    <div class="fd-divider-3"></div>
                                                </div>
                                            </div>
                                            <div class="fd-post">
                                                <div class="fd-place-holder">
                                                    <div class="fd-divider-1"></div>
                                                    <div class="fd-divider-2"></div>
                                                    <div class="fd-date-time"></div>
                                                    <div class="fd-divider-3"></div>
                                                </div>
                                            </div>
                                        </li>
                                    </ul>
                                </div>
                            </div>
                        </div>

                        <div class="dashboard-empty-message-div col-xs-12 ng-hide" ng-show="totalDashboardCount == 0">
                            <div class="empty-dashboard-image-div">
                                <img class="empty-dashboard-image" src="@dashboardServerResourceUrl/cdn/css/images/dashboard-empty-state.svg" style="margin: 0 auto;/*! width: 100%; */" loading="lazy">
                            </div>
                            <div ng-show="categoryList.length === 0 && activeMenu !== @((int)DisplayCategory.DraftItems) && activeMenu !== @((int)DisplayCategory.UploadDrafts)">
                                <span class="dashboard-empty-message" ng-show="!canCreateDashboard">@T["No dashboards have been shared with you."]</span>
                                <span class="dashboard-empty-message" ng-show="canCreateDashboard">@T["You don’t have any dashboards and no dashboards have been shared with you."]</span>
                            </div>
                            <div ng-show="categoryList.length !== 0 && activeMenu !== @((int)DisplayCategory.DraftItems) && activeMenu !== @((int)DisplayCategory.UploadDrafts)">
                                <span class="dashboard-empty-message" ng-show="selectedFilter === @((int)DisplayCategory.AllDashboards) && dashboardSearchQuery == ''">@T["No dashboards available to display."]</span>
                                <span class="dashboard-empty-message" ng-show="selectedFilter !== @((int)DisplayCategory.AllDashboards) || dashboardSearchQuery != ''">@T["No dashboards were found that match your search. Try modifying your search or filters."]</span>
                            </div>
                            <div ng-show="activeMenu === @((int)DisplayCategory.DraftItems)">
                                <span class="dashboard-empty-message" ng-show="dashboardSearchQuery == ''">@T["No drafts available to display."]</span>
                                <span class="dashboard-empty-message" ng-show="dashboardSearchQuery != ''">@T["No drafts were found that match your search. Try modifying your search."]</span>
                            </div>
                            <div ng-show="activeMenu === @((int)DisplayCategory.UploadDrafts)">
                                <span class="dashboard-empty-message" ng-show="dashboardSearchQuery == ''">@T["No upload drafts available to display."]</span>
                                <span class="dashboard-empty-message" ng-show="dashboardSearchQuery != ''">@T["No upload drafts were found that match your search. Try modifying your search."]</span>
                            </div>
                            <div ng-show="activeMenu !== @((int)DisplayCategory.UsageAnalytics) && activeMenu !== @((int)DisplayCategory.UploadDrafts) && selectedFilter !== @((int)DisplayCategory.SharedWithMe)" class="create-buttton">
                                <button data-action="create-items" ng-show="canCreateDashboard && !isTablet" class="primary-button app-btn-primary">@T["Create Dashboard"]</button>
                            </div>
                            <div ng-show="activeMenu === @((int)DisplayCategory.UploadDrafts)" class="create-buttton">
                                <button data-action="upload-items" ng-show="canCreateDashboard && !isTablet" class="primary-button app-btn-primary">@T["Upload Dashboard"]</button>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            @if (samePagePreview)
            {
                <div class="dashboard-header-container samepage-preview-header">
                    <div class="col-xs-3 top-nav-sec no-padding">
                        @await Html.PartialAsync("../Shared/_TopMenu")
                    </div>
                    <div class="item-searchbox-container col-xs-5" ng-show="activeMenu !== @((int)DisplayCategory.UsageAnalytics)" ng-class="showSearch ? 'search-active' : ''">
                        <div ng-show="(!isTablet) || showSearch" class="col-xs-3 no-padding no-margin dashboard-search-area pull-right">
                            <span class="su su-inner-close pull-right no-margin ng-hide" ng-show="dashboardSearchQuery != ''" ng-click="onDashboardSearchClear()" ng-class="isFocus ? 'active' : ''" data-html="true" title="<span class='clear-search-tooltip'>@T["Clear search"]</span>" data-container="body" data-toggle="tooltip" data-placement="bottom"></span>
                            <span class="su su-search pull-right no-margin" ng-show="dashboardSearchQuery == ''" ng-class="isFocus ? 'active' : ''" title="@T["Search"]" data-toggle="tooltip" data-container="body" data-placement="bottom"></span>
                            <input type="password" name="password" style="display:none;">
                            <input type="text" id="dashboard-search-items" class="pull-right no-margin" ng-change="doDashboardSearch()" ng-model="dashboardSearchQuery" ng-focus="isFocus = true" ng-blur="onSearchFocusOut()" placeholder="@T["Search dashboards"]" />
                        </div>
                    </div>
                </div>
            }
        </div>

        <!-- Mobile view-->
        <div class="modal fade" id="dashboard-sort-modal" role="dialog" ng-controller="MobileViewSortCtrl">
            <div class="modal-dialog">
                <div class="modal-content">
                    <div class="modal-body no-padding">
                        <ul class="dashboard-sort-filter-menu no-padding">
                            @*<li ng-class="{selected : selectedSort === 'CreatedDate' && sortDirection === 'descending'}" ng-click="updateSortSelection($event, 'CreatedDate', 'descending')">
                    <a class="dashboard-sort-options" href="javascript:void(0);">
                    <i class="su su-tick"></i>
                    <span class="search-option">@T["Recently Added"]</span>
                    </a>
                    </li>*@
                            <li ng-class="{selected : selectedSort === 'ModifiedDate' && sortDirection === 'descending'}" ng-click="updateSortSelection($event, 'ModifiedDate', 'descending')">
                                <a class="dashboard-sort-options" href="javascript:void(0);">
                                    <i class="su su-tick"></i>
                                    <span class="search-option">@T["Recently Updated"]</span>
                                </a>
                            </li>
                            <li ng-class="{selected : selectedSort === 'Name' && sortDirection === 'ascending'}" ng-click="updateSortSelection($event, 'Name' , 'ascending')">
                                <a class="dashboard-sort-options" href="javascript:void(0);">
                                    <i class="su su-tick"></i>
                                    <span class="search-option">@T["Dashboard Name (A-Z)"]</span>
                                </a>
                            </li>
                            <li ng-class="{selected : selectedSort === 'Name' && sortDirection === 'descending'}" ng-click="updateSortSelection($event, 'Name', 'descending')">
                                <a class="dashboard-sort-options" href="javascript:void(0);">
                                    <i class="su su-tick"></i>
                                    <span class="search-option">@T["Dashboard Name (Z-A)"]</span>
                                </a>
                            </li>
                            @*<li ng-class="{selected : selectedSort === 'CreatedByDisplayName' && sortDirection === 'ascending'}" ng-click="updateSortSelection($event, 'CreatedByDisplayName', 'ascending')">
                    <a class="dashboard-sort-options" href="javascript:void(0);">
                    <i class="su su-tick"></i>
                    <span class="search-option">@T["Owner Name (A-Z)"]</span>
                    </a>
                    </li>
                    <li ng-class="{selected : selectedSort === 'CreatedByDisplayName' && sortDirection === 'descending'}" ng-click="updateSortSelection($event, 'CreatedByDisplayName', 'descending')">
                    <a class="dashboard-sort-options" href="javascript:void(0);">
                    <i class="su su-tick"></i>
                    <span class="search-option">@T["Owner Name (Z-A)"]</span>
                    </a>
                    </li>*@
                        </ul>
                    </div>
                    <div class="modal-footer">
                        <button type="button" class="app-button app-primary-button app-btn-primary" data-dismiss="modal" ng-click="onSortApplyClicked()">@T["Apply"]</button>
                        <button type="button" class="app-button app-secondary-button app-btn-secondary" data-dismiss="modal">@T["Close"]</button>
                    </div>
                </div>
            </div>
        </div>
    }
    else
    {
        @await Html.PartialAsync("../DefaultPages/DefaultPages", new ViewDataDictionary(ViewData) { { "Permissions", permisions }, { "ItemType", ItemType.Dashboard } })
    }
    
    <div id="tab-security" style="display:none">
        <div id="tab-security-content">@T["Enabling tab-level security will restrict tab visibility to users with the individual dashboard permission when dashboards are added as tabs. By default, all tabs will be visible to the user if the user has access to a multitab dashboard."]</div>
        <span>
            <input type="checkbox" class="material-checkbox" id="tab-security-checkbox">
            <input id="tab-security-checkbox" type="hidden">
            <label for="tab-security-checkbox" class="label-database">@T["Enable tab-level security"]</label>
        </span>
        <div class="bg-warning tab-security-note">
            <Span>@T["All tabs will be visible to the dashboard owner and administrators. Public dashboards added as tabs will also be visible."]</Span>
        </div>
    </div>

    <div id="popup-container" style="display:none" class="no-padding">
        <iframe id="scheduler-popup-iframe" class="datasource-popup-frame"></iframe>
    </div>

    <div id="Download_Item" style="display:none" class="no-padding"></div>

    <div id="make_item_public" class="no-padding pull-left" style="display:none"></div>

    <div id="remove_item_public" class="no-padding" style="display:none"></div>

    <div id="make_item_unlist" class="no-padding pull-left" style="display:none"></div>

    @if (!isMobile)
    {
        @await Html.PartialAsync("../Items/_AddItems")
        @await Html.PartialAsync("../Items/_ItemVersion")
        @await Html.PartialAsync("../Items/_SharePermission")
        @await Html.PartialAsync("../Items/_DashboardSecurity")
        @await Html.PartialAsync("../Items/_PublishDashboard")
        @await Html.PartialAsync("../Items/_GetExternalSites")
        @await Html.PartialAsync("../Items/_MoveItem")
    }
            @await Html.PartialAsync("../Items/_CopyItem")
    @if (samePagePreview && !isMobile)
    {
        @await Html.PartialAsync("_DashboardIframe")
    }

    @await Html.PartialAsync("../Items/_ItemInfo")

    <script>
        $(document).ready(function () {
            $('#user-group-search-input_suggestion').addClass("hide-suggesstion");
        });
    </script>
}