!function(e,t){"use strict";"object"==typeof module&&"object"==typeof module.exports?module.exports=e.document?t(e,!0):function(e){if(e.document)return t(e);throw new Error("jQuery requires a window with a document")}:t(e)}("undefined"!=typeof window?window:this,function(x,N){"use strict";function b(e){return"function"==typeof e&&"number"!=typeof e.nodeType&&"function"!=typeof e.item}function P(e){return null!=e&&e===e.window}var t=[],z=Object.getPrototypeOf,a=t.slice,H=t.flat?function(e){return t.flat.call(e)}:function(e){return t.concat.apply([],e)},F=t.push,y=t.indexOf,B={},R=B.toString,U=B.hasOwnProperty,W=U.toString,q=W.call(Object),f={},C=x.document,V={type:!0,src:!0,nonce:!0,noModule:!0};function G(e,t,i){var n,o,s=(i=i||C).createElement("script");if(s.text=e,t)for(n in V)(o=t[n]||t.getAttribute&&t.getAttribute(n))&&s.setAttribute(n,o);i.head.appendChild(s).parentNode.removeChild(s)}function K(e){return null==e?e+"":"object"==typeof e||"function"==typeof e?B[R.call(e)]||"object":typeof e}var e="3.7.1",X=/HTML$/i,S=function(e,t){return new S.fn.init(e,t)};function Y(e){var t=!!e&&"length"in e&&e.length,i=K(e);return!b(e)&&!P(e)&&("array"===i||0===t||"number"==typeof t&&0<t&&t-1 in e)}function _(e,t){return e.nodeName&&e.nodeName.toLowerCase()===t.toLowerCase()}S.fn=S.prototype={jquery:e,constructor:S,length:0,toArray:function(){return a.call(this)},get:function(e){return null==e?a.call(this):e<0?this[e+this.length]:this[e]},pushStack:function(e){e=S.merge(this.constructor(),e);return e.prevObject=this,e},each:function(e){return S.each(this,e)},map:function(i){return this.pushStack(S.map(this,function(e,t){return i.call(e,t,e)}))},slice:function(){return this.pushStack(a.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},even:function(){return this.pushStack(S.grep(this,function(e,t){return(t+1)%2}))},odd:function(){return this.pushStack(S.grep(this,function(e,t){return t%2}))},eq:function(e){var t=this.length,e=+e+(e<0?t:0);return this.pushStack(0<=e&&e<t?[this[e]]:[])},end:function(){return this.prevObject||this.constructor()},push:F,sort:t.sort,splice:t.splice},S.extend=S.fn.extend=function(){var e,t,i,n,o,s=arguments[0]||{},r=1,a=arguments.length,l=!1;for("boolean"==typeof s&&(l=s,s=arguments[r]||{},r++),"object"==typeof s||b(s)||(s={}),r===a&&(s=this,r--);r<a;r++)if(null!=(e=arguments[r]))for(t in e)i=e[t],"__proto__"!==t&&s!==i&&(l&&i&&(S.isPlainObject(i)||(n=Array.isArray(i)))?(o=s[t],o=n&&!Array.isArray(o)?[]:n||S.isPlainObject(o)?o:{},n=!1,s[t]=S.extend(l,o,i)):void 0!==i&&(s[t]=i));return s},S.extend({expando:"jQuery"+(e+Math.random()).replace(/\D/g,""),isReady:!0,error:function(e){throw new Error(e)},noop:function(){},isPlainObject:function(e){return!(!e||"[object Object]"!==R.call(e)||(e=z(e))&&("function"!=typeof(e=U.call(e,"constructor")&&e.constructor)||W.call(e)!==q))},isEmptyObject:function(e){for(var t in e)return!1;return!0},globalEval:function(e,t,i){G(e,{nonce:t&&t.nonce},i)},each:function(e,t){var i,n=0;if(Y(e))for(i=e.length;n<i&&!1!==t.call(e[n],n,e[n]);n++);else for(n in e)if(!1===t.call(e[n],n,e[n]))break;return e},text:function(e){var t,i="",n=0,o=e.nodeType;if(!o)for(;t=e[n++];)i+=S.text(t);return 1===o||11===o?e.textContent:9===o?e.documentElement.textContent:3===o||4===o?e.nodeValue:i},makeArray:function(e,t){t=t||[];return null!=e&&(Y(Object(e))?S.merge(t,"string"==typeof e?[e]:e):F.call(t,e)),t},inArray:function(e,t,i){return null==t?-1:y.call(t,e,i)},isXMLDoc:function(e){var t=e&&e.namespaceURI,e=e&&(e.ownerDocument||e).documentElement;return!X.test(t||e&&e.nodeName||"HTML")},merge:function(e,t){for(var i=+t.length,n=0,o=e.length;n<i;n++)e[o++]=t[n];return e.length=o,e},grep:function(e,t,i){for(var n=[],o=0,s=e.length,r=!i;o<s;o++)!t(e[o],o)!=r&&n.push(e[o]);return n},map:function(e,t,i){var n,o,s=0,r=[];if(Y(e))for(n=e.length;s<n;s++)null!=(o=t(e[s],s,i))&&r.push(o);else for(s in e)null!=(o=t(e[s],s,i))&&r.push(o);return H(r)},guid:1,support:f}),"function"==typeof Symbol&&(S.fn[Symbol.iterator]=t[Symbol.iterator]),S.each("Boolean Number String Function Array Date RegExp Object Error Symbol".split(" "),function(e,t){B["[object "+t+"]"]=t.toLowerCase()});var Q=t.pop,J=t.sort,Z=t.splice,i="[\\x20\\t\\r\\n\\f]",ee=new RegExp("^"+i+"+|((?:^|[^\\\\])(?:\\\\.)*)"+i+"+$","g"),te=(S.contains=function(e,t){t=t&&t.parentNode;return e===t||!(!t||1!==t.nodeType||!(e.contains?e.contains(t):e.compareDocumentPosition&&16&e.compareDocumentPosition(t)))},/([\0-\x1f\x7f]|^-?\d)|^-$|[^\x80-\uFFFF\w-]/g);function ie(e,t){return t?"\0"===e?"ï¿½":e.slice(0,-1)+"\\"+e.charCodeAt(e.length-1).toString(16)+" ":"\\"+e}S.escapeSelector=function(e){return(e+"").replace(te,ie)};var ne,w,oe,se,re,T,n,k,u,ae,o=C,le=F,D=le,L=S.expando,A=0,de=0,ce=Ae(),he=Ae(),ue=Ae(),pe=Ae(),me=function(e,t){return e===t&&(re=!0),0},fe="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",e="(?:\\\\[\\da-fA-F]{1,6}"+i+"?|\\\\[^\\r\\n\\f]|[\\w-]|[^\0-\\x7f])+",s="\\["+i+"*("+e+")(?:"+i+"*([*^$|!~]?=)"+i+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+e+"))|)"+i+"*\\]",r=":("+e+")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+s+")*)|.*)\\)|)",ge=new RegExp(i+"+","g"),ve=new RegExp("^"+i+"*,"+i+"*"),be=new RegExp("^"+i+"*([>+~]|"+i+")"+i+"*"),ye=new RegExp(i+"|>"),_e=new RegExp(r),we=new RegExp("^"+e+"$"),xe={ID:new RegExp("^#("+e+")"),CLASS:new RegExp("^\\.("+e+")"),TAG:new RegExp("^("+e+"|[*])"),ATTR:new RegExp("^"+s),PSEUDO:new RegExp("^"+r),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+i+"*(even|odd|(([+-]|)(\\d*)n|)"+i+"*(?:([+-]|)"+i+"*(\\d+)|))"+i+"*\\)|)","i"),bool:new RegExp("^(?:"+fe+")$","i"),needsContext:new RegExp("^"+i+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+i+"*((?:-\\d)?\\d*)"+i+"*\\)|)(?=[^-]|$)","i")},Ce=/^(?:input|select|textarea|button)$/i,Se=/^h\d$/i,Te=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,ke=/[+~]/,h=new RegExp("\\\\[\\da-fA-F]{1,6}"+i+"?|\\\\([^\\r\\n\\f])","g"),p=function(e,t){e="0x"+e.slice(1)-65536;return t||(e<0?String.fromCharCode(65536+e):String.fromCharCode(e>>10|55296,1023&e|56320))},De=function(){$e()},Le=ze(function(e){return!0===e.disabled&&_(e,"fieldset")},{dir:"parentNode",next:"legend"});try{D.apply(t=a.call(o.childNodes),o.childNodes),t[o.childNodes.length].nodeType}catch(ne){D={apply:function(e,t){le.apply(e,a.call(t))},call:function(e){le.apply(e,a.call(arguments,1))}}}function I(e,t,i,n){var o,s,r,a,l,d,c=t&&t.ownerDocument,h=t?t.nodeType:9;if(i=i||[],"string"!=typeof e||!e||1!==h&&9!==h&&11!==h)return i;if(!n&&($e(t),t=t||T,k)){if(11!==h&&(a=Te.exec(e)))if(o=a[1]){if(9===h){if(!(d=t.getElementById(o)))return i;if(d.id===o)return D.call(i,d),i}else if(c&&(d=c.getElementById(o))&&I.contains(t,d)&&d.id===o)return D.call(i,d),i}else{if(a[2])return D.apply(i,t.getElementsByTagName(e)),i;if((o=a[3])&&t.getElementsByClassName)return D.apply(i,t.getElementsByClassName(o)),i}if(!(pe[e+" "]||u&&u.test(e))){if(d=e,c=t,1===h&&(ye.test(e)||be.test(e))){for((c=ke.test(e)&&Me(t.parentNode)||t)==t&&f.scope||((r=t.getAttribute("id"))?r=S.escapeSelector(r):t.setAttribute("id",r=L)),s=(l=Ne(e)).length;s--;)l[s]=(r?"#"+r:":scope")+" "+Pe(l[s]);d=l.join(",")}try{return D.apply(i,c.querySelectorAll(d)),i}catch(t){pe(e,!0)}finally{r===L&&t.removeAttribute("id")}}}return Ue(e.replace(ee,"$1"),t,i,n)}function Ae(){var n=[];return function e(t,i){return n.push(t+" ")>w.cacheLength&&delete e[n.shift()],e[t+" "]=i}}function O(e){return e[L]=!0,e}function Ie(e){var t=T.createElement("fieldset");try{return!!e(t)}catch(e){return!1}finally{t.parentNode&&t.parentNode.removeChild(t)}}function Oe(t){return function(e){return"form"in e?e.parentNode&&!1===e.disabled?"label"in e?"label"in e.parentNode?e.parentNode.disabled===t:e.disabled===t:e.isDisabled===t||e.isDisabled!==!t&&Le(e)===t:e.disabled===t:"label"in e&&e.disabled===t}}function Ee(r){return O(function(s){return s=+s,O(function(e,t){for(var i,n=r([],e.length,s),o=n.length;o--;)e[i=n[o]]&&(e[i]=!(t[i]=e[i]))})})}function Me(e){return e&&void 0!==e.getElementsByTagName&&e}function $e(e){var e=e?e.ownerDocument||e:o;return e!=T&&9===e.nodeType&&e.documentElement&&(n=(T=e).documentElement,k=!S.isXMLDoc(T),ae=n.matches||n.webkitMatchesSelector||n.msMatchesSelector,n.msMatchesSelector&&o!=T&&(e=T.defaultView)&&e.top!==e&&e.addEventListener("unload",De),f.getById=Ie(function(e){return n.appendChild(e).id=S.expando,!T.getElementsByName||!T.getElementsByName(S.expando).length}),f.disconnectedMatch=Ie(function(e){return ae.call(e,"*")}),f.scope=Ie(function(){return T.querySelectorAll(":scope")}),f.cssHas=Ie(function(){try{return T.querySelector(":has(*,:jqfake)"),0}catch(e){return 1}}),f.getById?(w.filter.ID=function(e){var t=e.replace(h,p);return function(e){return e.getAttribute("id")===t}},w.find.ID=function(e,t){if(void 0!==t.getElementById&&k)return(t=t.getElementById(e))?[t]:[]}):(w.filter.ID=function(e){var t=e.replace(h,p);return function(e){e=void 0!==e.getAttributeNode&&e.getAttributeNode("id");return e&&e.value===t}},w.find.ID=function(e,t){if(void 0!==t.getElementById&&k){var i,n,o,s=t.getElementById(e);if(s){if((i=s.getAttributeNode("id"))&&i.value===e)return[s];for(o=t.getElementsByName(e),n=0;s=o[n++];)if((i=s.getAttributeNode("id"))&&i.value===e)return[s]}return[]}}),w.find.TAG=function(e,t){return void 0!==t.getElementsByTagName?t.getElementsByTagName(e):t.querySelectorAll(e)},w.find.CLASS=function(e,t){if(void 0!==t.getElementsByClassName&&k)return t.getElementsByClassName(e)},u=[],Ie(function(e){var t;n.appendChild(e).innerHTML="<a id='"+L+"' href='' disabled='disabled'></a><select id='"+L+"-\r\\' disabled='disabled'><option selected=''></option></select>",e.querySelectorAll("[selected]").length||u.push("\\["+i+"*(?:value|"+fe+")"),e.querySelectorAll("[id~="+L+"-]").length||u.push("~="),e.querySelectorAll("a#"+L+"+*").length||u.push(".#.+[+~]"),e.querySelectorAll(":checked").length||u.push(":checked"),(t=T.createElement("input")).setAttribute("type","hidden"),e.appendChild(t).setAttribute("name","D"),n.appendChild(e).disabled=!0,2!==e.querySelectorAll(":disabled").length&&u.push(":enabled",":disabled"),(t=T.createElement("input")).setAttribute("name",""),e.appendChild(t),e.querySelectorAll("[name='']").length||u.push("\\["+i+"*name"+i+"*="+i+"*(?:''|\"\")")}),f.cssHas||u.push(":has"),u=u.length&&new RegExp(u.join("|")),me=function(e,t){var i;return e===t?(re=!0,0):!e.compareDocumentPosition-!t.compareDocumentPosition||(1&(i=(e.ownerDocument||e)==(t.ownerDocument||t)?e.compareDocumentPosition(t):1)||!f.sortDetached&&t.compareDocumentPosition(e)===i?e===T||e.ownerDocument==o&&I.contains(o,e)?-1:t===T||t.ownerDocument==o&&I.contains(o,t)?1:se?y.call(se,e)-y.call(se,t):0:4&i?-1:1)}),T}for(ne in I.matches=function(e,t){return I(e,null,null,t)},I.matchesSelector=function(e,t){if($e(e),k&&!pe[t+" "]&&(!u||!u.test(t)))try{var i=ae.call(e,t);if(i||f.disconnectedMatch||e.document&&11!==e.document.nodeType)return i}catch(e){pe(t,!0)}return 0<I(t,T,null,[e]).length},I.contains=function(e,t){return(e.ownerDocument||e)!=T&&$e(e),S.contains(e,t)},I.attr=function(e,t){(e.ownerDocument||e)!=T&&$e(e);var i=w.attrHandle[t.toLowerCase()],i=i&&U.call(w.attrHandle,t.toLowerCase())?i(e,t,!k):void 0;return void 0!==i?i:e.getAttribute(t)},I.error=function(e){throw new Error("Syntax error, unrecognized expression: "+e)},S.uniqueSort=function(e){var t,i=[],n=0,o=0;if(re=!f.sortStable,se=!f.sortStable&&a.call(e,0),J.call(e,me),re){for(;t=e[o++];)t===e[o]&&(n=i.push(o));for(;n--;)Z.call(e,i[n],1)}return se=null,e},S.fn.uniqueSort=function(){return this.pushStack(S.uniqueSort(a.apply(this)))},(w=S.expr={cacheLength:50,createPseudo:O,match:xe,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(e){return e[1]=e[1].replace(h,p),e[3]=(e[3]||e[4]||e[5]||"").replace(h,p),"~="===e[2]&&(e[3]=" "+e[3]+" "),e.slice(0,4)},CHILD:function(e){return e[1]=e[1].toLowerCase(),"nth"===e[1].slice(0,3)?(e[3]||I.error(e[0]),e[4]=+(e[4]?e[5]+(e[6]||1):2*("even"===e[3]||"odd"===e[3])),e[5]=+(e[7]+e[8]||"odd"===e[3])):e[3]&&I.error(e[0]),e},PSEUDO:function(e){var t,i=!e[6]&&e[2];return xe.CHILD.test(e[0])?null:(e[3]?e[2]=e[4]||e[5]||"":i&&_e.test(i)&&(t=(t=Ne(i,!0))&&i.indexOf(")",i.length-t)-i.length)&&(e[0]=e[0].slice(0,t),e[2]=i.slice(0,t)),e.slice(0,3))}},filter:{TAG:function(e){var t=e.replace(h,p).toLowerCase();return"*"===e?function(){return!0}:function(e){return _(e,t)}},CLASS:function(e){var t=ce[e+" "];return t||(t=new RegExp("(^|"+i+")"+e+"("+i+"|$)"))&&ce(e,function(e){return t.test("string"==typeof e.className&&e.className||void 0!==e.getAttribute&&e.getAttribute("class")||"")})},ATTR:function(t,i,n){return function(e){e=I.attr(e,t);return null==e?"!="===i:!i||(e+="","="===i?e===n:"!="===i?e!==n:"^="===i?n&&0===e.indexOf(n):"*="===i?n&&-1<e.indexOf(n):"$="===i?n&&e.slice(-n.length)===n:"~="===i?-1<(" "+e.replace(ge," ")+" ").indexOf(n):"|="===i&&(e===n||e.slice(0,n.length+1)===n+"-"))}},CHILD:function(p,e,t,m,f){var g="nth"!==p.slice(0,3),v="last"!==p.slice(-4),b="of-type"===e;return 1===m&&0===f?function(e){return!!e.parentNode}:function(e,t,i){var n,o,s,r,a,l=g!=v?"nextSibling":"previousSibling",d=e.parentNode,c=b&&e.nodeName.toLowerCase(),h=!i&&!b,u=!1;if(d){if(g){for(;l;){for(s=e;s=s[l];)if(b?_(s,c):1===s.nodeType)return!1;a=l="only"===p&&!a&&"nextSibling"}return!0}if(a=[v?d.firstChild:d.lastChild],v&&h){for(u=(r=(n=(o=d[L]||(d[L]={}))[p]||[])[0]===A&&n[1])&&n[2],s=r&&d.childNodes[r];s=++r&&s&&s[l]||(u=r=0,a.pop());)if(1===s.nodeType&&++u&&s===e){o[p]=[A,r,u];break}}else if(!1===(u=h?r=(n=(o=e[L]||(e[L]={}))[p]||[])[0]===A&&n[1]:u))for(;(s=++r&&s&&s[l]||(u=r=0,a.pop()))&&((b?!_(s,c):1!==s.nodeType)||!++u||(h&&((o=s[L]||(s[L]={}))[p]=[A,u]),s!==e)););return(u-=f)===m||u%m==0&&0<=u/m}}},PSEUDO:function(e,s){var t,r=w.pseudos[e]||w.setFilters[e.toLowerCase()]||I.error("unsupported pseudo: "+e);return r[L]?r(s):1<r.length?(t=[e,e,"",s],w.setFilters.hasOwnProperty(e.toLowerCase())?O(function(e,t){for(var i,n=r(e,s),o=n.length;o--;)e[i=y.call(e,n[o])]=!(t[i]=n[o])}):function(e){return r(e,0,t)}):r}},pseudos:{not:O(function(e){var n=[],o=[],a=Re(e.replace(ee,"$1"));return a[L]?O(function(e,t,i,n){for(var o,s=a(e,null,n,[]),r=e.length;r--;)(o=s[r])&&(e[r]=!(t[r]=o))}):function(e,t,i){return n[0]=e,a(n,null,i,o),n[0]=null,!o.pop()}}),has:O(function(t){return function(e){return 0<I(t,e).length}}),contains:O(function(t){return t=t.replace(h,p),function(e){return-1<(e.textContent||S.text(e)).indexOf(t)}}),lang:O(function(i){return we.test(i||"")||I.error("unsupported lang: "+i),i=i.replace(h,p).toLowerCase(),function(e){var t;do{if(t=k?e.lang:e.getAttribute("xml:lang")||e.getAttribute("lang"))return(t=t.toLowerCase())===i||0===t.indexOf(i+"-")}while((e=e.parentNode)&&1===e.nodeType);return!1}}),target:function(e){var t=x.location&&x.location.hash;return t&&t.slice(1)===e.id},root:function(e){return e===n},focus:function(e){return e===function(){try{return T.activeElement}catch(e){}}()&&T.hasFocus()&&!!(e.type||e.href||~e.tabIndex)},enabled:Oe(!1),disabled:Oe(!0),checked:function(e){return _(e,"input")&&!!e.checked||_(e,"option")&&!!e.selected},selected:function(e){return e.parentNode&&e.parentNode.selectedIndex,!0===e.selected},empty:function(e){for(e=e.firstChild;e;e=e.nextSibling)if(e.nodeType<6)return!1;return!0},parent:function(e){return!w.pseudos.empty(e)},header:function(e){return Se.test(e.nodeName)},input:function(e){return Ce.test(e.nodeName)},button:function(e){return _(e,"input")&&"button"===e.type||_(e,"button")},text:function(e){return _(e,"input")&&"text"===e.type&&(null==(e=e.getAttribute("type"))||"text"===e.toLowerCase())},first:Ee(function(){return[0]}),last:Ee(function(e,t){return[t-1]}),eq:Ee(function(e,t,i){return[i<0?i+t:i]}),even:Ee(function(e,t){for(var i=0;i<t;i+=2)e.push(i);return e}),odd:Ee(function(e,t){for(var i=1;i<t;i+=2)e.push(i);return e}),lt:Ee(function(e,t,i){for(var n=i<0?i+t:t<i?t:i;0<=--n;)e.push(n);return e}),gt:Ee(function(e,t,i){for(var n=i<0?i+t:i;++n<t;)e.push(n);return e})}}).pseudos.nth=w.pseudos.eq,{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})w.pseudos[ne]=function(t){return function(e){return _(e,"input")&&e.type===t}}(ne);for(ne in{submit:!0,reset:!0})w.pseudos[ne]=function(t){return function(e){return(_(e,"input")||_(e,"button"))&&e.type===t}}(ne);function je(){}function Ne(e,t){var i,n,o,s,r,a,l,d=he[e+" "];if(d)return t?0:d.slice(0);for(r=e,a=[],l=w.preFilter;r;){for(s in i&&!(n=ve.exec(r))||(n&&(r=r.slice(n[0].length)||r),a.push(o=[])),i=!1,(n=be.exec(r))&&(i=n.shift(),o.push({value:i,type:n[0].replace(ee," ")}),r=r.slice(i.length)),w.filter)!(n=xe[s].exec(r))||l[s]&&!(n=l[s](n))||(i=n.shift(),o.push({value:i,type:s,matches:n}),r=r.slice(i.length));if(!i)break}return t?r.length:r?I.error(e):he(e,a).slice(0)}function Pe(e){for(var t=0,i=e.length,n="";t<i;t++)n+=e[t].value;return n}function ze(r,e,t){var a=e.dir,l=e.next,d=l||a,c=t&&"parentNode"===d,h=de++;return e.first?function(e,t,i){for(;e=e[a];)if(1===e.nodeType||c)return r(e,t,i);return!1}:function(e,t,i){var n,o,s=[A,h];if(i){for(;e=e[a];)if((1===e.nodeType||c)&&r(e,t,i))return!0}else for(;e=e[a];)if(1===e.nodeType||c)if(o=e[L]||(e[L]={}),l&&_(e,l))e=e[a]||e;else{if((n=o[d])&&n[0]===A&&n[1]===h)return s[2]=n[2];if((o[d]=s)[2]=r(e,t,i))return!0}return!1}}function He(o){return 1<o.length?function(e,t,i){for(var n=o.length;n--;)if(!o[n](e,t,i))return!1;return!0}:o[0]}function Fe(e,t,i,n,o){for(var s,r=[],a=0,l=e.length,d=null!=t;a<l;a++)!(s=e[a])||i&&!i(s,n,o)||(r.push(s),d&&t.push(a));return r}function Be(e){for(var n,t,i,o=e.length,s=w.relative[e[0].type],r=s||w.relative[" "],a=s?1:0,l=ze(function(e){return e===n},r,!0),d=ze(function(e){return-1<y.call(n,e)},r,!0),c=[function(e,t,i){e=!s&&(i||t!=oe)||((n=t).nodeType?l:d)(e,t,i);return n=null,e}];a<o;a++)if(t=w.relative[e[a].type])c=[ze(He(c),t)];else{if((t=w.filter[e[a].type].apply(null,e[a].matches))[L]){for(i=++a;i<o&&!w.relative[e[i].type];i++);return function e(p,m,f,g,v,t){return g&&!g[L]&&(g=e(g)),v&&!v[L]&&(v=e(v,t)),O(function(e,t,i,n){var o,s,r,a,l=[],d=[],c=t.length,h=e||function(e,t,i){for(var n=0,o=t.length;n<o;n++)I(e,t[n],i);return i}(m||"*",i.nodeType?[i]:i,[]),u=!p||!e&&m?h:Fe(h,l,p,i,n);if(f?f(u,a=v||(e?p:c||g)?[]:t,i,n):a=u,g)for(o=Fe(a,d),g(o,[],i,n),s=o.length;s--;)(r=o[s])&&(a[d[s]]=!(u[d[s]]=r));if(e){if(v||p){if(v){for(o=[],s=a.length;s--;)(r=a[s])&&o.push(u[s]=r);v(null,a=[],o,n)}for(s=a.length;s--;)(r=a[s])&&-1<(o=v?y.call(e,r):l[s])&&(e[o]=!(t[o]=r))}}else a=Fe(a===t?a.splice(c,a.length):a),v?v(null,t,a,n):D.apply(t,a)})}(1<a&&He(c),1<a&&Pe(e.slice(0,a-1).concat({value:" "===e[a-2].type?"*":""})).replace(ee,"$1"),t,a<i&&Be(e.slice(a,i)),i<o&&Be(e=e.slice(i)),i<o&&Pe(e))}c.push(t)}return He(c)}function Re(e,t){var i,g,v,b,y,n,o=[],s=[],r=ue[e+" "];if(!r){for(i=(t=t||Ne(e)).length;i--;)((r=Be(t[i]))[L]?o:s).push(r);(r=ue(e,(b=0<(v=o).length,y=0<(g=s).length,n=function(e,t,i,n,o){var s,r,a,l=0,d="0",c=e&&[],h=[],u=oe,p=e||y&&w.find.TAG("*",o),m=A+=null==u?1:Math.random()||.1,f=p.length;for(o&&(oe=t==T||t||o);d!==f&&null!=(s=p[d]);d++){if(y&&s){for(r=0,t||s.ownerDocument==T||($e(s),i=!k);a=g[r++];)if(a(s,t||T,i)){D.call(n,s);break}o&&(A=m)}b&&((s=!a&&s)&&l--,e)&&c.push(s)}if(l+=d,b&&d!==l){for(r=0;a=v[r++];)a(c,h,t,i);if(e){if(0<l)for(;d--;)c[d]||h[d]||(h[d]=Q.call(n));h=Fe(h)}D.apply(n,h),o&&!e&&0<h.length&&1<l+v.length&&S.uniqueSort(n)}return o&&(A=m,oe=u),c},b?O(n):n))).selector=e}return r}function Ue(e,t,i,n){var o,s,r,a,l,d="function"==typeof e&&e,c=!n&&Ne(e=d.selector||e);if(i=i||[],1===c.length){if(2<(s=c[0]=c[0].slice(0)).length&&"ID"===(r=s[0]).type&&9===t.nodeType&&k&&w.relative[s[1].type]){if(!(t=(w.find.ID(r.matches[0].replace(h,p),t)||[])[0]))return i;d&&(t=t.parentNode),e=e.slice(s.shift().value.length)}for(o=xe.needsContext.test(e)?0:s.length;o--&&(r=s[o],!w.relative[a=r.type]);)if((l=w.find[a])&&(n=l(r.matches[0].replace(h,p),ke.test(s[0].type)&&Me(t.parentNode)||t))){if(s.splice(o,1),e=n.length&&Pe(s))break;return D.apply(i,n),i}}return(d||Re(e,c))(n,t,!k,i,!t||ke.test(e)&&Me(t.parentNode)||t),i}je.prototype=w.filters=w.pseudos,w.setFilters=new je,f.sortStable=L.split("").sort(me).join("")===L,$e(),f.sortDetached=Ie(function(e){return 1&e.compareDocumentPosition(T.createElement("fieldset"))}),S.find=I,S.expr[":"]=S.expr.pseudos,S.unique=S.uniqueSort,I.compile=Re,I.select=Ue,I.setDocument=$e,I.tokenize=Ne,I.escape=S.escapeSelector,I.getText=S.text,I.isXML=S.isXMLDoc,I.selectors=S.expr,I.support=S.support,I.uniqueSort=S.uniqueSort;function We(e,t,i){for(var n=[],o=void 0!==i;(e=e[t])&&9!==e.nodeType;)if(1===e.nodeType){if(o&&S(e).is(i))break;n.push(e)}return n}function qe(e,t){for(var i=[];e;e=e.nextSibling)1===e.nodeType&&e!==t&&i.push(e);return i}var Ve=S.expr.match.needsContext,Ge=/^<([a-z][^\/\0>:\x20\t\r\n\f]*)[\x20\t\r\n\f]*\/?>(?:<\/\1>|)$/i;function Ke(e,i,n){return b(i)?S.grep(e,function(e,t){return!!i.call(e,t,e)!==n}):i.nodeType?S.grep(e,function(e){return e===i!==n}):"string"!=typeof i?S.grep(e,function(e){return-1<y.call(i,e)!==n}):S.filter(i,e,n)}S.filter=function(e,t,i){var n=t[0];return i&&(e=":not("+e+")"),1===t.length&&1===n.nodeType?S.find.matchesSelector(n,e)?[n]:[]:S.find.matches(e,S.grep(t,function(e){return 1===e.nodeType}))},S.fn.extend({find:function(e){var t,i,n=this.length,o=this;if("string"!=typeof e)return this.pushStack(S(e).filter(function(){for(t=0;t<n;t++)if(S.contains(o[t],this))return!0}));for(i=this.pushStack([]),t=0;t<n;t++)S.find(e,o[t],i);return 1<n?S.uniqueSort(i):i},filter:function(e){return this.pushStack(Ke(this,e||[],!1))},not:function(e){return this.pushStack(Ke(this,e||[],!0))},is:function(e){return!!Ke(this,"string"==typeof e&&Ve.test(e)?S(e):e||[],!1).length}});var Xe,Ye=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]+))$/,Qe=((S.fn.init=function(e,t,i){if(e){if(i=i||Xe,"string"!=typeof e)return e.nodeType?(this[0]=e,this.length=1,this):b(e)?void 0!==i.ready?i.ready(e):e(S):S.makeArray(e,this);if(!(n="<"===e[0]&&">"===e[e.length-1]&&3<=e.length?[null,e,null]:Ye.exec(e))||!n[1]&&t)return(!t||t.jquery?t||i:this.constructor(t)).find(e);if(n[1]){if(t=t instanceof S?t[0]:t,S.merge(this,S.parseHTML(n[1],t&&t.nodeType?t.ownerDocument||t:C,!0)),Ge.test(n[1])&&S.isPlainObject(t))for(var n in t)b(this[n])?this[n](t[n]):this.attr(n,t[n])}else(i=C.getElementById(n[2]))&&(this[0]=i,this.length=1)}return this}).prototype=S.fn,Xe=S(C),/^(?:parents|prev(?:Until|All))/),Je={children:!0,contents:!0,next:!0,prev:!0};function Ze(e,t){for(;(e=e[t])&&1!==e.nodeType;);return e}S.fn.extend({has:function(e){var t=S(e,this),i=t.length;return this.filter(function(){for(var e=0;e<i;e++)if(S.contains(this,t[e]))return!0})},closest:function(e,t){var i,n=0,o=this.length,s=[],r="string"!=typeof e&&S(e);if(!Ve.test(e))for(;n<o;n++)for(i=this[n];i&&i!==t;i=i.parentNode)if(i.nodeType<11&&(r?-1<r.index(i):1===i.nodeType&&S.find.matchesSelector(i,e))){s.push(i);break}return this.pushStack(1<s.length?S.uniqueSort(s):s)},index:function(e){return e?"string"==typeof e?y.call(S(e),this[0]):y.call(this,e.jquery?e[0]:e):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(e,t){return this.pushStack(S.uniqueSort(S.merge(this.get(),S(e,t))))},addBack:function(e){return this.add(null==e?this.prevObject:this.prevObject.filter(e))}}),S.each({parent:function(e){e=e.parentNode;return e&&11!==e.nodeType?e:null},parents:function(e){return We(e,"parentNode")},parentsUntil:function(e,t,i){return We(e,"parentNode",i)},next:function(e){return Ze(e,"nextSibling")},prev:function(e){return Ze(e,"previousSibling")},nextAll:function(e){return We(e,"nextSibling")},prevAll:function(e){return We(e,"previousSibling")},nextUntil:function(e,t,i){return We(e,"nextSibling",i)},prevUntil:function(e,t,i){return We(e,"previousSibling",i)},siblings:function(e){return qe((e.parentNode||{}).firstChild,e)},children:function(e){return qe(e.firstChild)},contents:function(e){return null!=e.contentDocument&&z(e.contentDocument)?e.contentDocument:(_(e,"template")&&(e=e.content||e),S.merge([],e.childNodes))}},function(n,o){S.fn[n]=function(e,t){var i=S.map(this,o,e);return(t="Until"!==n.slice(-5)?e:t)&&"string"==typeof t&&(i=S.filter(t,i)),1<this.length&&(Je[n]||S.uniqueSort(i),Qe.test(n))&&i.reverse(),this.pushStack(i)}});var E=/[^\x20\t\r\n\f]+/g;function et(e){return e}function tt(e){throw e}function it(e,t,i,n){var o;try{e&&b(o=e.promise)?o.call(e).done(t).fail(i):e&&b(o=e.then)?o.call(e,t,i):t.apply(void 0,[e].slice(n))}catch(e){i.apply(void 0,[e])}}S.Callbacks=function(n){var e,i;n="string"==typeof n?(e=n,i={},S.each(e.match(E)||[],function(e,t){i[t]=!0}),i):S.extend({},n);function o(){for(a=a||n.once,r=s=!0;d.length;c=-1)for(t=d.shift();++c<l.length;)!1===l[c].apply(t[0],t[1])&&n.stopOnFalse&&(c=l.length,t=!1);n.memory||(t=!1),s=!1,a&&(l=t?[]:"")}var s,t,r,a,l=[],d=[],c=-1,h={add:function(){return l&&(t&&!s&&(c=l.length-1,d.push(t)),function i(e){S.each(e,function(e,t){b(t)?n.unique&&h.has(t)||l.push(t):t&&t.length&&"string"!==K(t)&&i(t)})}(arguments),t)&&!s&&o(),this},remove:function(){return S.each(arguments,function(e,t){for(var i;-1<(i=S.inArray(t,l,i));)l.splice(i,1),i<=c&&c--}),this},has:function(e){return e?-1<S.inArray(e,l):0<l.length},empty:function(){return l=l&&[],this},disable:function(){return a=d=[],l=t="",this},disabled:function(){return!l},lock:function(){return a=d=[],t||s||(l=t=""),this},locked:function(){return!!a},fireWith:function(e,t){return a||(t=[e,(t=t||[]).slice?t.slice():t],d.push(t),s)||o(),this},fire:function(){return h.fireWith(this,arguments),this},fired:function(){return!!r}};return h},S.extend({Deferred:function(e){var s=[["notify","progress",S.Callbacks("memory"),S.Callbacks("memory"),2],["resolve","done",S.Callbacks("once memory"),S.Callbacks("once memory"),0,"resolved"],["reject","fail",S.Callbacks("once memory"),S.Callbacks("once memory"),1,"rejected"]],o="pending",r={state:function(){return o},always:function(){return a.done(arguments).fail(arguments),this},catch:function(e){return r.then(null,e)},pipe:function(){var o=arguments;return S.Deferred(function(n){S.each(s,function(e,t){var i=b(o[t[4]])&&o[t[4]];a[t[1]](function(){var e=i&&i.apply(this,arguments);e&&b(e.promise)?e.promise().progress(n.notify).done(n.resolve).fail(n.reject):n[t[0]+"With"](this,i?[e]:arguments)})}),o=null}).promise()},then:function(t,i,n){var l=0;function d(o,s,r,a){return function(){function e(){var e,t;if(!(o<l)){if((e=r.apply(i,n))===s.promise())throw new TypeError("Thenable self-resolution");t=e&&("object"==typeof e||"function"==typeof e)&&e.then,b(t)?a?t.call(e,d(l,s,et,a),d(l,s,tt,a)):(l++,t.call(e,d(l,s,et,a),d(l,s,tt,a),d(l,s,et,s.notifyWith))):(r!==et&&(i=void 0,n=[e]),(a||s.resolveWith)(i,n))}}var i=this,n=arguments,t=a?e:function(){try{e()}catch(e){S.Deferred.exceptionHook&&S.Deferred.exceptionHook(e,t.error),l<=o+1&&(r!==tt&&(i=void 0,n=[e]),s.rejectWith(i,n))}};o?t():(S.Deferred.getErrorHook?t.error=S.Deferred.getErrorHook():S.Deferred.getStackHook&&(t.error=S.Deferred.getStackHook()),x.setTimeout(t))}}return S.Deferred(function(e){s[0][3].add(d(0,e,b(n)?n:et,e.notifyWith)),s[1][3].add(d(0,e,b(t)?t:et)),s[2][3].add(d(0,e,b(i)?i:tt))}).promise()},promise:function(e){return null!=e?S.extend(e,r):r}},a={};return S.each(s,function(e,t){var i=t[2],n=t[5];r[t[1]]=i.add,n&&i.add(function(){o=n},s[3-e][2].disable,s[3-e][3].disable,s[0][2].lock,s[0][3].lock),i.add(t[3].fire),a[t[0]]=function(){return a[t[0]+"With"](this===a?void 0:this,arguments),this},a[t[0]+"With"]=i.fireWith}),r.promise(a),e&&e.call(a,a),a},when:function(e){function t(t){return function(e){o[t]=this,s[t]=1<arguments.length?a.call(arguments):e,--i||r.resolveWith(o,s)}}var i=arguments.length,n=i,o=Array(n),s=a.call(arguments),r=S.Deferred();if(i<=1&&(it(e,r.done(t(n)).resolve,r.reject,!i),"pending"===r.state()||b(s[n]&&s[n].then)))return r.then();for(;n--;)it(s[n],t(n),r.reject);return r.promise()}});var nt=/^(Eval|Internal|Range|Reference|Syntax|Type|URI)Error$/,ot=(S.Deferred.exceptionHook=function(e,t){x.console&&x.console.warn&&e&&nt.test(e.name)&&x.console.warn("jQuery.Deferred exception: "+e.message,e.stack,t)},S.readyException=function(e){x.setTimeout(function(){throw e})},S.Deferred());function st(){C.removeEventListener("DOMContentLoaded",st),x.removeEventListener("load",st),S.ready()}S.fn.ready=function(e){return ot.then(e).catch(function(e){S.readyException(e)}),this},S.extend({isReady:!1,readyWait:1,ready:function(e){(!0===e?--S.readyWait:S.isReady)||(S.isReady=!0)!==e&&0<--S.readyWait||ot.resolveWith(C,[S])}}),S.ready.then=ot.then,"complete"===C.readyState||"loading"!==C.readyState&&!C.documentElement.doScroll?x.setTimeout(S.ready):(C.addEventListener("DOMContentLoaded",st),x.addEventListener("load",st));function c(e,t,i,n,o,s,r){var a=0,l=e.length,d=null==i;if("object"===K(i))for(a in o=!0,i)c(e,t,a,i[a],!0,s,r);else if(void 0!==n&&(o=!0,b(n)||(r=!0),t=d?r?(t.call(e,n),null):(d=t,function(e,t,i){return d.call(S(e),i)}):t))for(;a<l;a++)t(e[a],i,r?n:n.call(e[a],a,t(e[a],i)));return o?e:d?t.call(e):l?t(e[0],i):s}var rt=/^-ms-/,at=/-([a-z])/g;function lt(e,t){return t.toUpperCase()}function M(e){return e.replace(rt,"ms-").replace(at,lt)}function dt(e){return 1===e.nodeType||9===e.nodeType||!+e.nodeType}function ct(){this.expando=S.expando+ct.uid++}ct.uid=1,ct.prototype={cache:function(e){var t=e[this.expando];return t||(t={},dt(e)&&(e.nodeType?e[this.expando]=t:Object.defineProperty(e,this.expando,{value:t,configurable:!0}))),t},set:function(e,t,i){var n,o=this.cache(e);if("string"==typeof t)o[M(t)]=i;else for(n in t)o[M(n)]=t[n];return o},get:function(e,t){return void 0===t?this.cache(e):e[this.expando]&&e[this.expando][M(t)]},access:function(e,t,i){return void 0===t||t&&"string"==typeof t&&void 0===i?this.get(e,t):(this.set(e,t,i),void 0!==i?i:t)},remove:function(e,t){var i,n=e[this.expando];if(void 0!==n){if(void 0!==t){i=(t=Array.isArray(t)?t.map(M):(t=M(t))in n?[t]:t.match(E)||[]).length;for(;i--;)delete n[t[i]]}void 0!==t&&!S.isEmptyObject(n)||(e.nodeType?e[this.expando]=void 0:delete e[this.expando])}},hasData:function(e){e=e[this.expando];return void 0!==e&&!S.isEmptyObject(e)}};var v=new ct,l=new ct,ht=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,ut=/[A-Z]/g;function pt(e,t,i){var n,o;if(void 0===i&&1===e.nodeType)if(n="data-"+t.replace(ut,"-$&").toLowerCase(),"string"==typeof(i=e.getAttribute(n))){try{i="true"===(o=i)||"false"!==o&&("null"===o?null:o===+o+""?+o:ht.test(o)?JSON.parse(o):o)}catch(e){}l.set(e,t,i)}else i=void 0;return i}S.extend({hasData:function(e){return l.hasData(e)||v.hasData(e)},data:function(e,t,i){return l.access(e,t,i)},removeData:function(e,t){l.remove(e,t)},_data:function(e,t,i){return v.access(e,t,i)},_removeData:function(e,t){v.remove(e,t)}}),S.fn.extend({data:function(i,e){var t,n,o,s=this[0],r=s&&s.attributes;if(void 0!==i)return"object"==typeof i?this.each(function(){l.set(this,i)}):c(this,function(e){var t;if(s&&void 0===e)return void 0!==(t=l.get(s,i))||void 0!==(t=pt(s,i))?t:void 0;this.each(function(){l.set(this,i,e)})},null,e,1<arguments.length,null,!0);if(this.length&&(o=l.get(s),1===s.nodeType)&&!v.get(s,"hasDataAttrs")){for(t=r.length;t--;)r[t]&&0===(n=r[t].name).indexOf("data-")&&(n=M(n.slice(5)),pt(s,n,o[n]));v.set(s,"hasDataAttrs",!0)}return o},removeData:function(e){return this.each(function(){l.remove(this,e)})}}),S.extend({queue:function(e,t,i){var n;if(e)return n=v.get(e,t=(t||"fx")+"queue"),i&&(!n||Array.isArray(i)?n=v.access(e,t,S.makeArray(i)):n.push(i)),n||[]},dequeue:function(e,t){t=t||"fx";var i=S.queue(e,t),n=i.length,o=i.shift(),s=S._queueHooks(e,t);"inprogress"===o&&(o=i.shift(),n--),o&&("fx"===t&&i.unshift("inprogress"),delete s.stop,o.call(e,function(){S.dequeue(e,t)},s)),!n&&s&&s.empty.fire()},_queueHooks:function(e,t){var i=t+"queueHooks";return v.get(e,i)||v.access(e,i,{empty:S.Callbacks("once memory").add(function(){v.remove(e,[t+"queue",i])})})}}),S.fn.extend({queue:function(t,i){var e=2;return"string"!=typeof t&&(i=t,t="fx",e--),arguments.length<e?S.queue(this[0],t):void 0===i?this:this.each(function(){var e=S.queue(this,t,i);S._queueHooks(this,t),"fx"===t&&"inprogress"!==e[0]&&S.dequeue(this,t)})},dequeue:function(e){return this.each(function(){S.dequeue(this,e)})},clearQueue:function(e){return this.queue(e||"fx",[])},promise:function(e,t){function i(){--o||s.resolveWith(r,[r])}var n,o=1,s=S.Deferred(),r=this,a=this.length;for("string"!=typeof e&&(t=e,e=void 0),e=e||"fx";a--;)(n=v.get(r[a],e+"queueHooks"))&&n.empty&&(o++,n.empty.add(i));return i(),s.promise(t)}});function mt(e,t){return"none"===(e=t||e).style.display||""===e.style.display&&bt(e)&&"none"===S.css(e,"display")}var e=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,ft=new RegExp("^(?:([+-])=|)("+e+")([a-z%]*)$","i"),gt=["Top","Right","Bottom","Left"],vt=C.documentElement,bt=function(e){return S.contains(e.ownerDocument,e)},yt={composed:!0};vt.getRootNode&&(bt=function(e){return S.contains(e.ownerDocument,e)||e.getRootNode(yt)===e.ownerDocument});function _t(e,t,i,n){var o,s,r=20,a=n?function(){return n.cur()}:function(){return S.css(e,t,"")},l=a(),d=i&&i[3]||(S.cssNumber[t]?"":"px"),c=e.nodeType&&(S.cssNumber[t]||"px"!==d&&+l)&&ft.exec(S.css(e,t));if(c&&c[3]!==d){for(d=d||c[3],c=+(l/=2)||1;r--;)S.style(e,t,c+d),(1-s)*(1-(s=a()/l||.5))<=0&&(r=0),c/=s;S.style(e,t,(c*=2)+d),i=i||[]}return i&&(c=+c||+l||0,o=i[1]?c+(i[1]+1)*i[2]:+i[2],n)&&(n.unit=d,n.start=c,n.end=o),o}var wt={};function xt(e,t){for(var i,n,o,s,r,a,l=[],d=0,c=e.length;d<c;d++)(n=e[d]).style&&(i=n.style.display,t?("none"===i&&(l[d]=v.get(n,"display")||null,l[d]||(n.style.display="")),""===n.style.display&&mt(n)&&(l[d]=(a=s=o=void 0,s=n.ownerDocument,r=n.nodeName,(a=wt[r])||(o=s.body.appendChild(s.createElement(r)),a=S.css(o,"display"),o.parentNode.removeChild(o),wt[r]=a="none"===a?"block":a)))):"none"!==i&&(l[d]="none",v.set(n,"display",i)));for(d=0;d<c;d++)null!=l[d]&&(e[d].style.display=l[d]);return e}S.fn.extend({show:function(){return xt(this,!0)},hide:function(){return xt(this)},toggle:function(e){return"boolean"==typeof e?e?this.show():this.hide():this.each(function(){mt(this)?S(this).show():S(this).hide()})}});var Ct=/^(?:checkbox|radio)$/i,St=/<([a-z][^\/\0>\x20\t\r\n\f]*)/i,Tt=/^$|^module$|\/(?:java|ecma)script/i,s=C.createDocumentFragment().appendChild(C.createElement("div")),m=((r=C.createElement("input")).setAttribute("type","radio"),r.setAttribute("checked","checked"),r.setAttribute("name","t"),s.appendChild(r),f.checkClone=s.cloneNode(!0).cloneNode(!0).lastChild.checked,s.innerHTML="<textarea>x</textarea>",f.noCloneChecked=!!s.cloneNode(!0).lastChild.defaultValue,s.innerHTML="<option></option>",f.option=!!s.lastChild,{thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]});function g(e,t){var i=void 0!==e.getElementsByTagName?e.getElementsByTagName(t||"*"):void 0!==e.querySelectorAll?e.querySelectorAll(t||"*"):[];return void 0===t||t&&_(e,t)?S.merge([e],i):i}function kt(e,t){for(var i=0,n=e.length;i<n;i++)v.set(e[i],"globalEval",!t||v.get(t[i],"globalEval"))}m.tbody=m.tfoot=m.colgroup=m.caption=m.thead,m.th=m.td,f.option||(m.optgroup=m.option=[1,"<select multiple='multiple'>","</select>"]);var Dt=/<|&#?\w+;/;function Lt(e,t,i,n,o){for(var s,r,a,l,d,c=t.createDocumentFragment(),h=[],u=0,p=e.length;u<p;u++)if((s=e[u])||0===s)if("object"===K(s))S.merge(h,s.nodeType?[s]:s);else if(Dt.test(s)){for(r=r||c.appendChild(t.createElement("div")),a=(St.exec(s)||["",""])[1].toLowerCase(),a=m[a]||m._default,r.innerHTML=a[1]+S.htmlPrefilter(s)+a[2],d=a[0];d--;)r=r.lastChild;S.merge(h,r.childNodes),(r=c.firstChild).textContent=""}else h.push(t.createTextNode(s));for(c.textContent="",u=0;s=h[u++];)if(n&&-1<S.inArray(s,n))o&&o.push(s);else if(l=bt(s),r=g(c.appendChild(s),"script"),l&&kt(r),i)for(d=0;s=r[d++];)Tt.test(s.type||"")&&i.push(s);return c}var At=/^([^.]*)(?:\.(.+)|)/;function It(){return!0}function Ot(){return!1}function Et(e,t,i,n,o,s){var r,a;if("object"==typeof t){for(a in"string"!=typeof i&&(n=n||i,i=void 0),t)Et(e,a,i,n,t[a],s);return e}if(null==n&&null==o?(o=i,n=i=void 0):null==o&&("string"==typeof i?(o=n,n=void 0):(o=n,n=i,i=void 0)),!1===o)o=Ot;else if(!o)return e;return 1===s&&(r=o,(o=function(e){return S().off(e),r.apply(this,arguments)}).guid=r.guid||(r.guid=S.guid++)),e.each(function(){S.event.add(this,t,o,n,i)})}function Mt(e,n,t){t?(v.set(e,n,!1),S.event.add(e,n,{namespace:!1,handler:function(e){var t,i=v.get(this,n);if(1&e.isTrigger&&this[n]){if(i)(S.event.special[n]||{}).delegateType&&e.stopPropagation();else if(i=a.call(arguments),v.set(this,n,i),this[n](),t=v.get(this,n),v.set(this,n,!1),i!==t)return e.stopImmediatePropagation(),e.preventDefault(),t}else i&&(v.set(this,n,S.event.trigger(i[0],i.slice(1),this)),e.stopPropagation(),e.isImmediatePropagationStopped=It)}})):void 0===v.get(e,n)&&S.event.add(e,n,It)}S.event={global:{},add:function(t,e,i,n,o){var s,r,a,l,d,c,h,u,p,m=v.get(t);if(dt(t))for(i.handler&&(i=(s=i).handler,o=s.selector),o&&S.find.matchesSelector(vt,o),i.guid||(i.guid=S.guid++),a=(a=m.events)||(m.events=Object.create(null)),r=(r=m.handle)||(m.handle=function(e){return void 0!==S&&S.event.triggered!==e.type?S.event.dispatch.apply(t,arguments):void 0}),l=(e=(e||"").match(E)||[""]).length;l--;)h=p=(u=At.exec(e[l])||[])[1],u=(u[2]||"").split(".").sort(),h&&(d=S.event.special[h]||{},h=(o?d.delegateType:d.bindType)||h,d=S.event.special[h]||{},p=S.extend({type:h,origType:p,data:n,handler:i,guid:i.guid,selector:o,needsContext:o&&S.expr.match.needsContext.test(o),namespace:u.join(".")},s),(c=a[h])||((c=a[h]=[]).delegateCount=0,d.setup&&!1!==d.setup.call(t,n,u,r))||t.addEventListener&&t.addEventListener(h,r),d.add&&(d.add.call(t,p),p.handler.guid||(p.handler.guid=i.guid)),o?c.splice(c.delegateCount++,0,p):c.push(p),S.event.global[h]=!0)},remove:function(e,t,i,n,o){var s,r,a,l,d,c,h,u,p,m,f,g=v.hasData(e)&&v.get(e);if(g&&(l=g.events)){for(d=(t=(t||"").match(E)||[""]).length;d--;)if(p=f=(a=At.exec(t[d])||[])[1],m=(a[2]||"").split(".").sort(),p){for(h=S.event.special[p]||{},u=l[p=(n?h.delegateType:h.bindType)||p]||[],a=a[2]&&new RegExp("(^|\\.)"+m.join("\\.(?:.*\\.|)")+"(\\.|$)"),r=s=u.length;s--;)c=u[s],!o&&f!==c.origType||i&&i.guid!==c.guid||a&&!a.test(c.namespace)||n&&n!==c.selector&&("**"!==n||!c.selector)||(u.splice(s,1),c.selector&&u.delegateCount--,h.remove&&h.remove.call(e,c));r&&!u.length&&(h.teardown&&!1!==h.teardown.call(e,m,g.handle)||S.removeEvent(e,p,g.handle),delete l[p])}else for(p in l)S.event.remove(e,p+t[d],i,n,!0);S.isEmptyObject(l)&&v.remove(e,"handle events")}},dispatch:function(e){var t,i,n,o,s,r=new Array(arguments.length),a=S.event.fix(e),e=(v.get(this,"events")||Object.create(null))[a.type]||[],l=S.event.special[a.type]||{};for(r[0]=a,t=1;t<arguments.length;t++)r[t]=arguments[t];if(a.delegateTarget=this,!l.preDispatch||!1!==l.preDispatch.call(this,a)){for(s=S.event.handlers.call(this,a,e),t=0;(n=s[t++])&&!a.isPropagationStopped();)for(a.currentTarget=n.elem,i=0;(o=n.handlers[i++])&&!a.isImmediatePropagationStopped();)a.rnamespace&&!1!==o.namespace&&!a.rnamespace.test(o.namespace)||(a.handleObj=o,a.data=o.data,void 0!==(o=((S.event.special[o.origType]||{}).handle||o.handler).apply(n.elem,r))&&!1===(a.result=o)&&(a.preventDefault(),a.stopPropagation()));return l.postDispatch&&l.postDispatch.call(this,a),a.result}},handlers:function(e,t){var i,n,o,s,r,a=[],l=t.delegateCount,d=e.target;if(l&&d.nodeType&&!("click"===e.type&&1<=e.button))for(;d!==this;d=d.parentNode||this)if(1===d.nodeType&&("click"!==e.type||!0!==d.disabled)){for(s=[],r={},i=0;i<l;i++)void 0===r[o=(n=t[i]).selector+" "]&&(r[o]=n.needsContext?-1<S(o,this).index(d):S.find(o,this,null,[d]).length),r[o]&&s.push(n);s.length&&a.push({elem:d,handlers:s})}return d=this,l<t.length&&a.push({elem:d,handlers:t.slice(l)}),a},addProp:function(t,e){Object.defineProperty(S.Event.prototype,t,{enumerable:!0,configurable:!0,get:b(e)?function(){if(this.originalEvent)return e(this.originalEvent)}:function(){if(this.originalEvent)return this.originalEvent[t]},set:function(e){Object.defineProperty(this,t,{enumerable:!0,configurable:!0,writable:!0,value:e})}})},fix:function(e){return e[S.expando]?e:new S.Event(e)},special:{load:{noBubble:!0},click:{setup:function(e){e=this||e;return Ct.test(e.type)&&e.click&&_(e,"input")&&Mt(e,"click",!0),!1},trigger:function(e){e=this||e;return Ct.test(e.type)&&e.click&&_(e,"input")&&Mt(e,"click"),!0},_default:function(e){e=e.target;return Ct.test(e.type)&&e.click&&_(e,"input")&&v.get(e,"click")||_(e,"a")}},beforeunload:{postDispatch:function(e){void 0!==e.result&&e.originalEvent&&(e.originalEvent.returnValue=e.result)}}}},S.removeEvent=function(e,t,i){e.removeEventListener&&e.removeEventListener(t,i)},S.Event=function(e,t){if(!(this instanceof S.Event))return new S.Event(e,t);e&&e.type?(this.originalEvent=e,this.type=e.type,this.isDefaultPrevented=e.defaultPrevented||void 0===e.defaultPrevented&&!1===e.returnValue?It:Ot,this.target=e.target&&3===e.target.nodeType?e.target.parentNode:e.target,this.currentTarget=e.currentTarget,this.relatedTarget=e.relatedTarget):this.type=e,t&&S.extend(this,t),this.timeStamp=e&&e.timeStamp||Date.now(),this[S.expando]=!0},S.Event.prototype={constructor:S.Event,isDefaultPrevented:Ot,isPropagationStopped:Ot,isImmediatePropagationStopped:Ot,isSimulated:!1,preventDefault:function(){var e=this.originalEvent;this.isDefaultPrevented=It,e&&!this.isSimulated&&e.preventDefault()},stopPropagation:function(){var e=this.originalEvent;this.isPropagationStopped=It,e&&!this.isSimulated&&e.stopPropagation()},stopImmediatePropagation:function(){var e=this.originalEvent;this.isImmediatePropagationStopped=It,e&&!this.isSimulated&&e.stopImmediatePropagation(),this.stopPropagation()}},S.each({altKey:!0,bubbles:!0,cancelable:!0,changedTouches:!0,ctrlKey:!0,detail:!0,eventPhase:!0,metaKey:!0,pageX:!0,pageY:!0,shiftKey:!0,view:!0,char:!0,code:!0,charCode:!0,key:!0,keyCode:!0,button:!0,buttons:!0,clientX:!0,clientY:!0,offsetX:!0,offsetY:!0,pointerId:!0,pointerType:!0,screenX:!0,screenY:!0,targetTouches:!0,toElement:!0,touches:!0,which:!0},S.event.addProp),S.each({focus:"focusin",blur:"focusout"},function(n,o){function s(e){var t,i;C.documentMode?(t=v.get(this,"handle"),(i=S.event.fix(e)).type="focusin"===e.type?"focus":"blur",i.isSimulated=!0,t(e),i.target===i.currentTarget&&t(i)):S.event.simulate(o,e.target,S.event.fix(e))}S.event.special[n]={setup:function(){var e;if(Mt(this,n,!0),!C.documentMode)return!1;(e=v.get(this,o))||this.addEventListener(o,s),v.set(this,o,(e||0)+1)},trigger:function(){return Mt(this,n),!0},teardown:function(){var e;if(!C.documentMode)return!1;(e=v.get(this,o)-1)?v.set(this,o,e):(this.removeEventListener(o,s),v.remove(this,o))},_default:function(e){return v.get(e.target,n)},delegateType:o},S.event.special[o]={setup:function(){var e=this.ownerDocument||this.document||this,t=C.documentMode?this:e,i=v.get(t,o);i||(C.documentMode?this.addEventListener(o,s):e.addEventListener(n,s,!0)),v.set(t,o,(i||0)+1)},teardown:function(){var e=this.ownerDocument||this.document||this,t=C.documentMode?this:e,i=v.get(t,o)-1;i?v.set(t,o,i):(C.documentMode?this.removeEventListener(o,s):e.removeEventListener(n,s,!0),v.remove(t,o))}}}),S.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},function(e,o){S.event.special[e]={delegateType:o,bindType:o,handle:function(e){var t,i=e.relatedTarget,n=e.handleObj;return i&&(i===this||S.contains(this,i))||(e.type=n.origType,t=n.handler.apply(this,arguments),e.type=o),t}}}),S.fn.extend({on:function(e,t,i,n){return Et(this,e,t,i,n)},one:function(e,t,i,n){return Et(this,e,t,i,n,1)},off:function(e,t,i){var n,o;if(e&&e.preventDefault&&e.handleObj)n=e.handleObj,S(e.delegateTarget).off(n.namespace?n.origType+"."+n.namespace:n.origType,n.selector,n.handler);else{if("object"!=typeof e)return!1!==t&&"function"!=typeof t||(i=t,t=void 0),!1===i&&(i=Ot),this.each(function(){S.event.remove(this,e,i,t)});for(o in e)this.off(o,t,e[o])}return this}});var $t=/<script|<style|<link/i,jt=/checked\s*(?:[^=]|=\s*.checked.)/i,Nt=/^\s*<!\[CDATA\[|\]\]>\s*$/g;function Pt(e,t){return _(e,"table")&&_(11!==t.nodeType?t:t.firstChild,"tr")&&S(e).children("tbody")[0]||e}function zt(e){return e.type=(null!==e.getAttribute("type"))+"/"+e.type,e}function Ht(e){return"true/"===(e.type||"").slice(0,5)?e.type=e.type.slice(5):e.removeAttribute("type"),e}function Ft(e,t){var i,n,o,s;if(1===t.nodeType){if(v.hasData(e)&&(s=v.get(e).events))for(o in v.remove(t,"handle events"),s)for(i=0,n=s[o].length;i<n;i++)S.event.add(t,o,s[o][i]);l.hasData(e)&&(e=l.access(e),e=S.extend({},e),l.set(t,e))}}function Bt(i,n,o,s){n=H(n);var e,t,r,a,l,d,c=0,h=i.length,u=h-1,p=n[0],m=b(p);if(m||1<h&&"string"==typeof p&&!f.checkClone&&jt.test(p))return i.each(function(e){var t=i.eq(e);m&&(n[0]=p.call(this,e,t.html())),Bt(t,n,o,s)});if(h&&(t=(e=Lt(n,i[0].ownerDocument,!1,i,s)).firstChild,1===e.childNodes.length&&(e=t),t||s)){for(a=(r=S.map(g(e,"script"),zt)).length;c<h;c++)l=e,c!==u&&(l=S.clone(l,!0,!0),a)&&S.merge(r,g(l,"script")),o.call(i[c],l,c);if(a)for(d=r[r.length-1].ownerDocument,S.map(r,Ht),c=0;c<a;c++)l=r[c],Tt.test(l.type||"")&&!v.access(l,"globalEval")&&S.contains(d,l)&&(l.src&&"module"!==(l.type||"").toLowerCase()?S._evalUrl&&!l.noModule&&S._evalUrl(l.src,{nonce:l.nonce||l.getAttribute("nonce")},d):G(l.textContent.replace(Nt,""),l,d))}return i}function Rt(e,t,i){for(var n,o=t?S.filter(t,e):e,s=0;null!=(n=o[s]);s++)i||1!==n.nodeType||S.cleanData(g(n)),n.parentNode&&(i&&bt(n)&&kt(g(n,"script")),n.parentNode.removeChild(n));return e}S.extend({htmlPrefilter:function(e){return e},clone:function(e,t,i){var n,o,s,r,a,l,d,c=e.cloneNode(!0),h=bt(e);if(!(f.noCloneChecked||1!==e.nodeType&&11!==e.nodeType||S.isXMLDoc(e)))for(r=g(c),n=0,o=(s=g(e)).length;n<o;n++)a=s[n],"input"===(d=(l=r[n]).nodeName.toLowerCase())&&Ct.test(a.type)?l.checked=a.checked:"input"!==d&&"textarea"!==d||(l.defaultValue=a.defaultValue);if(t)if(i)for(s=s||g(e),r=r||g(c),n=0,o=s.length;n<o;n++)Ft(s[n],r[n]);else Ft(e,c);return 0<(r=g(c,"script")).length&&kt(r,!h&&g(e,"script")),c},cleanData:function(e){for(var t,i,n,o=S.event.special,s=0;void 0!==(i=e[s]);s++)if(dt(i)){if(t=i[v.expando]){if(t.events)for(n in t.events)o[n]?S.event.remove(i,n):S.removeEvent(i,n,t.handle);i[v.expando]=void 0}i[l.expando]&&(i[l.expando]=void 0)}}}),S.fn.extend({detach:function(e){return Rt(this,e,!0)},remove:function(e){return Rt(this,e)},text:function(e){return c(this,function(e){return void 0===e?S.text(this):this.empty().each(function(){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||(this.textContent=e)})},null,e,arguments.length)},append:function(){return Bt(this,arguments,function(e){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||Pt(this,e).appendChild(e)})},prepend:function(){return Bt(this,arguments,function(e){var t;1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||(t=Pt(this,e)).insertBefore(e,t.firstChild)})},before:function(){return Bt(this,arguments,function(e){this.parentNode&&this.parentNode.insertBefore(e,this)})},after:function(){return Bt(this,arguments,function(e){this.parentNode&&this.parentNode.insertBefore(e,this.nextSibling)})},empty:function(){for(var e,t=0;null!=(e=this[t]);t++)1===e.nodeType&&(S.cleanData(g(e,!1)),e.textContent="");return this},clone:function(e,t){return e=null!=e&&e,t=null==t?e:t,this.map(function(){return S.clone(this,e,t)})},html:function(e){return c(this,function(e){var t=this[0]||{},i=0,n=this.length;if(void 0===e&&1===t.nodeType)return t.innerHTML;if("string"==typeof e&&!$t.test(e)&&!m[(St.exec(e)||["",""])[1].toLowerCase()]){e=S.htmlPrefilter(e);try{for(;i<n;i++)1===(t=this[i]||{}).nodeType&&(S.cleanData(g(t,!1)),t.innerHTML=e);t=0}catch(e){}}t&&this.empty().append(e)},null,e,arguments.length)},replaceWith:function(){var i=[];return Bt(this,arguments,function(e){var t=this.parentNode;S.inArray(this,i)<0&&(S.cleanData(g(this)),t)&&t.replaceChild(e,this)},i)}}),S.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(e,r){S.fn[e]=function(e){for(var t,i=[],n=S(e),o=n.length-1,s=0;s<=o;s++)t=s===o?this:this.clone(!0),S(n[s])[r](t),F.apply(i,t.get());return this.pushStack(i)}});function Ut(e){var t=e.ownerDocument.defaultView;return(t=t&&t.opener?t:x).getComputedStyle(e)}function Wt(e,t,i){var n,o={};for(n in t)o[n]=e.style[n],e.style[n]=t[n];for(n in i=i.call(e),t)e.style[n]=o[n];return i}var qt,Vt,Gt,Kt,Xt,Yt,Qt,d,Jt=new RegExp("^("+e+")(?!px)[a-z%]+$","i"),Zt=/^--/,ei=new RegExp(gt.join("|"),"i");function ti(e,t,i){var n,o=Zt.test(t),s=e.style;return(i=i||Ut(e))&&(n=i.getPropertyValue(t)||i[t],""!==(n=o?n&&(n.replace(ee,"$1")||void 0):n)||bt(e)||(n=S.style(e,t)),!f.pixelBoxStyles())&&Jt.test(n)&&ei.test(t)&&(o=s.width,e=s.minWidth,t=s.maxWidth,s.minWidth=s.maxWidth=s.width=n,n=i.width,s.width=o,s.minWidth=e,s.maxWidth=t),void 0!==n?n+"":n}function ii(e,t){return{get:function(){if(!e())return(this.get=t).apply(this,arguments);delete this.get}}}function ni(){var e;d&&(Qt.style.cssText="position:absolute;left:-11111px;width:60px;margin-top:1px;padding:0;border:0",d.style.cssText="position:relative;display:block;box-sizing:border-box;overflow:scroll;margin:auto;border:1px;padding:1px;width:60%;top:1%",vt.appendChild(Qt).appendChild(d),e=x.getComputedStyle(d),qt="1%"!==e.top,Yt=12===oi(e.marginLeft),d.style.right="60%",Kt=36===oi(e.right),Vt=36===oi(e.width),d.style.position="absolute",Gt=12===oi(d.offsetWidth/3),vt.removeChild(Qt),d=null)}function oi(e){return Math.round(parseFloat(e))}Qt=C.createElement("div"),(d=C.createElement("div")).style&&(d.style.backgroundClip="content-box",d.cloneNode(!0).style.backgroundClip="",f.clearCloneStyle="content-box"===d.style.backgroundClip,S.extend(f,{boxSizingReliable:function(){return ni(),Vt},pixelBoxStyles:function(){return ni(),Kt},pixelPosition:function(){return ni(),qt},reliableMarginLeft:function(){return ni(),Yt},scrollboxSize:function(){return ni(),Gt},reliableTrDimensions:function(){var e,t,i;return null==Xt&&(e=C.createElement("table"),t=C.createElement("tr"),i=C.createElement("div"),e.style.cssText="position:absolute;left:-11111px;border-collapse:separate",t.style.cssText="box-sizing:content-box;border:1px solid",t.style.height="1px",i.style.height="9px",i.style.display="block",vt.appendChild(e).appendChild(t).appendChild(i),i=x.getComputedStyle(t),Xt=parseInt(i.height,10)+parseInt(i.borderTopWidth,10)+parseInt(i.borderBottomWidth,10)===t.offsetHeight,vt.removeChild(e)),Xt}}));var si=["Webkit","Moz","ms"],ri=C.createElement("div").style,ai={};function li(e){return S.cssProps[e]||ai[e]||(e in ri?e:ai[e]=function(e){for(var t=e[0].toUpperCase()+e.slice(1),i=si.length;i--;)if((e=si[i]+t)in ri)return e}(e)||e)}var di=/^(none|table(?!-c[ea]).+)/,ci={position:"absolute",visibility:"hidden",display:"block"},hi={letterSpacing:"0",fontWeight:"400"};function ui(e,t,i){var n=ft.exec(t);return n?Math.max(0,n[2]-(i||0))+(n[3]||"px"):t}function pi(e,t,i,n,o,s){var r="width"===t?1:0,a=0,l=0,d=0;if(i===(n?"border":"content"))return 0;for(;r<4;r+=2)"margin"===i&&(d+=S.css(e,i+gt[r],!0,o)),n?("content"===i&&(l-=S.css(e,"padding"+gt[r],!0,o)),"margin"!==i&&(l-=S.css(e,"border"+gt[r]+"Width",!0,o))):(l+=S.css(e,"padding"+gt[r],!0,o),"padding"!==i?l+=S.css(e,"border"+gt[r]+"Width",!0,o):a+=S.css(e,"border"+gt[r]+"Width",!0,o));return!n&&0<=s&&(l+=Math.max(0,Math.ceil(e["offset"+t[0].toUpperCase()+t.slice(1)]-s-l-a-.5))||0),l+d}function mi(e,t,i){var n=Ut(e),o=(!f.boxSizingReliable()||i)&&"border-box"===S.css(e,"boxSizing",!1,n),s=o,r=ti(e,t,n),a="offset"+t[0].toUpperCase()+t.slice(1);if(Jt.test(r)){if(!i)return r;r="auto"}return(!f.boxSizingReliable()&&o||!f.reliableTrDimensions()&&_(e,"tr")||"auto"===r||!parseFloat(r)&&"inline"===S.css(e,"display",!1,n))&&e.getClientRects().length&&(o="border-box"===S.css(e,"boxSizing",!1,n),s=a in e)&&(r=e[a]),(r=parseFloat(r)||0)+pi(e,t,i||(o?"border":"content"),s,n,r)+"px"}function $(e,t,i,n,o){return new $.prototype.init(e,t,i,n,o)}S.extend({cssHooks:{opacity:{get:function(e,t){if(t)return""===(t=ti(e,"opacity"))?"1":t}}},cssNumber:{animationIterationCount:!0,aspectRatio:!0,borderImageSlice:!0,columnCount:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,gridArea:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnStart:!0,gridRow:!0,gridRowEnd:!0,gridRowStart:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,scale:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeMiterlimit:!0,strokeOpacity:!0},cssProps:{},style:function(e,t,i,n){if(e&&3!==e.nodeType&&8!==e.nodeType&&e.style){var o,s,r,a=M(t),l=Zt.test(t),d=e.style;if(l||(t=li(a)),r=S.cssHooks[t]||S.cssHooks[a],void 0===i)return r&&"get"in r&&void 0!==(o=r.get(e,!1,n))?o:d[t];"string"==(s=typeof i)&&(o=ft.exec(i))&&o[1]&&(i=_t(e,t,o),s="number"),null!=i&&i==i&&("number"!==s||l||(i+=o&&o[3]||(S.cssNumber[a]?"":"px")),f.clearCloneStyle||""!==i||0!==t.indexOf("background")||(d[t]="inherit"),r&&"set"in r&&void 0===(i=r.set(e,i,n))||(l?d.setProperty(t,i):d[t]=i))}},css:function(e,t,i,n){var o,s=M(t);return Zt.test(t)||(t=li(s)),"normal"===(o=void 0===(o=(s=S.cssHooks[t]||S.cssHooks[s])&&"get"in s?s.get(e,!0,i):o)?ti(e,t,n):o)&&t in hi&&(o=hi[t]),(""===i||i)&&(s=parseFloat(o),!0===i||isFinite(s))?s||0:o}}),S.each(["height","width"],function(e,r){S.cssHooks[r]={get:function(e,t,i){if(t)return!di.test(S.css(e,"display"))||e.getClientRects().length&&e.getBoundingClientRect().width?mi(e,r,i):Wt(e,ci,function(){return mi(e,r,i)})},set:function(e,t,i){var n=Ut(e),o=!f.scrollboxSize()&&"absolute"===n.position,s=(o||i)&&"border-box"===S.css(e,"boxSizing",!1,n),i=i?pi(e,r,i,s,n):0;return s&&o&&(i-=Math.ceil(e["offset"+r[0].toUpperCase()+r.slice(1)]-parseFloat(n[r])-pi(e,r,"border",!1,n)-.5)),i&&(s=ft.exec(t))&&"px"!==(s[3]||"px")&&(e.style[r]=t,t=S.css(e,r)),ui(0,t,i)}}}),S.cssHooks.marginLeft=ii(f.reliableMarginLeft,function(e,t){if(t)return(parseFloat(ti(e,"marginLeft"))||e.getBoundingClientRect().left-Wt(e,{marginLeft:0},function(){return e.getBoundingClientRect().left}))+"px"}),S.each({margin:"",padding:"",border:"Width"},function(o,s){S.cssHooks[o+s]={expand:function(e){for(var t=0,i={},n="string"==typeof e?e.split(" "):[e];t<4;t++)i[o+gt[t]+s]=n[t]||n[t-2]||n[0];return i}},"margin"!==o&&(S.cssHooks[o+s].set=ui)}),S.fn.extend({css:function(e,t){return c(this,function(e,t,i){var n,o,s={},r=0;if(Array.isArray(t)){for(n=Ut(e),o=t.length;r<o;r++)s[t[r]]=S.css(e,t[r],!1,n);return s}return void 0!==i?S.style(e,t,i):S.css(e,t)},e,t,1<arguments.length)}}),((S.Tween=$).prototype={constructor:$,init:function(e,t,i,n,o,s){this.elem=e,this.prop=i,this.easing=o||S.easing._default,this.options=t,this.start=this.now=this.cur(),this.end=n,this.unit=s||(S.cssNumber[i]?"":"px")},cur:function(){var e=$.propHooks[this.prop];return(e&&e.get?e:$.propHooks._default).get(this)},run:function(e){var t,i=$.propHooks[this.prop];return this.options.duration?this.pos=t=S.easing[this.easing](e,this.options.duration*e,0,1,this.options.duration):this.pos=t=e,this.now=(this.end-this.start)*t+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),(i&&i.set?i:$.propHooks._default).set(this),this}}).init.prototype=$.prototype,($.propHooks={_default:{get:function(e){return 1!==e.elem.nodeType||null!=e.elem[e.prop]&&null==e.elem.style[e.prop]?e.elem[e.prop]:(e=S.css(e.elem,e.prop,""))&&"auto"!==e?e:0},set:function(e){S.fx.step[e.prop]?S.fx.step[e.prop](e):1!==e.elem.nodeType||!S.cssHooks[e.prop]&&null==e.elem.style[li(e.prop)]?e.elem[e.prop]=e.now:S.style(e.elem,e.prop,e.now+e.unit)}}}).scrollTop=$.propHooks.scrollLeft={set:function(e){e.elem.nodeType&&e.elem.parentNode&&(e.elem[e.prop]=e.now)}},S.easing={linear:function(e){return e},swing:function(e){return.5-Math.cos(e*Math.PI)/2},_default:"swing"},S.fx=$.prototype.init,S.fx.step={};var fi,gi,vi=/^(?:toggle|show|hide)$/,bi=/queueHooks$/;function yi(){gi&&(!1===C.hidden&&x.requestAnimationFrame?x.requestAnimationFrame(yi):x.setTimeout(yi,S.fx.interval),S.fx.tick())}function _i(){return x.setTimeout(function(){fi=void 0}),fi=Date.now()}function wi(e,t){var i,n=0,o={height:e};for(t=t?1:0;n<4;n+=2-t)o["margin"+(i=gt[n])]=o["padding"+i]=e;return t&&(o.opacity=o.width=e),o}function xi(e,t,i){for(var n,o=(j.tweeners[t]||[]).concat(j.tweeners["*"]),s=0,r=o.length;s<r;s++)if(n=o[s].call(i,t,e))return n}function j(o,e,t){var i,s,n,r,a,l,d,c=0,h=j.prefilters.length,u=S.Deferred().always(function(){delete p.elem}),p=function(){if(s)return!1;for(var e=fi||_i(),e=Math.max(0,m.startTime+m.duration-e),t=1-(e/m.duration||0),i=0,n=m.tweens.length;i<n;i++)m.tweens[i].run(t);return u.notifyWith(o,[m,t,e]),t<1&&n?e:(n||u.notifyWith(o,[m,1,0]),u.resolveWith(o,[m]),!1)},m=u.promise({elem:o,props:S.extend({},e),opts:S.extend(!0,{specialEasing:{},easing:S.easing._default},t),originalProperties:e,originalOptions:t,startTime:fi||_i(),duration:t.duration,tweens:[],createTween:function(e,t){t=S.Tween(o,m.opts,e,t,m.opts.specialEasing[e]||m.opts.easing);return m.tweens.push(t),t},stop:function(e){var t=0,i=e?m.tweens.length:0;if(!s){for(s=!0;t<i;t++)m.tweens[t].run(1);e?(u.notifyWith(o,[m,1,0]),u.resolveWith(o,[m,e])):u.rejectWith(o,[m,e])}return this}}),f=m.props,g=f,v=m.opts.specialEasing;for(n in g)if(a=v[r=M(n)],l=g[n],Array.isArray(l)&&(a=l[1],l=g[n]=l[0]),n!==r&&(g[r]=l,delete g[n]),(d=S.cssHooks[r])&&"expand"in d)for(n in l=d.expand(l),delete g[r],l)n in g||(g[n]=l[n],v[n]=a);else v[r]=a;for(;c<h;c++)if(i=j.prefilters[c].call(m,o,f,m.opts))return b(i.stop)&&(S._queueHooks(m.elem,m.opts.queue).stop=i.stop.bind(i)),i;return S.map(f,xi,m),b(m.opts.start)&&m.opts.start.call(o,m),m.progress(m.opts.progress).done(m.opts.done,m.opts.complete).fail(m.opts.fail).always(m.opts.always),S.fx.timer(S.extend(p,{elem:o,anim:m,queue:m.opts.queue})),m}S.Animation=S.extend(j,{tweeners:{"*":[function(e,t){var i=this.createTween(e,t);return _t(i.elem,e,ft.exec(t),i),i}]},tweener:function(e,t){for(var i,n=0,o=(e=b(e)?(t=e,["*"]):e.match(E)).length;n<o;n++)i=e[n],j.tweeners[i]=j.tweeners[i]||[],j.tweeners[i].unshift(t)},prefilters:[function(e,t,i){var n,o,s,r,a,l,d,c="width"in t||"height"in t,h=this,u={},p=e.style,m=e.nodeType&&mt(e),f=v.get(e,"fxshow");for(n in i.queue||(null==(r=S._queueHooks(e,"fx")).unqueued&&(r.unqueued=0,a=r.empty.fire,r.empty.fire=function(){r.unqueued||a()}),r.unqueued++,h.always(function(){h.always(function(){r.unqueued--,S.queue(e,"fx").length||r.empty.fire()})})),t)if(o=t[n],vi.test(o)){if(delete t[n],s=s||"toggle"===o,o===(m?"hide":"show")){if("show"!==o||!f||void 0===f[n])continue;m=!0}u[n]=f&&f[n]||S.style(e,n)}if((l=!S.isEmptyObject(t))||!S.isEmptyObject(u))for(n in c&&1===e.nodeType&&(i.overflow=[p.overflow,p.overflowX,p.overflowY],null==(d=f&&f.display)&&(d=v.get(e,"display")),"none"===(c=S.css(e,"display"))&&(d?c=d:(xt([e],!0),d=e.style.display||d,c=S.css(e,"display"),xt([e]))),"inline"===c||"inline-block"===c&&null!=d)&&"none"===S.css(e,"float")&&(l||(h.done(function(){p.display=d}),null==d&&(c=p.display,d="none"===c?"":c)),p.display="inline-block"),i.overflow&&(p.overflow="hidden",h.always(function(){p.overflow=i.overflow[0],p.overflowX=i.overflow[1],p.overflowY=i.overflow[2]})),l=!1,u)l||(f?"hidden"in f&&(m=f.hidden):f=v.access(e,"fxshow",{display:d}),s&&(f.hidden=!m),m&&xt([e],!0),h.done(function(){for(n in m||xt([e]),v.remove(e,"fxshow"),u)S.style(e,n,u[n])})),l=xi(m?f[n]:0,n,h),n in f||(f[n]=l.start,m&&(l.end=l.start,l.start=0))}],prefilter:function(e,t){t?j.prefilters.unshift(e):j.prefilters.push(e)}}),S.speed=function(e,t,i){var n=e&&"object"==typeof e?S.extend({},e):{complete:i||!i&&t||b(e)&&e,duration:e,easing:i&&t||t&&!b(t)&&t};return S.fx.off?n.duration=0:"number"!=typeof n.duration&&(n.duration in S.fx.speeds?n.duration=S.fx.speeds[n.duration]:n.duration=S.fx.speeds._default),null!=n.queue&&!0!==n.queue||(n.queue="fx"),n.old=n.complete,n.complete=function(){b(n.old)&&n.old.call(this),n.queue&&S.dequeue(this,n.queue)},n},S.fn.extend({fadeTo:function(e,t,i,n){return this.filter(mt).css("opacity",0).show().end().animate({opacity:t},e,i,n)},animate:function(t,e,i,n){function o(){var e=j(this,S.extend({},t),r);(s||v.get(this,"finish"))&&e.stop(!0)}var s=S.isEmptyObject(t),r=S.speed(e,i,n);return o.finish=o,s||!1===r.queue?this.each(o):this.queue(r.queue,o)},stop:function(o,e,s){function r(e){var t=e.stop;delete e.stop,t(s)}return"string"!=typeof o&&(s=e,e=o,o=void 0),e&&this.queue(o||"fx",[]),this.each(function(){var e=!0,t=null!=o&&o+"queueHooks",i=S.timers,n=v.get(this);if(t)n[t]&&n[t].stop&&r(n[t]);else for(t in n)n[t]&&n[t].stop&&bi.test(t)&&r(n[t]);for(t=i.length;t--;)i[t].elem!==this||null!=o&&i[t].queue!==o||(i[t].anim.stop(s),e=!1,i.splice(t,1));!e&&s||S.dequeue(this,o)})},finish:function(r){return!1!==r&&(r=r||"fx"),this.each(function(){var e,t=v.get(this),i=t[r+"queue"],n=t[r+"queueHooks"],o=S.timers,s=i?i.length:0;for(t.finish=!0,S.queue(this,r,[]),n&&n.stop&&n.stop.call(this,!0),e=o.length;e--;)o[e].elem===this&&o[e].queue===r&&(o[e].anim.stop(!0),o.splice(e,1));for(e=0;e<s;e++)i[e]&&i[e].finish&&i[e].finish.call(this);delete t.finish})}}),S.each(["toggle","show","hide"],function(e,n){var o=S.fn[n];S.fn[n]=function(e,t,i){return null==e||"boolean"==typeof e?o.apply(this,arguments):this.animate(wi(n,!0),e,t,i)}}),S.each({slideDown:wi("show"),slideUp:wi("hide"),slideToggle:wi("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(e,n){S.fn[e]=function(e,t,i){return this.animate(n,e,t,i)}}),S.timers=[],S.fx.tick=function(){var e,t=0,i=S.timers;for(fi=Date.now();t<i.length;t++)(e=i[t])()||i[t]!==e||i.splice(t--,1);i.length||S.fx.stop(),fi=void 0},S.fx.timer=function(e){S.timers.push(e),S.fx.start()},S.fx.interval=13,S.fx.start=function(){gi||(gi=!0,yi())},S.fx.stop=function(){gi=null},S.fx.speeds={slow:600,fast:200,_default:400},S.fn.delay=function(n,e){return n=S.fx&&S.fx.speeds[n]||n,this.queue(e=e||"fx",function(e,t){var i=x.setTimeout(e,n);t.stop=function(){x.clearTimeout(i)}})},r=C.createElement("input"),s=C.createElement("select").appendChild(C.createElement("option")),r.type="checkbox",f.checkOn=""!==r.value,f.optSelected=s.selected,(r=C.createElement("input")).value="t",r.type="radio",f.radioValue="t"===r.value;var Ci,Si=S.expr.attrHandle,Ti=(S.fn.extend({attr:function(e,t){return c(this,S.attr,e,t,1<arguments.length)},removeAttr:function(e){return this.each(function(){S.removeAttr(this,e)})}}),S.extend({attr:function(e,t,i){var n,o,s=e.nodeType;if(3!==s&&8!==s&&2!==s)return void 0===e.getAttribute?S.prop(e,t,i):(1===s&&S.isXMLDoc(e)||(o=S.attrHooks[t.toLowerCase()]||(S.expr.match.bool.test(t)?Ci:void 0)),void 0!==i?null===i?void S.removeAttr(e,t):o&&"set"in o&&void 0!==(n=o.set(e,i,t))?n:(e.setAttribute(t,i+""),i):!(o&&"get"in o&&null!==(n=o.get(e,t)))&&null==(n=S.find.attr(e,t))?void 0:n)},attrHooks:{type:{set:function(e,t){var i;if(!f.radioValue&&"radio"===t&&_(e,"input"))return i=e.value,e.setAttribute("type",t),i&&(e.value=i),t}}},removeAttr:function(e,t){var i,n=0,o=t&&t.match(E);if(o&&1===e.nodeType)for(;i=o[n++];)e.removeAttribute(i)}}),Ci={set:function(e,t,i){return!1===t?S.removeAttr(e,i):e.setAttribute(i,i),i}},S.each(S.expr.match.bool.source.match(/\w+/g),function(e,t){var r=Si[t]||S.find.attr;Si[t]=function(e,t,i){var n,o,s=t.toLowerCase();return i||(o=Si[s],Si[s]=n,n=null!=r(e,t,i)?s:null,Si[s]=o),n}}),/^(?:input|select|textarea|button)$/i),ki=/^(?:a|area)$/i;function Di(e){return(e.match(E)||[]).join(" ")}function Li(e){return e.getAttribute&&e.getAttribute("class")||""}function Ai(e){return Array.isArray(e)?e:"string"==typeof e&&e.match(E)||[]}S.fn.extend({prop:function(e,t){return c(this,S.prop,e,t,1<arguments.length)},removeProp:function(e){return this.each(function(){delete this[S.propFix[e]||e]})}}),S.extend({prop:function(e,t,i){var n,o,s=e.nodeType;if(3!==s&&8!==s&&2!==s)return 1===s&&S.isXMLDoc(e)||(t=S.propFix[t]||t,o=S.propHooks[t]),void 0!==i?o&&"set"in o&&void 0!==(n=o.set(e,i,t))?n:e[t]=i:o&&"get"in o&&null!==(n=o.get(e,t))?n:e[t]},propHooks:{tabIndex:{get:function(e){var t=S.find.attr(e,"tabindex");return t?parseInt(t,10):Ti.test(e.nodeName)||ki.test(e.nodeName)&&e.href?0:-1}}},propFix:{for:"htmlFor",class:"className"}}),f.optSelected||(S.propHooks.selected={get:function(e){e=e.parentNode;return e&&e.parentNode&&e.parentNode.selectedIndex,null},set:function(e){e=e.parentNode;e&&(e.selectedIndex,e.parentNode)&&e.parentNode.selectedIndex}}),S.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){S.propFix[this.toLowerCase()]=this}),S.fn.extend({addClass:function(t){var e,i,n,o,s,r;return b(t)?this.each(function(e){S(this).addClass(t.call(this,e,Li(this)))}):(e=Ai(t)).length?this.each(function(){if(n=Li(this),i=1===this.nodeType&&" "+Di(n)+" "){for(s=0;s<e.length;s++)o=e[s],i.indexOf(" "+o+" ")<0&&(i+=o+" ");r=Di(i),n!==r&&this.setAttribute("class",r)}}):this},removeClass:function(t){var e,i,n,o,s,r;return b(t)?this.each(function(e){S(this).removeClass(t.call(this,e,Li(this)))}):arguments.length?(e=Ai(t)).length?this.each(function(){if(n=Li(this),i=1===this.nodeType&&" "+Di(n)+" "){for(s=0;s<e.length;s++)for(o=e[s];-1<i.indexOf(" "+o+" ");)i=i.replace(" "+o+" "," ");r=Di(i),n!==r&&this.setAttribute("class",r)}}):this:this.attr("class","")},toggleClass:function(t,i){var e,n,o,s,r=typeof t,a="string"==r||Array.isArray(t);return b(t)?this.each(function(e){S(this).toggleClass(t.call(this,e,Li(this),i),i)}):"boolean"==typeof i&&a?i?this.addClass(t):this.removeClass(t):(e=Ai(t),this.each(function(){if(a)for(s=S(this),o=0;o<e.length;o++)n=e[o],s.hasClass(n)?s.removeClass(n):s.addClass(n);else void 0!==t&&"boolean"!=r||((n=Li(this))&&v.set(this,"__className__",n),this.setAttribute&&this.setAttribute("class",!n&&!1!==t&&v.get(this,"__className__")||""))}))},hasClass:function(e){for(var t,i=0,n=" "+e+" ";t=this[i++];)if(1===t.nodeType&&-1<(" "+Di(Li(t))+" ").indexOf(n))return!0;return!1}});function Ii(e){e.stopPropagation()}var Oi=/\r/g,Ei=(S.fn.extend({val:function(t){var i,e,n,o=this[0];return arguments.length?(n=b(t),this.each(function(e){1===this.nodeType&&(null==(e=n?t.call(this,e,S(this).val()):t)?e="":"number"==typeof e?e+="":Array.isArray(e)&&(e=S.map(e,function(e){return null==e?"":e+""})),(i=S.valHooks[this.type]||S.valHooks[this.nodeName.toLowerCase()])&&"set"in i&&void 0!==i.set(this,e,"value")||(this.value=e))})):o?(i=S.valHooks[o.type]||S.valHooks[o.nodeName.toLowerCase()])&&"get"in i&&void 0!==(e=i.get(o,"value"))?e:"string"==typeof(e=o.value)?e.replace(Oi,""):null==e?"":e:void 0}}),S.extend({valHooks:{option:{get:function(e){var t=S.find.attr(e,"value");return null!=t?t:Di(S.text(e))}},select:{get:function(e){for(var t,i=e.options,n=e.selectedIndex,o="select-one"===e.type,s=o?null:[],r=o?n+1:i.length,a=n<0?r:o?n:0;a<r;a++)if(((t=i[a]).selected||a===n)&&!t.disabled&&(!t.parentNode.disabled||!_(t.parentNode,"optgroup"))){if(t=S(t).val(),o)return t;s.push(t)}return s},set:function(e,t){for(var i,n,o=e.options,s=S.makeArray(t),r=o.length;r--;)((n=o[r]).selected=-1<S.inArray(S.valHooks.option.get(n),s))&&(i=!0);return i||(e.selectedIndex=-1),s}}}}),S.each(["radio","checkbox"],function(){S.valHooks[this]={set:function(e,t){if(Array.isArray(t))return e.checked=-1<S.inArray(S(e).val(),t)}},f.checkOn||(S.valHooks[this].get=function(e){return null===e.getAttribute("value")?"on":e.value})}),x.location),Mi={guid:Date.now()},$i=/\?/,ji=(S.parseXML=function(e){var t,i;if(!e||"string"!=typeof e)return null;try{t=(new x.DOMParser).parseFromString(e,"text/xml")}catch(e){}return i=t&&t.getElementsByTagName("parsererror")[0],t&&!i||S.error("Invalid XML: "+(i?S.map(i.childNodes,function(e){return e.textContent}).join("\n"):e)),t},/^(?:focusinfocus|focusoutblur)$/),Ni=(S.extend(S.event,{trigger:function(e,t,i,n){var o,s,r,a,l,d,c,h=[i||C],u=U.call(e,"type")?e.type:e,p=U.call(e,"namespace")?e.namespace.split("."):[],m=c=s=i=i||C;if(3!==i.nodeType&&8!==i.nodeType&&!ji.test(u+S.event.triggered)&&(-1<u.indexOf(".")&&(u=(p=u.split(".")).shift(),p.sort()),a=u.indexOf(":")<0&&"on"+u,(e=e[S.expando]?e:new S.Event(u,"object"==typeof e&&e)).isTrigger=n?2:3,e.namespace=p.join("."),e.rnamespace=e.namespace?new RegExp("(^|\\.)"+p.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,e.result=void 0,e.target||(e.target=i),t=null==t?[e]:S.makeArray(t,[e]),d=S.event.special[u]||{},n||!d.trigger||!1!==d.trigger.apply(i,t))){if(!n&&!d.noBubble&&!P(i)){for(r=d.delegateType||u,ji.test(r+u)||(m=m.parentNode);m;m=m.parentNode)h.push(m),s=m;s===(i.ownerDocument||C)&&h.push(s.defaultView||s.parentWindow||x)}for(o=0;(m=h[o++])&&!e.isPropagationStopped();)c=m,e.type=1<o?r:d.bindType||u,(l=(v.get(m,"events")||Object.create(null))[e.type]&&v.get(m,"handle"))&&l.apply(m,t),(l=a&&m[a])&&l.apply&&dt(m)&&(e.result=l.apply(m,t),!1===e.result)&&e.preventDefault();return e.type=u,n||e.isDefaultPrevented()||d._default&&!1!==d._default.apply(h.pop(),t)||!dt(i)||a&&b(i[u])&&!P(i)&&((s=i[a])&&(i[a]=null),S.event.triggered=u,e.isPropagationStopped()&&c.addEventListener(u,Ii),i[u](),e.isPropagationStopped()&&c.removeEventListener(u,Ii),S.event.triggered=void 0,s)&&(i[a]=s),e.result}},simulate:function(e,t,i){i=S.extend(new S.Event,i,{type:e,isSimulated:!0});S.event.trigger(i,null,t)}}),S.fn.extend({trigger:function(e,t){return this.each(function(){S.event.trigger(e,t,this)})},triggerHandler:function(e,t){var i=this[0];if(i)return S.event.trigger(e,t,i,!0)}}),/\[\]$/),Pi=/\r?\n/g,zi=/^(?:submit|button|image|reset|file)$/i,Hi=/^(?:input|select|textarea|keygen)/i;S.param=function(e,t){function i(e,t){t=b(t)?t():t,o[o.length]=encodeURIComponent(e)+"="+encodeURIComponent(null==t?"":t)}var n,o=[];if(null==e)return"";if(Array.isArray(e)||e.jquery&&!S.isPlainObject(e))S.each(e,function(){i(this.name,this.value)});else for(n in e)!function i(n,e,o,s){if(Array.isArray(e))S.each(e,function(e,t){o||Ni.test(n)?s(n,t):i(n+"["+("object"==typeof t&&null!=t?e:"")+"]",t,o,s)});else if(o||"object"!==K(e))s(n,e);else for(var t in e)i(n+"["+t+"]",e[t],o,s)}(n,e[n],t,i);return o.join("&")},S.fn.extend({serialize:function(){return S.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var e=S.prop(this,"elements");return e?S.makeArray(e):this}).filter(function(){var e=this.type;return this.name&&!S(this).is(":disabled")&&Hi.test(this.nodeName)&&!zi.test(e)&&(this.checked||!Ct.test(e))}).map(function(e,t){var i=S(this).val();return null==i?null:Array.isArray(i)?S.map(i,function(e){return{name:t.name,value:e.replace(Pi,"\r\n")}}):{name:t.name,value:i.replace(Pi,"\r\n")}}).get()}});var Fi=/%20/g,Bi=/#.*$/,Ri=/([?&])_=[^&]*/,Ui=/^(.*?):[ \t]*([^\r\n]*)$/gm,Wi=/^(?:GET|HEAD)$/,qi=/^\/\//,Vi={},Gi={},Ki="*/".concat("*"),Xi=C.createElement("a");function Yi(s){return function(e,t){"string"!=typeof e&&(t=e,e="*");var i,n=0,o=e.toLowerCase().match(E)||[];if(b(t))for(;i=o[n++];)"+"===i[0]?(i=i.slice(1)||"*",(s[i]=s[i]||[]).unshift(t)):(s[i]=s[i]||[]).push(t)}}function Qi(t,n,o,s){var r={},a=t===Gi;function l(e){var i;return r[e]=!0,S.each(t[e]||[],function(e,t){t=t(n,o,s);return"string"!=typeof t||a||r[t]?a?!(i=t):void 0:(n.dataTypes.unshift(t),l(t),!1)}),i}return l(n.dataTypes[0])||!r["*"]&&l("*")}function Ji(e,t){var i,n,o=S.ajaxSettings.flatOptions||{};for(i in t)void 0!==t[i]&&((o[i]?e:n=n||{})[i]=t[i]);return n&&S.extend(!0,e,n),e}Xi.href=Ei.href,S.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:Ei.href,type:"GET",isLocal:/^(?:about|app|app-storage|.+-extension|file|res|widget):$/.test(Ei.protocol),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":Ki,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/\bxml\b/,html:/\bhtml/,json:/\bjson\b/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":JSON.parse,"text xml":S.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(e,t){return t?Ji(Ji(e,S.ajaxSettings),t):Ji(S.ajaxSettings,e)},ajaxPrefilter:Yi(Vi),ajaxTransport:Yi(Gi),ajax:function(e,t){"object"==typeof e&&(t=e,e=void 0);var l,d,c,i,h,u,p,n,o,m=S.ajaxSetup({},t=t||{}),f=m.context||m,g=m.context&&(f.nodeType||f.jquery)?S(f):S.event,v=S.Deferred(),b=S.Callbacks("once memory"),y=m.statusCode||{},s={},r={},a="canceled",_={readyState:0,getResponseHeader:function(e){var t;if(u){if(!i)for(i={};t=Ui.exec(c);)i[t[1].toLowerCase()+" "]=(i[t[1].toLowerCase()+" "]||[]).concat(t[2]);t=i[e.toLowerCase()+" "]}return null==t?null:t.join(", ")},getAllResponseHeaders:function(){return u?c:null},setRequestHeader:function(e,t){return null==u&&(e=r[e.toLowerCase()]=r[e.toLowerCase()]||e,s[e]=t),this},overrideMimeType:function(e){return null==u&&(m.mimeType=e),this},statusCode:function(e){if(e)if(u)_.always(e[_.status]);else for(var t in e)y[t]=[y[t],e[t]];return this},abort:function(e){e=e||a;return l&&l.abort(e),w(0,e),this}};if(v.promise(_),m.url=((e||m.url||Ei.href)+"").replace(qi,Ei.protocol+"//"),m.type=t.method||t.type||m.method||m.type,m.dataTypes=(m.dataType||"*").toLowerCase().match(E)||[""],null==m.crossDomain){o=C.createElement("a");try{o.href=m.url,o.href=o.href,m.crossDomain=Xi.protocol+"//"+Xi.host!=o.protocol+"//"+o.host}catch(e){m.crossDomain=!0}}if(m.data&&m.processData&&"string"!=typeof m.data&&(m.data=S.param(m.data,m.traditional)),Qi(Vi,m,t,_),!u){for(n in(p=S.event&&m.global)&&0==S.active++&&S.event.trigger("ajaxStart"),m.type=m.type.toUpperCase(),m.hasContent=!Wi.test(m.type),d=m.url.replace(Bi,""),m.hasContent?m.data&&m.processData&&0===(m.contentType||"").indexOf("application/x-www-form-urlencoded")&&(m.data=m.data.replace(Fi,"+")):(o=m.url.slice(d.length),m.data&&(m.processData||"string"==typeof m.data)&&(d+=($i.test(d)?"&":"?")+m.data,delete m.data),!1===m.cache&&(d=d.replace(Ri,"$1"),o=($i.test(d)?"&":"?")+"_="+Mi.guid+++o),m.url=d+o),m.ifModified&&(S.lastModified[d]&&_.setRequestHeader("If-Modified-Since",S.lastModified[d]),S.etag[d])&&_.setRequestHeader("If-None-Match",S.etag[d]),(m.data&&m.hasContent&&!1!==m.contentType||t.contentType)&&_.setRequestHeader("Content-Type",m.contentType),_.setRequestHeader("Accept",m.dataTypes[0]&&m.accepts[m.dataTypes[0]]?m.accepts[m.dataTypes[0]]+("*"!==m.dataTypes[0]?", "+Ki+"; q=0.01":""):m.accepts["*"]),m.headers)_.setRequestHeader(n,m.headers[n]);if(m.beforeSend&&(!1===m.beforeSend.call(f,_,m)||u))return _.abort();if(a="abort",b.add(m.complete),_.done(m.success),_.fail(m.error),l=Qi(Gi,m,t,_)){if(_.readyState=1,p&&g.trigger("ajaxSend",[_,m]),u)return _;m.async&&0<m.timeout&&(h=x.setTimeout(function(){_.abort("timeout")},m.timeout));try{u=!1,l.send(s,w)}catch(e){if(u)throw e;w(-1,e)}}else w(-1,"No Transport")}return _;function w(e,t,i,n){var o,s,r,a=t;u||(u=!0,h&&x.clearTimeout(h),l=void 0,c=n||"",_.readyState=0<e?4:0,n=200<=e&&e<300||304===e,i&&(r=function(e,t,i){for(var n,o,s,r,a=e.contents,l=e.dataTypes;"*"===l[0];)l.shift(),void 0===n&&(n=e.mimeType||t.getResponseHeader("Content-Type"));if(n)for(o in a)if(a[o]&&a[o].test(n)){l.unshift(o);break}if(l[0]in i)s=l[0];else{for(o in i){if(!l[0]||e.converters[o+" "+l[0]]){s=o;break}r=r||o}s=s||r}if(s)return s!==l[0]&&l.unshift(s),i[s]}(m,_,i)),!n&&-1<S.inArray("script",m.dataTypes)&&S.inArray("json",m.dataTypes)<0&&(m.converters["text script"]=function(){}),r=function(e,t,i,n){var o,s,r,a,l,d={},c=e.dataTypes.slice();if(c[1])for(r in e.converters)d[r.toLowerCase()]=e.converters[r];for(s=c.shift();s;)if(e.responseFields[s]&&(i[e.responseFields[s]]=t),!l&&n&&e.dataFilter&&(t=e.dataFilter(t,e.dataType)),l=s,s=c.shift())if("*"===s)s=l;else if("*"!==l&&l!==s){if(!(r=d[l+" "+s]||d["* "+s]))for(o in d)if((a=o.split(" "))[1]===s&&(r=d[l+" "+a[0]]||d["* "+a[0]])){!0===r?r=d[o]:!0!==d[o]&&(s=a[0],c.unshift(a[1]));break}if(!0!==r)if(r&&e.throws)t=r(t);else try{t=r(t)}catch(e){return{state:"parsererror",error:r?e:"No conversion from "+l+" to "+s}}}return{state:"success",data:t}}(m,r,_,n),n?(m.ifModified&&((i=_.getResponseHeader("Last-Modified"))&&(S.lastModified[d]=i),i=_.getResponseHeader("etag"))&&(S.etag[d]=i),204===e||"HEAD"===m.type?a="nocontent":304===e?a="notmodified":(a=r.state,o=r.data,n=!(s=r.error))):(s=a,!e&&a||(a="error",e<0&&(e=0))),_.status=e,_.statusText=(t||a)+"",n?v.resolveWith(f,[o,a,_]):v.rejectWith(f,[_,a,s]),_.statusCode(y),y=void 0,p&&g.trigger(n?"ajaxSuccess":"ajaxError",[_,m,n?o:s]),b.fireWith(f,[_,a]),p&&(g.trigger("ajaxComplete",[_,m]),--S.active||S.event.trigger("ajaxStop")))}},getJSON:function(e,t,i){return S.get(e,t,i,"json")},getScript:function(e,t){return S.get(e,void 0,t,"script")}}),S.each(["get","post"],function(e,o){S[o]=function(e,t,i,n){return b(t)&&(n=n||i,i=t,t=void 0),S.ajax(S.extend({url:e,type:o,dataType:n,data:t,success:i},S.isPlainObject(e)&&e))}}),S.ajaxPrefilter(function(e){for(var t in e.headers)"content-type"===t.toLowerCase()&&(e.contentType=e.headers[t]||"")}),S._evalUrl=function(e,t,i){return S.ajax({url:e,type:"GET",dataType:"script",cache:!0,async:!1,global:!1,converters:{"text script":function(){}},dataFilter:function(e){S.globalEval(e,t,i)}})},S.fn.extend({wrapAll:function(e){return this[0]&&(b(e)&&(e=e.call(this[0])),e=S(e,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&e.insertBefore(this[0]),e.map(function(){for(var e=this;e.firstElementChild;)e=e.firstElementChild;return e}).append(this)),this},wrapInner:function(i){return b(i)?this.each(function(e){S(this).wrapInner(i.call(this,e))}):this.each(function(){var e=S(this),t=e.contents();t.length?t.wrapAll(i):e.append(i)})},wrap:function(t){var i=b(t);return this.each(function(e){S(this).wrapAll(i?t.call(this,e):t)})},unwrap:function(e){return this.parent(e).not("body").each(function(){S(this).replaceWith(this.childNodes)}),this}}),S.expr.pseudos.hidden=function(e){return!S.expr.pseudos.visible(e)},S.expr.pseudos.visible=function(e){return!!(e.offsetWidth||e.offsetHeight||e.getClientRects().length)},S.ajaxSettings.xhr=function(){try{return new x.XMLHttpRequest}catch(e){}};var Zi={0:200,1223:204},en=S.ajaxSettings.xhr();f.cors=!!en&&"withCredentials"in en,f.ajax=en=!!en,S.ajaxTransport(function(o){var s,r;if(f.cors||en&&!o.crossDomain)return{send:function(e,t){var i,n=o.xhr();if(n.open(o.type,o.url,o.async,o.username,o.password),o.xhrFields)for(i in o.xhrFields)n[i]=o.xhrFields[i];for(i in o.mimeType&&n.overrideMimeType&&n.overrideMimeType(o.mimeType),o.crossDomain||e["X-Requested-With"]||(e["X-Requested-With"]="XMLHttpRequest"),e)n.setRequestHeader(i,e[i]);s=function(e){return function(){s&&(s=r=n.onload=n.onerror=n.onabort=n.ontimeout=n.onreadystatechange=null,"abort"===e?n.abort():"error"===e?"number"!=typeof n.status?t(0,"error"):t(n.status,n.statusText):t(Zi[n.status]||n.status,n.statusText,"text"!==(n.responseType||"text")||"string"!=typeof n.responseText?{binary:n.response}:{text:n.responseText},n.getAllResponseHeaders()))}},n.onload=s(),r=n.onerror=n.ontimeout=s("error"),void 0!==n.onabort?n.onabort=r:n.onreadystatechange=function(){4===n.readyState&&x.setTimeout(function(){s&&r()})},s=s("abort");try{n.send(o.hasContent&&o.data||null)}catch(e){if(s)throw e}},abort:function(){s&&s()}}}),S.ajaxPrefilter(function(e){e.crossDomain&&(e.contents.script=!1)}),S.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/\b(?:java|ecma)script\b/},converters:{"text script":function(e){return S.globalEval(e),e}}}),S.ajaxPrefilter("script",function(e){void 0===e.cache&&(e.cache=!1),e.crossDomain&&(e.type="GET")}),S.ajaxTransport("script",function(i){var n,o;if(i.crossDomain||i.scriptAttrs)return{send:function(e,t){n=S("<script>").attr(i.scriptAttrs||{}).prop({charset:i.scriptCharset,src:i.url}).on("load error",o=function(e){n.remove(),o=null,e&&t("error"===e.type?404:200,e.type)}),C.head.appendChild(n[0])},abort:function(){o&&o()}}});var tn=[],nn=/(=)\?(?=&|$)|\?\?/,on=(S.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var e=tn.pop()||S.expando+"_"+Mi.guid++;return this[e]=!0,e}}),S.ajaxPrefilter("json jsonp",function(e,t,i){var n,o,s,r=!1!==e.jsonp&&(nn.test(e.url)?"url":"string"==typeof e.data&&0===(e.contentType||"").indexOf("application/x-www-form-urlencoded")&&nn.test(e.data)&&"data");if(r||"jsonp"===e.dataTypes[0])return n=e.jsonpCallback=b(e.jsonpCallback)?e.jsonpCallback():e.jsonpCallback,r?e[r]=e[r].replace(nn,"$1"+n):!1!==e.jsonp&&(e.url+=($i.test(e.url)?"&":"?")+e.jsonp+"="+n),e.converters["script json"]=function(){return s||S.error(n+" was not called"),s[0]},e.dataTypes[0]="json",o=x[n],x[n]=function(){s=arguments},i.always(function(){void 0===o?S(x).removeProp(n):x[n]=o,e[n]&&(e.jsonpCallback=t.jsonpCallback,tn.push(n)),s&&b(o)&&o(s[0]),s=o=void 0}),"script"}),f.createHTMLDocument=((e=C.implementation.createHTMLDocument("").body).innerHTML="<form></form><form></form>",2===e.childNodes.length),S.parseHTML=function(e,t,i){return"string"!=typeof e?[]:("boolean"==typeof t&&(i=t,t=!1),t||(f.createHTMLDocument?((n=(t=C.implementation.createHTMLDocument("")).createElement("base")).href=C.location.href,t.head.appendChild(n)):t=C),n=!i&&[],(i=Ge.exec(e))?[t.createElement(i[1])]:(i=Lt([e],t,n),n&&n.length&&S(n).remove(),S.merge([],i.childNodes)));var n},S.fn.load=function(e,t,i){var n,o,s,r=this,a=e.indexOf(" ");return-1<a&&(n=Di(e.slice(a)),e=e.slice(0,a)),b(t)?(i=t,t=void 0):t&&"object"==typeof t&&(o="POST"),0<r.length&&S.ajax({url:e,type:o||"GET",dataType:"html",data:t}).done(function(e){s=arguments,r.html(n?S("<div>").append(S.parseHTML(e)).find(n):e)}).always(i&&function(e,t){r.each(function(){i.apply(this,s||[e.responseText,t,e])})}),this},S.expr.pseudos.animated=function(t){return S.grep(S.timers,function(e){return t===e.elem}).length},S.offset={setOffset:function(e,t,i){var n,o,s,r,a=S.css(e,"position"),l=S(e),d={};"static"===a&&(e.style.position="relative"),s=l.offset(),n=S.css(e,"top"),r=S.css(e,"left"),a=("absolute"===a||"fixed"===a)&&-1<(n+r).indexOf("auto")?(o=(a=l.position()).top,a.left):(o=parseFloat(n)||0,parseFloat(r)||0),null!=(t=b(t)?t.call(e,i,S.extend({},s)):t).top&&(d.top=t.top-s.top+o),null!=t.left&&(d.left=t.left-s.left+a),"using"in t?t.using.call(e,d):l.css(d)}},S.fn.extend({offset:function(t){var e,i;return arguments.length?void 0===t?this:this.each(function(e){S.offset.setOffset(this,t,e)}):(i=this[0])?i.getClientRects().length?(e=i.getBoundingClientRect(),i=i.ownerDocument.defaultView,{top:e.top+i.pageYOffset,left:e.left+i.pageXOffset}):{top:0,left:0}:void 0},position:function(){if(this[0]){var e,t,i,n=this[0],o={top:0,left:0};if("fixed"===S.css(n,"position"))t=n.getBoundingClientRect();else{for(t=this.offset(),i=n.ownerDocument,e=n.offsetParent||i.documentElement;e&&(e===i.body||e===i.documentElement)&&"static"===S.css(e,"position");)e=e.parentNode;e&&e!==n&&1===e.nodeType&&((o=S(e).offset()).top+=S.css(e,"borderTopWidth",!0),o.left+=S.css(e,"borderLeftWidth",!0))}return{top:t.top-o.top-S.css(n,"marginTop",!0),left:t.left-o.left-S.css(n,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){for(var e=this.offsetParent;e&&"static"===S.css(e,"position");)e=e.offsetParent;return e||vt})}}),S.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(t,o){var s="pageYOffset"===o;S.fn[t]=function(e){return c(this,function(e,t,i){var n;if(P(e)?n=e:9===e.nodeType&&(n=e.defaultView),void 0===i)return n?n[o]:e[t];n?n.scrollTo(s?n.pageXOffset:i,s?i:n.pageYOffset):e[t]=i},t,e,arguments.length)}}),S.each(["top","left"],function(e,i){S.cssHooks[i]=ii(f.pixelPosition,function(e,t){if(t)return t=ti(e,i),Jt.test(t)?S(e).position()[i]+"px":t})}),S.each({Height:"height",Width:"width"},function(r,a){S.each({padding:"inner"+r,content:a,"":"outer"+r},function(n,s){S.fn[s]=function(e,t){var i=arguments.length&&(n||"boolean"!=typeof e),o=n||(!0===e||!0===t?"margin":"border");return c(this,function(e,t,i){var n;return P(e)?0===s.indexOf("outer")?e["inner"+r]:e.document.documentElement["client"+r]:9===e.nodeType?(n=e.documentElement,Math.max(e.body["scroll"+r],n["scroll"+r],e.body["offset"+r],n["offset"+r],n["client"+r])):void 0===i?S.css(e,t,o):S.style(e,t,i,o)},a,i?e:void 0,i)}})}),S.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(e,t){S.fn[t]=function(e){return this.on(t,e)}}),S.fn.extend({bind:function(e,t,i){return this.on(e,null,t,i)},unbind:function(e,t){return this.off(e,null,t)},delegate:function(e,t,i,n){return this.on(t,e,i,n)},undelegate:function(e,t,i){return 1===arguments.length?this.off(e,"**"):this.off(t,e||"**",i)},hover:function(e,t){return this.on("mouseenter",e).on("mouseleave",t||e)}}),S.each("blur focus focusin focusout resize scroll click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup contextmenu".split(" "),function(e,i){S.fn[i]=function(e,t){return 0<arguments.length?this.on(i,null,e,t):this.trigger(i)}}),/^[\s\uFEFF\xA0]+|([^\s\uFEFF\xA0])[\s\uFEFF\xA0]+$/g),sn=(S.proxy=function(e,t){var i,n;if("string"==typeof t&&(n=e[t],t=e,e=n),b(e))return i=a.call(arguments,2),(n=function(){return e.apply(t||this,i.concat(a.call(arguments)))}).guid=e.guid=e.guid||S.guid++,n},S.holdReady=function(e){e?S.readyWait++:S.ready(!0)},S.isArray=Array.isArray,S.parseJSON=JSON.parse,S.nodeName=_,S.isFunction=b,S.isWindow=P,S.camelCase=M,S.type=K,S.now=Date.now,S.isNumeric=function(e){var t=S.type(e);return("number"===t||"string"===t)&&!isNaN(e-parseFloat(e))},S.trim=function(e){return null==e?"":(e+"").replace(on,"$1")},"function"==typeof define&&define.amd&&define("jquery",[],function(){return S}),x.jQuery),rn=x.$;return S.noConflict=function(e){return x.$===S&&(x.$=rn),e&&x.jQuery===S&&(x.jQuery=sn),S},void 0===N&&(x.jQuery=x.$=S),S}),function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define(t):(e="undefined"!=typeof globalThis?globalThis:e||self).bootstrap=t()}(this,function(){"use strict";const n=new Map,N={set(e,t,i){n.has(e)||n.set(e,new Map);e=n.get(e);e.has(t)||0===e.size?e.set(t,i):console.error(`Bootstrap doesn't allow more than one instance per element. Bound instance: ${Array.from(e.keys())[0]}.`)},get:(e,t)=>n.has(e)&&n.get(e).get(t)||null,remove(e,t){var i;n.has(e)&&((i=n.get(e)).delete(t),0===i.size)&&n.delete(e)}},P="transitionend",z=e=>e=e&&window.CSS&&window.CSS.escape?e.replace(/#([^\s"#']+)/g,(e,t)=>"#"+CSS.escape(t)):e,H=e=>{e.dispatchEvent(new Event(P))},r=e=>!(!e||"object"!=typeof e)&&void 0!==(e=void 0!==e.jquery?e[0]:e).nodeType,o=e=>r(e)?e.jquery?e[0]:e:"string"==typeof e&&0<e.length?document.querySelector(z(e)):null,s=e=>{if(!r(e)||0===e.getClientRects().length)return!1;const t="visible"===getComputedStyle(e).getPropertyValue("visibility"),i=e.closest("details:not([open])");if(i&&i!==e){const t=e.closest("summary");if(t&&t.parentNode!==i)return!1;if(null===t)return!1}return t},a=e=>!e||e.nodeType!==Node.ELEMENT_NODE||!!e.classList.contains("disabled")||(void 0!==e.disabled?e.disabled:e.hasAttribute("disabled")&&"false"!==e.getAttribute("disabled")),F=e=>{var t;return document.documentElement.attachShadow?"function"==typeof e.getRootNode?(t=e.getRootNode())instanceof ShadowRoot?t:null:e instanceof ShadowRoot?e:e.parentNode?F(e.parentNode):null:null},B=()=>{},R=e=>{e.offsetHeight},U=()=>window.jQuery&&!document.body.hasAttribute("data-bs-no-jquery")?window.jQuery:null,W=[],l=()=>"rtl"===document.documentElement.dir,e=n=>{var e=()=>{const e=U();if(e){const t=n.NAME,i=e.fn[t];e.fn[t]=n.jQueryInterface,e.fn[t].Constructor=n,e.fn[t].noConflict=()=>(e.fn[t]=i,n.jQueryInterface)}};"loading"===document.readyState?(W.length||document.addEventListener("DOMContentLoaded",()=>{for(const e of W)e()}),W.push(e)):e()},d=(e,t=[],i=e)=>"function"==typeof e?e(...t):i,q=(i,o,e=!0)=>{if(e){e=(()=>{if(!o)return 0;let{transitionDuration:e,transitionDelay:t}=window.getComputedStyle(o);var i=Number.parseFloat(e),n=Number.parseFloat(t);return i||n?(e=e.split(",")[0],t=t.split(",")[0],1e3*(Number.parseFloat(e)+Number.parseFloat(t))):0})()+5;let t=!1;const n=({target:e})=>{e===o&&(t=!0,o.removeEventListener(P,n),d(i))};o.addEventListener(P,n),setTimeout(()=>{t||H(o)},e)}else d(i)},V=(e,t,i,n)=>{var o=e.length;let s=e.indexOf(t);return-1===s?!i&&n?e[o-1]:e[0]:(s+=i?1:-1,n&&(s=(s+o)%o),e[Math.max(0,Math.min(s,o-1))])},G=/[^.]*(?=\..*)\.|.*/,K=/\..*/,X=/::\d+$/,Y={};let Q=1;const J={mouseenter:"mouseover",mouseleave:"mouseout"},Z=new Set(["click","dblclick","mouseup","mousedown","contextmenu","mousewheel","DOMMouseScroll","mouseover","mouseout","mousemove","selectstart","selectend","keydown","keypress","keyup","orientationchange","touchstart","touchmove","touchend","touchcancel","pointerdown","pointermove","pointerup","pointerleave","pointercancel","gesturestart","gesturechange","gestureend","focus","blur","change","reset","select","submit","focusin","focusout","load","unload","beforeunload","resize","move","DOMContentLoaded","readystatechange","error","abort","scroll"]);function ee(e,t){return t&&t+"::"+Q++||e.uidEvent||Q++}function te(e){var t=ee(e);return e.uidEvent=t,Y[t]=Y[t]||{},Y[t]}function ie(e,t,i=null){return Object.values(e).find(e=>e.callable===t&&e.delegationSelector===i)}function ne(e,t,i){var n="string"==typeof t,t=!n&&t||i;let o=re(e);return[n,t,o=Z.has(o)?o:e]}function oe(n,o,s,r,a){if("string"==typeof o&&n){let[e,t,i]=ne(o,s,r);if(o in J){const n=t=>function(e){if(!e.relatedTarget||e.relatedTarget!==e.delegateTarget&&!e.delegateTarget.contains(e.relatedTarget))return t.call(this,e)};t=n(t)}var r=te(n),r=r[i]||(r[i]={}),l=ie(r,t,e?s:null);if(l)return l.oneOff=l.oneOff&&a;var d,c,h,u,p,l=ee(t,o.replace(G,"")),o=e?(h=n,u=s,p=t,function t(i){var n=h.querySelectorAll(u);for(let e=i["target"];e&&e!==this;e=e.parentNode)for(const o of n)if(o===e)return ae(i,{delegateTarget:e}),t.oneOff&&m.off(h,i.type,u,p),p.apply(e,[i])}):(d=n,c=t,function e(t){return ae(t,{delegateTarget:d}),e.oneOff&&m.off(d,t.type,c),c.apply(d,[t])});o.delegationSelector=e?s:null,o.callable=t,o.oneOff=a,r[o.uidEvent=l]=o,n.addEventListener(i,o,e)}}function se(e,t,i,n,o){n=ie(t[i],n,o);n&&(e.removeEventListener(i,n,Boolean(o)),delete t[i][n.uidEvent])}function re(e){return e=e.replace(K,""),J[e]||e}const m={on(e,t,i,n){oe(e,t,i,n,!1)},one(e,t,i,n){oe(e,t,i,n,!0)},off(e,t,i,n){if("string"==typeof t&&e){const[h,u,p]=ne(t,i,n),m=p!==t,f=te(e),g=f[p]||{},v=t.startsWith(".");if(void 0===u){if(v)for(const i of Object.keys(f)){o=void 0;s=void 0;r=void 0;a=void 0;c=void 0;l=void 0;d=void 0;var o=e;var s=f;var r=i;var a=t.slice(1);var l,d,c=s[r]||{};for([l,d]of Object.entries(c))l.includes(a)&&se(o,s,r,d.callable,d.delegationSelector)}for(const[i,n]of Object.entries(g)){const h=i.replace(X,"");m&&!t.includes(h)||se(e,f,p,n.callable,n.delegationSelector)}}else Object.keys(g).length&&se(e,f,p,u,h?i:null)}},trigger(e,t,i){if("string"!=typeof t||!e)return null;var n=U();let o=null,s=!0,r=!0,a=!1;t!==re(t)&&n&&(o=n.Event(t,i),n(e).trigger(o),s=!o.isPropagationStopped(),r=!o.isImmediatePropagationStopped(),a=o.isDefaultPrevented());n=ae(new Event(t,{bubbles:s,cancelable:!0}),i);return a&&n.preventDefault(),r&&e.dispatchEvent(n),n.defaultPrevented&&o&&o.preventDefault(),n}};function ae(e,t={}){for(const[i,n]of Object.entries(t))try{e[i]=n}catch(t){Object.defineProperty(e,i,{configurable:!0,get:()=>n})}return e}function le(t){if("true"===t)return!0;if("false"===t)return!1;if(t===Number(t).toString())return Number(t);if(""===t||"null"===t)return null;if("string"!=typeof t)return t;try{return JSON.parse(decodeURIComponent(t))}catch(e){return t}}function de(e){return e.replace(/[A-Z]/g,e=>"-"+e.toLowerCase())}const c={setDataAttribute(e,t,i){e.setAttribute("data-bs-"+de(t),i)},removeDataAttribute(e,t){e.removeAttribute("data-bs-"+de(t))},getDataAttributes(t){if(!t)return{};var i={};for(const n of Object.keys(t.dataset).filter(e=>e.startsWith("bs")&&!e.startsWith("bsConfig"))){let e=n.replace(/^bs/,"");i[e=e.charAt(0).toLowerCase()+e.slice(1,e.length)]=le(t.dataset[n])}return i},getDataAttribute:(e,t)=>le(e.getAttribute("data-bs-"+de(t)))};class ce{static get Default(){return{}}static get DefaultType(){return{}}static get NAME(){throw new Error('You have to implement the static method "NAME", for each component!')}_getConfig(e){return e=this._mergeConfigObj(e),e=this._configAfterMerge(e),this._typeCheckConfig(e),e}_configAfterMerge(e){return e}_mergeConfigObj(e,t){var i=r(t)?c.getDataAttribute(t,"config"):{};return{...this.constructor.Default,..."object"==typeof i?i:{},...r(t)?c.getDataAttributes(t):{},..."object"==typeof e?e:{}}}_typeCheckConfig(e,t=this.constructor.DefaultType){for(var[i,n]of Object.entries(t)){const t=e[i],s=r(t)?"element":null==(o=t)?""+o:Object.prototype.toString.call(o).match(/\s([a-z]+)/i)[1].toLowerCase();if(!new RegExp(n).test(s))throw new TypeError(`${this.constructor.NAME.toUpperCase()}: Option "${i}" provided type "${s}" but expected type "${n}".`)}var o}}class t extends ce{constructor(e,t){super(),(e=o(e))&&(this._element=e,this._config=this._getConfig(t),N.set(this._element,this.constructor.DATA_KEY,this))}dispose(){N.remove(this._element,this.constructor.DATA_KEY),m.off(this._element,this.constructor.EVENT_KEY);for(const e of Object.getOwnPropertyNames(this))this[e]=null}_queueCallback(e,t,i=!0){q(e,t,i)}_getConfig(e){return e=this._mergeConfigObj(e,this._element),e=this._configAfterMerge(e),this._typeCheckConfig(e),e}static getInstance(e){return N.get(o(e),this.DATA_KEY)}static getOrCreateInstance(e,t={}){return this.getInstance(e)||new this(e,"object"==typeof t?t:null)}static get VERSION(){return"5.3.3"}static get DATA_KEY(){return"bs."+this.NAME}static get EVENT_KEY(){return"."+this.DATA_KEY}static eventName(e){return""+e+this.EVENT_KEY}}const he=t=>{let i=t.getAttribute("data-bs-target");if(!i||"#"===i){let e=t.getAttribute("href");if(!e||!e.includes("#")&&!e.startsWith("."))return null;e.includes("#")&&!e.startsWith("#")&&(e="#"+e.split("#")[1]),i=e&&"#"!==e?e.trim():null}return i?i.split(",").map(e=>z(e)).join(","):null},h={find:(e,t=document.documentElement)=>[].concat(...Element.prototype.querySelectorAll.call(t,e)),findOne:(e,t=document.documentElement)=>Element.prototype.querySelector.call(t,e),children:(e,t)=>[].concat(...e.children).filter(e=>e.matches(t)),parents(e,t){var i=[];let n=e.parentNode.closest(t);for(;n;)i.push(n),n=n.parentNode.closest(t);return i},prev(e,t){let i=e.previousElementSibling;for(;i;){if(i.matches(t))return[i];i=i.previousElementSibling}return[]},next(e,t){let i=e.nextElementSibling;for(;i;){if(i.matches(t))return[i];i=i.nextElementSibling}return[]},focusableChildren(e){var t=["a","button","input","textarea","select","details","[tabindex]",'[contenteditable="true"]'].map(e=>e+':not([tabindex^="-"])').join(",");return this.find(t,e).filter(e=>!a(e)&&s(e))},getSelectorFromElement(e){e=he(e);return e&&h.findOne(e)?e:null},getElementFromSelector(e){e=he(e);return e?h.findOne(e):null},getMultipleElementsFromSelector(e){e=he(e);return e?h.find(e):[]}},ue=(t,i="hide")=>{const e="click.dismiss"+t.EVENT_KEY,n=t.NAME;m.on(document,e,`[data-bs-dismiss="${n}"]`,function(e){["A","AREA"].includes(this.tagName)&&e.preventDefault(),a(this)||(e=h.getElementFromSelector(this)||this.closest("."+n),t.getOrCreateInstance(e)[i]())})};class pe extends t{static get NAME(){return"alert"}close(){var e;m.trigger(this._element,"close.bs.alert").defaultPrevented||(this._element.classList.remove("show"),e=this._element.classList.contains("fade"),this._queueCallback(()=>this._destroyElement(),this._element,e))}_destroyElement(){this._element.remove(),m.trigger(this._element,"closed.bs.alert"),this.dispose()}static jQueryInterface(t){return this.each(function(){var e=pe.getOrCreateInstance(this);if("string"==typeof t){if(void 0===e[t]||t.startsWith("_")||"constructor"===t)throw new TypeError(`No method named "${t}"`);e[t](this)}})}}ue(pe,"close"),e(pe);const me='[data-bs-toggle="button"]';class fe extends t{static get NAME(){return"button"}toggle(){this._element.setAttribute("aria-pressed",this._element.classList.toggle("active"))}static jQueryInterface(t){return this.each(function(){var e=fe.getOrCreateInstance(this);"toggle"===t&&e[t]()})}}m.on(document,"click.bs.button.data-api",me,e=>{e.preventDefault();e=e.target.closest(me);fe.getOrCreateInstance(e).toggle()}),e(fe);const i=".bs.swipe",ge=(i,i,i,i,i,{endCallback:null,leftCallback:null,rightCallback:null}),ve={endCallback:"(function|null)",leftCallback:"(function|null)",rightCallback:"(function|null)"};class be extends ce{constructor(e,t){super(),(this._element=e)&&be.isSupported()&&(this._config=this._getConfig(t),this._deltaX=0,this._supportPointerEvents=Boolean(window.PointerEvent),this._initEvents())}static get Default(){return ge}static get DefaultType(){return ve}static get NAME(){return"swipe"}dispose(){m.off(this._element,i)}_start(e){this._supportPointerEvents?this._eventIsPointerPenTouch(e)&&(this._deltaX=e.clientX):this._deltaX=e.touches[0].clientX}_end(e){this._eventIsPointerPenTouch(e)&&(this._deltaX=e.clientX-this._deltaX),this._handleSwipe(),d(this._config.endCallback)}_move(e){this._deltaX=e.touches&&1<e.touches.length?0:e.touches[0].clientX-this._deltaX}_handleSwipe(){var e=Math.abs(this._deltaX);e<=40||(e=e/this._deltaX,this._deltaX=0,e&&d(0<e?this._config.rightCallback:this._config.leftCallback))}_initEvents(){this._supportPointerEvents?(m.on(this._element,"pointerdown.bs.swipe",e=>this._start(e)),m.on(this._element,"pointerup.bs.swipe",e=>this._end(e)),this._element.classList.add("pointer-event")):(m.on(this._element,"touchstart.bs.swipe",e=>this._start(e)),m.on(this._element,"touchmove.bs.swipe",e=>this._move(e)),m.on(this._element,"touchend.bs.swipe",e=>this._end(e)))}_eventIsPointerPenTouch(e){return this._supportPointerEvents&&("pen"===e.pointerType||"touch"===e.pointerType)}static isSupported(){return"ontouchstart"in document.documentElement||0<navigator.maxTouchPoints}}const ye=".bs.carousel",_e="next",u="prev",p="left",we="right",xe="slid"+ye,Ce="carousel",Se="active",Te=".active",ke=".carousel-item",De=(Te,ke,{ArrowLeft:we,ArrowRight:p}),Le={interval:5e3,keyboard:!0,pause:"hover",ride:!1,touch:!0,wrap:!0},Ae={interval:"(number|boolean)",keyboard:"boolean",pause:"(string|boolean)",ride:"(boolean|string)",touch:"boolean",wrap:"boolean"};class Ie extends t{constructor(e,t){super(e,t),this._interval=null,this._activeElement=null,this._isSliding=!1,this.touchTimeout=null,this._swipeHelper=null,this._indicatorsElement=h.findOne(".carousel-indicators",this._element),this._addEventListeners(),this._config.ride===Ce&&this.cycle()}static get Default(){return Le}static get DefaultType(){return Ae}static get NAME(){return"carousel"}next(){this._slide(_e)}nextWhenVisible(){!document.hidden&&s(this._element)&&this.next()}prev(){this._slide(u)}pause(){this._isSliding&&H(this._element),this._clearInterval()}cycle(){this._clearInterval(),this._updateInterval(),this._interval=setInterval(()=>this.nextWhenVisible(),this._config.interval)}_maybeEnableCycle(){this._config.ride&&(this._isSliding?m.one(this._element,xe,()=>this.cycle()):this.cycle())}to(e){var t,i=this._getItems();e>i.length-1||e<0||(this._isSliding?m.one(this._element,xe,()=>this.to(e)):(t=this._getItemIndex(this._getActive()))!==e&&(t=t<e?_e:u,this._slide(t,i[e])))}dispose(){this._swipeHelper&&this._swipeHelper.dispose(),super.dispose()}_configAfterMerge(e){return e.defaultInterval=e.interval,e}_addEventListeners(){this._config.keyboard&&m.on(this._element,"keydown.bs.carousel",e=>this._keydown(e)),"hover"===this._config.pause&&(m.on(this._element,"mouseenter.bs.carousel",()=>this.pause()),m.on(this._element,"mouseleave.bs.carousel",()=>this._maybeEnableCycle())),this._config.touch&&be.isSupported()&&this._addTouchEventListeners()}_addTouchEventListeners(){for(const e of h.find(".carousel-item img",this._element))m.on(e,"dragstart.bs.carousel",e=>e.preventDefault());const e={leftCallback:()=>this._slide(this._directionToOrder(p)),rightCallback:()=>this._slide(this._directionToOrder(we)),endCallback:()=>{"hover"===this._config.pause&&(this.pause(),this.touchTimeout&&clearTimeout(this.touchTimeout),this.touchTimeout=setTimeout(()=>this._maybeEnableCycle(),500+this._config.interval))}};this._swipeHelper=new be(this._element,e)}_keydown(e){var t;/input|textarea/i.test(e.target.tagName)||(t=De[e.key])&&(e.preventDefault(),this._slide(this._directionToOrder(t)))}_getItemIndex(e){return this._getItems().indexOf(e)}_setActiveIndicatorElement(e){var t;this._indicatorsElement&&((t=h.findOne(Te,this._indicatorsElement)).classList.remove(Se),t.removeAttribute("aria-current"),t=h.findOne(`[data-bs-slide-to="${e}"]`,this._indicatorsElement))&&(t.classList.add(Se),t.setAttribute("aria-current","true"))}_updateInterval(){var e=this._activeElement||this._getActive();e&&(e=Number.parseInt(e.getAttribute("data-bs-interval"),10),this._config.interval=e||this._config.defaultInterval)}_slide(t,e=null){if(!this._isSliding){const i=this._getActive(),n=t===_e,o=e||V(this._getItems(),i,n,this._config.wrap);if(o!==i){const s=this._getItemIndex(o),r=e=>m.trigger(this._element,e,{relatedTarget:o,direction:this._orderToDirection(t),from:this._getItemIndex(i),to:s});if(!r("slide.bs.carousel").defaultPrevented&&i&&o){e=Boolean(this._interval);this.pause(),this._isSliding=!0,this._setActiveIndicatorElement(s),this._activeElement=o;const a=n?"carousel-item-start":"carousel-item-end",l=n?"carousel-item-next":"carousel-item-prev";o.classList.add(l),R(o),i.classList.add(a),o.classList.add(a),this._queueCallback(()=>{o.classList.remove(a,l),o.classList.add(Se),i.classList.remove(Se,l,a),this._isSliding=!1,r(xe)},i,this._isAnimated()),e&&this.cycle()}}}}_isAnimated(){return this._element.classList.contains("slide")}_getActive(){return h.findOne(".active.carousel-item",this._element)}_getItems(){return h.find(ke,this._element)}_clearInterval(){this._interval&&(clearInterval(this._interval),this._interval=null)}_directionToOrder(e){return l()?e===p?u:_e:e===p?_e:u}_orderToDirection(e){return l()?e===u?p:we:e===u?we:p}static jQueryInterface(t){return this.each(function(){var e=Ie.getOrCreateInstance(this,t);if("number"!=typeof t){if("string"==typeof t){if(void 0===e[t]||t.startsWith("_")||"constructor"===t)throw new TypeError(`No method named "${t}"`);e[t]()}}else e.to(t)})}}m.on(document,"click.bs.carousel.data-api","[data-bs-slide], [data-bs-slide-to]",function(e){var t=h.getElementFromSelector(this);t&&t.classList.contains(Ce)&&(e.preventDefault(),e=Ie.getOrCreateInstance(t),(t=this.getAttribute("data-bs-slide-to"))?e.to(t):"next"===c.getDataAttribute(this,"slide")?e.next():e.prev(),e._maybeEnableCycle())}),m.on(window,"load.bs.carousel.data-api",()=>{for(const e of h.find('[data-bs-ride="carousel"]'))Ie.getOrCreateInstance(e)}),e(Ie);const Oe="show",f="collapse",Ee="collapsing",Me=(f,f,'[data-bs-toggle="collapse"]'),$e={parent:null,toggle:!0},je={parent:"(null|element)",toggle:"boolean"};class Ne extends t{constructor(e,t){super(e,t),this._isTransitioning=!1,this._triggerArray=[];const i=h.find(Me);for(const e of i){const t=h.getSelectorFromElement(e),i=h.find(t).filter(e=>e===this._element);null!==t&&i.length&&this._triggerArray.push(e)}this._initializeChildren(),this._config.parent||this._addAriaAndCollapsedClass(this._triggerArray,this._isShown()),this._config.toggle&&this.toggle()}static get Default(){return $e}static get DefaultType(){return je}static get NAME(){return"collapse"}toggle(){this._isShown()?this.hide():this.show()}show(){if(!this._isTransitioning&&!this._isShown()){let e=[];if(!((e=this._config.parent?this._getFirstLevelChildren(".collapse.show, .collapse.collapsing").filter(e=>e!==this._element).map(e=>Ne.getOrCreateInstance(e,{toggle:!1})):e).length&&e[0]._isTransitioning||m.trigger(this._element,"show.bs.collapse").defaultPrevented)){for(const i of e)i.hide();const i=this._getDimension();this._element.classList.remove(f),this._element.classList.add(Ee),this._element.style[i]=0,this._addAriaAndCollapsedClass(this._triggerArray,!0),this._isTransitioning=!0;var t="scroll"+(i[0].toUpperCase()+i.slice(1));this._queueCallback(()=>{this._isTransitioning=!1,this._element.classList.remove(Ee),this._element.classList.add(f,Oe),this._element.style[i]="",m.trigger(this._element,"shown.bs.collapse")},this._element,!0),this._element.style[i]=this._element[t]+"px"}}}hide(){if(!this._isTransitioning&&this._isShown()&&!m.trigger(this._element,"hide.bs.collapse").defaultPrevented){const t=this._getDimension();this._element.style[t]=this._element.getBoundingClientRect()[t]+"px",R(this._element),this._element.classList.add(Ee),this._element.classList.remove(f,Oe);for(const t of this._triggerArray){var e=h.getElementFromSelector(t);e&&!this._isShown(e)&&this._addAriaAndCollapsedClass([t],!1)}this._isTransitioning=!0,this._element.style[t]="",this._queueCallback(()=>{this._isTransitioning=!1,this._element.classList.remove(Ee),this._element.classList.add(f),m.trigger(this._element,"hidden.bs.collapse")},this._element,!0)}}_isShown(e=this._element){return e.classList.contains(Oe)}_configAfterMerge(e){return e.toggle=Boolean(e.toggle),e.parent=o(e.parent),e}_getDimension(){return this._element.classList.contains("collapse-horizontal")?"width":"height"}_initializeChildren(){if(this._config.parent){const e=this._getFirstLevelChildren(Me);for(const t of e){const e=h.getElementFromSelector(t);e&&this._addAriaAndCollapsedClass([t],this._isShown(e))}}}_getFirstLevelChildren(e){const t=h.find(":scope .collapse .collapse",this._config.parent);return h.find(e,this._config.parent).filter(e=>!t.includes(e))}_addAriaAndCollapsedClass(e,t){if(e.length)for(const i of e)i.classList.toggle("collapsed",!t),i.setAttribute("aria-expanded",t)}static jQueryInterface(t){const i={};return"string"==typeof t&&/show|hide/.test(t)&&(i.toggle=!1),this.each(function(){var e=Ne.getOrCreateInstance(this,i);if("string"==typeof t){if(void 0===e[t])throw new TypeError(`No method named "${t}"`);e[t]()}})}}m.on(document,"click.bs.collapse.data-api",Me,function(e){("A"===e.target.tagName||e.delegateTarget&&"A"===e.delegateTarget.tagName)&&e.preventDefault();for(const e of h.getMultipleElementsFromSelector(this))Ne.getOrCreateInstance(e,{toggle:!1}).toggle()}),e(Ne);var D="top",L="bottom",A="right",I="left",Pe="auto",O=[D,L,A,I],E="start",y="end",ze="clippingParents",He="viewport",Fe="popper",Be="reference",Re=O.reduce(function(e,t){return e.concat([t+"-"+E,t+"-"+y])},[]),Ue=[].concat(O,[Pe]).reduce(function(e,t){return e.concat([t,t+"-"+E,t+"-"+y])},[]),We="beforeRead",qe="afterRead",Ve="beforeMain",Ge="afterMain",Ke="beforeWrite",Xe="afterWrite",Ye=[We,"read",qe,Ve,"main",Ge,Ke,"write",Xe];function g(e){return e?(e.nodeName||"").toLowerCase():null}function _(e){var t;return null==e?window:"[object Window]"!==e.toString()?(t=e.ownerDocument)&&t.defaultView||window:e}function v(e){return e instanceof _(e).Element||e instanceof Element}function b(e){return e instanceof _(e).HTMLElement||e instanceof HTMLElement}function Qe(e){return"undefined"!=typeof ShadowRoot&&(e instanceof _(e).ShadowRoot||e instanceof ShadowRoot)}var Je={name:"applyStyles",enabled:!0,phase:"write",fn:function(e){var o=e.state;Object.keys(o.elements).forEach(function(e){var t=o.styles[e]||{},i=o.attributes[e]||{},n=o.elements[e];b(n)&&g(n)&&(Object.assign(n.style,t),Object.keys(i).forEach(function(e){var t=i[e];!1===t?n.removeAttribute(e):n.setAttribute(e,!0===t?"":t)}))})},effect:function(e){var n=e.state,o={popper:{position:n.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(n.elements.popper.style,o.popper),n.styles=o,n.elements.arrow&&Object.assign(n.elements.arrow.style,o.arrow),function(){Object.keys(n.elements).forEach(function(e){var t=n.elements[e],i=n.attributes[e]||{},e=Object.keys((n.styles.hasOwnProperty(e)?n.styles:o)[e]).reduce(function(e,t){return e[t]="",e},{});b(t)&&g(t)&&(Object.assign(t.style,e),Object.keys(i).forEach(function(e){t.removeAttribute(e)}))})}},requires:["computeStyles"]};function M(e){return e.split("-")[0]}var k=Math.max,Ze=Math.min,et=Math.round;function tt(){var e=navigator.userAgentData;return null!=e&&e.brands&&Array.isArray(e.brands)?e.brands.map(function(e){return e.brand+"/"+e.version}).join(" "):navigator.userAgent}function it(){return!/^((?!chrome|android).)*safari/i.test(tt())}function nt(e,t,i){void 0===t&&(t=!1),void 0===i&&(i=!1);var n=e.getBoundingClientRect(),o=1,s=1,t=(t&&b(e)&&(o=0<e.offsetWidth&&et(n.width)/e.offsetWidth||1,s=0<e.offsetHeight&&et(n.height)/e.offsetHeight||1),(v(e)?_(e):window).visualViewport),e=!it()&&i,i=(n.left+(e&&t?t.offsetLeft:0))/o,e=(n.top+(e&&t?t.offsetTop:0))/s,t=n.width/o,o=n.height/s;return{width:t,height:o,top:e,right:i+t,bottom:e+o,left:i,x:i,y:e}}function ot(e){var t=nt(e),i=e.offsetWidth,n=e.offsetHeight;return Math.abs(t.width-i)<=1&&(i=t.width),Math.abs(t.height-n)<=1&&(n=t.height),{x:e.offsetLeft,y:e.offsetTop,width:i,height:n}}function st(e,t){var i=t.getRootNode&&t.getRootNode();if(e.contains(t))return!0;if(i&&Qe(i)){var n=t;do{if(n&&e.isSameNode(n))return!0}while(n=n.parentNode||n.host)}return!1}function w(e){return _(e).getComputedStyle(e)}function x(e){return((v(e)?e.ownerDocument:e.document)||window.document).documentElement}function rt(e){return"html"===g(e)?e:e.assignedSlot||e.parentNode||(Qe(e)?e.host:null)||x(e)}function at(e){return b(e)&&"fixed"!==w(e).position?e.offsetParent:null}function lt(e){for(var t,i=_(e),n=at(e);n&&(t=n,0<=["table","td","th"].indexOf(g(t)))&&"static"===w(n).position;)n=at(n);return(!n||"html"!==g(n)&&("body"!==g(n)||"static"!==w(n).position))&&(n||function(e){var t=/firefox/i.test(tt());if(!/Trident/i.test(tt())||!b(e)||"fixed"!==w(e).position){var i=rt(e);for(Qe(i)&&(i=i.host);b(i)&&["html","body"].indexOf(g(i))<0;){var n=w(i);if("none"!==n.transform||"none"!==n.perspective||"paint"===n.contain||-1!==["transform","perspective"].indexOf(n.willChange)||t&&"filter"===n.willChange||t&&n.filter&&"none"!==n.filter)return i;i=i.parentNode}}return null}(e))||i}function dt(e){return 0<=["top","bottom"].indexOf(e)?"x":"y"}function ct(e,t,i){return k(e,Ze(t,i))}function ht(e){return Object.assign({},{top:0,right:0,bottom:0,left:0},e)}function ut(i,e){return e.reduce(function(e,t){return e[t]=i,e},{})}var pt={name:"arrow",enabled:!0,phase:"main",fn:function(e){var t,i,n,o,s=e.state,r=e.name,e=e.options,a=s.elements.arrow,l=s.modifiersData.popperOffsets,d=M(s.placement),c=dt(d),d=0<=[I,A].indexOf(d)?"height":"width";a&&l&&(e=ht("number"!=typeof(e="function"==typeof(e=e.padding)?e(Object.assign({},s.rects,{placement:s.placement})):e)?e:ut(e,O)),t=ot(a),o="y"===c?D:I,n="y"===c?L:A,i=s.rects.reference[d]+s.rects.reference[c]-l[c]-s.rects.popper[d],l=l[c]-s.rects.reference[c],a=(a=lt(a))?"y"===c?a.clientHeight||0:a.clientWidth||0:0,o=e[o],e=a-t[d]-e[n],o=ct(o,n=a/2-t[d]/2+(i/2-l/2),e),s.modifiersData[r]=((a={})[c]=o,a.centerOffset=o-n,a))},effect:function(e){var t=e.state,e=e.options.element,e=void 0===e?"[data-popper-arrow]":e;null!=e&&("string"!=typeof e||(e=t.elements.popper.querySelector(e)))&&st(t.elements.popper,e)&&(t.elements.arrow=e)},requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function mt(e){return e.split("-")[1]}var ft={top:"auto",right:"auto",bottom:"auto",left:"auto"};function gt(e){var t=e.popper,i=e.popperRect,n=e.placement,o=e.variation,s=e.offsets,r=e.position,a=e.gpuAcceleration,l=e.adaptive,d=e.roundOffsets,e=e.isFixed,c=s.x,c=void 0===c?0:c,h=s.y,h=void 0===h?0:h,u="function"==typeof d?d({x:c,y:h}):{x:c,y:h},c=u.x,h=u.y,u=s.hasOwnProperty("x"),s=s.hasOwnProperty("y"),p=I,m=D,f=window;l&&(v="clientHeight",g="clientWidth",(b=lt(t))===_(t)&&"static"!==w(b=x(t)).position&&"absolute"===r&&(v="scrollHeight",g="scrollWidth"),n!==D&&(n!==I&&n!==A||o!==y)||(m=L,h=(h-((e&&b===f&&f.visualViewport?f.visualViewport.height:b[v])-i.height))*(a?1:-1)),n!==I&&(n!==D&&n!==L||o!==y)||(p=A,c=(c-((e&&b===f&&f.visualViewport?f.visualViewport.width:b[g])-i.width))*(a?1:-1)));var g,v=Object.assign({position:r},l&&ft),b=!0===d?(n={x:c,y:h},o=_(t),e=n.y,o=o.devicePixelRatio||1,{x:et(n.x*o)/o||0,y:et(e*o)/o||0}):{x:c,y:h};return c=b.x,h=b.y,a?Object.assign({},v,((g={})[m]=s?"0":"",g[p]=u?"0":"",g.transform=(f.devicePixelRatio||1)<=1?"translate("+c+"px, "+h+"px)":"translate3d("+c+"px, "+h+"px, 0)",g)):Object.assign({},v,((i={})[m]=s?h+"px":"",i[p]=u?c+"px":"",i.transform="",i))}var vt={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:function(e){var t=e.state,e=e.options,i=e.gpuAcceleration,i=void 0===i||i,n=e.adaptive,n=void 0===n||n,e=e.roundOffsets,e=void 0===e||e,i={placement:M(t.placement),variation:mt(t.placement),popper:t.elements.popper,popperRect:t.rects.popper,gpuAcceleration:i,isFixed:"fixed"===t.options.strategy};null!=t.modifiersData.popperOffsets&&(t.styles.popper=Object.assign({},t.styles.popper,gt(Object.assign({},i,{offsets:t.modifiersData.popperOffsets,position:t.options.strategy,adaptive:n,roundOffsets:e})))),null!=t.modifiersData.arrow&&(t.styles.arrow=Object.assign({},t.styles.arrow,gt(Object.assign({},i,{offsets:t.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:e})))),t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-placement":t.placement})},data:{}},bt={passive:!0},yt={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:function(e){var t=e.state,i=e.instance,e=e.options,n=e.scroll,o=void 0===n||n,n=e.resize,s=void 0===n||n,r=_(t.elements.popper),a=[].concat(t.scrollParents.reference,t.scrollParents.popper);return o&&a.forEach(function(e){e.addEventListener("scroll",i.update,bt)}),s&&r.addEventListener("resize",i.update,bt),function(){o&&a.forEach(function(e){e.removeEventListener("scroll",i.update,bt)}),s&&r.removeEventListener("resize",i.update,bt)}},data:{}},_t={left:"right",right:"left",bottom:"top",top:"bottom"};function wt(e){return e.replace(/left|right|bottom|top/g,function(e){return _t[e]})}var xt={start:"end",end:"start"};function Ct(e){return e.replace(/start|end/g,function(e){return xt[e]})}function St(e){e=_(e);return{scrollLeft:e.pageXOffset,scrollTop:e.pageYOffset}}function Tt(e){return nt(x(e)).left+St(e).scrollLeft}function kt(e){var e=w(e),t=e.overflow,i=e.overflowX,e=e.overflowY;return/auto|scroll|overlay|hidden/.test(t+e+i)}function Dt(e,t){void 0===t&&(t=[]);var i=function e(t){return 0<=["html","body","#document"].indexOf(g(t))?t.ownerDocument.body:b(t)&&kt(t)?t:e(rt(t))}(e),e=i===(null==(e=e.ownerDocument)?void 0:e.body),n=_(i),n=e?[n].concat(n.visualViewport||[],kt(i)?i:[]):i,i=t.concat(n);return e?i:i.concat(Dt(rt(n)))}function Lt(e){return Object.assign({},e,{left:e.x,top:e.y,right:e.x+e.width,bottom:e.y+e.height})}function At(e,t,i){return t===He?Lt((o=i,r=_(n=e),a=x(n),r=r.visualViewport,l=a.clientWidth,a=a.clientHeight,c=d=0,r&&(l=r.width,a=r.height,(s=it())||!s&&"fixed"===o)&&(d=r.offsetLeft,c=r.offsetTop),{width:l,height:a,x:d+Tt(n),y:c})):v(t)?((o=nt(s=t,!1,"fixed"===i)).top=o.top+s.clientTop,o.left=o.left+s.clientLeft,o.bottom=o.top+s.clientHeight,o.right=o.left+s.clientWidth,o.width=s.clientWidth,o.height=s.clientHeight,o.x=o.left,o.y=o.top,o):Lt((r=x(e),l=x(r),a=St(r),d=null==(d=r.ownerDocument)?void 0:d.body,n=k(l.scrollWidth,l.clientWidth,d?d.scrollWidth:0,d?d.clientWidth:0),c=k(l.scrollHeight,l.clientHeight,d?d.scrollHeight:0,d?d.clientHeight:0),r=-a.scrollLeft+Tt(r),a=-a.scrollTop,"rtl"===w(d||l).direction&&(r+=k(l.clientWidth,d?d.clientWidth:0)-n),{width:n,height:c,x:r,y:a}));var n,o,s,r,a,l,d,c}function It(e){var t,i=e.reference,n=e.element,e=e.placement,o=e?M(e):null,e=e?mt(e):null,s=i.x+i.width/2-n.width/2,r=i.y+i.height/2-n.height/2;switch(o){case D:t={x:s,y:i.y-n.height};break;case L:t={x:s,y:i.y+i.height};break;case A:t={x:i.x+i.width,y:r};break;case I:t={x:i.x-n.width,y:r};break;default:t={x:i.x,y:i.y}}var a=o?dt(o):null;if(null!=a){var l="y"===a?"height":"width";switch(e){case E:t[a]=t[a]-(i[l]/2-n[l]/2);break;case y:t[a]=t[a]+(i[l]/2-n[l]/2)}}return t}function Ot(e,t){var i,n,o,s,r,a,t=t=void 0===t?{}:t,l=t.placement,l=void 0===l?e.placement:l,d=t.strategy,d=void 0===d?e.strategy:d,c=t.boundary,c=void 0===c?ze:c,h=t.rootBoundary,h=void 0===h?He:h,u=t.elementContext,u=void 0===u?Fe:u,p=t.altBoundary,p=void 0!==p&&p,t=t.padding,t=void 0===t?0:t,t=ht("number"!=typeof t?t:ut(t,O)),m=e.rects.popper,p=e.elements[p?u===Fe?Be:Fe:u],d=(i=v(p)?p:p.contextElement||x(e.elements.popper),p=h,n=d,s="clippingParents"===(h=c)?(r=Dt(rt(s=i)),v(o=0<=["absolute","fixed"].indexOf(w(s).position)&&b(s)?lt(s):s)?r.filter(function(e){return v(e)&&st(e,o)&&"body"!==g(e)}):[]):[].concat(h),r=[].concat(s,[p]),h=r[0],(p=r.reduce(function(e,t){t=At(i,t,n);return e.top=k(t.top,e.top),e.right=Ze(t.right,e.right),e.bottom=Ze(t.bottom,e.bottom),e.left=k(t.left,e.left),e},At(i,h,n))).width=p.right-p.left,p.height=p.bottom-p.top,p.x=p.left,p.y=p.top,p),c=nt(e.elements.reference),h=It({reference:c,element:m,strategy:"absolute",placement:l}),p=Lt(Object.assign({},m,h)),m=u===Fe?p:c,f={top:d.top-m.top+t.top,bottom:m.bottom-d.bottom+t.bottom,left:d.left-m.left+t.left,right:m.right-d.right+t.right},h=e.modifiersData.offset;return u===Fe&&h&&(a=h[l],Object.keys(f).forEach(function(e){var t=0<=[A,L].indexOf(e)?1:-1,i=0<=[D,L].indexOf(e)?"y":"x";f[e]+=a[i]*t})),f}var Et={name:"flip",enabled:!0,phase:"main",fn:function(e){var h=e.state,t=e.options,e=e.name;if(!h.modifiersData[e]._skip){for(var i=t.mainAxis,n=void 0===i||i,i=t.altAxis,o=void 0===i||i,i=t.fallbackPlacements,u=t.padding,p=t.boundary,m=t.rootBoundary,s=t.altBoundary,r=t.flipVariations,f=void 0===r||r,g=t.allowedAutoPlacements,r=h.options.placement,t=M(r),i=i||(t!==r&&f?M(i=r)===Pe?[]:(t=wt(i),[Ct(i),t,Ct(t)]):[wt(r)]),a=[r].concat(i).reduce(function(e,t){return e.concat(M(t)===Pe?(i=h,n=(e=e=void 0===(e={placement:t,boundary:p,rootBoundary:m,padding:u,flipVariations:f,allowedAutoPlacements:g})?{}:e).placement,o=e.boundary,s=e.rootBoundary,r=e.padding,a=e.flipVariations,l=void 0===(e=e.allowedAutoPlacements)?Ue:e,d=mt(n),e=d?a?Re:Re.filter(function(e){return mt(e)===d}):O,c=(n=0===(n=e.filter(function(e){return 0<=l.indexOf(e)})).length?e:n).reduce(function(e,t){return e[t]=Ot(i,{placement:t,boundary:o,rootBoundary:s,padding:r})[M(t)],e},{}),Object.keys(c).sort(function(e,t){return c[e]-c[t]})):t);var i,n,o,s,r,a,l,d,c},[]),l=h.rects.reference,d=h.rects.popper,c=new Map,v=!0,b=a[0],y=0;y<a.length;y++){var _=a[y],w=M(_),x=mt(_)===E,C=0<=[D,L].indexOf(w),S=C?"width":"height",T=Ot(h,{placement:_,boundary:p,rootBoundary:m,altBoundary:s,padding:u}),C=C?x?A:I:x?L:D,x=(l[S]>d[S]&&(C=wt(C)),wt(C)),S=[];if(n&&S.push(T[w]<=0),o&&S.push(T[C]<=0,T[x]<=0),S.every(function(e){return e})){b=_,v=!1;break}c.set(_,S)}if(v)for(var k=f?3:1;0<k&&"break"!==function(t){var e=a.find(function(e){e=c.get(e);if(e)return e.slice(0,t).every(function(e){return e})});if(e)return b=e,"break"}(k);k--);h.placement!==b&&(h.modifiersData[e]._skip=!0,h.placement=b,h.reset=!0)}},requiresIfExists:["offset"],data:{_skip:!1}};function Mt(e,t,i){return{top:e.top-t.height-(i=void 0===i?{x:0,y:0}:i).y,right:e.right-t.width+i.x,bottom:e.bottom-t.height+i.y,left:e.left-t.width-i.x}}function $t(t){return[D,A,L,I].some(function(e){return 0<=t[e]})}var jt={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:function(e){var t=e.state,e=e.name,i=t.rects.reference,n=t.rects.popper,o=t.modifiersData.preventOverflow,s=Ot(t,{elementContext:"reference"}),r=Ot(t,{altBoundary:!0}),s=Mt(s,i),i=Mt(r,n,o),r=$t(s),n=$t(i);t.modifiersData[e]={referenceClippingOffsets:s,popperEscapeOffsets:i,isReferenceHidden:r,hasPopperEscaped:n},t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-reference-hidden":r,"data-popper-escaped":n})}},Nt={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:function(e){var r=e.state,t=e.options,e=e.name,t=t.offset,a=void 0===t?[0,0]:t,t=Ue.reduce(function(e,t){return e[t]=(t=t,i=r.rects,n=a,o=M(t),s=0<=[I,D].indexOf(o)?-1:1,i="function"==typeof n?n(Object.assign({},i,{placement:t})):n,t=i[0]||0,n=(i[1]||0)*s,0<=[I,A].indexOf(o)?{x:n,y:t}:{x:t,y:n}),e;var i,n,o,s},{}),i=t[r.placement],n=i.x,i=i.y;null!=r.modifiersData.popperOffsets&&(r.modifiersData.popperOffsets.x+=n,r.modifiersData.popperOffsets.y+=i),r.modifiersData[e]=t}},Pt={name:"popperOffsets",enabled:!0,phase:"read",fn:function(e){var t=e.state,e=e.name;t.modifiersData[e]=It({reference:t.rects.reference,element:t.rects.popper,strategy:"absolute",placement:t.placement})},data:{}},zt={name:"preventOverflow",enabled:!0,phase:"main",fn:function(e){var t,i,n,o,s,r,a,l,d,c=e.state,h=e.options,e=e.name,u=h.mainAxis,u=void 0===u||u,p=h.altAxis,p=void 0!==p&&p,m=h.boundary,f=h.rootBoundary,g=h.altBoundary,v=h.padding,b=h.tether,b=void 0===b||b,h=h.tetherOffset,h=void 0===h?0:h,m=Ot(c,{boundary:m,rootBoundary:f,padding:v,altBoundary:g}),f=M(c.placement),v=mt(c.placement),g=!v,y=dt(f),_="x"===y?"y":"x",w=c.modifiersData.popperOffsets,x=c.rects.reference,C=c.rects.popper,h="function"==typeof h?h(Object.assign({},c.rects,{placement:c.placement})):h,h="number"==typeof h?{mainAxis:h,altAxis:h}:Object.assign({mainAxis:0,altAxis:0},h),S=c.modifiersData.offset?c.modifiersData.offset[c.placement]:null,T={x:0,y:0};w&&(u&&(u="y"===y?"height":"width",r=(a=w[y])+m[i="y"===y?D:I],l=a-m[d="y"===y?L:A],t=b?-C[u]/2:0,o=(v===E?x:C)[u],v=v===E?-C[u]:-x[u],s=c.elements.arrow,s=b&&s?ot(s):{width:0,height:0},i=(n=c.modifiersData["arrow#persistent"]?c.modifiersData["arrow#persistent"].padding:{top:0,right:0,bottom:0,left:0})[i],n=n[d],d=ct(0,x[u],s[u]),s=g?x[u]/2-t-d-i-h.mainAxis:o-d-i-h.mainAxis,o=g?-x[u]/2+t+d+n+h.mainAxis:v+d+n+h.mainAxis,g=(i=c.elements.arrow&&lt(c.elements.arrow))?"y"===y?i.clientTop||0:i.clientLeft||0:0,v=a+o-(t=null!=(u=null==S?void 0:S[y])?u:0),d=ct(b?Ze(r,a+s-t-g):r,a,b?k(l,v):l),w[y]=d,T[y]=d-a),p&&(n="y"==_?"height":"width",o=(i=w[_])+m["x"===y?D:I],u=i-m["x"===y?L:A],s=-1!==[D,I].indexOf(f),g=null!=(t=null==S?void 0:S[_])?t:0,r=s?o:i-x[n]-C[n]-g+h.altAxis,v=s?i+x[n]+C[n]-g-h.altAxis:u,a=b&&s?(d=ct(r,i,l=v),l<d?l:d):ct(b?r:o,i,b?v:u),w[_]=a,T[_]=a-i),c.modifiersData[e]=T)},requiresIfExists:["offset"]};function Ht(e){var i=new Map,n=new Set,o=[];return e.forEach(function(e){i.set(e.name,e)}),e.forEach(function(e){n.has(e.name)||function t(e){n.add(e.name),[].concat(e.requires||[],e.requiresIfExists||[]).forEach(function(e){n.has(e)||(e=i.get(e))&&t(e)}),o.push(e)}(e)}),o}var Ft={placement:"bottom",modifiers:[],strategy:"absolute"};function Bt(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];return!t.some(function(e){return!(e&&"function"==typeof e.getBoundingClientRect)})}function Rt(e){var e=e=void 0===e?{}:e,t=e.defaultModifiers,l=void 0===t?[]:t,t=e.defaultOptions,d=void 0===t?Ft:t;return function(n,o,t){void 0===t&&(t=d);var i,s,p={placement:"bottom",orderedModifiers:[],options:Object.assign({},Ft,d),modifiersData:{},elements:{reference:n,popper:o},attributes:{},styles:{}},r=[],m=!1,f={state:p,setOptions:function(e){e="function"==typeof e?e(p.options):e;a(),p.options=Object.assign({},d,p.options,e),p.scrollParents={reference:v(n)?Dt(n):n.contextElement?Dt(n.contextElement):[],popper:Dt(o)};e=[].concat(l,p.options.modifiers),t=e.reduce(function(e,t){var i=e[t.name];return e[t.name]=i?Object.assign({},i,t,{options:Object.assign({},i.options,t.options),data:Object.assign({},i.data,t.data)}):t,e},{}),i=Ht(Object.keys(t).map(function(e){return t[e]}));var t,i,e=Ye.reduce(function(e,t){return e.concat(i.filter(function(e){return e.phase===t}))},[]);return p.orderedModifiers=e.filter(function(e){return e.enabled}),p.orderedModifiers.forEach(function(e){var t=e.name,i=e.options,e=e.effect;"function"==typeof e&&(e=e({state:p,name:t,instance:f,options:void 0===i?{}:i}),r.push(e||function(){}))}),f.update()},forceUpdate:function(){if(!m){var e=p.elements,t=e.reference,e=e.popper;if(Bt(t,e)){p.rects={reference:(t=t,r=lt(e),void 0===(a="fixed"===p.options.strategy)&&(a=!1),l=b(r),d=b(r)&&(h=(d=r).getBoundingClientRect(),c=et(h.width)/d.offsetWidth||1,h=et(h.height)/d.offsetHeight||1,1!==c||1!==h),c=x(r),h=nt(t,d,a),t={scrollLeft:0,scrollTop:0},u={x:0,y:0},!l&&a||("body"===g(r)&&!kt(c)||(t=(l=r)!==_(l)&&b(l)?{scrollLeft:l.scrollLeft,scrollTop:l.scrollTop}:St(l)),b(r)?((u=nt(r,!0)).x+=r.clientLeft,u.y+=r.clientTop):c&&(u.x=Tt(c))),{x:h.left+t.scrollLeft-u.x,y:h.top+t.scrollTop-u.y,width:h.width,height:h.height}),popper:ot(e)},p.reset=!1,p.placement=p.options.placement,p.orderedModifiers.forEach(function(e){return p.modifiersData[e.name]=Object.assign({},e.data)});for(var i,n,o,s=0;s<p.orderedModifiers.length;s++)!0!==p.reset?(i=(o=p.orderedModifiers[s]).fn,n=o.options,o=o.name,"function"==typeof i&&(p=i({state:p,options:void 0===n?{}:n,name:o,instance:f})||p)):(p.reset=!1,s=-1)}}var r,a,l,d,c,h,u},update:(i=function(){return new Promise(function(e){f.forceUpdate(),e(p)})},function(){return s=s||new Promise(function(e){Promise.resolve().then(function(){s=void 0,e(i())})})}),destroy:function(){a(),m=!0}};return Bt(n,o)&&f.setOptions(t).then(function(e){!m&&t.onFirstUpdate&&t.onFirstUpdate(e)}),f;function a(){r.forEach(function(e){return e()}),r=[]}}}var Ut=Rt(),Wt=Rt({defaultModifiers:[yt,Pt,vt,Je]}),qt=Rt({defaultModifiers:[yt,Pt,vt,Je,Nt,Et,zt,pt,jt]});const Vt=Object.freeze(Object.defineProperty({__proto__:null,afterMain:Ge,afterRead:qe,afterWrite:Xe,applyStyles:Je,arrow:pt,auto:Pe,basePlacements:O,beforeMain:Ve,beforeRead:We,beforeWrite:Ke,bottom:L,clippingParents:ze,computeStyles:vt,createPopper:qt,createPopperBase:Ut,createPopperLite:Wt,detectOverflow:Ot,end:y,eventListeners:yt,flip:Et,hide:jt,left:I,main:"main",modifierPhases:Ye,offset:Nt,placements:Ue,popper:Fe,popperGenerator:Rt,popperOffsets:Pt,preventOverflow:zt,read:"read",reference:Be,right:A,start:E,top:D,variationPlacements:Re,viewport:He,write:"write"},Symbol.toStringTag,{value:"Module"})),Gt="dropdown",Kt=".bs.dropdown",Xt=".data-api",Yt="ArrowDown",Qt="click"+Kt+Xt,Jt="keydown"+Kt+Xt,Zt="show",C='[data-bs-toggle="dropdown"]:not(.disabled):not(:disabled)',ei=(C,".dropdown-menu"),ti=l()?"top-end":"top-start",ii=l()?"top-start":"top-end",ni=l()?"bottom-end":"bottom-start",oi=l()?"bottom-start":"bottom-end",si=l()?"left-start":"right-start",ri=l()?"right-start":"left-start",ai={autoClose:!0,boundary:"clippingParents",display:"dynamic",offset:[0,2],popperConfig:null,reference:"toggle"},li={autoClose:"(boolean|string)",boundary:"(string|element)",display:"string",offset:"(array|string|function)",popperConfig:"(null|object|function)",reference:"(string|element|object)"};class S extends t{constructor(e,t){super(e,t),this._popper=null,this._parent=this._element.parentNode,this._menu=h.next(this._element,ei)[0]||h.prev(this._element,ei)[0]||h.findOne(ei,this._parent),this._inNavbar=this._detectNavbar()}static get Default(){return ai}static get DefaultType(){return li}static get NAME(){return Gt}toggle(){return this._isShown()?this.hide():this.show()}show(){if(!a(this._element)&&!this._isShown()){const e={relatedTarget:this._element};if(!m.trigger(this._element,"show.bs.dropdown",e).defaultPrevented){if(this._createPopper(),"ontouchstart"in document.documentElement&&!this._parent.closest(".navbar-nav"))for(const e of[].concat(...document.body.children))m.on(e,"mouseover",B);this._element.focus(),this._element.setAttribute("aria-expanded",!0),this._menu.classList.add(Zt),this._element.classList.add(Zt),m.trigger(this._element,"shown.bs.dropdown",e)}}}hide(){var e;!a(this._element)&&this._isShown()&&(e={relatedTarget:this._element},this._completeHide(e))}dispose(){this._popper&&this._popper.destroy(),super.dispose()}update(){this._inNavbar=this._detectNavbar(),this._popper&&this._popper.update()}_completeHide(e){if(!m.trigger(this._element,"hide.bs.dropdown",e).defaultPrevented){if("ontouchstart"in document.documentElement)for(const e of[].concat(...document.body.children))m.off(e,"mouseover",B);this._popper&&this._popper.destroy(),this._menu.classList.remove(Zt),this._element.classList.remove(Zt),this._element.setAttribute("aria-expanded","false"),c.removeDataAttribute(this._menu,"popper"),m.trigger(this._element,"hidden.bs.dropdown",e)}}_getConfig(e){if("object"!=typeof(e=super._getConfig(e)).reference||r(e.reference)||"function"==typeof e.reference.getBoundingClientRect)return e;throw new TypeError(Gt.toUpperCase()+': Option "reference" provided type "object" without a required "getBoundingClientRect" method.')}_createPopper(){if(void 0===Vt)throw new TypeError("Bootstrap's dropdowns require Popper (https://popper.js.org)");let e=this._element;"parent"===this._config.reference?e=this._parent:r(this._config.reference)?e=o(this._config.reference):"object"==typeof this._config.reference&&(e=this._config.reference);var t=this._getPopperConfig();this._popper=qt(e,this._menu,t)}_isShown(){return this._menu.classList.contains(Zt)}_getPlacement(){var e,t=this._parent;return t.classList.contains("dropend")?si:t.classList.contains("dropstart")?ri:t.classList.contains("dropup-center")?"top":t.classList.contains("dropdown-center")?"bottom":(e="end"===getComputedStyle(this._menu).getPropertyValue("--bs-position").trim(),t.classList.contains("dropup")?e?ii:ti:e?oi:ni)}_detectNavbar(){return null!==this._element.closest(".navbar")}_getOffset(){const t=this._config["offset"];return"string"==typeof t?t.split(",").map(e=>Number.parseInt(e,10)):"function"==typeof t?e=>t(e,this._element):t}_getPopperConfig(){var e={placement:this._getPlacement(),modifiers:[{name:"preventOverflow",options:{boundary:this._config.boundary}},{name:"offset",options:{offset:this._getOffset()}}]};return!this._inNavbar&&"static"!==this._config.display||(c.setDataAttribute(this._menu,"popper","static"),e.modifiers=[{name:"applyStyles",enabled:!1}]),{...e,...d(this._config.popperConfig,[e])}}_selectMenuItem({key:e,target:t}){var i=h.find(".dropdown-menu .dropdown-item:not(.disabled):not(:disabled)",this._menu).filter(e=>s(e));i.length&&V(i,t,e===Yt,!i.includes(t)).focus()}static jQueryInterface(t){return this.each(function(){var e=S.getOrCreateInstance(this,t);if("string"==typeof t){if(void 0===e[t])throw new TypeError(`No method named "${t}"`);e[t]()}})}static clearMenus(e){if(2!==e.button&&("keyup"!==e.type||"Tab"===e.key)){const n=h.find('[data-bs-toggle="dropdown"]:not(.disabled):not(:disabled).show');for(const o of n){const n=S.getInstance(o);var t,i;n&&!1!==n._config.autoClose&&(t=(i=e.composedPath()).includes(n._menu),i.includes(n._element)||"inside"===n._config.autoClose&&!t||"outside"===n._config.autoClose&&t||n._menu.contains(e.target)&&("keyup"===e.type&&"Tab"===e.key||/input|select|option|textarea|form/i.test(e.target.tagName))||(i={relatedTarget:n._element},"click"===e.type&&(i.clickEvent=e),n._completeHide(i)))}}}static dataApiKeydownHandler(e){var t=/input|textarea/i.test(e.target.tagName),i="Escape"===e.key,n=["ArrowUp",Yt].includes(e.key);!n&&!i||t&&!i||(e.preventDefault(),t=this.matches(C)?this:h.prev(this,C)[0]||h.next(this,C)[0]||h.findOne(C,e.delegateTarget.parentNode),i=S.getOrCreateInstance(t),n?(e.stopPropagation(),i.show(),i._selectMenuItem(e)):i._isShown()&&(e.stopPropagation(),i.hide(),t.focus()))}}m.on(document,Jt,C,S.dataApiKeydownHandler),m.on(document,Jt,ei,S.dataApiKeydownHandler),m.on(document,Qt,S.clearMenus),m.on(document,"keyup.bs.dropdown.data-api",S.clearMenus),m.on(document,Qt,C,function(e){e.preventDefault(),S.getOrCreateInstance(this).toggle()}),e(S);const di="backdrop",ci="mousedown.bs."+di,hi={className:"modal-backdrop",clickCallback:null,isAnimated:!1,isVisible:!0,rootElement:"body"},ui={className:"string",clickCallback:"(function|null)",isAnimated:"boolean",isVisible:"boolean",rootElement:"(element|string)"};class pi extends ce{constructor(e){super(),this._config=this._getConfig(e),this._isAppended=!1,this._element=null}static get Default(){return hi}static get DefaultType(){return ui}static get NAME(){return di}show(e){var t;this._config.isVisible?(this._append(),t=this._getElement(),this._config.isAnimated&&R(t),t.classList.add("show"),this._emulateAnimation(()=>{d(e)})):d(e)}hide(e){this._config.isVisible?(this._getElement().classList.remove("show"),this._emulateAnimation(()=>{this.dispose(),d(e)})):d(e)}dispose(){this._isAppended&&(m.off(this._element,ci),this._element.remove(),this._isAppended=!1)}_getElement(){var e;return this._element||((e=document.createElement("div")).className=this._config.className,this._config.isAnimated&&e.classList.add("fade"),this._element=e),this._element}_configAfterMerge(e){return e.rootElement=o(e.rootElement),e}_append(){var e;this._isAppended||(e=this._getElement(),this._config.rootElement.append(e),m.on(e,ci,()=>{d(this._config.clickCallback)}),this._isAppended=!0)}_emulateAnimation(e){q(e,this._getElement(),this._config.isAnimated)}}const mi=".bs.focustrap",fi=(mi,mi,"backward"),gi={autofocus:!0,trapElement:null},vi={autofocus:"boolean",trapElement:"element"};class bi extends ce{constructor(e){super(),this._config=this._getConfig(e),this._isActive=!1,this._lastTabNavDirection=null}static get Default(){return gi}static get DefaultType(){return vi}static get NAME(){return"focustrap"}activate(){this._isActive||(this._config.autofocus&&this._config.trapElement.focus(),m.off(document,mi),m.on(document,"focusin.bs.focustrap",e=>this._handleFocusin(e)),m.on(document,"keydown.tab.bs.focustrap",e=>this._handleKeydown(e)),this._isActive=!0)}deactivate(){this._isActive&&(this._isActive=!1,m.off(document,mi))}_handleFocusin(e){var t=this._config["trapElement"];e.target===document||e.target===t||t.contains(e.target)||(0===(e=h.focusableChildren(t)).length?t:this._lastTabNavDirection===fi?e[e.length-1]:e[0]).focus()}_handleKeydown(e){"Tab"===e.key&&(this._lastTabNavDirection=e.shiftKey?fi:"forward")}}const yi=".fixed-top, .fixed-bottom, .is-fixed, .sticky-top",_i=".sticky-top",wi="padding-right",xi="margin-right";class Ci{constructor(){this._element=document.body}getWidth(){var e=document.documentElement.clientWidth;return Math.abs(window.innerWidth-e)}hide(){const t=this.getWidth();this._disableOverFlow(),this._setElementAttributes(this._element,wi,e=>e+t),this._setElementAttributes(yi,wi,e=>e+t),this._setElementAttributes(_i,xi,e=>e-t)}reset(){this._resetElementAttributes(this._element,"overflow"),this._resetElementAttributes(this._element,wi),this._resetElementAttributes(yi,wi),this._resetElementAttributes(_i,xi)}isOverflowing(){return 0<this.getWidth()}_disableOverFlow(){this._saveInitialAttribute(this._element,"overflow"),this._element.style.overflow="hidden"}_setElementAttributes(e,i,n){const o=this.getWidth();this._applyManipulationCallback(e,e=>{var t;e!==this._element&&window.innerWidth>e.clientWidth+o||(this._saveInitialAttribute(e,i),t=window.getComputedStyle(e).getPropertyValue(i),e.style.setProperty(i,n(Number.parseFloat(t))+"px"))})}_saveInitialAttribute(e,t){var i=e.style.getPropertyValue(t);i&&c.setDataAttribute(e,t,i)}_resetElementAttributes(e,i){this._applyManipulationCallback(e,e=>{var t=c.getDataAttribute(e,i);null!==t?(c.removeDataAttribute(e,i),e.style.setProperty(i,t)):e.style.removeProperty(i)})}_applyManipulationCallback(e,t){if(r(e))t(e);else for(const i of h.find(e,this._element))t(i)}}const T=".bs.modal",Si=(T,T,"hidden"+T),Ti="show"+T,ki=(T,T,T,T,T,T,"modal-open"),Di="modal-static",Li={backdrop:!0,focus:!0,keyboard:!0},Ai={backdrop:"(boolean|string)",focus:"boolean",keyboard:"boolean"};class Ii extends t{constructor(e,t){super(e,t),this._dialog=h.findOne(".modal-dialog",this._element),this._backdrop=this._initializeBackDrop(),this._focustrap=this._initializeFocusTrap(),this._isShown=!1,this._isTransitioning=!1,this._scrollBar=new Ci,this._addEventListeners()}static get Default(){return Li}static get DefaultType(){return Ai}static get NAME(){return"modal"}toggle(e){return this._isShown?this.hide():this.show(e)}show(e){this._isShown||this._isTransitioning||m.trigger(this._element,Ti,{relatedTarget:e}).defaultPrevented||(this._isShown=!0,this._isTransitioning=!0,this._scrollBar.hide(),document.body.classList.add(ki),this._adjustDialog(),this._backdrop.show(()=>this._showElement(e)))}hide(){!this._isShown||this._isTransitioning||m.trigger(this._element,"hide.bs.modal").defaultPrevented||(this._isShown=!1,this._isTransitioning=!0,this._focustrap.deactivate(),this._element.classList.remove("show"),this._queueCallback(()=>this._hideModal(),this._element,this._isAnimated()))}dispose(){m.off(window,T),m.off(this._dialog,T),this._backdrop.dispose(),this._focustrap.deactivate(),super.dispose()}handleUpdate(){this._adjustDialog()}_initializeBackDrop(){return new pi({isVisible:Boolean(this._config.backdrop),isAnimated:this._isAnimated()})}_initializeFocusTrap(){return new bi({trapElement:this._element})}_showElement(e){document.body.contains(this._element)||document.body.append(this._element),this._element.style.display="block",this._element.removeAttribute("aria-hidden"),this._element.setAttribute("aria-modal",!0),this._element.setAttribute("role","dialog"),this._element.scrollTop=0;var t=h.findOne(".modal-body",this._dialog);t&&(t.scrollTop=0),R(this._element),this._element.classList.add("show"),this._queueCallback(()=>{this._config.focus&&this._focustrap.activate(),this._isTransitioning=!1,m.trigger(this._element,"shown.bs.modal",{relatedTarget:e})},this._dialog,this._isAnimated())}_addEventListeners(){m.on(this._element,"keydown.dismiss.bs.modal",e=>{"Escape"===e.key&&(this._config.keyboard?this.hide():this._triggerBackdropTransition())}),m.on(window,"resize.bs.modal",()=>{this._isShown&&!this._isTransitioning&&this._adjustDialog()}),m.on(this._element,"mousedown.dismiss.bs.modal",t=>{m.one(this._element,"click.dismiss.bs.modal",e=>{this._element===t.target&&this._element===e.target&&("static"!==this._config.backdrop?this._config.backdrop&&this.hide():this._triggerBackdropTransition())})})}_hideModal(){this._element.style.display="none",this._element.setAttribute("aria-hidden",!0),this._element.removeAttribute("aria-modal"),this._element.removeAttribute("role"),this._isTransitioning=!1,this._backdrop.hide(()=>{document.body.classList.remove(ki),this._resetAdjustments(),this._scrollBar.reset(),m.trigger(this._element,Si)})}_isAnimated(){return this._element.classList.contains("fade")}_triggerBackdropTransition(){if(!m.trigger(this._element,"hidePrevented.bs.modal").defaultPrevented){const e=this._element.scrollHeight>document.documentElement.clientHeight,t=this._element.style.overflowY;"hidden"===t||this._element.classList.contains(Di)||(e||(this._element.style.overflowY="hidden"),this._element.classList.add(Di),this._queueCallback(()=>{this._element.classList.remove(Di),this._queueCallback(()=>{this._element.style.overflowY=t},this._dialog)},this._dialog),this._element.focus())}}_adjustDialog(){const e=this._element.scrollHeight>document.documentElement.clientHeight,t=this._scrollBar.getWidth(),i=0<t;if(i&&!e){const e=l()?"paddingLeft":"paddingRight";this._element.style[e]=t+"px"}if(!i&&e){const e=l()?"paddingRight":"paddingLeft";this._element.style[e]=t+"px"}}_resetAdjustments(){this._element.style.paddingLeft="",this._element.style.paddingRight=""}static jQueryInterface(t,i){return this.each(function(){var e=Ii.getOrCreateInstance(this,t);if("string"==typeof t){if(void 0===e[t])throw new TypeError(`No method named "${t}"`);e[t](i)}})}}m.on(document,"click.bs.modal.data-api",'[data-bs-toggle="modal"]',function(e){const t=h.getElementFromSelector(this);["A","AREA"].includes(this.tagName)&&e.preventDefault(),m.one(t,Ti,e=>{e.defaultPrevented||m.one(t,Si,()=>{s(this)&&this.focus()})});e=h.findOne(".modal.show");e&&Ii.getInstance(e).hide(),Ii.getOrCreateInstance(t).toggle(this)}),ue(Ii),e(Ii);const Oi=".bs.offcanvas",Ei="showing",Mi=".offcanvas.show",$i="hidePrevented"+Oi,ji="hidden"+Oi,Ni={backdrop:!0,keyboard:!0,scroll:!1},Pi={backdrop:"(boolean|string)",keyboard:"boolean",scroll:"boolean"};class $ extends t{constructor(e,t){super(e,t),this._isShown=!1,this._backdrop=this._initializeBackDrop(),this._focustrap=this._initializeFocusTrap(),this._addEventListeners()}static get Default(){return Ni}static get DefaultType(){return Pi}static get NAME(){return"offcanvas"}toggle(e){return this._isShown?this.hide():this.show(e)}show(e){this._isShown||m.trigger(this._element,"show.bs.offcanvas",{relatedTarget:e}).defaultPrevented||(this._isShown=!0,this._backdrop.show(),this._config.scroll||(new Ci).hide(),this._element.setAttribute("aria-modal",!0),this._element.setAttribute("role","dialog"),this._element.classList.add(Ei),this._queueCallback(()=>{this._config.scroll&&!this._config.backdrop||this._focustrap.activate(),this._element.classList.add("show"),this._element.classList.remove(Ei),m.trigger(this._element,"shown.bs.offcanvas",{relatedTarget:e})},this._element,!0))}hide(){!this._isShown||m.trigger(this._element,"hide.bs.offcanvas").defaultPrevented||(this._focustrap.deactivate(),this._element.blur(),this._isShown=!1,this._element.classList.add("hiding"),this._backdrop.hide(),this._queueCallback(()=>{this._element.classList.remove("show","hiding"),this._element.removeAttribute("aria-modal"),this._element.removeAttribute("role"),this._config.scroll||(new Ci).reset(),m.trigger(this._element,ji)},this._element,!0))}dispose(){this._backdrop.dispose(),this._focustrap.deactivate(),super.dispose()}_initializeBackDrop(){var e=Boolean(this._config.backdrop);return new pi({className:"offcanvas-backdrop",isVisible:e,isAnimated:!0,rootElement:this._element.parentNode,clickCallback:e?()=>{"static"!==this._config.backdrop?this.hide():m.trigger(this._element,$i)}:null})}_initializeFocusTrap(){return new bi({trapElement:this._element})}_addEventListeners(){m.on(this._element,"keydown.dismiss.bs.offcanvas",e=>{"Escape"===e.key&&(this._config.keyboard?this.hide():m.trigger(this._element,$i))})}static jQueryInterface(t){return this.each(function(){var e=$.getOrCreateInstance(this,t);if("string"==typeof t){if(void 0===e[t]||t.startsWith("_")||"constructor"===t)throw new TypeError(`No method named "${t}"`);e[t](this)}})}}m.on(document,"click.bs.offcanvas.data-api",'[data-bs-toggle="offcanvas"]',function(e){var t=h.getElementFromSelector(this);["A","AREA"].includes(this.tagName)&&e.preventDefault(),a(this)||(m.one(t,ji,()=>{s(this)&&this.focus()}),(e=h.findOne(Mi))&&e!==t&&$.getInstance(e).hide(),$.getOrCreateInstance(t).toggle(this))}),m.on(window,"load.bs.offcanvas.data-api",()=>{for(const e of h.find(Mi))$.getOrCreateInstance(e).show()}),m.on(window,"resize.bs.offcanvas",()=>{for(const e of h.find("[aria-modal][class*=show][class*=offcanvas-]"))"fixed"!==getComputedStyle(e).position&&$.getOrCreateInstance(e).hide()}),ue($),e($);const zi={"*":["class","dir","id","lang","role",/^aria-[\w-]*$/i],a:["target","href","title","rel"],area:[],b:[],br:[],col:[],code:[],dd:[],div:[],dl:[],dt:[],em:[],hr:[],h1:[],h2:[],h3:[],h4:[],h5:[],h6:[],i:[],img:["src","srcset","alt","title","width","height"],li:[],ol:[],p:[],pre:[],s:[],small:[],span:[],sub:[],sup:[],strong:[],u:[],ul:[]},Hi=new Set(["background","cite","href","itemtype","longdesc","poster","src","xlink:href"]),Fi=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:/?#]*(?:[/?#]|$))/i,Bi={allowList:zi,content:{},extraClass:"",html:!1,sanitize:!0,sanitizeFn:null,template:"<div></div>"},Ri={allowList:"object",content:"object",extraClass:"(string|function)",html:"boolean",sanitize:"boolean",sanitizeFn:"(null|function)",template:"string"},Ui={entry:"(string|element|function|null)",selector:"(string|element)"};class Wi extends ce{constructor(e){super(),this._config=this._getConfig(e)}static get Default(){return Bi}static get DefaultType(){return Ri}static get NAME(){return"TemplateFactory"}getContent(){return Object.values(this._config.content).map(e=>this._resolvePossibleFunction(e)).filter(Boolean)}hasContent(){return 0<this.getContent().length}changeContent(e){return this._checkContent(e),this._config.content={...this._config.content,...e},this}toHtml(){var e=document.createElement("div");e.innerHTML=this._maybeSanitize(this._config.template);for(const[t,i]of Object.entries(this._config.content))this._setContent(e,i,t);const t=e.children[0],i=this._resolvePossibleFunction(this._config.extraClass);return i&&t.classList.add(...i.split(" ")),t}_typeCheckConfig(e){super._typeCheckConfig(e),this._checkContent(e.content)}_checkContent(e){for(var[t,i]of Object.entries(e))super._typeCheckConfig({selector:t,entry:i},Ui)}_setContent(e,t,i){i=h.findOne(i,e);i&&((t=this._resolvePossibleFunction(t))?r(t)?this._putElementInTemplate(o(t),i):this._config.html?i.innerHTML=this._maybeSanitize(t):i.textContent=t:i.remove())}_maybeSanitize(e){if(this._config.sanitize){var t=e,i=this._config.allowList,n=this._config.sanitizeFn;if(!t.length)return t;if(n&&"function"==typeof n)return n(t);const o=(new window.DOMParser).parseFromString(t,"text/html"),s=[].concat(...o.body.querySelectorAll("*"));for(const t of s){const n=t.nodeName.toLowerCase();if(Object.keys(i).includes(n)){const o=[].concat(...t.attributes),s=[].concat(i["*"]||[],i[n]||[]);for(const i of o)((e,t)=>{const i=e.nodeName.toLowerCase();return t.includes(i)?!Hi.has(i)||Boolean(Fi.test(e.nodeValue)):t.filter(e=>e instanceof RegExp).some(e=>e.test(i))})(i,s)||t.removeAttribute(i.nodeName)}else t.remove()}return o.body.innerHTML}return e}_resolvePossibleFunction(e){return d(e,[this])}_putElementInTemplate(e,t){this._config.html?(t.innerHTML="",t.append(e)):t.textContent=e.textContent}}const qi=new Set(["sanitize","allowList","sanitizeFn"]),Vi="fade",Gi="show",Ki="hide.bs.modal",Xi="hover",Yi="focus",Qi={AUTO:"auto",TOP:"top",RIGHT:l()?"left":"right",BOTTOM:"bottom",LEFT:l()?"right":"left"},Ji={allowList:zi,animation:!0,boundary:"clippingParents",container:!1,customClass:"",delay:0,fallbackPlacements:["top","right","bottom","left"],html:!1,offset:[0,6],placement:"top",popperConfig:null,sanitize:!0,sanitizeFn:null,selector:!1,template:'<div class="tooltip" role="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>',title:"",trigger:"hover focus"},Zi={allowList:"object",animation:"boolean",boundary:"(string|element)",container:"(string|element|boolean)",customClass:"(string|function)",delay:"(number|object)",fallbackPlacements:"array",html:"boolean",offset:"(array|string|function)",placement:"(string|function)",popperConfig:"(null|object|function)",sanitize:"boolean",sanitizeFn:"(null|function)",selector:"(string|boolean)",template:"string",title:"(string|element|function)",trigger:"string"};class en extends t{constructor(e,t){if(void 0===Vt)throw new TypeError("Bootstrap's tooltips require Popper (https://popper.js.org)");super(e,t),this._isEnabled=!0,this._timeout=0,this._isHovered=null,this._activeTrigger={},this._popper=null,this._templateFactory=null,this._newContent=null,this.tip=null,this._setListeners(),this._config.selector||this._fixTitle()}static get Default(){return Ji}static get DefaultType(){return Zi}static get NAME(){return"tooltip"}enable(){this._isEnabled=!0}disable(){this._isEnabled=!1}toggleEnabled(){this._isEnabled=!this._isEnabled}toggle(){this._isEnabled&&(this._activeTrigger.click=!this._activeTrigger.click,this._isShown()?this._leave():this._enter())}dispose(){clearTimeout(this._timeout),m.off(this._element.closest(".modal"),Ki,this._hideModalHandler),this._element.getAttribute("data-bs-original-title")&&this._element.setAttribute("title",this._element.getAttribute("data-bs-original-title")),this._disposePopper(),super.dispose()}show(){if("none"===this._element.style.display)throw new Error("Please use show on visible elements");if(this._isWithContent()&&this._isEnabled){const i=m.trigger(this._element,this.constructor.eventName("show")),n=(F(this._element)||this._element.ownerDocument.documentElement).contains(this._element);if(!i.defaultPrevented&&n){this._disposePopper();var e=this._getTipElement(),t=(this._element.setAttribute("aria-describedby",e.getAttribute("id")),this._config)["container"];if(this._element.ownerDocument.documentElement.contains(this.tip)||(t.append(e),m.trigger(this._element,this.constructor.eventName("inserted"))),this._popper=this._createPopper(e),e.classList.add(Gi),"ontouchstart"in document.documentElement)for(const i of[].concat(...document.body.children))m.on(i,"mouseover",B);this._queueCallback(()=>{m.trigger(this._element,this.constructor.eventName("shown")),!1===this._isHovered&&this._leave(),this._isHovered=!1},this.tip,this._isAnimated())}}}hide(){if(this._isShown()&&!m.trigger(this._element,this.constructor.eventName("hide")).defaultPrevented){if(this._getTipElement().classList.remove(Gi),"ontouchstart"in document.documentElement)for(const e of[].concat(...document.body.children))m.off(e,"mouseover",B);this._activeTrigger.click=!1,this._activeTrigger[Yi]=!1,this._activeTrigger[Xi]=!1,this._isHovered=null,this._queueCallback(()=>{this._isWithActiveTrigger()||(this._isHovered||this._disposePopper(),this._element.removeAttribute("aria-describedby"),m.trigger(this._element,this.constructor.eventName("hidden")))},this.tip,this._isAnimated())}}update(){this._popper&&this._popper.update()}_isWithContent(){return Boolean(this._getTitle())}_getTipElement(){return this.tip||(this.tip=this._createTipElement(this._newContent||this._getContentForTemplate())),this.tip}_createTipElement(e){e=this._getTemplateFactory(e).toHtml();if(!e)return null;e.classList.remove(Vi,Gi),e.classList.add(`bs-${this.constructor.NAME}-auto`);var t=(e=>{for(;e+=Math.floor(1e6*Math.random()),document.getElementById(e););return e})(this.constructor.NAME).toString();return e.setAttribute("id",t),this._isAnimated()&&e.classList.add(Vi),e}setContent(e){this._newContent=e,this._isShown()&&(this._disposePopper(),this.show())}_getTemplateFactory(e){return this._templateFactory?this._templateFactory.changeContent(e):this._templateFactory=new Wi({...this._config,content:e,extraClass:this._resolvePossibleFunction(this._config.customClass)}),this._templateFactory}_getContentForTemplate(){return{".tooltip-inner":this._getTitle()}}_getTitle(){return this._resolvePossibleFunction(this._config.title)||this._element.getAttribute("data-bs-original-title")}_initializeOnDelegatedTarget(e){return this.constructor.getOrCreateInstance(e.delegateTarget,this._getDelegateConfig())}_isAnimated(){return this._config.animation||this.tip&&this.tip.classList.contains(Vi)}_isShown(){return this.tip&&this.tip.classList.contains(Gi)}_createPopper(e){var t=d(this._config.placement,[this,e,this._element]),t=Qi[t.toUpperCase()];return qt(this._element,e,this._getPopperConfig(t))}_getOffset(){const t=this._config["offset"];return"string"==typeof t?t.split(",").map(e=>Number.parseInt(e,10)):"function"==typeof t?e=>t(e,this._element):t}_resolvePossibleFunction(e){return d(e,[this._element])}_getPopperConfig(e){e={placement:e,modifiers:[{name:"flip",options:{fallbackPlacements:this._config.fallbackPlacements}},{name:"offset",options:{offset:this._getOffset()}},{name:"preventOverflow",options:{boundary:this._config.boundary}},{name:"arrow",options:{element:`.${this.constructor.NAME}-arrow`}},{name:"preSetPlacement",enabled:!0,phase:"beforeMain",fn:e=>{this._getTipElement().setAttribute("data-popper-placement",e.state.placement)}}]};return{...e,...d(this._config.popperConfig,[e])}}_setListeners(){const e=this._config.trigger.split(" ");for(const t of e)if("click"===t)m.on(this._element,this.constructor.eventName("click"),this._config.selector,e=>{this._initializeOnDelegatedTarget(e).toggle()});else if("manual"!==t){const e=t===Xi?this.constructor.eventName("mouseenter"):this.constructor.eventName("focusin"),i=t===Xi?this.constructor.eventName("mouseleave"):this.constructor.eventName("focusout");m.on(this._element,e,this._config.selector,e=>{var t=this._initializeOnDelegatedTarget(e);t._activeTrigger["focusin"===e.type?Yi:Xi]=!0,t._enter()}),m.on(this._element,i,this._config.selector,e=>{var t=this._initializeOnDelegatedTarget(e);t._activeTrigger["focusout"===e.type?Yi:Xi]=t._element.contains(e.relatedTarget),t._leave()})}this._hideModalHandler=()=>{this._element&&this.hide()},m.on(this._element.closest(".modal"),Ki,this._hideModalHandler)}_fixTitle(){var e=this._element.getAttribute("title");e&&(this._element.getAttribute("aria-label")||this._element.textContent.trim()||this._element.setAttribute("aria-label",e),this._element.setAttribute("data-bs-original-title",e),this._element.removeAttribute("title"))}_enter(){this._isShown()||this._isHovered?this._isHovered=!0:(this._isHovered=!0,this._setTimeout(()=>{this._isHovered&&this.show()},this._config.delay.show))}_leave(){this._isWithActiveTrigger()||(this._isHovered=!1,this._setTimeout(()=>{this._isHovered||this.hide()},this._config.delay.hide))}_setTimeout(e,t){clearTimeout(this._timeout),this._timeout=setTimeout(e,t)}_isWithActiveTrigger(){return Object.values(this._activeTrigger).includes(!0)}_getConfig(e){var t=c.getDataAttributes(this._element);for(const e of Object.keys(t))qi.has(e)&&delete t[e];return e={...t,..."object"==typeof e&&e?e:{}},e=this._mergeConfigObj(e),e=this._configAfterMerge(e),this._typeCheckConfig(e),e}_configAfterMerge(e){return e.container=!1===e.container?document.body:o(e.container),"number"==typeof e.delay&&(e.delay={show:e.delay,hide:e.delay}),"number"==typeof e.title&&(e.title=e.title.toString()),"number"==typeof e.content&&(e.content=e.content.toString()),e}_getDelegateConfig(){var e,t,i={};for([e,t]of Object.entries(this._config))this.constructor.Default[e]!==t&&(i[e]=t);return i.selector=!1,i.trigger="manual",i}_disposePopper(){this._popper&&(this._popper.destroy(),this._popper=null),this.tip&&(this.tip.remove(),this.tip=null)}static jQueryInterface(t){return this.each(function(){var e=en.getOrCreateInstance(this,t);if("string"==typeof t){if(void 0===e[t])throw new TypeError(`No method named "${t}"`);e[t]()}})}}e(en);const tn={...en.Default,content:"",offset:[0,8],placement:"right",template:'<div class="popover" role="tooltip"><div class="popover-arrow"></div><h3 class="popover-header"></h3><div class="popover-body"></div></div>',trigger:"click"},nn={...en.DefaultType,content:"(null|string|element|function)"};class on extends en{static get Default(){return tn}static get DefaultType(){return nn}static get NAME(){return"popover"}_isWithContent(){return this._getTitle()||this._getContent()}_getContentForTemplate(){return{".popover-header":this._getTitle(),".popover-body":this._getContent()}}_getContent(){return this._resolvePossibleFunction(this._config.content)}static jQueryInterface(t){return this.each(function(){var e=on.getOrCreateInstance(this,t);if("string"==typeof t){if(void 0===e[t])throw new TypeError(`No method named "${t}"`);e[t]()}})}}e(on);const sn=".bs.scrollspy",rn="click"+sn,an="active",ln="[href]",dn={offset:null,rootMargin:"0px 0px -25%",smoothScroll:!1,target:null,threshold:[.1,.5,1]},cn={offset:"(number|null)",rootMargin:"string",smoothScroll:"boolean",target:"element",threshold:"array"};class hn extends t{constructor(e,t){super(e,t),this._targetLinks=new Map,this._observableSections=new Map,this._rootElement="visible"===getComputedStyle(this._element).overflowY?null:this._element,this._activeTarget=null,this._observer=null,this._previousScrollData={visibleEntryTop:0,parentScrollTop:0},this.refresh()}static get Default(){return dn}static get DefaultType(){return cn}static get NAME(){return"scrollspy"}refresh(){this._initializeTargetsAndObservables(),this._maybeEnableSmoothScroll(),this._observer?this._observer.disconnect():this._observer=this._getNewObserver();for(const e of this._observableSections.values())this._observer.observe(e)}dispose(){this._observer.disconnect(),super.dispose()}_configAfterMerge(e){return e.target=o(e.target)||document.body,e.rootMargin=e.offset?e.offset+"px 0px -30%":e.rootMargin,"string"==typeof e.threshold&&(e.threshold=e.threshold.split(",").map(e=>Number.parseFloat(e))),e}_maybeEnableSmoothScroll(){this._config.smoothScroll&&(m.off(this._config.target,rn),m.on(this._config.target,rn,ln,e=>{var t=this._observableSections.get(e.target.hash);t&&(e.preventDefault(),e=this._rootElement||window,t=t.offsetTop-this._element.offsetTop,e.scrollTo?e.scrollTo({top:t,behavior:"smooth"}):e.scrollTop=t)}))}_getNewObserver(){var e={root:this._rootElement,threshold:this._config.threshold,rootMargin:this._config.rootMargin};return new IntersectionObserver(e=>this._observerCallback(e),e)}_observerCallback(e){const t=e=>this._targetLinks.get("#"+e.target.id),i=e=>{this._previousScrollData.visibleEntryTop=e.target.offsetTop,this._process(t(e))},n=(this._rootElement||document.documentElement).scrollTop,o=n>=this._previousScrollData.parentScrollTop;this._previousScrollData.parentScrollTop=n;for(const s of e)if(s.isIntersecting){const e=s.target.offsetTop>=this._previousScrollData.visibleEntryTop;if(o&&e){if(i(s),!n)return}else o||e||i(s)}else this._activeTarget=null,this._clearActiveClass(t(s))}_initializeTargetsAndObservables(){this._targetLinks=new Map,this._observableSections=new Map;const e=h.find(ln,this._config.target);for(const t of e)if(t.hash&&!a(t)){const e=h.findOne(decodeURI(t.hash),this._element);s(e)&&(this._targetLinks.set(decodeURI(t.hash),t),this._observableSections.set(t.hash,e))}}_process(e){this._activeTarget!==e&&(this._clearActiveClass(this._config.target),(this._activeTarget=e).classList.add(an),this._activateParents(e),m.trigger(this._element,"activate.bs.scrollspy",{relatedTarget:e}))}_activateParents(e){if(e.classList.contains("dropdown-item"))h.findOne(".dropdown-toggle",e.closest(".dropdown")).classList.add(an);else for(const t of h.parents(e,".nav, .list-group"))for(const e of h.prev(t,".nav-link, .nav-item > .nav-link, .list-group-item"))e.classList.add(an)}_clearActiveClass(e){e.classList.remove(an);var t=h.find(ln+"."+an,e);for(const e of t)e.classList.remove(an)}static jQueryInterface(t){return this.each(function(){var e=hn.getOrCreateInstance(this,t);if("string"==typeof t){if(void 0===e[t]||t.startsWith("_")||"constructor"===t)throw new TypeError(`No method named "${t}"`);e[t]()}})}}m.on(window,"load.bs.scrollspy.data-api",()=>{for(const e of h.find('[data-bs-spy="scroll"]'))hn.getOrCreateInstance(e)}),e(hn);const un="ArrowRight",pn="ArrowDown",mn="Home",j="active",fn="show",gn=".dropdown-toggle",vn=`:not(${gn})`,bn='[data-bs-toggle="tab"], [data-bs-toggle="pill"], [data-bs-toggle="list"]',yn=`.nav-link${vn}, .list-group-item${vn}, [role="tab"]${vn}, `+bn;j,j,j;class _n extends t{constructor(e){super(e),this._parent=this._element.closest('.list-group, .nav, [role="tablist"]'),this._parent&&(this._setInitialAttributes(this._parent,this._getChildren()),m.on(this._element,"keydown.bs.tab",e=>this._keydown(e)))}static get NAME(){return"tab"}show(){var e,t,i=this._element;this._elemIsActive(i)||(t=(e=this._getActiveElem())?m.trigger(e,"hide.bs.tab",{relatedTarget:i}):null,m.trigger(i,"show.bs.tab",{relatedTarget:e}).defaultPrevented)||t&&t.defaultPrevented||(this._deactivate(e,i),this._activate(i,e))}_activate(e,t){e&&(e.classList.add(j),this._activate(h.getElementFromSelector(e)),this._queueCallback(()=>{"tab"===e.getAttribute("role")?(e.removeAttribute("tabindex"),e.setAttribute("aria-selected",!0),this._toggleDropDown(e,!0),m.trigger(e,"shown.bs.tab",{relatedTarget:t})):e.classList.add(fn)},e,e.classList.contains("fade")))}_deactivate(e,t){e&&(e.classList.remove(j),e.blur(),this._deactivate(h.getElementFromSelector(e)),this._queueCallback(()=>{"tab"===e.getAttribute("role")?(e.setAttribute("aria-selected",!1),e.setAttribute("tabindex","-1"),this._toggleDropDown(e,!1),m.trigger(e,"hidden.bs.tab",{relatedTarget:t})):e.classList.remove(fn)},e,e.classList.contains("fade")))}_keydown(t){if(["ArrowLeft",un,"ArrowUp",pn,mn,"End"].includes(t.key)){t.stopPropagation(),t.preventDefault();var i,n=this._getChildren().filter(e=>!a(e));let e;(e=[mn,"End"].includes(t.key)?n[t.key===mn?0:n.length-1]:(i=[un,pn].includes(t.key),V(n,t.target,i,!0)))&&(e.focus({preventScroll:!0}),_n.getOrCreateInstance(e).show())}}_getChildren(){return h.find(yn,this._parent)}_getActiveElem(){return this._getChildren().find(e=>this._elemIsActive(e))||null}_setInitialAttributes(e,t){this._setAttributeIfNotExists(e,"role","tablist");for(const e of t)this._setInitialAttributesOnChild(e)}_setInitialAttributesOnChild(e){e=this._getInnerElement(e);var t=this._elemIsActive(e),i=this._getOuterElement(e);e.setAttribute("aria-selected",t),i!==e&&this._setAttributeIfNotExists(i,"role","presentation"),t||e.setAttribute("tabindex","-1"),this._setAttributeIfNotExists(e,"role","tab"),this._setInitialAttributesOnTargetPanel(e)}_setInitialAttributesOnTargetPanel(e){var t=h.getElementFromSelector(e);t&&(this._setAttributeIfNotExists(t,"role","tabpanel"),e.id)&&this._setAttributeIfNotExists(t,"aria-labelledby",""+e.id)}_toggleDropDown(e,i){const n=this._getOuterElement(e);n.classList.contains("dropdown")&&((e=(e,t)=>{e=h.findOne(e,n);e&&e.classList.toggle(t,i)})(gn,j),e(".dropdown-menu",fn),n.setAttribute("aria-expanded",i))}_setAttributeIfNotExists(e,t,i){e.hasAttribute(t)||e.setAttribute(t,i)}_elemIsActive(e){return e.classList.contains(j)}_getInnerElement(e){return e.matches(yn)?e:h.findOne(yn,e)}_getOuterElement(e){return e.closest(".nav-item, .list-group-item")||e}static jQueryInterface(t){return this.each(function(){var e=_n.getOrCreateInstance(this);if("string"==typeof t){if(void 0===e[t]||t.startsWith("_")||"constructor"===t)throw new TypeError(`No method named "${t}"`);e[t]()}})}}m.on(document,"click.bs.tab",bn,function(e){["A","AREA"].includes(this.tagName)&&e.preventDefault(),a(this)||_n.getOrCreateInstance(this).show()}),m.on(window,"load.bs.tab",()=>{for(const e of h.find('.active[data-bs-toggle="tab"], .active[data-bs-toggle="pill"], .active[data-bs-toggle="list"]'))_n.getOrCreateInstance(e)}),e(_n);const wn="show",xn="showing",Cn={animation:"boolean",autohide:"boolean",delay:"number"},Sn={animation:!0,autohide:!0,delay:5e3};class Tn extends t{constructor(e,t){super(e,t),this._timeout=null,this._hasMouseInteraction=!1,this._hasKeyboardInteraction=!1,this._setListeners()}static get Default(){return Sn}static get DefaultType(){return Cn}static get NAME(){return"toast"}show(){m.trigger(this._element,"show.bs.toast").defaultPrevented||(this._clearTimeout(),this._config.animation&&this._element.classList.add("fade"),this._element.classList.remove("hide"),R(this._element),this._element.classList.add(wn,xn),this._queueCallback(()=>{this._element.classList.remove(xn),m.trigger(this._element,"shown.bs.toast"),this._maybeScheduleHide()},this._element,this._config.animation))}hide(){!this.isShown()||m.trigger(this._element,"hide.bs.toast").defaultPrevented||(this._element.classList.add(xn),this._queueCallback(()=>{this._element.classList.add("hide"),this._element.classList.remove(xn,wn),m.trigger(this._element,"hidden.bs.toast")},this._element,this._config.animation))}dispose(){this._clearTimeout(),this.isShown()&&this._element.classList.remove(wn),super.dispose()}isShown(){return this._element.classList.contains(wn)}_maybeScheduleHide(){!this._config.autohide||this._hasMouseInteraction||this._hasKeyboardInteraction||(this._timeout=setTimeout(()=>{this.hide()},this._config.delay))}_onInteraction(e,t){switch(e.type){case"mouseover":case"mouseout":this._hasMouseInteraction=t;break;case"focusin":case"focusout":this._hasKeyboardInteraction=t}t?this._clearTimeout():(e=e.relatedTarget,this._element===e||this._element.contains(e)||this._maybeScheduleHide())}_setListeners(){m.on(this._element,"mouseover.bs.toast",e=>this._onInteraction(e,!0)),m.on(this._element,"mouseout.bs.toast",e=>this._onInteraction(e,!1)),m.on(this._element,"focusin.bs.toast",e=>this._onInteraction(e,!0)),m.on(this._element,"focusout.bs.toast",e=>this._onInteraction(e,!1))}_clearTimeout(){clearTimeout(this._timeout),this._timeout=null}static jQueryInterface(t){return this.each(function(){var e=Tn.getOrCreateInstance(this,t);if("string"==typeof t){if(void 0===e[t])throw new TypeError(`No method named "${t}"`);e[t](this)}})}}return ue(Tn),e(Tn),{Alert:pe,Button:fe,Carousel:Ie,Collapse:Ne,Dropdown:S,Modal:Ii,Offcanvas:$,Popover:on,ScrollSpy:hn,Tab:_n,Toast:Tn,Tooltip:en}}),function(e){"function"==typeof define&&define.amd?define(["jquery"],e):"object"==typeof module&&"object"==typeof module.exports?exports=e(require("jquery")):e(jQuery)}(function(t){t.easing.jswing=t.easing.swing;var i=Math.pow,n=Math.sqrt,o=Math.sin,s=Math.cos,r=Math.PI,a=1.70158,l=1.525*a,d=2*r/3,c=2*r/4.5;function h(e){var t=7.5625,i=2.75;return e<1/i?t*e*e:e<2/i?t*(e-=1.5/i)*e+.75:e<2.5/i?t*(e-=2.25/i)*e+.9375:t*(e-=2.625/i)*e+.984375}t.extend(t.easing,{def:"easeOutQuad",swing:function(e){return t.easing[t.easing.def](e)},easeInQuad:function(e){return e*e},easeOutQuad:function(e){return 1-(1-e)*(1-e)},easeInOutQuad:function(e){return e<.5?2*e*e:1-i(-2*e+2,2)/2},easeInCubic:function(e){return e*e*e},easeOutCubic:function(e){return 1-i(1-e,3)},easeInOutCubic:function(e){return e<.5?4*e*e*e:1-i(-2*e+2,3)/2},easeInQuart:function(e){return e*e*e*e},easeOutQuart:function(e){return 1-i(1-e,4)},easeInOutQuart:function(e){return e<.5?8*e*e*e*e:1-i(-2*e+2,4)/2},easeInQuint:function(e){return e*e*e*e*e},easeOutQuint:function(e){return 1-i(1-e,5)},easeInOutQuint:function(e){return e<.5?16*e*e*e*e*e:1-i(-2*e+2,5)/2},easeInSine:function(e){return 1-s(e*r/2)},easeOutSine:function(e){return o(e*r/2)},easeInOutSine:function(e){return-(s(r*e)-1)/2},easeInExpo:function(e){return 0===e?0:i(2,10*e-10)},easeOutExpo:function(e){return 1===e?1:1-i(2,-10*e)},easeInOutExpo:function(e){return 0===e?0:1===e?1:e<.5?i(2,20*e-10)/2:(2-i(2,-20*e+10))/2},easeInCirc:function(e){return 1-n(1-i(e,2))},easeOutCirc:function(e){return n(1-i(e-1,2))},easeInOutCirc:function(e){return e<.5?(1-n(1-i(2*e,2)))/2:(n(1-i(-2*e+2,2))+1)/2},easeInElastic:function(e){return 0===e?0:1===e?1:-i(2,10*e-10)*o((10*e-10.75)*d)},easeOutElastic:function(e){return 0===e?0:1===e?1:i(2,-10*e)*o((10*e-.75)*d)+1},easeInOutElastic:function(e){return 0===e?0:1===e?1:e<.5?-(i(2,20*e-10)*o((20*e-11.125)*c))/2:i(2,-20*e+10)*o((20*e-11.125)*c)/2+1},easeInBack:function(e){return 2.70158*e*e*e-a*e*e},easeOutBack:function(e){return 1+2.70158*i(e-1,3)+a*i(e-1,2)},easeInOutBack:function(e){return e<.5?i(2*e,2)*(7.189819*e-l)/2:(i(2*e-2,2)*((1+l)*(2*e-2)+l)+2)/2},easeInBounce:function(e){return 1-h(1-e)},easeOutBounce:h,easeInOutBounce:function(e){return e<.5?(1-h(1-2*e))/2:(1+h(2*e-1))/2}})}),function(e){var l,d,c,t,a,r,h,p,u,m,A,I,f,g,T,k,D,n,L,O,E,v,b,M,$,j,N,P,y,_,w,o=function(e){return new o.prototype.init(e)};"undefined"!=typeof require&&"undefined"!=typeof exports&&"undefined"!=typeof module?module.exports=o:e.Globalize=o,o.cultures={},(o.prototype={constructor:o,init:function(e){return this.cultures=o.cultures,this.cultureSelector=e,this}}).init.prototype=o.prototype,o.cultures.default={name:"en",englishName:"English",nativeName:"English",isRTL:!1,language:"en",numberFormat:{pattern:["-n"],decimals:2,",":",",".":".",groupSizes:[3],"+":"+","-":"-",NaN:"NaN",negativeInfinity:"-Infinity",positiveInfinity:"Infinity",percent:{pattern:["-n %","n %"],decimals:2,groupSizes:[3],",":",",".":".",symbol:"%"},currency:{pattern:["($n)","$n"],decimals:2,groupSizes:[3],",":",",".":".",symbol:"$"}},calendars:{standard:{name:"Gregorian_USEnglish","/":"/",":":":",firstDay:0,days:{names:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],namesAbbr:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],namesShort:["Su","Mo","Tu","We","Th","Fr","Sa"]},months:{names:["January","February","March","April","May","June","July","August","September","October","November","December",""],namesAbbr:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec",""]},AM:["AM","am","AM"],PM:["PM","pm","PM"],eras:[{name:"A.D.",start:null,offset:0}],twoDigitYearMax:2029,patterns:{d:"M/d/yyyy",D:"dddd, MMMM dd, yyyy",t:"h:mm tt",T:"h:mm:ss tt",f:"dddd, MMMM dd, yyyy h:mm tt",F:"dddd, MMMM dd, yyyy h:mm:ss tt",M:"MMMM dd",Y:"yyyy MMMM",S:"yyyy'-'MM'-'dd'T'HH':'mm':'ss"}}},messages:{}},o.cultures.default.calendar=o.cultures.default.calendars.standard,o.cultures.en=o.cultures.default,o.cultureSelector="en",l=/^0x[a-f0-9]+$/i,d=/^[+\-]?infinity$/i,c=/^[+\-]?\d*\.?\d*(e[+\-]?\d+)?$/,t=/^\s+|\s+$/g,a=function(e,t){if(e.indexOf)return e.indexOf(t);for(var i=0,n=e.length;i<n;i++)if(e[i]===t)return i;return-1},r=function(e,t){return e.substr(e.length-t.length)===t},h=function(){var e,t,i,n,o,s=arguments[0]||{},r=1,a=arguments.length,l=!1;for("boolean"==typeof s&&(l=s,s=arguments[1]||{},r=2),"object"==typeof s||u(s)||(s={});r<a;r++)if(null!=(e=arguments[r]))for(t in e)o=s[t],i=e[t],s!==i&&(l&&i&&(m(i)||(n=p(i)))?(o=n?(n=!1,o&&p(o)?o:[]):o&&m(o)?o:{},s[t]=h(l,o,i)):void 0!==i&&(s[t]=i));return s},p=Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)},u=function(e){return"[object Function]"===Object.prototype.toString.call(e)},m=function(e){return"[object Object]"===Object.prototype.toString.call(e)},A=function(e,t){return 0===e.indexOf(t)},I=function(e){return(e+"").replace(t,"")},f=function(e){return isNaN(e)?NaN:Math[e<0?"ceil":"floor"](e)},g=function(e,t,i){for(var n=e.length;n<t;n+=1)e=i?"0"+e:e+"0";return e},T=function(e,t){for(var i,n=0,o=!1,s=0,r=e.length;s<r;s++)switch(i=e.charAt(s)){case"'":o?t.push("'"):n++,o=!1;break;case"\\":o&&t.push("\\"),o=!o;break;default:t.push(i),o=!1}return n},k=function(e,t){var e=e.patterns,i=(t=t||"F").length;if(1===i){if(!(e=e[t]))throw"Invalid date format string '"+t+"'.";t=e}else 2===i&&"%"===t.charAt(0)&&(t=t.charAt(1));return t},D=function(e,t,i){function n(e,t){var i,e=e+"";return 1<t&&e.length<t?(i=y[t-2]+e).substr(i.length-t,t):e}function o(e,t){if(v)return v[t];switch(t){case 0:return e.getFullYear();case 1:return e.getMonth();case 2:return e.getDate();default:throw"Invalid part value "+t}}var s,r,a,l,d,c,h,u=i.calendar,p=u.convert;if(!t||!t.length||"i"===t)return b=i&&i.name.length?p?D(e,u.patterns.F,i):(i=new Date(e.getTime()),s=O(e,u.eras),i.setFullYear(E(e,u,s)),i.toLocaleString()):e.toString();r=u.eras,a="s"===t,t=k(u,t);var m,f,g,v,b=[],y=["0","00","000"],_=/([^d]|^)(d|dd)([^d]|$)/g,w=0,x=L();for(!a&&p&&(v=p.fromGregorian(e));;){var C=x.lastIndex,S=x.exec(t),C=t.slice(C,S?S.index:t.length);if(w+=T(C,b),!S)break;if(w%2)b.push(S[0]);else switch(d=(l=S[0]).length,l){case"ddd":case"dddd":c=3===d?u.days.namesAbbr:u.days.names,b.push(c[e.getDay()]);break;case"d":case"dd":f=!0,b.push(n(o(e,2),d));break;case"MMM":case"MMMM":h=o(e,1),b.push((u.monthsGenitive&&(f||g||(f=_.test(t),g=!0),f)?u.monthsGenitive:u.months)[3===d?"namesAbbr":"names"][h]);break;case"M":case"MM":b.push(n(o(e,1)+1,d));break;case"y":case"yy":case"yyyy":h=v?v[0]:E(e,u,O(e,r),a),d<4&&(h%=100),b.push(n(h,d));break;case"h":case"hh":0===(m=e.getHours()%12)&&(m=12),b.push(n(m,d));break;case"H":case"HH":b.push(n(e.getHours(),d));break;case"m":case"mm":b.push(n(e.getMinutes(),d));break;case"s":case"ss":b.push(n(e.getSeconds(),d));break;case"t":case"tt":h=e.getHours()<12?u.AM?u.AM[0]:" ":u.PM?u.PM[0]:" ",b.push(1===d?h.charAt(0):h);break;case"f":case"ff":case"fff":b.push(n(e.getMilliseconds(),3).substr(0,d));break;case"z":case"zz":m=e.getTimezoneOffset()/60,b.push((m<=0?"+":"-")+n(Math.floor(Math.abs(m)),d));break;case"zzz":m=e.getTimezoneOffset()/60,b.push((m<=0?"+":"-")+n(Math.floor(Math.abs(m)),2)+":"+n(Math.abs(e.getTimezoneOffset()%60),2));break;case"g":case"gg":u.eras&&b.push(u.eras[O(e,r)].name);break;case"/":b.push(u["/"]);break;default:throw"Invalid date format pattern '"+l+"'."}}return b.join("")},w=function(e,t,i){var n=i.groupSizes,o=n[0],s=1,r=Math.pow(10,t),r=Math.round(e*r)/r,a=(e=r=isFinite(r)?r:e)+"",l="",r=a.split(/e/i),e=1<r.length?parseInt(r[1],10):0;a=(r=(a=r[0]).split("."))[0],l=1<r.length?r[1]:"",0<e?(a+=(l=g(l,e,!1)).slice(0,e),l=l.substr(e)):e<0&&(l=(a=g(a,1+(e=-e),!0)).slice(-e,a.length)+l,a=a.slice(0,-e));for(var l=0<t?i["."]+(l.length>t?l.slice(0,t):g(l,t)):"",d=a.length-1,c=i[","],h="";0<=d;){if(0===o||d<o)return a.slice(0,d+1)+(h.length?c+h+l:l);h=a.slice(d-o+1,d+1)+(h.length?c+h:""),d-=o,s<n.length&&(o=n[s],s++)}return a.slice(0,d+1)+c+h+l},n=function(e,t,i){var n,o,s,r,a,l;if(!isFinite(e))return e===1/0?i.numberFormat.positiveInfinity:e===-1/0?i.numberFormat.negativeInfinity:i.numberFormat.NaN;if(!t||"i"===t)return i.name.length?e.toLocaleString():e.toString();t=t||"D";var d,c=i.numberFormat,h=Math.abs(e),u=-1;switch(1<t.length&&(u=parseInt(t.slice(1),10)),n=t.charAt(0).toUpperCase()){case"D":d="n",h=f(h),-1!==u&&(h=g(""+h,u,!0)),e<0&&(h="-"+h);break;case"N":o=c;case"C":o=o||c.currency;case"P":o=o||c.percent,d=e<0?o.pattern[0]:o.pattern[1]||"n",-1===u&&(u=o.decimals),h=w(h*("P"===n?100:1),u,o);break;default:throw"Bad number format specifier: "+n}for(s=/n|\$|-|%/g,r="";a=s.lastIndex,l=s.exec(d),r+=d.slice(a,l?l.index:d.length),l;)switch(l[0]){case"n":r+=h;break;case"$":r+=c.currency.symbol;break;case"-":/[1-9]/.test(h)&&(r+=c["-"]);break;case"%":r+=c.percent.symbol}return r},L=function(){return/\/|dddd|ddd|dd|d|MMMM|MMM|MM|M|yyyy|yy|y|hh|h|HH|H|mm|m|ss|s|tt|t|fff|ff|f|zzz|zz|z|gg|g/g},O=function(e,t){var i,n,o,s;if(t)for(n=e.getTime(),o=0,s=t.length;o<s;o++)if(null===(i=t[o].start)||i<=n)return o;return 0},E=function(e,t,i,n){e=e.getFullYear();return!n&&t.eras&&(e-=t.eras[i].offset),e},M=function(e,t){var i,n;return t<100&&(i=new Date,n=O(i),i=E(i,e,n),(n="string"==typeof(n=e.twoDigitYearMax)?(new Date).getFullYear()%100+parseInt(n,10):n)<(t+=i-i%100))&&(t-=100),t},$=function(e,t,i){var n,o=e.days,s=e._upperDays;return s||(e._upperDays=s=[_(o.names),_(o.namesAbbr),_(o.namesShort)]),t=y(t),i?-1===(n=a(s[1],t))&&(n=a(s[2],t)):n=a(s[0],t),n},j=function(e,t,i){var n=e.months,o=e.monthsGenitive||e.months,s=e._upperMonths,r=e._upperMonthsGen;return s||(e._upperMonths=s=[_(n.names),_(n.namesAbbr)],e._upperMonthsGen=r=[_(o.names),_(o.namesAbbr)]),t=y(t),n=(n=a(i?s[1]:s[0],t))<0?a(i?r[1]:r[0],t):n},N=function(e,t){var i,n,o,s,r,a=e._parseRegExp;if(a){if(r=a[t])return r}else e._parseRegExp=a={};for(var l,d=k(e,t).replace(/([\^\$\.\*\+\?\|\[\]\(\)\{\}])/g,"\\\\$1"),c=["^"],h=[],u=0,p=0,m=L();null!==(l=m.exec(d));)if(i=d.slice(u,l.index),u=m.lastIndex,(p+=T(i,c))%2)c.push(l[0]);else{switch(o=(n=l[0]).length,n){case"dddd":case"ddd":case"MMMM":case"MMM":case"gg":case"g":s="(\\D+)";break;case"tt":case"t":s="(\\D*)";break;case"yyyy":case"fff":case"ff":case"f":s="(\\d{"+o+"})";break;case"dd":case"d":case"MM":case"M":case"yy":case"y":case"HH":case"H":case"hh":case"h":case"mm":case"m":case"ss":case"s":s="(\\d\\d?)";break;case"zzz":s="([+-]?\\d\\d?:\\d{2})";break;case"zz":case"z":s="([+-]?\\d\\d?)";break;case"/":s="(\\/)";break;default:throw"Invalid date format pattern '"+n+"'."}s&&c.push(s),h.push(l[0])}return T(d.slice(u),c),c.push("$"),r=c.join("").replace(/\s+/g,"\\s+"),a[t]={regExp:r,groups:h}},P=function(e,t,i){return e<t||i<e},y=function(e){return e.split("Â ").join(" ").toUpperCase()},_=function(e){for(var t=[],i=0,n=e.length;i<n;i++)t[i]=y(e[i]);return t},v=function(e,t,i){e=I(e);var n,o,s,r,a,l,d=i.calendar,i=N(d,t),c=new RegExp(i.regExp).exec(e);if(null===c)return null;for(var h,u=i.groups,p=null,m=null,f=null,g=null,v=null,b=0,y=0,_=0,w=0,x=null,C=!1,S=0,T=u.length;S<T;S++)if(n=c[S+1]){var k=u[S],D=k.length,L=parseInt(n,10);switch(k){case"dd":case"d":if(P(g=L,1,31))return null;break;case"MMM":case"MMMM":if(f=j(d,n,3===D),P(f,0,11))return null;break;case"M":case"MM":if(P(f=L-1,0,11))return null;break;case"y":case"yy":case"yyyy":if(m=D<4?M(d,L):L,P(m,0,9999))return null;break;case"h":case"hh":if(P(b=12===(b=L)?0:b,0,11))return null;break;case"H":case"HH":if(P(b=L,0,23))return null;break;case"m":case"mm":if(P(y=L,0,59))return null;break;case"s":case"ss":if(P(_=L,0,59))return null;break;case"tt":case"t":if((C=d.PM&&(n===d.PM[0]||n===d.PM[1]||n===d.PM[2]))||d.AM&&(n===d.AM[0]||n===d.AM[1]||n===d.AM[2]))break;return null;case"f":case"ff":case"fff":if(w=L*Math.pow(10,3-D),P(w,0,999))return null;break;case"ddd":case"dddd":if(v=$(d,n,3===D),P(v,0,6))return null;break;case"zzz":if(2!==(o=n.split(/:/)).length||(h=parseInt(o[0],10),P(h,-12,13))||(s=parseInt(o[1],10),P(s,0,59)))return null;x=60*h+(A(n,"-")?-s:s);break;case"z":case"zz":if(P(h=L,-12,13))return null;x=60*h;break;case"g":case"gg":if(!(r=n)||!d.eras)return null;for(r=I(r.toLowerCase()),a=0,l=d.eras.length;a<l;a++)if(r===d.eras[a].name.toLowerCase()){p=a;break}if(null===p)return null}}if(t=new Date,i=(e=d.convert)?e.fromGregorian(t)[0]:t.getFullYear(),null===m?m=i:d.eras&&(m+=d.eras[p||0].offset),null===f&&(f=0),null===g&&(g=1),e){if(null===(t=e.toGregorian(m,f,g)))return null}else if(t.setFullYear(m,f,g),t.getDate()!==g||null!==v&&t.getDay()!==v)return null;return C&&b<12&&(b+=12),t.setHours(b,y,_,w),null!==x&&(i=t.getMinutes()-(x+t.getTimezoneOffset()),t.setHours(t.getHours()+parseInt(i/60,10),i%60)),t},b=function(e,t,i){var n,o=t["-"],s=t["+"];switch(i){case"n -":o=" "+o,s=" "+s;case"n-":r(e,o)?n=["-",e.substr(0,e.length-o.length)]:r(e,s)&&(n=["+",e.substr(0,e.length-s.length)]);break;case"- n":o+=" ",s+=" ";case"-n":A(e,o)?n=["-",e.substr(o.length)]:A(e,s)&&(n=["+",e.substr(s.length)]);break;case"(n)":A(e,"(")&&r(e,")")&&(n=["-",e.substr(1,e.length-2)])}return n||["",e]},o.prototype.findClosestCulture=function(e){return o.findClosestCulture.call(this,e)},o.prototype.format=function(e,t,i){return o.format.call(this,e,t,i)},o.prototype.localize=function(e,t){return o.localize.call(this,e,t)},o.prototype.parseInt=function(e,t,i){return o.parseInt.call(this,e,t,i)},o.prototype.parseFloat=function(e,t,i){return o.parseFloat.call(this,e,t,i)},o.prototype.culture=function(e){return o.culture.call(this,e)},o.addCultureInfo=function(e,t,i){var n={},o=!1,n="string"!=typeof e?(i=e,e=this.culture().name,this.cultures[e]):"string"!=typeof t?(i=t,o=null==this.cultures[e],this.cultures[e]||this.cultures.default):(o=!0,this.cultures[t]);this.cultures[e]=h(!0,{},n,i),o&&(this.cultures[e].calendar=this.cultures[e].calendars.standard)},o.findClosestCulture=function(e){var t,i,n,o,s,r;if(!e)return this.findClosestCulture(this.cultureSelector)||this.cultures.default;if("string"==typeof e&&(e=e.split(",")),p(e)){for(var a,l=this.cultures,d=e,c=d.length,h=[],u=0;u<c;u++)n=(e=I(d[u])).split(";"),a=I(n[0]),i=1!==n.length&&0===(e=I(n[1])).indexOf("q=")?(e=e.substr(2),i=parseFloat(e),isNaN(i)?0:i):1,h.push({lang:a,pri:i});for(h.sort(function(e,t){return e.pri<t.pri?1:e.pri>t.pri?-1:0}),u=0;u<c;u++)if(t=l[a=h[u].lang])return t;for(u=0;u<c;u++)for(a=h[u].lang;;){if(-1===(o=a.lastIndexOf("-")))break;if(t=l[a=a.substr(0,o)])return t}for(u=0;u<c;u++)for(s in a=h[u].lang,l)if(r=l[s],r.language==a)return r}else if("object"==typeof e)return e;return t||null},o.format=function(e,t,i){i=this.findClosestCulture(i);return e instanceof Date?e=D(e,t,i):"number"==typeof e&&(e=n(e,t,i)),e},o.localize=function(e,t){return this.findClosestCulture(t).messages[e]||this.cultures.default.messages[e]},o.parseDate=function(e,t,i){var n,o,s,r,a,l;if(i=this.findClosestCulture(i),t){if((t="string"==typeof t?[t]:t).length)for(r=0,a=t.length;r<a&&(!(l=t[r])||!(n=v(e,l,i)));r++);}else for(o in s=i.calendar.patterns)if(n=v(e,s[o],i),n)break;return n||null},o.parseInt=function(e,t,i){return f(o.parseFloat(e,t,i))},o.parseFloat=function(e,t,i){"number"!=typeof t&&(i=t,t=10);var n,o,s,i=this.findClosestCulture(i),r=NaN,a=i.numberFormat;return-1<e.indexOf(i.numberFormat.currency.symbol)&&(e=(e=e.replace(i.numberFormat.currency.symbol,"")).replace(i.numberFormat.currency["."],i.numberFormat["."])),e=I(e),d.test(e)?r=parseFloat(e):!t&&l.test(e)?r=parseInt(e,16):(t=(i=b(e,a,a.pattern[0]))[0],s=i[1],""===t&&"(n)"!==a.pattern[0]&&(t=(i=b(e,a,"(n)"))[0],s=i[1]),""===t&&"-n"!==a.pattern[0]&&(t=(i=b(e,a,"-n"))[0],s=i[1]),t=t||"+",i=(e=(e=s.indexOf("e"))<0?s.indexOf("E"):e)<0?(o=s,null):(o=s.substr(0,e),s.substr(e+1)),s=a["."],o=(e=o.indexOf(s))<0?(n=o,null):(n=o.substr(0,e),o.substr(e+s.length)),e=a[","],n=n.split(e).join(""),s=e.replace(/\u00A0/g," "),t=t+(n=e!==s?n.split(s).join(""):n),null!==o&&(t+="."+o),null!==i&&(t+="e"+((e=b(i,a,"-n"))[0]||"+")+e[1]),c.test(t)&&(r=parseFloat(t))),r},o.culture=function(e){return void 0!==e&&(this.cultureSelector=e),this.findClosestCulture(e)||this.cultures.default}}(this),function(e){"use strict";var t,i,n,o,s;e.matchMedia=e.matchMedia||(e=e.document,i=e.documentElement,n=i.firstElementChild||i.firstChild,o=e.createElement("body"),(s=e.createElement("div")).id="mq-test-1",s.style.cssText="position:absolute;top:-100em",o.style.background="none",o.appendChild(s),function(e){return s.innerHTML='&shy;<style media="'+e+'"> #mq-test-1 { width: 42px; }</style>',i.insertBefore(o,n),t=42===s.offsetWidth,i.removeChild(o),{matches:t,media:e}})}(this),function(f){"use strict";function e(){L(!0)}var g,v,b,y,_,w,x,C,s,S,T,r,k,D,L,a,l,t,p={},d=((f.respond=p).update=function(){},[]),n=function(){var t=!1;try{t=new f.XMLHttpRequest}catch(e){t=new f.ActiveXObject("Microsoft.XMLHTTP")}return function(){return t}}(),i=function(e,t){var i=n();i&&(i.open("GET",e,!0),i.onreadystatechange=function(){4!==i.readyState||200!==i.status&&304!==i.status||t(i.responseText)},4!==i.readyState)&&i.send(null)};p.ajax=i,p.queue=d,p.regex={media:/@media[^\{]+\{([^\{\}]*\{[^\}\{]*\})+/gi,keyframes:/@(?:\-(?:o|moz|webkit)\-)?keyframes[^\{]+\{(?:[^\{\}]*\{[^\}\{]*\})+[^\}]*\}/gi,urls:/(url\()['"]?([^\/\)'"][^:\)'"]+)['"]?(\))/g,findStyles:/@media *([^\{]+)\{([\S\s]+?)$/,only:/(only\s+)?([a-zA-Z]+)\s?/,minw:/\([\s]*min\-width\s*:[\s]*([\s]*[0-9\.]+)(px|em)[\s]*\)/,maxw:/\([\s]*max\-width\s*:[\s]*([\s]*[0-9\.]+)(px|em)[\s]*\)/},p.mediaQueriesSupported=f.matchMedia&&null!==f.matchMedia("only all")&&f.matchMedia("only all").matches,p.mediaQueriesSupported||(y=f.document,_=y.documentElement,w=[],x=[],C=[],s={},S=30,T=y.getElementsByTagName("head")[0]||_,r=y.getElementsByTagName("base")[0],k=T.getElementsByTagName("link"),D=function(){var e,t=y.createElement("div"),i=y.body,n=_.style.fontSize,o=i&&i.style.fontSize,s=!1;return t.style.cssText="position:absolute;font-size:1em;width:1em",i||((i=s=y.createElement("body")).style.background="none"),_.style.fontSize="100%",i.style.fontSize="100%",i.appendChild(t),s&&_.insertBefore(i,_.firstChild),e=t.offsetWidth,s?_.removeChild(i):i.removeChild(t),_.style.fontSize=n,o&&(i.style.fontSize=o),b=parseFloat(e)},L=function(e){var t,i,n,o,s,r,a="clientWidth",l=_[a],d="CSS1Compat"===y.compatMode&&l||y.body[a]||l,c={},h=k[k.length-1],a=(new Date).getTime();if(e&&g&&a-g<S)f.clearTimeout(v),v=f.setTimeout(L,S);else{for(var u in g=a,w)w.hasOwnProperty(u)&&(t=null===(n=(u=w[u]).minw),i=null===(o=u.maxw),n=n&&parseFloat(n)*(-1<n.indexOf("em")?b||D():1),o=o&&parseFloat(o)*(-1<o.indexOf("em")?b||D():1),u.hasquery&&(t&&i||!(t||n<=d)||!(i||d<=o))||(c[u.media]||(c[u.media]=[]),c[u.media].push(x[u.rules])));for(var p in C)C.hasOwnProperty(p)&&C[p]&&C[p].parentNode===T&&T.removeChild(C[p]);for(var m in C.length=0,c)c.hasOwnProperty(m)&&(s=y.createElement("style"),r=c[m].join("\n"),s.type="text/css",s.media=m,T.insertBefore(s,h.nextSibling),s.styleSheet?s.styleSheet.cssText=r:s.appendChild(y.createTextNode(r)),C.push(s))}},a=function(e,t,i){function n(e){return e.replace(p.regex.urls,"$1"+t+"$2$3")}var o=e.replace(p.regex.keyframes,"").match(p.regex.media),s=o&&o.length||0,r=!s&&i;(t=t.substring(0,t.lastIndexOf("/"))).length&&(t+="/"),r&&(s=1);for(var a,l,d=0;d<s;d++){r?(a=i,x.push(n(e))):(a=o[d].match(p.regex.findStyles)&&RegExp.$1,x.push(RegExp.$2&&n(RegExp.$2)));for(var c,h=(c=a.split(",")).length,u=0;u<h;u++)l=c[u],w.push({media:l.split("(")[0].match(p.regex.only)&&RegExp.$2||"all",rules:x.length-1,hasquery:-1<l.indexOf("("),minw:l.match(p.regex.minw)&&parseFloat(RegExp.$1)+(RegExp.$2||""),maxw:l.match(p.regex.maxw)&&parseFloat(RegExp.$1)+(RegExp.$2||"")})}L()},l=function(){var t;d.length&&(t=d.shift(),i(t.href,function(e){a(e,t.href,t.media),s[t.href]=!0,f.setTimeout(function(){l()},0)}))},(t=function(){for(var e=0;e<k.length;e++){var t=k[e],i=t.href,n=t.media,o=t.rel&&"stylesheet"===t.rel.toLowerCase();i&&o&&!s[i]&&(t.styleSheet&&t.styleSheet.rawCssText?(a(t.styleSheet.rawCssText,i,n),s[i]=!0):(/^([a-zA-Z:]*\/\/)/.test(i)||r)&&i.replace(RegExp.$1,"").split("/")[0]!==f.location.host||("//"===i.substring(0,2)&&(i=f.location.protocol+i),d.push({href:i,media:n})))}l()})(),p.update=t,p.getEmValue=D,f.addEventListener?f.addEventListener("resize",e,!1):f.attachEvent&&f.attachEvent("onresize",e))}(this);const isFirefox=-1!=navigator.userAgent.indexOf("Firefox");var WarningToastDialogObj="",sessionData=!1,isSession=!1,keyCode={BackSpace:8,Tab:9,Enter:13,Shift:16,Ctrl:17,Alt:18,Pause:19,CapsLock:20,Esc:27,PageUp:33,PageDown:34,End:35,Home:36,LeftArrow:37,UpArrow:38,RightArrow:39,DownArrow:40,Insert:45,LeftWindow:91,RightWindow:92,SemiColon:isFirefox?59:186,Comma:188},ItemType={None:0,Category:1,Dashboard:2,Report:3,Datasource:4,Dataset:5,File:6,Schedule:7,Widget:8,ItemView:9,Slideshow:10,Settings:11,UserManagement:12},PermissionAccess={None:0,Create:1,Read:2,ReadWrite:6,ReadWriteDelete:14},excludedSearchKeys=[keyCode.Tab,keyCode.Shift,keyCode.Ctrl,keyCode.Alt,keyCode.Pause,keyCode.CapsLock,keyCode.PageUp,keyCode.PageDown,keyCode.End,keyCode.Home,keyCode.LeftArrow,keyCode.UpArrow,keyCode.RightArrow,keyCode.DownArrow,keyCode.Insert,keyCode.LeftWindow,keyCode.RightWindow],SettingsScopes={All:0,SiteSettings:1,DashboardSettings:2,EmbedSettings:3,DataStoreSettings:4,Connector:5,Email:6,Accounts:7,UserDirectorySettings:8,AuthenticationSettings:9,NotificationSettings:10,ManageLicense:11,SupportSettings:12,Subscription:13,Payments:14,Widgets:15,Security:16,Integrations:17,CORSPolicySettings:18},PermissionEntities={None:0,AllReports:1,ReportsInCategory:2,SpecificReports:3,AllCategories:4,SpecificCategory:5,AllDataSources:6,SpecificDataSource:7,AllFiles:8,SpecificFile:9,AllSchedules:10,SpecificSchedule:11,AllDashboards:12,DashboardsInCategory:13,SpecificDashboard:14,AllWidgets:15,SpecificWidget:16,AllDatasets:17,SpecificDataset:18,SpecificItemView:19,AllItemViews:20,SpecificSlideshow:21,AllSlideshow:22,SpecificSettings:23,AllSettings:24,SpecificGroup:25,UsersandGroups:26,SpecificPermissions:27,AllPermissions:28,AllGroups:29,AllUsers:30},DownloadandUploadJobStatus={YetToStart:0,Started:1,InProgress:2,Success:3,Failed:4},SecurityType={DashboardSecurity:1,TabSecurity:2};function SuccessAlert(e,t,i){var n=window.parent,o=!1;try{o=n.location.host==window.location.host&&0<n.$("#success-alert").length}catch(e){o=!1}(n=o?n:window).$("#success-alert").css("display","table"),n.$("#message-header").html(e),n.$("#message-content").html(t),setTimeout(function(){n.$("#success-alert").fadeOut()},i)}function WarningAlert(e,t,i){parent.$("#warning-alert").css("display","table"),parent.$("#warning-alert #message-header").html(e),parent.$(" #warning-alert #message-content").html(t),null!=i&&""!=i&&setTimeout(function(){parent.$("#warning-alert").fadeOut()},i),$(document).on("click",".close-div",function(){parent.$("#warning-alert").fadeOut()})}function MobileAlert(e,t){parent.$("#mobile-alert").fadeIn(),parent.$("#mobile-alert #message").html(e),null!=t&&""!=t&&setTimeout(function(){parent.$("#mobile-alert").fadeOut(1e3)},t)}function ProgressAlert(e,t,i,n,o){var s="progress-alert_"+e;parent.$("#progress-alert-container").find("#"+s).length||(e='<div id="'+s+'" class="progress-alert"><div id="image-container"><div class="image-holder"><span id="progress-notify-success" class="su su-tick display-none" alt="Success Icon"></span><div id="progress-notify-loader"><svg x="0px" y="0px" width="24px" height="30px" viewBox="0 0 24 30" style="enable-background:new 0 0 50 50;" xml:space="preserve"><rect x="0" y="10" width="4" height="10" fill="#0565FF" opacity="0.2"><animate attributeName="opacity" attributeType="XML" values="0.2; 1; .2" begin="0s" dur="0.8s" repeatCount="indefinite" /><animate attributeName="height" attributeType="XML" values="10; 20; 10" begin="0s" dur="0.8s" repeatCount="indefinite" /><animate attributeName="y" attributeType="XML" values="10; 5; 10" begin="0s" dur="0.8s" repeatCount="indefinite" /></rect><rect x="8" y="10" width="4" height="10" fill="#0565FF" opacity="0.2"><animate attributeName="opacity" attributeType="XML" values="0.2; 1; .2" begin="0.15s" dur="0.8s" repeatCount="indefinite" /><animate attributeName="height" attributeType="XML" values="10; 20; 10" begin="0.15s" dur="0.8s" repeatCount="indefinite" /><animate attributeName="y" attributeType="XML" values="10; 5; 10" begin="0.15s" dur="0.8s" repeatCount="indefinite" /></rect><rect x="16" y="10" width="4" height="10" fill="#0565FF" opacity="0.2"><animate attributeName="opacity" attributeType="XML" values="0.2; 1; .2" begin="0.3s" dur="0.8s" repeatCount="indefinite" /><animate attributeName="height" attributeType="XML" values="10; 20; 10" begin="0.3s" dur="0.8s" repeatCount="indefinite" /><animate attributeName="y" attributeType="XML" values="10; 5; 10" begin="0.3s" dur="0.8s" repeatCount="indefinite" /></rect></svg></div></div></div><div id="message" class="div-close"><h1 id="message-header"></h1><span id="message-content"></span></div><div class="close-div"><span id="close-content">'+window.Server.App.Localization.Close+"</span></div></div> ",$("#progress-alert-container").append(e)),parent.$("#"+s).css("display","table"),parent.$("#"+s+" #message-header").html(t),parent.$("#"+s+" #message-content").html(i),o?(parent.$("#"+s+" #progress-notify-loader").addClass("display-none"),parent.$("#"+s+" #progress-notify-success").removeClass("display-none")):(parent.$("#"+s+" #progress-notify-loader").removeClass("display-none"),parent.$("#"+s+" #progress-notify-success").addClass("display-none")),null!=n&&""!=n&&setTimeout(function(){parent.$("#"+s).fadeOut()},n),$(document).on("click",".close-div",function(){var e=$(this);parent.$(e).parent().remove()})}function warningToast(t,i,e,n=null){var o="",s=0,o=isVariableNullOrUndefined(e)?"warning-toast":"warning-toast_"+e;0<jQuery(".toast-container.warning-toast:visible").length&&($(".toast-container.warning-toast:visible .toast-close").click(),s=1e3),setTimeout(function(){var e;$("#progress-alert-container").find("#"+o).length||(e="<div id='"+o+"' style='display: none;' class='toast-container warning-toast'><img src='"+cdnLink+"/cdn/images/warning-toast.svg' class='toast-image-container'/><div class='toast-message'><span class='toast-message-content'></span>&nbsp<a class='toast-know-more'>"+window.Server.App.Localization.LearnMore+"</a></div><div class='toast-close'><span class='su su-close' title='"+window.Server.App.Localization.Close+"'></span></div></div>",$("#progress-alert-container").append(e)),$("#progress-alert-container").show(),$("#"+o).css("display","table"),isVariableNullOrUndefined(i)?(jQuery(".toast-know-more").hide(),$("#"+o+" .toast-message-content").html(t)):(jQuery(".toast-know-more").show(),$("#"+o+" .toast-message-content").html(t),$("#"+o).attr("data-error-message",i)),null!=n&&$("#"+o).attr("data-header",n)},s)}function successToast(i,n,e){var o="",o=void 0===e?"success-toast":"success-toast_"+e,e=0;0<jQuery(".toast-container.warning-toast:visible").length&&($(".toast-container.warning-toast:visible .toast-close").click(),e=1e3),0<jQuery(".toast-container.success-toast:visible").length&&($(".toast-container.success-toast:visible .toast-close").click(),e=1e3),setTimeout(function(){$("#progress-alert-container").find("#"+o).length||(t="<div id='"+o+"' style='display: none;' class='toast-container success-toast'><img src='"+cdnLink+"/cdn/images/success-toast.svg' class='toast-image-container'/><div class='toast-message'><span class='toast-message-content'></span></div><div class='toast-close'><span class='su su-close' title='"+window.Server.App.Localization.Close+"'></span></div></div >",$("#progress-alert-container").append(t)),$("#progress-alert-container").show();var e=window.parent,t=!1;try{t=e.location.host==window.location.host&&0<e.$("#"+o).length}catch(e){t=!1}(e=t?e:window).$("#"+o).css("display","table"),e.$("#"+o+" .toast-message-content").html(i),setTimeout(function(){e.$("#"+o).fadeOut()},n)},e)}function closeWarningToastDialog(){WarningToastDialogObj.hide()}function copyToClipboard(){var e=$("#warning-toast-content").text(),t=$("<input>");t.attr("value",e),$("body").append(t),t.select(),t[0].setSelectionRange(0,99999),document.execCommand("copy"),t.remove()}function createLoader(e,t){var i,n="";return"string"==typeof e?(t=0===e.indexOf(".")?".":"#",n=(e=0===e.indexOf(".")||0===e.indexOf("#")?e.slice(1,e.length):e)+"-loader-icon",0==$("#"+n).length&&0!=$(t+e).length&&(i=$("<div class='loader-blue loader-icon' id='"+n+"'><svg class='circular'><circle class='path' cx='27' cy='27' r='20' fill='none' stroke-width='4' stroke-miterlimit='10'></circle></svg></div>"),$("body").append(i))):(t=0===(e=t).indexOf(".")?".":"#",n=(e=e.slice(1,e.length))+"-loader-icon",0==$("#"+n).length&&0!=$(t+e).length&&(i=$("<div class='loader-blue loader-icon' id='"+n+"'><svg class='circular'><circle class='path' cx='27' cy='27' r='20' fill='none' stroke-width='4' stroke-miterlimit='10'></circle></svg></div>"),$("body").append(i))),n}function ajaxPostCall(e,t,i,n,o,s,r){var a;return embedConfig.IsEmbedCode?("GET"==e&&(a=null!=i?jQuery.param(i):"",t.api=t.api+(isNullOrWhitespace(a)?"":"?"+a),i=null),$.ajax({type:e,url:dashboardServerApiUrlForServerEmbed+t.api,headers:{"Content-type":"application/json",Authorization:"bearer "+designerToken},data:JSON.stringify(i),beforeSend:function(e){isNullOrWhitespace(n)||n(e)},success:function(e,t){isNullOrWhitespace(o)||o(e)},error:function(e){isNullOrWhitespace(s)||s()},complete:function(e){isNullOrWhitespace(r)||r(e)}})):$.ajax({type:e,url:t.web,data:i,beforeSend:function(e){(isNullOrWhitespace(n)?setToken:n)(e)},success:function(e,t){isNullOrWhitespace(o)||o(e)},error:function(e){isNullOrWhitespace(s)?onError(e):s()},complete:function(e){isNullOrWhitespace(r)||r(e)}})}function isNullOrWhitespace(e){return null==e||""==$.trim(e)}function generateProfileAvatar(){$(".profile-pic-tag").each(function(){var e=$(this).attr("data-id"),t=$(this).attr("data-image-size"),i=t/2.5,n=i<10?"0":i<20?"1px":"2px",o=i<10?"1px":"2px",s=$(this).attr("data-display-name"),r=$(this).attr("data-type");if($(this).html(""),0!=e){var a=["#b7fbff","#a9eec2","#ffe0a3","#ffa1ac","#8ed6ff","#bf9fee","#ffa0d2","#32dbc6","#d2c8c8","#e3e7f1"];if("user"==r){var l=e.match(/(\d+)/g),d=0;if(null!=l)for(d=0;d<l.length;d++)var c=l[0][0];$(this).css("background-color",a[c]);var r=idpUrl+"/User/Avatar?id="+e,h=$('<img id="default-profile-image">');h.attr("src",r),h.attr("width",t),h.attr("height",t),h.css("position","absolute"),h.css("top","0px"),h.css("left","0px"),h.css("border-radius","50%"),h.appendTo($(this))}else{r=e%10;$(this).css("background-color",a[r])}$(this).css("width",t),$(this).css("height",t),$(this).css("line-height",t+"px");h=s.trim().toUpperCase().split(/ /),e=$('<span id="first-letter">');isNullOrWhitespace(h[1])?e.text(h[0][0]):e.text(h[0][0]+h[1][0]),e.css("font-size",i+"px"),e.css("margin-left",o),e.css("letter-spacing",n),e.appendTo($(this))}})}function isVariableNullOrUndefined(e){return null==e}function embedOpenPage(e){var t="undefined"!=typeof isSelfHosted&&isSelfHosted&&enableApplicationEmbed?"_self":"_blank";window.open(e,t)}function HideLogoAndProfileMenu(){"undefined"==typeof canHideLogoAndProfile||!canHideLogoAndProfile||window.self==window.top||"undefined"!=typeof embedConfig&&null!=embedConfig&&embedConfig.IsEmbedCode||($("#items-menu").find(".app-logo-block, .logo-separator").hide(),$("#dropdown-profile").hide())}function SetHttpOnlyCookie(e,t,i,n){$.ajax({type:"POST",url:setCookieHttpOnlyUrl,data:{cookieName:e,cookieValue:t,expires:i,isCookiePathRequired:n}})}function setToken(e){var t=document.cookie.split("; ").find(e=>e.startsWith("XSRF-TOKEN="))?.split("=")[1];t&&e.setRequestHeader("X-XSRF-TOKEN",t)}function closeAllDailog(){var e;$(".e-btn-icon.e-icon-dlg-close.e-icons").is(":visible")&&(e=$(".e-btn-icon.e-icon-dlg-close.e-icons:visible"),$.each(e,function(e,t){t=$(t).parents(".e-dialog").attr("id");null!=t&&document.getElementById(t).ej2_instances[0].hide()})),$(".popup-close").is(":visible")&&(e=$(".popup-close:visible"),$.each(e,function(e,t){t=$(t).parents(".e-dialog").attr("id");null!=t&&(eDialog=$("#"+t).data("ejDialog")).close()}))}function onError(e){$(".e-waitpopup-pane:visible").hide(),$(".e-spinner-pane:visible").hide(),"abort"!=e.statusText&&(closeAllDailog(),"Bad Request"==e.statusText?warningToast(window.Server.App.Localization.InvalidRequestMessage,null,null,window.Server.App.Localization.Error):(e=JSON.parse(e.responseText),warningToast(window.Server.App.Localization.ExceptionErrorMessage,e.error,null,window.Server.App.Localization.Error)))}$(document).ready(function(){function i(){var e,t,i,n="",o='<span class ="dialog-header-title">'+window.Server.App.Localization.SessionHeader+"</span>";sessionData||((e=document.createElement("div")).setAttribute("id","session-time-dialog"),null==(t=document.getElementById("content-area"))?(n=ejdashboard.popups,(i=document.createElement("div")).setAttribute("id","content-area"),document.body.appendChild(i),t=document.getElementById("content-area")):n=ejs.popups,t.appendChild(e),i=null!=$("#dashboardDesigner").data("BoldBIDashboardDesigner")&&$("#dashboardDesigner").data("BoldBIDashboardDesigner").hasReportChanges()?window.Server.App.Localization.SessionContent+"<br> <br> <b>"+window.Server.App.Localization.Note+"</b> "+window.Server.App.Localization.SessionTimeOutDesignerNoteContent:window.Server.App.Localization.SessionContent,new n.Dialog({showOnInit:!1,allowDraggable:!1,enableResize:!1,width:500<window.innerWidth?"470px":window.innerWidth-10,height:"auto",showHeader:!1,isModal:!0,enableModal:!0,closeOnEscape:!0,header:o,close:"closeDialog",showCloseIcon:!0,content:i,buttons:[{click:function(e){location.reload()},buttonModel:{cssClass:"app-btn-secondary",content:window.Server.App.Localization.OKButton}}],close:s}).appendTo(e),sessionData=!0)}function s(){location.reload()}HideLogoAndProfileMenu(),$(".nav-tabs").on("click",function(){$(this).find("li").removeClass("active"),$(this).find("a.active").closest("li").addClass("active")}),$(".tab-pane").each(function(){$(this).hasClass("show")||$(".tab-pane").is("#bi-widgets")||($(this).removeClass("active"),setTimeout(function(){var e=$(".tab-pane.show").attr("id"),t=$(".tab-pane").parents().parent().find(".nav-tabs");void 0===e&&void 0!==(e=t.find(".active a").attr("aria-controls"))&&(e=e.contains("group-")||e.contains("user-")?e:e.replace(/-tab$/,""),$(`.tab-pane[id="${e}"]`).addClass("active show")),t.find("li").removeClass("active"),t.find(`a[href="#${e}"]`).addClass("active").closest("li").addClass("active")},200))}),(isSession="undefined"!=typeof canCheckSession?Boolean(canCheckSession):isSession)&&setTimeout(function(){!function t(){var e=$("#dashboardDesigner").data("BoldBIDashboardDesigner")||$("#datasourceDesigner").data("BoldBIDashboardDesigner");e=null!=e?e.model.lastDraftSavedTime:"";$.ajax({type:"GET",url:isSessionActiveUrl,data:isNullOrWhitespace(e)?"":{sessionDateTime:e},success:function(e){e.isactive?setTimeout(function(){t()},18e4):(closeAllDailog(),i())}})}()},18e4),String.prototype.format=function(){for(k in a=this,arguments)a=a.replace("{"+k+"}",arguments[k]);return a},$("#warning-toast-dialog").length&&(WarningToastDialogObj=new ejs.popups.Dialog({isModal:!0,closeOnEscape:!0,width:"550px",visible:!1,animationSettings:{effect:"Zoom"}})).appendTo("#warning-toast-dialog")}),$(document).on("click",".listing-dropdown .dropdown-toggle",function(e){$(".listing-dropdown .dropdown-menu").not($(this).next()).removeClass("show")}),$(document).on("click",function(e){var t=$(".listing-dropdown .dropdown-menu.show");$(e.target).closest(".listing-dropdown").length||t.length&&t.removeClass("show")}),$(document).on("change",".selectpicker",function(){var e=$(this).siblings(".bootstrap-select").children(".selectpicker");e.attr("data-original-title",e.attr("title")),e.removeAttr("title")}),$(document).on("click","#license-warning-designer",function(){var e=window.Server.App.Localization.LicenseWarningContent1+"<div class='license-warning-content'>"+window.Server.App.Localization.LicenseWarningContent2+"<a class='text-decoration-none' href='"+idpUrl+"/ums/administration/license-settings'>"+window.Server.App.Localization.LicenseWarningContent3+"</a>"+window.Server.App.Localization.LicenseWarningContent4,t=document.createElement("div"),i=(t.setAttribute("id","license-warning-designer-item-dialog"),document.createElement("div"));i.setAttribute("id","content-area"),document.body.appendChild(i);document.getElementById("content-area").appendChild(t);var n=new ejdashboard.popups.Dialog({header:window.Server.App.Localization.LicenseWarningHeader,showCloseIcon:!0,content:e,buttons:[{click:function(){n.hide()},buttonModel:{content:window.Server.App.Localization.CancelButton}}],width:"400px",isModal:!0});n.appendTo(t),$(".e-dlg-container.e-dlg-center-center").wrap('<div class="bi-dashboard"></div>')}),$(document).on("click","#license-warning",function(){var e=window.Server.App.Localization.LicenseWarningContent1+"<div class='license-warning-content'>"+window.Server.App.Localization.LicenseWarningContent2+"<a class='text-decoration-none' href='"+idpUrl+"/ums/administration/license-settings'>"+window.Server.App.Localization.LicenseWarningContent3+"</a>"+window.Server.App.Localization.LicenseWarningContent4,t=document.createElement("div");t.setAttribute("id","license-warning-item-dialog");document.getElementById("server-app-container").appendChild(t);var i=new ejs.popups.Dialog({header:window.Server.App.Localization.LicenseWarningHeader,showCloseIcon:!0,content:e,buttons:[{click:function(){i.hide()},buttonModel:{content:window.Server.App.Localization.CancelButton}}],width:"400px",isModal:!0});i.appendTo(t)}),$(document).on("click",".toast-close",function(e){var t=$(this).parent().attr("id");$("#"+t).fadeOut()}),$(document).on("click",".toast-know-more",function(e){var t=$(this).parent().parent().attr("data-error-message"),i=$(this).parent().parent().attr("data-header");void 0!==i&&null!=i&&$("#warning-toast-dialog #info-dialog-header").html(i),$("#warning-toast-content").html(t.trim().replace(/\n/g,"<br >\n")),WarningToastDialogObj.show(),$("#warning-toast-dialog").show()}),$(document).on("shown.bs.dropdown","td.e-rowcell",function(){var e=$(this).offset().top+$(this).outerHeight(!0)/2-$(".e-grid").offset().top-$(".e-columnheader").outerHeight();$(this).find(".dropdown-menu").outerHeight(!0)<e?$(this).find(".context-menu").removeClass("dropdown").addClass("dropup"):$(this).find(".context-menu").removeClass("dropup").addClass("dropdown")}),$("body").on("click","a",function(){"undefined"!=typeof isSelfHosted&&isSelfHosted&&enableApplicationEmbed&&void 0!==$(this).attr("href")&&!$(this).attr("href").includes("redirect.boldbi.com")&&$(this).attr("target","_self")});var timeOut,searchId,cursorPos,Paste,createHiddenEditable,isFocusable,initialLine,initialPosition,targetElement,itemId,dataManger,elementNode,getAllCommentAjax,deletedCommentId,dashboardItemId,userAgent=navigator.userAgent,regexIe8=new RegExp("Trident(/4.0)|(Trident/5.0)"),isSafari=-1!=navigator.userAgent.indexOf("Safari")&&-1==navigator.userAgent.indexOf("Chrome"),clearSearch=!1,isEtlstatusChecked=!1;function setToken(e){var t=document.cookie.split("; ").find(e=>e.startsWith("XSRF-TOKEN="));t&&(t=t.split("=")[1],e.setRequestHeader("X-XSRF-TOKEN",t))}function errorCallBack(e){var t;$(".e-waitpopup-pane:visible").hide(),$(".e-spinner-pane:visible").hide(),"abort"!=e.statusText&&($(".e-btn-icon.e-icon-dlg-close.e-icons").is(":visible")&&(t=$(".e-btn-icon.e-icon-dlg-close.e-icons:visible"),$.each(t,function(e,t){t=$(t).parents(".e-dialog").attr("id");null!=t&&document.getElementById(t).ej2_instances[0].hide()})),$(".popup-close").is(":visible")&&(t=$(".popup-close:visible"),$.each(t,function(e,t){t=$(t).parents(".e-dialog").attr("id");null!=t&&(eDialog=$("#"+t).data("ejDialog")).close()})),"Bad Request"==e.statusText?warningToast(window.Server.App.Localization.InvalidRequestMessage,null,null,window.Server.App.Localization.Error):"Forbidden"==e.statusText&&403==e.status?warningToast(window.Server.App.Localization.UserManagementWarningAlert+" "+window.Server.App.Localization.ReloadPage,null,null,window.Server.App.Localization.Error):(t=JSON.parse(e.responseText),warningToast(window.Server.App.Localization.ExceptionErrorMessage,t.error,null,window.Server.App.Localization.Error)))}function umsSettingsInherit(e,t,i){t?e?$(i).attr("disabled",!0):$(i).attr("disabled",!1):e?$(i).addClass("disabled"):$(i).removeClass("disabled")}function getDashboardDetailFromList(e,t){for(var i=0;i<e.length;i++){if(e[i].Id===t)return e[i];if(e[i].SubCategory&&0<e[i].SubCategory.length){var n=getDashboardDetailFromList(e[i].SubCategory,t);if(n)return n}}return null}function isEmptyOrWhitespace(e){return""==$.trim(e)}function createWaitingPopup(e){ejs.popups.createSpinner({target:document.getElementById(e)})}function convertToBoolean(e){switch(e="string"==typeof e?e.toLowerCase():e){case!0:case"true":case 1:case"1":case"on":case"yes":return!0;default:return!1}}function handleAjaxError(){}function refreshScroller(){var e,t="block"==$(".collapseIcon").css("display")?$(".collapseIcon").height():0;$(window).height()-($("#CatergoryHeading").outerHeight()+$("#base_menu_container_Div").outerHeight()+$("#listing").outerHeight()+t)<0?(t=$(window).height()-($("#CatergoryHeading").outerHeight()+$("#base_menu_container_Div").outerHeight()+t),e=$("#CatergoryHeading").outerWidth(),"undefined"!=typeof BoldBIDashboard?$("#ScrollElement").BoldBIDashboardScroller({height:window.innerWidth<1041&&t<200?200:t,width:e,buttonSize:0,scrollerSize:9}):$("#ScrollElement").ejScroller({height:window.innerWidth<1041&&t<200?200:t,width:e,buttonSize:0,scrollerSize:9})):"undefined"!=typeof BoldBIDashboard?null!=$("#ScrollElement").data("BoldBIDashboardScroller")&&$("#ScrollElement").data("BoldBIDashboardScroller").destroy():null!=$("#ScrollElement").data("ejScroller")&&$("#ScrollElement").data("ejScroller").destroy()}function refreshScrollerForCategory(){for(var e,t,i=0,n=0;n<$("#scroll-content #listing>li").length;n++)i+=$($("#scroll-content #listing>li")[n]).outerHeight();$(window).height()-($(".item-navigation").outerHeight()+$("#header-area").outerHeight()+$("#category-listing").outerHeight()+i+$("#create-new-category").outerHeight())<0?(e=$(window).height()-($(".item-navigation").outerHeight()+$("#header-area").outerHeight()+$("#category-listing").outerHeight()+$("#create-new-category").outerHeight()),$(".item-navigation").outerWidth(),$(".all-items").hasClass("active")&&$("#category-list").is(":visible")&&(t="",null!=(t="undefined"!=typeof BoldBIDashboard?($("#scroll-content").BoldBIDashboardScroller({height:e,buttonSize:0,scrollerSize:9,autoHide:!0}),$("#scroll-content").data("BoldBIDashboardScroller")):($("#scroll-content").ejScroller({height:e,buttonSize:0,scrollerSize:9,autoHide:!0}),$("#scroll-content").data("ejScroller"))))&&t.refresh()):"undefined"!=typeof BoldBIDashboard?null!=$("#scroll-content").data("BoldBIDashboardScroller")&&$("#scroll-content").data("BoldBIDashboardScroller").destroy():null!=$("#scroll-content").data("ejScroller")&&$("#scroll-content").data("ejScroller").destroy()}function addPlacehoder(e){regexIe8.test(userAgent)&&$(e).find("input[type=text],input[type=password],textarea").each(function(){""===$(this).val()?$($("<div>",{class:"placeholder",text:$(this).attr("placeholder")})).insertAfter(this).show():$($("<div>",{class:"placeholder",text:$(this).attr("placeholder")})).insertAfter(this).hide()})}function doAjaxPost(e,t,i,n,o,s,r,a,l,d){r&&(r.is(":input:button")||r.is("button")?r.prop({disabled:!0}):showWaitingPopup(r)),null==a&&(a=!0),null==l&&(l="application/x-www-form-urlencoded; charset=UTF-8"),$.ajax({type:e,url:t,context:this,processData:a,contentType:l,data:i,success:!0===d?$.proxy(getFnObj(n),window,i):$.proxy(getFnObj(n),window),error:$.proxy(function(e,t,i){errorCallBack(e),e.statusText,o&&getFnObj(o).call(window,e,t,i)},this),complete:$.proxy(function(e){try{var t=JSON.parse(e.responseText);null!=t.data&&null!=t.data&&null!=t.data.Message&&null!=t.data.Message&&"unauthorized"==t.data.Message.toLowerCase()&&window.location.replace(window.location.href)}catch(e){}r&&(r.is(":input:button")||r.is("button")?r.prop({disabled:!1}):hideWaitingPopup(r)),s&&getFnObj(s).call(window,e)},this)})}function ShowWaitingProgress(e,t){var i;"undefined"!=typeof BoldBIDashboard?"show"==t?(i=createLoader(e),$(e).BoldBIDashboardWaitingPopup({template:$("#"+i)}),$(e).BoldBIDashboardWaitingPopup("show")):$(e).BoldBIDashboardWaitingPopup("hide"):"show"==t?(i=createLoader(e),$(e).ejWaitingPopup({template:$("#"+i)}),$(e).ejWaitingPopup("show")):$(e).ejWaitingPopup("hide")}function getFnObj(e){return"function"==typeof e||"string"==typeof e&&window[e]?e:void 0}function showWaitingPopup(e){"string"==typeof e?(t=0===e.indexOf(".")?".":"#",0===e.indexOf(".")||0===e.indexOf("#")?t=e:(t+=e,e=$(0===e.indexOf(".")?e:"#"+e))):(t=e.first().attr("id")?"#"+(e=e.first().attr("id")):e="."+(e=e.first().attr("class")),e=$(0===e.indexOf(".")?e:"#"+e));var t=createLoader(e,t);"undefined"!=typeof BoldBIDashboard?(e.BoldBIDashboardWaitingPopup({template:$("#"+t)}),e.BoldBIDashboardWaitingPopup("show")):(e.ejWaitingPopup({template:$("#"+t)}),e.ejWaitingPopup("show"))}function hideWaitingPopup(e){"string"==typeof e&&(e=$(0===e.indexOf(".")?e:"#"+e)),"undefined"!=typeof BoldBIDashboard?e.BoldBIDashboardWaitingPopup("hide"):e.ejWaitingPopup("hide")}function redirect(e,t){t?setTimeout(function(){window.location.assign(e)},t):window.location.assign(e)}function CheckMonthFormat(e,t){return e.includes(t)}function DateCustomFormat(e,t,i){var n,o,s,r,a,l,d,c,h,u,p,t=new Date(t),m=((p=t.getFullYear())+"").slice(-2),f=(o=t.getMonth()+1)<10?"0"+o:o,g=(n=["January","February","March","April","May","June","July","August","September","October","November","December"][o-1]).substring(0,3),v=(s=t.getDate())<10?"0"+s:s,b=(u=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"][t.getDay()]).substring(0,3),y=10<=s&&s<=20?"th":1==(y=s%10)?"st":2==y?"nd":3==y?"rd":"th";switch(!0){case CheckMonthFormat(e=e.replace("yyyy",p).replace("yy",m).replace("dddd",u).replace("ddd",b).replace("dd",v).replace("d",s).replace("th",y),"MMMM"):e=e.replace("MMMM",n);break;case CheckMonthFormat(e,"MMM"):e=e.replace("MMM",g);break;case CheckMonthFormat(e,"MM"):e=e.replace("MM",f);break;case CheckMonthFormat(e,"M "):e=e.replace("M ",o+" ");break;case CheckMonthFormat(e,"M,"):e=e.replace("M,",o+",");break;case CheckMonthFormat(e,"M"):e=e.replace("M",o)}return"True"==i?(p=(a=r=t.getHours())<10?"0"+a:a,l=(d=t.getMinutes())<10?"0"+d:d,c=(h=t.getSeconds())<10?"0"+h:h,e.replace("HH",p).replace("mm",l).replace("ss",c)):(12<(a=0==(a=r=t.getHours())?24:a)&&(a-=12),m=a<10?"0"+a:a,b=(u=r<12?"am":"pm").toUpperCase(),l=(d=t.getMinutes())<10?"0"+d:d,c=(h=t.getSeconds())<10?"0"+h:h,e.replace("hhh",r).replace("hh",m).replace("h",a).replace("mm",l).replace(":m",":"+d).replace("ss",c).replace("s",h).replace("ampm",u).replace("AMPM",b))}function isNumberKey(e){e=e.which||e.keyCode;return!(46!=e&&31<e&&(e<48||57<e))}function validateUserName(e){return/\s/g.test(e)?{isValid:!1,message:window.Server.App.Localization.HasWhiteSpace}:/[^a-zA-Z0-9]/.test(e)?{isValid:!1,message:window.Server.App.Localization.UserNameSpecialCharacterValicator}:{isValid:!0,message:"valid"}}function isValidUrl(e){return/^(https?|ftp):\/\/[^\/\s]+(:\d+)?(\/[^\s\/]+)*\/?$/.test(e)}function isValidOrigin(e){return new RegExp(/^https?:\/\/(?:w{1,3}\.)?(?:[^\s.]+(?:\.[a-z]+)*)?(?::\d+)?(?:\/[^\/\s]*)*\/?(?![^<]*(?:<\/\w+>|\/?>))/).test(e)}function getMaxZIndex(){var t=0;return $("div").each(function(){var e=parseInt($(this).css("zIndex"),10);t<e&&(t=e)}),t}function IsEmail(e){return!!/^([\wÃ-ÃÃ-Ã¶Ã¸-Ã¿ÅÅÅ¸â¬Ã.+-]+'?[\wÃ-ÃÃ-Ã¶Ã¸-Ã¿ÅÅÅ¸Ã¿â¬Ã.+-]+)@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.)|(([\wÃ-ÃÃ-Ã¶Ã¸-Ã¿ÅÅÅ¸Ã¿â¬Ã-]+\.)+))([a-zA-Z]{2,63}|[0-9]{1,3})(\]?)$/u.test(e)}function IsValidContactNumber(e){return!!/^(?:|[0-9\-\+]{9,15})$/.test(e)}function ValidateIsolationCode(e){if(!("undefined"!=typeof BoldBIDashboard?BoldBIDashboard:ej).isNullOrUndefined(e)&&""!==e)for(var t=decodeURI(e).replace(/~&~/g,String.fromCharCode(251)+String.fromCharCode(251)).replace(/~=~/g,String.fromCharCode(250)+String.fromCharCode(250)).replace(/~[?]~/g,String.fromCharCode(253)+String.fromCharCode(253)).replace(/~[/]~/g,String.fromCharCode(254)+String.fromCharCode(254)).replace(/&&/g,"&").replace(/&/g,"|,|").replace(/=/g,"|:|").replace(/~,~/g,String.fromCharCode(252)+String.fromCharCode(252)).split("|,|"),i=0;i<t.length;i++)return 2===t[i].split("|:|").length;return!1}function onCloseMessageBox(){void 0!==$("#messageBox").data("BoldBIDashboardDialog")?$("#messageBox").BoldBIDashboardDialog("close"):$("#messageBox").ejDialog("close")}function onMessageDialogClose(){$("#messageBox").find(".message-content").text(""),$(".message-box-btn-holder").html(""),$(".message-box-close").html("")}function messageBox(e,t,i,n,o,s,r,a,l,d){$("#messageBox").find(".message-content").text(""),$(".message-box-btn-holder").html(""),$(".message-box-close").html(""),$("#messageBox").find(".message-header").html("<span class='su "+e+"'></span> <span class='modal-title' data-bs-toggle='tooltip' data-placement='bottom' data-container='body' title='"+t+"'  >"+t+"</h2>"),$("#messageBox").find(".message-content").html(i),$("#messageBox").find(".message-content").removeClass("text-left"),"error"==n?(null!=o&&(c=$("<input type='button' class='app-button app-critical-action-button app-btn-danger float-end' value='"+window.Server.App.Localization.YesButton+"'></input>")).bind("click",$.proxy(getFnObj(o),window)),e=$("<input type='button' class='app-button app-secondary-button app-btn-secondary float-end' tabindex='-1' value='"+window.Server.App.Localization.NoButton+"'></input>"),h=$('<span class="su su-close"></span>'),null!=s?(e.bind("click",$.proxy(getFnObj(s),window)),h.bind("click",$.proxy(getFnObj(s),window))):(e.click(function(){onCloseMessageBox()}),h.click(function(){onCloseMessageBox()})),$(".message-box-close").html(h),$(".message-box-btn-holder").append(e,c),$("#messageBox").unbind("keydown")):(c=$("<input type='button' class='app-button app-secondary-button app-btn-secondary' tabindex='-1' value='"+window.Server.App.Localization.OKButton+"'></input>"),h=$('<span class="su su-close"></span>'),null!=o?(c.bind("click",$.proxy(getFnObj(o),window)),h.bind("click",$.proxy(getFnObj(o),window))):(c.click(function(){onCloseMessageBox()}),h.click(function(){onCloseMessageBox()})),$(".message-box-close").html(h),$(".message-box-btn-holder").append(c),$("#messageBox").on("keydown",function(e){switch(e.keyCode){case 13:case 27:c.click()}})),$('[data-bs-toggle="tooltip"]').tooltip();var c,h,u="",u=void 0!==$("#messageBox").data("BoldBIDashboardDialog")?($("#messageBox").BoldBIDashboardDialog("open"),$("#messageBox").focus(),window.document,$("#messageBox").data("BoldBIDashboardDialog")):($("#messageBox").ejDialog("open"),$("#messageBox").focus(),window.document,$("#messageBox").data("ejDialog"));setTimeout(function(){null!=r&&u.option("width",r),1040<window.innerWidth&&null==a&&(a=$("#messageBox").find(".modal-content").height()+135+"px"),u.option("height",a),null!=l&&u.option("maxHeight",l)},50),null!=d&&u.option("cssClass",d),setTimeout(function(){var e=$(".message-header").innerHeight()+$(".message-content.text-center").innerHeight()+$(".message-box-btn-holder").innerHeight()+5;$("#messageBox").height(e+"px"),$("#messageBox_wrapper .e-dialog-scroller.e-scroller.e-js.e-widget").height($("#messageBox").outerHeight(!0)+"px")},100)}function deleteUserAvatar(){ShowWaitingProgress("#user-profile-master","show"),doAjaxPost("POST",deleteavatarUrl,{email:$("#user-email").val()},function(e){ShowWaitingProgress("#user-profile-master","hide"),e.status?messageBox("su-delete",window.Server.App.Localization.DeleteAvatar,window.Server.App.Localization.DeleteAvatarSuccess,"success",function(){var e=$("#logged-user").html().toLowerCase();$("#user-profile-picture").attr("src",getdefaultavatarUrl),$("#user-profile-picture").siblings("#avatar-delete-click").remove(),$("#user-name").val()==e&&$(".profile-picture,#profile-picture-menu").find("img").attr("src",getdefaultavatarUrl),onCloseMessageBox()}):messageBox("su-delete",window.Server.App.Localization.DeleteAvatarTitle,window.Server.App.Localization.DeleteAvatarError,"success",function(){onCloseMessageBox()})})}function IsValidName(e,t){e="username"===e.toLowerCase()?new RegExp(/[*\[\\\]\|\/\:\<\>\%\+\#\&\?\'\"\@\;\,]/):"publishcategoryname"===e.toLowerCase()?new RegExp(/[*\[\\\]\|:\<\>\%\+\#\&\?\'\"\;\,]/):"undefined"!=typeof charactersNotAllowedInFileName&&null!=charactersNotAllowedInFileName?new RegExp("["+charactersNotAllowedInFileName.map(e=>"\\"+e).join("")+"]"):new RegExp(/[*\[\\\]\|\/\:\<\>\%\+\#\&\?\'\"\;\,]/);return!e.test(t)}function IsValideCopyRightInfo(e){return!new RegExp("<[^>]+>").test(e)}function IsValidNumber(e){return/^\d+$/.test(e)}function UsernameValidation(e){return!!/^(?:(?!\.{2}|_{2}|-{2})[\p{L}\p{N}0-9_Ã-ÃÃ-Ã¶Ã¸-Ã¿ÅÅÅ¸Ã¿â¬Ã'.`+\-]+@[\p{L}\p{N}\-]+(\.[\p{L}\-]+)*|[\p{L}\p{N}0-9_Ã-ÃÃ-Ã¶Ã¸-Ã¿ÅÅÅ¸Ã¿â¬Ã'.`+\-]+)$/u.test(e)}function IsValidUsername(e){return UsernameValidation(e)||IsEmail(e)}function IsValidUsernameLength(e){return!!/^.{2,255}$/.test(e)}function GridLocalization(e=null){var e={EmptyRecord:null!=e?e:window.Server.App.Localization.NoRecords,StringMenuOptions:[{text:window.Server.App.Localization.SearchKeyStart,value:"StartsWith"},{text:window.Server.App.Localization.SearchKeyEnd,value:"EndsWith"},{text:window.Server.App.Localization.SearchKeyContanins,value:"Contains"},{text:window.Server.App.Localization.SearchKeyEqual,value:"Equal"},{text:window.Server.App.Localization.SearchKeyNotEqual,value:"NotEqual"}],FilterMenuCaption:window.Server.App.Localization.FilterValue,Filter:window.Server.App.Localization.Filter,Clear:window.Server.App.Localization.ClearSearch},t={pagerInfo:window.Server.App.Localization.PageCount,firstPageTooltip:window.Server.App.Localization.FirstPage,lastPageTooltip:window.Server.App.Localization.LastPage,nextPageTooltip:window.Server.App.Localization.NextPage,previousPageTooltip:window.Server.App.Localization.PreviousPage};"undefined"!=typeof BoldBIDashboard?(BoldBIDashboard.Grid.Locale["en-US"]=e,BoldBIDashboard.Pager.Locale["en-US"]=t):(ej.Grid.Locale["en-US"]=e,ej.Pager.Locale["en-US"]=t)}function ExcelFilterLocalization(){var e={SortTextAscending:window.Server.App.Localization.SortTextAscending,SortTextDescending:window.Server.App.Localization.SortTextDescending,ClearFilter:window.Server.App.Localization.ClearFilterGrid,TextFilter:window.Server.App.Localization.TextFilter,title:window.Server.App.Localization.CustomFilter,PredicateOr:window.Server.App.Localization.Or,PredicateAnd:window.Server.App.Localization.And,MatchCase:window.Server.App.Localization.MatchCase,Showrowswhere:window.Server.App.Localization.ShowRowsWhere,StringMenuOptions:[{text:window.Server.App.Localization.SearchKeyStart,value:"StartsWith"},{text:window.Server.App.Localization.SearchKeyEnd,value:"EndsWith"},{text:window.Server.App.Localization.SearchKeyContanins,value:"Contains"},{text:window.Server.App.Localization.SearchKeyEqual,value:"Equal"},{text:window.Server.App.Localization.SearchKeyNotEqual,value:"NotEqual"}],ResponsiveSorting:window.Server.App.Localization.Sort,OK:window.Server.App.Localization.OKButton,EmptyRecord:window.Server.App.Localization.NoRecords,Clear:window.Server.App.Localization.ClearSearch,Cancel:window.Server.App.Localization.CancelButton,NoResult:window.Server.App.Localization.NoMatchesFound,Search:window.Server.App.Localization.Search,Columns:window.Server.App.Localization.Columns,SelectAll:window.Server.App.Localization.SelectAll};"undefined"!=typeof BoldBIDashboard?BoldBIDashboard.ExcelFilter.Locale["en-US"]=e:ej.ExcelFilter.Locale["en-US"]=e}function AddIndeterminateStateForCheckBox(e){0<e.length?($(".e-headercelldiv .checkbox-header-label").addClass("indeterminate"),$(".e-rowcell .context-menu").hide()):($(".e-headercelldiv .checkbox-header-label").removeClass("indeterminate"),$(".e-rowcell .context-menu").show())}function PerformSearch(e){if("#search-schedules"==e){var t,i="undefined"!=typeof BoldBIDashboard?$("#scheduleGrid").data("BoldBIDashboardGrid"):$("#scheduleGrid").data("ejGrid");if(-1<(t=$("#search-schedules").val()).indexOf(":")){var n=t.split(":")[0].toLowerCase(),o=t.split(":")[1].trim();switch(1<t.match(/:/g).length&&(firstKey=t.split(":")[1],secondKey=t.split(":")[2],o=(firstKey+":"+secondKey).trim()),n.replace(/ /g,"").toLowerCase()){case"name":n="Name";break;case"dashboard":n="ItemName";break;case"owner":n="CreatedByDisplayName";break;case"lastrun":n="LastRunString";break;case"nextscheduledrun":n="NextScheduleString";break;case"status":n="Status"}i.model.searchSettings.fields=n,i.model.searchSettings.key=o,i.refreshContent()}else i.search($("#search-schedules").val())}else"#search-slideshows"==e?((i="undefined"!=typeof BoldBIDashboard?$("#slideshowGrid").data("BoldBIDashboardGrid"):$("#slideshowGrid").data("ejGrid")).model.pageSettings.currentPage=1,i.refreshContent()):"#search-webhooks"==e?((i="undefined"!=typeof BoldBIDashboard?$("#webhooksGrid").data("BoldBIDashboardGrid"):$("#webhooksGrid").data("ejGrid")).model.pageSettings.currentPage=1,i.refreshContent()):"#search-webhooks-grid"==e?((i="undefined"!=typeof BoldBIDashboard?$("#webhooksGridSettings").data("BoldBIDashboardGrid"):$("#webhooksGridSettings").data("ejGrid")).model.pageSettings.currentPage=1,i.refreshContent()):"#search-users"==e?((i="undefined"!=typeof BoldBIDashboard?$("#user_grid").data("BoldBIDashboardGrid"):$("#user_grid").data("ejGrid")).model.pageSettings.currentPage=1,i.refreshContent()):"#search-template"==e?((i="undefined"!=typeof BoldBIDashboard&&null!=$("#specificEmailTemplateListGrid").data("BoldBIDashboardGrid")?$("#specificEmailTemplateListGrid").data("BoldBIDashboardGrid"):$("#specificEmailTemplateListGrid").data("ejGrid")).model.pageSettings.currentPage=1,i.refreshContent()):"#search-published-items"==e?((i="undefined"!=typeof BoldBIDashboard?$("#PublishItemGrid").data("BoldBIDashboardGrid"):$("#PublishItemGrid").data("ejGrid")).model.pageSettings.currentPage=1,i.search($("#search-published-items").val()),i.refreshContent()):"#search-ad-users"==e?($("#checkbox-header").prop("checked",!1),$(".checkbox-row").prop("checked",!1),(i="undefined"!=typeof BoldBIDashboard?$("#user_grid").data("BoldBIDashboardGrid"):$("#user_grid").data("ejGrid")).search($("#search-ad-users").val())):"#search-items"==e?((i="undefined"!=typeof BoldBIDashboard?$("#items").data("BoldBIDashboardGrid"):$("#items").data("ejGrid")).model.pageSettings.currentPage=1,i.refreshContent()):"#search-home-page"==e?((i="undefined"!=typeof BoldBIDashboard?$("#items").data("BoldBIDashboardGrid"):$("#items").data("ejGrid")).model.filterSettings.filteredColumns=[],(!$("#category-list").is(":visible")||$("#category-list").length<=0)&&($(".all-items").hasClass("active")&&(i.model.filterSettings.filteredColumns=[{field:"CategoryName",operator:"equal",value:$("#category-section-name").html()}]),i.model.pageSettings.currentPage=1,i.refreshContent())):"#search-group-users"==e||"#search-groups"==e?((i="undefined"!=typeof BoldBIDashboard?$("#Grid").data("BoldBIDashboardGrid"):$("#Grid").data("ejGrid")).model.pageSettings.currentPage=1,i.refreshContent()):"#search-ad-groups"==e?(i="undefined"!=typeof BoldBIDashboard?$("#Grid").data("BoldBIDashboardGrid"):$("#Grid").data("ejGrid")).search($("#search-ad-groups").val()):"#ad-user-import"==e?($(".grid-error-validation").css("display","none"),$(".empty-validation").css("display","none"),$(".grid-validation").css("display","none"),searchADUsers($("#ad-user-import").val())):"#ad-group-import"==e?($(".grid_error_validation").css("display","none"),$(".empty_validation").css("display","none"),$(".grid_validation").css("display","none"),searchADGroups($("#ad-group-import").val())):"#search-user-permission"==e?(i="undefined"!=typeof BoldBIDashboard?$("#itempermissiongrid").data("BoldBIDashboardGrid"):$("#itempermissiongrid").data("ejGrid")).search($("#search-user-permission").val()):"#search-group-permission"==e?(i="undefined"!=typeof BoldBIDashboard?$("#itemgrouppermissiongrid").data("BoldBIDashboardGrid"):$("#itemgrouppermissiongrid").data("ejGrid")).search($("#search-group-permission").val()):"#userSearchKey"==e?(i="undefined"!=typeof BoldBIDashboard?$("#UserGrid").data("BoldBIDashboardGrid"):$("#UserGrid").data("ejGrid")).refreshContent():"#groupSearchKey"==e?(i="undefined"!=typeof BoldBIDashboard?$("#GroupGrid").data("BoldBIDashboardGrid"):$("#GroupGrid").data("ejGrid")).refreshContent():"#search-linked-accounts"==e?(i="undefined"!=typeof BoldBIDashboard?$("#ConnectedAccountGrid").data("BoldBIDashboardGrid"):$("#ConnectedAccountGrid").data("ejGrid")).search($("#search-linked-accounts").val()):"#search-linked-dashboards"==e?(i="undefined"!=typeof BoldBIDashboard?$("#view_linked_dashboards").data("BoldBIDashboardGrid"):$("#view_linked_dashboards").data("ejGrid"),-1<(t=$("#search-linked-dashboards").val()).indexOf(":")?(n=t.split(":")[0].toLowerCase(),o=t.split(":")[1].trim(),1<t.match(/:/g).length&&(firstKey=t.split(":")[1],secondKey=t.split(":")[2],o=(firstKey+":"+secondKey).trim()),"name"===n.replace(/ /g,"").toLowerCase()&&(n="Name"),i.model.searchSettings.fields=n,i.model.searchSettings.key=o,i.refreshContent()):i.search($("#search-linked-dashboards").val())):"#search-downloaded-items"==e?((i="undefined"!=typeof BoldBIDashboard?$("#DownloadItemGrid").data("BoldBIDashboardGrid"):$("#DownloadItemGrid").data("ejGrid")).model.pageSettings.currentPage=1,i.search($("#search-downloaded-items").val())):"#search-imported-users-grid"==e?((i="undefined"!=typeof BoldBIDashboard?$("#ImportedUsersGrid").data("BoldBIDashboardGrid"):$("#ImportedUsersGrid").data("ejGrid")).model.pageSettings.currentPage=1,i.search($("#search-imported-users-grid").val())):"#search-failed-users-grid"==e&&((i="undefined"!=typeof BoldBIDashboard?$("#FailedUsersGrid").data("BoldBIDashboardGrid"):$("#FailedUsersGrid").data("ejGrid")).model.pageSettings.currentPage=1,i.search($("#search-failed-users-grid").val()))}function isAllowedOrigin(e){if(void 0===t||!Array.isArray(t)||0===t.length)return!0;if(!e)return!1;const t=knowDomainsList;if(0===t.length)return!0;const i=new URL(e).hostname;return t.some(e=>{return e===i||!!e.startsWith("*.")&&(e=e.substring(2),i.endsWith("."+e))})}function getQueryVariable(e){for(var t=window.location.search.substring(1).split("&"),i=0;i<t.length;i++){var n=t[i].split("=");if(n[0]==e)return n[1]}return null}function getUrlQueryVariable(e,t){for(var i=e.substring(e.indexOf("?")+1).split("&"),n=0;n<i.length;n++){var o=i[n].split("=");if(o[0]==t)return o[1]}return null}function getCurrentPageNumber(e,t,i,n){i-=t;return e<i?(t=i%e==0?i/e:Math.floor(i/e+1))<n?t:n:1}function isValidGuid(e){return/^(\{){0,1}[0-9a-fA-F]{8}\-[0-9a-fA-F]{4}\-[0-9a-fA-F]{4}\-[0-9a-fA-F]{4}\-[0-9a-fA-F]{12}(\}){0,1}$/gi.test(e)}function showOrHideGridPager(e){var t="";(t="undefined"!=typeof BoldBIDashboard?$(e).BoldBIDashboardGrid("option","pageSettings"):$(e).ejGrid("option","pageSettings")).totalRecordsCount<=t.pageSize?$(e+" .e-pager").css("display","none"):$(e+" .e-pager").css("display","block")}function blurServerAppContainer(e){null!=e&&""!=e||(e="5px"),$("#header-area, #menu-area, #content-area, footer, .cookie-notification").css("filter","blur("+e+")"),$("#server-app-container").css("overflow","hidden"),0<$("#unlock-enterprise-features-container").length&&$("#unlock-enterprise-features-container").addClass("blur-content")}function unblurServerAppContainer(){$("#header-area, #menu-area, #content-area, footer, .cookie-notification").css("filter",""),$("#server-app-container").css("overflow",""),0<$("#unlock-enterprise-features-container").length&&$("#unlock-enterprise-features-container").removeClass("blur-content")}function generateUUID(){var i=(new Date).getTime();return"undefined"!=typeof performance&&"function"==typeof performance.now&&(i+=performance.now()),"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){var t=(i+16*Math.random())%16|0;return i=Math.floor(i/16),("x"===e?t:3&t|8).toString(16)})}function PreloadResources(n,o){setTimeout(function(){for(var e=-1!=navigator.userAgent.indexOf("Safari")&&-1==navigator.userAgent.indexOf("Chrome")||-1!=navigator.userAgent.indexOf("Edge"),t=0;t<n.length;t++){var i=document.createElement("link");i.href=n[t],i.rel=e?"preload":"prefetch",i.as=o,document.head.appendChild(i)}})}function refreshToolTip(e){null==e&&(e="tooltip"),$('[data-bs-toggle="'+e+'"]').tooltip({animation:!0,delay:{show:500},html:!0})}function SetHttpOnlyCookie(e,t,i,n){$.ajax({type:"POST",url:setCookieHttpOnlyUrl,data:{cookieName:e,cookieValue:t,expires:i,isCookiePathRequired:n}})}$(document).ready(function(e){$("body, .login-main, #server-app-container").removeAttr("style"),$("#layout-body-loader-icon").css("display","none"),$(document).on("click",".close-warning-icons",function(e){$("#content-area").removeClass("suspension-warning-space"),$(".suspension-warning").css("display","none"),$("#homepage-header").removeClass("header-warning")}),$(document).on("click",".close-user-warning-icons",function(e){$("#content-area").removeClass("user-warning-space"),$(".user-warning").css("display","none"),$("#homepage-header").removeClass("header-warning")}),$("form").attr("autocomplete","off"),$("input[type=text], input[type=password]").attr("autocomplete","off"),$.fn.tooltip=function(e){return this.each(function(){new bootstrap.Tooltip(this,e)})},$('[data-bs-toggle="tooltip"]').tooltip(),$('.help-option [second-toggle="tooltip"]').each(function(){var e=bootstrap.Tooltip.getInstance(this);e&&e.dispose()}),$('.help-option [second-toggle="tooltip"]').tooltip({animation:!0,delay:{show:500,hide:100}}),$('#app-navigation [data-bs-toggle="tooltip"]').each(function(){var e=bootstrap.Tooltip.getInstance(this);e&&e.dispose()}),$('#app-navigation [data-bs-toggle="tooltip"]').tooltip({animation:!0,delay:{show:500,hide:100}}),$('.img-view-holder [data-bs-toggle="tooltip"]').each(function(){var e=bootstrap.Tooltip.getInstance(this);e&&e.dispose()}),$('.img-view-holder [data-bs-toggle="tooltip"]').tooltip({container:"body"}),document.querySelectorAll('[data-bs-toggle="profile-tag-tooltip"]').forEach(e=>{new bootstrap.Tooltip(e,{animation:!0,html:!0,placement:"top"})}),$(".dropdown-menu #notify_header").click(function(e){e.stopPropagation()}),$(document).on("click","#notification-content-area.dropdown-menu",function(e){e.stopPropagation()}),$("#notification-icon").click(function(){var e,t;$("#notification-link").hasClass("open")||((e=angular.element($("#notification-content")).scope()).$apply(function(){e.notifications=[],e.isFinal=!0,e.skip=0}),t=createLoader("notification-content-area"),"undefined"!=typeof BoldBIDashboard?($("#notification-content-area").BoldBIDashboardWaitingPopup({template:$("#"+t)}),$("#notification-content-area").addClass("show"),$("#notification-content-area").BoldBIDashboardWaitingPopup("show")):($("#notification-content-area").ejWaitingPopup({template:$("#"+t)}),$("#notification-content-area").addClass("show"),$("#notification-content-area").ejWaitingPopup("show")),$("#notification-content-area").removeClass("show"),$.ajax({type:"GET",url:getUserNotificationsPartialViewResultUrl,success:function(e){var t,n;null!==e&&(angular.element($("#notification-content")).scope(),t=e.Data,n=angular.element($("#notification-content")).scope(),"undefined"!=typeof BoldBIDashboard?parent.$("#notification-content-area").BoldBIDashboardWaitingPopup("show"):parent.$("#notification-content-area").ejWaitingPopup("show"),n.$apply(function(){for(var i=n.skip,e=0;e<t.LogList.length;e++)n.notifications.push(t.LogList[e]);0<t.LogList.length?parent.$("#view-all-notification").removeClass("not-active"):parent.$("#view-all-notification").addClass("not-active"),n.totalNotifications=t.LogCount,n.skip=n.skip+t.LogList.length,n.isFinal=n.skip==n.totalNotifications,"undefined"!=typeof BoldBIDashboard?parent.$("#notification-content-area").BoldBIDashboardWaitingPopup("hide"):parent.$("#notification-content-area").ejWaitingPopup("hide"),setTimeout(function(){for(var e=document.getElementsByTagName("img"),t=i;t<e.length;t++)e[t].getAttribute("data-actual-image")&&e[t].setAttribute("src",e[t].getAttribute("data-actual-image"))},700)}))}}),$("#notification-indicator").remove())}),$("#bold-etl").click(function(e){canCheckEtlHealthStatus&&!$(this).find("li").hasClass("sf-nav-administration-item")&&(isEtlstatusChecked?(document.getElementById("bold-etl-href").click(),isEtlstatusChecked=!1):(e.preventDefault(),$.ajax({type:"Post",url:etlHealthyStatusUrl,success:function(e){e.isEtlServiceHealthy?(isEtlstatusChecked=!0,$("#bold-etl").click()):warningToast(isHideHelpLink?window.Server.App.Localization.ETLLogoDisabled:window.Server.App.Localization.ETLLogoDisabled+" "+window.Server.App.Localization.ETLHelpLink.format("<a target='_blank' href='"+etlHelpLink+"'>","</a>"))}})))}),$(function(){$(document).click(function(e){$("#menu-area").hasClass("in")&&$("#menu-area").collapse("hide")})}),$(document).on("touchend",function(e){$("#menu-area").hasClass("in")&&$("#menu-area").collapse("hide")});var t,i=$('<div id="nav-backdrop" class="modal-backdrop" style="z-index: 50; top: 0; left: 0; right: 0; bottom: 0; width: 100%; height: 100%; color: #fff; opacity: 0; position: absolute"></div>');function n(){$(this).show(),"footerlogo"===$(this).attr("id")&&$(this).parent().parent().find("div.lazyload").remove(),$(this).parent().find("div.lazyload").remove()}$("#upload-item-section, #notification-link, #account-profile").on("hidden.bs.dropdown",function(){parent.$("#nav-backdrop").hide()}),$("#notification-link, #account-profile, #upload-item-section").click(function(e){0===$(".dropdown-backdrop").length&&$("body").append(i),$("#notification-link").hasClass("open")&&$("#account-profile").hasClass("open"),i.show()}),$(document).on("click","#account-profile .profile-info",function(e){e.stopPropagation()}),i.click(function(){i.hide()}),$(document).on("click",".dropdown-backdrop",function(){parent.$("#nav-backdrop").hide()}),"ad-user-import"==(searchId=$("#search-area").children("input").attr("id"))||"AD-group-import"==searchId||"search-ad-users"==searchId||"search-ad-groups"==searchId?($.xhrPool=[],$.xhrPool.abortAll=function(){$(this).each(function(e,t){t.abort()}),$.xhrPool.length=0},$.ajaxSetup({beforeSend:function(e){setToken(e),$.xhrPool.push(e)},complete:function(e){e=$.xhrPool.indexOf(e);-1<e&&$.xhrPool.splice(e,1)},error:function(e){errorCallBack(e)}})):($.xhrPool=[],$.xhrPool.abortAll=function(){$(this).each(function(e,t){t.abort()}),$.xhrPool.length=0},"undefined"!=typeof ej&&void 0!==ej.UrlAdaptor?(ej.UrlAdaptor.prototype.beforeSend=function(e,t){setToken(t),$.xhrPool.push(t)},$.ajaxSetup({beforeSend:function(e){setToken(e)},complete:function(e){e=$.xhrPool.indexOf(e);-1<e&&$.xhrPool.splice(e,1)},error:function(e){errorCallBack(e)}})):"undefined"!=typeof BoldBIDashboard&&void 0!==BoldBIDashboard.UrlAdaptor?(BoldBIDashboard.UrlAdaptor.prototype.beforeSend=function(e,t){$.xhrPool.push(t)},$.ajaxSetup({beforeSend:function(e){setToken(e)},complete:function(e){e=$.xhrPool.indexOf(e);-1<e&&$.xhrPool.splice(e,1)},error:function(e){errorCallBack(e)}})):$.ajaxSetup({beforeSend:function(e){setToken(e)},error:function(e){errorCallBack(e)}})),$(".lazyload").each(function(){var e,t;"footerlogo"===$(this).attr("data-id")?((img=document.createElement("img")).onload=n,img.src=$(this).attr("data-src"),img.alt=$(this).attr("data-alt"),img.id=$(this).attr("data-id"),$(img).attr("onerror",$(this).attr("data-default")),img.style="display: none",$(this).parent().find("p#poweredbysyncfusionfooter").append(img)):"profilelogo"===$(this).attr("data-id")||"user-profile-picture"===$(this).attr("data-id")?((img=document.createElement("img")).onload=n,img.src=$(this).attr("data-src-value"),img.alt=$(this).attr("data-alt"),img.id=$(this).attr("data-id"),$(img).attr("onerror",$(this).attr("data-default")),img.style="display: none",$(this).parent().append(img)):((img=document.createElement("img")).onload=n,img.src=$(this).attr("data-src"),img.alt=$(this).attr("data-alt"),img.id=$(this).attr("data-id"),$(img).attr("onerror",$(this).attr("data-default")),img.style="display: none",$(this).parent().append(img),"application-logo"===$(this).attr("data-id")&&(e=$(this).attr("data-src"),t=$(this).attr("data-isdefault"),void 0!==e)&&""!==e&&3<e.length&&("svg"===e.substr(e.length-3,e.length).toLowerCase()&&$("#application-logo").addClass("application-logo-svg"),"true"==t.toLowerCase())&&$("#application-logo").addClass("add-margin"))}),window.isSiteLoaded=!1,$(document).on("show.bs.dropdown","#dropdown-profile",function(){"true"==isUmsAdmin.toLowerCase()&&$("#dropdown-profile .dropdown-menu.sub-menu .admin-privilege").show(),"undefined"!=typeof isSelfHosted&&isSelfHosted&&!window.isSiteLoaded&&$.ajax({type:"POST",url:window.userTenantsUrl,success:function(e){$("#user-sites .loader-sites-gif").remove();for(var t=e.Sites,i=2<t.length?2:t.length,n=0;n<i;n++){var o=t[n].DNS,s=o.split("bi"),r=(null!=t[n].TenantIdentifier&&(o+="/"+window.tenantIdentifierPrefix+"/"+t[n].TenantIdentifier),o+"/get-client-logo?logotype=headerlogo"),a=$(".profile-section-list").find("#user-sites");1<a.length?a.each(function(){var e=$("<a href='"+o+"' target='_blank'> <div class='site-logo-container'> <img src='"+r+"' alt='boldbi-header' onerror=\"this.onerror = null; this.src = '"+s[0]+"ums/images/boldbi/application/broken_image_400_255.png';\" class='site-logo'/><span class='site-name'>"+t[n].TenantName+"</span></div></a>");$(this).append(e)}):$("#user-sites").append($("<a href='"+o+"' target='_blank'> <div class='site-logo-container'> <img src='"+r+"' alt='boldbi-header' onerror=\"this.onerror = null; this.src = '"+s[0]+"ums/images/boldbi/application/broken_image_400_255.png';\" class='site-logo'/><span class='site-name'>"+t[n].TenantName+"</span></div></a>"))}e=$(".profile-section-list").find("#more-sites-id");1<e.length?e.each(function(){var e;3<=t.length?(e=$("<div class='float-start more-sites'><a href='"+window.idpUrl+"/ums/homepage' target='_blank'>more sites...</a></div>"),$(this).append(e)):$(this).remove()}):3<=t.length?$("#more-sites-id").append("<div class='float-start more-sites'><a href='"+window.idpUrl+"/ums/homepage' target='_blank'>more sites...</a></div>"):$("#more-sites-id").remove(),window.isSiteLoaded=!0}})}),$(".hide-display").each(function(){$(this).removeClass("hide-display")}),"undefined"!=typeof showFeedbackDialog&&"true"==showFeedbackDialog.toLowerCase()&&($("#do-not-show-button").removeClass("display-none"),$("#show-later-button").removeClass("display-none"),$("#cancel-button").addClass("display-none"),$("#close-general-feedback").attr("data-feedback-close",!1),openFeedbackWindow()),("undefined"!=typeof ej&&void 0!==ej.WaitingPopup||"undefined"!=typeof BoldBIDashboard&&void 0!==BoldBIDashboard.WaitingPopup)&&(t=createLoader("#body"),"undefined"!=typeof BoldBIDashboard?$("#body").BoldBIDashboardWaitingPopup({template:$("#"+t)}):$("#body").ejWaitingPopup({template:$("#"+t)}))}),window.addEventListener("load",function(){setTimeout(function(){"undefined"!=typeof getTenantStatusUrl&&$.ajax({type:"Post",url:getTenantStatusUrl,success:function(e){var t,i;void 0!==e&&e.IsAdmin&&!e.IsTenantStatusActive&&($(".warning-content").text(""),t=window.location.pathname.indexOf("administration/payments"),i="","MarkedForSuspension"!==e.TenantStatus||-1<t?"Suspended"===e.TenantStatus&&(i=window.Server.App.Localization.SuspendedWarning+" <span class='close-warning-icons su-close'></span>",$(".warning-content").append(i),$(".suspension-warning").css("display","block"),$("#content-area").addClass("suspension-warning-space")):(i=window.Server.App.Localization.SuspensionWarningInfo.format(e.TenantStatusUpdateDate," <a href='"+paymentPageUrl+"' target='_blank'>","</a>"),$(".warning-content").append(i),$(".suspension-warning").css("display","block"),$("#content-area").addClass("suspension-warning-space")),"undefined"!=typeof isMobile)&&isMobile&&($(".suspension-warning").css({top:"40px",margin:0}),$(".suspension-warning .warning-content").css("padding-right","50px"))}}),void 0!==isEmbedCode&&isEmbedCode||"undefined"!=typeof getNotificationCountUrl&&$.ajax({type:"Post",url:getNotificationCountUrl,success:function(e){null!=e&&(0<e.notificationCount?$("#user-system-notification").append($("<span>").attr({id:"notification-indicator"})):$("#user-system-notification").find("#notification-indicator").remove())}})},5e3)}),$(document).on("keyup","textarea",function(e){8!=e.keyCode&&46!=e.keyCode&&null!=(e=$(this).attr("maxlength"))&&$(this).val().length>=e&&$(this).val($(this).val().substring(0,e))}),$("textarea").keyup(function(e){8!=e.keyCode&&46!=e.keyCode&&(e=255,null!=$(this).attr("maxlength")&&(e=$(this).attr("maxlength")),$(this).val().length>=e)&&$(this).val($(this).val().substring(0,e))}),$(document).on("focus","input[type=text],input[type=password],textarea",function(){regexIe8.test(userAgent)&&$(this).next(".placeholder").removeClass("show").addClass("hide")}),$(document).on("focusout","input[type=text],input[type=password],textarea",function(){regexIe8.test(userAgent)&&""===$(this).val()&&$(this).next(".placeholder").removeClass("hide").addClass("show")}),$(document).on("focus",".placeholder",function(){$(this).prev("input").focus()}),$(document).on("keyup","#SearchCategory, #search-groups, #search-group-users, #ad-user-import, #userSearchKey,#groupSearchKey, #ad-group-import, #searchItems, #search-slideshows, #search-schedules, #search-users, #search-template, #search-published-items, #search-ad-users, #search-ad-groups, #search-user-permission, #search-group-permission, #search-database-users,#search-tree, #search-home-page, #search-items, .search-user-holder, .tree-view-search-holder, #search-linked-accounts, #template-datasource-search-items, #search-linked-dashboards, #search-webhooks, #search-webhooks-grid, #search-downloaded-items, #search-imported-users-grid, #search-failed-users-grid, #search-sample-items",function(e){var t="#"+this.id;""!=$(t).val()?"#search-home-page"==t?$(t).parent().siblings("span.close-icon").css("display","block"):($(t).siblings("span.close-icon").css("display","block"),$(t).siblings("span.search-user").css("display","none"),$(t).siblings("span.search-accounts").css("display","none"),$(t).siblings("span.search-group").css("display","none"),$(t).siblings("span.search-group-users").css("display","none"),$(t).siblings("span.search-icon").css("display","none"),$(t).siblings("span.su-search").css("display","none"),$(t).siblings("span.search-item").css("display","none"),$(t).siblings("span.search-schedule").css("display","none"),$(t).siblings("span.search-slideshows").css("display","none"),$(t).siblings("span.search").css("display","none")):("#search-home-page"==t?$(t).parent():($(t).siblings("span.close-icon").css("display","none"),$(t))).siblings("span.su-search").css("display","block")}),$(document).on("click","#clear-search,.clear-search",function(){var e,t,i=$(this).prevAll("input"),n="#"+(i=""==(i=$(this).hasClass("mobile-search-close-icon")?$(this).nextAll("input"):i)||null==i||i.length<=0?$(this).prev("div").find("input"):i).attr("id");i.val(""),clearSearch||$(this).css("display","none"),""==i.val()?("#search-home-page"!=n||clearSearch?$(this).siblings("span.su-search").css("display","block"):($("#clear-search").parent().siblings("span.su-search").css("display","block"),$(".search-area").removeClass("add-background"),$(".placeholder, #clear-search").hide(),$(".all-items").hasClass("active")&&!$("#category-list").is(":visible")?setTimeout(function(){$(".search-area").prevAll().show().parent().removeClass("pull-right"),$("#category-section-name").show()},300):setTimeout(function(){$(".search-area").prevAll(":not(#back-icon)").show().parent().removeClass("pull-right"),$("#category-section-name").show()},300),setTimeout(function(){$(".search-home-section:visible").removeClass("show")},300)),"#ad-user-import"==n||"#ad-group-import"==n||"#search-database-users"==n?"#search-database-users"==n?(e=jQuery.Event("keypress",{keyCode:13}),$("#search-database-users").trigger(e)):(t="",(t="undefined"!=typeof BoldBIDashboard?$("#Grid").data("BoldBIDashboardGrid"):$("#Grid").data("ejGrid")).option("dataSource","")):PerformSearch(n),"#search-ad-users"!=n&&"#search-ad-groups"!=n||(t="#search-ad-groups"==n?(t="","undefined"!=typeof BoldBIDashboard?$("#Grid").data("BoldBIDashboardGrid"):$("#Grid").data("ejGrid")):(t="","undefined"!=typeof BoldBIDashboard?$("#user_grid").data("BoldBIDashboardGrid"):$("#user_grid").data("ejGrid")),$("#checkbox-header").prop("checked",!1),$(".checkbox-row").prop("checked",!1),t.clearSelection(),selectedObject=[],enablesyncbutton())):i.val("")}),$(document).on("keydown","#search-groups, #search-group-users, #searchItems, #search-schedules,#search-slideshows,#userSearchKey,#groupSearchKey, #search-users, #search-template, #search-published-items, #search-user-permission, #search-group-permission, #search-home-page, #search-items, #search-linked-accounts, #search-linked-dashboards, #search-webhooks, #search-webhooks-grid, #search-ad-groups, #search-ad-users, #search-downloaded-items, #search-imported-users-grid, #search-failed-users-grid, #search-sample-items",function(e){$.xhrPool.abortAll();var e=parseInt(e.which),t="#"+this.id;null!=timeOut&&(clearTimeout(timeOut),timeOut=null),e===keyCode.Enter?PerformSearch(t):-1===excludedSearchKeys.indexOf(e)&&(timeOut=setTimeout(function(){PerformSearch(t)},900))}),window.onpopstate=function(e){var t=window.location.search,i=window.location.pathname.split("/"),n=(e.preventDefault(),void 0!==i[2]?i[2]:null),o=null!=(void 0!==i[3]&&"dashboards"==i[3]?i[3]:null)&&void 0!==i[4]&&isValidGuid(i[4])?i[4]:null,s=null!=o&&void 0!==i[5]?i[5]:null,r=null!=o&&void 0!==i[6]?i[6]:null,a=getQueryVariable("view"),l=getQueryVariable("tab");null!=n&&null!=a&&null!=s&&null!=r&&null!=o?o!==(null!=(void 0!==(n=$("#current-url").attr("data-url").split("/"))[3]&&"dashboards"==n[3]?n[3]:null)&&void 0!==n[4]&&isValidGuid(n[4])?n[4]:null)?(n=rootUrlAction+"/dashboards",DashboardRender(n,o,s,r,a,l)):$("#current-url").attr("data-url",rootUrlAction+"/dashboards/"+o+"/"+decodeURI(s)+"/"+decodeURI(r)+"?view="+decodeURI(a)):null!=a&&null==s&&null==r?(0==$(".item-navigation li[data-value='"+a+"']").hasClass("active")&&($(".item-navigation li").removeClass("active"),$(".item-navigation li[data-value='"+a+"']").addClass("active")),$(".item-navigation li[data-value='"+a+"']").trigger("click"),document.getElementById("dashboard_render_iframe").contentWindow.location.href="about:blank",$("#item-viewer #initial-item-message").css("display","block"),$("#dashboard_render_iframe").css("display","none")):""==t&&null==s&&null==a&&i.length<5&&(0==$(".item-navigation li[data-value='categories']").hasClass("active")&&($(".item-navigation li").removeClass("active"),$(".item-navigation li[data-value='categories']").addClass("active")),$(".item-navigation li[data-value='categories']").trigger("click"),n=decodeURI(i[i.length-1]),$(".category-link[data-category='"+n+"']").trigger("click")),null===e.state||void 0===document.getElementById("dashboard_render_iframe")||JSON.stringify(e.state)===JSON.stringify({})&&null===l||(isAllowedOrigin(r=(o=document.getElementById("dashboard_render_iframe")).src?new URL(o.src).origin:null)?o.contentWindow.postMessage("filter",r):console.warn("Blocked postMessage to untrusted origin:",r))},$(document).ready(function(e){$("#cookiesubs,#cookiesubs-dashboards").on("click",function(){$(".cookie-notification").remove(),$(".cookie-notification-dashboards").remove(),$.ajax({type:"POST",url:window.setPermissionUrl})})}),$(document).on("show.bs.collapse","#menu-area",function(){$("#collapse-menu-backdrop").show(),$(".mobile-menu-icon span i").removeClass("su-mobile-menu-icon"),$(".mobile-menu-icon span i").addClass("su-close")}),$(document).on("hide.bs.collapse","#menu-area",function(){$("#collapse-menu-backdrop").hide(),$(".mobile-menu-icon span i").removeClass("su-close"),$(".mobile-menu-icon span i").addClass("su-mobile-menu-icon")}),$(document).on("hidden.bs.collapse","#menu-area",function(){$("#menu-area").css("width","175px")}),$(document).on("click","#show-detail",function(){$("#show-detail").hide(),$("#hide-detail").show(),$("#deploy-error-container").show()}),$(document).on("click","#hide-detail",function(){$("#hide-detail").hide(),$("#deploy-error-container").hide(),$("#show-detail").show()}),$(document).on("click","#deploy-error-copy",function(e){var t=$("#deploy-error-copy"),i=$("#deploy-error-box");i.prop("disabled",!1),i.select(),/Safari/.test(navigator.userAgent)&&/Apple Computer/.test(navigator.vendor)?(t.removeClass("su su-copy"),t.attr("data-bs-original-title","")):(document.execCommand("copy"),t.attr("data-bs-original-title",window.Server.App.Localization.Copysuccess),t.tooltip("hide").attr("data-bs-original-title",window.Server.App.Localization.Copysuccess).tooltip("fixTitle").tooltip("show"),i.prop("disabled",!0),setTimeout(function(){t.attr("data-bs-original-title",window.Server.App.Localization.LinkCopy),t.tooltip()},3e3))}),$(document).on("focusin","#deploy-error-box",function(){$("#deploy-error-copy").addClass("focusdiv")}),$(document).on("focusout","#deploy-error-box",function(){$("#deploy-error-copy").removeClass("focusdiv")}),function(e){"object"==typeof exports&&"undefined"!=typeof module?module.exports=e():"function"==typeof define&&define.amd?define([],e):("undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this).EasyMDE=e()}(function(){return function n(o,s,r){function a(t,e){if(!s[t]){if(!o[t]){var i="function"==typeof require&&require;if(!e&&i)return i(t,!0);if(l)return l(t,!0);e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e}i=s[t]={exports:{}};o[t][0].call(i.exports,function(e){return a(o[t][1][e]||e)},i,i.exports,n,o,s,r)}return s[t].exports}for(var l="function"==typeof require&&require,e=0;e<r.length;e++)a(r[e]);return a}({1:[function(e,t,i){"use strict";i.byteLength=function(e){var e=c(e),t=e[0],e=e[1];return 3*(t+e)/4-e},i.toByteArray=function(e){for(var t,i=c(e),n=i[0],i=i[1],o=new d(3*(n+i)/4-i),s=0,r=0<i?n-4:n,a=0;a<r;a+=4)t=l[e.charCodeAt(a)]<<18|l[e.charCodeAt(a+1)]<<12|l[e.charCodeAt(a+2)]<<6|l[e.charCodeAt(a+3)],o[s++]=t>>16&255,o[s++]=t>>8&255,o[s++]=255&t;return 2===i&&(t=l[e.charCodeAt(a)]<<2|l[e.charCodeAt(a+1)]>>4,o[s++]=255&t),1===i&&(t=l[e.charCodeAt(a)]<<10|l[e.charCodeAt(a+1)]<<4|l[e.charCodeAt(a+2)]>>2,o[s++]=t>>8&255,o[s++]=255&t),o},i.fromByteArray=function(e){for(var t,i=e.length,n=i%3,o=[],s=0,r=i-n;s<r;s+=16383)o.push(function(e,t,i){for(var n,o=[],s=t;s<i;s+=3)n=(e[s]<<16&16711680)+(e[s+1]<<8&65280)+(255&e[s+2]),o.push(a[(n=n)>>18&63]+a[n>>12&63]+a[n>>6&63]+a[63&n]);return o.join("")}(e,s,r<s+16383?r:s+16383));return 1==n?(t=e[i-1],o.push(a[t>>2]+a[t<<4&63]+"==")):2==n&&(t=(e[i-2]<<8)+e[i-1],o.push(a[t>>10]+a[t>>4&63]+a[t<<2&63]+"=")),o.join("")};for(var a=[],l=[],d="undefined"!=typeof Uint8Array?Uint8Array:Array,n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",o=0,s=n.length;o<s;++o)a[o]=n[o],l[n.charCodeAt(o)]=o;function c(e){var t=e.length;if(0<t%4)throw new Error("Invalid string. Length must be a multiple of 4");e=e.indexOf("=");return[e=-1===e?t:e,e===t?0:4-e%4]}l["-".charCodeAt(0)]=62,l["_".charCodeAt(0)]=63},{}],2:[function(e,t,i){},{}],3:[function(e,t,i){"use strict";var S=e("base64-js"),s=e("ieee754"),n=(i.Buffer=h,i.SlowBuffer=function(e){return h.alloc(+(e=+e!=e?0:e))},i.INSPECT_MAX_BYTES=50,2147483647);function c(e){if(n<e)throw new RangeError('The value "'+e+'" is invalid for option "size"');e=new Uint8Array(e);return e.__proto__=h.prototype,e}function h(e,t,i){if("number"!=typeof e)return o(e,t,i);if("string"==typeof t)throw new TypeError('The "string" argument must be of type string. Received type number');return a(e)}function o(e,t,i){if("string"==typeof e){var n=e,o=t;if(h.isEncoding(o="string"==typeof o&&""!==o?o:"utf8"))return(n=(r=c(s=0|m(n,o))).write(n,o))!==s?r.slice(0,n):r;throw new TypeError("Unknown encoding: "+o)}if(ArrayBuffer.isView(e))return u(e);if(null==e)throw TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof e);if(A(e,ArrayBuffer)||e&&A(e.buffer,ArrayBuffer)){var s=e,n=t,r=i;if(n<0||s.byteLength<n)throw new RangeError('"offset" is outside of buffer bounds');if(s.byteLength<n+(r||0))throw new RangeError('"length" is outside of buffer bounds');return(s=void 0===n&&void 0===r?new Uint8Array(s):void 0===r?new Uint8Array(s,n):new Uint8Array(s,n,r)).__proto__=h.prototype,s}if("number"==typeof e)throw new TypeError('The "value" argument must not be of type number. Received type number');o=e.valueOf&&e.valueOf();if(null!=o&&o!==e)return h.from(o,t,i);var a,l,d=h.isBuffer(a=e)?(0!==(l=c(d=0|p(a.length))).length&&a.copy(l,0,0,d),l):void 0!==a.length?"number"!=typeof a.length||I(a.length)?c(0):u(a):"Buffer"===a.type&&Array.isArray(a.data)?u(a.data):void 0;if(d)return d;if("undefined"!=typeof Symbol&&null!=Symbol.toPrimitive&&"function"==typeof e[Symbol.toPrimitive])return h.from(e[Symbol.toPrimitive]("string"),t,i);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof e)}function r(e){if("number"!=typeof e)throw new TypeError('"size" argument must be of type number');if(e<0)throw new RangeError('The value "'+e+'" is invalid for option "size"')}function a(e){return r(e),c(e<0?0:0|p(e))}function u(e){for(var t=e.length<0?0:0|p(e.length),i=c(t),n=0;n<t;n+=1)i[n]=255&e[n];return i}function p(e){if(n<=e)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+n.toString(16)+" bytes");return 0|e}function m(e,t){if(h.isBuffer(e))return e.length;if(ArrayBuffer.isView(e)||A(e,ArrayBuffer))return e.byteLength;if("string"!=typeof e)throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof e);var i=e.length,n=2<arguments.length&&!0===arguments[2];if(!n&&0===i)return 0;for(var o=!1;;)switch(t){case"ascii":case"latin1":case"binary":return i;case"utf8":case"utf-8":return k(e).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*i;case"hex":return i>>>1;case"base64":return D(e).length;default:if(o)return n?-1:k(e).length;t=(""+t).toLowerCase(),o=!0}}function l(e,t,i){var n=e[t];e[t]=e[i],e[i]=n}function d(e,t,i,n,o){if(0===e.length)return-1;if("string"==typeof i?(n=i,i=0):2147483647<i?i=2147483647:i<-2147483648&&(i=-2147483648),(i=(i=I(i=+i)?o?0:e.length-1:i)<0?e.length+i:i)>=e.length){if(o)return-1;i=e.length-1}else if(i<0){if(!o)return-1;i=0}if("string"==typeof t&&(t=h.from(t,n)),h.isBuffer(t))return 0===t.length?-1:f(e,t,i,n,o);if("number"==typeof t)return t&=255,"function"==typeof Uint8Array.prototype.indexOf?(o?Uint8Array.prototype.indexOf:Uint8Array.prototype.lastIndexOf).call(e,t,i):f(e,[t],i,n,o);throw new TypeError("val must be string, number or Buffer")}function f(e,t,i,n,o){var s=1,r=e.length,a=t.length;if(void 0!==n&&("ucs2"===(n=String(n).toLowerCase())||"ucs-2"===n||"utf16le"===n||"utf-16le"===n)){if(e.length<2||t.length<2)return-1;r/=s=2,a/=2,i/=2}function l(e,t){return 1===s?e[t]:e.readUInt16BE(t*s)}if(o)for(var d=-1,c=i;c<r;c++)if(l(e,c)===l(t,-1===d?0:c-d)){if(c-(d=-1===d?c:d)+1===a)return d*s}else-1!==d&&(c-=c-d),d=-1;else for(c=i=r<i+a?r-a:i;0<=c;c--){for(var h=!0,u=0;u<a;u++)if(l(e,c+u)!==l(t,u)){h=!1;break}if(h)return c}return-1}function g(e,t,i,n){return L(function(e){for(var t=[],i=0;i<e.length;++i)t.push(255&e.charCodeAt(i));return t}(t),e,i,n)}function T(e,t,i){i=Math.min(e.length,i);for(var n=[],o=t;o<i;){var s,r,a,l,d=e[o],c=null,h=239<d?4:223<d?3:191<d?2:1;if(o+h<=i)switch(h){case 1:d<128&&(c=d);break;case 2:128==(192&(s=e[o+1]))&&127<(l=(31&d)<<6|63&s)&&(c=l);break;case 3:s=e[o+1],r=e[o+2],128==(192&s)&&128==(192&r)&&2047<(l=(15&d)<<12|(63&s)<<6|63&r)&&(l<55296||57343<l)&&(c=l);break;case 4:s=e[o+1],r=e[o+2],a=e[o+3],128==(192&s)&&128==(192&r)&&128==(192&a)&&65535<(l=(15&d)<<18|(63&s)<<12|(63&r)<<6|63&a)&&l<1114112&&(c=l)}null===c?(c=65533,h=1):65535<c&&(n.push((c-=65536)>>>10&1023|55296),c=56320|1023&c),n.push(c),o+=h}var u=n,p=u.length;if(p<=v)return String.fromCharCode.apply(String,u);for(var m="",f=0;f<p;)m+=String.fromCharCode.apply(String,u.slice(f,f+=v));return m}i.kMaxLength=n,(h.TYPED_ARRAY_SUPPORT=function(){try{var e=new Uint8Array(1);return e.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},42===e.foo()}catch(e){return!1}}())||"undefined"==typeof console||"function"!=typeof console.error||console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support."),Object.defineProperty(h.prototype,"parent",{enumerable:!0,get:function(){if(h.isBuffer(this))return this.buffer}}),Object.defineProperty(h.prototype,"offset",{enumerable:!0,get:function(){if(h.isBuffer(this))return this.byteOffset}}),"undefined"!=typeof Symbol&&null!=Symbol.species&&h[Symbol.species]===h&&Object.defineProperty(h,Symbol.species,{value:null,configurable:!0,enumerable:!1,writable:!1}),h.poolSize=8192,h.from=o,h.prototype.__proto__=Uint8Array.prototype,h.__proto__=Uint8Array,h.alloc=function(e,t,i){return t=t,i=i,r(e=e),!(e<=0)&&void 0!==t?"string"==typeof i?c(e).fill(t,i):c(e).fill(t):c(e)},h.allocUnsafe=a,h.allocUnsafeSlow=a,h.isBuffer=function(e){return null!=e&&!0===e._isBuffer&&e!==h.prototype},h.compare=function(e,t){if(A(e,Uint8Array)&&(e=h.from(e,e.offset,e.byteLength)),A(t,Uint8Array)&&(t=h.from(t,t.offset,t.byteLength)),!h.isBuffer(e)||!h.isBuffer(t))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(e===t)return 0;for(var i=e.length,n=t.length,o=0,s=Math.min(i,n);o<s;++o)if(e[o]!==t[o]){i=e[o],n=t[o];break}return i<n?-1:n<i?1:0},h.isEncoding=function(e){switch(String(e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},h.concat=function(e,t){if(!Array.isArray(e))throw new TypeError('"list" argument must be an Array of Buffers');if(0===e.length)return h.alloc(0);if(void 0===t)for(o=t=0;o<e.length;++o)t+=e[o].length;for(var i=h.allocUnsafe(t),n=0,o=0;o<e.length;++o){var s=e[o];if(A(s,Uint8Array)&&(s=h.from(s)),!h.isBuffer(s))throw new TypeError('"list" argument must be an Array of Buffers');s.copy(i,n),n+=s.length}return i},h.byteLength=m,h.prototype._isBuffer=!0,h.prototype.swap16=function(){var e=this.length;if(e%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var t=0;t<e;t+=2)l(this,t,t+1);return this},h.prototype.swap32=function(){var e=this.length;if(e%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var t=0;t<e;t+=4)l(this,t,t+3),l(this,t+1,t+2);return this},h.prototype.swap64=function(){var e=this.length;if(e%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var t=0;t<e;t+=8)l(this,t,t+7),l(this,t+1,t+6),l(this,t+2,t+5),l(this,t+3,t+4);return this},h.prototype.toLocaleString=h.prototype.toString=function(){var e=this.length;return 0===e?"":0===arguments.length?T(this,0,e):function(e,t,i){var n=!1;if((t=void 0===t||t<0?0:t)>this.length)return"";if((i=void 0===i||i>this.length?this.length:i)<=0)return"";if((i>>>=0)<=(t>>>=0))return"";for(e=e||"utf8";;)switch(e){case"hex":var o,s=this,r=t,a=i,l=s.length;(!a||a<0||l<a)&&(a=l);for(var d="",c=r=!r||r<0?0:r;c<a;++c)d+=(o=s[c])<16?"0"+o.toString(16):o.toString(16);return d;case"utf8":case"utf-8":return T(this,t,i);case"ascii":var h=this,l=t,u=i,p="";u=Math.min(h.length,u);for(var m=l;m<u;++m)p+=String.fromCharCode(127&h[m]);return p;case"latin1":case"binary":var f=this,r=t,g=i,v="";g=Math.min(f.length,g);for(var b=r;b<g;++b)v+=String.fromCharCode(f[b]);return v;case"base64":return _=i,0===(y=t)&&_===this.length?S.fromByteArray(this):S.fromByteArray(this.slice(y,_));case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":for(var y=t,_=i,w=this.slice(y,_),x="",C=0;C<w.length;C+=2)x+=String.fromCharCode(w[C]+256*w[C+1]);return x;default:if(n)throw new TypeError("Unknown encoding: "+e);e=(e+"").toLowerCase(),n=!0}}.apply(this,arguments)},h.prototype.equals=function(e){if(h.isBuffer(e))return this===e||0===h.compare(this,e);throw new TypeError("Argument must be a Buffer")},h.prototype.inspect=function(){var e="",t=i.INSPECT_MAX_BYTES,e=this.toString("hex",0,t).replace(/(.{2})/g,"$1 ").trim();return this.length>t&&(e+=" ... "),"<Buffer "+e+">"},h.prototype.compare=function(e,t,i,n,o){if(A(e,Uint8Array)&&(e=h.from(e,e.offset,e.byteLength)),!h.isBuffer(e))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof e);if(void 0===i&&(i=e?e.length:0),void 0===n&&(n=0),void 0===o&&(o=this.length),(t=void 0===t?0:t)<0||i>e.length||n<0||o>this.length)throw new RangeError("out of range index");if(o<=n&&i<=t)return 0;if(o<=n)return-1;if(i<=t)return 1;if(this===e)return 0;for(var s=(o>>>=0)-(n>>>=0),r=(i>>>=0)-(t>>>=0),a=Math.min(s,r),l=this.slice(n,o),d=e.slice(t,i),c=0;c<a;++c)if(l[c]!==d[c]){s=l[c],r=d[c];break}return s<r?-1:r<s?1:0},h.prototype.includes=function(e,t,i){return-1!==this.indexOf(e,t,i)},h.prototype.indexOf=function(e,t,i){return d(this,e,t,i,!0)},h.prototype.lastIndexOf=function(e,t,i){return d(this,e,t,i,!1)},h.prototype.write=function(e,t,i,n){if(void 0===t)n="utf8",i=this.length,t=0;else if(void 0===i&&"string"==typeof t)n=t,i=this.length,t=0;else{if(!isFinite(t))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");t>>>=0,isFinite(i)?(i>>>=0,void 0===n&&(n="utf8")):(n=i,i=void 0)}var o=this.length-t;if((void 0===i||o<i)&&(i=o),0<e.length&&(i<0||t<0)||t>this.length)throw new RangeError("Attempt to write outside buffer bounds");n=n||"utf8";for(var s,r,a,l=!1;;)switch(n){case"hex":var d=this,c=e,h=t,u=i,p=(h=Number(h)||0,d.length-h);(!u||p<(u=Number(u)))&&(u=p),(p=c.length)/2<u&&(u=p/2);for(var m=0;m<u;++m){var f=parseInt(c.substr(2*m,2),16);if(I(f))return m;d[h+m]=f}return m;case"utf8":case"utf-8":return p=t,a=i,L(k(e,this.length-p),this,p,a);case"ascii":return g(this,e,t,i);case"latin1":case"binary":return g(this,e,t,i);case"base64":return a=t,r=i,L(D(e),this,a,r);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return r=t,s=i,L(function(e,t){for(var i,n,o=[],s=0;s<e.length&&!((t-=2)<0);++s)n=(i=e.charCodeAt(s))>>8,o.push(i%256),o.push(n);return o}(e,this.length-r),this,r,s);default:if(l)throw new TypeError("Unknown encoding: "+n);n=(""+n).toLowerCase(),l=!0}},h.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var v=4096;function b(e,t,i){if(e%1!=0||e<0)throw new RangeError("offset is not uint");if(i<e+t)throw new RangeError("Trying to access beyond buffer length")}function y(e,t,i,n,o,s){if(!h.isBuffer(e))throw new TypeError('"buffer" argument must be a Buffer instance');if(o<t||t<s)throw new RangeError('"value" argument is out of bounds');if(i+n>e.length)throw new RangeError("Index out of range")}function _(e,t,i,n){if(i+n>e.length)throw new RangeError("Index out of range");if(i<0)throw new RangeError("Index out of range")}function w(e,t,i,n,o){return t=+t,i>>>=0,o||_(e,0,i,4),s.write(e,t,i,n,23,4),i+4}function x(e,t,i,n,o){return t=+t,i>>>=0,o||_(e,0,i,8),s.write(e,t,i,n,52,8),i+8}h.prototype.slice=function(e,t){var i=this.length,i=((e=~~e)<0?(e+=i)<0&&(e=0):i<e&&(e=i),(t=void 0===t?i:~~t)<0?(t+=i)<0&&(t=0):i<t&&(t=i),t<e&&(t=e),this.subarray(e,t));return i.__proto__=h.prototype,i},h.prototype.readUIntLE=function(e,t,i){e>>>=0,t>>>=0,i||b(e,t,this.length);for(var n=this[e],o=1,s=0;++s<t&&(o*=256);)n+=this[e+s]*o;return n},h.prototype.readUIntBE=function(e,t,i){e>>>=0,t>>>=0,i||b(e,t,this.length);for(var n=this[e+--t],o=1;0<t&&(o*=256);)n+=this[e+--t]*o;return n},h.prototype.readUInt8=function(e,t){return e>>>=0,t||b(e,1,this.length),this[e]},h.prototype.readUInt16LE=function(e,t){return e>>>=0,t||b(e,2,this.length),this[e]|this[e+1]<<8},h.prototype.readUInt16BE=function(e,t){return e>>>=0,t||b(e,2,this.length),this[e]<<8|this[e+1]},h.prototype.readUInt32LE=function(e,t){return e>>>=0,t||b(e,4,this.length),(this[e]|this[e+1]<<8|this[e+2]<<16)+16777216*this[e+3]},h.prototype.readUInt32BE=function(e,t){return e>>>=0,t||b(e,4,this.length),16777216*this[e]+(this[e+1]<<16|this[e+2]<<8|this[e+3])},h.prototype.readIntLE=function(e,t,i){e>>>=0,t>>>=0,i||b(e,t,this.length);for(var n=this[e],o=1,s=0;++s<t&&(o*=256);)n+=this[e+s]*o;return(o*=128)<=n&&(n-=Math.pow(2,8*t)),n},h.prototype.readIntBE=function(e,t,i){e>>>=0,t>>>=0,i||b(e,t,this.length);for(var n=t,o=1,s=this[e+--n];0<n&&(o*=256);)s+=this[e+--n]*o;return(o*=128)<=s&&(s-=Math.pow(2,8*t)),s},h.prototype.readInt8=function(e,t){return e>>>=0,t||b(e,1,this.length),128&this[e]?-1*(255-this[e]+1):this[e]},h.prototype.readInt16LE=function(e,t){e>>>=0,t||b(e,2,this.length);t=this[e]|this[e+1]<<8;return 32768&t?4294901760|t:t},h.prototype.readInt16BE=function(e,t){e>>>=0,t||b(e,2,this.length);t=this[e+1]|this[e]<<8;return 32768&t?4294901760|t:t},h.prototype.readInt32LE=function(e,t){return e>>>=0,t||b(e,4,this.length),this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24},h.prototype.readInt32BE=function(e,t){return e>>>=0,t||b(e,4,this.length),this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]},h.prototype.readFloatLE=function(e,t){return e>>>=0,t||b(e,4,this.length),s.read(this,e,!0,23,4)},h.prototype.readFloatBE=function(e,t){return e>>>=0,t||b(e,4,this.length),s.read(this,e,!1,23,4)},h.prototype.readDoubleLE=function(e,t){return e>>>=0,t||b(e,8,this.length),s.read(this,e,!0,52,8)},h.prototype.readDoubleBE=function(e,t){return e>>>=0,t||b(e,8,this.length),s.read(this,e,!1,52,8)},h.prototype.writeUIntLE=function(e,t,i,n){e=+e,t>>>=0,i>>>=0,n||y(this,e,t,i,Math.pow(2,8*i)-1,0);var o=1,s=0;for(this[t]=255&e;++s<i&&(o*=256);)this[t+s]=e/o&255;return t+i},h.prototype.writeUIntBE=function(e,t,i,n){e=+e,t>>>=0,i>>>=0,n||y(this,e,t,i,Math.pow(2,8*i)-1,0);var o=i-1,s=1;for(this[t+o]=255&e;0<=--o&&(s*=256);)this[t+o]=e/s&255;return t+i},h.prototype.writeUInt8=function(e,t,i){return e=+e,t>>>=0,i||y(this,e,t,1,255,0),this[t]=255&e,t+1},h.prototype.writeUInt16LE=function(e,t,i){return e=+e,t>>>=0,i||y(this,e,t,2,65535,0),this[t]=255&e,this[t+1]=e>>>8,t+2},h.prototype.writeUInt16BE=function(e,t,i){return e=+e,t>>>=0,i||y(this,e,t,2,65535,0),this[t]=e>>>8,this[t+1]=255&e,t+2},h.prototype.writeUInt32LE=function(e,t,i){return e=+e,t>>>=0,i||y(this,e,t,4,4294967295,0),this[t+3]=e>>>24,this[t+2]=e>>>16,this[t+1]=e>>>8,this[t]=255&e,t+4},h.prototype.writeUInt32BE=function(e,t,i){return e=+e,t>>>=0,i||y(this,e,t,4,4294967295,0),this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e,t+4},h.prototype.writeIntLE=function(e,t,i,n){e=+e,t>>>=0,n||y(this,e,t,i,(n=Math.pow(2,8*i-1))-1,-n);var o=0,s=1,r=0;for(this[t]=255&e;++o<i&&(s*=256);)e<0&&0===r&&0!==this[t+o-1]&&(r=1),this[t+o]=(e/s>>0)-r&255;return t+i},h.prototype.writeIntBE=function(e,t,i,n){e=+e,t>>>=0,n||y(this,e,t,i,(n=Math.pow(2,8*i-1))-1,-n);var o=i-1,s=1,r=0;for(this[t+o]=255&e;0<=--o&&(s*=256);)e<0&&0===r&&0!==this[t+o+1]&&(r=1),this[t+o]=(e/s>>0)-r&255;return t+i},h.prototype.writeInt8=function(e,t,i){return e=+e,t>>>=0,i||y(this,e,t,1,127,-128),this[t]=255&(e=e<0?255+e+1:e),t+1},h.prototype.writeInt16LE=function(e,t,i){return e=+e,t>>>=0,i||y(this,e,t,2,32767,-32768),this[t]=255&e,this[t+1]=e>>>8,t+2},h.prototype.writeInt16BE=function(e,t,i){return e=+e,t>>>=0,i||y(this,e,t,2,32767,-32768),this[t]=e>>>8,this[t+1]=255&e,t+2},h.prototype.writeInt32LE=function(e,t,i){return e=+e,t>>>=0,i||y(this,e,t,4,2147483647,-2147483648),this[t]=255&e,this[t+1]=e>>>8,this[t+2]=e>>>16,this[t+3]=e>>>24,t+4},h.prototype.writeInt32BE=function(e,t,i){return e=+e,t>>>=0,i||y(this,e,t,4,2147483647,-2147483648),this[t]=(e=e<0?4294967295+e+1:e)>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e,t+4},h.prototype.writeFloatLE=function(e,t,i){return w(this,e,t,!0,i)},h.prototype.writeFloatBE=function(e,t,i){return w(this,e,t,!1,i)},h.prototype.writeDoubleLE=function(e,t,i){return x(this,e,t,!0,i)},h.prototype.writeDoubleBE=function(e,t,i){return x(this,e,t,!1,i)},h.prototype.copy=function(e,t,i,n){if(!h.isBuffer(e))throw new TypeError("argument should be a Buffer");if(i=i||0,n||0===n||(n=this.length),t>=e.length&&(t=e.length),(n=0<n&&n<i?i:n)===i)return 0;if(0===e.length||0===this.length)return 0;if((t=t||0)<0)throw new RangeError("targetStart out of bounds");if(i<0||i>=this.length)throw new RangeError("Index out of range");if(n<0)throw new RangeError("sourceEnd out of bounds");n>this.length&&(n=this.length);var o=(n=e.length-t<n-i?e.length-t+i:n)-i;if(this===e&&"function"==typeof Uint8Array.prototype.copyWithin)this.copyWithin(t,i,n);else if(this===e&&i<t&&t<n)for(var s=o-1;0<=s;--s)e[s+t]=this[s+i];else Uint8Array.prototype.set.call(e,this.subarray(i,n),t);return o},h.prototype.fill=function(e,t,i,n){if("string"==typeof e){if("string"==typeof t?(n=t,t=0,i=this.length):"string"==typeof i&&(n=i,i=this.length),void 0!==n&&"string"!=typeof n)throw new TypeError("encoding must be a string");if("string"==typeof n&&!h.isEncoding(n))throw new TypeError("Unknown encoding: "+n);var o;1===e.length&&(o=e.charCodeAt(0),"utf8"===n&&o<128||"latin1"===n)&&(e=o)}else"number"==typeof e&&(e&=255);if(t<0||this.length<t||this.length<i)throw new RangeError("Out of range index");var s;if(!(i<=t))if(t>>>=0,i=void 0===i?this.length:i>>>0,"number"==typeof(e=e||0))for(s=t;s<i;++s)this[s]=e;else{var r=h.isBuffer(e)?e:h.from(e,n),a=r.length;if(0===a)throw new TypeError('The value "'+e+'" is invalid for argument "value"');for(s=0;s<i-t;++s)this[s+t]=r[s%a]}return this};var C=/[^+/0-9A-Za-z-_]/g;function k(e,t){var i;t=t||1/0;for(var n=e.length,o=null,s=[],r=0;r<n;++r){if(55295<(i=e.charCodeAt(r))&&i<57344){if(!o){if(56319<i){-1<(t-=3)&&s.push(239,191,189);continue}if(r+1===n){-1<(t-=3)&&s.push(239,191,189);continue}o=i;continue}if(i<56320){-1<(t-=3)&&s.push(239,191,189),o=i;continue}i=65536+(o-55296<<10|i-56320)}else o&&-1<(t-=3)&&s.push(239,191,189);if(o=null,i<128){if(--t<0)break;s.push(i)}else if(i<2048){if((t-=2)<0)break;s.push(i>>6|192,63&i|128)}else if(i<65536){if((t-=3)<0)break;s.push(i>>12|224,i>>6&63|128,63&i|128)}else{if(!(i<1114112))throw new Error("Invalid code point");if((t-=4)<0)break;s.push(i>>18|240,i>>12&63|128,i>>6&63|128,63&i|128)}}return s}function D(e){return S.toByteArray(function(e){if((e=(e=e.split("=")[0]).trim().replace(C,"")).length<2)return"";for(;e.length%4!=0;)e+="=";return e}(e))}function L(e,t,i,n){for(var o=0;o<n&&!(o+i>=t.length||o>=e.length);++o)t[o+i]=e[o];return o}function A(e,t){return e instanceof t||null!=e&&null!=e.constructor&&null!=e.constructor.name&&e.constructor.name===t.name}function I(e){return e!=e}},{"base64-js":1,ieee754:16}],4:[function(e,t,i){"use strict";var r=e("typo-js");function a(s){"function"==typeof(s=s||{}).codeMirrorInstance&&"function"==typeof s.codeMirrorInstance.defineMode?(String.prototype.includes||(String.prototype.includes=function(){return-1!==String.prototype.indexOf.apply(this,arguments)}),s.codeMirrorInstance.defineMode("spell-checker",function(e){a.aff_loading||(a.aff_loading=!0,(t=new XMLHttpRequest).open("GET","https://cdn.jsdelivr.net/codemirror.spell-checker/latest/en_US.aff",!0),t.onload=function(){4===t.readyState&&200===t.status&&(a.aff_data=t.responseText,2==++a.num_loaded)&&(a.typo=new r("en_US",a.aff_data,a.dic_data,{platform:"any"}))},t.send(null)),a.dic_loading||(a.dic_loading=!0,(i=new XMLHttpRequest).open("GET","https://cdn.jsdelivr.net/codemirror.spell-checker/latest/en_US.dic",!0),i.onload=function(){4===i.readyState&&200===i.status&&(a.dic_data=i.responseText,2==++a.num_loaded)&&(a.typo=new r("en_US",a.aff_data,a.dic_data,{platform:"any"}))},i.send(null));var t,i,n='!"#$%&()*+,-./:;<=>?@[\\]^_`{|}~ ',o={token:function(e){var t=e.peek(),i="";if(n.includes(t))return e.next(),null;for(;null!=(t=e.peek())&&!n.includes(t);)i+=t,e.next();return a.typo&&!a.typo.check(i)?"spell-error":null}},e=s.codeMirrorInstance.getMode(e,e.backdrop||"text/plain");return s.codeMirrorInstance.overlayMode(e,o,!0)})):console.log("CodeMirror Spell Checker: You must provide an instance of CodeMirror via the option `codeMirrorInstance`")}a.num_loaded=0,a.aff_loading=!1,a.dic_loading=!1,a.aff_data="",a.dic_data="",t.exports=a},{"typo-js":18}],5:[function(e,t,i){!function(n){"use strict";n.defineOption("fullScreen",!1,function(e,t,i){!(i=i==n.Init?!1:i)!=!t&&(t?(t=(i=e).getWrapperElement(),i.state.fullScreenRestore={scrollTop:window.pageYOffset,scrollLeft:window.pageXOffset,width:t.style.width,height:t.style.height},t.style.width="",t.style.height="auto",t.className+=" CodeMirror-fullscreen",document.documentElement.style.overflow="hidden",i):((i=(t=e).getWrapperElement()).className=i.className.replace(/\s*CodeMirror-fullscreen\b/,""),document.documentElement.style.overflow="",e=t.state.fullScreenRestore,i.style.width=e.width,i.style.height=e.height,window.scrollTo(e.scrollLeft,e.scrollTop),t)).refresh()})}("object"==typeof i&&"object"==typeof t?e("../../lib/codemirror"):CodeMirror)},{"../../lib/codemirror":11}],6:[function(e,t,i){function n(e){e.state.placeholder&&(e.state.placeholder.parentNode.removeChild(e.state.placeholder),e.state.placeholder=null)}function o(e){n(e);var t=e.state.placeholder=document.createElement("pre"),i=(t.style.cssText="height: 0; overflow: visible",t.style.direction=e.getOption("direction"),t.className="CodeMirror-placeholder",e.getOption("placeholder"));"string"==typeof i&&(i=document.createTextNode(i)),t.appendChild(i),e.display.lineSpace.insertBefore(t,e.display.lineSpace.firstChild)}function s(e){a(e)&&o(e)}function r(e){var t=e.getWrapperElement(),i=a(e);t.className=t.className.replace(" CodeMirror-empty","")+(i?" CodeMirror-empty":""),(i?o:n)(e)}function a(e){return 1===e.lineCount()&&""===e.getLine(0)}var l;(l="object"==typeof i&&"object"==typeof t?e("../../lib/codemirror"):CodeMirror).defineOption("placeholder","",function(e,t,i){var i=i&&i!=l.Init;t&&!i?(e.on("blur",s),e.on("change",r),e.on("swapDoc",r),r(e)):!t&&i&&(e.off("blur",s),e.off("change",r),e.off("swapDoc",r),n(e),(i=e.getWrapperElement()).className=i.className.replace(" CodeMirror-empty","")),t&&!e.hasFocus()&&s(e)})},{"../../lib/codemirror":11}],7:[function(e,t,i){!function(c){"use strict";var m=/^(\s*)(>[> ]*|[*+-] \[[x ]\]\s|[*+-]\s|(\d+)([.)]))(\s*)/,h=/^(\s*)(>[> ]*|[*+-] \[[x ]\]|[*+-]|(\d+)[.)])(\s*)$/,u=/[*+-]\s/;c.commands.newlineAndIndentContinueMarkdownList=function(e){if(e.getOption("disableInput"))return c.Pass;for(var t=e.listSelections(),i=[],n=0;n<t.length;n++){var o=t[n].head,s=e.getStateAfter(o.line),r=!1!==s.list,s=0!==s.quote,a=e.getLine(o.line),l=m.exec(a),d=/^\s*$/.test(a.slice(0,o.ch));if(!t[n].empty()||!r&&!s||!l||d)return void e.execCommand("newlineAndIndent");h.test(a)?(/>\s*$/.test(a)||e.replaceRange("",{line:o.line,ch:0},{line:o.line,ch:o.ch+1}),i[n]="\n"):(r=l[1],s=l[5],a=(d=!(u.test(l[2])||0<=l[2].indexOf(">")))?parseInt(l[3],10)+1+l[4]:l[2].replace("x"," "),i[n]="\n"+r+a+s,d&&function(e,t){var i=t.line,n=0,o=0,s=m.exec(e.getLine(i)),r=s[1];do{var a=i+(n+=1),l=e.getLine(a),d=m.exec(l);if(d){var c=d[1],h=parseInt(s[3],10)+n-o,u=parseInt(d[3],10),p=u;if(r!==c||isNaN(u)){if(r.length>c.length)return;if(r.length<c.length&&1===n)return;o+=1}else h===u&&(p=u+1),e.replaceRange(l.replace(m,c+(p=u<h?1+h:p)+d[4]+d[5]),{line:a,ch:0},{line:a,ch:l.length})}}while(d)}(e,o))}e.replaceSelections(i)}}("object"==typeof i&&"object"==typeof t?e("../../lib/codemirror"):CodeMirror)},{"../../lib/codemirror":11}],8:[function(e,t,i){!function(t){"use strict";t.overlayMode=function(n,o,s){return{startState:function(){return{base:t.startState(n),overlay:t.startState(o),basePos:0,baseCur:null,overlayPos:0,overlayCur:null,streamSeen:null}},copyState:function(e){return{base:t.copyState(n,e.base),overlay:t.copyState(o,e.overlay),basePos:e.basePos,baseCur:null,overlayPos:e.overlayPos,overlayCur:null}},token:function(e,t){return(e!=t.streamSeen||Math.min(t.basePos,t.overlayPos)<e.start)&&(t.streamSeen=e,t.basePos=t.overlayPos=e.start),e.start==t.basePos&&(t.baseCur=n.token(e,t.base),t.basePos=e.pos),e.start==t.overlayPos&&(e.pos=e.start,t.overlayCur=o.token(e,t.overlay),t.overlayPos=e.pos),e.pos=Math.min(t.basePos,t.overlayPos),null==t.overlayCur?t.baseCur:null!=t.baseCur&&t.overlay.combineTokens||s&&null==t.overlay.combineTokens?t.baseCur+" "+t.overlayCur:t.overlayCur},indent:n.indent&&function(e,t){return n.indent(e.base,t)},electricChars:n.electricChars,innerMode:function(e){return{state:e.base,mode:n}},blankLine:function(e){var t,i;return n.blankLine&&(t=n.blankLine(e.base)),null==(i=o.blankLine?o.blankLine(e.overlay):i)?t:s&&null!=t?t+" "+i:i}}}}("object"==typeof i&&"object"==typeof t?e("../../lib/codemirror"):CodeMirror)},{"../../lib/codemirror":11}],9:[function(e,t,i){!function(o){"use strict";var g,v,b=o.Pos;function p(e,t){for(var i=null!=(i=e.flags)?i:(e.ignoreCase?"i":"")+(e.global?"g":"")+(e.multiline?"m":""),n=i,o=0;o<t.length;o++)-1==n.indexOf(t.charAt(o))&&(n+=t.charAt(o));return i==n?e:new RegExp(e.source,n)}function m(e,t,i){t=p(t,"g");for(var n=i.line,o=i.ch,s=e.lastLine();n<=s;n++,o=0){t.lastIndex=o;var r=e.getLine(n),r=t.exec(r);if(r)return{from:b(n,r.index),to:b(n,r.index+r[0].length),match:r}}}function f(e,t){for(var i,n=0;;){t.lastIndex=n;var o=t.exec(e);if(!o)return i;if((n=(i=o).index+(i[0].length||1))==e.length)return i}}function y(e,t,i,n){if(e.length==t.length)return i;for(var o=0,s=i+Math.max(0,e.length-t.length);;){if(o==s)return o;var r=o+s>>1,a=n(e.slice(0,r)).length;if(a==i)return r;i<a?s=r:o=1+r}}function n(i,n,e,t){var o;this.atOccurrence=!1,this.doc=i,e=e?i.clipPos(e):b(0,0),this.pos={from:e,to:e},"object"==typeof t?o=t.caseFold:(o=t,t=null),"string"==typeof n?(null==o&&(o=!1),this.matches=function(e,t){return(e?function(e,t,i,n){if(!t.length)return null;var o=n?g:v,s=o(t).split(/\r|\n\r?/);e:for(var r=i.line,a=i.ch,l=e.firstLine()-1+s.length;l<=r;r--,a=-1){var d=e.getLine(r),c=o(d=-1<a?d.slice(0,a):d);if(1==s.length){var h=c.lastIndexOf(s[0]);if(-1==h)continue;return{from:b(r,y(d,c,h,o)),to:b(r,y(d,c,h+s[0].length,o))}}h=s[s.length-1];if(c.slice(0,h.length)==h){var u=1;for(i=r-s.length+1;u<s.length-1;u++)if(o(e.getLine(i+u))!=s[u])continue e;var p=e.getLine(r+1-s.length),m=o(p);if(m.slice(m.length-s[0].length)==s[0])return{from:b(r+1-s.length,y(p,m,p.length-s[0].length,o)),to:b(r,y(d,c,h.length,o))}}}}:function(e,t,i,n){if(!t.length)return null;var o=n?g:v,s=o(t).split(/\r|\n\r?/);e:for(var r=i.line,a=i.ch,l=e.lastLine()+1-s.length;r<=l;r++,a=0){var d=e.getLine(r).slice(a),c=o(d);if(1==s.length){var h=c.indexOf(s[0]);if(-1==h)continue;return i=y(d,c,h,o)+a,{from:b(r,y(d,c,h,o)+a),to:b(r,y(d,c,h+s[0].length,o)+a)}}h=c.length-s[0].length;if(c.slice(h)==s[0]){for(var u=1;u<s.length-1;u++)if(o(e.getLine(r+u))!=s[u])continue e;var p=e.getLine(r+s.length-1),m=o(p),f=s[s.length-1];if(m.slice(0,f.length)==f)return{from:b(r,y(d,c,h,o)+a),to:b(r+s.length-1,y(p,m,f.length,o))}}}})(i,n,t,o)}):(n=p(n,"gm"),t&&!1===t.multiline?this.matches=function(e,t){return(e?function(e,t,i){t=p(t,"g");for(var n=i.line,o=i.ch,s=e.firstLine();s<=n;n--,o=-1){var r=e.getLine(n),r=f(r=-1<o?r.slice(0,o):r,t);if(r)return{from:b(n,r.index),to:b(n,r.index+r[0].length),match:r}}}:m)(i,n,t)}:this.matches=function(e,t){return(e?function(e,t,i){t=p(t,"gm");for(var n=1,o=i.line,s=e.firstLine();s<=o;){for(var r=0;r<n;r++)var a=e.getLine(o--),l=null==l?a.slice(0,i.ch):a+"\n"+l;n*=2;var d,c,h,u=f(l,t);if(u)return h=l.slice(0,u.index).split("\n"),d=u[0].split("\n"),c=o+h.length,h=h[h.length-1].length,{from:b(c,h),to:b(c+d.length-1,1==d.length?h+d[0].length:d[d.length-1].length),match:u}}}:function(e,t,i){if(!/\\s|\\n|\n|\\W|\\D|\[\^/.test(t.source))return m(e,t,i);t=p(t,"gm");for(var n=1,o=i.line,s=e.lastLine();o<=s;){for(var r=0;r<n&&!(s<o);r++)var a=e.getLine(o++),l=null==l?a:l+"\n"+a;n*=2,t.lastIndex=i.ch;var d,c,h,u=t.exec(l);if(u)return h=l.slice(0,u.index).split("\n"),d=u[0].split("\n"),c=i.line+h.length-1,h=h[h.length-1].length,{from:b(c,h),to:b(c+d.length-1,1==d.length?h+d[0].length:d[d.length-1].length),match:u}}})(i,n,t)})}v=String.prototype.normalize?(g=function(e){return e.normalize("NFD").toLowerCase()},function(e){return e.normalize("NFD")}):(g=function(e){return e.toLowerCase()},function(e){return e}),n.prototype={findNext:function(){return this.find(!1)},findPrevious:function(){return this.find(!0)},find:function(e){for(var t,i=this.matches(e,this.doc.clipPos(e?this.pos.from:this.pos.to));i&&0==o.cmpPos(i.from,i.to);)e?i.from.ch?i.from=b(i.from.line,i.from.ch-1):i=i.from.line==this.doc.firstLine()?null:this.matches(e,this.doc.clipPos(b(i.from.line-1))):i.to.ch<this.doc.getLine(i.to.line).length?i.to=b(i.to.line,i.to.ch+1):i=i.to.line==this.doc.lastLine()?null:this.matches(e,b(i.to.line+1,0));return i?(this.pos=i,this.atOccurrence=!0,this.pos.match||!0):(t=b(e?this.doc.firstLine():this.doc.lastLine()+1,0),this.pos={from:t,to:t},this.atOccurrence=!1)},from:function(){if(this.atOccurrence)return this.pos.from},to:function(){if(this.atOccurrence)return this.pos.to},replace:function(e,t){this.atOccurrence&&(e=o.splitLines(e),this.doc.replaceRange(e,this.pos.from,this.pos.to,t),this.pos.to=b(this.pos.from.line+e.length-1,e[e.length-1].length+(1==e.length?this.pos.from.ch:0)))}},o.defineExtension("getSearchCursor",function(e,t,i){return new n(this.doc,e,t,i)}),o.defineDocExtension("getSearchCursor",function(e,t,i){return new n(this,e,t,i)}),o.defineExtension("selectMatches",function(e,t){for(var i=[],n=this.getSearchCursor(e,this.getCursor("from"),t);n.findNext()&&!(0<o.cmpPos(n.to(),this.getCursor("to")));)i.push({anchor:n.from(),head:n.to()});i.length&&this.setSelections(i,0)})}("object"==typeof i&&"object"==typeof t?e("../../lib/codemirror"):CodeMirror)},{"../../lib/codemirror":11}],10:[function(e,t,i){!function(n){"use strict";function o(r){r.state.markedSelection&&r.operation(function(){var e=r;if(e.somethingSelected())if(1<e.listSelections().length)d(e);else{var t=e.getCursor("start"),i=e.getCursor("end"),n=e.state.markedSelection;if(n.length){var o=n[0].find(),s=n[n.length-1].find();if(!o||!s||i.line-t.line<=h||0<=p(t,s.to)||p(i,o.from)<=0)d(e);else{for(;0<p(t,o.from);)n.shift().clear(),o=n[0].find();for(p(t,o.from)<0&&(o.to.line-t.line<h?(n.shift().clear(),a(e,t,o.to,0)):a(e,t,o.from,0));p(i,s.to)<0;)n.pop().clear(),s=n[n.length-1].find();0<p(i,s.to)&&(i.line-s.from.line<h?(n.pop().clear(),a(e,s.from,i)):a(e,s.to,i))}}else a(e,t,i)}else l(e)})}function s(e){e.state.markedSelection&&e.state.markedSelection.length&&e.operation(function(){l(e)})}n.defineOption("styleSelectedText",!1,function(e,t,i){i=i&&i!=n.Init;t&&!i?(e.state.markedSelection=[],e.state.markedSelectionStyle="string"==typeof t?t:"CodeMirror-selectedtext",d(e),e.on("cursorActivity",o),e.on("change",s)):!t&&i&&(e.off("cursorActivity",o),e.off("change",s),l(e),e.state.markedSelection=e.state.markedSelectionStyle=null)});var h=8,u=n.Pos,p=n.cmpPos;function a(e,t,i,n){if(0!=p(t,i))for(var o=e.state.markedSelection,s=e.state.markedSelectionStyle,r=t.line;;){var a=r==t.line?t:u(r,0),l=r+h,d=l>=i.line,c=d?i:u(l,0),a=e.markText(a,c,{className:s});if(null==n?o.push(a):o.splice(n++,0,a),d)break;r=l}}function l(e){for(var t=e.state.markedSelection,i=0;i<t.length;++i)t[i].clear();t.length=0}function d(e){l(e);for(var t=e.listSelections(),i=0;i<t.length;i++)a(e,t[i].from(),t[i].to())}}("object"==typeof i&&"object"==typeof t?e("../../lib/codemirror"):CodeMirror)},{"../../lib/codemirror":11}],11:[function(e,t,i){var n=function(){"use strict";var e=navigator.userAgent,a=navigator.platform,v=/gecko\/\d/i.test(e),t=/MSIE \d/.test(e),l=/Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(e),d=/Edge\/(\d+)/.exec(e),N=t||l||d,P=N&&(t?document.documentMode||6:+(d||l)[1]),z=!d&&/WebKit\//.test(e),t=z&&/Qt\/\d+\.\d+/.test(e),c=!d&&/Chrome\//.test(e),x=/Opera\//.test(e),C=/Apple Computer/.test(navigator.vendor),u=/Mac OS X 1\d\D([8-9]|\d\d)\D/.test(e),te=/PhantomJS/.test(e),T=!d&&/AppleWebKit/.test(e)&&/Mobile\/\w+/.test(e),k=/Android/.test(e),D=T||k||/webOS|BlackBerry|Opera Mini|Opera Mobi|IEMobile/i.test(e),ie=T||/Mac/.test(a),ne=/\bCrOS\b/.test(e),l=/win/i.test(a),d=x&&e.match(/Version\/(\d*\.\d*)/),L=((d=d&&Number(d[1]))&&15<=d&&(z=!(x=!1)),ie&&(t||x&&(null==d||d<12.11))),oe=v||N&&9<=P;function A(e){return new RegExp("(^|\\s)"+e+"(?:$|\\s)\\s*")}var I=function(e,t){var i,n=e.className,t=A(t).exec(n);t&&(i=n.slice(t.index+t[0].length),e.className=n.slice(0,t.index)+(i?t[1]+i:""))};function O(e){for(var t=e.childNodes.length;0<t;--t)e.removeChild(e.firstChild);return e}function y(e,t){return O(e).appendChild(t)}function H(e,t,i,n){var o=document.createElement(e);if(i&&(o.className=i),n&&(o.style.cssText=n),"string"==typeof t)o.appendChild(document.createTextNode(t));else if(t)for(var s=0;s<t.length;++s)o.appendChild(t[s]);return o}function E(e,t,i,n){e=H(e,t,i,n);return e.setAttribute("role","presentation"),e}function M(e,t){if(3==t.nodeType&&(t=t.parentNode),e.contains)return e.contains(t);do{if((t=11==t.nodeType?t.host:t)==e)return!0}while(t=t.parentNode)}function se(){var t;try{t=document.activeElement}catch(e){t=document.body||null}for(;t&&t.shadowRoot&&t.shadowRoot.activeElement;)t=t.shadowRoot.activeElement;return t}function $(e,t){var i=e.className;A(t).test(i)||(e.className+=(i?" ":"")+t)}function j(e,t){for(var i=e.split(" "),n=0;n<i.length;n++)i[n]&&!A(i[n]).test(t)&&(t+=" "+i[n]);return t}var re=document.createRange?function(e,t,i,n){var o=document.createRange();return o.setEnd(n||e,i),o.setStart(e,t),o}:function(e,t,i){var n=document.body.createTextRange();try{n.moveToElementText(e.parentNode)}catch(e){return n}return n.collapse(!0),n.moveEnd("character",i),n.moveStart("character",t),n},ae=function(e){e.select()};function le(e){var t=Array.prototype.slice.call(arguments,1);return function(){return e.apply(null,t)}}function de(e,t,i){for(var n in t=t||{},e)!e.hasOwnProperty(n)||!1===i&&t.hasOwnProperty(n)||(t[n]=e[n]);return t}function F(e,t,i,n,o){null==t&&-1==(t=e.search(/[^\s\u00a0]/))&&(t=e.length);for(var s=n||0,r=o||0;;){var a=e.indexOf("\t",s);if(a<0||t<=a)return r+(t-s);r=(r+=a-s)+(i-r%i),s=a+1}}T?ae=function(e){e.selectionStart=0,e.selectionEnd=e.value.length}:N&&(ae=function(e){try{e.select()}catch(e){}});function ce(){this.id=null}function S(e,t){for(var i=0;i<e.length;++i)if(e[i]==t)return i;return-1}var he=30,ue={toString:function(){return"CodeMirror.Pass"}},pe={scroll:!(ce.prototype.set=function(e,t){clearTimeout(this.id),this.id=setTimeout(t,e)})},me={origin:"*mouse"},fe={origin:"+move"};function ge(e,t,i){for(var n=0,o=0;;){var s=e.indexOf("\t",n),r=(s=-1==s?e.length:s)-n;if(s==e.length||t<=o+r)return n+Math.min(r,t-o);if(o+=s-n,n=s+1,t<=(o+=i-o%i))return n}}var ve=[""];function be(e){for(;ve.length<=e;)ve.push(B(ve)+" ");return ve[e]}function B(e){return e[e.length-1]}function ye(e,t){for(var i=[],n=0;n<e.length;n++)i[n]=t(e[n],n);return i}function _e(){}function we(e,t){e=Object.create?Object.create(e):(_e.prototype=e,new _e);return t&&de(t,e),e}var xe=/[\u00df\u0587\u0590-\u05f4\u0600-\u06ff\u3040-\u309f\u30a0-\u30ff\u3400-\u4db5\u4e00-\u9fcc\uac00-\ud7af]/;function Ce(e){return/\w/.test(e)||"Â"<e&&(e.toUpperCase()!=e.toLowerCase()||xe.test(e))}function Se(e,t){return t?!!(-1<t.source.indexOf("\\w")&&Ce(e))||t.test(e):Ce(e)}function Te(e){for(var t in e)if(e.hasOwnProperty(t)&&e[t])return;return 1}var ke=/[\u0300-\u036f\u0483-\u0489\u0591-\u05bd\u05bf\u05c1\u05c2\u05c4\u05c5\u05c7\u0610-\u061a\u064b-\u065e\u0670\u06d6-\u06dc\u06de-\u06e4\u06e7\u06e8\u06ea-\u06ed\u0711\u0730-\u074a\u07a6-\u07b0\u07eb-\u07f3\u0816-\u0819\u081b-\u0823\u0825-\u0827\u0829-\u082d\u0900-\u0902\u093c\u0941-\u0948\u094d\u0951-\u0955\u0962\u0963\u0981\u09bc\u09be\u09c1-\u09c4\u09cd\u09d7\u09e2\u09e3\u0a01\u0a02\u0a3c\u0a41\u0a42\u0a47\u0a48\u0a4b-\u0a4d\u0a51\u0a70\u0a71\u0a75\u0a81\u0a82\u0abc\u0ac1-\u0ac5\u0ac7\u0ac8\u0acd\u0ae2\u0ae3\u0b01\u0b3c\u0b3e\u0b3f\u0b41-\u0b44\u0b4d\u0b56\u0b57\u0b62\u0b63\u0b82\u0bbe\u0bc0\u0bcd\u0bd7\u0c3e-\u0c40\u0c46-\u0c48\u0c4a-\u0c4d\u0c55\u0c56\u0c62\u0c63\u0cbc\u0cbf\u0cc2\u0cc6\u0ccc\u0ccd\u0cd5\u0cd6\u0ce2\u0ce3\u0d3e\u0d41-\u0d44\u0d4d\u0d57\u0d62\u0d63\u0dca\u0dcf\u0dd2-\u0dd4\u0dd6\u0ddf\u0e31\u0e34-\u0e3a\u0e47-\u0e4e\u0eb1\u0eb4-\u0eb9\u0ebb\u0ebc\u0ec8-\u0ecd\u0f18\u0f19\u0f35\u0f37\u0f39\u0f71-\u0f7e\u0f80-\u0f84\u0f86\u0f87\u0f90-\u0f97\u0f99-\u0fbc\u0fc6\u102d-\u1030\u1032-\u1037\u1039\u103a\u103d\u103e\u1058\u1059\u105e-\u1060\u1071-\u1074\u1082\u1085\u1086\u108d\u109d\u135f\u1712-\u1714\u1732-\u1734\u1752\u1753\u1772\u1773\u17b7-\u17bd\u17c6\u17c9-\u17d3\u17dd\u180b-\u180d\u18a9\u1920-\u1922\u1927\u1928\u1932\u1939-\u193b\u1a17\u1a18\u1a56\u1a58-\u1a5e\u1a60\u1a62\u1a65-\u1a6c\u1a73-\u1a7c\u1a7f\u1b00-\u1b03\u1b34\u1b36-\u1b3a\u1b3c\u1b42\u1b6b-\u1b73\u1b80\u1b81\u1ba2-\u1ba5\u1ba8\u1ba9\u1c2c-\u1c33\u1c36\u1c37\u1cd0-\u1cd2\u1cd4-\u1ce0\u1ce2-\u1ce8\u1ced\u1dc0-\u1de6\u1dfd-\u1dff\u200c\u200d\u20d0-\u20f0\u2cef-\u2cf1\u2de0-\u2dff\u302a-\u302f\u3099\u309a\ua66f-\ua672\ua67c\ua67d\ua6f0\ua6f1\ua802\ua806\ua80b\ua825\ua826\ua8c4\ua8e0-\ua8f1\ua926-\ua92d\ua947-\ua951\ua980-\ua982\ua9b3\ua9b6-\ua9b9\ua9bc\uaa29-\uaa2e\uaa31\uaa32\uaa35\uaa36\uaa43\uaa4c\uaab0\uaab2-\uaab4\uaab7\uaab8\uaabe\uaabf\uaac1\uabe5\uabe8\uabed\udc00-\udfff\ufb1e\ufe00-\ufe0f\ufe20-\ufe26\uff9e\uff9f]/;function De(e){return 768<=e.charCodeAt(0)&&ke.test(e)}function Le(e,t,i){for(;(i<0?0<t:t<e.length)&&De(e.charAt(t));)t+=i;return t}function Ae(e,t,i){for(var n=i<t?-1:1;;){if(t==i)return t;var o=(t+i)/2,o=n<0?Math.ceil(o):Math.floor(o);if(o==t)return e(o)?t:i;e(o)?i=o:t=o+n}}function R(e,t){if((t-=e.first)<0||t>=e.size)throw new Error("There is no line "+(t+e.first)+" in the document.");for(var i=e;!i.lines;)for(var n=0;;++n){var o=i.children[n],s=o.chunkSize();if(t<s){i=o;break}t-=s}return i.lines[t]}function Ie(e,t,i){var n=[],o=t.line;return e.iter(t.line,i.line+1,function(e){e=e.text;o==i.line&&(e=e.slice(0,i.ch)),o==t.line&&(e=e.slice(t.ch)),n.push(e),++o}),n}function Oe(e,t,i){var n=[];return e.iter(t,i,function(e){n.push(e.text)}),n}function Ee(e,t){var i=t-e.height;if(i)for(var n=e;n;n=n.parent)n.height+=i}function _(e){if(null==e.parent)return null;for(var t=e.parent,i=S(t.lines,e),n=t.parent;n;n=(t=n).parent)for(var o=0;n.children[o]!=t;++o)i+=n.children[o].chunkSize();return i+t.first}function Me(e,t){var i=e.first;e:do{for(var n=0;n<e.children.length;++n){var o=e.children[n],s=o.height;if(t<s){e=o;continue e}t-=s,i+=o.chunkSize()}return i}while(!e.lines);for(var r=0;r<e.lines.length;++r){var a=e.lines[r].height;if(t<a)break;t-=a}return i+r}function $e(e,t){return t>=e.first&&t<e.first+e.size}function je(e,t){return String(e.lineNumberFormatter(t+e.firstLineNumber))}function U(e,t,i){if(void 0===i&&(i=null),!(this instanceof U))return new U(e,t,i);this.line=e,this.ch=t,this.sticky=i}function W(e,t){return e.line-t.line||e.ch-t.ch}function Ne(e,t){return e.sticky==t.sticky&&0==W(e,t)}function Pe(e){return U(e.line,e.ch)}function ze(e,t){return W(e,t)<0?t:e}function He(e,t){return W(e,t)<0?e:t}function Fe(e,t){return Math.max(e.first,Math.min(t,e.first+e.size-1))}function q(e,t){var i;return t.line<e.first?U(e.first,0):(i=e.first+e.size-1,t.line>i?U(i,R(e,i).text.length):(e=R(e,(i=t).line).text.length,null==(t=i.ch)||e<t?U(i.line,e):t<0?U(i.line,0):i))}function Be(e,t){for(var i=[],n=0;n<t.length;n++)i[n]=q(e,t[n]);return i}var Re=!1,Ue=!1;function We(e,t,i){this.marker=e,this.from=t,this.to=i}function qe(e,t){if(e)for(var i=0;i<e.length;++i){var n=e[i];if(n.marker==t)return n}}function Ve(e,t){if(t.full)return null;var i=$e(e,t.from.line)&&R(e,t.from.line).markedSpans,e=$e(e,t.to.line)&&R(e,t.to.line).markedSpans;if(!i&&!e)return null;var n=t.from.ch,o=t.to.ch,s=0==W(t.from,t.to),r=function(e,t,i){var n;if(e)for(var o=0;o<e.length;++o){var s,r=e[o],a=r.marker;null!=r.from&&!(a.inclusiveLeft?r.from<=t:r.from<t)&&(r.from!=t||"bookmark"!=a.type||i&&r.marker.insertLeft)||(s=null==r.to||(a.inclusiveRight?r.to>=t:r.to>t),(n=n||[]).push(new We(a,r.from,s?null:r.to)))}return n}(i,n,s),a=function(e,t,i){var n;if(e)for(var o=0;o<e.length;++o){var s,r=e[o],a=r.marker;null!=r.to&&!(a.inclusiveRight?r.to>=t:r.to>t)&&(r.from!=t||"bookmark"!=a.type||i&&!r.marker.insertLeft)||(s=null==r.from||(a.inclusiveLeft?r.from<=t:r.from<t),(n=n||[]).push(new We(a,s?null:r.from-t,null==r.to?null:r.to-t)))}return n}(e,o,s),l=1==t.text.length,d=B(t.text).length+(l?n:0);if(r)for(var c=0;c<r.length;++c){var h,u=r[c];null==u.to&&((h=qe(a,u.marker))?l&&(u.to=null==h.to?null:h.to+d):u.to=n)}if(a)for(var p=0;p<a.length;++p){var m=a[p];null!=m.to&&(m.to+=d),null==m.from?qe(r,m.marker)||(m.from=d,l&&(r=r||[]).push(m)):(m.from+=d,l&&(r=r||[]).push(m))}r=r&&Ge(r),a&&a!=r&&(a=Ge(a));var f=[r];if(!l){var g,v=t.text.length-2;if(0<v&&r)for(var b=0;b<r.length;++b)null==r[b].to&&(g=g||[]).push(new We(r[b].marker,null,null));for(var y=0;y<v;++y)f.push(g);f.push(a)}return f}function Ge(e){for(var t=0;t<e.length;++t){var i=e[t];null!=i.from&&i.from==i.to&&!1!==i.marker.clearWhenEmpty&&e.splice(t--,1)}return e.length?e:null}function Ke(e){var t=e.markedSpans;if(t){for(var i=0;i<t.length;++i)t[i].marker.detachLine(e);e.markedSpans=null}}function Xe(e,t){if(t){for(var i=0;i<t.length;++i)t[i].marker.attachLine(e);e.markedSpans=t}}function Ye(e){return e.inclusiveLeft?-1:0}function Qe(e){return e.inclusiveRight?1:0}function Je(e,t){var i,n,o=e.lines.length-t.lines.length;return 0!=o?o:(o=e.find(),i=t.find(),(n=W(o.from,i.from)||Ye(e)-Ye(t))?-n:W(o.to,i.to)||Qe(e)-Qe(t)||t.id-e.id)}function Ze(e,t){var i,n=Ue&&e.markedSpans;if(n)for(var o,s=0;s<n.length;++s)(o=n[s]).marker.collapsed&&null==(t?o.from:o.to)&&(!i||Je(i,o.marker)<0)&&(i=o.marker);return i}function et(e){return Ze(e,!0)}function tt(e){return Ze(e,!1)}function it(e,t,i,n,o){var e=R(e,t),s=Ue&&e.markedSpans;if(s)for(var r=0;r<s.length;++r){var a=s[r];if(a.marker.collapsed){var l=a.marker.find(0),d=W(l.from,i)||Ye(a.marker)-Ye(o),c=W(l.to,n)||Qe(a.marker)-Qe(o);if(!(0<=d&&c<=0||d<=0&&0<=c)&&(d<=0&&(a.marker.inclusiveRight&&o.inclusiveLeft?0<=W(l.to,i):0<W(l.to,i))||0<=d&&(a.marker.inclusiveRight&&o.inclusiveLeft?W(l.from,n)<=0:W(l.from,n)<0)))return 1}}}function nt(e){for(var t;t=et(e);)e=t.find(-1,!0).line;return e}function ot(e,t){var e=R(e,t),i=nt(e);return e==i?t:_(i)}function st(e,t){if(t>e.lastLine())return t;var i,n=R(e,t);if(!rt(e,n))return t;for(;i=tt(n);)n=i.find(1,!0).line;return _(n)+1}function rt(e,t){var i=Ue&&t.markedSpans;if(i)for(var n,o=0;o<i.length;++o)if((n=i[o]).marker.collapsed){if(null==n.from)return!0;if(!n.marker.widgetNode&&0==n.from&&n.marker.inclusiveLeft&&function e(t,i,n){{var o;if(null==n.to)return o=n.marker.find(1,!0),e(t,o.line,qe(o.line.markedSpans,n.marker))}if(n.marker.inclusiveRight&&n.to==i.text.length)return!0;for(var s=void 0,r=0;r<i.markedSpans.length;++r)if((s=i.markedSpans[r]).marker.collapsed&&!s.marker.widgetNode&&s.from==n.to&&(null==s.to||s.to!=n.from)&&(s.marker.inclusiveLeft||n.marker.inclusiveRight)&&e(t,i,s))return!0}(e,t,n))return!0}}function at(e){for(var t=0,i=(e=nt(e)).parent,n=0;n<i.lines.length;++n){var o=i.lines[n];if(o==e)break;t+=o.height}for(var s=i.parent;s;s=(i=s).parent)for(var r=0;r<s.children.length;++r){var a=s.children[r];if(a==i)break;t+=a.height}return t}function lt(e){if(0==e.height)return 0;for(var t,i=e.text.length,n=e;t=et(n);){var o=t.find(0,!0),n=o.from.line;i+=o.from.ch-o.to.ch}for(n=e;t=tt(n);)var s=t.find(0,!0),i=(i-=n.text.length-s.from.ch)+((n=s.to.line).text.length-s.to.ch);return i}function dt(e){var i=e.display,e=e.doc;i.maxLine=R(e,e.first),i.maxLineLength=lt(i.maxLine),i.maxLineChanged=!0,e.iter(function(e){var t=lt(e);t>i.maxLineLength&&(i.maxLineLength=t,i.maxLine=e)})}var ct=null;function ht(e,t,i){var n;ct=null;for(var o=0;o<e.length;++o){var s=e[o];if(s.from<t&&s.to>t)return o;s.to==t&&(s.from!=s.to&&"before"==i?n=o:ct=o),s.from==t&&(s.from!=s.to&&"before"!=i?n=o:ct=o)}return null!=n?n:ct}ut=/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac]/,pt=/[stwN]/,mt=/[LRr]/,ft=/[Lb1n]/,gt=/[1n]/;var ut,pt,mt,ft,gt,vt=function(e,t){var i="ltr"==t?"L":"R";if(0==e.length||"ltr"==t&&!ut.test(e))return!1;for(var n,o=e.length,s=[],r=0;r<o;++r)s.push((n=e.charCodeAt(r))<=247?"bbbbbbbbbtstwsbbbbbbbbbbbbbbssstwNN%%%NNNNNN,N,N1111111111NNNNNNNLLLLLLLLLLLLLLLLLLLLLLLLLLNNNNNNLLLLLLLLLLLLLLLLLLLLLLLLLLNNNNbbbbbbsbbbbbbbbbbbbbbbbbbbbbbbbbb,N%%%%NNNNLNNNNN%%11NLNNN1LNNNNNLLLLLLLLLLLLLLLLLLLLLLLNLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLN".charAt(n):1424<=n&&n<=1524?"R":1536<=n&&n<=1785?"nnnnnnNNr%%r,rNNmmmmmmmmmmmrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrmmmmmmmmmmmmmmmmmmmmmnnnnnnnnnn%nnrrrmrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrmmmmmmmnNmmmmmmrrmmNmmmmrr1111111111".charAt(n-1536):1774<=n&&n<=2220?"r":8192<=n&&n<=8203?"w":8204==n?"b":"L");for(var a=0,l=i;a<o;++a){var d=s[a];"m"==d?s[a]=l:l=d}for(var c=0,h=i;c<o;++c){var u=s[c];"1"==u&&"r"==h?s[c]="n":mt.test(u)&&"r"==(h=u)&&(s[c]="R")}for(var p=1,m=s[0];p<o-1;++p){var f=s[p];"+"==f&&"1"==m&&"1"==s[p+1]?s[p]="1":","!=f||m!=s[p+1]||"1"!=m&&"n"!=m||(s[p]=m),m=f}for(var g=0;g<o;++g){var v=s[g];if(","==v)s[g]="N";else if("%"==v){for(var b=void 0,b=g+1;b<o&&"%"==s[b];++b);for(var y=g&&"!"==s[g-1]||b<o&&"1"==s[b]?"1":"N",_=g;_<b;++_)s[_]=y;g=b-1}}for(var w=0,x=i;w<o;++w){var C=s[w];"L"==x&&"1"==C?s[w]="L":mt.test(C)&&(x=C)}for(var S=0;S<o;++S)if(pt.test(s[S])){for(var T=void 0,T=S+1;T<o&&pt.test(s[T]);++T);for(var k="L"==(S?s[S-1]:i),D=k==("L"==(T<o?s[T]:i))?k?"L":"R":i,L=S;L<T;++L)s[L]=D;S=T-1}for(var A,I=[],O=0;O<o;)if(ft.test(s[O])){var E=O;for(++O;O<o&&ft.test(s[O]);++O);I.push(new bt(0,E,O))}else{var M=O,$=I.length;for(++O;O<o&&"L"!=s[O];++O);for(var j=M;j<O;)if(gt.test(s[j])){M<j&&I.splice($,0,new bt(1,M,j));var N=j;for(++j;j<O&&gt.test(s[j]);++j);I.splice($,0,new bt(2,N,j)),M=j}else++j;M<O&&I.splice($,0,new bt(1,M,O))}return"ltr"==t&&(1==I[0].level&&(A=e.match(/^\s+/))&&(I[0].from=A[0].length,I.unshift(new bt(0,0,A[0].length))),1==B(I).level)&&(A=e.match(/\s+$/))&&(B(I).to-=A[0].length,I.push(new bt(0,o-A[0].length,o))),"rtl"==t?I.reverse():I};function bt(e,t,i){this.level=e,this.from=t,this.to=i}function yt(e,t){var i=e.order;return i=null==i?e.order=vt(e.text,t):i}var _t=[],V=function(e,t,i){e.addEventListener?e.addEventListener(t,i,!1):e.attachEvent?e.attachEvent("on"+t,i):(e=e._handlers||(e._handlers={}))[t]=(e[t]||_t).concat(i)};function wt(e,t){return e._handlers&&e._handlers[t]||_t}function G(e,t,i){var n;e.removeEventListener?e.removeEventListener(t,i,!1):e.detachEvent?e.detachEvent("on"+t,i):(n=(e=e._handlers)&&e[t])&&-1<(i=S(n,i))&&(e[t]=n.slice(0,i).concat(n.slice(i+1)))}function K(e,t){var i=wt(e,t);if(i.length)for(var n=Array.prototype.slice.call(arguments,2),o=0;o<i.length;++o)i[o].apply(null,n)}function X(e,t,i){return"string"==typeof t&&(t={type:t,preventDefault:function(){this.defaultPrevented=!0}}),K(e,i||t.type,e,t),kt(t)||t.codemirrorIgnore}function xt(e){var t=e._handlers&&e._handlers.cursorActivity;if(t)for(var i=e.curOp.cursorActivityHandlers||(e.curOp.cursorActivityHandlers=[]),n=0;n<t.length;++n)-1==S(i,t[n])&&i.push(t[n])}function Ct(e,t){return 0<wt(e,t).length}function St(e){e.prototype.on=function(e,t){V(this,e,t)},e.prototype.off=function(e,t){G(this,e,t)}}function Y(e){e.preventDefault?e.preventDefault():e.returnValue=!1}function Tt(e){e.stopPropagation?e.stopPropagation():e.cancelBubble=!0}function kt(e){return null!=e.defaultPrevented?e.defaultPrevented:0==e.returnValue}function Dt(e){Y(e),Tt(e)}function Lt(e){return e.target||e.srcElement}function At(e){var t=e.which;return null==t&&(1&e.button?t=1:2&e.button?t=3:4&e.button&&(t=2)),t=ie&&e.ctrlKey&&1==t?3:t}var It,Ot,Et=!(N&&P<9)&&("draggable"in(a=H("div"))||"dragDrop"in a);var Mt=3!="\n\nb".split(/\n/).length?function(e){for(var t=0,i=[],n=e.length;t<=n;){var o=e.indexOf("\n",t),s=(-1==o&&(o=e.length),e.slice(t,"\r"==e.charAt(o-1)?o-1:o)),r=s.indexOf("\r");-1!=r?(i.push(s.slice(0,r)),t+=r+1):(i.push(s),t=o+1)}return i}:function(e){return e.split(/\r\n?|\n/)},$t=window.getSelection?function(e){try{return e.selectionStart!=e.selectionEnd}catch(e){return!1}}:function(e){var t;try{t=e.ownerDocument.selection.createRange()}catch(e){}return!(!t||t.parentElement()!=e)&&0!=t.compareEndPoints("StartToEnd",t)},jt="oncopy"in(e=H("div"))||(e.setAttribute("oncopy","return;"),"function"==typeof e.oncopy),Nt=null,Pt={},zt={};function Ht(e){if("string"==typeof e&&zt.hasOwnProperty(e))e=zt[e];else if(e&&"string"==typeof e.name&&zt.hasOwnProperty(e.name)){var t=zt[e.name];(e=we(t="string"==typeof t?{name:t}:t,e)).name=t.name}else{if("string"==typeof e&&/^[\w\-]+\/[\w\-]+\+xml$/.test(e))return Ht("application/xml");if("string"==typeof e&&/^[\w\-]+\/[\w\-]+\+json$/.test(e))return Ht("application/json")}return"string"==typeof e?{name:e}:e||{name:"null"}}function Ft(e,t){t=Ht(t);var i=Pt[t.name];if(!i)return Ft(e,"text/plain");var n=i(e,t);if(Bt.hasOwnProperty(t.name)){var o,s=Bt[t.name];for(o in s)s.hasOwnProperty(o)&&(n.hasOwnProperty(o)&&(n["_"+o]=n[o]),n[o]=s[o])}if(n.name=t.name,t.helperType&&(n.helperType=t.helperType),t.modeProps)for(var r in t.modeProps)n[r]=t.modeProps[r];return n}var Bt={};function Rt(e,t){if(!0===t)return t;if(e.copyState)return e.copyState(t);var i,n={};for(i in t){var o=t[i];o instanceof Array&&(o=o.concat([])),n[i]=o}return n}function Ut(e,t){for(var i;e.innerMode&&(i=e.innerMode(t))&&i.mode!=e;)t=i.state,e=i.mode;return i||{mode:e,state:t}}function Wt(e,t,i){return!e.startState||e.startState(t,i)}function f(e,t,i){this.pos=this.start=0,this.string=e,this.tabSize=t||8,this.lastColumnPos=this.lastColumnValue=0,this.lineStart=0,this.lineOracle=i}f.prototype.eol=function(){return this.pos>=this.string.length},f.prototype.sol=function(){return this.pos==this.lineStart},f.prototype.peek=function(){return this.string.charAt(this.pos)||void 0},f.prototype.next=function(){if(this.pos<this.string.length)return this.string.charAt(this.pos++)},f.prototype.eat=function(e){var t=this.string.charAt(this.pos);if("string"==typeof e?t==e:t&&(e.test?e.test(t):e(t)))return++this.pos,t},f.prototype.eatWhile=function(e){for(var t=this.pos;this.eat(e););return this.pos>t},f.prototype.eatSpace=function(){for(var e=this.pos;/[\s\u00a0]/.test(this.string.charAt(this.pos));)++this.pos;return this.pos>e},f.prototype.skipToEnd=function(){this.pos=this.string.length},f.prototype.skipTo=function(e){e=this.string.indexOf(e,this.pos);if(-1<e)return this.pos=e,!0},f.prototype.backUp=function(e){this.pos-=e},f.prototype.column=function(){return this.lastColumnPos<this.start&&(this.lastColumnValue=F(this.string,this.start,this.tabSize,this.lastColumnPos,this.lastColumnValue),this.lastColumnPos=this.start),this.lastColumnValue-(this.lineStart?F(this.string,this.lineStart,this.tabSize):0)},f.prototype.indentation=function(){return F(this.string,null,this.tabSize)-(this.lineStart?F(this.string,this.lineStart,this.tabSize):0)},f.prototype.match=function(e,t,i){var n;return"string"!=typeof e?(n=this.string.slice(this.pos).match(e))&&0<n.index?null:(n&&!1!==t&&(this.pos+=n[0].length),n):(n=function(e){return i?e.toLowerCase():e})(this.string.substr(this.pos,e.length))==n(e)?(!1!==t&&(this.pos+=e.length),!0):void 0},f.prototype.current=function(){return this.string.slice(this.start,this.pos)},f.prototype.hideFirstChars=function(e,t){this.lineStart+=e;try{return t()}finally{this.lineStart-=e}},f.prototype.lookAhead=function(e){var t=this.lineOracle;return t&&t.lookAhead(e)},f.prototype.baseToken=function(){var e=this.lineOracle;return e&&e.baseToken(this.pos)};var qt=function(e,t){this.state=e,this.lookAhead=t},Vt=function(e,t,i,n){this.state=t,this.doc=e,this.line=i,this.maxLookAhead=n||0,this.baseTokens=null,this.baseTokenPos=1};function Gt(t,i,n,e){var l=[t.state.modeGen],o={};ii(t,i.text,t.doc.mode,n,function(e,t){l.push(e,t)},o,e);for(var d=n.state,s=0;s<t.state.overlays.length;++s)!function(e){n.baseTokens=l;var s=t.state.overlays[e],r=1,a=0;n.state=!0,ii(t,i.text,s.mode,n,function(e,t){for(var i=r;a<e;){var n=l[r];e<n&&l.splice(r,1,e,l[r+1],n),r+=2,a=Math.min(e,n)}if(t)if(s.opaque)l.splice(i,r-i,e,"overlay "+t),r=i+2;else for(;i<r;i+=2){var o=l[i+1];l[i+1]=(o?o+" ":"")+"overlay "+t}},o),n.state=d,n.baseTokens=null,n.baseTokenPos=1}(s);return{styles:l,classes:o.bgClass||o.textClass?o:null}}function Kt(e,t,i){var n,o,s;return t.styles&&t.styles[0]==e.state.modeGen||(n=Xt(e,_(t)),o=t.text.length>e.options.maxHighlightLength&&Rt(e.doc.mode,n.state),s=Gt(e,t,n),o&&(n.state=o),t.stateAfter=n.save(!o),t.styles=s.styles,s.classes?t.styleClasses=s.classes:t.styleClasses&&(t.styleClasses=null),i===e.doc.highlightFrontier&&(e.doc.modeFrontier=Math.max(e.doc.modeFrontier,++e.doc.highlightFrontier))),t.styles}function Xt(i,d,e){var t,n,o,s=i.doc,r=i.display;return s.mode.startState?(n=(t=function(e,t){for(var i,n,o=e.doc,s=t?-1:d-(e.doc.mode.innerMode?1e3:100),r=d;s<r;--r){if(r<=o.first)return o.first;var a=R(o,r-1),l=a.stateAfter;if(l&&(!t||r+(l instanceof qt?l.lookAhead:0)<=o.modeFrontier))return r;l=F(a.text,null,e.options.tabSize);(null==n||l<i)&&(n=r-1,i=l)}return n}(i,e))>s.first&&R(s,t-1).stateAfter,o=n?Vt.fromSaved(s,n,t):new Vt(s,Wt(s.mode),t),s.iter(t,d,function(e){Yt(i,e.text,o);var t=o.line;e.stateAfter=t==d-1||t%5==0||t>=r.viewFrom&&t<r.viewTo?o.save():null,o.nextLine()}),e&&(s.modeFrontier=o.line),o):new Vt(s,!0,d)}function Yt(e,t,i,n){var o=e.doc.mode,s=new f(t,e.options.tabSize,i);for(s.start=s.pos=n||0,""==t&&Qt(o,i.state);!s.eol();)Jt(o,s,i.state),s.start=s.pos}function Qt(e,t){return e.blankLine?e.blankLine(t):e.innerMode&&(e=Ut(e,t)).mode.blankLine?e.mode.blankLine(e.state):void 0}function Jt(e,t,i,n){for(var o=0;o<10;o++){n&&(n[0]=Ut(e,i).mode);var s=e.token(t,i);if(t.pos>t.start)return s}throw new Error("Mode "+e.name+" failed to advance stream.")}Vt.prototype.lookAhead=function(e){var t=this.doc.getLine(this.line+e);return null!=t&&e>this.maxLookAhead&&(this.maxLookAhead=e),t},Vt.prototype.baseToken=function(e){if(!this.baseTokens)return null;for(;this.baseTokens[this.baseTokenPos]<=e;)this.baseTokenPos+=2;var t=this.baseTokens[this.baseTokenPos+1];return{type:t&&t.replace(/( |^)overlay .*/,""),size:this.baseTokens[this.baseTokenPos]-e}},Vt.prototype.nextLine=function(){this.line++,0<this.maxLookAhead&&this.maxLookAhead--},Vt.fromSaved=function(e,t,i){return t instanceof qt?new Vt(e,Rt(e.mode,t.state),i,t.lookAhead):new Vt(e,Rt(e.mode,t),i)},Vt.prototype.save=function(e){e=!1!==e?Rt(this.doc.mode,this.state):this.state;return 0<this.maxLookAhead?new qt(e,this.maxLookAhead):e};function Zt(e,t,i){this.start=e.start,this.end=e.pos,this.string=e.current(),this.type=t||null,this.state=i}function ei(e,t,i,n){var o,s,r=e.doc,a=r.mode,l=R(r,(t=q(r,t)).line),d=Xt(e,t.line,i),c=new f(l.text,e.options.tabSize,d);for(n&&(s=[]);(n||c.pos<t.ch)&&!c.eol();)c.start=c.pos,o=Jt(a,c,d.state),n&&s.push(new Zt(c,o,Rt(r.mode,d.state)));return n?s:new Zt(c,o,d.state)}function ti(e,t){if(e)for(;;){var i=e.match(/(?:^|\s+)line-(background-)?(\S+)/);if(!i)break;e=e.slice(0,i.index)+e.slice(i.index+i[0].length);var n=i[1]?"bgClass":"textClass";null==t[n]?t[n]=i[2]:new RegExp("(?:^|s)"+i[2]+"(?:$|s)").test(t[n])||(t[n]+=" "+i[2])}return e}function ii(e,t,i,n,o,s,r){var a=i.flattenSpans;null==a&&(a=e.options.flattenSpans);var l=0,d=null,c=new f(t,e.options.tabSize,n),h=e.options.addModeClass&&[null];for(""==t&&ti(Qt(i,n.state),s);!c.eol();){var u,p=c.pos>e.options.maxHighlightLength?(a=!1,r&&Yt(e,t,n,c.pos),c.pos=t.length,null):ti(Jt(i,c,n.state,h),s);if(h&&(u=h[0].name)&&(p="m-"+(p?u+" "+p:u)),!a||d!=p){for(;l<c.start;)o(l=Math.min(c.start,l+5e3),d);d=p}c.start=c.pos}for(;l<c.pos;){var m=Math.min(c.pos,l+5e3);o(m,d),l=m}}var ni=function(e,t,i){this.text=e,Xe(this,t),this.height=i?i(this):1},oi=(ni.prototype.lineNo=function(){return _(this)},St(ni),{}),si={};function ri(e,t){return!e||/^\s*$/.test(e)?null:(t=t.addModeClass?si:oi)[e]||(t[e]=e.replace(/\S+/g,"cm-$&"))}function ai(e,t){var i=E("span",null,null,z?"padding-right: .1px":null),n={pre:E("pre",[i],"CodeMirror-line"),content:i,col:0,pos:0,cm:e,trailingSpace:!1,splitSpaces:e.getOption("lineWrapping")};t.measure={};for(var o,s,r,a=0;a<=(t.rest?t.rest.length:0);a++){var l=a?t.rest[a-1]:t.line,d=void 0;n.pos=0,n.addToken=di,o=e.display.measure,r=s=void 0,(null!=Ot?Ot:(r=y(o,document.createTextNode("AØ®A")),s=re(r,0,1).getBoundingClientRect(),r=re(r,1,2).getBoundingClientRect(),O(o),s&&s.left!=s.right&&(Ot=r.right-s.right<3)))&&(d=yt(l,e.doc.direction))&&(n.addToken=function(h,u){return function(e,t,i,n,o,s,r){i=i?i+" cm-force-border":"cm-force-border";for(var a=e.pos,l=a+t.length;;){for(var d=void 0,c=0;c<u.length&&!((d=u[c]).to>a&&d.from<=a);c++);if(d.to>=l)return h(e,t,i,n,o,s,r);h(e,t.slice(0,d.to-a),i,n,null,s,r),n=null,t=t.slice(d.to-a),a=d.to}}}(n.addToken,d)),n.map=[],function(e,t,i){var n=e.markedSpans,o=e.text,s=0;if(n)for(var r,a,l,d,c,h,u,p=o.length,m=0,f=1,g="",v=0;;){if(v==m){l=d=c=h=a="",u=null,v=1/0;for(var b=[],y=void 0,_=0;_<n.length;++_){var w=n[_],x=w.marker;"bookmark"==x.type&&w.from==m&&x.widgetNode?b.push(x):w.from<=m&&(null==w.to||w.to>m||x.collapsed&&w.to==m&&w.from==m)?(null!=w.to&&w.to!=m&&v>w.to&&(v=w.to,d=""),x.className&&(l+=" "+x.className),x.css&&(a=(a?a+";":"")+x.css),x.startStyle&&w.from==m&&(c+=" "+x.startStyle),x.endStyle&&w.to==v&&(y=y||[]).push(x.endStyle,w.to),x.title&&!h&&(h=x.title),x.collapsed&&(!u||Je(u.marker,x)<0)&&(u=w)):w.from>m&&v>w.from&&(v=w.from)}if(y)for(var C=0;C<y.length;C+=2)y[C+1]==v&&(d+=" "+y[C]);if(!u||u.from==m)for(var S=0;S<b.length;++S)ci(t,0,b[S]);if(u&&(u.from||0)==m){if(ci(t,(null==u.to?p+1:u.to)-m,u.marker,null==u.from),null==u.to)return;u.to==m&&(u=!1)}}if(p<=m)break;for(var T=Math.min(p,v);;){if(g){var k,D=m+g.length;if(u||(k=T<D?g.slice(0,T-m):g,t.addToken(t,k,r?r+l:l,c,m+k.length==v?d:"",h,a)),T<=D){g=g.slice(T-m),m=T;break}m=D,c=""}g=o.slice(s,s=i[f++]),r=ri(i[f++],t.cm.options)}}else for(var L=1;L<i.length;L+=2)t.addToken(t,o.slice(s,s=i[L]),ri(i[L+1],t.cm.options))}(l,n,Kt(e,l,t!=e.display.externalMeasured&&_(l))),l.styleClasses&&(l.styleClasses.bgClass&&(n.bgClass=j(l.styleClasses.bgClass,n.bgClass||"")),l.styleClasses.textClass)&&(n.textClass=j(l.styleClasses.textClass,n.textClass||"")),0==n.map.length&&n.map.push(0,0,n.content.appendChild((o=e.display.measure,r=void 0,(o=(It=null==It&&(r=H("span","â"),y(o,H("span",[r,document.createTextNode("x")])),0!=o.firstChild.offsetHeight)?r.offsetWidth<=1&&2<r.offsetHeight&&!(N&&P<8):It)?H("span","â"):H("span"," ",null,"display: inline-block; width: 1px; margin-right: -1px")).setAttribute("cm-text",""),o))),0==a?(t.measure.map=n.map,t.measure.cache={}):((t.measure.maps||(t.measure.maps=[])).push(n.map),(t.measure.caches||(t.measure.caches=[])).push({}))}return z&&(i=n.content.lastChild,/\bcm-tab\b/.test(i.className)||i.querySelector&&i.querySelector(".cm-tab"))&&(n.content.className="cm-tab-wrap-hack"),K(e,"renderLine",e,t.line,n.pre),n.pre.className&&(n.textClass=j(n.pre.className,n.textClass||"")),n}function li(e){var t=H("span","â¢","cm-invalidchar");return t.title="\\u"+e.charCodeAt(0).toString(16),t.setAttribute("aria-label",t.title),t}function di(e,t,i,n,o,s,r){if(t){var a=e.splitSpaces?function(e,t){if(1<e.length&&!/  /.test(e))return e;for(var i=t,n="",o=0;o<e.length;o++){var s=e.charAt(o);n+=s=" "!=s||!i||o!=e.length-1&&32!=e.charCodeAt(o+1)?s:" ",i=" "==s}return n}(t,e.trailingSpace):t,l=e.cm.state.specialChars,d=!1;if(l.test(t))for(var c=document.createDocumentFragment(),h=0;;){l.lastIndex=h;var u=l.exec(t),p=u?u.index-h:t.length-h;if(p&&(m=document.createTextNode(a.slice(h,h+p)),N&&P<9?c.appendChild(H("span",[m])):c.appendChild(m),e.map.push(e.pos,e.pos+p,m),e.col+=p,e.pos+=p),!u)break;h+=1+p;var m=void 0;"\t"==u[0]?(p=(p=e.cm.options.tabSize)-e.col%p,(m=c.appendChild(H("span",be(p),"cm-tab"))).setAttribute("role","presentation"),m.setAttribute("cm-text","\t"),e.col+=p):("\r"==u[0]||"\n"==u[0]?(m=c.appendChild(H("span","\r"==u[0]?"â":"â¤","cm-invalidchar"))).setAttribute("cm-text",u[0]):((m=e.cm.options.specialCharPlaceholder(u[0])).setAttribute("cm-text",u[0]),N&&P<9?c.appendChild(H("span",[m])):c.appendChild(m)),e.col+=1),e.map.push(e.pos,e.pos+1,m),e.pos++}else e.col+=t.length,c=document.createTextNode(a),e.map.push(e.pos,e.pos+t.length,c),N&&P<9&&(d=!0),e.pos+=t.length;if(e.trailingSpace=32==a.charCodeAt(t.length-1),i||n||o||d||r)return d=i||"",n&&(d+=n),o&&(d+=o),i=H("span",[c],d,r),s&&(i.title=s),e.content.appendChild(i);e.content.appendChild(c)}}function ci(e,t,i,n){var o=!n&&i.widgetNode;o&&e.map.push(e.pos,e.pos+t,o),!n&&e.cm.display.input.needsContentAttribute&&(o=o||e.content.appendChild(document.createElement("span"))).setAttribute("cm-marker",i.id),o&&(e.cm.display.input.setUneditable(o),e.content.appendChild(o)),e.pos+=t,e.trailingSpace=!1}function hi(e,t,i){this.line=t,this.rest=function(e){for(var t,i;t=tt(e);)e=t.find(1,!0).line,(i=i||[]).push(e);return i}(t),this.size=this.rest?_(B(this.rest))-i+1:1,this.node=this.text=null,this.hidden=rt(e,t)}function ui(e,t,i){for(var n=[],o=t;o<i;o=r){var s=new hi(e.doc,R(e.doc,o),o),r=o+s.size;n.push(s)}return n}var pi=null,mi=null;function b(e,t){var i=wt(e,t);if(i.length){var n,o=Array.prototype.slice.call(arguments,2);pi?n=pi.delayedCallbacks:mi?n=mi:(n=mi=[],setTimeout(fi,0));for(var s=0;s<i.length;++s)!function(e){n.push(function(){return i[e].apply(null,o)})}(s)}}function fi(){var e=mi;mi=null;for(var t=0;t<e.length;++t)e[t]()}function gi(e,t,i,n){for(var o,s,r=0;r<t.changes.length;r++){var a=t.changes[r];if("text"==a)s=(o=t).text.className,l=bi(c=e,o),o.text==o.node&&(o.node=l.pre),o.text.parentNode.replaceChild(l.pre,o.text),o.text=l.pre,l.bgClass!=o.bgClass||l.textClass!=o.textClass?(o.bgClass=l.bgClass,o.textClass=l.textClass,yi(c,o)):s&&(o.text.className=s);else if("gutter"==a)_i(e,t,i,n);else if("class"==a)yi(e,t);else if("widget"==a){l=void 0;d=void 0;c=void 0;h=void 0;u=void 0;var l=e;var d=t;var c=n;d.alignable&&(d.alignable=null);for(var h=d.node.firstChild,u=void 0;h;h=u)u=h.nextSibling,"CodeMirror-linewidget"==h.className&&d.node.removeChild(h);wi(l,d,c)}}t.changes=null}function vi(e){return e.node==e.text&&(e.node=H("div",null,null,"position: relative"),e.text.parentNode&&e.text.parentNode.replaceChild(e.node,e.text),e.node.appendChild(e.text),N)&&P<8&&(e.node.style.zIndex=2),e.node}function bi(e,t){var i=e.display.externalMeasured;return i&&i.line==t.line?(e.display.externalMeasured=null,t.measure=i.measure,i.built):ai(e,t)}function yi(e,t){e=e,(o=(i=t).bgClass?i.bgClass+" "+(i.line.bgClass||""):i.line.bgClass)&&(o+=" CodeMirror-linebackground"),i.background?o?i.background.className=o:(i.background.parentNode.removeChild(i.background),i.background=null):o&&(n=vi(i),i.background=n.insertBefore(H("div",null,o),n.firstChild),e.display.input.setUneditable(i.background)),t.line.wrapClass?vi(t).className=t.line.wrapClass:t.node!=t.text&&(t.node.className="");var i,n,o=t.textClass?t.textClass+" "+(t.line.textClass||""):t.line.textClass;t.text.className=o||""}function _i(e,t,i,n){t.gutter&&(t.node.removeChild(t.gutter),t.gutter=null),t.gutterBackground&&(t.node.removeChild(t.gutterBackground),t.gutterBackground=null),t.line.gutterClass&&(s=vi(t),t.gutterBackground=H("div",null,"CodeMirror-gutter-background "+t.line.gutterClass,"left: "+(e.options.fixedGutter?n.fixedPos:-n.gutterTotalWidth)+"px; width: "+n.gutterTotalWidth+"px"),e.display.input.setUneditable(t.gutterBackground),s.insertBefore(t.gutterBackground,t.text));var o=t.line.gutterMarkers;if(e.options.lineNumbers||o){var s=vi(t),r=t.gutter=H("div",null,"CodeMirror-gutter-wrapper","left: "+(e.options.fixedGutter?n.fixedPos:-n.gutterTotalWidth)+"px");if(e.display.input.setUneditable(r),s.insertBefore(r,t.text),t.line.gutterClass&&(r.className+=" "+t.line.gutterClass),!e.options.lineNumbers||o&&o["CodeMirror-linenumbers"]||(t.lineNumber=r.appendChild(H("div",je(e.options,i),"CodeMirror-linenumber CodeMirror-gutter-elt","left: "+n.gutterLeft["CodeMirror-linenumbers"]+"px; width: "+e.display.lineNumInnerWidth+"px"))),o)for(var a=0;a<e.options.gutters.length;++a){var l=e.options.gutters[a],d=o.hasOwnProperty(l)&&o[l];d&&r.appendChild(H("div",[d],"CodeMirror-gutter-elt","left: "+n.gutterLeft[l]+"px; width: "+n.gutterWidth[l]+"px"))}}}function wi(e,t,i){if(xi(e,t.line,t,i,!0),t.rest)for(var n=0;n<t.rest.length;n++)xi(e,t.rest[n],t,i,!1)}function xi(e,t,i,n,o){if(t.widgets)for(var s=vi(i),r=0,a=t.widgets;r<a.length;++r){var l=a[r],d=H("div",[l.node],"CodeMirror-linewidget"),c=(l.handleMouseEvents||d.setAttribute("cm-ignore-events","true"),p=u=h=c=void 0,l),h=d,u=i,p=n;c.noHScroll&&((u.alignable||(u.alignable=[])).push(h),u=p.wrapperWidth,h.style.left=p.fixedPos+"px",c.coverGutter||(u-=p.gutterTotalWidth,h.style.paddingLeft=p.gutterTotalWidth+"px"),h.style.width=u+"px"),c.coverGutter&&(h.style.zIndex=5,h.style.position="relative",c.noHScroll||(h.style.marginLeft=-p.gutterTotalWidth+"px")),e.display.input.setUneditable(d),o&&l.above?s.insertBefore(d,i.gutter||i.text):s.appendChild(d),b(l,"redraw")}}function Ci(e){var t,i;return null!=e.height?e.height:(t=e.doc.cm)?(M(document.body,e.node)||(i="position: relative;",e.coverGutter&&(i+="margin-left: -"+t.display.gutters.offsetWidth+"px;"),e.noHScroll&&(i+="width: "+t.display.wrapper.clientWidth+"px;"),y(t.display.measure,H("div",[e.node],null,i))),e.height=e.node.parentNode.offsetHeight):0}function Si(e,t){for(var i=Lt(t);i!=e.wrapper;i=i.parentNode)if(!i||1==i.nodeType&&"true"==i.getAttribute("cm-ignore-events")||i.parentNode==e.sizer&&i!=e.mover)return!0}function Ti(e){return e.lineSpace.offsetTop}function ki(e){return e.mover.offsetHeight-e.lineSpace.offsetHeight}function Di(e){var t;return e.cachedPaddingH||(t=y(e.measure,H("pre","x")),t=window.getComputedStyle?window.getComputedStyle(t):t.currentStyle,t={left:parseInt(t.paddingLeft),right:parseInt(t.paddingRight)},isNaN(t.left)||isNaN(t.right)||(e.cachedPaddingH=t),t)}function Li(e){return he-e.display.nativeBarWidth}function Ai(e){return e.display.scroller.clientWidth-Li(e)-e.display.barWidth}function Ii(e){return e.display.scroller.clientHeight-Li(e)-e.display.barHeight}function Oi(e,t,i){if(e.line==t)return{map:e.measure.map,cache:e.measure.cache};for(var n=0;n<e.rest.length;n++)if(e.rest[n]==t)return{map:e.measure.maps[n],cache:e.measure.caches[n]};for(var o=0;o<e.rest.length;o++)if(_(e.rest[o])>i)return{map:e.measure.maps[o],cache:e.measure.caches[o],before:!0}}function Ei(e,t,i,n){return ji(e,$i(e,t),i,n)}function Mi(e,t){return t>=e.display.viewFrom&&t<e.display.viewTo?e.display.view[dn(e,t)]:(e=e.display.externalMeasured)&&t>=e.lineN&&t<e.lineN+e.size?e:void 0}function $i(e,t){var i,n,o=_(t),s=Mi(e,o),e=(s&&!s.text?s=null:s&&s.changes&&(gi(e,s,o,on(e)),e.curOp.forceUpdate=!0),s||(e=e,n=_(i=nt(t)),(i=e.display.externalMeasured=new hi(e.doc,i,n)).lineN=n,n=i.built=ai(e,i),i.text=n.pre,y(e.display.lineMeasure,n.pre),s=i),Oi(s,t,o));return{line:t,view:s,rect:null,map:e.map,cache:e.cache,before:e.before,hasHeights:!1}}function ji(e,t,i,n,o){var s,r=(i=t.before?-1:i)+(n||"");if(t.cache.hasOwnProperty(r))s=t.cache[r];else{if(t.rect||(t.rect=t.view.text.getBoundingClientRect()),!t.hasHeights){var a=t.view,l=t.rect,d=e.options.lineWrapping,c=d&&Ai(e);if(!a.measure.heights||d&&a.measure.width!=c){var h=a.measure.heights=[];if(d){a.measure.width=c;for(var u=a.text.firstChild.getClientRects(),p=0;p<u.length-1;p++){var m=u[p],f=u[p+1];2<Math.abs(m.bottom-f.bottom)&&h.push((m.bottom+f.top)/2-l.top)}}h.push(l.bottom-l.top)}t.hasHeights=!0}(s=function(e,t,i,n){var o,s,r,a=zi(t.map,i,n),l=a.node,d=a.start,c=a.end,h=a.collapse;if(3==l.nodeType){for(var u=0;u<4;u++){for(;d&&De(t.line.text.charAt(a.coverStart+d));)--d;for(;a.coverStart+c<a.coverEnd&&De(t.line.text.charAt(a.coverStart+c));)++c;if((r=N&&P<9&&0==d&&c==a.coverEnd-a.coverStart?l.parentNode.getBoundingClientRect():function(e,t){var i=Pi;if("left"==t)for(var n=0;n<e.length&&(i=e[n]).left==i.right;n++);else for(var o=e.length-1;0<=o&&(i=e[o]).left==i.right;o--);return i}(re(l,d,c).getClientRects(),n)).left||r.right||0==d)break;c=d,--d,h="right"}N&&P<11&&(i=e.display.measure,s=r,r=window.screen&&null!=screen.logicalXDPI&&screen.logicalXDPI!=screen.deviceXDPI&&(null!=Nt?Nt:(o=(i=y(i,H("span","x"))).getBoundingClientRect(),i=re(i,0,1).getBoundingClientRect(),Nt=1<Math.abs(o.left-i.left)))?(o=screen.logicalXDPI/screen.deviceXDPI,i=screen.logicalYDPI/screen.deviceYDPI,{left:s.left*o,right:s.right*o,top:s.top*i,bottom:s.bottom*i}):s)}else 0<d&&(h=n="right"),r=e.options.lineWrapping&&1<(i=l.getClientRects()).length?i["right"==n?i.length-1:0]:l.getBoundingClientRect();for(var i=(r=!(N&&P<9)||d||r&&(r.left||r.right)?r:(s=l.parentNode.getClientRects()[0])?{left:s.left,right:s.left+nn(e.display),top:s.top,bottom:s.bottom}:Pi).top-t.rect.top,p=r.bottom-t.rect.top,m=(i+p)/2,f=t.view.measure.heights,g=0;g<f.length-1&&!(m<f[g]);g++);var v=g?f[g-1]:0,b=f[g],v={left:("right"==h?r.right:r.left)-t.rect.left,right:("left"==h?r.left:r.right)-t.rect.left,top:v,bottom:b};return r.left||r.right||(v.bogus=!0),e.options.singleCursorHeightPerLine||(v.rtop=i,v.rbottom=p),v}(e,t,i,n)).bogus||(t.cache[r]=s)}return{left:s.left,right:s.right,top:o?s.rtop:s.top,bottom:o?s.rbottom:s.bottom}}var Ni,Pi={left:0,right:0,top:0,bottom:0};function zi(e,t,i){for(var n,o,s,r,a,l,d=0;d<e.length;d+=3)if(a=e[d],l=e[d+1],t<a?(o=0,s=1,r="left"):t<l?s=1+(o=t-a):(d==e.length-3||t==l&&e[d+3]>t)&&(o=(s=l-a)-1,l<=t)&&(r="right"),null!=o){if(n=e[d+2],a==l&&i==(n.insertLeft?"left":"right")&&(r=i),"left"==i&&0==o)for(;d&&e[d-2]==e[d-3]&&e[d-1].insertLeft;)n=e[2+(d-=3)],r="left";if("right"==i&&o==l-a)for(;d<e.length-3&&e[d+3]==e[d+4]&&!e[d+5].insertLeft;)n=e[(d+=3)+2],r="right";break}return{node:n,start:o,end:s,collapse:r,coverStart:a,coverEnd:l}}function Hi(e){if(e.measure&&(e.measure.cache={},e.measure.heights=null,e.rest))for(var t=0;t<e.rest.length;t++)e.measure.caches[t]={}}function Fi(e){e.display.externalMeasure=null,O(e.display.lineMeasure);for(var t=0;t<e.display.view.length;t++)Hi(e.display.view[t])}function Bi(e){Fi(e),e.display.cachedCharWidth=e.display.cachedTextHeight=e.display.cachedPaddingH=null,e.options.lineWrapping||(e.display.maxLineChanged=!0),e.display.lineNumChars=null}function Ri(){return c&&k?-(document.body.getBoundingClientRect().left-parseInt(getComputedStyle(document.body).marginLeft)):window.pageXOffset||(document.documentElement||document.body).scrollLeft}function Ui(){return c&&k?-(document.body.getBoundingClientRect().top-parseInt(getComputedStyle(document.body).marginTop)):window.pageYOffset||(document.documentElement||document.body).scrollTop}function Wi(e){var t=0;if(e.widgets)for(var i=0;i<e.widgets.length;++i)e.widgets[i].above&&(t+=Ci(e.widgets[i]));return t}function qi(e,t,i,n,o){return o||(o=Wi(t),i.top+=o,i.bottom+=o),"line"!=n&&(n=n||"local",o=at(t),"local"==n?o+=Ti(e.display):o-=e.display.viewOffset,"page"!=n&&"window"!=n||(o+=(t=e.display.lineSpace.getBoundingClientRect()).top+("window"==n?0:Ui()),e=t.left+("window"==n?0:Ri()),i.left+=e,i.right+=e),i.top+=o,i.bottom+=o),i}function Vi(e,t,i){var n;return"div"==i?t:(n=t.left,t=t.top,"page"==i?(n-=Ri(),t-=Ui()):"local"!=i&&i||(n+=(i=e.display.sizer.getBoundingClientRect()).left,t+=i.top),{left:n-(i=e.display.lineSpace.getBoundingClientRect()).left,top:t-i.top})}function Gi(e,t,i,n,o){return qi(e,n=n||R(e.doc,t.line),Ei(e,n,t.ch,o),i)}function Ki(i,e,n,o,s,r){function a(e,t){e=ji(i,s,e,t?"right":"left",r);return t?e.left=e.right:e.right=e.left,qi(i,o,e,n)}o=o||R(i.doc,e.line),s=s||$i(i,o);var t,l,d=yt(o,i.doc.direction),c=e.ch,e=e.sticky;return c>=o.text.length?(c=o.text.length,e="before"):c<=0&&(c=0,e="after"),d?(l=ht(d,c,e),t=ct,l=h(c,l,"before"==e),null!=t&&(l.other=h(c,t,"before"!=e)),l):a("before"==e?c-1:c,"before"==e);function h(e,t,i){return a(i?e-1:e,1==d[t].level!=i)}}function Xi(e,t){var i=0,t=(t=q(e.doc,t),e.options.lineWrapping||(i=nn(e.display)*t.ch),R(e.doc,t.line)),e=at(t)+Ti(e.display);return{left:i,right:i,top:e,bottom:e+t.height}}function Yi(e,t,i,n,o){e=U(e,t,i);return e.xRel=o,n&&(e.outside=!0),e}function Qi(e,t,i){var n=e.doc;if((i+=e.display.viewOffset)<0)return Yi(n.first,0,null,!0,-1);var o=Me(n,i),s=n.first+n.size-1;if(s<o)return Yi(n.first+n.size-1,R(n,s).text.length,null,!0,1);t<0&&(t=0);for(var r=R(n,o);;){var a=function(i,e,t,n,o){o-=at(e);var s=$i(i,e),r=Wi(e),a=0,l=e.text.length,d=!0,c=yt(e,i.doc.direction);c&&(c=(i.options.lineWrapping?function(e,t,i,n,o,s,r){var r=Ji(e,t,n,r),a=r.begin,l=r.end;/\s/.test(t.text.charAt(l-1))&&l--;for(var d=null,c=null,h=0;h<o.length;h++){var u,p=o[h];p.from>=l||p.to<=a||(u=(u=ji(e,n,1!=p.level?Math.min(l,p.to)-1:Math.max(a,p.from)).right)<s?s-u+1e9:u-s,(!d||u<c)&&(d=p,c=u))}return d=(d=(d=d||o[o.length-1]).from<a?{from:a,to:d.to,level:d.level}:d).to>l?{from:d.from,to:l,level:d.level}:d}:function(i,n,o,s,r,a,l){var e,t=Ae(function(e){var e=r[e],t=1!=e.level;return en(Ki(i,U(o,t?e.to:e.from,t?"before":"after"),"line",n,s),a,l,!0)},0,r.length-1),d=r[t];return d=0<t&&(e=1!=d.level,en(e=Ki(i,U(o,e?d.from:d.to,e?"after":"before"),"line",n,s),a,l,!0))&&e.top>l?r[t-1]:d})(i,e,t,s,c,n,o),a=(d=1!=c.level)?c.from:c.to-1,l=d?c.to:c.from-1);var h=null,u=null,c=Ae(function(e){var t=ji(i,s,e);return t.top+=r,t.bottom+=r,en(t,n,o,!1)&&(t.top<=o&&t.left<=n&&(h=e,u=t),1)},a,l),p=!1;{var m,f;u?(m=n-u.left<u.right-n,c=h+((f=m==d)?0:1),f=f?"after":"before",m=m?u.left:u.right):(d||c!=l&&c!=a||c++,f=0==c||c!=e.text.length&&ji(i,s,c-(d?1:0)).bottom+r<=o==d?"after":"before",l=Ki(i,U(t,c,f),"line",e,s),m=l.left,p=o<l.top||o>=l.bottom)}return Yi(t,c=Le(e.text,c,1),f,p,n-m)}(e,r,o,t,i),l=function(e,t){var i,n=Ue&&e.markedSpans;if(n)for(var o=0;o<n.length;++o){var s=n[o];s.marker.collapsed&&(null==s.from||s.from<t)&&(null==s.to||s.to>t)&&(!i||Je(i,s.marker)<0)&&(i=s.marker)}return i}(r,a.ch+(0<a.xRel?1:0));if(!l)return a;a=l.find(1);if(a.line==o)return a;r=R(n,o=a.line)}}function Ji(t,e,i,n){n-=Wi(e);var e=e.text.length,o=Ae(function(e){return ji(t,i,e-1).bottom<=n},e,0);return{begin:o,end:Ae(function(e){return ji(t,i,e).top>n},o,e)}}function Zi(e,t,i,n){return Ji(e,t,i=i||$i(e,t),qi(e,t,ji(e,i,n),"line").top)}function en(e,t,i,n){return!(e.bottom<=i)&&(e.top>i||(n?e.left:e.right)>t)}function tn(e){if(null!=e.cachedTextHeight)return e.cachedTextHeight;if(null==Ni){Ni=H("pre");for(var t=0;t<49;++t)Ni.appendChild(document.createTextNode("x")),Ni.appendChild(H("br"));Ni.appendChild(document.createTextNode("x"))}y(e.measure,Ni);var i=Ni.offsetHeight/50;return 3<i&&(e.cachedTextHeight=i),O(e.measure),i||1}function nn(e){var t,i;return null!=e.cachedCharWidth?e.cachedCharWidth:(i=H("span","xxxxxxxxxx"),t=H("pre",[i]),y(e.measure,t),2<(i=((t=i.getBoundingClientRect()).right-t.left)/10)&&(e.cachedCharWidth=i),i||10)}function on(e){for(var t=e.display,i={},n={},o=t.gutters.clientLeft,s=t.gutters.firstChild,r=0;s;s=s.nextSibling,++r)i[e.options.gutters[r]]=s.offsetLeft+s.clientLeft+o,n[e.options.gutters[r]]=s.clientWidth;return{fixedPos:sn(t),gutterTotalWidth:t.gutters.offsetWidth,gutterLeft:i,gutterWidth:n,wrapperWidth:t.wrapper.clientWidth}}function sn(e){return e.scroller.getBoundingClientRect().left-e.sizer.getBoundingClientRect().left}function rn(n){var o=tn(n.display),s=n.options.lineWrapping,r=s&&Math.max(5,n.display.scroller.clientWidth/nn(n.display)-3);return function(e){if(rt(n.doc,e))return 0;var t=0;if(e.widgets)for(var i=0;i<e.widgets.length;i++)e.widgets[i].height&&(t+=e.widgets[i].height);return s?t+(Math.ceil(e.text.length/r)||1)*o:t+o}}function an(e){var t=e.doc,i=rn(e);t.iter(function(e){var t=i(e);t!=e.height&&Ee(e,t)})}function ln(e,t,i,n){var o=e.display;if(!i&&"true"==Lt(t).getAttribute("cm-not-content"))return null;var s,i=o.lineSpace.getBoundingClientRect();try{s=t.clientX-i.left,r=t.clientY-i.top}catch(t){return null}var r,o=Qi(e,s,r);return n&&1==o.xRel&&(i=R(e.doc,o.line).text).length==o.ch&&(r=F(i,i.length,e.options.tabSize)-i.length,o=U(o.line,Math.max(0,Math.round((s-Di(e.display).left)/nn(e.display))-r))),o}function dn(e,t){if(t>=e.display.viewTo)return null;if((t-=e.display.viewFrom)<0)return null;for(var i=e.display.view,n=0;n<i.length;n++)if((t-=i[n].size)<0)return n}function cn(e){e.display.input.showSelection(e.display.input.prepareSelection())}function hn(e,t){void 0===t&&(t=!0);for(var i,n,o=e.doc,s={},r=s.cursors=document.createDocumentFragment(),a=s.selection=document.createDocumentFragment(),l=0;l<o.sel.ranges.length;l++)!t&&l==o.sel.primIndex||(i=o.sel.ranges[l]).from().line>=e.display.viewTo||i.to().line<e.display.viewFrom||(((n=i.empty())||e.options.showCursorWhenSelecting)&&un(e,i.head,r),n)||function(o,e,t){var i=o.display,s=o.doc,r=document.createDocumentFragment(),n=Di(o.display),C=n.left,S=Math.max(i.sizerWidth,Ai(o)-i.sizer.offsetLeft)-n.right,T="ltr"==s.direction;function k(e,t,i,n){t<0&&(t=0),t=Math.round(t),n=Math.round(n),r.appendChild(H("div",null,"CodeMirror-selected","position: absolute; left: "+e+"px;\n                             top: "+t+"px; width: "+(null==i?S-e:i)+"px;\n                             height: "+(n-t)+"px"))}function a(i,f,g){var v,b,n=R(s,i),y=n.text.length;function _(e,t){return Gi(o,U(i,e),"div",n,t)}function w(e,t,i){e=Zi(o,n,null,e),t="ltr"==t==("after"==i)?"left":"right";return _("after"==i?e.begin:e.end-(/\s/.test(n.text.charAt(e.end-1))?2:1),t)[t]}var x=yt(n,s.direction);return function(e,t,i,n){if(!e)return n(t,i,"ltr",0);for(var o=!1,s=0;s<e.length;++s){var r=e[s];(r.from<i&&r.to>t||t==i&&r.to==t)&&(n(Math.max(r.from,t),Math.min(r.to,i),1==r.level?"rtl":"ltr",s),o=!0)}o||n(t,i,"ltr")}(x,f||0,null==g?y:g,function(e,t,i,n){var o,s,r,a,l,d="ltr"==i,c=_(e,d?"left":"right"),h=_(t-1,d?"right":"left"),u=null==f&&0==e,p=null==g&&t==y,m=0==n,n=!x||n==x.length-1;h.top-c.top<=3?(o=(T?u:p)&&m?C:(d?c:h).left,l=(T?p:u)&&n?S:(d?h:c).right,k(o,c.top,l-o,c.bottom)):(l=d?(s=T&&u&&m?C:c.left,r=T?S:w(e,i,"before"),a=T?C:w(t,i,"after"),T&&p&&n?S:h.right):(s=T?w(e,i,"before"):C,r=!T&&u&&m?S:c.right,a=!T&&p&&n?C:h.left,T?w(t,i,"after"):S),k(s,c.top,r-s,c.bottom),c.bottom<h.top&&k(C,c.bottom,null,h.top),k(a,h.top,l-a,h.bottom)),(!v||pn(c,v)<0)&&(v=c),pn(h,v)<0&&(v=h),(!b||pn(c,b)<0)&&(b=c),pn(h,b)<0&&(b=h)}),{start:v,end:b}}i=e.from(),n=e.to();{var l;i.line==n.line?a(i.line,i.ch,n.ch):(e=R(s,i.line),l=R(s,n.line),l=nt(e)==nt(l),i=a(i.line,i.ch,l?e.text.length+1:null).end,e=a(n.line,l?0:null,n.ch).start,l&&(i.top<e.top-2?(k(i.right,i.top,null,i.bottom),k(C,e.top,e.left,e.bottom)):k(i.right,i.top,e.left-i.right,i.bottom)),i.bottom<e.top&&k(C,i.bottom,null,e.top))}t.appendChild(r)}(e,i,a);return s}function un(e,t,i){var t=Ki(e,t,"div",null,null,!e.options.singleCursorHeightPerLine),n=i.appendChild(H("div"," ","CodeMirror-cursor"));n.style.left=t.left+"px",n.style.top=t.top+"px",n.style.height=Math.max(0,t.bottom-t.top)*e.options.cursorHeight+"px",t.other&&((n=i.appendChild(H("div"," ","CodeMirror-cursor CodeMirror-secondarycursor"))).style.display="",n.style.left=t.other.left+"px",n.style.top=t.other.top+"px",n.style.height=.85*(t.other.bottom-t.other.top)+"px")}function pn(e,t){return e.top-t.top||e.left-t.left}function mn(e){var t,i;e.state.focused&&(t=e.display,clearInterval(t.blinker),i=!0,t.cursorDiv.style.visibility="",0<e.options.cursorBlinkRate?t.blinker=setInterval(function(){return t.cursorDiv.style.visibility=(i=!i)?"":"hidden"},e.options.cursorBlinkRate):e.options.cursorBlinkRate<0&&(t.cursorDiv.style.visibility="hidden"))}function fn(e){e.state.focused||(e.display.input.focus(),vn(e))}function gn(e){e.state.delayingBlurEvent=!0,setTimeout(function(){e.state.delayingBlurEvent&&(e.state.delayingBlurEvent=!1,bn(e))},100)}function vn(e,t){e.state.delayingBlurEvent&&(e.state.delayingBlurEvent=!1),"nocursor"!=e.options.readOnly&&(e.state.focused||(K(e,"focus",e,t),e.state.focused=!0,$(e.display.wrapper,"CodeMirror-focused"),e.curOp||e.display.selForContextMenu==e.doc.sel||(e.display.input.reset(),z&&setTimeout(function(){return e.display.input.reset(!0)},20)),e.display.input.receivedFocus()),mn(e))}function bn(e,t){e.state.delayingBlurEvent||(e.state.focused&&(K(e,"blur",e,t),e.state.focused=!1,I(e.display.wrapper,"CodeMirror-focused")),clearInterval(e.display.blinker),setTimeout(function(){e.state.focused||(e.display.shift=!1)},150))}function yn(e){for(var t=e.display,i=t.lineDiv.offsetTop,n=0;n<t.view.length;n++){var o=t.view[n],s=void 0;if(!o.hidden){N&&P<8?(s=(r=o.node.offsetTop+o.node.offsetHeight)-i,i=r):s=(r=o.node.getBoundingClientRect()).bottom-r.top;var r,a=o.line.height-s;if(s<2&&(s=tn(t)),(.005<a||a<-.005)&&(Ee(o.line,s),_n(o.line),o.rest))for(var l=0;l<o.rest.length;l++)_n(o.rest[l])}}}function _n(e){if(e.widgets)for(var t=0;t<e.widgets.length;++t){var i=e.widgets[t],n=i.node.parentNode;n&&(i.height=n.offsetHeight)}}function wn(e,t,i){var n,o=i&&null!=i.top?Math.max(0,i.top):e.scroller.scrollTop,o=Math.floor(o-Ti(e)),s=i&&null!=i.bottom?i.bottom:o+e.wrapper.clientHeight,o=Me(t,o),s=Me(t,s);return i&&i.ensure&&(n=i.ensure.from.line,i=i.ensure.to.line,n<o?s=Me(t,at(R(t,o=n))+e.wrapper.clientHeight):Math.min(i,t.lastLine())>=s&&(o=Me(t,at(R(t,i))-e.wrapper.clientHeight),s=i)),{from:o,to:Math.max(s,o+1)}}function xn(e){var t=e.display,i=t.view;if(t.alignWidgets||t.gutters.firstChild&&e.options.fixedGutter){for(var n=sn(t)-t.scroller.scrollLeft+e.doc.scrollLeft,o=t.gutters.offsetWidth,s=n+"px",r=0;r<i.length;r++)if(!i[r].hidden){e.options.fixedGutter&&(i[r].gutter&&(i[r].gutter.style.left=s),i[r].gutterBackground)&&(i[r].gutterBackground.style.left=s);var a=i[r].alignable;if(a)for(var l=0;l<a.length;l++)a[l].style.left=s}e.options.fixedGutter&&(t.gutters.style.left=n+o+"px")}}function Cn(e){if(e.options.lineNumbers){var t,i,n=e.doc,n=je(e.options,n.first+n.size-1),o=e.display;if(n.length!=o.lineNumChars)return t=(i=o.measure.appendChild(H("div",[H("div",n)],"CodeMirror-linenumber CodeMirror-gutter-elt"))).firstChild.offsetWidth,i=i.offsetWidth-t,o.lineGutter.style.width="",o.lineNumInnerWidth=Math.max(t,o.lineGutter.offsetWidth-i)+1,o.lineNumWidth=o.lineNumInnerWidth+i,o.lineNumChars=o.lineNumInnerWidth?n.length:-1,o.lineGutter.style.width=o.lineNumWidth+"px",Zn(e),1}}function Sn(e,t){var i=e.display,n=tn(e.display),o=(t.top<0&&(t.top=0),(e.curOp&&null!=e.curOp.scrollTop?e.curOp:i.scroller).scrollTop),s=Ii(e),r={},a=(t.bottom-t.top>s&&(t.bottom=t.top+s),e.doc.height+ki(i)),l=t.top<n,n=t.bottom>a-n,n=(t.top<o?r.scrollTop=l?0:t.top:t.bottom>o+s&&(l=Math.min(t.top,(n?a:t.bottom)-s))!=o&&(r.scrollTop=l),(e.curOp&&null!=e.curOp.scrollLeft?e.curOp:i.scroller).scrollLeft),a=Ai(e)-(e.options.fixedGutter?i.gutters.offsetWidth:0),s=t.right-t.left>a;return s&&(t.right=t.left+a),t.left<10?r.scrollLeft=0:t.left<n?r.scrollLeft=Math.max(0,t.left-(s?0:10)):t.right>a+n-3&&(r.scrollLeft=t.right+(s?0:10)-a),r}function Tn(e,t){null!=t&&(Ln(e),e.curOp.scrollTop=(null==e.curOp.scrollTop?e.doc:e.curOp).scrollTop+t)}function kn(e){Ln(e);var t=e.getCursor();e.curOp.scrollToPos={from:t,to:t,margin:e.options.cursorScrollMargin}}function Dn(e,t,i){null==t&&null==i||Ln(e),null!=t&&(e.curOp.scrollLeft=t),null!=i&&(e.curOp.scrollTop=i)}function Ln(e){var t=e.curOp.scrollToPos;t&&(e.curOp.scrollToPos=null,An(e,Xi(e,t.from),Xi(e,t.to),t.margin))}function An(e,t,i,n){t=Sn(e,{left:Math.min(t.left,i.left),top:Math.min(t.top,i.top)-n,right:Math.max(t.right,i.right),bottom:Math.max(t.bottom,i.bottom)+n});Dn(e,t.scrollLeft,t.scrollTop)}function In(e,t){Math.abs(e.doc.scrollTop-t)<2||(v||Jn(e,{top:t}),On(e,t,!0),v&&Jn(e),Gn(e,100))}function On(e,t,i){t=Math.min(e.display.scroller.scrollHeight-e.display.scroller.clientHeight,t),e.display.scroller.scrollTop==t&&!i||(e.doc.scrollTop=t,e.display.scrollbars.setScrollTop(t),e.display.scroller.scrollTop==t)||(e.display.scroller.scrollTop=t)}function En(e,t,i,n){t=Math.min(t,e.display.scroller.scrollWidth-e.display.scroller.clientWidth),(i?t==e.doc.scrollLeft:Math.abs(e.doc.scrollLeft-t)<2)&&!n||(e.doc.scrollLeft=t,xn(e),e.display.scroller.scrollLeft!=t&&(e.display.scroller.scrollLeft=t),e.display.scrollbars.setScrollLeft(t))}function Mn(e){var t=e.display,i=t.gutters.offsetWidth,n=Math.round(e.doc.height+ki(e.display));return{clientHeight:t.scroller.clientHeight,viewHeight:t.wrapper.clientHeight,scrollWidth:t.scroller.scrollWidth,clientWidth:t.scroller.clientWidth,viewWidth:t.wrapper.clientWidth,barLeft:e.options.fixedGutter?i:0,docHeight:n,scrollHeight:n+Li(e)+t.barHeight,nativeBarWidth:t.nativeBarWidth,gutterWidth:i}}function $n(e,t,i){this.cm=i;var n=this.vert=H("div",[H("div",null,null,"min-width: 1px")],"CodeMirror-vscrollbar"),o=this.horiz=H("div",[H("div",null,null,"height: 100%; min-height: 1px")],"CodeMirror-hscrollbar");n.tabIndex=o.tabIndex=-1,e(n),e(o),V(n,"scroll",function(){n.clientHeight&&t(n.scrollTop,"vertical")}),V(o,"scroll",function(){o.clientWidth&&t(o.scrollLeft,"horizontal")}),this.checkedZeroWidth=!1,N&&P<8&&(this.horiz.style.minHeight=this.vert.style.minWidth="18px")}function jn(){}$n.prototype.update=function(e){var t,i=e.scrollWidth>e.clientWidth+1,n=e.scrollHeight>e.clientHeight+1,o=e.nativeBarWidth;return n?(this.vert.style.display="block",this.vert.style.bottom=i?o+"px":"0",t=e.viewHeight-(i?o:0),this.vert.firstChild.style.height=Math.max(0,e.scrollHeight-e.clientHeight+t)+"px"):(this.vert.style.display="",this.vert.firstChild.style.height="0"),i?(this.horiz.style.display="block",this.horiz.style.right=n?o+"px":"0",this.horiz.style.left=e.barLeft+"px",t=e.viewWidth-e.barLeft-(n?o:0),this.horiz.firstChild.style.width=Math.max(0,e.scrollWidth-e.clientWidth+t)+"px"):(this.horiz.style.display="",this.horiz.firstChild.style.width="0"),!this.checkedZeroWidth&&0<e.clientHeight&&(0==o&&this.zeroWidthHack(),this.checkedZeroWidth=!0),{right:n?o:0,bottom:i?o:0}},$n.prototype.setScrollLeft=function(e){this.horiz.scrollLeft!=e&&(this.horiz.scrollLeft=e),this.disableHoriz&&this.enableZeroWidthBar(this.horiz,this.disableHoriz,"horiz")},$n.prototype.setScrollTop=function(e){this.vert.scrollTop!=e&&(this.vert.scrollTop=e),this.disableVert&&this.enableZeroWidthBar(this.vert,this.disableVert,"vert")},$n.prototype.zeroWidthHack=function(){this.horiz.style.height=this.vert.style.width=ie&&!u?"12px":"18px",this.horiz.style.pointerEvents=this.vert.style.pointerEvents="none",this.disableHoriz=new ce,this.disableVert=new ce},$n.prototype.enableZeroWidthBar=function(i,n,o){i.style.pointerEvents="auto",n.set(1e3,function e(){var t=i.getBoundingClientRect();("vert"==o?document.elementFromPoint(t.right-1,(t.top+t.bottom)/2):document.elementFromPoint((t.right+t.left)/2,t.bottom-1))!=i?i.style.pointerEvents="none":n.set(1e3,e)})},$n.prototype.clear=function(){var e=this.horiz.parentNode;e.removeChild(this.horiz),e.removeChild(this.vert)};function Nn(e,t){t=t||Mn(e);var i=e.display.barWidth,n=e.display.barHeight;Pn(e,t);for(var o=0;o<4&&i!=e.display.barWidth||n!=e.display.barHeight;o++)i!=e.display.barWidth&&e.options.lineWrapping&&yn(e),Pn(e,Mn(e)),i=e.display.barWidth,n=e.display.barHeight}function Pn(e,t){var i=e.display,n=i.scrollbars.update(t);i.sizer.style.paddingRight=(i.barWidth=n.right)+"px",i.sizer.style.paddingBottom=(i.barHeight=n.bottom)+"px",i.heightForcer.style.borderBottom=n.bottom+"px solid transparent",n.right&&n.bottom?(i.scrollbarFiller.style.display="block",i.scrollbarFiller.style.height=n.bottom+"px",i.scrollbarFiller.style.width=n.right+"px"):i.scrollbarFiller.style.display="",n.bottom&&e.options.coverGutterNextToScrollbar&&e.options.fixedGutter?(i.gutterFiller.style.display="block",i.gutterFiller.style.height=n.bottom+"px",i.gutterFiller.style.width=t.gutterWidth+"px"):i.gutterFiller.style.display=""}jn.prototype.update=function(){return{bottom:0,right:0}},jn.prototype.setScrollLeft=function(){},jn.prototype.setScrollTop=function(){},jn.prototype.clear=function(){};var zn={native:$n,null:jn};function Hn(i){i.display.scrollbars&&(i.display.scrollbars.clear(),i.display.scrollbars.addClass)&&I(i.display.wrapper,i.display.scrollbars.addClass),i.display.scrollbars=new zn[i.options.scrollbarStyle](function(e){i.display.wrapper.insertBefore(e,i.display.scrollbarFiller),V(e,"mousedown",function(){i.state.focused&&setTimeout(function(){return i.display.input.focus()},0)}),e.setAttribute("cm-not-content","true")},function(e,t){("horizontal"==t?En:In)(i,e)},i),i.display.scrollbars.addClass&&$(i.display.wrapper,i.display.scrollbars.addClass)}var Fn=0;function Bn(e){e.curOp={cm:e,viewChanged:!1,startHeight:e.doc.height,forceUpdate:!1,updateInput:null,typing:!1,changeObjs:null,cursorActivityHandlers:null,cursorActivityCalled:0,selectionChanged:!1,updateMaxLine:!1,scrollLeft:null,scrollTop:null,scrollToPos:null,focus:!1,id:++Fn},e=e.curOp,pi?pi.ops.push(e):e.ownsGroup=pi={ops:[e],delayedCallbacks:[]}}function Rn(e){e=e.curOp;if(e){e=e.ownsGroup;if(e)try{var t=e,i=t.delayedCallbacks,n=0;do{for(;n<i.length;n++)i[n].call(null);for(var o=0;o<t.ops.length;o++){var s=t.ops[o];if(s.cursorActivityHandlers)for(;s.cursorActivityCalled<s.cursorActivityHandlers.length;)s.cursorActivityHandlers[s.cursorActivityCalled++].call(null,s.cm)}}while(n<i.length)}finally{pi=null;for(var r=e,a=0;a<r.ops.length;a++)r.ops[a].cm.curOp=null;for(var l=r.ops,d=0;d<l.length;d++)u=void 0,m=(p=(c=l[d]).cm).display,!(u=(h=p).display).scrollbarsClipped&&u.scroller.offsetWidth&&(u.nativeBarWidth=u.scroller.offsetWidth-u.scroller.clientWidth,u.heightForcer.style.height=Li(h)+"px",u.sizer.style.marginBottom=-u.nativeBarWidth+"px",u.sizer.style.borderRightWidth=Li(h)+"px",u.scrollbarsClipped=!0),c.updateMaxLine&&dt(p),c.mustUpdate=c.viewChanged||c.forceUpdate||null!=c.scrollTop||c.scrollToPos&&(c.scrollToPos.from.line<m.viewFrom||c.scrollToPos.to.line>=m.viewTo)||m.maxLineChanged&&p.options.lineWrapping,c.update=c.mustUpdate&&new Xn(p,c.mustUpdate&&{top:c.scrollTop,ensure:c.scrollToPos},c.forceUpdate);for(var c,h,u,p,m,f,g,v,b,y=0;y<l.length;y++)(f=l[y]).updatedDisplay=f.mustUpdate&&Yn(f.cm,f.update);for(var N=0;N<l.length;N++)b=v=void 0,b=(v=(g=l[N]).cm).display,g.updatedDisplay&&yn(v),g.barMeasure=Mn(v),b.maxLineChanged&&!v.options.lineWrapping&&(g.adjustWidthTo=Ei(v,b.maxLine,b.maxLine.text.length).left+3,v.display.sizerWidth=g.adjustWidthTo,g.barMeasure.scrollWidth=Math.max(b.scroller.clientWidth,b.sizer.offsetLeft+g.adjustWidthTo+Li(v)+v.display.barWidth),g.maxScrollLeft=Math.max(0,b.sizer.offsetLeft+g.adjustWidthTo-Ai(v))),(g.updatedDisplay||g.selectionChanged)&&(g.preparedSelection=b.input.prepareSelection());for(var _,w,x,P=0;P<l.length;P++)_=l[P],x=w=void 0,w=_.cm,null!=_.adjustWidthTo&&(w.display.sizer.style.minWidth=_.adjustWidthTo+"px",_.maxScrollLeft<w.doc.scrollLeft&&En(w,Math.min(w.display.scroller.scrollLeft,_.maxScrollLeft),!0),w.display.maxLineChanged=!1),x=_.focus&&_.focus==se(),_.preparedSelection&&w.display.input.showSelection(_.preparedSelection,x),!_.updatedDisplay&&_.startHeight==w.doc.height||Nn(w,_.barMeasure),_.updatedDisplay&&eo(w,_.barMeasure),_.selectionChanged&&mn(w),w.state.focused&&_.updateInput&&w.display.input.reset(_.typing),x&&fn(_.cm);for(var C,S,T,k,D,z=0;z<l.length;z++){L=void 0;A=void 0;I=void 0;O=void 0;E=void 0;M=void 0;$=void 0;j=void 0;C=void 0;S=void 0;T=void 0;D=void 0;k=void 0;var L=l[z];var A=L.cm,I=A.display,O=A.doc;L.updatedDisplay&&Qn(A,L.update),null==I.wheelStartX||null==L.scrollTop&&null==L.scrollLeft&&!L.scrollToPos||(I.wheelStartX=I.wheelStartY=null),null!=L.scrollTop&&On(A,L.scrollTop,L.forceScroll),null!=L.scrollLeft&&En(A,L.scrollLeft,!0,!0),L.scrollToPos&&(S=function(e,t,i,n){var o;null==n&&(n=0),e.options.lineWrapping||t!=i||(i="before"==(t=t.ch?U(t.line,"before"==t.sticky?t.ch-1:t.ch,"after"):t).sticky?U(t.line,t.ch+1,"before"):t);for(var s=0;s<5;s++){var r=!1,a=Ki(e,t),l=i&&i!=t?Ki(e,i):a,a=Sn(e,o={left:Math.min(a.left,l.left),top:Math.min(a.top,l.top)-n,right:Math.max(a.left,l.left),bottom:Math.max(a.bottom,l.bottom)+n}),l=e.doc.scrollTop,d=e.doc.scrollLeft;if(null!=a.scrollTop&&(In(e,a.scrollTop),1<Math.abs(e.doc.scrollTop-l))&&(r=!0),!(r=null!=a.scrollLeft&&(En(e,a.scrollLeft),1<Math.abs(e.doc.scrollLeft-d))?!0:r))break}return o}(C=A,q(O,L.scrollToPos.from),q(O,L.scrollToPos.to),L.scrollToPos.margin),X(C,"scrollCursorIntoView")||(T=C.display,D=T.sizer.getBoundingClientRect(),k=null,S.top+D.top<0?k=!0:S.bottom+D.top>(window.innerHeight||document.documentElement.clientHeight)&&(k=!1),null==k)||te||(D=H("div","â",null,"position: absolute;\n                         top: "+(S.top-T.viewOffset-Ti(C.display))+"px;\n                         height: "+(S.bottom-S.top+Li(C)+T.barHeight)+"px;\n                         left: "+S.left+"px; width: "+Math.max(2,S.right-S.left)+"px;"),C.display.lineSpace.appendChild(D),D.scrollIntoView(k),C.display.lineSpace.removeChild(D)));var E=L.maybeHiddenMarkers,M=L.maybeUnhiddenMarkers;if(E)for(var $=0;$<E.length;++$)E[$].lines.length||K(E[$],"hide");if(M)for(var j=0;j<M.length;++j)M[j].lines.length&&K(M[j],"unhide");I.wrapper.offsetHeight&&(O.scrollTop=A.display.scroller.scrollTop),L.changeObjs&&K(A,"changes",A,L.changeObjs),L.update&&L.update.finish()}}}}function h(e,t){if(e.curOp)return t();Bn(e);try{return t()}finally{Rn(e)}}function Q(e,t){return function(){if(e.curOp)return t.apply(e,arguments);Bn(e);try{return t.apply(e,arguments)}finally{Rn(e)}}}function i(e){return function(){if(this.curOp)return e.apply(this,arguments);Bn(this);try{return e.apply(this,arguments)}finally{Rn(this)}}}function n(t){return function(){var e=this.cm;if(!e||e.curOp)return t.apply(this,arguments);Bn(e);try{return t.apply(this,arguments)}finally{Rn(e)}}}function w(e,t,i,n){null==t&&(t=e.doc.first),null==i&&(i=e.doc.first+e.doc.size);var o,s=e.display,r=((n=n||0)&&i<s.viewTo&&(null==s.updateLineNumbers||s.updateLineNumbers>t)&&(s.updateLineNumbers=t),e.curOp.viewChanged=!0,t>=s.viewTo?Ue&&ot(e.doc,t)<s.viewTo&&Wn(e):i<=s.viewFrom?Ue&&st(e.doc,i+n)>s.viewFrom?Wn(e):(s.viewFrom+=n,s.viewTo+=n):t<=s.viewFrom&&i>=s.viewTo?Wn(e):t<=s.viewFrom?(r=qn(e,i,i+n,1))?(s.view=s.view.slice(r.index),s.viewFrom=r.lineN,s.viewTo+=n):Wn(e):i>=s.viewTo?(r=qn(e,t,t,-1))?(s.view=s.view.slice(0,r.index),s.viewTo=r.lineN):Wn(e):(r=qn(e,t,t,-1),o=qn(e,i,i+n,1),r&&o?(s.view=s.view.slice(0,r.index).concat(ui(e,r.lineN,o.lineN)).concat(s.view.slice(o.index)),s.viewTo+=n):Wn(e)),s.externalMeasured);r&&(i<r.lineN?r.lineN+=n:t<r.lineN+r.size&&(s.externalMeasured=null))}function Un(e,t,i){e.curOp.viewChanged=!0;var n=e.display,o=e.display.externalMeasured;o&&t>=o.lineN&&t<o.lineN+o.size&&(n.externalMeasured=null),t<n.viewFrom||t>=n.viewTo||null!=(o=n.view[dn(e,t)]).node&&-1==S(n=o.changes||(o.changes=[]),i)&&n.push(i)}function Wn(e){e.display.viewFrom=e.display.viewTo=e.doc.first,e.display.view=[],e.display.viewOffset=0}function qn(e,t,i,n){var o,s=dn(e,t),r=e.display.view;if(Ue&&i!=e.doc.first+e.doc.size){for(var a=e.display.viewFrom,l=0;l<s;l++)a+=r[l].size;if(a!=t){if(0<n){if(s==r.length-1)return null;o=a+r[s].size-t,s++}else o=a-t;t+=o,i+=o}for(;ot(e.doc,i)!=i;){if(s==(n<0?0:r.length-1))return null;i+=n*r[s-(n<0?1:0)].size,s+=n}}return{index:s,lineN:i}}function Vn(e){for(var t=e.display.view,i=0,n=0;n<t.length;n++){var o=t[n];o.hidden||o.node&&!o.changes||++i}return i}function Gn(e,t){e.doc.highlightFrontier<e.display.viewTo&&e.state.highlight.set(t,le(Kn,e))}function Kn(r){var a,l,d,c=r.doc;c.highlightFrontier>=r.display.viewTo||(a=+new Date+r.options.workTime,l=Xt(r,c.highlightFrontier),d=[],c.iter(l.line,Math.min(c.first+c.size,r.display.viewTo+500),function(e){if(l.line>=r.display.viewFrom){var t=e.styles,i=e.text.length>r.options.maxHighlightLength?Rt(c.mode,l.state):null,n=Gt(r,e,l,!0),i=(i&&(l.state=i),e.styles=n.styles,e.styleClasses),n=n.classes;n?e.styleClasses=n:i&&(e.styleClasses=null);for(var o=!t||t.length!=e.styles.length||i!=n&&(!i||!n||i.bgClass!=n.bgClass||i.textClass!=n.textClass),s=0;!o&&s<t.length;++s)o=t[s]!=e.styles[s];o&&d.push(l.line),e.stateAfter=l.save()}else e.text.length<=r.options.maxHighlightLength&&Yt(r,e.text,l),e.stateAfter=l.line%5==0?l.save():null;if(l.nextLine(),+new Date>a)return Gn(r,r.options.workDelay),!0}),c.highlightFrontier=l.line,c.modeFrontier=Math.max(c.modeFrontier,l.line),d.length&&h(r,function(){for(var e=0;e<d.length;e++)Un(r,d[e],"text")}))}var Xn=function(e,t,i){var n=e.display;this.viewport=t,this.visible=wn(n,e.doc,t),this.editorIsHidden=!n.wrapper.offsetWidth,this.wrapperHeight=n.wrapper.clientHeight,this.wrapperWidth=n.wrapper.clientWidth,this.oldDisplayWidth=Ai(e),this.force=i,this.dims=on(e),this.events=[]};function Yn(e,t){var i=e.display,n=e.doc;if(t.editorIsHidden)Wn(e);else if(!(!t.force&&t.visible.from>=i.viewFrom&&t.visible.to<=i.viewTo&&(null==i.updateLineNumbers||i.updateLineNumbers>=i.viewTo)&&i.renderedView==i.view&&0==Vn(e))){Cn(e)&&(Wn(e),t.dims=on(e));var o=n.first+n.size,s=Math.max(t.visible.from-e.options.viewportMargin,n.first),r=Math.min(o,t.visible.to+e.options.viewportMargin);i.viewFrom<s&&s-i.viewFrom<20&&(s=Math.max(n.first,i.viewFrom)),i.viewTo>r&&i.viewTo-r<20&&(r=Math.min(o,i.viewTo)),Ue&&(s=ot(e.doc,s),r=st(e.doc,r));var n=s!=i.viewFrom||r!=i.viewTo||i.lastWrapHeight!=t.wrapperHeight||i.lastWrapWidth!=t.wrapperWidth,o=s,s=r,o=(0==(a=(r=e).display).view.length||o>=a.viewTo||s<=a.viewFrom?(a.view=ui(r,o,s),a.viewFrom=o):(a.viewFrom>o?a.view=ui(r,o,a.viewFrom).concat(a.view):a.viewFrom<o&&(a.view=a.view.slice(dn(r,o))),a.viewFrom=o,a.viewTo<s?a.view=a.view.concat(ui(r,a.viewTo,s)):a.viewTo>s&&(a.view=a.view.slice(0,dn(r,s)))),a.viewTo=s,i.viewOffset=at(R(e.doc,i.viewFrom)),e.display.mover.style.top=i.viewOffset+"px",Vn(e));if(n||0!=o||t.force||i.renderedView!=i.view||!(null==i.updateLineNumbers||i.updateLineNumbers>=i.viewTo)){var a,l,d,c,r=!(r=e).hasFocus()&&(a=se())&&M(r.display.lineDiv,a)?(a={activeElt:a},window.getSelection&&(s=window.getSelection()).anchorNode&&s.extend&&M(r.display.lineDiv,s.anchorNode)&&(a.anchorNode=s.anchorNode,a.anchorOffset=s.anchorOffset,a.focusNode=s.focusNode,a.focusOffset=s.focusOffset),a):null,h=(4<o&&(i.lineDiv.style.display="none"),e),u=i.updateLineNumbers,p=t.dims,s=h.display,m=h.options.lineNumbers,f=s.lineDiv,g=f.firstChild;function v(e){var t=e.nextSibling;return z&&ie&&h.display.currentWheelTarget==e?e.style.display="none":e.parentNode.removeChild(e),t}for(var b=s.view,y=s.viewFrom,_=0;_<b.length;_++){var w=b[_];if(!w.hidden)if(w.node&&w.node.parentNode==f){for(;g!=w.node;)g=v(g);var x=m&&null!=u&&u<=y&&w.lineNumber;w.changes&&(-1<S(w.changes,"gutter")&&(x=!1),gi(h,w,y,p)),x&&(O(w.lineNumber),w.lineNumber.appendChild(document.createTextNode(je(h.options,y)))),g=w.node.nextSibling}else{x=y,c=p,C=bi(l=h,d=w),d.text=d.node=C.pre,C.bgClass&&(d.bgClass=C.bgClass),C.textClass&&(d.textClass=C.textClass),yi(l,d),_i(l,d,x,c),wi(l,d,c);var C=d.node;f.insertBefore(C,g)}y+=w.size}for(;g;)g=v(g);return 4<o&&(i.lineDiv.style.display=""),i.renderedView=i.view,(a=r)&&a.activeElt&&a.activeElt!=se()&&(a.activeElt.focus(),a.anchorNode)&&M(document.body,a.anchorNode)&&M(document.body,a.focusNode)&&(s=window.getSelection(),(o=document.createRange()).setEnd(a.anchorNode,a.anchorOffset),o.collapse(!1),s.removeAllRanges(),s.addRange(o),s.extend(a.focusNode,a.focusOffset)),O(i.cursorDiv),O(i.selectionDiv),i.gutters.style.height=i.sizer.style.minHeight=0,n&&(i.lastWrapHeight=t.wrapperHeight,i.lastWrapWidth=t.wrapperWidth,Gn(e,400)),!(i.updateLineNumbers=null)}}return!1}function Qn(e,t){for(var i=t.viewport,n=!0;(n&&e.options.lineWrapping&&t.oldDisplayWidth!=Ai(e)||(i&&null!=i.top&&(i={top:Math.min(e.doc.height+ki(e.display)-Ii(e),i.top)}),t.visible=wn(e.display,e.doc,i),!(t.visible.from>=e.display.viewFrom&&t.visible.to<=e.display.viewTo)))&&Yn(e,t);n=!1){yn(e);var o=Mn(e);cn(e),Nn(e,o),eo(e,o),t.force=!1}t.signal(e,"update",e),e.display.viewFrom==e.display.reportedViewFrom&&e.display.viewTo==e.display.reportedViewTo||(t.signal(e,"viewportChange",e,e.display.viewFrom,e.display.viewTo),e.display.reportedViewFrom=e.display.viewFrom,e.display.reportedViewTo=e.display.viewTo)}function Jn(e,t){var i,t=new Xn(e,t);Yn(e,t)&&(yn(e),Qn(e,t),i=Mn(e),cn(e),Nn(e,i),eo(e,i),t.finish())}function Zn(e){var t=e.display.gutters.offsetWidth;e.display.sizer.style.marginLeft=t+"px"}function eo(e,t){e.display.sizer.style.minHeight=t.docHeight+"px",e.display.heightForcer.style.top=t.docHeight+"px",e.display.gutters.style.height=t.docHeight+e.display.barHeight+Li(e)+"px"}function to(e){var t=e.display.gutters,i=e.options.gutters;O(t);for(var n=0;n<i.length;++n){var o=i[n],s=t.appendChild(H("div",null,"CodeMirror-gutter "+o));"CodeMirror-linenumbers"==o&&((e.display.lineGutter=s).style.width=(e.display.lineNumWidth||1)+"px")}t.style.display=n?"":"none",Zn(e)}function io(e){var t=S(e.gutters,"CodeMirror-linenumbers");-1==t&&e.lineNumbers?e.gutters=e.gutters.concat(["CodeMirror-linenumbers"]):-1<t&&!e.lineNumbers&&(e.gutters=e.gutters.slice(0),e.gutters.splice(t,1))}Xn.prototype.signal=function(e,t){Ct(e,t)&&this.events.push(arguments)},Xn.prototype.finish=function(){for(var e=0;e<this.events.length;e++)K.apply(null,this.events[e])};var no=0,p=null;function oo(e){var t=e.wheelDeltaX,i=e.wheelDeltaY;return null==t&&e.detail&&e.axis==e.HORIZONTAL_AXIS&&(t=e.detail),null==i&&e.detail&&e.axis==e.VERTICAL_AXIS?i=e.detail:null==i&&(i=e.wheelDelta),{x:t,y:i}}function so(e,t){var i,n,o=oo(t),s=o.x,o=o.y,r=e.display,a=r.scroller,l=a.scrollWidth>a.clientWidth,d=a.scrollHeight>a.clientHeight;if(s&&l||o&&d){if(o&&ie&&z)e:for(var c=t.target,h=r.view;c!=a;c=c.parentNode)for(var u=0;u<h.length;u++)if(h[u].node==c){e.display.currentWheelTarget=c;break e}!s||v||x||null==p?(o&&null!=p&&(l=o*p,n=(i=e.doc.scrollTop)+r.wrapper.clientHeight,l<0?i=Math.max(0,i+l-50):n=Math.min(e.doc.height,n+l+50),Jn(e,{top:i,bottom:n})),no<20&&(null==r.wheelStartX?(r.wheelStartX=a.scrollLeft,r.wheelStartY=a.scrollTop,r.wheelDX=s,r.wheelDY=o,setTimeout(function(){var e,t;null!=r.wheelStartX&&(e=a.scrollLeft-r.wheelStartX,t=(t=a.scrollTop-r.wheelStartY)&&r.wheelDY&&t/r.wheelDY||e&&r.wheelDX&&e/r.wheelDX,r.wheelStartX=r.wheelStartY=null,t)&&(p=(p*no+t)/(no+1),++no)},200)):(r.wheelDX+=s,r.wheelDY+=o))):(o&&d&&In(e,Math.max(0,a.scrollTop+o*p)),En(e,Math.max(0,a.scrollLeft+s*p)),o&&!d||Y(t),r.wheelStartX=null)}}N?p=-.53:v?p=15:c?p=-.7:C&&(p=-1/3);var J=function(e,t){this.ranges=e,this.primIndex=t},Z=(J.prototype.primary=function(){return this.ranges[this.primIndex]},J.prototype.equals=function(e){if(e!=this){if(e.primIndex!=this.primIndex||e.ranges.length!=this.ranges.length)return!1;for(var t=0;t<this.ranges.length;t++){var i=this.ranges[t],n=e.ranges[t];if(!Ne(i.anchor,n.anchor)||!Ne(i.head,n.head))return!1}}return!0},J.prototype.deepCopy=function(){for(var e=[],t=0;t<this.ranges.length;t++)e[t]=new Z(Pe(this.ranges[t].anchor),Pe(this.ranges[t].head));return new J(e,this.primIndex)},J.prototype.somethingSelected=function(){for(var e=0;e<this.ranges.length;e++)if(!this.ranges[e].empty())return!0;return!1},J.prototype.contains=function(e,t){t=t||e;for(var i=0;i<this.ranges.length;i++){var n=this.ranges[i];if(0<=W(t,n.from())&&W(e,n.to())<=0)return i}return-1},function(e,t){this.anchor=e,this.head=t});function ro(e,t,i){var n=e&&e.options.selectionsMayTouch,e=t[i];t.sort(function(e,t){return W(e.from(),t.from())}),i=S(t,e);for(var o=1;o<t.length;o++){var s,r=t[o],a=t[o-1],l=W(a.to(),r.from());(n&&!r.empty()?0<l:0<=l)&&(l=He(a.from(),r.from()),s=ze(a.to(),r.to()),r=a.empty()?r.from()==r.head:a.from()==a.head,o<=i&&--i,t.splice(--o,2,new Z(r?s:l,r?l:s)))}return new J(t,i)}function ao(e,t){return new J([new Z(e,t||e)],0)}function lo(e){return e.text?U(e.from.line+e.text.length-1,B(e.text).length+(1==e.text.length?e.from.ch:0)):e.to}function co(e,t){var i,n;return W(e,t.from)<0?e:W(e,t.to)<=0?lo(t):(i=e.line+t.text.length-(t.to.line-t.from.line)-1,n=e.ch,e.line==t.to.line&&(n+=lo(t).ch-t.to.ch),U(i,n))}function ho(e,t){for(var i=[],n=0;n<e.sel.ranges.length;n++){var o=e.sel.ranges[n];i.push(new Z(co(o.anchor,t),co(o.head,t)))}return ro(e.cm,i,e.sel.primIndex)}function uo(e,t,i){return e.line==t.line?U(i.line,e.ch-t.ch+i.ch):U(i.line+(e.line-t.line),e.ch)}function po(e){e.doc.mode=Ft(e.options,e.doc.modeOption),mo(e)}function mo(e){e.doc.iter(function(e){e.stateAfter&&(e.stateAfter=null),e.styles&&(e.styles=null)}),e.doc.modeFrontier=e.doc.highlightFrontier=e.doc.first,Gn(e,100),e.state.modeGen++,e.curOp&&w(e)}function fo(e,t){return 0==t.from.ch&&0==t.to.ch&&""==B(t.text)&&(!e.cm||e.cm.options.wholeLineUpdateBefore)}function go(e,s,t,r){function o(e){return t?t[e]:null}function i(e,t,i){var n=e,o=r;n.text=t,n.stateAfter&&(n.stateAfter=null),n.styles&&(n.styles=null),null!=n.order&&(n.order=null),Ke(n),Xe(n,i),(i=o?o(n):1)!=n.height&&Ee(n,i),b(e,"change",e,s)}function n(e,t){for(var i=[],n=e;n<t;++n)i.push(new ni(c[n],o(n),r));return i}var a,l=s.from,d=s.to,c=s.text,h=R(e,l.line),u=R(e,d.line),p=B(c),m=o(c.length-1),f=d.line-l.line;s.full?(e.insert(0,n(0,c.length)),e.remove(c.length,e.size-c.length)):fo(e,s)?(a=n(0,c.length-1),i(u,u.text,m),f&&e.remove(l.line,f),a.length&&e.insert(l.line,a)):h==u?1==c.length?i(h,h.text.slice(0,l.ch)+p+h.text.slice(d.ch),m):((a=n(1,c.length-1)).push(new ni(p+h.text.slice(d.ch),m,r)),i(h,h.text.slice(0,l.ch)+c[0],o(0)),e.insert(l.line+1,a)):1==c.length?(i(h,h.text.slice(0,l.ch)+c[0]+u.text.slice(d.ch),o(0)),e.remove(l.line+1,f)):(i(h,h.text.slice(0,l.ch)+c[0],o(0)),i(u,p+u.text.slice(d.ch),m),a=n(1,c.length-1),1<f&&e.remove(l.line+1,f-1),e.insert(l.line+1,a)),b(e,"change",e,s)}function vo(e,a,l){!function e(t,i,n){if(t.linked)for(var o=0;o<t.linked.length;++o){var s,r=t.linked[o];r.doc!=i&&(s=n&&r.sharedHist,l&&!s||(a(r.doc,s),e(r.doc,t,s)))}}(e,null,!0)}function bo(e,t){if(t.cm)throw new Error("This document is already in use.");an((e.doc=t).cm=e),po(e),yo(e),e.options.lineWrapping||dt(e),e.options.mode=t.modeOption,w(e)}function yo(e){("rtl"==e.doc.direction?$:I)(e.display.lineDiv,"CodeMirror-rtl")}function _o(e){this.done=[],this.undone=[],this.undoDepth=1/0,this.lastModTime=this.lastSelTime=0,this.lastOp=this.lastSelOp=null,this.lastOrigin=this.lastSelOrigin=null,this.generation=this.maxGeneration=e||1}function wo(e,t){var i={from:Pe(t.from),to:lo(t),text:Ie(e,t.from,t.to)};return To(e,i,t.from.line,t.to.line+1),vo(e,function(e){To(e,i,t.from.line,t.to.line+1)},!0),i}function xo(e){for(;e.length&&B(e).ranges;)e.pop()}function Co(e,t,i,n){var o=e.history;o.undone.length=0;var s,r,a=+new Date;if((o.lastOp==n||o.lastOrigin==t.origin&&t.origin&&("+"==t.origin.charAt(0)&&o.lastModTime>a-(e.cm?e.cm.options.historyEventDelay:500)||"*"==t.origin.charAt(0)))&&(r=(r=o).lastOp==n?(xo(r.done),B(r.done)):r.done.length&&!B(r.done).ranges?B(r.done):1<r.done.length&&!r.done[r.done.length-2].ranges?(r.done.pop(),B(r.done)):void 0))s=B(r.changes),0==W(t.from,t.to)&&0==W(t.from,s.to)?s.to=lo(t):r.changes.push(wo(e,t));else{var l=B(o.done);for(l&&l.ranges||So(e.sel,o.done),r={changes:[wo(e,t)],generation:o.generation},o.done.push(r);o.done.length>o.undoDepth;)o.done.shift(),o.done[0].ranges||o.done.shift()}o.done.push(i),o.generation=++o.maxGeneration,o.lastModTime=o.lastSelTime=a,o.lastOp=o.lastSelOp=n,o.lastOrigin=o.lastSelOrigin=t.origin,s||K(e,"historyAdded")}function So(e,t){var i=B(t);i&&i.ranges&&i.equals(e)||t.push(e)}function To(t,i,e,n){var o=i["spans_"+t.id],s=0;t.iter(Math.max(t.first,e),Math.min(t.first+t.size,n),function(e){e.markedSpans&&((o=o||(i["spans_"+t.id]={}))[s]=e.markedSpans),++s})}function ko(o,e){var t=function(e){var t=e["spans_"+o.id];if(!t)return null;for(var i=[],n=0;n<e.text.length;++n)i.push(function(e){if(!e)return null;for(var t,i=0;i<e.length;++i)e[i].marker.explicitlyCleared?t=t||e.slice(0,i):t&&t.push(e[i]);return t?t.length?t:null:e}(t[n]));return i}(e),i=Ve(o,e);if(!t)return i;if(i)for(var n=0;n<t.length;++n){var s=t[n],r=i[n];if(s&&r)e:for(var a=0;a<r.length;++a){for(var l=r[a],d=0;d<s.length;++d)if(s[d].marker==l.marker)continue e;s.push(l)}else r&&(t[n]=r)}return t}function Do(e,t,i){for(var n=[],o=0;o<e.length;++o){var s=e[o];if(s.ranges)n.push(i?J.prototype.deepCopy.call(s):s);else{var r=s.changes,a=[];n.push({changes:a});for(var l=0;l<r.length;++l){var d,c=r[l];if(a.push({from:c.from,to:c.to,text:c.text}),t)for(var h in c)(d=h.match(/^spans_(\d+)$/))&&-1<S(t,Number(d[1]))&&(B(a)[h]=c[h],delete c[h])}}}return n}function Lo(e,t,i,n){return n?(n=e.anchor,i&&((e=W(t,n)<0)!=W(i,n)<0?(n=t,t=i):e!=W(t,i)<0&&(t=i)),new Z(n,t)):new Z(i||t,t)}function Ao(e,t,i,n,o){null==o&&(o=e.cm&&(e.cm.display.shift||e.extend)),ee(e,new J([Lo(e.sel.primary(),t,i,o)],0),n)}function Io(e,t,i){for(var n=[],o=e.cm&&(e.cm.display.shift||e.extend),s=0;s<e.sel.ranges.length;s++)n[s]=Lo(e.sel.ranges[s],t[s],null,o);ee(e,ro(e.cm,n,e.sel.primIndex),i)}function Oo(e,t,i,n){var o=e.sel.ranges.slice(0);o[t]=i,ee(e,ro(e.cm,o,e.sel.primIndex),n)}function Eo(e,t,i,n){ee(e,ao(t,i),n)}function Mo(e,t,i){var n=e.history.done,o=B(n);o&&o.ranges?$o(e,n[n.length-1]=t,i):ee(e,t,i)}function ee(e,t,i){var n,o,s,r,a,l;$o(e,t,i),t=e.sel,n=e.cm?e.cm.curOp.id:NaN,a=e.history,l=(i=i)&&i.origin,n==a.lastSelOp||l&&a.lastSelOrigin==l&&(a.lastModTime==a.lastSelTime&&a.lastOrigin==l||(e=e,o=B(a.done),s=t,"*"==(r=l.charAt(0)))||"+"==r&&o.ranges.length==s.ranges.length&&o.somethingSelected()==s.somethingSelected()&&new Date-e.history.lastSelTime<=(e.cm?e.cm.options.historyEventDelay:500))?a.done[a.done.length-1]=t:So(t,a.done),a.lastSelTime=+new Date,a.lastSelOrigin=l,a.lastSelOp=n,i&&!1!==i.clearRedo&&xo(a.undone)}function $o(e,t,i){var n,o,s;(Ct(e,"beforeSelectionChange")||e.cm&&Ct(e.cm,"beforeSelectionChange"))&&(s={ranges:(o=t).ranges,update:function(e){this.ranges=[];for(var t=0;t<e.length;t++)this.ranges[t]=new Z(q(n,e[t].anchor),q(n,e[t].head))},origin:i&&i.origin},K(n=e,"beforeSelectionChange",n,s),n.cm&&K(n.cm,"beforeSelectionChange",n.cm,s),t=s.ranges!=o.ranges?ro(n.cm,s.ranges,s.ranges.length-1):o),jo(e,Po(e,t,i&&i.bias||(W(t.primary().head,e.sel.primary().head)<0?-1:1),!0)),i&&!1===i.scroll||!e.cm||kn(e.cm)}function jo(e,t){t.equals(e.sel)||(e.sel=t,e.cm&&(e.cm.curOp.updateInput=e.cm.curOp.selectionChanged=!0,xt(e.cm)),b(e,"cursorActivity",e))}function No(e){jo(e,Po(e,e.sel,null,!1))}function Po(e,t,i,n){for(var o,s=0;s<t.ranges.length;s++){var r=t.ranges[s],a=t.ranges.length==e.sel.ranges.length&&e.sel.ranges[s],l=Ho(e,r.anchor,a&&a.anchor,i,n),a=Ho(e,r.head,a&&a.head,i,n);!o&&l==r.anchor&&a==r.head||((o=o||t.ranges.slice(0,s))[s]=new Z(l,a))}return o?ro(e.cm,o,t.primIndex):t}function zo(e,t,i,n,o){var s=R(e,t.line);if(s.markedSpans)for(var r=0;r<s.markedSpans.length;++r){var a=s.markedSpans[r],l=a.marker;if((null==a.from||(l.inclusiveLeft?a.from<=t.ch:a.from<t.ch))&&(null==a.to||(l.inclusiveRight?a.to>=t.ch:a.to>t.ch))){if(o&&(K(l,"beforeCursorEnter"),l.explicitlyCleared)){if(s.markedSpans){--r;continue}break}if(l.atomic){if(i){var a=l.find(n<0?1:-1),d=void 0;if((a=(n<0?l.inclusiveRight:l.inclusiveLeft)?Fo(e,a,-n,a&&a.line==t.line?s:null):a)&&a.line==t.line&&(d=W(a,i))&&(n<0?d<0:0<d))return zo(e,a,t,n,o)}d=l.find(n<0?-1:1);return(d=(n<0?l.inclusiveLeft:l.inclusiveRight)?Fo(e,d,n,d.line==t.line?s:null):d)?zo(e,d,t,n,o):null}}}return t}function Ho(e,t,i,n,o){n=n||1;return zo(e,t,i,n,o)||!o&&zo(e,t,i,n,!0)||zo(e,t,i,-n,o)||!o&&zo(e,t,i,-n,!0)||(e.cantEdit=!0,U(e.first,0))}function Fo(e,t,i,n){return i<0&&0==t.ch?t.line>e.first?q(e,U(t.line-1)):null:0<i&&t.ch==(n||R(e,t.line)).text.length?t.line<e.first+e.size-1?U(t.line+1,0):null:new U(t.line,t.ch+i)}function Bo(e){e.setSelection(U(e.firstLine(),0),U(e.lastLine()),pe)}function Ro(o,e,t){var s={canceled:!1,from:e.from,to:e.to,text:e.text,origin:e.origin,cancel:function(){return s.canceled=!0}};return t&&(s.update=function(e,t,i,n){e&&(s.from=q(o,e)),t&&(s.to=q(o,t)),i&&(s.text=i),void 0!==n&&(s.origin=n)}),K(o,"beforeChange",o,s),o.cm&&K(o.cm,"beforeChange",o.cm,s),s.canceled?null:{from:s.from,to:s.to,text:s.text,origin:s.origin}}function Uo(e,t,i){if(e.cm){if(!e.cm.curOp)return Q(e.cm,Uo)(e,t,i);if(e.cm.state.suppressEdits)return}if(!(Ct(e,"beforeChange")||e.cm&&Ct(e.cm,"beforeChange"))||(t=Ro(e,t,!0))){var n=Re&&!i&&function(e,t,i){var n=null;if(e.iter(t.line,i.line+1,function(e){if(e.markedSpans)for(var t=0;t<e.markedSpans.length;++t){var i=e.markedSpans[t].marker;!i.readOnly||n&&-1!=S(n,i)||(n=n||[]).push(i)}}),!n)return null;for(var o=[{from:t,to:i}],s=0;s<n.length;++s)for(var r=n[s],a=r.find(0),l=0;l<o.length;++l){var d,c,h,u=o[l];W(u.to,a.from)<0||0<W(u.from,a.to)||(d=[l,1],c=W(u.from,a.from),h=W(u.to,a.to),(c<0||!r.inclusiveLeft&&!c)&&d.push({from:u.from,to:a.from}),(0<h||!r.inclusiveRight&&!h)&&d.push({from:a.to,to:u.to}),o.splice.apply(o,d),l+=d.length-3)}return o}(e,t.from,t.to);if(n)for(var o=n.length-1;0<=o;--o)Wo(e,{from:n[o].from,to:n[o].to,text:o?[""]:t.text,origin:t.origin});else Wo(e,t)}}function Wo(e,i){var t,n;1==i.text.length&&""==i.text[0]&&0==W(i.from,i.to)||(t=ho(e,i),Co(e,i,t,e.cm?e.cm.curOp.id:NaN),Go(e,i,t,Ve(e,i)),n=[],vo(e,function(e,t){t||-1!=S(n,e.history)||(Qo(e.history,i),n.push(e.history)),Go(e,i,null,Ve(e,i))}))}function qo(o,s,e){var t=o.cm&&o.cm.state.suppressEdits;if(!t||e){for(var r,i=o.history,n=o.sel,a="undo"==s?i.done:i.undone,l="undo"==s?i.undone:i.done,d=0;d<a.length&&(r=a[d],e?!r.ranges||r.equals(o.sel):r.ranges);d++);if(d!=a.length){for(i.lastOrigin=i.lastSelOrigin=null;;){if(!(r=a.pop()).ranges){if(t)return a.push(r);break}if(So(r,l),e&&!r.equals(o.sel))return ee(o,r,{clearRedo:!1});n=r}var c=[];So(n,l),l.push({changes:c,generation:i.generation}),i.generation=r.generation||++i.maxGeneration;for(var h=Ct(o,"beforeChange")||o.cm&&Ct(o.cm,"beforeChange"),u=r.changes.length-1;0<=u;--u){var p=function(e){var i=r.changes[e];if(i.origin=s,h&&!Ro(o,i,!1))return a.length=0,{};c.push(wo(o,i));var t=e?ho(o,i):B(a),n=(Go(o,i,t,ko(o,i)),!e&&o.cm&&o.cm.scrollIntoView({from:i.from,to:lo(i)}),[]);vo(o,function(e,t){t||-1!=S(n,e.history)||(Qo(e.history,i),n.push(e.history)),Go(e,i,null,ko(e,i))})}(u);if(p)return p.v}}}}function Vo(e,t){if(0!=t&&(e.first+=t,e.sel=new J(ye(e.sel.ranges,function(e){return new Z(U(e.anchor.line+t,e.anchor.ch),U(e.head.line+t,e.head.ch))}),e.sel.primIndex),e.cm)){w(e.cm,e.first,e.first-t,t);for(var i=e.cm.display,n=i.viewFrom;n<i.viewTo;n++)Un(e.cm,n,"gutter")}}function Go(e,t,i,n){if(e.cm&&!e.cm.curOp)return Q(e.cm,Go)(e,t,i,n);if(t.to.line<e.first)Vo(e,t.text.length-1-(t.to.line-t.from.line));else if(!(t.from.line>e.lastLine())){t.from.line<e.first&&(Vo(e,o=t.text.length-1-(e.first-t.from.line)),t={from:U(e.first,0),to:U(t.to.line+o,t.to.ch),text:[B(t.text)],origin:t.origin});var o=e.lastLine();if((t=t.to.line>o?{from:t.from,to:U(o,R(e,o).text.length),text:[t.text[0]],origin:t.origin}:t).removed=Ie(e,t.from,t.to),i=i||ho(e,t),e.cm){o=e.cm;var s=t;var r=n;var a=o.doc,l=o.display,d=s.from,c=s.to,h=!1,u=d.line,p=(o.options.lineWrapping||(u=_(nt(R(a,d.line))),a.iter(u,c.line+1,function(e){if(e==l.maxLine)return h=!0})),-1<a.sel.contains(s.from,s.to)&&xt(o),go(a,s,r,rn(o)),o.options.lineWrapping||(a.iter(u,d.line+s.text.length,function(e){var t=lt(e);t>l.maxLineLength&&(l.maxLine=e,l.maxLineLength=t,l.maxLineChanged=!0,h=!1)}),h&&(o.curOp.updateMaxLine=!0)),a),m=d.line;if(p.modeFrontier=Math.min(p.modeFrontier,m),!(p.highlightFrontier<m-10)){for(var f=p.first,g=m-1;f<g;g--){var v=R(p,g).stateAfter;if(v&&(!(v instanceof qt)||g+v.lookAhead<m)){f=g+1;break}}p.highlightFrontier=Math.min(p.highlightFrontier,f)}Gn(o,400);var r=s.text.length-(c.line-d.line)-1,u=(s.full?w(o):d.line!=c.line||1!=s.text.length||fo(o.doc,s)?w(o,d.line,c.line+1,r):Un(o,d.line,"text"),Ct(o,"changes")),a=Ct(o,"change");(a||u)&&(r={from:d,to:c,text:s.text,removed:s.removed,origin:s.origin},a&&b(o,"change",o,r),u)&&(o.curOp.changeObjs||(o.curOp.changeObjs=[])).push(r),o.display.selForContextMenu=null}else go(e,t,n);$o(e,i,pe)}}function Ko(e,t,i,n,o){var s;W(n=n||i,i)<0&&(i=(s=[n,i])[0],n=s[1]),"string"==typeof t&&(t=e.splitLines(t)),Uo(e,{from:i,to:n,text:t,origin:o})}function Xo(e,t,i,n){i<e.line?e.line+=n:t<e.line&&(e.line=t,e.ch=0)}function Yo(e,t,i,n){for(var o=0;o<e.length;++o){var s=e[o],r=!0;if(s.ranges){s.copied||((s=e[o]=s.deepCopy()).copied=!0);for(var a=0;a<s.ranges.length;a++)Xo(s.ranges[a].anchor,t,i,n),Xo(s.ranges[a].head,t,i,n)}else{for(var l=0;l<s.changes.length;++l){var d=s.changes[l];if(i<d.from.line)d.from=U(d.from.line+n,d.from.ch),d.to=U(d.to.line+n,d.to.ch);else if(t<=d.to.line){r=!1;break}}r||(e.splice(0,o+1),o=0)}}}function Qo(e,t){var i=t.from.line,n=t.to.line,t=t.text.length-(n-i)-1;Yo(e.done,i,n,t),Yo(e.undone,i,n,t)}function Jo(e,t,i,n){var o=t,s=t;return"number"==typeof t?s=R(e,Fe(e,t)):o=_(t),null==o?null:(n(s,o)&&e.cm&&Un(e.cm,o,i),s)}function Zo(e){this.lines=e,this.parent=null;for(var t=0,i=0;i<e.length;++i)e[i].parent=this,t+=e[i].height;this.height=t}function es(e){this.children=e;for(var t=0,i=0,n=0;n<e.length;++n){var o=e[n];t+=o.chunkSize(),i+=o.height,o.parent=this}this.size=t,this.height=i,this.parent=null}Z.prototype.from=function(){return He(this.anchor,this.head)},Z.prototype.to=function(){return ze(this.anchor,this.head)},Z.prototype.empty=function(){return this.head.line==this.anchor.line&&this.head.ch==this.anchor.ch},Zo.prototype={chunkSize:function(){return this.lines.length},removeInner:function(e,t){for(var i=e,n=e+t;i<n;++i){var o=this.lines[i];this.height-=o.height,o.parent=null,Ke(o),b(o,"delete")}this.lines.splice(e,t)},collapse:function(e){e.push.apply(e,this.lines)},insertInner:function(e,t,i){this.height+=i,this.lines=this.lines.slice(0,e).concat(t).concat(this.lines.slice(e));for(var n=0;n<t.length;++n)t[n].parent=this},iterN:function(e,t,i){for(var n=e+t;e<n;++e)if(i(this.lines[e]))return!0}},es.prototype={chunkSize:function(){return this.size},removeInner:function(e,t){this.size-=t;for(var i,n=0;n<this.children.length;++n){var o=this.children[n],s=o.chunkSize();if(e<s){var r=Math.min(t,s-e),a=o.height;if(o.removeInner(e,r),this.height-=a-o.height,s==r&&(this.children.splice(n--,1),o.parent=null),0==(t-=r))break;e=0}else e-=s}this.size-t<25&&(1<this.children.length||!(this.children[0]instanceof Zo))&&(this.collapse(i=[]),this.children=[new Zo(i)],this.children[0].parent=this)},collapse:function(e){for(var t=0;t<this.children.length;++t)this.children[t].collapse(e)},insertInner:function(e,t,i){this.size+=t.length,this.height+=i;for(var n=0;n<this.children.length;++n){var o=this.children[n],s=o.chunkSize();if(e<=s){if(o.insertInner(e,t,i),o.lines&&50<o.lines.length){for(var r=o.lines.length%25+25,a=r;a<o.lines.length;){var l=new Zo(o.lines.slice(a,a+=25));o.height-=l.height,this.children.splice(++n,0,l),l.parent=this}o.lines=o.lines.slice(0,r),this.maybeSpill()}break}e-=s}},maybeSpill:function(){if(!(this.children.length<=10)){var e=this;do{var t,i=new es(e.children.splice(e.children.length-5,5))}while(e.parent?(e.size-=i.size,e.height-=i.height,t=S(e.parent.children,e),e.parent.children.splice(t+1,0,i)):(((t=new es(e.children)).parent=e).children=[t,i],e=t),i.parent=e.parent,10<e.children.length);e.parent.maybeSpill()}},iterN:function(e,t,i){for(var n=0;n<this.children.length;++n){var o=this.children[n],s=o.chunkSize();if(e<s){var r=Math.min(t,s-e);if(o.iterN(e,r,i))return!0;if(0==(t-=r))break;e=0}else e-=s}}};function ts(e,t,i){if(i)for(var n in i)i.hasOwnProperty(n)&&(this[n]=i[n]);this.doc=e,this.node=t}function is(e,t,i){at(t)<(e.curOp&&e.curOp.scrollTop||e.doc.scrollTop)&&Tn(e,i)}ts.prototype.clear=function(){var e=this.doc.cm,t=this.line.widgets,i=this.line,n=_(i);if(null!=n&&t){for(var o=0;o<t.length;++o)t[o]==this&&t.splice(o--,1);t.length||(i.widgets=null);var s=Ci(this);Ee(i,Math.max(0,i.height-s)),e&&(h(e,function(){is(e,i,-s),Un(e,n,"widget")}),b(e,"lineWidgetCleared",e,this,n))}},ts.prototype.changed=function(){var e=this,t=this.height,i=this.doc.cm,n=this.line,o=(this.height=null,Ci(this)-t);o&&(rt(this.doc,n)||Ee(n,n.height+o),i)&&h(i,function(){i.curOp.forceUpdate=!0,is(i,n,o),b(i,"lineWidgetChanged",i,e,_(n))})},St(ts);function ns(e,t){this.lines=[],this.type=t,this.doc=e,this.id=++os}var os=0;function ss(t,i,n,e,o){if(e&&e.shared)return p=t,s=i,r=n,l=o,(a=de(a=e)).shared=!1,d=[ss(p,s,r,a,l)],c=d[0],h=a.widgetNode,vo(p,function(e){h&&(a.widgetNode=h.cloneNode(!0)),d.push(ss(e,q(e,s),q(e,r),a,l));for(var t=0;t<e.linked.length;++t)if(e.linked[t].isParent)return;c=B(d)}),new rs(d,c);var s,r,a,l,d,c,h;if(t.cm&&!t.cm.curOp)return Q(t.cm,ss)(t,i,n,e,o);var u=new ns(t,o),p=W(i,n);if(e&&de(e,u,!1),!(0<p||0==p&&!1!==u.clearWhenEmpty)){if(u.replacedWith&&(u.collapsed=!0,u.widgetNode=E("span",[u.replacedWith],"CodeMirror-widget"),e.handleMouseEvents||u.widgetNode.setAttribute("cm-ignore-events","true"),e.insertLeft)&&(u.widgetNode.insertLeft=!0),u.collapsed){if(it(t,i.line,i,n,u)||i.line!=n.line&&it(t,n.line,i,n,u))throw new Error("Inserting collapsed marker partially overlapping an existing one");Ue=!0}u.addToHistory&&Co(t,{from:i,to:n,origin:"markText"},t.sel,NaN);var m,f=i.line,g=t.cm;if(t.iter(f,n.line+1,function(e){var t;g&&u.collapsed&&!g.options.lineWrapping&&nt(e)==g.display.maxLine&&(m=!0),u.collapsed&&f!=i.line&&Ee(e,0),e=e,t=new We(u,f==i.line?i.ch:null,f==n.line?n.ch:null),e.markedSpans=e.markedSpans?e.markedSpans.concat([t]):[t],t.marker.attachLine(e),++f}),u.collapsed&&t.iter(i.line,n.line+1,function(e){rt(t,e)&&Ee(e,0)}),u.clearOnEnter&&V(u,"beforeCursorEnter",function(){return u.clear()}),u.readOnly&&(Re=!0,t.history.done.length||t.history.undone.length)&&t.clearHistory(),u.collapsed&&(u.id=++os,u.atomic=!0),g){if(m&&(g.curOp.updateMaxLine=!0),u.collapsed)w(g,i.line,n.line+1);else if(u.className||u.title||u.startStyle||u.endStyle||u.css)for(var v=i.line;v<=n.line;v++)Un(g,v,"text");u.atomic&&No(g.doc),b(g,"markerAdded",g,u)}}return u}ns.prototype.clear=function(){if(!this.explicitlyCleared){var e,t=this.doc.cm,i=t&&!t.curOp;i&&Bn(t),Ct(this,"clear")&&(e=this.find())&&b(this,"clear",e.from,e.to);for(var n=null,o=null,s=0;s<this.lines.length;++s){var r=this.lines[s],a=qe(r.markedSpans,this);t&&!this.collapsed?Un(t,_(r),"text"):t&&(null!=a.to&&(o=_(r)),null!=a.from)&&(n=_(r)),r.markedSpans=function(e,t){for(var i,n=0;n<e.length;++n)e[n]!=t&&(i=i||[]).push(e[n]);return i}(r.markedSpans,a),null==a.from&&this.collapsed&&!rt(this.doc,r)&&t&&Ee(r,tn(t.display))}if(t&&this.collapsed&&!t.options.lineWrapping)for(var l=0;l<this.lines.length;++l){var d=nt(this.lines[l]),c=lt(d);c>t.display.maxLineLength&&(t.display.maxLine=d,t.display.maxLineLength=c,t.display.maxLineChanged=!0)}null!=n&&t&&this.collapsed&&w(t,n,o+1),this.lines.length=0,this.explicitlyCleared=!0,this.atomic&&this.doc.cantEdit&&(this.doc.cantEdit=!1,t)&&No(t.doc),t&&b(t,"markerCleared",t,this,n,o),i&&Rn(t),this.parent&&this.parent.clear()}},ns.prototype.find=function(e,t){var i,n;null==e&&"bookmark"==this.type&&(e=1);for(var o=0;o<this.lines.length;++o){var s=this.lines[o],r=qe(s.markedSpans,this);if(null!=r.from&&(i=U(t?s:_(s),r.from),-1==e))return i;if(null!=r.to&&(n=U(t?s:_(s),r.to),1==e))return n}return i&&{from:i,to:n}},ns.prototype.changed=function(){var i=this,n=this.find(-1,!0),o=this,s=this.doc.cm;n&&s&&h(s,function(){var e=n.line,t=_(n.line),t=Mi(s,t);t&&(Hi(t),s.curOp.selectionChanged=s.curOp.forceUpdate=!0),s.curOp.updateMaxLine=!0,!rt(o.doc,e)&&null!=o.height&&(t=o.height,o.height=null,t=Ci(o)-t)&&Ee(e,e.height+t),b(s,"markerChanged",s,i)})},ns.prototype.attachLine=function(e){var t;this.lines.length||!this.doc.cm||(t=this.doc.cm.curOp).maybeHiddenMarkers&&-1!=S(t.maybeHiddenMarkers,this)||(t.maybeUnhiddenMarkers||(t.maybeUnhiddenMarkers=[])).push(this),this.lines.push(e)},ns.prototype.detachLine=function(e){this.lines.splice(S(this.lines,e),1),!this.lines.length&&this.doc.cm&&((e=this.doc.cm.curOp).maybeHiddenMarkers||(e.maybeHiddenMarkers=[])).push(this)},St(ns);function rs(e,t){this.markers=e,this.primary=t;for(var i=0;i<e.length;++i)e[i].parent=this}function as(e){return e.findMarks(U(e.first,0),e.clipPos(U(e.lastLine())),function(e){return e.parent})}rs.prototype.clear=function(){if(!this.explicitlyCleared){this.explicitlyCleared=!0;for(var e=0;e<this.markers.length;++e)this.markers[e].clear();b(this,"clear")}},rs.prototype.find=function(e,t){return this.primary.find(e,t)},St(rs);function m(e,t,i,n,o){if(!(this instanceof m))return new m(e,t,i,n,o);null==i&&(i=0),es.call(this,[new Zo([new ni("",null)])]),this.first=i,this.scrollTop=this.scrollLeft=0,this.cantEdit=!1,this.cleanGeneration=1,i=U(this.modeFrontier=this.highlightFrontier=i,0),this.sel=ao(i),this.history=new _o(null),this.id=++ls,this.modeOption=t,this.lineSep=n,this.direction="rtl"==o?"rtl":"ltr",this.extend=!1,"string"==typeof e&&(e=this.splitLines(e)),go(this,{from:i,to:i,text:e}),ee(this,ao(i),pe)}var ls=0,ds=((m.prototype=we(es.prototype,{constructor:m,iter:function(e,t,i){i?this.iterN(e-this.first,t-e,i):this.iterN(this.first,this.first+this.size,e)},insert:function(e,t){for(var i=0,n=0;n<t.length;++n)i+=t[n].height;this.insertInner(e-this.first,t,i)},remove:function(e,t){this.removeInner(e-this.first,t)},getValue:function(e){var t=Oe(this,this.first,this.first+this.size);return!1===e?t:t.join(e||this.lineSeparator())},setValue:n(function(e){var t=U(this.first,0),i=this.first+this.size-1;Uo(this,{from:t,to:U(i,R(this,i).text.length),text:this.splitLines(e),origin:"setValue",full:!0},!0),this.cm&&Dn(this.cm,0,0),ee(this,ao(t),pe)}),replaceRange:function(e,t,i,n){Ko(this,e,t=q(this,t),i=i?q(this,i):t,n)},getRange:function(e,t,i){e=Ie(this,q(this,e),q(this,t));return!1===i?e:e.join(i||this.lineSeparator())},getLine:function(e){e=this.getLineHandle(e);return e&&e.text},getLineHandle:function(e){if($e(this,e))return R(this,e)},getLineNumber:_,getLineHandleVisualStart:function(e){return nt(e="number"==typeof e?R(this,e):e)},lineCount:function(){return this.size},firstLine:function(){return this.first},lastLine:function(){return this.first+this.size-1},clipPos:function(e){return q(this,e)},getCursor:function(e){var t=this.sel.primary();return null==e||"head"==e?t.head:"anchor"==e?t.anchor:"end"==e||"to"==e||!1===e?t.to():t.from()},listSelections:function(){return this.sel.ranges},somethingSelected:function(){return this.sel.somethingSelected()},setCursor:n(function(e,t,i){Eo(this,q(this,"number"==typeof e?U(e,t||0):e),null,i)}),setSelection:n(function(e,t,i){Eo(this,q(this,e),q(this,t||e),i)}),extendSelection:n(function(e,t,i){Ao(this,q(this,e),t&&q(this,t),i)}),extendSelections:n(function(e,t){Io(this,Be(this,e),t)}),extendSelectionsBy:n(function(e,t){Io(this,Be(this,ye(this.sel.ranges,e)),t)}),setSelections:n(function(e,t,i){if(e.length){for(var n=[],o=0;o<e.length;o++)n[o]=new Z(q(this,e[o].anchor),q(this,e[o].head));null==t&&(t=Math.min(e.length-1,this.sel.primIndex)),ee(this,ro(this.cm,n,t),i)}}),addSelection:n(function(e,t,i){var n=this.sel.ranges.slice(0);n.push(new Z(q(this,e),q(this,t||e))),ee(this,ro(this.cm,n,n.length-1),i)}),getSelection:function(e){for(var t=this.sel.ranges,i=0;i<t.length;i++)var n=Ie(this,t[i].from(),t[i].to()),o=o?o.concat(n):n;return!1===e?o:o.join(e||this.lineSeparator())},getSelections:function(e){for(var t=[],i=this.sel.ranges,n=0;n<i.length;n++){var o=Ie(this,i[n].from(),i[n].to());!1!==e&&(o=o.join(e||this.lineSeparator())),t[n]=o}return t},replaceSelection:function(e,t,i){for(var n=[],o=0;o<this.sel.ranges.length;o++)n[o]=e;this.replaceSelections(n,t,i||"+input")},replaceSelections:n(function(e,t,i){for(var n=[],o=this.sel,s=0;s<o.ranges.length;s++){var r=o.ranges[s];n[s]={from:r.from(),to:r.to(),text:this.splitLines(e[s]),origin:i}}for(var t=t&&"end"!=t&&function(e,t,i){for(var n=[],o=d=U(e.first,0),s=0;s<t.length;s++){var r=t[s],a=uo(r.from,d,o),l=uo(lo(r),d,o),d=r.to,o=l;"around"==i?(r=W((r=e.sel.ranges[s]).head,r.anchor)<0,n[s]=new Z(r?l:a,r?a:l)):n[s]=new Z(a,a)}return new J(n,e.sel.primIndex)}(this,n,t),a=n.length-1;0<=a;a--)Uo(this,n[a]);t?Mo(this,t):this.cm&&kn(this.cm)}),undo:n(function(){qo(this,"undo")}),redo:n(function(){qo(this,"redo")}),undoSelection:n(function(){qo(this,"undo",!0)}),redoSelection:n(function(){qo(this,"redo",!0)}),setExtending:function(e){this.extend=e},getExtending:function(){return this.extend},historySize:function(){for(var e=this.history,t=0,i=0,n=0;n<e.done.length;n++)e.done[n].ranges||++t;for(var o=0;o<e.undone.length;o++)e.undone[o].ranges||++i;return{undo:t,redo:i}},clearHistory:function(){this.history=new _o(this.history.maxGeneration)},markClean:function(){this.cleanGeneration=this.changeGeneration(!0)},changeGeneration:function(e){return e&&(this.history.lastOp=this.history.lastSelOp=this.history.lastOrigin=null),this.history.generation},isClean:function(e){return this.history.generation==(e||this.cleanGeneration)},getHistory:function(){return{done:Do(this.history.done),undone:Do(this.history.undone)}},setHistory:function(e){var t=this.history=new _o(this.history.maxGeneration);t.done=Do(e.done.slice(0),null,!0),t.undone=Do(e.undone.slice(0),null,!0)},setGutterMarker:n(function(e,i,n){return Jo(this,e,"gutter",function(e){var t=e.gutterMarkers||(e.gutterMarkers={});return!(t[i]=n)&&Te(t)&&(e.gutterMarkers=null),1})}),clearGutter:n(function(t){var i=this;this.iter(function(e){e.gutterMarkers&&e.gutterMarkers[t]&&Jo(i,e,"gutter",function(){return e.gutterMarkers[t]=null,Te(e.gutterMarkers)&&(e.gutterMarkers=null),1})})}),lineInfo:function(e){var t;if("number"==typeof e){if(!$e(this,e))return null;if(!(e=R(this,t=e)))return null}else if(null==(t=_(e)))return null;return{line:t,handle:e,text:e.text,gutterMarkers:e.gutterMarkers,textClass:e.textClass,bgClass:e.bgClass,wrapClass:e.wrapClass,widgets:e.widgets}},addLineClass:n(function(e,i,n){return Jo(this,e,"gutter"==i?"gutter":"class",function(e){var t="text"==i?"textClass":"background"==i?"bgClass":"gutter"==i?"gutterClass":"wrapClass";if(e[t]){if(A(n).test(e[t]))return;e[t]+=" "+n}else e[t]=n;return 1})}),removeLineClass:n(function(e,s,r){return Jo(this,e,"gutter"==s?"gutter":"class",function(e){var t="text"==s?"textClass":"background"==s?"bgClass":"gutter"==s?"gutterClass":"wrapClass",i=e[t];if(i){if(null==r)e[t]=null;else{var n=i.match(A(r));if(!n)return;var o=n.index+n[0].length;e[t]=i.slice(0,n.index)+(n.index&&o!=i.length?" ":"")+i.slice(o)||null}return 1}})}),addLineWidget:n(function(e,t,i){return e=e,o=new ts(n=this,t,i),(s=n.cm)&&o.noHScroll&&(s.display.alignWidgets=!0),Jo(n,e,"widget",function(e){var t=e.widgets||(e.widgets=[]);return null==o.insertAt?t.push(o):t.splice(Math.min(t.length-1,Math.max(0,o.insertAt)),0,o),o.line=e,s&&!rt(n,e)&&(t=at(e)<n.scrollTop,Ee(e,e.height+Ci(o)),t&&Tn(s,o.height),s.curOp.forceUpdate=!0),1}),s&&b(s,"lineWidgetAdded",s,o,"number"==typeof e?e:_(e)),o;var n,o,s}),removeLineWidget:function(e){e.clear()},markText:function(e,t,i){return ss(this,q(this,e),q(this,t),i,i&&i.type||"range")},setBookmark:function(e,t){t={replacedWith:t&&(null==t.nodeType?t.widget:t),insertLeft:t&&t.insertLeft,clearWhenEmpty:!1,shared:t&&t.shared,handleMouseEvents:t&&t.handleMouseEvents};return ss(this,e=q(this,e),e,t,"bookmark")},findMarksAt:function(e){var t=[],i=R(this,(e=q(this,e)).line).markedSpans;if(i)for(var n=0;n<i.length;++n){var o=i[n];(null==o.from||o.from<=e.ch)&&(null==o.to||o.to>=e.ch)&&t.push(o.marker.parent||o.marker)}return t},findMarks:function(o,s,r){o=q(this,o),s=q(this,s);var a=[],l=o.line;return this.iter(o.line,s.line+1,function(e){var t=e.markedSpans;if(t)for(var i=0;i<t.length;i++){var n=t[i];null!=n.to&&l==o.line&&o.ch>=n.to||null==n.from&&l!=o.line||null!=n.from&&l==s.line&&n.from>=s.ch||r&&!r(n.marker)||a.push(n.marker.parent||n.marker)}++l}),a},getAllMarks:function(){var n=[];return this.iter(function(e){var t=e.markedSpans;if(t)for(var i=0;i<t.length;++i)null!=t[i].from&&n.push(t[i].marker)}),n},posFromIndex:function(t){var i,n=this.first,o=this.lineSeparator().length;return this.iter(function(e){e=e.text.length+o;if(t<e)return i=t,!0;t-=e,++n}),q(this,U(n,i))},indexFromPos:function(e){var t,i=(e=q(this,e)).ch;return e.line<this.first||e.ch<0?0:(t=this.lineSeparator().length,this.iter(this.first,e.line,function(e){i+=e.text.length+t}),i)},copy:function(e){var t=new m(Oe(this,this.first,this.first+this.size),this.modeOption,this.first,this.lineSep,this.direction);return t.scrollTop=this.scrollTop,t.scrollLeft=this.scrollLeft,t.sel=this.sel,t.extend=!1,e&&(t.history.undoDepth=this.history.undoDepth,t.setHistory(this.getHistory())),t},linkedDoc:function(e){for(var t=this.first,i=this.first+this.size,i=(null!=(e=e||{}).from&&e.from>t&&(t=e.from),null!=e.to&&e.to<i&&(i=e.to),new m(Oe(this,t,i),e.mode||this.modeOption,t,this.lineSep,this.direction)),n=(e.sharedHist&&(i.history=this.history),(this.linked||(this.linked=[])).push({doc:i,sharedHist:e.sharedHist}),i.linked=[{doc:this,isParent:!0,sharedHist:e.sharedHist}],i),o=as(this),s=0;s<o.length;s++){var r=o[s],a=r.find(),l=n.clipPos(a.from),a=n.clipPos(a.to);W(l,a)&&(l=ss(n,l,a,r.primary,r.primary.type),r.markers.push(l),l.parent=r)}return i},unlinkDoc:function(e){if(e instanceof g&&(e=e.doc),this.linked)for(var t=0;t<this.linked.length;++t)if(this.linked[t].doc==e){this.linked.splice(t,1),e.unlinkDoc(this),i=s=void 0;for(var s=as(this),i=0;i<s.length;i++)!function(e){var t=s[e],i=[t.primary.doc];vo(t.primary.doc,function(e){i.push(e)});for(var n=0;n<t.markers.length;n++){var o=t.markers[n];-1==S(i,o.doc)&&(o.parent=null,t.markers.splice(n--,1))}}(i);break}var n;e.history==this.history&&(n=[e.id],vo(e,function(e){n.push(e.id)},!0),e.history=new _o(null),e.history.done=Do(this.history.done,n),e.history.undone=Do(this.history.undone,n))},iterLinkedDocs:function(e){vo(this,e)},getMode:function(){return this.mode},getEditor:function(){return this.cm},splitLines:function(e){return this.lineSep?e.split(this.lineSep):Mt(e)},lineSeparator:function(){return this.lineSep||"\n"},setDirection:n(function(e){var t;(e="rtl"!=e?"ltr":e)!=this.direction&&(this.direction=e,this.iter(function(e){return e.order=null}),this.cm)&&h(t=this.cm,function(){yo(t),w(t)})})})).eachLine=m.prototype.iter,0);function cs(e){var n=this;if(hs(n),!X(n,e)&&!Si(n.display,e)){Y(e),N&&(ds=+new Date);var o=ln(n,e,!0),t=e.dataTransfer.files;if(o&&!n.isReadOnly())if(t&&t.length&&window.FileReader&&window.File)for(var s=t.length,r=Array(s),a=0,i=0;i<s;++i)!function(e,t){var i;n.options.allowDropFileTypes&&-1==S(n.options.allowDropFileTypes,e.type)||((i=new FileReader).onload=Q(n,function(){var e=i.result;/[\x00-\x08\x0e-\x1f]{2}/.test(e)&&(e=""),r[t]=e,++a==s&&(e={from:o=q(n.doc,o),to:o,text:n.doc.splitLines(r.join(n.doc.lineSeparator())),origin:"paste"},Uo(n.doc,e),Mo(n.doc,ao(o,lo(e))))}),i.readAsText(e))}(t[i],i);else if(n.state.draggingText&&-1<n.doc.sel.contains(o))n.state.draggingText(e),setTimeout(function(){return n.display.input.focus()},20);else try{var l,d=e.dataTransfer.getData("Text");if(d){if(n.state.draggingText&&!n.state.draggingText.copy&&(l=n.listSelections()),$o(n.doc,ao(o,o)),l)for(var c=0;c<l.length;++c)Ko(n.doc,"",l[c].anchor,l[c].head,"drag");n.replaceSelection(d,"around","paste"),n.display.input.focus()}}catch(e){}}}function hs(e){e.display.dragCursor&&(e.display.lineSpace.removeChild(e.display.dragCursor),e.display.dragCursor=null)}function us(e){if(document.getElementsByClassName)for(var t=document.getElementsByClassName("CodeMirror"),i=0;i<t.length;i++){var n=t[i].CodeMirror;n&&e(n)}}var ps=!1;function ms(e){var t=e.display;t.cachedCharWidth=t.cachedTextHeight=t.cachedPaddingH=null,t.scrollbarsClipped=!1,e.setSize()}for(var fs={3:"Pause",8:"Backspace",9:"Tab",13:"Enter",16:"Shift",17:"Ctrl",18:"Alt",19:"Pause",20:"CapsLock",27:"Esc",32:"Space",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"Left",38:"Up",39:"Right",40:"Down",44:"PrintScrn",45:"Insert",46:"Delete",59:";",61:"=",91:"Mod",92:"Mod",93:"Mod",106:"*",107:"=",109:"-",110:".",111:"/",127:"Delete",145:"ScrollLock",173:"-",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'",63232:"Up",63233:"Down",63234:"Left",63235:"Right",63272:"Delete",63273:"Home",63275:"End",63276:"PageUp",63277:"PageDown",63302:"Insert"},gs=0;gs<10;gs++)fs[gs+48]=fs[gs+96]=String(gs);for(var vs=65;vs<=90;vs++)fs[vs]=String.fromCharCode(vs);for(var bs=1;bs<=12;bs++)fs[bs+111]=fs[bs+63235]="F"+bs;var ys={};function _s(e){var t,i,n,o,s=e.split(/-(?!$)/);e=s[s.length-1];for(var r=0;r<s.length-1;r++){var a=s[r];if(/^(cmd|meta|m)$/i.test(a))o=!0;else if(/^a(lt)?$/i.test(a))t=!0;else if(/^(c|ctrl|control)$/i.test(a))i=!0;else{if(!/^s(hift)?$/i.test(a))throw new Error("Unrecognized modifier name: "+a);n=!0}}return t&&(e="Alt-"+e),i&&(e="Ctrl-"+e),o&&(e="Cmd-"+e),e=n?"Shift-"+e:e}function ws(e,t,i,n){var o=(t=Ts(t)).call?t.call(e,n):t[e];if(!1===o)return"nothing";if("..."===o)return"multi";if(null!=o&&i(o))return"handled";if(t.fallthrough){if("[object Array]"!=Object.prototype.toString.call(t.fallthrough))return ws(e,t.fallthrough,i,n);for(var s=0;s<t.fallthrough.length;s++){var r=ws(e,t.fallthrough[s],i,n);if(r)return r}}}function xs(e){e="string"==typeof e?e:fs[e.keyCode];return"Ctrl"==e||"Alt"==e||"Shift"==e||"Mod"==e}function Cs(e,t,i){var n=e;return t.altKey&&"Alt"!=n&&(e="Alt-"+e),(L?t.metaKey:t.ctrlKey)&&"Ctrl"!=n&&(e="Ctrl-"+e),(L?t.ctrlKey:t.metaKey)&&"Cmd"!=n&&(e="Cmd-"+e),e=!i&&t.shiftKey&&"Shift"!=n?"Shift-"+e:e}function Ss(e,t){var i;return!(x&&34==e.keyCode&&e.char||null==(i=fs[e.keyCode])||e.altGraphKey)&&Cs(i=3==e.keyCode&&e.code?e.code:i,e,t)}function Ts(e){return"string"==typeof e?ys[e]:e}function ks(t,e){for(var i=t.doc.sel.ranges,n=[],o=0;o<i.length;o++){for(var s=e(i[o]);n.length&&W(s.from,B(n).to)<=0;){var r=n.pop();if(W(r.from,s.from)<0){s.from=r.from;break}}n.push(s)}h(t,function(){for(var e=n.length-1;0<=e;e--)Ko(t.doc,"",n[e].from,n[e].to,"+delete");kn(t)})}function Ds(e,t,i){t=Le(e.text,t+i,i);return t<0||t>e.text.length?null:t}function Ls(e,t,i){e=Ds(e,t.ch,i);return null==e?null:new U(t.line,e,i<0?"after":"before")}function As(e,t,i,n,o){if(e){var s,r,a,l,e=yt(i,t.doc.direction);if(e)return s=o<0==(1==(e=o<0?B(e):e[0]).level)?"after":"before",0<e.level||"rtl"==t.doc.direction?(r=$i(t,i),a=o<0?i.text.length-1:0,l=ji(t,r,a).top,a=Ae(function(e){return ji(t,r,e).top==l},o<0==(1==e.level)?e.from:e.to-1,a),"before"==s&&(a=Ds(i,a,1))):a=o<0?e.to:e.from,new U(n,a,s)}return new U(n,o<0?i.text.length:0,o<0?"before":"after")}ys.basic={Left:"goCharLeft",Right:"goCharRight",Up:"goLineUp",Down:"goLineDown",End:"goLineEnd",Home:"goLineStartSmart",PageUp:"goPageUp",PageDown:"goPageDown",Delete:"delCharAfter",Backspace:"delCharBefore","Shift-Backspace":"delCharBefore",Tab:"defaultTab","Shift-Tab":"indentAuto",Enter:"newlineAndIndent",Insert:"toggleOverwrite",Esc:"singleSelection"},ys.pcDefault={"Ctrl-A":"selectAll","Ctrl-D":"deleteLine","Ctrl-Z":"undo","Shift-Ctrl-Z":"redo","Ctrl-Y":"redo","Ctrl-Home":"goDocStart","Ctrl-End":"goDocEnd","Ctrl-Up":"goLineUp","Ctrl-Down":"goLineDown","Ctrl-Left":"goGroupLeft","Ctrl-Right":"goGroupRight","Alt-Left":"goLineStart","Alt-Right":"goLineEnd","Ctrl-Backspace":"delGroupBefore","Ctrl-Delete":"delGroupAfter","Ctrl-S":"save","Ctrl-F":"find","Ctrl-G":"findNext","Shift-Ctrl-G":"findPrev","Shift-Ctrl-F":"replace","Shift-Ctrl-R":"replaceAll","Ctrl-[":"indentLess","Ctrl-]":"indentMore","Ctrl-U":"undoSelection","Shift-Ctrl-U":"redoSelection","Alt-U":"redoSelection",fallthrough:"basic"},ys.emacsy={"Ctrl-F":"goCharRight","Ctrl-B":"goCharLeft","Ctrl-P":"goLineUp","Ctrl-N":"goLineDown","Alt-F":"goWordRight","Alt-B":"goWordLeft","Ctrl-A":"goLineStart","Ctrl-E":"goLineEnd","Ctrl-V":"goPageDown","Shift-Ctrl-V":"goPageUp","Ctrl-D":"delCharAfter","Ctrl-H":"delCharBefore","Alt-D":"delWordAfter","Alt-Backspace":"delWordBefore","Ctrl-K":"killLine","Ctrl-T":"transposeChars","Ctrl-O":"openLine"},ys.macDefault={"Cmd-A":"selectAll","Cmd-D":"deleteLine","Cmd-Z":"undo","Shift-Cmd-Z":"redo","Cmd-Y":"redo","Cmd-Home":"goDocStart","Cmd-Up":"goDocStart","Cmd-End":"goDocEnd","Cmd-Down":"goDocEnd","Alt-Left":"goGroupLeft","Alt-Right":"goGroupRight","Cmd-Left":"goLineLeft","Cmd-Right":"goLineRight","Alt-Backspace":"delGroupBefore","Ctrl-Alt-Backspace":"delGroupAfter","Alt-Delete":"delGroupAfter","Cmd-S":"save","Cmd-F":"find","Cmd-G":"findNext","Shift-Cmd-G":"findPrev","Cmd-Alt-F":"replace","Shift-Cmd-Alt-F":"replaceAll","Cmd-[":"indentLess","Cmd-]":"indentMore","Cmd-Backspace":"delWrappedLineLeft","Cmd-Delete":"delWrappedLineRight","Cmd-U":"undoSelection","Shift-Cmd-U":"redoSelection","Ctrl-Up":"goDocStart","Ctrl-Down":"goDocEnd",fallthrough:["basic","emacsy"]},ys.default=ie?ys.macDefault:ys.pcDefault;var Is={selectAll:Bo,singleSelection:function(e){return e.setSelection(e.getCursor("anchor"),e.getCursor("head"),pe)},killLine:function(i){return ks(i,function(e){var t;return e.empty()?(t=R(i.doc,e.head.line).text.length,e.head.ch==t&&e.head.line<i.lastLine()?{from:e.head,to:U(e.head.line+1,0)}:{from:e.head,to:U(e.head.line,t)}):{from:e.from(),to:e.to()}})},deleteLine:function(t){return ks(t,function(e){return{from:U(e.from().line,0),to:q(t.doc,U(e.to().line+1,0))}})},delLineLeft:function(e){return ks(e,function(e){return{from:U(e.from().line,0),to:e.from()}})},delWrappedLineLeft:function(i){return ks(i,function(e){var t=i.charCoords(e.head,"div").top+5;return{from:i.coordsChar({left:0,top:t},"div"),to:e.from()}})},delWrappedLineRight:function(i){return ks(i,function(e){var t=i.charCoords(e.head,"div").top+5,t=i.coordsChar({left:i.display.lineDiv.offsetWidth+100,top:t},"div");return{from:e.from(),to:t}})},undo:function(e){return e.undo()},redo:function(e){return e.redo()},undoSelection:function(e){return e.undoSelection()},redoSelection:function(e){return e.redoSelection()},goDocStart:function(e){return e.extendSelection(U(e.firstLine(),0))},goDocEnd:function(e){return e.extendSelection(U(e.lastLine()))},goLineStart:function(t){return t.extendSelectionsBy(function(e){return Os(t,e.head.line)},{origin:"+move",bias:1})},goLineStartSmart:function(t){return t.extendSelectionsBy(function(e){return Es(t,e.head)},{origin:"+move",bias:1})},goLineEnd:function(n){return n.extendSelectionsBy(function(e){return e=e.head.line,As(!0,n,t=R(n.doc,e),e=(i=function(e){for(var t;t=tt(e);)e=t.find(1,!0).line;return e}(t))!=t?_(i):e,-1);var t,i},{origin:"+move",bias:-1})},goLineRight:function(t){return t.extendSelectionsBy(function(e){e=t.cursorCoords(e.head,"div").top+5;return t.coordsChar({left:t.display.lineDiv.offsetWidth+100,top:e},"div")},fe)},goLineLeft:function(t){return t.extendSelectionsBy(function(e){e=t.cursorCoords(e.head,"div").top+5;return t.coordsChar({left:0,top:e},"div")},fe)},goLineLeftSmart:function(i){return i.extendSelectionsBy(function(e){var t=i.cursorCoords(e.head,"div").top+5,t=i.coordsChar({left:0,top:t},"div");return t.ch<i.getLine(t.line).search(/\S/)?Es(i,e.head):t},fe)},goLineUp:function(e){return e.moveV(-1,"line")},goLineDown:function(e){return e.moveV(1,"line")},goPageUp:function(e){return e.moveV(-1,"page")},goPageDown:function(e){return e.moveV(1,"page")},goCharLeft:function(e){return e.moveH(-1,"char")},goCharRight:function(e){return e.moveH(1,"char")},goColumnLeft:function(e){return e.moveH(-1,"column")},goColumnRight:function(e){return e.moveH(1,"column")},goWordLeft:function(e){return e.moveH(-1,"word")},goGroupRight:function(e){return e.moveH(1,"group")},goGroupLeft:function(e){return e.moveH(-1,"group")},goWordRight:function(e){return e.moveH(1,"word")},delCharBefore:function(e){return e.deleteH(-1,"char")},delCharAfter:function(e){return e.deleteH(1,"char")},delWordBefore:function(e){return e.deleteH(-1,"word")},delWordAfter:function(e){return e.deleteH(1,"word")},delGroupBefore:function(e){return e.deleteH(-1,"group")},delGroupAfter:function(e){return e.deleteH(1,"group")},indentAuto:function(e){return e.indentSelection("smart")},indentMore:function(e){return e.indentSelection("add")},indentLess:function(e){return e.indentSelection("subtract")},insertTab:function(e){return e.replaceSelection("\t")},insertSoftTab:function(e){for(var t=[],i=e.listSelections(),n=e.options.tabSize,o=0;o<i.length;o++){var s=i[o].from(),s=F(e.getLine(s.line),s.ch,n);t.push(be(n-s%n))}e.replaceSelections(t)},defaultTab:function(e){e.somethingSelected()?e.indentSelection("add"):e.execCommand("insertTab")},transposeChars:function(r){return h(r,function(){for(var e,t,i,n=r.listSelections(),o=[],s=0;s<n.length;s++)n[s].empty()&&(e=n[s].head,(t=R(r.doc,e.line).text)&&(0<(e=e.ch==t.length?new U(e.line,e.ch-1):e).ch?(e=new U(e.line,e.ch+1),r.replaceRange(t.charAt(e.ch-1)+t.charAt(e.ch-2),U(e.line,e.ch-2),e,"+transpose")):e.line>r.doc.first&&(i=R(r.doc,e.line-1).text)&&(e=new U(e.line,1),r.replaceRange(t.charAt(0)+r.doc.lineSeparator()+i.charAt(i.length-1),U(e.line-1,i.length-1),e,"+transpose"))),o.push(new Z(e,e)));r.setSelections(o)})},newlineAndIndent:function(n){return h(n,function(){for(var e=(t=n.listSelections()).length-1;0<=e;e--)n.replaceRange(n.doc.lineSeparator(),t[e].anchor,t[e].head,"+input");for(var t=n.listSelections(),i=0;i<t.length;i++)n.indentLine(t[i].from().line,null,!0);kn(n)})},openLine:function(e){return e.replaceSelection("\n","start")},toggleOverwrite:function(e){return e.toggleOverwrite()}};function Os(e,t){var i=R(e.doc,t),n=nt(i);return As(!0,e,n,t=n!=i?_(n):t,1)}function Es(e,t){var i=Os(e,t.line),n=R(e.doc,i.line),e=yt(n,e.doc.direction);return e&&0!=e[0].level?i:(e=Math.max(0,n.text.search(/\S/)),n=t.line==i.line&&t.ch<=e&&t.ch,U(i.line,n?0:e,i.sticky))}function Ms(e,t,i){if("string"==typeof t&&!(t=Is[t]))return!1;e.display.input.ensurePolled();var n=e.display.shift,o=!1;try{e.isReadOnly()&&(e.state.suppressEdits=!0),i&&(e.display.shift=!1),o=t(e)!=ue}finally{e.display.shift=n,e.state.suppressEdits=!1}return o}var $s=new ce;function js(e,t,i,n){var o=e.state.keySeq;if(o){if(xs(t))return"handled";if(/\'$/.test(t)?e.state.keySeq=null:$s.set(50,function(){e.state.keySeq==o&&(e.state.keySeq=null,e.display.input.reset())}),Ns(e,o+" "+t,i,n))return!0}return Ns(e,t,i,n)}function Ns(e,t,i,n){n=function(e,t,i){for(var n=0;n<e.state.keyMaps.length;n++){var o=ws(t,e.state.keyMaps[n],i,e);if(o)return o}return e.options.extraKeys&&ws(t,e.options.extraKeys,i,e)||ws(t,e.options.keyMap,i,e)}(e,t,n);return"multi"==n&&(e.state.keySeq=t),"handled"==n&&b(e,"keyHandled",e,t,i),"handled"!=n&&"multi"!=n||(Y(i),mn(e)),!!n}function Ps(t,e){var i=Ss(e,!0);return!!i&&(e.shiftKey&&!t.state.keySeq?js(t,"Shift-"+i,e,function(e){return Ms(t,e,!0)})||js(t,i,e,function(e){if("string"==typeof e?/^go[A-Z]/.test(e):e.motion)return Ms(t,e)}):js(t,i,e,function(e){return Ms(t,e)}))}var zs=null;function Hs(e){var t,i,n;function o(e){18!=e.keyCode&&e.altKey||(I(n,"CodeMirror-crosshair"),G(document,"keyup",o),G(document,"mouseover",o))}this.curOp.focus=se(),X(this,e)||(N&&P<11&&27==e.keyCode&&(e.returnValue=!1),t=e.keyCode,this.display.shift=16==t||e.shiftKey,i=Ps(this,e),x&&(zs=i?t:null,!i)&&88==t&&!jt&&(ie?e.metaKey:e.ctrlKey)&&this.replaceSelection("",null,"cut"),18!=t)||/\bCodeMirror-crosshair\b/.test(this.display.lineDiv.className)||($(n=this.display.lineDiv,"CodeMirror-crosshair"),V(document,"keyup",o),V(document,"mouseover",o))}function Fs(e){16==e.keyCode&&(this.doc.sel.shift=!1),X(this,e)}function Bs(e){var t,i,n;Si(this.display,e)||X(this,e)||e.ctrlKey&&!e.altKey||ie&&e.metaKey||(n=e.keyCode,t=e.charCode,x&&n==zs?(zs=null,Y(e)):x&&(!e.which||e.which<10)&&Ps(this,e)||"\b"==(n=String.fromCharCode(null==t?n:t))||js(i=this,"'"+n+"'",e,function(e){return Ms(i,e,!0)})||this.display.input.onKeyPress(e))}var Rs,Us,Ws=function(e,t,i){this.time=e,this.pos=t,this.button=i};function qs(e){var i,n,t,o,s,r,a,l,d,c,h,u,p,m,f,x,g,C,S,T,k,D,L,A,v,I,O,E,b,y,_,w,M=this,$=M.display;function j(e){x.state.selectingText=!1,E=1/0,Y(e),T.input.focus(),G(T.wrapper.ownerDocument,"mousemove",b),G(T.wrapper.ownerDocument,"mouseup",y),k.history.lastSelOrigin=null}X(M,e)||$.activeTouch&&$.input.supportsTouch()||($.input.ensurePolled(),$.shift=e.shiftKey,Si($,e)?z||($.scroller.draggable=!1,setTimeout(function(){return $.scroller.draggable=!0},100)):Ks(M,e)||(w=ln(M,e),s=At(e),g=w?(o=w,t=s,g=+new Date,Us&&Us.compare(g,o,t)?(Rs=Us=null,"triple"):Rs&&Rs.compare(g,o,t)?(Us=new Ws(g,o,t),Rs=null,"double"):(Rs=new Ws(g,o,t),Us=null,"single")):"single",window.focus(),1==s&&M.state.selectingText&&M.state.selectingText(e),w&&(n=w,o="Click","double"==g?o="Double"+o:"triple"==g&&(o="Triple"+o),js(i=M,Cs(o=(1==s?"Left":2==s?"Middle":"Right")+o,e),e,function(e){if(!(e="string"==typeof e?Is[e]:e))return!1;var t=!1;try{i.isReadOnly()&&(i.state.suppressEdits=!0),t=e(i,n)!=ue}finally{i.state.suppressEdits=!1}return t})))||(1!=s?2==s?(w&&Ao(M.doc,w),setTimeout(function(){return $.input.focus()},20)):3==s&&(oe?M.display.input.onContextMenu(e):gn(M)):w?(t=M,o=w,s=g,M=e,N?setTimeout(le(fn,t),0):t.curOp.focus=se(),w=s,g=M,null==(v=(v=(f=t).getOption("configureMouse"))?v(f,w,g):{}).unit&&(_=ne?g.shiftKey&&g.metaKey:g.altKey,v.unit=_?"rectangle":"single"==w?"char":"double"==w?"word":"line"),null!=v.extend&&!f.doc.extend||(v.extend=f.doc.extend||g.shiftKey),null==v.addNew&&(v.addNew=ie?g.metaKey:g.ctrlKey),null==v.moveOnDrag&&(v.moveOnDrag=!(ie?g.altKey:g.ctrlKey)),_=v,w=t.doc.sel,t.options.dragDrop&&Et&&!t.isReadOnly()&&"single"==s&&-1<(f=w.contains(o))&&(W((f=w.ranges[f]).from(),o)<0||0<o.xRel)&&(0<W(f.to(),o)||o.xRel<0)?(a=M,l=o,d=_,c=(r=t).display,h=!1,u=Q(r,function(e){z&&(c.scroller.draggable=!1),r.state.draggingText=!1,G(c.wrapper.ownerDocument,"mouseup",u),G(c.wrapper.ownerDocument,"mousemove",p),G(c.scroller,"dragstart",m),G(c.scroller,"drop",u),h||(Y(e),d.addNew||Ao(r.doc,l,null,null,d.extend),z||N&&9==P?setTimeout(function(){c.wrapper.ownerDocument.body.focus(),c.input.focus()},20):c.input.focus())}),p=function(e){h=h||10<=Math.abs(a.clientX-e.clientX)+Math.abs(a.clientY-e.clientY)},m=function(){return h=!0},z&&(c.scroller.draggable=!0),(r.state.draggingText=u).copy=!d.moveOnDrag,c.scroller.dragDrop&&c.scroller.dragDrop(),V(c.wrapper.ownerDocument,"mouseup",u),V(c.wrapper.ownerDocument,"mousemove",p),V(c.scroller,"dragstart",m),V(c.scroller,"drop",u),gn(r),setTimeout(function(){return c.input.focus()},20)):(g=M,C=o,S=_,T=(x=t).display,k=x.doc,Y(g),A=k.sel,v=A.ranges,S.addNew&&!S.extend?(D=k.sel.contains(C),L=-1<D?v[D]:new Z(C,C)):(L=k.sel.primary(),D=k.sel.primIndex),"rectangle"==S.unit?(S.addNew||(L=new Z(C,C)),C=ln(x,g,!0,!0),D=-1):(g=Vs(x,C,S.unit),L=S.extend?Lo(L,g.anchor,g.head,S.extend):g),S.addNew?-1==D?(D=v.length,ee(k,ro(x,v.concat([L]),D),{scroll:!1,origin:"*mouse"})):1<v.length&&v[D].empty()&&"char"==S.unit&&!S.extend?(ee(k,ro(x,v.slice(0,D).concat(v.slice(D+1)),0),{scroll:!1,origin:"*mouse"}),A=k.sel):Oo(k,D,L,me):(ee(k,new J([L],D=0),me),A=k.sel),I=C,O=T.wrapper.getBoundingClientRect(),E=0,b=Q(x,function(e){(0!==e.buttons&&At(e)?function e(t){var i=++E,n=ln(x,t,!0,"rectangle"==S.unit);if(n)if(0!=W(n,I)){x.curOp.focus=se();var o,s,r,a,l,d=n;if(0!=W(I,d))if(I=d,"rectangle"==S.unit){for(var c=[],h=x.options.tabSize,u=F(R(k,C.line).text,C.ch,h),p=F(R(k,d.line).text,d.ch,h),m=Math.min(u,p),f=Math.max(u,p),g=Math.min(C.line,d.line),v=Math.min(x.lastLine(),Math.max(C.line,d.line));g<=v;g++){var b=R(k,g).text,y=ge(b,m,h);m==f?c.push(new Z(U(g,y),U(g,y))):b.length>y&&c.push(new Z(U(g,y),U(g,ge(b,f,h))))}c.length||c.push(new Z(C,C)),ee(k,ro(x,A.ranges.slice(0,D).concat(c),D),{origin:"*mouse",scroll:!1}),x.scrollIntoView(d)}else{u=L,p=Vs(x,d,S.unit),d=u.anchor,d=0<W(p.anchor,d)?(r=p.head,He(u.from(),p.anchor)):(r=p.anchor,ze(u.to(),p.head)),u=A.ranges.slice(0);u[D]=(p=x,d=new Z(q(k,d),r),r=d.anchor,a=d.head,l=R(p.doc,r.line),0==W(r,a)&&r.sticky==a.sticky||!(l=yt(l))||(o=l[_=ht(l,r.ch,r.sticky)]).from!=r.ch&&o.to!=r.ch||0==(s=_+(o.from==r.ch==(1!=o.level)?0:1))||s==l.length||(o=l[s+((_=a.line!=r.line?0<(a.line-r.line)*("ltr"==p.doc.direction?1:-1):(l=(p=ht(l,a.ch,a.sticky))-_||(a.ch-r.ch)*(1==o.level?-1:1),p==s-1||p==s?l<0:0<l))?-1:0)],s=(p=_==(1==o.level))?o.from:o.to,l=p?"after":"before",r.ch==s&&r.sticky==l)?d:new Z(new U(r.line,s,l),a)),ee(k,ro(x,u,D),me)}var _=wn(T,k);(n.line>=_.to||n.line<_.from)&&setTimeout(Q(x,function(){E==i&&e(t)}),150)}else{var w=t.clientY<O.top?-20:t.clientY>O.bottom?20:0;w&&setTimeout(Q(x,function(){E==i&&(T.scroller.scrollTop+=w,e(t))}),50)}}:j)(e)}),y=Q(x,j),x.state.selectingText=y,V(T.wrapper.ownerDocument,"mousemove",b),V(T.wrapper.ownerDocument,"mouseup",y))):Lt(e)==$.scroller&&Y(e)))}function Vs(e,t,i){return"char"==i?new Z(t,t):"word"==i?e.findWordAt(t):"line"==i?new Z(U(t.line,0),q(e.doc,U(t.line+1,0))):(i=i(e,t),new Z(i.from,i.to))}function Gs(e,t,i,n){var o,s;if(t.touches)o=t.touches[0].clientX,s=t.touches[0].clientY;else try{o=t.clientX,s=t.clientY}catch(t){return!1}if(o>=Math.floor(e.display.gutters.getBoundingClientRect().right))return!1;n&&Y(t);var r=e.display,n=r.lineDiv.getBoundingClientRect();if(s>n.bottom||!Ct(e,i))return kt(t);s-=n.top-r.viewOffset;for(var a=0;a<e.options.gutters.length;++a){var l=r.gutters.childNodes[a];if(l&&l.getBoundingClientRect().right>=o)return K(e,i,e,Me(e.doc,s),e.options.gutters[a],t),kt(t)}}function Ks(e,t){return Gs(e,t,"gutterClick",!0)}function Xs(e){e.display.wrapper.className=e.display.wrapper.className.replace(/\s*cm-s-\S+/g,"")+e.options.theme.replace(/(^|\s)\s*/g," cm-s-"),Bi(e)}Ws.prototype.compare=function(e,t,i){return this.time+400>e&&0==W(t,this.pos)&&i==this.button};var Ys={toString:function(){return"CodeMirror.Init"}},Qs={},Js={};function Zs(e){to(e),w(e),xn(e)}function er(e,t,i){!t!=!(i&&i!=Ys)&&(i=e.display.dragFunctions,(t=t?V:G)(e.display.scroller,"dragstart",i.start),t(e.display.scroller,"dragenter",i.enter),t(e.display.scroller,"dragover",i.over),t(e.display.scroller,"dragleave",i.leave),t(e.display.scroller,"drop",i.drop))}function tr(e){e.options.lineWrapping?($(e.display.wrapper,"CodeMirror-wrap"),e.display.sizer.style.minWidth="",e.display.sizerWidth=null):(I(e.display.wrapper,"CodeMirror-wrap"),dt(e)),an(e),w(e),Bi(e),setTimeout(function(){return Nn(e)},100)}function g(e,t){var i=this;if(!(this instanceof g))return new g(e,t);this.options=t=t?de(t):{},de(Qs,t,!1),io(t);var n,o,s,r,a,l,d=t.value,c=("string"==typeof d?d=new m(d,t.mode,null,t.lineSeparator,t.direction):t.mode&&(d.modeOption=t.mode),this.doc=d,new g.inputStyles[t.inputStyle](this)),e=this.display=new function(e,t,i){var n=this,o=(this.input=i,n.scrollbarFiller=H("div",null,"CodeMirror-scrollbar-filler"),n.scrollbarFiller.setAttribute("cm-not-content","true"),n.gutterFiller=H("div",null,"CodeMirror-gutter-filler"),n.gutterFiller.setAttribute("cm-not-content","true"),n.lineDiv=E("div",null,"CodeMirror-code"),n.selectionDiv=H("div",null,null,"position: relative; z-index: 1"),n.cursorDiv=H("div",null,"CodeMirror-cursors"),n.measure=H("div",null,"CodeMirror-measure"),n.lineMeasure=H("div",null,"CodeMirror-measure"),n.lineSpace=E("div",[n.measure,n.lineMeasure,n.selectionDiv,n.cursorDiv,n.lineDiv],null,"position: relative; outline: none"),E("div",[n.lineSpace],"CodeMirror-lines"));n.mover=H("div",[o],null,"position: relative"),n.sizer=H("div",[n.mover],"CodeMirror-sizer"),n.sizerWidth=null,n.heightForcer=H("div",null,null,"position: absolute; height: "+he+"px; width: 1px;"),n.gutters=H("div",null,"CodeMirror-gutters"),n.lineGutter=null,n.scroller=H("div",[n.sizer,n.heightForcer,n.gutters],"CodeMirror-scroll"),n.scroller.setAttribute("tabIndex","-1"),n.wrapper=H("div",[n.scrollbarFiller,n.gutterFiller,n.scroller],"CodeMirror"),N&&P<8&&(n.gutters.style.zIndex=-1,n.scroller.style.paddingRight=0),z||v&&D||(n.scroller.draggable=!0),e&&(e.appendChild?e.appendChild(n.wrapper):e(n.wrapper)),n.viewFrom=n.viewTo=t.first,n.reportedViewFrom=n.reportedViewTo=t.first,n.view=[],n.renderedView=null,n.externalMeasured=null,n.viewOffset=0,n.lastWrapHeight=n.lastWrapWidth=0,n.updateLineNumbers=null,n.nativeBarWidth=n.barHeight=n.barWidth=0,n.scrollbarsClipped=!1,n.lineNumWidth=n.lineNumInnerWidth=n.lineNumChars=null,n.alignWidgets=!1,n.cachedCharWidth=n.cachedTextHeight=n.cachedPaddingH=null,n.maxLine=null,n.maxLineLength=0,n.maxLineChanged=!1,n.wheelDX=n.wheelDY=n.wheelStartX=n.wheelStartY=null,n.shift=!1,n.selForContextMenu=null,n.activeTouch=null,i.init(n)}(e,d,c);for(n in to(e.wrapper.CodeMirror=this),Xs(this),t.lineWrapping&&(this.display.wrapper.className+=" CodeMirror-wrap"),Hn(this),this.state={keyMaps:[],overlays:[],modeGen:0,overwrite:!1,delayingBlurEvent:!1,focused:!1,suppressEdits:!1,pasteIncoming:!1,cutIncoming:!1,selectingText:!1,draggingText:!1,highlight:new ce,keySeq:null,specialChars:null},t.autofocus&&!D&&e.input.focus(),N&&P<11&&setTimeout(function(){return i.display.input.reset(!0)},20),r=(s=this).display,V(r.scroller,"mousedown",Q(s,qs)),V(r.scroller,"dblclick",N&&P<11?Q(s,function(e){var t;X(s,e)||!(t=ln(s,e))||Ks(s,e)||Si(s.display,e)||(Y(e),e=s.findWordAt(t),Ao(s.doc,e.anchor,e.head))}):function(e){return X(s,e)||Y(e)}),V(r.scroller,"contextmenu",function(e){var t,i;Si((t=s).display,e)||Ct(i=t,"gutterContextMenu")&&Gs(i,e,"gutterContextMenu",!1)||X(t,e,"contextmenu")||oe||t.display.input.onContextMenu(e)}),l={end:0},V(r.scroller,"touchstart",function(e){var t;X(s,e)||function(e){if(1==e.touches.length)return(e=e.touches[0]).radiusX<=1&&e.radiusY<=1}(e)||Ks(s,e)||(r.input.ensurePolled(),clearTimeout(a),t=+new Date,r.activeTouch={start:t,moved:!1,prev:t-l.end<=300?l:null},1==e.touches.length&&(r.activeTouch.left=e.touches[0].pageX,r.activeTouch.top=e.touches[0].pageY))}),V(r.scroller,"touchmove",function(){r.activeTouch&&(r.activeTouch.moved=!0)}),V(r.scroller,"touchend",function(e){var t,i=r.activeTouch;i&&!Si(r,e)&&null!=i.left&&!i.moved&&new Date-i.start<300&&(t=s.coordsChar(r.activeTouch,"page"),i=!i.prev||u(i,i.prev)?new Z(t,t):!i.prev.prev||u(i,i.prev.prev)?s.findWordAt(t):new Z(U(t.line,0),q(s.doc,U(t.line+1,0))),s.setSelection(i.anchor,i.head),s.focus(),Y(e)),h()}),V(r.scroller,"touchcancel",h),V(r.scroller,"scroll",function(){r.scroller.clientHeight&&(In(s,r.scroller.scrollTop),En(s,r.scroller.scrollLeft,!0),K(s,"scroll",s))}),V(r.scroller,"mousewheel",function(e){return so(s,e)}),V(r.scroller,"DOMMouseScroll",function(e){return so(s,e)}),V(r.wrapper,"scroll",function(){return r.wrapper.scrollTop=r.wrapper.scrollLeft=0}),r.dragFunctions={enter:function(e){X(s,e)||Dt(e)},over:function(e){var t,i;X(s,e)||((i=ln(t=s,e))&&(un(t,i,i=document.createDocumentFragment()),t.display.dragCursor||(t.display.dragCursor=H("div",null,"CodeMirror-cursors CodeMirror-dragcursors"),t.display.lineSpace.insertBefore(t.display.dragCursor,t.display.cursorDiv)),y(t.display.dragCursor,i)),Dt(e))},start:function(e){var t,i;t=s,e=e,N&&(!t.state.draggingText||+new Date-ds<100)?Dt(e):X(t,e)||Si(t.display,e)||(e.dataTransfer.setData("Text",t.getSelection()),e.dataTransfer.effectAllowed="copyMove",!e.dataTransfer.setDragImage)||C||((i=H("img",null,null,"position: fixed; left: 0; top: 0;")).src="data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==",x&&(i.width=i.height=1,t.display.wrapper.appendChild(i),i._top=i.offsetTop),e.dataTransfer.setDragImage(i,0,0),x&&i.parentNode.removeChild(i))},drop:Q(s,cs),leave:function(e){X(s,e)||hs(s)}},c=r.input.getField(),V(c,"keyup",function(e){return Fs.call(s,e)}),V(c,"keydown",Q(s,Hs)),V(c,"keypress",Q(s,Bs)),V(c,"focus",function(e){return vn(s,e)}),V(c,"blur",function(e){return bn(s,e)}),ps||(V(window,"resize",function(){null==o&&(o=setTimeout(function(){o=null,us(ms)},100))}),V(window,"blur",function(){return us(bn)}),ps=!0),Bn(this),this.curOp.forceUpdate=!0,bo(this,d),t.autofocus&&!D||this.hasFocus()?setTimeout(le(vn,this),20):bn(this),Js)Js.hasOwnProperty(n)&&Js[n](i,t[n],Ys);function h(){r.activeTouch&&(a=setTimeout(function(){return r.activeTouch=null},1e3),(l=r.activeTouch).end=+new Date)}function u(e,t){var i;return null==t.left||400<(i=t.left-e.left)*i+(i=t.top-e.top)*i}Cn(this),t.finishInit&&t.finishInit(this);for(var p=0;p<ir.length;++p)ir[p](i);Rn(this),z&&t.lineWrapping&&"optimizelegibility"==getComputedStyle(e.lineDiv).textRendering&&(e.lineDiv.style.textRendering="auto")}g.defaults=Qs,g.optionHandlers=Js;var ir=[];function nr(e,t,i,n){var o,s=e.doc,r=("smart"==(i=null==i?"add":i)&&(s.mode.indent?o=Xt(e,t).state:i="prev"),e.options.tabSize),a=R(s,t),l=F(a.text,null,r);a.stateAfter&&(a.stateAfter=null);var d=a.text.match(/^\s*/)[0];if(n||/\S/.test(a.text)){if("smart"==i&&((c=s.mode.indent(o,a.text.slice(d.length),a.text))==ue||150<c)){if(!n)return;i="prev"}}else c=0,i="not";"prev"==i?c=t>s.first?F(R(s,t-1).text,null,r):0:"add"==i?c=l+e.options.indentUnit:"subtract"==i?c=l-e.options.indentUnit:"number"==typeof i&&(c=l+i);var c=Math.max(0,c),h="",u=0;if(e.options.indentWithTabs)for(var p=Math.floor(c/r);p;--p)u+=r,h+="\t";if(u<c&&(h+=be(c-u)),h!=d)return Ko(s,h,U(t,0),U(t,d.length),"+input"),!(a.stateAfter=null);for(var m=0;m<s.sel.ranges.length;m++){var f=s.sel.ranges[m];if(f.head.line==t&&f.head.ch<d.length){f=U(t,d.length);Oo(s,m,new Z(f,f));break}}}g.defineInitHook=function(e){return ir.push(e)};var or=null;function sr(e){or=e}function rr(e,t,i,n,o){var s=e.doc;e.display.shift=!1,n=n||s.sel;var r,a=e.state.pasteIncoming||"paste"==o,l=Mt(t),d=null;if(a&&1<n.ranges.length)if(or&&or.text.join("\n")==t){if(n.ranges.length%or.text.length==0)for(var d=[],c=0;c<or.text.length;c++)d.push(s.splitLines(or.text[c]))}else l.length==n.ranges.length&&e.options.pasteLinesPerSelection&&(d=ye(l,function(e){return[e]}));for(var h=n.ranges.length-1;0<=h;h--){var u=n.ranges[h],p=u.from(),m=u.to(),u=(u.empty()&&(i&&0<i?p=U(p.line,p.ch-i):e.state.overwrite&&!a?m=U(m.line,Math.min(R(s,m.line).text.length,m.ch+B(l).length)):a&&or&&or.lineWise&&or.text.join("\n")==t&&(p=m=U(p.line,0))),r=e.curOp.updateInput,{from:p,to:m,text:d?d[h%d.length]:l,origin:o||(a?"paste":e.state.cutIncoming?"cut":"+input")});Uo(e.doc,u),b(e,"inputRead",e,u)}t&&!a&&lr(e,t),kn(e),e.curOp.updateInput=r,e.curOp.typing=!0,e.state.pasteIncoming=e.state.cutIncoming=!1}function ar(e,t){var i=e.clipboardData&&e.clipboardData.getData("Text");return i&&(e.preventDefault(),t.isReadOnly()||t.options.disableInput||h(t,function(){return rr(t,i,0,null,"paste")}),1)}function lr(e,t){if(e.options.electricChars&&e.options.smartIndent)for(var i=e.doc.sel,n=i.ranges.length-1;0<=n;n--){var o=i.ranges[n];if(!(100<o.head.ch||n&&i.ranges[n-1].head.line==o.head.line)){var s=e.getModeAt(o.head),r=!1;if(s.electricChars){for(var a=0;a<s.electricChars.length;a++)if(-1<t.indexOf(s.electricChars.charAt(a))){r=nr(e,o.head.line,"smart");break}}else s.electricInput&&s.electricInput.test(R(e.doc,o.head.line).text.slice(0,o.head.ch))&&(r=nr(e,o.head.line,"smart"));r&&b(e,"electricInput",e,o.head.line)}}}function dr(e){for(var t=[],i=[],n=0;n<e.doc.sel.ranges.length;n++){var o=e.doc.sel.ranges[n].head.line,o={anchor:U(o,0),head:U(o+1,0)};i.push(o),t.push(e.getRange(o.anchor,o.head))}return{text:t,ranges:i}}function cr(e,t){e.setAttribute("autocorrect","off"),e.setAttribute("autocapitalize","off"),e.setAttribute("spellcheck",!!t)}function hr(){var e=H("textarea",null,null,"position: absolute; bottom: -1em; padding: 0; width: 1px; height: 1em; outline: none"),t=H("div",[e],null,"overflow: hidden; position: relative; width: 3px; height: 0px;");return z?e.style.width="1000px":e.setAttribute("wrap","off"),T&&(e.style.border="1px solid black"),cr(e),t}function ur(i,n,o,e,s){var t=n,r=o,a=R(i,n.line);function l(e){var t;if(null==(t=s?function(t,i,a,e){var l=yt(i,t.doc.direction);if(!l)return Ls(i,a,e);a.ch>=i.text.length?(a.ch=i.text.length,a.sticky="before"):a.ch<=0&&(a.ch=0,a.sticky="after");var n=ht(l,a.ch,a.sticky),o=l[n];if("ltr"==t.doc.direction&&o.level%2==0&&(0<e?o.to>a.ch:o.from<a.ch))return Ls(i,a,e);function s(e){return t.options.lineWrapping?(r=r||$i(t,i),Zi(t,i,r,e)):{begin:0,end:i.text.length}}var r,d=function(e,t){return Ds(i,e instanceof U?e.ch:e,t)},c=s("before"==a.sticky?d(a,-1):a.ch);if("rtl"==t.doc.direction||1==o.level){var h=1==o.level==e<0,u=d(a,h?1:-1);if(null!=u&&(h?u<=o.to&&u<=c.end:u>=o.from&&u>=c.begin))return new U(a.line,u,h?"before":"after")}function p(e,t,i){for(var n=function(e,t){return t?new U(a.line,d(e,1),"before"):new U(a.line,e,"after")};0<=e&&e<l.length;e+=t){var o=l[e],s=0<t==(1!=o.level),r=s?i.begin:d(i.end,-1);if(o.from<=r&&r<o.to)return n(r,s);if(r=s?o.from:d(o.to,-1),i.begin<=r&&r<i.end)return n(r,s)}}o=p(n+e,e,c);return o||(null==(u=0<e?c.end:d(c.begin,-1))||0<e&&u==i.text.length||!(o=p(0<e?0:l.length-1,e,s(u)))?null:o)}(i.cm,a,n,o):Ls(a,n,o))){if(e||(e=n.line+o)<i.first||e>=i.first+i.size||(n=new U(e,n.ch,n.sticky),!(a=R(i,e))))return;n=As(s,i.cm,a,n.line,o)}else n=t;return 1}if("char"==e)l();else if("column"==e)l(!0);else if("word"==e||"group"==e)for(var d=null,c="group"==e,h=i.cm&&i.cm.getHelper(n,"wordChars"),u=!0;!(o<0)||l(!u);u=!1){var p=a.text.charAt(n.ch)||"\n",p=Se(p,h)?"w":c&&"\n"==p?"n":!c||/\s/.test(p)?null:"p";if(c&&!u&&(p=p||"s"),d&&d!=p){o<0&&(o=1,l(),n.sticky="after");break}if(p&&(d=p),0<o&&!l(!u))break}e=Ho(i,n,t,r,!0);return Ne(t,e)&&(e.hitSide=!0),e}function pr(e,t,i,n){var o,s,r,a=e.doc,l=t.left;for("page"==n?(s=Math.min(e.display.wrapper.clientHeight,window.innerHeight||document.documentElement.clientHeight),s=Math.max(s-.5*tn(e.display),3),r=(0<i?t.bottom:t.top)+i*s):"line"==n&&(r=0<i?t.bottom+3:t.top-3);(o=Qi(e,l,r)).outside;){if(i<0?r<=0:r>=a.height){o.hitSide=!0;break}r+=5*i}return o}function o(e){this.cm=e,this.lastAnchorNode=this.lastAnchorOffset=this.lastFocusNode=this.lastFocusOffset=null,this.polling=new ce,this.composing=null,this.gracePeriod=!1,this.readDOMTimeout=null}function mr(e,t){var i,n,o=Mi(e,t.line);return!o||o.hidden?null:(i=Oi(o,o=R(e.doc,t.line),t.line),n="left",(o=yt(o,e.doc.direction))&&(n=ht(o,t.ch)%2?"right":"left"),(e=zi(i.map,t.ch,n)).offset="right"==e.collapse?e.end:e.start,e)}function fr(e,t){return t&&(e.bad=!0),e}function gr(e,t,i){var n;if(t==e.display.lineDiv){if(!(n=e.display.lineDiv.childNodes[i]))return fr(e.clipPos(U(e.display.viewTo-1)),!0);t=null,i=0}else for(n=t;;n=n.parentNode){if(!n||n==e.display.lineDiv)return null;if(n.parentNode&&n.parentNode==e.display.lineDiv)break}for(var o=0;o<e.display.view.length;o++){var s=e.display.view[o];if(s.node==n){var d=s;s=t;var r=i;var a=d.text.firstChild,l=!1;if(!s||!M(a,s))return fr(U(_(d.line),0),!0);if(s==a&&(l=!0,s=a.childNodes[r],r=0,!s))return fr(U(_(c=d.rest?B(d.rest):d.line),c.text.length),l);var c=3==s.nodeType?s:null,h=s;for(c||1!=s.childNodes.length||3!=s.firstChild.nodeType||(c=s.firstChild,r=r&&c.nodeValue.length);h.parentNode!=a;)h=h.parentNode;var u=d.measure,p=u.maps;function m(e,t,i){for(var n=-1;n<(p?p.length:0);n++)for(var o=n<0?u.map:p[n],s=0;s<o.length;s+=3){var r,a,l=o[s+2];if(l==e||l==t)return r=_(n<0?d.line:d.rest[n]),a=o[s]+i,U(r,a=i<0||l!=e?o[s+(i?1:0)]:a)}}var f=m(c,h,r);if(f)return fr(f,l);for(var g=h.nextSibling,v=c?c.nodeValue.length-r:0;g;g=g.nextSibling){if(f=m(g,g.firstChild,0))return fr(U(f.line,f.ch-v),l);v+=g.textContent.length}for(var b=h.previousSibling,y=r;b;b=b.previousSibling){if(f=m(b,b.firstChild,-1))return fr(U(f.line,f.ch+y),l);y+=b.textContent.length}return}}}o.prototype.init=function(e){var t=this,s=this,r=s.cm,a=s.div=e.lineDiv;function i(e){if(!X(r,e)){if(r.somethingSelected())sr({lineWise:!1,text:r.getSelections()}),"cut"==e.type&&r.replaceSelection("",null,"cut");else{if(!r.options.lineWiseCopyCut)return;var t=dr(r);sr({lineWise:!0,text:t.text}),"cut"==e.type&&r.operation(function(){r.setSelections(t.ranges,0,pe),r.replaceSelection("",null,"cut")})}if(e.clipboardData){e.clipboardData.clearData();var i=or.text.join("\n");if(e.clipboardData.setData("Text",i),e.clipboardData.getData("Text")==i)return void e.preventDefault()}var n=hr(),i=n.firstChild,o=(r.display.lineSpace.insertBefore(n,r.display.lineSpace.firstChild),i.value=or.text.join("\n"),document.activeElement);ae(i),setTimeout(function(){r.display.lineSpace.removeChild(n),o.focus(),o==a&&s.showPrimarySelection()},50)}}cr(a,r.options.spellcheck),V(a,"paste",function(e){X(r,e)||ar(e,r)||P<=11&&setTimeout(Q(r,function(){return t.updateFromDOM()}),20)}),V(a,"compositionstart",function(e){t.composing={data:e.data,done:!1}}),V(a,"compositionupdate",function(e){t.composing||(t.composing={data:e.data,done:!1})}),V(a,"compositionend",function(e){t.composing&&(e.data!=t.composing.data&&t.readFromDOMSoon(),t.composing.done=!0)}),V(a,"touchstart",function(){return s.forceCompositionEnd()}),V(a,"input",function(){t.composing||t.readFromDOMSoon()}),V(a,"copy",i),V(a,"cut",i)},o.prototype.prepareSelection=function(){var e=hn(this.cm,!1);return e.focus=this.cm.state.focused,e},o.prototype.showSelection=function(e,t){e&&this.cm.display.view.length&&((e.focus||t)&&this.showPrimarySelection(),this.showMultipleSelections(e))},o.prototype.getSelection=function(){return this.cm.display.wrapper.ownerDocument.getSelection()},o.prototype.showPrimarySelection=function(){var e=this.getSelection(),t=this.cm,i=t.doc.sel.primary(),n=i.from(),i=i.to();if(t.display.viewTo==t.display.viewFrom||n.line>=t.display.viewTo||i.line<t.display.viewFrom)e.removeAllRanges();else{var o=gr(t,e.anchorNode,e.anchorOffset),s=gr(t,e.focusNode,e.focusOffset);if(!o||o.bad||!s||s.bad||0!=W(He(o,s),n)||0!=W(ze(o,s),i)){var o=t.display.view,s=n.line>=t.display.viewFrom&&mr(t,n)||{node:o[0].measure.map[2],offset:0},n=i.line<t.display.viewTo&&mr(t,i);if(n||(n={node:(o=(i=o[o.length-1].measure).maps?i.maps[i.maps.length-1]:i.map)[o.length-1],offset:o[o.length-2]-o[o.length-3]}),s&&n){var r,i=e.rangeCount&&e.getRangeAt(0);try{r=re(s.node,s.offset,n.offset,n.node)}catch(e){}r&&(!v&&t.state.focused&&(e.collapse(s.node,s.offset),r.collapsed)||(e.removeAllRanges(),e.addRange(r)),i&&null==e.anchorNode?e.addRange(i):v&&this.startGracePeriod()),this.rememberSelection()}else e.removeAllRanges()}}},o.prototype.startGracePeriod=function(){var e=this;clearTimeout(this.gracePeriod),this.gracePeriod=setTimeout(function(){e.gracePeriod=!1,e.selectionChanged()&&e.cm.operation(function(){return e.cm.curOp.selectionChanged=!0})},20)},o.prototype.showMultipleSelections=function(e){y(this.cm.display.cursorDiv,e.cursors),y(this.cm.display.selectionDiv,e.selection)},o.prototype.rememberSelection=function(){var e=this.getSelection();this.lastAnchorNode=e.anchorNode,this.lastAnchorOffset=e.anchorOffset,this.lastFocusNode=e.focusNode,this.lastFocusOffset=e.focusOffset},o.prototype.selectionInEditor=function(){var e=this.getSelection();return!!e.rangeCount&&(e=e.getRangeAt(0).commonAncestorContainer,M(this.div,e))},o.prototype.focus=function(){"nocursor"!=this.cm.options.readOnly&&(this.selectionInEditor()||this.showSelection(this.prepareSelection(),!0),this.div.focus())},o.prototype.blur=function(){this.div.blur()},o.prototype.getField=function(){return this.div},o.prototype.supportsTouch=function(){return!0},o.prototype.receivedFocus=function(){var t=this;this.selectionInEditor()?this.pollSelection():h(this.cm,function(){return t.cm.curOp.selectionChanged=!0}),this.polling.set(this.cm.options.pollInterval,function e(){t.cm.state.focused&&(t.pollSelection(),t.polling.set(t.cm.options.pollInterval,e))})},o.prototype.selectionChanged=function(){var e=this.getSelection();return e.anchorNode!=this.lastAnchorNode||e.anchorOffset!=this.lastAnchorOffset||e.focusNode!=this.lastFocusNode||e.focusOffset!=this.lastFocusOffset},o.prototype.pollSelection=function(){var t,e,i,n;null==this.readDOMTimeout&&!this.gracePeriod&&this.selectionChanged()&&(t=this.getSelection(),e=this.cm,k&&c&&this.cm.options.gutters.length&&function(){for(var e=t.anchorNode;e;e=e.parentNode)if(/CodeMirror-gutter-wrapper/.test(e.className))return 1}()?(this.cm.triggerOnKeyDown({type:"keydown",keyCode:8,preventDefault:Math.abs}),this.blur(),this.focus()):this.composing||(this.rememberSelection(),i=gr(e,t.anchorNode,t.anchorOffset),n=gr(e,t.focusNode,t.focusOffset),i&&n&&h(e,function(){ee(e.doc,ao(i,n),pe),(i.bad||n.bad)&&(e.curOp.selectionChanged=!0)})))},o.prototype.pollContent=function(){null!=this.readDOMTimeout&&(clearTimeout(this.readDOMTimeout),this.readDOMTimeout=null);var e,t=this.cm,i=t.display,n=t.doc.sel.primary(),o=n.from(),n=n.to();if(0==o.ch&&o.line>t.firstLine()&&(o=U(o.line-1,R(t.doc,o.line-1).length)),n.ch==R(t.doc,n.line).text.length&&n.line<t.lastLine()&&(n=U(n.line+1,0)),o.line<i.viewFrom||n.line>i.viewTo-1)return!1;var s,r=o.line==i.viewFrom||0==(r=dn(t,o.line))?(e=_(i.view[0].line),i.view[0].node):(e=_(i.view[r].line),i.view[r-1].node.nextSibling),n=dn(t,n.line),i=n==i.view.length-1?(s=i.viewTo-1,i.lineDiv.lastChild):(s=_(i.view[n+1].line)-1,i.view[n+1].node.previousSibling);if(!r)return!1;for(var a=t.doc.splitLines(function(s,e,t,r,a){var i="",l=!1,d=s.doc.lineSeparator(),c=!1;function h(){l&&(i+=d,c&&(i+=d),l=c=!1)}function u(e){e&&(h(),i+=e)}for(;function e(t){if(1==t.nodeType){var i=t.getAttribute("cm-text");if(i)return u(i);if(i=t.getAttribute("cm-marker"))return(i=s.findMarks(U(r,0),U(a+1,0),(o=+i,function(e){return e.id==o}))).length&&(i=i[0].find(0))&&u(Ie(s.doc,i.from,i.to).join(d));if("false"!=t.getAttribute("contenteditable")&&(i=/^(pre|div|p|li|table|br)$/i.test(t.nodeName),/^br$/i.test(t.nodeName)||0!=t.textContent.length)){i&&h();for(var n=0;n<t.childNodes.length;n++)e(t.childNodes[n]);/^(pre|p)$/i.test(t.nodeName)&&(c=!0),i&&(l=!0)}}else 3==t.nodeType&&u(t.nodeValue.replace(/\u200b/g,"").replace(/\u00a0/g," "));var o}(e),e!=t;)e=e.nextSibling,c=!1;return i}(t,r,i,e,s)),l=Ie(t.doc,U(e,0),U(s,R(t.doc,s).text.length));1<a.length&&1<l.length;)if(B(a)==B(l))a.pop(),l.pop(),s--;else{if(a[0]!=l[0])break;a.shift(),l.shift(),e++}for(var d=0,c=0,h=a[0],u=l[0],p=Math.min(h.length,u.length);d<p&&h.charCodeAt(d)==u.charCodeAt(d);)++d;for(var m=B(a),f=B(l),g=Math.min(m.length-(1==a.length?d:0),f.length-(1==l.length?d:0));c<g&&m.charCodeAt(m.length-c-1)==f.charCodeAt(f.length-c-1);)++c;if(1==a.length&&1==l.length&&e==o.line)for(;d&&d>o.ch&&m.charCodeAt(m.length-c-1)==f.charCodeAt(f.length-c-1);)d--,c++;a[a.length-1]=m.slice(0,m.length-c).replace(/^\u200b+/,""),a[0]=a[0].slice(d).replace(/\u200b+$/,"");n=U(e,d),r=U(s,l.length?B(l).length-c:0);return 1<a.length||a[0]||W(n,r)?(Ko(t.doc,a,n,r,"+input"),!0):void 0},o.prototype.ensurePolled=function(){this.forceCompositionEnd()},o.prototype.reset=function(){this.forceCompositionEnd()},o.prototype.forceCompositionEnd=function(){this.composing&&(clearTimeout(this.readDOMTimeout),this.composing=null,this.updateFromDOM(),this.div.blur(),this.div.focus())},o.prototype.readFromDOMSoon=function(){var e=this;null==this.readDOMTimeout&&(this.readDOMTimeout=setTimeout(function(){if(e.readDOMTimeout=null,e.composing){if(!e.composing.done)return;e.composing=null}e.updateFromDOM()},80))},o.prototype.updateFromDOM=function(){var e=this;!this.cm.isReadOnly()&&this.pollContent()||h(this.cm,function(){return w(e.cm)})},o.prototype.setUneditable=function(e){e.contentEditable="false"},o.prototype.onKeyPress=function(e){0==e.charCode||this.composing||(e.preventDefault(),this.cm.isReadOnly())||Q(this.cm,rr)(this.cm,String.fromCharCode(null==e.charCode?e.keyCode:e.charCode),0)},o.prototype.readOnlyChanged=function(e){this.div.contentEditable=String("nocursor"!=e)},o.prototype.onContextMenu=function(){},o.prototype.resetPosition=function(){},o.prototype.needsContentAttribute=!0;function s(e){this.cm=e,this.prevInput="",this.pollingFast=!1,this.polling=new ce,this.hasSelection=!1,this.composing=null}var vr,br,yr,_r,wr;function r(e,t,n,i){_r.defaults[e]=t,n&&(wr[e]=i?function(e,t,i){i!=Ys&&n(e,t,i)}:n)}s.prototype.init=function(t){var e=this,i=this,n=this.cm,o=(this.createField(t),this.textarea);function s(e){if(!X(n,e)){if(n.somethingSelected())sr({lineWise:!1,text:n.getSelections()});else{if(!n.options.lineWiseCopyCut)return;var t=dr(n);sr({lineWise:!0,text:t.text}),"cut"==e.type?n.setSelections(t.ranges,null,pe):(i.prevInput="",o.value=t.text.join("\n"),ae(o))}"cut"==e.type&&(n.state.cutIncoming=!0)}}t.wrapper.insertBefore(this.wrapper,t.wrapper.firstChild),T&&(o.style.width="0px"),V(o,"input",function(){N&&9<=P&&e.hasSelection&&(e.hasSelection=null),i.poll()}),V(o,"paste",function(e){X(n,e)||ar(e,n)||(n.state.pasteIncoming=!0,i.fastPoll())}),V(o,"cut",s),V(o,"copy",s),V(t.scroller,"paste",function(e){Si(t,e)||X(n,e)||(n.state.pasteIncoming=!0,i.focus())}),V(t.lineSpace,"selectstart",function(e){Si(t,e)||Y(e)}),V(o,"compositionstart",function(){var e=n.getCursor("from");i.composing&&i.composing.range.clear(),i.composing={start:e,range:n.markText(e,n.getCursor("to"),{className:"CodeMirror-composing"})}}),V(o,"compositionend",function(){i.composing&&(i.poll(),i.composing.range.clear(),i.composing=null)})},s.prototype.createField=function(e){this.wrapper=hr(),this.textarea=this.wrapper.firstChild},s.prototype.prepareSelection=function(){var e,t=this.cm,i=t.display,n=t.doc,o=hn(t);return t.options.moveInputWithCursor&&(t=Ki(t,n.sel.primary().head,"div"),n=i.wrapper.getBoundingClientRect(),e=i.lineDiv.getBoundingClientRect(),o.teTop=Math.max(0,Math.min(i.wrapper.clientHeight-10,t.top+e.top-n.top)),o.teLeft=Math.max(0,Math.min(i.wrapper.clientWidth-10,t.left+e.left-n.left))),o},s.prototype.showSelection=function(e){var t=this.cm.display;y(t.cursorDiv,e.cursors),y(t.selectionDiv,e.selection),null!=e.teTop&&(this.wrapper.style.top=e.teTop+"px",this.wrapper.style.left=e.teLeft+"px")},s.prototype.reset=function(e){var t,i;this.contextMenuPending||this.composing||((t=this.cm).somethingSelected()?(this.prevInput="",i=t.getSelection(),this.textarea.value=i,t.state.focused&&ae(this.textarea),N&&9<=P&&(this.hasSelection=i)):e||(this.prevInput=this.textarea.value="",N&&9<=P&&(this.hasSelection=null)))},s.prototype.getField=function(){return this.textarea},s.prototype.supportsTouch=function(){return!1},s.prototype.focus=function(){if("nocursor"!=this.cm.options.readOnly&&(!D||se()!=this.textarea))try{this.textarea.focus()}catch(e){}},s.prototype.blur=function(){this.textarea.blur()},s.prototype.resetPosition=function(){this.wrapper.style.top=this.wrapper.style.left=0},s.prototype.receivedFocus=function(){this.slowPoll()},s.prototype.slowPoll=function(){var e=this;this.pollingFast||this.polling.set(this.cm.options.pollInterval,function(){e.poll(),e.cm.state.focused&&e.slowPoll()})},s.prototype.fastPoll=function(){var t=!1,i=this;i.pollingFast=!0,i.polling.set(20,function e(){i.poll()||t?(i.pollingFast=!1,i.slowPoll()):(t=!0,i.polling.set(60,e))})},s.prototype.poll=function(){var e=this,t=this.cm,i=this.textarea,n=this.prevInput;if(this.contextMenuPending||!t.state.focused||$t(i)&&!n&&!this.composing||t.isReadOnly()||t.options.disableInput||t.state.keySeq)return!1;var o=i.value;if(o==n&&!t.somethingSelected())return!1;if(N&&9<=P&&this.hasSelection===o||ie&&/[\uf700-\uf7ff]/.test(o))return t.display.input.reset(),!1;if(t.doc.sel==t.display.selForContextMenu){var s=o.charCodeAt(0);if(8203==s&&(n=n||"â"),8666==s)return this.reset(),this.cm.execCommand("undo")}for(var r=0,a=Math.min(n.length,o.length);r<a&&n.charCodeAt(r)==o.charCodeAt(r);)++r;return h(t,function(){rr(t,o.slice(r),n.length-r,null,e.composing?"*compose":null),1e3<o.length||-1<o.indexOf("\n")?i.value=e.prevInput="":e.prevInput=o,e.composing&&(e.composing.range.clear(),e.composing.range=t.markText(e.composing.start,t.getCursor("to"),{className:"CodeMirror-composing"}))}),!0},s.prototype.ensurePolled=function(){this.pollingFast&&this.poll()&&(this.pollingFast=!1)},s.prototype.onKeyPress=function(){N&&9<=P&&(this.hasSelection=null),this.fastPoll()},s.prototype.onContextMenu=function(e){var i,n,t,o,s=this,r=s.cm,a=r.display,l=s.textarea,d=ln(r,e),c=a.scroller.scrollTop;function h(){var e,t;null!=l.selectionStart&&(t="â"+((e=r.somethingSelected())?l.value:""),l.value="â",l.value=t,s.prevInput=e?"":"â",l.selectionStart=1,l.selectionEnd=t.length,a.selForContextMenu=r.doc.sel)}function u(){var e,t;s.contextMenuPending=!1,s.wrapper.style.cssText=n,l.style.cssText=i,N&&P<9&&a.scrollbars.setScrollTop(a.scroller.scrollTop=c),null!=l.selectionStart&&((!N||P<9)&&h(),e=0,t=function(){a.selForContextMenu==r.doc.sel&&0==l.selectionStart&&0<l.selectionEnd&&"â"==s.prevInput?Q(r,Bo)(r):e++<10?a.detectingSelectAll=setTimeout(t,500):(a.selForContextMenu=null,a.input.reset())},a.detectingSelectAll=setTimeout(t,200))}d&&!x&&(r.options.resetSelectionOnContextMenu&&-1==r.doc.sel.contains(d)&&Q(r,ee)(r.doc,ao(d),pe),i=l.style.cssText,n=s.wrapper.style.cssText,s.wrapper.style.cssText="position: absolute",d=s.wrapper.getBoundingClientRect(),l.style.cssText="position: absolute; width: 30px; height: 30px;\n      top: "+(e.clientY-d.top-5)+"px; left: "+(e.clientX-d.left-5)+"px;\n      z-index: 1000; background: "+(N?"rgba(255, 255, 255, .05)":"transparent")+";\n      outline: none; border-width: 0; outline: none; overflow: hidden; opacity: .05; filter: alpha(opacity=5);",z&&(t=window.scrollY),a.input.focus(),z&&window.scrollTo(null,t),a.input.reset(),r.somethingSelected()||(l.value=s.prevInput=" "),s.contextMenuPending=!0,a.selForContextMenu=r.doc.sel,clearTimeout(a.detectingSelectAll),N&&9<=P&&h(),oe?(Dt(e),o=function(){G(window,"mouseup",o),setTimeout(u,20)},V(window,"mouseup",o)):setTimeout(u,50))},s.prototype.readOnlyChanged=function(e){e||this.reset(),this.textarea.disabled="nocursor"==e},s.prototype.setUneditable=function(){},s.prototype.needsContentAttribute=!1,wr=(_r=g).optionHandlers,_r.defineOption=r,_r.Init=Ys,r("value","",function(e,t){return e.setValue(t)},!0),r("mode",null,function(e,t){e.doc.modeOption=t,po(e)},!0),r("indentUnit",2,po,!0),r("indentWithTabs",!1),r("smartIndent",!0),r("tabSize",4,function(e){mo(e),Bi(e),w(e)},!0),r("lineSeparator",null,function(e,n){if(e.doc.lineSep=n){var o=[],s=e.doc.first;e.doc.iter(function(e){for(var t=0;;){var i=e.text.indexOf(n,t);if(-1==i)break;t=i+n.length,o.push(U(s,i))}s++});for(var t=o.length-1;0<=t;t--)Ko(e.doc,n,o[t],U(o[t].line,o[t].ch+n.length))}}),r("specialChars",/[\u0000-\u001f\u007f-\u009f\u00ad\u061c\u200b-\u200f\u2028\u2029\ufeff]/g,function(e,t,i){e.state.specialChars=new RegExp(t.source+(t.test("\t")?"":"|\t"),"g"),i!=Ys&&e.refresh()}),r("specialCharPlaceholder",li,function(e){return e.refresh()},!0),r("electricChars",!0),r("inputStyle",D?"contenteditable":"textarea",function(){throw new Error("inputStyle can not (yet) be changed in a running editor")},!0),r("spellcheck",!1,function(e,t){return e.getInputField().spellcheck=t},!0),r("rtlMoveVisually",!l),r("wholeLineUpdateBefore",!0),r("theme","default",function(e){Xs(e),Zs(e)},!0),r("keyMap","default",function(e,t,i){t=Ts(t),i=i!=Ys&&Ts(i);i&&i.detach&&i.detach(e,t),t.attach&&t.attach(e,i||null)}),r("extraKeys",null),r("configureMouse",null),r("lineWrapping",!1,tr,!0),r("gutters",[],function(e){io(e.options),Zs(e)},!0),r("fixedGutter",!0,function(e,t){e.display.gutters.style.left=t?sn(e.display)+"px":"0",e.refresh()},!0),r("coverGutterNextToScrollbar",!1,function(e){return Nn(e)},!0),r("scrollbarStyle","native",function(e){Hn(e),Nn(e),e.display.scrollbars.setScrollTop(e.doc.scrollTop),e.display.scrollbars.setScrollLeft(e.doc.scrollLeft)},!0),r("lineNumbers",!1,function(e){io(e.options),Zs(e)},!0),r("firstLineNumber",1,Zs,!0),r("lineNumberFormatter",function(e){return e},Zs,!0),r("showCursorWhenSelecting",!1,cn,!0),r("resetSelectionOnContextMenu",!0),r("lineWiseCopyCut",!0),r("pasteLinesPerSelection",!0),r("selectionsMayTouch",!1),r("readOnly",!1,function(e,t){"nocursor"==t&&(bn(e),e.display.input.blur()),e.display.input.readOnlyChanged(t)}),r("disableInput",!1,function(e,t){t||e.display.input.reset()},!0),r("dragDrop",!0,er),r("allowDropFileTypes",null),r("cursorBlinkRate",530),r("cursorScrollMargin",0),r("cursorHeight",1,cn,!0),r("singleCursorHeightPerLine",!0,cn,!0),r("workTime",100),r("workDelay",100),r("flattenSpans",!0,mo,!0),r("addModeClass",!1,mo,!0),r("pollInterval",100),r("undoDepth",200,function(e,t){return e.doc.history.undoDepth=t}),r("historyEventDelay",1250),r("viewportMargin",10,function(e){return e.refresh()},!0),r("maxHighlightLength",1e4,mo,!0),r("moveInputWithCursor",!0,function(e,t){t||e.display.input.resetPosition()}),r("tabindex",null,function(e,t){return e.display.input.getField().tabIndex=t||""}),r("autofocus",null),r("direction","ltr",function(e,t){return e.doc.setDirection(t)},!0),r("phrases",null),br=(vr=g).optionHandlers,yr=vr.helpers={},vr.prototype={constructor:vr,focus:function(){window.focus(),this.display.input.focus()},setOption:function(e,t){var i=this.options,n=i[e];i[e]==t&&"mode"!=e||(i[e]=t,br.hasOwnProperty(e)&&Q(this,br[e])(this,t,n),K(this,"optionChange",this,e))},getOption:function(e){return this.options[e]},getDoc:function(){return this.doc},addKeyMap:function(e,t){this.state.keyMaps[t?"push":"unshift"](Ts(e))},removeKeyMap:function(e){for(var t=this.state.keyMaps,i=0;i<t.length;++i)if(t[i]==e||t[i].name==e)return t.splice(i,1),!0},addOverlay:i(function(e,t){var i=e.token?e:vr.getMode(this.options,e);if(i.startState)throw new Error("Overlays may not be stateful.");for(var n=this.state.overlays,i={mode:i,modeSpec:e,opaque:t&&t.opaque,priority:t&&t.priority||0},o=function(e){return e.priority},s=0,r=o(i);s<n.length&&o(n[s])<=r;)s++;n.splice(s,0,i),this.state.modeGen++,w(this)}),removeOverlay:i(function(e){for(var t=this.state.overlays,i=0;i<t.length;++i){var n=t[i].modeSpec;if(n==e||"string"==typeof e&&n.name==e)return t.splice(i,1),this.state.modeGen++,void w(this)}}),indentLine:i(function(e,t,i){"string"!=typeof t&&"number"!=typeof t&&(t=null==t?this.options.smartIndent?"smart":"prev":t?"add":"subtract"),$e(this.doc,e)&&nr(this,e,t,i)}),indentSelection:i(function(e){for(var t=this.doc.sel.ranges,i=-1,n=0;n<t.length;n++){var o=t[n];if(o.empty())o.head.line>i&&(nr(this,o.head.line,e,!0),i=o.head.line,n==this.doc.sel.primIndex)&&kn(this);else{for(var s=o.from(),o=o.to(),r=Math.max(i,s.line),i=Math.min(this.lastLine(),o.line-(o.ch?0:1))+1,a=r;a<i;++a)nr(this,a,e);o=this.doc.sel.ranges;0==s.ch&&t.length==o.length&&0<o[n].from().ch&&Oo(this.doc,n,new Z(s,o[n].to()),pe)}}}),getTokenAt:function(e,t){return ei(this,e,t)},getLineTokens:function(e,t){return ei(this,U(e),t,!0)},getTokenTypeAt:function(e){e=q(this.doc,e);var t,i=Kt(this,R(this.doc,e.line)),n=0,o=(i.length-1)/2,s=e.ch;if(0==s)t=i[2];else for(;;){var r=n+o>>1;if((r?i[2*r-1]:0)>=s)o=r;else{if(!(i[2*r+1]<s)){t=i[2*r+2];break}n=1+r}}e=t?t.indexOf("overlay "):-1;return e<0?t:0==e?null:t.slice(0,e-1)},getModeAt:function(e){var t=this.doc.mode;return t.innerMode?vr.innerMode(t,this.getTokenAt(e).state).mode:t},getHelper:function(e,t){return this.getHelpers(e,t)[0]},getHelpers:function(e,t){var i=[];if(yr.hasOwnProperty(t)){var n=yr[t],o=this.getModeAt(e);if("string"==typeof o[t])n[o[t]]&&i.push(n[o[t]]);else if(o[t])for(var s=0;s<o[t].length;s++){var r=n[o[t][s]];r&&i.push(r)}else o.helperType&&n[o.helperType]?i.push(n[o.helperType]):n[o.name]&&i.push(n[o.name]);for(var a=0;a<n._global.length;a++){var l=n._global[a];l.pred(o,this)&&-1==S(i,l.val)&&i.push(l.val)}}return i},getStateAfter:function(e,t){var i=this.doc;return Xt(this,(e=Fe(i,null==e?i.first+i.size-1:e))+1,t).state},cursorCoords:function(e,t){var i=this.doc.sel.primary();return Ki(this,null==e?i.head:"object"==typeof e?q(this.doc,e):e?i.from():i.to(),t||"page")},charCoords:function(e,t){return Gi(this,q(this.doc,e),t||"page")},coordsChar:function(e,t){return Qi(this,(e=Vi(this,e,t||"page")).left,e.top)},lineAtHeight:function(e,t){return e=Vi(this,{top:e,left:0},t||"page").top,Me(this.doc,e+this.display.viewOffset)},heightAtLine:function(e,t,i){var n=!1,o="number"==typeof e?(o=this.doc.first+this.doc.size-1,e<this.doc.first?e=this.doc.first:o<e&&(e=o,n=!0),R(this.doc,e)):e;return qi(this,o,{top:0,left:0},t||"page",i||n).top+(n?this.doc.height-at(o):0)},defaultTextHeight:function(){return tn(this.display)},defaultCharWidth:function(){return nn(this.display)},getViewport:function(){return{from:this.display.viewFrom,to:this.display.viewTo}},addWidget:function(e,t,i,n,o){var s,r,a=this.display,l=(e=Ki(this,q(this.doc,e))).bottom,d=e.left;t.style.position="absolute",t.setAttribute("cm-ignore-events","true"),this.display.input.setUneditable(t),a.sizer.appendChild(t),"over"==n?l=e.top:"above"!=n&&"near"!=n||(s=Math.max(a.wrapper.clientHeight,this.doc.height),r=Math.max(a.sizer.clientWidth,a.lineSpace.clientWidth),("above"==n||e.bottom+t.offsetHeight>s)&&e.top>t.offsetHeight?l=e.top-t.offsetHeight:e.bottom+t.offsetHeight<=s&&(l=e.bottom),d+t.offsetWidth>r&&(d=r-t.offsetWidth)),t.style.top=l+"px",t.style.left=t.style.right="","right"==o?(d=a.sizer.clientWidth-t.offsetWidth,t.style.right="0px"):("left"==o?d=0:"middle"==o&&(d=(a.sizer.clientWidth-t.offsetWidth)/2),t.style.left=d+"px"),i&&(null!=(n=Sn(this,{left:d,top:l,right:d+t.offsetWidth,bottom:l+t.offsetHeight})).scrollTop&&In(this,n.scrollTop),null!=n.scrollLeft)&&En(this,n.scrollLeft)},triggerOnKeyDown:i(Hs),triggerOnKeyPress:i(Bs),triggerOnKeyUp:Fs,triggerOnMouseDown:i(qs),execCommand:function(e){if(Is.hasOwnProperty(e))return Is[e].call(null,this)},triggerElectric:i(function(e){lr(this,e)}),findPosH:function(e,t,i,n){var o=1;t<0&&(o=-1,t=-t);for(var s=q(this.doc,e),r=0;r<t&&!(s=ur(this.doc,s,o,i,n)).hitSide;++r);return s},moveH:i(function(t,i){var n=this;this.extendSelectionsBy(function(e){return n.display.shift||n.doc.extend||e.empty()?ur(n.doc,e.head,t,i,n.options.rtlMoveVisually):t<0?e.from():e.to()},fe)}),deleteH:i(function(i,n){var e=this.doc.sel,o=this.doc;e.somethingSelected()?o.replaceSelection("",null,"+delete"):ks(this,function(e){var t=ur(o,e.head,i,n,!1);return i<0?{from:t,to:e.head}:{from:e.head,to:t}})}),findPosV:function(e,t,i,n){var o=1,s=n;t<0&&(o=-1,t=-t);for(var r=q(this.doc,e),a=0;a<t;++a){var l=Ki(this,r,"div");if(null==s?s=l.left:l.left=s,(r=pr(this,l,o,i)).hitSide)break}return r},moveV:i(function(n,o){var s=this,r=this.doc,a=[],l=!this.display.shift&&!r.extend&&r.sel.somethingSelected();if(r.extendSelectionsBy(function(e){var t,i;return l?n<0?e.from():e.to():(t=Ki(s,e.head,"div"),null!=e.goalColumn&&(t.left=e.goalColumn),a.push(t.left),i=pr(s,t,n,o),"page"==o&&e==r.sel.primary()&&Tn(s,Gi(s,i,"div").top-t.top),i)},fe),a.length)for(var e=0;e<r.sel.ranges.length;e++)r.sel.ranges[e].goalColumn=a[e]}),findWordAt:function(e){var t=R(this.doc,e.line).text,i=e.ch,n=e.ch;if(t){var o=this.getHelper(e,"wordChars");"before"!=e.sticky&&n!=t.length||!i?++n:--i;for(var s=t.charAt(i),r=Se(s,o)?function(e){return Se(e,o)}:/\s/.test(s)?function(e){return/\s/.test(e)}:function(e){return!/\s/.test(e)&&!Se(e)};0<i&&r(t.charAt(i-1));)--i;for(;n<t.length&&r(t.charAt(n));)++n}return new Z(U(e.line,i),U(e.line,n))},toggleOverwrite:function(e){null!=e&&e==this.state.overwrite||(((this.state.overwrite=!this.state.overwrite)?$:I)(this.display.cursorDiv,"CodeMirror-overwrite"),K(this,"overwriteToggle",this,this.state.overwrite))},hasFocus:function(){return this.display.input.getField()==se()},isReadOnly:function(){return!(!this.options.readOnly&&!this.doc.cantEdit)},scrollTo:i(function(e,t){Dn(this,e,t)}),getScrollInfo:function(){var e=this.display.scroller;return{left:e.scrollLeft,top:e.scrollTop,height:e.scrollHeight-Li(this)-this.display.barHeight,width:e.scrollWidth-Li(this)-this.display.barWidth,clientHeight:Ii(this),clientWidth:Ai(this)}},scrollIntoView:i(function(e,t){null==e?(e={from:this.doc.sel.primary().head,to:null},null==t&&(t=this.options.cursorScrollMargin)):"number"==typeof e?e={from:U(e,0),to:null}:null==e.from&&(e={from:e,to:null}),e.to||(e.to=e.from),e.margin=t||0,null!=e.from.line?(t=e,Ln(this),this.curOp.scrollToPos=t):An(this,e.from,e.to,e.margin)}),setSize:i(function(e,t){function i(e){return"number"==typeof e||/^\d+$/.test(String(e))?e+"px":e}var n=this,o=(null!=e&&(this.display.wrapper.style.width=i(e)),null!=t&&(this.display.wrapper.style.height=i(t)),this.options.lineWrapping&&Fi(this),this.display.viewFrom);this.doc.iter(o,this.display.viewTo,function(e){if(e.widgets)for(var t=0;t<e.widgets.length;t++)if(e.widgets[t].noHScroll){Un(n,o,"widget");break}++o}),this.curOp.forceUpdate=!0,K(this,"refresh",this)}),operation:function(e){return h(this,e)},startOperation:function(){return Bn(this)},endOperation:function(){return Rn(this)},refresh:i(function(){var e=this.display.cachedTextHeight;w(this),this.curOp.forceUpdate=!0,Bi(this),Dn(this,this.doc.scrollLeft,this.doc.scrollTop),Zn(this),(null==e||.5<Math.abs(e-tn(this.display)))&&an(this),K(this,"refresh",this)}),swapDoc:i(function(e){var t=this.doc;return t.cm=null,bo(this,e),Bi(this),this.display.input.reset(),Dn(this,e.scrollLeft,e.scrollTop),this.curOp.forceScroll=!0,b(this,"swapDoc",this,t),t}),phrase:function(e){var t=this.options.phrases;return t&&Object.prototype.hasOwnProperty.call(t,e)?t[e]:e},getInputField:function(){return this.display.input.getField()},getWrapperElement:function(){return this.display.wrapper},getScrollerElement:function(){return this.display.scroller},getGutterElement:function(){return this.display.gutters}},St(vr),vr.registerHelper=function(e,t,i){yr.hasOwnProperty(e)||(yr[e]=vr[e]={_global:[]}),yr[e][t]=i},vr.registerGlobalHelper=function(e,t,i,n){vr.registerHelper(e,t,n),yr[e]._global.push({pred:i,val:n})};var xr,Cr="iter insert remove copy getEditor constructor".split(" ");for(xr in m.prototype)m.prototype.hasOwnProperty(xr)&&S(Cr,xr)<0&&(g.prototype[xr]=function(e){return function(){return e.apply(this.doc,arguments)}}(m.prototype[xr]));return St(m),g.inputStyles={textarea:s,contenteditable:o},g.defineMode=function(e){g.defaults.mode||"null"==e||(g.defaults.mode=e),function(e,t){2<arguments.length&&(t.dependencies=Array.prototype.slice.call(arguments,2)),Pt[e]=t}.apply(this,arguments)},g.defineMIME=function(e,t){zt[e]=t},g.defineMode("null",function(){return{token:function(e){return e.skipToEnd()}}}),g.defineMIME("text/plain","null"),g.defineExtension=function(e,t){g.prototype[e]=t},g.defineDocExtension=function(e,t){m.prototype[e]=t},g.fromTextArea=function(t,e){var i;function n(){t.value=a.getValue()}if((e=e?de(e):{}).value=t.value,!e.tabindex&&t.tabIndex&&(e.tabindex=t.tabIndex),!e.placeholder&&t.placeholder&&(e.placeholder=t.placeholder),null==e.autofocus&&(i=se(),e.autofocus=i==t||null!=t.getAttribute("autofocus")&&i==document.body),t.form&&(V(t.form,"submit",n),!e.leaveSubmitMethodAlone)){var o=t.form,s=o.submit;try{var r=o.submit=function(){n(),o.submit=s,o.submit(),o.submit=r}}catch(e){}}e.finishInit=function(e){e.save=n,e.getTextArea=function(){return t},e.toTextArea=function(){e.toTextArea=isNaN,n(),t.parentNode.removeChild(e.getWrapperElement()),t.style.display="",t.form&&(G(t.form,"submit",n),"function"==typeof t.form.submit)&&(t.form.submit=s)}},t.style.display="none";var a=g(function(e){return t.parentNode.insertBefore(e,t.nextSibling)},e);return a},(t=g).off=G,t.on=V,t.wheelEventPixels=function(e){e=oo(e);return e.x*=p,e.y*=p,e},t.Doc=m,t.splitLines=Mt,t.countColumn=F,t.findColumn=ge,t.isWordChar=Ce,t.Pass=ue,t.signal=K,t.Line=ni,t.changeEnd=lo,t.scrollbarModel=zn,t.Pos=U,t.cmpPos=W,t.modes=Pt,t.mimeModes=zt,t.resolveMode=Ht,t.getMode=Ft,t.modeExtensions=Bt,t.extendMode=function(e,t){de(t,Bt.hasOwnProperty(e)?Bt[e]:Bt[e]={})},t.copyState=Rt,t.startState=Wt,t.innerMode=Ut,t.commands=Is,t.keyMap=ys,t.keyName=Ss,t.isModifierKey=xs,t.lookupKey=ws,t.normalizeKeyMap=function(e){var t,i,n={};for(t in e)if(e.hasOwnProperty(t)){var o=e[t];if(/^(name|fallthrough|(de|at)tach)$/.test(t))continue;if("..."==o){delete e[t];continue}for(var s=ye(t.split(" "),_s),r=0;r<s.length;r++){var a=void 0,l=r==s.length-1?(a=s.join(" "),o):(a=s.slice(0,r+1).join(" "),"..."),d=n[a];if(d){if(d!=l)throw new Error("Inconsistent bindings for "+a)}else n[a]=l}delete e[t]}for(i in n)e[i]=n[i];return e},t.StringStream=f,t.SharedTextMarker=rs,t.TextMarker=ns,t.LineWidget=ts,t.e_preventDefault=Y,t.e_stopPropagation=Tt,t.e_stop=Dt,t.addClass=$,t.contains=M,t.rmClass=I,t.keyNames=fs,g.version="5.41.0",g};"object"==typeof i&&void 0!==t?t.exports=n():this.CodeMirror=n()},{}],12:[function(e,t,i){var n=function(d){"use strict";var c=/^((?:(?:aaas?|about|acap|adiumxtra|af[ps]|aim|apt|attachment|aw|beshare|bitcoin|bolo|callto|cap|chrome(?:-extension)?|cid|coap|com-eventbrite-attendee|content|crid|cvs|data|dav|dict|dlna-(?:playcontainer|playsingle)|dns|doi|dtn|dvb|ed2k|facetime|feed|file|finger|fish|ftp|geo|gg|git|gizmoproject|go|gopher|gtalk|h323|hcp|https?|iax|icap|icon|im|imap|info|ipn|ipp|irc[6s]?|iris(?:\.beep|\.lwz|\.xpc|\.xpcs)?|itms|jar|javascript|jms|keyparc|lastfm|ldaps?|magnet|mailto|maps|market|message|mid|mms|ms-help|msnim|msrps?|mtqp|mumble|mupdate|mvn|news|nfs|nih?|nntp|notes|oid|opaquelocktoken|palm|paparazzi|platform|pop|pres|proxy|psyc|query|res(?:ource)?|rmi|rsync|rtmp|rtsp|secondlife|service|session|sftp|sgn|shttp|sieve|sips?|skype|sm[bs]|snmp|soap\.beeps?|soldat|spotify|ssh|steam|svn|tag|teamspeak|tel(?:net)?|tftp|things|thismessage|tip|tn3270|tv|udp|unreal|urn|ut2004|vemmi|ventrilo|view-source|webcal|wss?|wtai|wyciwyg|xcon(?:-userid)?|xfire|xmlrpc\.beeps?|xmpp|xri|ymsgr|z39\.50[rs]?):(?:\/{1,3}|[a-z0-9%])|www\d{0,3}[.]|[a-z0-9.\-]+[.][a-z]{2,4}\/)(?:[^\s()<>]|\([^\s()<>]*\))+(?:\([^\s()<>]*\)|[^\s`*!()\[\]{};:'".,<>?Â«Â»ââââ]))/i;d.defineMode("gfm",function(e,n){var t,o=/(?:\@\Â (.*?)\Â )/,s=/(?:\@\ (.*?)\Â )/,r=/(^|\s)(@all)(\s|$)/,a=0,i={startState:function(){return{code:!1,codeBlock:!1,ateSpace:!1}},copyState:function(e){return{code:e.code,codeBlock:e.codeBlock,ateSpace:e.ateSpace}},token:function(e,t){if(e.match(o))return"usercontainer";if(e.match(s))return"groupcontainer";if(e.match(r))return"allcontainer";if(t.combineTokens=null,t.codeBlock)return e.match(/^```+/)?t.codeBlock=!1:e.skipToEnd(),null;if(e.sol()&&(t.code=!1),e.sol()&&e.match(/^```+/))return e.skipToEnd(),t.codeBlock=!0,null;var i;if("`"===e.peek())return e.next(),i=e.pos,e.eatWhile("`"),i=1+e.pos-i,t.code?i===a&&(t.code=!1):(a=i,t.code=!0),null;if(t.code)return e.next(),null;if(e.eatSpace())return t.ateSpace=!0,null;if((e.sol()||t.ateSpace)&&(t.ateSpace=!1)!==n.gitHubSpice){if(e.match(/^(?:[a-zA-Z0-9\-_]+\/)?(?:[a-zA-Z0-9\-_]+@)?(?=.{0,6}\d)(?:[a-f0-9]{7,40}\b)/))return t.combineTokens=!0,"link";if(e.match(/^(?:[a-zA-Z0-9\-_]+\/)?(?:[a-zA-Z0-9\-_]+)?#[0-9]+\b/))return t.combineTokens=!0,"link"}return e.match(c)&&"]("!=e.string.slice(e.start-2,e.start)&&(0==e.start||/\W/.test(e.string.charAt(e.start-1)))?(t.combineTokens=!0,"link"):(e.next(),null)},blankLine:function(e){return e.code=!1,null}},l={taskLists:!0,strikethrough:!0,emoji:!0};for(t in n)l[t]=n[t];return l.name="markdown",d.overlayMode(d.getMode(e,l),i)},"markdown"),d.defineMIME("text/x-gfm","gfm")};"object"==typeof i&&"object"==typeof t?n(e("../../lib/codemirror"),e("../markdown/markdown"),e("../../addon/mode/overlay")):n(CodeMirror)},{"../../addon/mode/overlay":8,"../../lib/codemirror":11,"../markdown/markdown":13}],13:[function(e,t,i){var n=function(E){"use strict";E.defineMode("markdown",function(u,p){var e,h=E.getMode(u,"text/html"),o="null"==h.name,m=(void 0===p.highlightFormatting&&(p.highlightFormatting=!1),void 0===p.maxBlockquoteDepth&&(p.maxBlockquoteDepth=0),void 0===p.taskLists&&(p.taskLists=!1),void 0===p.strikethrough&&(p.strikethrough=!1),void 0===p.emoji&&(p.emoji=!1),void 0===p.fencedCodeBlockHighlighting&&(p.fencedCodeBlockHighlighting=!0),void 0===p.xml&&(p.xml=!0),void 0===p.tokenTypeOverrides&&(p.tokenTypeOverrides={}),{header:"header",code:"comment",quote:"quote",list1:"variable-2",list2:"variable-3",list3:"keyword",hr:"hr",image:"image",imageAltText:"image-alt-text",imageMarker:"image-marker",formatting:"formatting",linkInline:"link",linkEmail:"link",linkText:"link",linkHref:"string",em:"em",strong:"strong",strikethrough:"strikethrough",emoji:"builtin"});for(e in m)m.hasOwnProperty(e)&&p.tokenTypeOverrides[e]&&(m[e]=p.tokenTypeOverrides[e]);var f=/^([*\-_])(?:\s*\1){2,}\s*$/,g=/^(?:[*\-+]|^[0-9]+([.)]))\s+/,v=/^\[(x| )\](?=\s)/i,b=p.allowAtxHeaderWithoutSpace?/^(#+)/:/^(#+)(?: |$)/,y=/^ *(?:\={1,}|-{1,})\s*$/,i=/^[^#!\[\]*_\\<>` "'(~:]+/,_=/^(~~~+|```+)[ \t]*([\w+#-]*)[^\n`]*$/,w=/^\s*\[[^\]]+?\]:.*$/,x=/[!"#$%&'()*+,\-.\/:;<=>?@\[\\\]^_`{|}~\xA1\xA7\xAB\xB6\xB7\xBB\xBF\u037E\u0387\u055A-\u055F\u0589\u058A\u05BE\u05C0\u05C3\u05C6\u05F3\u05F4\u0609\u060A\u060C\u060D\u061B\u061E\u061F\u066A-\u066D\u06D4\u0700-\u070D\u07F7-\u07F9\u0830-\u083E\u085E\u0964\u0965\u0970\u0AF0\u0DF4\u0E4F\u0E5A\u0E5B\u0F04-\u0F12\u0F14\u0F3A-\u0F3D\u0F85\u0FD0-\u0FD4\u0FD9\u0FDA\u104A-\u104F\u10FB\u1360-\u1368\u1400\u166D\u166E\u169B\u169C\u16EB-\u16ED\u1735\u1736\u17D4-\u17D6\u17D8-\u17DA\u1800-\u180A\u1944\u1945\u1A1E\u1A1F\u1AA0-\u1AA6\u1AA8-\u1AAD\u1B5A-\u1B60\u1BFC-\u1BFF\u1C3B-\u1C3F\u1C7E\u1C7F\u1CC0-\u1CC7\u1CD3\u2010-\u2027\u2030-\u2043\u2045-\u2051\u2053-\u205E\u207D\u207E\u208D\u208E\u2308-\u230B\u2329\u232A\u2768-\u2775\u27C5\u27C6\u27E6-\u27EF\u2983-\u2998\u29D8-\u29DB\u29FC\u29FD\u2CF9-\u2CFC\u2CFE\u2CFF\u2D70\u2E00-\u2E2E\u2E30-\u2E42\u3001-\u3003\u3008-\u3011\u3014-\u301F\u3030\u303D\u30A0\u30FB\uA4FE\uA4FF\uA60D-\uA60F\uA673\uA67E\uA6F2-\uA6F7\uA874-\uA877\uA8CE\uA8CF\uA8F8-\uA8FA\uA8FC\uA92E\uA92F\uA95F\uA9C1-\uA9CD\uA9DE\uA9DF\uAA5C-\uAA5F\uAADE\uAADF\uAAF0\uAAF1\uABEB\uFD3E\uFD3F\uFE10-\uFE19\uFE30-\uFE52\uFE54-\uFE61\uFE63\uFE68\uFE6A\uFE6B\uFF01-\uFF03\uFF05-\uFF0A\uFF0C-\uFF0F\uFF1A\uFF1B\uFF1F\uFF20\uFF3B-\uFF3D\uFF3F\uFF5B\uFF5D\uFF5F-\uFF65]|\uD800[\uDD00-\uDD02\uDF9F\uDFD0]|\uD801\uDD6F|\uD802[\uDC57\uDD1F\uDD3F\uDE50-\uDE58\uDE7F\uDEF0-\uDEF6\uDF39-\uDF3F\uDF99-\uDF9C]|\uD804[\uDC47-\uDC4D\uDCBB\uDCBC\uDCBE-\uDCC1\uDD40-\uDD43\uDD74\uDD75\uDDC5-\uDDC9\uDDCD\uDDDB\uDDDD-\uDDDF\uDE38-\uDE3D\uDEA9]|\uD805[\uDCC6\uDDC1-\uDDD7\uDE41-\uDE43\uDF3C-\uDF3E]|\uD809[\uDC70-\uDC74]|\uD81A[\uDE6E\uDE6F\uDEF5\uDF37-\uDF3B\uDF44]|\uD82F\uDC9F|\uD836[\uDE87-\uDE8B]/;function C(e,t,i){return(t.f=t.inline=i)(e,t)}function S(e,t,i){return(t.f=t.block=i)(e,t)}function n(e){var t;return e.linkTitle=!1,e.linkHref=!1,e.linkText=!1,e.em=!1,e.strong=!1,e.strikethrough=!1,e.quote=0,e.indentedCode=!1,e.f==T&&(o?o:"xml"==(t=E.innerMode(h,e.htmlState)).mode.name&&null===t.state.tagStart&&!t.state.context&&t.state.tokenize.isInText)&&(e.f=L,e.block=s,e.htmlState=null),e.trailingSpace=0,e.trailingSpaceNewLine=!1,e.prevLine=e.thisLine,e.thisLine={stream:null},null}function s(e,t){var i=e.column()===t.indentation,n=!(n=t.prevLine.stream)||!/\S/.test(n.string),o=t.indentedCode,s=t.prevLine.hr,r=!1!==t.list,a=(t.listStack[t.listStack.length-1]||0)+3,l=(t.indentedCode=!1,t.indentation);if(null===t.indentationDiff&&(t.indentationDiff=t.indentation,r)){for(t.em=!1,t.strong=!1,t.code=!1,t.strikethrough=!1,t.list=null;l<t.listStack[t.listStack.length-1];)t.listStack.pop(),t.listStack.length?t.indentation=t.listStack[t.listStack.length-1]:t.list=!1;!1!==t.list&&(t.indentationDiff=l-t.listStack[t.listStack.length-1])}var d,c=!(n||s||t.prevLine.header||r&&o||t.prevLine.fencedCodeEnd),s=(!1===t.list||s||n)&&t.indentation<=a&&e.match(f),h=null;return 4<=t.indentationDiff&&(o||t.prevLine.fencedCodeEnd||t.prevLine.header||n)?(e.skipToEnd(),t.indentedCode=!0,m.code):e.eatSpace()?null:i&&t.indentation<=a&&(h=e.match(b))&&h[1].length<=6?(t.quote=0,t.header=h[1].length,t.thisLine.header=!0,p.highlightFormatting&&(t.formatting="header"),t.f=t.inline,D(t)):t.indentation<=a&&e.eat(">")?(t.quote=i?1:t.quote+1,p.highlightFormatting&&(t.formatting="quote"),e.eatSpace(),D(t)):!s&&!t.setext&&i&&t.indentation<=a&&(h=e.match(g))?(o=h[1]?"ol":"ul",t.indentation=l+e.current().length,t.list=!0,t.quote=0,t.listStack.push(t.indentation),p.taskLists&&e.match(v,!1)&&(t.taskList=!0),t.f=t.inline,p.highlightFormatting&&(t.formatting=["list","list-"+o]),D(t)):i&&t.indentation<=a&&(h=e.match(_,!0))?(t.quote=0,t.fencedEndRE=new RegExp(h[1]+"+ *$"),t.localMode=p.fencedCodeBlockHighlighting&&(n=h[2],E.findModeByName&&(d=E.findModeByName(n))&&(n=d.mime||d.mimes[0]),"null"==(d=E.getMode(u,n)).name?null:d),t.localMode&&(t.localState=E.startState(t.localMode)),t.f=t.block=k,p.highlightFormatting&&(t.formatting="code-block"),t.code=-1,D(t)):t.setext||!(c&&r||t.quote||!1!==t.list||t.code||s||w.test(e.string))&&(h=(h=e.lookAhead(1))&&h.match(y))?(t.setext?(t.header=t.setext,t.setext=0,e.skipToEnd(),p.highlightFormatting&&(t.formatting="header")):(t.header="="==h[0].charAt(0)?1:2,t.setext=t.header),t.thisLine.header=!0,t.f=t.inline,D(t)):s?(e.skipToEnd(),t.hr=!0,t.thisLine.hr=!0,m.hr):"["===e.peek()?C(e,t,O):C(e,t,t.inline)}function T(e,t){var i,n=h.token(e,t.htmlState);return!o&&("xml"==(i=E.innerMode(h,t.htmlState)).mode.name&&null===i.state.tagStart&&!i.state.context&&i.state.tokenize.isInText||t.md_inside&&-1<e.current().indexOf(">"))&&(t.f=L,t.block=s,t.htmlState=null),n}function k(e,t){var i,n=t.listStack[t.listStack.length-1]||0,o=t.indentation<n;return t.fencedEndRE&&t.indentation<=n+3&&(o||e.match(t.fencedEndRE))?(p.highlightFormatting&&(t.formatting="code-block"),o||(i=D(t)),t.localMode=t.localState=null,t.block=s,t.f=L,t.fencedEndRE=null,t.code=0,t.thisLine.fencedCodeEnd=!0,o?S(e,t,t.block):i):t.localMode?t.localMode.token(e,t.localState):(e.skipToEnd(),m.code)}function D(e){var t,i=[];if(e.formatting){i.push(m.formatting),"string"==typeof e.formatting&&(e.formatting=[e.formatting]);for(var n=0;n<e.formatting.length;n++)i.push(m.formatting+"-"+e.formatting[n]),"header"===e.formatting[n]&&i.push(m.formatting+"-"+e.formatting[n]+"-"+e.header),"quote"===e.formatting[n]&&(!p.maxBlockquoteDepth||p.maxBlockquoteDepth>=e.quote?i.push(m.formatting+"-"+e.formatting[n]+"-"+e.quote):i.push("error"))}return e.taskOpen?i.push("meta"):e.taskClosed?i.push("property"):(e.linkHref?i.push(m.linkHref,"url"):(e.strong&&i.push(m.strong),e.em&&i.push(m.em),e.strikethrough&&i.push(m.strikethrough),e.emoji&&i.push(m.emoji),e.linkText&&i.push(m.linkText),e.code&&i.push(m.code),e.image&&i.push(m.image),e.imageAltText&&i.push(m.imageAltText,"link"),e.imageMarker&&i.push(m.imageMarker)),e.header&&i.push(m.header,m.header+"-"+e.header),e.quote&&(i.push(m.quote),!p.maxBlockquoteDepth||p.maxBlockquoteDepth>=e.quote?i.push(m.quote+"-"+e.quote):i.push(m.quote+"-"+p.maxBlockquoteDepth)),!1!==e.list&&(t=(e.listStack.length-1)%3,i.push(t?1==t?m.list2:m.list3:m.list1)),e.trailingSpaceNewLine?i.push("trailing-space-new-line"):e.trailingSpace&&i.push("trailing-space-"+(e.trailingSpace%2?"a":"b"))),i.length?i.join(" "):null}function t(e,t){if(e.match(i,!0))return D(t)}function L(e,t){var i=t.text(e,t);if(void 0!==i)return i;if(t.list)return t.list=null,D(t);if(t.taskList)return" "===e.match(v,!0)[1]?t.taskOpen=!0:t.taskClosed=!0,p.highlightFormatting&&(t.formatting="task"),t.taskList=!1,D(t);if(t.taskOpen=!1,t.taskClosed=!1,t.header&&e.match(/^#+$/,!0))return p.highlightFormatting&&(t.formatting="header"),D(t);var n,o=e.next();if(t.linkTitle){t.linkTitle=!1;var i=o,i="^\\s*(?:[^"+(i=((i="("===o?")":o)+"").replace(/([.?*+^\[\]\\(){}|-])/g,"\\$1"))+"\\\\]+|\\\\\\\\|\\\\.)"+i;if(e.match(new RegExp(i),!0))return m.linkHref}if("`"===o)return i=t.formatting,p.highlightFormatting&&(t.formatting="code"),e.eatWhile("`"),a=e.current().length,0!=t.code||t.quote&&1!=a?a!=t.code?(t.formatting=i,D(t)):(n=D(t),t.code=0,n):(t.code=a,D(t));if(t.code)return D(t);if("\\"===o&&(e.next(),p.highlightFormatting))return r=D(t),i=m.formatting+"-escape",r?r+" "+i:i;if("!"===o&&e.match(/\[[^\]]*\] ?(?:\(|\[)/,!1))return t.imageMarker=!0,t.image=!0,p.highlightFormatting&&(t.formatting="image"),D(t);if("["===o&&t.imageMarker&&e.match(/[^\]]*\](\(.*?\)| ?\[.*?\])/,!1))return t.imageMarker=!1,t.imageAltText=!0,p.highlightFormatting&&(t.formatting="image"),D(t);if("]"===o&&t.imageAltText)return p.highlightFormatting&&(t.formatting="image"),r=D(t),t.imageAltText=!1,t.image=!1,t.inline=t.f=I,r;if("["===o&&!t.image)return t.linkText&&e.match(/^.*?\]/)||(t.linkText=!0,p.highlightFormatting&&(t.formatting="link")),D(t);if("]"===o&&t.linkText)return p.highlightFormatting&&(t.formatting="link"),r=D(t),t.linkText=!1,t.inline=t.f=e.match(/\(.*?\)| ?\[.*?\]/,!1)?I:L,r;if("<"===o&&e.match(/^(https?|ftps?):\/\/(?:[^\\>]|\\.)+>/,!1))return t.f=t.inline=A,p.highlightFormatting&&(t.formatting="link"),(r=D(t))?r+=" ":r="",r+m.linkInline;if("<"===o&&e.match(/^[^> \\]+@(?:[^\\>]|\\.)+>/,!1))return t.f=t.inline=A,p.highlightFormatting&&(t.formatting="link"),(r=D(t))?r+=" ":r="",r+m.linkEmail;if(p.xml&&"<"===o&&e.match(/^(!--|\?|!\[CDATA\[|[a-z][a-z0-9-]*(?:\s+[a-z_:.\-]+(?:\s*=\s*[^>]+)?)*\s*(?:>|$))/i,!1))return-1!=(a=e.string.indexOf(">",e.pos))&&(i=e.string.substring(e.start,a),/markdown\s*=\s*('|"){0,1}1('|"){0,1}/.test(i))&&(t.md_inside=!0),e.backUp(1),t.htmlState=E.startState(h),S(e,t,T);if(p.xml&&"<"===o&&e.match(/^\/\w*?>/))return t.md_inside=!1,"tag";if("*"===o||"_"===o){for(var s=1,r=1==e.pos?" ":e.string.charAt(e.pos-2);s<3&&e.eat(o);)s++;var a=e.peek()||" ",i=!/\s/.test(a)&&(!x.test(a)||/\s/.test(r)||x.test(r)),l=!/\s/.test(r)&&(!x.test(r)||/\s/.test(a)||x.test(a)),d=null,c=null;if(s%2&&(t.em||!i||"*"!==o&&l&&!x.test(r)?t.em!=o||!l||"*"!==o&&i&&!x.test(a)||(d=!1):d=!0),1<s&&(t.strong||!i||"*"!==o&&l&&!x.test(r)?t.strong!=o||!l||"*"!==o&&i&&!x.test(a)||(c=!1):c=!0),null!=c||null!=d)return p.highlightFormatting&&(t.formatting=null==d?"strong":null==c?"em":"strong em"),!0===d&&(t.em=o),!0===c&&(t.strong=o),n=D(t),!1===d&&(t.em=!1),!1===c&&(t.strong=!1),n}else if(" "===o&&(e.eat("*")||e.eat("_"))){if(" "===e.peek())return D(t);e.backUp(1)}if(p.strikethrough)if("~"===o&&e.eatWhile(o)){if(t.strikethrough)return p.highlightFormatting&&(t.formatting="strikethrough"),n=D(t),t.strikethrough=!1,n;if(e.match(/^[^\s]/,!1))return t.strikethrough=!0,p.highlightFormatting&&(t.formatting="strikethrough"),D(t)}else if(" "===o&&e.match(/^~~/,!0)){if(" "===e.peek())return D(t);e.backUp(2)}return p.emoji&&":"===o&&e.match(/^(?:[a-z_\d+][a-z_\d+-]*|\-[a-z_\d+][a-z_\d+-]*):/)?(t.emoji=!0,p.highlightFormatting&&(t.formatting="emoji"),r=D(t),t.emoji=!1,r):(" "===o&&(e.match(/^ +$/,!1)?t.trailingSpace++:t.trailingSpace&&(t.trailingSpaceNewLine=!0)),D(t))}function A(e,t){if(">"!==e.next())return e.match(/^[^>]+/,!0),m.linkInline;t.f=t.inline=L,p.highlightFormatting&&(t.formatting="link");e=D(t);return e?e+=" ":e="",e+m.linkInline}function I(e,t){var i;return e.eatSpace()?null:"("===(e=e.next())||"["===e?(t.f=t.inline=(i="("===e?")":"]",function(e,t){if(e.next()!==i)return e.match(r[i]),t.linkHref=!0,D(t);t.f=t.inline=L,p.highlightFormatting&&(t.formatting="link-string");e=D(t);return t.linkHref=!1,e}),p.highlightFormatting&&(t.formatting="link-string"),t.linkHref=!0,D(t)):"error"}var r={")":/^(?:[^\\\(\)]|\\.|\((?:[^\\\(\)]|\\.)*\))*?(?=\))/,"]":/^(?:[^\\\[\]]|\\.|\[(?:[^\\\[\]]|\\.)*\])*?(?=\])/};function O(e,t){return e.match(/^([^\]\\]|\\.)*\]:/,!1)?(t.f=a,e.next(),p.highlightFormatting&&(t.formatting="link"),t.linkText=!0,D(t)):C(e,t,L)}function a(e,t){var i;return e.match(/^\]:/,!0)?(t.f=t.inline=l,p.highlightFormatting&&(t.formatting="link"),i=D(t),t.linkText=!1,i):(e.match(/^([^\]\\]|\\.)+/,!0),m.linkText)}function l(e,t){return e.eatSpace()?null:(e.match(/^[^\s]+/,!0),void 0===e.peek()?t.linkTitle=!0:e.match(/^(?:\s+(?:"(?:[^"\\]|\\\\|\\.)+"|'(?:[^'\\]|\\\\|\\.)+'|\((?:[^)\\]|\\\\|\\.)+\)))?/,!0),t.f=t.inline=L,m.linkHref+" url")}var d={startState:function(){return{f:s,prevLine:{stream:null},thisLine:{stream:null},block:s,htmlState:null,indentation:0,inline:L,text:t,formatting:!1,linkText:!1,linkHref:!1,linkTitle:!1,code:0,em:!1,strong:!1,header:0,setext:0,hr:!1,taskList:!1,list:!1,listStack:[],quote:0,trailingSpace:0,trailingSpaceNewLine:!1,strikethrough:!1,emoji:!1,fencedEndRE:null}},copyState:function(e){return{f:e.f,prevLine:e.prevLine,thisLine:e.thisLine,block:e.block,htmlState:e.htmlState&&E.copyState(h,e.htmlState),indentation:e.indentation,localMode:e.localMode,localState:e.localMode?E.copyState(e.localMode,e.localState):null,inline:e.inline,text:e.text,formatting:!1,linkText:e.linkText,linkTitle:e.linkTitle,linkHref:e.linkHref,code:e.code,em:e.em,strong:e.strong,strikethrough:e.strikethrough,emoji:e.emoji,header:e.header,setext:e.setext,hr:e.hr,taskList:e.taskList,list:e.list,listStack:e.listStack.slice(0),quote:e.quote,indentedCode:e.indentedCode,trailingSpace:e.trailingSpace,trailingSpaceNewLine:e.trailingSpaceNewLine,md_inside:e.md_inside,fencedEndRE:e.fencedEndRE}},token:function(e,t){if(t.formatting=!1,e!=t.thisLine.stream){if(t.header=0,t.hr=!1,e.match(/^\s*$/,!0))return n(t),null;if(t.prevLine=t.thisLine,t.thisLine={stream:e},t.taskList=!1,t.trailingSpace=0,t.trailingSpaceNewLine=!1,!t.localState&&(t.f=t.block,t.f!=T)){var i=e.match(/^\s*/,!0)[0].replace(/\t/g,"    ").length;if(t.indentation=i,t.indentationDiff=null,0<i)return null}}return t.f(e,t)},innerMode:function(e){return e.block==T?{state:e.htmlState,mode:h}:e.localState?{state:e.localState,mode:e.localMode}:{state:e,mode:d}},indent:function(e,t,i){return e.block==T&&h.indent?h.indent(e.htmlState,t,i):e.localState&&e.localMode.indent?e.localMode.indent(e.localState,t,i):E.Pass},blankLine:n,getType:D,blockCommentStart:"\x3c!--",blockCommentEnd:"--\x3e",closeBrackets:"()[]{}''\"\"``",fold:"markdown"};return d},"xml"),E.defineMIME("text/markdown","markdown"),E.defineMIME("text/x-markdown","markdown")};"object"==typeof i&&"object"==typeof t?n(e("../../lib/codemirror"),e("../xml/xml"),e("../meta")):n(CodeMirror)},{"../../lib/codemirror":11,"../meta":14,"../xml/xml":15}],14:[function(e,t,i){!function(o){"use strict";o.modeInfo=[{name:"APL",mime:"text/apl",mode:"apl",ext:["dyalog","apl"]},{name:"PGP",mimes:["application/pgp","application/pgp-encrypted","application/pgp-keys","application/pgp-signature"],mode:"asciiarmor",ext:["asc","pgp","sig"]},{name:"ASN.1",mime:"text/x-ttcn-asn",mode:"asn.1",ext:["asn","asn1"]},{name:"Asterisk",mime:"text/x-asterisk",mode:"asterisk",file:/^extensions\.conf$/i},{name:"Brainfuck",mime:"text/x-brainfuck",mode:"brainfuck",ext:["b","bf"]},{name:"C",mime:"text/x-csrc",mode:"clike",ext:["c","h","ino"]},{name:"C++",mime:"text/x-c++src",mode:"clike",ext:["cpp","c++","cc","cxx","hpp","h++","hh","hxx"],alias:["cpp"]},{name:"Cobol",mime:"text/x-cobol",mode:"cobol",ext:["cob","cpy"]},{name:"C#",mime:"text/x-csharp",mode:"clike",ext:["cs"],alias:["csharp"]},{name:"Clojure",mime:"text/x-clojure",mode:"clojure",ext:["clj","cljc","cljx"]},{name:"ClojureScript",mime:"text/x-clojurescript",mode:"clojure",ext:["cljs"]},{name:"Closure Stylesheets (GSS)",mime:"text/x-gss",mode:"css",ext:["gss"]},{name:"CMake",mime:"text/x-cmake",mode:"cmake",ext:["cmake","cmake.in"],file:/^CMakeLists.txt$/},{name:"CoffeeScript",mimes:["application/vnd.coffeescript","text/coffeescript","text/x-coffeescript"],mode:"coffeescript",ext:["coffee"],alias:["coffee","coffee-script"]},{name:"Common Lisp",mime:"text/x-common-lisp",mode:"commonlisp",ext:["cl","lisp","el"],alias:["lisp"]},{name:"Cypher",mime:"application/x-cypher-query",mode:"cypher",ext:["cyp","cypher"]},{name:"Cython",mime:"text/x-cython",mode:"python",ext:["pyx","pxd","pxi"]},{name:"Crystal",mime:"text/x-crystal",mode:"crystal",ext:["cr"]},{name:"CSS",mime:"text/css",mode:"css",ext:["css"]},{name:"CQL",mime:"text/x-cassandra",mode:"sql",ext:["cql"]},{name:"D",mime:"text/x-d",mode:"d",ext:["d"]},{name:"Dart",mimes:["application/dart","text/x-dart"],mode:"dart",ext:["dart"]},{name:"diff",mime:"text/x-diff",mode:"diff",ext:["diff","patch"]},{name:"Django",mime:"text/x-django",mode:"django"},{name:"Dockerfile",mime:"text/x-dockerfile",mode:"dockerfile",file:/^Dockerfile$/},{name:"DTD",mime:"application/xml-dtd",mode:"dtd",ext:["dtd"]},{name:"Dylan",mime:"text/x-dylan",mode:"dylan",ext:["dylan","dyl","intr"]},{name:"EBNF",mime:"text/x-ebnf",mode:"ebnf"},{name:"ECL",mime:"text/x-ecl",mode:"ecl",ext:["ecl"]},{name:"edn",mime:"application/edn",mode:"clojure",ext:["edn"]},{name:"Eiffel",mime:"text/x-eiffel",mode:"eiffel",ext:["e"]},{name:"Elm",mime:"text/x-elm",mode:"elm",ext:["elm"]},{name:"Embedded Javascript",mime:"application/x-ejs",mode:"htmlembedded",ext:["ejs"]},{name:"Embedded Ruby",mime:"application/x-erb",mode:"htmlembedded",ext:["erb"]},{name:"Erlang",mime:"text/x-erlang",mode:"erlang",ext:["erl"]},{name:"Esper",mime:"text/x-esper",mode:"sql"},{name:"Factor",mime:"text/x-factor",mode:"factor",ext:["factor"]},{name:"FCL",mime:"text/x-fcl",mode:"fcl"},{name:"Forth",mime:"text/x-forth",mode:"forth",ext:["forth","fth","4th"]},{name:"Fortran",mime:"text/x-fortran",mode:"fortran",ext:["f","for","f77","f90"]},{name:"F#",mime:"text/x-fsharp",mode:"mllike",ext:["fs"],alias:["fsharp"]},{name:"Gas",mime:"text/x-gas",mode:"gas",ext:["s"]},{name:"Gherkin",mime:"text/x-feature",mode:"gherkin",ext:["feature"]},{name:"GitHub Flavored Markdown",mime:"text/x-gfm",mode:"gfm",file:/^(readme|contributing|history).md$/i},{name:"Go",mime:"text/x-go",mode:"go",ext:["go"]},{name:"Groovy",mime:"text/x-groovy",mode:"groovy",ext:["groovy","gradle"],file:/^Jenkinsfile$/},{name:"HAML",mime:"text/x-haml",mode:"haml",ext:["haml"]},{name:"Haskell",mime:"text/x-haskell",mode:"haskell",ext:["hs"]},{name:"Haskell (Literate)",mime:"text/x-literate-haskell",mode:"haskell-literate",ext:["lhs"]},{name:"Haxe",mime:"text/x-haxe",mode:"haxe",ext:["hx"]},{name:"HXML",mime:"text/x-hxml",mode:"haxe",ext:["hxml"]},{name:"ASP.NET",mime:"application/x-aspx",mode:"htmlembedded",ext:["aspx"],alias:["asp","aspx"]},{name:"HTML",mime:"text/html",mode:"htmlmixed",ext:["html","htm","handlebars","hbs"],alias:["xhtml"]},{name:"HTTP",mime:"message/http",mode:"http"},{name:"IDL",mime:"text/x-idl",mode:"idl",ext:["pro"]},{name:"Pug",mime:"text/x-pug",mode:"pug",ext:["jade","pug"],alias:["jade"]},{name:"Java",mime:"text/x-java",mode:"clike",ext:["java"]},{name:"Java Server Pages",mime:"application/x-jsp",mode:"htmlembedded",ext:["jsp"],alias:["jsp"]},{name:"JavaScript",mimes:["text/javascript","text/ecmascript","application/javascript","application/x-javascript","application/ecmascript"],mode:"javascript",ext:["js"],alias:["ecmascript","js","node"]},{name:"JSON",mimes:["application/json","application/x-json"],mode:"javascript",ext:["json","map"],alias:["json5"]},{name:"JSON-LD",mime:"application/ld+json",mode:"javascript",ext:["jsonld"],alias:["jsonld"]},{name:"JSX",mime:"text/jsx",mode:"jsx",ext:["jsx"]},{name:"Jinja2",mime:"null",mode:"jinja2",ext:["j2","jinja","jinja2"]},{name:"Julia",mime:"text/x-julia",mode:"julia",ext:["jl"]},{name:"Kotlin",mime:"text/x-kotlin",mode:"clike",ext:["kt"]},{name:"LESS",mime:"text/x-less",mode:"css",ext:["less"]},{name:"LiveScript",mime:"text/x-livescript",mode:"livescript",ext:["ls"],alias:["ls"]},{name:"Lua",mime:"text/x-lua",mode:"lua",ext:["lua"]},{name:"Markdown",mime:"text/x-markdown",mode:"markdown",ext:["markdown","md","mkd"]},{name:"mIRC",mime:"text/mirc",mode:"mirc"},{name:"MariaDB SQL",mime:"text/x-mariadb",mode:"sql"},{name:"Mathematica",mime:"text/x-mathematica",mode:"mathematica",ext:["m","nb"]},{name:"Modelica",mime:"text/x-modelica",mode:"modelica",ext:["mo"]},{name:"MUMPS",mime:"text/x-mumps",mode:"mumps",ext:["mps"]},{name:"MS SQL",mime:"text/x-mssql",mode:"sql"},{name:"mbox",mime:"application/mbox",mode:"mbox",ext:["mbox"]},{name:"MySQL",mime:"text/x-mysql",mode:"sql"},{name:"Nginx",mime:"text/x-nginx-conf",mode:"nginx",file:/nginx.*\.conf$/i},{name:"NSIS",mime:"text/x-nsis",mode:"nsis",ext:["nsh","nsi"]},{name:"NTriples",mimes:["application/n-triples","application/n-quads","text/n-triples"],mode:"ntriples",ext:["nt","nq"]},{name:"Objective-C",mime:"text/x-objectivec",mode:"clike",ext:["m","mm"],alias:["objective-c","objc"]},{name:"OCaml",mime:"text/x-ocaml",mode:"mllike",ext:["ml","mli","mll","mly"]},{name:"Octave",mime:"text/x-octave",mode:"octave",ext:["m"]},{name:"Oz",mime:"text/x-oz",mode:"oz",ext:["oz"]},{name:"Pascal",mime:"text/x-pascal",mode:"pascal",ext:["p","pas"]},{name:"PEG.js",mime:"null",mode:"pegjs",ext:["jsonld"]},{name:"Perl",mime:"text/x-perl",mode:"perl",ext:["pl","pm"]},{name:"PHP",mimes:["text/x-php","application/x-httpd-php","application/x-httpd-php-open"],mode:"php",ext:["php","php3","php4","php5","php7","phtml"]},{name:"Pig",mime:"text/x-pig",mode:"pig",ext:["pig"]},{name:"Plain Text",mime:"text/plain",mode:"null",ext:["txt","text","conf","def","list","log"]},{name:"PLSQL",mime:"text/x-plsql",mode:"sql",ext:["pls"]},{name:"PowerShell",mime:"application/x-powershell",mode:"powershell",ext:["ps1","psd1","psm1"]},{name:"Properties files",mime:"text/x-properties",mode:"properties",ext:["properties","ini","in"],alias:["ini","properties"]},{name:"ProtoBuf",mime:"text/x-protobuf",mode:"protobuf",ext:["proto"]},{name:"Python",mime:"text/x-python",mode:"python",ext:["BUILD","bzl","py","pyw"],file:/^(BUCK|BUILD)$/},{name:"Puppet",mime:"text/x-puppet",mode:"puppet",ext:["pp"]},{name:"Q",mime:"text/x-q",mode:"q",ext:["q"]},{name:"R",mime:"text/x-rsrc",mode:"r",ext:["r","R"],alias:["rscript"]},{name:"reStructuredText",mime:"text/x-rst",mode:"rst",ext:["rst"],alias:["rst"]},{name:"RPM Changes",mime:"text/x-rpm-changes",mode:"rpm"},{name:"RPM Spec",mime:"text/x-rpm-spec",mode:"rpm",ext:["spec"]},{name:"Ruby",mime:"text/x-ruby",mode:"ruby",ext:["rb"],alias:["jruby","macruby","rake","rb","rbx"]},{name:"Rust",mime:"text/x-rustsrc",mode:"rust",ext:["rs"]},{name:"SAS",mime:"text/x-sas",mode:"sas",ext:["sas"]},{name:"Sass",mime:"text/x-sass",mode:"sass",ext:["sass"]},{name:"Scala",mime:"text/x-scala",mode:"clike",ext:["scala"]},{name:"Scheme",mime:"text/x-scheme",mode:"scheme",ext:["scm","ss"]},{name:"SCSS",mime:"text/x-scss",mode:"css",ext:["scss"]},{name:"Shell",mimes:["text/x-sh","application/x-sh"],mode:"shell",ext:["sh","ksh","bash"],alias:["bash","sh","zsh"],file:/^PKGBUILD$/},{name:"Sieve",mime:"application/sieve",mode:"sieve",ext:["siv","sieve"]},{name:"Slim",mimes:["text/x-slim","application/x-slim"],mode:"slim",ext:["slim"]},{name:"Smalltalk",mime:"text/x-stsrc",mode:"smalltalk",ext:["st"]},{name:"Smarty",mime:"text/x-smarty",mode:"smarty",ext:["tpl"]},{name:"Solr",mime:"text/x-solr",mode:"solr"},{name:"SML",mime:"text/x-sml",mode:"mllike",ext:["sml","sig","fun","smackspec"]},{name:"Soy",mime:"text/x-soy",mode:"soy",ext:["soy"],alias:["closure template"]},{name:"SPARQL",mime:"application/sparql-query",mode:"sparql",ext:["rq","sparql"],alias:["sparul"]},{name:"Spreadsheet",mime:"text/x-spreadsheet",mode:"spreadsheet",alias:["excel","formula"]},{name:"SQL",mime:"text/x-sql",mode:"sql",ext:["sql"]},{name:"SQLite",mime:"text/x-sqlite",mode:"sql"},{name:"Squirrel",mime:"text/x-squirrel",mode:"clike",ext:["nut"]},{name:"Stylus",mime:"text/x-styl",mode:"stylus",ext:["styl"]},{name:"Swift",mime:"text/x-swift",mode:"swift",ext:["swift"]},{name:"sTeX",mime:"text/x-stex",mode:"stex"},{name:"LaTeX",mime:"text/x-latex",mode:"stex",ext:["text","ltx","tex"],alias:["tex"]},{name:"SystemVerilog",mime:"text/x-systemverilog",mode:"verilog",ext:["v","sv","svh"]},{name:"Tcl",mime:"text/x-tcl",mode:"tcl",ext:["tcl"]},{name:"Textile",mime:"text/x-textile",mode:"textile",ext:["textile"]},{name:"TiddlyWiki ",mime:"text/x-tiddlywiki",mode:"tiddlywiki"},{name:"Tiki wiki",mime:"text/tiki",mode:"tiki"},{name:"TOML",mime:"text/x-toml",mode:"toml",ext:["toml"]},{name:"Tornado",mime:"text/x-tornado",mode:"tornado"},{name:"troff",mime:"text/troff",mode:"troff",ext:["1","2","3","4","5","6","7","8","9"]},{name:"TTCN",mime:"text/x-ttcn",mode:"ttcn",ext:["ttcn","ttcn3","ttcnpp"]},{name:"TTCN_CFG",mime:"text/x-ttcn-cfg",mode:"ttcn-cfg",ext:["cfg"]},{name:"Turtle",mime:"text/turtle",mode:"turtle",ext:["ttl"]},{name:"TypeScript",mime:"application/typescript",mode:"javascript",ext:["ts"],alias:["ts"]},{name:"TypeScript-JSX",mime:"text/typescript-jsx",mode:"jsx",ext:["tsx"],alias:["tsx"]},{name:"Twig",mime:"text/x-twig",mode:"twig"},{name:"Web IDL",mime:"text/x-webidl",mode:"webidl",ext:["webidl"]},{name:"VB.NET",mime:"text/x-vb",mode:"vb",ext:["vb"]},{name:"VBScript",mime:"text/vbscript",mode:"vbscript",ext:["vbs"]},{name:"Velocity",mime:"text/velocity",mode:"velocity",ext:["vtl"]},{name:"Verilog",mime:"text/x-verilog",mode:"verilog",ext:["v"]},{name:"VHDL",mime:"text/x-vhdl",mode:"vhdl",ext:["vhd","vhdl"]},{name:"Vue.js Component",mimes:["script/x-vue","text/x-vue"],mode:"vue",ext:["vue"]},{name:"XML",mimes:["application/xml","text/xml"],mode:"xml",ext:["xml","xsl","xsd","svg"],alias:["rss","wsdl","xsd"]},{name:"XQuery",mime:"application/xquery",mode:"xquery",ext:["xy","xquery"]},{name:"Yacas",mime:"text/x-yacas",mode:"yacas",ext:["ys"]},{name:"YAML",mimes:["text/x-yaml","text/yaml"],mode:"yaml",ext:["yaml","yml"],alias:["yml"]},{name:"Z80",mime:"text/x-z80",mode:"z80",ext:["z80"]},{name:"mscgen",mime:"text/x-mscgen",mode:"mscgen",ext:["mscgen","mscin","msc"]},{name:"xu",mime:"text/x-xu",mode:"mscgen",ext:["xu"]},{name:"msgenny",mime:"text/x-msgenny",mode:"mscgen",ext:["msgenny"]}];for(var e=0;e<o.modeInfo.length;e++){var t=o.modeInfo[e];t.mimes&&(t.mime=t.mimes[0])}o.findModeByMIME=function(e){e=e.toLowerCase();for(var t=0;t<o.modeInfo.length;t++){var i=o.modeInfo[t];if(i.mime==e)return i;if(i.mimes)for(var n=0;n<i.mimes.length;n++)if(i.mimes[n]==e)return i}return/\+xml$/.test(e)?o.findModeByMIME("application/xml"):/\+json$/.test(e)?o.findModeByMIME("application/json"):void 0},o.findModeByExtension=function(e){for(var t=0;t<o.modeInfo.length;t++){var i=o.modeInfo[t];if(i.ext)for(var n=0;n<i.ext.length;n++)if(i.ext[n]==e)return i}},o.findModeByFileName=function(e){for(var t=0;t<o.modeInfo.length;t++){var i=o.modeInfo[t];if(i.file&&i.file.test(e))return i}var n=e.lastIndexOf("."),n=-1<n&&e.substring(n+1,e.length);if(n)return o.findModeByExtension(n)},o.findModeByName=function(e){e=e.toLowerCase();for(var t=0;t<o.modeInfo.length;t++){var i=o.modeInfo[t];if(i.name.toLowerCase()==e)return i;if(i.alias)for(var n=0;n<i.alias.length;n++)if(i.alias[n].toLowerCase()==e)return i}}}("object"==typeof i&&"object"==typeof t?e("../lib/codemirror"):CodeMirror)},{"../lib/codemirror":11}],15:[function(e,t,i){!function(x){"use strict";var C={autoSelfClosers:{area:!0,base:!0,br:!0,col:!0,command:!0,embed:!0,frame:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0,menuitem:!0},implicitlyClosed:{dd:!0,li:!0,optgroup:!0,option:!0,p:!0,rp:!0,rt:!0,tbody:!0,td:!0,tfoot:!0,th:!0,tr:!0},contextGrabbers:{dd:{dd:!0,dt:!0},dt:{dd:!0,dt:!0},li:{li:!0},option:{option:!0,optgroup:!0},optgroup:{optgroup:!0},p:{address:!0,article:!0,aside:!0,blockquote:!0,dir:!0,div:!0,dl:!0,fieldset:!0,footer:!0,form:!0,h1:!0,h2:!0,h3:!0,h4:!0,h5:!0,h6:!0,header:!0,hgroup:!0,hr:!0,menu:!0,nav:!0,ol:!0,p:!0,pre:!0,section:!0,table:!0,ul:!0},rp:{rp:!0,rt:!0},rt:{rp:!0,rt:!0},tbody:{tbody:!0,tfoot:!0},td:{td:!0,th:!0},tfoot:{tbody:!0},th:{td:!0,th:!0},thead:{tbody:!0,tfoot:!0},tr:{tr:!0}},doNotIndent:{pre:!0},allowUnquoted:!0,allowMissing:!0,caseFold:!0},S={autoSelfClosers:{},implicitlyClosed:{},contextGrabbers:{},doNotIndent:{},allowUnquoted:!1,allowMissing:!1,allowMissingTagName:!1,caseFold:!1};x.defineMode("xml",function(e,t){var o,s,i,r=e.indentUnit,a={},n=t.htmlMode?C:S;for(i in n)a[i]=n[i];for(i in t)a[i]=t[i];function l(t,i){function e(e){return(i.tokenize=e)(t,i)}var n=t.next();return"<"==n?t.eat("!")?t.eat("[")?t.match("CDATA[")?e(c("atom","]]>")):null:t.match("--")?e(c("comment","--\x3e")):t.match("DOCTYPE",!0,!0)?(t.eatWhile(/[\w\._\-]/),e(function n(o){return function(e,t){for(var i;null!=(i=e.next());){if("<"==i)return t.tokenize=n(o+1),t.tokenize(e,t);if(">"==i){if(1!=o)return t.tokenize=n(o-1),t.tokenize(e,t);t.tokenize=l;break}}return"meta"}}(1))):null:t.eat("?")?(t.eatWhile(/[\w\._\-]/),i.tokenize=c("meta","?>"),"meta"):(o=t.eat("/")?"closeTag":"openTag",i.tokenize=d,"tag bracket"):"&"!=n?(t.eatWhile(/[^&<]/),null):(t.eat("#")?t.eat("x")?t.eatWhile(/[a-fA-F\d]/)&&t.eat(";"):t.eatWhile(/[\d]/)&&t.eat(";"):t.eatWhile(/[\w\.\-:]/)&&t.eat(";"))?"atom":"error"}function d(e,t){var i=e.next();if(">"==i||"/"==i&&e.eat(">"))return t.tokenize=l,o=">"==i?"endTag":"selfcloseTag","tag bracket";if("="==i)return o="equals",null;if("<"!=i)return/[\'\"]/.test(i)?(t.tokenize=(n=i,(i=function(e,t){for(;!e.eol();)if(e.next()==n){t.tokenize=d;break}return"string"}).isInAttribute=!0,i),t.stringStartCol=e.column(),t.tokenize(e,t)):(e.match(/^[^\s\u00a0=<>\"\']*[^\s\u00a0=<>\"\'\/]/),"word");t.tokenize=l,t.state=p,t.tagName=t.tagStart=null;var n,i=t.tokenize(e,t);return i?i+" tag error":"tag error"}function c(i,n){return function(e,t){for(;!e.eol();){if(e.match(n)){t.tokenize=l;break}e.next()}return i}}function h(e){e.context&&(e.context=e.context.prev)}function u(e,t){for(var i;;){if(!e.context)return;if(i=e.context.tagName,!a.contextGrabbers.hasOwnProperty(i)||!a.contextGrabbers[i].hasOwnProperty(t))return;h(e)}}function p(e,t,i){return"openTag"==e?(i.tagStart=t.column(),m):"closeTag"==e?f:p}function m(e,t,i){return"word"==e?(i.tagName=t.current(),s="tag",b):a.allowMissingTagName&&"endTag"==e?(s="tag bracket",b(e,0,i)):(s="error",m)}function f(e,t,i){return"word"!=e?a.allowMissingTagName&&"endTag"==e?(s="tag bracket",g(e,0,i)):(s="error",v):(e=t.current(),i.context&&i.context.tagName!=e&&a.implicitlyClosed.hasOwnProperty(i.context.tagName)&&h(i),i.context&&i.context.tagName==e||!1===a.matchClosing?(s="tag",g):(s="tag error",v))}function g(e,t,i){return"endTag"!=e?(s="error",g):(h(i),p)}function v(e,t,i){return s="error",g(e,0,i)}function b(e,t,i){var n,o;return"word"==e?(s="attribute",y):"endTag"!=e&&"selfcloseTag"!=e?(s="error",b):(n=i.tagName,o=i.tagStart,i.tagName=i.tagStart=null,"selfcloseTag"==e||a.autoSelfClosers.hasOwnProperty(n)?u(i,n):(u(i,n),i.context=new function(e,t,i){this.prev=e.context,this.tagName=t,this.indent=e.indented,this.startOfLine=i,(a.doNotIndent.hasOwnProperty(t)||e.context&&e.context.noIndent)&&(this.noIndent=!0)}(i,n,o==i.indented)),p)}function y(e,t,i){return"equals"==e?_:(a.allowMissing||(s="error"),b(e,0,i))}function _(e,t,i){return"string"==e?w:"word"==e&&a.allowUnquoted?(s="string",b):(s="error",b(e,0,i))}function w(e,t,i){return"string"==e?w:b(e,0,i)}return l.isInText=!0,{startState:function(e){var t={tokenize:l,state:p,indented:e||0,tagName:null,tagStart:null,context:null};return null!=e&&(t.baseIndent=e),t},token:function(e,t){if(!t.tagName&&e.sol()&&(t.indented=e.indentation()),e.eatSpace())return null;o=null;var i=t.tokenize(e,t);return i=(i||o)&&"comment"!=i&&(s=null,t.state=t.state(o||i,e,t),s)?"error"==s?i+" error":s:i},indent:function(e,t,i){var n=e.context;if(e.tokenize.isInAttribute)return e.tagStart==e.indented?e.stringStartCol+1:e.indented+r;if(n&&n.noIndent)return x.Pass;if(e.tokenize!=d&&e.tokenize!=l)return i?i.match(/^(\s*)/)[0].length:0;if(e.tagName)return!1!==a.multilineTagIndentPastTag?e.tagStart+e.tagName.length+2:e.tagStart+r*(a.multilineTagIndentFactor||1);if(a.alignCDATA&&/<!\[CDATA\[/.test(t))return 0;var o=t&&/^<(\/)?([\w_:\.-]*)/.exec(t);if(o&&o[1])for(;n;){if(n.tagName==o[2]){n=n.prev;break}if(!a.implicitlyClosed.hasOwnProperty(n.tagName))break;n=n.prev}else if(o)for(;n;){var s=a.contextGrabbers[n.tagName];if(!s||!s.hasOwnProperty(o[2]))break;n=n.prev}for(;n&&n.prev&&!n.startOfLine;)n=n.prev;return n?n.indent+r:e.baseIndent||0},electricInput:/<\/[\s\w:]+>$/,blockCommentStart:"\x3c!--",blockCommentEnd:"--\x3e",configuration:a.htmlMode?"html":"xml",helperType:a.htmlMode?"html":"xml",skipAttribute:function(e){e.state==_&&(e.state=b)}}}),x.defineMIME("text/xml","xml"),x.defineMIME("application/xml","xml"),x.mimeModes.hasOwnProperty("text/html")||x.defineMIME("text/html",{name:"xml",htmlMode:!0})}("object"==typeof i&&"object"==typeof t?e("../../lib/codemirror"):CodeMirror)},{"../../lib/codemirror":11}],16:[function(e,t,i){i.read=function(e,t,i,n,o){var s,r,a=8*o-n-1,l=(1<<a)-1,d=l>>1,c=-7,h=i?o-1:0,u=i?-1:1,o=e[t+h];for(h+=u,s=o&(1<<-c)-1,o>>=-c,c+=a;0<c;s=256*s+e[t+h],h+=u,c-=8);for(r=s&(1<<-c)-1,s>>=-c,c+=n;0<c;r=256*r+e[t+h],h+=u,c-=8);if(0===s)s=1-d;else{if(s===l)return r?NaN:1/0*(o?-1:1);r+=Math.pow(2,n),s-=d}return(o?-1:1)*r*Math.pow(2,s-n)},i.write=function(e,t,i,n,o,s){var r,a,l=8*s-o-1,d=(1<<l)-1,c=d>>1,h=23===o?Math.pow(2,-24)-Math.pow(2,-77):0,u=n?0:s-1,p=n?1:-1,s=t<0||0===t&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(a=isNaN(t)?1:0,r=d):(r=Math.floor(Math.log(t)/Math.LN2),t*(n=Math.pow(2,-r))<1&&(r--,n*=2),2<=(t+=1<=r+c?h/n:h*Math.pow(2,1-c))*n&&(r++,n/=2),d<=r+c?(a=0,r=d):1<=r+c?(a=(t*n-1)*Math.pow(2,o),r+=c):(a=t*Math.pow(2,c-1)*Math.pow(2,o),r=0));8<=o;e[i+u]=255&a,u+=p,a/=256,o-=8);for(r=r<<o|a,l+=o;0<l;e[i+u]=255&r,u+=p,r/=256,l-=8);e[i+u-p]|=128*s}},{}],17:[function(e,y,_){!function(e){!function(e){"use strict";var m={newline:/^\n+/,code:/^( {4}[^\n]+\n*)+/,fences:p,hr:/^ {0,3}((?:- *){3,}|(?:_ *){3,}|(?:\* *){3,})(?:\n+|$)/,heading:/^ *(#{1,6}) *([^\n]+?) *(?:#+ *)?(?:\n+|$)/,nptable:p,blockquote:/^( {0,3}> ?(paragraph|[^\n]*)(?:\n|$))+/,list:/^( *)(bull) [\s\S]+?(?:hr|def|\n{2,}(?! )(?!\1bull )\n*|\s*$)/,html:"^ {0,3}(?:<(script|pre|style)[\\s>][\\s\\S]*?(?:</\\1>[^\\n]*\\n+|$)|comment[^\\n]*(\\n+|$)|<\\?[\\s\\S]*?\\?>\\n*|<![A-Z][\\s\\S]*?>\\n*|<!\\[CDATA\\[[\\s\\S]*?\\]\\]>\\n*|</?(tag)(?: +|\\n|/?>)[\\s\\S]*?(?:\\n{2,}|$)|<(?!script|pre|style)([a-z][\\w-]*)(?:attribute)*? */?>(?=\\h*\\n)[\\s\\S]*?(?:\\n{2,}|$)|</(?!script|pre|style)[a-z][\\w-]*\\s*>(?=\\h*\\n)[\\s\\S]*?(?:\\n{2,}|$))",def:/^ {0,3}\[(label)\]: *\n? *<?([^\s>]+)>?(?:(?: +\n? *| *\n *)(title))? *(?:\n+|$)/,table:p,lheading:/^([^\n]+)\n *(=|-){2,} *(?:\n+|$)/,paragraph:/^([^\n]+(?:\n(?!hr|heading|lheading| {0,3}>|<\/?(?:tag)(?: +|\n|\/?>)|<(?:script|pre|style|!--))[^\n]+)*)/,text:/^[^\n]+/};function l(e){this.tokens=[],this.tokens.links=Object.create(null),this.options=e||b.defaults,this.rules=m.normal,this.options.pedantic?this.rules=m.pedantic:this.options.gfm&&(this.options.tables?this.rules=m.tables:this.rules=m.gfm)}m._label=/(?!\s*\])(?:\\[\[\]]|[^\[\]])+/,m._title=/(?:"(?:\\"?|[^"\\])*"|'[^'\n]*(?:\n[^'\n]+)*\n?'|\([^()]*\))/,m.def=t(m.def).replace("label",m._label).replace("title",m._title).getRegex(),m.bullet=/(?:[*+-]|\d+\.)/,m.item=/^( *)(bull) [^\n]*(?:\n(?!\1bull )[^\n]*)*/,m.item=t(m.item,"gm").replace(/bull/g,m.bullet).getRegex(),m.list=t(m.list).replace(/bull/g,m.bullet).replace("hr","\\n+(?=\\1?(?:(?:- *){3,}|(?:_ *){3,}|(?:\\* *){3,})(?:\\n+|$))").replace("def","\\n+(?="+m.def.source+")").getRegex(),m._tag="address|article|aside|base|basefont|blockquote|body|caption|center|col|colgroup|dd|details|dialog|dir|div|dl|dt|fieldset|figcaption|figure|footer|form|frame|frameset|h[1-6]|head|header|hr|html|iframe|legend|li|link|main|menu|menuitem|meta|nav|noframes|ol|optgroup|option|p|param|section|source|summary|table|tbody|td|tfoot|th|thead|title|tr|track|ul",m._comment=/<!--(?!-?>)[\s\S]*?-->/,m.html=t(m.html,"i").replace("comment",m._comment).replace("tag",m._tag).replace("attribute",/ +[a-zA-Z:_][\w.:-]*(?: *= *"[^"\n]*"| *= *'[^'\n]*'| *= *[^\s"'=<>`]+)?/).getRegex(),m.paragraph=t(m.paragraph).replace("hr",m.hr).replace("heading",m.heading).replace("lheading",m.lheading).replace("tag",m._tag).getRegex(),m.blockquote=t(m.blockquote).replace("paragraph",m.paragraph).getRegex(),m.normal=f({},m),m.gfm=f({},m.normal,{fences:/^ *(`{3,}|~{3,})[ \.]*(\S+)? *\n([\s\S]*?)\n? *\1 *(?:\n+|$)/,paragraph:/^/,heading:/^ *(#{1,6}) +([^\n]+?) *#* *(?:\n+|$)/}),m.gfm.paragraph=t(m.paragraph).replace("(?!","(?!"+m.gfm.fences.source.replace("\\1","\\2")+"|"+m.list.source.replace("\\1","\\3")+"|").getRegex(),m.tables=f({},m.gfm,{nptable:/^ *([^|\n ].*\|.*)\n *([-:]+ *\|[-| :]*)(?:\n((?:.*[^>\n ].*(?:\n|$))*)\n*|$)/,table:/^ *\|(.+)\n *\|?( *[-:]+[-| :]*)(?:\n((?: *[^>\n ].*(?:\n|$))*)\n*|$)/}),m.pedantic=f({},m.normal,{html:t("^ *(?:comment *(?:\\n|\\s*$)|<(tag)[\\s\\S]+?</\\1> *(?:\\n{2,}|\\s*$)|<tag(?:\"[^\"]*\"|'[^']*'|\\s[^'\"/>\\s]*)*?/?> *(?:\\n{2,}|\\s*$))").replace("comment",m._comment).replace(/tag/g,"(?!(?:a|em|strong|small|s|cite|q|dfn|abbr|data|time|code|var|samp|kbd|sub|sup|i|b|u|mark|ruby|rt|rp|bdi|bdo|span|br|wbr|ins|del|img)\\b)\\w+(?!:|[^\\w\\s@]*@)\\b").getRegex(),def:/^ *\[([^\]]+)\]: *<?([^\s>]+)>?(?: +(["(][^\n]+[")]))? *(?:\n+|$)/}),l.rules=m,l.lex=function(e,t){return new l(t).lex(e)},l.prototype.lex=function(e){return e=e.replace(/\r\n|\r/g,"\n").replace(/\t/g,"    ").replace(/\u00a0/g," ").replace(/\u2424/g,"\n"),this.token(e,!0)},l.prototype.token=function(e,t){var i,n,o,s,r,a,l,d,c,h,u,p;for(e=e.replace(/^ +$/gm,"");e;)if((n=this.rules.newline.exec(e))&&(e=e.substring(n[0].length),1<n[0].length)&&this.tokens.push({type:"space"}),n=this.rules.code.exec(e))e=e.substring(n[0].length),n=n[0].replace(/^ {4}/gm,""),this.tokens.push({type:"code",text:this.options.pedantic?n:v(n,"\n")});else if(n=this.rules.fences.exec(e))e=e.substring(n[0].length),this.tokens.push({type:"code",lang:n[2],text:n[3]||""});else if(n=this.rules.heading.exec(e))e=e.substring(n[0].length),this.tokens.push({type:"heading",depth:n[1].length,text:n[2]});else if(t&&(n=this.rules.nptable.exec(e))&&(s={type:"table",header:g(n[1].replace(/^ *| *\| *$/g,"")),align:n[2].replace(/^ *|\| *$/g,"").split(/ *\| */),cells:n[3]?n[3].replace(/\n$/,"").split("\n"):[]}).header.length===s.align.length){for(e=e.substring(n[0].length),d=0;d<s.align.length;d++)/^ *-+: *$/.test(s.align[d])?s.align[d]="right":/^ *:-+: *$/.test(s.align[d])?s.align[d]="center":/^ *:-+ *$/.test(s.align[d])?s.align[d]="left":s.align[d]=null;for(d=0;d<s.cells.length;d++)s.cells[d]=g(s.cells[d],s.header.length);this.tokens.push(s)}else if(n=this.rules.hr.exec(e))e=e.substring(n[0].length),this.tokens.push({type:"hr"});else if(n=this.rules.blockquote.exec(e))e=e.substring(n[0].length),this.tokens.push({type:"blockquote_start"}),n=n[0].replace(/^ *> ?/gm,""),this.token(n,t),this.tokens.push({type:"blockquote_end"});else if(n=this.rules.list.exec(e)){for(e=e.substring(n[0].length),r={type:"list_start",ordered:h=1<(o=n[2]).length,start:h?+o:"",loose:!1},this.tokens.push(r),i=!(a=[]),c=(n=n[0].match(this.rules.item)).length,d=0;d<c;d++)l=(s=n[d]).length,~(s=s.replace(/^ *([*+-]|\d+\.) +/,"")).indexOf("\n ")&&(l-=s.length,s=this.options.pedantic?s.replace(/^ {1,4}/gm,""):s.replace(new RegExp("^ {1,"+l+"}","gm"),"")),!this.options.smartLists||d===c-1||o===(l=m.bullet.exec(n[d+1])[0])||1<o.length&&1<l.length||(e=n.slice(d+1).join("\n")+e,d=c-1),l=i||/\n\n(?!\s*$)/.test(s),d!==c-1&&(i="\n"===s.charAt(s.length-1),l=l||i),l&&(r.loose=!0),p=void 0,(u=/^\[[ xX]\] /.test(s))&&(p=" "!==s[1],s=s.replace(/^\[[ xX]\] +/,"")),a.push(u={type:"list_item_start",task:u,checked:p,loose:l}),this.tokens.push(u),this.token(s,!1),this.tokens.push({type:"list_item_end"});if(r.loose)for(c=a.length,d=0;d<c;d++)a[d].loose=!0;this.tokens.push({type:"list_end"})}else if(n=this.rules.html.exec(e))e=e.substring(n[0].length),this.tokens.push({type:this.options.sanitize?"paragraph":"html",pre:!this.options.sanitizer&&("pre"===n[1]||"script"===n[1]||"style"===n[1]),text:n[0]});else if(t&&(n=this.rules.def.exec(e)))e=e.substring(n[0].length),n[3]&&(n[3]=n[3].substring(1,n[3].length-1)),h=n[1].toLowerCase().replace(/\s+/g," "),this.tokens.links[h]||(this.tokens.links[h]={href:n[2],title:n[3]});else if(t&&(n=this.rules.table.exec(e))&&(s={type:"table",header:g(n[1].replace(/^ *| *\| *$/g,"")),align:n[2].replace(/^ *|\| *$/g,"").split(/ *\| */),cells:n[3]?n[3].replace(/(?: *\| *)?\n$/,"").split("\n"):[]}).header.length===s.align.length){for(e=e.substring(n[0].length),d=0;d<s.align.length;d++)/^ *-+: *$/.test(s.align[d])?s.align[d]="right":/^ *:-+: *$/.test(s.align[d])?s.align[d]="center":/^ *:-+ *$/.test(s.align[d])?s.align[d]="left":s.align[d]=null;for(d=0;d<s.cells.length;d++)s.cells[d]=g(s.cells[d].replace(/^ *\| *| *\| *$/g,""),s.header.length);this.tokens.push(s)}else if(n=this.rules.lheading.exec(e))e=e.substring(n[0].length),this.tokens.push({type:"heading",depth:"="===n[2]?1:2,text:n[1]});else if(t&&(n=this.rules.paragraph.exec(e)))e=e.substring(n[0].length),this.tokens.push({type:"paragraph",text:"\n"===n[1].charAt(n[1].length-1)?n[1].slice(0,-1):n[1]});else if(n=this.rules.text.exec(e))e=e.substring(n[0].length),this.tokens.push({type:"text",text:n[0]});else if(e)throw new Error("Infinite loop on byte: "+e.charCodeAt(0));return this.tokens};var i={escape:/^\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/,autolink:/^<(scheme:[^\s\x00-\x1f<>]*|email)>/,url:p,tag:"^comment|^</[a-zA-Z][\\w:-]*\\s*>|^<[a-zA-Z][\\w-]*(?:attribute)*?\\s*/?>|^<\\?[\\s\\S]*?\\?>|^<![a-zA-Z]+\\s[\\s\\S]*?>|^<!\\[CDATA\\[[\\s\\S]*?\\]\\]>",link:/^!?\[(label)\]\(href(?:\s+(title))?\s*\)/,reflink:/^!?\[(label)\]\[(?!\s*\])((?:\\[\[\]]?|[^\[\]\\])+)\]/,nolink:/^!?\[(?!\s*\])((?:\[[^\[\]]*\]|\\[\[\]]|[^\[\]])*)\](?:\[\])?/,strong:/^__([^\s])__(?!_)|^\*\*([^\s])\*\*(?!\*)|^__([^\s][\s\S]*?[^\s])__(?!_)|^\*\*([^\s][\s\S]*?[^\s])\*\*(?!\*)/,em:/^_([^\s_])_(?!_)|^\*([^\s*"<\[])\*(?!\*)|^_([^\s][\s\S]*?[^\s_])_(?!_)|^_([^\s_][\s\S]*?[^\s])_(?!_)|^\*([^\s"<\[][\s\S]*?[^\s*])\*(?!\*)|^\*([^\s*"<\[][\s\S]*?[^\s])\*(?!\*)/,code:/^(`+)([^`]|[^`][\s\S]*?[^`])\1(?!`)/,br:/^( {2,}|\\)\n(?!\s*$)/,del:p,text:/^(`+|[^`])[\s\S]*?(?=[\\<!\[`*]|\b_| {2,}\n|$)/};function d(e,t){if(this.options=t||b.defaults,this.links=e,this.rules=i.normal,this.renderer=this.options.renderer||new n,this.renderer.options=this.options,!this.links)throw new Error("Tokens array requires a `links` property.");this.options.pedantic?this.rules=i.pedantic:this.options.gfm&&(this.options.breaks?this.rules=i.breaks:this.rules=i.gfm)}function n(e){this.options=e||b.defaults}function o(){}function c(e){this.tokens=[],this.token=null,this.options=e||b.defaults,this.options.renderer=this.options.renderer||new n,this.renderer=this.options.renderer,this.renderer.options=this.options}function h(e,t){if(t){if(h.escapeTest.test(e))return e.replace(h.escapeReplace,function(e){return h.replacements[e]})}else if(h.escapeTestNoEncode.test(e))return e.replace(h.escapeReplaceNoEncode,function(e){return h.replacements[e]});return e}function u(e){return e.replace(/&(#(?:\d+)|(?:#x[0-9A-Fa-f]+)|(?:\w+));?/gi,function(e,t){return"colon"===(t=t.toLowerCase())?":":"#"===t.charAt(0)?"x"===t.charAt(1)?String.fromCharCode(parseInt(t.substring(2),16)):String.fromCharCode(+t.substring(1)):""})}function t(i,e){return i=i.source||i,e=e||"",{replace:function(e,t){return t=(t=t.source||t).replace(/(^|[^\[])\^/g,"$1"),i=i.replace(e,t),this},getRegex:function(){return new RegExp(i,e)}}}function s(e,t){return r[" "+e]||(/^[^:]+:\/*[^/]*$/.test(e)?r[" "+e]=e+"/":r[" "+e]=v(e,"/",!0)),e=r[" "+e],"//"===t.slice(0,2)?e.replace(/:[\s\S]*/,":")+t:"/"===t.charAt(0)?e.replace(/(:\/*[^/]*)[\s\S]*/,"$1")+t:e+t}i._escapes=/\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/g,i._scheme=/[a-zA-Z][a-zA-Z0-9+.-]{1,31}/,i._email=/[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+(@)[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)+(?![-_])/,i.autolink=t(i.autolink).replace("scheme",i._scheme).replace("email",i._email).getRegex(),i._attribute=/\s+[a-zA-Z:_][\w.:-]*(?:\s*=\s*"[^"]*"|\s*=\s*'[^']*'|\s*=\s*[^\s"'=<>`]+)?/,i.tag=t(i.tag).replace("comment",m._comment).replace("attribute",i._attribute).getRegex(),i._label=/(?:\[[^\[\]]*\]|\\[\[\]]?|`[^`]*`|[^\[\]\\])*?/,i._href=/\s*(<(?:\\[<>]?|[^\s<>\\])*>|(?:\\[()]?|\([^\s\x00-\x1f\\]*\)|[^\s\x00-\x1f()\\])*?)/,i._title=/"(?:\\"?|[^"\\])*"|'(?:\\'?|[^'\\])*'|\((?:\\\)?|[^)\\])*\)/,i.link=t(i.link).replace("label",i._label).replace("href",i._href).replace("title",i._title).getRegex(),i.reflink=t(i.reflink).replace("label",i._label).getRegex(),i.normal=f({},i),i.pedantic=f({},i.normal,{strong:/^__(?=\S)([\s\S]*?\S)__(?!_)|^\*\*(?=\S)([\s\S]*?\S)\*\*(?!\*)/,em:/^_(?=\S)([\s\S]*?\S)_(?!_)|^\*(?=\S)([\s\S]*?\S)\*(?!\*)/,link:t(/^!?\[(label)\]\((.*?)\)/).replace("label",i._label).getRegex(),reflink:t(/^!?\[(label)\]\s*\[([^\]]*)\]/).replace("label",i._label).getRegex()}),i.gfm=f({},i.normal,{escape:t(i.escape).replace("])","~|])").getRegex(),_extended_email:/[A-Za-z0-9._+-]+(@)[a-zA-Z0-9-_]+(?:\.[a-zA-Z0-9-_]*[a-zA-Z0-9])+(?![-_])/,url:/^((?:ftp|https?):\/\/|www\.)(?:[a-zA-Z0-9\-]+\.?)+[^\s<]*|^email/,_backpedal:/(?:[^?!.,:;*_~()&]+|\([^)]*\)|&(?![a-zA-Z0-9]+;$)|[?!.,:;*_~)]+(?!$))+/,del:/^~+(?=\S)([\s\S]*?\S)~+/,text:t(i.text).replace("]|","~]|").replace("|$","|https?://|ftp://|www\\.|[a-zA-Z0-9.!#$%&'*+/=?^_`{\\|}~-]+@|$").getRegex()}),i.gfm.url=t(i.gfm.url).replace("email",i.gfm._extended_email).getRegex(),i.breaks=f({},i.gfm,{br:t(i.br).replace("{2,}","*").getRegex(),text:t(i.gfm.text).replace("{2,}","*").getRegex()}),d.rules=i,d.output=function(e,t,i){return new d(t,i).output(e)},d.prototype.output=function(e){for(var t,i,n,o,s,r,a="";e;)if(s=this.rules.escape.exec(e))e=e.substring(s[0].length),a+=s[1];else if(s=this.rules.autolink.exec(e))e=e.substring(s[0].length),n="@"===s[2]?"mailto:"+(i=h(this.mangle(s[1]))):i=h(s[1]),a+=this.renderer.link(n,null,i);else if(this.inLink||!(s=this.rules.url.exec(e))){if(s=this.rules.tag.exec(e))!this.inLink&&/^<a /i.test(s[0])?this.inLink=!0:this.inLink&&/^<\/a>/i.test(s[0])&&(this.inLink=!1),!this.inRawBlock&&/^<(pre|code|kbd|script)(\s|>)/i.test(s[0])?this.inRawBlock=!0:this.inRawBlock&&/^<\/(pre|code|kbd|script)(\s|>)/i.test(s[0])&&(this.inRawBlock=!1),e=e.substring(s[0].length),a+=this.options.sanitize?this.options.sanitizer?this.options.sanitizer(s[0]):h(s[0]):s[0];else if(s=this.rules.link.exec(e))e=e.substring(s[0].length),this.inLink=!0,n=s[2],o=this.options.pedantic?(t=/^([^'"]*[^\s])\s+(['"])(.*)\2/.exec(n))?(n=t[1],t[3]):"":s[3]?s[3].slice(1,-1):"",n=n.trim().replace(/^<([\s\S]*)>$/,"$1"),a+=this.outputLink(s,{href:d.escapes(n),title:d.escapes(o)}),this.inLink=!1;else if(s=(s=this.rules.reflink.exec(e))||this.rules.nolink.exec(e)){if(e=e.substring(s[0].length),t=(s[2]||s[1]).replace(/\s+/g," "),!(t=this.links[t.toLowerCase()])||!t.href){a+=s[0].charAt(0),e=s[0].substring(1)+e;continue}this.inLink=!0,a+=this.outputLink(s,t),this.inLink=!1}else if(s=this.rules.strong.exec(e))e=e.substring(s[0].length),a+=this.renderer.strong(this.output(s[4]||s[3]||s[2]||s[1]));else if(s=this.rules.em.exec(e))e=e.substring(s[0].length),a+=this.renderer.em(this.output(s[6]||s[5]||s[4]||s[3]||s[2]||s[1]));else if(s=this.rules.code.exec(e))e=e.substring(s[0].length),a+=this.renderer.codespan(h(s[2].trim(),!0));else if(s=this.rules.br.exec(e))e=e.substring(s[0].length),a+=this.renderer.br();else if(s=this.rules.del.exec(e))e=e.substring(s[0].length),a+=this.renderer.del(this.output(s[1]));else if(s=this.rules.text.exec(e))e=e.substring(s[0].length),this.inRawBlock?a+=this.renderer.text(s[0]):a+=this.renderer.text(h(this.smartypants(s[0])));else if(e)throw new Error("Infinite loop on byte: "+e.charCodeAt(0))}else{if("@"===s[2])n="mailto:"+(i=h(s[0]));else{for(;r=s[0],s[0]=this.rules._backpedal.exec(s[0])[0],r!==s[0];);i=h(s[0]),n="www."===s[1]?"http://"+i:i}e=e.substring(s[0].length),a+=this.renderer.link(n,null,i)}return a},d.escapes=function(e){return e&&e.replace(d.rules._escapes,"$1")},d.prototype.outputLink=function(e,t){var i=t.href,t=t.title?h(t.title):null;return"!"!==e[0].charAt(0)?this.renderer.link(i,t,this.output(e[1])):this.renderer.image(i,t,h(e[1]))},d.prototype.smartypants=function(e){return this.options.smartypants?e.replace(/---/g,"â").replace(/--/g,"â").replace(/(^|[-\u2014/(\[{"\s])'/g,"$1â").replace(/'/g,"â").replace(/(^|[-\u2014/(\[{\u2018\s])"/g,"$1â").replace(/"/g,"â").replace(/\.{3}/g,"â¦"):e},d.prototype.mangle=function(e){if(!this.options.mangle)return e;for(var t,i="",n=e.length,o=0;o<n;o++)t=e.charCodeAt(o),i+="&#"+(t=.5<Math.random()?"x"+t.toString(16):t)+";";return i},n.prototype.code=function(e,t,i){var n;return this.options.highlight&&null!=(n=this.options.highlight(e,t))&&n!==e&&(i=!0,e=n),t?'<pre><code class="'+this.options.langPrefix+h(t,!0)+'">'+(i?e:h(e,!0))+"</code></pre>\n":"<pre><code>"+(i?e:h(e,!0))+"</code></pre>"},n.prototype.blockquote=function(e){return"<blockquote>\n"+e+"</blockquote>\n"},n.prototype.html=function(e){return e},n.prototype.heading=function(e,t,i){return this.options.headerIds?"<h"+t+' id="'+this.options.headerPrefix+i.toLowerCase().replace(/[^\w]+/g,"-")+'">'+e+"</h"+t+">\n":"<h"+t+">"+e+"</h"+t+">\n"},n.prototype.hr=function(){return this.options.xhtml?"<hr/>\n":"<hr>\n"},n.prototype.list=function(e,t,i){var n=t?"ol":"ul";return"<"+n+(t&&1!==i?' start="'+i+'"':"")+">\n"+e+"</"+n+">\n"},n.prototype.listitem=function(e){return"<li>"+e+"</li>\n"},n.prototype.checkbox=function(e){return"<input "+(e?'checked="" ':"")+'disabled="" type="checkbox"'+(this.options.xhtml?" /":"")+"> "},n.prototype.paragraph=function(e){return"<p>"+e+"</p>\n"},n.prototype.table=function(e,t){return"<table>\n<thead>\n"+e+"</thead>\n"+(t=t&&"<tbody>"+t+"</tbody>")+"</table>\n"},n.prototype.tablerow=function(e){return"<tr>\n"+e+"</tr>\n"},n.prototype.tablecell=function(e,t){var i=t.header?"th":"td";return(t.align?"<"+i+' align="'+t.align+'">':"<"+i+">")+e+"</"+i+">\n"},n.prototype.strong=function(e){return"<strong>"+e+"</strong>"},n.prototype.em=function(e){return"<em>"+e+"</em>"},n.prototype.codespan=function(e){return"<code>"+e+"</code>"},n.prototype.br=function(){return this.options.xhtml?"<br/>":"<br>"},n.prototype.del=function(e){return"<del>"+e+"</del>"},n.prototype.link=function(e,t,i){if(this.options.sanitize){try{var n=decodeURIComponent(u(e)).replace(/[^\w:]/g,"").toLowerCase()}catch(e){return i}if(0===n.indexOf("javascript:")||0===n.indexOf("vbscript:")||0===n.indexOf("data:"))return i}this.options.baseUrl&&!a.test(e)&&(e=s(this.options.baseUrl,e));try{e=encodeURI(e).replace(/%25/g,"%")}catch(e){return i}n='<a href="'+h(e)+'"';return t&&(n+=' title="'+t+'"'),n+">"+i+"</a>"},n.prototype.image=function(e,t,i){e='<img src="'+(e=this.options.baseUrl&&!a.test(e)?s(this.options.baseUrl,e):e)+'" alt="'+i+'"';return t&&(e+=' title="'+t+'"'),e+(this.options.xhtml?"/>":">")},n.prototype.text=function(e){return e},o.prototype.strong=o.prototype.em=o.prototype.codespan=o.prototype.del=o.prototype.text=function(e){return e},o.prototype.link=o.prototype.image=function(e,t,i){return""+i},o.prototype.br=function(){return""},c.parse=function(e,t){return new c(t).parse(e)},c.prototype.parse=function(e){this.inline=new d(e.links,this.options),this.inlineText=new d(e.links,f({},this.options,{renderer:new o})),this.tokens=e.reverse();for(var t="";this.next();)t+=this.tok();return t},c.prototype.next=function(){return this.token=this.tokens.pop()},c.prototype.peek=function(){return this.tokens[this.tokens.length-1]||0},c.prototype.parseText=function(){for(var e=this.token.text;"text"===this.peek().type;)e+="\n"+this.next().text;return this.inline.output(e)},c.prototype.tok=function(){switch(this.token.type){case"space":return"";case"hr":return this.renderer.hr();case"heading":return this.renderer.heading(this.inline.output(this.token.text),this.token.depth,u(this.inlineText.output(this.token.text)));case"code":return this.renderer.code(this.token.text,this.token.lang,this.token.escaped);case"table":for(var e,t,i="",n="",o="",s=0;s<this.token.header.length;s++)o+=this.renderer.tablecell(this.inline.output(this.token.header[s]),{header:!0,align:this.token.align[s]});for(i+=this.renderer.tablerow(o),s=0;s<this.token.cells.length;s++){for(e=this.token.cells[s],o="",t=0;t<e.length;t++)o+=this.renderer.tablecell(this.inline.output(e[t]),{header:!1,align:this.token.align[t]});n+=this.renderer.tablerow(o)}return this.renderer.table(i,n);case"blockquote_start":for(n="";"blockquote_end"!==this.next().type;)n+=this.tok();return this.renderer.blockquote(n);case"list_start":for(var n="",i=this.token.ordered,r=this.token.start;"list_end"!==this.next().type;)n+=this.tok();return this.renderer.list(n,i,r);case"list_item_start":n="";var a=this.token.loose;for(this.token.task&&(n+=this.renderer.checkbox(this.token.checked));"list_item_end"!==this.next().type;)n+=a||"text"!==this.token.type?this.tok():this.parseText();return this.renderer.listitem(n);case"html":return this.renderer.html(this.token.text);case"paragraph":return this.renderer.paragraph(this.inline.output(this.token.text));case"text":return this.renderer.paragraph(this.parseText())}},h.escapeTest=/[&<>"']/,h.escapeReplace=/[&<>"']/g,h.replacements={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},h.escapeTestNoEncode=/[<>"']|&(?!#?\w+;)/,h.escapeReplaceNoEncode=/[<>"']|&(?!#?\w+;)/g;var r={},a=/^$|^[a-z][a-z0-9+.-]*:|^[?#]/i;function p(){}function f(e){for(var t,i,n=1;n<arguments.length;n++)for(i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}function g(e,t){var i=e.replace(/\|/g,function(e,t,i){for(var n=!1,o=t;0<=--o&&"\\"===i[o];)n=!n;return n?"|":" |"}).split(/ \|/),n=0;if(i.length>t)i.splice(t);else for(;i.length<t;)i.push("");for(;n<i.length;n++)i[n]=i[n].trim().replace(/\\\|/g,"|");return i}function v(e,t,i){if(0===e.length)return"";for(var n=0;n<e.length;){var o=e.charAt(e.length-n-1);if((o!==t||i)&&(o===t||!i))break;n++}return e.substr(0,e.length-n)}function b(e,i,n){if(null==e)throw new Error("marked(): input parameter is undefined or null");if("string"!=typeof e)throw new Error("marked(): input parameter is of type "+Object.prototype.toString.call(e)+", string expected");if(n||"function"==typeof i){n||(n=i,i=null);var o,s=(i=f({},b.defaults,i||{})).highlight,t=0;try{o=l.lex(e,i)}catch(e){return n(e)}var r=o.length,a=function(e){if(e)return i.highlight=s,n(e);var t;try{t=c.parse(o,i)}catch(t){e=t}return i.highlight=s,e?n(e):n(null,t)};if(!s||s.length<3)return a();if(delete i.highlight,!r)return a();for(;t<o.length;t++)!function(i){"code"!==i.type?--r||a():s(i.text,i.lang,function(e,t){return e?a(e):null==t||t===i.text?--r||a():(i.text=t,i.escaped=!0,void(--r||a()))})}(o[t])}else try{return i=i&&f({},b.defaults,i),c.parse(l.lex(e,i),i)}catch(e){if(e.message+="\nPlease report this to https://github.com/markedjs/marked.",(i||b.defaults).silent)return"<p>An error occurred:</p><pre>"+h(e.message+"",!0)+"</pre>";throw e}}p.exec=p,b.options=b.setOptions=function(e){return f(b.defaults,e),b},b.defaults=(b.getDefaults=function(){return{baseUrl:null,breaks:!1,gfm:!0,headerIds:!0,headerPrefix:"",highlight:null,langPrefix:"language-",mangle:!0,pedantic:!1,renderer:new n,sanitize:!1,sanitizer:null,silent:!1,smartLists:!1,smartypants:!1,tables:!0,xhtml:!1}})(),b.Parser=c,b.parser=c.parse,b.Renderer=n,b.TextRenderer=o,b.Lexer=l,b.lexer=l.lex,b.InlineLexer=d,b.inlineLexer=d.output,b.parse=b,void 0!==y&&"object"==typeof _?y.exports=b:e.marked=b}(this||("undefined"!=typeof window?window:e))}.call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],18:[function(d,t,e){!function(l,m){var e;!function(){"use strict";(e=function(e,o,s,r){r=r||{},this.dictionary=null,this.rules={},this.dictionaryTable={},this.compoundRules=[],this.compoundRuleCodes={},this.replacementTable=[],this.flags=r.flags||{},this.memoized={},this.loaded=!1;var t,a,l,d,c,h=this;function i(e,t){e=h._readFile(e,null,r.asyncLoad);r.asyncLoad?e.then(function(e){t(e)}):t(e)}function n(e){o=e,s&&p()}function u(e){s=e,o&&p()}function p(){for(h.rules=h._parseAFF(o),h.compoundRuleCodes={},a=0,d=h.compoundRules.length;a<d;a++){var e=h.compoundRules[a];for(l=0,c=e.length;l<c;l++)h.compoundRuleCodes[e[l]]=[]}for(a in"ONLYINCOMPOUND"in h.flags&&(h.compoundRuleCodes[h.flags.ONLYINCOMPOUND]=[]),h.dictionaryTable=h._parseDIC(s),h.compoundRuleCodes)0===h.compoundRuleCodes[a].length&&delete h.compoundRuleCodes[a];for(a=0,d=h.compoundRules.length;a<d;a++){var t=h.compoundRules[a],i="";for(l=0,c=t.length;l<c;l++){var n=t[l];n in h.compoundRuleCodes?i+="("+h.compoundRuleCodes[n].join("|")+")":i+=n}h.compoundRules[a]=new RegExp(i,"i")}h.loaded=!0,r.asyncLoad&&r.loadedCallback&&r.loadedCallback(h)}return e&&(h.dictionary=e,o&&s?p():"undefined"!=typeof window&&"chrome"in window&&"extension"in window.chrome&&"getURL"in window.chrome.extension?(t=r.dictionaryPath||"typo/dictionaries",o||i(chrome.extension.getURL(t+"/"+e+"/"+e+".aff"),n),s||i(chrome.extension.getURL(t+"/"+e+"/"+e+".dic"),u)):(t=r.dictionaryPath||(void 0!==m?m+"/dictionaries":"./dictionaries"),o||i(t+"/"+e+"/"+e+".aff",n),s||i(t+"/"+e+"/"+e+".dic",u))),this}).prototype={load:function(e){for(var t in e)e.hasOwnProperty(t)&&(this[t]=e[t]);return this},_readFile:function(e,t,i){var n,o;if(t=t||"utf8","undefined"!=typeof XMLHttpRequest)return(o=new XMLHttpRequest).open("GET",e,i),i&&(n=new Promise(function(e,t){o.onload=function(){200===o.status?e(o.responseText):t(o.statusText)},o.onerror=function(){t(o.statusText)}})),o.overrideMimeType&&o.overrideMimeType("text/plain; charset="+t),o.send(null),i?n:o.responseText;if(void 0!==d){var s,r,a,i=d("fs");try{if(i.existsSync(e))return s=i.statSync(e),r=i.openSync(e,"r"),a=new l(s.size),i.readSync(r,a,0,a.length,null),a.toString(t,0,a.length);console.log("Path "+e+" does not exist.")}catch(e){return console.log(e),""}}},_parseAFF:function(e){for(var t,i,n,o,s={},r=(e=this._removeAffixComments(e)).split("\n"),a=0,l=r.length;a<l;a++){var d=(t=r[a]).split(/\s+/),c=d[0];if("PFX"==c||"SFX"==c){for(var h=d[1],u=d[2],p=[],m=(o=a+1)+(i=parseInt(d[3],10));o<m;o++){var f=(n=r[o].split(/\s+/))[2],g=n[3].split("/"),v=g[0],g=("0"===v&&(v=""),this.parseRuleCodes(g[1])),b=n[4],y={};y.add=v,0<g.length&&(y.continuationClasses=g),"."!==b&&(y.match="SFX"===c?new RegExp(b+"$"):new RegExp("^"+b)),"0"!=f&&(y.remove="SFX"===c?new RegExp(f+"$"):f),p.push(y)}s[h]={type:c,combineable:"Y"==u,entries:p},a+=i}else if("COMPOUNDRULE"===c){for(m=(o=a+1)+(i=parseInt(d[1],10));o<m;o++)n=(t=r[o]).split(/\s+/),this.compoundRules.push(n[1]);a+=i}else"REP"===c?3===(n=t.split(/\s+/)).length&&this.replacementTable.push([n[1],n[2]]):this.flags[c]=d[1]}return s},_removeAffixComments:function(e){return(e=(e=(e=e.replace(/^\s*#.*$/gm,"")).replace(/^\s\s*/m,"").replace(/\s\s*$/m,"")).replace(/\n{2,}/g,"\n")).replace(/^\s\s*/,"").replace(/\s\s*$/,"")},_parseDIC:function(e){var t=(e=this._removeDicComments(e)).split("\n"),i={};function n(e,t){i.hasOwnProperty(e)||(i[e]=null),0<t.length&&(null===i[e]&&(i[e]=[]),i[e].push(t))}for(var o=1,s=t.length;o<s;o++){var r=t[o].split("/",2),a=r[0];if(1<r.length){var l=this.parseRuleCodes(r[1]);"NEEDAFFIX"in this.flags&&-1!=l.indexOf(this.flags.NEEDAFFIX)||n(a,l);for(var d=0,c=l.length;d<c;d++){var h=l[d],u=this.rules[h];if(u)for(var p=this._applyRule(a,u),m=0,f=p.length;m<f;m++){var g=p[m];if(n(g,[]),u.combineable)for(var v=d+1;v<c;v++){var b=l[v],b=this.rules[b];if(b&&b.combineable&&u.type!=b.type)for(var y=this._applyRule(g,b),_=0,w=y.length;_<w;_++)n(y[_],[])}}h in this.compoundRuleCodes&&this.compoundRuleCodes[h].push(a)}}else n(a.trim(),[])}return i},_removeDicComments:function(e){return e.replace(/^\t.*$/gm,"")},parseRuleCodes:function(e){if(!e)return[];if(!("FLAG"in this.flags))return e.split("");if("long"!==this.flags.FLAG)return"num"===this.flags.FLAG?e.split(","):void 0;for(var t=[],i=0,n=e.length;i<n;i+=2)t.push(e.substr(i,2));return t},_applyRule:function(e,t){for(var i=t.entries,n=[],o=0,s=i.length;o<s;o++){var r=i[o];if(!r.match||e.match(r.match)){var a=e;if(r.remove&&(a=a.replace(r.remove,"")),"SFX"===t.type?a+=r.add:a=r.add+a,n.push(a),"continuationClasses"in r)for(var l=0,d=r.continuationClasses.length;l<d;l++){var c=this.rules[r.continuationClasses[l]];c&&(n=n.concat(this._applyRule(a,c)))}}}return n},check:function(e){if(!this.loaded)throw"Dictionary not loaded.";e=e.replace(/^\s\s*/,"").replace(/\s\s*$/,"");if(this.checkExact(e))return!0;if(e.toUpperCase()===e){var t=e[0]+e.substring(1).toLowerCase();if(this.hasFlag(t,"KEEPCASE"))return!1;if(this.checkExact(t))return!0}t=e.toLowerCase();if(t!==e){if(this.hasFlag(t,"KEEPCASE"))return!1;if(this.checkExact(t))return!0}return!1},checkExact:function(e){if(!this.loaded)throw"Dictionary not loaded.";var t,i,n=this.dictionaryTable[e];if(void 0===n){if("COMPOUNDMIN"in this.flags&&e.length>=this.flags.COMPOUNDMIN)for(t=0,i=this.compoundRules.length;t<i;t++)if(e.match(this.compoundRules[t]))return!0}else{if(null===n)return!0;if("object"==typeof n)for(t=0,i=n.length;t<i;t++)if(!this.hasFlag(e,"ONLYINCOMPOUND",n[t]))return!0}return!1},hasFlag:function(e,t,i){if(this.loaded)return!!(t in this.flags&&(i=void 0===i?Array.prototype.concat.apply([],this.dictionaryTable[e]):i)&&-1!==i.indexOf(this.flags[t]));throw"Dictionary not loaded."},alphabet:"",suggest:function(e,c){if(!this.loaded)throw"Dictionary not loaded.";if(c=c||5,this.memoized.hasOwnProperty(e)){var t=this.memoized[e].limit;if(c<=t||this.memoized[e].suggestions.length<t)return this.memoized[e].suggestions.slice(0,c)}if(this.check(e))return[];for(var i=0,n=this.replacementTable.length;i<n;i++){var o=this.replacementTable[i];if(-1!==e.indexOf(o[0])){o=e.replace(o[0],o[1]);if(this.check(o))return[o]}}var h=this;function u(e){for(var t,i,n=[],o=0,s=e.length;o<s;o++)for(var r=e[o],a=0,l=r.length+1;a<l;a++){var d=[r.substring(0,a),r.substring(a)];if(d[1]&&n.push(d[0]+d[1].substring(1)),1<d[1].length&&d[1][1]!==d[1][0]&&n.push(d[0]+d[1][1]+d[1][0]+d[1].substring(2)),d[1])for(t=0,i=h.alphabet.length;t<i;t++)h.alphabet[t]!=d[1].substring(0,1)&&n.push(d[0]+h.alphabet[t]+d[1].substring(1));if(d[1])for(t=0,i=h.alphabet.length;t<i;t++)n.push(d[0]+h.alphabet[t]+d[1])}return n}return h.alphabet="abcdefghijklmnopqrstuvwxyz",this.memoized[e]={suggestions:function(e){for(var t=u([e]),i=u(t),n=function(e){for(var t=[],i=0,n=e.length;i<n;i++)h.check(e[i])&&t.push(e[i]);return t}(t.concat(i)),o={},s=0,r=n.length;s<r;s++)n[s]in o?o[n[s]]+=1:o[n[s]]=1;var a=[];for(s in o)o.hasOwnProperty(s)&&a.push([s,o[s]]);a.sort(function(e,t){return e[1]<t[1]?-1:1}).reverse();var l=[],d="lowercase";for(e.toUpperCase()===e?d="uppercase":e.substr(0,1).toUpperCase()+e.substr(1).toLowerCase()===e&&(d="capitalized"),s=0,r=Math.min(c,a.length);s<r;s++)"uppercase"===d?a[s][0]=a[s][0].toUpperCase():"capitalized"===d&&(a[s][0]=a[s][0].substr(0,1).toUpperCase()+a[s][0].substr(1)),h.hasFlag(a[s][0],"NOSUGGEST")||l.push(a[s][0]);return l}(e),limit:c},this.memoized[e].suggestions}}}(),void 0!==t&&(t.exports=e)}.call(this,d("buffer").Buffer,"/node_modules/typo-js")},{buffer:3,fs:2}],19:[function(e,t,i){e=e("codemirror");e.commands.tabAndIndentMarkdownList=function(e){var t=e.listSelections()[0].head;!1!==e.getStateAfter(t.line).list?e.execCommand("indentMore"):e.options.indentWithTabs?e.execCommand("insertTab"):(t=Array(e.options.tabSize+1).join(" "),e.replaceSelection(t))},e.commands.shiftTabAndUnindentMarkdownList=function(e){var t=e.listSelections()[0].head;!1!==e.getStateAfter(t.line).list?e.execCommand("indentLess"):e.options.indentWithTabs?e.execCommand("insertTab"):(t=Array(e.options.tabSize+1).join(" "),e.replaceSelection(t))}},{codemirror:11}],20:[function(e,N,P){"use strict";function d(){var e=!1,t=navigator.userAgent||navigator.vendor||window.opera;return e=/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino|android|ipad|playbook|silk/i.test(t)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw-(n|u)|c55\/|capi|ccwa|cdm-|cell|chtm|cldc|cmd-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc-s|devi|dica|dmob|do(c|p)o|ds(12|-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(-|_)|g1 u|g560|gene|gf-5|g-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd-(m|p|t)|hei-|hi(pt|ta)|hp( i|ip)|hs-c|ht(c(-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i-(20|go|ma)|i230|iac( |-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|-[a-w])|libw|lynx|m1-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|-([1-8]|c))|phil|pire|pl(ay|uc)|pn-2|po(ck|rt|se)|prox|psio|pt-g|qa-a|qc(07|12|21|32|60|-[2-7]|i-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h-|oo|p-)|sdk\/|se(c(-|0|1)|47|mc|nd|ri)|sgh-|shar|sie(-|m)|sk-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h-|v-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl-|tdg-|tel(i|m)|tim-|t-mo|to(pl|sh)|ts(70|m-|m3|m5)|tx-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas-|your|zeto|zte-/i.test(t.substr(0,4))?!0:e}var c=e("codemirror"),z=(e("codemirror/addon/edit/continuelist.js"),e("./codemirror/tablist"),e("codemirror/addon/display/fullscreen.js"),e("codemirror/mode/markdown/markdown.js"),e("codemirror/addon/mode/overlay.js"),e("codemirror/addon/display/placeholder.js"),e("codemirror/addon/selection/mark-selection.js"),e("codemirror/addon/search/searchcursor.js"),e("codemirror/mode/gfm/gfm.js"),e("codemirror/mode/xml/xml.js"),e("codemirror-spell-checker")),r=e("marked"),s=/Mac/.test(navigator.platform),H=new RegExp(/(<a.*?https?:\/\/.*?[^a]>)+?/g),h={toggleBold:t,toggleItalic:i,drawLink:w,toggleHeadingSmaller:l,toggleHeadingBigger:p,drawImage:x,toggleBlockquote:a,toggleOrderedList:y,toggleUnorderedList:b,toggleCodeBlock:o,togglePreview:L,toggleStrikethrough:n,toggleHeading1:m,toggleHeading2:f,toggleHeading3:v,cleanBlock:_,drawTable:C,drawHorizontalRule:S,undo:T,redo:k,toggleSideBySide:D,toggleFullScreen:u},F={toggleBold:"Cmd-B",toggleItalic:"Cmd-I",drawLink:"Cmd-K",toggleHeadingSmaller:"Cmd-H",toggleHeadingBigger:"Shift-Cmd-H",cleanBlock:"Cmd-E",drawImage:"Cmd-Alt-I",toggleBlockquote:"Cmd-'",toggleOrderedList:"Cmd-Alt-L",toggleUnorderedList:"Cmd-L",toggleCodeBlock:"Cmd-Alt-C",togglePreview:"Cmd-P",toggleSideBySide:"F9",toggleFullScreen:"F11"};function B(e){return s?e.replace("Ctrl","Cmd"):e.replace("Cmd","Ctrl")}function R(e,t,i){var n,o="uploadImage"===(e=e||{}).name?document.createElement("a"):document.createElement("button"),t=(o.className=e.name,t=null==t||t,e.title&&t&&(o.title=(t=i,i=e.title,(n=e.action)&&t[n=function(e){for(var t in h)if(h[t]===e)return t;return null}(n)]&&(i+=" ("+B(t[n])+")"),i),s)&&(o.title=o.title.replace("Ctrl","â"),o.title=o.title.replace("Alt","â¥")),e.noDisable&&o.classList.add("no-disable"),e.noMobile&&o.classList.add("no-mobile"),o.tabIndex=-1,document.createElement("i"));return t.className=e.className,o.appendChild(t),o}function g(e,t){t=t||e.getCursor("start");var i=e.getTokenAt(t);if(!i.type)return{};for(var n,o,s=i.type.split(" "),r={},a=0;a<s.length;a++)"strong"===(n=s[a])?r.bold=!0:"variable-2"===n?(o=e.getLine(t.line),/^\s*\d+\.\s/.test(o)?r["ordered-list"]=!0:r["unordered-list"]=!0):"atom"===n?r.quote=!0:"em"===n?r.italic=!0:"quote"===n?r.quote=!0:"strikethrough"===n?r.strikethrough=!0:"comment"===n?r.code=!0:"link"===n?r.link=!0:"tag"===n?r.image=!0:n.match(/^header(-[1-6])?$/)&&(r[n.replace("header","heading")]=!0);return r}var U="";function u(e){var t=e.codemirror,i=(t.setOption("fullScreen",!t.getOption("fullScreen")),t.getOption("fullScreen")?(U=document.body.style.overflow,document.body.style.overflow="hidden"):document.body.style.overflow=U,t.getWrapperElement()),i=(/fullscreen/.test(i.previousSibling.className)?i.previousSibling.className=i.previousSibling.className.replace(/\s*fullscreen\b/,""):i.previousSibling.className+=" fullscreen",e.toolbarElements&&e.toolbarElements.fullscreen&&(i=e.toolbarElements.fullscreen,/active/.test(i.className)?i.className=i.className.replace(/\s*active\s*/g,""):i.className+=" active"),t.getWrapperElement().nextSibling);/editor-preview-active-side/.test(i.className)&&D(e),e.options.onToggleFullScreen&&e.options.onToggleFullScreen(t.getOption("fullScreen")||!1)}function t(e){E(e,"bold",e.options.blockStyles.bold)}function i(e){E(e,"italic",e.options.blockStyles.italic)}function n(e){E(e,"strikethrough","~~")}function o(e){var t=e.options.blockStyles.code;function s(e){if("object"!=typeof e)throw"fencing_line() takes a 'line' object (not a line number, or line text).  Got: "+typeof e+": "+e;return e.styles&&e.styles[2]&&-1!==e.styles[2].indexOf("formatting-code-block")}function r(e){return e.state.base.base||e.state.base}function i(e,t,i,n,o){i=i||e.getLineHandle(t),n=n||e.getTokenAt({line:t,ch:1}),o=o||!!i.text&&e.getTokenAt({line:t,ch:i.text.length-1});e=n.type?n.type.split(" "):[];return o&&r(o).indentedCode?"indented":-1!==e.indexOf("comment")&&(r(n).fencedChars||r(o).fencedChars||s(i)?"fenced":"single")}var n,o,a,l=e.codemirror,e=l.getCursor("start"),d=l.getCursor("end"),c=l.getTokenAt({line:e.line,ch:e.ch||1}),h=l.getLineHandle(e.line),c=i(l,e.line,h,c);if("single"===c){var u=h.text.slice(0,e.ch).replace("`",""),p=h.text.slice(e.ch).replace("`","");l.replaceRange(u+p,{line:e.line,ch:0},{line:e.line,ch:99999999999999}),e.ch--,e!==d&&d.ch--,l.setSelection(e,d),l.focus()}else if("fenced"===c){if(e.line!==d.line||e.ch!==d.ch){for(n=e.line;0<=n&&!s(h=l.getLineHandle(n));n--);var m,f,g,u=r(l.getTokenAt({line:n,ch:1})).fencedChars,v=s(l.getLineHandle(e.line))?(m="",e.line):s(l.getLineHandle(e.line-1))?(m="",e.line-1):(m=u+"\n",e.line);s(l.getLineHandle(d.line))?(f="",g=d.line,0===d.ch&&(g+=1)):(f=0!==d.ch&&s(l.getLineHandle(d.line+1))?"":u+"\n",g=d.line+1),0===d.ch&&--g,l.operation(function(){l.replaceRange(f,{line:g,ch:0},{line:g+(f?0:1),ch:0}),l.replaceRange(m,{line:v,ch:0},{line:v+(m?0:1),ch:0})}),l.setSelection({line:v+(m?1:0),ch:0},{line:g+(m?1:-1),ch:0})}else{var p=e.line;if(s(l.getLineHandle(e.line))&&(p="fenced"===i(l,e.line+1)?(n=e.line,e.line+1):(o=e.line,e.line-1)),void 0===n)for(n=p;0<=n&&!s(h=l.getLineHandle(n));n--);if(void 0===o)for(a=l.lineCount(),o=p;o<a&&!s(h=l.getLineHandle(o));o++);l.operation(function(){l.replaceRange("",{line:n,ch:0},{line:n+1,ch:0}),l.replaceRange("",{line:o-1,ch:0},{line:o,ch:0})})}l.focus()}else if("indented"===c){if(e.line!==d.line||e.ch!==d.ch)n=e.line,o=d.line,0===d.ch&&o--;else{for(n=e.line;0<=n;n--)if(!(h=l.getLineHandle(n)).text.match(/^\s*$/)&&"indented"!==i(l,n,h)){n+=1;break}for(a=l.lineCount(),o=e.line;o<a;o++)if(!(h=l.getLineHandle(o)).text.match(/^\s*$/)&&"indented"!==i(l,o,h)){--o;break}}u=l.getLineHandle(o+1),p=u&&l.getTokenAt({line:o+1,ch:u.text.length-1});p&&r(p).indentedCode&&l.replaceRange("\n",{line:o+1,ch:0});for(var b=n;b<=o;b++)l.indentLine(b,"subtract");l.focus()}else{c=e.line===d.line&&e.ch===d.ch&&0===e.ch,u=e.line!==d.line;c||u?(p=e.line+1,c=d.line+1,u="\n"+t,(e=e.line!==d.line)&&c++,e&&0===d.ch&&(u=t+"\n",c--),A(e=l,!1,[t+"\n",u]),e.setSelection({line:p,ch:0},{line:c,ch:0})):A(l,!1,["`","`"])}}function a(e){O(e.codemirror,"quote")}function l(e){I(e.codemirror,"smaller")}function p(e){I(e.codemirror,"bigger")}function m(e){I(e.codemirror,void 0,1)}function f(e){I(e.codemirror,void 0,2)}function v(e){I(e.codemirror,void 0,3)}function b(e){O(e.codemirror,"unordered-list")}function y(e){O(e.codemirror,"ordered-list")}function _(e){var t=e.codemirror;if(!/editor-preview-active/.test(t.getWrapperElement().lastChild.className))for(var i,e=t.getCursor("start"),n=t.getCursor("end"),o=e.line;o<=n.line;o++)i=(i=t.getLine(o)).replace(/^[ ]*([# ]+|\*|-|[> ]+|[0-9]+(.|\)))[ ]*/,""),t.replaceRange(i,{line:o,ch:0},{line:o,ch:99999999999999})}function w(e){var t=e.codemirror,i=g(t),e=e.options,n="https://";if(e.promptURLs&&!(n=prompt(e.promptTexts.link)))return!1;A(t,i.link,e.insertTexts.link,n)}function x(e){var t=e.codemirror,i=g(t),e=e.options,n="https://";if(e.promptURLs&&!(n=prompt(e.promptTexts.image)))return!1;A(t,i.image,e.insertTexts.image,n)}function C(e){var t=e.codemirror,i=g(t),e=e.options;A(t,i.table,e.insertTexts.table)}function S(e){var t=e.codemirror,i=g(t),e=e.options;A(t,i.image,e.insertTexts.horizontalRule)}function T(e){e=e.codemirror;e.undo(),e.focus()}function k(e){e=e.codemirror;e.redo(),e.focus()}function D(e){var t=e.codemirror,i=t.getWrapperElement(),n=i.nextSibling,o=e.toolbarElements&&e.toolbarElements["side-by-side"],s=!1,o=(/editor-preview-active-side/.test(n.className)?(n.className=n.className.replace(/\s*editor-preview-active-side\s*/g,""),o&&(o.className=o.className.replace(/\s*active\s*/g,"")),i.className=i.className.replace(/\s*CodeMirror-sided\s*/g," ")):(setTimeout(function(){t.getOption("fullScreen")||u(e),n.className+=" editor-preview-active-side"},1),o&&(o.className+=" active"),i.className+=" CodeMirror-sided",s=!0),i.lastChild);/editor-preview-active/.test(o.className)&&(o.className=o.className.replace(/\s*editor-preview-active\s*/g,""),o=e.toolbarElements.preview,i=i.previousSibling,o.className=o.className.replace(/\s*active\s*/g,""),i.className=i.className.replace(/\s*disabled-for-preview*/g,"")),t.sideBySideRenderingFunction||(t.sideBySideRenderingFunction=function(){n.innerHTML=e.options.previewRender(e.value(),n)}),s?(n.innerHTML=e.options.previewRender(e.value(),n),t.on("update",t.sideBySideRenderingFunction)):t.off("update",t.sideBySideRenderingFunction),t.refresh()}function L(e){var t=e.codemirror,i=t.getWrapperElement(),n=i.previousSibling,o=!!e.options.toolbar&&e.toolbarElements.preview,s=i.lastChild,i=(s&&/editor-preview/.test(s.className)||((s=document.createElement("div")).className="editor-preview",i.appendChild(s)),/editor-preview-active/.test(s.className)?(s.className=s.className.replace(/\s*editor-preview-active\s*/g,""),o&&(o.className=o.className.replace(/\s*active\s*/g,""),n.className=n.className.replace(/\s*disabled-for-preview*/g,""))):(setTimeout(function(){s.className+=" editor-preview-active"},1),o&&(o.className+=" active",n.className+=" disabled-for-preview")),s.innerHTML=e.options.previewRender(e.value(),s),t.getWrapperElement().nextSibling);/editor-preview-active-side/.test(i.className)&&D(e)}function A(e,t,i,n){var o,s,r,a;/editor-preview-active/.test(e.getWrapperElement().lastChild.className)||(s=i[0],i=i[1],r={},a={},"function"!=typeof Object.assign&&"function"!=typeof Object.assign&&Object.defineProperty(Object,"assign",{value:function(e,t){if(null==e)throw new TypeError("Cannot convert undefined or null to object");var i=Object(e);if(null!==t)for(var n=1;n<arguments.length;n++){var o=arguments[n];if(null!=o)for(var s in o)Object.prototype.hasOwnProperty.call(o,s)&&(i[s]=o[s])}return i},writable:!0,configurable:!0}),Object.assign(r,e.getCursor("start")),Object.assign(a,e.getCursor("end")),n&&(i=i.replace("#url#",n)),t?(s=(o=e.getLine(r.line)).slice(0,r.ch),i=o.slice(r.ch),e.replaceRange(s+i,{line:r.line,ch:0})):(o=e.getSelection(),e.replaceSelection(s+o+i),r.ch+=s.length,r!==a&&(a.ch+=s.length)),e.setSelection(r,a),e.focus())}function I(e,t,i){if(!/editor-preview-active/.test(e.getWrapperElement().lastChild.className)){for(var n,o,s,r=e.getCursor("start"),a=e.getCursor("end"),l=r.line;l<=a.line;l++)n=l,o=void 0,s=(o=e.getLine(n)).search(/[^#]/),o=void 0!==t?s<=0?"bigger"==t?"###### "+o:"# "+o:6==s&&"smaller"==t?o.substr(7):1==s&&"bigger"==t?o.substr(2):"bigger"==t?o.substr(1):"#"+o:1==i?s<=0?"# "+o:s==i?o.substr(s+1):"# "+o.substr(s+1):2==i?s<=0?"## "+o:s==i?o.substr(s+1):"## "+o.substr(s+1):s<=0?"### "+o:s==i?o.substr(s+1):"### "+o.substr(s+1),e.replaceRange(o,{line:n,ch:0},{line:n,ch:99999999999999});e.focus()}}function O(e,t){if(!/editor-preview-active/.test(e.getWrapperElement().lastChild.className)){for(var i=/^(\s*)(\*|-|\+|\d*\.)(\s+)/,n=/^\s*/,o=g(e),s=e.getCursor("start"),r=e.getCursor("end"),a={quote:/^(\s*)>\s+/,"unordered-list":i,"ordered-list":i},l=1,d=s.line;d<=r.line;d++)c=d,f=m=p=u=h=void 0,f=e.getLine(c),o[t]?f=f.replace(a[t],"$1"):(p=i.exec(f),m=l,m={quote:">","unordered-list":"*","ordered-list":"%%i."}[t].replace("%%i",m),f=null!==p?(h=p[2],u=new RegExp({quote:">","unordered-list":"*","ordered-list":"d+."}[t]),h&&u.test(h)&&(m=""),p[1]+m+p[3]+f.replace(n,"").replace(a[t],"$1")):m+" "+f,l+=1),e.replaceRange(f,{line:c,ch:0},{line:c,ch:99999999999999});e.focus()}var c,h,u,p,m,f}function E(e,t,i,n){var o,s,r,a,l;/editor-preview-active/.test(e.codemirror.getWrapperElement().lastChild.className)||(n=void 0===n?i:n,s=g(e=e.codemirror),r=i,n=n,a=e.getCursor("start"),l=e.getCursor("end"),s[t]?(r=(o=e.getLine(a.line)).slice(0,a.ch),n=o.slice(a.ch),"bold"==t?(r=r.replace(/(\*\*|__)(?![\s\S]*(\*\*|__))/,""),n=n.replace(/(\*\*|__)/,"")):"italic"==t?(r=r.replace(/(\*|_)(?![\s\S]*(\*|_))/,""),n=n.replace(/(\*|_)/,"")):"strikethrough"==t&&(r=r.replace(/(\*\*|~~)(?![\s\S]*(\*\*|~~))/,""),n=n.replace(/(\*\*|~~)/,"")),e.replaceRange(r+n,{line:a.line,ch:0},{line:a.line,ch:99999999999999}),"bold"==t||"strikethrough"==t?(a.ch-=2,a!==l&&(l.ch-=2)):"italic"==t&&(--a.ch,a!==l)&&--l.ch):(o=e.getSelection(),"bold"==t?o=(o=o.split("**").join("")).split("__").join(""):"italic"==t?o=(o=o.split("*").join("")).split("_").join(""):"strikethrough"==t&&(o=o.split("~~").join("")),e.replaceSelection(r+o+n),a.ch+=i.length,l.ch=a.ch+o.length),e.setSelection(a,l),e.focus())}function M(e){for(var t=1;t<arguments.length;t++)e=function e(t,i){for(var n in i)i.hasOwnProperty(n)&&(i[n]instanceof Array?t[n]=i[n].concat(t[n]instanceof Array?t[n]:[]):null!==i[n]&&"object"==typeof i[n]&&i[n].constructor===Object?t[n]=e(t[n]||{},i[n]):t[n]=i[n]);return t}(e,arguments[t]);return e}function W(e){var t=e.match(/[a-zA-Z0-9_\u0392-\u03c9\u0410-\u04F9]+|[\u4E00-\u9FFF\u3400-\u4dbf\uf900-\ufaff\u3040-\u309f\uac00-\ud7af]+/g),i=0;if(null!==t)for(var n=0;n<t.length;n++)19968<=t[n].charCodeAt(0)?i+=t[n].length:i+=1;return i}var $={bold:{name:"bold",action:t,className:"fa fa-bold",title:"Bold",default:!0},italic:{name:"italic",action:i,className:"fa fa-italic",title:"Italic",default:!0},strikethrough:{name:"strikethrough",action:n,className:"fa fa-strikethrough",title:"Strikethrough"},heading:{name:"heading",action:l,className:"fa fa-header fa-heading",title:"Heading",default:!0},"heading-smaller":{name:"heading-smaller",action:l,className:"fa fa-header fa-heading header-smaller",title:"Smaller Heading"},"heading-bigger":{name:"heading-bigger",action:p,className:"fa fa-header fa-heading header-bigger",title:"Bigger Heading"},"heading-1":{name:"heading-1",action:m,className:"fa fa-header fa-heading header-1",title:"Big Heading"},"heading-2":{name:"heading-2",action:f,className:"fa fa-header fa-heading header-2",title:"Medium Heading"},"heading-3":{name:"heading-3",action:v,className:"fa fa-header fa-heading header-3",title:"Small Heading"},"separator-1":{name:"separator-1"},code:{name:"code",action:o,className:"fa fa-code",title:"Code"},quote:{name:"quote",action:a,className:"fa fa-quote-left",title:"Quote",default:!0},"unordered-list":{name:"unordered-list",action:b,className:"fa fa-list-ul",title:"Generic List",default:!0},"ordered-list":{name:"ordered-list",action:y,className:"fa fa-list-ol",title:"Numbered List",default:!0},"clean-block":{name:"clean-block",action:_,className:"fa fa-eraser fa-clean-block",title:"Clean block"},"separator-2":{name:"separator-2"},link:{name:"link",action:w,className:"fa fa-link",title:"Create Link",default:!0},image:{name:"image",action:x,className:"fa fa-image",title:"Insert Image",default:!0},table:{name:"table",action:C,className:"fa fa-table",title:"Insert Table"},"horizontal-rule":{name:"horizontal-rule",action:S,className:"fa fa-minus",title:"Insert Horizontal Line"},"separator-3":{name:"separator-3"},preview:{name:"preview",action:L,className:"fa fa-eye",noDisable:!0,title:"Toggle Preview",default:!0},"side-by-side":{name:"side-by-side",action:D,className:"fa fa-columns",noDisable:!0,noMobile:!0,title:"Toggle Side by Side",default:!0},fullscreen:{name:"fullscreen",action:u,className:"fa fa-arrows-alt",noDisable:!0,noMobile:!0,title:"Toggle Fullscreen",default:!0},"separator-4":{name:"separator-4"},guide:{name:"guide",action:"https://simplemde.com/markdown-guide",className:"fa fa-question-circle",noDisable:!0,title:"Markdown Guide",default:!0},"separator-5":{name:"separator-5"},undo:{name:"undo",action:T,className:"fa fa-undo",noDisable:!0,title:"Undo"},redo:{name:"redo",action:k,className:"fa fa-repeat fa-redo",noDisable:!0,title:"Redo"}},q={link:["[","](#url#)"],image:["![](","#url#)"],table:["","\n\n| Column 1 | Column 2 | Column 3 |\n| -------- | -------- | -------- |\n| Text     | Text     | Text     |\n\n"],horizontalRule:["","\n\n-----\n\n"]},V={link:"URL for the link:",image:"URL of the image:"},G={bold:"**",code:"```",italic:"*"};function j(e){(e=e||{}).parent=this;var t,i=!0;if(!1===e.autoDownloadFontAwesome&&(i=!1),!0!==e.autoDownloadFontAwesome)for(var n=document.styleSheets,o=0;o<n.length;o++)n[o].href&&-1<n[o].href.indexOf("//maxcdn.bootstrapcdn.com/font-awesome/")&&(i=!1);if(i&&((t=document.createElement("link")).rel="stylesheet",t.href="https://maxcdn.bootstrapcdn.com/font-awesome/latest/css/font-awesome.min.css",document.getElementsByTagName("head")[0].appendChild(t)),e.element)this.element=e.element;else if(null===e.element)return void console.log("EasyMDE: Error. No element was found.");if(void 0===e.toolbar)for(var s in e.toolbar=[],$)$.hasOwnProperty(s)&&(-1!=s.indexOf("separator-")&&e.toolbar.push("|"),!0===$[s].default||e.showIcons&&e.showIcons.constructor===Array&&-1!=e.showIcons.indexOf(s))&&e.toolbar.push(s);e.hasOwnProperty("status")||(e.status=["autosave","lines","words","cursor"]),e.previewRender||(e.previewRender=function(e){return this.parent.markdown(e)}),e.parsingConfig=M({highlightFormatting:!0},e.parsingConfig||{}),e.insertTexts=M({},q,e.insertTexts||{}),e.promptTexts=M({},V,e.promptTexts||{}),e.blockStyles=M({},G,e.blockStyles||{}),e.shortcuts=M({},F,e.shortcuts||{}),e.minHeight=e.minHeight||"300px",null!=e.autosave&&null!=e.autosave.unique_id&&""!=e.autosave.unique_id&&(e.autosave.uniqueId=e.autosave.unique_id),this.options=e,this.render(),!e.initialValue||this.options.autosave&&!0===this.options.autosave.foundSavedValue||this.value(e.initialValue)}function K(){if("object"==typeof localStorage){try{localStorage.setItem("smde_localStorage",1),localStorage.removeItem("smde_localStorage")}catch(e){return}return 1}}j.prototype.markdown=function(e){if(r){var t,i=this.options&&this.options.renderingConfig&&this.options.renderingConfig.markedOptions?this.options.renderingConfig.markedOptions:{};this.options&&this.options.renderingConfig&&!1===this.options.renderingConfig.singleLineBreaks?i.breaks=!1:i.breaks=!0,this.options&&this.options.renderingConfig&&!0===this.options.renderingConfig.codeSyntaxHighlighting&&(t=this.options.renderingConfig.hljs||window.hljs)&&(i.highlight=function(e){return t.highlightAuto(e).value}),r.setOptions(i);for(var n=r(e);null!==(s=H.exec(n));){var o,s=s[0];-1===s.indexOf("target=")&&(o=s.replace(/>$/,' target="_blank">'),n=n.replace(s,o))}return n}},j.prototype.render=function(e){if(e=e||this.element||document.getElementsByTagName("textarea")[0],!this._rendered||this._rendered!==e){this.element=e;var t,i,n,o,s=this.options,r=this,a={};for(n in s.shortcuts)null!==s.shortcuts[n]&&null!==h[n]&&function(e){a[B(s.shortcuts[e])]=function(){h[e](r)}}(n);a.Enter="newlineAndIndentContinueMarkdownList",a.Tab="tabAndIndentMarkdownList",a["Shift-Tab"]="shiftTabAndUnindentMarkdownList",a.Esc=function(e){e.getOption("fullScreen")&&u(r)},document.addEventListener("keydown",function(e){27==(e=e||window.event).keyCode&&r.codemirror.getOption("fullScreen")&&u(r)},!1),!1!==s.spellChecker?(t="spell-checker",(i=s.parsingConfig).name="gfm",i.gitHubSpice=!1,z({codeMirrorInstance:c})):((t=s.parsingConfig).name="gfm",t.gitHubSpice=!1),this.codemirror=c.fromTextArea(e,{mode:t,backdrop:i,theme:null!=s.theme?s.theme:"easymde",tabSize:null!=s.tabSize?s.tabSize:2,indentUnit:null!=s.tabSize?s.tabSize:2,indentWithTabs:!1!==s.indentWithTabs,lineNumbers:!1,autofocus:!0===s.autofocus,extraKeys:a,lineWrapping:!1!==s.lineWrapping,allowDropFileTypes:["text/plain"],placeholder:s.placeholder||e.getAttribute("placeholder")||"",styleSelectedText:null!=s.styleSelectedText?s.styleSelectedText:!d(),configureMouse:function(e,t,i){return{addNew:!1}}}),this.codemirror.getScrollerElement().style.minHeight=s.minHeight,!0===s.forceSync&&(o=this.codemirror).on("change",function(){o.save()}),!(this.gui={})!==s.toolbar&&(this.gui.toolbar=this.createToolbar()),!1!==s.status&&(this.gui.statusbar=this.createStatusbar()),null!=s.autosave&&!0===s.autosave.enabled&&this.autosave(),this.gui.sideBySide=this.createSideBySide(),this._rendered=this.element;var l=this.codemirror;setTimeout(function(){l.refresh()}.bind(l),0)}},j.prototype.autosave=function(){var e,t,i,n,o,s;K()?null==(e=this).options.autosave.uniqueId||""==this.options.autosave.uniqueId?console.log("EasyMDE: You must set a uniqueId to use the autosave feature"):(!0!==this.options.autosave.binded&&(null!=e.element.form&&null!=e.element.form&&e.element.form.addEventListener("submit",function(){clearTimeout(e.autosaveTimeoutId),e.autosaveTimeoutId=void 0,localStorage.removeItem("smde_"+e.options.autosave.uniqueId),setTimeout(function(){e.autosave()},e.options.autosave.delay||1e4)}),this.options.autosave.binded=!0),!0!==this.options.autosave.loaded&&("string"==typeof localStorage.getItem("smde_"+this.options.autosave.uniqueId)&&""!=localStorage.getItem("smde_"+this.options.autosave.uniqueId)&&(this.codemirror.setValue(localStorage.getItem("smde_"+this.options.autosave.uniqueId)),this.options.autosave.foundSavedValue=!0),this.options.autosave.loaded=!0),localStorage.setItem("smde_"+this.options.autosave.uniqueId,e.value()),null!=(t=document.getElementById("autosaved"))&&""!=t&&(i=(n=new Date).getHours(),n=n.getMinutes(),o="am",12<=(s=i)&&(s=i-12,o="pm"),t.innerHTML="Autosaved: "+(s=0==s?12:s)+":"+(n=n<10?"0"+n:n)+" "+o),this.autosaveTimeoutId=setTimeout(function(){e.autosave()},this.options.autosave.delay||1e4)):console.log("EasyMDE: localStorage not available, cannot autosave")},j.prototype.clearAutosavedValue=function(){K()?null==this.options.autosave||null==this.options.autosave.uniqueId||""==this.options.autosave.uniqueId?console.log("EasyMDE: You must set a uniqueId to clear the autosave value"):localStorage.removeItem("smde_"+this.options.autosave.uniqueId):console.log("EasyMDE: localStorage not available, cannot autosave")},j.prototype.createSideBySide=function(){var i,n,t=this.codemirror,e=t.getWrapperElement(),o=e.nextSibling;return o&&/editor-preview-side/.test(o.className)||((o=document.createElement("div")).className="editor-preview-side",e.parentNode.insertBefore(o,e.nextSibling)),!1!==this.options.syncSideBySidePreviewScroll&&(n=i=!1,t.on("scroll",function(e){var t;i?i=!1:(n=!0,t=e.getScrollInfo().height-e.getScrollInfo().clientHeight,e=parseFloat(e.getScrollInfo().top)/t,t=(o.scrollHeight-o.clientHeight)*e,o.scrollTop=t)}),o.onscroll=function(){var e;n?n=!1:(i=!0,e=o.scrollHeight-o.clientHeight,e=parseFloat(o.scrollTop)/e,e=(t.getScrollInfo().height-t.getScrollInfo().clientHeight)*e,t.scrollTo(0,e))}),o},j.prototype.createToolbar=function(e){if((e=e||this.options.toolbar)&&0!==e.length){for(var t=0;t<e.length;t++)null!=$[e[t]]&&(e[t]=$[e[t]]);var i=document.createElement("div"),n=(i.className="editor-toolbar",this),o={};for(n.toolbar=e,t=0;t<e.length;t++)if(("guide"!=e[t].name||!1!==n.options.toolbarGuideIcon)&&!(n.options.hideIcons&&-1!=n.options.hideIcons.indexOf(e[t].name)||("fullscreen"==e[t].name||"side-by-side"==e[t].name)&&d())){if("|"===e[t]){for(var s=!1,r=t+1;r<e.length;r++)"|"===e[r]||n.options.hideIcons&&-1!=n.options.hideIcons.indexOf(e[r].name)||(s=!0);if(!s)continue}!function(t){var e="|"===t?((e=document.createElement("i")).className="separator",e.innerHTML="|",e):R(t,n.options.toolbarTips,n.options.shortcuts);t.action&&("function"==typeof t.action?e.onclick=function(e){e.preventDefault(),t.action(n)}:"string"==typeof t.action&&(e.onclick=function(e){e.preventDefault(),window.open(t.action,"_blank")})),o[t.name||t]=e,i.appendChild(e)}(e[t])}n.toolbarElements=o;var a=this.codemirror,l=(a.on("cursorActivity",function(){var e,t,i,n=g(a);for(i in o)t=void 0,t=o[e=i],n[e]?t.className+=" active":"fullscreen"!=e&&"side-by-side"!=e&&(t.className=t.className.replace(/\s*active\s*/g,""))}),a.getWrapperElement());return l.parentNode.insertBefore(i,l),i}},j.prototype.createStatusbar=function(e){e=e||this.options.status;var t=this.options,i=this.codemirror;if(e&&0!==e.length){for(var n,o,s,r=[],a=0;a<e.length;a++)o=n=void 0,"object"==typeof e[a]?r.push({className:e[a].className,defaultValue:e[a].defaultValue,onUpdate:e[a].onUpdate}):("words"===(s=e[a])?(o=function(e){e.innerHTML=W(i.getValue())},n=function(e){e.innerHTML=W(i.getValue())}):"lines"===s?(o=function(e){e.innerHTML=i.lineCount()},n=function(e){e.innerHTML=i.lineCount()}):"cursor"===s?(o=function(e){e.innerHTML="0:0"},n=function(e){var t=i.getCursor();e.innerHTML=t.line+":"+t.ch}):"autosave"===s&&(o=function(e){null!=t.autosave&&!0===t.autosave.enabled&&e.setAttribute("id","autosaved")}),r.push({className:s,defaultValue:o,onUpdate:n}));var l=document.createElement("div");for(l.className="editor-statusbar",a=0;a<r.length;a++){var d=r[a],c=document.createElement("span");c.className=d.className,"function"==typeof d.defaultValue&&d.defaultValue(c),"function"==typeof d.onUpdate&&this.codemirror.on("update",function(e,t){return function(){t.onUpdate(e)}}(c,d)),l.appendChild(c)}var h=this.codemirror.getWrapperElement();return h.parentNode.insertBefore(l,h.nextSibling),l}},j.prototype.value=function(e){var t=this.codemirror;return void 0===e?t.getValue():(t.getDoc().setValue(e),this.isPreviewActive()&&((t=t.getWrapperElement().lastChild).innerHTML=this.options.previewRender(e,t)),this)},j.toggleBold=t,j.toggleItalic=i,j.toggleStrikethrough=n,j.toggleBlockquote=a,j.toggleHeadingSmaller=l,j.toggleHeadingBigger=p,j.toggleHeading1=m,j.toggleHeading2=f,j.toggleHeading3=v,j.toggleCodeBlock=o,j.toggleUnorderedList=b,j.toggleOrderedList=y,j.cleanBlock=_,j.drawLink=w,j.drawImage=x,j.drawTable=C,j.drawHorizontalRule=S,j.undo=T,j.redo=k,j.togglePreview=L,j.toggleSideBySide=D,j.toggleFullScreen=u,j.prototype.toggleBold=function(){t(this)},j.prototype.toggleItalic=function(){i(this)},j.prototype.toggleStrikethrough=function(){n(this)},j.prototype.toggleBlockquote=function(){a(this)},j.prototype.toggleHeadingSmaller=function(){l(this)},j.prototype.toggleHeadingBigger=function(){p(this)},j.prototype.toggleHeading1=function(){m(this)},j.prototype.toggleHeading2=function(){f(this)},j.prototype.toggleHeading3=function(){v(this)},j.prototype.toggleCodeBlock=function(){o(this)},j.prototype.toggleUnorderedList=function(){b(this)},j.prototype.toggleOrderedList=function(){y(this)},j.prototype.cleanBlock=function(){_(this)},j.prototype.drawLink=function(){w(this)},j.prototype.drawImage=function(){x(this)},j.prototype.drawTable=function(){C(this)},j.prototype.drawHorizontalRule=function(){S(this)},j.prototype.undo=function(){T(this)},j.prototype.redo=function(){k(this)},j.prototype.togglePreview=function(){L(this)},j.prototype.toggleSideBySide=function(){D(this)},j.prototype.toggleFullScreen=function(){u(this)},j.prototype.isPreviewActive=function(){var e=this.codemirror.getWrapperElement().lastChild;return/editor-preview-active/.test(e.className)},j.prototype.isSideBySideActive=function(){var e=this.codemirror.getWrapperElement().nextSibling;return/editor-preview-active-side/.test(e.className)},j.prototype.isFullscreenActive=function(){return this.codemirror.getOption("fullScreen")},j.prototype.getState=function(){return g(this.codemirror)},j.prototype.toTextArea=function(){var e=this.codemirror,t=e.getWrapperElement();t.parentNode&&(this.gui.toolbar&&t.parentNode.removeChild(this.gui.toolbar),this.gui.statusbar&&t.parentNode.removeChild(this.gui.statusbar),this.gui.sideBySide)&&t.parentNode.removeChild(this.gui.sideBySide),e.toTextArea(),this.autosaveTimeoutId&&(clearTimeout(this.autosaveTimeoutId),this.autosaveTimeoutId=void 0,this.clearAutosavedValue())},N.exports=j},{"./codemirror/tablist":19,codemirror:11,"codemirror-spell-checker":4,"codemirror/addon/display/fullscreen.js":5,"codemirror/addon/display/placeholder.js":6,"codemirror/addon/edit/continuelist.js":7,"codemirror/addon/mode/overlay.js":8,"codemirror/addon/search/searchcursor.js":9,"codemirror/addon/selection/mark-selection.js":10,"codemirror/mode/gfm/gfm.js":12,"codemirror/mode/markdown/markdown.js":13,"codemirror/mode/xml/xml.js":15,marked:17}]},{},[20])(20)});var parentUrl,isActionCompleted=!1,isAdmin=!1,userList=[],date=new Date,commentAction={Add:0,Edit:1,Delete:2,GetComments:3},isEmbedCode=parent.embedConfig.IsEmbedCode,parentItemId=parent.parentItemId,dashboardTypeId=parent.isMultiTab?"#"+parent.$(".e-content .e-active").attr("data-designer-id"):"#dashboard",ejType=isSydjViewer?"BoldBIDashboardDesigner":"ejDashboardViewer",parentRefUrl=window.location!=window.parent.location?document.referrer:document.location.href.replace(document.location.pathname+document.location.search,""),iframeRefUrl=(parentUrl=""==parentRefUrl?"":parentRefUrl.match(/:\/\/(.[^/]+)/)[1],window.location.href),iframeUrl=iframeRefUrl.match(/:\/\/(.[^/]+)/)[1];function GetAllComments(e,t,i,n,o,s){parent.$("#comment-module-container-loader-icon").hide(),parent.isMultiTab&&!isEmbedCode?GetItemWatch(e,o,0):parent.isMultiTab||isEmbedCode?isEmbedCode&&(r={itemId:e,parentItemId:o,userId:userId,isWidgetRequest:"widget"==t.toLowerCase()},getItemWatchAjax=parent.ajaxPostCall("POST",getItemWatchUrl,r,null,getItemWatchResult,null,null)):GetItemWatch(e,"",userId),parentDashboardId=parent.$("#isMultiDashboard").attr("data-parent-id");showWaitingPopup("parent-scroll-element");var r={orderBy:n,skip:0,take:0,itemType:t,itemId:e,dashboardItemId:i,commentAction:commentAction.GetComments,parentDashboardId:parentDashboardId,parentItemId:o,commentId:s};getAllCommentAjax=parent.ajaxPostCall("POST",getAllCommentsUrl,r,null,getCommentsResult,null,completeCommentResult)}function completeCommentResult(e){$(".post-message > p > img").on("load",function(){refreshCommentScroller()}),generateProfileAvatar()}function getCommentsResult(e){if(e){if(1==e.Status){$(".view-heading").css("display","block"),parent.$("#commentModuleContainer").hasClass("displayNone")?parent.$("#widgetCommentModuleContainer").hasClass("displayNone")?$($(".header-section a")[0]).css("display","none"):$($(".header-section a")[0]).css("display","block"):($($(".header-section a")[0]).css("display","block"),parent.$("#widget-loader-icon").hide());var t=ConstructTree(e.Comments,null);$(".comment-list").html(t),$(".comment-list").find(".post").find(".post").find(".children").addClass("no-left-padding"),$("#comment_count").text(e.ActiveCommentsCount),0==e.ActiveCommentsCount&&($("#comment_action_slider").click(),$(".additional-content").html("<h7>"+window.Server.App.Localization.NoComments+"</h7>")),$('[data-bs-toggle="tooltip"]').tooltip(),hideWaitingPopup("parent-scroll-element"),$("body").removeClass("displayNone"),refreshCommentScroller(),document.URL;if(-1<parent.document.URL.indexOf("comment=")){var i="#comment-"+getUrlVars(parent.document.URL.split("#")[0]).comment;if($(i).find("span.time-ago:first").click(),$(i).find(".post-content:first").addClass("highlight-comment"),-1<parent.document.URL.indexOf("isreply=true")&&$(i).find(".reply-comment").first().click(),i_am_ie9){$(i).find(".post-content:first").css("backgroundColor","hsl(46,76%,82%");for(var n=3e3,o=82;o<=100;o+=.1)n+=10,!function(e){setTimeout(function(){$(i).find(".post-content:first").css("backgroundColor","hsl(46,76%,"+e+"%)"),$(i).find(".post-content:first").removeClass("highlight-comment")},n)}(o)}else setTimeout(function(){$(i).find(".post-content:first").css({transition:"background-color 10s ease-in-out","background-color":"inherit"})},40),setTimeout(function(){$(i).find(".post-content:first").attr("style",""),$(i).find(".post-content:first").removeClass("highlight-comment")},7e3)}addTarget_blank()}else hideWaitingPopup("parent-scroll-element");-1==parent.document.URL.indexOf("comment=")&&refreshCommentScroller()}}function refreshCommentScroller(){var e,t,i,n=($("#comment_action_area").hasClass("isHide")?$("#comment_submit_container"):$("#comment_action_area")).outerHeight();"true"==$("#isWidgetComment").val()&&"undefined"!==itemId&&(parent.$("#widget-comment-module-container-loader-icon").hide(),i=$("#list_container").outerHeight()+n+$(".count-sort").outerHeight()+$(".additional-content").outerHeight(),e=(isSydjViewer?parent.$("[data-widget-id='"+itemId+"']"):parent.$("#"+itemId)).offset().top,i<(t=$(window.parent).height()-e)||550<t?parent.$("#widgetCommentModuleContainer").css({top:e<0?0:e}):parent.$("#widgetCommentModuleContainer").css({top:e-(556-t)<0?0:e-(556-t)}),0<550-i?parent.$("#widgetCommentModuleContainer").css({height:i}):(parent.$("#widgetCommentModuleContainer").css({height:550}),$("#scroll-element").children().addClass("e-content")),e=parent.$("#widgetCommentModuleContainer").height()-(n+$(".count-sort").outerHeight()),t=parent.$("#widgetCommentModuleContainer").width()-2,$("#scroll-element").ejScroller({height:e,width:t,scrollerSize:7,buttonSize:0,enableTouchScroll:"false"!=parent.$("#is_mobile").val()}),(i=$("#scroll-element").ejScroller("instance")).model.height=e,i.refresh()),"true"!=$("#isWidgetComment").val()&&(parent.$("#comment-module-container-loader-icon").hide(),$("#scroll-element").children().addClass("e-content"),e=parent.$("#commentModuleContainer").height()-(n+$(".count-sort").outerHeight()+$(".header-section").outerHeight()),parent.isMultiTab&&(e-="true"==parent.$("#is_mobile").val()?0:parent.$(".e-tab-header").height()),t=parent.$("#commentModuleContainer").width()-2,$("#scroll-element").ejScroller({height:e,width:t,scrollerSize:7,buttonSize:0,enableTouchScroll:"false"!=parent.$("#is_mobile").val()}),(i=$("#scroll-element").ejScroller("instance")).model.height=e,i.refresh())}function ConstructTree(e,t){var i="";if(null!=e)for(var n=0;n<e.length;n++){var o=0;if(0<e[n].Replies.length)for(var s=0;s<e[n].Replies.length;s++)e[n].Replies[s].IsActive&&(o+=1);e[n].IsActive?(i=(i+="<li id='comment-"+e[n].Id+"'data-comment-id='"+e[n].Id+"' class='post collapse in'><div class='post-content'><div class='avatar-container'> <div class='user' data-userid='"+e[n].UserId+"'><div class='profile-pic-tag avatar' data-id='"+e[n].IdPReferenceId+"' data-type='user' data-display-name='"+e[n].UserDisplayName+"' data-image-size='32'></div></div></div><div class='post-body'> <header><span class='post-byline col-xs-5 no-padding'><span title='"+e[n].UserDisplayName+"'class='author publisher-anchor-color'>"+e[n].UserDisplayName+"</span></span><menu>")+"<li class='reply' title='"+window.Server.App.Localization.ReplyButton+"' data-bs-toggle='tooltip' data-placement='bottom'> <a class='reply-comment'><span class='su su-reply'></span> </a></li>",!0!==isAdmin&&e[n].UserId!=$("#userName").val()&&null==t||(i+="<span class='dropdown-toggle option-icon' title='"+window.Server.App.Localization.Action+"' data-bs-toggle='dropdown'><span class='su su-options-horizontal'></span></span><ul class='dropdown-menu' role='menu'>",e[n].UserId==$("#userName").val()&&(i+="<li class='edit' title='"+window.Server.App.Localization.EditButton+"' data-bs-toggle='tooltip' data-placement='top'> <a class='edit-comment'><span>"+window.Server.App.Localization.EditButton+"</span> </a></li>"),!0!==isAdmin&&e[n].UserId!=$("#userName").val()||(i+="<li class='delete' title='"+window.Server.App.Localization.Delete+"' data-bs-toggle='tooltip' data-placement='top'> <a class='delete-comment'><span>"+window.Server.App.Localization.Delete+"</span> </a></li>"),null!=t&&(i+="<li class='parent' data-parent-id='"+t.Id+"' title='"+window.Server.App.Localization.Replied.format(t.UserDisplayName)+"' data-bs-toggle='tooltip' data-placement='top'> <a class='parent-name'><span>"+window.Server.App.Localization.ShowParent+"</span> </a></li></ul>")),e[n].TimeZoneName=GetClientTimeZone(e[n].CreatedDate),i=(i+="</menu><span class='post-meta col-xs-9 no-padding'><a "+commentPermalinkHelper(e[n].Id)+" class='permalink'><span class='time-ago' title='"+e[n].CreatedDateString+" - "+e[n].TimeZoneName+"'data-html='false' data-bs-toggle='tooltip' data-placement='right'>"+e[n].TimeAgo+"</span></a></span> </header> <div class='post-body-inner'><div class='edit-post displayNone'></div><div class='post-message'>"+SplitUserDisplayName(e[n].HtmlComment,e[n].MarkdownComment)+"</div><div class='markDownComment hidden'>"+e[n].MarkdownComment+"</div> </div></div><div class='reply-form-container displayNone'></div><div class='col-12 reply-count "+(0<o?"hasChild":"")+"'><div class='col-xs-6 child-count'><span class='count-text'>"+o+"</span><span class='count-label'> "+(1!=o&&0!=o?window.Server.App.Localization.Replies:window.Server.App.Localization.Reply)+"</span></div><div class='col-xs-6 no-padding collapse-icon-container'><span class='su ")+(0<o?"su-vertical-collapse collapse-icon' title='"+window.Server.App.Localization.Collapse+"'></span>":"collapse-icon' data-bs-toggle='collapse'></span>")+"</div></div></div><ul class='children'>"):(i+="<li id='comment-"+e[n].Id+"'data-comment-id='"+e[n].Id+"' class='post'><div class='post-content'><div class='avatar-container'><div class='profile-pic-tag avatar' data-id='"+e[n].IdPReferenceId+"' data-type='user' data-display-name='"+e[n].UserDisplayName+"' data-image-size='32'></div></div><div class='post-body'> <header><span class='post-byline col-xs-5 no-padding'></span><span class='post-meta col-xs-9 hidden no-padding'><a "+commentPermalinkHelper(e[n].Id)+" class='permalink'><span class='time-ago' title='"+e[n].CreatedDateString+" - "+e[n].TimeZoneName+"'data-html='false' data-bs-toggle='tooltip' data-placement='right'>"+e[n].TimeAgo+"</span></a></span><menu class='deleted-post'><li class='reply' > <span class='su su-reply'></span> </li><span class='dropdown-toggle option-icon' ><span class='su su-options-horizontal'></span></span></menu></header> <div class='post-body-inner'><div class='post-message deleted-message'><span class='su su-warning'></span><span>"+window.Server.App.Localization.DeletedMessage+"</span></div> </div></div><div class='col-12 reply-count "+(0<o?"hasChild":"")+"'><div class='col-xs-6 child-count'><span class='count-text'>"+o+"</span><span class='count-label'> "+(1!=o&&0!=o?window.Server.App.Localization.Replies:window.Server.App.Localization.Reply)+"</span></div><div class='col-xs-6 no-padding'>",0<o&&(i+="<span class='su su-vertical-collapse collapse-icon' data-bs-toggle='collapse'</span>"),i+="</div></div></div><ul class='children'>"),0<e[n].Replies.length?i+=ConstructTree(e[n].Replies,e[n])+"</ul> </li>":i+="</ul> </li>"}return i}function customMarkdownParser(e){var t=/(?:\@\ (.*?)\Â )/g,i=$("#itemType").attr("data-item-type").toLowerCase().replace(/\b[a-z]/g,function(e){return e.toUpperCase()}),n=new EasyMDE({element:$("#temp")[0],spellChecker:!1,autoDownloadFontAwesome:!1});if(null!=(o=(a=e).match(/(?:\@\Â (\[.*?\])\Â )/g)))for(var o=jQuery.unique(o),s=0;s<o.length;s++)var r=SplitUserDisplayName(o[s],o[s]),a=a.replace(o[s],"<span class='cm-usercontainer'>"+r+"</span>");if(null!=a.match(t))for(var l=jQuery.unique(a.match(t)),s=0;s<l.length;s++){var d=new RegExp(l[s],"g");a=a.replace(d,"<span class='cm-groupcontainer'>"+l[s]+"</span>")}if(null!=(c=a.match(/(@all)/g)))for(var c=jQuery.unique(c),s=0;s<c.length;s++){d=new RegExp(c[s],"g");a=a.replace(c[s],"<span class='cm-allcontainer'>"+c[s]+"</span>")}a=n.options.previewRender(a);for(var e=$("<div></div>").html(a),h=$(e).find("a"),u=0;u<h.length;u++)h[u].setAttribute("target","_blank");for(var p=$(e).find("img"),u=0;u<p.length;u++)if(p[u].setAttribute("target","_blank"),-1!==p[u].src.indexOf("image-"))for(var m=p[u].src.split("/"),s=0;s<m.length;s++)-1!==m[s].indexOf("image-")&&(p[u].src=rootUrl+"/content/images/commentimages/"+i+"/"+itemId+"/"+m[s]);return a=$(e).html()}function renderMde(e){e=new EasyMDE({element:$(e)[0],status:!1,spellChecker:!1,autoDownloadFontAwesome:!1,toolbar:[{name:"bold",action:EasyMDE.toggleBold,className:"su su-bold",title:"Bold"},{name:"italic",action:EasyMDE.toggleItalic,className:"su su-italic",title:window.Server.App.Localization.Italic},{name:"heading",action:EasyMDE.toggleHeadingSmaller,className:"su su-header",title:window.Server.App.Localization.Heading},"|",{name:"quote",action:EasyMDE.toggleBlockquote,className:"su su-quote",title:window.Server.App.Localization.Quote},{name:"unordered-list",action:EasyMDE.toggleUnorderedList,className:"su su-list-ul",title:window.Server.App.Localization.Generic},{name:"ordered-list",action:EasyMDE.toggleOrderedList,className:"su su-list-ol",title:window.Server.App.Localization.Number},"|",{name:"link",action:EasyMDE.drawLink,className:"su su-link",title:window.Server.App.Localization.Link},{name:"image",action:EasyMDE.drawImage,className:"su su-image",title:window.Server.App.Localization.Image},{name:"uploadImage",className:"su su-upload-image",title:window.Server.App.Localization.UploadImage},{name:"preview",action:EasyMDE.togglePreview,className:"su su-preview no-disable",title:window.Server.App.Localization.Preview}],previewRender:function(e){return customMarkdownParser(e)}});return"comment-image-file"==$(".su-upload-image").attr("id")?$(".su-upload-image").attr("id","comment-image-edit-file"):$(".su-upload-image").attr("id","comment-image-file"),e}function getUrlVars(e){var n={};e.replace(/[?&]+([^=&]+)=([^&]*)/gi,function(e,t,i){n[t]=i});return n}function addTarget_blank(){$("ul#commentList li .post-message").find("a").attr("target","_blank")}function truncateUrl(){var e=parent.window.location.href.split("#")[0],t=e.indexOf("?comment="),i=e.indexOf("&comment="),n=e.substr(0,e.indexOf("/dashboards")+1),o=e.substr(0,e.indexOf("/widgets")+1);return 0<n.length?e=e.replace(n,"/"):0<o.length&&(e=e.replace(o,"/")),0<t?e=e.slice(0,e.lastIndexOf("?comment=")):0<i&&(e=e.slice(0,e.lastIndexOf("&comment="))),e}function getRelativePath(e){var t=$("#itemType").attr("data-item-type").toLowerCase().replace(/\b[a-z]/g,function(e){return e.toUpperCase()}),i=e.match(/(?:\!\[\]\((.*?)\))/g),n=[];if(null!=i){for(var o=0;o<i.length;o++)n[o]=i[o].split(/[\(\\!\[\ \]\\)\s]+/),n[o]=$.grep(n[o],function(e){return e});for(var s,r=0;r<n.length;r++)n[r]=n[r].toString(),-1!==n[r].indexOf("image-")&&(s=rootUrl+"/content/images/commentimages/"+t+"/"+itemId+"/"+n[r])&&(n[r]="![]("+n[r]+")",e=e.replace(n[r],"![]("+s+")"))}return e}function pasteImageReader(e){var t=$("#itemType").attr("data-item-type").toLowerCase().replace(/\b[a-z]/g,function(e){return e.toUpperCase()}),e={DataUrl:e,itemId:itemId,itemType:t,parentDashboardId:parentDashboardId};parent.ajaxPostCall("POST",commentImageUrl,e,null,pasteCommentImages,null,null)}function pasteCommentImages(e){""!==e&&-1!==e.indexOf("image-")&&cursorPos.codemirror.replaceSelection(" ![]("+e+")"),hideWaitingPopup("parent-scroll-element")}function autoCompletes(e,t){n=e;var i,n=window.event?n.keyCode:n.which||void 0;38===n?((i=jQuery.Event("keydown")).keyCode=38,i.which=38,$("#autocomplete-input").trigger(i)):40===n?((i=jQuery.Event("keydown")).keyCode=40,i.which=40,$("#autocomplete-input").trigger(i)):13===n?(e.preventDefault(),$("ul.e-ul li.e-hover").attr("id")):(autoCompleteRefresh(t),$("#autocomplete-input").val(t),$("#autocomplete-input").ejAutocomplete("enable"),$("#autocomplete-input").ejAutocomplete("search"),$("#autocomplete-input").ejAutocomplete("hide"))}function getCaretCharacterOffsetWithin(e){var t,i,n=0,o=e.ownerDocument||e.document,s=o.defaultView||o.parentWindow;return void 0!==s.getSelection?0<(t=s.getSelection()).rangeCount&&((i=(s=s.getSelection().getRangeAt(0)).cloneRange()).selectNodeContents(e),i.setEnd(s.endContainer,s.endOffset),n=i.toString().length):(t=o.selection)&&"Control"!=t.type&&(s=t.createRange(),(i=o.body.createTextRange()).moveToElementText(e),i.setEndPoint("EndToEnd",s),n=i.text.length),n}function onSelect(e){$("#scroll-element").ejScroller("enable");var t,i=$("ul.e-ul li.e-hover").attr("id"),n=(""!=i&&null!=i&&""!=(n=i.split("-"))&&null!=n&&(t=n[0],i.split(/-(.+)?/)[1]),initialPosition.line),i=initialPosition.ch,o=initialLine.length;targetElement.focus(),cursorPos.codemirror.setSelection({line:n,ch:0},{line:n,ch:o}),cursorPos.codemirror.replaceSelection(initialLine),cursorPos.codemirror.setSelection({line:n,ch:i},{line:n,ch:i}),userList.push(e.item.Name+"|~"+e.item.IdPReferenceId),"User"==t?cursorPos.codemirror.replaceSelection("@Â ["+e.item.Name+"]Â "):cursorPos.codemirror.replaceSelection("@ "+e.value+"Â "),$("#autocomplete-input").ejAutocomplete("disable"),$("#autocomplete-input_suggestion").attr("style","display:none !important;")}function onOpen(){var e,t,i=$("#autocomplete-input").data("ejAutocomplete").scrollerObj,i=(i.model.height=135,i.model.buttonSize=0,i.model.scrollerSize=9,i.refresh(),$("#autocomplete-input_suggestion").attr("style","display:block !important; z-index: 9;"),document.getElementById("autocomplete"));$(i).length&&(e=(i=$(i)[0].getBoundingClientRect()).left,i=i.top+30,t=$("#autocomplete-input_suggestion").width(),$("#autocomplete-input_suggestion").height(),$(parent.$("#commentModuleContainer")[0]).height(),e+t<$(parent.$("#commentModuleContainer")[0]).width()?$("#autocomplete-input_suggestion").css("left",e):$("#autocomplete-input_suggestion").css("left",e-t+16),$("#autocomplete-input_suggestion").css("top",i),$("#autocomplete-input_suggestion").addClass("usermention-suggestionlist"))}function autoCompleteRefresh(e){var t=e;clearTimeout(window.timer),window.timer=setTimeout(function(){autosuggestion(t)},400)}function autosuggestion(e){$.xhrPool.abortAll();var t=(0<parent.$("#widget_Comment").length?parent.$("#widget_Comment"):parent.$("#dashboard_Comment")).attr("data-item-id");$("#autocomplete-input_suggestion").css("display","none"),""!=e.trim()&&(e={searchWord:e,itemId:parent.isMultiTab?parentItemId:t,parentId:parent.$("#isMultiDashboard").attr("data-parent-id")},parent.ajaxPostCall("GET",userMentionDataSourceUrl,e,null,userMentionDataList,null,null))}function userMentionDataList(e){$("#autocomplete-input_suggestion").css("display","none");var t=$("#autocomplete-input").data("ejAutocomplete");t.model.dataSource=JSON.parse(e),t._OnTextEnter(),onOpen()}function splitUserMention(e){var e=$(e).children().find(".CodeMirror-code"),t=!1,n=[],o=[],s=[],r=[],a=/(?:\@\ (.*?)\Â )/,l=($(e)[0].getElementsByClassName("cm-usercontainer"),$(e)[0].getElementsByClassName("cm-groupcontainer")),e=$(e)[0].getElementsByClassName("cm-allcontainer"),d=userList;if(userList=[],l.length)for(i=0;i<l.length;i++)o[i]=a.exec(l[i].textContent),o[i]&&n.push(o[i][1]);return e.length?t=!0:($.each(d,function(e,t){-1===$.inArray(t,s)&&s.push(t)}),$.each(n,function(e,t){-1===$.inArray(t,r)&&r.push(t)})),{uniqueUsersValue:s,uniqueGroupValue:r,mentionedAll:t}}function userMentionInitializing(e,t){var o,s,r,a,i,n,l,d,c=e.target,h=e.keyCode||e.which;cursorPos.value();64===h&&(targetElement=c,0==$("#autocomplete-trigger").length)&&(h='<span id="autocomplete"><span id="autocomplete-trigger">@</span><span id="autocomplete-search-text" contenteditable></span></span>',cursorPos.codemirrorIgnore,i=cursorPos.codemirror.getCursor(),o=(initialPosition=i).line,s=i.ch,r=cursorPos.codemirror.getLine(o),a=(initialLine=r).length,i="",(d=cursorPos.codemirror.findWordAt({line:o,ch:s}).anchor.ch)==(n=cursorPos.codemirror.findWordAt({line:o,ch:s}).head.ch)-1&&a==s||0==d&&0==n||" "==r[s-1]&&null==r[s]?((l=$(t).children().find(".CodeMirror-code").children())&&($(l[o].firstChild).append(h),i=$("#autocomplete-search-text"),$(i[0]).focus()),e.preventDefault(),$("#scroll-element").ejScroller("disable")):s!=d&&(" "!=r[s-1]||" "!=r[s+1]&&" "!=r[s])||(cursorPos.codemirror.setSelection({line:o,ch:s},{line:o,ch:a}),n=cursorPos.codemirror.getSelection(),cursorPos.codemirror.replaceSelection(""),(l=$(t).children().find(".CodeMirror-code").children())&&(d=l[o].firstChild,$(d).append(h),d.append(n),i=$("#autocomplete-search-text"),$(i[0]).focus()),e.preventDefault(),$("#scroll-element").ejScroller("disable")),$("#autocomplete-search-text").on("keydown",function(e){var e=e.keyCode||e.which,t=$("#autocomplete-search-text").text(),i=getCaretCharacterOffsetWithin(document.getElementById("autocomplete-search-text"));8===e&&0==i&&($("#autocomplete-input_suggestion").css("display","none"),removingUserMentionContainer(c,t,o,s,a,r))}),$("#autocomplete-search-text").on("blur",function(e){$("#scroll-element").ejScroller("enable")}),$("#autocomplete-search-text").on("keyup",function(e){var t,i=e.keyCode||e.which,n=($("#scroll-element").ejScroller("enable"),$("#autocomplete-search-text").text());getCaretCharacterOffsetWithin(document.getElementById("autocomplete-search-text"));27===i||33===i||9===i||36===i?removingUserMentionContainer(c,n,o,s,a,r):13===i?(e.preventDefault(),i=$("ul.e-ul li.e-hover").attr("id"),""!=(t=$("ul.e-ul li.e-hover").text())&&"No suggestions"!=t?onSelect({id:i,value:t}):removingUserMentionContainer(c,n,o,s,a,r)):autoCompletes(e,n)}),$(".CodeMirror").on("click",function(){var e="";$("#autocomplete-search-text").length&&$("#autocomplete").length&&(e=(e="@"+$("#autocomplete-search-text").text()).trim(),c.focus(),cursorPos.codemirror.setSelection({line:initialPosition.line,ch:0},{line:initialPosition.line,ch:initialLine.length}),cursorPos.codemirror.replaceSelection(initialLine),cursorPos.codemirror.setSelection({line:initialPosition.line,ch:initialPosition.ch},{line:initialPosition.line,ch:initialPosition.ch}),cursorPos.codemirror.replaceSelection(e),$("#autocomplete-input").ejAutocomplete("disable"),$("#autocomplete-input_suggestion").attr("style","display:none !important;"))}))}function displaySuggestionList(){$("#autocomplete-input_suggestion").css("display","none")}function removingUserMentionContainer(e,t,i,n,o,s){$("#scroll-element").ejScroller("enable");var r="";$("#autocomplete-search-text").length&&$("#autocomplete").length&&(r=(r="@"+t).trim(),$("#autocomplete-input").ejAutocomplete("disable"),$("#autocomplete-input_suggestion").attr("style","display:none !important;"),e.focus(),cursorPos.codemirror.setSelection({line:i,ch:0},{line:i,ch:o}),cursorPos.codemirror.replaceSelection(s),cursorPos.codemirror.setSelection({line:i,ch:n},{line:i,ch:n}),cursorPos.codemirror.replaceSelection(r),$("#autocomplete-input").ejAutocomplete("disable"),$("#autocomplete-input_suggestion").attr("style","display:none !important;"))}function ajaxSetup(){$.xhrPool=[],$.xhrPool.abortAll=function(){$(this).each(function(e,t){t.abort()}),$.xhrPool.length=0},$.ajaxSetup({beforeSend:function(e){$.xhrPool.push(e)},complete:function(e){e=$.xhrPool.indexOf(e);-1<e&&$.xhrPool.splice(e,1)}})}function commentPermalinkHelper(e){return"href='#comment-"+e+"'"}function SplitUserDisplayName(n,e){var o=/\[|\]\\|\|\~.*?]/g,e=e.match(/(?:\@\Â (.*?)\Â )/g);return null!=e&&$.each(e,function(e,t){var i=t.replace(o,"");n=n.replace(t,i)}),n}function GetClientTimeZone(e){return String(String(new Date(e)).split("(")[1]).split(")")[0]}function resetItemIdForMultiTab(e){var t;parent.isMultiTab&&(t=parent.$(".e-content.e-lib.e-touch").find(".e-active").index(),dashboardItemId=parent.multiTabDashboardDetails[t].Id,"dashboard"==e.toLowerCase())&&(itemId=dashboardItemId)}function GetItemWatch(e,t,i){var n=$("#itemType").attr("data-item-type").toLowerCase();void 0===n||"dashboard"!=n.toLowerCase()&&"widget"!=n.toLowerCase()||$.ajax({url:getItemWatchUrl.web,data:{itemId:e,parentId:t,userId:i,isWidgetRequest:"widget"==n.toLowerCase()},type:"POST",success:function(e){e.Status&&(e.isWatched?($("#watchItem").val("Unwatch").removeClass("watch").addClass("unwatch").attr("data-original-title",window.Server.App.Localization.Unwatch),$("#watch-text").removeClass("watch").addClass("unwatch")):($("#watchItem").val("Watch").removeClass("unwatch").addClass("watch").attr("data-original-title",window.Server.App.Localization.Watch),$("#watch-text").removeClass("unwatch").addClass("watch")),isAdmin=e.isAdmin)}})}function getItemWatchResult(e){e&&1==e.Status&&(e.IsWatched?($("#watchItem").val("Unwatch").removeClass("watch").addClass("unwatch").attr("data-original-title",window.Server.App.Localization.Unwatch),$("#watch-text").removeClass("watch").addClass("unwatch")):($("#watchItem").val("Watch").removeClass("unwatch").addClass("watch").attr("data-original-title",window.Server.App.Localization.Watch),$("#watch-text").removeClass("unwatch").addClass("watch")),isAdmin=e.IsAdmin)}$(document).ready(function(){dataManager=null,ajaxSetup();var e=ej.Query().from("userMentionList").select("Name","Type"),p=($("#autocomplete-input").ejAutocomplete({allowSorting:!1,dataSource:dataManger,width:"200px",popupHeight:"135px",filterType:"contains",query:e,fields:{text:"Name",key:"Type"},select:"onSelect",create:"displaySuggestionList",actionSuccess:"displaySuggestionList",open:"displaySuggestionList"}),void 0!==$("#itemType").attr("data-item-type")?$("#itemType").attr("data-item-type").toLowerCase():"dashboard"),m=(dashboardItemId=parent.isMultiTab?(e=parent.$(".e-content.e-lib.e-touch").find(".e-active").index(),parent.multiTabDashboardDetails[e].Id):parent.$("#dashboard_Comment").attr("data-item-id"),parent.$("#dashboard_Comment").attr("data-category-name")),f=parent.$("#dashboard_Comment").attr("data-item-name"),g=(parentDashboardId=parent.$("#isMultiDashboard").attr("data-parent-id"),parent.$("#widget_Comment").attr("data-item-id")),v=parent.$("#widget_Comment").attr("data-item-name"),e=getUrlVars(parent.window.location.href.split("#")[0]).comment,b=(void 0!==itemId&&"undefined"!==itemId&&"true"==$("#isWidgetComment").val()&&GetAllComments(itemId,p,dashboardItemId,"1",parentItemId,e),(itemId=parent.isMultiTab&&void 0!==p&&"dashboard"==p.toLowerCase()?dashboardItemId:itemId)!=dashboardItemId&&(itemId=dashboardItemId),renderMde("#rte-post"));function r(e){var t;null!=e&&e.Status?(e.Comments[0].TimeZoneName=GetClientTimeZone(e.Comments[0].CreatedDate),t="<li id='comment-"+e.Comments[0].Id+"'data-comment-id='"+e.Comments[0].Id+"' class='post'><div class='post-content'><div class='avatar-container'> <div class='user' data-userid='"+e.Comments[0].UserId+"'><div class='profile-pic-tag avatar' data-id='"+e.Comments[0].IdPReferenceId+"' data-type='user' data-display-name='"+e.Comments[0].UserDisplayName+"' data-image-size='32'></div> </div></div><div class='post-body'> <header><span class='post-byline col-xs-5 no-padding'><span title='"+e.Comments[0].UserDisplayName+"'class='author publisher-anchor-color'>"+e.Comments[0].UserDisplayName+"</span><span class='su su-status-active'></span></span><menu><li class='reply' title='"+window.Server.App.Localization.ReplyButton+"' data-bs-toggle='tooltip' data-placement='bottom'> <a class='reply-comment'><span class='su su-reply'></span> </a></li><span class='dropdown-toggle option-icon' title='"+window.Server.App.Localization.Action+"' data-bs-toggle='dropdown'><span class='su su-options-horizontal'></span></span><ul class='dropdown-menu' role='menu'><li class='edit' title='"+window.Server.App.Localization.EditButton+"'  data-bs-toggle='tooltip' data-placement='top'> <a class='edit-comment'><span>"+window.Server.App.Localization.EditButton+"</span> </a></li><li class='delete' title='"+window.Server.App.Localization.Delete+"'  data-bs-toggle='tooltip' data-placement='top'> <a class='delete-comment'><span>"+window.Server.App.Localization.Delete+"</span> </a></li></menu><span class='post-meta col-xs-9 no-padding'><a "+commentPermalinkHelper(e.Comments[0].Id)+" class='permalink'><span class='time-ago' title='"+e.Comments[0].CreatedDateString+" - "+e.Comments[0].TimeZoneName+"' data-html='false' data-bs-toggle='tooltip' data-placement='right'>"+e.Comments[0].TimeAgo+"</span></a></span> </header> <div class='post-body-inner'><div class='edit-post displayNone'></div><div class='post-message'>"+SplitUserDisplayName(e.Comments[0].HtmlComment,e.Comments[0].MarkdownComment)+"</div><div class='markDownComment hidden'>"+e.Comments[0].MarkdownComment+"</div></div> <div class='footer'></div></div><div class='reply-form-container displayNone'></div><div class='col-12 reply-count'><div class='col-xs-6 child-count'><span class='count-text'>0</span><span class='count-label'> "+window.Server.App.Localization.Reply+"</span></div><div class='col-xs-6 no-padding collapse-icon-container'><span class='su collapse-icon' data-bs-toggle='collapse' data-bs-target=''></span></div></div></div><ul class='children'></ul> </li>",$(".sort-old").hasClass("sort-active")?$(".comment-list").append(t):$(".comment-list").prepend(t),$(".additional-content").html(""),t=parseInt($("#comment_count").text()),$("#comment_count").text(t+1),$('[data-bs-toggle="tooltip"]').tooltip(),b.value(""),$("#comment_action_area").show(),$(".watch-action").hasClass("watch")&&($("#watchItem").val("Unwatch"),$("#watchItem").removeClass("watch").addClass("unwatch"),$("#watch-text").removeClass("watch").addClass("unwatch"),$("#watchItem").attr("data-original-title",window.Server.App.Localization.Unwatch)),hideWaitingPopup("parent-scroll-element"),$("#comment_action_area").removeClass("isHide"),$("#comment_action_area").show(),$("#comment_submit_container").hide(),refreshCommentScroller(),addTarget_blank(),$("#comment-"+e.Comments[0].Id).find("span.time-ago:first").click(),0==t&&("dashboard"==p?(isSydjViewer?(parent.isMultiTab?parent.$(".e-content.e-lib.e-touch").find(".e-active").find("#dashboard-comment"):parent.$("#dashboard-comment")).removeClass("su-without-comment").addClass("su-with-comment"):(parent.$(dashboardTypeId).data(ejType).toggleDashboardComment(),parent.$("ul.options li#comments span.su-without-comment").addClass("su-with-comment").removeClass("su-without-comment")),"true"==parent.$("#is_mobile").val()&&parent.$("#comment-li .server-comment").removeClass("su su-without-comment").addClass("su su-with-comment")):(null!=parent.$(dashboardTypeId).data(ejType)&&(isSydjViewer?parent.$("[data-widget-id='"+itemId+"']").find(".su-without-comment").first().removeClass("su-without-comment").addClass("su-with-comment"):parent.$(dashboardTypeId).data(ejType).dynamicwithCommentIconChange(itemId)),null!=parent.$("#widget").data(ejType)&&(wid=parent.$(".e-dbrd-control-container").attr("id"),isSydjViewer?parent.$("[data-widget-id='"+wid+"']").find(".su-without-comment").first().removeClass("su-without-comment").addClass("su-with-comment"):parent.$("#widget").data(ejType).dynamicwithCommentIconChange(wid),parent.$(".server-comment").removeClass("su-without-comment").addClass("su-with-comment")))),$(".post-message > p > img").on("load",function(){refreshCommentScroller()})):(hideWaitingPopup("parent-scroll-element"),parent.frames[1].messageBox("su-open",window.Server.App.Localization.AddComment,window.Server.App.Localization.AddCommentFail,"success",function(){parent.frames[1].onCloseMessageBox()})),generateProfileAvatar()}function y(e){null!=e&&e.Status?($("#save-edit").parentsUntil(".post").find(".post-message").html(SplitUserDisplayName(e.Comments[0].HtmlComment,e.Comments[0].MarkdownComment)),$("#save-edit").parentsUntil(".post").find(".markDownComment").html(e.Comments[0].MarkdownComment),$("#save-edit").parentsUntil(".post").find(".post-message").removeClass("displayNone"),$(".watch-action").hasClass("watch")&&($("#watchItem").val("Unwatch"),$("#watchItem").removeClass("watch").addClass("unwatch"),$("#watch-text").removeClass("watch").addClass("unwatch"),$("#watchItem").attr("data-original-title",window.Server.App.Localization.Unwatch)),hideWaitingPopup($("#save-edit").parentsUntil(".post").find(".edit-post")),$(".edit-post").addClass("displayNone"),$(".edit-post").html(""),refreshCommentScroller(),addTarget_blank()):(parent.frames[1].messageBox("su-open",window.Server.App.Localization.EditComment,window.Server.App.Localization.EditCommentFail,"success",function(){parent.frames[1].onCloseMessageBox()}),hideWaitingPopup($("#save-edit").parentsUntil(".post").find(".edit-post")))}function l(e){(null!=e&&e.Status?(e.Comments[0].TimeZoneName=GetClientTimeZone(e.Comments[0].CreatedDate),addComment="<li id='comment-"+e.Comments[0].Id+"'data-comment-id='"+e.Comments[0].Id+"' class='post collapse in'><div class='post-content'><div class='avatar-container'> <div class='user' data-userid='"+e.Comments[0].UserId+"'><div class='profile-pic-tag avatar' data-id='"+e.Comments[0].IdPReferenceId+"' data-type='user' data-display-name='"+e.Comments[0].UserDisplayName+"' data-image-size='32'></div></div></div><div class='post-body'> <header><span class='post-byline col-xs-5 no-padding'><span title='"+e.Comments[0].UserDisplayName+"'class='author publisher-anchor-color'>"+e.Comments[0].UserDisplayName+"</span><span class='su su-status-active'></span></span><menu>",addComment+="<li class='reply' title='"+window.Server.App.Localization.ReplyButton+"'data-bs-toggle='tooltip' data-placement='bottom'> <a class='reply-comment'><span class='su su-reply'></span> </a></li><span class='dropdown-toggle option-icon' title='"+window.Server.App.Localization.Action+"' data-bs-toggle='dropdown'><span class='su su-options-horizontal'></span></span><ul class='dropdown-menu' role='menu'><li class='edit' title='"+window.Server.App.Localization.EditButton+"'  data-bs-toggle='tooltip' data-placement='top'> <a class='edit-comment'><span>"+window.Server.App.Localization.EditButton+"</span> </a></li><li class='delete' title='"+window.Server.App.Localization.Delete+"'  data-bs-toggle='tooltip' data-placement='top'> <a class='delete-comment'><span>"+window.Server.App.Localization.Delete+"</span> </a></li><li class='parent' data-parent-id='"+e.Comments[0].ParentId+"' title = '"+window.Server.App.Localization.Replied.format($("#replyComment").parents(".post").find(".author").attr("title"))+"'> <a class='parent-name'><span>"+window.Server.App.Localization.ShowParent+"</span> </a></li></ul></menu><span class='post-meta col-xs-9 no-padding'><a "+commentPermalinkHelper(e.Comments[0].Id)+" class='permalink'><span class='time-ago' title='"+e.Comments[0].CreatedDateString+" - "+e.Comments[0].TimeZoneName+"'data-html='false' data-bs-toggle='tooltip' data-placement='right'>"+e.Comments[0].TimeAgo+"</span></a></span> </header> <div class='post-body-inner'><div class='edit-post displayNone'></div><div class='post-message'>"+SplitUserDisplayName(e.Comments[0].HtmlComment,e.Comments[0].MarkdownComment)+"</div><div class='markDownComment hidden'>"+e.Comments[0].MarkdownComment+"</div> </div> <div class='footer'></div></div><div class='reply-form-container displayNone'></div><div class='col-12 reply-count'><div class='col-xs-6 child-count'><span class='count-text'>0</span><span class='count-label'> "+window.Server.App.Localization.Reply+"</span></div><div class='col-xs-6 no-padding collapse-icon-container'><span class='su collapse-icon' data-bs-toggle='collapse' data-bs-target=''></span></div></div></div><ul class='children'></ul> </li>",$("#post-reply").closest(".post-content").siblings().prepend(addComment),$(".reply-form-container").html(""),$("#replyComment").addClass("displayNone"),$(".comment-list").find(".post").find(".post").find(".children").addClass("no-left-padding"),$("#comment_count").text(parseInt($("#comment_count").text())+1),$('[data-bs-toggle="tooltip"]').tooltip(),$("#replyComment").parent().find(".count-text").text(parseInt($("#replyComment").parent().find(".count-text").text())+1),1==parseInt($("#replyComment").parent().find(".count-text").text())?$("#replyComment").parent().find(".count-label").text(" "+window.Server.App.Localization.Reply):$("#replyComment").parent().find(".count-label").text(" "+window.Server.App.Localization.Replies),$("#replyComment").parent().find(".collapse-icon").addClass("su-vertical-collapse"),$("#replyComment").parent().find(".reply-count").addClass("hasChild"),$(".watch-action").hasClass("watch")&&($("#watchItem").val("Unwatch"),$("#watchItem").removeClass("watch").addClass("unwatch"),$("#watch-text").removeClass("watch").addClass("unwatch"),$("#watchItem").attr("data-original-title",window.Server.App.Localization.Unwatch)),hideWaitingPopup("replyComment"),$("#replyComment").removeClass("e-waitingpopup e-js"),$(".reply-form-container").attr("id",""),refreshCommentScroller(),addTarget_blank(),generateProfileAvatar):($("#replyComment").addClass("displayNone"),hideWaitingPopup("replyComment"),$(".reply-form-container").attr("id",""),parent.frames[1].messageBox("su-open",window.Server.App.Localization.ReplyButton,window.Server.App.Localization.ReplyFail,"success",function(){parent.frames[1].onCloseMessageBox()}),refreshCommentScroller))()}function s(e){var t,i;parent.onCloseMessageBox(),$("#messageBox_wrapper-loader-icon").hide(),$("#messageBox_wrapper").ejWaitingPopup("hide"),null!=e&&e?(e=deletedCommentId,parent.successToast(window.Server.App.Localization.DeleteCommentSuccess,7e3),""==$("#"+e).find(".children").html()||1==$("#"+e).find(".user").length?$("#"+e).html(""):($("#"+e).find(".avatar-container:first").html("<img src='"+avatarUrl+"' class='avatar'>"),$("#"+e).find(".post-body:first").html("<header><span class='post-byline col-xs-5 no-padding'></span><span class='post-meta col-xs-9 no-padding'></span><menu class='deleted-post'><li class='reply' > <span class='su su-reply'></span> </li><span class='dropdown-toggle option-icon' ><span class='su su-options-horizontal'></span></span></menu> </header> <div class='post-body-inner'><div class='post-message deleted-message'><span class='su su-warning'></span><span>"+window.Server.App.Localization.DeletedMessage+"</span></div> </div>")),0==$("#"+e).parents(".post:first").find(".post-content").find(".user").length&&$("#"+e).parents(".post:first").html(""),t=parseInt($("#comment_count").text()),$("#comment_count").text(t-1),1==(i=parseInt($("#"+e).parents(".post:first").find(".count-text:first").html()))&&($("#"+e).parents(".post:first").find(".collapse-icon:first").removeClass("su-vertical-collapse"),$("#"+e).parents(".post:first").find(".reply-count:first").removeClass("hasChild")),2==i&&$("#"+e).parents(".post:first").find(".count-label:first").html(" reply"),$("#"+e).parents(".post:first").find(".count-text:first").html(i-1),refreshCommentScroller(),1==t&&("dashboard"==p?((isSydjViewer?parent.isMultiTab?parent.$(".e-content.e-lib.e-touch").find(".e-active").find("#dashboard-comment"):parent.$("#dashboard-comment"):(parent.$(dashboardTypeId).data(ejType).toggleDashboardComment(),parent.$("ul.options li#comments span.su-with-comment"))).removeClass("su-with-comment").addClass("su-without-comment"),$(".additional-content").html("<h7>"+window.Server.App.Localization.NoComments+"</h7>"),"true"==parent.$("#is_mobile").val()&&parent.$("#comment-li .server-comment").removeClass("su su-with-comment").addClass("su su-without-comment")):(null!=parent.$(dashboardTypeId).data(ejType)&&(isSydjViewer?parent.$("[data-widget-id='"+itemId+"']").find(".su-with-comment").first().removeClass("su-with-comment").addClass("su-without-comment"):parent.$(dashboardTypeId).data(ejType).dynamicwithoutCommentIconChange(itemId),$(".additional-content").html("<h7>"+window.Server.App.Localization.NoComments+"</h7>")),null!=parent.$("#widget").data(ejType)&&(wid=parent.$(".e-dbrd-control-container").attr("id"),isSydjViewer?parent.$("[data-widget-id='"+wid+"']").find(".su-with-comment").first().removeClass("su-with-comment").addClass("su-without-comment"):parent.$("#widget").data(ejType).dynamicwithoutCommentIconChange(wid),$(".additional-content").html("<h7>"+window.Server.App.Localization.NoComments+"</h7>"),parent.$(".server-comment").removeClass("su-with-comment").addClass("su-without-comment"))))):parent.warningToast(window.Server.App.Localization.DeleteCommentFail)}function i(e){e?($("#watchItem").val("Unwatch"),$("#watchItem").removeClass("watch").addClass("unwatch"),$("#watch-text").removeClass("watch").addClass("unwatch"),$("#watchItem").attr("data-original-title",window.Server.App.Localization.Unwatch)):parent.frames[1].messageBox("su-eye",window.Server.App.Localization.AddWatch,window.Server.App.Localization.WatchFail,"success",function(){parent.frames[1].onCloseMessageBox()}),$(".watch-action").removeClass("disable-post")}function n(e){e?($("#watchItem").val("Watch"),$("#watchItem").removeClass("unwatch").addClass("watch"),$("#watch-text").removeClass("unwatch").addClass("watch"),$("#watchItem").attr("data-original-title",window.Server.App.Localization.Watch)):parent.frames[1].messageBox("su-eye",window.Server.App.Localization.Unwatch,window.Server.App.Localization.UnWatchFail,"success",function(){parent.frames[1].onCloseMessageBox()}),$(".watch-action").removeClass("disable-post")}cursorPos=b,$("#comment_action_slider").click(function(){cursorPos=b.value(""),b.isPreviewActive()&&b.togglePreview(),$(".reply-form-container").html(""),$(".reply-form-container").addClass("displayNone"),$(".reply-form-container").attr("id",""),$(".edit-post").addClass("displayNone"),$(".post-message").removeClass("displayNone"),$(".edit-post").html(""),$("#comment_action_area").hide(),$("#comment_submit_container").show(),$("#comment_action_area").addClass("isHide"),$(".error-message").html(""),refreshCommentScroller(),setTimeout(function(){cursorPos.codemirror.focus(),cursorPos.codemirror.setCursor({line:0,ch:0})},500)}),$("#comment_submit_container > .CodeMirror").on("keypress","textarea",function(e){4e3<=b.value().length?e.preventDefault():userMentionInitializing(e,elementNode=$("#comment_submit_container > .CodeMirror"))}),$(document).on("click",".header-comment-close",function(){b.value(""),$("#comment_action_area").removeClass("isHide"),$("#comment_action_area").show(),$("#comment_submit_container").hide(),refreshCommentScroller()}),$(".sort-new").click(function(){GetAllComments(itemId,p,dashboardItemId,"1",parentItemId),$(".sort-new").addClass("sort-active"),$(".sort-new").removeClass("sort-inactive"),$(".sort-old").addClass("sort-inactive"),$(".sort-old").removeClass("sort-active")}),$(".sort-old").click(function(){GetAllComments(itemId,p,dashboardItemId,"0",parentItemId),$(".sort-new").addClass("sort-inactive"),$(".sort-new").removeClass("sort-active"),$(".sort-old").addClass("sort-active"),$(".sort-old").removeClass("sort-inactive")}),$(document).on("focus","textarea",function(){$("textarea").pastableTextarea()}),$(document).on("click","#post-comment",function(){var e="";e=parent.isMultiTab?(t=parent.$(".e-content.e-lib.e-touch").find(".e-active").index(),parent.multiTabDashboardDetails[t].Id):parent.$("#dashboard_Comment").attr("data-item-id"),resetItemIdForMultiTab(p);var t=splitUserMention($("#comment_submit_container > .CodeMirror")),i=truncateUrl(),n=i.split("?"),o="",n=(o=(o=1<n.length?n[1]:o).includes("embed_signature")||o.includes("isembed")?"":o,i.split("/")),o=(parent.isMultiTab||("dashboard"==p.toLowerCase()?i=""!=o?"/"+n[1]+"/"+dashboardItemId+"/"+m+"/"+f+"?"+o:"/"+n[1]+"/"+dashboardItemId+"/"+m+"/"+f:"widget"==p.toLowerCase()&&(i="true"==$("#isWidgetComment").val()?""!=o?"/"+n[1]+"/"+dashboardItemId+"/"+m+"/"+f+"?"+o:"/"+n[1]+"/"+dashboardItemId+"/"+m+"/"+f:"/"+n[1]+"/"+g+"/"+v)),b.value()),n=b.options.previewRender(o).replace("#",""),s=(o=getRelativePath(o)).replace("http://","").replace("https://","").replace("(","").replace(")","").replace("![]","");isEmptyOrWhitespace(n.replace(/<[^>]*>!/gi,""))||isEmptyOrWhitespace(s)?$(".error-message").html("<span class='validate-fail'>"+window.Server.App.Localization.CommentValidator+"</span>"):4e3<o.length?$(".error-message").html("<span class='validate-fail'>"+window.Server.App.Localization.CommentLengthValidator+"</span>"):($(".comment-area").val(""),$(".error-message").html(""),showWaitingPopup("parent-scroll-element"),n={itemId:"widget"!=p&&itemId!=e?e:itemId,comment:o,itemType:p,dashboardItemId:dashboardItemId,url:decodeURI(i),UniqueUsersValue:t.uniqueUsersValue,UniqueGroupValue:t.uniqueGroupValue,MentionedAll:t.mentionedAll,currentDate:date,CommentAction:commentAction.Add,parentItemId:parentItemId},parent.ajaxPostCall("POST",addCommentUrl,n,null,r,null,null))}),$(document).on("click",".edit-comment",function(){var r="",e=(r=parent.isMultiTab?(e=parent.$(".e-content.e-lib.e-touch").find(".e-active").index(),parent.multiTabDashboardDetails[e].Id):parent.$("#dashboard_Comment").attr("data-item-id"),b.value(""),$(this).parents("menu").siblings(".post-meta").find("a.permalink")),t=$(e).attr("href").split("comment-")[1],i=(void 0===t&&(t=$(e).attr("href").split("comment=")[1]),$(e).attr("href","#comment-"+t),$(e).attr("target",""),$(this).parents(".post").attr("data-comment-id")),a=($("#comment_action_area").removeClass("isHide"),$("#comment_action_area").show(),$("#comment_submit_container").hide(),$(".reply-form-container").html(""),$(".reply-form-container").addClass("displayNone"),$(".reply-form-container").attr("id",""),$(".edit-post").addClass("displayNone"),$(".post-message").removeClass("displayNone"),$(".edit-post").html(""),$(this).closest("div").find(".edit-post").html("<div class='edit'><textarea id='edit_comment_"+i+"' class='form-control edit-text' placeholder='' style='overflow: hidden;'></textarea><span class='message'>*"+window.Server.App.Localization.CommentWords+"</span><span class='error-message-edit'></span><div class='temp-post'><button class='edit-cancel secondary-button app-btn-secondary pull-right'>"+window.Server.App.Localization.CancelButton+"</button><button id ='save-edit' class='primary-button app-btn-primary pull-right' type='submit'>"+window.Server.App.Localization.SaveButton+"</button></div></div>"),renderMde("#edit_comment_"+i)),n=(cursorPos=a,$(this).closest("div").find(".post-message").addClass("displayNone"),$(this).closest("div").find(".edit-post").removeClass("displayNone"),refreshCommentScroller(),$(e).find("span.time-ago").click(),$(this).closest("div").find(".markDownComment").text()),o=n.match(/(?:\!\[\]\((.*?)\))/g),s=[];if(null!=o){for(var l=0;l<o.length;l++)s[l]=o[l].split(/[\(\\!\[\ \]\\)\s]+/),s[l]=$.grep(s[l],function(e){return e});for(var d=0;d<s.length;d++)if(s[d]=s[d].toString(),-1!==s[d].indexOf("image-"))for(var c=s[d].split("/"),h=0;h<c.length;h++)-1!==c[h].indexOf("image-")&&(n=n.replace(s[d],c[h]))}a.value(n),setTimeout(function(){cursorPos.codemirror.focus()},200),cursorPos.codemirror.setCursor({line:n.length,ch:n.length}),"false"==parent.$("#is_mobile").val()&&$("#save-edit").prop("disabled","true");var u=$(this).closest("div").find(".markDownComment").text();$(".CodeMirror").on("keypress keyup","textarea",function(e){var t=a.value();4e3<=t.length?e.preventDefault():userMentionInitializing(e,elementNode=$("#edit_comment_"+i).parent()),u!=t.trim()?$("#save-edit").removeAttr("disabled"):$("#save-edit").prop("disabled","true")}),$(".editor-toolbar").on("click",function(e){$("textarea").keypress()}),$("#save-edit").on("click",function(){resetItemIdForMultiTab(p);var e=truncateUrl(),t=e.split("?"),i="",t=(i=(i=1<t.length?t[1]:i).includes("embed_signature")||i.includes("isembed")?"":i,e.split("/"));parent.isMultiTab||("dashboard"==p.toLowerCase()?e=""!=i?"/"+t[1]+"/"+dashboardItemId+"/"+m+"/"+f+"?"+i:"/"+t[1]+"/"+dashboardItemId+"/"+m+"/"+f:"widget"==p.toLowerCase()&&(e="true"==$("#isWidgetComment").val()?""!=i?"/"+t[1]+"/"+dashboardItemId+"/"+m+"/"+f+"?"+i:"/"+t[1]+"/"+dashboardItemId+"/"+m+"/"+f:"/"+t[1]+"/"+g+"/"+v));var i=getRelativePath(a.value()),t=$(this).closest(".post").attr("data-comment-id"),n=splitUserMention($("#edit_comment_"+t).parent()),o=a.options.previewRender(i).replace("#",""),s=i.replace("http://","").replace("https://","").replace("(","").replace(")","").replace("![]","");isEmptyOrWhitespace(o.replace(/<[^>]*>!/gi,""))||isEmptyOrWhitespace(s)?($(".edit-text").addClass("inactive-box"),$(".error-message-edit").html("<span class='validate-fail'>"+window.Server.App.Localization.CommentValidator+"</span>")):4e3<i.length?($(".reply-text").addClass("inactive-box"),$(".error-message-edit").html("<span class='validate-fail'>"+window.Server.App.Localization.CommnetLengthValidator+"</span>")):(showWaitingPopup($("#save-edit").parentsUntil(".post").find(".edit-post")),o={itemId:"widget"!=p&&itemId!=r?r:itemId,comment:i,commentId:t,itemType:p,dashboardItemId:dashboardItemId,url:decodeURI(e),uniqueUsersValue:n.uniqueUsersValue,uniqueGroupValue:n.uniqueGroupValue,mentionedAll:n.mentionedAll,commentAction:commentAction.Edit,currentDate:date,parentItemId:parentItemId},parent.ajaxPostCall("POST",editCommentUrl,o,null,y,null,null))}),$(".edit-cancel").on("click",function(){$(".post-message").removeClass("displayNone"),$(".edit-post").addClass("displayNone"),$(".edit-post").html(""),$(".error-message-edit").html(""),refreshCommentScroller()})}),$(document).on("click",".reply-comment",function(){var r="",e=(r=parent.isMultiTab?(e=parent.$(".e-content.e-lib.e-touch").find(".e-active").index(),parent.multiTabDashboardDetails[e].Id):parent.$("#dashboard_Comment").attr("data-item-id"),b.value(""),$(this).parents("menu").siblings(".post-meta").find("a.permalink")),t=$(e).attr("href").split("comment-")[1],t=(void 0===t&&(t=$(e).attr("href").split("comment=")[1]),$(e).attr("href","#comment-"+t),$(e).attr("target",""),$(this).parents(".post").attr("data-comment-id")),a=($("#comment_action_area").removeClass("isHide"),$("#comment_action_area").show(),$("#comment_submit_container").hide(),$(".post-message").removeClass("displayNone"),$(".edit-post").addClass("displayNone"),$(".edit-post").html(""),$(".reply-form-container").html(""),$(".reply-form-container").addClass("displayNone"),$(".reply-form-container").attr("id",""),$(this).closest("div").parent().parent().find(".reply-form-container").html("<textarea id='replyto_comment_"+t+"' class='form-control reply-text' maxlength='4000' style='overflow: hidden;'></textarea><span class='message'>*"+window.Server.App.Localization.CommentWords+"</span><div class='reply-comment-footer'><span class='error-message-reply'></span><button class='reply-cancel secondary-button app-btn-secondary float-end'>"+window.Server.App.Localization.CancelButton+"</button><input id='post-reply' class='primary-button app-btn-primary float-end' value='"+window.Server.App.Localization.ReplyButton+"' type='submit'></div>"),renderMde("#replyto_comment_"+t));cursorPos=a,$(this).closest("div").parent().parent().find(".reply-form-container").attr("id","replyComment"),$("#replyComment").removeClass("displayNone"),refreshCommentScroller(),$(e).find("span.time-ago").click(),setTimeout(function(){cursorPos.codemirror.focus()},200),cursorPos.codemirror.setCursor({line:0,ch:0}),$("#replyComment > .CodeMirror").on("keypress","textarea",function(e){4e3<=a.value().length?e.preventDefault():userMentionInitializing(e,elementNode=$("#replyComment > .CodeMirror"))}),$("#post-reply").on("click",function(){resetItemIdForMultiTab(p);var e=truncateUrl(),t=e.split("?"),i="",t=(i=(i=1<t.length?t[1]:i).includes("embed_signature")||i.includes("isembed")?"":i,e.split("/")),i=(parent.isMultiTab||("dashboard"===p.toLowerCase()?e=""!==i?"/"+t[1]+"/"+dashboardItemId+"/"+m+"/"+f+"?"+i:"/"+t[1]+"/"+dashboardItemId+"/"+m+"/"+f:"widget"===p.toLowerCase()&&(e="true"===$("#isWidgetComment").val()?""!==i?"/"+t[1]+"/"+dashboardItemId+"/"+m+"/"+f+"?"+i:"/"+t[1]+"/"+dashboardItemId+"/"+m+"/"+f:"/"+t[1]+"/"+g+"/"+v)),a.value()),t=splitUserMention($("#replyComment > .CodeMirror")),i=getRelativePath(i),n=$(this).closest(".post").attr("data-comment-id"),o=a.options.previewRender(i).replace("#",""),s=i.replace("http://","").replace("https://","").replace("(","").replace(")","").replace("![]","");isEmptyOrWhitespace(o.replace(/<[^>]*>!/gi,""))||isEmptyOrWhitespace(s)?($(".reply-text").addClass("inactive-box"),$(".error-message-reply").html("<span class='validate-fail'>"+window.Server.App.Localization.ReplyValidator+"</span>")):4e3<i.length?($(".reply-text").addClass("inactive-box"),$(".error-message-reply").html("<span class='validate-fail'>"+window.Server.App.Localization.ReplyContentLength+"</span>")):(showWaitingPopup("replyComment"),o={itemId:"widget"!=p&&itemId!=r?r:itemId,comment:i,parentId:n,itemType:p,dashboardItemId:dashboardItemId,url:decodeURI(e),uniqueUsersValue:t.uniqueUsersValue,uniqueGroupValue:t.uniqueGroupValue,mentionedAll:t.mentionedAll,currentDate:date,CommentAction:commentAction.Add,parentItemId:parentItemId},parent.ajaxPostCall("POST",addCommentUrl,o,null,l,null,null))}),$(".reply-cancel").on("click",function(){$("#replyComment").addClass("displayNone"),$(".reply-form-container").html(""),$(".reply-form-container").attr("id",""),$(".error-message-reply").html(""),refreshCommentScroller()})}),$(document).on("click",".delete-comment",function(){var t="",i=(t=parent.isMultiTab?(e=parent.$(".e-content.e-lib.e-touch").find(".e-active").index(),parent.multiTabDashboardDetails[e].Id):parent.$("#dashboard_Comment").attr("data-item-id"),resetItemIdForMultiTab(p),isActionCompleted=!1,truncateUrl()),e=i.split("?"),n="",e=(n=(n=1<e.length?e[1]:n).includes("embed_signature")||n.includes("isembed")?"":n,i.split("/")),o=(parent.isMultiTab||("dashboard"===p.toLowerCase()?i=""!==n?"/"+e[1]+"/"+dashboardItemId+"/"+m+"/"+f+"?"+n:"/"+e[1]+"/"+dashboardItemId+"/"+m+"/"+f:"widget"===p.toLowerCase()&&(i="true"===$("#isWidgetComment").val()?""!==n?"/"+e[1]+"/"+dashboardItemId+"/"+m+"/"+f+"?"+n:"/"+e[1]+"/"+dashboardItemId+"/"+m+"/"+f:"/"+e[1]+"/"+g+"/"+v)),$(this).closest(".post").attr("data-comment-id")),n=$(this).closest(".post").attr("id");deletedCommentId=n,parent.messageBox("su-delete",window.Server.App.Localization.DeleteComment,window.Server.App.Localization.DeleteCommentConfirm,"error",function(){var e;isActionCompleted||(isActionCompleted=!0,e=parent.createLoader("messageBox_wrapper"),$("#messageBox_wrapper").ejWaitingPopup({template:parent.$("#"+e)}),$("#messageBox_wrapper").ejWaitingPopup("show"),e={itemId:"widget"!=p&&itemId!=t?t:itemId,commentId:o,itemType:p,dashboardItemId:dashboardItemId,url:decodeURI(i),commentAction:commentAction.Delete,currentDate:date,parentItemId:parentItemId},parent.ajaxPostCall("POST",deleteCommentUrl,e,null,s,null,null))})}),$(document).on("click",".watch-action",function(){var e,t;parent.isMultiTab&&(e=parent.$(".e-content.e-lib.e-touch").find(".e-active").index(),itemId=parent.multiTabDashboardDetails[e].Id),$(this).hasClass("disable-post")||($(".watch-action").addClass("disable-post"),$(this).hasClass("watch")?(t={itemId:itemId,isWatch:!0,currentDate:date,parentItemId:parentItemId},parent.ajaxPostCall("POST",watchUrl,t,null,i,null,null)):(t={itemId:itemId,isWatch:!1,currentDate:date,parentItemId:parentItemId},parent.ajaxPostCall("POST",unWatchUrl,t,null,n,null,null)))}),$(document).on("click",".parent",function(){var t="#comment-"+$(this).attr("data-parent-id"),e=$(t).find(".permalink:first").attr("href").split("comment-")[1];if(void 0===e&&(e=$(t).find(".permalink:first").attr("href").split("comment=")[1]),$(t).find(".permalink:first").attr("href","#comment-"+e),$(t).find(".permalink:first").attr("target",""),$(t).isOnScreen()||$(t).find(".time-ago:first").click(),$(t).find(".post-content:first").addClass("highlight-comment"),i_am_ie9){$(t).find(".post-content:first").addClass("highlight-comment");for(var i=3e3,n=82;n<=100;n+=.1)i+=10,!function(e){setTimeout(function(){$(t).find(".post-content:first").css("backgroundColor","hsl(46,76%,"+e+"%)"),$(t).find(".post-content:first").removeClass("highlight-comment")},i)}(n)}else setTimeout(function(){$(t).find(".post-content:first").css({transition:"background-color 5s ease-in-out","background-color":"inherit"})},20),setTimeout(function(){$(t).find(".post-content:first").attr("style",""),$(t).find(".post-content:first").removeClass("highlight-comment")},4e3)}),$(document).on("mousedown",".permalink",function(e){var t;"undefined"==typeof(postId=$(this).attr("href").split("comment-")[1])&&(postId=$(this).attr("href").split("comment=")[1]),2!=e.which&&3!=e.which||(t=parent.document.URL,-1!=parent.window.location.href.indexOf("?comment")||-1==parent.window.location.href.indexOf("?")?(t=t.split("?comment=")[0],$(this).attr("href",t+"?comment="+postId)):(t=t.split("&comment=")[0],$(this).attr("href",t+"&comment="+postId)),$(this).attr("target","_blank")),1==e.which&&($(this).attr("href","#comment-"+postId),$(this).attr("target",""))}),$(document).on("click",".hasChild",function(){$(this).find(".collapse-icon").hasClass("su-vertical-expand")?($(this).find(".collapse-icon").parents(".post-content").siblings("ul.children").slideDown("slow",function(){refreshCommentScroller()}),$(this).find(".collapse-icon").addClass("su-vertical-collapse"),$(this).find(".collapse-icon").removeClass("su-vertical-expand"),$(this).find(".collapse-icon").parents(".reply-count").removeClass("expanded"),$(this).find(".collapse-icon").attr("title",window.Server.App.Localization.Collapse)):($(this).find(".collapse-icon").parents(".post-content").siblings("ul.children").slideUp("slow",function(){refreshCommentScroller()}),$(this).find(".collapse-icon").addClass("su-vertical-expand"),$(this).find(".collapse-icon").removeClass("su-vertical-collapse"),$(this).find(".collapse-icon").parents(".reply-count").addClass("expanded"),$(this).find(".collapse-icon").attr("title",window.Server.App.Localization.Expand))}),$(document).on("mouseover","#comment-image-file,#comment-image-edit-file",function(){var t,e=$.now(),i=$("#itemType").attr("data-item-type").toLowerCase().replace(/\b[a-z]/g,function(e){return e.toUpperCase()});$("#comment-image-file,#comment-image-edit-file").ejUploadbox({saveUrl:fileUploadUrl+"?imageType=commentimage&&timeStamp="+e+"&&itemId="+itemId+"&&itemType="+i,autoUpload:!0,showFileDetails:!1,multipleFilesSelection:!1,buttonText:{browse:""},width:"29px",height:"29px",showBrowseButton:!1,extensionsAllow:".PNG,.png,.jpg,.JPG,.jpeg,.JPEG",begin:function(){showWaitingPopup("parent-scroll-element")},fileSelect:function(e){$(".confirmatioMessage").hide(),t=e.files[0].extension.toLowerCase(),e.files[0].name},error:function(e){hideWaitingPopup("parent-scroll-element"),".png"!=t&&".jpg"!=t&&".jpeg"!=t?$(".error-message").html("<span class='validate-fail'>"+window.Server.App.Localization.FileFormatNotsupport+"</span>"):$(".error-message").html("<span class='validate-fail'>"+window.Server.App.Localization.InternalServerError+"</span>")},complete:function(e){""!=e.responseText&&-1!==e.responseText.indexOf("image-")&&(e=" ![]("+e.responseText.split(";")[1]+")",$("textarea").focus(),cursorPos.codemirror.replaceSelection(e),hideWaitingPopup("parent-scroll-element"),$("textarea").keypress())}}),$("#comment-image-file_SelectButton,#comment-image-file,#comment-image-edit-file,.e-uploadinput").attr("title",window.Server.App.Localization.UploadImage)}),parent.$("#commentImage_popup").BoldBIDashboardDialog({showOnInit:!1,allowDraggable:!1,enableResize:!1,showHeader:!1,enableModal:!0,close:"commentImageDialogClose",closeOnEscape:!0}),$(document).on("click",".post-message > p > img",function(){var e,t,i,n=$(".base-comment-container").hasClass("widget-comment")?$(window).height()+300:$(window).height(),o=(null==parent.$(dashboardTypeId).width()?parent.$("#widget"):parent.$(dashboardTypeId)).width(),s=$(this).attr("src"),r=new Image;r.src=s,$(r).on("load",function(){e=r.width,t=r.height,i=t<n?40<n-t?t:t=n-.07*n:t=null!=parent.$("#widget").height()?t-(t-n+40):t-(t-n+20),parent.$("#commentImage_popup_wrapper").css({height:i}),parent.$("#commentImage_popup_image,#commentImage_popup,#PopupContainer,#commentImage_popup_wrapper .e-dialog-scroller").css({height:t}),i=e<=o&&e<=900?40<o-e?e:e=o-.07*o:e=.68*o,parent.$("#commentImage_popup_wrapper").css({width:i}),parent.$("#commentImage_popup_image,#commentImage_popup,#PopupContainer,#commentImage_popup_wrapper .e-dialog-scroller").css({width:e}),parent.$("#commentImage_popup_image").attr("src",s),parent.$("#commentImage_popup").removeClass("hidden"),parent.$("#commentImage_popup").BoldBIDashboardDialog("open")})}),$(window).resize(function(){refreshCommentScroller()})}),$.fn.isOnScreen=function(){windowHeight=$("#list_container").outerHeight();var e=(textAreaHeight=($("#comment_action_area").hasClass("isHide")?$("#comment_submit_container"):$("#comment_action_area")).outerHeight())+$(".count-sort").outerHeight();return(offsetTop=this.offset().top)>=e&&offsetTop<=windowHeight},$.fn.pastableTextarea=function(){for(var e,t=0,i=this.length;t<i;t++)(e=this[t])._pastable||$(e).is(":not(textarea, input:text)")||(Paste.mountTextarea(e),e._pastable=!0);return this},createHiddenEditable=function(){return $(document.createElement("div")).attr("contenteditable",!0).attr("aria-hidden",!0).attr("tabindex",-1).css({width:1,height:1,position:"fixed",left:-100,overflow:"hidden"})},isFocusable=function(e,t){var i,n=void 0,o=void 0,s=void 0,r=e.nodeName.toLowerCase();return"area"===r?(i=(n=e.parentNode).name,!(!e.href||!i||"map"!==n.nodeName.toLowerCase())&&0<(o=$("img[usemap='#"+i+"']")).length&&o.is(":visible")):(/^(input|select|textarea|button|object)$/.test(r)?(s=!e.disabled)&&(n=$(e).closest("fieldset")[0])&&(s=!n.disabled):s="a"===r&&e.href||t,(s=s||$(e).is("[contenteditable]"))&&$(e).is(":visible"))},Paste=function(){function s(e,t){var p;this._container=e,this._target=t,this._container=$(this._container),this._target=$(this._target).addClass("pastable"),this._container.on("paste",(p=this,function(e){var t,i,n,o,s,r,a,l,d,c,h,u;if(showWaitingPopup("parent-scroll-element"),p._paste_event_fired=!0,null!=(null!=(d=e.originalEvent)?d.clipboardData:void 0))if((t=e.originalEvent.clipboardData).items)for(o=0,r=(c=t.items).length;o<r;o++){if((n=c[o]).type.match(/^image\//)){(l=new FileReader).onload=function(e){return p._handleImage(e.target.result)},l.readAsDataURL(n.getAsFile()),e.preventDefault();break}"text/plain"===n.type&&n.getAsString(function(e){setTimeout(function(){return hideWaitingPopup("parent-scroll-element"),p._target.trigger("pasteText",{text:e})},1)})}else-1!==Array.prototype.indexOf.call(t.types,"text/plain")&&(u=t.getData("Text"),setTimeout(function(){return hideWaitingPopup("parent-scroll-element"),p._target.trigger("pasteText",{text:u})},1)),p._checkImagesInContainer(function(e){return p._handleImage(e)});if(t=window.clipboardData)if(null!=(u=t.getData("Text"))&&u.length)setTimeout(function(){return hideWaitingPopup("parent-scroll-element"),p._target.trigger("pasteText",{text:u}),p._target.trigger("_pasteCheckContainerDone")},1);else{for(s=0,a=(h=t.files).length;s<a;s++)i=h[s],p._handleImage(URL.createObjectURL(i));p._checkImagesInContainer(function(e){})}return setTimeout(function(){hideWaitingPopup("parent-scroll-element")},1e3),null}))}return s.prototype._target=null,s.prototype._container=null,s.mountNonInputable=function(e){var t=new s(createHiddenEditable().appendTo(e),e);return $(e).on("click",function(e){if(!isFocusable(e.target,!1))return t._container.focus()}),t._container.on("focus",function(){return $(e).addClass("pastable-focus")}),t._container.on("blur",function(){return $(e).removeClass("pastable-focus")})},s.mountTextarea=function(i){var n,o;return DataTransfer.prototype.__lookupGetter__("items")?this.mountContenteditable(i):(o=new s(createHiddenEditable().insertBefore(i),i),n=!1,$(i).on("keyup",function(e){return 17!==(e=e.keyCode)&&224!==e||(n=!1),null}),$(i).on("keydown",function(e){var t;return 17!==(t=e.keyCode)&&224!==t||(n=!0),(n=null!=e.ctrlKey&&null!=e.metaKey?e.ctrlKey||e.metaKey:n)&&86===e.keyCode&&(o._textarea_focus_stolen=!0,o._container.focus(),o._paste_event_fired=!1,setTimeout(function(){if(!o._paste_event_fired)return $(i).focus(),o._textarea_focus_stolen=!1},1)),null}),$(i).on("paste",function(){}),$(i).on("focus",function(){if(!o._textarea_focus_stolen)return $(i).addClass("pastable-focus")}),$(i).on("blur",function(){if(!o._textarea_focus_stolen)return $(i).removeClass("pastable-focus")}),$(o._target).on("_pasteCheckContainerDone",function(){return $(i).focus(),o._textarea_focus_stolen=!1}),$(o._target).on("pasteText",function(e,t){t=t.text;return cursorPos.codemirror.replaceSelection(t),hideWaitingPopup("parent-scroll-element"),$(i).trigger("change")}))},s.mountContenteditable=function(e){new s(e,e);return $(e).on("focus",(hideWaitingPopup("parent-scroll-element"),function(){return $(e).addClass("pastable-focus")})),$(e).on("blur",function(){return hideWaitingPopup("parent-scroll-element"),$(e).removeClass("pastable-focus")})},s.prototype._handleImage=function(e){var t=new Image;return t.crossOrigin="anonymous",t.onload=function(){var e=document.createElement("canvas");e.width=t.width,e.height=t.height,e.getContext("2d").drawImage(t,0,0,e.width,e.height);try{pasteImageReader(e.toDataURL("image/png"))}catch(e){hideWaitingPopup("parent-scroll-element")}},t.onerror=void 0,t.src=e},s.prototype._checkImagesInContainer=function(n){for(var o,s,r=Math.floor(1e3*Math.random()),e=this._container.find("img"),t=0,i=e.length;t<i;t++)(o=e[t])["_paste_marked_"+r]=!0;return setTimeout((s=this,function(){var e,t,i=s._container.find("img");for(0==i.length&&hideWaitingPopup("parent-scroll-element"),e=0,t=i.length;e<t;e++)(o=i[e])["_paste_marked_"+r]||(n(o.src),$(o).remove());return s._target.trigger("_pasteCheckContainerDone")}),1)},s}(),$(document).on("click","#close-comment",function(){$(".view-heading").css("display","none"),$(".header-section a").css("display","none"),parent.$("#commentImage_popup").BoldBIDashboardDialog("close"),parent.$("#commentModuleContainer").addClass("displayNone"),parent.$("#delete_popup_iframe").addClass("displayNone"),parent.$("#dashboard-comment").removeClass(" highlight-icon"),parent.$("#widgetCommentModuleContainer").addClass("displayNone"),"true"==parent.$("#is_mobile").val()&&(parent.$(dashboardTypeId).show(),parent.$("#server-mobile-navbar .server-comment").hasClass("active"))&&(parent.$("#server-mobile-navbar a.active").removeClass("active"),parent.$("#server-mobile-navbar .su-nav-dashboard").addClass("active")),parent.$(".options").css("right","0px"),parent.$(".options li").removeClass("active"),iframeUrl==parentUrl?(parent.isMultiTab&&(parent.$(".e-content.e-lib.e-touch").css("width",$(parent.window).width()),parent.$(".e-content.e-lib.e-touch").css("height",$(parent.window).height()-40)),parent.$(dashboardTypeId).css("width",$(parent.window).width()-parent.$(".options").outerWidth()+"px"),parent.getDashboardInstance().resizeDashboard()):parent.$(".su-sidebar-collapse").is(":visible")||(parent.$(dashboardTypeId).css("width",parent.document.body.clientWidth-40),$(parent.parent.document.body).find("#item-viewer").css("width",parent.document.body.clientWidth-5))}),function(e){"function"==typeof define&&define.amd?define(["jquery"],e):e()}(function(){var e;window.ej=window.Syncfusion=window.Syncfusion||{},function(f,g,d){"use strict";g.version="14.4.0.15",g.consts={NamespaceJoin:"-"},g.TextAlign={Center:"center",Justify:"justify",Left:"left",Right:"right"},g.Orientation={Horizontal:"horizontal",Vertical:"vertical"},g.serverTimezoneOffset=0,g.persistStateVersion=null,Object.prototype.hasOwnProperty||(Object.prototype.hasOwnProperty=function(e,t){return e[t]!==d}),String.format=function(){for(var e=arguments[0],t=0;t<arguments.length-1;t++)e=e.replace(new RegExp("\\{"+t+"\\}","gm"),arguments[t+1]);return e.replace(/\{[0-9]\}/g,"")},jQuery.uaMatch=function(e){e=e.toLowerCase();e=/(chrome)[ \/]([\w.]+)/.exec(e)||/(webkit)[ \/]([\w.]+)/.exec(e)||/(opera)(?:.*version|)[ \/]([\w.]+)/.exec(e)||/(msie) ([\w.]+)/.exec(e)||e.indexOf("compatible")<0&&/(mozilla)(?:.*? rv:([\w.]+)|)/.exec(e)||[];return{browser:e[1]||"",version:e[2]||"0"}},g.defineClass=function(e,t,i,n){if(!e||!i)return d;for(var o=e.split("."),s=window,r=0;r<o.length-1;r++)g.isNullOrUndefined(s[o[r]])&&(s[o[r]]={}),s=s[o[r]];return(n||g.isNullOrUndefined(s[o[r]]))&&(s[o[r]]=t="function"==typeof t?t:function(){},s[o[r]].prototype=i),s[o[r]]},g.util={getNameSpace:function(e){e=e.toLowerCase().split(".");return"ej"===e[0]&&(e[0]="e"),e.join(g.consts.NamespaceJoin)},getObject:function(e,t){var i,n,o;if(!t)return d;for(i=t,n=e.split("."),o=0;o<n.length&&!g.util.isNullOrUndefined(i);o++)i=i[n[o]];return i},createObject:function(e,t,i){for(var n,o=e.split("."),e=i||window,s=e,r=o.length,a=0;a<r;a++)n=o[a],a+1==r?s[n]=t===d?{}:t:g.isNullOrUndefined(s[n])&&(s[n]={}),s=s[n];return e},isNullOrUndefined:function(e){return e===d||null===e},print:function(e,t){var i,n=g.buildTag("div"),e=e.clone();n.append(e),(t=t||window.open("","print","height=452,width=1024,tabbar=no")).document.write("<!DOCTYPE html>"),e=f("head").find("link").add("style"),"msie"===g.browserInfo().name?(i="",e.each(function(e,t){"LINK"==t.tagName&&f(t).attr("href",t.href),i+=t.outerHTML}),t.document.write("<html><head></head><body>"+i+n[0].innerHTML+"</body></html>")):(i="",t.document.write("<html><head>"),e.each(function(e,t){"LINK"==t.tagName&&f(t).attr("href",t.href),i+=t.outerHTML}),t.document.writeln(i+"</head><body>"),t.document.writeln(n[0].innerHTML+"</body></html>")),t.document.close(),t.focus(),setTimeout(function(){g.isNullOrUndefined(t.window)||(t.print(),setTimeout(function(){t.close()},1e3))},1e3)},ieClearRemover:function(e){var t=f(e).height();e.style.paddingTop=parseFloat(t/2)+"px",e.style.paddingBottom=parseFloat(t/2)+"px",e.style.height="1px",e.style.lineHeight="1px"},sendAjaxRequest:function(e){f.ajax({type:e.type,cache:e.cache,url:e.url,dataType:e.dataType,data:e.data,contentType:e.contentType,async:e.async,success:e.successHandler,error:e.errorHandler,beforeSend:e.beforeSendHandler,complete:e.completeHandler})},buildTag:function(e,t,i,n){var o=/^[a-z]*[0-9a-z]+/gi.exec(e)[0],s=(s=/#([_a-z]+[-_0-9a-z]+)/gi.exec(e))?s[s.length-1]:d,e=/\.([a-z]+[-_0-9a-z ]+)/gi.exec(e);return e=e?e[e.length-1]:d,f(document.createElement(o)).attr(s?{id:s}:{}).addClass(e||"").css(i||{}).attr(n||{}).html(t||"")},_preventDefaultException:function(e,t){if(e)for(var i in t)if(t[i].test(e[i]))return!0;return!1},getMaxZindex:function(){var e=1;return e=(e=Math.max.apply(null,f.map(f("body *"),function(e){if("absolute"==f(e).css("position")||"fixed"==f(e).css("position"))return parseInt(f(e).css("z-index"))||1})))!=d&&null!=e?e:1},blockDefaultActions:function(e){e.cancelBubble=!0,e.returnValue=!1,e.preventDefault&&e.preventDefault(),e.stopPropagation&&e.stopPropagation()},getDimension:function(e,t){var i,n,o,s=f(e).parents().andSelf().filter(":hidden");return s&&(n={visibility:"hidden",display:"block"},o=[],s.each(function(){var e,t={};for(e in n)t[e]=this.style[e],this.style[e]=n[e];o.push(t)}),i=/(outer)/g.test(t)?f(e)[t](!0):f(e)[t](),s.each(function(e){var t,i=o[e];for(t in n)this.style[t]=i[t]})),i},transitionEndEvent:function(){return{"":"transitionend",webkit:"webkitTransitionEnd",Moz:"transitionend",O:"otransitionend",ms:"MSTransitionEnd"}[g.userAgent()]},animationEndEvent:function(){return{"":"animationend",webkit:"webkitAnimationEnd",Moz:"animationend",O:"webkitAnimationEnd",ms:"animationend"}[g.userAgent()]},startEvent:function(){return g.isTouchDevice()||f.support.hasPointer?"touchstart":"mousedown"},endEvent:function(){return g.isTouchDevice()||f.support.hasPointer?"touchend":"mouseup"},moveEvent:function(){return g.isTouchDevice()||f.support.hasPointer?f.support.hasPointer&&!g.isMobile()?"ejtouchmove":"touchmove":"mousemove"},cancelEvent:function(){return g.isTouchDevice()||f.support.hasPointer?"touchcancel":"mousecancel"},tapEvent:function(){return g.isTouchDevice()||f.support.hasPointer?"tap":"click"},tapHoldEvent:function(){return g.isTouchDevice()||f.support.hasPointer?"taphold":"click"},isDevice:function(){return g.getBooleanVal(f("head"),"data-ej-forceset",!1)?g.getBooleanVal(f("head"),"data-ej-device",this._device()):this._device()},isPortrait:function(){var e=document.documentElement;return e&&e.clientWidth/e.clientHeight<1.1},isLowerResolution:function(){return window.innerWidth<=640&&g.isPortrait()&&g.isDevice()||window.innerWidth<=800&&!g.isDevice()||window.innerWidth<=800&&!g.isPortrait()&&g.isWindows()&&g.isDevice()||g.isMobile()},isIOSWebView:function(){return/(iPhone|iPod|iPad).*AppleWebKit(?!.*Safari)/i.test(navigator.userAgent)},isAndroidWebView:function(){return!("undefined"==typeof Android)},isWindowsWebView:function(){return-1!=location.href.indexOf("x-wmapp")},_device:function(){return/Android|BlackBerry|iPhone|iPad|iPod|IEMobile|kindle|windows\sce|palm|smartphone|iemobile|mobile|pad|xoom|sch-i800|playbook/i.test(navigator.userAgent.toLowerCase())},isMobile:function(){return/iphone|ipod|android|blackberry|opera|mini|windows\sce|palm|smartphone|iemobile/i.test(navigator.userAgent.toLowerCase())&&/mobile/i.test(navigator.userAgent.toLowerCase())||!0===g.getBooleanVal(f("head"),"data-ej-mobile",!1)},isTablet:function(){return/ipad|xoom|sch-i800|playbook|tablet|kindle/i.test(navigator.userAgent.toLowerCase())||!0===g.getBooleanVal(f("head"),"data-ej-tablet",!1)||!g.isMobile()&&g.isDevice()},isTouchDevice:function(){return("ontouchstart"in window||window.navigator.msPointerEnabled&&g.isMobile())&&this.isDevice()},getClearString:function(e){return f.trim(e.replace(/\s+/g," ").replace(/(\r\n|\n|\r)/gm,"").replace(new RegExp(">[\n\t ]+<","g"),"><"))},getBooleanVal:function(e,t,i){e=f(e).attr(t);return null!=e?"true"==e.toLowerCase():i},_getSkewClass:function(e,t,i){var n=e.width(),o=e.height(),s=e.offset().left,r=e.offset().left+n,a=e.offset().top,e=e.offset().top+o,n=.3*n,o=.3*o;return t<s+n&&i<a+o?"e-m-skew-topleft":r-n<t&&i<a+o?"e-m-skew-topright":r-n<t&&e-o<i?"e-m-skew-bottomright":t<s+n&&e-o<i?"e-m-skew-bottomleft":s+n<t&&i<a+o&&t<r-n?"e-m-skew-top":t<s+n?"e-m-skew-left":r-n<t?"e-m-skew-right":e-o<i?"e-m-skew-bottom":"e-m-skew-center"},_removeSkewClass:function(e){f(e).removeClass("e-m-skew-top e-m-skew-bottom e-m-skew-left e-m-skew-right e-m-skew-topleft e-m-skew-topright e-m-skew-bottomleft e-m-skew-bottomright e-m-skew-center e-skew-top e-skew-bottom e-skew-left e-skew-right e-skew-topleft e-skew-topright e-skew-bottomleft e-skew-bottomright e-skew-center")},_getObjectKeys:function(e){var t,i=[];if(e=Object.prototype.toString.call(e)===Object.prototype.toString()?e:{},!Object.keys){for(t in e)e.hasOwnProperty(t)&&i.push(t);return i}if(Object.keys)return Object.keys(e)},_touchStartPoints:function(e,t){e&&(e=e.touches?e.touches[0]:e,t._distX=0,t._distY=0,t._moved=!1,t._pointX=e.pageX,t._pointY=e.pageY)},_isTouchMoved:function(e,t){var i,n;if(e)return n=(e=e.touches?e.touches[0]:e).pageX-t._pointX,i=e.pageY-t._pointY,Date.now(),t._pointX=e.pageX,t._pointY=e.pageY,t._distX+=n,t._distY+=i,e=Math.abs(t._distX),n=Math.abs(t._distY),!(e<5&&n<5)},listenEvents:function(e,t,i,n,o,s){for(var r=0;r<e.length;r++)g.listenTouchEvent(e[r],t[r],i[r],n,o,s)},listenTouchEvent:function(e,t,i,n,o,s){for(var r,a=n?"removeEventListener":"addEventListener",l=n?"off":"on",d=f(e),c=0;c<d.length;c++)switch(r=d[c],t){case"touchstart":g._bindEvent(r,a,t,i,"mousedown","MSPointerDown","pointerdown",s);break;case"touchmove":g._bindEvent(r,a,t,i,"mousemove","MSPointerMove","pointermove",s);break;case"touchend":g._bindEvent(r,a,t,i,"mouseup","MSPointerUp","pointerup",s);break;case"touchcancel":g._bindEvent(r,a,t,i,"mousecancel","MSPointerCancel","pointercancel",s);break;case"tap":case"taphold":case"ejtouchmove":case"click":f(r)[l](t,i);break;default:"msie"==g.browserInfo().name&&g.browserInfo().version<9?o._on(f(r),t,i):r[a](t,i,!0)}},_bindEvent:function(e,t,i,n,o,s,r){f.support.hasPointer?e[t](window.navigator.pointerEnabled?r:s,n,!0):e[t](i,n,!0)},_browser:function(){return/webkit/i.test(navigator.appVersion)?"webkit":/firefox/i.test(navigator.userAgent)?"Moz":/trident/i.test(navigator.userAgent)?"ms":"opera"in window?"O":""},styles:document.createElement("div").style,userAgent:function(){for(var e="webkitT,t,MozT,msT,OT".split(","),t=0,i=e.length;t<i;t++)if(e[t]+"ransform"in g.styles)return e[t].substr(0,e[t].length-1);return!1},addPrefix:function(e){return""===g.userAgent()?e:(e=e.charAt(0).toUpperCase()+e.substr(1),g.userAgent()+e)},destroyWidgets:function(e){f(e).find("[data-role *= ejm]").each(function(e,t){var t=f(t),i=t.data("ejWidgets");i&&t[i]("destroy")})},getAttrVal:function(e,t,i){e=f(e).attr(t);return null!=e?e:i},getOffset:function(e){var t={},e=e.offset()||{left:0,top:0};return f.extend(!0,t,e),"static"!=f("body").css("position")&&(e=f("body").offset(),t.left-=e.left,t.top-=e.top),t},getZindexPartial:function(e,t){var i,n,o;if(!g.isNullOrUndefined(e)&&0<e.length)return i=e.parents(),n=f("body").children(),!g.isNullOrUndefined(e)&&0<e.length&&n.splice(n.index(t),1),f(n).each(function(e,t){i.push(t)}),!(o=Math.max.apply(o,f.map(i,function(e){if("static"!=f(e).css("position"))return parseInt(f(e).css("z-index"))||1})))||o<1e4?o=1e4:o+=1,o},isValidAttr:function(e,t){var i;return void 0!==(e=f(e)[0])[t]||(i=!1,f.each(e,function(e){if(e.toLowerCase()==t.toLowerCase())return!(i=!0)}),i)}},f.extend(g,g.util),g.widgetBase={droppables:{default:[]},resizables:{default:[]},_renderEjTemplate:function(e,t,i,n){var o=null;return(o="object"==typeof e||e.startsWith("#")||e.startsWith(".")?f(e).attr("type"):o)&&(o=o.toLowerCase(),g.template[o])?g.template[o](this,e,t,i,n):g.template.render(this,e,t,i,n)},destroy:function(){var e,t,i,n;if(!this._trigger("destroy")){this.model.enablePersistence&&(this.persistState(),f(window).off("unload",this._persistHandler));try{this._destroy()}catch(e){}for(e=this.element.data("ejWidgets")||[],n=0;n<e.length;n++)e[n]==this.pluginName&&e.splice(n,1);for(e.length||this.element.removeData("ejWidgets");this._events&&(i=[],t=this._events.pop());){for(n=0;n<t[1].length;n++)f.isPlainObject(t[1][n])||i.push(t[1][n]);f.fn.off.apply(t[0],i)}this._events=null,this.element.removeClass(g.util.getNameSpace(this.sfType)).removeClass("e-js").removeData(this.pluginName),this.element=null,this.model=null}},_on:function(e){this._events||(this._events=[]);for(var t=[].splice.call(arguments,1,arguments.length-1),i={},n=t.length;i&&"function"!=typeof i;)i=t[--n];return t[n]=g.proxy(t[n],this),this._events.push([e,t,i,t[n]]),f.fn.on.apply(e,t),this},_off:function(e,t,i,n){var o,s,r,a,l=this._events;if(l&&l.length)for("function"==typeof i&&(o=n,n=i,i=o),s=t.match(/\S+/g)||[""],r=0;r<l.length;r++)if((a=l[r])[0].length&&(!n||a[2]===n)&&(a[1][0]===t||s[0])&&(!i||a[1][1]===i)&&-1<f.inArray(e[0],a[0])){f.fn.off.apply(e,n?[t,i,a[3]]:[t,i]),l.splice(r,1);break}return this},_trigger:function(e,t){var i,n,o=null,s={};return f.extend(s,t),(o=e in this.model?this.model[e]:o)&&("string"==typeof o&&(o=g.util.getObject(o,window)),f.isFunction(o))&&(i=g.event(e,this.model,t),o=o.call(this,i),(n=this.model._applyScope)&&n.call(),t&&f.extend(t,i),i.cancel||!g.isNullOrUndefined(o))?!1===o||i.cancel:(n=Boolean(t),(t=t||{}).originalEventType=e,t.type=this.pluginName+e,i=f.Event(t.type,g.event(t.type,this.model,t)),this.element.trigger(i),n&&f.extend(t,i),g.isOnWebForms&&0==i.cancel&&this.model.serverEvents&&this.model.serverEvents.length&&g.raiseWebFormsServerEvents(e,t,s),i.cancel)},setModel:function(e,t){var i,n,o;if(!this._trigger("modelChange",{changes:e})){for(i in e){if(!t){if(this.model[i]===e[i]){delete e[i];continue}if(f.isPlainObject(e[i])&&(s(this.model[i],e[i]),f.isEmptyObject(e[i]))){delete e[i];continue}}if(this.dataTypes&&!0!==(n=this._isValidModelValue(i,this.dataTypes,e)))throw"setModel - Invalid input for property :"+i+" - "+n;this.model.notifyOnEachPropertyChanges&&this.model[i]!==e[i]&&(n={oldValue:this.model[i],newValue:e[i]},e[i]=this._trigger(i+"Change",n)?this.model[i]:n.newValue)}f.isEmptyObject(e)||(this._setFirst?((o=e.dataSource)&&delete e.dataSource,f.extend(!0,this.model,e),o&&(this.model.dataSource=o instanceof Array?o.slice():o,e.dataSource=this.model.dataSource),this._setModel&&this._setModel(e)):this._setModel&&!1===this._setModel(e)||f.extend(!0,this.model,e),"enablePersistence"in e&&this._setState(e.enablePersistence))}},option:function(e,t,i){if(!e)return this.model;if(f.isPlainObject(e))return this.setModel(e,i);if("string"==typeof e){e=e.replace(/^model\./,"");var n=g.getObject(e,this.model);if(t===d&&!i)return n;if("enablePersistence"===e)return this._setState(t);if(i&&t===g.extensions.modelGUID)return this._setModel(g.createObject(e,g.getObject(e,this.model),{}));if(i||g.getObject(e,this.model)!==t)return this.setModel(g.createObject(e,t,{}),i)}return d},_isValidModelValue:function(e,t,i){var n,o,s,r=t[e],a=i[e];if(r){if("string"==typeof r){if("enum"==r&&(i[e]=a&&a.toString().toLowerCase(),r="string"),"array"===r){if("[object Array]"===Object.prototype.toString.call(a))return!0}else if("data"===r||"parent"===r||typeof a===r)return!0;return"Expected type - "+r}if(a instanceof Array){for(o=0;o<a.length;o++)if(!0!==(n=this._isValidModelValue(e,t,a[o])))return" ["+o+"] - "+n}else for(s in a)if(n=this._isValidModelValue(s,r,a),!0!==n)return s+" : "+n}return!0},_returnFn:function(e,t){-1!=t.indexOf(".")?this._returnFn(e[t.split(".")[0]],t.split(".").slice(1).join(".")):e[t]=e[t].call(e.propName)},stringify:function(e){for(var t,i=this.observables,n=0;n<i.length;n++)t=g.getObject(i[n],e),g.isNullOrUndefined(t)||"function"!=typeof t||this._returnFn(e,i[n]);return JSON.stringify(e)},_setState:function(e){!0===e?(this._persistHandler=g.proxy(this.persistState,this),f(window).on("unload",this._persistHandler)):(this.deleteState(),f(window).off("unload",this._persistHandler))},_removeProp:function(e,t){g.isNullOrUndefined(e)||(-1!=t.indexOf(".")?this._removeProp(e[t.split(".")[0]],t.split(".").slice(1).join(".")):delete e[t])},persistState:function(){var e,t;if(this._ignoreOnPersist){for(e=b({},this.model),t=0;t<this._ignoreOnPersist.length;t++)this._removeProp(e,this._ignoreOnPersist[t]);e.ignoreOnPersist=this._ignoreOnPersist}else if(this._addToPersist){for(e={},t=0;t<this._addToPersist.length;t++)g.createObject(this._addToPersist[t],g.getObject(this._addToPersist[t],this.model),e);e.addToPersist=this._addToPersist}else e=b({},this.model);this._persistState&&(e.customPersists={},this._persistState(e.customPersists)),window.localStorage?(g.isNullOrUndefined(g.persistStateVersion)||null!=window.localStorage.getItem("persistKey")||window.localStorage.setItem("persistKey",g.persistStateVersion),window.localStorage.setItem("$ej$"+this.pluginName+this._id,JSON.stringify(e))):document.cookie&&(g.isNullOrUndefined(g.persistStateVersion)||null!=g.cookie.get("persistKey")||g.cookie.set("persistKey",g.persistStateVersion),g.cookie.set("$ej$"+this.pluginName+this._id,e))},deleteState:function(){window.localStorage?window.localStorage.removeItem("$ej$"+this.pluginName+this._id):document.cookie&&g.cookie.set("$ej$"+this.pluginName+this._id,model,new Date)},restoreState:function(e){var t,i,n=null;if(window.localStorage?n=window.localStorage.getItem("$ej$"+this.pluginName+this._id):document.cookie&&(n=g.cookie.get("$ej$"+this.pluginName+this._id)),n&&(t=JSON.parse(n),this._restoreState&&(this._restoreState(t.customPersists),delete t.customPersists),!1===g.isNullOrUndefined(t))&&(g.isNullOrUndefined(t.ignoreOnPersist)?g.isNullOrUndefined(t.addToPersist)||(this._addToPersist=t.addToPersist,delete t.addToPersist):(this._ignoreOnPersist=t.ignoreOnPersist,delete t.ignoreOnPersist)),g.isNullOrUndefined(t)||g.isNullOrUndefined(this._ignoreOnPersist))this.model=f.extend(!0,this.model,t);else{for(i in this._ignoreOnPersist)-1!==this._ignoreOnPersist[i].indexOf(".")?g.createObject(this._ignoreOnPersist[i],g.getObject(this._ignoreOnPersist[i],this.model),t):t[this._ignoreOnPersist[i]]=this.model[this._ignoreOnPersist[i]];this.model=t}!e&&n&&this._setModel&&this._setModel(this.model)},ignoreOnPersist:function(e){var t,i,n=[];if("object"==typeof e?n=e:"string"==typeof e&&n.push(e),this._addToPersist===d)for(this._ignoreOnPersist=this._ignoreOnPersist||[],t=0;t<n.length;t++)this._ignoreOnPersist.push(n[t]);else for(t=0;t<n.length;t++)i=this._addToPersist.indexOf(n[t]),this._addToPersist.splice(i,1)},addToPersist:function(e){var t,i,n=[];if("object"==typeof e?n=e:"string"==typeof e&&n.push(e),this._addToPersist===d)for(this._ignoreOnPersist=this._ignoreOnPersist||[],i=0;i<n.length;i++)t=this._ignoreOnPersist.indexOf(n[i]),this._ignoreOnPersist.splice(t,1);else for(i=0;i<n.length;i++)-1===f.inArray(n[i],this._addToPersist)&&this._addToPersist.push(n[i])},formatting:function(e,t,i){var n,o;if(e=e.replace(/%280/g,'"').replace(/&lt;/g,"<").replace(/&gt;/g,">"),i=g.preferredCulture(i)?i:"en-US",r=(n=e).split("{0:"),o=e.split("}"),r=r[0],o=o[1],"string"==typeof t&&f.isNumeric(t)&&(t=Number(t)),-1!=e.indexOf("{0:"))return null!=(e=new RegExp("\\{0(:([^\\}]+))?\\}","gm").exec(e))&&null!=t?null!=r&&null!=o?r+g.format(t,e[2],i)+o:g.format(t,e[2],i):null!=t?t:"";if(!n.startsWith("{")||n.startsWith("{0:"))return null!=this.data&&null==this.data.Value?(f.each(this.data,function(e,t){n=n.replace(new RegExp("\\{"+e+"\\}","gm"),t)}),n):this.data.Value;for(var s=n.split(""),r=(t=(t||"")+"").split(""),a=/[0aA\*CN<>\?]/gm,l=0,d=0;l<s.length;l++)s[l]=a.test(s[l])?"{"+d+++"}":s[l];return String.format.apply(String,[s.join("")].concat(r)).replace("{","").replace("}","")}},g.WidgetBase=function(){},s=function(e,t){for(var i in e)e[i]===t[i]&&delete t[i],f.isPlainObject(t[i])&&f.isPlainObject(e[i])&&s(e[i],t[i])},g.widget=function(h,u,p){var e,t,m;if("object"==typeof h)for(e in p=u,h)t=h[e],t instanceof Array&&(p._rootCSS=t[1],t=t[0]),g.widget(e,t,p),h[e]instanceof Array&&(p._rootCSS="");else m=p._rootCSS||g.getNameSpace(u),p=g.defineClass(u,function(e,t){var i,n,o,s,r,a,l,d,c;if(this.sfType=u,this.pluginName=h,this.instance=y,g.isNullOrUndefined(this._setFirst)&&(this._setFirst=!0),this["ob.values"]={},f.extend(this,g.widgetBase),this.dataTypes)for(i in t)if(n=this._isValidModelValue(i,this.dataTypes,t),!0!==n)throw"setModel - Invalid input for property :"+i+" - "+n;for((d=e.data("ejWidgets")||[]).push(h),e.data("ejWidgets",d),s=0;g.widget.observables&&this.observables&&s<this.observables.length;s++)(o=g.getObject(this.observables[s],t))&&g.createObject(this.observables[s],g.widget.observables.register(o,this.observables[s],this,e),t);if(this.element=e.jquery?e:f(e),this.model=b(!0,{},p.prototype.defaults,t),this.model.keyConfigs=b(this.keyConfigs),this.element.addClass(m+" e-js").data(h,this),this._id=e[0].id,this.element.attr("tabIndex")||this.element.attr("tabIndex",""),this.model.enablePersistence){if(window.localStorage&&!g.isNullOrUndefined(g.persistStateVersion)&&window.localStorage.getItem("persistKey")!=g.persistStateVersion)for(s in window.localStorage)-1!=s.indexOf("$ej$")&&window.localStorage.removeItem(s);else if(document.cookie&&!g.isNullOrUndefined(g.persistStateVersion)&&g.cookie.get("persistKey")!=g.persistStateVersion)for(r in document.cookie.split(/; */))-1!=r.indexOf("$ej$")&&g.cookie.set(r.split("=")[0],model,new Date);this._persistHandler=g.proxy(this.persistState,this),f(window).on("unload",this._persistHandler),this.restoreState(!0)}if(this._init(t),"object"==typeof this.model.keyConfigs&&!(this.model.keyConfigs instanceof Array)){for(l in a=!1,this.model.keyConfigs.focus&&this.element.attr("accesskey",this.model.keyConfigs.focus),this.model.keyConfigs)if("focus"!==l){a=!0;break}a&&this._keyPressed&&(d=e,c="keydown",this.keySettings&&(d=this.keySettings.getElement&&this.keySettings.getElement()||d,c=this.keySettings.event||c),this._on(d,c,function(e){var t,i;this.model.keyConfigs&&(t=v.getActionFromCode(this.model.keyConfigs,e.which,e.ctrlKey,e.shiftKey,e.altKey),i={code:e.which,ctrl:e.ctrlKey,alt:e.altKey,shift:e.shiftKey},t)&&!1===this._keyPressed(t,e.target,i,e)&&e.preventDefault()}))}this._trigger("create")},p),f.fn[h]=function(e){for(var t=e,i=0;i<this.length;i++){var n=f(this[i]),o=n.data(h),s=o&&n.hasClass(m),r=null;if(0<this.length&&f.isPlainObject(t)&&(e=g.copyObject({},t)),s){if(e)if(s=[].slice.call(arguments,1),0<this.length&&s[0]&&"option"===t&&f.isPlainObject(s[0])&&(s[0]=g.copyObject({},s[0])),f.isPlainObject(e))o.setModel(e);else if(0!==e.indexOf("_")&&!g.isNullOrUndefined(r=g.getObject(e,o))||0===e.indexOf("model."))if(r&&f.isFunction(r)){if((s=r.apply(o,s))!==d)return s}else{if(1==arguments.length)return r;o.option(e,arguments[1])}else a(u+": function/property - "+e+" does not exist")}else!0!==p.prototype._requiresID||f(this[i]).attr("id")||n.attr("id",l("ejControl_")),e&&"object"!=typeof e?a(h+": methods/properties can be accessed only after plugin creation"):(p.prototype.defaults&&!g.isNullOrUndefined(g.setCulture)&&"locale"in p.prototype.defaults&&"ejChart"!=h&&(!e||"locale"in e?g.isNullOrUndefined(e)&&((e={}).locale=g.setCulture().name):e.locale=g.setCulture().name),new p(n,e))}return-1!=h.indexOf("ejm")&&g.widget.registerInstance(n,h,u,p.prototype),this},g.widget.register(h,u,p.prototype)},f.extend(g.widget,{register:function(e,t,i){g.isNullOrUndefined(n[e])||a("ej.widget : The widget named "+e+" is trying to register twice."),n[e]={name:e,className:t,proto:i},g.widget.extensions&&g.widget.extensions.registerWidget(e)},registerInstance:function(e,t,i,n){r.push({element:e,pluginName:t,className:i,proto:n})},registeredWidgets:n={},registeredInstances:r=[]}),g.widget.destroyAll=function(e){var t,i,n,o;if(e&&e.length)for(t=0;t<e.length;t++)if((n=(i=e.eq(t).data()).ejWidgets)&&n.length)for(o=0;o<n.length;o++)i[n[o]]&&i[n[o]].destroy&&i[n[o]].destroy()},g.cookie={get:function(e){e=RegExp(e+"=([^;]+)").exec(document.cookie);return e&&1<e.length?e[1]:d},set:function(e,t,i){"object"==typeof t&&(t=JSON.stringify(t)),t=escape(t)+(null==i?"":"; expires="+i.toUTCString()),document.cookie=e+"="+t}},v={getActionFromCode:function(e,t,i,n,o){var s,r,a;for(s in i=i||!1,n=n||!1,o=o||!1,e)if("focus"!==s)for(r=v.getKeyObject(e[s]),a=0;a<r.length;a++)if(t===r[a].code&&i==r[a].isCtrl&&n==r[a].isShift&&o==r[a].isAlt)return s;return null},getKeyObject:function(e){for(var t,i,n,o={isCtrl:!1,isShift:!1,isAlt:!1},s=f.extend(!0,{},o),r=e.split(","),a=[],l=0;l<r.length;l++){if(t=null,-1!=r[l].indexOf("+"))for(i=r[l].split("+"),n=0;n<i.length;n++)t=v.getResult(f.trim(i[n]),o);else t=v.getResult(f.trim(r[l]),f.extend(!0,{},s));a.push(t)}return a},getResult:function(e,t){return"ctrl"===e?t.isCtrl=!0:"shift"===e?t.isShift=!0:"alt"===e?t.isAlt=!0:t.code=parseInt(e,10),t}},g.getScrollableParents=function(e){return f(e).parentsUntil("html").filter(function(){return"visible"!=f(this).css("overflow")}).add(f(window))},g.browserInfo=function(){var e,t,i,n,o={},s=[],r={opera:/(opera|opr)(?:.*version|)[ \/]([\w.]+)/i,edge:/(edge)(?:.*version|)[ \/]([\w.]+)/i,webkit:/(chrome)[ \/]([\w.]+)/i,safari:/(webkit)[ \/]([\w.]+)/i,msie:/(msie|trident) ([\w.]+)/i,mozilla:/(mozilla)(?:.*? rv:([\w.]+)|)/i};for(e in r)if(r.hasOwnProperty(e)&&(s=navigator.userAgent.match(r[e]),s)){if(o.name="opr"==s[1].toLowerCase()?"opera":s[1].toLowerCase(),o.version=s[2],o.culture={},o.culture.name=o.culture.language=navigator.language||navigator.userLanguage,void 0!==g.globalize){for(t=g.preferredCulture().name,i=navigator.language||navigator.userLanguage?g.preferredCulture(navigator.language||navigator.userLanguage):g.preferredCulture("en-US"),n=0;navigator.languages&&n<navigator.languages.length&&(i=g.preferredCulture(navigator.languages[n])).language!=navigator.languages[n];n++);g.preferredCulture(t),f.extend(!0,o.culture,i)}navigator.userAgent.match(/Trident\/7\./)&&(o.name="msie");break}return o.isMSPointerEnabled="msie"==o.name&&9<o.version&&window.navigator.msPointerEnabled,o.pointerEnabled=window.navigator.pointerEnabled,o},g.eventType={mouseDown:"mousedown touchstart",mouseMove:"mousemove touchmove",mouseUp:"mouseup touchend",mouseLeave:"mouseleave touchcancel",click:"click touchend"},g.event=function(e,t,i){return f.extend(i||{},{type:e,model:t,cancel:!1})},g.proxy=function(t,i,n){return t&&"function"==typeof t?"on"in t&&i?n?t.on(i,n):t.on(i):function(){var e=n?[n]:[];return e.push.apply(e,arguments),t.apply(i||this,e)}:null},g.hasStyle=function(e){var t,i,n=document.documentElement.style;if(e in n)return!0;for(t=["ms","Moz","Webkit","O","Khtml"],e=e[0].toUpperCase()+e.slice(1),i=0;i<t.length;i++)if(t[i]+e in n)return!0;return!1},Array.prototype.indexOf=Array.prototype.indexOf||function(e){var t,i=this.length;if(0!==i)for(t=0;t<i;t++)if(t in this&&this[t]===e)return t;return-1},String.prototype.startsWith=String.prototype.startsWith||function(e){return this.slice(0,e.length)===e};var s,v,o,a,n,r,b=g.copyObject=function(e,t){var i,n,o,s,r,a="boolean"!=typeof e?1:2,l=[].slice.call(arguments,a);for(1===a&&(t=e,e=d),o=0;o<l.length;o++)for(s in l[o])if(i=t[s],n=l[o][s],n!==d&&i!==n&&l[o]!==n&&t!==n)if(n instanceof Array)if(0===o&&e)for(t[s]=[],r=0;r<n.length;r++)b(!0,t[s],n);else t[s]=n.slice();else g.isPlainObject(n)?(t[s]=i||{},e?b(e,t[s],n):b(t[s],n)):t[s]=n;return t},y=function(){return this},t=0,l=function(e){return e+t++};g.template={},g.template.render=g.template["text/x-jsrender"]=function(e,t,i,n,o){"#"!==t.slice(0,1)&&(t=["<div>",t,"</div>"].join(""));o={prop:o,index:n};return f(t).render(i,o)},g.isPlainObject=function(e){if(!e||g.DataManager!==d&&e instanceof g.DataManager||"object"!=typeof e||e.nodeType||jQuery.isWindow(e))return!1;try{if(e.constructor&&!e.constructor.prototype.hasOwnProperty("isPrototypeOf"))return!1}catch(e){return!1}var t,i=g.support.isOwnLast;for(t in e)if(i)break;return t===d||e.hasOwnProperty(t)},o=!1,g.util.valueFunction=function(n){return function(e,t){var i=g.getObject(n,this.model);if(!1===o&&(o=g.getObject("observables.getValue",g.widget)),e===d)return g.isNullOrUndefined(o)?"function"==typeof i?i.call(this):i:o(i,t);"function"==typeof i?(this["ob.values"][n]=e,i.call(this,e)):g.createObject(n,e,this.model)}},g.util.getVal=function(e){return"function"==typeof e?e():e},g.support={isOwnLast:function(){function e(){this.a=1}for(var t in e.prototype.b=1,new e)return"b"===t}(),outerHTML:document.createElement("div").outerHTML!==d},a=g.throwError=function(e){try{throw new Error(e)}catch(e){throw e.message+"\n"+e.stack}},g.getRandomValue=function(e,t){var i;return e===d||t===d?g.throwError("Min and Max values are required for generating a random number"):0|("crypto"in window&&"getRandomValues"in crypto?(i=new Uint16Array(1),window.crypto.getRandomValues(i),i[0]%(t-e)+e):Math.random()*(t-e)+e)},g.extensions={},g.extensions.modelGUID="{0B1051BA-1CCB-42C2-A3B5-635389B92A50}"}(window.jQuery,window.Syncfusion),$.fn.addEleAttrs=function(e){var i=$(this);$.each(e,function(e,t){t&&t.specified&&i.attr(t.name,t.value)})},$.fn.removeEleAttrs=function(n){return this.each(function(){var i=$(this),e=$(this.attributes).clone();$.each(e,function(e,t){t&&t.specified&&n.test(t.name)&&i.removeAttr(t.name)})})},$.fn.attrNotStartsWith=function(e){var t,n=[];for(this.each(function(){t=$(this.attributes).clone()}),i=0;i<t.length;i++){if(t[i]&&t[i].specified&&e.test(t[i].name))continue;n.push(t[i])}return n},$.fn.removeEleEmptyAttrs=function(){return this.each(function(){var i=$(this),e=$(this.attributes).clone();$.each(e,function(e,t){t&&t.specified&&""===t.value&&i.removeAttr(t.name)})})},$.extend($.support,{has3d:ej.addPrefix("perspective")in ej.styles,hasTouch:"ontouchstart"in window,hasPointer:navigator.msPointerEnabled,hasTransform:!1!==ej.userAgent(),pushstate:"pushState"in history&&"replaceState"in history,hasTransition:ej.addPrefix("transition")in ej.styles}),$.extend($.expr[":"],{attrNotStartsWith:function(e,t,i){for(var n=e.attributes,o=0;o<n.length;o++)if(0===n[o].nodeName.indexOf(i[3]))return!1;return!0}}),e=$.fn.andSelf||$.fn.addBack,$.fn.andSelf=$.fn.addBack=function(){return e.apply(this,arguments)}}),function(e){"function"==typeof define&&define.amd?define(["./ej.core.min"],e):e()}(function(){window.ej=window.Syncfusion=window.Syncfusion||{},function(v,b,e,f){"use strict";b.DataManager=function(e,t,i){if(!(this instanceof b.DataManager))return new b.DataManager(e,t,i);e=e||[],"string"==typeof(i=i||e.adaptor)&&(i=new b[i]);var n=[],o=this;return e instanceof Array?n={json:e,offline:!0}:"object"==typeof e?v.isPlainObject(e)?(e.json||(e.json=[]),e.table&&(e.json=this._getJsonFromElement(e.table,e.headerOption)),n={url:e.url,insertUrl:e.insertUrl,removeUrl:e.removeUrl,updateUrl:e.updateUrl,crudUrl:e.crudUrl,batchUrl:e.batchUrl,json:e.json,headers:e.headers,accept:e.accept,data:e.data,timeTillExpiration:e.timeTillExpiration,cachingPageSize:e.cachingPageSize,enableCaching:e.enableCaching,requestType:e.requestType,key:e.key,crossDomain:e.crossDomain,jsonp:e.jsonp,dataType:e.dataType,offline:e.offline!==f?e.offline:!("remoteSaveAdaptor"==e.adaptor||e.adaptor instanceof b.remoteSaveAdaptor||e.url),requiresFormat:e.requiresFormat}):(e.jquery||B(e))&&(n={json:this._getJsonFromElement(e),offline:!0,table:e}):"string"==typeof e&&(n={url:e,offline:!1,dataType:"json",json:[]}),n.requiresFormat!==f||b.support.cors||(n.requiresFormat=!!_(n.crossDomain)||n.crossDomain),n.dataType===f&&(n.dataType="json"),this.dataSource=n,this.defaultQuery=t,n.url&&n.offline&&!n.json.length?(this.isDataAvailable=!1,this.adaptor=i||new b.ODataAdaptor,this.dataSource.offline=!1,this.ready=this.executeQuery(t||b.Query()).done(function(e){o.dataSource.offline=!0,o.isDataAvailable=!0,n.json=e.result,o.adaptor=new b.JsonAdaptor})):this.adaptor=new(n.offline?b.JsonAdaptor:b.ODataAdaptor),!n.jsonp&&this.adaptor instanceof b.ODataAdaptor&&(n.jsonp="callback"),this.adaptor=i||this.adaptor,n.enableCaching&&(this.adaptor=new b.CacheAdaptor(this.adaptor,n.timeTillExpiration,n.cachingPageSize)),this},b.DataManager.prototype={setDefaultQuery:function(e){this.defaultQuery=e},executeQuery:function(e,t,i,n){var o,s,r;return"function"==typeof e&&(n=i,i=t,t=e,e=null),(e=e||this.defaultQuery)instanceof b.Query||d("DataManager - executeQuery() : A query is required to execute"),(o=v.Deferred()).then(t,i,n),s={query:e},this.dataSource.offline||this.dataSource.url==f?b.isNullOrUndefined(this.dataSource.async)||0!=this.dataSource.async?l(function(){this._localQueryProcess(e,s,o)},this):this._localQueryProcess(e,s,o):(r=this.adaptor.processQuery(this,e),b.isNullOrUndefined(r.url)?l(function(){s=this._getDeferedArgs(e,r,s),o.resolveWith(this,[s])},this):this._makeRequest(r,o,s,e)),o.promise()},_localQueryProcess:function(e,t,i){var n=this.executeLocal(e);t=this._getDeferedArgs(e,n,t),i.resolveWith(this,[t])},_getDeferedArgs:function(e,t,i){return e._requiresCount?(i.result=t.result,i.count=t.count):i.result=t,i.getTableModel=j(e._fromTable,i.result,this),i.getKnockoutModel=N(i.result),i},executeLocal:function(e){var t,i;if(this.defaultQuery||e instanceof b.Query||d("DataManager - executeLocal() : A query is required to execute"),this.dataSource.json||d("DataManager - executeLocal() : Json data is required to execute"),e=e||this.defaultQuery,t=this.adaptor.processQuery(this,e),e._subQuery){var n=e._subQuery._fromTable,o=e._subQuery._lookup,s=e._requiresCount?t.result:t;for(o&&o instanceof Array&&g(e._subQuery._fKey,n,s,o,e._subQuery._key),i=0;i<s.length;i++)s[i][n]instanceof Array&&(s[i]=v.extend({},s[i]),s[i][n]=this.adaptor.processResponse(e._subQuery.using(b.DataManager(s[i][n].slice(0))).executeLocal(),this,e))}return this.adaptor.processResponse(t,this,e)},_makeRequest:function(e,a,l,d){var c=!!d._subQuerySelector,o=m(function(e){l.error=e,a.rejectWith(this,[l])},this),h=m(function(e,t,i,n,o,s,r){c||(l.xhr=i,l.count=parseInt(t,10),l.result=e,l.request=n,l.aggregates=s,l.getTableModel=j(d._fromTable,e,this),l.getKnockoutModel=N(e),l.actual=o,l.virtualSelectRecords=r,a.resolveWith(this,[l]))},this),u=m(function(t,e){var i=v.Deferred(),n={parent:l};return d._subQuery._isChild=!0,e=this.adaptor.processQuery(this,d._subQuery,t?this.adaptor.processResponse(t):e),e=this._makeRequest(e,i,n,d._subQuery),c||i.then(function(e){t&&(g(d._subQuery._fKey,d._subQuery._fromTable,t,e,d._subQuery._key),h(t))},o),e},this),t=p(function(e,t,i,n){-1==i.getResponseHeader("Content-Type").indexOf("xml")&&b.dateParse&&(e=b.parseJSON(e));var o=this.adaptor.processResponse(e,this,d,i,n),s=0,r=null,a=e.virtualSelectRecords;d._requiresCount&&(s=o.count,r=o.aggregates,o=o.result),d._subQuery?c||u(o):h(o,s,i,n,e,r,a)},this),t=v.extend({type:"GET",dataType:this.dataSource.dataType,crossDomain:this.dataSource.crossDomain,jsonp:this.dataSource.jsonp,cache:!0,beforeSend:m(this._beforeSend,this),processData:!1,success:t,error:o},e);return"async"in this.dataSource&&(t.async=this.dataSource.async),t=v.ajax(t),c&&((e=d._subQuerySelector.call(this,{query:d._subQuery,parent:d}))&&e.length?(t=v.when(t,u(null,e))).then(p(function(e,t,i){var n=this.adaptor.processResponse(e[0],this,d,e[2],i[0]),o=0;d._requiresCount&&(o=n.count,n=n.result),t=this.adaptor.processResponse(t[0],this,d._subQuery,t[2],i[1]),o=0,d._subQuery._requiresCount&&(o=t.count,t=t.result),g(d._subQuery._fKey,d._subQuery._fromTable,n,t,d._subQuery._key),c=!1,h(n,o,e[2])},this),o):c=!1),t},_beforeSend:function(e,t){var i,n,o,s;for(this.adaptor.beforeSend(this,e,t),i=this.dataSource.headers,o=0;i&&o<i.length;o++)for(s in n=[],i[o])n.push(s),e.setRequestHeader(s,i[o][s])},saveChanges:function(o,e,t,i){var s;return t instanceof b.Query&&(i=t,t=null),t={url:t,key:e||this.dataSource.key},e=this.adaptor.batchRequest(this,o,t,i),this.dataSource.offline?e:(s=v.Deferred(),v.ajax(v.extend({beforeSend:m(this._beforeSend,this),success:p(function(e,t,i,n){s.resolveWith(this,[this.adaptor.processResponse(e,this,null,i,n,o)])},this),error:function(e){s.rejectWith(this,[{error:e}])}},e)),s.promise())},insert:function(e,t,i){var o;return e=k.replacer(e),t instanceof b.Query&&(i=t,t=null),e=this.adaptor.insert(this,e,t,i),this.dataSource.offline?e:(o=v.Deferred(),v.ajax(v.extend({type:"POST",contentType:"application/json; charset=utf-8",processData:!1,beforeSend:m(this._beforeSend,this),success:p(function(t,e,i,n){try{b.isNullOrUndefined(t)?t=[]:k.parseJson(t)}catch(e){t=[]}t=this.adaptor.processResponse(k.parseJson(t),this,null,i,n),o.resolveWith(this,[{record:t,dataManager:this}])},this),error:function(e){o.rejectWith(this,[{error:e,dataManager:this}])}},e)),o.promise())},remove:function(e,t,i,n){var o;return"object"==typeof t&&(t=t[e]),i instanceof b.Query&&(n=i,i=null),e=this.adaptor.remove(this,e,t,i,n),this.dataSource.offline?e:(o=v.Deferred(),v.ajax(v.extend({type:"POST",contentType:"application/json; charset=utf-8",beforeSend:m(this._beforeSend,this),success:p(function(t,e,i,n){try{b.isNullOrUndefined(t)?t=[]:k.parseJson(t)}catch(e){t=[]}t=this.adaptor.processResponse(k.parseJson(t),this,null,i,n),o.resolveWith(this,[{record:t,dataManager:this}])},this),error:function(e){o.rejectWith(this,[{error:e,dataManager:this}])}},e)),o.promise())},update:function(e,t,i,n){var o;return t=k.replacer(t),i instanceof b.Query&&(n=i,i=null),e=this.adaptor.update(this,e,t,i,n),this.dataSource.offline?e:(o=v.Deferred(),v.ajax(v.extend({contentType:"application/json; charset=utf-8",beforeSend:m(this._beforeSend,this),success:p(function(t,e,i,n){try{b.isNullOrUndefined(t)?t=[]:k.parseJson(t)}catch(e){t=[]}t=this.adaptor.processResponse(k.parseJson(t),this,null,i,n),o.resolveWith(this,[{record:t,dataManager:this}])},this),error:function(e){o.rejectWith(this,[{error:e,dataManager:this}])}},e)),o.promise())},_getJsonFromElement:function(e){var t=(e=(e="string"==typeof e?v(v(e).html()):e).jquery?e[0]:e).tagName.toLowerCase();return"table"!==t&&d("ej.DataManager : Unsupported htmlElement : "+t),b.parseTable(e)}};var y,r,a,s,l,p,m,_,d,n,o,c,h,g=function(e,t,i,n,o){var s,r,a={};for((n=n.result?n.result:n).GROUPGUID&&d("ej.DataManager: Do not have support Grouping in hierarchy"),s=0;s<n.length;s++)(a[r=b.getObject(e,n[s])]||(a[r]=[])).push(n[s]);for(s=0;s<i.length;s++)i[s][t]=a[b.getObject(o||e,i[s])]},u="application/json;odata=light;q=1,application/json;odata=verbose;q=0.5",w="multipart/mixed",x="--changeset_",C="batch_",S="Content-Type: application/http\nContent-Transfer-Encoding: binary ",T="Content-Type: application/json; charset=utf-8 ",k={parseJson:function(e){var t=typeof e;return"string"==t?e=JSON.parse(e,k.jsonReviver):e instanceof Array?k.iterateAndReviveArray(e):"object"==t&&k.iterateAndReviveJson(e),e},iterateAndReviveArray:function(e){for(var t=0;t<e.length;t++)"object"==typeof e[t]?k.iterateAndReviveJson(e[t]):e[t]="string"!=typeof e[t]||/^[\s]*\[|^[\s]*\{|\"/g.test(e[t])?k.parseJson(e[t]):k.jsonReviver("",e[t])},iterateAndReviveJson:function(e){var t,i;for(i in e)i.startsWith("__")||(t=e[i],"object"==typeof t?t instanceof Array?k.iterateAndReviveArray(t):k.iterateAndReviveJson(t):e[i]=k.jsonReviver(i,t))},jsonReviver:function(e,t){var i,n=t;if("string"==typeof t){if(i=/^\/Date\(([+-]?[0-9]+)([+-][0-9]{4})?\)\/$/.exec(t))return k.replacer(new Date(parseInt(i[1])));/^(\d{4}\-\d\d\-\d\d([tT][\d:\.]*){1})([zZ]|([+\-])(\d\d):?(\d\d))?$/.test(t)&&(t=k.replacer(new Date(t)),isNaN(t))&&(i=n.split(/[^0-9]/),t=k.replacer(new Date(i[0],i[1]-1,i[2],i[3],i[4],i[5])))}return t},isJson:function(e){return"string"==typeof e[0]?e:b.parseJSON(e)},isGuid:function(e){return null!=/[A-Fa-f0-9]{8}(?:-[A-Fa-f0-9]{4}){3}-[A-Fa-f0-9]{12}/i.exec(e)},replacer:function(e){return b.isPlainObject(e)?k.jsonReplacer(e):e instanceof Array?k.arrayReplacer(e):e instanceof Date?k.jsonReplacer({val:e}).val:e},jsonReplacer:function(e){var t,i;for(i in e)t=e[i],t instanceof Date&&(e[i]=new Date(+t+36e5*b.serverTimezoneOffset));return e},arrayReplacer:function(e){for(var t=0;t<e.length;t++)b.isPlainObject(e[t])?e[t]=k.jsonReplacer(e[t]):e[t]instanceof Date&&(e[t]=k.jsonReplacer({date:e[t]}).date);return e}},D=(b.isJSON=k.isJson,b.parseJSON=k.parseJson,b.dateParse=!0,b.isGUID=k.isGuid,b.Query=function(e){return this instanceof b.Query?(this.queries=[],this._key="",this._fKey="","string"==typeof e?this._fromTable=e||"":e&&e instanceof Array&&(this._lookup=e),this._expands=[],this._sortedColumns=[],this._groupedColumns=[],this._subQuery=null,this._isChild=!1,this._params=[],this):new b.Query(e)},b.Query.prototype={key:function(e){return"string"==typeof e&&(this._key=e),this},using:function(e){return e instanceof b.DataManager?(this.dataManagar=e,this):d("Query - using() : 'using' function should be called with parameter of instance ej.DataManager")},execute:function(e,t,i,n){return(e=e||this.dataManagar)&&e instanceof b.DataManager?e.executeQuery(this,t,i,n):d("Query - execute() : dataManager needs to be is set using 'using' function or should be passed as argument")},executeLocal:function(e){return(e=e||this.dataManagar)&&e instanceof b.DataManager?e.executeLocal(this):d("Query - executeLocal() : dataManager needs to be is set using 'using' function or should be passed as argument")},clone:function(){var e=new b.Query;return e.queries=this.queries.slice(0),e._key=this._key,e._isChild=this._isChild,e.dataManagar=this.dataManager,e._fromTable=this._fromTable,e._params=this._params.slice(0),e._expands=this._expands.slice(0),e._sortedColumns=this._sortedColumns.slice(0),e._groupedColumns=this._groupedColumns.slice(0),e._subQuerySelector=this._subQuerySelector,e._subQuery=this._subQuery,e._fKey=this._fKey,e._requiresCount=this._requiresCount,e},from:function(e){return"string"==typeof e&&(this._fromTable=e),this},addParams:function(e,t){return"function"==typeof t||b.isPlainObject(t)?"function"==typeof t&&this._params.push({key:e,fn:t}):this._params.push({key:e,value:t}),this},expand:function(e){return this._expands="string"==typeof e?[].slice.call(arguments,0):e.slice(0),this},where:function(e,t,i,n){t=(t||b.FilterOperators.equal).toLowerCase();var o=null;return"string"==typeof e?o=new b.Predicate(e,t,i,n):e instanceof b.Predicate?o=e:d("Query - where : Invalid arguments"),this.queries.push({fn:"onWhere",e:o}),this},search:function(e,t,i,n){t&&"boolean"!=typeof t?"string"==typeof t&&(t=[t]):n=t=[],"boolean"==typeof i&&(n=i,i=null),(i=i||b.FilterOperators.contains).length<3&&(i=b.data.operatorSymbols[i]);var o=b.data.fnOperators[i]||b.data.fnOperators.processSymbols(i);return this.queries.push({fn:"onSearch",e:{fieldNames:t,operator:i,searchKey:e,ignoreCase:n,comparer:o}}),this},sortBy:function(e,t,i){var n,o,s,r,a=b.sortOrder.Ascending;if("string"==typeof e&&e.toLowerCase().endsWith(" desc")&&(e=e.replace(/ desc$/i,""),t=b.sortOrder.Descending),e instanceof Array)for(s=0;s<e.length;s++)this.sortBy(e[s],t,i);else{if("boolean"==typeof t?t=t?b.sortOrder.Descending:b.sortOrder.Ascending:"function"==typeof t&&(a="custom"),t&&"string"!=typeof t||(a=t?t.toLowerCase():b.sortOrder.Ascending,t=b.pvt.fnSort(t)),i)for(n=D(this.queries,"onSortBy"),s=0;s<n.length;s++)if("string"==typeof(o=n[s].e.fieldName)){if(o===e)return this}else if(o instanceof Array)for(r=0;r<o.length;r++)if(o[r]===e||e.toLowerCase()===o[r]+" desc")return this;this.queries.push({fn:"onSortBy",e:{fieldName:e,comparer:t,direction:a}})}return this},sortByDesc:function(e){return this.sortBy(e,b.sortOrder.Descending)},group:function(e,t){return this.sortBy(e,null,!0),this.queries.push({fn:"onGroup",e:{fieldName:e,fn:t}}),this},page:function(e,t){return this.queries.push({fn:"onPage",e:{pageIndex:e,pageSize:t}}),this},range:function(e,t){return"number"==typeof e&&"number"==typeof t||d("Query() - range : Arguments type should be a number"),this.queries.push({fn:"onRange",e:{start:e,end:t}}),this},take:function(e){return"number"!=typeof e&&d("Query() - Take : Argument type should be a number"),this.queries.push({fn:"onTake",e:{nos:e}}),this},skip:function(e){return"number"!=typeof e&&d("Query() - Skip : Argument type should be a number"),this.queries.push({fn:"onSkip",e:{nos:e}}),this},select:function(e){return(e="string"==typeof e?[].slice.call(arguments,0):e)instanceof Array||d("Query() - Select : Argument type should be String or Array"),this.queries.push({fn:"onSelect",e:{fieldNames:e}}),this},hierarchy:function(e,t){return e&&e instanceof b.Query||d("Query() - hierarchy : query must be instance of ej.Query"),"function"==typeof t&&(this._subQuerySelector=t),this._subQuery=e,this},foreignKey:function(e){return"string"==typeof e&&(this._fKey=e),this},requiresCount:function(){return this._requiresCount=!0,this},aggregate:function(e,t){this.queries.push({fn:"onAggregates",e:{field:t,type:e}})}},b.Adaptor=function(e){this.dataSource=e,this.pvt={},this.init.apply(this,[].slice.call(arguments,1))},b.Adaptor.prototype={options:{from:"table",requestType:"json",sortBy:"sorted",select:"select",skip:"skip",group:"group",take:"take",search:"search",count:"requiresCounts",where:"where",aggregates:"aggregates"},init:function(){},extend:function(e){function t(e){this.dataSource=e,this.options&&(this.options=v.extend({},this.options)),this.init.apply(this,[].slice.call(arguments,0)),this.pvt={}}var i,n=((t.prototype=new this.type).type=t).prototype.base={};for(i in e)t.prototype[i]&&(n[i]=t.prototype[i]);return v.extend(!0,t.prototype,e),t},processQuery:function(){},processResponse:function(e){return e.d||e},convertToQueryString:function(e){return v.param(e)},type:b.Adaptor},b.UrlAdaptor=(new b.Adaptor).extend({processQuery:function(e,t,i){var n,o,s,r,a,l=D(t.queries,"onSortBy"),d=D(t.queries,"onGroup"),c=D(t.queries,"onWhere"),h=D(t.queries,"onSearch"),u=D(t.queries,"onAggregates"),p=L(t.queries,["onSelect","onPage","onSkip","onTake","onRange"]),m=t._params,f=e.dataSource.url,g=null,v=this.options,b={sorted:[],grouped:[],filters:[],searches:[],aggregates:[]};for(p.onPage?(n=p.onPage,o=((o=y(n.pageIndex,t))-1)*(g=y(n.pageSize,t))):p.onRange&&(o=(n=p.onRange).start,g=n.end-n.start),s=0;s<l.length;s++)n=y(l[s].e.fieldName,t),b.sorted.push(A(this,"onEachSort",{name:n,direction:l[s].e.direction},t));for(i&&(n=this.getFiltersFrom(i,t))&&b.filters.push(A(this,"onEachWhere",n.toJSON(),t)),s=0;s<c.length;s++)for(a in b.filters.push(A(this,"onEachWhere",c[s].e.toJSON(),t)),b.filters[s])_(b[a])&&delete b[a];for(s=0;s<h.length;s++)n=h[s].e,b.searches.push(A(this,"onEachSearch",{fields:n.fieldNames,operator:n.operator,key:n.searchKey,ignoreCase:n.ignoreCase},t));for(s=0;s<d.length;s++)b.grouped.push(y(d[s].e.fieldName,t));for(s=0;s<u.length;s++)n=u[s].e,b.aggregates.push({type:n.type,field:y(n.field,t)});for(a in(r={})[v.from]=t._fromTable,v.expand&&(r[v.expand]=t._expands),r[v.select]=p.onSelect?A(this,"onSelect",y(p.onSelect.fieldNames,t),t):"",r[v.count]=t._requiresCount?A(this,"onCount",t._requiresCount,t):"",r[v.search]=b.searches.length?A(this,"onSearch",b.searches,t):"",r[v.skip]=p.onSkip?A(this,"onSkip",y(p.onSkip.nos,t),t):"",r[v.take]=p.onTake?A(this,"onTake",y(p.onTake.nos,t),t):"",r[v.where]=b.filters.length||b.searches.length?A(this,"onWhere",b.filters,t):"",r[v.sortBy]=b.sorted.length?A(this,"onSortBy",b.sorted,t):"",r[v.group]=b.grouped.length?A(this,"onGroup",b.grouped,t):"",r[v.aggregates]=b.aggregates.length?A(this,"onAggregates",b.aggregates,t):"",r.param=[],A(this,"addParams",{dm:e,query:t,params:m,reqParams:r}),r)!_(r[a])&&""!==r[a]&&0!==r[a].length||delete r[a];return v.skip in r&&v.take in r||null===g||(r[v.skip]=A(this,"onSkip",o,t),r[v.take]=A(this,"onTake",g,t)),i=this.pvt,this.pvt={},"json"===this.options.requestType?{data:JSON.stringify(r),url:f,ejPvtData:i,type:"POST",contentType:"application/json; charset=utf-8"}:(n=this.convertToQueryString(r,t,e),{type:"GET",url:(n=(-1!==e.dataSource.url.indexOf("?")?"&":"/")+n).length?f.replace(/\/*$/,n):f,ejPvtData:i})},convertToQueryString:function(e,t,i){return i.dataSource.url&&-1!==i.dataSource.url.indexOf("?")?v.param(e):"?"+v.param(e)},processResponse:function(e,t,i,n,o,s){var r,a,l,d=o.ejPvtData||{},c=e.groupDs;if(n&&n.getResponseHeader("Content-Type")&&-1!=n.getResponseHeader("Content-Type").indexOf("xml")&&9==e.nodeType)return i._requiresCount?{result:[],count:0}:[];if((n=JSON.parse(o.data))&&"batch"===n.action&&e.added)return s.added=e.added,s;if(e.d&&(e=e.d),d&&d.aggregates&&d.aggregates.length){var h,u=d.aggregates,p={},m={};for(("count"in e&&(p.count=e.count),e.result&&(p.result=e.result),e.aggregate&&(e=e.aggregate),a=0);a<u.length;a++)(h=b.aggregates[u[a].type])&&(m[u[a].field+" - "+u[a].type]=h(e,u[a].field));p.aggregates=m,e=p}if(d&&d.groups&&d.groups.length){for((r=d.groups,p={},"count"in e&&(p.count=e.count),e.aggregates&&(p.aggregates=e.aggregates),e.result&&(e=e.result),a=0);a<r.length;a++)l=O(r[a],i.queries),b.isNullOrUndefined(c)||(c=b.group(c,r[a],null,l)),e=b.group(e,r[a],d.aggregates,l,null,c);return p.count!=f?p.result=e:p=e,p}return e},onGroup:function(e){this.pvt.groups=e},onAggregates:function(e){this.pvt.aggregates=e},batchRequest:function(e,t,i,n){t={changed:t.changed,added:t.added,deleted:t.deleted,action:"batch",table:i.url,key:i.key};return n&&this.addParams({dm:e,query:n,params:n._params,reqParams:t}),{type:"POST",url:e.dataSource.batchUrl||e.dataSource.crudUrl||e.dataSource.removeUrl||e.dataSource.url,contentType:"application/json; charset=utf-8",dataType:"json",data:JSON.stringify(t)}},beforeSend:function(){},insert:function(e,t,i,n){t={value:t,table:i,action:"insert"};return n&&this.addParams({dm:e,query:n,params:n._params,reqParams:t}),{url:e.dataSource.insertUrl||e.dataSource.crudUrl||e.dataSource.url,data:JSON.stringify(t)}},remove:function(e,t,i,n,o){i={key:i,keyColumn:t,table:n,action:"remove"};return o&&this.addParams({dm:e,query:o,params:o._params,reqParams:i}),{type:"POST",url:e.dataSource.removeUrl||e.dataSource.crudUrl||e.dataSource.url,data:JSON.stringify(i)}},update:function(e,t,i,n,o){i={value:i,action:"update",keyColumn:t,key:i[t],table:n};return o&&this.addParams({dm:e,query:o,params:o._params,reqParams:i}),{type:"POST",url:e.dataSource.updateUrl||e.dataSource.crudUrl||e.dataSource.url,data:JSON.stringify(i)}},getFiltersFrom:function(e,t){e instanceof Array&&e.length||d("ej.SubQuery: Array of key values required");var i,n,o=t._fKey,s=o,r=t._key,a=[],l="object"!=typeof e[0];for("object"!=typeof e[0]&&(s=null),i=0;i<e.length;i++)n=l?e[i]:b.pvt.getObject(r||s,e[i]),a.push(new b.Predicate(o,"==",n));return b.Predicate.or(a)},addParams:function(e){var t,i,n=e.dm,o=e.query,s=e.params,r=e.reqParams;for(r.params={},t=0;i=s[t];t++)r[i.key]&&d("ej.Query: Custom Param is conflicting other request arguments"),r[i.key]=i.value,i.fn&&(r[i.key]=i.fn.call(o,i.key,o,n)),r.params[i.key]=r[i.key]}}),b.WebMethodAdaptor=(new b.UrlAdaptor).extend({processQuery:function(e,t,i){var i=b.UrlAdaptor.prototype.processQuery(e,t,i),n=b.parseJSON(i.data),o={};return o.value=n,A(this,"addParams",{dm:e,query:t,params:t._params,reqParams:o}),{data:JSON.stringify(o),url:i.url,ejPvtData:i.ejPvtData,type:"POST",contentType:"application/json; charset=utf-8"}},addParams:function(e){var t,i,n,o,s=e.dm,r=e.query,a=e.params,l=e.reqParams;for(l.params={},t=0;i=a[t];t++)l[i.key]&&d("ej.Query: Custom Param is conflicting other request arguments"),n=i.key,o=i.value,i.fn&&(o=i.fn.call(r,i.key,r,s)),l[n]=o,l.params[n]=l[n]}}),b.CacheAdaptor=(new b.UrlAdaptor).extend({init:function(e,n,t){var o;b.isNullOrUndefined(e)||(this.cacheAdaptor=e),this.pageSize=t,this.guidId=b.getGuid("cacheAdaptor"),window.localStorage&&window.localStorage.setItem(this.guidId,JSON.stringify({keys:[],results:[]})),o=this.guidId,b.isNullOrUndefined(n)||setInterval(function(){for(var e=b.parseJSON(window.localStorage.getItem(o)),t=[],i=0;i<e.results.length;i++)e.results[i].timeStamp=new Date-new Date(e.results[i].timeStamp),new Date-new Date(e.results[i].timeStamp)>n&&t.push(i);for(i=0;i<t.length;i++)e.results.splice(t[i],1),e.keys.splice(t[i],1);window.localStorage.removeItem(o),window.localStorage.setItem(o,JSON.stringify(e))},n)},generateKey:function(e,t){var i,n,o,s,r=D(t.queries,"onSortBy"),a=D(t.queries,"onGroup"),l=D(t.queries,"onWhere"),d=D(t.queries,"onSearch"),c=(D(t.queries,"onPage"),L(t.queries,["onSelect","onPage","onSkip","onTake","onRange"])),h=(t._params,e);for(c.onPage&&(h+=c.onPage.pageIndex),r.forEach(function(e){h+=e.e.direction+e.e.fieldName}),a.forEach(function(e){h+=e.e.fieldName}),d.forEach(function(e){h+=e.e.searchKey}),i=0;i<l.length;i++)if((n=l[i]).e.isComplex){for((o=t.clone()).queries=[],s=0;s<n.e.predicates.length;s++)o.queries.push({fn:"onWhere",e:n.e.predicates[s],filter:t.queries.filter});h+=n.e.condition+this.generateKey(e,o)}else h+=n.e.field+n.e.operator+n.e.value;return h},processQuery:function(e,t){var i,e=this.generateKey(e.dataSource.url,t);return null==(t=(i=window.localStorage?b.parseJSON(window.localStorage.getItem(this.guidId)):i)?i.results[i.keys.indexOf(e)]:null)||this._crudAction||this._insertAction?(this._crudAction=null,this._insertAction=null,this.cacheAdaptor.processQuery.apply(this.cacheAdaptor,[].slice.call(arguments,0))):t},processResponse:function(e,t,i,n,o,s){if(this._insertAction||o&&this.cacheAdaptor.options.batch&&o.url.endsWith(this.cacheAdaptor.options.batch)&&"post"===o.type.toLowerCase())return this.cacheAdaptor.processResponse(e,t,i,n,o,s);var e=this.cacheAdaptor.processResponse.apply(this,[].slice.call(arguments,0)),n=this.generateKey(t.dataSource.url,i),r={};for(window.localStorage&&(r=b.parseJSON(window.localStorage.getItem(this.guidId))),-1!=(o=v.inArray(n,r.keys))&&(r.results.splice(o,1),r.keys.splice(o,1)),r.results[r.keys.push(n)-1]={keys:n,result:e.result,timeStamp:new Date,count:e.count};r.results.length>this.pageSize;)r.results.splice(0,1),r.keys.splice(0,1);return window.localStorage.setItem(this.guidId,JSON.stringify(r)),e},update:function(e,t,i,n){return this._crudAction=!0,this.cacheAdaptor.update(e,t,i,n)},insert:function(e,t,i){return this._insertAction=!0,this.cacheAdaptor.insert(e,t,i)},remove:function(e,t,i,n){return this._crudAction=!0,this.cacheAdaptor.remove(e,t,i,n)},batchRequest:function(e,t,i){return this.cacheAdaptor.batchRequest(e,t,i)}}),function(e,t){return e.filter(function(e){return e.fn===t})||[]}),L=function(e,t){for(var i=e.filter(function(e){return-1!==t.indexOf(e.fn)}),n={},o=0;o<i.length;o++)n[i[o].fn]||(n[i[o].fn]=i[o].e);return n},A=function(e,t,i,n){return e[t]&&(e=e[t](i,n),_(e)||(i=e)),i},t=(b.ODataAdaptor=(new b.UrlAdaptor).extend({options:{requestType:"get",accept:"application/json;odata=light;q=1,application/json;odata=verbose;q=0.5",multipartAccept:"multipart/mixed",sortBy:"$orderby",select:"$select",skip:"$skip",take:"$top",count:"$inlinecount",where:"$filter",expand:"$expand",batch:"$batch",changeSet:"--changeset_",batchPre:"batch_",contentId:"Content-Id: ",batchContent:"Content-Type: multipart/mixed; boundary=",changeSetContent:"Content-Type: application/http\nContent-Transfer-Encoding: binary ",batchChangeSetContentType:"Content-Type: application/json; charset=utf-8 "},onEachWhere:function(e,t){return e.isComplex?this.onComplexPredicate(e,t):this.onPredicate(e,t)},onPredicate:function(e,t,i){var n,o="",s=e.value,r=typeof s,a=this._p(e.field);return s instanceof Date&&(s="datetime'"+k.replacer(s).toJSON()+"'"),"string"==r&&(i&&(a="cast("+a+", 'Edm.String')"),b.isGUID(s="'"+s+"'")&&(n="guid"),e.ignoreCase)&&(n||(a="tolower("+a+")"),s=s.toLowerCase()),(i=b.data.odBiOperator[e.operator])?(o=o+a+i,n&&(o+=n),o+s):(i=b.data.odUniOperator[e.operator])&&"string"==r?("substringof"===i&&(e=s,s=a,a=e),o=o+(i+"(")+(a+","),n&&(o+=n),o+(s+")")):""},onComplexPredicate:function(e,t){for(var i=[],n=0;n<e.predicates.length;n++)i.push("("+this.onEachWhere(e.predicates[n],t)+")");return i.join(" "+e.condition+" ")},onWhere:function(e){return this.pvt.searches&&e.push(this.onEachWhere(this.pvt.searches,null,!0)),e.join(" and ")},onEachSearch:function(e){var t,i;for(0===e.fields.length&&d("Query() - Search : oData search requires list of field names to search"),t=this.pvt.searches||[],i=0;i<e.fields.length;i++)t.push(new b.Predicate(e.fields[i],e.operator,e.key,e.ignoreCase));this.pvt.searches=t},onSearch:function(){return this.pvt.searches=b.Predicate.or(this.pvt.searches),""},onEachSort:function(e){var t,i=[];if(e.name instanceof Array)for(t=0;t<e.name.length;t++)i.push(this._p(e.name[t]));else i.push(this._p(e.name)+("descending"===e.direction?" desc":""));return i.join(",")},onSortBy:function(e){return e.reverse().join(",")},onGroup:function(e){return this.pvt.groups=e,""},onSelect:function(e){for(var t=0;t<e.length;t++)e[t]=this._p(e[t]);return e.join(",")},onAggregates:function(e){return this.pvt.aggregates=e,""},onCount:function(e){return!0===e?"allpages":""},beforeSend:function(e,t,i){i.url.endsWith(this.options.batch)&&"post"===i.type.toLowerCase()&&(t.setRequestHeader("Accept",w),t.setRequestHeader("DataServiceVersion","2.0"),t.overrideMimeType("text/plain; charset=x-user-defined")),e.dataSource.crossDomain||(t.setRequestHeader("DataServiceVersion","2.0"),t.setRequestHeader("MaxDataServiceVersion","2.0"))},processResponse:function(e,t,i,n,o,s){var r,a,l,d,c,h;if(!b.isNullOrUndefined(e.d)&&(r=i&&i._requiresCount?e.d.results:e.d,!b.isNullOrUndefined(r)))for(g=0;g<r.length;g++)b.isNullOrUndefined(r[g].__metadata)||delete r[g].__metadata;if(a=o&&o.ejPvtData,n&&n.getResponseHeader("Content-Type")&&-1!=n.getResponseHeader("Content-Type").indexOf("xml")&&9==e.nodeType)return i._requiresCount?{result:[],count:0}:[];if(o&&this.options.batch&&o.url.endsWith(this.options.batch)&&"post"===o.type.toLowerCase()){if(o=(o=n.getResponseHeader("Content-Type")).substring(o.indexOf("=batchresponse")+1),(e=e.split(o)).length<2)return;for(e=e[1],o=/(?:\bContent-Type.+boundary=)(changesetresponse.+)/i.exec(e),e.replace(o[0],""),o=o[1],g=(e=e.split(o)).length;-1<g;g--)/\bContent-ID:/i.test(e[g])&&/\bHTTP.+201/.test(e[g])&&(l=parseInt(/\bContent-ID: (\d+)/i.exec(e[g])[1]),s.added[l])&&(d=k.parseJson(/^\{.+\}/m.exec(e[g])[0]),v.extend(s.added[l],this.processResponse(d)));return s}var o=null,u={},n=(n=n&&n.getResponseHeader("DataServiceVersion"))&&parseInt(n,10)||2;if(i&&i._requiresCount&&((e.__count||e["odata.count"])&&(o=e.__count||e["odata.count"]),(e=e.d?e.d:e).__count||e["odata.count"])&&(o=e.__count||e["odata.count"]),(e=3===n&&e.value?e.value:e).d&&(e=e.d),n<3&&e.results&&(e=e.results),a&&a.aggregates&&a.aggregates.length){for(var p,m=a.aggregates,f={},g=0;g<m.length;g++)(p=b.aggregates[m[g].type])&&(f[m[g].field+" - "+m[g].type]=p(e,m[g].field));u=f}if(a&&a.groups&&a.groups.length)for(c=a.groups,g=0;g<c.length;g++)h=O(c[g],i.queries),e=b.group(e,c[g],a.aggregates,h);return _(o)?e:{result:e,count:o,aggregates:u}},convertToQueryString:function(e,t,i){var n,o=[],s=e.table||"";for(n in delete e.table,i.dataSource.requiresFormat&&(e.$format="json"),e)o.push(n+"="+e[n]);return o=o.join("&"),i.dataSource.url&&-1!==i.dataSource.url.indexOf("?")&&!s?o:o.length?s+"?"+o:s||""},insert:function(e,t,i){return{url:e.dataSource.url.replace(/\/*$/,i?"/"+i:""),data:JSON.stringify(t)}},remove:function(e,t,i,n){return{type:"DELETE",url:e.dataSource.url.replace(/\/*$/,n?"/"+n:"")+"("+i+")"}},update:function(e,t,i,n){return{type:"PUT",url:e.dataSource.url.replace(/\/*$/,n?"/"+n:"")+"("+i[t]+")",data:JSON.stringify(i),accept:this.options.accept}},batchRequest:function(e,t,i){var n=i.guid=b.getGuid(C),e=e.dataSource.url.replace(/\/*$/,"/"+this.options.batch),i={url:i.url,key:i.key,cid:1,cSet:b.getGuid(x)},o="--"+n+"\n";return o+="Content-Type: multipart/mixed; boundary="+i.cSet.replace("--","")+"\n",this.pvt.changeSet=0,{type:"POST",url:e,contentType:"multipart/mixed; charset=UTF-8;boundary="+n,data:(o+=this.generateInsertRequest(t.added,i))+this.generateUpdateRequest(t.changed,i)+this.generateDeleteRequest(t.deleted,i)+(i.cSet+"--\n")+("--"+n+"--")}},generateDeleteRequest:function(e,t){var i,n;if(!e)return"";for(i="",n=0;n<e.length;n++)i=(i=(i=(i=(i=(i+="\n"+t.cSet+"\n")+(S+"\n\n"))+"DELETE "+(t.url+"("+e[n][t.key]+") HTTP/1.1\n"))+"If-Match : * \n"+("Accept: "+u+"\n"))+("Content-Id: "+this.pvt.changeSet+++"\n"))+(T+"\n");return i+"\n"},generateInsertRequest:function(e,t){var i,n;if(!e)return"";for(i="",n=0;n<e.length;n++)i=(i=(i=(i=(i=(i=(i+="\n"+t.cSet+"\n")+(S+"\n\n"))+"POST "+(t.url+" HTTP/1.1\n"))+("Accept: "+u+"\n"))+("Content-Id: "+this.pvt.changeSet+++"\n"))+(T+"\n\n"))+(JSON.stringify(e[n])+"\n");return i},generateUpdateRequest:function(e,t){var i,n;if(!e)return"";for(i="",n=0;n<e.length;n++)i=(i=(i=(i=(i=(i=(i+="\n"+t.cSet+"\n")+(S+"\n\n"))+"PUT "+(t.url+"("+e[n][t.key]+") HTTP/1.1\n"))+"If-Match : * \n"+("Accept: "+u+"\n"))+("Content-Id: "+this.pvt.changeSet+++"\n"))+(T+"\n\n"))+(JSON.stringify(e[n])+"\n\n");return i},_p:function(e){return e.replace(/\./g,"/")}}),b.ODataV4Adaptor=(new b.ODataAdaptor).extend({options:{requestType:"get",accept:"application/json;odata=light;q=1,application/json;odata=verbose;q=0.5",multipartAccept:"multipart/mixed",sortBy:"$orderby",select:"$select",skip:"$skip",take:"$top",count:"$count",search:"$search",where:"$filter",expand:"$expand",batch:"$batch",changeSet:"--changeset_",batchPre:"batch_",contentId:"Content-Id: ",batchContent:"Content-Type: multipart/mixed; boundary=",changeSetContent:"Content-Type: application/http\nContent-Transfer-Encoding: binary ",batchChangeSetContentType:"Content-Type: application/json; charset=utf-8 "},onCount:function(e){return!0===e?"true":""},onPredicate:function(e,t,i){var n="",o=e.value instanceof Date;return b.data.odUniOperator.contains="contains",n=b.ODataAdaptor.prototype.onPredicate.call(this,e,t,i),b.data.odUniOperator.contains="substringof",n=o?n.replace(/datetime'(.*)'$/,"$1"):n},onEachSearch:function(e){var t=this.pvt.search||[];t.push(e.key),this.pvt.search=t},onSearch:function(){return this.pvt.search.join(" OR ")},beforeSend:function(){},processQuery:function(e,t){for(var i,n,o=/\/[\d*\/]*/g,s="",r=t._expands.length-1;0<r;r--)if(0<=s.indexOf(t._expands[r]))t._expands.pop();else if(o.test(t._expands[r])){for(i=(s=t._expands.pop()).replace(o,"($expand="),n=0;n<s.split(o).length-1;n++)i+=")";t._expands.unshift(i),r++}return b.ODataAdaptor.prototype.processQuery.apply(this,[e,t])},processResponse:function(e,t,i,n,o,s){var r,a,l,d,c=o&&o.ejPvtData;if(n&&n.getResponseHeader("Content-Type")&&-1!=n.getResponseHeader("Content-Type").indexOf("xml")&&9==e.nodeType)return i._requiresCount?{result:[],count:0}:[];if(o&&this.options.batch&&o.url.endsWith(this.options.batch)&&"post"===o.type.toLowerCase()){if(o=(o=n.getResponseHeader("Content-Type")).substring(o.indexOf("=batchresponse")+1),(e=e.split(o)).length<2)return;for(e=e[1],n=/(?:\bContent-Type.+boundary=)(changesetresponse.+)/i.exec(e),e.replace(n[0],""),o=n[1],m=(e=e.split(o)).length;-1<m;m--)/\bContent-ID:/i.test(e[m])&&/\bHTTP.+201/.test(e[m])&&(r=parseInt(/\bContent-ID: (\d+)/i.exec(e[m])[1]),s.added[r])&&(a=k.parseJson(/^\{.+\}/m.exec(e[m])[0]),v.extend(s.added[r],this.processResponse(a)));return s}if(n=null,o={},i&&i._requiresCount&&"@odata.count"in e&&(n=e["@odata.count"]),e=b.isNullOrUndefined(e.value)?e:e.value,c&&c.aggregates&&c.aggregates.length){for(var h,u=c.aggregates,p={},m=0;m<u.length;m++)(h=b.aggregates[u[m].type])&&(p[u[m].field+" - "+u[m].type]=h(e,u[m].field));o=p}if(c&&c.groups&&c.groups.length)for(l=c.groups,m=0;m<l.length;m++)d=O(l[m],i.queries),e=b.group(e,l[m],c.aggregates,d);return _(n)?e:{result:e,count:n,aggregates:o}}}),b.JsonAdaptor=(new b.Adaptor).extend({processQuery:function(e,t){for(var i,n,o=e.dataSource.json.slice(0),s=o.length,r=!0,a={},l=0;l<t.queries.length;l++)i=this[(n=t.queries[l]).fn].call(this,o,n.e,t),"onAggregates"==n.fn?a[n.e.field+" - "+n.e.type]=i:o=i!==f?i:o,(r="onPage"!==n.fn&&"onSkip"!==n.fn&&"onTake"!==n.fn&&"onRange"!==n.fn?r:!1)&&(s=o.length);return o=t._requiresCount?{result:o,count:s,aggregates:a}:o},batchRequest:function(e,t,i){for(var n=0;n<t.added.length;n++)this.insert(e,t.added[n]);for(n=0;n<t.changed.length;n++)this.update(e,i.key,t.changed[n]);for(n=0;n<t.deleted.length;n++)this.remove(e,i.key,t.deleted[n]);return t},onWhere:function(e,t){return e&&e.filter(function(e){return t.validate(e)})},onAggregates:function(e,t){var i=b.aggregates[t.type];return e&&i&&0!=e.length?i(e,t.field):null},onSearch:function(e,i){return e&&e.length?(0===i.fieldNames.length&&b.pvt.getFieldList(e[0],i.fieldNames),e.filter(function(e){for(var t=0;t<i.fieldNames.length;t++)if(i.comparer.call(e,b.pvt.getObject(i.fieldNames[t],e),i.searchKey,i.ignoreCase))return!0;return!1})):e},onSortBy:function(e,t,i){var n,o,s;if(!e)return e;if(!(o=y(t.fieldName,i)))return e.sort(t.comparer);if(o instanceof Array){for(s=(o=o.slice(0)).length-1;0<=s;s--)o[s]&&(n=t.comparer,o[s].endsWith(" desc")&&(n=b.pvt.fnSort(b.sortOrder.Descending),o[s]=o[s].replace(" desc","")),e=I(e,o[s],n,[]));return e}return I(e,o,t.comparer,i?i.queries:[])},onGroup:function(e,t,i){var n,o,s,r,a;if(!e)return e;if(o=[],(n=D(i.queries,"onAggregates")).length)for(r=0;r<n.length;r++)s=n[r].e,o.push({type:s.type,field:y(s.field,i)});return a=O(t.fieldName,i.queries),b.group(e,y(t.fieldName,i),o,a)},onPage:function(e,t,i){var n=y(t.pageSize,i),t=(y(t.pageIndex,i)-1)*n;return e&&e.slice(t,t+n)},onRange:function(e,t){return e&&e.slice(y(t.start),y(t.end))},onTake:function(e,t){return e&&e.slice(0,y(t.nos))},onSkip:function(e,t){return e&&e.slice(y(t.nos))},onSelect:function(e,t){return e&&b.select(e,y(t.fieldNames))},insert:function(e,t){return e.dataSource.json.push(t)},remove:function(e,t,i){var n,o=e.dataSource.json;for("object"==typeof i&&(i=b.getObject(t,i)),n=0;n<o.length&&b.getObject(t,o[n])!==i;n++);return n!==o.length?o.splice(n,1):null},update:function(e,t,i){for(var n=e.dataSource.json,o=b.getObject(t,i),s=0;s<n.length&&b.getObject(t,n[s])!==o;s++);return s<n.length?v.extend(n[s],i):null}}),b.ForeignKeyAdaptor=function(i,n){var e=(new b[n||"JsonAdaptor"]).extend({init:function(){var e,t;for(this.foreignData=[],this.key=[],this.adaptorType=n,this.value=[],this.fValue=[],this.keyField=[],e=i,t=0;t<e.length;t++)this.foreignData[t]=e[t].dataSource,this.key[t]=e[t].foreignKeyField,this.fValue[t]=b.isNullOrUndefined(e[t].field)?e[t].foreignKeyValue:e[t].field+"_"+e[t].foreignKeyValue,this.value[t]=e[t].foreignKeyValue,this.keyField[t]=e[t].field||e[t].foreignKeyField,this.initial=!0},processQuery:function(e,t){var i,n,o,s=e.dataSource.json;if(this.initial){for(i=0;i<s.length;i++)for(n=this,o=0;o<this.foreignData.length;o++)this.foreignData[o].filter(function(e){b.getObject(n.key[o],e)==b.getObject(n.keyField[o],s[i])&&(s[i][n.fValue[o]]=b.getObject(n.value[o],e))});this.initial=!1}return this.base.processQuery.apply(this,[e,t])},setValue:function(e){for(var t,i,n,o=0;o<this.foreignData.length;o++)"string"!=typeof(i=e[(t=this).fValue[o]])||isNaN(i)||(i=b.parseFloat(i)),n=v.grep(t.foreignData[o],function(e){return e[t.value[o]]==i})[0],b.isNullOrUndefined(n)&&(n=v.grep(t.foreignData[o],function(e){return e[t.key[o]]==i})[0],b.getObject(this.value[o],n)!=f)&&b.createObject(t.value[o],b.getObject(this.value[o],n),e),b.getObject(this.value[o],n)!=f&&b.createObject(this.keyField[o],b.getObject(this.key[o],n),e)},insert:function(e,t,i){return this.setValue(t),{url:e.dataSource.insertUrl||e.dataSource.crudUrl||e.dataSource.url,data:JSON.stringify({value:t,table:i,action:"insert"})}},update:function(e,t,i,n){return this.setValue(i),b.JsonAdaptor.prototype.update(e,t,i,n),{type:"POST",url:e.dataSource.updateUrl||e.dataSource.crudUrl||e.dataSource.url,data:JSON.stringify({value:i,action:"update",keyColumn:t,key:i[t],table:n})}}});return v.extend(this,new e),this},b.remoteSaveAdaptor=(new b.JsonAdaptor).extend({beforeSend:b.UrlAdaptor.prototype.beforeSend,insert:b.UrlAdaptor.prototype.insert,update:b.UrlAdaptor.prototype.update,remove:b.UrlAdaptor.prototype.remove,addParams:b.UrlAdaptor.prototype.addParams,batchRequest:function(e,t,i){for(var n=0;n<t.added.length;n++)b.JsonAdaptor.prototype.insert(e,t.added[n]);for(n=0;n<t.changed.length;n++)b.JsonAdaptor.prototype.update(e,i.key,t.changed[n]);for(n=0;n<t.deleted.length;n++)b.JsonAdaptor.prototype.remove(e,i.key,t.deleted[n]);return{type:"POST",url:e.dataSource.batchUrl||e.dataSource.crudUrl||e.dataSource.url,contentType:"application/json; charset=utf-8",dataType:"json",data:JSON.stringify({changed:t.changed,added:t.added,deleted:t.deleted,action:"batch",table:i.url,key:i.key})}}}),b.WebApiAdaptor=(new b.ODataAdaptor).extend({insert:function(e,t){return{type:"POST",url:e.dataSource.url,data:JSON.stringify(t)}},remove:function(e,t,i){return{type:"DELETE",url:e.dataSource.url+"/"+i,data:JSON.stringify(i)}},update:function(e,t,i){return{type:"PUT",url:e.dataSource.url,data:JSON.stringify(i)}},processResponse:function(e,t,i,n,o){var s,r,a=o&&o.ejPvtData;if(o&&"post"!=o.type.toLowerCase()){var o=null,l={},n=(n=n&&n.getResponseHeader("DataServiceVersion"))&&parseInt(n,10)||2;if(i&&i._requiresCount&&(_(e.Count)||(o=e.Count)),n<3&&e.Items&&(e=e.Items),a&&a.aggregates&&a.aggregates.length){for(var d,c=a.aggregates,h={},u=0;u<c.length;u++)(d=b.aggregates[c[u].type])&&(h[c[u].field+" - "+c[u].type]=d(e,c[u].field));l=h}if(a&&a.groups&&a.groups.length)for(s=a.groups,u=0;u<s.length;u++)r=O(s[u],i.queries),e=b.group(e,s[u],a.aggregates,r);return _(o)?e:{result:e,count:o,aggregates:l}}}}),y=function(e,t){return"function"==typeof e?e.call(t||{}):e},b.TableModel=function(e,t,i,n){var o,s,r,a;if(!$(this,b.TableModel))return new b.TableModel(t);for($(t,Array)||d("ej.TableModel - Json Array is required"),o=[],r=m(H,this),a=0;a<t.length;a++)(s=new b.Model(t[a],this)).state="unchanged",s.on("stateChange",r),n&&s.computes(n),o.push(s);return this.name=e||"table1",this.rows=b.NotifierArray(o),this._deleted=[],this._events=v({}),this.dataManager=i,this._isDirty=!1,this},b.TableModel.prototype={on:function(e,t){this._events.on(e,t)},off:function(e,t){this._events.off(e,t)},setDataManager:function(e){this.dataManagar=e},saveChanges:function(){var e;this.dataManager&&$(this.dataManager,b.DataManager)||d("ej.TableModel - saveChanges : Set the dataManager using setDataManager function"),this.isDirty()&&((e=this.dataManager.saveChanges(this.getChanges(),this.key,this.name)).done(m(function(e){for(var t=this.toArray(),i=0;i<t.length;i++)"added"===t.state&&t.set(this.key,e.added.filter(function(e){return e[this.key]===t.get(this.key)})[0][this.key]),t[i].markCommit();this._events.triggerHandler({type:"save",table:this})},this)),e.fail(m(function(e){this.rejectChanges(),this._events.triggerHandler({type:"reject",table:this,error:e})},this)),this._isDirty=!1)},rejectChanges:function(){for(var e=this.toArray(),t=0;t<e.length;t++)e[t].revert(!0);this._isDirty=!1,this._events.triggerHandler({type:"reject",table:this})},insert:function(e){e=new b.Model(e);e._isDirty=this._isDirty=!0,this.rows.push(e),this._events.triggerHandler({type:"insert",model:e,table:this})},update:function(e){this.key||d("TableModel - update : Primary key should be assigned to TableModel.key");var t,i=e,n=this.key,o=i[n],s=this.rows.array.filter(function(e){return e.get(n)===o});for(t in s=s[0],i)s.set(t,i[t]);this._isDirty=!0,this._events.triggerHandler({type:"update",model:s,table:this})},remove:function(e){var t,i,n,o;for(this.key||d("TableModel - update : Primary key should be assigned to TableModel.key"),t=this.key,i=-1,e&&"object"==typeof e&&(e=e[t]!==f?e[t]:e.get(t)),o=0;o<this.rows.length();o++)if(this.rows.array[o].get(t)===e){i=o;break}-1<i&&((n=this.rows.removeAt(i)).markDelete(),this._deleted.push({model:n,position:i}),this._isDirty=!0,this._events.triggerHandler({type:"remove",model:n,table:this}))},isDirty:function(){return this._isDirty},getChanges:function(){for(var e={added:[],changed:[]},t=this.toArray(),i=0;i<t.length;i++)e[t[i].state]&&e[t[i].state].push(t[i].json);return e.deleted=b.select(this._deleted,["model"]),e},toArray:function(){return this.rows.toArray()},setDirty:function(e,t){this._isDirty!==!!e&&(this._isDirty=!!e,this._events.triggerHandler({type:"dirty",table:this,model:t}))},get:function(e){return this.rows.array[e]},length:function(){return this.rows.array.length},bindTo:function(e){var t,i,n=r,o=v(e.html()),s=this.toArray();for((n=v.inArray(e.prop("tagName").toLowerCase(),["table","tbody"])?a:n).insertBefore(e),e.detach().empty(),i=0;i<s.length;i++)t=o.clone(),s[i].bindTo(t),e.append(t);e.insertAfter(n),n.remove()}},r=e?v(document.createElement("div")):{},a=e?v(document.createElement("tr")):{},b.Model=function(e,t,i){"string"==typeof t&&(i=t,t=null),this.$id=P("m"),this.json=e,this.table=t instanceof b.TableModel?t:null,this.name=i||this.table&&this.table.name,this.dataManager=t instanceof b.DataManager?t:t.dataManagar,this.actual={},this._events=v({}),this.isDirty=!1,this.state="added",this._props=[],this._computeEls={},this._fields={},this._attrEls={},this._updates={},this.computed={}},b.Model.prototype={computes:function(e){v.extend(this.computed,e)},on:function(e,t){this._events.on(e,t)},off:function(e,t){this._events.off(e,t)},set:function(e,t){var i,n,o=this.json,s=e;for(e=e.split("."),n=0;n<e.length-1;n++)o=o[(e=e[0])[0]];this.isDirty=!0,this.changeState("changed",{from:"set"}),i=o[e],this.actual[e]!==f||e in this.actual||(this.actual[e]=t),o[e]=t,this._updateValues(e,t),this._events.triggerHandler({type:s,current:t,previous:i,model:this})},get:function(e){return b.pvt.getObject(e,this.json)},revert:function(e){for(var t in this.actual)this.json[t]=this.actual[t];this.isDirty=!1,e?this.state="unchanged":this.changeState("unchanged",{from:"revert"})},save:function(e,t){return e=e||this.dataManagar,t=t||e.dataSource.key,e||d("ej.Model - DataManager is required to commit the changes"),"added"===this.state?e.insert(this.json,this.name).done(b.proxy(function(e){v.extend(this.json,e.record)},this)):"changed"===this.state?e.update(t,this.json,this.name):"deleted"===this.state?e.remove(t,this.json,this.name):void 0},markCommit:function(){this.isDirty=!1,this.changeState("unchanged",{from:"commit"})},markDelete:function(){this.changeState("deleted",{from:"delete"})},changeState:function(e,t){if(this.state!==e){if("added"===this.state){if("deleted"!==e)return;e="unchanged"}var i=e;t=t||{},this.state=e,this._events.triggerHandler(v.extend({type:"stateChange",current:e,previous:i,model:this},t))}},properties:function(){if(!this._props.length)for(var e in this.json)this._props.push(e),this._updates[e]={read:[],input:[]};return this._props},bindTo:function(e){var t,i,n,o,e=v(e),s=e.find("[ej-observe], [ej-computed], [ej-prop]"),r=s.length;for(e.data("ejModel",this),n={fields:[],props:[],computes:[]},o=0;o<r;o++)(i=(t=s.eq(o)).attr("ej-prop"))&&this._processAttrib(i,t,n),(i=t.attr("ej-observe"))&&-1!==this._props.indexOf(i)?this._processField(t,i,n):(i=t.attr("ej-computed"))&&this._processComputed(i,t,n);e.data("ejModelBinding"+this.$id,n)},unbind:function(e){var t,i,n,o,s,r,a={props:this._attrEls,computes:this._computeEls},l=!1;for(i in e&&(a=v(e).removeData("ejModel").data("ejModelBinding"+this.$id)||a,l=!0),this.computed)t=a.computes[i],i=this.computed[i],t&&i.deps&&(this.off(i.deps.join(" "),t.handle),l)&&delete this._computeEls[i];for(i in l||(this._computeEls={}),a.props)t=a.props[i],t&&(this.off(t.deps.join(" "),t.handle),delete a.props[i],l)&&delete this._attrEls[i];if(l||(this._attrEls={}),a.fields&&a.fields.length)for(n=a.fields.length,r=0;r<n;r++)o=a.fields[r],v(o).off("change",null,this._changeHandler),s=-1!==this.formElements.indexOf(o.tagName.toLowerCase())?"input":"read",-1!==(o=this._updates[s].indexOf(o))&&this._updates[s].splice(o,1)},_processComputed:function(e,t,i){var n,o,s;e&&(o=z(e),s=-1!==this.formElements.indexOf(t[0].tagName.toLowerCase())?"val":"html",this.computed[e]&&this.computed[o]||(this.computed[o]={value:new Function("var e = this; return "+e),deps:this._generateDeps(e)},e=o),(n=this.computed[e]).get||(n.get=function(){n.value.call(this.json)}),o=n.deps,n=n.value,this._updateDeps(o),this._updateElement(t,s,n),n={el:t,handle:m(this._computeHandle,this,{value:e,type:s})},this._computeEls[e]=n,i.computes[e]=n,this.on(o.join(" "),n.handle))},_computeHandle:function(e){var t=this._computeEls[e.value];t&&this.computed[e.value]&&this._updateElement(t.el,e.type,this.computed[e.value].value)},_updateElement:function(e,t,i){e[t](i.call(v.extend({},this.json,this.computed)))},_updateDeps:function(e){for(var t=0;t<e.length;t++)!(e[t]in this.json)&&e[t]in this.computed&&b.merge(e,this.computed[e[t]].deps)},_generateDeps:function(e){for(var t,i=e.replace(/(^e\.)|( e\.)/g,"#%^*##ej.#").split("#%^*#"),n=[],o=0;o<i.length;o++)i[o].startsWith("#ej.#")&&(t=i[o].replace("#ej.#","").split(" ")[0])&&-1!==this._props.indexOf(t)&&n.push(t);return n},_processAttrib:function(e,t,i){var n,o,s,r,a={};for(e=e.replace(/^ +| +$/g,"").split(";"),s=0;s<e.length;s++)e[s]=e[s].split(":"),e[s].length<2||(a[n=e[s][0].replace(/^ +| +$/g,"").replace(/^'|^"|'$|"$/g,"")]=e[s][1].replace(/^ +| +$/g,"").replace(/^'|^"|'$|"$/g,""));for(n in r=[],e=a)r.push(e[n]);this._updateDeps(r),this._updateProps(t,e),a=P("emak"),o={el:t,handle:m(this._attrHandle,this,a),value:e,deps:r},t.prop("ejmodelattrkey",a),i.props[a]=o,this._attrEls[a]=o,this.on(r.join(" "),o.handle)},_attrHandle:function(e){e=this._attrEls[e];e&&this._updateProps(e.el,e.value)},_updateProps:function(e,t){var i,n,o=this.json,s=this.computed;for(n in t)i=t[n],i in o?i=o[i]:i in s&&(i=s[i],i=i&&i.value.call(v.extend({},this.json,s))),_(i)||e.prop(n,i)},_updateValues:function(e,t){e=this._updates[e];e&&(e.read||e.input)&&(this._ensureItems(e.read,"html",t),this._ensureItems(e.input,"val",t))},_ensureItems:function(e,t,i){if(e)for(var n=e.length-1;-1<n;n--)e[n].offsetParent?v(e[n])[t](i):e.splice(n,1)},_changeHandler:function(e){e.data.self.set(e.data.prop,v(this).val())},_processField:function(e,t,i){var n={self:this,prop:t},o=this.get(t);return i.fields.push(e[0]),(-1===this.formElements.indexOf(e[0].tagName.toLowerCase())?(e.html(o),this._updates[t].read):(e.val(o).off("change",null,this._changeHandler).on("change",null,n,this._changeHandler),this._updates[t].input)).push(e[0])},formElements:["input","select","textarea"]},/[^\w]+/g),z=function(e){return e.replace(t,"_")},H=function(e){this.setDirty(!0,e.model)},I=(b.Predicate=function(e,t,i,n){return this instanceof b.Predicate?("string"==typeof e?(this.field=e,this.operator=t,this.value=i,this.ignoreCase=n,this.isComplex=!1,this._comparer=b.data.fnOperators.processOperator(this.operator)):(e instanceof b.Predicate&&i instanceof b.Predicate||i instanceof Array)&&(this.isComplex=!0,this.condition=t.toLowerCase(),this.predicates=[e],i instanceof Array?[].push.apply(this.predicates,i):this.predicates.push(i)),this):new b.Predicate(e,t,i,n)},b.Predicate.and=function(){return s._combinePredicates([].slice.call(arguments,0),"and")},b.Predicate.or=function(){return s._combinePredicates([].slice.call(arguments,0),"or")},b.Predicate.fromJSON=function(e){var t,i,n;if($(e,Array)){for(t=[],i=0,n=e.length;i<n;i++)t.push(s._fromJSON(e[i]));return t}return s._fromJSON(e)},s={_combinePredicates:function(e,t){if(!e.length)return f;if(1===e.length){if(!$(e[0],Array))return e[0];e=e[0]}return new b.Predicate(e[0],t,e.slice(1))},_combine:function(e,t,i,n,o,s){return t instanceof b.Predicate?b.Predicate[o](e,t):"string"==typeof t?b.Predicate[o](e,new b.Predicate(t,i,n,s)):d("Predicate - "+o+" : invalid arguments")},_fromJSON:function(e){if(!e||$(e,b.Predicate))return e;for(var t=e.predicates||[],i=t.length,n=[],o=0;o<i;o++)n.push(s._fromJSON(t[o]));return e.isComplex?new b.Predicate(n[0],e.condition,n.slice(1)):new b.Predicate(e.field,e.operator,b.parseJSON({val:e.value}).val,e.ignoreCase)}},b.Predicate.prototype={and:function(e,t,i,n){return s._combine(this,e,t,i,"and",n)},or:function(e,t,i,n){return s._combine(this,e,t,i,"or",n)},validate:function(e){var t,i,n,o=this.predicates;if(!this.isComplex)return this._comparer.call(this,b.pvt.getObject(this.field,e),this.value,this.ignoreCase);for(t="and"===this.condition,n=0;n<o.length;n++)if(i=o[n].validate(e),t){if(!i)return!1}else if(i)return!0;return t},toJSON:function(){var e,t,i;if(this.isComplex)for(e=[],t=this.predicates,i=0;i<t.length;i++)e.push(t[i].toJSON());return{isComplex:this.isComplex,field:this.field,operator:this.operator,value:this.value,ignoreCase:this.ignoreCase,condition:this.condition,predicates:e}}},b.dataUtil={swap:function(e,t,i){var n;t!=i&&(n=e[t],e[t]=e[i],e[i]=n)},mergeSort:function(e,t,i){return i&&"string"!=typeof i||(i=b.pvt.fnSort(i,!0)),"function"==typeof t&&(i=t,t=null),b.pvt.mergeSort(e,t,i)},max:function(e,t,i){return"function"==typeof t&&(i=t,t=null),b.pvt.getItemFromComparer(e,t,i||b.pvt.fnDescending)},min:function(e,t,i){return"function"==typeof t&&(i=t,t=null),b.pvt.getItemFromComparer(e,t,i||b.pvt.fnAscending)},distinct:function(e,t,i){for(var n,o=[],s={},r=0;r<e.length;r++)(n=M(e,t,r))in s||(o.push(i?e[r]:n),s[n]=1);return o},sum:function(e,t){for(var i,n=0,o="number"!=typeof M(e,t,0),s=0;s<e.length;s++)i=M(e,t,s),isNaN(i)||null===i||(n+=i=o?+i:i);return n},avg:function(e,t){return b.sum(e,t)/e.length},select:function(e,t){for(var i=[],n=0;n<e.length;n++)i.push(b.pvt.extractFields(e[n],t));return i},group:function(t,e,i,n,o,s){var r,a,l,d,c,h,u,p,m,f;if(o=o||1,t.GROUPGUID==b.pvt.consts.GROUPGUID){for(m=0;m<t.length;m++)b.isNullOrUndefined(s)?(t[m].items=b.group(t[m].items,e,i,n,t.level+1),t[m].count=t[m].items.length):(f=v.grep(s,function(e){return e.key==t[m].key}),r=s.indexOf(f[0]),t[m].items=b.group(t[m].items,e,i,n,t.level+1,s[r].items),t[m].count=s[r].count);return t.childLevels+=1,t}for(a={},(l=[]).GROUPGUID=b.pvt.consts.GROUPGUID,l.level=o,l.childLevels=0,l.records=t,h=0;h<t.length;h++)d=M(t,e,h),b.isNullOrUndefined(n)||(d=n(d,e)),a[d]||(a[d]={key:d,count:0,items:[],aggregates:{},field:e},l.push(a[d]),b.isNullOrUndefined(s))||(c=v.grep(s,function(e){return e.key==a[d].key}),a[d].count=c[0].count),a[d].count=b.isNullOrUndefined(s)?a[d].count+=1:a[d].count,a[d].items.push(t[h]);if(i&&i.length)for(h=0;h<l.length;h++){for(u={},m=0;m<i.length;m++)p=b.aggregates[i[m].type],b.isNullOrUndefined(s)?p&&(u[i[m].field+" - "+i[m].type]=p(l[h].items,i[m].field)):(f=v.grep(s,function(e){return e.key==l[h].key}),p&&(u[i[m].field+" - "+i[m].type]=p(f[0].items,i[m].field)));l[h].aggregates=u}return l},parseTable:function(e,t,i){var n,o,s,r,a,l,d=e.rows,c=[],h=[];if(!d.length)return[];for(i=i||0,o=((t||"").toLowerCase()===b.headerOption.tHead?e.tHead:(b.headerOption.row,e)).rows[i].cells,n=0;n<o.length;n++)c.push(v.trim(o[n].innerHTML));for(n=i+1;n<d.length;n++){for(s={},r=d[n].cells,a=0;a<r.length;a++)l=r[a].innerHTML,s[c[a]]="string"==typeof l&&v.isNumeric(l)?Number(l):l;h.push(s)}return h}},b.headerOption={tHead:"thead",row:"row"},b.aggregates={sum:function(e,t){return b.sum(e,t)},average:function(e,t){return b.avg(e,t)},minimum:function(e,t){return b.getObject(t,b.min(e,t))},maximum:function(e,t){return b.getObject(t,b.max(e,t))},truecount:function(e,t){t=b.Predicate(t,"equal",!0);return b.DataManager(e).executeLocal(b.Query().where(t)).length},falsecount:function(e,t){t=b.Predicate(t,"equal",!1);return b.DataManager(e).executeLocal(b.Query().where(t)).length},count:function(e){return e.length}},b.pvt={filterQueries:D,mergeSort:function(e,t,i){var n,o;return e.length<=1?e:(n=parseInt(e.length/2,10),o=e.slice(0,n),e=e.slice(n),o=b.pvt.mergeSort(o,t,i),e=b.pvt.mergeSort(e,t,i),b.pvt.merge(o,e,t,i))},getItemFromComparer:function(e,t,i){var n,o,s,r=0,a="string"==typeof M(e,t,0);if(e.length)for(;b.isNullOrUndefined(n)&&r<e.length;)n=M(e,t,r),s=e[r++];for(;r<e.length;r++)o=M(e,t,r),b.isNullOrUndefined(o)||(a&&(n=+n,o=+o),0<i(n,o)&&(n=o,s=e[r]));return s},quickSelect:function(e,t,i,n,o,s){var r,a;return i==n?e[i]:(a=(r=b.pvt.partition(e,t,i,n,s))-i+1)==o?e[r]:o<a?b.pvt.quickSelect(e,t,i,r-1,o,s):b.pvt.quickSelect(e,t,r+1,n,o-a,s)},extractFields:function(e,t){var i,n={};if(1==t.length)return b.pvt.getObject(t[0],e);for(i=0;i<t.length;i++)n[t[i].replace(".",b.pvt.consts.complexPropertyMerge)]=b.pvt.getObject(t[i],e);return n},partition:function(e,t,i,n,o){var s,r=parseInt((i+n)/2,10),a=M(e,t,r);for(b.swap(e,r,n),s=r=i;s<n;s++)o(M(e,t,s),a)&&(b.swap(e,s,r),r++);return b.swap(e,r,n),r},fnSort:function(e){return(e=e?e.toLowerCase():b.sortOrder.Ascending)==b.sortOrder.Ascending?b.pvt.fnAscending:b.pvt.fnDescending},fnGetComparer:function(i,n){return function(e,t){return n(b.pvt.getObject(i,e),b.pvt.getObject(i,t))}},fnAscending:function(e,t){return null===t||t===f?-1:"string"==typeof e?e.localeCompare(t):null===e||e===f?1:e-t},fnDescending:function(e,t){return null===t||t===f?1:"string"==typeof e?-1*e.localeCompare(t):null===e||e===f?-1:t-e},merge:function(e,t,i,n){for(var o,s=[];0<e.length||0<t.length;)o=0<e.length&&0<t.length?n?n(M(e,i,0),M(t,i,0))<=0?e:t:e[0][i]<e[0][i]?e:t:0<e.length?e:t,s.push(o.shift());return s},getObject:function(e,t){var i,n,o;if(!t)return f;if(!e)return t;if(-1===e.indexOf("."))return t[e];for(i=t,n=e.split("."),o=0;o<n.length&&null!=i;o++)i=i[n[o]];return i},createObject:function(e,t,i){for(var n=e.split("."),e=i||window,o=e,s=0;s<n.length;s++)s+1==n.length?o[n[s]]=t===f?{}:t:null==o[n[s]]&&(o[n[s]]={}),o=o[n[s]];return e},getFieldList:function(e,t,i){if(i===f&&(i=""),t===f||null===t)return b.pvt.getFieldList(e,[],i);for(var n in e)"object"!=typeof e[n]||e[n]instanceof Array?t.push(i+n):b.pvt.getFieldList(e[n],t,i+n+".");return t}},b.FilterOperators={lessThan:"lessthan",greaterThan:"greaterthan",lessThanOrEqual:"lessthanorequal",greaterThanOrEqual:"greaterthanorequal",equal:"equal",contains:"contains",startsWith:"startswith",endsWith:"endswith",notEqual:"notequal"},b.data={},b.data.operatorSymbols={"<":"lessthan",">":"greaterthan","<=":"lessthanorequal",">=":"greaterthanorequal","==":"equal","!=":"notequal","*=":"contains","$=":"endswith","^=":"startswith"},b.data.odBiOperator={"<":" lt ",">":" gt ","<=":" le ",">=":" ge ","==":" eq ","!=":" ne ",lessthan:" lt ",lessthanorequal:" le ",greaterthan:" gt ",greaterthanorequal:" ge ",equal:" eq ",notequal:" ne "},b.data.odUniOperator={"$=":"endswith","^=":"startswith","*=":"substringof",endswith:"endswith",startswith:"startswith",contains:"substringof"},b.data.fnOperators={equal:function(e,t,i){return i?E(e)==E(t):e==t},notequal:function(e,t,i){return!b.data.fnOperators.equal(e,t,i)},lessthan:function(e,t,i){return i?E(e)<E(t):e<t},greaterthan:function(e,t,i){return i?E(e)>E(t):t<e},lessthanorequal:function(e,t,i){return i?E(e)<=E(t):e<=t},greaterthanorequal:function(e,t,i){return i?E(e)>=E(t):t<=e},contains:function(e,t,i){return i?!_(e)&&!_(t)&&-1!=E(e).indexOf(E(t)):!_(e)&&!_(t)&&-1!=e.toString().indexOf(t)},notnull:function(e){return null!==e},isnull:function(e){return null===e},startswith:function(e,t,i){return i?e&&t&&E(e).startsWith(E(t)):e&&t&&e.startsWith(t)},endswith:function(e,t,i){return i?e&&t&&E(e).endsWith(E(t)):e&&t&&e.endsWith(t)},processSymbols:function(e){var e=b.data.operatorSymbols[e];return e&&(e=b.data.fnOperators[e])?e:d("Query - Process Operator : Invalid operator")},processOperator:function(e){var t=b.data.fnOperators[e];return t||b.data.fnOperators.processSymbols(e)}},b.NotifierArray=function(e){return $(this,b.NotifierArray)?(this.array=e,this._events=v({}),this._isDirty=!1,this):new b.NotifierArray(e)},b.NotifierArray.prototype={on:function(e,t){this._events.on(e,t)},off:function(e,t){this._events.off(e,t)},push:function(e){var t=$(e,Array)?[].push.apply(this.array,e):this.array.push(e);return this._raise("add",{item:e,index:this.length()-1}),t},pop:function(){var e=this.array.pop();return this._raise("remove",{item:e,index:this.length()-1}),e},addAt:function(e,t){return this.array.splice(e,0,t),this._raise("add",{item:t,index:e}),t},removeAt:function(e){var t=this.array.splice(e,1)[0];return this._raise("remove",{item:t,index:e}),t},remove:function(e){var t=this.array.indexOf(e);return-1<t&&(this.array.splice(t,1),this._raise("remove",{item:e,index:t})),t},length:function(){return this.array.length},_raise:function(e,t){this._events.triggerHandler(v.extend({type:e},t)),this._events.triggerHandler({type:"all",name:e,args:t})},toArray:function(){return this.array}},v.extend(b,b.dataUtil),Array.prototype.forEach=Array.prototype.forEach||function(e,t){for(var i=0,n=this.length;i<n;++i)e.call(t,this[i],i,this)},Array.prototype.indexOf=Array.prototype.indexOf||function(e){var t,i=this.length;if(0!==i)for(t=0;t<i;t++)if(t in this&&this[t]===e)return t;return-1},Array.prototype.filter=Array.prototype.filter||function(e){var t,i,n,o;if("function"!=typeof e)throw new TypeError;for(t=[],i=arguments[1]||this,n=0;n<this.length;n++)o=this[n],e.call(i,o,n,this)&&t.push(o);return t},String.prototype.endsWith=String.prototype.endsWith||function(e){return this.slice(-e.length)===e},String.prototype.startsWith=String.prototype.startsWith||function(e){return this.slice(0,e.length)===e},b.support||(b.support={}),b.support.stableSort=function(){for(var e=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16].sort(function(){return 0}),t=0;t<17;t++)if(t!==e[t])return!1;return!0}(),b.support.cors=v.support.cors,!v.support.cors&&window.XDomainRequest&&(n=/^https?:\/\//i,o=/^get|post$/i,c=new RegExp("^"+location.protocol,"i"),h=/\/xml/i,v.ajaxTransport("text html xml json",function(t,i){var s,r;if(t.crossDomain&&t.async&&o.test(t.type)&&n.test(i.url)&&c.test(i.url))return s=null,r=(i.dataType||"").toLowerCase(),{send:function(e,o){s=new XDomainRequest,/^\d+$/.test(i.timeout)&&(s.timeout=i.timeout),s.ontimeout=function(){o(500,"timeout")},s.onload=function(){var t,e="Content-Length: "+s.responseText.length+"\r\nContent-Type: "+s.contentType,i={code:200,message:"success"},n={text:s.responseText};try{if("json"===r)try{n.json=JSON.parse(s.responseText)}catch(e){i.code=500,i.message="parseerror"}else if("xml"===r||"text"!==r&&h.test(s.contentType)){(t=new ActiveXObject("Microsoft.XMLDOM")).async=!1;try{t.loadXML(s.responseText)}catch(e){t=f}if(!t||!t.documentElement||t.getElementsByTagName("parsererror").length)throw i.code=500,i.message="parseerror","Invalid XML: "+s.responseText;n.xml=t}}catch(e){throw e}finally{o(i.code,i.message,n,e)}},s.onerror=function(){o(500,"error",{text:s.responseText})},-1!=navigator.userAgent.indexOf("MSIE 9.0")&&(s.onprogress=function(){}),s.open(t.type,t.url),s.send(i.data)},abort:function(){s&&s.abort()}}})),v.support.cors=!0,b.sortOrder={Ascending:"ascending",Descending:"descending"},b.pvt.consts={GROUPGUID:"{271bbba0-1ee7}",complexPropertyMerge:"_"},l=function(e,t){t&&(e=m(e,t)),(window.setImmediate||window.setTimeout)(e,0)},b.support.enableLocalizedSort=!1,function(e,t,i,n){return b.support.stableSort?b.support.enableLocalizedSort||"string"!=typeof b.pvt.getObject(t,e[0]||{})||i!==b.pvt.fnAscending&&i!==b.pvt.fnDescending||1!==n.filter(function(e){return"onSortBy"===e.fn}).length?e.sort(b.pvt.fnGetComparer(t,i)):F(e,t,i===b.pvt.fnDescending):b.mergeSort(e,t,i)}),O=function(e,t){for(var i=v.grep(t,function(e){return"onGroup"==e.fn}),n=0;n<i.length;n++)if(b.getObject("fieldName",i[n].e)==e)return b.getObject("fn",i[n].e)},F=function(e,t,i){var n=Object.prototype.toString;Object.prototype.toString=-1===t.indexOf(".")?function(){return this[t]}:function(){return b.pvt.getObject(t,this)},e=e.sort(),Object.prototype.toString=n,i&&e.reverse()},E=function(e){return e?(e.toLowerCase?e:e.toString()).toLowerCase():0===e||!1===e?e.toString():""},M=function(e,t,i){return t?b.pvt.getObject(t,e[i]):e[i]},B=function(e){return"object"==typeof HTMLElement?e instanceof HTMLElement:e&&1===e.nodeType&&"object"==typeof e&&"string"==typeof e.nodeName},$=function(e,t){return e instanceof t},j=function(t,i,n,o){return function(e){return"object"==typeof e&&(o=e,e=null),new b.TableModel(e||t,i,n,o)}},N=function(a){return function(e,t){var i,n,o,s,r;for((t=t||window.ko)||d("Knockout is undefined"),n=[],r=0;r<a.length;r++){for(o in i={},a[r])o.startsWith("_")||(i[o]=t.observable(a[r][o]));for(o in e)s=e[o],s=v.isPlainObject(s)?(s.owner||(s.owner=i),t.computed(s)):t.computed(s,i),i[o]=s;n.push(i)}return t.observableArray(n)}},i=0,P=function(e){return e+(i+=1)};b.getGuid=function(e){var n;return(e||"")+"00000000-0000-4000-0000-000000000000".replace(/0/g,function(e,t){var i;return n="crypto"in window&&"getRandomValues"in crypto?(i=new Uint8Array(1),window.crypto.getRandomValues(i),i[0]%16|0):16*Math.random()|0,"0123456789abcdef"[19===t?3&n|8:n]})},p=function(t,i){return function(){var e=[].slice.call(arguments,0);return e.push(this),t.apply(i||this,e)}},m=function(t,i,n){return"bind"in t?n?t.bind(i,n):t.bind(i):function(){var e=n?[n]:[];return e.push.apply(e,arguments),t.apply(i||this,e)}},b.merge=function(e,t){e&&t&&Array.prototype.push.apply(e,t)},_=function(e){return e===f||null===e},d=function(e){try{throw new Error(e)}catch(e){throw e.message+"\n"+e.stack}}}(window.jQuery,window.Syncfusion,window.document)}),function(e){"function"==typeof define&&define.amd?define(["./ej.core.min"],e):e()}(function(){(function(s,r){"use strict";r.widget("ejScrollBar","ej.ScrollBar",{defaults:{orientation:"horizontal",viewportSize:0,height:18,width:18,smallChange:57,largeChange:57,value:0,maximum:0,minimum:0,buttonSize:18,infiniteScrolling:!1},validTags:["div"],type:"transclude",dataTypes:{buttonSize:"number",smallChange:"number",largeChange:"number"},observables:["value"],value:r.util.valueFunction("value"),_enabled:!0,content:function(){return this._content&&this._content.length||(this._content="horizontal"===this.model.orientation?this.element.find(".e-hhandle"):this.element.find(".e-vhandle")),this._content},_init:function(){this.element.addClass("e-widget"),this._ensureScrollers(),this.content(),this._setInitialValues()},_setInitialValues:function(){this.model.orientation===r.ScrollBar.Orientation.Horizontal?this.element.addClass("e-hscrollbar"):this.element.addClass("e-vscrollbar"),0===this.value()&&0===this.model.minimum||(this.value()<this.model.minimum&&this.value(this.model.minimum),this.scroll(this.value(),"none"))},_ensureScrollers:function(){s.fn.jquery;this.model.height&&this.element.height(this.model.height),this.model.width&&this.element.width(this.model.width),this._scrollData||(this._scrollData="vertical"===this.model.orientation?this._createScroller("Height","Y","Top","e-v"):this._createScroller("Width","X","Left","e-h"))},_setModel:function(e){for(var t in e){if("value"!==t){this.refresh();break}this.value()&&this.scroll(this.value(),"none")}},_createScroller:function(e,t,i,n){var o={};s.fn.jquery;return o.dimension=e,o.xy=t,o.position=i,o.css=n,o.uDimension=e,this._calculateLayout(o),this._createLayout(o),t=this[o.main].find(".e-button"),this._off(t,"mousedown")._on(t,"mousedown",{d:o,step:1},this._spaceMouseDown),this._off(this[o.scroll],"mousedown")._on(this[o.scroll],"mousedown",{d:o},this._spaceMouseDown),this._off(this[o.handler],"mousedown touchstart")._on(this[o.handler],"mousedown touchstart",{d:o},this._mouseDown),o},_createLayout:function(e){var t="<div class='"+e.css+"{0}' style='"+e.dimension+":{1}px'>{2}</div>",i=s.fn.jquery,n={};n[e.dimension]=e.modelDim,t=r.buildTag("div."+e.css+"scroll e-box",String.format(t,"up e-chevron-up_01 e-icon e-box e-button",e.buttonSize)+String.format(t,"handlespace",e.handleSpace,String.format(t,"handle e-box e-pinch",e.handle))+String.format(t,"down e-chevron-down_01 e-icon e-box e-button",e.buttonSize),n),this.element.append(t),this.element.find(".e-vhandle").addClass("e-v-line e-icon"),this.element.find(".e-hhandle").addClass("e-h-line e-icon"),"1.7.1"===i||"1.7.2"===i?e.uDimension.toLowerCase():e.uDimension,this[e.handler]=this.element.find("."+e.handler),this[e.handler].css("transition","none"),this[e.scroll]=this[e.handler].parent(),this[e.main]=this[e.scroll].parent(),this[e.main].find(".e-button")["outer"+e.uDimension](e.buttonSize)},_calculateLayout:function(e){var t;e.scrollDim="scroll"+e.dimension,e.lPosition=e.position.toLowerCase(),e.clientXy="page"+e.xy,e.scrollVal="scroll"+e.position,e.scrollOneStepBy=this.model.smallChange,e.modelDim=this.model[e.dimension=e.dimension.toLowerCase()],e.handler=e.css+"handle",e.buttonSize=this.model.buttonSize,e.main=e.css+"scroll",e.scroll=e.css+"ScrollSpace",e.handleSpace=e.modelDim-2*e.buttonSize,e.scrollable=this.model.maximum-this.model.minimum,t=this.model.height,"horizontal"===this.model.orientation&&(t=this.model.width),e.handle=this.model.viewportSize/(this.model.maximum-this.model.minimum+this.model.viewportSize)*(t-2*this.model.buttonSize),t=!r.isNullOrUndefined(this.model.elementHeight)&&"string"==typeof this.model.elementHeight&&-1!=this.model.elementHeight.indexOf("%"),e.handle<20&&!t&&(e.handle=20),e.onePx=e.scrollable/(e.handleSpace-e.handle),e.fromScroller=!1,e.up=!0,e.vInterval=void 0},_updateLayout:function(e){this.element.height(this.model.height),this.element.width(this.model.width);var t=this.element.find("."+e.css+"handle"),i=this.element.find("."+e.css+"handlespace"),n="width"==e.dimension?t.css("left"):t.css("top"),i="width"==e.dimension?i.outerWidth():i.outerHeight();void 0===n||"auto"===n||i>=e.handle+parseFloat(n)||(this.model.enableRTL?t.css("width"===e.dimension?"left":"top",parseFloat(i)-e.handle):t.css("width"===e.dimension?"left":"top",0<parseFloat(i)-e.handle?parseFloat(i)-e.handle:0)),this.element.find("."+e.css+"scroll").css(e.dimension,e.modelDim+"px").find(".e-button").css(e.dimension,this.model.buttonSize).end().find("."+e.css+"handlespace").css(e.dimension,e.handleSpace+"px").find("."+e.css+"handle").css(e.dimension,e.handle+"px")},refresh:function(){this._ensureScrollers(),this.value()&&this.scroll(this.value(),"none"),this._scrollData&&(this._calculateLayout(this._scrollData),this._updateLayout(this._scrollData))},scroll:function(e,t,i,n){var o=this._scrollData;if(!i)if(this.model.orientation===r.ScrollBar.Orientation.Horizontal){if(this._trigger("scroll",{source:t||"custom",scrollData:this._scrollData,scrollLeft:e,originalEvent:n}))return}else if(this._trigger("scroll",{source:t||"custom",scrollData:this._scrollData,scrollTop:e,originalEvent:n}))return;!this._scrollData.enableRTL||"mousemove"!=n&&"touchmove"!=n||"msie"==r.browserInfo().name?!this._scrollData.enableRTL||"mousemove"!=n&&"touchmove"!=n||"msie"!=r.browserInfo().name?this.value(e):this.value(-1*e):this.value(-o.scrollable+e),0<this.content().length&&(this.model.orientation===r.ScrollBar.Orientation.Horizontal?(e=(i=this.element.find(".e-hhandlespace").width()-this.element.find(".e-hhandle").outerWidth())<(e-this.model.minimum)/this._scrollData.onePx?i:(e-this.model.minimum)/this._scrollData.onePx,!this._scrollData.enableRTL||"mousemove"!=n&&"touchmove"!=n||"msie"==r.browserInfo().name||0<(e=i-e)&&(e*=-1),!this._scrollData.enableRTL||"mousemove"!=n&&"touchmove"!=n||"msie"!=r.browserInfo().name||(e=-e),this._scrollData.enableRTL&&0<e&&!this._scrollData._scrollleftflag&&(e=0),this._scrollData._scrollleftflag&&(0<e&&(e*=-1),this.value(e)),this.content()[0].style.left=e+"px",this._scrollData._scrollleftflag=!1):(e=(t=this.element.find(".e-vhandlespace").height()-this.element.find(".e-vhandle").outerHeight())<(e-this.model.minimum)/this._scrollData.onePx?t:(e-this.model.minimum)/this._scrollData.onePx,this.content()[0].style.top=e+"px"))},_changeTop:function(e,t,i){var n,o;return e.dimension,o=(n=this.value())+t,e.step=t,e.enableRTL&&t<0||0<t&&!e.enableRTL?e.enableRTL?o<-1*this.model.maximum&&(o=-1*this.model.maximum):o>this.model.maximum&&(o=this.model.maximum):e.enableRTL?o>this.model.minimum&&(o=this.model.minimum):o<this.model.minimum&&(o=this.model.minimum),o===n&&!this.model.infiniteScrolling||this.scroll(o,i),o!==n},_mouseUp:function(e){var t;e.data&&(t=e.data.d,clearInterval(t.vInterval),"touchend"==e.type&&s(e.target).removeClass("e-touch"),"mouseup"!==e.type&&"touchend"!==e.type&&(e.toElement||e.relatedTarget||e.target)||(this._prevY=this._d=this._data=null,this._off(s(document),"mousemove touchmove",this._mouseMove),s(document).off("mouseup touchend",r.proxy(this._mouseUp,this)),t.fromScroller=!1,this[t.scroll].off("mousemove"),this[t.handler].off("mousemove").css("transition",""),"thumb"!==e.data.source)||r.isNullOrUndefined(this.model)||s.when(this.content()).done(r.proxy(function(){this._trigger("thumbEnd",{originalEvent:e,scrollData:t})},this)),t.up=!0)},_mouseDown:function(e){this._enabled&&(this._d=e,this._data=this._d.data.d,this._data.target=this._d.target,this._data.fromScroller=!0,this[this._data.handler].css("transition","none"),this._on(s(document),"mousemove touchmove",{d:this._data,source:"thumb"},this._mouseMove),this._trigger("thumbStart",{originalEvent:this._d,scrollData:this._data}),s(document).one("mouseup touchend",{d:this._data,source:"thumb"},r.proxy(this._mouseUp,this)),"touchstart"==e.type)&&s(e.target).addClass("e-touch")},_mouseCall:function(e){e.type="mouseup",this._mouseUp(e)},_mouseMove:function(e){var t,i,n,o=parseInt(this[this._data.handler].css(this._data.lPosition))||0;if(e.preventDefault(),r.isNullOrUndefined(e.target.tagName)){if(s(e.target).is(document))return void this._mouseCall(e)}else if("iframe"===e.target.tagName.toLowerCase())return void this._mouseCall(e);n=("mousemove"==e.type?e:e.originalEvent.changedTouches[0])[this._data.clientXy],this._prevY&&n!==this._prevY&&(i=n-this._prevY,this.model.infiniteScrolling?(o+=i,this._data.step=i,(o=(this._data.enableRTL?0<o:o<0)?0:o)*(this._data.enableRTL?-1:1)+this._data.handle>=this._data.handleSpace&&(o=(this._data.handleSpace-this._data.handle)*(this._data.enableRTL?-1:1)),t=Math.ceil(o*this._data.onePx),this.scroll(t,"thumb")):(t=i*this._data.onePx,this._changeTop(this._data,t,"thumb",this._d)),this._trigger("thumbMove",{originalEvent:e,scrollData:this._data})),this._prevY=n},_spaceMouseDown:function(e){var t,i,n;e.data&&this._enabled&&(t=e.data.d,1===e.which)&&e.target!==this[t.handler][0]&&(i=e.data.step?this.model.smallChange:this.model.largeChange,n=e.data.top||this[t.handler].offset()[t.lPosition],e[t.clientXy]=e[t.clientXy]||0,e[t.clientXy]<n&&(i*=-1),t.target=e.target,this._changeTop(t,i,3===i?"track":"button",e),1!==e.data.step&&this[t.scroll].mousemove(function(){t.up=!0}),t.up=!1,t.vInterval=setInterval(r.proxy(function(){(i<0?n+i/t.onePx<e[t.clientXy]:n+t.handle+i/t.onePx>e[t.clientXy])&&(t.up=!0),t.up?clearInterval(t.vInterval):(this._changeTop(t,i,3===i?"track":"button",e),n=e.data&&e.data.top||this[t.handler].offset()[t.lPosition])},this),150),s(document).one("mouseup",{d:t},r.proxy(this._mouseUp,this)),s(document).mouseout({d:t},r.proxy(this._mouseUp,this)))},_remove:function(){this.model.orientation===r.ScrollBar.Orientation.Horizontal&&this.element.find(".e-hscroll").remove(),this.model.orientation===r.ScrollBar.Orientation.Vertical&&this.element.find(".e-vscroll").remove(),this._scrollData=null,this._content=null},_destroy:function(){this.element.remove()}}),r.ScrollBar.Orientation={Horizontal:"horizontal",Vertical:"vertical"}})(jQuery,Syncfusion,window),function(d,c,h,u){"use strict";c.widget("ejScroller","ej.Scroller",{_addToPersist:["scrollLeft","scrollTop"],defaults:{height:250,autoHide:!1,animationSpeed:600,width:0,scrollOneStepBy:57,buttonSize:18,scrollLeft:0,scrollTop:0,targetPane:null,scrollerSize:18,enablePersistence:!1,enableRTL:u,enableTouchScroll:!0,enabled:!0,create:null,destroy:null,wheelStart:null,wheelMove:null,wheelStop:null},validTags:["div"],type:"transclude",dataTypes:{buttonSize:"number",scrollOneStepBy:"number"},observables:["scrollTop","scrollLeft"],scrollTop:c.util.valueFunction("scrollTop"),scrollLeft:c.util.valueFunction("scrollLeft"),keyConfigs:{up:"38",down:"40",left:"37",right:"39",pageUp:"33",pageDown:"34",pageLeft:"ctrl+37",pageRight:"ctrl+39"},content:function(){return this._content&&this._content.length&&this._content[0].offsetParent||(this._content=this.element.children().first().addClass("e-content")),this._content},_setFirst:!0,_updateScroll:!1,_init:function(){c.isNullOrUndefined(this.content()[0])||(this._prevScrollWidth=this.content()[0].scrollWidth,this._prevScrollHeight=this.content()[0].scrollHeight,this.element.addClass("e-widget"),this.content(),this._browser=c.browserInfo().name,this._wheelStart=!0,this._eleHeight=this.model.height,this._eleWidth=this.model.width,this.model.enableRTL===u&&(this.model.enableRTL="rtl"===this.element.css("direction")),this._ensureScrollers(),this.model.enableRTL&&(this.element.addClass("e-rtl"),this._rtlScrollLeftValue=this.content().scrollLeft()),this._on(this.content(),"scroll",this._scroll),null!=this.model.targetPane&&this._on(this.content().find(this.model.targetPane),"scroll",this._scroll),this.scrollLeft()&&this._setScrollLeftValue(this.scrollLeft()),this.scrollTop()&&this.content().scrollTop(this.scrollTop()),this.model.autoHide&&this._autohide(),this.model.enabled?this.enable():this.disable(),this._setDimension(),this._prevScrollWidth===this.content()[0].scrollWidth&&this._prevScrollHeight===this.content()[0].scrollHeight)||this.refresh(),this._addActionClass()},_addActionClass:function(){"msie"==this._browser&&(this.content().removeClass("e-pinch e-pan-x e-pan-y"),this._vScrollbar&&this._hScrollbar?this.content().addClass("e-pinch"):this._vScrollbar&&!this._hScrollbar?this.content().addClass("e-pan-x"):this._hScrollbar&&!this._vScrollbar&&this.content().addClass("e-pan-y"))},_setDimension:function(){c.isNullOrUndefined(this.model.height)||"string"!=typeof this.model.height||-1==this.model.height.indexOf("%")||(this._vScroll?this.model.height=this._convertPercentageToPixel(parseInt(this._eleHeight),this.element.parent().height()):d(this.content()[0]).height("")),c.isNullOrUndefined(this.model.width)||"string"!=typeof this.model.width||-1==this.model.width.indexOf("%")||(this._hScroll?this.model.width=this._convertPercentageToPixel(parseInt(this._eleWidth),this.element.parent().width()):d(this.content()[0]).width(""))},_setScrollLeftValue:function(e){this.model.enableRTL&&(e="mozilla"==c.browserInfo().name?e<0?e:-1*e:!c.isNullOrUndefined(this._rtlScrollLeftValue)&&("chrome"==c.browserInfo().name||0<this._rtlScrollLeftValue)?e<0?this._rtlScrollLeftValue+e:this._rtlScrollLeftValue-e:Math.abs(e)),this.content().scrollLeft(e)},_ensureScrollers:function(){var e,t,i,n=d.fn.jquery;this.model.height="string"==typeof this.model.height&&-1!=this.model.height.indexOf("px")?parseInt(this.model.height):this.model.height,this.model.width="string"==typeof this.model.width&&-1!=this.model.width.indexOf("px")?parseInt(this.model.width):this.model.width,this.model.height&&this.element.height(this.model.height),this.model.width&&this.element.width(this.model.width),this._off(this.content(),"mousedown touchstart"),0<this.content().length&&(this.isVScroll()?(this._vScrollbar||(this._vScrollbar=this._createScrollbar(c.ScrollBar.Orientation.Vertical,this.isHScroll())),this.model.enableTouchScroll&&this._on(this.content(),"mousedown touchstart",{d:this._vScrollbar._scrollData},this._mouseDownOnContent)):(this._vScrollbar=null,this.element.children(".e-vscrollbar").remove()),this.isHScroll()?(this._hScrollbar||(this._hScrollbar=this._createScrollbar(c.ScrollBar.Orientation.Horizontal,this.isVScroll())),this.model.enableTouchScroll&&this._on(this.content(),"mousedown touchstart",{d:this._hScrollbar._scrollData},this._mouseDownOnContent)):(this._hScrollbar=null,this.element.children(".e-hscrollbar").remove()),this._vScrollbar||this._hScrollbar||this.content().css({width:"auto",height:"auto"}),0<this.element.find(".e-hscroll").length||this._vScrollbar&&this.content().outerHeight(this.content().outerHeight()-1),this._hScroll=this.isHScroll(),this._vScroll=this.isVScroll(),this._hScroll||this._vScroll?(this.content().addClass("e-content"),n="1.7.1"===n||"1.7.2"===n?(i="height","width"):(i="outerHeight","outerWidth"),t=(e=this._exactElementDimension(this.element)).height-(this.border_bottom+this.border_top+this.padding_bottom+this.padding_top),this.content()[i](t-(this._hScroll&&!this.model.autoHide?this.model.scrollerSize:0)),i=e.width-(this.border_left+this.border_right+this.padding_left+this.padding_right),this.content()[n](i-(this._vScroll&&!this.model.autoHide?this.model.scrollerSize:0)),isNaN(this._eleWidth)&&0<this._eleWidth.indexOf("%")&&isNaN(this._eleHeight)&&0<this._eleHeight.indexOf("%")&&d(h).on("resize",d.proxy(this._resetScroller,this))):this.content().removeClass("e-content"),this._setDimension(),this._parentHeight=d(this.element).parent().height(),this._parentWidth=d(this.element).parent().width())},_convertPercentageToPixel:function(e,t){return Math.floor(e*t/100)},isHScroll:function(){var e;return c.isNullOrUndefined(this.model.width)||"string"!=typeof this.model.width||-1==this.model.width.indexOf("%")?0<this.model.width&&(e=this.content().find(this.model.targetPane),null!=this.model.targetPane&&e.length?e[0].scrollWidth+e.siblings().width()>this.model.width:this.content()[0].scrollWidth>this.model.width||this.content()[0].scrollWidth==this.model.width&&0<d(this.content()[0]).find("> *").length&&d(this.content()[0]).find("> *")[0].scrollWidth>this.model.width):this.content()[0].scrollWidth>this.element.width()},isVScroll:function(){return c.isNullOrUndefined(this.model.height)||"string"!=typeof this.model.height||-1==this.model.height.indexOf("%")?!!(0<this.model.height&&(this.content()[0].scrollHeight>this.model.height||this.isHScroll()&&(this.content()[0].scrollHeight==this.model.height||this.content()[0].scrollHeight>this.model.height-(this.model.scrollerSize-2)))):this.content()[0].scrollHeight>this.element.outerHeight()},_setModel:function(e){for(var t in e)if("enableRTL"===t)e[t]?(this.element.addClass("e-rtl"),this._rtlScrollLeftValue=this.content().scrollLeft(),c.isNullOrUndefined(this._hScrollbar)||(this._hScrollbar._scrollData.enableRTL=!0)):(this.element.removeClass("e-rtl"),c.isNullOrUndefined(this._hScrollbar)||(this._hScrollbar._scrollData.enableRTL=!1)),this._hScrollbar&&(this.element.find(".e-hhandle").css("left",0),this._hScrollbar.value(0));else if("scrollLeft"===t)(parseFloat(e[t])<0||!this._hScroll)&&(e[t]=0),this._externalCall=!0,this._hScrollbar&&(e[t]=parseFloat(e[t])>this._hScrollbar._scrollData.scrollable?this._hScrollbar._scrollData.scrollable:parseFloat(e[t])),this._setScrollLeftValue(parseFloat(e[t])),this.scrollLeft(e[t]),!this._hScrollbar||this._hScrollbar._scrollData._scrollleftflag&&this.model.enableRTL||this.scrollX(e[t]);else if("scrollTop"===t)this._vScrollbar&&(e[t]=parseFloat(e[t])>this._vScrollbar._scrollData.scrollable?this._vScrollbar._scrollData.scrollable:parseFloat(e[t])),(parseFloat(e[t])<0||!this._vScroll)&&(e[t]=0),this._externalCall=!0,this.content().scrollTop(parseFloat(e[t])),this.scrollTop(e[t]),this.scrollY(e[t]);else if("touchScroll"===t)this.model.enableTouchScroll?(this._vScrollbar&&this._on(this.content(),"mousedown touchstart",{d:this._vScrollbar._scrollData},this._mouseDownOnContent),this._hScrollbar&&this._on(this.content(),"mousedown touchstart",{d:this._hScrollbar._scrollData},this._mouseDownOnContent)):this._off(this.content(),"mousedown touchstart");else if("scrollOneStepBy"===t)this._vScrollbar&&(this._vScrollbar._scrollData.scrollOneStepBy=e[t],this._vScrollbar.model.smallChange=e[t]),this._hScrollbar&&(this._hScrollbar._scrollData.scrollOneStepBy=e[t],this._hScrollbar.model.smallChange=e[t]);else{if("buttonSize"!==t){"height"===t&&(this._eleHeight=e[t]),"width"===t&&(this._eleWidth=e[t]),this.refresh();break}this._vScrollbar&&(this._vScrollbar.model.buttonSize=this.model.buttonSize),this._hScrollbar&&(this._hScrollbar.model.buttonSize=this.model.buttonSize),this.refresh()}},_createScrollbar:function(e,t){var i,n,o,s,r=document.createElement("div"),a=e===c.ScrollBar.Orientation.Vertical?(n=this.model.scrollerSize,s=i=c.isNullOrUndefined(this.model.height)||"string"!=typeof this.model.height||-1==this.model.height.indexOf("%")?this.model.height-(t?this.model.scrollerSize:0):this.element.height()-(t?this.model.scrollerSize:0),o=this.content()[0].scrollHeight,this.scrollTop()):(n=i=this.model.width-(t?this.model.scrollerSize:0),s=this.model.scrollerSize,o=c.isNullOrUndefined(this.model.width)||"string"!=typeof this.model.width||-1==this.model.width.indexOf("%")?(a=this.content().find(this.model.targetPane),null!=this.model.targetPane&&a.length?a[0].scrollWidth+a.parent().width()-a.width():this.content()[0].scrollWidth):(n=i=this.element.width()-(t?this.model.scrollerSize:0),this.content()[0].scrollWidth),this.scrollLeft());return 0<this.element.children(".e-hscrollbar").length?d(this.element.children(".e-hscrollbar")).before(r):this.element.append(r),d(r).ejScrollBar({elementHeight:this._eleHeight,elementWidth:this._eleWidth,buttonSize:this.model.buttonSize,orientation:e,viewportSize:i,height:s,width:n,maximum:o-i,value:a,smallChange:this.model.scrollOneStepBy,largeChange:3*this.model.scrollOneStepBy,scroll:c.proxy(this._scrollChanged,this),thumbEnd:c.proxy(this._thumbEnd,this),thumbStart:c.proxy(this._thumbStart,this),thumbMove:c.proxy(this._thumbMove,this)}),s=d(r).ejScrollBar("instance"),e!==c.ScrollBar.Orientation.Vertical&&t||this._off(this.element,"msie"==this._browser?"wheel mousewheel":"mousewheel DOMMouseScroll",this._mouseWheel)._on(this.element,"msie"==this._browser?"wheel mousewheel":"mousewheel DOMMouseScroll",{d:s._scrollData},this._mouseWheel),e===c.ScrollBar.Orientation.Horizontal?this._scrollXdata=s._scrollData:this._scrollYdata=s._scrollData,e===c.ScrollBar.Orientation.Horizontal&&this.model.enableRTL&&(s._scrollData.enableRTL=!0),s._enabled=this.model.enabled,s},_updateScrollbar:function(e,t){var i=e===c.ScrollBar.Orientation.Vertical?this._vScrollbar:this._hScrollbar;i&&(e===c.ScrollBar.Orientation.Vertical?(i.model.width=this.model.scrollerSize,i.model.height=i.model.viewportSize=this.model.height-(t?this.model.scrollerSize:0),i.model.maximum=this.content()[0].scrollHeight-i.model.viewportSize,i.model.value=this.scrollTop()):(i.model.width=i.model.viewportSize=this.model.width-(t?this.model.scrollerSize:0),i.model.height=this.model.scrollerSize,i.model.maximum=(null!=this.model.targetPane&&0<this.content().find(this.model.targetPane).length?this.content().find(this.model.targetPane)[0].scrollWidth+(this.content().width()-d(this.model.targetPane).outerWidth()):this.content()[0].scrollWidth)-i.model.viewportSize,this.model.enableRTL||(i.model.value=this.scrollLeft())))},_autohide:function(){this.model.autoHide?(this.element.addClass("e-autohide"),this._on(this.element,"mouseenter mouseleave touchstart touchend",this._scrollerHover),this.content().siblings(".e-scrollbar.e-js").hide()):(this.element.removeClass("e-autohide"),this._off(this.element,"mouseenter mouseleave touchstart touchend",this._scrollerHover),this.content().siblings(".e-scrollbar.e-js").show())},_scrollChanged:function(e){this._updateScroll=!0,e.scrollTop!==u?this.scrollY(e.scrollTop,!0,"",e.source):e.scrollLeft!==u&&this.scrollX(e.scrollLeft,!0,"",e.source),this._updateScroll=!1;var t=this;d.when(this.content()).done(c.proxy(function(){t._trigger("scrollEnd",{scrollData:e})}))},_bindBlurEvent:function(e,t){this._scrollEle=d(e).data("ejScrollBar"),this._event=t;this._listener=function(){this._scrollEle._off(d(document),"mousemove touchmove",this._scrollEle._mouseMove),d(document).off("mouseup touchend",c.proxy(this._scrollEle._mouseUp,this._scrollEle)),this._scrollEle._prevY=null,this._off(d(document),"mousemove touchmove",this._mouseMove),this._off(d(document),"mouseup touchend",this._mouseUp),this._off(d(h),"blur"),this._evtData.handler,this._scrollEle._trigger("thumbEnd",{originalEvent:this._event,scrollData:this._evtData})},this._on(d(h),"blur",this._listener)},_thumbStart:function(e){this._evtData=e.scrollData;e.scrollData.handler,this.element.find("."+e.scrollData.handler).closest(".e-scrollbar");e.scrollData.handler;var t=this.element.find("."+e.scrollData.handler).closest(".e-scrollbar");this._bindBlurEvent(t,e),this._trigger("thumbStart",e)},_thumbMove:function(e){this._trigger("thumbMove",e)},_thumbEnd:function(e){this._trigger("thumbEnd",e),this._off(d(h),"blur")},refresh:function(e){var t;e||this.element.find(">.e-content").removeAttr("style"),c.isNullOrUndefined(this._eleHeight)||"string"!=typeof this._eleHeight||-1==this._eleHeight.indexOf("%")||this._parentHeight==d(this.element).parent().height()||(t=(t=this._exactElementDimension(this.element.parent())).height-(this.border_bottom+this.border_top+this.padding_bottom+this.padding_top),this.model.height=this._convertPercentageToPixel(parseInt(this._eleHeight),t)),c.isNullOrUndefined(this._eleWidth)||"string"!=typeof this._eleWidth||-1==this._eleWidth.indexOf("%")||this._parentWidth==d(this.element).parent().width()||(t=(t=this._exactElementDimension(this.element.parent())).width-(this.border_left+this.border_right+this.padding_left+this.padding_right),this.model.width=this._convertPercentageToPixel(parseInt(this._eleWidth),t)),this._ensureScrollers(),e=this.scrollLeft(),!this.model.enableRTL||(this.element.hasClass("e-rtl")||this.element.addClass("e-rtl"),this._rtlScrollLeftValue=this.content().scrollLeft(),0<e)?this.content().scrollLeft(e):this._setScrollLeftValue(e),(this.scrollTop()&&null==this._vScrollbar||null!==this._vScrollbar&&null!=this._vScrollbar._scrollData&&!this._vScrollbar._scrollData.skipChange)&&this.content().scrollTop(this.scrollTop()),this._vScrollbar&&(this._vScrollbar._scrollData.dimension="Height",this._updateScrollbar(c.ScrollBar.Orientation.Vertical,this._hScroll),this._vScroll)&&!this._vScrollbar._calculateLayout(this._vScrollbar._scrollData)&&this._vScrollbar._updateLayout(this._vScrollbar._scrollData),this._hScrollbar&&(this._hScrollbar._scrollData.dimension="Width",this._updateScrollbar(c.ScrollBar.Orientation.Horizontal,this._vScroll),this._hScroll)&&!this._hScrollbar._calculateLayout(this._hScrollbar._scrollData)&&this._hScrollbar._updateLayout(this._hScrollbar._scrollData),"msie"==c.browserInfo().name&&"8.0"==c.browserInfo().version?this.element.find(".e-hhandle").css("left","0px"):null!=this.model.targetPane&&this._on(this.content().find(this.model.targetPane),"scroll",this._scroll),this._addActionClass(),this._autohide()},_exactElementDimension:function(e){for(var t=e.get(0).getBoundingClientRect(),i=["left","right","top","bottom"],n=t.width||t.right-t.left,t=t.height||t.bottom-t.top,o=0;o<i.length;o++)this["border_"+i[o]]=isNaN(parseFloat(e.css("border-"+i[o]+"-width")))?0:parseFloat(e.css("border-"+i[o]+"-width")),this["padding_"+i[o]]=isNaN(parseFloat(e.css("padding-"+i[o])))?0:parseFloat(e.css("padding-"+i[o]));return{width:n,height:t}},_keyPressed:function(e,t){if(this.model.enabled){if(-1!==["input","select","textarea"].indexOf(t.tagName.toLowerCase()))return!0;var i,n;if(-1!==["up","down","pageUp","pageDown"].indexOf(e))this._vScrollbar&&("msie"==c.browserInfo().name&&this.model.allowVirtualScrolling&&this._content.focus(),i=this._vScrollbar._scrollData),n="o";else{if(-1===["left","right","pageLeft","pageRight"].indexOf(e))return!0;this._hScrollbar&&(i=this._hScrollbar._scrollData),n="i"}return!i||!this._changeTop(i,(e.indexOf(n)<0?-1:1)*("p"!==e[0]?1:3)*i.scrollOneStepBy,"key")}},scrollY:function(e,t,i,n,o){if(""!==e){if(t)return o={source:n||"custom",scrollData:this._vScrollbar?this._vScrollbar._scrollData:null,scrollTop:e,originalEvent:o},this._trigger("scroll",o)?void 0:(e=o.scrollTop,this.scrollTop(e),void this.content().scrollTop(e));!c.isNullOrUndefined(i)&&""!==i||(i=100),this._vScrollbar&&(e=parseFloat(e)>this._vScrollbar._scrollData.scrollable?this._vScrollbar._scrollData.scrollable:parseFloat(e)),this.scrollTop(e),this.content().stop().animate({scrollTop:e},i,"linear"),this._trigger("scroll",{source:n||"custom",scrollData:this._vScrollbar?this._vScrollbar._scrollData:null,scrollTop:e,originalEvent:o})}},scrollX:function(e,t,i,n,o){var s;if(""!==e){if(this._hScrollbar&&(e=parseFloat(e)>this._hScrollbar._scrollData.scrollable?this._hScrollbar._scrollData.scrollable:parseFloat(e)),this._externalCall=!0,s=c.browserInfo().name,this.model.enableRTL&&"mozilla"!=s&&(e<0&&(e=Math.abs(e)),(null!=this.model.targetPane?this.content().find(this.model.targetPane):this.content())[0],"mousemove"!=o)&&"touchmove"!=o&&"msie"!=s&&(e=this._hScrollbar._scrollData.scrollable-e),this.scrollLeft(e),t)return this._trigger("scroll",{source:n||"custom",scrollData:this._hScrollbar?this._hScrollbar._scrollData:null,scrollLeft:e,originalEvent:o})?void 0:void(null!=this.model.targetPane&&this.content().find(this.model.targetPane).length?this.content().find(this.model.targetPane):this.content()).scrollLeft(e);!c.isNullOrUndefined(i)&&""!==i||(i=100),(null!=this.model.targetPane&&this.content().find(this.model.targetPane).length?this.content().find(this.model.targetPane):this.content()).stop().animate({scrollLeft:e},i,"linear"),this._trigger("scroll",{source:n||"custom",scrollData:this._hScrollbar?this._hScrollbar._scrollData:null,scrollLeft:e,originalEvent:o})}},enable:function(){var e=this.element.find(".e-vscrollbar,.e-hscrollbar,.e-vscroll,.e-hscroll,.e-vhandle,.e-hhandle,.e-vscroll .e-icon,.e-hscroll .e-icon");e.hasClass("e-disable")&&(e.removeClass("e-disable").attr({"aria-disabled":!1}),this.model.enabled=!0),this._vScrollbar&&(this._vScrollbar._enabled=this.model.enabled),this._hScrollbar&&(this._hScrollbar._enabled=this.model.enabled)},disable:function(){this.element.find(".e-vscrollbar,.e-hscrollbar,.e-vscroll,.e-hscroll,.e-vhandle,.e-hhandle,.e-vscroll .e-icon,.e-hscroll .e-icon").addClass("e-disable").attr({"aria-disabled":!0}),this.model.enabled=!1,this._vScrollbar&&(this._vScrollbar._enabled=this.model.enabled),this._hScrollbar&&(this._hScrollbar._enabled=this.model.enabled)},_changeTop:function(e,t,i,n){var o=(null!=this.model.targetPane&&"height"!=e.dimension?this.content().find(this.model.targetPane):this.content())[e.scrollVal](),t=(o="height"==e.dimension&&0==o?0!=this.scrollTop()?this.scrollTop():0:o)+t;return(e.enableRTL?t<e.scrollable:t>e.scrollable)&&(t=e.scrollable),(t=(e.enableRTL?0<t:t<0)?0:t)!==o&&(this["scroll"+e.xy](t,!0,"",i,n),"X"!==e.xy||c.isNullOrUndefined(this._hScrollbar)?c.isNullOrUndefined(this._vScrollbar)||this._vScrollbar.scroll(t,i,!0,n):this._hScrollbar.scroll(t,i,!0,n)),t!==o},_mouseWheel:function(e){var t;if((this._vScrollbar||e.shiftKey)&&e.data&&this.model.enabled){var i,n=0,o=e.data.d,s=e;if(e=e.originalEvent,this._wheelStart&&this._trigger("wheelStart",{originalEvent:e,scrollData:s.data.d}),this._wheelStart=!1,clearTimeout(d.data(this,"timer")),1==this._wheelx||0!=e.wheelDeltaX&&0!=e.wheelDeltaY||(this._wheelx=1),0==navigator.platform.indexOf("Mac")&&0==this._wheelx&&("webkit"==this._browser||"chrome"==this._browser))return!0;"mozilla"==this._browser?e.axis==e.HORIZONTAL_AXIS?o=this._scrollXdata:this._scrollYdata:"msie"==this._browser?("wheel"==e.type&&(n=e.deltaX/120),"mousewheel"==e.type&&e.shiftKey&&(o=this._scrollXdata,e.preventDefault?e.preventDefault():e.returnValue=!1)):this._wheelx&&0!=e.wheelDeltaX&&0==e.wheelDeltaY&&this._scrollXdata&&(o=this._scrollXdata),0==e.wheelDeltaX&&(this._wheelx=e.wheelDeltaX),e.wheelDelta?(n=0==navigator.platform.indexOf("Mac")?-e.wheelDelta/3:-e.wheelDelta/120,h.opera&&parseFloat(h.opera.version,10)<10&&(n=-n)):e.detail&&(n=e.detail/3),n&&(s.originalEvent&&(i=s.originalEvent.wheelDelta&&0<s.originalEvent.wheelDelta||s.originalEvent.detail&&s.originalEvent.detail<0?-1:1),this._changeTop(o,n*o.scrollOneStepBy,"wheel",e)?((e.preventDefault?e:s).preventDefault(),s.stopImmediatePropagation(),s.stopPropagation(),this._trigger("wheelMove",{originalEvent:e,scrollData:s.data.d,direction:i})):(this._trigger("scrollEnd",{originalEvent:e,scrollData:s}),this._wheelx=0),d.data(t=this,"timer",setTimeout(function(){t._wheelStart=!0,t._trigger("wheelStop",{originalEvent:e,scrollData:s.data.d,direction:i})},250)))}},_scrollerHover:function(e){"mouseenter"!=e.type&&"touchstart"!=e.type||this.content().siblings().is(":visible")?"mouseleave"!=e.type&&"touchend"!=e.type||this.content().siblings().hide():this.content().siblings().css("display","block")},_mouseUp:function(e){var t;e.data&&(t=e.data.d,"mouseup"!==e.type&&"touchend"!==e.type&&(e.toElement||e.relatedTarget)||(this.content().css("cursor","default"),this._off(d(document),"mousemove touchmove"),this._off(d(document),"mouseup touchend",this._mouseUp),!(t.fromScroller=!1)!==this._mouseMoved)||"thumb"!==e.data.source||c.isNullOrUndefined(this.model)||(d.when(this.content()).done(c.proxy(function(){this._trigger("thumbEnd",{originalEvent:e,scrollData:t})},this)),this._off(d(h),"blur")),t.up=!0)},_mouseDownOnContent:function(e){var s,t,r,a,l;this._velocity=0,!this.model.enabled||(s=e.data.d,this._evtData=e.data,this._startX=e.clientX!=u?e.clientX:e.originalEvent.changedTouches[0][s.clientXy],this._startY=e.clientY!=u?e.clientY:e.originalEvent.changedTouches[0][s.clientXy],this._timeStart=e.timeStamp||Date.now(),s.handler,t=this.element.find("."+s.handler).closest(".e-scrollbar"),this._bindBlurEvent(t,e),this._trigger("thumbStart",{originalEvent:e,scrollData:s}))||3==e.which&&2==e.button||(s.fromScroller=!0,r=null,a=1,this._document=d(document),this._window=d(h),this._mouseMove=function(e){var t,i,n,o;this._relDisX=(this._startx=e.clientX!=u?e.clientX:e.originalEvent.changedTouches[0][s.clientXy])-this._startX,this._relDisY=(this._starty=e.clientY!=u?e.clientY:e.originalEvent.changedTouches[0][s.clientXy])-this._startY,this._duration=(e.timeStamp||Date.now())-this._timeStart,this._velocityY=Math.abs(this._relDisY)/this._duration,this._velocityX=Math.abs(this._relDisX)/this._duration,e.preventDefault(),"iframe"===e.target.tagName.toLowerCase()?(e.type="mouseup",this._mouseUp(e)):(o=("mousemove"==e.type?e:e.originalEvent.changedTouches[0])[s.clientXy],r&&o!==r&&(this._mouseMoved=!0,i=o-r,t=this.model[s.scrollVal]-i,1==a&&5<Math.abs(i)&&(l=s.position,a=0),0==a&&(r=o),0<=t)&&t<=s.scrollable&&l===s.position&&(i=.5<this._velocityY&&this._duration<50&&"Top"==s.position,n=.5<this._velocityX&&this._duration<50&&"Left"==s.position,(.5<this._velocityY||.5<this._velocityX)&&this._duration<50?i?(t=Math.abs(this._relDisY)+this._duration*this._velocityY,this._startY>this._starty?(t+=this.scrollTop())>s.scrollable&&(t=s.scrollable):t<this.scrollTop()&&(t=Math.abs(t-this.scrollTop())),this.scrollTop()<=s.scrollable&&this.scrollY(t,!1,this.model.animationSpeed,"thumb")):n&&(t=Math.abs(this._relDisX),this._startX>this._startx?(t+=this.scrollLeft())>s.scrollable&&(t=s.scrollable):(t-=this.scrollLeft(),((t=Math.abs(t))>s.scrollable||t>=this.scrollLeft())&&(t=0)),this.scrollLeft()<=s.scrollable)&&this.scrollX(t,!1,this.model.animationSpeed,"thumb"):(this["scroll"+s.xy](t,!0,"","thumb",e.type),"X"===s.xy?this._hScrollbar.scroll(t,"thumb",!0,e.type):c.isNullOrUndefined(this._vScrollbar)||this._vScrollbar.scroll(t,"thumb",!0,e.type),this.content().css("cursor","pointer"),this._trigger("thumbMove",{originalEvent:e,scrollData:s}))),null==r&&(r=o))},this._on(d(document),"mousemove touchmove",{d:s,source:"thumb"},this._mouseMove),this._mouseMoved=!1,this._on(d(document),"mouseup touchend",{d:s,source:"thumb"},this._mouseUp))},_scroll:function(e){for(var t,i,n=[this._vScrollbar?this._vScrollbar._scrollData:null,this._hScrollbar?this._hScrollbar._scrollData:null],o=0;o<2;o++)if((t=n[o])&&!t.skipChange){if(this._externalCall||("height"===t.dimension?this.scrollTop(e.target[t.scrollVal]):this.scrollLeft(e.target[t.scrollVal])),t.sTop=this.model&&null!=this.model.targetPane&&1==o&&this.content().find(this.model.targetPane).length?this.content().find(this.model.targetPane)[0][t.scrollVal]:"scrollTop"==t.scrollVal?this.scrollTop():this.scrollLeft(),this[t.scrollVal](t.sTop),t.fromScroller)return;(1===o?(i=this.content()[0],this._rtlScrollLeftValue&&i.scrollWidth-i.clientWidth!=this._rtlScrollLeftValue&&(this._rtlScrollLeftValue=i.scrollWidth-i.clientWidth),t.sTop=this.model&&"mozilla"!=c.browserInfo().name&&this.model.enableRTL&&!this._hScrollbar._scrollData._scrollleftflag?0==this._rtlScrollLeftValue?-1*t.sTop:t.sTop-this._rtlScrollLeftValue:t.sTop,this._hScrollbar):this._vScrollbar).scroll(t.sTop,"",!0),(2==n.length&&1==o||1==n.length&&0==o)&&(this._externalScroller=!1)}},_changevHandlerPosition:function(e){var t=this._vScrollbar;t&&(e=null!=t._scrollData&&e>=t._scrollData.scrollable?t._scrollData.scrollable:e,null!=t)&&0<=e&&e<=t._scrollData.scrollable&&t[t._scrollData.handler].css(t._scrollData.lPosition,e/t._scrollData.onePx+"px")},_changehHandlerPosition:function(e){var t=this._hScrollbar;t&&(e=null!=t._scrollData&&e>=t._scrollData.scrollable?t._scrollData.scrollable:e,null!=t)&&0<=top&&e<=t._scrollData.scrollable&&t[t._scrollData.handler].css(t._scrollData.lPosition,e/t._scrollData.onePx+"px")},_destroy:function(){this.element.css({width:"",height:""}).find(".e-vscrollbar,.e-hscrollbar").remove(),this.content().removeClass("e-content").css({width:"",height:""})}})}(jQuery,Syncfusion,window)}),function(e){"function"==typeof define&&define.amd?define(["./../common/ej.globalize.min","./../common/ej.core.min","./../common/ej.data.min","./../common/ej.scroller.min"],e):e()}(function(){var g,v,a;g=jQuery,(v=Syncfusion).widget("ejAutocomplete","ej.Autocomplete",{element:null,model:null,validTags:["input"],_ignoreOnPersist:["fields","dataSource","query","focusIn","focusOut","change","select","create","destroy","open","close","actionComplete","actionSuccess","actionFailure"],_setFirst:!1,_rootCSS:"e-autocomplete",type:"editor",angular:{require:["?ngModel","^?form","^?ngModelOptions"]},_requiresID:!0,defaults:{dataSource:null,query:null,fields:{text:null,key:null,category:null,groupBy:null,htmlAttributes:null},locale:"en-US",template:null,allowGrouping:!1,enableDistinct:!1,allowSorting:!0,sortOrder:"ascending",htmlAttributes:{},multiSelectMode:"none",delimiterChar:",",allowAddNew:!1,addNewText:"Add New",showRoundedCorner:!1,readOnly:!1,cssClass:"",watermarkText:null,value:"",selectValueByKey:null,filterType:"startswith",caseSensitiveSearch:!1,showLoadingIcon:!0,showResetIcon:!1,itemsCount:0,minCharacter:1,delaySuggestionTimeout:200,showPopupButton:!1,highlightSearch:!1,enableAutoFill:!1,enableRTL:!1,enabled:!0,visible:!0,height:"",width:"",emptyResultText:"No suggestions",animateType:"slide",showEmptyResultText:!0,enablePersistence:!1,popupHeight:"152px",popupWidth:"auto",autoFocus:!1,multiColumnSettings:{enable:!1,showHeader:!0,stringFormat:"{0}",columns:[{field:null,headerText:null,textAlign:"left",headerTextAlign:"left",cssClass:"",type:"string",filterType:"startswith"}]},validationRules:null,validationMessage:null,focusIn:null,focusOut:null,change:null,select:null,create:null,open:null,close:null,destroy:null,actionBegin:null,actionComplete:null,actionSuccess:null,actionFailure:null},dataTypes:{autoFocus:"boolean",watermarkText:"string",locale:"string",cssClass:"string",filterType:"enum",caseSensitiveSearch:"boolean",showLoadingIcon:"boolean",template:"string",allowGrouping:"boolean",enableDistinct:"boolean",allowSorting:"boolean",sortOrder:"enum",allowAddNew:"boolean",addNewText:"string",showRoundedCorner:"boolean",showResetIcon:"boolean",readOnly:"boolean",itemsCount:"number",animateType:"enum",minCharacter:"number",showPopupButton:"boolean",highlightSearch:"boolean",enableAutoFill:"boolean",enableRTL:"boolean",multiSelectMode:"enum",delimiterChar:"string",emptyResultText:"string",showEmptyResultText:"boolean",enabled:"boolean",visible:"boolean",enablePersistence:"boolean",dataSource:"data",query:"data",fields:"data",validationRules:"data",validationMessage:"data",htmlAttributes:"data",multiColumnSettings:"data"},observables:["value","selectValueByKey"],value:v.util.valueFunction("value"),_selectValueByKey:v.util.valueFunction("selectValueByKey"),enable:function(){this.model.enabled||(this.model.enabled=!0,this.target.disabled=!1,this.element.removeClass("e-disable").attr({"aria-disabled":!1}),this.element.removeAttr("disabled"),this.model.showPopupButton&&this.dropdownbutton.removeClass("e-disable").attr({"aria-disabled":!1}),"visualmode"==this.model.multiSelectMode&&this._ulBox.removeClass("e-disable").attr({"aria-disabled":!1}))},disable:function(){this.model.enabled&&(this._hideResult(),this.model.enabled=!1,this.target.disabled=!0,this.element.attr("disabled","disabled"),this.element.addClass("e-disable").attr({"aria-disabled":!0}),this.model.showPopupButton&&this.dropdownbutton.addClass("e-disable").attr({"aria-disabled":!0}),"visualmode"==this.model.multiSelectMode)&&this._ulBox&&this._ulBox.addClass("e-disable").attr({"aria-disabled":!0})},clearText:function(){"visualmode"==this.model.multiSelectMode&&this._deleteBox(this._ulBox.children("li")),this.element.val(""),this._valueChange(),this._isFocused?this.element.blur():this._focusOutAction(),this._hideResult()},getValue:function(){var e=this.value();return null==e?"":e},getSelectedItems:function(){return this._isFocused&&"visualmode"!=this.model.multiSelectMode&&this._updateSelectedItemArray(this.getValue()),this._selectedItems},_setValue:function(e){var t,i,n;if(this._isWatermark||this._hiddenSpan.css("display","none"),("object"==typeof e||"number"==typeof e&&isNaN(e)||""==g.trim(e))&&(e=""),"visualmode"==this.model.multiSelectMode&&this._hiddenInput.val(""),this.element.val(""),e)if("visualmode"==this.model.multiSelectMode)if(this._selectedItems=[],this._modelValue=e,this._deleteBox(this._ulBox.children("li")),t=e.split(this.model.delimiterChar),this.element.width(1).val("").removeAttr("placeholder"),this._hiddenInput||(this._hiddenInput=v.buildTag("input#"+this.target.id+"_hidden","",{},{type:"hidden",name:this.element.attr("name")}).insertBefore(this.element)),v.DataManager&&this.model.dataSource instanceof v.DataManager)this._createBoxForObjectType(t);else if(this.suggestionListItems=this.model.dataSource,this.suggestionListItems&&"object"!=typeof this.suggestionListItems[0])for(this._hiddenInput.val(e),i=0,n=t.length;i<n;i++)t[i]&&(this._ulBox.append(this._createBox(t[i])),this._selectedItems.push(t[i]));else this._createBoxForObjectType(t);else this.element.val(e),this._updateSelectedItemArray(e);return"visualmode"!=this.model.multiSelectMode&&this.value(this.element.val()),this._preVal=this.element.val(),this._isWatermark||this._setWatermarkTxt(),e},_createBoxForObjectType:function(e){for(var t,i=this,n=this._declareVariable(),o=0,s=e.length;o<s;o++)""!=(t=g.trim(e[o]))&&(v.DataManager&&this.model.dataSource instanceof v.DataManager?(this._dataQuery=this._getQuery().where(n[0],"equal",t,!1),this._promise=this.model.dataSource.executeQuery(this._dataQuery),this._promise.done(function(e){e=e.result;i._strData=e instanceof Array&&e.length?e[0]:t,v.isNullOrUndefined(i._strData[n[1]])||i._selectKeyInit(),i._selectedItems.push(i._strData)}).fail(function(){i._selectedItems.push(t)})):(this._dataQuery=v.Query().where(n[0],"equal",t,!1),this._promise=v.DataManager(this.suggestionListItems).executeLocal(this._dataQuery),this._strData=this._promise instanceof Array&&this._promise.length?this._promise[0]:t,v.isNullOrUndefined(this._strData[n[1]])||this._selectKeyInit(),this._selectedItems.push(this._strData)),"visualmode"==this.model.multiSelectMode)&&this._ulBox.append(this._createBox(t))},_selectKeyInit:function(){var e,t=this._declareVariable();delimiterChar=this._delimiterChar(),"visualmode"==this.model.multiSelectMode&&this._hiddenInput.val(this._hiddenInput.val()+(v.isNullOrUndefined(this._strData[t[1]]||this._strData[t[0]])?"":(this._strData[t[1]]||this._strData[t[0]])+this.model.delimiterChar)),v.isNullOrUndefined(this._strData[t[1]])||("none"!=this.model.multiSelectMode?(e=(e=null!=this._selectValueByKey()?this._selectValueByKey()+this._strData[t[1]]+delimiterChar:this._strData[t[1]]+delimiterChar).split(delimiterChar).reduce(function(e,t){return e.indexOf(t)<0&&e.push(t),e},[]),this._selectValueByKey(e.join(delimiterChar))):this._selectValueByKey(this._strData[t[1]]))},_declareVariable:function(){var e=this.model.fields,t={_key:null,_text:null,_attr:null},i=[];if(!v.isNullOrUndefined(e))return t._text=e&&e.text?e.text:"text",t._key=e&&e.key?e.key:"key",i.push(t._text,t._key),i},selectValueByKey:function(e){var i=this;e=e.toString(),e="none"!=this.model.multiSelectMode?e.split(this.model.delimiterChar):e.split(","),"[object Array]"===Object.prototype.toString.call(e)&&g.each(e,function(e,t){i._setOperation(g.trim(t),"key")})},selectValueByText:function(e){this._setOperation(e,"text")},setValue:function(e){this._setText(e)},_setOperation:function(e,t){var i,n,o,s="",r=this,a=this.model.dataSource;if(v.isNullOrUndefined(a))return!1;if("object"==typeof a[0]||a instanceof v.DataManager)s=(o=this.model.fields)&&o[t]?o[t]:t;else if("key"==t)return!1;if(v.DataManager&&a instanceof v.DataManager)n=this._getQuery().where(s,"equal",e,!this.model.caseSensitiveSearch),(i=a.executeQuery(n)).done(function(e){r._setText(e.result[0])});else{if(!a||!a.length||a.length<1)return!1;n=v.Query().where(s,"equal",e,!this.model.caseSensitiveSearch),i=v.DataManager(a).executeLocal(n),this._setText(i[0])}},_setText:function(e){var t;if(!e)return!1;if(t=this.model.fields,t="object"!=typeof this.model.dataSource[0]&&"object"!=typeof e||"string"==typeof e?e:t&&t.text?e[t.text]:e.text){if("visualmode"==this.model.multiSelectMode&&this._removeDuplicates(e))return!1;this._valueToTextBox(t,e,!0),t="visualmode"==this.model.multiSelectMode?this._modelValue:this.element.val(),this.value(t),this.model.showResetIcon&&this._showReset()}},_textFormateString:function(e){var t,i,n=this.model.multiColumnSettings.stringFormat;if(this._columnsIndex(),v.isNullOrUndefined(e)||"object"!=typeof e)n=v.isNullOrUndefined(e)||"object"==typeof e?this._currList[this._activeItem-1]:n.replace("{"+this._columnIndex[0]+"}",e);else for(t=0,i=this._columnIndex.length;t<i;t++)n=n.replace("{"+this._columnIndex[t]+"}",e[this.model.multiColumnSettings.columns[parseInt(this._columnIndex[t])].field]);return n},_columnsIndex:function(){var i=this;this._columnIndex=[],g.each(this.model.multiColumnSettings.stringFormat.match(/\{.+?\}/g),function(e,t){i._columnIndex[e]=t.slice(1,-1)})},_valueToTextBox:function(e,t,i){var n,o,s;!this._addNewTemplate&&this.model.multiColumnSettings.enable&&"string"!=typeof t&&(e=this._textFormateString(t)),"visualmode"==this.model.multiSelectMode?(t="string"==typeof t&&this._addNewTemplate&&t.substr(t.length-this._addNewTemplate.length)==this._addNewTemplate?t.replace(this._addNewTemplate,""):t,n=e.indexOf(this._addNewTemplate),this._addNewTemplate&&(e=e.substr(0,e.length-this._addNewTemplate.length)),s=this.model.delimiterChar,o=(o=this._getUniqueKey())||(this.model.fields&&this.model.fields.key?t[this.model.fields.key]:v.isNullOrUndefined(t.key)?o:t.key),(this._selectValueByKey()!=o&&null!=o||-1<n)&&this._selectValueByKey(null!=this._selectValueByKey()?this._selectValueByKey()+(-1<n?e:o)+s:(-1<n?e:o)+s),(this._hiddenInput.val()!=o&&null!=o||-1<n)&&this._hiddenInput.val(this._hiddenInput.val()+(o||e)+s),this._modelValue=v.isNullOrUndefined(this.value())?e+s:this.value()+e+s,this.element.val("").removeAttr("placeholder").width(1),this._ulBox.append(this._createBox(e)),this._addNewTemplate=null):"delimiter"==this.model.multiSelectMode?(s=this.target.value.lastIndexOf(this.model.delimiterChar),this._typed||""==this.element.val()||i||!this.model.showPopupButton?i?this.element.val(""==this.element.val()?e+this.model.delimiterChar:this.element.val()+e+this.model.delimiterChar):-1==s?this.element.val(this._queryString.substr(0,s+1)+e+this.model.delimiterChar):this.element.val(this._queryString.substr(0,s+this.model.delimiterChar.length)+e+this.model.delimiterChar):!this.model.enableAutoFill||this.showSuggestionBox?this._checkDeli()?this.element.val(this._queryString.substr(0,s)+this.model.delimiterChar+e+this.model.delimiterChar):this.element.val(this.element.val()+this.model.delimiterChar):this._checkDeli()||this.element.val(this.element.val()+this.model.delimiterChar),this._typed=!1):(this.element.val(e),this._selectedItems=[]),this._selectedItems.push(t),this._originalval.push(e),this._moveCaretToEnd(this.element[0])},_removeDuplicates:function(e){return 0!=this._selectedItems.length&&(-1!=this._selectedItems.indexOf(e)||void 0)},search:function(){this.model.enabled&&this._checkDelimiter()&&(this._hideResult(),this._autoFill=!1,this._queryString=g.trim(this._queryString),0<this._queryString.length)&&this._OnTextEnter()},setVisible:function(e){e?this.wrapper.show():this.wrapper.hide()},hide:function(){this._hideResult()},open:function(){this._showFullList()},_changeWatermark:function(e){this._isWatermark?this.element.attr("placeholder",e):this._hiddenSpan.text(e)},_changeSkin:function(e){this.wrapper.removeClass(this.model.cssClass).addClass(e),this.suggestionList.removeClass(this.model.cssClass).addClass(e)},_setDropdown:function(e){(this.model.showPopupButton=e)?this._renderDropdown():this._destroyDropdown()},_changeHeight:function(e){this.wrapper.height(e)},_changeWidth:function(e){this.wrapper.width(e),this._setListWidth()},_setCulture:function(){this._localizedLabels=this._getLocalizedLabels(),v.isNullOrUndefined(this._options)||(v.isNullOrUndefined(this._options.addNewText)||(this._localizedLabels.addNewText=this._options.addNewText),v.isNullOrUndefined(this._options.emptyResultText))||(this._localizedLabels.emptyResultText=this._options.emptyResultText),this.model.addNewText=this._localizedLabels.addNewText,this.model.emptyResultText=this._localizedLabels.emptyResultText},_init:function(e){if(this._options=e,this._setCulture(),!this.element.is("input")||this.element.attr("type")&&"text"!=this.element.attr("type"))return!1;this.model.fields.groupBy=this.model.fields.groupBy||this.model.fields.category,this._initialize(),this._render(),this._wireEvents(),this.initialRender=!1,null!=this.model.validationRules&&(this._initValidator(),this._setValidation())},_initValidator:function(){this.element.closest("form").data("validator")||this.element.closest("form").validate()},_setValidation:function(){var e,t,i,n,o;if(this.model.validationRules)for(i in(e="visualmode"==this.model.multiSelectMode?this._hiddenInput:this.element).rules("add",this.model.validationRules),t=(t=this.element.closest("form").data("validator"))||this.element.closest("form").validate(),name=e.attr("name"),t.settings.messages[name]={},this.model.validationRules)if(n=null,!v.isNullOrUndefined(this.model.validationRules[i])){if(v.isNullOrUndefined(this.model.validationRules.messages&&this.model.validationRules.messages[i]))for(o in t.settings.messages[name][i]=g.validator.messages[i],this.model.validationMessage)i==o&&(n=this.model.validationMessage[i]);else n=this.model.validationRules.messages[i];t.settings.messages[name][i]=null!=n?n:g.validator.messages[i]}},_removeDuplicateValue:function(e){return e.split(this.model.delimiterChar).reduce(function(e,t){return e.indexOf(t)<0&&e.push(t),e},[]).join(this.model.delimiterChar)},_delimiterChar:function(){return"none"!=this.model.multiSelectMode?this.model.delimiterChar:""},_setModel:function(e){var t,i,n,o,s,r;for(t in e){switch(t){case"dataSource":this.model.dataSource=null;break;case"watermarkText":this._changeWatermark(e[t]);break;case"delaySuggestionTimeout":this.model.delaySuggestionTimeout=parseInt(e[t]);break;case"value":deli=this._delimiterChar(),"none"!=this.model.multiSelectMode&&(r=e[t].substr(e[t].length-deli.length)==deli?e[t]:e[t]+deli,e[t]=""==e[t]?this.value():(this.value()?this.value():"")+r,"visualmode"==this.model.multiSelectMode)&&(e[t]=e[t].split(deli).reduce(function(e,t){return e.indexOf(t)<0&&e.push(t),e},[]),e[t]=e[t].join(deli)),this.value(this._setValue(e[t])),this._modelValue=this.value(),i=("visualmode"==this.model.multiSelectMode?this._hiddenInput:this.element).val(),this._changeEvtTrigger(i),this.model.showResetIcon&&this._showReset();break;case"showPopupButton":this._setDropdown(e[t]);break;case"enableRTL":this._RightToLeft(e[t]);break;case"showRoundedCorner":this._setRoundedCorner(e[t]);break;case"readOnly":this._checkReadOnly(e[t]);break;case"delimiterChar":i=this.model.delimiterChar,e[t]=this._validateDelimiter(e[t]),this.model.delimiterChar=e[t],this.element.val(this.value().replace(new RegExp(i,"g"),this.model.delimiterChar)),this.value(this.element.val());break;case"validationRules":null!=this.model.validationRules&&(this.element.rules("remove"),this.model.validationMessage=null),this.model.validationRules=e[t],null!=this.model.validationRules&&(this._initValidator(),this._setValidation());break;case"validationMessage":this.model.validationMessage=e[t],null!=this.model.validationRules&&null!=this.model.validationMessage&&(this._initValidator(),this._setValidation());break;case"locale":v.Autocomplete.Locale[e[t]]?(this.model.locale=e[t],this._setCulture()):e[t]=this.model.locale;break;case"filterType":for(s in n=[],v.filterType)v.filterType.hasOwnProperty(s)&&n.push(v.filterType[s]);-1<n.indexOf(e[t])?this.model.filterType=e[t]:e[t]=this.model.filterType;break;case"multiSelectMode":this.model.multiSelectMode=e[t],o=this._delimiterChar(),"none"!=this.model.multiSelectMode&&(s=this._selectValueByKey(),(r=this.value())&&(r=r.substr(r.length-o.length)==o?r:r+o,this.value(r),"visualmode"==this.model.multiSelectMode)&&this.value(this._removeDuplicateValue(this.value())),s)&&(this._selectValueByKey(s.substr(s.length-o.length)==o?s:s+o),"visualmode"==this.model.multiSelectMode)&&this._selectValueByKey(this._removeDuplicateValue(this._selectValueByKey())),"visualmode"==e[t]?(null!=this.model.validationRules&&this.element.rules("remove"),""!=this.element.val()&&this._isWatermark&&this.element.removeAttr("placeholder"),this._renderBoxModel()):this.element.hasClass("e-visual-mode")&&this._destroyBoxModel(),this._setValue(this.value()),this._setValidation(),v.isNullOrUndefined(this.element.attr("placeholder"))&&this._isWatermark&&this._setWatermark();break;case"enabled":this._disabled(!e[t]);break;case"visible":this.setVisible(e[t]);break;case"height":this._changeHeight(e[t]);break;case"width":this._changeWidth(e[t]);break;case"cssClass":this._changeSkin(e[t]);break;case"itemsCount ":(e[t]<=0||isNaN(e[t]))&&(e[t]=0);break;case"popupHeight":this.suggestionList.css({"max-height":isNaN(e[t])?e[t]:e[t]+"px"});break;case"popupWidth":this.model.popupWidth=e[t],this._setListWidth();break;case"selectValueByKey":deli=this._delimiterChar(),s=v.util.getVal(e[t]),this.selectValueByKey(s),keyValue=(keyValue=(keyValue="none"!=this.model.multiSelectMode?this._selectValueByKey()+e[t]:e[t]).split(deli).reduce(function(e,t){return e.indexOf(t)<0&&e.push(t),e},[])).join(deli),e[t]=keyValue.substr(keyValue.length-deli.length)==deli?keyValue:keyValue+deli;break;case"htmlAttributes":this._addAttr(e[t]);break;case"emptyResultText":v.isNullOrUndefined(this._options)&&(this._options={}),this._options.emptyResultText=this.model.emptyResultText=e[t],this._setCulture();break;case"addNewText":v.isNullOrUndefined(this._options)&&(this._options={}),this._options.addNewText=this.model.emptyResultText=e[t],this._setCulture();break;case"multiColumnSettings":v.isNullOrUndefined(e[t].enable)||(this.model.multiColumnSettings.enable=e[t].enable),v.isNullOrUndefined(e[t].showHeader)||(this.model.multiColumnSettings.showHeader=e[t].showHeader),v.isNullOrUndefined(e[t].stringFormat)||(this.model.multiColumnSettings.stringFormat=e[t].stringFormat),v.isNullOrUndefined(e[t].columns)||(this.model.multiColumnSettings.columns=e[t].columns),this.suggestionList.remove(),this._renderSuggestionList();break;case"showResetIcon":this.model.showResetIcon=e[t],e[t]?this._showReset():this._removeReset()}this._hideResult()}},_destroy:function(){this.element.width("").removeAttr("role aria-label aria-expanded aria-haspopup aria-autocomplete autocomplete placeholder aria-owns aria-disabled disabled"),this.element.insertAfter(this.wrapper),"visualmode"==this.model.multiSelectMode&&this.element.removeClass("e-visual-mode").attr("name",this._hiddenInput.attr("name")),this.model.enabled||this.element.removeClass("e-disable"),this.wrapper.remove(),this.element.removeClass("e-input").val(""),this._isWatermark&&this.element.removeAttr("placeholder"),this._hideResult(),this.suggestionList.remove()},_initialize:function(){this.value(""===this.value()?this.element[0].value:this.value()),this.element.attr("role","combobox").attr("aria-label","Autocomplete textbox").attr("aria-expanded",!1).attr("tabindex",0).attr("aria-autocomplete","list"),/Edge\/12./i.test(navigator.userAgent)&&this.element.addClass("edge-browser"),this.target=this.element[0],this.dropdownbutton=null,this._isIE8="msie"==v.browserInfo().name&&"8.0"==v.browserInfo().version,this.showSuggestionBox=!1,this.noresult=!0,this._queryString=null,this.suggLen=0,this._selectedItems=[],this._modelValue="",this._activeItem=0,this._originalval=[],this.ctrlKeyPressed=!1,this._isFocused=!1,this._isOpened=!1,this._typed=!1,this._cancelEvent=!1,this._isWatermark=this._checkWatermarkSupport(),this._selectedObj=[]},_render:function(){this._renderWrapper(),this._addAttr(this.model.htmlAttributes),this._setDimentions(),this._renderDropdown(),this._checkProperties(),this._isWatermark?this._setWatermark():this._setWatermarkTxt(),this._renderSuggestionList(),this._RightToLeft(this.model.enableRTL),this._setRoundedCorner(this.model.showRoundedCorner),this.setVisible(this.model.visible),this._setListPosition()},_renderWrapper:function(){var e,t;this.element.addClass("e-input").attr("autocomplete","off"),this.wrapper=v.buildTag("span.e-atc e-widget "+this.model.cssClass+"#"+this.target.id+"_wrapper").insertAfter(this.element),document.activeElement==this.element[0]&&(e=!0),this.container=v.buildTag("span.e-in-wrap e-box").append(this.element),this.wrapper.append(this.container),this._isWatermark||(this._hiddenSpan=v.buildTag("span.e-input e-placeholder ").insertAfter(this.element),this._hiddenSpan.text(this.model.watermarkText),this._hiddenSpan.css("display","none"),(t=this)._hiddenSpan.click(function(){this._isFocused||t.element.focus()})),e&&this.element.focus()},_renderDropdown:function(){var e;this.model.showPopupButton&&(e=v.buildTag("span.e-icon e-search").attr(this._isIE8?{unselectable:"on"}:{}),this.dropdownbutton=v.buildTag("span.e-select#"+this.target.id+"_dropdown").attr(this._isIE8?{unselectable:"on"}:{}).append(e),this.container.append(this.dropdownbutton).addClass("e-padding"),this.model.enabled||this.dropdownbutton.addClass("e-disable").attr({"aria-disabled":!0}),this.dropdownbutton.on("mousedown",g.proxy(this._OnDropdownClick,this)))},_addAttr:function(e){var i=this;g.map(e,function(e,t){"required"==t&&i.element.attr(t,e),"class"==t?i.wrapper.addClass(e):"name"==t?i.element.attr(t,e):"disabled"==t&&"disabled"==e?i._disabled(!0):"readOnly"==t&&!0===e?i._checkReadOnly(!0):i.wrapper.attr(t,e)})},_setDimentions:function(){this.model.height&&this.wrapper.height(this.model.height),this.model.width&&this.wrapper.width(this.model.width)},_renderBoxModel:function(){this._ulBox=v.buildTag("ul.e-ul e-boxes");var e=this.model.enabled?"":"e-disable";this._ulBox.addClass(e),this._hiddenInput=v.buildTag("input#"+this.target.id+"_hidden","",{},{type:"hidden"}).insertBefore(this.element),this._hiddenInput.attr("name",this.element.attr("name")),this.element.val("").removeAttr("name").addClass("e-visual-mode"),this._isWatermark||this.element.width(1),this.container.prepend(this._hiddenInput,this._ulBox),this.wrapper.height("auto"),this._on(this.container,"mousedown",function(e){if(!this.model.enabled)return!1;var t=g(e.target);t.is(this.element)||(e.preventDefault(),this._isFocused||this.element.focus(),t.hasClass("e-options")?(!e.ctrlKey&&t.siblings().hasClass("e-active")&&this._removeActive(),t.hasClass("e-active")?t.removeClass("e-active"):t.addClass("e-active")):this._moveCaretToEnd(this.element[0])),e.ctrlKey||!t.hasClass("e-boxes")&&!t.hasClass("e-input")||this._removeActive()})},_destroyBoxModel:function(){this.container.prepend(this.element),this.element.attr({name:this._hiddenInput.attr("name")}).removeAttr("style").removeClass("e-visual-mode"),this.wrapper.height(this.model.height),this._hiddenInput.remove(),this._hiddenInput=null,this._ulBox.remove(),this._off(this.container,"mousedown")},_deleteLastBox:function(){var e=this._ulBox.children().last(),t=e.hasClass("e-active");this._removeActive(),t?this._deleteBox(e):e.addClass("e-active")},_deleteBox:function(e){for(var t,i,n,o=0,s=e.length;o<s;o++)t=this._ulBox.children().index(e[o]),this._selectedItems.splice(t,1),i=this.model.delimiterChar,(n=this._hiddenInput.val().split(i)).splice(t,1),this._hiddenInput.val(n.join(i)),this._selectValueByKey(n.join(i)),(n=this._modelValue.split(i)).splice(t,1),this._modelValue=n.join(i),g(e[o]).remove();this.showSuggestionBox&&this._refreshPopup(),this._valueChange(),""==this._hiddenInput.val()&&this._setWatermark()},_removeActive:function(){this._ulBox.children("li.e-active").removeClass("e-active")},_adjustWidth:function(){var e,t=v.buildTag("span",this.element.val());this.container.append(t),e=t.width()+30,this.element.width()!=e&&this.element.width(e),""==this._hiddenInput.val()&&this._setWatermark(),t.remove()},_checkProperties:function(){var e;this._checkReadOnly(this.model.readOnly),this.model.delimiterChar=this._validateDelimiter(this.model.delimiterChar),this.model.enabled?this.model.enabled&&g(this.element).hasClass("e-disable")&&(this.model.enabled=!1,this._disabled(!1)):(this.model.enabled=!0,this._disabled(!0)),this._checkNameAttr(),"visualmode"==this.model.multiSelectMode&&this._renderBoxModel(),null!=this._selectValueByKey()&&""==this.value()?(e=this._selectValueByKey().toString(),"none"!=this.model.multiSelectMode&&(e=e.substr(e.length-this.model.delimiterChar.length)==this.model.delimiterChar?e:e+this.model.delimiterChar,"visualmode"==this.model.multiSelectMode?this._selectValueByKey(null):this._selectValueByKey(e)),this.selectValueByKey(e),this.model.showResetIcon&&this._showReset()):(e=this.value(),"none"==this.model.multiSelectMode||!v.isNullOrUndefined(e)&&""==e||(e=e.substr(e.length-this.model.delimiterChar.length)==this.model.delimiterChar?e:e+this.model.delimiterChar),this.value(this._setValue(e)),this.model.showResetIcon&&""!=this.value()&&this._showReset())},_checkNameAttr:function(){this.element.attr("name")||this.element.attr("name",this.element[0].id)},_disabled:function(e){e?this.disable():this.enable()},_destroyDropdown:function(){this.dropdownbutton.off("mousedown",g.proxy(this._OnDropdownClick,this)),this.dropdownbutton.remove(),this.dropdownbutton=null,this.container.removeClass("e-padding")},_validateDelimiter:function(e){return g.trim(e).length!=e.length&&null==e.length||/^[a-zA-Z0-9]+$/.test(e)?",":e},_checkWatermarkSupport:function(){return"placeholder"in document.createElement("input")},_setWatermark:function(){(this.model.watermarkText&&(""==this.value()||v.isNullOrUndefined(this.value()))||"visualmode"!=this.model.multiSelectMode)&&this.element.attr("placeholder",this.model.watermarkText).width("")},_setWatermarkTxt:function(){null==this.model.watermarkText||""!=g.trim(this.element.val())||"visualmode"==this.model.multiSelectMode&&""!=g.trim(this._hiddenInput.val())||this._hiddenSpan.css("display","block").text(this.model.watermarkText)},_renderSuggestionList:function(){var e,t,i,n,o=g("#"+this.element[0].id+"_suggestion").get(0);if(o&&g(o).remove(),this.suggestionList=v.buildTag("div.e-atc-popup e-popup e-widget e-box "+this.model.cssClass+"#"+this.target.id+"_suggestion","",{display:"none"}).attr("role","listbox"),this.element.attr("aria-owns",this.target.id+"_suggestion"),this.popup=this.suggestionList,o=v.buildTag("div"),this.model.multiColumnSettings.enable){if(this._tableColumn=v.buildTag("table","",{},{role:"listbox","border-collapse":"separate",border:0,cellspacing:0,cellpadding:0,class:"e-atc-tableContent"}),this._listEventBind(this._tableColumn,"tr"),this._headerColGroup=document.createElement("colgroup"),this.model.multiColumnSettings.showHeader){for(this._tableHeaderDiv=v.buildTag("div",{},{},{class:"e-atc-tableHeader "+(this.model.enableRTL?"e-atc-tableHeaderRTL":"e-atc-tableHeaderScroll")}),n=v.buildTag("div",{},{},{class:"e-atc-tableHeaderContent e-atc-tableHeaderBorder"}),e=document.createElement("tr"),this._tableHeader=v.buildTag("table","",{},{cellspacing:"0.25px"}),t=0,i=this.model.multiColumnSettings.columns.length;t<i;t++)g(e).append(v.buildTag("th",this.model.multiColumnSettings.columns[t].headerText||"column"+t,{"text-align":this.model.multiColumnSettings.columns[t].headerTextAlign||"left"},{class:t==this.model.multiColumnSettings.columns.length-1?"":this.model.enableRTL?"e-atc-thleft":"e-atc-thright"})),g(this._headerColGroup).append(document.createElement("col"));g(this._tableHeaderDiv).append(g(n).append(g(this._tableHeader).append(e).append(this._headerColGroup))),this.suggestionList.append(this._tableHeaderDiv)}else{for(t=0,i=this.model.multiColumnSettings.columns.length;t<i;t++)g(this._headerColGroup).append(document.createElement("col"));this._tableColumn.append(this._headerColGroup)}(n=v.buildTag("div")).append(this._tableColumn),o.append(n)}else this.ul=v.buildTag("ul.e-ul").attr("role","listbox"),this._listEventBind(this.ul,"li:not('.e-category')"),o.append(this.ul);this.suggestionList.append(o),g("body").append(this.suggestionList),this._setListWidth(),this._setListHeight(),this.model.multiColumnSettings.enable?(o.ejScroller({height:o.height(),width:0,scrollerSize:20}),this.scrollerObj=o.ejScroller("instance")):(this.suggestionList.ejScroller({height:this.suggestionList.height(),width:0,scrollerSize:20}),this.scrollerObj=this.suggestionList.ejScroller("instance"))},_listEventBind:function(e,t){e.on({mouseenter:g.proxy(this._OnMouseEnter,this),mouseleave:g.proxy(this._OnMouseLeave,this),click:g.proxy(this._OnMouseClick,this)},t)},_checkEmptyList:function(){"visualmode"==this.model.multiSelectMode&&this._removeRepeated(),0==this.suggestionListItems.length?(this.suggestionListItems.push(this.model.emptyResultText),this.noresult=!0):this.noresult=!1},_showSuggestionList:function(e){this.suggestionListItems=this.model.enableDistinct?v.dataUtil.distinct(this.suggestionListItems,"object"!=typeof this.suggestionListItems[0]?"":this.model.fields&&this.model.fields.text?this.model.fields.text:"text",!0):this.suggestionListItems,0<this.model.itemsCount&&(this.suggestionListItems=v.DataManager(this.suggestionListItems).executeLocal(v.Query().take(this.model.itemsCount))),this._checkEmptyList(),this._addNewTemplate=null,this.noresult&&"visualmode"==this.model.multiSelectMode&&this.model.allowAddNew&&""!=this.element.val()&&!this._repeatRemove&&(this.noresult=!1,this.suggestionListItems.pop(),this._addNewTemplate="   ("+this.model.addNewText+")",this.suggestionListItems.push(this.element.val()+this._addNewTemplate),this._checkEmptyList()),this.noresult&&!this.model.showEmptyResultText||this._generateSuggestionList(e)},_generateSuggestionList:function(e){var n,t,i,o,s,r,a=this.suggestionListItems;if(this.model.multiColumnSettings.enable?this._tableColumn.empty()&&this.model.multiColumnSettings.showHeader&&this._tableHeaderDiv.css("display",""):this.ul.empty(),n=this,t=document.createDocumentFragment(),"object"!=typeof a[0]){if(n.model.multiColumnSettings.enable){for(var l=v.buildTag("tbody"),d=v.buildTag("tr").attr("role","option").attr(n._isIE8?{unselectable:"on"}:{}),c=v.buildTag("td",{},{},{role:"option"}),h=0,u=a.length;h<u;h++){var p=n.model.highlightSearch&&!n.noresult?n._highlightSuggestion(a[h]):a[h],m=d.clone(),f=c.clone();g(f).attr(n._isIE8?{unselectable:"on"}:{}).attr(a[h]!=a.length-1?{class:"e-atc-tdbottom"}:{}).html(p),m[0].appendChild(f[0]),l[0].appendChild(m[0]),t.appendChild(l[0]),n.model.showEmptyResultText&&n.model.emptyResultText==p&&n.model.multiColumnSettings.showHeader&&n._tableHeaderDiv.css("display","none")&&g(f).removeClass("e-atc-tdbottom"),n._addNewTemplate&&!v.isNullOrUndefined(n._tableHeaderDiv)&&n._tableHeaderDiv.css("display","none")}n._tableColumn[0].appendChild(t)}else{for(i=v.buildTag("li",{},{},{role:"option"}).attr(n._isIE8?{unselectable:"on"}:{}),h=0,u=a.length;h<u;h++)p=n.model.highlightSearch&&!n.noresult?n._highlightSuggestion(a[h]):a[h],(o=i.clone())[0].innerHTML=p,t.appendChild(o[0]);n.ul[0].appendChild(t)}this._currList=a,this._mapper={txt:null,key:null}}else r=this.model.fields,(s={_key:null,_text:null,_attr:null})._key=r&&r.key?r.key:"key",s._text=r&&r.text?r.text:"text",s._attr=r&&r.htmlAttributes?r.htmlAttributes:"htmlAttributes",this._mapper={txt:s._text,key:s._key},this._currList=[],this.model.fields.groupBy?(r=r&&r.groupBy?r.groupBy:"groupBy",r=v.Query().group(r),this._addSortingQuery(r,"key"),r=v.DataManager(a).executeLocal(r),this._swapUnCategorized(r),r.forEach(function(e,t){var i;e.key&&(n.model.multiColumnSettings.enable?((i=v.buildTag("tr.e-category").attr("role","option").attr(n._isIE8?{unselectable:"on"}:{})).append(v.buildTag("td",e.key).attr("role","option").attr(n._isIE8?{unselectable:"on"}:{}).attr(t!=a.length-1?{class:"e-atc-tdbottom"}:{})),n._tableColumn.append(i)):n.ul.append(v.buildTag("li.e-category",e.key).attr("role","option").attr(n._isIE8?{unselectable:"on"}:{}))),n._generateLi(e.items,s)})):this._generateLi(a,s);0<this._getLiTags().length&&(g(document).off("mousedown",g.proxy(this._OnDocumentClick,this)),this._showResult(e))},_swapUnCategorized:function(e){for(var t,i=e.length,n=0;n<i;n++)if(!e[n].key){for(t=n;0<t;t--)e[t]=e[t-1];return e[t]=e[n],!1}},_generateLi:function(e,t){var i,n,o,s,r,a,l,d,c,h,u,p=this,m=document.createDocumentFragment(),f=document.createDocumentFragment();if(p.model.multiColumnSettings.enable){for(i=p.model.multiColumnSettings.columns.length,this._tableColumn.append(v.buildTag("tbody")),n=v.buildTag("tr"),o=v.buildTag("td"),l=0,d=e.length;l<d;l++)if(c=e[l][t._text],h=e[l][t._key],!v.isNullOrUndefined(c)||p.model.multiColumnSettings.enable){for(p._getField(e[l]),(s=n.clone())[0].className=l%2?"e-atc-trbgcolor":"",r=0;r<i;r++)(a=o.clone())[0].innerHTML=p.model.highlightSearch&&-1<g.inArray(r.toString(),p._columnIndex)?p._highlightSuggestion(p._getField(e[l],p.model.multiColumnSettings.columns[r].field).toString()):p._getField(e[l],p.model.multiColumnSettings.columns[r].field),a[0].className=(l!=e.length-1?"e-atc-tdbottom ":"")+(r!=p.model.multiColumnSettings.columns.length-1?p.model.enableRTL?"e-atc-tdleft ":"e-atc-tdright ":"")+(p.model.multiColumnSettings.columns[r].cssClass||""),a[0].style.textAlign=p.model.multiColumnSettings.columns[r].textAlign||"left",f.appendChild(a[0]);s[0].appendChild(f),h&&s.attr("id",h),p._setAttributes(p._getField(e[l],t._attr),s[0]),m.appendChild(s[0]),p._currList=p._currList.concat([e[l]])}g(p._tableColumn).find("tbody")[0].appendChild(m)}else{for(l=0,d=e.length;l<d;l++)c=e[l][t._text],h=e[l][t._key],v.isNullOrUndefined(c)||(p.model.highlightSearch&&(c=p._highlightSuggestion(c)),p.model.template&&(c=p._getTemplatedString(e[l],t._text,c)),(u=document.createElement("li")).innerHTML+=c,h&&u.setAttribute("id",h),p._setAttributes(p._getField(e[l],t._attr),u),m.appendChild(u),p._currList=p._currList.concat([e[l]]));p.ul[0].appendChild(m)}},_getLiTags:function(){return this.model.multiColumnSettings.enable?this._tableColumn.find("tbody tr:not('.e-category')"):this.ul.children("li:not('.e-category')")},_getTemplatedString:function(e,t,i){for(var n=this.model.template,o=n.indexOf("${"),s=n.indexOf("}");-1!=o&&-1!=s;)var r=n.substring(o,s+1),a=r.replace("${","").replace("}",""),l=this._getField(e,a),l=(l=t==a?i:l)||"",o=(n=n.split(r).join(l)).indexOf("${"),s=n.indexOf("}");return n},_getField:function(e,t){return v.pvt.getObject(t,e)},_setAttributes:function(e,t){if(e)for(var i in e="string"==typeof e?g.parseJSON(e):e)t.setAttribute(i,e[i])},_setListWidth:function(){var e=this.model.popupWidth;e&&"auto"!=e?this.suggestionList.css({width:e}):this.suggestionList.css({width:this.wrapper.width()})},_setListHeight:function(){this.suggestionList.css({"max-height":this.model.popupHeight})},_refreshPopup:function(){"auto"==this.model.popupWidth&&this.wrapper.outerWidth()!=this.suggestionList.outerWidth()&&(this.suggestionList.css({width:this.wrapper.width()}),this._refreshScroller()),this._setListPosition()},_showResult:function(e){var t;this._refreshScroller(),this._refreshPopup(),this._isOpened?g(document).on("mousedown",g.proxy(this._OnDocumentClick,this)):(this.suggestionList.css("display","none"),t=this,clearTimeout(this._typing),this._typing=setTimeout(function(){t.suggestionList["slide"==t.model.animateType?"slideDown":"fadeIn"]("none"==t.model.animateType?0:300,function(){g(document).on("mousedown",g.proxy(t._OnDocumentClick,t))})},this.model.delaySuggestionTimeout),this._trigger("open",e!=a?{event:e,isInteraction:!0}:{isInteraction:!1}),this.wrapper.addClass("e-active")),this._isOpened=!0,this.showSuggestionBox=!0,e=this._getLiTags(),this._listSize=e.length,g(window).on("resize",g.proxy(this._OnWindowResize,this)),(e=v.getScrollableParents(this.wrapper))[0]!=window&&this._on(e,"scroll",this._hideResult)},_hideResult:function(e){var t;this.showSuggestionBox&&(this.showSuggestionBox=!1,this._activeItem=0,clearTimeout(this._hiding),this.element.attr("aria-expanded",!1),(t=this)._isOpened?(this.suggestionList.css("display","none"),this._trigger("close",e!=a?{event:e,isInteraction:!0}:{isInteraction:!1})):this._hiding=setTimeout(function(){t.model&&t.suggestionList["slide"==t.model.animateType?"slideUp":"fadeOut"]("none"==t.model.animateType?0:100),t._activeItem=0},this.model.delaySuggestionTimeout),g(document).off("mousedown",g.proxy(this._OnDocumentClick,this)),g(window).off("resize",g.proxy(this._OnWindowResize,this)),this._off(v.getScrollableParents(this.wrapper),"scroll",this._hideResult),this.wrapper.removeClass("e-active"))},_refreshScroller:function(){this.suggestionList.css("height","auto"),this.suggestionList.find(".e-content , .e-scroller").removeAttr("style"),this.model.multiColumnSettings.enable&&this.model.multiColumnSettings.showHeader&&(g(this._tableColumn).attr("width","auto"),g(this._tableHeader).attr("width","auto")),this.suggestionList.css("display","block"),this.model.multiColumnSettings.enable&&(this.scrollerObj.option("height","auto"),this._columnBorderAlign());var e=this.suggestionList.height()>parseInt(g.isNumeric(this.model.popupHeight)?this.model.popupHeight:this.model.popupHeight.replace("px",""))-4;e||this.model.multiColumnSettings.enable&&(this.suggestionList.height()<=this._tableColumn.height()||this.suggestionList.width()<=this._tableColumn.width()||this.model.multiColumnSettings.showHeader&&this.suggestionList.width()<=this._tableHeader.width())?(e&&(this.scrollerObj.model.height=this.model.multiColumnSettings.showHeader&&this._tableHeader?parseInt(this.suggestionList.height())-parseInt(this._tableHeader.height()):this.suggestionList.height()),!this.model.multiColumnSettings.enable&&this.suggestionList.width()<this.suggestionList.find(".e-ul").width()&&this.suggestionList.find(".e-ul").width(this.suggestionList.find(".e-ul").width()),this.scrollerObj.model.width=this.suggestionList.width(),this.scrollerObj.refresh(),this.scrollerObj.option({enableRTL:this.model.enableRTL,scrollTop:0,scrollLeft:0}),this.model.multiColumnSettings.enable&&this.model.multiColumnSettings.showHeader&&this._addThBorder(),this.suggestionList.addClass("e-scroller"),!this.scrollerObj._vScroll&&this.model.multiColumnSettings.enable&&this.model.multiColumnSettings.showHeader&&this._removeThBorder()):(this.suggestionList.removeClass("e-scroller"),this.scrollerObj.refresh(),this.model.multiColumnSettings.enable&&this.model.multiColumnSettings.showHeader&&this._removeThBorder()),this.suggestionList.css("height","auto"),this._isIE8&&this.suggestionList.find(".e-vscroll div, .e-hscroll div").attr("unselectable","on"),this.model.multiColumnSettings.enable&&this.model.multiColumnSettings.showHeader&&(this.suggestionList.find(".e-content").scroll(v.proxy(function(e){this._tableHeader.parent(".e-atc-tableHeaderContent").scrollLeft(g(e.currentTarget).scrollLeft())},this)),0<this.suggestionList.find(".e-content").length)&&this._tableHeader.parent(".e-atc-tableHeaderContent").scrollLeft(this.model.enableRTL?this.suggestionList.find(".e-content")[0].scrollWidth-this.suggestionList.find(".e-content")[0].clientWidth:0)},_columnBorderAlign:function(){var e,t,i;if(this.model.multiColumnSettings.enable&&this.model.multiColumnSettings.showHeader&&"none"!=this._tableHeaderDiv.css("display")){for(this._tableWid=(this._tableHeader.outerWidth()>this._tableColumn.outerWidth()?this._tableHeader:this._tableColumn).outerWidth(),this._tableColumn.find("colgroup").remove(),g(this._headerColGroup.children).removeAttr("style"),t=0,i=this._headerColGroup.children.length;t<i;t++)g(this._headerColGroup.children[t]).css({width:(parseInt(g(this._tableColumn).find("tr:first td").eq(t).outerWidth())>parseInt(this._tableHeader.find("tr:first th").eq(t).outerWidth())?g(this._tableColumn).find("tr:first td"):this._tableHeader.find("tr:first th")).eq(t).outerWidth()});this._tableColumn.append(g(this._headerColGroup).clone()),e=this._tableWid>this.suggestionList.width()?this._tableWid:"100%",g(this._tableColumn).attr("width",e),g(this._tableHeader).attr("width",e)}else if(this.model.multiColumnSettings.enable&&!this.model.multiColumnSettings.showHeader){if(g(this._tableColumn).attr("width","auto"),this._tableWid=this._tableColumn.outerWidth(),g(this._headerColGroup.children).removeAttr("style"),"100%"!=(e=this._tableWid>this.suggestionList.width()?this._tableWid:"100%")){for(t=0,i=this._headerColGroup.children.length;t<i;t++)g(this._headerColGroup.children[t]).css({width:g(this._tableColumn).find("tr:first td").eq(t).outerWidth()});this._tableColumn.append(this._headerColGroup)}g(this._tableColumn).attr("width",e)}else g(this._tableColumn).attr("width","100%")},_removeThBorder:function(){this._tableHeader.parents(".e-atc-tableHeader").removeClass(this.model.enableRTL?"e-atc-tableHeaderRTL":"e-atc-tableHeaderScroll"),this._tableHeader.parent(".e-atc-tableHeaderContent").removeClass("e-atc-tableHeaderBorder")},_addThBorder:function(){this._tableHeader.parents(".e-atc-tableHeader").addClass(this.model.enableRTL?"e-atc-tableHeaderRTL":"e-atc-tableHeaderScroll").removeClass(this.model.enableRTL?"e-atc-tableHeaderScroll":"e-atc-tableHeaderRTL"),this._tableHeader.parent(".e-atc-tableHeaderContent").addClass("e-atc-tableHeaderBorder")},_setListPosition:function(){var e=this.wrapper,t=this._getOffset(e),i=g(document).scrollTop()+g(window).height()-(t.top+g(e).outerHeight()),n=t.top-g(document).scrollTop(),o=this.suggestionList.outerHeight(),s=this.suggestionList.outerWidth(),r=t.left,a=e.outerHeight(),l=(a-e.height())/2,d=this._getZindexPartial(),i=(o<i||n<o?t.top+a+3:t.top-o-3)-l,n=g(document).scrollLeft()+g(window).width()-r;(this.model.enableRTL||n<s&&s<r+e.outerWidth())&&(r-=this.suggestionList.outerWidth()-e.outerWidth()),this.suggestionList.css({left:r+"px",top:i+"px","z-index":d})},_getOffset:function(e){return v.util.getOffset(e)},_getZindexPartial:function(){return v.util.getZindexPartial(this.element,this.suggestionList)},_targetFocus:function(e){"visualmode"==this.model.multiSelectMode&&this._setWatermarkWidth(30),this._isWatermark||this._hiddenSpan.css("display","none"),this.wrapper.addClass("e-focus"),this._isFocused=!0,this._trigger("focusIn",{event:e,isInteraction:!0,value:this.value()})},_focusOutAction:function(e){this._isFocused=!1,this.wrapper.removeClass("e-focus"),this._isWatermark||this._setWatermarkTxt(),this._removeSelection(),"visualmode"==this.model.multiSelectMode&&this.model.showResetIcon&&""!=this.element.val()&&this._removeReset(),"visualmode"==this.model.multiSelectMode?(this._removeActive(),this.element.val(""),this._setWatermarkWidth(1),this._preVal="",this._addNewTemplate=null):("delimiter"==this.model.multiSelectMode&&this._valueChange(e),this._updateSelectedItemArray(this.getValue())),v.isNullOrUndefined(this.value())||""==this.value()||(e=this.value().split(this.model.delimiterChar),"delimiter"!=this.model.multiSelectMode&&"none"!=this.model.multiSelectMode)||(e=this._removeDuplicateVal(e),this._keyProcess(e)),""!=this.element.val()||""!=this.value()&&null!=this.value()||this._selectValueByKey(null)},_targetBlur:function(e){this._focusOutAction(e),this._trigger("focusOut",{event:e,isInteraction:!0,value:this.value()})},_setWatermarkWidth:function(e){this.model.watermarkText&&this.element.attr("placeholder")?this.element.width(""):this.element.val("").width(e)},_checkDeli:function(){var e=this.element.val(),t=this.model.delimiterChar;return e.substr(e.length-t.length,e.length)==t&&(this.element.val(e.substr(0,e.length-t.length)),!0)},_removeSelection:function(){var e;this.model.enableAutoFill&&(this.element.attr("aria-autocomplete","both"),(e=this._getCaretSelection()).end-e.start!=0)&&e.end-e.start!=this.element.val().length&&(this.target.value=this.target.value.substr(0,e.start))},_removeListHover:function(){this._getLiTags().removeClass("e-hover")},_addListHover:function(){var e=g(this._getLiTags()[this._activeItem-1]);e.addClass("e-hover"),this.scrollerObj.setModel({scrollTop:this._calcScrollTop()}),e.focus()},_calcScrollTop:function(){(this.model.multiColumnSettings.enable?this.model.multiColumnSettings.showHeader?(this._tableColumn.outerHeight(),this._tableHeader):this._tableColumn:this.ul).outerHeight();var e=this.model.multiColumnSettings.enable?this._tableColumn.find("tr"):this.ul.find("li"),t=(this.model.multiColumnSettings.enable?this._tableColumn.find("tr.e-hover"):this.ul.find("li.e-hover")).index();return e.eq(1).outerHeight()*t-((this.model.multiColumnSettings.enable?this._tableColumn.parent():this.suggestionList).outerHeight()-e.eq(t).outerHeight())/2},getActiveText:function(){if(0<this._activeItem)return this.model.multiColumnSettings.enable?this._textFormateString(this._currList[this._activeItem-1]):!v.isNullOrUndefined(this._mapper)&&this._mapper.txt?this._getField(this._currList[this._activeItem-1],this._mapper.txt):this._currList[this._activeItem-1]},_getUniqueKey:function(){var e=null;return v.isNullOrUndefined(this._mapper)||(this._mapper.key&&(e=this._getField(this._currList[this._activeItem-1],this._mapper.key)),v.isNullOrUndefined(e)&&(e=null)),e},_setTextBoxValue:function(){var e,t,i,n;this._activeItem&&!this.noresult&&(e=this.model.multiColumnSettings.enable?this._textFormateString(this._currList[this._activeItem-1]):this.getActiveText(),t=this._getCaretSelection(),this.suggLen=t.start,t=this.target.value.substr(0,this.suggLen),n=-1==(i=this.target.value.lastIndexOf(this.model.delimiterChar))?g.trim(t.substr(i+1,this.suggLen)):g.trim(t.substr(i+this.model.delimiterChar.length,this.suggLen)),!t||t.toLowerCase()!=e.substr(0,this.suggLen).toLowerCase()&&n.toLowerCase()!=e.substr(0,this.suggLen-(i+this.model.delimiterChar.length)).toLowerCase()?("delimiter"==this.model.multiSelectMode&&e&&n?this.element.val(this.element.val().replace(n,e)):e&&this.element.val(e),this._removeSelection()):(i="delimiter"==this.model.multiSelectMode?t+e.substr(n.length,e.length):t+e.substr(t.length,e.length),this.element.val(i),this._autofilSelection(),"visualmode"==this.model.multiSelectMode&&(this._adjustWidth(),this.model.enableAutoFill)&&this._refreshPopup(),this.model.autoFocus&&!this.noresult&&this._addListHover()))},_enterTextBoxValue:function(e){var t,i,n;!this._activeItem||this.noresult||this.model.readOnly||(t=this.getActiveText(),i=this._currList[this._activeItem-1],this._preVal=t+("delimiter"==this.model.multiSelectMode?this.model.delimiterChar:""),this._valueToTextBox(t,i,!1),n="visualmode"==this.model.multiSelectMode?this._modelValue:""==this.element.val()?null:this.element.val(),this._trigger("select",{event:e,isInteraction:!0,value:n,text:t,key:this._getUniqueKey(),item:i}),this._valueChange(e),this.model.showResetIcon&&this._showReset()),this._isOpened&&this._trigger("close",{event:e,isInteraction:!0})},_createBox:function(e){var t=v.buildTag("span.e-icon e-close"),e=v.buildTag("li.e-options",e).append(t);return this._on(t,"click",function(e){if(!this.model.enabled)return!1;this._deleteBox(g(e.target).parent())}),e},_addLoadingClass:function(){this.model.showLoadingIcon&&this.element.addClass("e-load")},_removeLoadingClass:function(){this.element.removeClass("e-load")},_highlightSuggestion:function(e){var t,i,n,o,s,r;if(""!=g.trim(this._queryString)&&(o=this.model.caseSensitiveSearch?"g":"gi",n=g.trim(this._queryString),n=/^[a-zA-Z0-9- ]*$/.test(n)?n:n.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&"),n="startswith"==this.model.filterType?"^"+n:"endswith"==this.model.filterType?n+"$":n,(n=new RegExp(n,o)).test(e)))for(t=e.match(n),o=e.replace(n,"~^"),e="",s=0,r=(i=o.split("~^")).length;s<r;s++)e+=t[s]?i[s]+"<span class='e-hilight-txt'>"+t[s]+"</span>":i[s];return e},_RightToLeft:function(e){e?(this.wrapper.addClass("e-rtl"),this.suggestionList.addClass("e-rtl")):(this.wrapper.removeClass("e-rtl"),this.suggestionList.removeClass("e-rtl")),this.model.multiColumnSettings.enable&&this.model.multiColumnSettings.showHeader&&(this._tableHeaderDiv.removeClass(e?"e-atc-tableHeaderRTL":"e-atc-tableHeaderScroll"),this._tableHeader.find("tr :not(th:last)").addClass(e?"e-atc-thleft":"e-atc-thright").removeClass(e?"e-atc-thright":"e-atc-thleft"))},_setRoundedCorner:function(e){e?(this.container.addClass("e-corner"),this.suggestionList.addClass("e-corner")):(this.container.removeClass("e-corner"),this.suggestionList.removeClass("e-corner"))},_checkReadOnly:function(e){this.model.readOnly=e,this.model.readOnly?(this.element.attr({readonly:"readonly","aria-readonly":!0}),this._off(this.element,"keydown",this._OnKeyDown),this._off(this.element,"keyup",this._OnKeyUp),this._off(this.element,"paste",this._OnPaste),this._off(this.element,"keypress",this._onkeyPress)):(this.element.removeAttr("readonly aria-readonly"),this._on(this.element,"keydown",this._OnKeyDown),this._on(this.element,"keyup",this._OnKeyUp),this._on(this.element,"paste",this._OnPaste),this._on(this.element,"keypress",this._onkeyPress))},_onkeyPress:function(e){13==e.keyCode&&this._PreventDefaultAction(e)},_OnPaste:function(e){var t=this;setTimeout(function(){t._OnKeyUp(e)},0)},_OnKeyDown:function(e){var t,i;switch("startswith"!=this.model.filterType&&(this.model.enableAutoFill=!1),e.keyCode){case 37:case 35:case 36:this._removeSelection();break;case 38:this.showSuggestionBox&&this.suggestionList&&(this._removeListHover(),1<this._activeItem?--this._activeItem:this._activeItem=this._listSize,this._navigationHover()),this._PreventDefaultAction(e);break;case 40:this.showSuggestionBox&&this.suggestionList?(this._removeListHover(),this._activeItem<this._listSize?this._activeItem+=1:this._activeItem=1,this._navigationHover()):e.ctrlKey&&""==this.element.val()?this._showFullList(e):e.ctrlKey&&this._showSuggestionList(e),this._PreventDefaultAction(e);break;case 33:case 34:this.showSuggestionBox&&this.suggestionList&&(this._removeListHover(),i=(this.model.multiColumnSettings.enable?this._tableColumn.parent():this.suggestionList).height(),t=(this.model.multiColumnSettings.enable?this._tableColumn.find("tr"):this.ul.children("li")).outerHeight(),i=0!=Math.round(i/t)?Math.round(i/t):this._listSize,this._activeItem=33==e.keyCode?this._activeItem-i:this._activeItem+i,this._activeItem<1&&(this._activeItem=1),this._activeItem>this._listSize&&(this._activeItem=this._listSize),this._navigationHover()),this._PreventDefaultAction(e);break;case 8:""==g.trim(this.element.val())&&(this._isOpened=!1),"visualmode"==this.model.multiSelectMode&&""==this.element.val()&&this._deleteLastBox();break;case 17:this.ctrlKeyPressed=!0;break;case 9:this.showSuggestionBox&&(this._queryString=this.element.val(),this._enterTextBoxValue(e),this._hideResult(e),this._isOpened=!1,this._PreventDefaultAction(e));break;case 27:this._isOpened=!1,t=this.showSuggestionBox,this._hideResult(e),this._PreventDefaultAction(e),t&&this._trigger("close",{event:e,isInteraction:!0})}"visualmode"==this.model.multiSelectMode&&(17!=e.keyCode&&8!=e.keyCode&&46!=e.keyCode&&this._removeActive(),this._adjustWidth())},_PreventDefaultAction:function(e){e.preventDefault(),this._cancelEvent||(e.stopPropagation(),e.cancelBubble=!0,e.returnValue=!0)},_bubbleEvent:function(e){return"boolean"==typeof e&&(this._cancelEvent=e),this._cancelEvent},_navigationHover:function(){this._addListHover(),this.model.enableAutoFill&&(this.element.attr("aria-autocomplete","both"),this._queryString=this.target.value,this._setTextBoxValue())},_OnKeyUp:function(e){if(this._keyDownComplete(e),this.ctrlKeyPressed&&"paste"!=e.type)return 17==e.keyCode&&(this.ctrlKeyPressed=!1),!1;if(""==g.trim(this.element.val())&&38==e.keyCode&&40==e.keyCode)return this._hideResult(e),!1;if(!this._checkDelimiter())return!1;switch(this._queryString=g.trim(this._queryString),e.keyCode){case 34:case 33:case 38:case 40:case 37:case 39:case 20:case 16:case 17:case 18:case 35:case 36:case 144:case 9:case 27:break;case 13:e.preventDefault(),this._queryString=this.element.val(),this._enterTextBoxValue(e),this.model.enableAutoFill&&(this.element.attr("aria-autocomplete","both"),this.suggLen=this.element.val().length,this._autofilSelection()),this._isOpened=!1,this._hideResult(e);break;case 46:if("visualmode"==this.model.multiSelectMode&&""==this.element.val()){this._deleteBox(this._ulBox.children("li.e-active"));break}case 8:this._queryString.length>=this.model.minCharacter?(this._autoFill=!1,this._OnTextEnter(e)):(this.noresult=!0,this._hideResult(e),""==g.trim(this.element.val())&&(this._isOpened=!1)),this._typed=!0;break;default:this._queryString.length>=this.model.minCharacter?(this._autoFill=!0,this._OnTextEnter(e)):this.noresult=!0,this._typed=!0}},_getFilteredList:function(e,t){var i;clearTimeout(this.timeDelay),v.isNullOrUndefined(e)||"object"!=typeof e[0]||(i=this.model.fields.text||"text",this.model.actionFailure&&v.isNullOrUndefined(v.DataManager(e).executeLocal(v.Query().select(i))[0])&&this._trigger("actionFailure",{error:this._localizedLabels.actionFailure})),!e||!e.length||e.length<1?(this.suggestionListItems=[],this.model.actionFailure&&this._trigger("actionFailure",{error:this._localizedLabels.actionFailure})):(i=v.Query(),this._addQuery(i,"object"==typeof e[0]),this.suggestionListItems=v.DataManager(e).executeLocal(i),this.model.actionSuccess&&this._trigger("actionSuccess")),this._doneRemaining(t),this.model.actionComplete&&this._trigger("actionComplete")},_performSearch:function(e){var t,i;this.model.actionBegin&&this._trigger("actionBegin"),t=this.model.dataSource,v.DataManager&&t instanceof v.DataManager?t.dataSource.offline||t.dataSource.json&&0<t.dataSource.json.length?(this._getFilteredList(t.dataSource.json,e),this._selectedObj.push(t.dataSource.json)):(window.clearTimeout(this.timer),(i=this).timer=window.setTimeout(function(){i._fetchRemoteDat(t)},700)):this._getFilteredList(t,e)},_fetchRemoteDat:function(e){var t=this,i=this._getQuery();this._addQuery(i,!0),e.executeQuery(i).fail(function(e){t.suggestionListItems=null,t._removeLoadingClass(),t._trigger("actionFailure",e)}).done(function(e){t.suggestionListItems=e.result,"none"==t.model.multiSelectMode?t._selectedObj=e.result:"delimiter"==t.model.multiSelectMode&&(t._selectedObj=t._selectedObj.concat(e.result)),t._doneRemaining(e),t._trigger("actionSuccess",e)}).always(function(e){t._trigger("actionComplete",e)})},_addSortingQuery:function(e,t){var i;this.model.allowSorting&&(i="descending"==this.model.sortOrder,e.sortBy(t,i))},_addQuery:function(e,t){var i,n,o,s,r="";if(t&&(r=(n=this.model.fields)&&n.text?n.text:"text"),this._queryString)if(this.model.multiColumnSettings.enable)if(this._columnsIndex(),t){for(r=[],o=0,s=this._columnIndex.length;o<s;o++)r.push(this.model.multiColumnSettings.columns[this._columnIndex[o]].field),i=this._predicateConvertion(i,this.model.multiColumnSettings.columns[this._columnIndex[o]].field,this.model.multiColumnSettings.columns[this._columnIndex[o]].filterType||"startswith",this._queryString,!this.model.caseSensitiveSearch,this.model.multiColumnSettings.columns[this._columnIndex[o]].type||"string");e.where(i)}else e.where(r,this.model.filterType,this._queryString,!this.model.caseSensitiveSearch);else e.where(r,this.model.filterType,this._queryString,!this.model.caseSensitiveSearch);this._addSortingQuery(e,r)},_predicateConvertion:function(e,t,i,n,o,s){var r;return"number"==s?r=Number(n):"boolean"==s?"true"==n||"yes"==n||"1"==n?r=!0:"false"!=n&&"no"!=n&&"0"!=n||(r=!1):r="date"==s?new Date(n):n,"number"==s&&isNaN(r)||"boolean"==s&&r==a?e:e!=a?e.or(t,i,r,o):v.Predicate(t,i,r,o)},_getQuery:function(){if(v.isNullOrUndefined(this.model.query)){var e=[],t=v.Query(),i=this.model.fields;for(var n in i)"tableName"!==n&&i[n]&&e.push(i[n]);0<e.length&&t.select(e),v.isNullOrUndefined(this.model.dataSource.dataSource.url)||this.model.dataSource.dataSource.url.match(i.tableName+"$")||v.isNullOrUndefined(i.tableName)||t.from(i.tableName)}else t=this.model.query.clone();return t},_OnTextEnter:function(e){var t=this;v.isDevice()?(clearTimeout(this.timeDelay),this.timeDelay=setTimeout(function(){t._onTextProcess(e)},t.model.delaySuggestionTimeout)):t._onTextProcess(e)},_onTextProcess:function(e){this._addLoadingClass(),this.element.attr("aria-expanded",!1),this._performSearch(e),this.model.showResetIcon&&this._showReset()},_showReset:function(){v.isNullOrUndefined(this.resetSpan)&&(this.resetSpan=v.buildTag("span.e-icon e-iclose"),this.model.showPopupButton?(this.dropdownbutton.before(this.resetSpan),this.container.addClass("e-popup e-reset")):this.container.append(this.resetSpan).addClass("e-reset")),this._on(this.resetSpan,"mousedown",this._refreshSearch)},_refreshSearch:function(){this.resetSpan=null,this.clearText(),this._refreshPopup()},_removeReset:function(){this.resetSpan=this.resetSpan&&this.resetSpan[0].remove(),this._refreshPopup()},_doneRemaining:function(e){this._showSuggestionList(e),this.element.attr({"aria-expanded":!0,"aria-haspopup":!0}),(this.model.enableAutoFill&&this._autoFill&&!this.noresult||this.model.autoFocus)&&(this.element.attr("aria-autocomplete","both"),this._activeItem=1,this._queryString=this.target.value),this.model.enableAutoFill&&this._autoFill&&!this.noresult&&this._setTextBoxValue(),this.model.autoFocus&&!this.noresult&&this._addListHover(),this._removeLoadingClass(),this.noresult&&!this.model.showEmptyResultText&&this._hideResult(e)},_removeRepeated:function(){var e,t,i,n=this.suggestionListItems;if(!n||0==n.length||0==this._selectedItems.length||1==this.suggestionListItems.length&&this.suggestionListItems[0]==this.element.val()+this._addNewTemplate)return!1;for(this._repeatRemove=!1,e=0,t=this._selectedItems.length;e<t;e++)-1!=(i=n.indexOf(this._selectedItems[e]))&&this.suggestionListItems.splice(i,1),this.element.val()==this._selectedItems[e]&&(this._repeatRemove=!0)},_checkDelimiter:function(){this._queryString=this.element.val();var e="delimiter"!=this.model.multiSelectMode?-1:this._queryString.lastIndexOf(this.model.delimiterChar);return-1==e||(this._queryString=this._queryString.substr(e+this.model.delimiterChar.length,this._queryString.length)),!0},_autofilSelection:function(){var e=this.element[0],t=this.element.val().length;e.setSelectionRange?e.setSelectionRange(this.suggLen,t):e.createTextRange&&((e=e.createTextRange()).collapse(!0),e.moveEnd("character",t),e.moveStart("character",this.suggLen),e.select())},_OnDropdownClick:function(e){this.model.enabled&&!this.model.readOnly&&(e.preventDefault(),e.which&&1==e.which||e.button&&0==e.button)&&(this._addLoadingClass(),this.showSuggestionBox?(this._hideResult(e),this._isOpened=!1,this._removeLoadingClass()):this._showFullList(e))},_showFullList:function(e){this._isFocused||this.element.focus(),this._queryString=null,this._autoFill=!1,this._performSearch(e)},_OnMouseEnter:function(e){this._getActiveItemIndex(e)},_getActiveItemIndex:function(e){var t=e.target;this.model.multiColumnSettings.enable&&"tr"!=e.target.tagName.toLowerCase()?t=g(e.target).parents("tr"):"li"!=e.target.tagName.toLowerCase()&&(t=g(e.target).parents("li")),this._getLiTags().removeClass("e-hover"),g(t).addClass("e-hover"),this._queryString=this.element.val(),this._activeItem=this._getLiTags().index(g(t))+1},_OnMouseLeave:function(){this._getLiTags().removeClass("e-hover"),this.model.highlightSearch&&this._getLiTags().find(".e-hilight-txt").removeClass("e-hover")},_OnMouseClick:function(e){this._getActiveItemIndex(e),this.noresult||(this._enterTextBoxValue(e),this._isOpened=!1,this._hideResult(e))},_OnDocumentClick:function(e){g(e.target).is(this.suggestionList)||g(e.target).parents(".e-atc-popup").is(this.suggestionList)||g(e.target).is(this.element)||g(e.target).parents(".e-atc").is(this.wrapper)?(g(e.target).is(this.suggestionList)||g(e.target).parents(".e-atc-popup").is(this.suggestionList))&&e.preventDefault():(this._isOpened=!1,this._hideResult(e),this._trigger("close",{event:e,isInteraction:!0}))},_OnWindowResize:function(){this._refreshPopup()},_keyProcess:function(e){var t,i,n,o=this._declareVariable(),s=this._delimiterChar();if(!v.isNullOrUndefined(e))for(t=0,i=e.length;t<i;t++)n=e[t],v.DataManager&&this.model.dataSource instanceof v.DataManager?this._selectValueByKey(null):(this._dataQuery=this.model.multiColumnSettings.enable?v.Query():v.Query().where(o[0],this.model.filterType,n,!1),this._promise=v.DataManager(this.model.dataSource).executeLocal(this._dataQuery),this.model.multiColumnSettings.enable?this._formatStringKey(e,o,s):this._promise instanceof Array&&0==this._promise.length?null!=this._selectValueByKey()&&this._selectValueByKey():this._getFieldKey(this._promise[0],o[1],s))},_formatStringKey:function(e,t,i){var n,o,s,r,a,l;for(this._selectValueByKey(null),n=0,o=e.length;n<o;n++)if(""!=e[n]){for(s=e[n],a=0,l=this._promise.length;a<l;a++)s==this._textFormateString(this._promise[a])&&(r=a);r?this._getFieldKey(this._promise[r],t[1],i):null!=this._selectValueByKey()&&this._selectValueByKey()}},_getFieldKey:function(e,t,i){var n;!v.isNullOrUndefined(this.model.template)&&v.isNullOrUndefined(this._getField(e,t))||v.isNullOrUndefined(this._getField(e,t))||(n=this._getField(e,t).toString(),"none"!=this.model.multiSelectMode&&(n=this._selectValueByKey(),delimiterChar=this.model.delimiterChar,e=this._getField(e,t).toString(),n=null!=n&&(t=n.toString().split(i).filter(function(e){return""!==e}),-1==g.inArray(e,t))?(t.push(e),t.join(delimiterChar)+delimiterChar):e+delimiterChar),this._selectValueByKey(n))},_removeDuplicateVal:function(e){var i=[];return g.each(e,function(e,t){-1==g.inArray(t,i)&&i.push(t)}),1!=e.length||v.isNullOrUndefined(this._originalval)||-1==g.inArray(e[0],this._originalval)&&this._selectValueByKey(null),i},_valueChange:function(e){var t="visualmode"==this.model.multiSelectMode?this._modelValue:this.element.val();(this.value()!=t||""==t&&""!=this.element.val())&&(this.value(t),this._changeEvtTrigger(t,e)),this.model.showResetIcon&&!t&&(this.wrapper.find("span.e-iclose").remove(),this.resetSpan=null)},_changeEvtTrigger:function(e,t){t=t!=a?{event:t,isInteraction:!0,value:e}:{isInteraction:!1,value:e};this.initialRender||(this._trigger("_change",{value:e}),this._trigger("change",t))},_updateSelectedItemArray:function(t){var e,i,n=[];if(this._selectedItems=[],this.suggestionListItems=this.model.dataSource,"delimiter"==this.model.multiSelectMode&&t)if(n=t.split(this.model.delimiterChar),v.DataManager&&this.model.dataSource instanceof v.DataManager||!v.isNullOrUndefined(this.suggestionListItems)&&"object"!=typeof this.suggestionListItems[0]){for(e=0,i=n.length;e<i;e++)if(n[e]){for(var o=this,s=this._selectedObj.length,r={},a=0;a<s;a++)this._selectedObj[a][o.model.fields.text]==n[e]&&(r=this._selectedObj[a],a=s);this._selectedItems.push(g.isEmptyObject(r)?n[e]:r)}}else this._createBoxForObjectType(n);else"none"==this.model.multiSelectMode&&t&&(n.push(t),v.DataManager&&this.model.dataSource instanceof v.DataManager||!v.isNullOrUndefined(this.suggestionListItems)&&"object"!=typeof this.suggestionListItems[0]?(o=this,r=g.grep(this._selectedObj,function(e){if(e[o.model.fields.text]==t)return e}),this._selectedItems.push(0<r.length?r:t)):this._createBoxForObjectType(n))},_keyDownComplete:function(e){var t=this.element.val();this._preVal!=t&&(this._preVal=t,"visualmode"==this.model.multiSelectMode&&this._adjustWidth(),this._valueChange(e))},_moveCaretToEnd:function(e){var t;e.scrollLeft=e.scrollWidth,e.createTextRange&&((t=e.createTextRange()).moveEnd("textedit"),t.moveStart("textedit"),t.select()),"number"==typeof e.selectionStart?e.selectionStart=e.selectionEnd=e.value.length:void 0!==e.createTextRange&&((t=e.createTextRange()).collapse(!1),t.select())},_getCaretSelection:function(){var e,t,i=this.element[0];return isNaN(i.selectionStart)?(t=document.selection.createRange().getBookmark(),(e=i.createTextRange()).moveToBookmark(t),(t=i.createTextRange()).collapse(!0),t.setEndPoint("EndToStart",e),{start:t=t.text.length,end:t+e.text.length}):(t=i.selectionStart,e=i.selectionEnd,{start:Math.abs(t),end:Math.abs(e)})},_getLocalizedLabels:function(){return v.getLocalizedConstants(this.sfType,this.model.locale)},_wireEvents:function(){this._on(this.element,"focus",this._targetFocus),this._on(this.element,"blur",this._targetBlur)}}),v.Autocomplete.Locale=v.Autocomplete.Locale||{},v.Autocomplete.Locale.default=v.Autocomplete.Locale["en-US"]={addNewText:"Add New",emptyResultText:"No suggestions",actionFailure:"The specified field doesn't exist in given data source"},v.filterType={StartsWith:"startswith",Contains:"contains",EndsWith:"endswith",LessThan:"lessthan",GreaterThan:"greaterthan",LessThanOrEqual:"lessthanorequal",GreaterThanOrEqual:"greaterthanorequal",Equal:"equal",NotEqual:"notequal"},v.SortOrder={Ascending:"ascending",Descending:"descending"},v.MultiSelectMode={None:"none",Delimiter:"delimiter",VisualMode:"visualmode"},v.Animation={None:"none",Slide:"slide",Fade:"fade"},v.Type={Number:"number",String:"string",Boolean:"boolean",Date:"date"}}),function(e){"function"==typeof define&&define.amd?define(["./ej.core.min"],e):e()}(function(){var o,s,r,a,l,d;l=jQuery,(d=Syncfusion).widget("ejDraggable","ej.Draggable",{element:null,model:null,validTags:["div","span","a"],defaults:{scope:"default",handle:null,dragArea:null,clone:!1,distance:1,dragOnTaphold:!1,cursorAt:{top:-1,left:-2},dragStart:null,drag:null,dragStop:null,create:null,destroy:null,helper:function(){return l('<div class="e-drag-helper" />').html("draggable").appendTo(document.body)}},_init:function(){this.handler=function(){},this.resizables={},helpers={},this._wireEvents(),this._browser=d.browserInfo(),this._isIE8="msie"==this._browser.name&&"8.0"==this._browser.version,this._isIE9="msie"==this._browser.name&&"9.0"==this._browser.version,"msie"==this._browser.name&&this.element.addClass("e-pinch")},_setModel:function(e){for(var t in e)switch(t){case"dragArea":this.model.dragArea=e[t];break;case"dragOnTaphold":this.model.dragOnTaphold=e[t]}},_destroy:function(){l(document).off(d.eventType.mouseUp,this._destroyHandler).off(d.eventType.mouseUp,this._dragStopHandler).off(d.eventType.mouseMove,this._dragStartHandler).off(d.eventType.mouseMove,this._dragHandler).off("mouseleave",this._dragMouseOutHandler).off("selectstart",!1),d.widgetBase.droppables[this.scope]=null},_initialize:function(e){var t,i=e;e.preventDefault(),e=this._getCoordinate(e),this.target=l(i.currentTarget),this._initPosition={x:e.pageX,y:e.pageY},l(document).on(d.eventType.mouseMove,this._dragStartHandler).on(d.eventType.mouseUp,this._destroyHandler),this.model.clone||(t=this.element.offset(),this._relXposition=e.pageX-t.left,this._relYposition=e.pageY-t.top),l(document.documentElement).trigger(d.eventType.mouseDown,i)},_setDragArea:function(){var e,t,i,n,o,s,r=l(this.model.dragArea)[0];if(r){if(i=["left","right","bottom","top"],d.isNullOrUndefined(r.getBoundingClientRect)){for(e=l(this.model.dragArea).outerWidth(),t=l(this.model.dragArea).outerHeight(),s=0;s<i.length;s++)this["border-"+i[s]+"-width"]=0,this["padding-"+i[s]]=0;n=o=0}else{for(e=(r=r.getBoundingClientRect()).width||r.right-r.left,t=r.height||r.bottom-r.top,s=0;s<i.length;s++)this["border-"+i[s]+"-width"]=isNaN(parseFloat(l(l(this.model.dragArea)[0]).css("border-"+i[s]+"-width")))?0:parseFloat(l(l(this.model.dragArea)[0]).css("border-"+i[s]+"-width")),this["padding-"+i[s]]=isNaN(parseFloat(l(l(this.model.dragArea)[0]).css("padding-"+i[s])))?0:parseFloat(l(l(this.model.dragArea)[0]).css("padding-"+i[s]));n=l(this.model.dragArea).offset().top,o=l(this.model.dragArea).offset().left}this._left=d.isNullOrUndefined(l(this.model.dragArea).offset())?0+this["border-left-width"]+this["padding-left"]:o+this["border-left-width"]+this["padding-left"],this._top=d.isNullOrUndefined(l(this.model.dragArea).offset())?0+this["border-top-width"]+this["padding-top"]:n+this["border-top-width"]+this["padding-top"],this._right=o+e-[this["border-right-width"]+this["padding-right"]],this._bottom=n+t-[this["border-bottom-width"]+this["padding-bottom"]]}},_dragStart:function(e){var t,i=e,n=(e=this._getCoordinate(e),this.margins={left:parseInt(this.element.css("marginLeft"),10)||0,top:parseInt(this.element.css("marginTop"),10)||0,right:parseInt(this.element.css("marginRight"),10)||0,bottom:parseInt(this.element.css("marginBottom"),10)||0},this.offset=this.element.offset(),this.offset={top:this.offset.top-this.margins.top,left:this.offset.left-this.margins.left},this.position=this._getMousePosition(i),this._initPosition.x-e.pageX),e=this._initPosition.y-e.pageY,n=Math.sqrt(n*n+e*e);if(n>=this.model.distance&&(e=this.model.helper({sender:i,element:this.target}))&&!d.isNullOrUndefined(e)){if(n=this.model.handle=this.helper=e,this.model.dragStart&&(e=null,e="touchmove"==i.type?(t=i.originalEvent.changedTouches[0],document.elementFromPoint(t.clientX,t.clientY)):i.originalEvent.target||i.target,this._trigger("dragStart",{event:i,element:this.element,target:e})))return this._destroy(),!1;this.model.dragArea?this._setDragArea():(this._left=this._top=this._right=this._bottom=0,this["border-top-width"]=this["border-left-width"]=0),t=n.offsetParent().offset(),l(document).off(d.eventType.mouseMove,this._dragStartHandler).off(d.eventType.mouseUp,this._destroyHandler).on(d.eventType.mouseMove,this._dragHandler).on(d.eventType.mouseUp,this._dragStopHandler).on("mouseleave",this._dragMouseOutHandler).on("selectstart",!1),d.widgetBase.droppables[this.model.scope]={draggable:this.element,helper:n.css({position:"absolute",left:this.position.left-t.left,top:this.position.top-t.top}),destroy:this._destroyHandler}}},_drag:function(e){var t,i,n,o,s;e.preventDefault(),this.position=this._getMousePosition(e),this.position.top<0&&(this.position.top=0),l(document).height()<this.position.top&&(this.position.top=l(document).height()),l(document).width()<this.position.left&&(this.position.left=l(document).width()),o=d.widgetBase.droppables[this.model.scope].helper,this.model.drag&&(s=null,s="touchmove"==e.type?(n=e.originalEvent.changedTouches[0],document.elementFromPoint(n.clientX,n.clientY)):e.originalEvent.target||e.target,this._trigger("drag",{event:e,element:this.target,target:s})),n=this._checkTargetElement(e),d.isNullOrUndefined(n)?this._hoverTarget&&(e.target=e.toElement=this._hoverTarget,this._hoverTarget.object._out(e),this._hoverTarget=null):((e.target=e.toElement=n).object._over(e),this._hoverTarget=n),s=(o=d.widgetBase.droppables[this.model.scope].helper).offsetParent().offset(),n=(d.isNullOrUndefined(e.pageX)?e.originalEvent.changedTouches[0]:e).pageX,e=(d.isNullOrUndefined(e.pageY)?e.originalEvent.changedTouches[0]:e).pageY,this.model.dragArea?(this._pageX!=n&&(t=this._left>this.position.left?this._left:this._right<this.position.left+o.outerWidth(!0)?this._right-o.outerWidth(!0):this.position.left),this._pageY!=e&&(i=this._top>this.position.top?this._top:this._bottom<this.position.top+o.outerHeight(!0)?this._bottom-o.outerHeight(!0):this.position.top)):(t=this.position.left,i=this.position.top),(i<0||i-[s.top+this["border-top-width"]]<0)&&(i=[s.top+this["border-top-width"]]),(t<0||t-[s.left+this["border-left-width"]]<0)&&(t=[s.left+this["border-left-width"]]),o.css({left:t-[s.left+this["border-left-width"]],top:i-[s.top+this["border-top-width"]]}),this.position.left=t,this.position.top=i,this._pageX=n,this._pageY=e},_dragStop:function(e){var t,i;"mouseup"!=e.type&&"touchend"!=e.type||this._destroy(e),this.model.dragStop&&(t=null,t="touchend"==e.type?(i=e.originalEvent.changedTouches[0],document.elementFromPoint(i.clientX,i.clientY)):e.originalEvent.target||e.target,this._trigger("dragStop",{event:e,element:this.target,target:t})),this._dragEnd(e)},_dragEnd:function(e){var t=this._checkTargetElement(e);d.isNullOrUndefined(t)||(e.target=e.toElement=t).object._drop(e)},_dragMouseEnter:function(e){l(document).off("mouseenter",this._dragMouseEnterHandler),this._isIE9?this._dragManualStop(e):this._isIE8?0==e.button&&this._dragManualStop(e):0==e.buttons&&this._dragManualStop(e)},_dragManualStop:function(e){null!=this.model.dragStop&&this._trigger("dragStop",{event:e,element:this.target,target:e.originalEvent.target||e.target}),this._destroy(e)},_dragMouseOut:function(){l(document).on("mouseenter",this._dragMouseEnterHandler)},_checkTargetElement:function(e){var t=e.target;return this.helper&&this._contains(this.helper[0],t)&&(this.helper.hide(),t=this._elementUnderCursor(e),this.helper.show()),this._withDropElement(t)},_withDropElement:function(e){if(e&&(dropObj=l(e).data("ejDroppable"),d.isNullOrUndefined(dropObj)&&(dropObj=this._checkParentElement(l(e))),!d.isNullOrUndefined(dropObj)))return l.extend(e,{object:dropObj})},_checkParentElement:function(e){e=l(e).closest(".e-droppable");if(0<e.length&&(dropObj=l(e).data("ejDroppable"),!d.isNullOrUndefined(dropObj)))return dropObj},_elementUnderCursor:function(e){return"touchmove"==e.type||"touchstart"==e.type||"touchend"==e.type||"taphold"==e.type?document.elementFromPoint(e.originalEvent.changedTouches[0].clientX,e.originalEvent.changedTouches[0].clientY):document.elementFromPoint(e.clientX,e.clientY)},_contains:function(e,t){try{return l.contains(e,t)||e==t}catch(e){return!1}},_wireEvents:function(){1==d.isDevice()&&1==this.model.dragOnTaphold?this._on(this.element,"taphold",this._initialize):this._on(this.element,d.eventType.mouseDown,this._initialize),this._dragStartHandler=l.proxy(this._dragStart,this),this._destroyHandler=l.proxy(this._destroy,this),this._dragStopHandler=l.proxy(this._dragStop,this),this._dragHandler=l.proxy(this._drag,this),this._dragMouseEnterHandler=l.proxy(this._dragMouseEnter,this),this._dragMouseOutHandler=l.proxy(this._dragMouseOut,this)},_getMousePosition:function(e){e=this._getCoordinate(e);var t=this.model.clone?e.pageX:e.pageX-this._relXposition,e=this.model.clone?e.pageY:e.pageY-this._relYposition;return{left:t-[this.margins.left+this.model.cursorAt.left],top:e-[this.margins.top+this.model.cursorAt.top]}},_getCoordinate:function(e){var t=e;return t="touchmove"==e.type||"touchstart"==e.type||"touchend"==e.type||"taphold"==e.type&&"msie"!=d.browserInfo().name?e.originalEvent.changedTouches[0]:t}}),r=jQuery,(a=Syncfusion).widget("ejDroppable","ej.Droppable",{element:null,model:null,validTags:["div","span","a"],defaults:{accept:null,scope:"default",drop:null,over:null,out:null,create:null,destroy:null},_init:function(){this.model.accept?r(this.element).delegate(this.accept,"mouseup",r.proxy(this._drop,this)):r(this.element).on("mouseup",r.proxy(this._drop,this)),this._on(r(document),"touchend",this._drop),this._mouseOver=!1},_setModel:function(){},_destroy:function(){r(this.element).off("mouseup",r.proxy(this._drop,this))},_over:function(e){this._mouseOver||(this._trigger("over",e),this._mouseOver=!0)},_out:function(e){this._mouseOver&&(this._trigger("out",e),this._mouseOver=!1)},_drop:function(e){var t=a.widgetBase.droppables[this.model.scope],i=!a.isNullOrUndefined(t.helper)&&t.helper.is(":visible"),n=this._isDropArea(e);t&&!a.isNullOrUndefined(this.model.drop)&&i&&n.canDrop&&this.model.drop(r.extend(e,{dropTarget:n.target},!0),t)},_isDropArea:function(e){var t,i,n,o,s={canDrop:!0,target:r(e.target)};if("touchend"==e.type)for(e=e.originalEvent.changedTouches[0],t=document.elementFromPoint(e.clientX,e.clientY),s.canDrop=!1,i=r(t).parents(),n=0;n<this.element.length;n++){if(r(t).is(r(this.element[n])))s={canDrop:!0,target:r(t)};else for(o=0;o<i.length;o++)if(r(this.element[n]).is(r(i[o]))){s={canDrop:!0,target:r(t)};break}if(s.canDrop)break}return s}}),o=jQuery,(s=Syncfusion).widget("ejResizable","ej.resizable",{element:null,model:null,validTags:["div","span","a"],defaults:{scope:"default",handle:null,distance:1,maxHeight:null,maxWidth:null,minHeight:10,minWidth:10,cursorAt:{top:1,left:1},resizeStart:null,resize:null,resizeStop:null,create:null,destroy:null,helper:function(){return o('<div class="e-resize-helper" />').html("resizable").appendTo(document.body)}},_init:function(){this.target=this.element,this._browser=s.browserInfo(),this._isIE8="msie"==this._browser.name&&"8.0"==this._browser.version,this._isIE9="msie"==this._browser.name&&"9.0"==this._browser.version,null!=this.handle?o(this.target).delegate(this.handle,s.eventType.mouseDown,o.proxy(this._mousedown,this)).delegate(this.handle,"resizestart",this._blockDefaultActions):o(this.target).on("mousedown",o.proxy(this._mousedown,this)),this._resizeStartHandler=o.proxy(this._resizeStart,this),this._destroyHandler=o.proxy(this._destroy,this),this._resizeStopHandler=o.proxy(this._resizeStop,this),this._resizeHandler=o.proxy(this._resize,this),this._resizeMouseEnterHandler=o.proxy(this._resizeMouseEnter,this)},_mouseover:function(e){o(e.target).hasClass("e-resizable")?(o(e.target).css({cursor:"se-resize"}),o(this.target).on(s.eventType.mouseDown,o.proxy(this._mousedown,this))):(o(this.target).off(s.eventType.mouseDown),o(this.target).css({cursor:""}))},_blockDefaultActions:function(e){e.cancelBubble=!0,e.returnValue=!1,e.preventDefault&&e.preventDefault(),e.stopPropagation&&e.stopPropagation()},_setModel:function(){},_mousedown:function(e){var t=e;return e=this._getCoordinate(e),this.target=o(t.currentTarget),this._initPosition={x:e.pageX,y:e.pageY},this._pageX=e.pageX,this._pageY=e.pageY,o(document).on(s.eventType.mouseMove,this._resizeStartHandler).on(s.eventType.mouseUp,this._destroyHandler),o(document.documentElement).trigger(s.eventType.mouseDown,t),!1},_resizeStart:function(e){var t,i,n;o(e.target).hasClass("e-resizable")&&(e=this._getCoordinate(e),t=this._initPosition.x-e.pageX,i=this._initPosition.y-e.pageY,Math.sqrt(t*t+i*i)>=this.model.distance)&&(null!=this.model.resizeStart&&this._trigger("resizeStart",{event:e,element:this.target})||(t=this.model.helper({element:this.target}),i=e.pageX-this._pageX+t.outerWidth(),n=e.pageY-this._pageY+t.outerHeight(),this._pageX=e.pageX,this._pageY=e.pageY,this.getElementPosition(t),o(document).off(s.eventType.mouseMove,this._resizeStartHandler).off(s.eventType.mouseUp,this._destroyHandler).on(s.eventType.mouseMove,this._resizeHandler).on(s.eventType.mouseUp,this._resizeStopHandler).on("mouseenter",this._resizeMouseEnterHandler).on("selectstart",!1),s.widgetBase.resizables[this.scope]={resizable:this.target,helper:t.css({width:i,height:n}),destroy:this._destroyHandler}))},_resize:function(e){var t,i,n;e=this._getCoordinate(e),this.getElementPosition(s.widgetBase.resizables[this.scope].helper),n=this.model.helper({element:this.target}),t=e.pageX-this._pageX+n.outerWidth(),n=e.pageY-this._pageY+n.outerHeight(),this._pageX=e.pageX,this._pageY=e.pageY,t<this.model.minWidth&&(i=this.model.minWidth-t,t=this.model.minWidth,this._pageX=e.pageX+i),n<this.model.minHeight&&(i=this.model.minHeight-n,n=this.model.minHeight,this._pageY=e.pageY+i),null!=this.model.maxHeight&&n>this.model.maxHeight&&(i=n-this.model.maxHeight,n=this.model.maxHeight,this._pageY=e.pageY-i),null!=this.model.maxWidth&&t>this.model.maxWidth&&(i=t-this.model.maxWidth,t=this.model.maxWidth,this._pageX=e.pageX-i),s.widgetBase.resizables[this.scope].helper.css({width:t,height:n}),this._trigger("resize",{element:this.target})},_resizeStop:function(e){null!=this.model.resizeStop&&this._trigger("resizeStop",{element:this.target}),"mouseup"!=e.type&&"touchend"!=e.type||this._destroy(e)},_resizeMouseEnter:function(e){this._isIE9?this._resizeManualStop(e):this._isIE8?0==e.button&&this._resizeManualStop(e):0==e.buttons&&this._resizeManualStop(e)},_resizeManualStop:function(e){null!=this.model.resizeStop&&this._trigger("resizeStop",{element:this.target}),this._destroy(e)},_destroy:function(){o(document).off(s.eventType.mouseUp,this._destroyHandler).off(s.eventType.mouseUp,this._resizeStopHandler).off(s.eventType.mouseMove,this._resizeStartHandler).off(s.eventType.mouseMove,this._resizeHandler).off("mouseenter",this._resizeMouseEnterHandler).off("selectstart",!1),s.widgetBase.resizables[this.scope]=null},getElementPosition:function(e){return null!=e&&0<e.length?{left:e[0].offsetLeft,top:e[0].offsetTop}:null},_getCoordinate:function(e){var t=e;return t="touchmove"!=e.type&&"touchstart"!=e.type&&"touchend"!=e.type?t:e.originalEvent.changedTouches[0]}})}),function(e){"function"==typeof define&&define.amd?define(["./ej.core.min"],e):e()}(function(){function M(e,t){return 0===e.indexOf(t)}function r(e,t){return e.substr(e.length-t.length)===t}function $(e){return(e+"").replace(t,"")}function v(e,t,i){for(var n=e.length;n<t;n++)e=i?"0"+e:e+"0";return e}function d(e,t,i){var n,o=t["-"],s=t["+"];switch(i){case"n -":o=" "+o,s=" "+s;case"n-":r(e,o)?n=["-",e.substr(0,e.length-o.length)]:r(e,s)&&(n=["+",e.substr(0,e.length-s.length)]);break;case"- n":o+=" ",s+=" ";case"-n":M(e,o)?n=["-",e.substr(o.length)]:M(e,s)&&(n=["+",e.substr(s.length)]);break;case"(n)":M(e,"(")&&r(e,")")&&(n=["-",e.substr(1,e.length-2)])}return n||["",e]}function n(e,t,i){var n,o;if(!t||"i"===t)return i.name.length?e.toLocaleString():e.toString();t=t||"D";var s,r,a=i.numberFormat,l=Math.abs(e),d=-1;switch(1<t.length&&(d=parseInt(t.slice(1),10)),n=t.charAt(0).toUpperCase()){case"D":s="n",r=l,l=isNaN(r)?NaN:Math[r<0?"ceil":"floor"](r),-1!==d&&(l=v(""+l,d,!0)),e<0&&(l=-l);break;case"N":(o=a).pattern=o.pattern||["-n"];case"C":(o=o||a.currency).pattern=o.pattern||["-$n","$n"];case"P":(o=o||a.percent).pattern=o.pattern||["-n %","n %"],s=e<0?o.pattern[0]||"-n":o.pattern[1]||"n",l=function(e,t,i){var n=i.groupSizes||[3],o=n[0],s=1,r=Math.pow(10,t),r=Math.round(e*r)/r,a=(e=r=isFinite(r)?r:e)+"",l="",e=1<(r=a.split(/e/i)).length?parseInt(r[1],10):0;a=(r=(a=r[0]).split("."))[0],l=1<r.length?r[1]:"",0<e?(a+=(l=v(l,e,!1)).slice(0,e),l=l.substr(e)):e<0&&(l=(a=v(a,1+(e=-e))).slice(-e,a.length)+l,a=a.slice(0,-e));for(var r=i["."]||".",l=0<t?r+(l.length>t?l.slice(0,t):v(l,t)):"",d=a.length-1,c=i[","]||",",h="";0<=d;){if(0===o||d<o)return a.slice(0,d+1)+(h.length?c+h+l:l);h=a.slice(d-o+1,d+1)+(h.length?c+h:""),d-=o,s<n.length&&(o=n[s],s++)}return a.slice(0,d+1)+c+h+l}(l*("P"===n?100:1),d=-1===d?o.decimals:d,o);break;default:throw"Bad number format specifier: "+n}for(var c,h,u=l,p=s,m=a,f=/n|\$|-|%/g,g="";c=f.lastIndex,h=f.exec(p),g+=p.slice(c,h?h.index:p.length),h;)switch(h[0]){case"n":g+=u;break;case"$":g+=m.currency.symbol||"$";break;case"-":/[1-9]/.test(u)&&(g+=m["-"]||"-");break;case"%":g+=m.percent.symbol||"%"}return g}function j(e,t,i){return e<t||i<e}function N(e,t){if(e.indexOf)return e.indexOf(t);for(var i=0,n=e.length;i<n;i++)if(e[i]===t)return i;return-1}function P(e){return e.split("Â ").join(" ").toUpperCase()}function z(e){for(var t=[],i=0,n=e.length;i<n;i++)t[i]=P(e[i]);return t}function w(e,t){for(var i,n=0,o=!1,s=0,r=e.length;s<r;s++)o="'"==(i=e.charAt(s))?(o?t.push("'"):n++,!1):"\\"==i?(o&&t.push("\\"),!o):(t.push(i),!1);return n}function x(e,t){var e=e.patterns,i=(t=t||"F").length;if(1===i){if(!(e=e[t]))throw"Invalid date format string '"+t+"'.";t=e}else 2===i&&"%"===t.charAt(0)&&(t=t.charAt(1));return t}function c(e,t,i){e=$(e),t=$(t);var n,o,s,r,a=i.calendar,i=ej.globalize._getDateParseRegExp(a,t),l=new RegExp(i.regExp).exec(e);if(null===l)return null;for(var d,c,h,u,p,m,f,g,v,b=i.groups,y=null,_=null,w=null,x=0,C=0,S=0,T=0,k=null,D=!1,L=0,A=b.length;L<A;L++)if(n=l[L+1]){var I=b[L],O=I.length,E=parseInt(n,10);switch(I){case H.DAY_OF_MONTH_DOUBLE_DIGIT:case H.DAY_OF_MONTH_SINGLE_DIGIT:if(j(w=E,1,31))return null;break;case H.MONTH_THREE_LETTER:case H.MONTH_FULL_NAME:if(u=n,p=3===O,v=g=f=m=void 0,m=(h=a).months,f=h.monthsGenitive||h.months,g=h._upperMonths,v=h._upperMonthsGen,g||(h._upperMonths=g=[z(m.names),z(m.namesAbbr)],h._upperMonthsGen=v=[z(f.names),z(f.namesAbbr)]),u=P(u),j(_=m=(m=N(p?g[1]:g[0],u))<0?N(p?v[1]:v[0],u):m,0,11))return null;break;case H.MONTH_SINGLE_DIGIT:case H.MONTH_DOUBLE_DIGIT:if(j(_=E-1,0,11))return null;break;case H.YEAR_SINGLE_DIGIT:case H.YEAR_DOUBLE_DIGIT:case H.YEAR_FULL:if(j(y=O<4?(h=a,f=E,g=void 0,g=new Date,f<100&&("string"==typeof(h=h.twoDigitYearMax)?(new Date).getFullYear()%100+parseInt(h,10):h)<(f+=(h=g.getFullYear())-h%100)&&(f-=100),f):E,0,9999))return null;break;case H.HOURS_SINGLE_DIGIT_12_HOUR_CLOCK:case H.HOURS_DOUBLE_DIGIT_12_HOUR_CLOCK:if(j(x=12===(x=E)?0:x,0,11))return null;break;case H.HOURS_SINGLE_DIGIT_24_HOUR_CLOCK:case H.HOURS_DOUBLE_DIGIT_24_HOUR_CLOCK:if(j(x=E,0,23))return null;break;case H.MINUTES_SINGLE_DIGIT:case H.MINUTES_DOUBLE_DIGIT:if(j(C=E,0,59))return null;break;case H.SECONDS_SINGLE_DIGIT:case H.SECONDS_DOUBLE_DIGIT:if(j(S=E,0,59))return null;break;case H.MERIDIAN_INDICATOR_FULL:case H.MERIDIAN_INDICATOR_SINGLE:if((D=a.PM&&(n===a.PM[0]||n===a.PM[1]||n===a.PM[2]))||a.AM&&(n===a.AM[0]||n===a.AM[1]||n===a.AM[2]))break;return null;case H.DECISECONDS:case H.CENTISECONDS:case H.MILLISECONDS:if(j(T=E*Math.pow(10,3-O),0,999))return null;break;case H.DAY_OF_WEEK_THREE_LETTER:w=function(a,i,e){if(!a)return null;var t,n,o=0,l=0,s=null;for(i=i.split(""),length=i.length;o<length;o++)"d"===(ch=i[o])&&(count=function(e){for(var t=0;i[o]===e;)t++,o++;return 0<t&&--o,t}("d"),e._lowerDays||(e._lowerDays=function(e){var t,i={};for(t in e)i[t]=function(e){for(var t=0,i=e.length,n=[];t<i;t++)n[t]=(e[t]+"").toLowerCase();return n}(e[t]);return i}(e.days)),s=count<3?(t=2,n=void 0,n=new RegExp("^\\d{1,"+t+"}"),(t=a.substr(l,t).match(n))?(t=t[0],l+=t.length,parseInt(t,10)):null):function(e,t){for(var i,n,o,s=0,r=e.length;s<r;s++)if(n=(i=e[s]).length,o=a.substr(l,n),(o=t?o.toLowerCase():o)==i)return l+=n,s+1;return null}(e._lowerDays[3==count?"namesAbbr":"names"],!0));return s}(e,t,a);break;case H.DAY_OF_WEEK_FULL_NAME:p=n,v=3===O,m=u=void 0,u=(c=a).days,(m=c._upperDays)||(c._upperDays=m=[z(u.names),z(u.namesAbbr),z(u.namesShort)]),p=P(p),v?-1===N(m[1],p)&&N(m[2],p):N(m[0],p);break;case H.TIME_ZONE_OFFSET_FULL:if(2!==(c=n.split(/:/)).length||j(d=parseInt(c[0],10),-12,13)||j(o=parseInt(c[1],10),0,59))return null;k=60*d+(M(n,"-")?-o:o);break;case H.TIME_ZONE_OFFSET_SINGLE_DIGIT:case H.TIME_ZONE_OFFSET_DOUBLE_DIGIT:if(j(d=E,-12,13))return null;k=60*d}}if(i=new Date,r=(s=a.convert)?s.fromGregorian(i)[0]:i.getFullYear(),null===y&&(y=r),null===_&&(_=0),null===w&&(w=1),s){if(null===(i=s.toGregorian(y,_,w)))return null}else if(i.setFullYear(y,_,w),i.getDate()!==w)return null;return D&&x<12&&(x+=12),i.setHours(x,C,S,T),null!==k&&(r=i.getMinutes()-(k+i.getTimezoneOffset()),i.setHours(i.getHours()+parseInt(r/60,10),r%60)),i}function C(e,t,i){function n(e,t){var i,e=e+"";return 1<t&&e.length<t?(i=f[t-2]+e).substr(i.length-t,t):e}var o,s,r,a,l=i.calendar,d=l.convert;if(!t||!t.length||"i"===t)return i&&i.name.length?d?C(e,l.patterns.F,i):e.toLocaleString():e.toString();i="s"===t,t=x(l,t);var c,h,u,p,m=[],f=["0","00","000"],g=/([^d]|^)(d|dd)([^d]|$)/g,v=0,b=/\/|dddd|ddd|dd|d|MMMM|MMM|MM|M|yyyy|yy|y|hh|h|HH|H|mm|m|ss|s|tt|t|fff|ff|f|zzz|zz|z|gg|g/g;for(!i&&d&&(p=d.fromGregorian(e));;){var y=b.lastIndex,_=b.exec(t);if(v+=w(t.slice(y,_?_.index:t.length),m),!_)break;if(v%2)m.push(_[0]);else switch(s=(o=_[0]).length,o){case H.DAY_OF_WEEK_THREE_LETTER:case H.DAY_OF_WEEK_FULL_NAME:r=3===s?l.days.namesAbbr:l.days.names,m.push(r[e.getDay()]);break;case H.DAY_OF_MONTH_SINGLE_DIGIT:case H.DAY_OF_MONTH_DOUBLE_DIGIT:h=!0,m.push(n(p?p[2]:e.getDate(),s));break;case H.MONTH_THREE_LETTER:case H.MONTH_FULL_NAME:a=p?p[1]:e.getMonth(),m.push((l.monthsGenitive&&(h||u||(h=g.test(t),u=!0),h)?l.monthsGenitive:l.months)[3===s?"namesAbbr":"names"][a]);break;case H.MONTH_SINGLE_DIGIT:case H.MONTH_DOUBLE_DIGIT:m.push(n((p?p[1]:e.getMonth())+1,s));break;case H.YEAR_SINGLE_DIGIT:case H.YEAR_DOUBLE_DIGIT:case H.YEAR_FULL:a=p?p[0]:e.getFullYear(),s<4&&(a%=100),m.push(n(a,s));break;case H.HOURS_SINGLE_DIGIT_12_HOUR_CLOCK:case H.HOURS_DOUBLE_DIGIT_12_HOUR_CLOCK:0===(c=e.getHours()%12)&&(c=12),m.push(n(c,s));break;case H.HOURS_SINGLE_DIGIT_24_HOUR_CLOCK:case H.HOURS_DOUBLE_DIGIT_24_HOUR_CLOCK:m.push(n(e.getHours(),s));break;case H.MINUTES_SINGLE_DIGIT:case H.MINUTES_DOUBLE_DIGIT:m.push(n(e.getMinutes(),s));break;case H.SECONDS_SINGLE_DIGIT:case H.SECONDS_DOUBLE_DIGIT:m.push(n(e.getSeconds(),s));break;case H.MERIDIAN_INDICATOR_SINGLE:case H.MERIDIAN_INDICATOR_FULL:a=e.getHours()<12?l.AM?l.AM[0]:" ":l.PM?l.PM[0]:" ",m.push(1===s?a.charAt(0):a);break;case H.DECISECONDS:case H.CENTISECONDS:case H.MILLISECONDS:m.push(n(e.getMilliseconds(),3).substr(0,s));break;case H.TIME_ZONE_OFFSET_SINGLE_DIGIT:case H.TIME_ZONE_OFFSET_DOUBLE_DIGIT:c=e.getTimezoneOffset()/60,m.push((c<=0?"+":"-")+n(Math.floor(Math.abs(c)),s));break;case H.TIME_ZONE_OFFSET_FULL:c=e.getTimezoneOffset()/60,m.push((c<=0?"+":"-")+n(Math.floor(Math.abs(c)),2)+":"+n(Math.abs(e.getTimezoneOffset()%60),2));break;case H.DATE_SEPARATOR:m.push(l["/"]||"/");break;default:throw"Invalid date format pattern '"+o+"'."}}return m.join("")}var a,t,h,u,p,H;a=jQuery,ej.globalize={},ej.cultures={},ej.cultures.default=ej.cultures["en-US"]=a.extend(!0,{name:"en-US",englishName:"English",nativeName:"English",language:"en",isRTL:!1,numberFormat:{pattern:["-n"],decimals:2,",":",",".":".",groupSizes:[3],"+":"+","-":"-",percent:{pattern:["-n %","n %"],decimals:2,groupSizes:[3],",":",",".":".",symbol:"%"},currency:{pattern:["($n)","$n"],decimals:2,groupSizes:[3],",":",",".":".",symbol:"$"}},calendars:{standard:{"/":"/",":":":",firstDay:0,days:{names:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],namesAbbr:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],namesShort:["Su","Mo","Tu","We","Th","Fr","Sa"]},months:{names:["January","February","March","April","May","June","July","August","September","October","November","December",""],namesAbbr:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec",""]},AM:["AM","am","AM"],PM:["PM","pm","PM"],twoDigitYearMax:2029,patterns:{d:"M/d/yyyy",D:"dddd, MMMM dd, yyyy",t:"h:mm tt",T:"h:mm:ss tt",f:"dddd, MMMM dd, yyyy h:mm tt",F:"dddd, MMMM dd, yyyy h:mm:ss tt",M:"MMMM dd",Y:"yyyy MMMM",S:"yyyy'-'MM'-'dd'T'HH':'mm':'ss"}}}},ej.cultures["en-US"]),ej.cultures["en-US"].calendar=ej.cultures["en-US"].calendar||ej.cultures["en-US"].calendars.standard,t=/^\s+|\s+$/g,h=/^[+-]?infinity$/i,u=/^0x[a-f0-9]+$/i,p=/^[+-]?\d*\.?\d*(e[+-]?\d+)?$/,H={DAY_OF_WEEK_THREE_LETTER:"ddd",DAY_OF_WEEK_FULL_NAME:"dddd",DAY_OF_MONTH_SINGLE_DIGIT:"d",DAY_OF_MONTH_DOUBLE_DIGIT:"dd",MONTH_THREE_LETTER:"MMM",MONTH_FULL_NAME:"MMMM",MONTH_SINGLE_DIGIT:"M",MONTH_DOUBLE_DIGIT:"MM",YEAR_SINGLE_DIGIT:"y",YEAR_DOUBLE_DIGIT:"yy",YEAR_FULL:"yyyy",HOURS_SINGLE_DIGIT_12_HOUR_CLOCK:"h",HOURS_DOUBLE_DIGIT_12_HOUR_CLOCK:"hh",HOURS_SINGLE_DIGIT_24_HOUR_CLOCK:"H",HOURS_DOUBLE_DIGIT_24_HOUR_CLOCK:"HH",MINUTES_SINGLE_DIGIT:"m",MINUTES_DOUBLE_DIGIT:"mm",SECONDS_SINGLE_DIGIT:"s",SECONDS_DOUBLE_DIGIT:"ss",MERIDIAN_INDICATOR_SINGLE:"t",MERIDIAN_INDICATOR_FULL:"tt",DECISECONDS:"f",CENTISECONDS:"ff",MILLISECONDS:"fff",TIME_ZONE_OFFSET_SINGLE_DIGIT:"z",TIME_ZONE_OFFSET_DOUBLE_DIGIT:"zz",TIME_ZONE_OFFSET_FULL:"zzz",DATE_SEPARATOR:"/"},ej.globalize._getDateParseRegExp=function(e,t){var i,n,o,s,r,a=e._parseRegExp;if(a){if(r=a[t])return r}else e._parseRegExp=a={};for(var l,d=x(e,t).replace(/([\^\$\.\*\+\?\|\[\]\(\)\{\}])/g,"\\\\$1"),c=["^"],h=[],u=0,p=0,m=/\/|dddd|ddd|dd|d|MMMM|MMM|MM|M|yyyy|yy|y|hh|h|HH|H|mm|m|ss|s|tt|t|fff|ff|f|zzz|zz|z|gg|g/g;null!==(l=m.exec(d));)if(i=d.slice(u,l.index),u=m.lastIndex,(p+=w(i,c))%2)c.push(l[0]);else{switch(o=(n=l[0]).length,n){case H.DAY_OF_WEEK_THREE_LETTER:case H.DAY_OF_WEEK_FULL_NAME:case H.MONTH_FULL_NAME:case H.MONTH_THREE_LETTER:s="(\\D+)";break;case H.MERIDIAN_INDICATOR_FULL:case H.MERIDIAN_INDICATOR_SINGLE:s="(\\D*)";break;case H.YEAR_FULL:case H.MILLISECONDS:case H.CENTISECONDS:case H.DECISECONDS:s="(\\d{"+o+"})";break;case H.DAY_OF_MONTH_DOUBLE_DIGIT:case H.DAY_OF_MONTH_SINGLE_DIGIT:case H.MONTH_DOUBLE_DIGIT:case H.MONTH_SINGLE_DIGIT:case H.YEAR_DOUBLE_DIGIT:case H.YEAR_SINGLE_DIGIT:case H.HOURS_DOUBLE_DIGIT_24_HOUR_CLOCK:case H.HOURS_SINGLE_DIGIT_24_HOUR_CLOCK:case H.HOURS_DOUBLE_DIGIT_12_HOUR_CLOCK:case H.HOURS_SINGLE_DIGIT_12_HOUR_CLOCK:case H.MINUTES_DOUBLE_DIGIT:case H.MINUTES_SINGLE_DIGIT:case H.SECONDS_DOUBLE_DIGIT:case H.SECONDS_SINGLE_DIGIT:s="(\\d\\d?)";break;case H.TIME_ZONE_OFFSET_FULL:s="([+-]?\\d\\d?:\\d{2})";break;case H.TIME_ZONE_OFFSET_DOUBLE_DIGIT:case H.TIME_ZONE_OFFSET_SINGLE_DIGIT:s="([+-]?\\d\\d?)";break;case H.DATE_SEPARATOR:s="(\\"+e["/"]+")";break;default:throw"Invalid date format pattern '"+n+"'."}s&&c.push(s),h.push(l[0])}return w(d.slice(u),c),c.push("$"),r=c.join("").replace(/\s+/g,"\\s+"),a[t]={regExp:r,groups:h}},ej.globalize.addCulture=function(e,t){ej.cultures[e]=a.extend(!0,a.extend(!0,{},ej.cultures.default,t),ej.cultures[e]),ej.cultures[e].calendar=ej.cultures[e].calendars.standard},ej.globalize.preferredCulture=function(e){return e=void 0!==e&&typeof e==typeof this.cultureObject?e.name:e,this.cultureObject=ej.globalize.findCulture(e),this.cultureObject},ej.globalize.setCulture=function(e){return ej.isNullOrUndefined(this.globalCultureObject)&&(this.globalCultureObject=ej.globalize.findCulture(e)),(e=void 0!==e&&typeof e==typeof this.globalCultureObject?e.name:e)&&(this.globalCultureObject=ej.globalize.findCulture(e)),ej.cultures.current=this.globalCultureObject,this.globalCultureObject},ej.globalize.culture=function(e){ej.cultures.current=ej.globalize.findCulture(e)},ej.globalize.findCulture=function(e){var t,i,n,o,s;if(e){if(a.isPlainObject(e)&&e.numberFormat&&(t=e),"string"==typeof e){if((i=ej.cultures)[e])return i[e];if(-1<e.indexOf("-")){if(i[n=e.split("-")[0]])return i[n]}else for(o=a.map(i,function(e){return e}),s=0;s<o.length;s++)if(o[s].name.split("-")[0]===e)return o[s];return ej.cultures.default}}else t=ej.cultures.current||ej.cultures.default;return t},ej.globalize.format=function(e,t,i){i=ej.globalize.findCulture(i);return"number"==typeof e?e=n(e,t,i):e instanceof Date&&(e=C(e,t,i)),e},ej.globalize.parseInt=function(e,t,i){return Math.floor(this.parseFloat(e,t,i))},ej.globalize.parseFloat=function(e,t,i){"string"==typeof t&&(i=t,t=10);var n,o,s,r=NaN,a=(i=ej.globalize.findCulture(i)).numberFormat,l=i.numberFormat.pattern[0];return-1<(e=e.replace(/ /g,"")).indexOf(i.numberFormat.currency.symbol)?(e=(e=e.replace(i.numberFormat.currency.symbol||"$","")).replace(i.numberFormat.currency["."]||".",i.numberFormat["."]||"."),l=$(i.numberFormat.currency.pattern[0].replace("$",""))):-1<e.indexOf(i.numberFormat.percent.symbol)&&(e=(e=e.replace(i.numberFormat.percent.symbol||"%","")).replace(i.numberFormat.percent["."]||".",i.numberFormat["."]||"."),l=$(i.numberFormat.percent.pattern[0].replace("%",""))),e=$(e),h.test(e)?r=parseFloat(e,t):!t&&u.test(e)?r=parseInt(e,16):(t=(i=d(e,a,l))[0],s=i[1],""===t&&"-n"!==a.pattern[0]&&(t=(i=d(e,a,"-n"))[0],s=i[1]),t=t||"+",i=(e=(e=s.indexOf("e"))<0?s.indexOf("E"):e)<0?(o=s,null):(o=s.substr(0,e),s.substr(e+1)),s=a["."]||".",o=(e=o.indexOf(s))<0?(n=o,null):(n=o.substr(0,e),o.substr(e+s.length)),e=a[","]||",",n=n.split(e).join(""),s=e.replace(/\u00A0/g," "),t=t+(n=e!==s?n.split(s).join(""):n),null!==o&&(t+="."+o),null!==i&&(t+="e"+((e=d(i,a,l))[0]||"+")+e[1]),p.test(t)&&(r=parseFloat(t))),r},ej.globalize.parseDate=function(e,t,i){var n,o,s,r,a,l;if(i=ej.globalize.findCulture(i),t){if((t="string"==typeof t?[t]:t).length)for(r=0,a=t.length;r<a&&(!(l=t[r])||!(n=c(e,l,i)));r++);}else for(o in s=i.calendar.patterns)if(n=c(e,s[o],i),n)break;return n||null},ej.globalize.getLocalizedConstants=function(e,t){e=e.replace("ej.","").split("."),e=function e(t,i){return i.length?e(t[i[0]],i.slice(1)):t}(ej,e);return a.extend(!0,{},e.Locale.default,e.Locale[t||this.cultureObject.name])},a.extend(ej,ej.globalize)}),function(e){"function"==typeof define&&define.amd?define(["./../common/ej.globalize.min","./../common/ej.core.min","./../common/ej.scroller.min","./../common/ej.draggable.min"],e):e()}(function(){var a,s;a=jQuery,(s=Syncfusion).widget("ejDialog","ej.Dialog",{_rootCSS:"e-dialog",element:null,_ignoreOnPersist:["drag","dragStart","dragStop","resizeStop","resizeStart","resize","beforeClose","beforeOpen","collapse","expand","close","open","destroy","create","ajaxSuccess","ajaxError","contentLoad","actionButtonClick","enableResize"],model:null,validTags:["div","span"],_setFirst:!1,angular:{terminal:!1},defaults:{showOnInit:!0,closeOnEscape:!0,closeIconTooltip:"close",enableAnimation:!0,allowDraggable:!0,height:"auto",minHeight:120,minWidth:200,maxHeight:null,maxWidth:null,enableModal:!1,position:{X:"",Y:""},containment:null,enableResize:!0,htmlAttributes:{},showHeader:!0,showFooter:!1,contentType:null,contentUrl:null,ajaxSettings:{type:"GET",cache:!1,data:{},dataType:"html",contentType:"html",async:!0},title:"",width:400,zIndex:1e3,cssClass:"",enableRTL:!1,allowKeyboardNavigation:!0,showRoundedCorner:!1,actionButtons:["close"],animation:{show:{effect:"fade",duration:400},hide:{effect:"fade",duration:400}},tooltip:{close:"Close",collapse:"Collapse",restore:"Restore",maximize:"Maximize",minimize:"Minimize",expand:"Expand",unPin:"UnPin",pin:"Pin"},footerTemplateId:null,locale:"en-US",faviconCSS:null,content:null,target:null,enablePersistence:!1,enabled:!0,isResponsive:!1,actionButtonClick:null,beforeClose:null,close:null,expand:null,collapse:null,beforeOpen:null,open:null,drag:null,dragStart:null,dragStop:null,resize:null,resizeStart:null,resizeStop:null,contentLoad:null,ajaxSuccess:null,ajaxError:null,create:null,destroy:null,Close:null},dataTypes:{showOnInit:"boolean",closeOnEscape:"boolean",enableAnimation:"boolean",position:"data",animation:"data",closeIconTooltip:"string",tooltip:"data",allowDraggable:"boolean",enableModal:"boolean",enableResize:"boolean",isResponsive:"boolean",showHeader:"boolean",showFooter:"boolean",title:"string",faviconCSS:"string",zIndex:"number",cssClass:"string",enablePersistence:"boolean",contentUrl:"string",contentType:"string",enableRTL:"boolean",enabled:"boolean",allowKeyboardNavigation:"boolean",showRoundedCorner:"boolean",locale:"string",htmlAttributes:"data",ajaxSettings:"data",actionButtons:"array",footerTemplateId:"string"},_setModel:function(e){var t,i;for(t in e)switch(t){case"closeIconTooltip":this._dialogClose.attr("title",e[t]);break;case"tooltip":this._tooltipText(e[t]);break;case"title":this.model.title=e[t],this._ejDialog.find("span.e-title").length<=0?this._addTitleText():this._ejDialog.find("span.e-title").html(e[t]),this._updateCaptionWidth();break;case"width":this.model.width=e[t],this._changeSize(),this._updateCaptionWidth(),e[t]=this.model.width;break;case"height":this.model.height=e[t],this._changeSize(),e[t]=this.model.height;break;case"position":this.model.position=e[t],this._dialogPosition();break;case"cssClass":this._changeSkin(e[t]);break;case"showRoundedCorner":this.model.showRoundedCorner=e[t],this._roundedCorner(e[t]);break;case"contentType":this.model.contentType=e[t],this._appendContent(e[t]);break;case"enabled":this.model.enabled=e[t],this._enabledAction(e[t]);break;case"contentUrl":this.model.contentUrl=e[t],this._appendContent(this.model.contentType);break;case"content":case"target":this._ejDialog.appendTo(a(e[t])),this.model.target=this.model.content=e[t],this._dialogPosition();break;case"containment":this._setDragArea(e[t]),s.isNullOrUndefined(this._target)?this._ejDialog.appendTo(document.body):this._ejDialog.appendTo(this._target),this.model.position.X=this.model.position.Y="",this._dialogPosition(),this.model.containment=e[t]=this._target,this.model.enableModal&&this._createOverlay(),this._dialogTitlebar.ejDraggable({dragArea:this._target});break;case"locale":this.model.locale=e[t],this.localizedLabels=this._getLocalizedLabels(),this._setLocaleCulture(this.localizedLabels),this._tooltipText(this.model.tooltip);break;case"minHeight":this.model.minHeight=e[t],this._ejDialog.css("minHeight",e[t]),this._minMaxValidation(),this._resetScroller(),this._resizeDialog();break;case"minWidth":this.model.minWidth=e[t],this._ejDialog.css("minWidth",e[t]),this._minMaxValidation(),this._resetScroller(),this._resizeDialog();break;case"maxHeight":this.model.maxHeight=e[t],this._ejDialog.css("maxHeight",e[t]),this._minMaxValidation(),this._resetScroller(),this._resizeDialog();break;case"maxWidth":this.model.maxWidth=e[t],this._ejDialog.css("maxWidth",e[t]),this._minMaxValidation(),this._resetScroller(),this._resizeDialog();break;case"zIndex":this._ejDialog.css("z-index",e[t]);break;case"faviconCSS":this.model.faviconCSS=e[t],this._favIcon(),this._updateCaptionWidth();break;case"isResponsive":this.model.isResponsive=e[t],this.model.isResponsive?this._ejDialog.addClass("e-dialog-resize"):this._ejDialog.removeClass("e-dialog-resize"),this._wireResizing();break;case"allowDraggable":this.model.allowDraggable=e[t],e[t]?this._enableDrag():this._dialogTitlebar.removeClass("e-draggable");break;case"enableResize":this.model.enableResize=e[t],e[t]?this._enableResize():(this._ejDialog.removeClass("e-resizable"),this._ejDialog.find(".e-resize-handle").remove()),this._reRenderScroller();break;case"showHeader":this.model.showHeader=e[t],e[t]?(this._renderTitleBar(),this._iconsRender(this.model.actionButtons),this.model.faviconCSS&&(this._dialogFavIcon=!1,this._favIcon()),this._enableDrag(),this._maximize||this._updateScroller(this._ejDialog.outerHeight(!0)-this._dialogTitlebar.outerHeight(!0),this._ejDialog.width()-2)):(this._ejDialog.find(".e-titlebar").remove(),this._maximize?this.refresh():this._updateScroller(this._ejDialog.outerHeight(!0),this._ejDialog.width()-2)),this._roundedCorner(this.model.showRoundedCorner),this.model.showFooter&&this._setContainerSize()._resetScroller();break;case"showFooter":this.model.showFooter=e[t],(e[t]?(this._appendContent(),this._ejDialog.find(".e-resizable")):this._ejDialog.find(".e-footerbar")).remove(),this._enableResize()._enableDrag()._sizeInPercent(),this._reRenderScroller(),this._setContainerSize()._resetScroller(),this._roundedCorner(this.model.showRoundedCorner);break;case"footerTemplateId":this.model.footerTemplateId=e[t],this.model.showFooter&&(a(".e-footerbar").empty(),i=a("body").find("#"+this.model.footerTemplateId).html(),this._dialogFooterbar.append(i),this._enableResize());break;case"enableRTL":this.model.enableRTL=e[t],this.model.faviconCSS&&this._favIcon(),e[t]?(this._ejDialog.addClass("e-rtl"),this.iframe&&this.iframe.contents().find("body").css("direction","rtl")):(this._ejDialog.removeClass("e-rtl"),this.iframe&&this.iframe.contents().find("body").css("direction","ltr")),this.scroller&&this._resetScroller();break;case"actionButtons":s.isNullOrUndefined(this._dialogTitlebar)||(this._removeAllIcons(),this._iconsRender(e[t])),this.model.actionButtons=e[t],this._updateCaptionWidth();break;case"enableModal":this._enableModal(e[t]);break;case"htmlAttributes":this._addAttr(e[t])}},_destroy:function(){this._overLay&&this._overLay.remove(),this._cloneElement.appendTo(this._ejDialog.parent()),this._ejDialog.remove(),this._cloneElement.removeClass("e-dialog"),this.element=this._cloneElement,this._isOpen=!1},keyConfigs:[37,38,39,40],_init:function(){this._init=!0,this._widthPercent=null,this._heightPercent=null,this._windowSize={outerWidth:a(window).outerWidth(),outerHeight:a(window).outerHeight()},this._initSize={width:this.model.width,height:this.model.height},this._sizeType={width:isNaN(this.model.width)?this.model.width.match(/px|%|auto/g)[0]:null,height:isNaN(this.model.height)?this.model.height.match(/px|%|auto/g)[0]:null},this._isOpen=this._maximize=this._minimize=!1,this.localizedLabels=this._getLocalizedLabels(),this._setLocaleCulture(this.localizedLabels),this._setDimension(),this.model.close||(this.model.close=this.model.Close),this.model.target||(this.model.target=this.model.content),this._responsive(),this._renderControl(),this._wireEvents(),(scrObj=this._ejDialog.closest(".e-dialog.e-js").data("ejDialog"))&&scrObj._resetScroller(),this.hidden=!1,this._init=!1},_responsive:function(){this.width=this.model.width,a(this.element).width(this.width),this.height=this.model.height,a(this.element).height(this.height),a(window).on("resize",a.proxy(this._resizeHandler,this))},_resizeHandler:function(){this._maximize&&(this.width=a(this._dialogTitlebar).outerWidth(),a(this.contentDiv).width(this.width),a(this.contentDiv).children().width(this.width),this.model.height=this.height=a(window).height(),this._ejDialog.css({height:this.height}),this.contentDiv.height(this._ejDialog.height()-a(this._dialogTitlebar).outerHeight()-a(this._dialogFooterbar).outerHeight()),this.element.height(this.contentDiv.height())),this._resetScroller()},_setLocaleCulture:function(e){this.defaults.closeIconTooltip===this.model.closeIconTooltip&&(this.model.closeIconTooltip=e.closeIconTooltip),JSON.stringify(this.model.tooltip)===JSON.stringify(this.defaults.tooltip)&&(this.model.tooltip=e.tooltip)},_setDragArea:function(e){s.isNullOrUndefined(e)?this._target=null:"string"==typeof e?("parent"==e&&(this._target=a(this.element).parent()),"document"==e.toLowerCase()&&(this._target=a(document)),"window"==e.toLowerCase()?this._target=a(window):0<a(e).length&&(this._target=a(e))):"object"==typeof e?0<e.length&&(this._target=e):this._target=null},_addAttr:function(e){var i=this;a.map(e,function(e,t){"class"==t?i._ejDialog.addClass(e):"disabled"==t&&"disabled"==e?(i.model.enabled=!1,i._enabledAction(!1)):i._ejDialog.attr(t,e)})},_tooltipText:function(e){a.extend(this.model.tooltip,e),this._dialogClose.hasClass("e-close")&&this._dialogClose.attr("title",this.model.tooltip.close),this._dialogCollapsible.hasClass("e-arrowhead-up")&&this._dialogCollapsible.attr("title",this.model.tooltip.collapse),this._dialogCollapsible.hasClass("e-arrowhead-down")&&this._dialogCollapsible.attr("title",this.model.tooltip.expand),this._dialogMaximize.hasClass("e-maximize")&&this._dialogMaximize.attr("title",this.model.tooltip.maximize),this._dialogMaximize.hasClass("e-restore")&&this._dialogMaximize.attr("title",this.model.tooltip.restore),this._dialogMinimize.hasClass("e-minus")&&this._dialogMinimize.attr("title",this.model.tooltip.minimize),this._dialogMinimize.hasClass("e-restore")&&this._dialogMinimize.attr("title",this.model.tooltip.restore),this._dialogPin.hasClass("e-unpin")&&this._dialogPin.attr("title",this.model.tooltip.pin),this._dialogPin.hasClass("e-pin")&&this._dialogPin.attr("title",this.model.tooltip.unPin)},_renderControl:function(){var e,t;this._cloneElement=this.element.clone(),this.element.attr("tabindex",0).attr({role:"dialog","aria-labelledby":this.element.prop("id")+"_title"}),this._ejDialog=s.buildTag("div.e-dialog e-widget e-box "+this.model.cssClass+" e-dialog-wrap e-shadow#"+(""==this.element.prop("id")?"":this.element.prop("id")+"_wrapper"),"",{display:"none",zIndex:this.model.zIndex},{tabindex:0}),this.model.isResponsive&&this._ejDialog.addClass("e-dialog-resize"),this.wrapper=this._ejDialog,this._addAttr(this.model.htmlAttributes),this._setDragArea(this.model.containment),s.isNullOrUndefined(this.model.containment)||s.isNullOrUndefined(this._target)?s.isNullOrUndefined(this.model.target)||(e=this.model.target):e=this._target,e=s.isNullOrUndefined(e)?document.body:e,(t=a(e).find("#"+this._id+"_wrapper").get(0))&&a(t).remove(),this._ejDialog.appendTo(e),this.model.enableRTL&&this._ejDialog.addClass("e-rtl"),this.model.showHeader&&(this._renderTitleBar(),this._iconsRender(this.model.actionButtons),this.model.faviconCSS)&&this._favIcon(),this._appendContent(this.model.contentType),this._enableResize()._enableDrag()._setSize()._sizeInPercent(),"ajax"!=this.model.contentType&&(this.model.showOnInit&&this.open()?this._setContainerSize()._resetScroller():this._setHiddenDialogSize()),this._roundedCorner(this.model.showRoundedCorner),this._enabledAction(this.model.enabled),"auto"==this._sizeType.width&&(this._maxWidth=this.model.width),"auto"==this._sizeType.height&&(this._maxHeight=this.model.height)},_setContainerSize:function(){var e;return"auto"!=this.model.height&&(e=this._ejDialog.outerHeight()-(this.model.showHeader?a(this._ejDialog.find("div.e-titlebar")).outerHeight(!0):0)+(this.model.showFooter?a(this._ejDialog.find("div.e-footerbar")).outerHeight(!0):0)-1,this.contentDiv.height(e),this.element.outerHeight(e)),this},_changeSize:function(){this._initSize={width:this.model.width,height:this.model.height},this._sizeType.width=isNaN(this.model.width)?this.model.width.match(/px|%|auto/g):null,this._sizeType.height=isNaN(this.model.height)?this.model.height.match(/px|%|auto/g):null,this._setSize()._sizeInPercent()._setContainerSize()._resetScroller()},_enableDrag:function(){return this.model.allowDraggable&&this.model.showHeader&&(this._dialogTitlebar.addClass("e-draggable"),this._dragDialog()),this},_enableResize:function(){var e;return this.model.enableResize&&(this._ejDialog.addClass("e-resizable"),e=s.buildTag("div.e-icon e-resize-handle"),this.model.showFooter?e.appendTo(this._dialogFooterbar):e.appendTo(this._ejDialog),this._resizeDialog()),this},_changeSkin:function(e){this.model.cssClass!=e&&this._ejDialog.removeClass(this.model.cssClass).addClass(e)},_enableModal:function(e){e?this._isOpen&&this._createOverlay():this._overLay&&this._overLay.remove()},_enabledAction:function(e){e?(this._ejDialog.removeClass("e-disable"),this.wrapper.children(".e-disable-overlay").remove(),s.isNullOrUndefined(this.scroller)||this.scroller.enable()):(this._ejDialog.addClass("e-disable"),s.buildTag("div.e-disable-overlay").appendTo(this.wrapper),s.isNullOrUndefined(this.scroller)||this.scroller.disable())},_renderTitleBar:function(){this._elementTitle=this.element.attr("title"),"string"!=typeof this._elementTitle&&(this._elementTitle=""),this.model.title=this.model.title||this._elementTitle,this._dialogTitlebar=s.buildTag("div#"+this.element.prop("id")+"_title.e-titlebar e-header e-dialog").prependTo(this._ejDialog),this._addTitleText()},_renderFooterBar:function(){this._dialogFooterbar=s.buildTag("div#"+this.element.prop("id")+"_foot.e-footerbar e-dialog e-js").appendTo(this._ejDialog)},_addTitleText:function(){return this.model.title&&(this._titleText=s.buildTag("span.e-title",this.model.title).prependTo(this._dialogTitlebar)),this},_updateCaptionWidth:function(){var e=this.model.faviconCSS&&!s.isNullOrUndefined(this._dialogFavIcon)?this._dialogFavIcon.outerWidth():0;return this._titleText&&this._titleText.css("max-width",this._dialogTitlebar.width()-20-this._dialogTitlebar.find(".e-dialog-icon").width()*this._dialogTitlebar.find(".e-dialog-icon").length-e),this},_iconsRender:function(e){for(var t=0;t<e.length;t++)switch("msie"==s.browserInfo().name&&s.browserInfo().version<=8?a.trim(e[t]):e[t].trim()){case"close":this._closeIcon();break;case"collapse":case"collapsible":this._collapsibleIcon();break;case"maximize":this._maximizeIcon();break;case"minimize":this._minimizeIcon();break;case"pin":this._pinIcon();break;default:this._customIconsRender(e[t])}},_customIconsRender:function(e){this._customIcon=s.util.buildTag("div#"+this.element[0].id+"_"+e+"button.e-dialog-icon e-icon e-"+e,null,null).attr("tabIndex","0").attr("title",e),this._customIcon.appendTo(this._dialogTitlebar),this._on(this._customIcon,"touchstart click",this._iconClick)},_iconClick:function(){var e;this.element.hasClass("e-disable")||(e={cancel:!1,buttonID:a(event.target).attr("id"),event:event.type,model:this.model,currentTarget:event.currentTarget.title},this._trigger("actionButtonClick",e))},_removeAllIcons:function(){this._dialogTitlebar.find("div.e-dialog-icon").remove()},_appendContent:function(e){var t,i,n,o;this.contentDiv=s.isNullOrUndefined(this.contentDiv)?s.buildTag("div.e-dialog-scroller"):this.contentDiv,this.element.removeAttr("title").addClass("e-widget-content e-box"),s.isNullOrUndefined((t=this).model.contentUrl)||s.isNullOrUndefined(e)?(this.dialogIframeContent=this.element.children().find("iframe").contents()[0],s.isNullOrUndefined(this.dialogIframeContent)?this.element.show().appendTo(this.contentDiv):this.element.show().appendTo(this.contentDiv).find("iframe").append(this.dialogIframeContent.lastChild)):"ajax"==e?(this.model.ajaxSettings.url=this.model.contentUrl,this._sendAjaxOptions(this.element,this.model.ajaxSettings.url)):"iframe"==e?(0<this.element.children(".e-iframe").length?(this.iframe=this.element.find("iframe.e-iframe"),this.iframe.attr("src",this.model.contentUrl)):(this.iframe=s.buildTag("iframe.e-iframe","",{width:"100%",height:"100%"},{scrolling:"auto",frameborder:0,src:this.model.contentUrl}),this.element.appendTo(this.contentDiv).append(this.iframe).show()),this.model.enableRTL&&a(this.iframe).load(function(){t.iframe.contents().find("body").css("direction","rtl")}),this._trigger("contentLoad",{contentType:e,url:this.model.contentUrl})):"image"==e?(o=s.buildTag("img.e-images","","",{src:this.model.contentUrl}),this.element.append(o).show().appendTo(this.contentDiv),a(o).on("load",function(){t._dialogPosition()}),this._trigger("contentLoad",{contentType:e,url:this.model.contentUrl})):this.element.show().appendTo(this.contentDiv),0<this._ejDialog.find("div.e-resize-handle").length?this.contentDiv.insertBefore(this._ejDialog.find("div.e-resize-handle")):(i=this.element.children().find("iframe").contents()[0],s.isNullOrUndefined(i)?this.contentDiv.appendTo(this._ejDialog):(this.contentDiv.appendTo(this._ejDialog),n=a("#"+this.contentDiv.find("iframe").attr("id")),setTimeout(function(){a(n[0].contentDocument.lastChild).remove(),n[0].contentDocument.appendChild(i)},500))),this.model.showFooter&&(this._renderFooterBar(),null!=this.model.footerTemplateId)&&(o=a("body").find("#"+this.model.footerTemplateId).html(),this._dialogFooterbar.append(o))},_roundedCorner:function(e){this._ejDialog[e?"addClass":"removeClass"]("e-corner"),this.contentDiv.removeClass("e-dialog-top e-dialog-bottom e-dialog-content"),this.model.showRoundedCorner&&(this.model.showHeader&&!this.model.showFooter?this.contentDiv.addClass("e-dialog-bottom"):!this.model.showHeader&&this.model.showFooter?this.contentDiv.addClass("e-dialog-top"):this.model.showHeader||this.model.showFooter||this.contentDiv.addClass("e-dialog-content"))},_reRenderScroller:function(){var e,t,i,n;null==this.scroller||(this.scroller.refresh(),this.model.enableRTL)||(this.scroller._vScrollbar&&this.scroller._vScrollbar._scrollData&&this.model.enableResize&&(n=this.model.showFooter?(e=this.scroller._vScrollbar.element.find("> div.e-vscroll").height(),i=0):(e=this.scroller._vScrollbar.element.find("> div.e-vscroll").height(),i=2,this._ejDialog.find("div.e-resize-handle").outerHeight()),Math.floor(this.contentDiv.outerHeight())===Math.floor(this.scroller._vScrollbar.model.height+1))&&(this.scroller._vScrollbar.model.height-=n+i,this.scroller._vScrollbar._scrollData.handle-=n,this.scroller._vScrollbar._scrollData.handleSpace-=n+i,this.scroller._vScrollbar._updateLayout(this.scroller._vScrollbar._scrollData),this.scroller._vScrollbar.element.find("> div.e-vscroll").height(e-n-i)),this.scroller._vScrollbar&&this.scroller._vScrollbar._scrollData||!this.scroller._hScrollbar||!this.scroller._hScrollbar._scrollData||!this.model.enableResize||(n=this.model.showFooter?(t=this.scroller._hScrollbar.element.find("> div.e-hscroll").width(),i=0):(t=this.scroller._hScrollbar.element.find("> div.e-hscroll").width(),i=2,this._ejDialog.find("div.e-resize-handle").outerWidth()),this.scroller._hScrollbar.model.width-=n+i,this.scroller._hScrollbar._scrollData.handle-=n+i,this.scroller._hScrollbar._scrollData.handleSpace-=n+i,this.scroller._hScrollbar._updateLayout(this.scroller._hScrollbar._scrollData),this.scroller._hScrollbar.element.find("> div.e-hscroll").width(t-n-i)))},_dialogMaxZindex:function(){var e,i=this.element.parents(),t=a("body").children();return index=t.index(this.popup),t.splice(index,1),a(t).each(function(e,t){i.push(t)}),t=a(this.model.target).children(),cindex=t.index(this.popup),t.splice(cindex,1),a(t).each(function(e,t){i.push(t)}),!(e=Math.max.apply(e,a.map(i,function(e){if("static"!=a(e).css("position"))return parseInt(a(e).css("z-index"))||1})))||e<1e4?e=1e4:e+=1,e},_setZindex:function(){var e=this._dialogMaxZindex();this.model.zIndex<=e&&this._ejDialog.css({zIndex:e+1})},_createOverlay:function(){var e=this._ejDialog.css("zIndex"),e=(s.isNullOrUndefined(this._overLay)||this._overLay.remove(),this._overLay=s.buildTag("div#"+this.element.attr("id")+"_overLay.e-overlay","",{zIndex:e-1}),s.isNullOrUndefined(this.model.containment)||s.isNullOrUndefined(this._target)?s.isNullOrUndefined(this.model.target)||(i=this.model.target):i=this._target,this._overLay.appendTo(s.isNullOrUndefined(i)?document.body:i),s.isNullOrUndefined(this.model.containment)||s.isNullOrUndefined(this._target)?"fixed":"absolute"),t=s.isNullOrUndefined(i)||"fixed"==e||"static"!=a(i).css("position").toLowerCase()?0:a(i).offset().left,i=s.isNullOrUndefined(i)||"fixed"==e||"static"!=a(i).css("position").toLowerCase()?0:a(i).offset().top;this._overLay.css({top:i,left:t,position:e})},_sendAjaxOptions:function(t,i){t.addClass("e-load");var n=this,o=this.model.title,e={success:function(e){try{n._ajaxSuccessHandler(e,t,i,o)}catch(e){}},error:function(e){try{n._ajaxErrorHandler({status:e.status,responseText:e.responseText,statusText:e.statusText},t,i,o)}catch(e){}},complete:function(){try{n._setContainerSize(),n._resetScroller(),n.model.showOnInit||n._setHiddenDialogSize()}catch(e){}}};a.extend(!0,e,this.model.ajaxSettings),this._sendAjaxRequest(e)},_setHiddenDialogSize:function(){this._isOpen||(this._ejDialog.css({display:"block",visibility:"hidden"}),this._setContainerSize()._resetScroller(),this._ejDialog.css({display:"none",visibility:""}))},_sendAjaxRequest:function(e){a.ajax({type:e.type,cache:e.cache,url:e.url,dataType:e.dataType,data:e.data,contentType:e.contentType,async:e.async,success:e.success,error:e.error,beforeSend:e.beforeSend,complete:e.complete})},_ajaxSuccessHandler:function(e,t,i){t.removeClass("e-load"),t.html(e).addClass("e-dialog-loaded").appendTo(this._ejDialog),t.appendTo(this.contentDiv),this._dialogPosition(),this.model.showOnInit&&this.open(),this._trigger("ajaxSuccess",{data:e,url:i})},_ajaxErrorHandler:function(e,t,i){t.addClass("e-dialog-loaded").appendTo(this.contentDiv),this._dialogPosition().open(),this._trigger("ajaxError",{data:e,url:i})},_closeIcon:function(){this._dialogClose=s.util.buildTag("div#"+this.element[0].id+"_closebutton.e-dialog-icon e-icon e-close",null,null).attr("tabIndex","0"),"close"==this.model.closeIconTooltip&&"Close"==this.model.tooltip.close?this._dialogClose.appendTo(this._dialogTitlebar).attr("title",this.model.tooltip.close):"close"!=this.model.closeIconTooltip&&"Close"==this.model.tooltip.close?this._dialogClose.appendTo(this._dialogTitlebar).attr("title",this.model.closeIconTooltip):("close"==this.model.closeIconTooltip&&this.model.tooltip.close,this._dialogClose.appendTo(this._dialogTitlebar).attr("title",this.model.tooltip.close)),this._on(this._dialogClose,"touchstart click",this._closeClick)},_collapsibleIcon:function(){this._dialogCollapsible=s.util.buildTag("div#"+this.element[0].id+"_collapsbutton.e-dialog-icon e-icon",null,null).attr("tabIndex","0"),this._collapsible?this._dialogCollapsible.appendTo(this._dialogTitlebar).attr("title",this.model.tooltip.expand).addClass("e-arrowhead-down").removeClass("e-arrowhead-up"):this._dialogCollapsible.appendTo(this._dialogTitlebar).attr("title",this.model.tooltip.collapse).addClass("e-arrowhead-up").removeClass("e-arrowhead-down"),this._on(this._dialogCollapsible,"touchstart click",this._collapsibleClick)},_maximizeIcon:function(){this._dialogMaximize=s.util.buildTag("div#"+this.element[0].id+"_maximizebutton.e-dialog-icon e-icon",null,null).attr("tabIndex","0"),this._maximize?this._dialogMaximize.appendTo(this._dialogTitlebar).attr("title",this.model.tooltip.restore).addClass("e-restore").removeClass("e-maximize"):this._dialogMaximize.appendTo(this._dialogTitlebar).attr("title",this.model.tooltip.maximize).addClass("e-maximize").removeClass("e-restore"),this._on(this._dialogMaximize,"touchstart click",this._maximizeClick)},_minimizeIcon:function(){this._dialogMinimize=s.util.buildTag("div#"+this.element[0].id+"_minimizebutton.e-dialog-icon e-icon",null,null).attr("tabIndex","0"),this._minimize?this._dialogMinimize.appendTo(this._dialogTitlebar).attr("title",this.model.tooltip.restore).addClass("e-restore").removeClass("e-minus"):this._dialogMinimize.appendTo(this._dialogTitlebar).attr("title",this.model.tooltip.minimize).addClass("e-minus").removeClass("e-restore"),this._on(this._dialogMinimize,"touchstart click",this._minimizeClick)},_pinIcon:function(){this._dialogPin=s.util.buildTag("div#"+this.element[0].id+"_pinbutton.e-dialog-icon e-icon",null,null).attr("tabIndex","0"),this._dialogPin.appendTo(this._dialogTitlebar).attr("title",this.dialogPin?this.model.tooltip.unPin:this.model.tooltip.pin).addClass(this.dialogPin?"e-pin":"e-unpin").removeClass(this.dialogPin?"e-unpin":"e-pin"),this._on(this._dialogPin,"touchstart click",this._pinClick)},_favIcon:function(){var e;this._dialogFavIcon?e=this._dialogFavIcon.find("span").removeClass().addClass("e-dialog-custom"):(this._dialogFavIcon=s.util.buildTag("div.e-dialog-favicon","",{},{style:"float:"+(this.model.enableRTL?"right":"left")}),(e=s.util.buildTag("span.e-dialog-custom","",{},{role:"presentation"})).appendTo(this._dialogFavIcon),this._dialogFavIcon.appendTo(this._dialogTitlebar)),this.model.faviconCSS?e.addClass(this.model.faviconCSS):this._dialogFavIcon.remove(),this._dialogFavIcon.css("float",this.model.enableRTL?"right":"left")},_minMaxValidation:function(){var e=parseInt(this.model.minWidth),t=parseInt(this.model.minHeight),i=parseInt(this.model.maxWidth),n=parseInt(this.model.maxHeight),o=parseInt(this.model.width),s=parseInt(this.model.height),r=this._getParentObj();isNaN(this.model.minWidth)&&0<this.model.minWidth.indexOf("%")&&(e=this._convertPercentageToPixel(r.outerWidth(),e)),isNaN(this.model.minHeight)&&0<this.model.minHeight.indexOf("%")&&(t=this._convertPercentageToPixel(r.outerHeight(),t)),isNaN(this.model.maxWidth)&&0<this.model.maxWidth.indexOf("%")&&(i=this._convertPercentageToPixel(r.innerWidth(),i)),isNaN(this.model.maxHeight)&&0<this.model.maxHeight.indexOf("%")&&(n=this._convertPercentageToPixel(r.innerHeight(),n)),isNaN(this.model.width)&&0<this.model.width.indexOf("%")&&(o=this._convertPercentageToPixel(r.innerWidth(),o)),isNaN(this.model.height)&&0<this.model.height.indexOf("%")&&(s=this._convertPercentageToPixel(r.innerHeight(),s)),(i&&i<o||e&&o<e)&&(this.model.width=i<o?i:e),(n&&n<s||t&&s<t)&&(this.model.height=n<s?n:t)},_setSize:function(){var e=this.model;return this._minMaxValidation(),this._ejDialog.css({width:e.width,minWidth:e.minWidth,maxWidth:e.maxWidth}),this._ejDialog.css({height:e.height,minHeight:e.minHeight,maxHeight:e.maxHeight}),this._dialogPosition(),this},_resetScroller:function(){this.element.css({height:"auto","max-width":"","max-height":"",width:""});var e=this._ejDialog.outerHeight(!0)-(this.model.showHeader?a(this._ejDialog.find("div.e-titlebar")).outerHeight(!0):0)-(this.model.showFooter?a(this._ejDialog.find("div.e-footerbar")).outerHeight(!0):0),e={width:this._ejDialog.width()-2,enableRTL:this.model.enableRTL,height:e,enableTouchScroll:!1};"auto"!=this.model.height||!(this.element.height()<this.model.maxHeight)&&this.model.maxHeight||this._maximize||(e.height="auto"),"auto"!=this.model.width||this._maximize||(e.width=this.model.width),this.contentDiv.ejScroller(e),this.scroller=this.contentDiv.data("ejScroller"),this._reRenderScroller(),this._padding=parseInt(a(this.element).css("padding-top"))+parseInt(a(this.element).css("padding-bottom")),"none"==a(this._ejDialog).css("display")&&(this.hidden=!0,this._ejDialog.css({display:"block"})),!s.isNullOrUndefined(this.contentDiv.height())&&0<this.contentDiv.height()&&(e=s.isNullOrUndefined(this.scroller)?this.contentDiv.outerHeight()-this._padding:(this.scroller._hScrollbar||!this.scroller._vScrollbar)&&this.scroller._hScrollbar?this.contentDiv.outerHeight()-this.scroller.model.buttonSize:this.contentDiv.outerHeight(),"auto"!=this.model.height&&"100%"!=this.model.height?this.element.css({height:e}):this.element.css("height",this.model.height),"auto"!=this.model.height&&"100%"!=this.model.height||this.scroller._vScrollbar||this.element.css({"min-height":this.model.minHeight-(this.model.showHeader?a(this._ejDialog.find("div.e-titlebar")).outerHeight(!0):0)}),this.scroller._vScrollbar||"auto"==this.model.width||"100%"==this.model.width?this.scroller._vScrollbar||this.element.css("width",this.model.width):this.element.outerWidth(this._ejDialog.width()-2),this.element.css({"max-width":this.model.maxWidth,"max-height":this.model.maxHeight})),this.hidden&&this._ejDialog.css({display:"none"}),this.hidden=!1},_updateScroller:function(e,t){this.contentDiv.ejScroller({width:t,height:e,enableRTL:this.model.enableRTL,enableTouchScroll:!1}),this.scroller=this.contentDiv.data("ejScroller"),this._reRenderScroller(),this._changeSize()},_dragDialog:function(){var i=this;this._ejDialog.parents(".e-dialog-scroller");return this._dialogTitlebar.ejDraggable({handle:".e-titlebar",cursorAt:{top:0,left:0},dragArea:i._target,dragStart:function(e){return e.element.attr("aria-grabbed",!0),i._clickHandler(),i.dialogPin||!i.model.allowDraggable||!i.model.enabled||i._trigger("dragStart",{event:e})?!(e.cancel=!0):void 0},drag:function(e){i._trigger("drag",{event:e})},dragStop:function(e){i._ejDialog.focus(),e.element.attr("aria-grabbed",!1),i.element.find("> .e-draggable.e-titlebar")&&(dragobject=a("#"+i.element.find("> .e-draggable.e-titlebar").attr("id")).data("ejDraggable"))&&dragobject.option("cursorAt",i.element.offset());var t=this.helper.offsetParent().offset();i._trigger("dragStop",{event:e}),i.model.position.X=s.isNullOrUndefined(this.position.left)?parseInt(this.helper.css("left")):this.position.left-[t.left+parseFloat(this.helper.offsetParent().css("border-left-width"))],i.model.position.Y=s.isNullOrUndefined(this.position.top)?parseInt(this.helper.css("top")):this.position.top-[t.top+parseFloat(this.helper.offsetParent().css("border-top-width"))]},helper:function(){return a(i._ejDialog).addClass("dragClone")}}),this},_resizeDialog:function(){var i,n,e,t,o,s,r;if(this.model.enableResize)return i=this,n=!1,e=parseInt(this.model.minWidth),t=parseInt(this.model.minHeight),o=parseInt(this.model.maxWidth),s=parseInt(this.model.maxHeight),r=this._getParentObj(),isNaN(this.model.minWidth)&&0<this.model.minWidth.indexOf("%")&&(e=this._convertPercentageToPixel(r.outerWidth(),e)),isNaN(this.model.minHeight)&&0<this.model.minHeight.indexOf("%")&&(t=this._convertPercentageToPixel(r.outerHeight(),t)),isNaN(this.model.maxWidth)&&0<this.model.maxWidth.indexOf("%")&&(o=this._convertPercentageToPixel(r.innerWidth(),o)),isNaN(this.model.maxHeight)&&0<this.model.maxHeight.indexOf("%")&&(s=this._convertPercentageToPixel(r.innerHeight(),s)),this._ejDialog.find("div.e-resize-handle").ejResizable({minHeight:t,minWidth:e,maxHeight:s,maxWidth:o,handle:"e-widget-content",resizeStart:function(e){if(!i.model.enabled)return!1;n||i._trigger("resizeStart",{event:e}),n=!0,i.model.position={X:i._ejDialog.css("left"),Y:i._ejDialog.css("top")},i._dialogPosition()},resize:function(e){var t=a(e.element).parents("div.e-dialog-wrap");i.model.height=a(t).outerHeight(),i.model.width=a(t).outerWidth(),i._setSize(),i._setContainerSize(),i._resetScroller(),i._updateCaptionWidth(),i._trigger("resize",{event:e}),i._sizeType={width:"px",height:"px"},(scrObj=i._ejDialog.closest(".e-dialog.e-js").data("ejDialog"))&&scrObj._resetScroller()},resizeStop:function(e){i._ejDialog.focus(),i._sizeInPercent();var t=a(e.element).parents("div.e-dialog-wrap");i.model.height=a(t).outerHeight(),i.model.width=a(t).outerWidth(),i._setSize(),i._setContainerSize(),i._resetScroller(),n&&i._trigger("resizeStop",{event:e}),n=!1,i._setDimension()},helper:function(){return a(i._ejDialog)}}),this},_dialogPosition:function(){return 0<this._ejDialog.parents("form").length&&s.isNullOrUndefined(this.model.containment)&&s.isNullOrUndefined(this.model.target)&&this._ejDialog.appendTo(this._ejDialog.parents("form")),""!=this.model.position.X||""!=this.model.position.Y?(this._ejDialog.css("position","absolute"),this._ejDialog.css("left",this.model.position.X),this._ejDialog.css("top",this.model.position.Y)):this._centerPosition(),this},_centerPosition:function(){var e,t,i,n=0,o=0;s.isNullOrUndefined(this.model.target)&&(s.isNullOrUndefined(this._target)||a(this._target).is(a(document))||a(this._target).is(a(window)))?(i=document.documentElement,n=(a(window).outerWidth()>this._ejDialog.width()?(a(window).outerWidth()-this._ejDialog.outerWidth())/2:0)+(window.pageXOffset||i.scrollLeft),o=(a(window).outerHeight()>this._ejDialog.height()?(a(window).outerHeight()-this._ejDialog.outerHeight())/2:0)+(window.pageYOffset||i.scrollTop)):("static"==(i=s.isNullOrUndefined(this._target)?a(this.model.target):a(this._target)).css("position")&&(e=i.offsetParent().offset(),n=(t=i.offset()).left-e.left,o=t.top-e.top),i.outerWidth()>this._ejDialog.width()&&(n+=(i.outerWidth()-this._ejDialog.width())/2),i.outerHeight()>this._ejDialog.height()&&(o+=(i.outerHeight()-this._ejDialog.height())/2)),this._ejDialog.css({top:o,left:n}),this._ejDialog.css("position","absolute")},_closeClick:function(e){this.model.enabled&&(e.stopPropagation(),this.close(e))},_collapsibleClick:function(e){this.model.enabled&&(a(e.target).hasClass("e-arrowhead-up")?this._actionCollapse(e):a(e.target).hasClass("e-arrowhead-down")&&this._actionExpand(e))},_actionCollapse:function(e){this._minimize||(this._dialogCollapsible&&this._dialogCollapsible.removeClass("e-arrowhead-up").addClass("e-arrowhead-down"),this._dialogCollapsible&&this._dialogCollapsible.attr("title",this.model.tooltip.expand),this._ejDialog.find("div.e-resize-handle").hide(),this._ejDialog.find(".e-widget-content").parent().slideUp("fast"),this.model.showFooter&&this._dialogFooterbar.slideUp("fast"),this._ejDialog.removeClass("e-shadow"),this._ejDialog.css("minHeight","0"),this._ejDialog.height("auto"),this._trigger("collapse",{isInteraction:!!e}),this._collapsible=!0)},_actionExpand:function(e){this._minimize||(this._dialogCollapsible&&this._dialogCollapsible.removeClass("e-arrowhead-down").addClass("e-arrowhead-up"),this._dialogCollapsible&&this._dialogCollapsible.attr("title",this.model.tooltip.collapse),this._ejDialog.addClass("e-shadow"),this._ejDialog.find(".e-widget-content").parent().slideDown("fast"),this.model.showFooter&&this._dialogFooterbar.slideDown("fast"),this._maximize?(this._ejDialog.css({width:"100%",height:"100%"}),this.element.css({width:"100%",height:"100%"}),this.contentDiv.css({width:"100%",height:"100%"})):this._ejDialog.height(this.model.height),this._ejDialog.find("div.e-resize-handle").show(),this._trigger("expand",{isInteraction:!!e}),this._collapsible=!1)},_maximizeClick:function(e){var t;this.model.enabled&&(e=a(e.target),t=this._dialogMaximize,e.hasClass("e-maximize")?(this._actionMaximize(),this._dialogTitlebar&&(this._dialogTitlebar.find(".e-restore").removeClass("e-restore").addClass("e-minus"),this._dialogMinimize)&&this._dialogMinimize.attr("title",this.model.tooltip.minimize),e.removeClass("e-maximize").addClass("e-restore"),this._dialogMaximize.attr("title",this.model.tooltip.restore),this._hideIcon(!0)):e.hasClass("e-restore")&&(this._actionRestore(),e.removeClass("e-restore").addClass("e-maximize"),this._dialogMaximize.attr("title",this.model.tooltip.maximize),!s.isNullOrUndefined(t)&&a(t).hasClass("e-arrowhead-down")&&(a(t).removeClass("e-arrowhead-down").addClass("e-arrowhead-up"),this._dialogMaximize.attr("title",this.model.tooltip.collapse)),this._hideIcon(!0))),this._resetScroller()},_actionMaximize:function(){this._ejDialog.css("top","0px").css("left","0px").css("overflow","hidden").css("position",this.model.containment||this.model.target?"absolute":"fixed"),this._ejDialog.css({width:"100%",height:"100%"}),this.element.css({width:"100%",height:"100%"}),this.contentDiv.css({width:"100%",height:"100%"}),this._maximize=!0,this._minimize=!1;var e=this;this._dialogCollapsible&&!s.isNullOrUndefined(this._dialogCollapsible.hasClass("e-arrowhead-down"))&&(this._dialogCollapsible.removeClass("e-arrowhead-down").addClass("e-arrowhead-up"),this._dialogCollapsible.attr("title",this.model.tooltip.collapse),this._collapseValue=!0),1==this._collapseValue&&this._ejDialog.find(".e-widget-content").parent().slideDown("fast",function(){e.refresh(),e._reRenderScroller()}),this._resetScroller()},_actionRestore:function(){this.element.height("").width(""),this.contentDiv.height("").width(""),this._restoreDialog(),this._maximize=this._minimize=!1},_minimizeClick:function(e){var t;this.model.enabled&&(e=a(e.target),t=this._dialogMinimize.hasClass("e-icon")&&this._dialogMinimize,e.hasClass("e-minus")?(this._maximize&&this._setSize(),this._actionMinimize()):e.hasClass("e-restore")&&(this._actionRestore(),e.removeClass("e-restore").addClass("e-minus"),this._dialogMinimize.attr("title",this.model.tooltip.minimize),!s.isNullOrUndefined(t)&&a(t).hasClass("e-arrowhead-down")&&(a(t).removeClass("e-arrowhead-down").addClass("e-arrowhead-up"),this._dialogMinimize.attr("title",this.model.tooltip.collapse)),this._hideIcon(!0)))},_actionMinimize:function(){var e;a(window).height(),this._ejDialog.height(),this.element.height();this._ejDialog.css("top","").css("bottom","0").css("left","0").css("position",this.model.containment||this.model.target?"absolute":"fixed"),this._ejDialog.css("minHeight","0"),this._dialogTitlebar?(this._dialogTitlebar.find(".e-restore").removeClass("e-restore").addClass("e-maximize"),this._dialogMaximize&&this._dialogMaximize.attr("title",this.model.tooltip.maximize),this._dialogTitlebar.find(".e-minus").removeClass("e-minus").addClass("e-restore"),this._dialogMinimize&&this._dialogMinimize.attr("title",this.model.tooltip.restore),this._isOpen?e=this._dialogTitlebar.outerHeight():(this._ejDialog.css({display:"block",visibility:"hidden"}),e=this._dialogTitlebar.outerHeight(),this._ejDialog.css({display:"none",visibility:""})),this._ejDialog.css("height",e+2),this._hideIcon(!1)):this._ejDialog.css("height",""),this.contentDiv.hide(),this.model.showFooter&&this._dialogFooterbar.hide(),this._maximize=!1,this._minimize=!0},_hideIcon:function(e){var t=this._dialogCollapsible||null;e?(s.isNullOrUndefined(t)||a(t).parent(".e-dialog-icon").show(),this._ejDialog.find("div.e-resize-handle").show()):(s.isNullOrUndefined(t)||a(t).parent(".e-dialog-icon").hide(),this._ejDialog.find("div.e-resize-handle").hide())},_pinClick:function(e){this.model.enabled&&((e=a(e.target)).hasClass("e-unpin")?(this.dialogPin=!0,e.removeClass("e-unpin").addClass("e-pin"),this._dialogPin.attr("title",this.model.tooltip.unPin)):e.hasClass("e-pin")&&(this.dialogPin=!1,e.removeClass("e-pin").addClass("e-unpin"),this._dialogPin.attr("title",this.model.tooltip.pin)))},_restoreDialog:function(){this.contentDiv.show(),this.model.showFooter&&this._dialogFooterbar.show(),this._ejDialog.css({position:"absolute",bottom:""}).addClass("e-shadow"),this._setSize()._resetScroller(),this._dialogTitlebar&&(this._dialogTitlebar.find(".e-minus").parent().show(),this._dialogCollapsible)&&(this._dialogCollapsible.removeClass("e-arrowhead-down").addClass("e-arrowhead-up"),this._dialogCollapsible.attr("title",this.model.tooltip.collapse))},_clickHandler:function(){var e=this._dialogMaxZindex();parseInt(this._ejDialog.css("zIndex"))<e&&this._ejDialog.css({zIndex:e+1})},_mouseClick:function(e){e.currentTarget==this._id&&(a(e.target).hasClass("e-dialog")||a(e.target).hasClass("e-icon e-resize-handle"))&&(this._setZindex(),a(e.target).closest(".e-dialog.e-widget").focus())},_keyDown:function(e){code=e.keyCode||e.which||e.charCode,this.model.allowKeyboardNavigation&&this.model.enabled&&a(e.target).hasClass("e-dialog")&&-1<a.inArray(code,this.keyConfigs)&&this.model.allowDraggable&&!this.dialogPin&&(this._keyPressed(code,e.ctrlKey),e.preventDefault()),this.model.closeOnEscape&&27===code&&this.model.enabled&&(this.element.find(".e-js.e-dialog").first().is(":visible")||(this.close(e),e.preventDefault())),13===code&&this.model.enabled&&(a(e.target).hasClass("e-close")?this.close(e):(a(e.target).hasClass("e-arrowhead-up")||a(e.target).hasClass("e-arrowhead-down"))&&this._collapsibleClick(e),a(e.target).hasClass("e-maximize")||a(e.target).hasClass("e-restore")&&a(e.target).is(this._dialogMaximize)?this._maximizeClick(e):(a(e.target).hasClass("e-minus")||a(e.target).hasClass("e-restore")&&a(e.target).is(this._dialogMinimize))&&this._minimizeClick(e),a(e.target).hasClass("e-pin")||a(e.target).hasClass("e-unpin"))&&this._pinClick(e),9==code&&this.model.enableModal&&this._focusOnTab(e)},_focusOnTab:function(e){var t=this._ejDialog.find("a, button, :input, select, [tabindex]:not('-1')"),t=a(t).find("a, button, :input, select, [tabindex]:not('')");e.shiftKey?t[t.index(e.target)-1]||(e.preventDefault(),t.last().focus()):t[t.index(e.target)+1]||(e.preventDefault(),t[0].focus())},_keyPressed:function(e,t){switch(e){case 40:t?this._resizing("height",this._ejDialog.outerHeight()+3):this.option("position",{X:this._ejDialog.position().left,Y:this._ejDialog.position().top+3});break;case 39:t?this._resizing("width",this._ejDialog.outerWidth()+3):this.option("position",{X:this._ejDialog.position().left+3,Y:this._ejDialog.position().top});break;case 38:t?this._resizing("height",this._ejDialog.outerHeight()-3):this.option("position",{X:0==this._ejDialog.position().left?0:this._ejDialog.position().left,Y:3<this._ejDialog.position().top?this._ejDialog.position().top-3:0});break;case 37:t?this._resizing("width",this._ejDialog.outerWidth()-3):this.option("position",{X:3<this._ejDialog.position().left?this._ejDialog.position().left-3:0,Y:0==this._ejDialog.position().top?0:this._ejDialog.position().top})}},_resizing:function(e,t){this.model.enableResize&&this.option(e,t)},_sizeInPercent:function(){var e;return this._enableWindowResize()&&(e=this._getParentObj(),this._widthPercent="%"==this._sizeType.width?parseFloat(this.model.width):this._convertPixelToPercentage(e.outerWidth(),this._ejDialog.outerWidth()),this._heightPercent="%"==this._sizeType.height?parseFloat(this.model.height):this._convertPixelToPercentage(e.outerHeight(),this._ejDialog.outerHeight()),100<=this._widthPercent&&(this._widthPercent=100,this._ejDialog.outerWidth(e.outerWidth()),this.model.width=this._ejDialog.width()),100<=this._heightPercent)&&(this._heightPercent=100,this._ejDialog.outerHeight(e.outerHeight()),this.model.height=this._ejDialog.height()),this},_getParentObj:function(){return s.isNullOrUndefined(this.model.containment)?s.isNullOrUndefined(this.model.target)?a(document):a(this.model.target):a(this.model.containment)},_convertPercentageToPixel:function(e,t){return Math.round(t*e/100)},_convertPixelToPercentage:function(e,t){return Math.round(t/e*100)},_reSizeHandler:function(){var e;this._maximize?this._resetScroller():(this._minimize||this._centerPosition(),e=this._getParentObj(),this._change=!1,this._windowSize.outerWidth!=a(window).outerWidth()?"%"==this._sizeType.width?this._percentageWidthDimension(e):this._pixelsWidthDimension(e):this._windowSize.outerHeight!=a(window).outerHeight()&&("%"==this._sizeType.height?this._percentageHeightDimension(e):this._pixelsHeightDimension(e)),this._change&&this._resizeContainer(e),this._windowSize={outerWidth:a(window).outerWidth(),outerHeight:a(window).outerHeight()})},_setDimension:function(){s.isNullOrUndefined(this.model.maxWidth)?s.isNullOrUndefined(this._sizeType.width)?this._maxWidth=+this.model.width:"px"!=this._sizeType.width&&"auto"!=this._sizeType.width||(this._maxWidth=this.model.width):this._maxWidth=this.model.maxWidth,s.isNullOrUndefined(this.model.maxHeight)?s.isNullOrUndefined(this._sizeType.height)?this._maxHeight=+this.model.height:"px"!=this._sizeType.height&&"auto"!=this._sizeType.height||(this._maxHeight=this.model.height):this._maxHeight=this.model.maxHeight},_percentageWidthDimension:function(e){this._ejDialog.outerWidth(this._convertPercentageToPixel(e.outerWidth(),this._widthPercent)),this._change=!0},_percentageHeightDimension:function(e){this._ejDialog.outerHeight(this._convertPercentageToPixel(e.outerHeight(),this._heightPercent)),this._change=!0},_pixelsWidthDimension:function(e){a(e).outerWidth()<=this._ejDialog.outerWidth()&&this._setWidth(e),a(e).outerHeight()<=this._ejDialog.outerHeight()&&this._setHeight(e),parseInt(this._ejDialog.css("width"))<parseInt(this._maxWidth)&&(parseInt(this._maxWidth)<a(e).outerWidth()?this._ejDialog.outerWidth(parseInt(this._maxWidth)):this._ejDialog.outerWidth(e.outerWidth()),this._change=!0)},_pixelsHeightDimension:function(e){a(e).outerHeight()<=this._ejDialog.outerHeight()&&this._setHeight(e),a(e).outerWidth()<=this._ejDialog.outerWidth()&&this._setWidth(e),parseInt(this._ejDialog.css("height"))<parseInt(this._maxHeight)&&(parseInt(this._maxHeight)<a(e).outerHeight()?this._ejDialog.outerWidth(parseInt(this._maxHeight)):this._ejDialog.outerHeight(e.outerHeight()),this._change=!0)},_setWidth:function(e){this._ejDialog.outerWidth(e.outerWidth()),this._change=!0},_setHeight:function(e){this._ejDialog.outerHeight(e.outerHeight()),this._change=!0},_resizeContainer:function(){this.contentDiv.width(this._ejDialog.width()),this.element.outerWidth(this.contentDiv.width()),this.contentDiv.height(this._ejDialog.height()-(this.model.showHeader?a(this._ejDialog.find("div.e-titlebar")).outerHeight(!0):0)-1),this.element.outerHeight(this._ejDialog.height()-(this.model.showHeader?a(this._ejDialog.find("div.e-titlebar")).outerHeight(!0):0)-1),this.scroller=this.contentDiv.ejScroller({width:this._ejDialog.width()-2,height:this.element.outerHeight(),rtl:this.model.rtl,enableTouchScroll:!1}),this.scroller=this.contentDiv.data("ejScroller"),this._reRenderScroller(),this._minimize?this._ejDialog.css("height",this._dialogTitlebar.outerHeight()):this._centerPosition(),this._updateCaptionWidth(),this._change=!1},_getLocalizedLabels:function(){return s.getLocalizedConstants(this.sfType,this.model.locale)},_enableWindowResize:function(){return!!(this.model.isResponsive||isNaN(this.model.width)&&0<this.model.width.indexOf("%")&&isNaN(this.model.height)&&0<this.model.height.indexOf("%")&&"auto"!=this.model.height)},_wireResizing:function(){a(window)[this._enableWindowResize()?"on":"off"]("resize",a.proxy(this._reSizeHandler,this))},_wireEvents:function(){this._on(this._ejDialog,"keydown",this._keyDown),this._on(this._ejDialog,"click",this._mouseClick),this._wireResizing()},refresh:function(){this._resetScroller()},open:function(){var e,t,i,n;return!!this._isOpen||1!=this._trigger("beforeOpen")&&(this.element.css("display","block"),this._setZindex(),this._minimize||this._maximize||this._init||this._dialogPosition(),t={},(e=this)._ejDialog.show(),this.model.enableAnimation&&(this._ejDialog.css({opacity:0}),t="slide"==this.model.animation.show.effect?(n=this._ejDialog.css("left"),this._ejDialog.css({left:-this._ejDialog.width()}),{left:n,opacity:1}):{opacity:1}),this._ejDialog.animate(t,this.model.enableAnimation?Number(this.model.animation.show.duration):0,function(){e.model&&("none"==e._ejDialog.css("display")&&e._ejDialog.show(),e._ejDialog.eq(0).focus(),e._ejDialog.css({opacity:""}),e.contentDiv.find("a:visible:enabled, button:visible:enabled, :input:visible:enabled, select:visible:enabled, .e-input").first().focus(),e._trigger("open"),e._updateCaptionWidth(),e.model.maxHeight||e.model.maxWidth)&&(i=e._ejDialog.outerHeight(!0)-(e._dialogTitlebar?e._dialogTitlebar.outerHeight(!0):0),"auto"!=e.model.height&&"100%"!=e.model.height||(i=e.model.height),e._updateScroller(i,e._ejDialog.width()-2))}),1==this.model.enableModal&&this._createOverlay(),this._isOpen=!0,this.element.find("> .e-draggable.e-titlebar")&&(dragobject=a("#"+this.element.find("> .e-draggable.e-titlebar").attr("id")).data("ejDraggable"))&&dragobject.option("cursorAt",this.element.offset()),this)},close:function(e){var t,i,n;return!this._isOpen||!this.model.enabled||1!=this._trigger("beforeClose",{event:e,isInteraction:t=!!e})&&(this._isOpen=!1,n={},(i=this).model.enableAnimation&&(n="slide"==this.model.animation.hide.effect?{left:-this._ejDialog.width(),opacity:0}:{opacity:0}),this._ejDialog.animate(n,this.model.enableAnimation?Number(this.model.animation.hide.duration):0,function(){i._trigger("close",{event:e,isInteraction:t}),i._ejDialog.hide()}),this.model.enableModal&&this._overLay&&this._overLay.remove(),this)},isOpened:function(){return this.isOpen()},isOpen:function(){return this._isOpen},setTitle:function(e){return this.model.title=e,this._titleText.text(e),this._updateCaptionWidth(),this},setContent:function(e){return!!this.model.enabled&&(this.element.html(e),this._resetScroller(),this)},focus:function(){return this._setZindex(),this.element.focus(),this},minimize:function(){if(this.model.showHeader)return this._actionMinimize(),a(this.wrapper.find(".e-minus")[0]).parent().hide(),this},maximize:function(){if(this.model.showHeader)return this._actionMaximize(),a(this.wrapper.find(".e-maximize")[0]).removeClass("e-maximize").addClass("e-restore"),a(this.wrapper.find(".e-restore")[1]).removeClass("e-restore").addClass("e-minus"),this._dialogMaximize&&this._dialogMaximize.attr("title",this.model.tooltip.restore),this.contentDiv.show(),this._dialogTitlebar&&this._dialogTitlebar.find(".e-minus").parent().show(),this._hideIcon(!0),this},restore:function(){var e;if(this.model.showHeader)return e=this._minimize,this._actionRestore(),a(this.wrapper.find(".e-restore")[0]).removeClass("e-restore").addClass(e?"e-minus":"e-maximize"),this._dialogMaximize&&this._dialogMaximize.attr("title",this.model.tooltip.maximize),this._hideIcon(!0),this},pin:function(){if(this.model.showHeader)return this.dialogPin=!0,a(this.wrapper.find(".e-unpin")[0]).removeClass("e-unpin").addClass("e-pin"),this._dialogPin&&this._dialogPin.attr("title",this.model.tooltip.unPin),this},unpin:function(){if(this.model.showHeader)return this.dialogPin=!1,a(this.wrapper.find(".e-pin")[0]).removeClass("e-pin").addClass("e-unpin"),this._dialogPin&&this._dialogPin.attr("title",this.model.tooltip.pin),this},collapse:function(){if(this.model.showHeader)return this._actionCollapse(),this._collapseValue=!0,this},expand:function(){if(this.model.showHeader)return this._actionExpand(),this}}),s.Dialog.Locale=s.Dialog.Locale||{},s.Dialog.Locale.default=s.Dialog.Locale["en-US"]={tooltip:{close:"Close",collapse:"Collapse",restore:"Restore",maximize:"Maximize",minimize:"Minimize",expand:"Expand",unPin:"UnPin",pin:"Pin"},closeIconTooltip:"close"}}),function(e){"function"==typeof define&&define.amd?define(["./../common/ej.core.min"],e):e()}(function(){var t,i;t=jQuery,(i=Syncfusion).widget("ejButton","ej.Button",{element:null,model:null,validTags:["button","input"],_setFirst:!1,_rootCSS:"e-button",_requiresID:!0,defaults:{size:"normal",type:"submit",height:"",width:"",enabled:!0,htmlAttributes:{},text:null,contentType:"textonly",imagePosition:"imageleft",showRoundedCorner:!1,cssClass:"",prefixIcon:null,suffixIcon:null,enableRTL:!1,repeatButton:!1,timeInterval:"150",create:null,click:null,destroy:null},dataTypes:{size:"enum",enabled:"boolean",type:"enum",showRoundedCorner:"boolean",text:"string",contentType:"enum",imagePosition:"enum",prefixIcon:"string",suffixIcon:"string",cssClass:"string",repeatButton:"boolean",enableRTL:"boolean",timeInterval:"string",htmlAttributes:"data"},disable:function(){this.element.addClass("e-disable").attr("aria-disabled",!0),this.model.enabled=!1},enable:function(){this.element.removeClass("e-disable").attr("aria-disabled",!1),this.model.enabled=!0},_init:function(){this._cloneElement=this.element.clone(),this._initialize(),this._render(),this._controlStatus(this.model.enabled),this._wireEvents(this.model.repeatButton),this._addAttr(this.model.htmlAttributes)},_addAttr:function(e){var i=this;t.map(e,function(e,t){"class"==t?i.element.addClass(e):i.element.attr(t,e),"disabled"==t&&"disabled"==e&&i.disable()})},_destroy:function(){this.element.removeClass(this.model.cssClass+"e-ntouch e-btn e-select e-disable e-corner e-widget").removeAttr("role aria-describedby aria-disabled"),this.element.removeClass("e-btn-"+this.model.size),this.model.contentType&&"textonly"!=this.model.contentType&&this.element.append(this._cloneElement.text())&&this.imgtxtwrap[0].remove()},_setModel:function(e){for(var t in e)switch(t){case"size":this._setSize(e[t]);break;case"height":this._setHeight(e[t]);break;case"width":this._setWidth(e[t]);break;case"contentType":this._setContentType(e[t]);break;case"imagePosition":this._setImagePosition(e[t]);break;case"text":this._setText(e[t]);break;case"prefixIcon":this._setMajorIcon(e[t]);break;case"suffixIcon":this._setMinorIcon(e[t]);break;case"enabled":this._controlStatus(e[t]);break;case"showRoundedCorner":this._roundedCorner(e[t]);break;case"cssClass":this._setSkin(e[t]);break;case"enableRTL":this._setRTL(e[t]);break;case"timeInterval":this.model.timeInterval=e[t];break;case"htmlAttributes":this._addAttr(e[t])}},_setSize:function(e){this.element.removeClass("e-btn-mini e-btn-medium e-btn-small e-btn-large e-btn-normal"),this.element.addClass("e-btn-"+e)},_setType:function(e){this.element.prop({type:e})},_setHeight:function(e){this.element.css("height",e)},_setWidth:function(e){this.element.css("width",e)},_setText:function(e){"inputButton"==this.buttonType?this.element.val(e):(this.model.contentType==i.ContentType.TextOnly?this.element:this.textspan).html(e),this.model.text=e},_setMajorIcon:function(e){this.majorimgtag.removeClass(this.model.prefixIcon),this.majorimgtag.addClass(e),this.model.prefixIcon=e},_setMinorIcon:function(e){this.minorimgtag.removeClass(this.model.suffixIcon),this.minorimgtag.addClass(e),this.model.suffixIcon=e},_setContentType:function(e){e!=this.model.contentType&&(this.element.empty(),this.model.contentType=e,this._renderButtonNormal())},_setImagePosition:function(e){this.model.contentType==i.ContentType.TextAndImage&&e!=this.model.imagePosition&&(this.element.empty(),this.model.imagePosition=e,this._renderButtonNormal())},_setRTL:function(e){e?this.element.addClass("e-rtl"):this.element.removeClass("e-rtl")},_controlStatus:function(e){e?this.enable():this.disable()},_setSkin:function(e){this.model.cssClass!=e&&(this.element.removeClass(this.model.cssClass),this.element.addClass(e))},_initialize:function(){i.isTouchDevice()||this.element.addClass("e-ntouch"),this.element.is("input")?this.buttonType="inputButton":this.element.is("a")||this.element.is("button")?this.buttonType="tagButton":this.element.removeClass("e-button"),this.element.attr("type")?this.model.type=this.element.attr("type"):this._setType(this.model.type),this._timeout=null},_render:function(){this._setSize(this.model.size),this._setHeight(this.model.height),this._setWidth(this.model.width),this._setRTL(this.model.enableRTL),this.element.addClass(this.model.cssClass+" e-btn e-select e-widget").attr("role","button"),"inputButton"==this.buttonType?(this.element.addClass("e-txt"),null!=this.model.text&&""!=this.model.text?this.element.val(this.model.text):this.model.text=this.element.val()):this._renderButtonNormal(),this._roundedCorner(this.model.showRoundedCorner),this.model.text&&this.element.attr("aria-describedby",this.model.text)},_renderButtonNormal:function(){if(null!=this.model.text&&""!=this.model.text||(this.model.text=this.element.html()),this.element.empty(),this.textspan=i.buildTag("span.e-btntxt",this.model.text),-1<this.model.contentType.indexOf("image")&&(this.majorimgtag=i.buildTag("span").addClass(this.model.prefixIcon),this.minorimgtag=i.buildTag("span").addClass(this.model.suffixIcon),this.imgtxtwrap=i.buildTag("div")),this.model.contentType==i.ContentType.TextAndImage){switch(this.model.imagePosition){case i.ImagePosition.ImageRight:this.imgtxtwrap.append(this.textspan,this.majorimgtag);break;case i.ImagePosition.ImageLeft:this.imgtxtwrap.append(this.majorimgtag,this.textspan);break;case i.ImagePosition.ImageBottom:this.majorimgtag.attr("style","display:inherit"),this.imgtxtwrap.append(this.textspan,this.majorimgtag);break;case i.ImagePosition.ImageTop:this.majorimgtag.attr("style","display:inherit"),this.imgtxtwrap.append(this.majorimgtag,this.textspan)}this.element.append(this.imgtxtwrap)}else this.model.contentType==i.ContentType.ImageTextImage?(this.imgtxtwrap.append(this.majorimgtag,this.textspan,this.minorimgtag),this.element.append(this.imgtxtwrap)):this.model.contentType==i.ContentType.ImageBoth?(this.imgtxtwrap.append(this.majorimgtag,this.minorimgtag),this.element.append(this.imgtxtwrap)):this.model.contentType==i.ContentType.ImageOnly?(this.imgtxtwrap.append(this.majorimgtag),this.element.append(this.imgtxtwrap)):(this.element.addClass("e-txt"),this.element.html(this.model.text))},_roundedCorner:function(e){1==e?this.element.addClass("e-corner"):this.element.removeClass("e-corner")},_wireEvents:function(e){e&&(this._on(this.element,"mousedown",this._btnRepatMouseClickEvent),this._on(t(document),"mouseup",this._mouseUpClick),this._on(this.element,"keyup",this._btnRepatKeyUpEvent),this._on(t(document),"keypress",this._btnRepatKeyDownEvent)),this._on(this.element,"click",this._btnMouseClickEvent)},_btnMouseClickEvent:function(e){if(!this.model.enabled)return!1;this.element.hasClass("e-disable")||(e={target:e.currentTarget,e:e,status:this.model.enabled},this._trigger("click",e))},_btnRepatMouseClickEvent:function(e){var t=this;if(!t.model.enabled)return!1;t.element.hasClass("e-disable")||(t.model.enabled,0!=e.button&&1!=e.which)||(t._timeout=setInterval(function(){t._trigger("click",{target:e.currentTarget,status:t.model.enabled})},this.model.timeInterval))},_mouseUpClick:function(){clearTimeout(this._timeout)},_btnRepatKeyDownEvent:function(e){var t;this.element.hasClass("e-disable")||(t={status:this.model.enabled},32!=e.keyCode&&13!=e.keyCode)||this._trigger("click",t)},_btnRepatKeyUpEvent:function(e){32!=e.keyCode&&13!=e.keyCode||clearTimeout(this._timeout)}}),i.ContentType={TextOnly:"textonly",ImageOnly:"imageonly",ImageBoth:"imageboth",TextAndImage:"textandimage",ImageTextImage:"imagetextimage"},i.ImagePosition={ImageRight:"imageright",ImageLeft:"imageleft",ImageTop:"imagetop",ImageBottom:"imagebottom"},i.ButtonSize={Normal:"normal",Mini:"mini",Small:"small",Medium:"medium",Large:"large"},i.ButtonType={Button:"button",Reset:"reset",Submit:"submit"}}),function(e){"function"==typeof define&&define.amd?define(["./../common/ej.core.min"],e):e()}(function(){"use strict";var i,e=this&&this.__extends||function(e,t){function i(){this.constructor=e}for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);e.prototype=null===t?Object.create(t):(i.prototype=t.prototype,new i)},e=(i=ej.WidgetBase,e(t,i),t.prototype.setModel=function(e,t){this.setModel(e,t)},t.prototype.option=function(e,t){this.option(e,t)},t.prototype.triggerEvents=function(e,t){var i;switch(e){case"click":case"hover":case"tracking":case"beforeOpen":case"open":i=this._trigger(e,t);break;case"beforeClose":case"close":i=this._trigger(e,t)}return i},t.prototype.enable=function(){this.tooltip.hasClass("e-disable")&&(this.model.enabled=!0,this.tooltip.removeClass("e-disable"))},t.prototype.disable=function(){this.tooltip.hasClass("e-disable")||(this.model.enabled=!1,this.tooltip.addClass("e-disable"))},t.prototype.show=function(e,t){var i;this.model.enabled&&(ej.isNullOrUndefined(e)?(i=null==this.model.target?this.element:$(this.element).find(this.model.target+":first"),this._positionElement(i)):this._positionElement(e),ej.isNullOrUndefined(t)?this._showTooltip():"string"==typeof t?$(this.tooltip).show(t):"function"==typeof t&&t.call.apply(this.tooltip))},t.prototype.hide=function(e){this.model.enabled&&(ej.isNullOrUndefined(e)?this._hideTooltip():"string"==typeof e?$(this.tooltip).hide(e):"function"==typeof e&&e.call.apply(this.tooltip))},t.prototype._destroy=function(){$(this.tooltip).remove(),this.tooltip=null},t.prototype._setModel=function(e){var t,i;for(t in e)switch(t){case"height":this._setHeight(e[t]);break;case"width":this._setWidth(e[t]);break;case"enabled":this._enabled(e[t]);break;case"content":this._setContent(e[t]);break;case"title":this.model.title=e[t],null==this.model.title?($(this.tooltipHeader).remove(),this.tooltipHeader=null,this.tooltipTitle=null,this.model.closeMode===ej.Tooltip.CloseMode.Sticky&&this._iconRender()):ej.isNullOrUndefined(this.tooltipHeader)?this._createHeader():$(this.tooltipTitle).html(this.model.title),this.tooltipPos.height=$(this.tooltip).outerHeight();break;case"associate":this.model.associate=e[t],this._wireMouseEvents(!1),this._wireMouseEvents(!0);break;case"position":this._setPosition(e[t]);break;case"collision":this.model.collision=e[t];break;case"closeMode":void 0!==e[t]&&(this.model.closeMode=e[t],this.model.closeMode==ej.Tooltip.CloseMode.Sticky?this._iconRender():($(this.tooltipClose).remove(),this.tooltipClose=null),this.tooltipPos.height=$(this.tooltip).outerHeight());break;case"cssClass":this._setSkin(e[t]);break;case"showShadow":this._shadowEffect(e[t],this.model.position);break;case"isBalloon":ej.isNullOrUndefined(e[t])||(this.model.isBalloon=e[t],this.model.isBalloon?this._renderArrow():($(this.tip).remove(),this.tip=null));break;case"animation":i=e[t],this.model.animation=$.extend(!0,this.model.animation,i),this.model.animation.effect!=ej.Tooltip.Effect.None?(this._off($(this.tooltip),"mouseenter",this._onTooltipMouseEnter),this._off($(this.tooltip),"mouseleave",this._onTooltipMouseLeave)):this.model.animation.effect==ej.Tooltip.Effect.None&&(this._on($(this.tooltip),"mouseenter",this._onTooltipMouseEnter),this._on($(this.tooltip),"mouseleave",this._onTooltipMouseLeave));break;case"enableRTL":this._setRTL(e[t]);break;case"target":this._wireTriggerEvents(!1),this.model.target=e[t],this._wireTriggerEvents(!0),this._renderTarget();break;case"trigger":this._setTrigger(e[t]);break;case"showRoundedCorner":this.model.showRoundedCorner=e[t],this._roundedCorner(e[t]);break;case"allowKeyboardNavigation":this.model.allowKeyboardNavigation=e[t],this.model.allowKeyboardNavigation?this._on($(window),"keydown",this._keyDown):this._off($(window),"keydown",this._keyDown)}},t.prototype._enabled=function(e){e?this.enable(e):this.disable(e),this.model.enabled=e},t.prototype._shadowEffect=function(e,t){this.model.showShadow=e;var i=null;if($(this.tooltip).removeClass("e-tooltipShadowLeft e-tooltipShadowRight"),this.model.showShadow){if(this.model.isBalloon)switch(t.stem.horizontal){case"center":i="top"!=t.stem.vertical&&"bottom"==t.stem.vertical?"e-tooltipShadowRight":"e-tooltipShadowLeft";break;case"right":i="center"==t.target.horizontal&&"top"==t.stem.vertical?"e-tooltipShadowLeft":"e-tooltipShadowRight";break;case"left":i="center"==t.target.horizontal&&"bottom"==t.stem.vertical?"e-tooltipShadowRight":"e-tooltipShadowLeft"}else i="e-tooltipShadowLeft";$(this.tooltip).addClass(i)}},t.prototype._setContent=function(e){this.model.content=e,$(this.tooltipContent).html(this.model.content),this.tooltipPos.height=$(this.tooltip).outerHeight(),this.tooltipPos.width=$(this.tooltip).outerWidth()},t.prototype._setPosition=function(e){this.model.position.stem=$.extend(!0,this.model.position.stem,e.stem),this.model.position.target=$.extend(!0,this.model.position.target,e.target)},t.prototype._setTrigger=function(e){this._wireTriggerEvents(!1),this.model.trigger=e,this._wireTriggerEvents(!0)},t.prototype._init=function(){this.id=this.element[0].id,this.positionTarget=$.extend(!0,{},this.model.position.target),this.positionTooltip=$.extend(!0,{},this.model.position.stem),this.tipSize=$.extend(!0,{},this.model.tip.size),this._initialize(),this._render(),this.enable(this.model.enabled),this._wireEvents(!0)},t.prototype._initialize=function(){ej.isNullOrUndefined(this.model.target)?ej.isNullOrUndefined(this.model.content)&&!ej.isNullOrUndefined(this.element.attr("title"))&&(this.model.content=this.element.attr("title"),this.element.attr("data-content",this.model.content),this.element.removeAttr("title")):this._renderTarget()},t.prototype._wireEvents=function(e){var t=e?"_on":"_off";this._wireTriggerEvents(e),this.model.allowKeyboardNavigation&&this[t]($(window),"keydown",this._keyDown),null!=this.model.target?this[t](this.element,"scroll",this.model.target,this._hideTooltip):this[t](this.element,"scroll",this._hideTooltip),this[t]($(this.tooltip),"mouseenter",this._onTooltipMouseEnter),this[t]($(this.tooltip),"mouseleave",this._onTooltipMouseLeave),this[t]($(window),"resize",this._hideTooltip),this[t]($(window),"touchend",this._docTouchEndHandler)},t.prototype._wireTriggerEvents=function(e){var t=e?"_on":"_off";this._wireMouseEvents(e),e=this.model.trigger==ej.Tooltip.Trigger.Click?"click touchstart":this.model.trigger==ej.Tooltip.Trigger.Focus?"focus touchstart":"mouseenter touchstart",null!=this.model.target?this[t](this.element,e,this.model.target,this._targetHover):this[t](this.element,e,this._targetHover),this.model.trigger==ej.Tooltip.Trigger.Focus?null!=this.model.target?this[t](this.element,"blur",this.model.target,this._hideTooltip):this[t](this.element,"blur",this._hideTooltip):null!=this.model.target?this[t](this.element,"mouseleave",this.model.target,this._onMouseOut):this[t](this.element,"mouseleave",this._onMouseOut)},t.prototype._wireMouseEvents=function(e){e=e?"_on":"_off";this.model.associate!=ej.Tooltip.Associate.MouseEnter&&this.model.associate!=ej.Tooltip.Associate.MouseFollow||(null!=this.model.target?this[e](this.element,"mousemove touchstart",this.model.target,this._tooltipMove):this[e](this.element,"mousemove touchstart",this._tooltipMove))},t.prototype._render=function(){this.tooltip=ej.buildTag("div.e-tooltip-wrap e-widget","",{},{role:"tooltip","aria-readonly":"true","aria-hidden":"true","aria-describedby":this.id+"_content",id:this.id+"_Main"}),this.tooltipInter=ej.buildTag("div.e-tipContainer","",{},{}),this.tooltip.append(this.tooltipInter),this.model.isBalloon&&this._renderArrow(),$(this.model.containment).append(this.tooltip),this._setHeight(this.model.height),this._setWidth(this.model.width),this._createHeader(),this._tooltipContent(),this.model.cssClass&&this.tooltip.addClass(this.model.cssClass),this.model.showRoundedCorner&&this._roundedCorner(this.model.showRoundedCorner),this.model.enableRTL&&this._setRTL(this.model.enableRTL),$(this.tooltip).css({top:"auto",left:"auto"}),this.tooltipPos={width:$(this.tooltip).outerWidth(),height:$(this.tooltip).outerHeight(),left:$(this.tooltip).offset().left,top:$(this.tooltip).offset().top,position:"absolute"},ej.isNullOrUndefined(this.model.target)&&(this._containerCalc(this.element),this._positionElement(this.element))},t.prototype._containerCalc=function(e){ej.isNullOrUndefined(e)&&(e=this.element);e=$(e).offset();this.containerSize={height:"body"==this.model.containment?$(window).innerHeight()||document.documentElement.clientHeight||document.body.clientHeight:$(this.model.containment).height(),width:"body"==this.model.containment?$(window).innerWidth()||document.documentElement.clientWidth||document.body.clientWidth:$(this.model.containment).width()},this.containerSize.left="body"!=this.model.containment&&"static"==$(this.model.containment).css("position")?$(this.model.containment).offset().left-$(this.model.containment).offsetParent().offset().left:0,this.containerSize.top="body"!=this.model.containment&&"static"==$(this.model.containment).css("position")?$(this.model.containment).offset().top-$(this.model.containment).offsetParent().offset().top:0,e.left-="body"!=this.model.containment?("static"==$(this.model.containment).css("position")?$(this.model.containment).offsetParent():$(this.model.containment)).offset().left:0,e.top-="body"!=this.model.containment?("static"==$(this.model.containment).css("position")?$(this.model.containment).offsetParent():$(this.model.containment)).offset().top:0,this.targetPos.left=e.left,this.targetPos.top=e.top},t.prototype._setHeight=function(e){this.model.height=e,!isNaN(+e)&&isFinite(e)?$(this.tooltip).css("height",e+"px"):$(this.tooltip).css("height",e),this.tooltipPos.height=$(this.tooltip).outerHeight()},t.prototype._setWidth=function(e){this.model.width=e,"auto"!=this.model.width&&(e=!isNaN(+e)&&isFinite(e)?e+"px":e,$(this.tooltip).css("max-width",e),$(this.tooltip).css("min-width","0px")),$(this.tooltip).css("width",e),this.tooltipPos.height=$(this.tooltip).outerHeight()},t.prototype._setRTL=function(e){(this.model.enableRTL=e)?this.tooltip.addClass("e-rtl"):this.tooltip.removeClass("e-rtl")},t.prototype._setSkin=function(e){this.model.cssClass!=e&&(this.tooltip.removeClass(this.model.cssClass).addClass(e),this.model.cssClass=e)},t.prototype._roundedCorner=function(){this.model.showRoundedCorner?this.tooltip.addClass("e-corner"):this.tooltip.removeClass("e-corner")},t.prototype._renderArrow=function(){ej.isNullOrUndefined(this.tip)&&(this.tip=ej.buildTag("div.e-arrowTip"," ",{id:this.id+"_eTip"},{}),$(this.tip).append("<div class='e-arrowTipOuter'></div>").append("<div class='e-arrowTipInner'></div>"),$(this.tip).insertBefore(this.tooltipInter))},t.prototype._adjustArrow=function(e){var t,i,n=$(this.tooltip).width(),o=$(this.tooltip).height(),s=e.stem,r=e.target,a={tipHeight:0,tipWidth:0},a="right"==r.horizontal||"left"==r.horizontal?(t="left"==s.horizontal?-this.model.tip.size.height:"right"==s.horizontal?n:n/2-this.tipSize.width/2,i="center"!=s.horizontal?"top"==s.vertical?5:"center"==s.vertical?o/2-this.tipSize.width/2:o-5-this.tipSize.width:"top"==s.vertical?-this.tipSize.height:"bottom"==s.vertical?o:this.tooltipPos.height/2-this.tipSize.width/2,this._arrowBinding(e,"horizontal")):(i="top"==s.vertical?-this.tipSize.height:"bottom"==s.vertical?o:o/2-this.tipSize.width/2,t="center"==s.vertical?"left"==s.horizontal?-this.model.tip.size.height:n:"left"==s.horizontal?10:"center"==s.horizontal?this.tooltipPos.width/2-this.tipSize.width/2:n-10-this.tipSize.width,this._arrowBinding(e,"vertical"));this.arrowValue.left=t,this.arrowValue.top=i,$(this.tip).css({height:a.tipHeight+"px",width:a.tipWidth+"px",left:t+"px",top:i+"px",display:"center"==s.horizontal&&"center"==s.vertical?"none":"block"})},t.prototype._arrowBinding=function(e,t){var i,n,o=e.stem,t="horizontal"==t?"center"!=o.horizontal:"center"==o.vertical,o=$(this.tooltip).css("border-top-color"),s=$(this.tooltip).css("background-color"),r=this.model.tip.size.height,a=this.model.tip.size.height-1,l={"border-top":"none","border-bottom":"none","border-right":"none","border-left":"none"};return t?(i=this.model.tip.size.height,n=this.model.tip.size.width,$(this.tip).find(".e-arrowTipOuter").css(this._arrow(e,r,o,l,"horizontal")),$(this.tip).find(".e-arrowTipInner").css(this._arrow(e,a,s,l,"horizontal"))):(i=this.model.tip.size.width,n=this.model.tip.size.height,$(this.tip).find(".e-arrowTipOuter").css(this._arrow(e,r,o,l,"vertical")),$(this.tip).find(".e-arrowTipInner").css(this._arrow(e,a,s,l,"vertical"))),{tipHeight:n,tipWidth:i}},t.prototype._arrow=function(e,t,i,n,o){var e=e.stem,s="horizontal"==o&&"right"==e.horizontal?"0px":"1px",r="horizontal"!=o&&"bottom"==e.vertical?"0px":"1px";return n["border-top"]="horizontal"==o?t+"px solid transparent":"bottom"==e.vertical?t+"px solid "+i:"none",n["border-bottom"]="horizontal"==o?t+"px solid transparent":"top"==e.vertical?t+"px solid "+i:"none",n["border-right"]="horizontal"==o?"left"==e.horizontal?t+"px solid "+i:"none":t+"px solid transparent",n["border-left"]="horizontal"==o?"right"==e.horizontal?t+"px solid "+i:"none":t+"px solid transparent",t==this.model.tip.size.height-1&&(n.left=s,n.top=r),n},t.prototype._iconRender=function(){this.model.closeMode==ej.Tooltip.CloseMode.Sticky&&(ej.isNullOrUndefined(this.tooltipClose)||$(this.tooltipClose).remove(),this.tooltipClose=ej.buildTag("div .e-icon"," ",{},{id:"_closeIcon"}),null!=this.model.title?$(this.tooltipClose).insertAfter(this.tooltipTitle).addClass("e-close"):$(this.tooltipClose).insertBefore(this.tooltipInter).addClass("e-cross-circle"),this._on($(this.tooltipClose),"click",this._hideTooltip))},t.prototype._renderTarget=function(){this.targetElement=$(this.element).find(this.model.target);for(var e=0;e<this.targetElement.length;e++)ej.isNullOrUndefined($(this.targetElement[e]).attr("title"))||(this.targetElement[e].setAttribute("data-content",this.targetElement[e].title),this.targetElement[e].removeAttribute("title"))},t.prototype._tooltipContent=function(){this.tooltipContent=ej.buildTag("div.e-tipcontent e-def","",{},{id:this.id+"_content"}),$(this.tooltipContent).html(this.model.content).addClass("e-def"),null!=this.model.title?$(this.tooltipContent).insertAfter(this.tooltipHeader):$(this.tooltipContent).appendTo(this.tooltipInter)},t.prototype._positionElement=function(e){this.tooltipPos.width=$(this.tooltip).outerWidth(),this.tooltipPos.height=$(this.tooltip).outerHeight(),this.targetPos.width=$(e).outerWidth(),this.targetPos.height=$(e).outerHeight(),this._containerCalc(e),this.model.associate==ej.Tooltip.Associate.Window?this._browserPosition():this.model.associate==ej.Tooltip.Associate.Axis?this._axisPosition():this.model.associate==ej.Tooltip.Associate.Target&&this._tooltipPosition(this.model.position),this.model.collision!=ej.Tooltip.Collision.None&&this.model.associate==ej.Tooltip.Associate.Target&&this._calcCollision(this.model.position,e)},t.prototype._browserPosition=function(){var e,t;"body"==this.model.containment&&(this.containerSize={height:$(window).innerHeight()||document.documentElement.clientHeight||document.body.clientHeight,width:$(window).innerWidth()||document.documentElement.clientWidth||document.body.clientWidth},e=$.extend(!0,{},this.model.position),t={position:"absolute",left:"auto",top:"auto",bottom:"auto",right:"auto"},ej.isNullOrUndefined(this.tip)||$(this.tip).css({display:"none"}),"right"==this.model.position.target.horizontal?t.right=0:t.left="left"==this.model.position.target.horizontal?0:this.containerSize.width/2-this.tooltipPos.width/2,"top"==this.model.position.target.vertical?t.top=0:"center"==this.model.position.target.vertical?t.top=this.containerSize.height/2-this.tooltipPos.height/2:t.bottom=0,this.model.showShadow&&this._shadowEffect(this.model.showShadow,e),$(this.tooltip).css(t))},t.prototype._tooltipMove=function(e){var t;this.model.closeMode==ej.Tooltip.CloseMode.None&&this.model.enabled&&!(t=this)._isCancel&&(this.model.associate==ej.Tooltip.Associate.MouseFollow?this._mousePosition(e):this.model.associate==ej.Tooltip.Associate.MouseEnter&&(clearTimeout(this.mouseTimer),this.mouseTimer=setTimeout(function(){t.isTrack&&t._mousePosition(e)},300)))},t.prototype._mousePosition=function(e){"touchstart"==e.type?(e.preventDefault(),t=e.touches[0].pageX,i=e.touches[0].pageY):"mousemove"==e.type&&(t=e.pageX,i=e.pageY),this.isCollision=!0,this._containerCalc(e.currentTarget);var t,i,n,o,s,r,a=$.extend(!0,{},this.model.position.stem),l=$.extend(!0,{},this.model.position),d={left:0,top:0},c={left:t,top:i},h={left:t,top:i},u=this.containerSize.left,p=this.containerSize.top,m="body"!=this.model.containment?t-$(this.model.containment).offset().left:t,f="body"!=this.model.containment?i-$(this.model.containment).offset().top:i;for(l.target.horizontal=l.target.vertical="center","body"!=this.model.containment&&(d=("static"==$(this.model.containment).css("position")?$(this.model.containment).offsetParent():$(this.model.containment)).offset()),h.left-=d.left,h.top-=d.top;this.isCollision;)if(c=$.extend(!0,{},h),this.model.isBalloon&&("top"==a.vertical||"bottom"==a.vertical)&&this.tipSize.height,n=this.model.isBalloon&&("right"==a.horizontal||"left"==a.horizontal)?10+this.tipSize.width/2:0,o=0!=this.model.tip.adjust.xValue?this.model.tip.adjust.xValue:7,s=0!=this.model.tip.adjust.yValue?this.model.tip.adjust.yValue:10,r=this.model.isBalloon?"center"!=a.horizontal||"center"!=a.vertical?this.model.tip.size.height:0:2,c.left+="right"==a.horizontal?-this.tooltipPos.width:"left"==a.horizontal?0:-this.tooltipPos.width/2,c.top+="bottom"==a.vertical?-this.tooltipPos.height:"top"==a.vertical?0:-this.tooltipPos.height/2,c.left+="center"!=a.vertical?"right"==a.horizontal?n:"left"==a.horizontal?-n:0:0,c.left+="center"==a.vertical?"right"==a.horizontal?-r:"left"==a.horizontal?+(r+o):0:0,c.top+="top"==a.vertical?+(r+s):"bottom"==a.vertical?-r:0,this.targetElement!=e.currentTarget&&(this.targetElement=e.currentTarget,(c.left<u||c.left+this.tooltipPos.width>u+this.containerSize.width)&&(this.positionTooltip.horizontal=m>=this.tooltipPos.width?"right":this.containerSize.width-m>=this.tooltipPos.width?"left":"center"),c.top<p||c.top+this.tooltipPos.height>this.containerSize.height+p)&&(this.positionTooltip.vertical=f>=this.tooltipPos.height?"bottom":this.containerSize.height-f>=this.tooltipPos.height?"top":"center"),this.positionTooltip.horizontal!=a.horizontal||this.positionTooltip.vertical!=a.vertical)this.isCollision=!0,a=$.extend(!0,{},this.positionTooltip);else if(this.isCollision=!1,$(this.tooltip).css({top:c.top+"px",left:c.left+"px",position:"absolute",right:"auto",bottom:"auto"}),l.stem=$.extend(!0,{},this.positionTooltip),this.model.showShadow&&this._shadowEffect(this.model.showShadow,l),this.model.isBalloon&&this._adjustArrow(l),this._showTooltip(),this.model.associate==ej.Tooltip.Associate.MouseEnter&&(this.isTrack=!1),this.model.associate==ej.Tooltip.Associate.MouseFollow&&this.triggerEvents("tracking",{position:this.model.position,event:e}))return},t.prototype._axisPosition=function(){var e,t,i=$.extend(!0,{},this.model.position);"number"==typeof this.model.position.target.horizontal&&(e=this.model.position.target.horizontal.toString()),"number"==typeof this.model.position.target.vertical&&(t=this.model.position.target.vertical.toString()),e=parseInt(e),t=parseInt(t),ej.isNullOrUndefined(this.tip)||$(this.tip).css({display:"none"}),this.model.showShadow&&this._shadowEffect(this.model.showShadow,i),this.model.isBalloon&&this._adjustArrow(i),isFinite(e)&&isFinite(t)&&$(this.tooltip).css({top:t,left:e,position:"absolute"})},t.prototype._tooltipPosition=function(e){var t=$.extend(!0,{},e.stem),i=$.extend(!0,{},e.target),n=$.extend(!0,{},this.targetPos),o="top"===t.vertical||"bottom"===t.vertical?5+this.tipSize.width/2:0,s="right"===t.horizontal||"left"===t.horizontal?10+this.tipSize.width/2:0,r="center"!==t.horizontal?this.model.tip.adjust.xValue:"center"!==t.vertical?this.model.tip.adjust.yValue:0,a=this.model.isBalloon?"center"!==t.horizontal||"center"!==t.vertical?this.model.tip.size.height:0:2;this.model.isBalloon;n.left+="right"===i.horizontal?this.targetPos.width:"left"===i.horizontal?0:this.targetPos.width/2,n.top+="bottom"===i.vertical?this.targetPos.height:"top"===i.vertical?0:this.targetPos.height/2,n.left+="right"===t.horizontal?-this.tooltipPos.width:"left"===t.horizontal?0:-this.tooltipPos.width/2,n.top+="bottom"===t.vertical?-this.tooltipPos.height:"top"===t.vertical?0:-this.tooltipPos.height/2,n.left+="center"!==i.horizontal||"center"===t.vertical?"right"===t.horizontal?-a:"left"===t.horizontal?a:0:0,n.top+="center"===i.horizontal||"center"===t.horizontal?"bottom"===t.vertical?-a:"top"===t.vertical?a:0:0,n.left+="center"===i.horizontal&&"center"!==t.vertical?"right"===t.horizontal?s:"left"===t.horizontal?-s:0:0,n.top+="center"!==i.horizontal&&"center"!==t.horizontal?"top"===t.vertical?-o:"bottom"===t.vertical?o:0:0,this.tooltipPos.left=n.left,this.tooltipPos.top=n.top,this.model.collision===ej.Tooltip.Collision.None&&(this.model.isBalloon&&this._adjustArrow(e),this._shadowEffect(this.model.showShadow,e),$(this.tooltip).css({top:n.top+"px",left:n.left+"px",position:"absolute"}))},t.prototype._calcCollision=function(e,t){var e=$.extend(!0,{},e),i=$.extend(!0,{},e),n=this.model.tip.size.height,o=!0,s="body"!=this.model.containment?$(t).offset().left-$(this.model.containment).offset().left:$(t).offset().left,t="body"!=this.model.containment?$(t).offset().top-$(this.model.containment).offset().top:$(t).offset().top,r={topSpace:t,rightSpace:this.containerSize.width-(s+this.targetPos.width),bottomSpace:this.containerSize.height-(t+this.targetPos.height),leftSpace:s,centerRight:this.containerSize.width-(s+this.targetPos.width/2),centerLeft:s+this.targetPos.width/2,centerTop:t+this.targetPos.height/2,centerBottom:this.containerSize.height-(t+this.targetPos.height/2),tooltipWidth:this.tooltipPos.width+n,tooltipHeight:this.tooltipPos.height+n};if(this.model.collision===ej.Tooltip.Collision.Fit)this._collisionFit(e,r);else{for(;o;)(i=this._collisionFlip(i,r)).target.horizontal!=e.target.horizontal||i.target.vertical!=e.target.vertical||i.stem.horizontal!=e.stem.horizontal||i.stem.vertical!=e.stem.vertical?(this._tooltipPosition(i),e=$.extend(!0,{},i)):o=!1;o||(this.model.collision==ej.Tooltip.Collision.FlipFit?this._collisionFit(i,r):(this._adjustArrow(i),this._shadowEffect(this.model.showShadow,i),$(this.tooltip).css({top:this.tooltipPos.top+"px",left:this.tooltipPos.left+"px",position:"absolute"})))}},t.prototype._collisionFlip=function(e,t){var i=$.extend(!0,{},this.tooltipPos),n=$.extend(!0,{},e),o=$(this.model.containment).scrollLeft(),s=$(this.model.containment).scrollTop(),r=this.containerSize.left,a=this.containerSize.top;return(i.left+i.width>r+this.containerSize.width+o||i.left<r)&&("center"!=e.target.horizontal?n.target.horizontal=t.leftSpace>=t.tooltipWidth?"left":t.rightSpace>=t.tooltipWidth?"right":"center":n.stem.horizontal=t.centerLeft>=t.tooltipWidth?"right":t.centerRight>=t.tooltipWidth?"left":"center"),i.top<a&&(n.target.vertical=t.bottomSpace>=t.tooltipHeight?"bottom":"center"),i.top+i.height>this.containerSize.height+s+a&&(n.target.vertical=t.topSpace>=t.tooltipHeight?"top":"center"),n.target.horizontal==e.target.horizontal&&n.target.vertical==e.target.vertical||(n.stem.horizontal="center"==n.target.horizontal?t.centerLeft>=t.tooltipWidth?"right":t.centerRight>=t.tooltipWidth?"left":"center":"right"==n.target.horizontal?"left":"right"),n.target.vertical==e.target.vertical&&n.target.horizontal==e.target.horizontal||(n.stem.vertical="center"==n.target.vertical?t.centerTop>=t.tooltipHeight||!(t.centerBottom>=t.tooltipHeight)&&t.centerTop>t.centerBottom?"bottom":"top":"top"==n.target.vertical?"bottom":"top"),n},t.prototype._collisionFit=function(e,t){var i=$.extend(!0,{},this.tooltipPos),n=!1,o=!1,s=1,r=1,a=$(this.model.containment).scrollLeft(),l=$(this.model.containment).scrollTop(),d=this.containerSize.left,c=this.containerSize.top;(i.left<d||i.left+i.width>this.containerSize.width+a+d)&&(s=i.left<d?d:i.left+i.width>this.containerSize.width+a+d?i.left-(i.left+i.width-(this.containerSize.width+d)):1,n=!0),(i.top<c||i.top+i.height>this.containerSize.height+l+c)&&(r=i.top<c?c:i.top+i.height>this.containerSize.height+l+c?i.top-(i.top+i.height-(this.containerSize.height+c)):1,o=!0),$(this.tooltip).css({top:1!=r?r+"px":i.top+"px",left:1!=s?s+"px":i.left+"px",position:"absolute"}),this._adjustArrow(e),a={left:this.arrowValue.left,top:this.arrowValue.top,height:this.model.tip.size.height,width:this.model.tip.size.width,display:$(this.tip).css("display")},this.tooltipPos.top=r=1!=r?r:i.top,this.tooltipPos.left=s=1!=s?s:i.left,d=$(this.tooltip).width(),l=$(this.tooltip).height(),(n||o&&"none"!=a.display)&&(this.model.isBalloon&&(n&&(this.arrowValue.left=this._horizontalAdjustment(e,t)),o)&&(this.arrowValue.top=this._verticalAdjustment(e,t)),this.arrowValue.left==-this.model.tip.size.height||this.arrowValue.left==d||this.arrowValue.top==-this.model.tip.size.height||this.arrowValue.top==l?$(this.tip).css({left:this.arrowValue.left+"px",top:this.arrowValue.top+"px",display:"block"}):$(this.tip).css({left:this.arrowValue.left+"px",top:this.arrowValue.top+"px",display:"none"})),this._shadowEffect(this.model.showShadow,e)},t.prototype._horizontalAdjustment=function(e,t){var i,n={left:this.arrowValue.left,top:this.arrowValue.top};return $(this.tooltip).css({display:"block"}),e.target.horizontal,i=this.model.tip.size.height,e=("center"==e.target.horizontal||"left"!=e.stem.horizontal)&&"center"!=e.target.horizontal&&"right"==e.stem.horizontal?$(this.tip).offset().left+i:$(this.tip).offset().left,$(this.tooltip).css({display:"none"}),e>t.leftSpace&&e+i<t.leftSpace+this.targetPos.width||(e>t.leftSpace+this.targetPos.width||e<t.leftSpace)&&(n.left=t.leftSpace+this.targetPos.width/2-parseInt(this.tooltipPos.left.toString())),n.left},t.prototype._verticalAdjustment=function(e,t){var i,n={left:this.arrowValue.left,top:this.arrowValue.top,height:this.model.tip.size.height,width:this.model.tip.size.width,display:this.arrowValue.display};return $(this.tooltip).css({display:"block"}),e.target.horizontal,i=this.model.tip.size.height,e="center"==e.target.horizontal&&"top"==e.stem.vertical?$(this.tip).offset().top:$(this.tip).offset().top+i,$(this.tooltip).css({display:"none"}),e>t.topSpace&&e<t.topSpace+this.targetPos.height||(e<t.topSpace||e+i>t.topSpace+this.targetPos.height)&&(n.top=t.topSpace+this.targetPos.height/2-parseInt(this.tooltipPos.top.toString())),n.top},t.prototype._createHeader=function(){null!=this.model.title&&(ej.isNullOrUndefined(this.tooltipTitle)&&this._createTitle(),(ej.isNullOrUndefined(this.tooltipContent)?$(this.tooltipHeader).appendTo(this.tooltipInter):$(this.tooltipHeader).insertBefore(this.tooltipContent)).addClass("e-tooltipHeader")),this.model.closeMode==ej.Tooltip.CloseMode.Sticky&&this._iconRender()},t.prototype._hideTooltip=function(){var e;this._isHidden=!0,e=0!=this.model.animation.speed?this.model.animation.speed:this.model.animation.effect==ej.Tooltip.Effect.Slide?200:this.model.animation.effect==ej.Tooltip.Effect.Fade?800:0,1!=this.model.enabled||"block"!=$(this.tooltip).css("display")||this.triggerEvents("beforeClose",{})||(this.model.animation.effect==ej.Tooltip.Effect.Fade?$(this.tooltip).fadeOut(e):this.model.animation.effect==ej.Tooltip.Effect.Slide?$(this.tooltip).slideUp(e):$(this.tooltip).css({display:"none"}),"none"==$(this.tooltip).css("display")&&$(this.tooltip).attr("aria-hidden","true"),this.triggerEvents("close",{}))},t.prototype._showTooltip=function(){var e;this._isHidden&&(e=0!=this.model.animation.speed?this.model.animation.speed:this.model.animation.effect==ej.Tooltip.Effect.Slide?200:this.model.animation.effect==ej.Tooltip.Effect.Fade?800:0,"none"==$(this.tooltip).css("display"))&&1==this.model.enabled&&(this._isHidden=!1,this.model.animation.effect==ej.Tooltip.Effect.Fade?$(this.tooltip).fadeIn(e):this.model.animation.effect==ej.Tooltip.Effect.Slide?$(this.tooltip).slideDown(e):$(this.tooltip).css({display:"block"}),"block"==$(this.tooltip).css("display")&&$(this.tooltip).attr("aria-hidden","false").css({zIndex:ej.getMaxZindex()+1}),this.triggerEvents("open",{}))},t.prototype._tooltipAuto=function(){var e=this;this.timer=setTimeout(function(){e._hideTooltip()},e.model.autoCloseTimeout)},t.prototype._beforeOpenTooltip=function(e){this.positionTooltip=$.extend(!0,{},this.model.position.stem),this.positionTarget=$.extend(!0,{},this.model.position.target),this.targetElement=this.element,ej.isNullOrUndefined(this.model.target)||ej.isNullOrUndefined($(e.currentTarget).attr("data-content"))||(this.model.content=$(e.currentTarget).attr("data-content"),this._setContent(this.model.content))},t.prototype._targetHover=function(e){this.model.enabled&&(this._isHidden?this.triggerEvents("beforeOpen",{event:e})?this._isCancel=!0:(this._isCancel=!1,this._beforeOpenTooltip(e),this.model.associate!=ej.Tooltip.Associate.MouseEnter&&this.model.associate!=ej.Tooltip.Associate.MouseFollow?(ej.isNullOrUndefined(this.model.target)?this._positionElement(this.element):this._positionElement(e.currentTarget),$(this.tooltip).stop(!0,!0),clearTimeout(this.timer),this._showTooltip(),this.model.closeMode==ej.Tooltip.CloseMode.Auto&&this._tooltipAuto(),"click"==e.type?this.triggerEvents("click",{event:e}):this.triggerEvents("hover",{event:e})):this.isTrack=!0):ej.isNullOrUndefined(this.model.target)||this._positionElement(e.currentTarget))},t.prototype._onMouseOut=function(){this.model.enabled&&!this._isHidden&&(this.model.closeMode==ej.Tooltip.CloseMode.None&&this._hideTooltip(),clearTimeout(this.mouseTimer))},t.prototype._onTooltipMouseEnter=function(){this.model.enabled&&this.model.animation.effect==ej.Tooltip.Effect.None&&$(this.tooltip).css({display:"block"})},t.prototype._onTooltipMouseLeave=function(){this.model.enabled&&this.model.animation.effect==ej.Tooltip.Effect.None&&this.model.closeMode==ej.Tooltip.CloseMode.None&&$(this.tooltip).css({display:"none"})},t.prototype._docTouchEndHandler=function(e){$(e.target).closest(".e-tooltip").length||this.model.closeMode!=ej.Tooltip.CloseMode.None||this._hideTooltip()},t.prototype._keyDown=function(e){var t=e.keyCode||e.which||e.charCode;this.model.enabled&&27===t&&(e.preventDefault(),this._hideTooltip())},t);function t(e,t){return i.call(this),this._rootCSS="e-tooltip",this._setFirst=!1,this.PluginName="ejTooltip",this.id="null",this.model=null,this.defaults={height:"auto",width:"auto",enabled:!0,content:null,containment:"body",target:null,title:null,closeMode:"none",autoCloseTimeout:4e3,position:{stem:{horizontal:"center",vertical:"bottom"},target:{horizontal:"center",vertical:"top"}},associate:"target",collision:"flipfit",showShadow:!1,cssClass:null,animation:{effect:"none",speed:0},isBalloon:!0,showRoundedCorner:!1,enableRTL:!1,allowKeyboardNavigation:!0,tip:{size:{width:20,height:10},adjust:{xValue:0,yValue:0}},trigger:"hover"},this.dataTypes={enabled:"boolean",closeMode:"enum",autoCloseTimeout:"number",trigger:"enum",position:{stem:"data",target:"data"},associate:"enum",collision:"enum",showShadow:"boolean",animation:{effect:"enum",speed:"number"},isBalloon:"boolean",showRoundedCorner:"boolean",enableRTL:"boolean",allowKeyboardNavigation:"boolean",tip:{size:{width:"number",height:"number"},adjust:{xValue:"number",yValue:"number"}}},this.isTrack=!0,this._isCancel=!1,this._isHidden=!0,this.arrowValue={left:0,top:0,width:0,height:0,display:null},this.tooltipPos={width:0,height:0,left:0,top:0,bottom:0,right:0,position:"absolute"},this.targetPos={width:0,height:0,left:0,top:0,bottom:0,right:0,position:"absolute"},this.mouseTimer=null,this.positionTarget=null,this.positionTooltip=null,this.containerSize=null,this._createTitle=function(){this.tooltipTitle=ej.buildTag("div.e-def e-header"," ",{},{}),this.tooltipHeader=ej.buildTag("div"," ",{},{}),$(this.tooltipTitle).html(this.model.title).appendTo(this.tooltipHeader)},e&&(e=e.jquery?e:$("#"+e)).length?$(e).ejTooltip(t).data(this.PluginName):void 0}window.ej.widget("ejTooltip","ej.Tooltip",new e),window.ejTooltip=null,ej.Tooltip.CloseMode={Auto:"auto",None:"none",Sticky:"sticky"},ej.Tooltip.Effect={Slide:"slide",Fade:"fade",None:"none"},ej.Tooltip.Trigger={Hover:"hover",Click:"click",Focus:"focus"},ej.Tooltip.Collision={Flip:"flip",FlipFit:"flipfit",None:"none",Fit:"fit"},ej.Tooltip.Associate={Window:"window",MouseFollow:"mousefollow",MouseEnter:"mouseenter",Target:"target",Axis:"axis"}}),function(e){"function"==typeof define&&define.amd?define(["./../common/ej.core.min"],e):e()}(function(){var n,i;n=jQuery,(i=Syncfusion).widget("ejWaitingPopup","ej.WaitingPopup",{element:null,model:null,validTags:["div","span"],_setFirst:!1,_rootCSS:"e-waitingpopup",defaults:{showOnInit:!1,target:null,appendTo:null,showImage:!0,htmlAttributes:{},cssClass:"",text:null,template:null,create:null,destroy:null},dataTypes:{showOnInit:"boolean",showImage:"boolean",cssClass:"string"},_isTargetVisible:function(){return"none"!=this.element.css("display")},show:function(){this._isTargetVisible()&&(this._refreshPanel(),this.maindiv.css("display","block"),this.model.showOnInit=!0)},hide:function(){this.maindiv.css("display","none"),this.model.showOnInit=!1},refresh:function(){this._isTargetVisible()&&this._refreshPanel()},_setText:function(e){e?this.popupText?this.popupText.html(e):(this._generateTextTag(e),this._setContentPosition()):this.popupText&&(this.popupText.remove(),this.popupText=null)},_showImage:function(e){e?(this.popupImage=i.buildTag("span.e-image"),this.popupText?this.popupImage.insertBefore(this.popupText):this.maindiv.append(this.popupImage)):this.popupImage&&(this.popupImage.remove(),this.popupImage=null)},_setTemplate:function(){var e=this.model.template;"string"==typeof e&&(e=n(e)),this.templateObj="object"==typeof e&&"function"==typeof e.css?e:i.buildTag("div","",{"text-align":"center"}).append(e),this.templateObj.css({visibility:"visible",display:"block"}),this.maindiv.append(this.templateObj)},_setTheme:function(e){this.maindiv.removeClass(this.model.cssClass).addClass(e)},_init:function(){this._initialize(),this._render(),this._wireEvents()},_wireEvents:function(){n(window).on("resize",n.proxy(this._resizeHandler,this))},_unwireEvents:function(){n(window).off("resize",n.proxy(this._resizeHandler,this))},_resizeHandler:function(){this.refresh()},_setModel:function(e){for(var t in e)switch(t){case"text":this._setText(e[t]);break;case"cssClass":this._setTheme(e[t]);break;case"htmlAttributes ":this._addAttr(e[t]);break;case"showOnInit":this._setVisibility(e[t]);break;case"showImage":this._showImage(e[t]),this._setContentPosition();break;case"target":this.model.target=e[t],this._setTarget(),this.refresh();break;case"appendTo":this.model.appendTo=e[t],this._setTarget(),i.isNullOrUndefined(this.model.appendTo)||"document"==this.model.appendTo||"window"==this.model.appendTo?n("body").append(this.maindiv):this.maindiv.appendTo(n(this.model.appendTo)),this.refresh();break;case"template":this.maindiv.empty(),e[t]?(this.model.template=e[t],this._setTemplate()):(this.model.template=e[t]=null,this._showImage(this.model.showImage),this.model.text&&this._generateTextTag(this.model.text)),this._setContentPosition()}},_setTarget:function(){this.targetElement="document"==this.model.target?n(document):"window"==this.model.target?n(window):this.model.target?n(this.model.target):this.element},_destroy:function(){this.maindiv.remove(),this._unwireEvents()},_initialize:function(){this.maindiv=null,this.popupText=null,this.popupImage=null,this.templateObj=null,this.targetElement=null},_render:function(){this._setTarget();var e=n("#"+this.element[0].id+"_WaitingPopup").get(0);e&&n(e).remove(),this.maindiv=i.buildTag("div.e-waitpopup-pane e-widget "+this.model.cssClass+"#"+this.element[0].id+"_WaitingPopup"),this.model.template?this._setTemplate():(this._showImage(this.model.showImage),this.model.text&&this._generateTextTag(this.model.text)),i.isNullOrUndefined(this.model.appendTo)||"document"==this.model.appendTo||"window"==this.model.appendTo?n("body").append(this.maindiv):this.maindiv.appendTo(n(this.model.appendTo)),this._setVisibility(this.model.showOnInit),this._addAttr(this.model.htmlAttributes)},_refreshPanel:function(){this.maindiv.width(this.targetElement.outerWidth()),this.maindiv.height(this.targetElement.outerHeight()),this._setPanelPosition(),this._setContentPosition()},_addAttr:function(e){var i=this;n.map(e,function(e,t){"class"==t?i.maindiv.addClass(e):i.maindiv.attr(t,e)})},_setPanelPosition:function(){var e=i.util.getOffset(this.targetElement);null!=this.model.appendTo&&0<n(this.model.appendTo).length&&("relative"!=this.targetElement.css("position")&&"absolute"!=this.targetElement.css("position")||this.targetElement[0]!==n(this.model.appendTo)[0]?(e.left-=this.targetElement.offsetParent().offset().left,e.top-=this.targetElement.offsetParent().offset().top):e={left:0,top:0}),this.maindiv.css({position:"absolute",left:Math.ceil(e.left)+"px",top:Math.ceil(e.top)+"px","z-index":this._maxZindex()+1})},_setContentPosition:function(){var e,t,i,n;null==this.model.template?(t=e=0,i=null,n=this.targetElement.outerHeight(),this.popupText&&(e=this.popupText.outerHeight()),this.popupImage&&(t=this.popupImage.outerHeight()),this.popupImage&&(i=Math.ceil((n-(t+e))/2),this.popupImage.css("top",i+"px")),this.popupText&&(i=i||Math.ceil((n-e)/2),this.popupText.css("top",i+"px"))):this.templateObj.css({position:"relative",left:Math.ceil((this.targetElement.outerWidth()-this.templateObj.outerWidth())/2),top:Math.ceil((this.targetElement.outerHeight()-this.templateObj.outerHeight())/2)})},_generateTextTag:function(e){this.popupText=i.buildTag("div.e-text",e),this.maindiv.append(this.popupText)},_setVisibility:function(e){e&&this._isTargetVisible()?this.show():this.hide()},_maxZindex:function(){return i.util.getZindexPartial(this.element)}})}),function(e){"function"==typeof define&&define.amd?define(["./../common/ej.core.min","./../common/ej.globalize.min","./../common/ej.scroller.min","./ej.tooltip.min","./../common/ej.draggable.min","./ej.dialog.min"],e):e()}(function(){var h,c;h=jQuery,(c=Syncfusion).widget("ejUploadbox","ej.Uploadbox",{element:null,_addToPersist:[""],model:null,validTags:["div","span"],_setFirst:!1,_rootCSS:"e-uploadbox",defaults:{buttonText:{browse:"Browse",upload:"Upload",cancel:"Cancel",close:"Close"},width:"100px",height:"35px",htmlAttributes:{},dialogPosition:{X:"",Y:""},dialogText:{title:"Upload Box",name:"Name",size:"Size",status:"Status"},customFileDetails:{title:!0,name:!0,size:!0,status:!0,action:!0},dialogAction:{modal:!1,closeOnComplete:!1,drag:!0,content:null},locale:"en-US",asyncUpload:!0,pushFile:null,enabled:!0,multipleFilesSelection:!0,autoUpload:!1,showFileDetails:!0,fileSize:31457280,extensionsAllow:"",extensionsDeny:"",saveUrl:"",removeUrl:"",uploadName:"",cssClass:"",dropAreaText:"Drop files or click to upload",allowDragAndDrop:!1,showBrowseButton:!0,showRoundedCorner:!0,dropAreaHeight:"100%",dropAreaWidth:"100%",enableRTL:!1,create:null,fileSelect:null,begin:null,beforeSend:null,cancel:null,inProgress:null,success:null,complete:null,remove:null,error:null,destroy:null},dataTypes:{buttonText:"data",dialogText:"data",disbled:"boolean",customFileDetails:"data",pushFile:"data",dialogAction:"data",multipleFilesSelection:"boolean",autoUpload:"boolean",showFileDetails:"boolean",allowDragAndDrop:"boolean",showBrowseButton:"boolean",showRoundedCorner:"boolean",fileSize:"number",extensionsAllow:"string",extensionsDeny:"string",saveUrl:"string",removeUrl:"string",cssClass:"string",enableRTL:"boolean",htmlAttributes:"data"},disable:function(){this._changeState(!1)},enable:function(){this._changeState(!0)},_changeState:function(e){e?h(this.control).removeClass("e-disable"):h(this.control).addClass("e-disable"),this.model.enabled=e,h(this._currentElement).find(".e-uploadinput")[0].disabled=!e,this.diaObj&&(this.diaObj.option("beforeClose",this._onBeforeClose),this.diaObj.setModel({enabled:e,allowDraggable:e}))},refresh:function(){this.diaObj&&(this.diaObj.isOpened()?this.diaObj.close():this._uploadFileListDelete())},_updateLocalConstant:function(){this._localizedLabels=c.getLocalizedConstants("ej.Uploadbox",this.model.locale)},_init:function(){this.s=c.browserInfo(),this._updateLocalConstant(),this._initialize(),this._wireEvents(),this.model.asyncUpload||this._initObjectsSyncUpload(),this._controlStatus(this.model.enabled),"en-US"==this.model.locale?this._buttonText(this.model.buttonText):this._setLocale(),this._roundedCorner(this.model.showRoundedCorner)},_setModel:function(e){for(var t in e){switch(t){case"buttonText":this._buttonText(e[t]);break;case"htmlAttributes":this._addAttr(e[t]);break;case"dialogText":this._dialogText(e[t]);break;case"cssClass":this._setSkin(e[t]);break;case"enableRTL":this._setRTL(e[t]);break;case"enabled":this._controlStatus(e[t]);break;case"locale":this.model.locale=e[t],this._updateLocalConstant(),this._setLocale();break;case"height":this.model.height=e[t],this._setHeight(this.model.height);break;case"width":this.model.width=e[t],this._setWidth(this.model.width);break;case"dialogPosition":this.model.dialogPosition=e[t],this._dialogPosition();break;case"allowDragAndDrop":this.model.allowDragAndDrop=e[t],this._dragAndDrop();break;case"dropAreaText":this.model.dropAreaText=e[t],this._dropAreaText(this.model.dropAreaText);break;case"showBrowseButton":this.model.showBrowseButton=e[t],this._hideBrowseButton(),this._refreshUploadDialogParent();break;case"showRoundedCorner":this._roundedCorner(e[t]);break;case"dropAreaHeight":this.model.dropAreaHeight=e[t],this._setSize();break;case"dropAreaWidth":this.model.dropAreaWidth=e[t],this._setSize();break;case"pushFile":this.model.pushFile=e[t],null!=this.model.pushFile&&"Xhr"==this.UploadType&&this.model.asyncUpload&&(this._files=this.model.pushFile),this._onXhrSelect();break;case"multipleFilesSelection":this.model.multipleFilesSelection=e[t],0==(-1!=navigator.userAgent.indexOf("Safari")&&-1==navigator.userAgent.indexOf("Chrome"))&&(this.model.multipleFilesSelection?this._currentElement.find(".e-uploadinput").attr("multiple","multiple"):this._currentElement.find(".e-uploadinput").removeAttr("multiple"));break;case"uploadName":this.model.uploadName=e[t],this.inputupload.attr("name",this.model.uploadName),this.refresh();break;case"autoUpload":this.model.autoUpload=e[t];break;case"showFileDetails":this.model.showFileDetails=e[t],this.refresh();break;case"fileSize":this.model.fileSize=e[t];break;case"extensionsAllow":this.model.extensionsAllow=e[t],this._currentElement.find(".e-uploadinput").attr("accept",e[t]);break;case"extensionsDeny":this.model.extensionsDeny=e[t];break;case"saveUrl":this.model.saveUrl=e[t];break;case"removeUrl":this.model.removeUrl=e[t]}this._currentElement=this.model.allowDragAndDrop&&!this.model.showBrowseButton?this.dragWrapper:this.element}},_controlStatus:function(e){1!=e?this.disable():this.enable()},_setRTL:function(e){e?this._currentElement.addClass("e-rtl"):this._currentElement.removeClass("e-rtl"),this.updialog&&this.updialog.ejDialog({enableRTL:e})},_getLocalizedLabels:function(e){var t="",i="browse"==e||"upload"==e||"cancel"==e||"close"==e?"buttonText":"dialogText";return this._localizedLabels[e]?t=this._localizedLabels[e]:this._localizedLabels[i][e]?t=this._localizedLabels[i][e]:c.Uploadbox.Locale["en-US"][e]?t=c.Uploadbox.Locale["en-US"][e]:c.Uploadbox.Locale["en-US"][i][e]&&(t=c.Uploadbox.Locale["en-US"][i][e]),t},_setLocale:function(){this._buttonText(this._localizedLabels.buttonText),this._dialogText(this._localizedLabels.dialogText),this._dropAreaText(this._localizedLabels.dropAreaText)},_buttonText:function(e){h.extend(this.model.buttonText,e),this.buttondiv.val(this.model.buttonText.browse),this.updialog&&(this.updialog.find(".e-action-container .e-uploadbtn").html(this.model.buttonText.upload),this.updialog.find(".e-action-container .e-uploadclosebtn").html(this.model.buttonText.cancel))},_dialogText:function(e){h.extend(this.model.dialogText,e),null!=this.diaObj&&this.diaObj.option("title",this.model.dialogText.title),this.updialog&&(this.updialog.find(".e-head-name").html(this.model.dialogText.name),this.updialog.find(".e-head-size").html(this.model.dialogText.size),this.updialog.find(".e-head-status").html(this.model.dialogText.status))},_destroy:function(){this._currentElement.hasClass("e-uploadbox")&&(this._currentElement.removeClass("e-uploadbox e-widget"),this._currentElement.empty(),h(this.dragWrapper).after(this._currentElement),this.element.css({width:"",height:""}),this._bindResizeHandler(!1),this.dragWrapper.remove())},_setSkin:function(e){this._currentElement.removeClass(this.model.cssClass),this._currentElement.addClass(e),this.diaObj&&this.diaObj.setModel({cssClass:this.model.cssClass}),this.model.allowDragAndDrop&&this.dragWrapper.addClass(e)},_initialize:function(){this.control=this.element[0],this.element.addClass("e-widget "+this.model.cssClass),this.innerdiv=c.buildTag("div.e-selectpart e-select e-box"),this.element.append(this.innerdiv),this.buttondiv=c.buildTag("input.e-inputbtn e-btn#"+this.control.id+"_SelectButton","",{},{type:"button","data-role":"none",value:this._getLocalizedLabels("browse")}),this.inputupload=c.buildTag("input.e-uploadinput","",{},{type:"file","data-role":"none",name:""!=this.model.uploadName?this.model.uploadName:this.control.id}).attr("accept",this.model.extensionsAllow),this.model.multipleFilesSelection&&0==(-1!=navigator.userAgent.indexOf("Safari")&&-1==navigator.userAgent.indexOf("Chrome"))&&this.inputupload.attr("multiple","multiple"),this.innerdiv.append(this.buttondiv),this.innerdiv.append(this.inputupload),this.model.allowDragAndDrop&&this._dragAndDrop(!0),this._Selector=this.buttondiv[0],this._currentElement=this.model.allowDragAndDrop&&!this.model.showBrowseButton?this.dragWrapper:this.element,this._setRTL(this.model.enableRTL),this._addAttr(this.model.htmlAttributes),this.Uploadframes=[],this.UploadForms=[],this._successFiles=[],this.UploadType=this._isXhrSupported()?"Xhr":"IFrame",""!=this.model.width&&this._setWidth(this.model.width),""!=this.model.height&&this._setHeight(this.model.height),this._hideBrowseButton()},_refreshUploadDialogParent:function(){this.diaObj&&this.diaObj.setModel({target:null!=this.model.dialogAction.content&&""!=this.model.dialogAction.content?this.model.dialogAction.content:!this.model.showBrowseButton&&this.model.allowDragAndDrop?"#"+this.control.id+"_dragWrapper":"#"+this.control.id})},_hideBrowseButton:function(){!this.model.showBrowseButton&&this.model.allowDragAndDrop?(this.element.addClass("e-browse-hide"),this._dropAreaSize()):this.element.hasClass("e-browse-hide")&&(this.element.removeClass("e-browse-hide"),this.element.width(this.model.width),this.element.height(this.model.height))},_setSize:function(){this.model.allowDragAndDrop&&(""!=this.model.dropAreaWidth&&this.dragWrapper.outerWidth(this.model.dropAreaWidth),""!=this.model.dropAreaHeight&&this.dragWrapper.outerHeight(this.model.dropAreaHeight),this.model.showBrowseButton||this._dropAreaSize())},_dropAreaSize:function(){""!=this.model.dropAreaWidth&&this.element.width(this.model.dropAreaWidth),""!=this.model.dropAreaHeight&&this.element.height(this.model.dropAreaHeight)},_addAttr:function(e){var i=this;h.map(e,function(e,t){"class"==t?i.element.addClass(e):"disabled"==t&&"disabled"==e?i.disable():i.element.attr(t,e)})},_dragAndDrop:function(){this.model.allowDragAndDrop?(this.dragWrapper=c.buildTag("div.e-drag-wrapper e-widget-wrapper e-upload-box "+this.model.cssClass+"#"+this.control.id+"_dragWrapper"),this.innerWrapper=c.buildTag("div.e-drag-container"),this._spanTag=c.buildTag("span.e-drag-text").html(("en-US"==this.model.locale?this.model:c.Uploadbox.Locale[this.model.locale]).dropAreaText),this.innerWrapper.append(this._spanTag),this.innerWrapper.insertBefore(this.element),this.dragWrapper.insertBefore(this.element),this.innerWrapper.append(this.element),this.dragWrapper.append(this.innerWrapper),this._bindDragEvents(),this._refreshUploadDialogParent(),this._setSize()):(this._refreshUploadDialogParent(),this.element.insertBefore(this.dragWrapper),this.dragWrapper.remove(),this._unBindDragEvents()),this._hideBrowseButton()},_resizeHandler:function(){this.diaObj&&(750<h(window).width()?(h(this.updialog).closest(".e-dialog.e-uploadbox").removeClass("e-mobile-upload"),this.diaObj.setModel({width:this._getDialogContentWidth(),height:"auto"})):(h(this.updialog).closest(".e-dialog.e-uploadbox").addClass("e-mobile-upload"),this.diaObj.setModel({width:250,height:"auto"})),this.diaObj.scroller)&&this.diaObj.scroller.setModel({height:"auto"})},_getDialogContentWidth:function(){var e=0;return this.model.customFileDetails.name&&(e+=200),this.model.customFileDetails.size&&(e+=100),this.model.customFileDetails.status?e+=200:this.model.customFileDetails.action&&(e+=45),e+5},_dropAreaText:function(e){this.model.allowDragAndDrop&&this._spanTag.html(e)},_bindDragEvents:function(){this._on(this.dragWrapper,"dragover",this._onDragOverHandler),this._on(this.dragWrapper,"drop",this._onDropHandler)},_unBindDragEvents:function(){this._off(this.dragWrapper,"dragover",this._onDragOverHandler),this._off(this.dragWrapper,"drop",this._onDropHandler)},_setWidth:function(e){this.element.css("width",e)},_setHeight:function(e){this.element.height(e)},_dialogPosition:function(){var e;this.diaObj&&(this.diaObj.model.content!="#"+this.control.id&&this.diaObj.model.content!="#"+this.control.id+"_dragWrapper"||""!=this.model.dialogPosition.X||""!=this.model.dialogPosition.Y||(e=parseInt(this.diaObj.wrapper.css("left"))-(this.diaObj.wrapper.outerWidth()-h(this.diaObj.model.content).outerWidth())/2,this.model.dialogPosition.X=0<parseInt(e)?e:parseInt(this.diaObj.wrapper.css("left")),this.model.dialogPosition.Y=parseInt(this.diaObj.wrapper.css("top"))+h(this.diaObj.model.content).outerHeight()),""!=this.model.dialogPosition.X)&&""!=this.model.dialogPosition.Y&&this.diaObj.setModel({position:this.model.dialogPosition})},_roundedCorner:function(e){e?this.innerdiv.addClass("e-corner"):this.innerdiv.hasClass("e-corner")&&this.innerdiv.removeClass("e-corner")},_wireEvents:function(){this._on(this.element,"click",this._disableclickselect),this._on(this.element,"keydown",this._keydownselect),this._bindInputChangeEvent(),this._bindResizeHandler(!0)},_bindResizeHandler:function(e){e?h(window).on("resize",h.proxy(this._resizeHandler,this)):h(window).off("resize",h.proxy(this._resizeHandler,this))},_keydownselect:function(e){this.element.hasClass("e-disable")||13!=e.keyCode||this.diaObj&&this.diaObj.isOpened()||this.element.find(".e-uploadinput").click()},_onDropHandler:function(e){if("msie"===c.browserInfo().name&&"8.0"===c.browserInfo().version||"9.0"===c.browserInfo().version||this._currentElement.hasClass("e-disable"))return!1;e.stopPropagation(),e.preventDefault(),this._files=this._getAllFileInfo(e.originalEvent.dataTransfer.files),this._fileSelect(e)},_onDragOverHandler:function(e){if(this._currentElement.hasClass("e-disable"))return!1;e.stopPropagation(),e.preventDefault()},_disableclickselect:function(e){this._currentElement.hasClass("e-disable")&&e.preventDefault()},_bindInputChangeEvent:function(){this._on(this.inputupload,"change",this._inputValueChange)},_inputValueChange:function(e){return this._files=this._getInputFileInfo(h(e.target)),this._fileSelect(e)},_fileSelect:function(e){if(this._trigger("fileSelect",{files:this._files}))return this._resetFileInput(this._currentElement.find(".e-uploadinput")),!1;this._fileUpload(e)},_fileUpload:function(e){var t=this._isAllowed(this._files);this._files=t.files,this.model.asyncUpload?null!=t.files&&0<t.files.length&&("Xhr"==this.UploadType?this._onXhrSelect(e):this._onSelectIFrame(e),this._resetFileInput(this._currentElement.find(".e-uploadinput"))):t.status&&this._onSelectSyncUpload(e),this._renderTooltip()},__uploadButtonClick:function(e){this._currentElement.hasClass("e-disable")||(this._currentElement.find(".e-uploadbtn"),this._currentElement.find(".e-uploadbtn").hasClass("e-disable")?e.preventDefault():"Xhr"==this.UploadType?this._xhrOnUploadButtonClick(e):this._onUploadButtonClickIFrame(e),h(e.target).attr("disabled","disabled").addClass("e-disable"))},_actionClick:function(e){var t,i;this._currentElement.hasClass("e-disable")||(i=(t=h(e.target)).closest(".e-upload-file"),this._file=h(i).data("file"),t.hasClass("e-delete")?"Xhr"==this.UploadType?this._xhrOnRemove(e,i):this._onRemoveIFrame(e,i):t.hasClass("e-file-cancel")?(this._trigger("cancel",{fileStatus:this._file}),this.updialog.find(".e-file-cancel").hasClass("e-disable")?e.preventDefault():this.model.asyncUpload?(this._removeFile(h(i).data("file")),"Xhr"==this.UploadType?this._xhrOnCancel(e,i):this._onCancelIFrame(e,i)):this._onCancelSyncUpload(e,i)):t.hasClass("e-reload")&&("Xhr"==this.UploadType?this._xhrOnRetry(e,i):this._onRetryIFrame(e,i)))},_removeFileEntry:function(e){e.remove()},_removeFile:function(e){for(var t=[],i=0;i<this._files.length;i++)this._files[i]!=e&&t.push(this._files[i]);this._files=t},_isFileUpload:function(e){return!this.model.customFileDetails.action||h(e).find("div.e-icon").is(".e-file-cancel")},_isXhrSupported:function(){return!("msie"==this.s.name&&parseInt(this.s.version)<9||"safari"==this.s.name&&"chrome"==this.s.name&&"536"==this.s.version)&&"undefined"!=typeof FormData&&"undefined"!=typeof File},_getFileName:function(e){return h.map(this._getAllFileInfo(e),function(e){return e.name}).join(", ")},_getFileSize:function(e){var t=this;return h.map(this._getAllFileInfo(e),function(e){return t._formatSize(e.size)}).join(", ")},_pushFile:function(e,t){var i,n,o,s,r=h("<div class='e-head-content'></div>"),a=h("<div class='e-file-head e-head-name'>"+this._getLocalizedLabels("name")+"</div>"),l=h("<div class='e-file-head e-head-size'>"+this._getLocalizedLabels("size")+"</div>"),d=h("<div class='e-file-head e-head-status'>"+this._getLocalizedLabels("status")+"</div>");for(this.model.customFileDetails.name&&h(a).appendTo(r),this.model.customFileDetails.size&&h(l).appendTo(r),this.model.customFileDetails.status&&h(d).appendTo(r),(filedialog=this.updialog)&&0!=filedialog.length?this.model.showFileDetails&&(this.updialog&&this.updialog.find(".e-uploadbtn").removeAttr("disabled").removeClass("e-disable"),this.diaObj.open()):(this.updialog=c.buildTag("div.uploaddialog#"+this.element[0].id+"_dialog","",{},{title:this._getLocalizedLabels("title")}),DialogContentContainer=this.model.allowDragAndDrop&&!this.model.showBrowseButton?(this.dragWrapper.append(this.updialog),"#"+this.control.id+"_dragWrapper"):(this.element.append(this.updialog),"#"+this.control.id)),i=this.updialog.find(".e-ul"),h(this.updialog.find(".e-head-content"))&&h(this.updialog.find(".e-head-content")).replaceWith(r),0==i.length&&(r.appendTo(this.updialog),i=c.buildTag("ul.e-ul").appendTo(this.updialog)),0<h(this.updialog).find(".e-file-upload").length&&h(this.updialog).find(".e-file-upload").remove(),fileListActions=c.buildTag("div.e-file-upload").appendTo(this.updialog).append(this.model.autoUpload||!this.model.asyncUpload?h(c.buildTag("div.e-action-container")).addClass("sync"):c.buildTag("div.e-action-container")),dialogActions=c.buildTag("button.e-uploadclosebtn e-btn e-select",this._getLocalizedLabels("cancel"),{},{type:"button","data-role":"none"}).appendTo(h(this.updialog).find(".e-action-container")),this.model.showRoundedCorner&&dialogActions.addClass("e-corner"),this._on(dialogActions,"click",this._dialogclose),this._on(dialogActions,"keydown",this._keydownDialogClose),a=null!=this.model.dialogAction.content&&""!=this.model.dialogAction.content?this.model.dialogAction.content:DialogContentContainer,this.updialog.ejDialog({showOnInit:!1,closeIconTooltip:this._getLocalizedLabels("closeToolTip"),minWidth:240,width:h(window).width()<750?250:this._getDialogContentWidth(),height:"auto",cssClass:"e-uploadbox "+this.model.cssClass,close:h.proxy(this._uploadFileListDelete,this),enableRTL:this.model.enableRTL,target:a,enableResize:!1,allowDraggable:this.model.dialogAction.drag,enableModal:!!this.model.asyncUpload&&this.model.dialogAction.modal,showHeader:this.model.customFileDetails.title,showRoundedCorner:this.model.showRoundedCorner}),h(window).width()<750?h(this.updialog).closest(".e-dialog.e-uploadbox").addClass("e-mobile-upload"):h(this.updialog).closest(".e-dialog.e-uploadbox").removeClass("e-mobile-upload"),this.diaObj=this.updialog.data("ejDialog"),""!=this.model.cssClass&&this.diaObj.setModel({cssClass:this.model.cssClass}),this._dialogPosition(),this.model.multipleFilesSelection||this.updialog.find(".e-ul>.e-upload-file").remove(),o=0;o<e.length;o++)n=h("<li class='e-upload-file'></li>").appendTo(i).data(t),addedlist=h("<div class='e-file-list'></div>"),addedfilename=h("<div class='e-file-progress e-file-view'><div class='e-file-name e-file-view'><span class='e-file-name-txt'>"+e[o].name+"</span></div>"),s="<div class='e-file-size e-file-view'><span class='e-file-name-txt'>"+this._formatSize(e[o].size)+"</span></div>",addedfilestatus=h("<div class='e-file-percentage e-file-view'><div class='e-file-progress-bar'><div class='e-file-progress-status'></div></div></div>"),addedfileaction=h("<div class='e-action-perform'><div class='e-icon e-file-view'></div></div>"),this.model.customFileDetails.name&&h(addedfilename).appendTo(addedlist),this.model.customFileDetails.size&&(0==this._getFileSize(e[o]).toString().toLowerCase().match("0.0kb").length||null!=e[o].size?h(s).appendTo(addedlist):h(this.updialog).find(".e-head-size").remove()),this.model.customFileDetails.status&&h(addedfilestatus).appendTo(addedlist),this.model.customFileDetails.action&&(h(addedfileaction).appendTo(addedlist),s="cancel",addedlist.find(".e-icon").remove().addClass(s.toString()),s=c.buildTag("div.e-icon e-file-cancel","",{},{"data-content":this._getLocalizedLabels("cancelToolTip")}),addedlist.find(".e-action-perform").append(s),this._on(s,"click",this._actionClick)),h(addedlist).appendTo(n);return this.model.showFileDetails&&this.diaObj.open(),this._buttonText(this.model.buttonText),this._dialogText(this.model.dialogText),n},_keydownDialogClose:function(e){this._currentElement.hasClass("e-disable")||13==e.keyCode&&this._dialogclose()},_pushFileDetails:function(e){var t,i=h("<div class='e-head-content'></div>"),n=h("<div class='e-file-head e-head-name'>"+this._getLocalizedLabels("name")+"</div>"),o=h("<div class='e-file-head e-head-size'>"+this._getLocalizedLabels("size")+"</div>"),s=h("</div><div class='e-file-head e-head-status'>"+this._getLocalizedLabels("status")+"</div>");return this.model.customFileDetails.name&&h(n).appendTo(i),this.model.customFileDetails.size&&h(o).appendTo(i),this.model.customFileDetails.status&&h(s).appendTo(i),(filedialog=this.updialog)&&0!=filedialog.length?this.model.showFileDetails&&(DialogContentContainer="#"+this.control.id,this.updialog&&this.updialog.find(".e-uploadbtn").removeAttr("disabled").removeClass("e-disable"),this.diaObj.open()):(this.updialog=c.buildTag("div.uploaddialog#"+this.element[0].id+"_dialog","",{},{title:this._getLocalizedLabels("title")}),DialogContentContainer=this.model.allowDragAndDrop&&!this.model.showBrowseButton?(this.dragWrapper.append(this.updialog),"#"+this.control.id+"_dragWrapper"):(this.element.append(this.updialog),"#"+this.control.id)),n=this.updialog.find(".e-ul"),h(this.updialog.find(".e-head-content"))&&h(this.updialog.find(".e-head-content")).replaceWith(i),0==n.length&&(i.appendTo(this.updialog),n=c.buildTag("ul.e-ul").appendTo(this.updialog)),0<h(this.updialog).find(".e-file-upload").length&&h(this.updialog).find(".e-file-upload").remove(),fileListActions=c.buildTag("div.e-file-upload").appendTo(this.updialog).append(this.model.autoUpload||!this.model.asyncUpload?h(c.buildTag("div.e-action-container")).addClass("sync"):c.buildTag("div.e-action-container")),dialogActions=c.buildTag("button.e-uploadclosebtn e-btn e-select",this._getLocalizedLabels("cancel"),{},{type:"button","data-role":"none"}).appendTo(h(this.updialog).find(".e-action-container")),this.model.showRoundedCorner&&dialogActions.addClass("e-corner"),this._on(dialogActions,"click",this._dialogclose),this.model.multipleFilesSelection||this.updialog.find(".e-ul>.e-upload-file").remove(),o=h("<li class='e-upload-file'></li>").appendTo(n).data("file",e),s=h("<div class='e-file-list'></div>"),i=h("<div class='e-file-progress e-file-view'><div class='e-file-name e-file-view'><span class='e-file-name-txt'>"+e.name+"</span></div>"),n=h("<div class='e-file-size e-file-view'><span class='e-file-name-txt'>"+this._formatSize(0)+"\\"+this._formatSize(e.size)+"</span></div>"),e=h("<div class='e-file-percentage e-file-view'><div class='e-file-progress-bar'><div class='e-file-progress-status'></div></div></div>"),t=h("<div class='e-action-perform'><div class='e-icon e-file-view'></div></div></div>"),this.model.customFileDetails.name&&h(i).appendTo(s),this.model.customFileDetails.size&&h(n).appendTo(s),this.model.customFileDetails.status&&h(e).appendTo(s),this.model.customFileDetails.action&&h(t).appendTo(s),h(s).appendTo(o),i=null!=this.model.dialogAction.content&&""!=this.model.dialogAction.content?this.model.dialogAction.content:DialogContentContainer,this.updialog.ejDialog({showOnInit:!1,closeIconTooltip:this._getLocalizedLabels("closeToolTip"),minWidth:240,width:h(window).width()<750?250:this._getDialogContentWidth(),height:"auto",cssClass:"e-uploadbox "+this.model.cssClass,close:h.proxy(this._uploadFileListDelete,this),enableRTL:this.model.enableRTL,target:i,enableResize:!1,allowDraggable:this.model.dialogAction.drag,enableModal:!!this.model.asyncUpload&&this.model.dialogAction.modal,showHeader:this.model.customFileDetails.title,showRoundedCorner:this.model.showRoundedCorner}),h(window).width()<750?h(this.updialog).closest(".e-dialog.e-uploadbox").addClass("e-mobile-upload"):h(this.updialog).closest(".e-dialog.e-uploadbox").removeClass("e-mobile-upload"),this.diaObj=this.updialog.data("ejDialog"),""!=this.model.cssClass&&this.diaObj.setModel({cssClass:this.model.cssClass}),this._dialogPosition(),this.model.showFileDetails&&this.diaObj.open(),this._buttonText(this.model.buttonText),this._dialogText(this.model.dialogText),o},_setProgress:function(e,t,i){this.model.customFileDetails.status&&h(e).find(".e-file-progress-status").width(t+"%"),this.model.customFileDetails.size&&(t=h(e).find(".e-file-size .e-file-name-txt"),e=this._formatSize(i.loaded),i=this._formatSize(i.total),t.html(e+"\\"+i))},_setAction:function(e,t){var i;this.model.customFileDetails.action&&(e.find(".e-action-perform .e-icon,.e-file-percentage .e-icon").remove().addClass(t.toString()),"cancel"==t?i=c.buildTag("div.e-icon e-file-cancel","",{},{"data-content":this._getLocalizedLabels("cancelToolTip")}):"remove"==t?i=c.buildTag("div.e-icon e-delete","",{},{"data-content":this._getLocalizedLabels("removeToolTip")}):"retry"==t&&(i=c.buildTag("div.e-icon e-reload","",{},{"data-content":this._getLocalizedLabels("retryToolTip")})),e.find(".e-action-perform").append(i),this._on(i,"click",this._actionClick))},_setStatus:function(e,t){var i;this.model.customFileDetails.status&&(i=c.buildTag("div"),"success"==t&&(e.find(".file-status").addClass("e-file-status-success").html("Completed"),e.find(".e-file-percentage").html(""),i.addClass("e-icon e-checkmark").attr("data-content",this._getLocalizedLabels("completedToolTip")),e.find(".e-file-percentage").append(i)),"failed"==t&&(e.find(".file-status").addClass("e-file-status-failed").html("Failed"),e.find(".e-file-percentage").html(""),i.addClass("e-icon e-file-percentage-failed").attr("data-content",this._getLocalizedLabels("failedToolTip")),e.find(".e-file-percentage").append(i)),"progress"==t&&e.find(".file-status").addClass("file-status-inprogress").html("in progress"),"uploading"==t)&&(e.find(".file-status").addClass("file-status-inprogress").html("uploading"),e.find(".e-file-percentage").html(""))},_renderTooltip:function(){c.isNullOrUndefined(this.updialog)||(this.upTooltip=h(this.updialog).ejTooltip({target:".e-file-cancel, .e-delete, .e-reload, .e-checkmark, .e-close, .e-file-percentage-failed",content:" ",isBalloon:!1,showRoundedCorner:this.model.showRoundedCorner,enableRTL:this.model.enableRTL,position:{target:{horizontal:"center",vertical:"bottom"},stem:{horizontal:"left",vertical:"top"}}}).data("ejTooltip"),h(this.upTooltip.tooltip).css({"min-width":"auto"}))},_createInputandBind:function(){var e=c.buildTag("input","",{},{type:"file","data-role":"none"});e.attr("name",""!=this.model.uploadName?this.model.uploadName:this.control.id).attr("autocomplete","off").attr("class","e-uploadinput").attr("accept",this.model.extensionsAllow),this.model.multipleFilesSelection&&0==(-1!=navigator.userAgent.indexOf("Safari")&&-1==navigator.userAgent.indexOf("Chrome"))&&e.attr("multiple","multiple"),e.appendTo(this.element.find(".e-selectpart")),this.inputupload=e,this._bindInputChangeEvent()},_showUploadButton:function(){var e=this.updialog.find(".e-uploadbtn");0==e.length&&(e=c.buildTag("button.e-uploadbtn e-btn e-select",this._getLocalizedLabels("upload"),{},{type:"button","data-role":"none"}),this.model.showRoundedCorner&&e.addClass("e-corner"),this.updialog.find(".e-action-container").append(e),this._on(e,"click",this.__uploadButtonClick),this._on(e,"keydown",this._keydownUpload),h(e).focus()),this._buttonText(this.model.buttonText)},_keydownUpload:function(e){13==e.keyCode&&this.__uploadButtonClick(e)},_resetFileInput:function(e){var t=e.clone(!1,!1);this._on(t,"change",this._inputValueChange),e.replaceWith(t)},_isAllowed:function(e){var t,i,n,o,s=this,r=[],a=[],l=!0,d=this.element.find(".e-uploadinput"),c=this;return""!=this.model.extensionsAllow?(i=this.model.extensionsAllow.replace(/\s/g,"").toLowerCase().split(","),h(e).each(function(){-1==h.inArray(this.extension.toLowerCase(),i)?(t={action:"Files Processing",error:s._getLocalizedLabels("allowError").replace("#Extension",i.join(", ")),files:this},c._trigger("error",t),s._resetFileInput(d),l=!1):""!=this.extension&&r.push(this)})):""!=this.model.extensionsDeny?(o=this.model.extensionsDeny.replace(/\s/g,"").toLowerCase().split(","),h(e).each(function(){-1!=h.inArray(this.extension.toLowerCase(),o)?(t={action:"Files Processing",error:s._getLocalizedLabels("denyError").replace("#Extension",o.join(", ")),files:this},c._trigger("error",t),s._resetFileInput(d),l=!1):""!=this.extension&&r.push(this)})):h(e).each(function(){""!=this.extension&&r.push(this)}),""!=this.model.fileSize?(n=this.model.fileSize,h(r).each(function(){this.size>n?(t={action:"Files Processing",error:s._getLocalizedLabels("filedetail").replace("#fileSize",n),files:this},c._trigger("error",t),s._resetFileInput(d),l=!1):a.push(this)})):a=r,{files:a,status:l}},_fileListRemove:function(){0==(fileList=this.updialog.find(".e-upload-file .e-delete")).length&&(this.updialog.find(".e-uploadbtn").attr("disabled","disabled").addClass("e-disable"),this.updialog.ejDialog("close"))},_uploadHide:function(){0==(fileList=this.updialog.find(".e-upload-file .e-file-cancel")).length&&(this.updialog.find(".e-ul").empty(),this.updialog.find(".e-uploadbtn").attr("disabled","disabled").addClass("e-disable"),this.updialog.ejDialog("close"),this.upTooltip.hide())},_onBeforeClose:function(e){c.isNullOrUndefined(e.event)||(e.cancel=!!h(e.event.currentTarget).hasClass("e-disable"))},_dialogclose:function(e){var t,i;this._currentElement.hasClass("e-disable")||(t=this.updialog.find(".e-uploadclosebtn"),i=this.updialog.find(".e-ul").children().first(),i=h(i).data("file"),t.hasClass("e-disable")?e.preventDefault():(this._uploadFileListDelete(),this.updialog.ejDialog("close")),this._trigger("cancel",{fileStatus:i}))},_uploadFileListDelete:function(){this.updialog.find(".e-ul").empty(),this._currentElement.find(".e-uploadinput").val(""),this._resetFileInput(this._currentElement.find(".e-uploadinput")),this.model.asyncUpload||this._formResetSyncUpload()},_onXhrSelect:function(){var i,n;this._xhrBeforeUpload(this._files),h.each((i=this)._files,function(e,t){n=h(t).data("filelist"),i._setAction(n,"cancel"),i.model.autoUpload?i._xhrPerformUpload(t):i._showUploadButton()})},_xhrBeforeUpload:function(e){var i,n=this;return h.each(e,function(e,t){i=n._createFormObjectXhr(t),h(t).data("formobject",i),i=n._pushFileDetails(t),h(t).data("filelist",i)}),e},_xhrPerformUpload:function(t){var e,i,n,o,s;o=new XMLHttpRequest,(i=this)._trigger("begin",s={files:t})||(e=this.model.saveUrl,(n=h(t).data("formobject")).append((this.model.uploadName&&""!=this.model.uploadName?this.model.uploadName:this.control.id)+"_data",JSON.stringify(s.data)),h(t).data("xhr",o),o.addEventListener("load",function(e){i._onRequestSuccess(i,e,t)},!1),o.addEventListener("error",function(e){i._onRequestError(i,e,t)},!1),o.upload.addEventListener("progress",function(e){i._onRequestProgress(i,e,t)},!1),o.open("POST",e),this._trigger("beforeSend",{files:t,xhr:o}))?(h(t).data("xhr",o),i._onRequestError(i,void 0,t)):o.send(n)},_xhrOnUploadButtonClick:function(){var e=(this.model.showBrowseButton?this.diaObj.wrapper:this.dragWrapper).find(".e-ul li.e-upload-file");for(i=0;i<e.length;i++)h(this),this._isFileUpload(e[i])&&this._xhrPerformUpload(h(e[i]).data("file"))},_xhrOnRemove:function(e,t){var i=h(t).find(".e-file-name").text().toString().split(","),n=this;h.ajax({url:this.model.removeUrl,type:"POST",data:"fileNames="+i,success:function(){h(t).remove(),n._fileListRemove(),n._trigger("remove",{fileStatus:n._file})}}),this.upTooltip.hide()},_xhrOnCancel:function(e,t){var i=h(t).data("file");h(i).data("xhr")&&h(i).data("xhr").abort(),h(i).data("xhr",null),h(t).data("file",null),h(t).remove(),this._uploadHide()},_xhrOnRetry:function(e,t){this._currentElement.hasClass("e-disable")||(t=h(t).data("file"),this._xhrPerformUpload(t))},_onRequestSuccess:function(e,t,i){var n=h(i).data("xhr");200<=n.status&&n.status<=299?e._onXhrUploadSuccess(e,t,i):e._onRequestError(e,t,i)},_onXhrUploadSuccess:function(e,t,i){var n,o=h(i).data("filelist"),s=h(i).data("xhr");e.model.removeUrl?e._setAction(o,"remove"):o.find(".e-action-perform .e-icon,.e-file-percentage .e-icon").remove(),e._setStatus(o,"success"),0<h(i).length&&(h(o).find(".e-file-progress-status").width("100%"),n=h(i)[0].size,n=this._formatSize(n),h(o).find(".e-file-size .e-file-name-txt").html(n+"\\"+n)),o={files:i,responseText:s.responseText,xhr:s,e:t},this.updialog.find(".e-file-upload .e-uploadclosebtn").html(this.model.buttonText.close).focus(),e._trigger("success",o),this._successFiles.push(i),e._files.length==this._successFiles.length&&(o={files:i,responseText:s.responseText,success:this._successFiles,xhr:s,e:t},e._trigger("complete",o),this._successFiles.length=0,this.model.dialogAction.closeOnComplete)&&this._dialogclose()},_onRequestError:function(e,t,i){var n=h(i).data("filelist"),o=h(i).data("xhr");e._setAction(n,"retry"),e._setStatus(n,"failed"),n={action:"File Processing",error:o.status?o.status+" "+o.statusText:"Unable to reach the server.",files:i,xhr:o,e:t},e._trigger("error",n)},_onRequestProgress:function(e,t,i){var n=Math.round(100*t.loaded/t.total),o=h(i).data("filelist");e._setProgress(o,n,t),e._setStatus(o,"progress"),this._trigger("inProgress",{file:i,percentage:n,e:t})},_createFormObjectXhr:function(e){var t=new FormData;return t.append(""!=this.model.uploadName?this.model.uploadName:this.control.id,e.rawFile),t},_getInputFileInfo:function(e){e=e[0];return e.files?this._getAllFileInfo(e.files):[{name:this._GetName(e.value),extension:this._getFileExtensionType(e.value),size:this._getFileSizeinIE(e.value)}]},_getFileSizeinIE:function(e){var t=null,i=null;try{t=new ActiveXObject("Scripting.FileSystemObject")}catch(e){i=null}return i=t?t.getFile(e).size:i},_getFileExtensionType:function(e){return e.match&&e.match(/\.([^\.]+)$/)?e.match(/\.([^\.]+)$/)[0]:""},_getAllFileInfo:function(t){var i=this;return h.map(t,function(e){return i._getFileInfo(e||t)})},_GetName:function(e){var t=e.lastIndexOf("\\");return-1!=t?e.substr(t+1):e},_getFileInfo:function(e){var t=e.name||e.fileName||e;return{name:t,extension:this._getFileExtensionType(t),size:e.size||e.fileSize,rawFile:e}},_formatSize:function(e){var t=-1;if(!e)return"0.0KB";for(;t++,99<(e/=1024););return Math.max(e,0).toFixed(1)+["KB","MB","GB","TB","PB","EB"][t]},_onSelectIFrame:function(e){e=h(e.target),e=this._getInputFileInfo(e),e=this._beforeUploadIFrame(e);e.data("iframe");this.model.autoUpload?this._performUploadIFrame(e):this._showUploadButton(),this._off(this.inputupload,"change"),this._bindInputChangeEvent()},_onRemoveIFrame:function(e,t){var i=t.data("iframe"),n=h(t).data("file")[0].name,o=this;i?(this._removeFileEntry(t),this.model.removeUrl&&h.ajax({url:this.model.removeUrl,type:"POST",data:"fileNames="+n,success:function(){o._fileListRemove(),o._trigger("remove",{fileStatus:o._file})}})):(this._removeFileEntry(t),this._trigger("remove",{fileStatus:this._file}))},_onCancelIFrame:function(e,t){var i;this._trigger("cancel",{Status:t}),(i=t.data("iframe"))&&(this._removeFileEntry(t),void 0!==i.stop?i.stop():i.document&&(i.document.execCommand("Stop"),i.contentWindow.location.href=i.contentWindow.location.href),this._processServerResponse(i,"")),this._uploadHide()},_onRetryIFrame:function(e,t){this._performUploadIFrame(t)},_beforeUploadIFrame:function(e){var t,i=this._createFrame(this.control.id+"_Iframe"+this.Uploadframes.length);return this.Uploadframes.push(i),t=this._createForm(this.model.saveUrl,i[0].id),this._currentElement.find("input.e-uploadinput").removeClass("e-uploadinput").css("display","none").appendTo(t),this._createInputandBind(),t=this._pushFile(e,{iframe:i,form:t,file:e}),i.data({filelist:t}),this._setAction(t,"cancel"),t},_performUploadIFrame:function(e){var t,i;this._trigger("begin",i={files:e})?this._failureIframeUpload(e,"File upload has been denied"):(e.data("file"),this._setStatus(e,"uploading"),t=e.data("iframe"),e=e.data("form"),i=h("<input>").attr("name",(this.model.uploadName&&""!=this.model.uploadName?this.model.uploadName:this.control.id)+"_data").attr("type","hidden").val(JSON.stringify(i.data)),e.append(i),t.appendTo(document.body),e.appendTo(document.body),this._on(t,"load",this._removeFramesIFrame),e.submit())},_onUploadButtonClickIFrame:function(){var e,t=this;h(".e-ul li.e-upload-file",t.updialog).each(function(){e=h(this),t._isFileUpload(e)&&t._performUploadIFrame(e)})},_removeFramesIFrame:function(e){var t,i=h(e.target),n=i.data("filelist");try{t=h.trim(i.context.contentDocument.body.innerText.replace(/\n|\r/g," "))}catch(e){t="Server Error trying to get server response: "+e}"Server Error"!=t.substring(0,12)&&0!=t.indexOf("HTTP Error")?(this._processServerResponse(i,t),this._setIframeProgress(n,100,e),this._setStatus(n,"progress"),this._successIframeUpload(n,t)):this._failureIframeUpload(n,t)},_setIframeProgress:function(e,t){h(e).find(".e-file-progress-status").width(t+"%")},_successIframeUpload:function(e,t){fileEntry=e.data("file"),this.model.removeUrl?this._setAction(e,"remove"):e.find(".file-action").remove(),this._setStatus(e,"success"),args={files:fileEntry,responseText:t},this.updialog.find(".e-file-upload .e-uploadclosebtn").html(this.model.buttonText.close).focus(),this._trigger("success",args),this._successFiles.push(fileEntry),e.length==this._successFiles.length&&(args={files:fileEntry,responseText:t,success:this._successFiles},this._trigger("complete",args),this._successFiles.length=0,this.model.dialogAction.closeOnComplete)&&this._dialogclose()},_failureIframeUpload:function(e,t){fileEntry=e.data("file"),this.model.saveUrl&&"File upload has been denied"!=t?this._setAction(e,"retry"):e.find(".file-action").remove(),this._setStatus(e,"failed"),args=0==t.indexOf("HTTP Error")?{files:fileEntry,responseText:t,status:t.match(/\d+/).toString()}:{files:fileEntry,responseText:t},this._trigger("error",args)},_processServerResponse:function(e){var t=h(document.body).find("form[target='"+h(e).attr("id")+"']");setTimeout(function(){t.remove(),e.remove()},0)},_createDivBlock:function(e){return c.buildTag("div."+e)},_createForm:function(e,t){return c.buildTag("form","",{},{enctype:"multipart/form-data",method:"POST",action:e,target:t})},_createFrame:function(e){return c.buildTag("iframe#"+e,"",{display:"none"},{name:e})},_createInput:function(e){return c.buildTag("input","",{},{type:"file",name:e,"data-role":"none"})},_initObjectsSyncUpload:function(){this._currentElement.closest("form").attr("enctype","multipart/form-data").attr("encoding","multipart/form-data"),this._wireEventsSyncUpload()},_wireEventsSyncUpload:function(){var e=this._currentElement.closest("form")[0];this._on(h(e),"submit",this._formSubmitSyncUpload),this._on(h(e),"reset",this._formResetSyncUpload)},_onSelectSyncUpload:function(e){var e=h(e.target),t=h(".e-selectpart",this.control);this._currentElement.find("input.e-uploadinput").removeClass("e-uploadinput").css("display","none").appendTo(t),this._createInputandBind(),this._pushFile(this._files,{file:this._files,Input:e})},_onCancelSyncUpload:function(e,t){var i=t.data("Input");t.data("file",null),t.data("Input",null),t.remove(),i.remove(),this._uploadHide()},_formSubmitSyncUpload:function(){var e,t=h(".e-uploadinput",this.control);t.attr("name",""),e=""!=this.model.uploadName?this.model.uploadName:this.control.id,setTimeout(function(){t.attr("name",e)},0)},_formResetSyncUpload:function(){h(".e-selectpart",this.control).children('input[type="file"]').each(function(){h(this).hasClass("e-uploadinput")||h(this).remove()})}}),c.Uploadbox.Locale=c.Uploadbox.Locale||{},c.Uploadbox.Locale.default=c.Uploadbox.Locale["en-US"]={buttonText:{upload:"Upload",browse:"Browse",cancel:"Cancel",close:"Close"},dialogText:{title:"Upload Box",name:"Name",size:"Size",status:"Status"},dropAreaText:"Drop files or click to upload",filedetail:"The selected file size is too large.  Please select a file within #fileSize",denyError:"Files with #Extension extensions are not allowed.",allowError:"Only files with #Extension extensions are allowed.",cancelToolTip:"Cancel",removeToolTip:"Remove",retryToolTip:"Retry",completedToolTip:"Completed",failedToolTip:"Failed",closeToolTip:"Close"}});