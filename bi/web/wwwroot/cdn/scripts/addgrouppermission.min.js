!function(e){"function"==typeof define&&define.amd?define(["jquery"],e):e()}(function(){var e;window.ej=window.Syncfusion=window.Syncfusion||{},function(g,f,h){"use strict";f.version="14.4.0.15",f.consts={NamespaceJoin:"-"},f.TextAlign={Center:"center",Justify:"justify",Left:"left",Right:"right"},f.Orientation={Horizontal:"horizontal",Vertical:"vertical"},f.serverTimezoneOffset=0,f.persistStateVersion=null,Object.prototype.hasOwnProperty||(Object.prototype.hasOwnProperty=function(e,t){return e[t]!==h}),String.format=function(){for(var e=arguments[0],t=0;t<arguments.length-1;t++)e=e.replace(new RegExp("\\{"+t+"\\}","gm"),arguments[t+1]);return e.replace(/\{[0-9]\}/g,"")},jQuery.uaMatch=function(e){e=e.toLowerCase();e=/(chrome)[ \/]([\w.]+)/.exec(e)||/(webkit)[ \/]([\w.]+)/.exec(e)||/(opera)(?:.*version|)[ \/]([\w.]+)/.exec(e)||/(msie) ([\w.]+)/.exec(e)||e.indexOf("compatible")<0&&/(mozilla)(?:.*? rv:([\w.]+)|)/.exec(e)||[];return{browser:e[1]||"",version:e[2]||"0"}},f.defineClass=function(e,t,i,s){if(!e||!i)return h;for(var o=e.split("."),n=window,l=0;l<o.length-1;l++)f.isNullOrUndefined(n[o[l]])&&(n[o[l]]={}),n=n[o[l]];return(s||f.isNullOrUndefined(n[o[l]]))&&(n[o[l]]=t="function"==typeof t?t:function(){},n[o[l]].prototype=i),n[o[l]]},f.util={getNameSpace:function(e){e=e.toLowerCase().split(".");return"ej"===e[0]&&(e[0]="e"),e.join(f.consts.NamespaceJoin)},getObject:function(e,t){var i,s,o;if(!t)return h;for(i=t,s=e.split("."),o=0;o<s.length&&!f.util.isNullOrUndefined(i);o++)i=i[s[o]];return i},createObject:function(e,t,i){for(var s,o=e.split("."),e=i||window,n=e,l=o.length,a=0;a<l;a++)s=o[a],a+1==l?n[s]=t===h?{}:t:f.isNullOrUndefined(n[s])&&(n[s]={}),n=n[s];return e},isNullOrUndefined:function(e){return e===h||null===e},print:function(e,t){var i,s=f.buildTag("div"),e=e.clone();s.append(e),(t=t||window.open("","print","height=452,width=1024,tabbar=no")).document.write("<!DOCTYPE html>"),e=g("head").find("link").add("style"),"msie"===f.browserInfo().name?(i="",e.each(function(e,t){"LINK"==t.tagName&&g(t).attr("href",t.href),i+=t.outerHTML}),t.document.write("<html><head></head><body>"+i+s[0].innerHTML+"</body></html>")):(i="",t.document.write("<html><head>"),e.each(function(e,t){"LINK"==t.tagName&&g(t).attr("href",t.href),i+=t.outerHTML}),t.document.writeln(i+"</head><body>"),t.document.writeln(s[0].innerHTML+"</body></html>")),t.document.close(),t.focus(),setTimeout(function(){f.isNullOrUndefined(t.window)||(t.print(),setTimeout(function(){t.close()},1e3))},1e3)},ieClearRemover:function(e){var t=g(e).height();e.style.paddingTop=parseFloat(t/2)+"px",e.style.paddingBottom=parseFloat(t/2)+"px",e.style.height="1px",e.style.lineHeight="1px"},sendAjaxRequest:function(e){g.ajax({type:e.type,cache:e.cache,url:e.url,dataType:e.dataType,data:e.data,contentType:e.contentType,async:e.async,success:e.successHandler,error:e.errorHandler,beforeSend:e.beforeSendHandler,complete:e.completeHandler})},buildTag:function(e,t,i,s){var o=/^[a-z]*[0-9a-z]+/gi.exec(e)[0],n=(n=/#([_a-z]+[-_0-9a-z]+)/gi.exec(e))?n[n.length-1]:h,e=/\.([a-z]+[-_0-9a-z ]+)/gi.exec(e);return e=e?e[e.length-1]:h,g(document.createElement(o)).attr(n?{id:n}:{}).addClass(e||"").css(i||{}).attr(s||{}).html(t||"")},_preventDefaultException:function(e,t){if(e)for(var i in t)if(t[i].test(e[i]))return!0;return!1},getMaxZindex:function(){var e=1;return e=(e=Math.max.apply(null,g.map(g("body *"),function(e){if("absolute"==g(e).css("position")||"fixed"==g(e).css("position"))return parseInt(g(e).css("z-index"))||1})))!=h&&null!=e?e:1},blockDefaultActions:function(e){e.cancelBubble=!0,e.returnValue=!1,e.preventDefault&&e.preventDefault(),e.stopPropagation&&e.stopPropagation()},getDimension:function(e,t){var i,s,o,n=g(e).parents().andSelf().filter(":hidden");return n&&(s={visibility:"hidden",display:"block"},o=[],n.each(function(){var e,t={};for(e in s)t[e]=this.style[e],this.style[e]=s[e];o.push(t)}),i=/(outer)/g.test(t)?g(e)[t](!0):g(e)[t](),n.each(function(e){var t,i=o[e];for(t in s)this.style[t]=i[t]})),i},transitionEndEvent:function(){return{"":"transitionend",webkit:"webkitTransitionEnd",Moz:"transitionend",O:"otransitionend",ms:"MSTransitionEnd"}[f.userAgent()]},animationEndEvent:function(){return{"":"animationend",webkit:"webkitAnimationEnd",Moz:"animationend",O:"webkitAnimationEnd",ms:"animationend"}[f.userAgent()]},startEvent:function(){return f.isTouchDevice()||g.support.hasPointer?"touchstart":"mousedown"},endEvent:function(){return f.isTouchDevice()||g.support.hasPointer?"touchend":"mouseup"},moveEvent:function(){return f.isTouchDevice()||g.support.hasPointer?g.support.hasPointer&&!f.isMobile()?"ejtouchmove":"touchmove":"mousemove"},cancelEvent:function(){return f.isTouchDevice()||g.support.hasPointer?"touchcancel":"mousecancel"},tapEvent:function(){return f.isTouchDevice()||g.support.hasPointer?"tap":"click"},tapHoldEvent:function(){return f.isTouchDevice()||g.support.hasPointer?"taphold":"click"},isDevice:function(){return f.getBooleanVal(g("head"),"data-ej-forceset",!1)?f.getBooleanVal(g("head"),"data-ej-device",this._device()):this._device()},isPortrait:function(){var e=document.documentElement;return e&&e.clientWidth/e.clientHeight<1.1},isLowerResolution:function(){return window.innerWidth<=640&&f.isPortrait()&&f.isDevice()||window.innerWidth<=800&&!f.isDevice()||window.innerWidth<=800&&!f.isPortrait()&&f.isWindows()&&f.isDevice()||f.isMobile()},isIOSWebView:function(){return/(iPhone|iPod|iPad).*AppleWebKit(?!.*Safari)/i.test(navigator.userAgent)},isAndroidWebView:function(){return!("undefined"==typeof Android)},isWindowsWebView:function(){return-1!=location.href.indexOf("x-wmapp")},_device:function(){return/Android|BlackBerry|iPhone|iPad|iPod|IEMobile|kindle|windows\sce|palm|smartphone|iemobile|mobile|pad|xoom|sch-i800|playbook/i.test(navigator.userAgent.toLowerCase())},isMobile:function(){return/iphone|ipod|android|blackberry|opera|mini|windows\sce|palm|smartphone|iemobile/i.test(navigator.userAgent.toLowerCase())&&/mobile/i.test(navigator.userAgent.toLowerCase())||!0===f.getBooleanVal(g("head"),"data-ej-mobile",!1)},isTablet:function(){return/ipad|xoom|sch-i800|playbook|tablet|kindle/i.test(navigator.userAgent.toLowerCase())||!0===f.getBooleanVal(g("head"),"data-ej-tablet",!1)||!f.isMobile()&&f.isDevice()},isTouchDevice:function(){return("ontouchstart"in window||window.navigator.msPointerEnabled&&f.isMobile())&&this.isDevice()},getClearString:function(e){return g.trim(e.replace(/\s+/g," ").replace(/(\r\n|\n|\r)/gm,"").replace(new RegExp(">[\n\t ]+<","g"),"><"))},getBooleanVal:function(e,t,i){e=g(e).attr(t);return null!=e?"true"==e.toLowerCase():i},_getSkewClass:function(e,t,i){var s=e.width(),o=e.height(),n=e.offset().left,l=e.offset().left+s,a=e.offset().top,e=e.offset().top+o,s=.3*s,o=.3*o;return t<n+s&&i<a+o?"e-m-skew-topleft":l-s<t&&i<a+o?"e-m-skew-topright":l-s<t&&e-o<i?"e-m-skew-bottomright":t<n+s&&e-o<i?"e-m-skew-bottomleft":n+s<t&&i<a+o&&t<l-s?"e-m-skew-top":t<n+s?"e-m-skew-left":l-s<t?"e-m-skew-right":e-o<i?"e-m-skew-bottom":"e-m-skew-center"},_removeSkewClass:function(e){g(e).removeClass("e-m-skew-top e-m-skew-bottom e-m-skew-left e-m-skew-right e-m-skew-topleft e-m-skew-topright e-m-skew-bottomleft e-m-skew-bottomright e-m-skew-center e-skew-top e-skew-bottom e-skew-left e-skew-right e-skew-topleft e-skew-topright e-skew-bottomleft e-skew-bottomright e-skew-center")},_getObjectKeys:function(e){var t,i=[];if(e=Object.prototype.toString.call(e)===Object.prototype.toString()?e:{},!Object.keys){for(t in e)e.hasOwnProperty(t)&&i.push(t);return i}if(Object.keys)return Object.keys(e)},_touchStartPoints:function(e,t){e&&(e=e.touches?e.touches[0]:e,t._distX=0,t._distY=0,t._moved=!1,t._pointX=e.pageX,t._pointY=e.pageY)},_isTouchMoved:function(e,t){var i,s;if(e)return s=(e=e.touches?e.touches[0]:e).pageX-t._pointX,i=e.pageY-t._pointY,Date.now(),t._pointX=e.pageX,t._pointY=e.pageY,t._distX+=s,t._distY+=i,e=Math.abs(t._distX),s=Math.abs(t._distY),!(e<5&&s<5)},listenEvents:function(e,t,i,s,o,n){for(var l=0;l<e.length;l++)f.listenTouchEvent(e[l],t[l],i[l],s,o,n)},listenTouchEvent:function(e,t,i,s,o,n){for(var l,a=s?"removeEventListener":"addEventListener",r=s?"off":"on",h=g(e),d=0;d<h.length;d++)switch(l=h[d],t){case"touchstart":f._bindEvent(l,a,t,i,"mousedown","MSPointerDown","pointerdown",n);break;case"touchmove":f._bindEvent(l,a,t,i,"mousemove","MSPointerMove","pointermove",n);break;case"touchend":f._bindEvent(l,a,t,i,"mouseup","MSPointerUp","pointerup",n);break;case"touchcancel":f._bindEvent(l,a,t,i,"mousecancel","MSPointerCancel","pointercancel",n);break;case"tap":case"taphold":case"ejtouchmove":case"click":g(l)[r](t,i);break;default:"msie"==f.browserInfo().name&&f.browserInfo().version<9?o._on(g(l),t,i):l[a](t,i,!0)}},_bindEvent:function(e,t,i,s,o,n,l){g.support.hasPointer?e[t](window.navigator.pointerEnabled?l:n,s,!0):e[t](i,s,!0)},_browser:function(){return/webkit/i.test(navigator.appVersion)?"webkit":/firefox/i.test(navigator.userAgent)?"Moz":/trident/i.test(navigator.userAgent)?"ms":"opera"in window?"O":""},styles:document.createElement("div").style,userAgent:function(){for(var e="webkitT,t,MozT,msT,OT".split(","),t=0,i=e.length;t<i;t++)if(e[t]+"ransform"in f.styles)return e[t].substr(0,e[t].length-1);return!1},addPrefix:function(e){return""===f.userAgent()?e:(e=e.charAt(0).toUpperCase()+e.substr(1),f.userAgent()+e)},destroyWidgets:function(e){g(e).find("[data-role *= ejm]").each(function(e,t){var t=g(t),i=t.data("ejWidgets");i&&t[i]("destroy")})},getAttrVal:function(e,t,i){e=g(e).attr(t);return null!=e?e:i},getOffset:function(e){var t={},e=e.offset()||{left:0,top:0};return g.extend(!0,t,e),"static"!=g("body").css("position")&&(e=g("body").offset(),t.left-=e.left,t.top-=e.top),t},getZindexPartial:function(e,t){var i,s,o;if(!f.isNullOrUndefined(e)&&0<e.length)return i=e.parents(),s=g("body").children(),!f.isNullOrUndefined(e)&&0<e.length&&s.splice(s.index(t),1),g(s).each(function(e,t){i.push(t)}),!(o=Math.max.apply(o,g.map(i,function(e){if("static"!=g(e).css("position"))return parseInt(g(e).css("z-index"))||1})))||o<1e4?o=1e4:o+=1,o},isValidAttr:function(e,t){var i;return void 0!==(e=g(e)[0])[t]||(i=!1,g.each(e,function(e){if(e.toLowerCase()==t.toLowerCase())return!(i=!0)}),i)}},g.extend(f,f.util),f.widgetBase={droppables:{default:[]},resizables:{default:[]},_renderEjTemplate:function(e,t,i,s){var o=null;return(o="object"==typeof e||e.startsWith("#")||e.startsWith(".")?g(e).attr("type"):o)&&(o=o.toLowerCase(),f.template[o])?f.template[o](this,e,t,i,s):f.template.render(this,e,t,i,s)},destroy:function(){var e,t,i,s;if(!this._trigger("destroy")){this.model.enablePersistence&&(this.persistState(),g(window).off("unload",this._persistHandler));try{this._destroy()}catch(e){}for(e=this.element.data("ejWidgets")||[],s=0;s<e.length;s++)e[s]==this.pluginName&&e.splice(s,1);for(e.length||this.element.removeData("ejWidgets");this._events&&(i=[],t=this._events.pop());){for(s=0;s<t[1].length;s++)g.isPlainObject(t[1][s])||i.push(t[1][s]);g.fn.off.apply(t[0],i)}this._events=null,this.element.removeClass(f.util.getNameSpace(this.sfType)).removeClass("e-js").removeData(this.pluginName),this.element=null,this.model=null}},_on:function(e){this._events||(this._events=[]);for(var t=[].splice.call(arguments,1,arguments.length-1),i={},s=t.length;i&&"function"!=typeof i;)i=t[--s];return t[s]=f.proxy(t[s],this),this._events.push([e,t,i,t[s]]),g.fn.on.apply(e,t),this},_off:function(e,t,i,s){var o,n,l,a,r=this._events;if(r&&r.length)for("function"==typeof i&&(o=s,s=i,i=o),n=t.match(/\S+/g)||[""],l=0;l<r.length;l++)if((a=r[l])[0].length&&(!s||a[2]===s)&&(a[1][0]===t||n[0])&&(!i||a[1][1]===i)&&-1<g.inArray(e[0],a[0])){g.fn.off.apply(e,s?[t,i,a[3]]:[t,i]),r.splice(l,1);break}return this},_trigger:function(e,t){var i,s,o=null,n={};return g.extend(n,t),(o=e in this.model?this.model[e]:o)&&("string"==typeof o&&(o=f.util.getObject(o,window)),g.isFunction(o))&&(i=f.event(e,this.model,t),o=o.call(this,i),(s=this.model._applyScope)&&s.call(),t&&g.extend(t,i),i.cancel||!f.isNullOrUndefined(o))?!1===o||i.cancel:(s=Boolean(t),(t=t||{}).originalEventType=e,t.type=this.pluginName+e,i=g.Event(t.type,f.event(t.type,this.model,t)),this.element.trigger(i),s&&g.extend(t,i),f.isOnWebForms&&0==i.cancel&&this.model.serverEvents&&this.model.serverEvents.length&&f.raiseWebFormsServerEvents(e,t,n),i.cancel)},setModel:function(e,t){var i,s,o;if(!this._trigger("modelChange",{changes:e})){for(i in e){if(!t){if(this.model[i]===e[i]){delete e[i];continue}if(g.isPlainObject(e[i])&&(n(this.model[i],e[i]),g.isEmptyObject(e[i]))){delete e[i];continue}}if(this.dataTypes&&!0!==(s=this._isValidModelValue(i,this.dataTypes,e)))throw"setModel - Invalid input for property :"+i+" - "+s;this.model.notifyOnEachPropertyChanges&&this.model[i]!==e[i]&&(s={oldValue:this.model[i],newValue:e[i]},e[i]=this._trigger(i+"Change",s)?this.model[i]:s.newValue)}g.isEmptyObject(e)||(this._setFirst?((o=e.dataSource)&&delete e.dataSource,g.extend(!0,this.model,e),o&&(this.model.dataSource=o instanceof Array?o.slice():o,e.dataSource=this.model.dataSource),this._setModel&&this._setModel(e)):this._setModel&&!1===this._setModel(e)||g.extend(!0,this.model,e),"enablePersistence"in e&&this._setState(e.enablePersistence))}},option:function(e,t,i){if(!e)return this.model;if(g.isPlainObject(e))return this.setModel(e,i);if("string"==typeof e){e=e.replace(/^model\./,"");var s=f.getObject(e,this.model);if(t===h&&!i)return s;if("enablePersistence"===e)return this._setState(t);if(i&&t===f.extensions.modelGUID)return this._setModel(f.createObject(e,f.getObject(e,this.model),{}));if(i||f.getObject(e,this.model)!==t)return this.setModel(f.createObject(e,t,{}),i)}return h},_isValidModelValue:function(e,t,i){var s,o,n,l=t[e],a=i[e];if(l){if("string"==typeof l){if("enum"==l&&(i[e]=a&&a.toString().toLowerCase(),l="string"),"array"===l){if("[object Array]"===Object.prototype.toString.call(a))return!0}else if("data"===l||"parent"===l||typeof a===l)return!0;return"Expected type - "+l}if(a instanceof Array){for(o=0;o<a.length;o++)if(!0!==(s=this._isValidModelValue(e,t,a[o])))return" ["+o+"] - "+s}else for(n in a)if(s=this._isValidModelValue(n,l,a),!0!==s)return n+" : "+s}return!0},_returnFn:function(e,t){-1!=t.indexOf(".")?this._returnFn(e[t.split(".")[0]],t.split(".").slice(1).join(".")):e[t]=e[t].call(e.propName)},stringify:function(e){for(var t,i=this.observables,s=0;s<i.length;s++)t=f.getObject(i[s],e),f.isNullOrUndefined(t)||"function"!=typeof t||this._returnFn(e,i[s]);return JSON.stringify(e)},_setState:function(e){!0===e?(this._persistHandler=f.proxy(this.persistState,this),g(window).on("unload",this._persistHandler)):(this.deleteState(),g(window).off("unload",this._persistHandler))},_removeProp:function(e,t){f.isNullOrUndefined(e)||(-1!=t.indexOf(".")?this._removeProp(e[t.split(".")[0]],t.split(".").slice(1).join(".")):delete e[t])},persistState:function(){var e,t;if(this._ignoreOnPersist){for(e=b({},this.model),t=0;t<this._ignoreOnPersist.length;t++)this._removeProp(e,this._ignoreOnPersist[t]);e.ignoreOnPersist=this._ignoreOnPersist}else if(this._addToPersist){for(e={},t=0;t<this._addToPersist.length;t++)f.createObject(this._addToPersist[t],f.getObject(this._addToPersist[t],this.model),e);e.addToPersist=this._addToPersist}else e=b({},this.model);this._persistState&&(e.customPersists={},this._persistState(e.customPersists)),window.localStorage?(f.isNullOrUndefined(f.persistStateVersion)||null!=window.localStorage.getItem("persistKey")||window.localStorage.setItem("persistKey",f.persistStateVersion),window.localStorage.setItem("$ej$"+this.pluginName+this._id,JSON.stringify(e))):document.cookie&&(f.isNullOrUndefined(f.persistStateVersion)||null!=f.cookie.get("persistKey")||f.cookie.set("persistKey",f.persistStateVersion),f.cookie.set("$ej$"+this.pluginName+this._id,e))},deleteState:function(){window.localStorage?window.localStorage.removeItem("$ej$"+this.pluginName+this._id):document.cookie&&f.cookie.set("$ej$"+this.pluginName+this._id,model,new Date)},restoreState:function(e){var t,i,s=null;if(window.localStorage?s=window.localStorage.getItem("$ej$"+this.pluginName+this._id):document.cookie&&(s=f.cookie.get("$ej$"+this.pluginName+this._id)),s&&(t=JSON.parse(s),this._restoreState&&(this._restoreState(t.customPersists),delete t.customPersists),!1===f.isNullOrUndefined(t))&&(f.isNullOrUndefined(t.ignoreOnPersist)?f.isNullOrUndefined(t.addToPersist)||(this._addToPersist=t.addToPersist,delete t.addToPersist):(this._ignoreOnPersist=t.ignoreOnPersist,delete t.ignoreOnPersist)),f.isNullOrUndefined(t)||f.isNullOrUndefined(this._ignoreOnPersist))this.model=g.extend(!0,this.model,t);else{for(i in this._ignoreOnPersist)-1!==this._ignoreOnPersist[i].indexOf(".")?f.createObject(this._ignoreOnPersist[i],f.getObject(this._ignoreOnPersist[i],this.model),t):t[this._ignoreOnPersist[i]]=this.model[this._ignoreOnPersist[i]];this.model=t}!e&&s&&this._setModel&&this._setModel(this.model)},ignoreOnPersist:function(e){var t,i,s=[];if("object"==typeof e?s=e:"string"==typeof e&&s.push(e),this._addToPersist===h)for(this._ignoreOnPersist=this._ignoreOnPersist||[],t=0;t<s.length;t++)this._ignoreOnPersist.push(s[t]);else for(t=0;t<s.length;t++)i=this._addToPersist.indexOf(s[t]),this._addToPersist.splice(i,1)},addToPersist:function(e){var t,i,s=[];if("object"==typeof e?s=e:"string"==typeof e&&s.push(e),this._addToPersist===h)for(this._ignoreOnPersist=this._ignoreOnPersist||[],i=0;i<s.length;i++)t=this._ignoreOnPersist.indexOf(s[i]),this._ignoreOnPersist.splice(t,1);else for(i=0;i<s.length;i++)-1===g.inArray(s[i],this._addToPersist)&&this._addToPersist.push(s[i])},formatting:function(e,t,i){var s,o;if(e=e.replace(/%280/g,'"').replace(/&lt;/g,"<").replace(/&gt;/g,">"),i=f.preferredCulture(i)?i:"en-US",l=(s=e).split("{0:"),o=e.split("}"),l=l[0],o=o[1],"string"==typeof t&&g.isNumeric(t)&&(t=Number(t)),-1!=e.indexOf("{0:"))return null!=(e=new RegExp("\\{0(:([^\\}]+))?\\}","gm").exec(e))&&null!=t?null!=l&&null!=o?l+f.format(t,e[2],i)+o:f.format(t,e[2],i):null!=t?t:"";if(!s.startsWith("{")||s.startsWith("{0:"))return null!=this.data&&null==this.data.Value?(g.each(this.data,function(e,t){s=s.replace(new RegExp("\\{"+e+"\\}","gm"),t)}),s):this.data.Value;for(var n=s.split(""),l=(t=(t||"")+"").split(""),a=/[0aA\*CN<>\?]/gm,r=0,h=0;r<n.length;r++)n[r]=a.test(n[r])?"{"+h+++"}":n[r];return String.format.apply(String,[n.join("")].concat(l)).replace("{","").replace("}","")}},f.WidgetBase=function(){},n=function(e,t){for(var i in e)e[i]===t[i]&&delete t[i],g.isPlainObject(t[i])&&g.isPlainObject(e[i])&&n(e[i],t[i])},f.widget=function(c,p,u){var e,t,m;if("object"==typeof c)for(e in u=p,c)t=c[e],t instanceof Array&&(u._rootCSS=t[1],t=t[0]),f.widget(e,t,u),c[e]instanceof Array&&(u._rootCSS="");else m=u._rootCSS||f.getNameSpace(p),u=f.defineClass(p,function(e,t){var i,s,o,n,l,a,r,h,d;if(this.sfType=p,this.pluginName=c,this.instance=v,f.isNullOrUndefined(this._setFirst)&&(this._setFirst=!0),this["ob.values"]={},g.extend(this,f.widgetBase),this.dataTypes)for(i in t)if(s=this._isValidModelValue(i,this.dataTypes,t),!0!==s)throw"setModel - Invalid input for property :"+i+" - "+s;for((h=e.data("ejWidgets")||[]).push(c),e.data("ejWidgets",h),n=0;f.widget.observables&&this.observables&&n<this.observables.length;n++)(o=f.getObject(this.observables[n],t))&&f.createObject(this.observables[n],f.widget.observables.register(o,this.observables[n],this,e),t);if(this.element=e.jquery?e:g(e),this.model=b(!0,{},u.prototype.defaults,t),this.model.keyConfigs=b(this.keyConfigs),this.element.addClass(m+" e-js").data(c,this),this._id=e[0].id,this.element.attr("tabIndex")||this.element.attr("tabIndex",""),this.model.enablePersistence){if(window.localStorage&&!f.isNullOrUndefined(f.persistStateVersion)&&window.localStorage.getItem("persistKey")!=f.persistStateVersion)for(n in window.localStorage)-1!=n.indexOf("$ej$")&&window.localStorage.removeItem(n);else if(document.cookie&&!f.isNullOrUndefined(f.persistStateVersion)&&f.cookie.get("persistKey")!=f.persistStateVersion)for(l in document.cookie.split(/; */))-1!=l.indexOf("$ej$")&&f.cookie.set(l.split("=")[0],model,new Date);this._persistHandler=f.proxy(this.persistState,this),g(window).on("unload",this._persistHandler),this.restoreState(!0)}if(this._init(t),"object"==typeof this.model.keyConfigs&&!(this.model.keyConfigs instanceof Array)){for(r in a=!1,this.model.keyConfigs.focus&&this.element.attr("accesskey",this.model.keyConfigs.focus),this.model.keyConfigs)if("focus"!==r){a=!0;break}a&&this._keyPressed&&(h=e,d="keydown",this.keySettings&&(h=this.keySettings.getElement&&this.keySettings.getElement()||h,d=this.keySettings.event||d),this._on(h,d,function(e){var t,i;this.model.keyConfigs&&(t=_.getActionFromCode(this.model.keyConfigs,e.which,e.ctrlKey,e.shiftKey,e.altKey),i={code:e.which,ctrl:e.ctrlKey,alt:e.altKey,shift:e.shiftKey},t)&&!1===this._keyPressed(t,e.target,i,e)&&e.preventDefault()}))}this._trigger("create")},u),g.fn[c]=function(e){for(var t=e,i=0;i<this.length;i++){var s=g(this[i]),o=s.data(c),n=o&&s.hasClass(m),l=null;if(0<this.length&&g.isPlainObject(t)&&(e=f.copyObject({},t)),n){if(e)if(n=[].slice.call(arguments,1),0<this.length&&n[0]&&"option"===t&&g.isPlainObject(n[0])&&(n[0]=f.copyObject({},n[0])),g.isPlainObject(e))o.setModel(e);else if(0!==e.indexOf("_")&&!f.isNullOrUndefined(l=f.getObject(e,o))||0===e.indexOf("model."))if(l&&g.isFunction(l)){if((n=l.apply(o,n))!==h)return n}else{if(1==arguments.length)return l;o.option(e,arguments[1])}else a(p+": function/property - "+e+" does not exist")}else!0!==u.prototype._requiresID||g(this[i]).attr("id")||s.attr("id",r("ejControl_")),e&&"object"!=typeof e?a(c+": methods/properties can be accessed only after plugin creation"):(u.prototype.defaults&&!f.isNullOrUndefined(f.setCulture)&&"locale"in u.prototype.defaults&&"ejChart"!=c&&(!e||"locale"in e?f.isNullOrUndefined(e)&&((e={}).locale=f.setCulture().name):e.locale=f.setCulture().name),new u(s,e))}return-1!=c.indexOf("ejm")&&f.widget.registerInstance(s,c,p,u.prototype),this},f.widget.register(c,p,u.prototype)},g.extend(f.widget,{register:function(e,t,i){f.isNullOrUndefined(s[e])||a("ej.widget : The widget named "+e+" is trying to register twice."),s[e]={name:e,className:t,proto:i},f.widget.extensions&&f.widget.extensions.registerWidget(e)},registerInstance:function(e,t,i,s){l.push({element:e,pluginName:t,className:i,proto:s})},registeredWidgets:s={},registeredInstances:l=[]}),f.widget.destroyAll=function(e){var t,i,s,o;if(e&&e.length)for(t=0;t<e.length;t++)if((s=(i=e.eq(t).data()).ejWidgets)&&s.length)for(o=0;o<s.length;o++)i[s[o]]&&i[s[o]].destroy&&i[s[o]].destroy()},f.cookie={get:function(e){e=RegExp(e+"=([^;]+)").exec(document.cookie);return e&&1<e.length?e[1]:h},set:function(e,t,i){"object"==typeof t&&(t=JSON.stringify(t)),t=escape(t)+(null==i?"":"; expires="+i.toUTCString()),document.cookie=e+"="+t}},_={getActionFromCode:function(e,t,i,s,o){var n,l,a;for(n in i=i||!1,s=s||!1,o=o||!1,e)if("focus"!==n)for(l=_.getKeyObject(e[n]),a=0;a<l.length;a++)if(t===l[a].code&&i==l[a].isCtrl&&s==l[a].isShift&&o==l[a].isAlt)return n;return null},getKeyObject:function(e){for(var t,i,s,o={isCtrl:!1,isShift:!1,isAlt:!1},n=g.extend(!0,{},o),l=e.split(","),a=[],r=0;r<l.length;r++){if(t=null,-1!=l[r].indexOf("+"))for(i=l[r].split("+"),s=0;s<i.length;s++)t=_.getResult(g.trim(i[s]),o);else t=_.getResult(g.trim(l[r]),g.extend(!0,{},n));a.push(t)}return a},getResult:function(e,t){return"ctrl"===e?t.isCtrl=!0:"shift"===e?t.isShift=!0:"alt"===e?t.isAlt=!0:t.code=parseInt(e,10),t}},f.getScrollableParents=function(e){return g(e).parentsUntil("html").filter(function(){return"visible"!=g(this).css("overflow")}).add(g(window))},f.browserInfo=function(){var e,t,i,s,o={},n=[],l={opera:/(opera|opr)(?:.*version|)[ \/]([\w.]+)/i,edge:/(edge)(?:.*version|)[ \/]([\w.]+)/i,webkit:/(chrome)[ \/]([\w.]+)/i,safari:/(webkit)[ \/]([\w.]+)/i,msie:/(msie|trident) ([\w.]+)/i,mozilla:/(mozilla)(?:.*? rv:([\w.]+)|)/i};for(e in l)if(l.hasOwnProperty(e)&&(n=navigator.userAgent.match(l[e]),n)){if(o.name="opr"==n[1].toLowerCase()?"opera":n[1].toLowerCase(),o.version=n[2],o.culture={},o.culture.name=o.culture.language=navigator.language||navigator.userLanguage,void 0!==f.globalize){for(t=f.preferredCulture().name,i=navigator.language||navigator.userLanguage?f.preferredCulture(navigator.language||navigator.userLanguage):f.preferredCulture("en-US"),s=0;navigator.languages&&s<navigator.languages.length&&(i=f.preferredCulture(navigator.languages[s])).language!=navigator.languages[s];s++);f.preferredCulture(t),g.extend(!0,o.culture,i)}navigator.userAgent.match(/Trident\/7\./)&&(o.name="msie");break}return o.isMSPointerEnabled="msie"==o.name&&9<o.version&&window.navigator.msPointerEnabled,o.pointerEnabled=window.navigator.pointerEnabled,o},f.eventType={mouseDown:"mousedown touchstart",mouseMove:"mousemove touchmove",mouseUp:"mouseup touchend",mouseLeave:"mouseleave touchcancel",click:"click touchend"},f.event=function(e,t,i){return g.extend(i||{},{type:e,model:t,cancel:!1})},f.proxy=function(t,i,s){return t&&"function"==typeof t?"on"in t&&i?s?t.on(i,s):t.on(i):function(){var e=s?[s]:[];return e.push.apply(e,arguments),t.apply(i||this,e)}:null},f.hasStyle=function(e){var t,i,s=document.documentElement.style;if(e in s)return!0;for(t=["ms","Moz","Webkit","O","Khtml"],e=e[0].toUpperCase()+e.slice(1),i=0;i<t.length;i++)if(t[i]+e in s)return!0;return!1},Array.prototype.indexOf=Array.prototype.indexOf||function(e){var t,i=this.length;if(0!==i)for(t=0;t<i;t++)if(t in this&&this[t]===e)return t;return-1},String.prototype.startsWith=String.prototype.startsWith||function(e){return this.slice(0,e.length)===e};var n,_,o,a,s,l,b=f.copyObject=function(e,t){var i,s,o,n,l,a="boolean"!=typeof e?1:2,r=[].slice.call(arguments,a);for(1===a&&(t=e,e=h),o=0;o<r.length;o++)for(n in r[o])if(i=t[n],s=r[o][n],s!==h&&i!==s&&r[o]!==s&&t!==s)if(s instanceof Array)if(0===o&&e)for(t[n]=[],l=0;l<s.length;l++)b(!0,t[n],s);else t[n]=s.slice();else f.isPlainObject(s)?(t[n]=i||{},e?b(e,t[n],s):b(t[n],s)):t[n]=s;return t},v=function(){return this},t=0,r=function(e){return e+t++};f.template={},f.template.render=f.template["text/x-jsrender"]=function(e,t,i,s,o){"#"!==t.slice(0,1)&&(t=["<div>",t,"</div>"].join(""));o={prop:o,index:s};return g(t).render(i,o)},f.isPlainObject=function(e){if(!e||f.DataManager!==h&&e instanceof f.DataManager||"object"!=typeof e||e.nodeType||jQuery.isWindow(e))return!1;try{if(e.constructor&&!e.constructor.prototype.hasOwnProperty("isPrototypeOf"))return!1}catch(e){return!1}var t,i=f.support.isOwnLast;for(t in e)if(i)break;return t===h||e.hasOwnProperty(t)},o=!1,f.util.valueFunction=function(s){return function(e,t){var i=f.getObject(s,this.model);if(!1===o&&(o=f.getObject("observables.getValue",f.widget)),e===h)return f.isNullOrUndefined(o)?"function"==typeof i?i.call(this):i:o(i,t);"function"==typeof i?(this["ob.values"][s]=e,i.call(this,e)):f.createObject(s,e,this.model)}},f.util.getVal=function(e){return"function"==typeof e?e():e},f.support={isOwnLast:function(){function e(){this.a=1}for(var t in e.prototype.b=1,new e)return"b"===t}(),outerHTML:document.createElement("div").outerHTML!==h},a=f.throwError=function(e){try{throw new Error(e)}catch(e){throw e.message+"\n"+e.stack}},f.getRandomValue=function(e,t){var i;return e===h||t===h?f.throwError("Min and Max values are required for generating a random number"):0|("crypto"in window&&"getRandomValues"in crypto?(i=new Uint16Array(1),window.crypto.getRandomValues(i),i[0]%(t-e)+e):Math.random()*(t-e)+e)},f.extensions={},f.extensions.modelGUID="{0B1051BA-1CCB-42C2-A3B5-635389B92A50}"}(window.jQuery,window.Syncfusion),$.fn.addEleAttrs=function(e){var i=$(this);$.each(e,function(e,t){t&&t.specified&&i.attr(t.name,t.value)})},$.fn.removeEleAttrs=function(s){return this.each(function(){var i=$(this),e=$(this.attributes).clone();$.each(e,function(e,t){t&&t.specified&&s.test(t.name)&&i.removeAttr(t.name)})})},$.fn.attrNotStartsWith=function(e){var t,s=[];for(this.each(function(){t=$(this.attributes).clone()}),i=0;i<t.length;i++){if(t[i]&&t[i].specified&&e.test(t[i].name))continue;s.push(t[i])}return s},$.fn.removeEleEmptyAttrs=function(){return this.each(function(){var i=$(this),e=$(this.attributes).clone();$.each(e,function(e,t){t&&t.specified&&""===t.value&&i.removeAttr(t.name)})})},$.extend($.support,{has3d:ej.addPrefix("perspective")in ej.styles,hasTouch:"ontouchstart"in window,hasPointer:navigator.msPointerEnabled,hasTransform:!1!==ej.userAgent(),pushstate:"pushState"in history&&"replaceState"in history,hasTransition:ej.addPrefix("transition")in ej.styles}),$.extend($.expr[":"],{attrNotStartsWith:function(e,t,i){for(var s=e.attributes,o=0;o<s.length;o++)if(0===s[o].nodeName.indexOf(i[3]))return!1;return!0}}),e=$.fn.andSelf||$.fn.addBack,$.fn.andSelf=$.fn.addBack=function(){return e.apply(this,arguments)}}),function(e){"function"==typeof define&&define.amd?define(["./ej.core.min"],e):e()}(function(){var o,n,l,a,r,h;r=jQuery,(h=Syncfusion).widget("ejDraggable","ej.Draggable",{element:null,model:null,validTags:["div","span","a"],defaults:{scope:"default",handle:null,dragArea:null,clone:!1,distance:1,dragOnTaphold:!1,cursorAt:{top:-1,left:-2},dragStart:null,drag:null,dragStop:null,create:null,destroy:null,helper:function(){return r('<div class="e-drag-helper" />').html("draggable").appendTo(document.body)}},_init:function(){this.handler=function(){},this.resizables={},helpers={},this._wireEvents(),this._browser=h.browserInfo(),this._isIE8="msie"==this._browser.name&&"8.0"==this._browser.version,this._isIE9="msie"==this._browser.name&&"9.0"==this._browser.version,"msie"==this._browser.name&&this.element.addClass("e-pinch")},_setModel:function(e){for(var t in e)switch(t){case"dragArea":this.model.dragArea=e[t];break;case"dragOnTaphold":this.model.dragOnTaphold=e[t]}},_destroy:function(){r(document).off(h.eventType.mouseUp,this._destroyHandler).off(h.eventType.mouseUp,this._dragStopHandler).off(h.eventType.mouseMove,this._dragStartHandler).off(h.eventType.mouseMove,this._dragHandler).off("mouseleave",this._dragMouseOutHandler).off("selectstart",!1),h.widgetBase.droppables[this.scope]=null},_initialize:function(e){var t,i=e;e.preventDefault(),e=this._getCoordinate(e),this.target=r(i.currentTarget),this._initPosition={x:e.pageX,y:e.pageY},r(document).on(h.eventType.mouseMove,this._dragStartHandler).on(h.eventType.mouseUp,this._destroyHandler),this.model.clone||(t=this.element.offset(),this._relXposition=e.pageX-t.left,this._relYposition=e.pageY-t.top),r(document.documentElement).trigger(h.eventType.mouseDown,i)},_setDragArea:function(){var e,t,i,s,o,n,l=r(this.model.dragArea)[0];if(l){if(i=["left","right","bottom","top"],h.isNullOrUndefined(l.getBoundingClientRect)){for(e=r(this.model.dragArea).outerWidth(),t=r(this.model.dragArea).outerHeight(),n=0;n<i.length;n++)this["border-"+i[n]+"-width"]=0,this["padding-"+i[n]]=0;s=o=0}else{for(e=(l=l.getBoundingClientRect()).width||l.right-l.left,t=l.height||l.bottom-l.top,n=0;n<i.length;n++)this["border-"+i[n]+"-width"]=isNaN(parseFloat(r(r(this.model.dragArea)[0]).css("border-"+i[n]+"-width")))?0:parseFloat(r(r(this.model.dragArea)[0]).css("border-"+i[n]+"-width")),this["padding-"+i[n]]=isNaN(parseFloat(r(r(this.model.dragArea)[0]).css("padding-"+i[n])))?0:parseFloat(r(r(this.model.dragArea)[0]).css("padding-"+i[n]));s=r(this.model.dragArea).offset().top,o=r(this.model.dragArea).offset().left}this._left=h.isNullOrUndefined(r(this.model.dragArea).offset())?0+this["border-left-width"]+this["padding-left"]:o+this["border-left-width"]+this["padding-left"],this._top=h.isNullOrUndefined(r(this.model.dragArea).offset())?0+this["border-top-width"]+this["padding-top"]:s+this["border-top-width"]+this["padding-top"],this._right=o+e-[this["border-right-width"]+this["padding-right"]],this._bottom=s+t-[this["border-bottom-width"]+this["padding-bottom"]]}},_dragStart:function(e){var t,i=e,s=(e=this._getCoordinate(e),this.margins={left:parseInt(this.element.css("marginLeft"),10)||0,top:parseInt(this.element.css("marginTop"),10)||0,right:parseInt(this.element.css("marginRight"),10)||0,bottom:parseInt(this.element.css("marginBottom"),10)||0},this.offset=this.element.offset(),this.offset={top:this.offset.top-this.margins.top,left:this.offset.left-this.margins.left},this.position=this._getMousePosition(i),this._initPosition.x-e.pageX),e=this._initPosition.y-e.pageY,s=Math.sqrt(s*s+e*e);if(s>=this.model.distance&&(e=this.model.helper({sender:i,element:this.target}))&&!h.isNullOrUndefined(e)){if(s=this.model.handle=this.helper=e,this.model.dragStart&&(e=null,e="touchmove"==i.type?(t=i.originalEvent.changedTouches[0],document.elementFromPoint(t.clientX,t.clientY)):i.originalEvent.target||i.target,this._trigger("dragStart",{event:i,element:this.element,target:e})))return this._destroy(),!1;this.model.dragArea?this._setDragArea():(this._left=this._top=this._right=this._bottom=0,this["border-top-width"]=this["border-left-width"]=0),t=s.offsetParent().offset(),r(document).off(h.eventType.mouseMove,this._dragStartHandler).off(h.eventType.mouseUp,this._destroyHandler).on(h.eventType.mouseMove,this._dragHandler).on(h.eventType.mouseUp,this._dragStopHandler).on("mouseleave",this._dragMouseOutHandler).on("selectstart",!1),h.widgetBase.droppables[this.model.scope]={draggable:this.element,helper:s.css({position:"absolute",left:this.position.left-t.left,top:this.position.top-t.top}),destroy:this._destroyHandler}}},_drag:function(e){var t,i,s,o,n;e.preventDefault(),this.position=this._getMousePosition(e),this.position.top<0&&(this.position.top=0),r(document).height()<this.position.top&&(this.position.top=r(document).height()),r(document).width()<this.position.left&&(this.position.left=r(document).width()),o=h.widgetBase.droppables[this.model.scope].helper,this.model.drag&&(n=null,n="touchmove"==e.type?(s=e.originalEvent.changedTouches[0],document.elementFromPoint(s.clientX,s.clientY)):e.originalEvent.target||e.target,this._trigger("drag",{event:e,element:this.target,target:n})),s=this._checkTargetElement(e),h.isNullOrUndefined(s)?this._hoverTarget&&(e.target=e.toElement=this._hoverTarget,this._hoverTarget.object._out(e),this._hoverTarget=null):((e.target=e.toElement=s).object._over(e),this._hoverTarget=s),n=(o=h.widgetBase.droppables[this.model.scope].helper).offsetParent().offset(),s=(h.isNullOrUndefined(e.pageX)?e.originalEvent.changedTouches[0]:e).pageX,e=(h.isNullOrUndefined(e.pageY)?e.originalEvent.changedTouches[0]:e).pageY,this.model.dragArea?(this._pageX!=s&&(t=this._left>this.position.left?this._left:this._right<this.position.left+o.outerWidth(!0)?this._right-o.outerWidth(!0):this.position.left),this._pageY!=e&&(i=this._top>this.position.top?this._top:this._bottom<this.position.top+o.outerHeight(!0)?this._bottom-o.outerHeight(!0):this.position.top)):(t=this.position.left,i=this.position.top),(i<0||i-[n.top+this["border-top-width"]]<0)&&(i=[n.top+this["border-top-width"]]),(t<0||t-[n.left+this["border-left-width"]]<0)&&(t=[n.left+this["border-left-width"]]),o.css({left:t-[n.left+this["border-left-width"]],top:i-[n.top+this["border-top-width"]]}),this.position.left=t,this.position.top=i,this._pageX=s,this._pageY=e},_dragStop:function(e){var t,i;"mouseup"!=e.type&&"touchend"!=e.type||this._destroy(e),this.model.dragStop&&(t=null,t="touchend"==e.type?(i=e.originalEvent.changedTouches[0],document.elementFromPoint(i.clientX,i.clientY)):e.originalEvent.target||e.target,this._trigger("dragStop",{event:e,element:this.target,target:t})),this._dragEnd(e)},_dragEnd:function(e){var t=this._checkTargetElement(e);h.isNullOrUndefined(t)||(e.target=e.toElement=t).object._drop(e)},_dragMouseEnter:function(e){r(document).off("mouseenter",this._dragMouseEnterHandler),this._isIE9?this._dragManualStop(e):this._isIE8?0==e.button&&this._dragManualStop(e):0==e.buttons&&this._dragManualStop(e)},_dragManualStop:function(e){null!=this.model.dragStop&&this._trigger("dragStop",{event:e,element:this.target,target:e.originalEvent.target||e.target}),this._destroy(e)},_dragMouseOut:function(){r(document).on("mouseenter",this._dragMouseEnterHandler)},_checkTargetElement:function(e){var t=e.target;return this.helper&&this._contains(this.helper[0],t)&&(this.helper.hide(),t=this._elementUnderCursor(e),this.helper.show()),this._withDropElement(t)},_withDropElement:function(e){if(e&&(dropObj=r(e).data("ejDroppable"),h.isNullOrUndefined(dropObj)&&(dropObj=this._checkParentElement(r(e))),!h.isNullOrUndefined(dropObj)))return r.extend(e,{object:dropObj})},_checkParentElement:function(e){e=r(e).closest(".e-droppable");if(0<e.length&&(dropObj=r(e).data("ejDroppable"),!h.isNullOrUndefined(dropObj)))return dropObj},_elementUnderCursor:function(e){return"touchmove"==e.type||"touchstart"==e.type||"touchend"==e.type||"taphold"==e.type?document.elementFromPoint(e.originalEvent.changedTouches[0].clientX,e.originalEvent.changedTouches[0].clientY):document.elementFromPoint(e.clientX,e.clientY)},_contains:function(e,t){try{return r.contains(e,t)||e==t}catch(e){return!1}},_wireEvents:function(){1==h.isDevice()&&1==this.model.dragOnTaphold?this._on(this.element,"taphold",this._initialize):this._on(this.element,h.eventType.mouseDown,this._initialize),this._dragStartHandler=r.proxy(this._dragStart,this),this._destroyHandler=r.proxy(this._destroy,this),this._dragStopHandler=r.proxy(this._dragStop,this),this._dragHandler=r.proxy(this._drag,this),this._dragMouseEnterHandler=r.proxy(this._dragMouseEnter,this),this._dragMouseOutHandler=r.proxy(this._dragMouseOut,this)},_getMousePosition:function(e){e=this._getCoordinate(e);var t=this.model.clone?e.pageX:e.pageX-this._relXposition,e=this.model.clone?e.pageY:e.pageY-this._relYposition;return{left:t-[this.margins.left+this.model.cursorAt.left],top:e-[this.margins.top+this.model.cursorAt.top]}},_getCoordinate:function(e){var t=e;return t="touchmove"==e.type||"touchstart"==e.type||"touchend"==e.type||"taphold"==e.type&&"msie"!=h.browserInfo().name?e.originalEvent.changedTouches[0]:t}}),l=jQuery,(a=Syncfusion).widget("ejDroppable","ej.Droppable",{element:null,model:null,validTags:["div","span","a"],defaults:{accept:null,scope:"default",drop:null,over:null,out:null,create:null,destroy:null},_init:function(){this.model.accept?l(this.element).delegate(this.accept,"mouseup",l.proxy(this._drop,this)):l(this.element).on("mouseup",l.proxy(this._drop,this)),this._on(l(document),"touchend",this._drop),this._mouseOver=!1},_setModel:function(){},_destroy:function(){l(this.element).off("mouseup",l.proxy(this._drop,this))},_over:function(e){this._mouseOver||(this._trigger("over",e),this._mouseOver=!0)},_out:function(e){this._mouseOver&&(this._trigger("out",e),this._mouseOver=!1)},_drop:function(e){var t=a.widgetBase.droppables[this.model.scope],i=!a.isNullOrUndefined(t.helper)&&t.helper.is(":visible"),s=this._isDropArea(e);t&&!a.isNullOrUndefined(this.model.drop)&&i&&s.canDrop&&this.model.drop(l.extend(e,{dropTarget:s.target},!0),t)},_isDropArea:function(e){var t,i,s,o,n={canDrop:!0,target:l(e.target)};if("touchend"==e.type)for(e=e.originalEvent.changedTouches[0],t=document.elementFromPoint(e.clientX,e.clientY),n.canDrop=!1,i=l(t).parents(),s=0;s<this.element.length;s++){if(l(t).is(l(this.element[s])))n={canDrop:!0,target:l(t)};else for(o=0;o<i.length;o++)if(l(this.element[s]).is(l(i[o]))){n={canDrop:!0,target:l(t)};break}if(n.canDrop)break}return n}}),o=jQuery,(n=Syncfusion).widget("ejResizable","ej.resizable",{element:null,model:null,validTags:["div","span","a"],defaults:{scope:"default",handle:null,distance:1,maxHeight:null,maxWidth:null,minHeight:10,minWidth:10,cursorAt:{top:1,left:1},resizeStart:null,resize:null,resizeStop:null,create:null,destroy:null,helper:function(){return o('<div class="e-resize-helper" />').html("resizable").appendTo(document.body)}},_init:function(){this.target=this.element,this._browser=n.browserInfo(),this._isIE8="msie"==this._browser.name&&"8.0"==this._browser.version,this._isIE9="msie"==this._browser.name&&"9.0"==this._browser.version,null!=this.handle?o(this.target).delegate(this.handle,n.eventType.mouseDown,o.proxy(this._mousedown,this)).delegate(this.handle,"resizestart",this._blockDefaultActions):o(this.target).on("mousedown",o.proxy(this._mousedown,this)),this._resizeStartHandler=o.proxy(this._resizeStart,this),this._destroyHandler=o.proxy(this._destroy,this),this._resizeStopHandler=o.proxy(this._resizeStop,this),this._resizeHandler=o.proxy(this._resize,this),this._resizeMouseEnterHandler=o.proxy(this._resizeMouseEnter,this)},_mouseover:function(e){o(e.target).hasClass("e-resizable")?(o(e.target).css({cursor:"se-resize"}),o(this.target).on(n.eventType.mouseDown,o.proxy(this._mousedown,this))):(o(this.target).off(n.eventType.mouseDown),o(this.target).css({cursor:""}))},_blockDefaultActions:function(e){e.cancelBubble=!0,e.returnValue=!1,e.preventDefault&&e.preventDefault(),e.stopPropagation&&e.stopPropagation()},_setModel:function(){},_mousedown:function(e){var t=e;return e=this._getCoordinate(e),this.target=o(t.currentTarget),this._initPosition={x:e.pageX,y:e.pageY},this._pageX=e.pageX,this._pageY=e.pageY,o(document).on(n.eventType.mouseMove,this._resizeStartHandler).on(n.eventType.mouseUp,this._destroyHandler),o(document.documentElement).trigger(n.eventType.mouseDown,t),!1},_resizeStart:function(e){var t,i,s;o(e.target).hasClass("e-resizable")&&(e=this._getCoordinate(e),t=this._initPosition.x-e.pageX,i=this._initPosition.y-e.pageY,Math.sqrt(t*t+i*i)>=this.model.distance)&&(null!=this.model.resizeStart&&this._trigger("resizeStart",{event:e,element:this.target})||(t=this.model.helper({element:this.target}),i=e.pageX-this._pageX+t.outerWidth(),s=e.pageY-this._pageY+t.outerHeight(),this._pageX=e.pageX,this._pageY=e.pageY,this.getElementPosition(t),o(document).off(n.eventType.mouseMove,this._resizeStartHandler).off(n.eventType.mouseUp,this._destroyHandler).on(n.eventType.mouseMove,this._resizeHandler).on(n.eventType.mouseUp,this._resizeStopHandler).on("mouseenter",this._resizeMouseEnterHandler).on("selectstart",!1),n.widgetBase.resizables[this.scope]={resizable:this.target,helper:t.css({width:i,height:s}),destroy:this._destroyHandler}))},_resize:function(e){var t,i,s;e=this._getCoordinate(e),this.getElementPosition(n.widgetBase.resizables[this.scope].helper),s=this.model.helper({element:this.target}),t=e.pageX-this._pageX+s.outerWidth(),s=e.pageY-this._pageY+s.outerHeight(),this._pageX=e.pageX,this._pageY=e.pageY,t<this.model.minWidth&&(i=this.model.minWidth-t,t=this.model.minWidth,this._pageX=e.pageX+i),s<this.model.minHeight&&(i=this.model.minHeight-s,s=this.model.minHeight,this._pageY=e.pageY+i),null!=this.model.maxHeight&&s>this.model.maxHeight&&(i=s-this.model.maxHeight,s=this.model.maxHeight,this._pageY=e.pageY-i),null!=this.model.maxWidth&&t>this.model.maxWidth&&(i=t-this.model.maxWidth,t=this.model.maxWidth,this._pageX=e.pageX-i),n.widgetBase.resizables[this.scope].helper.css({width:t,height:s}),this._trigger("resize",{element:this.target})},_resizeStop:function(e){null!=this.model.resizeStop&&this._trigger("resizeStop",{element:this.target}),"mouseup"!=e.type&&"touchend"!=e.type||this._destroy(e)},_resizeMouseEnter:function(e){this._isIE9?this._resizeManualStop(e):this._isIE8?0==e.button&&this._resizeManualStop(e):0==e.buttons&&this._resizeManualStop(e)},_resizeManualStop:function(e){null!=this.model.resizeStop&&this._trigger("resizeStop",{element:this.target}),this._destroy(e)},_destroy:function(){o(document).off(n.eventType.mouseUp,this._destroyHandler).off(n.eventType.mouseUp,this._resizeStopHandler).off(n.eventType.mouseMove,this._resizeStartHandler).off(n.eventType.mouseMove,this._resizeHandler).off("mouseenter",this._resizeMouseEnterHandler).off("selectstart",!1),n.widgetBase.resizables[this.scope]=null},getElementPosition:function(e){return null!=e&&0<e.length?{left:e[0].offsetLeft,top:e[0].offsetTop}:null},_getCoordinate:function(e){var t=e;return t="touchmove"!=e.type&&"touchstart"!=e.type&&"touchend"!=e.type?t:e.originalEvent.changedTouches[0]}})}),function(e){"function"==typeof define&&define.amd?define(["./ej.core.min"],e):e()}(function(){function L(e,t){return 0===e.indexOf(t)}function l(e,t){return e.substr(e.length-t.length)===t}function A(e){return(e+"").replace(t,"")}function _(e,t,i){for(var s=e.length;s<t;s++)e=i?"0"+e:e+"0";return e}function h(e,t,i){var s,o=t["-"],n=t["+"];switch(i){case"n -":o=" "+o,n=" "+n;case"n-":l(e,o)?s=["-",e.substr(0,e.length-o.length)]:l(e,n)&&(s=["+",e.substr(0,e.length-n.length)]);break;case"- n":o+=" ",n+=" ";case"-n":L(e,o)?s=["-",e.substr(o.length)]:L(e,n)&&(s=["+",e.substr(n.length)]);break;case"(n)":L(e,"(")&&l(e,")")&&(s=["-",e.substr(1,e.length-2)])}return s||["",e]}function s(e,t,i){var s,o;if(!t||"i"===t)return i.name.length?e.toLocaleString():e.toString();t=t||"D";var n,l,a=i.numberFormat,r=Math.abs(e),h=-1;switch(1<t.length&&(h=parseInt(t.slice(1),10)),s=t.charAt(0).toUpperCase()){case"D":n="n",l=r,r=isNaN(l)?NaN:Math[l<0?"ceil":"floor"](l),-1!==h&&(r=_(""+r,h,!0)),e<0&&(r=-r);break;case"N":(o=a).pattern=o.pattern||["-n"];case"C":(o=o||a.currency).pattern=o.pattern||["-$n","$n"];case"P":(o=o||a.percent).pattern=o.pattern||["-n %","n %"],n=e<0?o.pattern[0]||"-n":o.pattern[1]||"n",r=function(e,t,i){var s=i.groupSizes||[3],o=s[0],n=1,l=Math.pow(10,t),l=Math.round(e*l)/l,a=(e=l=isFinite(l)?l:e)+"",r="",e=1<(l=a.split(/e/i)).length?parseInt(l[1],10):0;a=(l=(a=l[0]).split("."))[0],r=1<l.length?l[1]:"",0<e?(a+=(r=_(r,e,!1)).slice(0,e),r=r.substr(e)):e<0&&(r=(a=_(a,1+(e=-e))).slice(-e,a.length)+r,a=a.slice(0,-e));for(var l=i["."]||".",r=0<t?l+(r.length>t?r.slice(0,t):_(r,t)):"",h=a.length-1,d=i[","]||",",c="";0<=h;){if(0===o||h<o)return a.slice(0,h+1)+(c.length?d+c+r:r);c=a.slice(h-o+1,h+1)+(c.length?d+c:""),h-=o,n<s.length&&(o=s[n],n++)}return a.slice(0,h+1)+d+c+r}(r*("P"===s?100:1),h=-1===h?o.decimals:h,o);break;default:throw"Bad number format specifier: "+s}for(var d,c,p=r,u=n,m=a,g=/n|\$|-|%/g,f="";d=g.lastIndex,c=g.exec(u),f+=u.slice(d,c?c.index:u.length),c;)switch(c[0]){case"n":f+=p;break;case"$":f+=m.currency.symbol||"$";break;case"-":/[1-9]/.test(p)&&(f+=m["-"]||"-");break;case"%":f+=m.percent.symbol||"%"}return f}function P(e,t,i){return e<t||i<e}function $(e,t){if(e.indexOf)return e.indexOf(t);for(var i=0,s=e.length;i<s;i++)if(e[i]===t)return i;return-1}function H(e){return e.split("Â ").join(" ").toUpperCase()}function N(e){for(var t=[],i=0,s=e.length;i<s;i++)t[i]=H(e[i]);return t}function y(e,t){for(var i,s=0,o=!1,n=0,l=e.length;n<l;n++)o="'"==(i=e.charAt(n))?(o?t.push("'"):s++,!1):"\\"==i?(o&&t.push("\\"),!o):(t.push(i),!1);return s}function S(e,t){var e=e.patterns,i=(t=t||"F").length;if(1===i){if(!(e=e[t]))throw"Invalid date format string '"+t+"'.";t=e}else 2===i&&"%"===t.charAt(0)&&(t=t.charAt(1));return t}function d(e,t,i){e=A(e),t=A(t);var s,o,n,l,a=i.calendar,i=ej.globalize._getDateParseRegExp(a,t),r=new RegExp(i.regExp).exec(e);if(null===r)return null;for(var h,d,c,p,u,m,g,f,_,b=i.groups,v=null,w=null,y=null,S=0,T=0,x=0,C=0,I=null,D=!1,O=0,z=b.length;O<z;O++)if(s=r[O+1]){var E=b[O],j=E.length,k=parseInt(s,10);switch(E){case M.DAY_OF_MONTH_DOUBLE_DIGIT:case M.DAY_OF_MONTH_SINGLE_DIGIT:if(P(y=k,1,31))return null;break;case M.MONTH_THREE_LETTER:case M.MONTH_FULL_NAME:if(p=s,u=3===j,_=f=g=m=void 0,m=(c=a).months,g=c.monthsGenitive||c.months,f=c._upperMonths,_=c._upperMonthsGen,f||(c._upperMonths=f=[N(m.names),N(m.namesAbbr)],c._upperMonthsGen=_=[N(g.names),N(g.namesAbbr)]),p=H(p),P(w=m=(m=$(u?f[1]:f[0],p))<0?$(u?_[1]:_[0],p):m,0,11))return null;break;case M.MONTH_SINGLE_DIGIT:case M.MONTH_DOUBLE_DIGIT:if(P(w=k-1,0,11))return null;break;case M.YEAR_SINGLE_DIGIT:case M.YEAR_DOUBLE_DIGIT:case M.YEAR_FULL:if(P(v=j<4?(c=a,g=k,f=void 0,f=new Date,g<100&&("string"==typeof(c=c.twoDigitYearMax)?(new Date).getFullYear()%100+parseInt(c,10):c)<(g+=(c=f.getFullYear())-c%100)&&(g-=100),g):k,0,9999))return null;break;case M.HOURS_SINGLE_DIGIT_12_HOUR_CLOCK:case M.HOURS_DOUBLE_DIGIT_12_HOUR_CLOCK:if(P(S=12===(S=k)?0:S,0,11))return null;break;case M.HOURS_SINGLE_DIGIT_24_HOUR_CLOCK:case M.HOURS_DOUBLE_DIGIT_24_HOUR_CLOCK:if(P(S=k,0,23))return null;break;case M.MINUTES_SINGLE_DIGIT:case M.MINUTES_DOUBLE_DIGIT:if(P(T=k,0,59))return null;break;case M.SECONDS_SINGLE_DIGIT:case M.SECONDS_DOUBLE_DIGIT:if(P(x=k,0,59))return null;break;case M.MERIDIAN_INDICATOR_FULL:case M.MERIDIAN_INDICATOR_SINGLE:if((D=a.PM&&(s===a.PM[0]||s===a.PM[1]||s===a.PM[2]))||a.AM&&(s===a.AM[0]||s===a.AM[1]||s===a.AM[2]))break;return null;case M.DECISECONDS:case M.CENTISECONDS:case M.MILLISECONDS:if(P(C=k*Math.pow(10,3-j),0,999))return null;break;case M.DAY_OF_WEEK_THREE_LETTER:y=function(a,i,e){if(!a)return null;var t,s,o=0,r=0,n=null;for(i=i.split(""),length=i.length;o<length;o++)"d"===(ch=i[o])&&(count=function(e){for(var t=0;i[o]===e;)t++,o++;return 0<t&&--o,t}("d"),e._lowerDays||(e._lowerDays=function(e){var t,i={};for(t in e)i[t]=function(e){for(var t=0,i=e.length,s=[];t<i;t++)s[t]=(e[t]+"").toLowerCase();return s}(e[t]);return i}(e.days)),n=count<3?(t=2,s=void 0,s=new RegExp("^\\d{1,"+t+"}"),(t=a.substr(r,t).match(s))?(t=t[0],r+=t.length,parseInt(t,10)):null):function(e,t){for(var i,s,o,n=0,l=e.length;n<l;n++)if(s=(i=e[n]).length,o=a.substr(r,s),(o=t?o.toLowerCase():o)==i)return r+=s,n+1;return null}(e._lowerDays[3==count?"namesAbbr":"names"],!0));return n}(e,t,a);break;case M.DAY_OF_WEEK_FULL_NAME:u=s,_=3===j,m=p=void 0,p=(d=a).days,(m=d._upperDays)||(d._upperDays=m=[N(p.names),N(p.namesAbbr),N(p.namesShort)]),u=H(u),_?-1===$(m[1],u)&&$(m[2],u):$(m[0],u);break;case M.TIME_ZONE_OFFSET_FULL:if(2!==(d=s.split(/:/)).length||P(h=parseInt(d[0],10),-12,13)||P(o=parseInt(d[1],10),0,59))return null;I=60*h+(L(s,"-")?-o:o);break;case M.TIME_ZONE_OFFSET_SINGLE_DIGIT:case M.TIME_ZONE_OFFSET_DOUBLE_DIGIT:if(P(h=k,-12,13))return null;I=60*h}}if(i=new Date,l=(n=a.convert)?n.fromGregorian(i)[0]:i.getFullYear(),null===v&&(v=l),null===w&&(w=0),null===y&&(y=1),n){if(null===(i=n.toGregorian(v,w,y)))return null}else if(i.setFullYear(v,w,y),i.getDate()!==y)return null;return D&&S<12&&(S+=12),i.setHours(S,T,x,C),null!==I&&(l=i.getMinutes()-(I+i.getTimezoneOffset()),i.setHours(i.getHours()+parseInt(l/60,10),l%60)),i}function T(e,t,i){function s(e,t){var i,e=e+"";return 1<t&&e.length<t?(i=g[t-2]+e).substr(i.length-t,t):e}var o,n,l,a,r=i.calendar,h=r.convert;if(!t||!t.length||"i"===t)return i&&i.name.length?h?T(e,r.patterns.F,i):e.toLocaleString():e.toString();i="s"===t,t=S(r,t);var d,c,p,u,m=[],g=["0","00","000"],f=/([^d]|^)(d|dd)([^d]|$)/g,_=0,b=/\/|dddd|ddd|dd|d|MMMM|MMM|MM|M|yyyy|yy|y|hh|h|HH|H|mm|m|ss|s|tt|t|fff|ff|f|zzz|zz|z|gg|g/g;for(!i&&h&&(u=h.fromGregorian(e));;){var v=b.lastIndex,w=b.exec(t);if(_+=y(t.slice(v,w?w.index:t.length),m),!w)break;if(_%2)m.push(w[0]);else switch(n=(o=w[0]).length,o){case M.DAY_OF_WEEK_THREE_LETTER:case M.DAY_OF_WEEK_FULL_NAME:l=3===n?r.days.namesAbbr:r.days.names,m.push(l[e.getDay()]);break;case M.DAY_OF_MONTH_SINGLE_DIGIT:case M.DAY_OF_MONTH_DOUBLE_DIGIT:c=!0,m.push(s(u?u[2]:e.getDate(),n));break;case M.MONTH_THREE_LETTER:case M.MONTH_FULL_NAME:a=u?u[1]:e.getMonth(),m.push((r.monthsGenitive&&(c||p||(c=f.test(t),p=!0),c)?r.monthsGenitive:r.months)[3===n?"namesAbbr":"names"][a]);break;case M.MONTH_SINGLE_DIGIT:case M.MONTH_DOUBLE_DIGIT:m.push(s((u?u[1]:e.getMonth())+1,n));break;case M.YEAR_SINGLE_DIGIT:case M.YEAR_DOUBLE_DIGIT:case M.YEAR_FULL:a=u?u[0]:e.getFullYear(),n<4&&(a%=100),m.push(s(a,n));break;case M.HOURS_SINGLE_DIGIT_12_HOUR_CLOCK:case M.HOURS_DOUBLE_DIGIT_12_HOUR_CLOCK:0===(d=e.getHours()%12)&&(d=12),m.push(s(d,n));break;case M.HOURS_SINGLE_DIGIT_24_HOUR_CLOCK:case M.HOURS_DOUBLE_DIGIT_24_HOUR_CLOCK:m.push(s(e.getHours(),n));break;case M.MINUTES_SINGLE_DIGIT:case M.MINUTES_DOUBLE_DIGIT:m.push(s(e.getMinutes(),n));break;case M.SECONDS_SINGLE_DIGIT:case M.SECONDS_DOUBLE_DIGIT:m.push(s(e.getSeconds(),n));break;case M.MERIDIAN_INDICATOR_SINGLE:case M.MERIDIAN_INDICATOR_FULL:a=e.getHours()<12?r.AM?r.AM[0]:" ":r.PM?r.PM[0]:" ",m.push(1===n?a.charAt(0):a);break;case M.DECISECONDS:case M.CENTISECONDS:case M.MILLISECONDS:m.push(s(e.getMilliseconds(),3).substr(0,n));break;case M.TIME_ZONE_OFFSET_SINGLE_DIGIT:case M.TIME_ZONE_OFFSET_DOUBLE_DIGIT:d=e.getTimezoneOffset()/60,m.push((d<=0?"+":"-")+s(Math.floor(Math.abs(d)),n));break;case M.TIME_ZONE_OFFSET_FULL:d=e.getTimezoneOffset()/60,m.push((d<=0?"+":"-")+s(Math.floor(Math.abs(d)),2)+":"+s(Math.abs(e.getTimezoneOffset()%60),2));break;case M.DATE_SEPARATOR:m.push(r["/"]||"/");break;default:throw"Invalid date format pattern '"+o+"'."}}return m.join("")}var a,t,c,p,u,M;a=jQuery,ej.globalize={},ej.cultures={},ej.cultures.default=ej.cultures["en-US"]=a.extend(!0,{name:"en-US",englishName:"English",nativeName:"English",language:"en",isRTL:!1,numberFormat:{pattern:["-n"],decimals:2,",":",",".":".",groupSizes:[3],"+":"+","-":"-",percent:{pattern:["-n %","n %"],decimals:2,groupSizes:[3],",":",",".":".",symbol:"%"},currency:{pattern:["($n)","$n"],decimals:2,groupSizes:[3],",":",",".":".",symbol:"$"}},calendars:{standard:{"/":"/",":":":",firstDay:0,days:{names:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],namesAbbr:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],namesShort:["Su","Mo","Tu","We","Th","Fr","Sa"]},months:{names:["January","February","March","April","May","June","July","August","September","October","November","December",""],namesAbbr:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec",""]},AM:["AM","am","AM"],PM:["PM","pm","PM"],twoDigitYearMax:2029,patterns:{d:"M/d/yyyy",D:"dddd, MMMM dd, yyyy",t:"h:mm tt",T:"h:mm:ss tt",f:"dddd, MMMM dd, yyyy h:mm tt",F:"dddd, MMMM dd, yyyy h:mm:ss tt",M:"MMMM dd",Y:"yyyy MMMM",S:"yyyy'-'MM'-'dd'T'HH':'mm':'ss"}}}},ej.cultures["en-US"]),ej.cultures["en-US"].calendar=ej.cultures["en-US"].calendar||ej.cultures["en-US"].calendars.standard,t=/^\s+|\s+$/g,c=/^[+-]?infinity$/i,p=/^0x[a-f0-9]+$/i,u=/^[+-]?\d*\.?\d*(e[+-]?\d+)?$/,M={DAY_OF_WEEK_THREE_LETTER:"ddd",DAY_OF_WEEK_FULL_NAME:"dddd",DAY_OF_MONTH_SINGLE_DIGIT:"d",DAY_OF_MONTH_DOUBLE_DIGIT:"dd",MONTH_THREE_LETTER:"MMM",MONTH_FULL_NAME:"MMMM",MONTH_SINGLE_DIGIT:"M",MONTH_DOUBLE_DIGIT:"MM",YEAR_SINGLE_DIGIT:"y",YEAR_DOUBLE_DIGIT:"yy",YEAR_FULL:"yyyy",HOURS_SINGLE_DIGIT_12_HOUR_CLOCK:"h",HOURS_DOUBLE_DIGIT_12_HOUR_CLOCK:"hh",HOURS_SINGLE_DIGIT_24_HOUR_CLOCK:"H",HOURS_DOUBLE_DIGIT_24_HOUR_CLOCK:"HH",MINUTES_SINGLE_DIGIT:"m",MINUTES_DOUBLE_DIGIT:"mm",SECONDS_SINGLE_DIGIT:"s",SECONDS_DOUBLE_DIGIT:"ss",MERIDIAN_INDICATOR_SINGLE:"t",MERIDIAN_INDICATOR_FULL:"tt",DECISECONDS:"f",CENTISECONDS:"ff",MILLISECONDS:"fff",TIME_ZONE_OFFSET_SINGLE_DIGIT:"z",TIME_ZONE_OFFSET_DOUBLE_DIGIT:"zz",TIME_ZONE_OFFSET_FULL:"zzz",DATE_SEPARATOR:"/"},ej.globalize._getDateParseRegExp=function(e,t){var i,s,o,n,l,a=e._parseRegExp;if(a){if(l=a[t])return l}else e._parseRegExp=a={};for(var r,h=S(e,t).replace(/([\^\$\.\*\+\?\|\[\]\(\)\{\}])/g,"\\\\$1"),d=["^"],c=[],p=0,u=0,m=/\/|dddd|ddd|dd|d|MMMM|MMM|MM|M|yyyy|yy|y|hh|h|HH|H|mm|m|ss|s|tt|t|fff|ff|f|zzz|zz|z|gg|g/g;null!==(r=m.exec(h));)if(i=h.slice(p,r.index),p=m.lastIndex,(u+=y(i,d))%2)d.push(r[0]);else{switch(o=(s=r[0]).length,s){case M.DAY_OF_WEEK_THREE_LETTER:case M.DAY_OF_WEEK_FULL_NAME:case M.MONTH_FULL_NAME:case M.MONTH_THREE_LETTER:n="(\\D+)";break;case M.MERIDIAN_INDICATOR_FULL:case M.MERIDIAN_INDICATOR_SINGLE:n="(\\D*)";break;case M.YEAR_FULL:case M.MILLISECONDS:case M.CENTISECONDS:case M.DECISECONDS:n="(\\d{"+o+"})";break;case M.DAY_OF_MONTH_DOUBLE_DIGIT:case M.DAY_OF_MONTH_SINGLE_DIGIT:case M.MONTH_DOUBLE_DIGIT:case M.MONTH_SINGLE_DIGIT:case M.YEAR_DOUBLE_DIGIT:case M.YEAR_SINGLE_DIGIT:case M.HOURS_DOUBLE_DIGIT_24_HOUR_CLOCK:case M.HOURS_SINGLE_DIGIT_24_HOUR_CLOCK:case M.HOURS_DOUBLE_DIGIT_12_HOUR_CLOCK:case M.HOURS_SINGLE_DIGIT_12_HOUR_CLOCK:case M.MINUTES_DOUBLE_DIGIT:case M.MINUTES_SINGLE_DIGIT:case M.SECONDS_DOUBLE_DIGIT:case M.SECONDS_SINGLE_DIGIT:n="(\\d\\d?)";break;case M.TIME_ZONE_OFFSET_FULL:n="([+-]?\\d\\d?:\\d{2})";break;case M.TIME_ZONE_OFFSET_DOUBLE_DIGIT:case M.TIME_ZONE_OFFSET_SINGLE_DIGIT:n="([+-]?\\d\\d?)";break;case M.DATE_SEPARATOR:n="(\\"+e["/"]+")";break;default:throw"Invalid date format pattern '"+s+"'."}n&&d.push(n),c.push(r[0])}return y(h.slice(p),d),d.push("$"),l=d.join("").replace(/\s+/g,"\\s+"),a[t]={regExp:l,groups:c}},ej.globalize.addCulture=function(e,t){ej.cultures[e]=a.extend(!0,a.extend(!0,{},ej.cultures.default,t),ej.cultures[e]),ej.cultures[e].calendar=ej.cultures[e].calendars.standard},ej.globalize.preferredCulture=function(e){return e=void 0!==e&&typeof e==typeof this.cultureObject?e.name:e,this.cultureObject=ej.globalize.findCulture(e),this.cultureObject},ej.globalize.setCulture=function(e){return ej.isNullOrUndefined(this.globalCultureObject)&&(this.globalCultureObject=ej.globalize.findCulture(e)),(e=void 0!==e&&typeof e==typeof this.globalCultureObject?e.name:e)&&(this.globalCultureObject=ej.globalize.findCulture(e)),ej.cultures.current=this.globalCultureObject,this.globalCultureObject},ej.globalize.culture=function(e){ej.cultures.current=ej.globalize.findCulture(e)},ej.globalize.findCulture=function(e){var t,i,s,o,n;if(e){if(a.isPlainObject(e)&&e.numberFormat&&(t=e),"string"==typeof e){if((i=ej.cultures)[e])return i[e];if(-1<e.indexOf("-")){if(i[s=e.split("-")[0]])return i[s]}else for(o=a.map(i,function(e){return e}),n=0;n<o.length;n++)if(o[n].name.split("-")[0]===e)return o[n];return ej.cultures.default}}else t=ej.cultures.current||ej.cultures.default;return t},ej.globalize.format=function(e,t,i){i=ej.globalize.findCulture(i);return"number"==typeof e?e=s(e,t,i):e instanceof Date&&(e=T(e,t,i)),e},ej.globalize.parseInt=function(e,t,i){return Math.floor(this.parseFloat(e,t,i))},ej.globalize.parseFloat=function(e,t,i){"string"==typeof t&&(i=t,t=10);var s,o,n,l=NaN,a=(i=ej.globalize.findCulture(i)).numberFormat,r=i.numberFormat.pattern[0];return-1<(e=e.replace(/ /g,"")).indexOf(i.numberFormat.currency.symbol)?(e=(e=e.replace(i.numberFormat.currency.symbol||"$","")).replace(i.numberFormat.currency["."]||".",i.numberFormat["."]||"."),r=A(i.numberFormat.currency.pattern[0].replace("$",""))):-1<e.indexOf(i.numberFormat.percent.symbol)&&(e=(e=e.replace(i.numberFormat.percent.symbol||"%","")).replace(i.numberFormat.percent["."]||".",i.numberFormat["."]||"."),r=A(i.numberFormat.percent.pattern[0].replace("%",""))),e=A(e),c.test(e)?l=parseFloat(e,t):!t&&p.test(e)?l=parseInt(e,16):(t=(i=h(e,a,r))[0],n=i[1],""===t&&"-n"!==a.pattern[0]&&(t=(i=h(e,a,"-n"))[0],n=i[1]),t=t||"+",i=(e=(e=n.indexOf("e"))<0?n.indexOf("E"):e)<0?(o=n,null):(o=n.substr(0,e),n.substr(e+1)),n=a["."]||".",o=(e=o.indexOf(n))<0?(s=o,null):(s=o.substr(0,e),o.substr(e+n.length)),e=a[","]||",",s=s.split(e).join(""),n=e.replace(/\u00A0/g," "),t=t+(s=e!==n?s.split(n).join(""):s),null!==o&&(t+="."+o),null!==i&&(t+="e"+((e=h(i,a,r))[0]||"+")+e[1]),u.test(t)&&(l=parseFloat(t))),l},ej.globalize.parseDate=function(e,t,i){var s,o,n,l,a,r;if(i=ej.globalize.findCulture(i),t){if((t="string"==typeof t?[t]:t).length)for(l=0,a=t.length;l<a&&(!(r=t[l])||!(s=d(e,r,i)));l++);}else for(o in n=i.calendar.patterns)if(s=d(e,n[o],i),s)break;return s||null},ej.globalize.getLocalizedConstants=function(e,t){e=e.replace("ej.","").split("."),e=function e(t,i){return i.length?e(t[i[0]],i.slice(1)):t}(ej,e);return a.extend(!0,{},e.Locale.default,e.Locale[t||this.cultureObject.name])},a.extend(ej,ej.globalize)}),function(e){"function"==typeof define&&define.amd?define(["./ej.core.min"],e):e()}(function(){(function(n,l){"use strict";l.widget("ejScrollBar","ej.ScrollBar",{defaults:{orientation:"horizontal",viewportSize:0,height:18,width:18,smallChange:57,largeChange:57,value:0,maximum:0,minimum:0,buttonSize:18,infiniteScrolling:!1},validTags:["div"],type:"transclude",dataTypes:{buttonSize:"number",smallChange:"number",largeChange:"number"},observables:["value"],value:l.util.valueFunction("value"),_enabled:!0,content:function(){return this._content&&this._content.length||(this._content="horizontal"===this.model.orientation?this.element.find(".e-hhandle"):this.element.find(".e-vhandle")),this._content},_init:function(){this.element.addClass("e-widget"),this._ensureScrollers(),this.content(),this._setInitialValues()},_setInitialValues:function(){this.model.orientation===l.ScrollBar.Orientation.Horizontal?this.element.addClass("e-hscrollbar"):this.element.addClass("e-vscrollbar"),0===this.value()&&0===this.model.minimum||(this.value()<this.model.minimum&&this.value(this.model.minimum),this.scroll(this.value(),"none"))},_ensureScrollers:function(){n.fn.jquery;this.model.height&&this.element.height(this.model.height),this.model.width&&this.element.width(this.model.width),this._scrollData||(this._scrollData="vertical"===this.model.orientation?this._createScroller("Height","Y","Top","e-v"):this._createScroller("Width","X","Left","e-h"))},_setModel:function(e){for(var t in e){if("value"!==t){this.refresh();break}this.value()&&this.scroll(this.value(),"none")}},_createScroller:function(e,t,i,s){var o={};n.fn.jquery;return o.dimension=e,o.xy=t,o.position=i,o.css=s,o.uDimension=e,this._calculateLayout(o),this._createLayout(o),t=this[o.main].find(".e-button"),this._off(t,"mousedown")._on(t,"mousedown",{d:o,step:1},this._spaceMouseDown),this._off(this[o.scroll],"mousedown")._on(this[o.scroll],"mousedown",{d:o},this._spaceMouseDown),this._off(this[o.handler],"mousedown touchstart")._on(this[o.handler],"mousedown touchstart",{d:o},this._mouseDown),o},_createLayout:function(e){var t="<div class='"+e.css+"{0}' style='"+e.dimension+":{1}px'>{2}</div>",i=n.fn.jquery,s={};s[e.dimension]=e.modelDim,t=l.buildTag("div."+e.css+"scroll e-box",String.format(t,"up e-chevron-up_01 e-icon e-box e-button",e.buttonSize)+String.format(t,"handlespace",e.handleSpace,String.format(t,"handle e-box e-pinch",e.handle))+String.format(t,"down e-chevron-down_01 e-icon e-box e-button",e.buttonSize),s),this.element.append(t),this.element.find(".e-vhandle").addClass("e-v-line e-icon"),this.element.find(".e-hhandle").addClass("e-h-line e-icon"),"1.7.1"===i||"1.7.2"===i?e.uDimension.toLowerCase():e.uDimension,this[e.handler]=this.element.find("."+e.handler),this[e.handler].css("transition","none"),this[e.scroll]=this[e.handler].parent(),this[e.main]=this[e.scroll].parent(),this[e.main].find(".e-button")["outer"+e.uDimension](e.buttonSize)},_calculateLayout:function(e){var t;e.scrollDim="scroll"+e.dimension,e.lPosition=e.position.toLowerCase(),e.clientXy="page"+e.xy,e.scrollVal="scroll"+e.position,e.scrollOneStepBy=this.model.smallChange,e.modelDim=this.model[e.dimension=e.dimension.toLowerCase()],e.handler=e.css+"handle",e.buttonSize=this.model.buttonSize,e.main=e.css+"scroll",e.scroll=e.css+"ScrollSpace",e.handleSpace=e.modelDim-2*e.buttonSize,e.scrollable=this.model.maximum-this.model.minimum,t=this.model.height,"horizontal"===this.model.orientation&&(t=this.model.width),e.handle=this.model.viewportSize/(this.model.maximum-this.model.minimum+this.model.viewportSize)*(t-2*this.model.buttonSize),t=!l.isNullOrUndefined(this.model.elementHeight)&&"string"==typeof this.model.elementHeight&&-1!=this.model.elementHeight.indexOf("%"),e.handle<20&&!t&&(e.handle=20),e.onePx=e.scrollable/(e.handleSpace-e.handle),e.fromScroller=!1,e.up=!0,e.vInterval=void 0},_updateLayout:function(e){this.element.height(this.model.height),this.element.width(this.model.width);var t=this.element.find("."+e.css+"handle"),i=this.element.find("."+e.css+"handlespace"),s="width"==e.dimension?t.css("left"):t.css("top"),i="width"==e.dimension?i.outerWidth():i.outerHeight();void 0===s||"auto"===s||i>=e.handle+parseFloat(s)||(this.model.enableRTL?t.css("width"===e.dimension?"left":"top",parseFloat(i)-e.handle):t.css("width"===e.dimension?"left":"top",0<parseFloat(i)-e.handle?parseFloat(i)-e.handle:0)),this.element.find("."+e.css+"scroll").css(e.dimension,e.modelDim+"px").find(".e-button").css(e.dimension,this.model.buttonSize).end().find("."+e.css+"handlespace").css(e.dimension,e.handleSpace+"px").find("."+e.css+"handle").css(e.dimension,e.handle+"px")},refresh:function(){this._ensureScrollers(),this.value()&&this.scroll(this.value(),"none"),this._scrollData&&(this._calculateLayout(this._scrollData),this._updateLayout(this._scrollData))},scroll:function(e,t,i,s){var o=this._scrollData;if(!i)if(this.model.orientation===l.ScrollBar.Orientation.Horizontal){if(this._trigger("scroll",{source:t||"custom",scrollData:this._scrollData,scrollLeft:e,originalEvent:s}))return}else if(this._trigger("scroll",{source:t||"custom",scrollData:this._scrollData,scrollTop:e,originalEvent:s}))return;!this._scrollData.enableRTL||"mousemove"!=s&&"touchmove"!=s||"msie"==l.browserInfo().name?!this._scrollData.enableRTL||"mousemove"!=s&&"touchmove"!=s||"msie"!=l.browserInfo().name?this.value(e):this.value(-1*e):this.value(-o.scrollable+e),0<this.content().length&&(this.model.orientation===l.ScrollBar.Orientation.Horizontal?(e=(i=this.element.find(".e-hhandlespace").width()-this.element.find(".e-hhandle").outerWidth())<(e-this.model.minimum)/this._scrollData.onePx?i:(e-this.model.minimum)/this._scrollData.onePx,!this._scrollData.enableRTL||"mousemove"!=s&&"touchmove"!=s||"msie"==l.browserInfo().name||0<(e=i-e)&&(e*=-1),!this._scrollData.enableRTL||"mousemove"!=s&&"touchmove"!=s||"msie"!=l.browserInfo().name||(e=-e),this._scrollData.enableRTL&&0<e&&!this._scrollData._scrollleftflag&&(e=0),this._scrollData._scrollleftflag&&(0<e&&(e*=-1),this.value(e)),this.content()[0].style.left=e+"px",this._scrollData._scrollleftflag=!1):(e=(t=this.element.find(".e-vhandlespace").height()-this.element.find(".e-vhandle").outerHeight())<(e-this.model.minimum)/this._scrollData.onePx?t:(e-this.model.minimum)/this._scrollData.onePx,this.content()[0].style.top=e+"px"))},_changeTop:function(e,t,i){var s,o;return e.dimension,o=(s=this.value())+t,e.step=t,e.enableRTL&&t<0||0<t&&!e.enableRTL?e.enableRTL?o<-1*this.model.maximum&&(o=-1*this.model.maximum):o>this.model.maximum&&(o=this.model.maximum):e.enableRTL?o>this.model.minimum&&(o=this.model.minimum):o<this.model.minimum&&(o=this.model.minimum),o===s&&!this.model.infiniteScrolling||this.scroll(o,i),o!==s},_mouseUp:function(e){var t;e.data&&(t=e.data.d,clearInterval(t.vInterval),"touchend"==e.type&&n(e.target).removeClass("e-touch"),"mouseup"!==e.type&&"touchend"!==e.type&&(e.toElement||e.relatedTarget||e.target)||(this._prevY=this._d=this._data=null,this._off(n(document),"mousemove touchmove",this._mouseMove),n(document).off("mouseup touchend",l.proxy(this._mouseUp,this)),t.fromScroller=!1,this[t.scroll].off("mousemove"),this[t.handler].off("mousemove").css("transition",""),"thumb"!==e.data.source)||l.isNullOrUndefined(this.model)||n.when(this.content()).done(l.proxy(function(){this._trigger("thumbEnd",{originalEvent:e,scrollData:t})},this)),t.up=!0)},_mouseDown:function(e){this._enabled&&(this._d=e,this._data=this._d.data.d,this._data.target=this._d.target,this._data.fromScroller=!0,this[this._data.handler].css("transition","none"),this._on(n(document),"mousemove touchmove",{d:this._data,source:"thumb"},this._mouseMove),this._trigger("thumbStart",{originalEvent:this._d,scrollData:this._data}),n(document).one("mouseup touchend",{d:this._data,source:"thumb"},l.proxy(this._mouseUp,this)),"touchstart"==e.type)&&n(e.target).addClass("e-touch")},_mouseCall:function(e){e.type="mouseup",this._mouseUp(e)},_mouseMove:function(e){var t,i,s,o=parseInt(this[this._data.handler].css(this._data.lPosition))||0;if(e.preventDefault(),l.isNullOrUndefined(e.target.tagName)){if(n(e.target).is(document))return void this._mouseCall(e)}else if("iframe"===e.target.tagName.toLowerCase())return void this._mouseCall(e);s=("mousemove"==e.type?e:e.originalEvent.changedTouches[0])[this._data.clientXy],this._prevY&&s!==this._prevY&&(i=s-this._prevY,this.model.infiniteScrolling?(o+=i,this._data.step=i,(o=(this._data.enableRTL?0<o:o<0)?0:o)*(this._data.enableRTL?-1:1)+this._data.handle>=this._data.handleSpace&&(o=(this._data.handleSpace-this._data.handle)*(this._data.enableRTL?-1:1)),t=Math.ceil(o*this._data.onePx),this.scroll(t,"thumb")):(t=i*this._data.onePx,this._changeTop(this._data,t,"thumb",this._d)),this._trigger("thumbMove",{originalEvent:e,scrollData:this._data})),this._prevY=s},_spaceMouseDown:function(e){var t,i,s;e.data&&this._enabled&&(t=e.data.d,1===e.which)&&e.target!==this[t.handler][0]&&(i=e.data.step?this.model.smallChange:this.model.largeChange,s=e.data.top||this[t.handler].offset()[t.lPosition],e[t.clientXy]=e[t.clientXy]||0,e[t.clientXy]<s&&(i*=-1),t.target=e.target,this._changeTop(t,i,3===i?"track":"button",e),1!==e.data.step&&this[t.scroll].mousemove(function(){t.up=!0}),t.up=!1,t.vInterval=setInterval(l.proxy(function(){(i<0?s+i/t.onePx<e[t.clientXy]:s+t.handle+i/t.onePx>e[t.clientXy])&&(t.up=!0),t.up?clearInterval(t.vInterval):(this._changeTop(t,i,3===i?"track":"button",e),s=e.data&&e.data.top||this[t.handler].offset()[t.lPosition])},this),150),n(document).one("mouseup",{d:t},l.proxy(this._mouseUp,this)),n(document).mouseout({d:t},l.proxy(this._mouseUp,this)))},_remove:function(){this.model.orientation===l.ScrollBar.Orientation.Horizontal&&this.element.find(".e-hscroll").remove(),this.model.orientation===l.ScrollBar.Orientation.Vertical&&this.element.find(".e-vscroll").remove(),this._scrollData=null,this._content=null},_destroy:function(){this.element.remove()}}),l.ScrollBar.Orientation={Horizontal:"horizontal",Vertical:"vertical"}})(jQuery,Syncfusion,window),function(h,d,c,p){"use strict";d.widget("ejScroller","ej.Scroller",{_addToPersist:["scrollLeft","scrollTop"],defaults:{height:250,autoHide:!1,animationSpeed:600,width:0,scrollOneStepBy:57,buttonSize:18,scrollLeft:0,scrollTop:0,targetPane:null,scrollerSize:18,enablePersistence:!1,enableRTL:p,enableTouchScroll:!0,enabled:!0,create:null,destroy:null,wheelStart:null,wheelMove:null,wheelStop:null},validTags:["div"],type:"transclude",dataTypes:{buttonSize:"number",scrollOneStepBy:"number"},observables:["scrollTop","scrollLeft"],scrollTop:d.util.valueFunction("scrollTop"),scrollLeft:d.util.valueFunction("scrollLeft"),keyConfigs:{up:"38",down:"40",left:"37",right:"39",pageUp:"33",pageDown:"34",pageLeft:"ctrl+37",pageRight:"ctrl+39"},content:function(){return this._content&&this._content.length&&this._content[0].offsetParent||(this._content=this.element.children().first().addClass("e-content")),this._content},_setFirst:!0,_updateScroll:!1,_init:function(){d.isNullOrUndefined(this.content()[0])||(this._prevScrollWidth=this.content()[0].scrollWidth,this._prevScrollHeight=this.content()[0].scrollHeight,this.element.addClass("e-widget"),this.content(),this._browser=d.browserInfo().name,this._wheelStart=!0,this._eleHeight=this.model.height,this._eleWidth=this.model.width,this.model.enableRTL===p&&(this.model.enableRTL="rtl"===this.element.css("direction")),this._ensureScrollers(),this.model.enableRTL&&(this.element.addClass("e-rtl"),this._rtlScrollLeftValue=this.content().scrollLeft()),this._on(this.content(),"scroll",this._scroll),null!=this.model.targetPane&&this._on(this.content().find(this.model.targetPane),"scroll",this._scroll),this.scrollLeft()&&this._setScrollLeftValue(this.scrollLeft()),this.scrollTop()&&this.content().scrollTop(this.scrollTop()),this.model.autoHide&&this._autohide(),this.model.enabled?this.enable():this.disable(),this._setDimension(),this._prevScrollWidth===this.content()[0].scrollWidth&&this._prevScrollHeight===this.content()[0].scrollHeight)||this.refresh(),this._addActionClass()},_addActionClass:function(){"msie"==this._browser&&(this.content().removeClass("e-pinch e-pan-x e-pan-y"),this._vScrollbar&&this._hScrollbar?this.content().addClass("e-pinch"):this._vScrollbar&&!this._hScrollbar?this.content().addClass("e-pan-x"):this._hScrollbar&&!this._vScrollbar&&this.content().addClass("e-pan-y"))},_setDimension:function(){d.isNullOrUndefined(this.model.height)||"string"!=typeof this.model.height||-1==this.model.height.indexOf("%")||(this._vScroll?this.model.height=this._convertPercentageToPixel(parseInt(this._eleHeight),this.element.parent().height()):h(this.content()[0]).height("")),d.isNullOrUndefined(this.model.width)||"string"!=typeof this.model.width||-1==this.model.width.indexOf("%")||(this._hScroll?this.model.width=this._convertPercentageToPixel(parseInt(this._eleWidth),this.element.parent().width()):h(this.content()[0]).width(""))},_setScrollLeftValue:function(e){this.model.enableRTL&&(e="mozilla"==d.browserInfo().name?e<0?e:-1*e:!d.isNullOrUndefined(this._rtlScrollLeftValue)&&("chrome"==d.browserInfo().name||0<this._rtlScrollLeftValue)?e<0?this._rtlScrollLeftValue+e:this._rtlScrollLeftValue-e:Math.abs(e)),this.content().scrollLeft(e)},_ensureScrollers:function(){var e,t,i,s=h.fn.jquery;this.model.height="string"==typeof this.model.height&&-1!=this.model.height.indexOf("px")?parseInt(this.model.height):this.model.height,this.model.width="string"==typeof this.model.width&&-1!=this.model.width.indexOf("px")?parseInt(this.model.width):this.model.width,this.model.height&&this.element.height(this.model.height),this.model.width&&this.element.width(this.model.width),this._off(this.content(),"mousedown touchstart"),0<this.content().length&&(this.isVScroll()?(this._vScrollbar||(this._vScrollbar=this._createScrollbar(d.ScrollBar.Orientation.Vertical,this.isHScroll())),this.model.enableTouchScroll&&this._on(this.content(),"mousedown touchstart",{d:this._vScrollbar._scrollData},this._mouseDownOnContent)):(this._vScrollbar=null,this.element.children(".e-vscrollbar").remove()),this.isHScroll()?(this._hScrollbar||(this._hScrollbar=this._createScrollbar(d.ScrollBar.Orientation.Horizontal,this.isVScroll())),this.model.enableTouchScroll&&this._on(this.content(),"mousedown touchstart",{d:this._hScrollbar._scrollData},this._mouseDownOnContent)):(this._hScrollbar=null,this.element.children(".e-hscrollbar").remove()),this._vScrollbar||this._hScrollbar||this.content().css({width:"auto",height:"auto"}),0<this.element.find(".e-hscroll").length||this._vScrollbar&&this.content().outerHeight(this.content().outerHeight()-1),this._hScroll=this.isHScroll(),this._vScroll=this.isVScroll(),this._hScroll||this._vScroll?(this.content().addClass("e-content"),s="1.7.1"===s||"1.7.2"===s?(i="height","width"):(i="outerHeight","outerWidth"),t=(e=this._exactElementDimension(this.element)).height-(this.border_bottom+this.border_top+this.padding_bottom+this.padding_top),this.content()[i](t-(this._hScroll&&!this.model.autoHide?this.model.scrollerSize:0)),i=e.width-(this.border_left+this.border_right+this.padding_left+this.padding_right),this.content()[s](i-(this._vScroll&&!this.model.autoHide?this.model.scrollerSize:0)),isNaN(this._eleWidth)&&0<this._eleWidth.indexOf("%")&&isNaN(this._eleHeight)&&0<this._eleHeight.indexOf("%")&&h(c).on("resize",h.proxy(this._resetScroller,this))):this.content().removeClass("e-content"),this._setDimension(),this._parentHeight=h(this.element).parent().height(),this._parentWidth=h(this.element).parent().width())},_convertPercentageToPixel:function(e,t){return Math.floor(e*t/100)},isHScroll:function(){var e;return d.isNullOrUndefined(this.model.width)||"string"!=typeof this.model.width||-1==this.model.width.indexOf("%")?0<this.model.width&&(e=this.content().find(this.model.targetPane),null!=this.model.targetPane&&e.length?e[0].scrollWidth+e.siblings().width()>this.model.width:this.content()[0].scrollWidth>this.model.width||this.content()[0].scrollWidth==this.model.width&&0<h(this.content()[0]).find("> *").length&&h(this.content()[0]).find("> *")[0].scrollWidth>this.model.width):this.content()[0].scrollWidth>this.element.width()},isVScroll:function(){return d.isNullOrUndefined(this.model.height)||"string"!=typeof this.model.height||-1==this.model.height.indexOf("%")?!!(0<this.model.height&&(this.content()[0].scrollHeight>this.model.height||this.isHScroll()&&(this.content()[0].scrollHeight==this.model.height||this.content()[0].scrollHeight>this.model.height-(this.model.scrollerSize-2)))):this.content()[0].scrollHeight>this.element.outerHeight()},_setModel:function(e){for(var t in e)if("enableRTL"===t)e[t]?(this.element.addClass("e-rtl"),this._rtlScrollLeftValue=this.content().scrollLeft(),d.isNullOrUndefined(this._hScrollbar)||(this._hScrollbar._scrollData.enableRTL=!0)):(this.element.removeClass("e-rtl"),d.isNullOrUndefined(this._hScrollbar)||(this._hScrollbar._scrollData.enableRTL=!1)),this._hScrollbar&&(this.element.find(".e-hhandle").css("left",0),this._hScrollbar.value(0));else if("scrollLeft"===t)(parseFloat(e[t])<0||!this._hScroll)&&(e[t]=0),this._externalCall=!0,this._hScrollbar&&(e[t]=parseFloat(e[t])>this._hScrollbar._scrollData.scrollable?this._hScrollbar._scrollData.scrollable:parseFloat(e[t])),this._setScrollLeftValue(parseFloat(e[t])),this.scrollLeft(e[t]),!this._hScrollbar||this._hScrollbar._scrollData._scrollleftflag&&this.model.enableRTL||this.scrollX(e[t]);else if("scrollTop"===t)this._vScrollbar&&(e[t]=parseFloat(e[t])>this._vScrollbar._scrollData.scrollable?this._vScrollbar._scrollData.scrollable:parseFloat(e[t])),(parseFloat(e[t])<0||!this._vScroll)&&(e[t]=0),this._externalCall=!0,this.content().scrollTop(parseFloat(e[t])),this.scrollTop(e[t]),this.scrollY(e[t]);else if("touchScroll"===t)this.model.enableTouchScroll?(this._vScrollbar&&this._on(this.content(),"mousedown touchstart",{d:this._vScrollbar._scrollData},this._mouseDownOnContent),this._hScrollbar&&this._on(this.content(),"mousedown touchstart",{d:this._hScrollbar._scrollData},this._mouseDownOnContent)):this._off(this.content(),"mousedown touchstart");else if("scrollOneStepBy"===t)this._vScrollbar&&(this._vScrollbar._scrollData.scrollOneStepBy=e[t],this._vScrollbar.model.smallChange=e[t]),this._hScrollbar&&(this._hScrollbar._scrollData.scrollOneStepBy=e[t],this._hScrollbar.model.smallChange=e[t]);else{if("buttonSize"!==t){"height"===t&&(this._eleHeight=e[t]),"width"===t&&(this._eleWidth=e[t]),this.refresh();break}this._vScrollbar&&(this._vScrollbar.model.buttonSize=this.model.buttonSize),this._hScrollbar&&(this._hScrollbar.model.buttonSize=this.model.buttonSize),this.refresh()}},_createScrollbar:function(e,t){var i,s,o,n,l=document.createElement("div"),a=e===d.ScrollBar.Orientation.Vertical?(s=this.model.scrollerSize,n=i=d.isNullOrUndefined(this.model.height)||"string"!=typeof this.model.height||-1==this.model.height.indexOf("%")?this.model.height-(t?this.model.scrollerSize:0):this.element.height()-(t?this.model.scrollerSize:0),o=this.content()[0].scrollHeight,this.scrollTop()):(s=i=this.model.width-(t?this.model.scrollerSize:0),n=this.model.scrollerSize,o=d.isNullOrUndefined(this.model.width)||"string"!=typeof this.model.width||-1==this.model.width.indexOf("%")?(a=this.content().find(this.model.targetPane),null!=this.model.targetPane&&a.length?a[0].scrollWidth+a.parent().width()-a.width():this.content()[0].scrollWidth):(s=i=this.element.width()-(t?this.model.scrollerSize:0),this.content()[0].scrollWidth),this.scrollLeft());return 0<this.element.children(".e-hscrollbar").length?h(this.element.children(".e-hscrollbar")).before(l):this.element.append(l),h(l).ejScrollBar({elementHeight:this._eleHeight,elementWidth:this._eleWidth,buttonSize:this.model.buttonSize,orientation:e,viewportSize:i,height:n,width:s,maximum:o-i,value:a,smallChange:this.model.scrollOneStepBy,largeChange:3*this.model.scrollOneStepBy,scroll:d.proxy(this._scrollChanged,this),thumbEnd:d.proxy(this._thumbEnd,this),thumbStart:d.proxy(this._thumbStart,this),thumbMove:d.proxy(this._thumbMove,this)}),n=h(l).ejScrollBar("instance"),e!==d.ScrollBar.Orientation.Vertical&&t||this._off(this.element,"msie"==this._browser?"wheel mousewheel":"mousewheel DOMMouseScroll",this._mouseWheel)._on(this.element,"msie"==this._browser?"wheel mousewheel":"mousewheel DOMMouseScroll",{d:n._scrollData},this._mouseWheel),e===d.ScrollBar.Orientation.Horizontal?this._scrollXdata=n._scrollData:this._scrollYdata=n._scrollData,e===d.ScrollBar.Orientation.Horizontal&&this.model.enableRTL&&(n._scrollData.enableRTL=!0),n._enabled=this.model.enabled,n},_updateScrollbar:function(e,t){var i=e===d.ScrollBar.Orientation.Vertical?this._vScrollbar:this._hScrollbar;i&&(e===d.ScrollBar.Orientation.Vertical?(i.model.width=this.model.scrollerSize,i.model.height=i.model.viewportSize=this.model.height-(t?this.model.scrollerSize:0),i.model.maximum=this.content()[0].scrollHeight-i.model.viewportSize,i.model.value=this.scrollTop()):(i.model.width=i.model.viewportSize=this.model.width-(t?this.model.scrollerSize:0),i.model.height=this.model.scrollerSize,i.model.maximum=(null!=this.model.targetPane&&0<this.content().find(this.model.targetPane).length?this.content().find(this.model.targetPane)[0].scrollWidth+(this.content().width()-h(this.model.targetPane).outerWidth()):this.content()[0].scrollWidth)-i.model.viewportSize,this.model.enableRTL||(i.model.value=this.scrollLeft())))},_autohide:function(){this.model.autoHide?(this.element.addClass("e-autohide"),this._on(this.element,"mouseenter mouseleave touchstart touchend",this._scrollerHover),this.content().siblings(".e-scrollbar.e-js").hide()):(this.element.removeClass("e-autohide"),this._off(this.element,"mouseenter mouseleave touchstart touchend",this._scrollerHover),this.content().siblings(".e-scrollbar.e-js").show())},_scrollChanged:function(e){this._updateScroll=!0,e.scrollTop!==p?this.scrollY(e.scrollTop,!0,"",e.source):e.scrollLeft!==p&&this.scrollX(e.scrollLeft,!0,"",e.source),this._updateScroll=!1;var t=this;h.when(this.content()).done(d.proxy(function(){t._trigger("scrollEnd",{scrollData:e})}))},_bindBlurEvent:function(e,t){this._scrollEle=h(e).data("ejScrollBar"),this._event=t;this._listener=function(){this._scrollEle._off(h(document),"mousemove touchmove",this._scrollEle._mouseMove),h(document).off("mouseup touchend",d.proxy(this._scrollEle._mouseUp,this._scrollEle)),this._scrollEle._prevY=null,this._off(h(document),"mousemove touchmove",this._mouseMove),this._off(h(document),"mouseup touchend",this._mouseUp),this._off(h(c),"blur"),this._evtData.handler,this._scrollEle._trigger("thumbEnd",{originalEvent:this._event,scrollData:this._evtData})},this._on(h(c),"blur",this._listener)},_thumbStart:function(e){this._evtData=e.scrollData;e.scrollData.handler,this.element.find("."+e.scrollData.handler).closest(".e-scrollbar");e.scrollData.handler;var t=this.element.find("."+e.scrollData.handler).closest(".e-scrollbar");this._bindBlurEvent(t,e),this._trigger("thumbStart",e)},_thumbMove:function(e){this._trigger("thumbMove",e)},_thumbEnd:function(e){this._trigger("thumbEnd",e),this._off(h(c),"blur")},refresh:function(e){var t;e||this.element.find(">.e-content").removeAttr("style"),d.isNullOrUndefined(this._eleHeight)||"string"!=typeof this._eleHeight||-1==this._eleHeight.indexOf("%")||this._parentHeight==h(this.element).parent().height()||(t=(t=this._exactElementDimension(this.element.parent())).height-(this.border_bottom+this.border_top+this.padding_bottom+this.padding_top),this.model.height=this._convertPercentageToPixel(parseInt(this._eleHeight),t)),d.isNullOrUndefined(this._eleWidth)||"string"!=typeof this._eleWidth||-1==this._eleWidth.indexOf("%")||this._parentWidth==h(this.element).parent().width()||(t=(t=this._exactElementDimension(this.element.parent())).width-(this.border_left+this.border_right+this.padding_left+this.padding_right),this.model.width=this._convertPercentageToPixel(parseInt(this._eleWidth),t)),this._ensureScrollers(),e=this.scrollLeft(),!this.model.enableRTL||(this.element.hasClass("e-rtl")||this.element.addClass("e-rtl"),this._rtlScrollLeftValue=this.content().scrollLeft(),0<e)?this.content().scrollLeft(e):this._setScrollLeftValue(e),(this.scrollTop()&&null==this._vScrollbar||null!==this._vScrollbar&&null!=this._vScrollbar._scrollData&&!this._vScrollbar._scrollData.skipChange)&&this.content().scrollTop(this.scrollTop()),this._vScrollbar&&(this._vScrollbar._scrollData.dimension="Height",this._updateScrollbar(d.ScrollBar.Orientation.Vertical,this._hScroll),this._vScroll)&&!this._vScrollbar._calculateLayout(this._vScrollbar._scrollData)&&this._vScrollbar._updateLayout(this._vScrollbar._scrollData),this._hScrollbar&&(this._hScrollbar._scrollData.dimension="Width",this._updateScrollbar(d.ScrollBar.Orientation.Horizontal,this._vScroll),this._hScroll)&&!this._hScrollbar._calculateLayout(this._hScrollbar._scrollData)&&this._hScrollbar._updateLayout(this._hScrollbar._scrollData),"msie"==d.browserInfo().name&&"8.0"==d.browserInfo().version?this.element.find(".e-hhandle").css("left","0px"):null!=this.model.targetPane&&this._on(this.content().find(this.model.targetPane),"scroll",this._scroll),this._addActionClass(),this._autohide()},_exactElementDimension:function(e){for(var t=e.get(0).getBoundingClientRect(),i=["left","right","top","bottom"],s=t.width||t.right-t.left,t=t.height||t.bottom-t.top,o=0;o<i.length;o++)this["border_"+i[o]]=isNaN(parseFloat(e.css("border-"+i[o]+"-width")))?0:parseFloat(e.css("border-"+i[o]+"-width")),this["padding_"+i[o]]=isNaN(parseFloat(e.css("padding-"+i[o])))?0:parseFloat(e.css("padding-"+i[o]));return{width:s,height:t}},_keyPressed:function(e,t){if(this.model.enabled){if(-1!==["input","select","textarea"].indexOf(t.tagName.toLowerCase()))return!0;var i,s;if(-1!==["up","down","pageUp","pageDown"].indexOf(e))this._vScrollbar&&("msie"==d.browserInfo().name&&this.model.allowVirtualScrolling&&this._content.focus(),i=this._vScrollbar._scrollData),s="o";else{if(-1===["left","right","pageLeft","pageRight"].indexOf(e))return!0;this._hScrollbar&&(i=this._hScrollbar._scrollData),s="i"}return!i||!this._changeTop(i,(e.indexOf(s)<0?-1:1)*("p"!==e[0]?1:3)*i.scrollOneStepBy,"key")}},scrollY:function(e,t,i,s,o){if(""!==e){if(t)return o={source:s||"custom",scrollData:this._vScrollbar?this._vScrollbar._scrollData:null,scrollTop:e,originalEvent:o},this._trigger("scroll",o)?void 0:(e=o.scrollTop,this.scrollTop(e),void this.content().scrollTop(e));!d.isNullOrUndefined(i)&&""!==i||(i=100),this._vScrollbar&&(e=parseFloat(e)>this._vScrollbar._scrollData.scrollable?this._vScrollbar._scrollData.scrollable:parseFloat(e)),this.scrollTop(e),this.content().stop().animate({scrollTop:e},i,"linear"),this._trigger("scroll",{source:s||"custom",scrollData:this._vScrollbar?this._vScrollbar._scrollData:null,scrollTop:e,originalEvent:o})}},scrollX:function(e,t,i,s,o){var n;if(""!==e){if(this._hScrollbar&&(e=parseFloat(e)>this._hScrollbar._scrollData.scrollable?this._hScrollbar._scrollData.scrollable:parseFloat(e)),this._externalCall=!0,n=d.browserInfo().name,this.model.enableRTL&&"mozilla"!=n&&(e<0&&(e=Math.abs(e)),(null!=this.model.targetPane?this.content().find(this.model.targetPane):this.content())[0],"mousemove"!=o)&&"touchmove"!=o&&"msie"!=n&&(e=this._hScrollbar._scrollData.scrollable-e),this.scrollLeft(e),t)return this._trigger("scroll",{source:s||"custom",scrollData:this._hScrollbar?this._hScrollbar._scrollData:null,scrollLeft:e,originalEvent:o})?void 0:void(null!=this.model.targetPane&&this.content().find(this.model.targetPane).length?this.content().find(this.model.targetPane):this.content()).scrollLeft(e);!d.isNullOrUndefined(i)&&""!==i||(i=100),(null!=this.model.targetPane&&this.content().find(this.model.targetPane).length?this.content().find(this.model.targetPane):this.content()).stop().animate({scrollLeft:e},i,"linear"),this._trigger("scroll",{source:s||"custom",scrollData:this._hScrollbar?this._hScrollbar._scrollData:null,scrollLeft:e,originalEvent:o})}},enable:function(){var e=this.element.find(".e-vscrollbar,.e-hscrollbar,.e-vscroll,.e-hscroll,.e-vhandle,.e-hhandle,.e-vscroll .e-icon,.e-hscroll .e-icon");e.hasClass("e-disable")&&(e.removeClass("e-disable").attr({"aria-disabled":!1}),this.model.enabled=!0),this._vScrollbar&&(this._vScrollbar._enabled=this.model.enabled),this._hScrollbar&&(this._hScrollbar._enabled=this.model.enabled)},disable:function(){this.element.find(".e-vscrollbar,.e-hscrollbar,.e-vscroll,.e-hscroll,.e-vhandle,.e-hhandle,.e-vscroll .e-icon,.e-hscroll .e-icon").addClass("e-disable").attr({"aria-disabled":!0}),this.model.enabled=!1,this._vScrollbar&&(this._vScrollbar._enabled=this.model.enabled),this._hScrollbar&&(this._hScrollbar._enabled=this.model.enabled)},_changeTop:function(e,t,i,s){var o=(null!=this.model.targetPane&&"height"!=e.dimension?this.content().find(this.model.targetPane):this.content())[e.scrollVal](),t=(o="height"==e.dimension&&0==o?0!=this.scrollTop()?this.scrollTop():0:o)+t;return(e.enableRTL?t<e.scrollable:t>e.scrollable)&&(t=e.scrollable),(t=(e.enableRTL?0<t:t<0)?0:t)!==o&&(this["scroll"+e.xy](t,!0,"",i,s),"X"!==e.xy||d.isNullOrUndefined(this._hScrollbar)?d.isNullOrUndefined(this._vScrollbar)||this._vScrollbar.scroll(t,i,!0,s):this._hScrollbar.scroll(t,i,!0,s)),t!==o},_mouseWheel:function(e){var t;if((this._vScrollbar||e.shiftKey)&&e.data&&this.model.enabled){var i,s=0,o=e.data.d,n=e;if(e=e.originalEvent,this._wheelStart&&this._trigger("wheelStart",{originalEvent:e,scrollData:n.data.d}),this._wheelStart=!1,clearTimeout(h.data(this,"timer")),1==this._wheelx||0!=e.wheelDeltaX&&0!=e.wheelDeltaY||(this._wheelx=1),0==navigator.platform.indexOf("Mac")&&0==this._wheelx&&("webkit"==this._browser||"chrome"==this._browser))return!0;"mozilla"==this._browser?e.axis==e.HORIZONTAL_AXIS?o=this._scrollXdata:this._scrollYdata:"msie"==this._browser?("wheel"==e.type&&(s=e.deltaX/120),"mousewheel"==e.type&&e.shiftKey&&(o=this._scrollXdata,e.preventDefault?e.preventDefault():e.returnValue=!1)):this._wheelx&&0!=e.wheelDeltaX&&0==e.wheelDeltaY&&this._scrollXdata&&(o=this._scrollXdata),0==e.wheelDeltaX&&(this._wheelx=e.wheelDeltaX),e.wheelDelta?(s=0==navigator.platform.indexOf("Mac")?-e.wheelDelta/3:-e.wheelDelta/120,c.opera&&parseFloat(c.opera.version,10)<10&&(s=-s)):e.detail&&(s=e.detail/3),s&&(n.originalEvent&&(i=n.originalEvent.wheelDelta&&0<n.originalEvent.wheelDelta||n.originalEvent.detail&&n.originalEvent.detail<0?-1:1),this._changeTop(o,s*o.scrollOneStepBy,"wheel",e)?((e.preventDefault?e:n).preventDefault(),n.stopImmediatePropagation(),n.stopPropagation(),this._trigger("wheelMove",{originalEvent:e,scrollData:n.data.d,direction:i})):(this._trigger("scrollEnd",{originalEvent:e,scrollData:n}),this._wheelx=0),h.data(t=this,"timer",setTimeout(function(){t._wheelStart=!0,t._trigger("wheelStop",{originalEvent:e,scrollData:n.data.d,direction:i})},250)))}},_scrollerHover:function(e){"mouseenter"!=e.type&&"touchstart"!=e.type||this.content().siblings().is(":visible")?"mouseleave"!=e.type&&"touchend"!=e.type||this.content().siblings().hide():this.content().siblings().css("display","block")},_mouseUp:function(e){var t;e.data&&(t=e.data.d,"mouseup"!==e.type&&"touchend"!==e.type&&(e.toElement||e.relatedTarget)||(this.content().css("cursor","default"),this._off(h(document),"mousemove touchmove"),this._off(h(document),"mouseup touchend",this._mouseUp),!(t.fromScroller=!1)!==this._mouseMoved)||"thumb"!==e.data.source||d.isNullOrUndefined(this.model)||(h.when(this.content()).done(d.proxy(function(){this._trigger("thumbEnd",{originalEvent:e,scrollData:t})},this)),this._off(h(c),"blur")),t.up=!0)},_mouseDownOnContent:function(e){var n,t,l,a,r;this._velocity=0,!this.model.enabled||(n=e.data.d,this._evtData=e.data,this._startX=e.clientX!=p?e.clientX:e.originalEvent.changedTouches[0][n.clientXy],this._startY=e.clientY!=p?e.clientY:e.originalEvent.changedTouches[0][n.clientXy],this._timeStart=e.timeStamp||Date.now(),n.handler,t=this.element.find("."+n.handler).closest(".e-scrollbar"),this._bindBlurEvent(t,e),this._trigger("thumbStart",{originalEvent:e,scrollData:n}))||3==e.which&&2==e.button||(n.fromScroller=!0,l=null,a=1,this._document=h(document),this._window=h(c),this._mouseMove=function(e){var t,i,s,o;this._relDisX=(this._startx=e.clientX!=p?e.clientX:e.originalEvent.changedTouches[0][n.clientXy])-this._startX,this._relDisY=(this._starty=e.clientY!=p?e.clientY:e.originalEvent.changedTouches[0][n.clientXy])-this._startY,this._duration=(e.timeStamp||Date.now())-this._timeStart,this._velocityY=Math.abs(this._relDisY)/this._duration,this._velocityX=Math.abs(this._relDisX)/this._duration,e.preventDefault(),"iframe"===e.target.tagName.toLowerCase()?(e.type="mouseup",this._mouseUp(e)):(o=("mousemove"==e.type?e:e.originalEvent.changedTouches[0])[n.clientXy],l&&o!==l&&(this._mouseMoved=!0,i=o-l,t=this.model[n.scrollVal]-i,1==a&&5<Math.abs(i)&&(r=n.position,a=0),0==a&&(l=o),0<=t)&&t<=n.scrollable&&r===n.position&&(i=.5<this._velocityY&&this._duration<50&&"Top"==n.position,s=.5<this._velocityX&&this._duration<50&&"Left"==n.position,(.5<this._velocityY||.5<this._velocityX)&&this._duration<50?i?(t=Math.abs(this._relDisY)+this._duration*this._velocityY,this._startY>this._starty?(t+=this.scrollTop())>n.scrollable&&(t=n.scrollable):t<this.scrollTop()&&(t=Math.abs(t-this.scrollTop())),this.scrollTop()<=n.scrollable&&this.scrollY(t,!1,this.model.animationSpeed,"thumb")):s&&(t=Math.abs(this._relDisX),this._startX>this._startx?(t+=this.scrollLeft())>n.scrollable&&(t=n.scrollable):(t-=this.scrollLeft(),((t=Math.abs(t))>n.scrollable||t>=this.scrollLeft())&&(t=0)),this.scrollLeft()<=n.scrollable)&&this.scrollX(t,!1,this.model.animationSpeed,"thumb"):(this["scroll"+n.xy](t,!0,"","thumb",e.type),"X"===n.xy?this._hScrollbar.scroll(t,"thumb",!0,e.type):d.isNullOrUndefined(this._vScrollbar)||this._vScrollbar.scroll(t,"thumb",!0,e.type),this.content().css("cursor","pointer"),this._trigger("thumbMove",{originalEvent:e,scrollData:n}))),null==l&&(l=o))},this._on(h(document),"mousemove touchmove",{d:n,source:"thumb"},this._mouseMove),this._mouseMoved=!1,this._on(h(document),"mouseup touchend",{d:n,source:"thumb"},this._mouseUp))},_scroll:function(e){for(var t,i,s=[this._vScrollbar?this._vScrollbar._scrollData:null,this._hScrollbar?this._hScrollbar._scrollData:null],o=0;o<2;o++)if((t=s[o])&&!t.skipChange){if(this._externalCall||("height"===t.dimension?this.scrollTop(e.target[t.scrollVal]):this.scrollLeft(e.target[t.scrollVal])),t.sTop=this.model&&null!=this.model.targetPane&&1==o&&this.content().find(this.model.targetPane).length?this.content().find(this.model.targetPane)[0][t.scrollVal]:"scrollTop"==t.scrollVal?this.scrollTop():this.scrollLeft(),this[t.scrollVal](t.sTop),t.fromScroller)return;(1===o?(i=this.content()[0],this._rtlScrollLeftValue&&i.scrollWidth-i.clientWidth!=this._rtlScrollLeftValue&&(this._rtlScrollLeftValue=i.scrollWidth-i.clientWidth),t.sTop=this.model&&"mozilla"!=d.browserInfo().name&&this.model.enableRTL&&!this._hScrollbar._scrollData._scrollleftflag?0==this._rtlScrollLeftValue?-1*t.sTop:t.sTop-this._rtlScrollLeftValue:t.sTop,this._hScrollbar):this._vScrollbar).scroll(t.sTop,"",!0),(2==s.length&&1==o||1==s.length&&0==o)&&(this._externalScroller=!1)}},_changevHandlerPosition:function(e){var t=this._vScrollbar;t&&(e=null!=t._scrollData&&e>=t._scrollData.scrollable?t._scrollData.scrollable:e,null!=t)&&0<=e&&e<=t._scrollData.scrollable&&t[t._scrollData.handler].css(t._scrollData.lPosition,e/t._scrollData.onePx+"px")},_changehHandlerPosition:function(e){var t=this._hScrollbar;t&&(e=null!=t._scrollData&&e>=t._scrollData.scrollable?t._scrollData.scrollable:e,null!=t)&&0<=top&&e<=t._scrollData.scrollable&&t[t._scrollData.handler].css(t._scrollData.lPosition,e/t._scrollData.onePx+"px")},_destroy:function(){this.element.css({width:"",height:""}).find(".e-vscrollbar,.e-hscrollbar").remove(),this.content().removeClass("e-content").css({width:"",height:""})}})}(jQuery,Syncfusion,window)}),function(e){"function"==typeof define&&define.amd?define(["./../common/ej.globalize.min","./../common/ej.core.min","./../common/ej.scroller.min","./../common/ej.draggable.min"],e):e()}(function(){var a,n;a=jQuery,(n=Syncfusion).widget("ejDialog","ej.Dialog",{_rootCSS:"e-dialog",element:null,_ignoreOnPersist:["drag","dragStart","dragStop","resizeStop","resizeStart","resize","beforeClose","beforeOpen","collapse","expand","close","open","destroy","create","ajaxSuccess","ajaxError","contentLoad","actionButtonClick","enableResize"],model:null,validTags:["div","span"],_setFirst:!1,angular:{terminal:!1},defaults:{showOnInit:!0,closeOnEscape:!0,closeIconTooltip:"close",enableAnimation:!0,allowDraggable:!0,height:"auto",minHeight:120,minWidth:200,maxHeight:null,maxWidth:null,enableModal:!1,position:{X:"",Y:""},containment:null,enableResize:!0,htmlAttributes:{},showHeader:!0,showFooter:!1,contentType:null,contentUrl:null,ajaxSettings:{type:"GET",cache:!1,data:{},dataType:"html",contentType:"html",async:!0},title:"",width:400,zIndex:1e3,cssClass:"",enableRTL:!1,allowKeyboardNavigation:!0,showRoundedCorner:!1,actionButtons:["close"],animation:{show:{effect:"fade",duration:400},hide:{effect:"fade",duration:400}},tooltip:{close:"Close",collapse:"Collapse",restore:"Restore",maximize:"Maximize",minimize:"Minimize",expand:"Expand",unPin:"UnPin",pin:"Pin"},footerTemplateId:null,locale:"en-US",faviconCSS:null,content:null,target:null,enablePersistence:!1,enabled:!0,isResponsive:!1,actionButtonClick:null,beforeClose:null,close:null,expand:null,collapse:null,beforeOpen:null,open:null,drag:null,dragStart:null,dragStop:null,resize:null,resizeStart:null,resizeStop:null,contentLoad:null,ajaxSuccess:null,ajaxError:null,create:null,destroy:null,Close:null},dataTypes:{showOnInit:"boolean",closeOnEscape:"boolean",enableAnimation:"boolean",position:"data",animation:"data",closeIconTooltip:"string",tooltip:"data",allowDraggable:"boolean",enableModal:"boolean",enableResize:"boolean",isResponsive:"boolean",showHeader:"boolean",showFooter:"boolean",title:"string",faviconCSS:"string",zIndex:"number",cssClass:"string",enablePersistence:"boolean",contentUrl:"string",contentType:"string",enableRTL:"boolean",enabled:"boolean",allowKeyboardNavigation:"boolean",showRoundedCorner:"boolean",locale:"string",htmlAttributes:"data",ajaxSettings:"data",actionButtons:"array",footerTemplateId:"string"},_setModel:function(e){var t,i;for(t in e)switch(t){case"closeIconTooltip":this._dialogClose.attr("title",e[t]);break;case"tooltip":this._tooltipText(e[t]);break;case"title":this.model.title=e[t],this._ejDialog.find("span.e-title").length<=0?this._addTitleText():this._ejDialog.find("span.e-title").html(e[t]),this._updateCaptionWidth();break;case"width":this.model.width=e[t],this._changeSize(),this._updateCaptionWidth(),e[t]=this.model.width;break;case"height":this.model.height=e[t],this._changeSize(),e[t]=this.model.height;break;case"position":this.model.position=e[t],this._dialogPosition();break;case"cssClass":this._changeSkin(e[t]);break;case"showRoundedCorner":this.model.showRoundedCorner=e[t],this._roundedCorner(e[t]);break;case"contentType":this.model.contentType=e[t],this._appendContent(e[t]);break;case"enabled":this.model.enabled=e[t],this._enabledAction(e[t]);break;case"contentUrl":this.model.contentUrl=e[t],this._appendContent(this.model.contentType);break;case"content":case"target":this._ejDialog.appendTo(a(e[t])),this.model.target=this.model.content=e[t],this._dialogPosition();break;case"containment":this._setDragArea(e[t]),n.isNullOrUndefined(this._target)?this._ejDialog.appendTo(document.body):this._ejDialog.appendTo(this._target),this.model.position.X=this.model.position.Y="",this._dialogPosition(),this.model.containment=e[t]=this._target,this.model.enableModal&&this._createOverlay(),this._dialogTitlebar.ejDraggable({dragArea:this._target});break;case"locale":this.model.locale=e[t],this.localizedLabels=this._getLocalizedLabels(),this._setLocaleCulture(this.localizedLabels),this._tooltipText(this.model.tooltip);break;case"minHeight":this.model.minHeight=e[t],this._ejDialog.css("minHeight",e[t]),this._minMaxValidation(),this._resetScroller(),this._resizeDialog();break;case"minWidth":this.model.minWidth=e[t],this._ejDialog.css("minWidth",e[t]),this._minMaxValidation(),this._resetScroller(),this._resizeDialog();break;case"maxHeight":this.model.maxHeight=e[t],this._ejDialog.css("maxHeight",e[t]),this._minMaxValidation(),this._resetScroller(),this._resizeDialog();break;case"maxWidth":this.model.maxWidth=e[t],this._ejDialog.css("maxWidth",e[t]),this._minMaxValidation(),this._resetScroller(),this._resizeDialog();break;case"zIndex":this._ejDialog.css("z-index",e[t]);break;case"faviconCSS":this.model.faviconCSS=e[t],this._favIcon(),this._updateCaptionWidth();break;case"isResponsive":this.model.isResponsive=e[t],this.model.isResponsive?this._ejDialog.addClass("e-dialog-resize"):this._ejDialog.removeClass("e-dialog-resize"),this._wireResizing();break;case"allowDraggable":this.model.allowDraggable=e[t],e[t]?this._enableDrag():this._dialogTitlebar.removeClass("e-draggable");break;case"enableResize":this.model.enableResize=e[t],e[t]?this._enableResize():(this._ejDialog.removeClass("e-resizable"),this._ejDialog.find(".e-resize-handle").remove()),this._reRenderScroller();break;case"showHeader":this.model.showHeader=e[t],e[t]?(this._renderTitleBar(),this._iconsRender(this.model.actionButtons),this.model.faviconCSS&&(this._dialogFavIcon=!1,this._favIcon()),this._enableDrag(),this._maximize||this._updateScroller(this._ejDialog.outerHeight(!0)-this._dialogTitlebar.outerHeight(!0),this._ejDialog.width()-2)):(this._ejDialog.find(".e-titlebar").remove(),this._maximize?this.refresh():this._updateScroller(this._ejDialog.outerHeight(!0),this._ejDialog.width()-2)),this._roundedCorner(this.model.showRoundedCorner),this.model.showFooter&&this._setContainerSize()._resetScroller();break;case"showFooter":this.model.showFooter=e[t],(e[t]?(this._appendContent(),this._ejDialog.find(".e-resizable")):this._ejDialog.find(".e-footerbar")).remove(),this._enableResize()._enableDrag()._sizeInPercent(),this._reRenderScroller(),this._setContainerSize()._resetScroller(),this._roundedCorner(this.model.showRoundedCorner);break;case"footerTemplateId":this.model.footerTemplateId=e[t],this.model.showFooter&&(a(".e-footerbar").empty(),i=a("body").find("#"+this.model.footerTemplateId).html(),this._dialogFooterbar.append(i),this._enableResize());break;case"enableRTL":this.model.enableRTL=e[t],this.model.faviconCSS&&this._favIcon(),e[t]?(this._ejDialog.addClass("e-rtl"),this.iframe&&this.iframe.contents().find("body").css("direction","rtl")):(this._ejDialog.removeClass("e-rtl"),this.iframe&&this.iframe.contents().find("body").css("direction","ltr")),this.scroller&&this._resetScroller();break;case"actionButtons":n.isNullOrUndefined(this._dialogTitlebar)||(this._removeAllIcons(),this._iconsRender(e[t])),this.model.actionButtons=e[t],this._updateCaptionWidth();break;case"enableModal":this._enableModal(e[t]);break;case"htmlAttributes":this._addAttr(e[t])}},_destroy:function(){this._overLay&&this._overLay.remove(),this._cloneElement.appendTo(this._ejDialog.parent()),this._ejDialog.remove(),this._cloneElement.removeClass("e-dialog"),this.element=this._cloneElement,this._isOpen=!1},keyConfigs:[37,38,39,40],_init:function(){this._init=!0,this._widthPercent=null,this._heightPercent=null,this._windowSize={outerWidth:a(window).outerWidth(),outerHeight:a(window).outerHeight()},this._initSize={width:this.model.width,height:this.model.height},this._sizeType={width:isNaN(this.model.width)?this.model.width.match(/px|%|auto/g)[0]:null,height:isNaN(this.model.height)?this.model.height.match(/px|%|auto/g)[0]:null},this._isOpen=this._maximize=this._minimize=!1,this.localizedLabels=this._getLocalizedLabels(),this._setLocaleCulture(this.localizedLabels),this._setDimension(),this.model.close||(this.model.close=this.model.Close),this.model.target||(this.model.target=this.model.content),this._responsive(),this._renderControl(),this._wireEvents(),(scrObj=this._ejDialog.closest(".e-dialog.e-js").data("ejDialog"))&&scrObj._resetScroller(),this.hidden=!1,this._init=!1},_responsive:function(){this.width=this.model.width,a(this.element).width(this.width),this.height=this.model.height,a(this.element).height(this.height),a(window).on("resize",a.proxy(this._resizeHandler,this))},_resizeHandler:function(){this._maximize&&(this.width=a(this._dialogTitlebar).outerWidth(),a(this.contentDiv).width(this.width),a(this.contentDiv).children().width(this.width),this.model.height=this.height=a(window).height(),this._ejDialog.css({height:this.height}),this.contentDiv.height(this._ejDialog.height()-a(this._dialogTitlebar).outerHeight()-a(this._dialogFooterbar).outerHeight()),this.element.height(this.contentDiv.height())),this._resetScroller()},_setLocaleCulture:function(e){this.defaults.closeIconTooltip===this.model.closeIconTooltip&&(this.model.closeIconTooltip=e.closeIconTooltip),JSON.stringify(this.model.tooltip)===JSON.stringify(this.defaults.tooltip)&&(this.model.tooltip=e.tooltip)},_setDragArea:function(e){n.isNullOrUndefined(e)?this._target=null:"string"==typeof e?("parent"==e&&(this._target=a(this.element).parent()),"document"==e.toLowerCase()&&(this._target=a(document)),"window"==e.toLowerCase()?this._target=a(window):0<a(e).length&&(this._target=a(e))):"object"==typeof e?0<e.length&&(this._target=e):this._target=null},_addAttr:function(e){var i=this;a.map(e,function(e,t){"class"==t?i._ejDialog.addClass(e):"disabled"==t&&"disabled"==e?(i.model.enabled=!1,i._enabledAction(!1)):i._ejDialog.attr(t,e)})},_tooltipText:function(e){a.extend(this.model.tooltip,e),this._dialogClose.hasClass("e-close")&&this._dialogClose.attr("title",this.model.tooltip.close),this._dialogCollapsible.hasClass("e-arrowhead-up")&&this._dialogCollapsible.attr("title",this.model.tooltip.collapse),this._dialogCollapsible.hasClass("e-arrowhead-down")&&this._dialogCollapsible.attr("title",this.model.tooltip.expand),this._dialogMaximize.hasClass("e-maximize")&&this._dialogMaximize.attr("title",this.model.tooltip.maximize),this._dialogMaximize.hasClass("e-restore")&&this._dialogMaximize.attr("title",this.model.tooltip.restore),this._dialogMinimize.hasClass("e-minus")&&this._dialogMinimize.attr("title",this.model.tooltip.minimize),this._dialogMinimize.hasClass("e-restore")&&this._dialogMinimize.attr("title",this.model.tooltip.restore),this._dialogPin.hasClass("e-unpin")&&this._dialogPin.attr("title",this.model.tooltip.pin),this._dialogPin.hasClass("e-pin")&&this._dialogPin.attr("title",this.model.tooltip.unPin)},_renderControl:function(){var e,t;this._cloneElement=this.element.clone(),this.element.attr("tabindex",0).attr({role:"dialog","aria-labelledby":this.element.prop("id")+"_title"}),this._ejDialog=n.buildTag("div.e-dialog e-widget e-box "+this.model.cssClass+" e-dialog-wrap e-shadow#"+(""==this.element.prop("id")?"":this.element.prop("id")+"_wrapper"),"",{display:"none",zIndex:this.model.zIndex},{tabindex:0}),this.model.isResponsive&&this._ejDialog.addClass("e-dialog-resize"),this.wrapper=this._ejDialog,this._addAttr(this.model.htmlAttributes),this._setDragArea(this.model.containment),n.isNullOrUndefined(this.model.containment)||n.isNullOrUndefined(this._target)?n.isNullOrUndefined(this.model.target)||(e=this.model.target):e=this._target,e=n.isNullOrUndefined(e)?document.body:e,(t=a(e).find("#"+this._id+"_wrapper").get(0))&&a(t).remove(),this._ejDialog.appendTo(e),this.model.enableRTL&&this._ejDialog.addClass("e-rtl"),this.model.showHeader&&(this._renderTitleBar(),this._iconsRender(this.model.actionButtons),this.model.faviconCSS)&&this._favIcon(),this._appendContent(this.model.contentType),this._enableResize()._enableDrag()._setSize()._sizeInPercent(),"ajax"!=this.model.contentType&&(this.model.showOnInit&&this.open()?this._setContainerSize()._resetScroller():this._setHiddenDialogSize()),this._roundedCorner(this.model.showRoundedCorner),this._enabledAction(this.model.enabled),"auto"==this._sizeType.width&&(this._maxWidth=this.model.width),"auto"==this._sizeType.height&&(this._maxHeight=this.model.height)},_setContainerSize:function(){var e;return"auto"!=this.model.height&&(e=this._ejDialog.outerHeight()-(this.model.showHeader?a(this._ejDialog.find("div.e-titlebar")).outerHeight(!0):0)+(this.model.showFooter?a(this._ejDialog.find("div.e-footerbar")).outerHeight(!0):0)-1,this.contentDiv.height(e),this.element.outerHeight(e)),this},_changeSize:function(){this._initSize={width:this.model.width,height:this.model.height},this._sizeType.width=isNaN(this.model.width)?this.model.width.match(/px|%|auto/g):null,this._sizeType.height=isNaN(this.model.height)?this.model.height.match(/px|%|auto/g):null,this._setSize()._sizeInPercent()._setContainerSize()._resetScroller()},_enableDrag:function(){return this.model.allowDraggable&&this.model.showHeader&&(this._dialogTitlebar.addClass("e-draggable"),this._dragDialog()),this},_enableResize:function(){var e;return this.model.enableResize&&(this._ejDialog.addClass("e-resizable"),e=n.buildTag("div.e-icon e-resize-handle"),this.model.showFooter?e.appendTo(this._dialogFooterbar):e.appendTo(this._ejDialog),this._resizeDialog()),this},_changeSkin:function(e){this.model.cssClass!=e&&this._ejDialog.removeClass(this.model.cssClass).addClass(e)},_enableModal:function(e){e?this._isOpen&&this._createOverlay():this._overLay&&this._overLay.remove()},_enabledAction:function(e){e?(this._ejDialog.removeClass("e-disable"),this.wrapper.children(".e-disable-overlay").remove(),n.isNullOrUndefined(this.scroller)||this.scroller.enable()):(this._ejDialog.addClass("e-disable"),n.buildTag("div.e-disable-overlay").appendTo(this.wrapper),n.isNullOrUndefined(this.scroller)||this.scroller.disable())},_renderTitleBar:function(){this._elementTitle=this.element.attr("title"),"string"!=typeof this._elementTitle&&(this._elementTitle=""),this.model.title=this.model.title||this._elementTitle,this._dialogTitlebar=n.buildTag("div#"+this.element.prop("id")+"_title.e-titlebar e-header e-dialog").prependTo(this._ejDialog),this._addTitleText()},_renderFooterBar:function(){this._dialogFooterbar=n.buildTag("div#"+this.element.prop("id")+"_foot.e-footerbar e-dialog e-js").appendTo(this._ejDialog)},_addTitleText:function(){return this.model.title&&(this._titleText=n.buildTag("span.e-title",this.model.title).prependTo(this._dialogTitlebar)),this},_updateCaptionWidth:function(){var e=this.model.faviconCSS&&!n.isNullOrUndefined(this._dialogFavIcon)?this._dialogFavIcon.outerWidth():0;return this._titleText&&this._titleText.css("max-width",this._dialogTitlebar.width()-20-this._dialogTitlebar.find(".e-dialog-icon").width()*this._dialogTitlebar.find(".e-dialog-icon").length-e),this},_iconsRender:function(e){for(var t=0;t<e.length;t++)switch("msie"==n.browserInfo().name&&n.browserInfo().version<=8?a.trim(e[t]):e[t].trim()){case"close":this._closeIcon();break;case"collapse":case"collapsible":this._collapsibleIcon();break;case"maximize":this._maximizeIcon();break;case"minimize":this._minimizeIcon();break;case"pin":this._pinIcon();break;default:this._customIconsRender(e[t])}},_customIconsRender:function(e){this._customIcon=n.util.buildTag("div#"+this.element[0].id+"_"+e+"button.e-dialog-icon e-icon e-"+e,null,null).attr("tabIndex","0").attr("title",e),this._customIcon.appendTo(this._dialogTitlebar),this._on(this._customIcon,"touchstart click",this._iconClick)},_iconClick:function(){var e;this.element.hasClass("e-disable")||(e={cancel:!1,buttonID:a(event.target).attr("id"),event:event.type,model:this.model,currentTarget:event.currentTarget.title},this._trigger("actionButtonClick",e))},_removeAllIcons:function(){this._dialogTitlebar.find("div.e-dialog-icon").remove()},_appendContent:function(e){var t,i,s,o;this.contentDiv=n.isNullOrUndefined(this.contentDiv)?n.buildTag("div.e-dialog-scroller"):this.contentDiv,this.element.removeAttr("title").addClass("e-widget-content e-box"),n.isNullOrUndefined((t=this).model.contentUrl)||n.isNullOrUndefined(e)?(this.dialogIframeContent=this.element.children().find("iframe").contents()[0],n.isNullOrUndefined(this.dialogIframeContent)?this.element.show().appendTo(this.contentDiv):this.element.show().appendTo(this.contentDiv).find("iframe").append(this.dialogIframeContent.lastChild)):"ajax"==e?(this.model.ajaxSettings.url=this.model.contentUrl,this._sendAjaxOptions(this.element,this.model.ajaxSettings.url)):"iframe"==e?(0<this.element.children(".e-iframe").length?(this.iframe=this.element.find("iframe.e-iframe"),this.iframe.attr("src",this.model.contentUrl)):(this.iframe=n.buildTag("iframe.e-iframe","",{width:"100%",height:"100%"},{scrolling:"auto",frameborder:0,src:this.model.contentUrl}),this.element.appendTo(this.contentDiv).append(this.iframe).show()),this.model.enableRTL&&a(this.iframe).load(function(){t.iframe.contents().find("body").css("direction","rtl")}),this._trigger("contentLoad",{contentType:e,url:this.model.contentUrl})):"image"==e?(o=n.buildTag("img.e-images","","",{src:this.model.contentUrl}),this.element.append(o).show().appendTo(this.contentDiv),a(o).on("load",function(){t._dialogPosition()}),this._trigger("contentLoad",{contentType:e,url:this.model.contentUrl})):this.element.show().appendTo(this.contentDiv),0<this._ejDialog.find("div.e-resize-handle").length?this.contentDiv.insertBefore(this._ejDialog.find("div.e-resize-handle")):(i=this.element.children().find("iframe").contents()[0],n.isNullOrUndefined(i)?this.contentDiv.appendTo(this._ejDialog):(this.contentDiv.appendTo(this._ejDialog),s=a("#"+this.contentDiv.find("iframe").attr("id")),setTimeout(function(){a(s[0].contentDocument.lastChild).remove(),s[0].contentDocument.appendChild(i)},500))),this.model.showFooter&&(this._renderFooterBar(),null!=this.model.footerTemplateId)&&(o=a("body").find("#"+this.model.footerTemplateId).html(),this._dialogFooterbar.append(o))},_roundedCorner:function(e){this._ejDialog[e?"addClass":"removeClass"]("e-corner"),this.contentDiv.removeClass("e-dialog-top e-dialog-bottom e-dialog-content"),this.model.showRoundedCorner&&(this.model.showHeader&&!this.model.showFooter?this.contentDiv.addClass("e-dialog-bottom"):!this.model.showHeader&&this.model.showFooter?this.contentDiv.addClass("e-dialog-top"):this.model.showHeader||this.model.showFooter||this.contentDiv.addClass("e-dialog-content"))},_reRenderScroller:function(){var e,t,i,s;null==this.scroller||(this.scroller.refresh(),this.model.enableRTL)||(this.scroller._vScrollbar&&this.scroller._vScrollbar._scrollData&&this.model.enableResize&&(s=this.model.showFooter?(e=this.scroller._vScrollbar.element.find("> div.e-vscroll").height(),i=0):(e=this.scroller._vScrollbar.element.find("> div.e-vscroll").height(),i=2,this._ejDialog.find("div.e-resize-handle").outerHeight()),Math.floor(this.contentDiv.outerHeight())===Math.floor(this.scroller._vScrollbar.model.height+1))&&(this.scroller._vScrollbar.model.height-=s+i,this.scroller._vScrollbar._scrollData.handle-=s,this.scroller._vScrollbar._scrollData.handleSpace-=s+i,this.scroller._vScrollbar._updateLayout(this.scroller._vScrollbar._scrollData),this.scroller._vScrollbar.element.find("> div.e-vscroll").height(e-s-i)),this.scroller._vScrollbar&&this.scroller._vScrollbar._scrollData||!this.scroller._hScrollbar||!this.scroller._hScrollbar._scrollData||!this.model.enableResize||(s=this.model.showFooter?(t=this.scroller._hScrollbar.element.find("> div.e-hscroll").width(),i=0):(t=this.scroller._hScrollbar.element.find("> div.e-hscroll").width(),i=2,this._ejDialog.find("div.e-resize-handle").outerWidth()),this.scroller._hScrollbar.model.width-=s+i,this.scroller._hScrollbar._scrollData.handle-=s+i,this.scroller._hScrollbar._scrollData.handleSpace-=s+i,this.scroller._hScrollbar._updateLayout(this.scroller._hScrollbar._scrollData),this.scroller._hScrollbar.element.find("> div.e-hscroll").width(t-s-i)))},_dialogMaxZindex:function(){var e,i=this.element.parents(),t=a("body").children();return index=t.index(this.popup),t.splice(index,1),a(t).each(function(e,t){i.push(t)}),t=a(this.model.target).children(),cindex=t.index(this.popup),t.splice(cindex,1),a(t).each(function(e,t){i.push(t)}),!(e=Math.max.apply(e,a.map(i,function(e){if("static"!=a(e).css("position"))return parseInt(a(e).css("z-index"))||1})))||e<1e4?e=1e4:e+=1,e},_setZindex:function(){var e=this._dialogMaxZindex();this.model.zIndex<=e&&this._ejDialog.css({zIndex:e+1})},_createOverlay:function(){var e=this._ejDialog.css("zIndex"),e=(n.isNullOrUndefined(this._overLay)||this._overLay.remove(),this._overLay=n.buildTag("div#"+this.element.attr("id")+"_overLay.e-overlay","",{zIndex:e-1}),n.isNullOrUndefined(this.model.containment)||n.isNullOrUndefined(this._target)?n.isNullOrUndefined(this.model.target)||(i=this.model.target):i=this._target,this._overLay.appendTo(n.isNullOrUndefined(i)?document.body:i),n.isNullOrUndefined(this.model.containment)||n.isNullOrUndefined(this._target)?"fixed":"absolute"),t=n.isNullOrUndefined(i)||"fixed"==e||"static"!=a(i).css("position").toLowerCase()?0:a(i).offset().left,i=n.isNullOrUndefined(i)||"fixed"==e||"static"!=a(i).css("position").toLowerCase()?0:a(i).offset().top;this._overLay.css({top:i,left:t,position:e})},_sendAjaxOptions:function(t,i){t.addClass("e-load");var s=this,o=this.model.title,e={success:function(e){try{s._ajaxSuccessHandler(e,t,i,o)}catch(e){}},error:function(e){try{s._ajaxErrorHandler({status:e.status,responseText:e.responseText,statusText:e.statusText},t,i,o)}catch(e){}},complete:function(){try{s._setContainerSize(),s._resetScroller(),s.model.showOnInit||s._setHiddenDialogSize()}catch(e){}}};a.extend(!0,e,this.model.ajaxSettings),this._sendAjaxRequest(e)},_setHiddenDialogSize:function(){this._isOpen||(this._ejDialog.css({display:"block",visibility:"hidden"}),this._setContainerSize()._resetScroller(),this._ejDialog.css({display:"none",visibility:""}))},_sendAjaxRequest:function(e){a.ajax({type:e.type,cache:e.cache,url:e.url,dataType:e.dataType,data:e.data,contentType:e.contentType,async:e.async,success:e.success,error:e.error,beforeSend:e.beforeSend,complete:e.complete})},_ajaxSuccessHandler:function(e,t,i){t.removeClass("e-load"),t.html(e).addClass("e-dialog-loaded").appendTo(this._ejDialog),t.appendTo(this.contentDiv),this._dialogPosition(),this.model.showOnInit&&this.open(),this._trigger("ajaxSuccess",{data:e,url:i})},_ajaxErrorHandler:function(e,t,i){t.addClass("e-dialog-loaded").appendTo(this.contentDiv),this._dialogPosition().open(),this._trigger("ajaxError",{data:e,url:i})},_closeIcon:function(){this._dialogClose=n.util.buildTag("div#"+this.element[0].id+"_closebutton.e-dialog-icon e-icon e-close",null,null).attr("tabIndex","0"),"close"==this.model.closeIconTooltip&&"Close"==this.model.tooltip.close?this._dialogClose.appendTo(this._dialogTitlebar).attr("title",this.model.tooltip.close):"close"!=this.model.closeIconTooltip&&"Close"==this.model.tooltip.close?this._dialogClose.appendTo(this._dialogTitlebar).attr("title",this.model.closeIconTooltip):("close"==this.model.closeIconTooltip&&this.model.tooltip.close,this._dialogClose.appendTo(this._dialogTitlebar).attr("title",this.model.tooltip.close)),this._on(this._dialogClose,"touchstart click",this._closeClick)},_collapsibleIcon:function(){this._dialogCollapsible=n.util.buildTag("div#"+this.element[0].id+"_collapsbutton.e-dialog-icon e-icon",null,null).attr("tabIndex","0"),this._collapsible?this._dialogCollapsible.appendTo(this._dialogTitlebar).attr("title",this.model.tooltip.expand).addClass("e-arrowhead-down").removeClass("e-arrowhead-up"):this._dialogCollapsible.appendTo(this._dialogTitlebar).attr("title",this.model.tooltip.collapse).addClass("e-arrowhead-up").removeClass("e-arrowhead-down"),this._on(this._dialogCollapsible,"touchstart click",this._collapsibleClick)},_maximizeIcon:function(){this._dialogMaximize=n.util.buildTag("div#"+this.element[0].id+"_maximizebutton.e-dialog-icon e-icon",null,null).attr("tabIndex","0"),this._maximize?this._dialogMaximize.appendTo(this._dialogTitlebar).attr("title",this.model.tooltip.restore).addClass("e-restore").removeClass("e-maximize"):this._dialogMaximize.appendTo(this._dialogTitlebar).attr("title",this.model.tooltip.maximize).addClass("e-maximize").removeClass("e-restore"),this._on(this._dialogMaximize,"touchstart click",this._maximizeClick)},_minimizeIcon:function(){this._dialogMinimize=n.util.buildTag("div#"+this.element[0].id+"_minimizebutton.e-dialog-icon e-icon",null,null).attr("tabIndex","0"),this._minimize?this._dialogMinimize.appendTo(this._dialogTitlebar).attr("title",this.model.tooltip.restore).addClass("e-restore").removeClass("e-minus"):this._dialogMinimize.appendTo(this._dialogTitlebar).attr("title",this.model.tooltip.minimize).addClass("e-minus").removeClass("e-restore"),this._on(this._dialogMinimize,"touchstart click",this._minimizeClick)},_pinIcon:function(){this._dialogPin=n.util.buildTag("div#"+this.element[0].id+"_pinbutton.e-dialog-icon e-icon",null,null).attr("tabIndex","0"),this._dialogPin.appendTo(this._dialogTitlebar).attr("title",this.dialogPin?this.model.tooltip.unPin:this.model.tooltip.pin).addClass(this.dialogPin?"e-pin":"e-unpin").removeClass(this.dialogPin?"e-unpin":"e-pin"),this._on(this._dialogPin,"touchstart click",this._pinClick)},_favIcon:function(){var e;this._dialogFavIcon?e=this._dialogFavIcon.find("span").removeClass().addClass("e-dialog-custom"):(this._dialogFavIcon=n.util.buildTag("div.e-dialog-favicon","",{},{style:"float:"+(this.model.enableRTL?"right":"left")}),(e=n.util.buildTag("span.e-dialog-custom","",{},{role:"presentation"})).appendTo(this._dialogFavIcon),this._dialogFavIcon.appendTo(this._dialogTitlebar)),this.model.faviconCSS?e.addClass(this.model.faviconCSS):this._dialogFavIcon.remove(),this._dialogFavIcon.css("float",this.model.enableRTL?"right":"left")},_minMaxValidation:function(){var e=parseInt(this.model.minWidth),t=parseInt(this.model.minHeight),i=parseInt(this.model.maxWidth),s=parseInt(this.model.maxHeight),o=parseInt(this.model.width),n=parseInt(this.model.height),l=this._getParentObj();isNaN(this.model.minWidth)&&0<this.model.minWidth.indexOf("%")&&(e=this._convertPercentageToPixel(l.outerWidth(),e)),isNaN(this.model.minHeight)&&0<this.model.minHeight.indexOf("%")&&(t=this._convertPercentageToPixel(l.outerHeight(),t)),isNaN(this.model.maxWidth)&&0<this.model.maxWidth.indexOf("%")&&(i=this._convertPercentageToPixel(l.innerWidth(),i)),isNaN(this.model.maxHeight)&&0<this.model.maxHeight.indexOf("%")&&(s=this._convertPercentageToPixel(l.innerHeight(),s)),isNaN(this.model.width)&&0<this.model.width.indexOf("%")&&(o=this._convertPercentageToPixel(l.innerWidth(),o)),isNaN(this.model.height)&&0<this.model.height.indexOf("%")&&(n=this._convertPercentageToPixel(l.innerHeight(),n)),(i&&i<o||e&&o<e)&&(this.model.width=i<o?i:e),(s&&s<n||t&&n<t)&&(this.model.height=s<n?s:t)},_setSize:function(){var e=this.model;return this._minMaxValidation(),this._ejDialog.css({width:e.width,minWidth:e.minWidth,maxWidth:e.maxWidth}),this._ejDialog.css({height:e.height,minHeight:e.minHeight,maxHeight:e.maxHeight}),this._dialogPosition(),this},_resetScroller:function(){this.element.css({height:"auto","max-width":"","max-height":"",width:""});var e=this._ejDialog.outerHeight(!0)-(this.model.showHeader?a(this._ejDialog.find("div.e-titlebar")).outerHeight(!0):0)-(this.model.showFooter?a(this._ejDialog.find("div.e-footerbar")).outerHeight(!0):0),e={width:this._ejDialog.width()-2,enableRTL:this.model.enableRTL,height:e,enableTouchScroll:!1};"auto"!=this.model.height||!(this.element.height()<this.model.maxHeight)&&this.model.maxHeight||this._maximize||(e.height="auto"),"auto"!=this.model.width||this._maximize||(e.width=this.model.width),this.contentDiv.ejScroller(e),this.scroller=this.contentDiv.data("ejScroller"),this._reRenderScroller(),this._padding=parseInt(a(this.element).css("padding-top"))+parseInt(a(this.element).css("padding-bottom")),"none"==a(this._ejDialog).css("display")&&(this.hidden=!0,this._ejDialog.css({display:"block"})),!n.isNullOrUndefined(this.contentDiv.height())&&0<this.contentDiv.height()&&(e=n.isNullOrUndefined(this.scroller)?this.contentDiv.outerHeight()-this._padding:(this.scroller._hScrollbar||!this.scroller._vScrollbar)&&this.scroller._hScrollbar?this.contentDiv.outerHeight()-this.scroller.model.buttonSize:this.contentDiv.outerHeight(),"auto"!=this.model.height&&"100%"!=this.model.height?this.element.css({height:e}):this.element.css("height",this.model.height),"auto"!=this.model.height&&"100%"!=this.model.height||this.scroller._vScrollbar||this.element.css({"min-height":this.model.minHeight-(this.model.showHeader?a(this._ejDialog.find("div.e-titlebar")).outerHeight(!0):0)}),this.scroller._vScrollbar||"auto"==this.model.width||"100%"==this.model.width?this.scroller._vScrollbar||this.element.css("width",this.model.width):this.element.outerWidth(this._ejDialog.width()-2),this.element.css({"max-width":this.model.maxWidth,"max-height":this.model.maxHeight})),this.hidden&&this._ejDialog.css({display:"none"}),this.hidden=!1},_updateScroller:function(e,t){this.contentDiv.ejScroller({width:t,height:e,enableRTL:this.model.enableRTL,enableTouchScroll:!1}),this.scroller=this.contentDiv.data("ejScroller"),this._reRenderScroller(),this._changeSize()},_dragDialog:function(){var i=this;this._ejDialog.parents(".e-dialog-scroller");return this._dialogTitlebar.ejDraggable({handle:".e-titlebar",cursorAt:{top:0,left:0},dragArea:i._target,dragStart:function(e){return e.element.attr("aria-grabbed",!0),i._clickHandler(),i.dialogPin||!i.model.allowDraggable||!i.model.enabled||i._trigger("dragStart",{event:e})?!(e.cancel=!0):void 0},drag:function(e){i._trigger("drag",{event:e})},dragStop:function(e){i._ejDialog.focus(),e.element.attr("aria-grabbed",!1),i.element.find("> .e-draggable.e-titlebar")&&(dragobject=a("#"+i.element.find("> .e-draggable.e-titlebar").attr("id")).data("ejDraggable"))&&dragobject.option("cursorAt",i.element.offset());var t=this.helper.offsetParent().offset();i._trigger("dragStop",{event:e}),i.model.position.X=n.isNullOrUndefined(this.position.left)?parseInt(this.helper.css("left")):this.position.left-[t.left+parseFloat(this.helper.offsetParent().css("border-left-width"))],i.model.position.Y=n.isNullOrUndefined(this.position.top)?parseInt(this.helper.css("top")):this.position.top-[t.top+parseFloat(this.helper.offsetParent().css("border-top-width"))]},helper:function(){return a(i._ejDialog).addClass("dragClone")}}),this},_resizeDialog:function(){var i,s,e,t,o,n,l;if(this.model.enableResize)return i=this,s=!1,e=parseInt(this.model.minWidth),t=parseInt(this.model.minHeight),o=parseInt(this.model.maxWidth),n=parseInt(this.model.maxHeight),l=this._getParentObj(),isNaN(this.model.minWidth)&&0<this.model.minWidth.indexOf("%")&&(e=this._convertPercentageToPixel(l.outerWidth(),e)),isNaN(this.model.minHeight)&&0<this.model.minHeight.indexOf("%")&&(t=this._convertPercentageToPixel(l.outerHeight(),t)),isNaN(this.model.maxWidth)&&0<this.model.maxWidth.indexOf("%")&&(o=this._convertPercentageToPixel(l.innerWidth(),o)),isNaN(this.model.maxHeight)&&0<this.model.maxHeight.indexOf("%")&&(n=this._convertPercentageToPixel(l.innerHeight(),n)),this._ejDialog.find("div.e-resize-handle").ejResizable({minHeight:t,minWidth:e,maxHeight:n,maxWidth:o,handle:"e-widget-content",resizeStart:function(e){if(!i.model.enabled)return!1;s||i._trigger("resizeStart",{event:e}),s=!0,i.model.position={X:i._ejDialog.css("left"),Y:i._ejDialog.css("top")},i._dialogPosition()},resize:function(e){var t=a(e.element).parents("div.e-dialog-wrap");i.model.height=a(t).outerHeight(),i.model.width=a(t).outerWidth(),i._setSize(),i._setContainerSize(),i._resetScroller(),i._updateCaptionWidth(),i._trigger("resize",{event:e}),i._sizeType={width:"px",height:"px"},(scrObj=i._ejDialog.closest(".e-dialog.e-js").data("ejDialog"))&&scrObj._resetScroller()},resizeStop:function(e){i._ejDialog.focus(),i._sizeInPercent();var t=a(e.element).parents("div.e-dialog-wrap");i.model.height=a(t).outerHeight(),i.model.width=a(t).outerWidth(),i._setSize(),i._setContainerSize(),i._resetScroller(),s&&i._trigger("resizeStop",{event:e}),s=!1,i._setDimension()},helper:function(){return a(i._ejDialog)}}),this},_dialogPosition:function(){return 0<this._ejDialog.parents("form").length&&n.isNullOrUndefined(this.model.containment)&&n.isNullOrUndefined(this.model.target)&&this._ejDialog.appendTo(this._ejDialog.parents("form")),""!=this.model.position.X||""!=this.model.position.Y?(this._ejDialog.css("position","absolute"),this._ejDialog.css("left",this.model.position.X),this._ejDialog.css("top",this.model.position.Y)):this._centerPosition(),this},_centerPosition:function(){var e,t,i,s=0,o=0;n.isNullOrUndefined(this.model.target)&&(n.isNullOrUndefined(this._target)||a(this._target).is(a(document))||a(this._target).is(a(window)))?(i=document.documentElement,s=(a(window).outerWidth()>this._ejDialog.width()?(a(window).outerWidth()-this._ejDialog.outerWidth())/2:0)+(window.pageXOffset||i.scrollLeft),o=(a(window).outerHeight()>this._ejDialog.height()?(a(window).outerHeight()-this._ejDialog.outerHeight())/2:0)+(window.pageYOffset||i.scrollTop)):("static"==(i=n.isNullOrUndefined(this._target)?a(this.model.target):a(this._target)).css("position")&&(e=i.offsetParent().offset(),s=(t=i.offset()).left-e.left,o=t.top-e.top),i.outerWidth()>this._ejDialog.width()&&(s+=(i.outerWidth()-this._ejDialog.width())/2),i.outerHeight()>this._ejDialog.height()&&(o+=(i.outerHeight()-this._ejDialog.height())/2)),this._ejDialog.css({top:o,left:s}),this._ejDialog.css("position","absolute")},_closeClick:function(e){this.model.enabled&&(e.stopPropagation(),this.close(e))},_collapsibleClick:function(e){this.model.enabled&&(a(e.target).hasClass("e-arrowhead-up")?this._actionCollapse(e):a(e.target).hasClass("e-arrowhead-down")&&this._actionExpand(e))},_actionCollapse:function(e){this._minimize||(this._dialogCollapsible&&this._dialogCollapsible.removeClass("e-arrowhead-up").addClass("e-arrowhead-down"),this._dialogCollapsible&&this._dialogCollapsible.attr("title",this.model.tooltip.expand),this._ejDialog.find("div.e-resize-handle").hide(),this._ejDialog.find(".e-widget-content").parent().slideUp("fast"),this.model.showFooter&&this._dialogFooterbar.slideUp("fast"),this._ejDialog.removeClass("e-shadow"),this._ejDialog.css("minHeight","0"),this._ejDialog.height("auto"),this._trigger("collapse",{isInteraction:!!e}),this._collapsible=!0)},_actionExpand:function(e){this._minimize||(this._dialogCollapsible&&this._dialogCollapsible.removeClass("e-arrowhead-down").addClass("e-arrowhead-up"),this._dialogCollapsible&&this._dialogCollapsible.attr("title",this.model.tooltip.collapse),this._ejDialog.addClass("e-shadow"),this._ejDialog.find(".e-widget-content").parent().slideDown("fast"),this.model.showFooter&&this._dialogFooterbar.slideDown("fast"),this._maximize?(this._ejDialog.css({width:"100%",height:"100%"}),this.element.css({width:"100%",height:"100%"}),this.contentDiv.css({width:"100%",height:"100%"})):this._ejDialog.height(this.model.height),this._ejDialog.find("div.e-resize-handle").show(),this._trigger("expand",{isInteraction:!!e}),this._collapsible=!1)},_maximizeClick:function(e){var t;this.model.enabled&&(e=a(e.target),t=this._dialogMaximize,e.hasClass("e-maximize")?(this._actionMaximize(),this._dialogTitlebar&&(this._dialogTitlebar.find(".e-restore").removeClass("e-restore").addClass("e-minus"),this._dialogMinimize)&&this._dialogMinimize.attr("title",this.model.tooltip.minimize),e.removeClass("e-maximize").addClass("e-restore"),this._dialogMaximize.attr("title",this.model.tooltip.restore),this._hideIcon(!0)):e.hasClass("e-restore")&&(this._actionRestore(),e.removeClass("e-restore").addClass("e-maximize"),this._dialogMaximize.attr("title",this.model.tooltip.maximize),!n.isNullOrUndefined(t)&&a(t).hasClass("e-arrowhead-down")&&(a(t).removeClass("e-arrowhead-down").addClass("e-arrowhead-up"),this._dialogMaximize.attr("title",this.model.tooltip.collapse)),this._hideIcon(!0))),this._resetScroller()},_actionMaximize:function(){this._ejDialog.css("top","0px").css("left","0px").css("overflow","hidden").css("position",this.model.containment||this.model.target?"absolute":"fixed"),this._ejDialog.css({width:"100%",height:"100%"}),this.element.css({width:"100%",height:"100%"}),this.contentDiv.css({width:"100%",height:"100%"}),this._maximize=!0,this._minimize=!1;var e=this;this._dialogCollapsible&&!n.isNullOrUndefined(this._dialogCollapsible.hasClass("e-arrowhead-down"))&&(this._dialogCollapsible.removeClass("e-arrowhead-down").addClass("e-arrowhead-up"),this._dialogCollapsible.attr("title",this.model.tooltip.collapse),this._collapseValue=!0),1==this._collapseValue&&this._ejDialog.find(".e-widget-content").parent().slideDown("fast",function(){e.refresh(),e._reRenderScroller()}),this._resetScroller()},_actionRestore:function(){this.element.height("").width(""),this.contentDiv.height("").width(""),this._restoreDialog(),this._maximize=this._minimize=!1},_minimizeClick:function(e){var t;this.model.enabled&&(e=a(e.target),t=this._dialogMinimize.hasClass("e-icon")&&this._dialogMinimize,e.hasClass("e-minus")?(this._maximize&&this._setSize(),this._actionMinimize()):e.hasClass("e-restore")&&(this._actionRestore(),e.removeClass("e-restore").addClass("e-minus"),this._dialogMinimize.attr("title",this.model.tooltip.minimize),!n.isNullOrUndefined(t)&&a(t).hasClass("e-arrowhead-down")&&(a(t).removeClass("e-arrowhead-down").addClass("e-arrowhead-up"),this._dialogMinimize.attr("title",this.model.tooltip.collapse)),this._hideIcon(!0)))},_actionMinimize:function(){var e;a(window).height(),this._ejDialog.height(),this.element.height();this._ejDialog.css("top","").css("bottom","0").css("left","0").css("position",this.model.containment||this.model.target?"absolute":"fixed"),this._ejDialog.css("minHeight","0"),this._dialogTitlebar?(this._dialogTitlebar.find(".e-restore").removeClass("e-restore").addClass("e-maximize"),this._dialogMaximize&&this._dialogMaximize.attr("title",this.model.tooltip.maximize),this._dialogTitlebar.find(".e-minus").removeClass("e-minus").addClass("e-restore"),this._dialogMinimize&&this._dialogMinimize.attr("title",this.model.tooltip.restore),this._isOpen?e=this._dialogTitlebar.outerHeight():(this._ejDialog.css({display:"block",visibility:"hidden"}),e=this._dialogTitlebar.outerHeight(),this._ejDialog.css({display:"none",visibility:""})),this._ejDialog.css("height",e+2),this._hideIcon(!1)):this._ejDialog.css("height",""),this.contentDiv.hide(),this.model.showFooter&&this._dialogFooterbar.hide(),this._maximize=!1,this._minimize=!0},_hideIcon:function(e){var t=this._dialogCollapsible||null;e?(n.isNullOrUndefined(t)||a(t).parent(".e-dialog-icon").show(),this._ejDialog.find("div.e-resize-handle").show()):(n.isNullOrUndefined(t)||a(t).parent(".e-dialog-icon").hide(),this._ejDialog.find("div.e-resize-handle").hide())},_pinClick:function(e){this.model.enabled&&((e=a(e.target)).hasClass("e-unpin")?(this.dialogPin=!0,e.removeClass("e-unpin").addClass("e-pin"),this._dialogPin.attr("title",this.model.tooltip.unPin)):e.hasClass("e-pin")&&(this.dialogPin=!1,e.removeClass("e-pin").addClass("e-unpin"),this._dialogPin.attr("title",this.model.tooltip.pin)))},_restoreDialog:function(){this.contentDiv.show(),this.model.showFooter&&this._dialogFooterbar.show(),this._ejDialog.css({position:"absolute",bottom:""}).addClass("e-shadow"),this._setSize()._resetScroller(),this._dialogTitlebar&&(this._dialogTitlebar.find(".e-minus").parent().show(),this._dialogCollapsible)&&(this._dialogCollapsible.removeClass("e-arrowhead-down").addClass("e-arrowhead-up"),this._dialogCollapsible.attr("title",this.model.tooltip.collapse))},_clickHandler:function(){var e=this._dialogMaxZindex();parseInt(this._ejDialog.css("zIndex"))<e&&this._ejDialog.css({zIndex:e+1})},_mouseClick:function(e){e.currentTarget==this._id&&(a(e.target).hasClass("e-dialog")||a(e.target).hasClass("e-icon e-resize-handle"))&&(this._setZindex(),a(e.target).closest(".e-dialog.e-widget").focus())},_keyDown:function(e){code=e.keyCode||e.which||e.charCode,this.model.allowKeyboardNavigation&&this.model.enabled&&a(e.target).hasClass("e-dialog")&&-1<a.inArray(code,this.keyConfigs)&&this.model.allowDraggable&&!this.dialogPin&&(this._keyPressed(code,e.ctrlKey),e.preventDefault()),this.model.closeOnEscape&&27===code&&this.model.enabled&&(this.element.find(".e-js.e-dialog").first().is(":visible")||(this.close(e),e.preventDefault())),13===code&&this.model.enabled&&(a(e.target).hasClass("e-close")?this.close(e):(a(e.target).hasClass("e-arrowhead-up")||a(e.target).hasClass("e-arrowhead-down"))&&this._collapsibleClick(e),a(e.target).hasClass("e-maximize")||a(e.target).hasClass("e-restore")&&a(e.target).is(this._dialogMaximize)?this._maximizeClick(e):(a(e.target).hasClass("e-minus")||a(e.target).hasClass("e-restore")&&a(e.target).is(this._dialogMinimize))&&this._minimizeClick(e),a(e.target).hasClass("e-pin")||a(e.target).hasClass("e-unpin"))&&this._pinClick(e),9==code&&this.model.enableModal&&this._focusOnTab(e)},_focusOnTab:function(e){var t=this._ejDialog.find("a, button, :input, select, [tabindex]:not('-1')"),t=a(t).find("a, button, :input, select, [tabindex]:not('')");e.shiftKey?t[t.index(e.target)-1]||(e.preventDefault(),t.last().focus()):t[t.index(e.target)+1]||(e.preventDefault(),t[0].focus())},_keyPressed:function(e,t){switch(e){case 40:t?this._resizing("height",this._ejDialog.outerHeight()+3):this.option("position",{X:this._ejDialog.position().left,Y:this._ejDialog.position().top+3});break;case 39:t?this._resizing("width",this._ejDialog.outerWidth()+3):this.option("position",{X:this._ejDialog.position().left+3,Y:this._ejDialog.position().top});break;case 38:t?this._resizing("height",this._ejDialog.outerHeight()-3):this.option("position",{X:0==this._ejDialog.position().left?0:this._ejDialog.position().left,Y:3<this._ejDialog.position().top?this._ejDialog.position().top-3:0});break;case 37:t?this._resizing("width",this._ejDialog.outerWidth()-3):this.option("position",{X:3<this._ejDialog.position().left?this._ejDialog.position().left-3:0,Y:0==this._ejDialog.position().top?0:this._ejDialog.position().top})}},_resizing:function(e,t){this.model.enableResize&&this.option(e,t)},_sizeInPercent:function(){var e;return this._enableWindowResize()&&(e=this._getParentObj(),this._widthPercent="%"==this._sizeType.width?parseFloat(this.model.width):this._convertPixelToPercentage(e.outerWidth(),this._ejDialog.outerWidth()),this._heightPercent="%"==this._sizeType.height?parseFloat(this.model.height):this._convertPixelToPercentage(e.outerHeight(),this._ejDialog.outerHeight()),100<=this._widthPercent&&(this._widthPercent=100,this._ejDialog.outerWidth(e.outerWidth()),this.model.width=this._ejDialog.width()),100<=this._heightPercent)&&(this._heightPercent=100,this._ejDialog.outerHeight(e.outerHeight()),this.model.height=this._ejDialog.height()),this},_getParentObj:function(){return n.isNullOrUndefined(this.model.containment)?n.isNullOrUndefined(this.model.target)?a(document):a(this.model.target):a(this.model.containment)},_convertPercentageToPixel:function(e,t){return Math.round(t*e/100)},_convertPixelToPercentage:function(e,t){return Math.round(t/e*100)},_reSizeHandler:function(){var e;this._maximize?this._resetScroller():(this._minimize||this._centerPosition(),e=this._getParentObj(),this._change=!1,this._windowSize.outerWidth!=a(window).outerWidth()?"%"==this._sizeType.width?this._percentageWidthDimension(e):this._pixelsWidthDimension(e):this._windowSize.outerHeight!=a(window).outerHeight()&&("%"==this._sizeType.height?this._percentageHeightDimension(e):this._pixelsHeightDimension(e)),this._change&&this._resizeContainer(e),this._windowSize={outerWidth:a(window).outerWidth(),outerHeight:a(window).outerHeight()})},_setDimension:function(){n.isNullOrUndefined(this.model.maxWidth)?n.isNullOrUndefined(this._sizeType.width)?this._maxWidth=+this.model.width:"px"!=this._sizeType.width&&"auto"!=this._sizeType.width||(this._maxWidth=this.model.width):this._maxWidth=this.model.maxWidth,n.isNullOrUndefined(this.model.maxHeight)?n.isNullOrUndefined(this._sizeType.height)?this._maxHeight=+this.model.height:"px"!=this._sizeType.height&&"auto"!=this._sizeType.height||(this._maxHeight=this.model.height):this._maxHeight=this.model.maxHeight},_percentageWidthDimension:function(e){this._ejDialog.outerWidth(this._convertPercentageToPixel(e.outerWidth(),this._widthPercent)),this._change=!0},_percentageHeightDimension:function(e){this._ejDialog.outerHeight(this._convertPercentageToPixel(e.outerHeight(),this._heightPercent)),this._change=!0},_pixelsWidthDimension:function(e){a(e).outerWidth()<=this._ejDialog.outerWidth()&&this._setWidth(e),a(e).outerHeight()<=this._ejDialog.outerHeight()&&this._setHeight(e),parseInt(this._ejDialog.css("width"))<parseInt(this._maxWidth)&&(parseInt(this._maxWidth)<a(e).outerWidth()?this._ejDialog.outerWidth(parseInt(this._maxWidth)):this._ejDialog.outerWidth(e.outerWidth()),this._change=!0)},_pixelsHeightDimension:function(e){a(e).outerHeight()<=this._ejDialog.outerHeight()&&this._setHeight(e),a(e).outerWidth()<=this._ejDialog.outerWidth()&&this._setWidth(e),parseInt(this._ejDialog.css("height"))<parseInt(this._maxHeight)&&(parseInt(this._maxHeight)<a(e).outerHeight()?this._ejDialog.outerWidth(parseInt(this._maxHeight)):this._ejDialog.outerHeight(e.outerHeight()),this._change=!0)},_setWidth:function(e){this._ejDialog.outerWidth(e.outerWidth()),this._change=!0},_setHeight:function(e){this._ejDialog.outerHeight(e.outerHeight()),this._change=!0},_resizeContainer:function(){this.contentDiv.width(this._ejDialog.width()),this.element.outerWidth(this.contentDiv.width()),this.contentDiv.height(this._ejDialog.height()-(this.model.showHeader?a(this._ejDialog.find("div.e-titlebar")).outerHeight(!0):0)-1),this.element.outerHeight(this._ejDialog.height()-(this.model.showHeader?a(this._ejDialog.find("div.e-titlebar")).outerHeight(!0):0)-1),this.scroller=this.contentDiv.ejScroller({width:this._ejDialog.width()-2,height:this.element.outerHeight(),rtl:this.model.rtl,enableTouchScroll:!1}),this.scroller=this.contentDiv.data("ejScroller"),this._reRenderScroller(),this._minimize?this._ejDialog.css("height",this._dialogTitlebar.outerHeight()):this._centerPosition(),this._updateCaptionWidth(),this._change=!1},_getLocalizedLabels:function(){return n.getLocalizedConstants(this.sfType,this.model.locale)},_enableWindowResize:function(){return!!(this.model.isResponsive||isNaN(this.model.width)&&0<this.model.width.indexOf("%")&&isNaN(this.model.height)&&0<this.model.height.indexOf("%")&&"auto"!=this.model.height)},_wireResizing:function(){a(window)[this._enableWindowResize()?"on":"off"]("resize",a.proxy(this._reSizeHandler,this))},_wireEvents:function(){this._on(this._ejDialog,"keydown",this._keyDown),this._on(this._ejDialog,"click",this._mouseClick),this._wireResizing()},refresh:function(){this._resetScroller()},open:function(){var e,t,i,s;return!!this._isOpen||1!=this._trigger("beforeOpen")&&(this.element.css("display","block"),this._setZindex(),this._minimize||this._maximize||this._init||this._dialogPosition(),t={},(e=this)._ejDialog.show(),this.model.enableAnimation&&(this._ejDialog.css({opacity:0}),t="slide"==this.model.animation.show.effect?(s=this._ejDialog.css("left"),this._ejDialog.css({left:-this._ejDialog.width()}),{left:s,opacity:1}):{opacity:1}),this._ejDialog.animate(t,this.model.enableAnimation?Number(this.model.animation.show.duration):0,function(){e.model&&("none"==e._ejDialog.css("display")&&e._ejDialog.show(),e._ejDialog.eq(0).focus(),e._ejDialog.css({opacity:""}),e.contentDiv.find("a:visible:enabled, button:visible:enabled, :input:visible:enabled, select:visible:enabled, .e-input").first().focus(),e._trigger("open"),e._updateCaptionWidth(),e.model.maxHeight||e.model.maxWidth)&&(i=e._ejDialog.outerHeight(!0)-(e._dialogTitlebar?e._dialogTitlebar.outerHeight(!0):0),"auto"!=e.model.height&&"100%"!=e.model.height||(i=e.model.height),e._updateScroller(i,e._ejDialog.width()-2))}),1==this.model.enableModal&&this._createOverlay(),this._isOpen=!0,this.element.find("> .e-draggable.e-titlebar")&&(dragobject=a("#"+this.element.find("> .e-draggable.e-titlebar").attr("id")).data("ejDraggable"))&&dragobject.option("cursorAt",this.element.offset()),this)},close:function(e){var t,i,s;return!this._isOpen||!this.model.enabled||1!=this._trigger("beforeClose",{event:e,isInteraction:t=!!e})&&(this._isOpen=!1,s={},(i=this).model.enableAnimation&&(s="slide"==this.model.animation.hide.effect?{left:-this._ejDialog.width(),opacity:0}:{opacity:0}),this._ejDialog.animate(s,this.model.enableAnimation?Number(this.model.animation.hide.duration):0,function(){i._trigger("close",{event:e,isInteraction:t}),i._ejDialog.hide()}),this.model.enableModal&&this._overLay&&this._overLay.remove(),this)},isOpened:function(){return this.isOpen()},isOpen:function(){return this._isOpen},setTitle:function(e){return this.model.title=e,this._titleText.text(e),this._updateCaptionWidth(),this},setContent:function(e){return!!this.model.enabled&&(this.element.html(e),this._resetScroller(),this)},focus:function(){return this._setZindex(),this.element.focus(),this},minimize:function(){if(this.model.showHeader)return this._actionMinimize(),a(this.wrapper.find(".e-minus")[0]).parent().hide(),this},maximize:function(){if(this.model.showHeader)return this._actionMaximize(),a(this.wrapper.find(".e-maximize")[0]).removeClass("e-maximize").addClass("e-restore"),a(this.wrapper.find(".e-restore")[1]).removeClass("e-restore").addClass("e-minus"),this._dialogMaximize&&this._dialogMaximize.attr("title",this.model.tooltip.restore),this.contentDiv.show(),this._dialogTitlebar&&this._dialogTitlebar.find(".e-minus").parent().show(),this._hideIcon(!0),this},restore:function(){var e;if(this.model.showHeader)return e=this._minimize,this._actionRestore(),a(this.wrapper.find(".e-restore")[0]).removeClass("e-restore").addClass(e?"e-minus":"e-maximize"),this._dialogMaximize&&this._dialogMaximize.attr("title",this.model.tooltip.maximize),this._hideIcon(!0),this},pin:function(){if(this.model.showHeader)return this.dialogPin=!0,a(this.wrapper.find(".e-unpin")[0]).removeClass("e-unpin").addClass("e-pin"),this._dialogPin&&this._dialogPin.attr("title",this.model.tooltip.unPin),this},unpin:function(){if(this.model.showHeader)return this.dialogPin=!1,a(this.wrapper.find(".e-pin")[0]).removeClass("e-pin").addClass("e-unpin"),this._dialogPin&&this._dialogPin.attr("title",this.model.tooltip.pin),this},collapse:function(){if(this.model.showHeader)return this._actionCollapse(),this._collapseValue=!0,this},expand:function(){if(this.model.showHeader)return this._actionExpand(),this}}),n.Dialog.Locale=n.Dialog.Locale||{},n.Dialog.Locale.default=n.Dialog.Locale["en-US"]={tooltip:{close:"Close",collapse:"Collapse",restore:"Restore",maximize:"Maximize",minimize:"Minimize",expand:"Expand",unPin:"UnPin",pin:"Pin"},closeIconTooltip:"close"}}),function(e){"function"==typeof define&&define.amd?define(["./../common/ej.core.min"],e):e()}(function(){var t,i;t=jQuery,(i=Syncfusion).widget("ejButton","ej.Button",{element:null,model:null,validTags:["button","input"],_setFirst:!1,_rootCSS:"e-button",_requiresID:!0,defaults:{size:"normal",type:"submit",height:"",width:"",enabled:!0,htmlAttributes:{},text:null,contentType:"textonly",imagePosition:"imageleft",showRoundedCorner:!1,cssClass:"",prefixIcon:null,suffixIcon:null,enableRTL:!1,repeatButton:!1,timeInterval:"150",create:null,click:null,destroy:null},dataTypes:{size:"enum",enabled:"boolean",type:"enum",showRoundedCorner:"boolean",text:"string",contentType:"enum",imagePosition:"enum",prefixIcon:"string",suffixIcon:"string",cssClass:"string",repeatButton:"boolean",enableRTL:"boolean",timeInterval:"string",htmlAttributes:"data"},disable:function(){this.element.addClass("e-disable").attr("aria-disabled",!0),this.model.enabled=!1},enable:function(){this.element.removeClass("e-disable").attr("aria-disabled",!1),this.model.enabled=!0},_init:function(){this._cloneElement=this.element.clone(),this._initialize(),this._render(),this._controlStatus(this.model.enabled),this._wireEvents(this.model.repeatButton),this._addAttr(this.model.htmlAttributes)},_addAttr:function(e){var i=this;t.map(e,function(e,t){"class"==t?i.element.addClass(e):i.element.attr(t,e),"disabled"==t&&"disabled"==e&&i.disable()})},_destroy:function(){this.element.removeClass(this.model.cssClass+"e-ntouch e-btn e-select e-disable e-corner e-widget").removeAttr("role aria-describedby aria-disabled"),this.element.removeClass("e-btn-"+this.model.size),this.model.contentType&&"textonly"!=this.model.contentType&&this.element.append(this._cloneElement.text())&&this.imgtxtwrap[0].remove()},_setModel:function(e){for(var t in e)switch(t){case"size":this._setSize(e[t]);break;case"height":this._setHeight(e[t]);break;case"width":this._setWidth(e[t]);break;case"contentType":this._setContentType(e[t]);break;case"imagePosition":this._setImagePosition(e[t]);break;case"text":this._setText(e[t]);break;case"prefixIcon":this._setMajorIcon(e[t]);break;case"suffixIcon":this._setMinorIcon(e[t]);break;case"enabled":this._controlStatus(e[t]);break;case"showRoundedCorner":this._roundedCorner(e[t]);break;case"cssClass":this._setSkin(e[t]);break;case"enableRTL":this._setRTL(e[t]);break;case"timeInterval":this.model.timeInterval=e[t];break;case"htmlAttributes":this._addAttr(e[t])}},_setSize:function(e){this.element.removeClass("e-btn-mini e-btn-medium e-btn-small e-btn-large e-btn-normal"),this.element.addClass("e-btn-"+e)},_setType:function(e){this.element.prop({type:e})},_setHeight:function(e){this.element.css("height",e)},_setWidth:function(e){this.element.css("width",e)},_setText:function(e){"inputButton"==this.buttonType?this.element.val(e):(this.model.contentType==i.ContentType.TextOnly?this.element:this.textspan).html(e),this.model.text=e},_setMajorIcon:function(e){this.majorimgtag.removeClass(this.model.prefixIcon),this.majorimgtag.addClass(e),this.model.prefixIcon=e},_setMinorIcon:function(e){this.minorimgtag.removeClass(this.model.suffixIcon),this.minorimgtag.addClass(e),this.model.suffixIcon=e},_setContentType:function(e){e!=this.model.contentType&&(this.element.empty(),this.model.contentType=e,this._renderButtonNormal())},_setImagePosition:function(e){this.model.contentType==i.ContentType.TextAndImage&&e!=this.model.imagePosition&&(this.element.empty(),this.model.imagePosition=e,this._renderButtonNormal())},_setRTL:function(e){e?this.element.addClass("e-rtl"):this.element.removeClass("e-rtl")},_controlStatus:function(e){e?this.enable():this.disable()},_setSkin:function(e){this.model.cssClass!=e&&(this.element.removeClass(this.model.cssClass),this.element.addClass(e))},_initialize:function(){i.isTouchDevice()||this.element.addClass("e-ntouch"),this.element.is("input")?this.buttonType="inputButton":this.element.is("a")||this.element.is("button")?this.buttonType="tagButton":this.element.removeClass("e-button"),this.element.attr("type")?this.model.type=this.element.attr("type"):this._setType(this.model.type),this._timeout=null},_render:function(){this._setSize(this.model.size),this._setHeight(this.model.height),this._setWidth(this.model.width),this._setRTL(this.model.enableRTL),this.element.addClass(this.model.cssClass+" e-btn e-select e-widget").attr("role","button"),"inputButton"==this.buttonType?(this.element.addClass("e-txt"),null!=this.model.text&&""!=this.model.text?this.element.val(this.model.text):this.model.text=this.element.val()):this._renderButtonNormal(),this._roundedCorner(this.model.showRoundedCorner),this.model.text&&this.element.attr("aria-describedby",this.model.text)},_renderButtonNormal:function(){if(null!=this.model.text&&""!=this.model.text||(this.model.text=this.element.html()),this.element.empty(),this.textspan=i.buildTag("span.e-btntxt",this.model.text),-1<this.model.contentType.indexOf("image")&&(this.majorimgtag=i.buildTag("span").addClass(this.model.prefixIcon),this.minorimgtag=i.buildTag("span").addClass(this.model.suffixIcon),this.imgtxtwrap=i.buildTag("div")),this.model.contentType==i.ContentType.TextAndImage){switch(this.model.imagePosition){case i.ImagePosition.ImageRight:this.imgtxtwrap.append(this.textspan,this.majorimgtag);break;case i.ImagePosition.ImageLeft:this.imgtxtwrap.append(this.majorimgtag,this.textspan);break;case i.ImagePosition.ImageBottom:this.majorimgtag.attr("style","display:inherit"),this.imgtxtwrap.append(this.textspan,this.majorimgtag);break;case i.ImagePosition.ImageTop:this.majorimgtag.attr("style","display:inherit"),this.imgtxtwrap.append(this.majorimgtag,this.textspan)}this.element.append(this.imgtxtwrap)}else this.model.contentType==i.ContentType.ImageTextImage?(this.imgtxtwrap.append(this.majorimgtag,this.textspan,this.minorimgtag),this.element.append(this.imgtxtwrap)):this.model.contentType==i.ContentType.ImageBoth?(this.imgtxtwrap.append(this.majorimgtag,this.minorimgtag),this.element.append(this.imgtxtwrap)):this.model.contentType==i.ContentType.ImageOnly?(this.imgtxtwrap.append(this.majorimgtag),this.element.append(this.imgtxtwrap)):(this.element.addClass("e-txt"),this.element.html(this.model.text))},_roundedCorner:function(e){1==e?this.element.addClass("e-corner"):this.element.removeClass("e-corner")},_wireEvents:function(e){e&&(this._on(this.element,"mousedown",this._btnRepatMouseClickEvent),this._on(t(document),"mouseup",this._mouseUpClick),this._on(this.element,"keyup",this._btnRepatKeyUpEvent),this._on(t(document),"keypress",this._btnRepatKeyDownEvent)),this._on(this.element,"click",this._btnMouseClickEvent)},_btnMouseClickEvent:function(e){if(!this.model.enabled)return!1;this.element.hasClass("e-disable")||(e={target:e.currentTarget,e:e,status:this.model.enabled},this._trigger("click",e))},_btnRepatMouseClickEvent:function(e){var t=this;if(!t.model.enabled)return!1;t.element.hasClass("e-disable")||(t.model.enabled,0!=e.button&&1!=e.which)||(t._timeout=setInterval(function(){t._trigger("click",{target:e.currentTarget,status:t.model.enabled})},this.model.timeInterval))},_mouseUpClick:function(){clearTimeout(this._timeout)},_btnRepatKeyDownEvent:function(e){var t;this.element.hasClass("e-disable")||(t={status:this.model.enabled},32!=e.keyCode&&13!=e.keyCode)||this._trigger("click",t)},_btnRepatKeyUpEvent:function(e){32!=e.keyCode&&13!=e.keyCode||clearTimeout(this._timeout)}}),i.ContentType={TextOnly:"textonly",ImageOnly:"imageonly",ImageBoth:"imageboth",TextAndImage:"textandimage",ImageTextImage:"imagetextimage"},i.ImagePosition={ImageRight:"imageright",ImageLeft:"imageleft",ImageTop:"imagetop",ImageBottom:"imagebottom"},i.ButtonSize={Normal:"normal",Mini:"mini",Small:"small",Medium:"medium",Large:"large"},i.ButtonType={Button:"button",Reset:"reset",Submit:"submit"}}),function(e){"function"==typeof define&&define.amd?define(["./../common/ej.core.min"],e):e()}(function(){var s,i;s=jQuery,(i=Syncfusion).widget("ejWaitingPopup","ej.WaitingPopup",{element:null,model:null,validTags:["div","span"],_setFirst:!1,_rootCSS:"e-waitingpopup",defaults:{showOnInit:!1,target:null,appendTo:null,showImage:!0,htmlAttributes:{},cssClass:"",text:null,template:null,create:null,destroy:null},dataTypes:{showOnInit:"boolean",showImage:"boolean",cssClass:"string"},_isTargetVisible:function(){return"none"!=this.element.css("display")},show:function(){this._isTargetVisible()&&(this._refreshPanel(),this.maindiv.css("display","block"),this.model.showOnInit=!0)},hide:function(){this.maindiv.css("display","none"),this.model.showOnInit=!1},refresh:function(){this._isTargetVisible()&&this._refreshPanel()},_setText:function(e){e?this.popupText?this.popupText.html(e):(this._generateTextTag(e),this._setContentPosition()):this.popupText&&(this.popupText.remove(),this.popupText=null)},_showImage:function(e){e?(this.popupImage=i.buildTag("span.e-image"),this.popupText?this.popupImage.insertBefore(this.popupText):this.maindiv.append(this.popupImage)):this.popupImage&&(this.popupImage.remove(),this.popupImage=null)},_setTemplate:function(){var e=this.model.template;"string"==typeof e&&(e=s(e)),this.templateObj="object"==typeof e&&"function"==typeof e.css?e:i.buildTag("div","",{"text-align":"center"}).append(e),this.templateObj.css({visibility:"visible",display:"block"}),this.maindiv.append(this.templateObj)},_setTheme:function(e){this.maindiv.removeClass(this.model.cssClass).addClass(e)},_init:function(){this._initialize(),this._render(),this._wireEvents()},_wireEvents:function(){s(window).on("resize",s.proxy(this._resizeHandler,this))},_unwireEvents:function(){s(window).off("resize",s.proxy(this._resizeHandler,this))},_resizeHandler:function(){this.refresh()},_setModel:function(e){for(var t in e)switch(t){case"text":this._setText(e[t]);break;case"cssClass":this._setTheme(e[t]);break;case"htmlAttributes ":this._addAttr(e[t]);break;case"showOnInit":this._setVisibility(e[t]);break;case"showImage":this._showImage(e[t]),this._setContentPosition();break;case"target":this.model.target=e[t],this._setTarget(),this.refresh();break;case"appendTo":this.model.appendTo=e[t],this._setTarget(),i.isNullOrUndefined(this.model.appendTo)||"document"==this.model.appendTo||"window"==this.model.appendTo?s("body").append(this.maindiv):this.maindiv.appendTo(s(this.model.appendTo)),this.refresh();break;case"template":this.maindiv.empty(),e[t]?(this.model.template=e[t],this._setTemplate()):(this.model.template=e[t]=null,this._showImage(this.model.showImage),this.model.text&&this._generateTextTag(this.model.text)),this._setContentPosition()}},_setTarget:function(){this.targetElement="document"==this.model.target?s(document):"window"==this.model.target?s(window):this.model.target?s(this.model.target):this.element},_destroy:function(){this.maindiv.remove(),this._unwireEvents()},_initialize:function(){this.maindiv=null,this.popupText=null,this.popupImage=null,this.templateObj=null,this.targetElement=null},_render:function(){this._setTarget();var e=s("#"+this.element[0].id+"_WaitingPopup").get(0);e&&s(e).remove(),this.maindiv=i.buildTag("div.e-waitpopup-pane e-widget "+this.model.cssClass+"#"+this.element[0].id+"_WaitingPopup"),this.model.template?this._setTemplate():(this._showImage(this.model.showImage),this.model.text&&this._generateTextTag(this.model.text)),i.isNullOrUndefined(this.model.appendTo)||"document"==this.model.appendTo||"window"==this.model.appendTo?s("body").append(this.maindiv):this.maindiv.appendTo(s(this.model.appendTo)),this._setVisibility(this.model.showOnInit),this._addAttr(this.model.htmlAttributes)},_refreshPanel:function(){this.maindiv.width(this.targetElement.outerWidth()),this.maindiv.height(this.targetElement.outerHeight()),this._setPanelPosition(),this._setContentPosition()},_addAttr:function(e){var i=this;s.map(e,function(e,t){"class"==t?i.maindiv.addClass(e):i.maindiv.attr(t,e)})},_setPanelPosition:function(){var e=i.util.getOffset(this.targetElement);null!=this.model.appendTo&&0<s(this.model.appendTo).length&&("relative"!=this.targetElement.css("position")&&"absolute"!=this.targetElement.css("position")||this.targetElement[0]!==s(this.model.appendTo)[0]?(e.left-=this.targetElement.offsetParent().offset().left,e.top-=this.targetElement.offsetParent().offset().top):e={left:0,top:0}),this.maindiv.css({position:"absolute",left:Math.ceil(e.left)+"px",top:Math.ceil(e.top)+"px","z-index":this._maxZindex()+1})},_setContentPosition:function(){var e,t,i,s;null==this.model.template?(t=e=0,i=null,s=this.targetElement.outerHeight(),this.popupText&&(e=this.popupText.outerHeight()),this.popupImage&&(t=this.popupImage.outerHeight()),this.popupImage&&(i=Math.ceil((s-(t+e))/2),this.popupImage.css("top",i+"px")),this.popupText&&(i=i||Math.ceil((s-e)/2),this.popupText.css("top",i+"px"))):this.templateObj.css({position:"relative",left:Math.ceil((this.targetElement.outerWidth()-this.templateObj.outerWidth())/2),top:Math.ceil((this.targetElement.outerHeight()-this.templateObj.outerHeight())/2)})},_generateTextTag:function(e){this.popupText=i.buildTag("div.e-text",e),this.maindiv.append(this.popupText)},_setVisibility:function(e){e&&this._isTargetVisible()?this.show():this.hide()},_maxZindex:function(){return i.util.getZindexPartial(this.element)}})}),function(e,t){void 0===e&&void 0!==window&&(e=window),"function"==typeof define&&define.amd?define(["jquery"],t):"object"==typeof module&&module.exports?module.exports=t(require("jquery")):t(e.jQuery)}(this,function(e){!function(y){"use strict";var $=["sanitize","whiteList","sanitizeFn"],H=["background","cite","href","itemtype","longdesc","poster","src","xlink:href"],N=/^(?:(?:https?|mailto|ftp|tel|file):|[^&:/?#]*(?:[/?#]|$))/gi,M=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+/]+=*$/i,U=["title","placeholder"];function O(e,t,i){if(i&&"function"==typeof i)return i(e);for(var s=Object.keys(t),o=0,n=e.length;o<n;o++)for(var l=e[o].querySelectorAll("*"),a=0,r=l.length;a<r;a++){var h=l[a],d=h.nodeName.toLowerCase();if(-1!==s.indexOf(d))for(var c=[].slice.call(h.attributes),p=[].concat(t["*"]||[],t[d]||[]),u=0,m=c.length;u<m;u++){var g=c[u];!function(e,t){var i=e.nodeName.toLowerCase();if(-1!==y.inArray(i,t))return-1===y.inArray(i,H)||Boolean(e.nodeValue.match(N)||e.nodeValue.match(M));for(var s=y(t).filter(function(e,t){return t instanceof RegExp}),o=0,n=s.length;o<n;o++)if(i.match(s[o]))return 1}(g,p)&&h.removeAttribute(g.nodeName)}else h.parentNode.removeChild(h)}}function d(t){var i,s={};return U.forEach(function(e){(i=t.attr(e))&&(s[e]=i)}),!s.placeholder&&s.title&&(s.placeholder=s.title),s}if(!("classList"in document.createElement("_"))){var e=window;if("Element"in e){var t="classList",i="prototype",s=e.Element[i],o=Object,n=function(){var i=y(this);return{add:function(e){return e=Array.prototype.slice.call(arguments).join(" "),i.addClass(e)},remove:function(e){return e=Array.prototype.slice.call(arguments).join(" "),i.removeClass(e)},toggle:function(e,t){return i.toggleClass(e,t)},contains:function(e){return i.hasClass(e)}}};if(o.defineProperty){var l={get:n,enumerable:!0,configurable:!0};try{o.defineProperty(s,t,l)}catch(e){void 0!==e.number&&-2146823252!==e.number||(l.enumerable=!1,o.defineProperty(s,t,l))}}else o[i].__defineGetter__&&s.__defineGetter__(t,n)}}var a,r,h,c,l=document.createElement("_");function p(e){if(null==this)throw new TypeError;var t=String(this);if(e&&"[object RegExp]"==a.call(e))throw new TypeError;var i=t.length,s=String(e),o=s.length,e=1<arguments.length?arguments[1]:void 0,e=e?Number(e):0,n=(e!=e&&(e=0),Math.min(Math.max(e,0),i));if(i<o+n)return!1;for(var l=-1;++l<o;)if(t.charCodeAt(n+l)!=s.charCodeAt(l))return!1;return!0}function S(){var e=this.selectpicker.main.data.filter(function(e){return!(!e.selected||this.options.hideDisabled&&e.disabled)},this);if(this.options.source.data&&!this.multiple&&1<e.length){for(var t=0;t<e.length-1;t++)e[t].selected=!1;e=[e[e.length-1]]}return e}function T(e){for(var t,i=[],s=e||S.call(this),o=0,n=s.length;o<n;o++)(t=s[o]).disabled||i.push(void 0===t.value?t.text:t.value);return this.multiple?i:i.length?i[0]:null}l.classList.add("c1","c2"),l.classList.contains("c2")||(r=DOMTokenList.prototype.add,h=DOMTokenList.prototype.remove,DOMTokenList.prototype.add=function(){Array.prototype.forEach.call(arguments,r.bind(this))},DOMTokenList.prototype.remove=function(){Array.prototype.forEach.call(arguments,h.bind(this))}),l.classList.toggle("c3",!1),l.classList.contains("c3")&&(c=DOMTokenList.prototype.toggle,DOMTokenList.prototype.toggle=function(e,t){return 1 in arguments&&!this.contains(e)==!t?t:c.call(this,e)}),l=null,String.prototype.startsWith||(a={}.toString,Object.defineProperty?Object.defineProperty(String.prototype,"startsWith",{value:p,configurable:!0,writable:!0}):String.prototype.startsWith=p);var u={useDefault:!1,_set:y.valHooks.select.set},x=(y.valHooks.select.set=function(e,t){return t&&!u.useDefault&&y(e).data("selected",!0),u._set.apply(this,arguments)},null),R=function(){try{return new Event("change"),!0}catch(e){return!1}}();function b(e,t,i,s){for(var o=["display","subtext","tokens"],n=!1,l=0;l<o.length;l++){var a=o[l],r=e[a];if(r&&(r=r.toString(),"display"===a&&(r=r.replace(/<[^>]+>/g,"")),r=(r=s?m(r):r).toUpperCase(),n="function"==typeof i?i(r,t):"contains"===i?0<=r.indexOf(t):r.startsWith(t)))break}return n}function f(e){return parseInt(e,10)||0}y.fn.triggerNative=function(e){var t,i=this[0];i.dispatchEvent&&(R?t=new Event(e,{bubbles:!0}):(t=document.createEvent("Event")).initEvent(e,!0,!1),i.dispatchEvent(t))};var F={"Ã":"A","Ã":"A","Ã":"A","Ã":"A","Ã":"A","Ã":"A","Ã ":"a","Ã¡":"a","Ã¢":"a","Ã£":"a","Ã¤":"a","Ã¥":"a","Ã":"C","Ã§":"c","Ã":"D","Ã°":"d","Ã":"E","Ã":"E","Ã":"E","Ã":"E","Ã¨":"e","Ã©":"e","Ãª":"e","Ã«":"e","Ã":"I","Ã":"I","Ã":"I","Ã":"I","Ã¬":"i","Ã­":"i","Ã®":"i","Ã¯":"i","Ã":"N","Ã±":"n","Ã":"O","Ã":"O","Ã":"O","Ã":"O","Ã":"O","Ã":"O","Ã²":"o","Ã³":"o","Ã´":"o","Ãµ":"o","Ã¶":"o","Ã¸":"o","Ã":"U","Ã":"U","Ã":"U","Ã":"U","Ã¹":"u","Ãº":"u","Ã»":"u","Ã¼":"u","Ã":"Y","Ã½":"y","Ã¿":"y","Ã":"Ae","Ã¦":"ae","Ã":"Th","Ã¾":"th","Ã":"ss","Ä":"A","Ä":"A","Ä":"A","Ä":"a","Ä":"a","Ä":"a","Ä":"C","Ä":"C","Ä":"C","Ä":"C","Ä":"c","Ä":"c","Ä":"c","Ä":"c","Ä":"D","Ä":"D","Ä":"d","Ä":"d","Ä":"E","Ä":"E","Ä":"E","Ä":"E","Ä":"E","Ä":"e","Ä":"e","Ä":"e","Ä":"e","Ä":"e","Ä":"G","Ä":"G","Ä ":"G","Ä¢":"G","Ä":"g","Ä":"g","Ä¡":"g","Ä£":"g","Ä¤":"H","Ä¦":"H","Ä¥":"h","Ä§":"h","Ä¨":"I","Äª":"I","Ä¬":"I","Ä®":"I","Ä°":"I","Ä©":"i","Ä«":"i","Ä­":"i","Ä¯":"i","Ä±":"i","Ä´":"J","Äµ":"j","Ä¶":"K","Ä·":"k","Ä¸":"k","Ä¹":"L","Ä»":"L","Ä½":"L","Ä¿":"L","Å":"L","Äº":"l","Ä¼":"l","Ä¾":"l","Å":"l","Å":"l","Å":"N","Å":"N","Å":"N","Å":"N","Å":"n","Å":"n","Å":"n","Å":"n","Å":"O","Å":"O","Å":"O","Å":"o","Å":"o","Å":"o","Å":"R","Å":"R","Å":"R","Å":"r","Å":"r","Å":"r","Å":"S","Å":"S","Å":"S","Å ":"S","Å":"s","Å":"s","Å":"s","Å¡":"s","Å¢":"T","Å¤":"T","Å¦":"T","Å£":"t","Å¥":"t","Å§":"t","Å¨":"U","Åª":"U","Å¬":"U","Å®":"U","Å°":"U","Å²":"U","Å©":"u","Å«":"u","Å­":"u","Å¯":"u","Å±":"u","Å³":"u","Å´":"W","Åµ":"w","Å¶":"Y","Å·":"y","Å¸":"Y","Å¹":"Z","Å»":"Z","Å½":"Z","Åº":"z","Å¼":"z","Å¾":"z","Ä²":"IJ","Ä³":"ij","Å":"Oe","Å":"oe","Å":"'n","Å¿":"s"},W=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,B=RegExp("[\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff\\u1ab0-\\u1aff\\u1dc0-\\u1dff]","g");function V(e){return F[e]}function m(e){return(e=e.toString())&&e.replace(W,V).replace(B,"")}function w(e){return _.test(e=null==e?"":""+e)?e.replace(v,G):e}var g,_,v;g={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"},o="(?:"+Object.keys(g).join("|")+")",_=RegExp(o),v=RegExp(o,"g");function G(e){return g[e]}var Y={32:" ",48:"0",49:"1",50:"2",51:"3",52:"4",53:"5",54:"6",55:"7",56:"8",57:"9",59:";",65:"A",66:"B",67:"C",68:"D",69:"E",70:"F",71:"G",72:"H",73:"I",74:"J",75:"K",76:"L",77:"M",78:"N",79:"O",80:"P",81:"Q",82:"R",83:"S",84:"T",85:"U",86:"V",87:"W",88:"X",89:"Y",90:"Z",96:"0",97:"1",98:"2",99:"3",100:"4",101:"5",102:"6",103:"7",104:"8",105:"9"},C=window.Dropdown||bootstrap.Dropdown;function I(){var t;try{t=y.fn.dropdown.Constructor.VERSION}catch(e){t=C.VERSION}return t}var D={success:!1,major:"3"};try{D.full=(I()||"").split(" ")[0].split("."),D.major=D.full[0],D.success=!0}catch(e){}var z=0,E=".bs.select",j={DISABLED:"disabled",DIVIDER:"divider",SHOW:"open",DROPUP:"dropup",MENU:"dropdown-menu",MENURIGHT:"dropdown-menu-right",MENULEFT:"dropdown-menu-left",BUTTONCLASS:"btn-default",POPOVERHEADER:"popover-title",ICONBASE:"glyphicon",TICKICON:"glyphicon-ok"},k={MENU:"."+j.MENU,DATA_TOGGLE:'data-toggle="dropdown"'},L={div:document.createElement("div"),span:document.createElement("span"),i:document.createElement("i"),subtext:document.createElement("small"),a:document.createElement("a"),li:document.createElement("li"),whitespace:document.createTextNode("Â "),fragment:document.createDocumentFragment(),option:document.createElement("option")},X=(L.selectedOption=L.option.cloneNode(!1),L.selectedOption.setAttribute("selected",!0),L.noResults=L.li.cloneNode(!1),L.noResults.className="no-results",L.a.setAttribute("role","option"),L.a.className="dropdown-item",L.subtext.className="text-muted",L.text=L.span.cloneNode(!1),L.text.className="text",L.checkMark=L.span.cloneNode(!1),new RegExp("38|40")),K=new RegExp("^9$|27"),A={li:function(e,t,i){var s=L.li.cloneNode(!1);return e&&(1===e.nodeType||11===e.nodeType?s.appendChild(e):s.innerHTML=e),void 0!==t&&""!==t&&(s.className=t),null!=i&&s.classList.add("optgroup-"+i),s},a:function(e,t,i){var s=L.a.cloneNode(!0);return e&&(11===e.nodeType?s.appendChild(e):s.insertAdjacentHTML("beforeend",e)),void 0!==t&&""!==t&&s.classList.add.apply(s.classList,t.split(/\s+/)),i&&s.setAttribute("style",i),s},text:function(e,t){var i,s,o=L.text.cloneNode(!1);if(e.content?o.innerHTML=e.content:(o.textContent=e.text,e.icon&&(s=L.whitespace.cloneNode(!1),(i=(!0===t?L.i:L.span).cloneNode(!1)).className=this.options.iconBase+" "+e.icon,L.fragment.appendChild(i),L.fragment.appendChild(s)),e.subtext&&((i=L.subtext.cloneNode(!1)).textContent=e.subtext,o.appendChild(i))),!0===t)for(;0<o.childNodes.length;)L.fragment.appendChild(o.childNodes[0]);else L.fragment.appendChild(o);return L.fragment},label:function(e){var t,i,s=L.text.cloneNode(!1);return s.innerHTML=e.display,e.icon&&(i=L.whitespace.cloneNode(!1),(t=L.span.cloneNode(!1)).className=this.options.iconBase+" "+e.icon,L.fragment.appendChild(t),L.fragment.appendChild(i)),e.subtext&&((t=L.subtext.cloneNode(!1)).textContent=e.subtext,s.appendChild(t)),L.fragment.appendChild(s),L.fragment}},q={fromOption:function(e,t){var i;switch(t){case"divider":i="true"===e.getAttribute("data-divider");break;case"text":i=e.textContent;break;case"label":i=e.label;break;case"style":i=e.style.cssText;break;case"content":case"tokens":case"subtext":case"icon":i=e.getAttribute("data-"+t)}return i},fromDataSource:function(e,t){var i;switch(t){case"text":case"label":i=e.text||e.value||"";break;case"divider":case"style":case"content":case"tokens":case"subtext":case"icon":i=e[t]}return i}};function Q(e,t){e.length||(L.noResults.innerHTML=this.options.noneResultsText.replace("{0}",'"'+w(t)+'"'),this.$menuInner[0].firstChild.appendChild(L.noResults))}function Z(e){return!(e.hidden||this.options.hideDisabled&&e.disabled)}function P(e,t){var i=this;u.useDefault||(y.valHooks.select.set=u._set,u.useDefault=!0),this.$element=y(e),this.$newElement=null,this.$button=null,this.$menu=null,this.options=t,this.selectpicker={main:{optionQueue:L.fragment.cloneNode(!1)},search:{},current:{},view:{},isSearching:!1,keydown:{keyHistory:"",resetKeyHistory:{start:function(){return setTimeout(function(){i.selectpicker.keydown.keyHistory=""},800)}}}},this.sizeInfo={},"number"==typeof(e=this.options.windowPadding)&&(this.options.windowPadding=[e,e,e,e]),this.val=P.prototype.val,this.render=P.prototype.render,this.refresh=P.prototype.refresh,this.setStyle=P.prototype.setStyle,this.selectAll=P.prototype.selectAll,this.deselectAll=P.prototype.deselectAll,this.destroy=P.prototype.destroy,this.remove=P.prototype.remove,this.show=P.prototype.show,this.hide=P.prototype.hide,this.init()}function J(e){var a,r=arguments,h=e;if([].shift.apply(r),!D.success){try{D.full=(I()||"").split(" ")[0].split(".")}catch(e){P.BootstrapVersion?D.full=P.BootstrapVersion.split(" ")[0].split("."):(D.full=[D.major,"0","0"],console.warn("There was an issue retrieving Bootstrap's version. Ensure Bootstrap is being loaded before bootstrap-select and there is no namespace collision. If loading Bootstrap asynchronously, the version may need to be manually specified via $.fn.selectpicker.Constructor.BootstrapVersion.",e))}D.major=D.full[0],D.success=!0}if("4"<=D.major){var t=[];P.DEFAULTS.style===j.BUTTONCLASS&&t.push({name:"style",className:"BUTTONCLASS"}),P.DEFAULTS.iconBase===j.ICONBASE&&t.push({name:"iconBase",className:"ICONBASE"}),P.DEFAULTS.tickIcon===j.TICKICON&&t.push({name:"tickIcon",className:"TICKICON"}),j.DIVIDER="dropdown-divider",j.SHOW="show",j.BUTTONCLASS="btn-light",j.POPOVERHEADER="popover-header",j.ICONBASE="",j.TICKICON="bs-ok-default";for(var i=0;i<t.length;i++)P.DEFAULTS[(e=t[i]).name]=j[e.className]}"4"<D.major&&(k.DATA_TOGGLE='data-bs-toggle="dropdown"');var s=this.each(function(){var e=y(this);if(e.is("select")){var t=e.data("selectpicker"),i="object"==typeof h&&h;if(i.title&&(i.placeholder=i.title),t){if(i)for(var s in i)Object.prototype.hasOwnProperty.call(i,s)&&(t.options[s]=i[s])}else{var o,n=e.data();for(o in n)Object.prototype.hasOwnProperty.call(n,o)&&-1!==y.inArray(o,$)&&delete n[o];var l=y.extend({},P.DEFAULTS,y.fn.selectpicker.defaults||{},d(e),n,i);l.template=y.extend({},P.DEFAULTS.template,y.fn.selectpicker.defaults?y.fn.selectpicker.defaults.template:{},n.template,i.template),e.data("selectpicker",t=new P(this,l))}"string"==typeof h&&(a=t[h]instanceof Function?t[h].apply(t,r):t.options[h])}});return void 0!==a?a:s}P.VERSION="1.14.0-beta2",P.DEFAULTS={noneSelectedText:"Nothing selected",noneResultsText:"No results matched {0}",countSelectedText:function(e,t){return 1==e?"{0} item selected":"{0} items selected"},maxOptionsText:function(e,t){return[1==e?"Limit reached ({n} item max)":"Limit reached ({n} items max)",1==t?"Group limit reached ({n} item max)":"Group limit reached ({n} items max)"]},selectAllText:"Select All",deselectAllText:"Deselect All",source:{},chunkSize:40,doneButton:!1,doneButtonText:"Close",multipleSeparator:", ",styleBase:"btn",style:j.BUTTONCLASS,size:"auto",title:null,placeholder:null,allowClear:!1,selectedTextFormat:"values",width:!1,container:!1,hideDisabled:!1,showSubtext:!1,showIcon:!0,showContent:!0,dropupAuto:!0,header:!1,liveSearch:!1,liveSearchPlaceholder:null,liveSearchNormalize:!1,liveSearchStyle:"contains",actionsBox:!1,iconBase:j.ICONBASE,tickIcon:j.TICKICON,showTick:!1,template:{caret:'<span class="caret"></span>'},maxOptions:!1,mobile:!1,selectOnTab:!1,dropdownAlignRight:!1,windowPadding:0,virtualScroll:600,display:!1,sanitize:!0,sanitizeFn:null,whiteList:{"*":["class","dir","id","lang","role","tabindex","style",/^aria-[\w-]*$/i],a:["target","href","title","rel"],area:[],b:[],br:[],col:[],code:[],div:[],em:[],hr:[],h1:[],h2:[],h3:[],h4:[],h5:[],h6:[],i:[],img:["src","alt","title","width","height"],li:[],ol:[],p:[],pre:[],s:[],small:[],span:[],sub:[],sup:[],strong:[],u:[],ul:[]}},P.prototype={constructor:P,init:function(){var i=this,e=this.$element.attr("id"),t=this.$element[0],s=t.form;z++,this.selectId="bs-select-"+z,t.classList.add("bs-select-hidden"),this.multiple=this.$element.prop("multiple"),this.autofocus=this.$element.prop("autofocus"),t.classList.contains("show-tick")&&(this.options.showTick=!0),this.$newElement=this.createDropdown(),this.$element.after(this.$newElement).prependTo(this.$newElement),s&&null===t.form&&(s.id||(s.id="form-"+this.selectId),t.setAttribute("form",s.id)),this.$button=this.$newElement.children("button"),this.options.allowClear&&(this.$clearButton=this.$button.children(".bs-select-clear-selected")),this.$menu=this.$newElement.children(k.MENU),this.$menuInner=this.$menu.children(".inner"),this.$searchbox=this.$menu.find("input"),t.classList.remove("bs-select-hidden"),this.fetchData(function(){i.render(!0),i.buildList(),requestAnimationFrame(function(){i.$element.trigger("loaded"+E)})}),this.fetchData(function(){i.render(!0),i.buildList(),requestAnimationFrame(function(){i.$element.trigger("loaded"+E)})}),!0===this.options.dropdownAlignRight&&this.$menu[0].classList.add(j.MENURIGHT),void 0!==e&&this.$button.attr("data-id",e),this.checkDisabled(),this.clickListener(),4<D.major&&(this.dropdown=new C(this.$button[0])),this.options.liveSearch?(this.liveSearchListener(),this.focusedParent=this.$searchbox[0]):this.focusedParent=this.$menuInner[0],this.setStyle(),this.setWidth(),this.options.container?this.selectPosition():this.$element.on("hide"+E,function(){var e,t;i.isVirtual()&&(t=(e=i.$menuInner[0]).firstChild.cloneNode(!1),e.replaceChild(t,e.firstChild),e.scrollTop=0)}),this.$menu.data("this",this),this.$newElement.data("this",this),this.options.mobile&&this.mobile(),this.$newElement.on({"hide.bs.dropdown":function(e){i.$element.trigger("hide"+E,e)},"hidden.bs.dropdown":function(e){i.$element.trigger("hidden"+E,e)},"show.bs.dropdown":function(e){i.$element.trigger("show"+E,e)},"shown.bs.dropdown":function(e){i.$element.trigger("shown"+E,e)}}),t.hasAttribute("required")&&this.$element.on("invalid"+E,function(){i.$button[0].classList.add("bs-invalid"),i.$element.on("shown"+E+".invalid",function(){i.$element.val(i.$element.val()).off("shown"+E+".invalid")}).on("rendered"+E,function(){this.validity.valid&&i.$button[0].classList.remove("bs-invalid"),i.$element.off("rendered"+E)}),i.$button.on("blur"+E,function(){i.$element.trigger("focus").trigger("blur"),i.$button.off("blur"+E)})}),s&&y(s).on("reset"+E,function(){requestAnimationFrame(function(){i.render()})})},createDropdown:function(){var e=this.multiple||this.options.showTick?" show-tick":"",t=this.multiple?' aria-multiselectable="true"':"",i="",s=this.autofocus?" autofocus":"";D.major<4&&this.$element.parent().hasClass("input-group")&&(i=" input-group-btn");var o="",n="",l="",a="",r="";return this.options.header&&(o='<div class="'+j.POPOVERHEADER+'"><button type="button" class="close" aria-hidden="true">&times;</button>'+this.options.header+"</div>"),this.options.liveSearch&&(n='<div class="bs-searchbox"><input type="search" class="form-control" autocomplete="off"'+(null===this.options.liveSearchPlaceholder?"":' placeholder="'+w(this.options.liveSearchPlaceholder)+'"')+' role="combobox" aria-label="Search" aria-controls="'+this.selectId+'" aria-autocomplete="list"></div>'),this.multiple&&this.options.actionsBox&&(l='<div class="bs-actionsbox"><div class="btn-group btn-group-sm"><button type="button" class="actions-btn bs-select-all btn '+j.BUTTONCLASS+'">'+this.options.selectAllText+'</button><button type="button" class="actions-btn bs-deselect-all btn '+j.BUTTONCLASS+'">'+this.options.deselectAllText+"</button></div></div>"),this.multiple&&this.options.doneButton&&(a='<div class="bs-donebutton"><div class="btn-group"><button type="button" class="btn btn-sm '+j.BUTTONCLASS+'">'+this.options.doneButtonText+"</button></div></div>"),this.options.allowClear&&(r='<span class="close bs-select-clear-selected" title="'+this.options.deselectAllText+'"><span>&times;</span>'),e='<div class="dropdown bootstrap-select'+e+i+'"><button type="button" tabindex="-1" class="'+this.options.styleBase+' dropdown-toggle" '+("static"===this.options.display?'data-display="static"':"")+k.DATA_TOGGLE+s+' role="combobox" aria-owns="'+this.selectId+'" aria-haspopup="listbox" aria-expanded="false"><div class="filter-option"><div class="filter-option-inner"><div class="filter-option-inner-inner">&nbsp;</div></div> </div>'+r+"</span>"+("4"<=D.major?"":'<span class="bs-caret">'+this.options.template.caret+"</span>")+'</button><div class="'+j.MENU+" "+("4"<=D.major?"":j.SHOW)+'">'+o+n+l+'<div class="inner '+j.SHOW+'" role="listbox" id="'+this.selectId+'" tabindex="-1" '+t+'><ul class="'+j.MENU+" inner "+("4"<=D.major?j.SHOW:"")+'" role="presentation"></ul></div>'+a+"</div></div>",y(e)},setPositionData:function(){this.selectpicker.view.canHighlight=[],this.selectpicker.view.size=0,this.selectpicker.view.firstHighlightIndex=!1;for(var e=0;e<this.selectpicker.current.data.length;e++){var t=this.selectpicker.current.data[e],i=!0;"divider"===t.type?(i=!1,t.height=this.sizeInfo.dividerHeight):"optgroup-label"===t.type?(i=!1,t.height=this.sizeInfo.dropdownHeaderHeight):t.height=this.sizeInfo.liHeight,t.disabled&&(i=!1),this.selectpicker.view.canHighlight.push(i),i&&(this.selectpicker.view.size++,t.posinset=this.selectpicker.view.size,!1===this.selectpicker.view.firstHighlightIndex)&&(this.selectpicker.view.firstHighlightIndex=e),t.position=(0===e?0:this.selectpicker.current.data[e-1].position)+t.height}},isVirtual:function(){return!1!==this.options.virtualScroll&&this.selectpicker.main.data.length>=this.options.virtualScroll||!0===this.options.virtualScroll},createView:function(S,e,t){var T,x,C=this,i=0,I=[];function D(e,t){var i,s=C.selectpicker.current.data.length,o=[],n=!0,l=C.isVirtual();C.selectpicker.view.scrollTop=e;for(var a,r=C.options.chunkSize,h=Math.ceil(s/r)||1,d=0;d<h;d++){var c=d===h-1?s:(d+1)*r;if(o[d]=[d*r+(d?1:0),c],!s)break;void 0===i&&e-1<=C.selectpicker.current.data[c-1].position-C.sizeInfo.menuInnerHeight&&(i=d)}if(void 0===i&&(i=0),_=[C.selectpicker.view.position0,C.selectpicker.view.position1],p=Math.max(0,i-1),m=Math.min(h-1,i+1),C.selectpicker.view.position0=!1!==l&&Math.max(0,o[p][0])||0,C.selectpicker.view.position1=!1===l?s:Math.min(s,o[m][1])||0,p=_[0]!==C.selectpicker.view.position0||_[1]!==C.selectpicker.view.position1,void 0!==C.activeIndex&&(x=(C.selectpicker.main.data[C.prevActiveIndex]||{}).element,I=(C.selectpicker.main.data[C.activeIndex]||{}).element,T=(C.selectpicker.main.data[C.selectedIndex]||{}).element,t&&(C.activeIndex!==C.selectedIndex&&C.defocusItem(I),C.activeIndex=void 0),C.activeIndex)&&C.activeIndex!==C.selectedIndex&&C.defocusItem(T),void 0!==C.prevActiveIndex&&C.prevActiveIndex!==C.activeIndex&&C.prevActiveIndex!==C.selectedIndex&&C.defocusItem(x),t||p){if(m=C.selectpicker.view.visibleElements?C.selectpicker.view.visibleElements.slice():[],C.selectpicker.view.visibleElements=!1===l?C.selectpicker.current.elements:C.selectpicker.current.elements.slice(C.selectpicker.view.position0,C.selectpicker.view.position1),C.setOptionStatus(),(S||!1===l&&t)&&(_=m,a=C.selectpicker.view.visibleElements,n=!(_.length===a.length&&_.every(function(e,t){return e===a[t]}))),(t||!0===l)&&n){var p=C.$menuInner[0],u=document.createDocumentFragment(),m=p.firstChild.cloneNode(!1),g=C.selectpicker.view.visibleElements,f=[];p.replaceChild(m,p.firstChild);for(var _,d=0,b=g.length;d<b;d++){var v,w,y=g[d];C.options.sanitize&&(v=y.lastChild)&&(w=C.selectpicker.current.data[d+C.selectpicker.view.position0])&&w.content&&!w.sanitized&&(f.push(v),w.sanitized=!0),u.appendChild(y)}C.options.sanitize&&f.length&&O(f,C.options.whiteList,C.options.sanitizeFn),!0===l?(_=0===C.selectpicker.view.position0?0:C.selectpicker.current.data[C.selectpicker.view.position0-1].position,n=C.selectpicker.view.position1>s-1?0:C.selectpicker.current.data[s-1].position-C.selectpicker.current.data[C.selectpicker.view.position1-1].position,p.firstChild.style.marginTop=_+"px",p.firstChild.style.marginBottom=n+"px"):(p.firstChild.style.marginTop=0,p.firstChild.style.marginBottom=0),p.firstChild.appendChild(u),!0===l&&C.sizeInfo.hasScrollBar&&(m=p.firstChild.offsetWidth,t&&m<C.sizeInfo.menuInnerInnerWidth&&C.sizeInfo.totalMenuWidth>C.sizeInfo.selectWidth?p.firstChild.style.minWidth=C.sizeInfo.menuInnerInnerWidth+"px":m>C.sizeInfo.menuInnerInnerWidth&&(C.$menu[0].style.minWidth=0,(_=p.firstChild.offsetWidth)>C.sizeInfo.menuInnerInnerWidth&&(C.sizeInfo.menuInnerInnerWidth=_,p.firstChild.style.minWidth=C.sizeInfo.menuInnerInnerWidth+"px"),C.$menu[0].style.minWidth=""))}(!S&&C.options.source.load||S&&C.options.source.search)&&i===h-1&&C.fetchData(function(){C.render(),C.buildList(s,S),C.setPositionData(),D(e)},S?"search":"load",i+1,S?C.selectpicker.search.previousValue:void 0)}C.prevActiveIndex=C.activeIndex,C.options.liveSearch?S&&t&&(C.selectpicker.view.canHighlight[n=0]||(n=1+C.selectpicker.view.canHighlight.slice(1).indexOf(!0)),l=C.selectpicker.view.visibleElements[n],C.defocusItem(C.selectpicker.view.currentActive),C.activeIndex=(C.selectpicker.current.data[n]||{}).index,C.focusItem(l)):C.$menuInner.trigger("focus")}this.selectpicker.isSearching=S,this.selectpicker.current=S?this.selectpicker.search:this.selectpicker.main,this.setPositionData(),e&&(t?i=this.$menuInner[0].scrollTop:C.multiple||"number"==typeof(t=((e=C.$element[0]).options[e.selectedIndex]||{}).liIndex)&&!1!==C.options.size&&(t=(e=C.selectpicker.main.data[t])&&e.position)&&(i=t-(C.sizeInfo.menuInnerHeight+C.sizeInfo.liHeight)/2)),D(i,!0),this.$menuInner.off("scroll.createView").on("scroll.createView",function(e,t){C.noScroll||D(this.scrollTop,t),C.noScroll=!1}),y(window).off("resize"+E+"."+this.selectId+".createView").on("resize"+E+"."+this.selectId+".createView",function(){C.$newElement.hasClass(j.SHOW)&&D(C.$menuInner[0].scrollTop)})},focusItem:function(e,t,i){var s;e&&(t=t||this.selectpicker.main.data[this.activeIndex],s=e.firstChild)&&(s.setAttribute("aria-setsize",this.selectpicker.view.size),s.setAttribute("aria-posinset",t.posinset),!0!==i)&&(this.focusedParent.setAttribute("aria-activedescendant",s.id),e.classList.add("active"),s.classList.add("active"))},defocusItem:function(e){e&&(e.classList.remove("active"),e.firstChild)&&e.firstChild.classList.remove("active")},setPlaceholder:function(){var e,t,i,s,o,n,l,a=this,r=!1;return!this.options.placeholder&&!this.options.allowClear||this.multiple||(this.selectpicker.view.titleOption||(this.selectpicker.view.titleOption=document.createElement("option")),e=this.$element[0],t=!(r=!0),i=!this.selectpicker.view.titleOption.parentNode,s=e.selectedIndex,o=e.options[s],n=(n=e.querySelector("select > *:not(:disabled)"))?n.index:0,l=(l=window.performance&&window.performance.getEntriesByType("navigation"))&&l.length?"back_forward"!==l[0].type:2!==window.performance.navigation.type,i&&(this.selectpicker.view.titleOption.className="bs-title-option",this.selectpicker.view.titleOption.value="",t=!o||s===n&&!1===o.defaultSelected&&void 0===this.$element.data("selected")),!i&&0===this.selectpicker.view.titleOption.index||e.insertBefore(this.selectpicker.view.titleOption,e.firstChild),t&&l?e.selectedIndex=0:"complete"!==document.readyState&&window.addEventListener("pageshow",function(){a.selectpicker.view.displayedValue!==e.value&&a.render()})),r},fetchData:function(t,i,e,s){i=i||"data";var o,n=this,l=this.options.source[i];l?(this.options.virtualScroll=!0,"function"==typeof l?l.call(this,function(e){o=n.buildData(e,i),t.call(n,o)},e,s):Array.isArray(l)&&(o=n.buildData(l,i),t.call(n,o))):(o=this.buildData(!1,i),t.call(n,o))},buildData:function(c,e){var p=!1===c?q.fromOption:q.fromDataSource,u=':not([hidden]):not([data-hidden="true"])',m=[],n=0,g=0,f=this.setPlaceholder()&&!c?1:0,t=("load"===e?n=this.selectpicker.main.data.length:"search"===e&&(n=this.selectpicker.search.data.length),this.options.hideDisabled&&(u+=":not(:disabled)"),c?c.filter(Z,this):this.$element[0].querySelectorAll("select > *"+u));function _(e){var t=m[m.length-1];t&&"divider"===t.type&&(t.optID||e.optID)||((e=e||{}).type="divider",m.push(e))}function b(e,t){var i,s,o;(t=t||{}).divider=p(e,"divider"),!0===t.divider?_({optID:t.optID}):(i=m.length+n,s=(s=p(e,"style"))?w(s):"",o=(e.className||"")+(t.optgroupClass||""),t.optID&&(o="opt "+o),t.optionClass=o.trim(),t.inlineStyle=s,t.text=p(e,"text"),t.content=p(e,"content"),t.tokens=p(e,"tokens"),t.subtext=p(e,"subtext"),t.icon=p(e,"icon"),t.display=t.content||t.text,t.value=void 0===e.value?e.text:e.value,t.type="option",t.index=i,t.option=e.option||e,t.option.liIndex=i,t.selected=!!e.selected,t.disabled=t.disabled||!!e.disabled,m.push(t))}function i(e,t){var i=t[e],s=!(e-1<f)&&t[e-1],t=t[e+1],o=c?i.children.filter(Z,this):i.querySelectorAll("option"+u);if(o.length){var n,l,a={display:w(p(v,"label")),subtext:p(i,"subtext"),icon:p(i,"icon"),type:"optgroup-label",optgroupClass:" "+(i.className||"")};g++,s&&_({optID:g}),a.optID=g,m.push(a);for(var r=0,h=o.length;r<h;r++){var d=o[r];0===r&&(l=(n=m.length-1)+h),b(d,{headerIndex:n,lastIndex:l,optID:a.optID,optgroupClass:a.optgroupClass,disabled:i.disabled})}t&&_({optID:g})}}for(var s=t.length,o=f;o<s;o++){var v=t[o],l=v.children;l&&l.length?i.call(this,f,t):b.call(this,v,{})}switch(e){case"data":this.selectpicker.main.data=this.selectpicker.current.data=m;break;case"load":Array.prototype.push.apply(this.selectpicker.main.data,m),this.selectpicker.current.data=this.selectpicker.main.data;break;case"search":Array.prototype.push.apply(this.selectpicker.search.data,m)}return m},buildList:function(e,t){var i=this,s=(t?this.selectpicker.search:this.selectpicker.main).data,o=[],n=0;!i.options.showTick&&!i.multiple||L.checkMark.parentNode||(L.checkMark.className=this.options.iconBase+" "+i.options.tickIcon+" check-mark",L.a.appendChild(L.checkMark));for(var l=s.length,a=e||0;a<l;a++){c=r=d=h=void 0;var r,h=o,d=s[a],c=0;switch(d.type){case"divider":r=A.li(!1,j.DIVIDER,d.optID?d.optID+"div":void 0);break;case"option":(r=A.li(A.a(A.text.call(i,d),d.optionClass,d.inlineStyle),"",d.optID)).firstChild&&(r.firstChild.id=i.selectId+"-"+d.index);break;case"optgroup-label":r=A.li(A.label.call(i,d),"dropdown-header"+d.optgroupClass,d.optID)}d.element=r,h.push(r),d.display&&(c+=d.display.length),d.subtext&&(c+=d.subtext.length),d.icon&&(c+=1),n<c&&(n=c,i.selectpicker.view.widestOption=h[h.length-1])}e?t?Array.prototype.push.apply(this.selectpicker.search.elements,o):(Array.prototype.push.apply(this.selectpicker.main.elements,o),this.selectpicker.current.elements=this.selectpicker.main.elements):t?this.selectpicker.search.elements=o:this.selectpicker.main.elements=this.selectpicker.current.elements=o},findLis:function(){return this.$menuInner.find(".inner > li")},render:function(e){var i=this,t=this.$element[0],s=this.setPlaceholder()&&0===t.selectedIndex,o=S.call(this),n=o.length,l=T.call(this,o),a=this.$button[0],r=a.querySelector(".filter-option-inner-inner"),h=document.createTextNode(this.options.multipleSeparator),d=L.fragment.cloneNode(!1),c=!1;if(this.options.source.data&&e&&(o.map(function e(t){t.selected?i.createOption(t,!0):t.children&&t.children.length&&t.children.map(e)}),t.appendChild(this.selectpicker.main.optionQueue),s=s&&0===t.selectedIndex),a.classList.toggle("bs-placeholder",i.multiple?!n:!l&&0!==l),i.multiple||1!==o.length||(i.selectpicker.view.displayedValue=l),"static"===this.options.selectedTextFormat)d=A.text.call(this,{text:this.options.placeholder},!0);else if(!1===(this.multiple&&-1!==this.options.selectedTextFormat.indexOf("count")&&1<n&&(1<(e=this.options.selectedTextFormat.split(">")).length&&n>e[1]||1===e.length&&2<=n))){if(!s){for(var p=0;p<n&&p<50;p++){var u=o[p],m={};u&&(this.multiple&&0<p&&d.appendChild(h.cloneNode(!1)),u.title?m.text=u.title:u.content&&i.options.showContent?(m.content=u.content.toString(),c=!0):(i.options.showIcon&&(m.icon=u.icon),i.options.showSubtext&&!i.multiple&&u.subtext&&(m.subtext=" "+u.subtext),m.text=u.text.trim()),d.appendChild(A.text.call(this,m,!0)))}49<n&&d.appendChild(document.createTextNode("..."))}}else var t=':not([hidden]):not([data-hidden="true"]):not([data-divider="true"])',l=(this.options.hideDisabled&&(t+=":not(:disabled)"),this.$element[0].querySelectorAll("select > option"+t+", optgroup"+t+" option"+t).length),e="function"==typeof this.options.countSelectedText?this.options.countSelectedText(n,l):this.options.countSelectedText,d=A.text.call(this,{text:e.replace("{0}",n.toString()).replace("{1}",l.toString())},!0);d.childNodes.length||(d=A.text.call(this,{text:this.options.placeholder||this.options.noneSelectedText},!0)),a.title=d.textContent.replace(/<[^>]*>?/g,"").trim(),this.options.sanitize&&c&&O([d],i.options.whiteList,i.options.sanitizeFn),r.innerHTML="",r.appendChild(d),D.major<4&&this.$newElement[0].classList.contains("bs3-has-addon")&&(s=a.querySelector(".filter-expand"),(t=r.cloneNode(!0)).className="filter-expand",s?a.replaceChild(t,s):a.appendChild(t)),this.$element.trigger("rendered"+E)},setStyle:function(e,t){var i=this.$button[0],s=this.$newElement[0],o=this.options.style.trim();this.$element.attr("class")&&this.$newElement.addClass(this.$element.attr("class").replace(/selectpicker|mobile-device|bs-select-hidden|validate\[.*\]/gi,"")),D.major<4&&(s.classList.add("bs3"),s.parentNode.classList)&&s.parentNode.classList.contains("input-group")&&(s.previousElementSibling||s.nextElementSibling)&&(s.previousElementSibling||s.nextElementSibling).classList.contains("input-group-addon")&&s.classList.add("bs3-has-addon"),s=e?e.trim():o,"add"==t?s&&i.classList.add.apply(i.classList,s.split(" ")):"remove"==t?s&&i.classList.remove.apply(i.classList,s.split(" ")):(o&&i.classList.remove.apply(i.classList,o.split(" ")),s&&i.classList.add.apply(i.classList,s.split(" ")))},liHeight:function(e){if(e||!1!==this.options.size&&!Object.keys(this.sizeInfo).length){var t,e=L.div.cloneNode(!1),i=L.div.cloneNode(!1),s=L.div.cloneNode(!1),o=document.createElement("ul"),n=L.li.cloneNode(!1),l=L.li.cloneNode(!1),a=L.a.cloneNode(!1),r=L.span.cloneNode(!1),h=this.options.header&&0<this.$menu.find("."+j.POPOVERHEADER).length?this.$menu.find("."+j.POPOVERHEADER)[0].cloneNode(!0):null,d=this.options.liveSearch?L.div.cloneNode(!1):null,c=this.options.actionsBox&&this.multiple&&0<this.$menu.find(".bs-actionsbox").length?this.$menu.find(".bs-actionsbox")[0].cloneNode(!0):null,p=this.options.doneButton&&this.multiple&&0<this.$menu.find(".bs-donebutton").length?this.$menu.find(".bs-donebutton")[0].cloneNode(!0):null,u=this.$element[0].options[0];if(this.sizeInfo.selectWidth=this.$newElement[0].offsetWidth,r.className="text",a.className="dropdown-item "+(u?u.className:""),e.className=this.$menu[0].parentNode.className+" "+j.SHOW,e.style.width=0,"auto"===this.options.width&&(i.style.minWidth=0),i.className=j.MENU+" "+j.SHOW,s.className="inner "+j.SHOW,o.className=j.MENU+" inner "+("4"<=D.major?j.SHOW:""),n.className=j.DIVIDER,l.className="dropdown-header",r.appendChild(document.createTextNode("â")),this.selectpicker.current.data.length)for(var m=0;m<this.selectpicker.current.data.length;m++){var g=this.selectpicker.current.data[m];if("option"===g.type){t=g.element;break}}else t=L.li.cloneNode(!1),a.appendChild(r),t.appendChild(a);l.appendChild(r.cloneNode(!0)),this.selectpicker.view.widestOption&&o.appendChild(this.selectpicker.view.widestOption.cloneNode(!0)),o.appendChild(t),o.appendChild(n),o.appendChild(l),h&&i.appendChild(h),d&&(u=document.createElement("input"),d.className="bs-searchbox",u.className="form-control",d.appendChild(u),i.appendChild(d)),c&&i.appendChild(c),s.appendChild(o),i.appendChild(s),p&&i.appendChild(p),e.appendChild(i),document.body.appendChild(e);a=t.offsetHeight,r=l?l.offsetHeight:0,u=h?h.offsetHeight:0,o=d?d.offsetHeight:0,l=c?c.offsetHeight:0,h=p?p.offsetHeight:0,d=y(n).outerHeight(!0),c=window.getComputedStyle(i),p=i.offsetWidth,n={vert:f(c.paddingTop)+f(c.paddingBottom)+f(c.borderTopWidth)+f(c.borderBottomWidth),horiz:f(c.paddingLeft)+f(c.paddingRight)+f(c.borderLeftWidth)+f(c.borderRightWidth)},c={vert:n.vert+f(c.marginTop)+f(c.marginBottom)+2,horiz:n.horiz+f(c.marginLeft)+f(c.marginRight)+2};s.style.overflowY="scroll",s=i.offsetWidth-p,document.body.removeChild(e),this.sizeInfo.liHeight=a,this.sizeInfo.dropdownHeaderHeight=r,this.sizeInfo.headerHeight=u,this.sizeInfo.searchHeight=o,this.sizeInfo.actionsHeight=l,this.sizeInfo.doneButtonHeight=h,this.sizeInfo.dividerHeight=d,this.sizeInfo.menuPadding=n,this.sizeInfo.menuExtras=c,this.sizeInfo.menuWidth=p,this.sizeInfo.menuInnerInnerWidth=p-n.horiz,this.sizeInfo.totalMenuWidth=this.sizeInfo.menuWidth,this.sizeInfo.scrollBarWidth=s,this.sizeInfo.selectHeight=this.$newElement[0].offsetHeight,this.setPositionData()}},getSelectPosition:function(){var e,t=y(window),i=this.$newElement.offset(),s=y(this.options.container),s=(this.options.container&&s.length&&!s.is("body")?((e=s.offset()).top+=parseInt(s.css("borderTopWidth")),e.left+=parseInt(s.css("borderLeftWidth"))):e={top:0,left:0},this.options.windowPadding);this.sizeInfo.selectOffsetTop=i.top-e.top-t.scrollTop(),this.sizeInfo.selectOffsetBot=t.height()-this.sizeInfo.selectOffsetTop-this.sizeInfo.selectHeight-e.top-s[2],this.sizeInfo.selectOffsetLeft=i.left-e.left-t.scrollLeft(),this.sizeInfo.selectOffsetRight=t.width()-this.sizeInfo.selectOffsetLeft-this.sizeInfo.selectWidth-e.left-s[1],this.sizeInfo.selectOffsetTop-=s[0],this.sizeInfo.selectOffsetLeft-=s[3]},setMenuSize:function(e){this.getSelectPosition();var t,i,s,o,n,l,a=this.sizeInfo.selectWidth,r=this.sizeInfo.liHeight,h=this.sizeInfo.headerHeight,d=this.sizeInfo.searchHeight,c=this.sizeInfo.actionsHeight,p=this.sizeInfo.doneButtonHeight,u=this.sizeInfo.dividerHeight,m=this.sizeInfo.menuPadding,g=0;if(this.options.dropupAuto&&(l=r*this.selectpicker.current.data.length+m.vert,l=this.sizeInfo.selectOffsetTop-this.sizeInfo.selectOffsetBot>this.sizeInfo.menuExtras.vert&&l+this.sizeInfo.menuExtras.vert+50>this.sizeInfo.selectOffsetBot,!0===this.selectpicker.isSearching&&(l=this.selectpicker.dropup),this.$newElement.toggleClass(j.DROPUP,l),this.selectpicker.dropup=l),"auto"===this.options.size)l=3<this.selectpicker.current.data.length?3*this.sizeInfo.liHeight+this.sizeInfo.menuExtras.vert-2:0,i=this.sizeInfo.selectOffsetBot-this.sizeInfo.menuExtras.vert,s=l+h+d+c+p,n=Math.max(l-m.vert,0),t=(o=i=this.$newElement.hasClass(j.DROPUP)?this.sizeInfo.selectOffsetTop-this.sizeInfo.menuExtras.vert:i)-h-d-c-p-m.vert;else if(this.options.size&&"auto"!=this.options.size&&this.selectpicker.current.elements.length>this.options.size){for(var f=0;f<this.options.size;f++)"divider"===this.selectpicker.current.data[f].type&&g++;t=(i=r*this.options.size+g*u+m.vert)-m.vert,o=i+h+d+c+p,s=n=""}this.$menu.css({"max-height":o+"px",overflow:"hidden","min-height":s+"px"}),this.$menuInner.css({"max-height":t+"px","overflow-y":"auto","min-height":n+"px"}),this.sizeInfo.menuInnerHeight=Math.max(t,1),this.selectpicker.current.data.length&&this.selectpicker.current.data[this.selectpicker.current.data.length-1].position>this.sizeInfo.menuInnerHeight&&(this.sizeInfo.hasScrollBar=!0,this.sizeInfo.totalMenuWidth=this.sizeInfo.menuWidth+this.sizeInfo.scrollBarWidth),"auto"===this.options.dropdownAlignRight&&this.$menu.toggleClass(j.MENURIGHT,this.sizeInfo.selectOffsetLeft>this.sizeInfo.selectOffsetRight&&this.sizeInfo.selectOffsetRight<this.sizeInfo.totalMenuWidth-a),this.dropdown&&this.dropdown._popper&&this.dropdown._popper.update()},setSize:function(e){var t,i;this.liHeight(e),this.options.header&&this.$menu.css("padding-top",0),!1!==this.options.size&&(t=this,i=y(window),this.setMenuSize(),this.options.liveSearch&&this.$searchbox.off("input.setMenuSize propertychange.setMenuSize").on("input.setMenuSize propertychange.setMenuSize",function(){return t.setMenuSize()}),"auto"===this.options.size?i.off("resize"+E+"."+this.selectId+".setMenuSize scroll"+E+"."+this.selectId+".setMenuSize").on("resize"+E+"."+this.selectId+".setMenuSize scroll"+E+"."+this.selectId+".setMenuSize",function(){return t.setMenuSize()}):this.options.size&&"auto"!=this.options.size&&this.selectpicker.current.elements.length>this.options.size&&i.off("resize"+E+"."+this.selectId+".setMenuSize scroll"+E+"."+this.selectId+".setMenuSize")),this.createView(!1,!0,e)},setWidth:function(){var i=this;"auto"===this.options.width?requestAnimationFrame(function(){i.$menu.css("min-width","0"),i.$element.on("loaded"+E,function(){i.liHeight(),i.setMenuSize();var e=i.$newElement.clone().appendTo("body"),t=e.css("width","auto").children("button").outerWidth();e.remove(),i.sizeInfo.selectWidth=Math.max(i.sizeInfo.totalMenuWidth,t),i.$newElement.css("width",i.sizeInfo.selectWidth+"px")})}):"fit"===this.options.width?(this.$menu.css("min-width",""),this.$newElement.css("width","").addClass("fit-width")):this.options.width?(this.$menu.css("min-width",""),this.$newElement.css("width",this.options.width)):(this.$menu.css("min-width",""),this.$newElement.css("width","")),this.$newElement.hasClass("fit-width")&&"fit"!==this.options.width&&this.$newElement[0].classList.remove("fit-width")},selectPosition:function(){function e(e){var t={},i=l.options.display||!!y.fn.dropdown.Constructor.Default&&y.fn.dropdown.Constructor.Default.display;l.$bsContainer.addClass(e.attr("class").replace(/form-control|fit-width/gi,"")).toggleClass(j.DROPUP,e.hasClass(j.DROPUP)),s=e.offset(),a.is("body")?o={top:0,left:0}:((o=a.offset()).top+=parseInt(a.css("borderTopWidth"))-a.scrollTop(),o.left+=parseInt(a.css("borderLeftWidth"))-a.scrollLeft()),n=e.hasClass(j.DROPUP)?0:e[0].offsetHeight,(D.major<4||"static"===i)&&(t.top=s.top-o.top+n,t.left=s.left-o.left),t.width=e[0].offsetWidth,l.$bsContainer.css(t)}this.$bsContainer=y('<div class="bs-container" />');var s,o,n,l=this,a=y(this.options.container);this.$button.on("click.bs.dropdown.data-api",function(){l.isDisabled()||(e(l.$newElement),l.$bsContainer.appendTo(l.options.container).toggleClass(j.SHOW,!l.$button.hasClass(j.SHOW)).append(l.$menu))}),y(window).off("resize"+E+"."+this.selectId+" scroll"+E+"."+this.selectId).on("resize"+E+"."+this.selectId+" scroll"+E+"."+this.selectId,function(){l.$newElement.hasClass(j.SHOW)&&e(l.$newElement)}),this.$element.on("hide"+E,function(){l.$menu.data("height",l.$menu.height()),l.$bsContainer.detach()})},createOption:function(e,t){var i,s=e.option||e;s&&1!==s.nodeType&&(i=(t?L.selectedOption:L.option).cloneNode(!0),void 0!==s.value&&(i.value=s.value),i.textContent=s.text,i.selected=!0,void 0!==s.liIndex?i.liIndex=s.liIndex:t||(i.liIndex=e.index),e.option=i,this.selectpicker.main.optionQueue.appendChild(i))},setOptionStatus:function(e){var t=this;if(t.noScroll=!1,t.selectpicker.view.visibleElements&&t.selectpicker.view.visibleElements.length){for(var i=0;i<t.selectpicker.view.visibleElements.length;i++){var s=t.selectpicker.current.data[i+t.selectpicker.view.position0];s.option&&(!0!==e&&t.setDisabled(s),t.setSelected(s))}this.options.source.data&&this.$element[0].appendChild(this.selectpicker.main.optionQueue)}},setSelected:function(e,t){t=void 0===t?e.selected:t;var i,s=e.index,o=e.element,n=void 0!==this.activeIndex,l=this.activeIndex===s||t&&!this.multiple&&!n;o&&(void 0!==t&&(e.selected=t,e.option)&&(e.option.selected=t),t&&this.options.source.data&&this.createOption(e,!1),i=o.firstChild,t&&(this.selectedIndex=s),o.classList.toggle("selected",t),l?(this.focusItem(o,e),this.selectpicker.view.currentActive=o,this.activeIndex=s):this.defocusItem(o),i&&(i.classList.toggle("selected",t),t?i.setAttribute("aria-selected",!0):this.multiple?i.setAttribute("aria-selected",!1):i.removeAttribute("aria-selected")),l||n||!t||void 0===this.prevActiveIndex||(e=this.selectpicker.main.elements[this.prevActiveIndex],this.defocusItem(e)))},setDisabled:function(e){var t,i=e.disabled,e=e.element;e&&(t=e.firstChild,e.classList.toggle(j.DISABLED,i),t)&&("4"<=D.major&&t.classList.toggle(j.DISABLED,i),i?(t.setAttribute("aria-disabled",i),t.setAttribute("tabindex",-1)):(t.removeAttribute("aria-disabled"),t.setAttribute("tabindex",0)))},isDisabled:function(){return this.$element[0].disabled},checkDisabled:function(){this.isDisabled()?(this.$newElement[0].classList.add(j.DISABLED),this.$button.addClass(j.DISABLED).attr("aria-disabled",!0)):this.$button[0].classList.contains(j.DISABLED)&&(this.$newElement[0].classList.remove(j.DISABLED),this.$button.removeClass(j.DISABLED).attr("aria-disabled",!1))},clickListener:function(){var w=this,t=y(document);function e(){(w.options.liveSearch?w.$searchbox:w.$menuInner).trigger("focus")}function i(){w.dropdown&&w.dropdown._popper&&w.dropdown._popper.state?e():requestAnimationFrame(i)}t.data("spaceSelect",!1),this.$button.on("keyup",function(e){/(32)/.test(e.keyCode.toString(10))&&t.data("spaceSelect")&&(e.preventDefault(),t.data("spaceSelect",!1))}),this.$newElement.on("show.bs.dropdown",function(){w.dropdown||"4"!==D.major||(w.dropdown=w.$button.data("bs.dropdown"),w.dropdown._menu=w.$menu[0])}),this.$button.on("click.bs.dropdown.data-api",function(e){var t,i,s;w.options.allowClear&&(t=e.target,i=w.$clearButton[0],(t=/MSIE|Trident/.test(window.navigator.userAgent)?document.elementFromPoint(e.clientX,e.clientY):t)!==i&&t.parentElement!==i||(e.stopImmediatePropagation(),w.multiple?w.deselectAll():(i=(t=w.$element[0]).value,e=t.selectedIndex,(s=!!(s=t.options[e])&&w.selectpicker.main.data[s.liIndex])&&w.setSelected(s,!1),t.selectedIndex=0,x=[e,!1,i],w.$element.triggerNative("change")),w.$newElement.hasClass(j.SHOW)&&(w.options.liveSearch&&w.$searchbox.trigger("focus"),w.createView(!1)))),w.$newElement.hasClass(j.SHOW)||w.setSize()}),this.$element.on("shown"+E,function(){w.$menuInner[0].scrollTop!==w.selectpicker.view.scrollTop&&(w.$menuInner[0].scrollTop=w.selectpicker.view.scrollTop),3<D.major?requestAnimationFrame(i):e()}),this.$menuInner.on("mouseenter","li a",function(e){var t=this.parentElement,i=w.isVirtual()?w.selectpicker.view.position0:0,s=Array.prototype.indexOf.call(t.parentElement.children,t),s=w.selectpicker.current.data[s+i];w.focusItem(t,s,!0)}),this.$menuInner.on("click","li a",function(e,t){var i=y(this),s=w.$element[0],o=w.isVirtual()?w.selectpicker.view.position0:0,o=w.selectpicker.current.data[i.parent().index()+o],n=o.index,l=T.call(w),a=s.selectedIndex,r=s.options[a],r=!!r&&w.selectpicker.main.data[r.liIndex],h=!0;if(w.multiple&&1!==w.options.maxOptions&&e.stopPropagation(),e.preventDefault(),!w.isDisabled()&&!i.parent().hasClass(j.DISABLED)){var e=o.option,i=y(e),d=e.selected,c=i.parent("optgroup"),p=c.find("option"),u=w.options.maxOptions,m=c.data("maxOptions")||!1;if((t=n===w.activeIndex?!0:t)||(w.prevActiveIndex=w.activeIndex,w.activeIndex=void 0),w.multiple){if(w.setSelected(o,!d),w.focusedParent.focus(),!1!==u||!1!==m){t=u<S.call(w).length,d=m<c.find("option:selected").length;if(u&&t||m&&d)if(u&&1==u)s.selectedIndex=-1,e.selected=!0,w.setOptionStatus(!0);else if(m&&1==m){for(var g=0;g<p.length;g++){var f=p[g];f.selected=!1,w.setSelected(f.liIndex,!1)}e.selected=!0,w.setSelected(n,!0)}else{var c="string"==typeof w.options.maxOptionsText?[w.options.maxOptionsText,w.options.maxOptionsText]:w.options.maxOptionsText,c="function"==typeof c?c(u,m):c,_=c[0].replace("{n}",u),b=c[1].replace("{n}",m),v=y('<div class="notify"></div>');c[2]&&(_=_.replace("{var}",c[2][1<u?0:1]),b=b.replace("{var}",c[2][1<m?0:1])),e.selected=!1,w.$menu.append(v),u&&t&&(v.append(y("<div>"+_+"</div>")),h=!1,w.$element.trigger("maxReached"+E)),m&&d&&(v.append(y("<div>"+b+"</div>")),h=!1,w.$element.trigger("maxReachedGrp"+E)),setTimeout(function(){w.setSelected(n,!1)},10),v[0].classList.add("fadeOut"),setTimeout(function(){v.remove()},1050)}}}else r&&w.setSelected(r,!1),w.setSelected(o,!0);w.options.source.data&&w.$element[0].appendChild(w.selectpicker.main.optionQueue),!w.multiple||w.multiple&&1===w.options.maxOptions?w.$button.trigger("focus"):w.options.liveSearch&&w.$searchbox.trigger("focus"),!h||!w.multiple&&a===s.selectedIndex||(x=[e.index,i.prop("selected"),l],w.$element.triggerNative("change"))}}),this.$menu.on("click","li."+j.DISABLED+" a, ."+j.POPOVERHEADER+", ."+j.POPOVERHEADER+" :not(.close)",function(e){e.currentTarget==this&&(e.preventDefault(),e.stopPropagation(),(w.options.liveSearch&&!y(e.target).hasClass("close")?w.$searchbox:w.$button).trigger("focus"))}),this.$menuInner.on("click",".divider, .dropdown-header",function(e){e.preventDefault(),e.stopPropagation(),(w.options.liveSearch?w.$searchbox:w.$button).trigger("focus")}),this.$menu.on("click","."+j.POPOVERHEADER+" .close",function(){w.$button.trigger("click")}),this.$searchbox.on("click",function(e){e.stopPropagation()}),this.$menu.on("click",".actions-btn",function(e){(w.options.liveSearch?w.$searchbox:w.$button).trigger("focus"),e.preventDefault(),e.stopPropagation(),y(this).hasClass("bs-select-all")?w.selectAll():w.deselectAll()}),this.$button.on("focus"+E,function(e){var t=w.$element[0].getAttribute("tabindex");void 0!==t&&e.originalEvent&&e.originalEvent.isTrusted&&(this.setAttribute("tabindex",t),w.$element[0].setAttribute("tabindex",-1),w.selectpicker.view.tabindex=t)}).on("blur"+E,function(e){void 0!==w.selectpicker.view.tabindex&&e.originalEvent&&e.originalEvent.isTrusted&&(w.$element[0].setAttribute("tabindex",w.selectpicker.view.tabindex),this.setAttribute("tabindex",-1),w.selectpicker.view.tabindex=void 0)}),this.$element.on("change"+E,function(){w.render(),w.$element.trigger("changed"+E,x),x=null}).on("focus"+E,function(){w.options.mobile||w.$button[0].focus()})},liveSearchListener:function(){var p=this;this.$button.on("click.bs.dropdown.data-api",function(){p.$searchbox.val()&&(p.$searchbox.val(""),p.selectpicker.search.previousValue=void 0)}),this.$searchbox.on("click.bs.dropdown.data-api focus.bs.dropdown.data-api touchend.bs.dropdown.data-api",function(e){e.stopPropagation()}),this.$searchbox.on("input propertychange",function(){var t=p.$searchbox[0].value;if(p.selectpicker.search.elements=[],p.selectpicker.search.data=[],t)if(p.options.source.search)p.fetchData(function(e){p.render(),p.buildList(void 0,!0),p.createView(!0),Q.call(p,e,t)},"search",0,t);else{var e=[],i=t.toUpperCase(),s={},o=[],n=p._searchStyle(),l=p.options.liveSearchNormalize;l&&(i=m(i));for(var a=0;a<p.selectpicker.main.data.length;a++){var r=p.selectpicker.main.data[a];s[a]||(s[a]=b(r,i,n,l)),s[a]&&void 0!==r.headerIndex&&-1===o.indexOf(r.headerIndex)&&(0<r.headerIndex&&(s[r.headerIndex-1]=!0,o.push(r.headerIndex-1)),s[r.headerIndex]=!0,o.push(r.headerIndex),s[r.lastIndex+1]=!0),s[a]&&"optgroup-label"!==r.type&&o.push(a)}for(var a=0,h=o.length;a<h;a++){var d=o[a],c=(r=p.selectpicker.main.data[d],p.selectpicker.main.data[o[a-1]]);("divider"!==r.type||"divider"===r.type&&c&&"divider"!==c.type&&h-1!==a)&&(p.selectpicker.search.data.push(r),e.push(p.selectpicker.main.elements[d]))}p.activeIndex=void 0,p.noScroll=!0,p.$menuInner.scrollTop(0),p.selectpicker.search.elements=e,p.createView(!0),Q.call(p,e,t)}else p.selectpicker.search.previousValue&&(p.$menuInner.scrollTop(0),p.createView(!1));p.selectpicker.search.previousValue=t})},_searchStyle:function(){return this.options.liveSearchStyle||"contains"},val:function(t){var e=this.$element[0];if(void 0===t)return this.$element.val();var i=S.call(this),s=T.call(this,i);x=[null,null,s],(t=Array.isArray(t)?t:[t]).map(String);for(var o=0;o<i.length;o++){var n=i[o];n&&-1===t.indexOf(String(n.value))&&this.setSelected(n,!1)}return this.selectpicker.main.data.filter(function(e){return-1!==t.indexOf(String(e.value))&&(this.setSelected(e,!0),!0)},this),this.options.source.data&&e.appendChild(this.selectpicker.main.optionQueue),this.$element.trigger("changed"+E,x),this.$newElement.hasClass(j.SHOW)&&(this.multiple?this.setOptionStatus(!0):"number"==typeof(s=(e.options[e.selectedIndex]||{}).liIndex)&&(this.setSelected(this.selectedIndex,!1),this.setSelected(s,!0))),this.render(),x=null,this.$element},changeAll:function(e){if(this.multiple){void 0===e&&(e=!0);var t=this.$element[0],i=0,s=0,o=T.call(this);t.classList.add("bs-select-hidden");for(var n=0,l=this.selectpicker.current.data,a=l.length;n<a;n++){var r=l[n],h=r.option;h&&!r.disabled&&"divider"!==r.type&&(r.selected&&i++,h.selected=e,!0===(r.selected=e))&&s++}t.classList.remove("bs-select-hidden"),i!==s&&(this.setOptionStatus(),x=[null,null,o],this.$element.triggerNative("change"))}},selectAll:function(){return this.changeAll(!0)},deselectAll:function(){return this.changeAll(!1)},toggle:function(e,t){var i=void 0===t;(e=e||window.event)&&e.stopPropagation(),!1===i&&(e=this.$newElement[0].classList.contains(j.SHOW),i=!0===t&&!1===e||!1===t&&!0===e),i&&this.$button.trigger("click.bs.dropdown.data-api")},open:function(e){this.toggle(e,!0)},close:function(e){this.toggle(e,!1)},keydown:function(e){var t,i,s,o,n=y(this),l=n.hasClass("dropdown-toggle"),a=(l?n.closest(".dropdown"):n.closest(k.MENU)).data("this"),r=a.findLis(),h=!1,l=9===e.which&&!l&&!a.options.selectOnTab,d=X.test(e.which)||l,c=a.$menuInner[0].scrollTop,p=!0===a.isVirtual()?a.selectpicker.view.position0:0;if(!(112<=e.which&&e.which<=123))if(!(t=a.$menu.hasClass(j.SHOW))&&(d||48<=e.which&&e.which<=57||96<=e.which&&e.which<=105||65<=e.which&&e.which<=90)&&(a.$button.trigger("click.bs.dropdown.data-api"),a.options.liveSearch))a.$searchbox.trigger("focus");else{if(27===e.which&&t&&(e.preventDefault(),a.$button.trigger("click.bs.dropdown.data-api").trigger("focus")),d){if(!r.length)return;-1!==(d=(i=a.selectpicker.main.elements[a.activeIndex])?Array.prototype.indexOf.call(i.parentElement.children,i):-1)&&a.defocusItem(i),38===e.which?(-1!==d&&d--,d+p<0&&(d+=r.length),a.selectpicker.view.canHighlight[d+p]||-1==(d=a.selectpicker.view.canHighlight.slice(0,d+p).lastIndexOf(!0)-p)&&(d=r.length-1)):40!==e.which&&!l||(++d+p>=a.selectpicker.view.canHighlight.length&&(d=a.selectpicker.view.firstHighlightIndex),a.selectpicker.view.canHighlight[d+p])||(d=d+1+a.selectpicker.view.canHighlight.slice(d+p+1).indexOf(!0)),e.preventDefault();var u=p+d;38===e.which?0===p&&d===r.length-1?(a.$menuInner[0].scrollTop=a.$menuInner[0].scrollHeight,u=a.selectpicker.current.elements.length-1):h=(o=(s=a.selectpicker.current.data[u]).position-s.height)<c:40!==e.which&&!l||(d===a.selectpicker.view.firstHighlightIndex?(a.$menuInner[0].scrollTop=0,u=a.selectpicker.view.firstHighlightIndex):h=c<(o=(s=a.selectpicker.current.data[u]).position-a.sizeInfo.menuInnerHeight)),i=a.selectpicker.current.elements[u],a.activeIndex=a.selectpicker.current.data[u].index,a.focusItem(i),a.selectpicker.view.currentActive=i,h&&(a.$menuInner[0].scrollTop=o),(a.options.liveSearch?a.$searchbox:n).trigger("focus")}else if(!n.is("input")&&!K.test(e.which)||32===e.which&&a.selectpicker.keydown.keyHistory){var m,g=[];e.preventDefault(),a.selectpicker.keydown.keyHistory+=Y[e.which],a.selectpicker.keydown.resetKeyHistory.cancel&&clearTimeout(a.selectpicker.keydown.resetKeyHistory.cancel),a.selectpicker.keydown.resetKeyHistory.cancel=a.selectpicker.keydown.resetKeyHistory.start(),m=a.selectpicker.keydown.keyHistory,/^(.)\1+$/.test(m)&&(m=m.charAt(0));for(var f=0;f<a.selectpicker.current.data.length;f++){var _=a.selectpicker.current.data[f];b(_,m,"startsWith",!0)&&a.selectpicker.view.canHighlight[f]&&g.push(_.index)}g.length&&(p=0,r.removeClass("active").find("a").removeClass("active"),1===m.length&&(-1===(p=g.indexOf(a.activeIndex))||p===g.length-1?p=0:p++),h=0<c-(s=a.selectpicker.main.data[l=g[p]]).position?(o=s.position-s.height,!0):(o=s.position-a.sizeInfo.menuInnerHeight,s.position>c+a.sizeInfo.menuInnerHeight),i=a.selectpicker.main.elements[l],a.activeIndex=g[p],a.focusItem(i),i&&i.firstChild.focus(),h&&(a.$menuInner[0].scrollTop=o),n.trigger("focus"))}t&&(32===e.which&&!a.selectpicker.keydown.keyHistory||13===e.which||9===e.which&&a.options.selectOnTab)&&(32!==e.which&&e.preventDefault(),a.options.liveSearch&&32===e.which||(a.$menuInner.find(".active a").trigger("click",!0),n.trigger("focus"),a.options.liveSearch)||(e.preventDefault(),y(document).data("spaceSelect",!0)))}},mobile:function(){this.options.mobile=!0,this.$element[0].classList.add("mobile-device")},refresh:function(){var e=this,t=y.extend({},this.options,d(this.$element),this.$element.data());this.options=t,this.options.source.data?(this.render(),this.buildList()):this.fetchData(function(){e.render(),e.buildList()}),this.checkDisabled(),this.setStyle(),this.setWidth(),this.setSize(!0),this.$element.trigger("refreshed"+E)},hide:function(){this.$newElement.hide()},show:function(){this.$newElement.show()},remove:function(){this.$newElement.remove(),this.$element.remove()},destroy:function(){this.$newElement.before(this.$element).remove(),(this.$bsContainer||this.$menu).remove(),this.selectpicker.view.titleOption&&this.selectpicker.view.titleOption.parentNode&&this.selectpicker.view.titleOption.parentNode.removeChild(this.selectpicker.view.titleOption),this.$element.off(E).removeData("selectpicker").removeClass("bs-select-hidden selectpicker"),y(window).off(E+"."+this.selectId)}};var ee=y.fn.selectpicker;function te(){return D.major<5?y.fn.dropdown?(y.fn.dropdown.Constructor._dataApiKeydownHandler||y.fn.dropdown.Constructor.prototype.keydown).apply(this,arguments):void 0:C.dataApiKeydownHandler}y.fn.selectpicker=J,y.fn.selectpicker.Constructor=P,y.fn.selectpicker.noConflict=function(){return y.fn.selectpicker=ee,this},y(document).off("keydown.bs.dropdown.data-api").on("keydown.bs.dropdown.data-api",":not(.bootstrap-select) > ["+k.DATA_TOGGLE+"]",te).on("keydown.bs.dropdown.data-api",":not(.bootstrap-select) > .dropdown-menu",te).on("keydown"+E,".bootstrap-select ["+k.DATA_TOGGLE+'], .bootstrap-select [role="listbox"], .bootstrap-select .bs-searchbox input',P.prototype.keydown).on("focusin.modal",".bootstrap-select ["+k.DATA_TOGGLE+'], .bootstrap-select [role="listbox"], .bootstrap-select .bs-searchbox input',function(e){e.stopPropagation()}),document.addEventListener("DOMContentLoaded",function(){y(".selectpicker").each(function(){var e=y(this);J.call(e,e.data())})})}(e)}),function(y,S,e){"use strict";var t,i,p,s,o,n=window.angular.module("ejangular",[]),T={firstCap:function(e){return e.charAt(0).toUpperCase()+e.slice(1)},generatePropMap:function(e,t,i,s){var o,n,l=t||{};for(n in s?s+=".":s="",i=i||"",e)o=i+T.firstCap(n.toLowerCase()),S.isPlainObject(e[n])&&T.generatePropMap(e[n],l,o,s+n),l[o]=s+n;return l},getModel:function(e,t,i,s,o,n,l){var a,r,h,d,c,p,u,m,g,f,_,b={},v=t.$attr||t,w=!e;for(p in e=e||(t===v?{}:v),l=l||"",v)if(h=!0,d=c=null,w||"e"===p[0]&&/[A-Z]/.test(p[1])){if(r=t[p]||"",w||(p=p.slice(1)),"object"==typeof r){if(u=w&&e[p]||p,!(r instanceof Array)){for(f in g={},r)a=r.$attr[f],a&&(g[a]=T.getModel(null,r[f],i,s,o,n,l+u+"."+a));r=g,(a=S.getObject(u,b))&&y.extend(!0,a,r);continue}for(m=0;m<r.length;m++)r[m]=T.getModel(null,r[m],i,s,o,n,l+u+"["+m+"]");S.createObject(u,r,b);continue}if(a=e[p]||p,!1===(h=!isNaN(r)||/^['"].+['"]$/.test(r))&&(-1===(h=r.indexOf("["))?h=!(r.split(".")[0]in i):(h=!(_=T.buildProperty(i,r)).available)||(d=_.getter,c=_.setter)),!0===h){S.createObject(a,T.processData(r.replace(/^['"]|['"]$/g,"")),b);continue}s.push({key:r,value:l+a}),d=d||S.getObject,c=c||S.createObject,r=w||-1===o.indexOf(a)||n&&"V"===p[0]&&"Value"===p?d(r,i):T.addTwoWays(r,i,d(r,i)),S.createObject(a,r,b)}return b},buildProperty:function(e,t){var i=new Function("prop","instance","with (instance) { \nreturn "+t.replace(/^([^\[.]+)/,"instance['$1']")+"\n}"),s=new Function("prop","val","instance","with (instance) {"+t.replace(/^([^\[.]+)/,"instance['$1']")+" = val;\n}");return"$$ejProperties"in e||(e.$$ejProperties={}),e.$$ejProperties[t]={getter:i,setter:s},{available:!S.isNullOrUndefined(i(t,e)),getter:i,setter:s}},addTwoWays:function(t,i,s){var o=S.createObject;return"$$ejProperties"in i&&t in i.$$ejProperties&&(o=i.$$ejProperties[t].setter),function(e){if(S.isNullOrUndefined(e))return s;o(t,s=e,i),T.applyScope(i)}},processData:function(e){return"true"===e||"false"!==e&&(+e+""===e?+e:e)},addWatches:function(e,t,i,s){for(var o,n,l,a=0;a<t.length;a++)o="$watch",n=S.getObject,l=t[a].key,e[o=(n="$$ejProperties"in e&&l in e.$$ejProperties?e.$$ejProperties[l].getter:n)(l,e)instanceof Array?"$watchCollection":o](l,S.proxy(s,e,{control:i,watch:t[a]}))},raise:function(e,t,i){var s;t===i||!((s="function"==typeof(s=S.getObject(e.watch.value,e.control.model))?s():s)!==t||s instanceof Array)||s===i&&s instanceof Array||(-1===e.control.observables.indexOf(e.watch.value)||"editor"===e.control.type&&"value"===e.watch.value||(t=T.addTwoWays(e.watch.key,this,t)),e.control.option(e.watch.value,t,t instanceof Array))},angToEjProp:function(e,t){for(var i in t)if(t[i]===e)return i},modelChange:function(t,i){var e,s=S.getObject,o=S.createObject;"$$ejProperties"in t&&i in t.$$ejProperties&&(e=t.$$ejProperties[i],s=e.getter,o=e.setter),this.option("_change",function(e){e.value!==s(i,t)&&(o(i,e.value,t),T.applyScope(t))})},getDirectiveName:function(e){var t;return e.length<4?"":(t="m"===e[2]?4:3,e.slice(0,t)+e.slice(t).toLowerCase())},applyScope:function(e){setTimeout(function(){e.$digest()},0)},loadTags:function(e,t){var i,s,o,n,l=e;if(!l)for(l={},o=0;o<t.length;o++){for(i=t[o].attr||[],s={},n=0;n<i.length;n++)"object"==typeof i[n]?s["e-tag"]=T.loadTags(null,i[n]):s[i[n].toLowerCase().replace(/\./g,"-")]=i[n];l["e-"+t[o].tag.toLowerCase().replace(/\./g,"-")]={field:t[o].tag,attr:s,content:t[o].content,singular:(t[o].singular||t[o].tag.replace(/s$/,"")).replace(/\./g,"-")}}return l},getTagValues:function(e,t){var i,s,o=y(t).children(),n={$attr:{}};if(0!==o.length)for(i=0;i<o.length;i++){var l,a,r=y(o.get(i)),h=e[r.prop("tagName").toLowerCase()];if(!h){if(!(a=r[0].attributes[0]))continue;if(a=a.nodeName,!(h=e[a]))continue}a="e-"+h.singular,s=(l=r.children(a+",["+a+"]")).toArray().map(function(e){var t=T.readAttributes(e,h.attr);return h.content?e.innerHTML.length&&(t[h.content]=e.innerHTML,t.$attr[h.content]=h.content):h.attr["e-tag"]&&(e=T.getTagValues(h.attr["e-tag"],e),y.extend(!0,t||{},e)),t}).filter(function(e){return e}),l.remove(),r.remove(),s.length&&(T.createAndAddAttr(h.field,s,n),n.$attr[h.field.toLowerCase().replace(/\..+/g,"")]=h.field.replace(/\..+/g,""))}return n},readAttributes:function(e,t){for(var i,s,o=e.attributes,n={},l={},a=0;a<o.length;a++)n[i=(s=t[s=o[a].nodeName.replace(/^e-/i,"").toLowerCase()]||s).toLowerCase().replace(/\.([a-z]?)/g,function(e,t){return t.toUpperCase()})]=o[a].value||o[a].nodeValue,l[i]=s;return o.length&&(n.$attr=l),n},childRaise:function(e,t,i){var s;t!==i&&((s=S.getArrayObject(e.watch.value,e.control.model))!==t||s instanceof Array)&&(S.setArrayObject(e.watch.value,t,e.control.model),s=T.parseFnAndIndex(e.watch.value),e.control[s[0]]&&e.control[s[0]](s[1],s[2],t,i))},parseFnAndIndex:function(e){for(var t="",i=e.lastIndexOf("]"),s=T.getAllFnIndices(e,[]),o={},n=0;n<s.length;n++)t+="_"+s[n].prop,o[s[n].prop]=s[n].index;return[t.replace(/\./g,"_"),o,e.slice(i+1)]},getAllFnIndices:function(e,t){var i,s=e.indexOf("[");return-1===s?null:(i=e.indexOf("]"),t.push({index:parseInt(e.substring(s+1,i),10),prop:e.substring(0,s)}),T.getAllFnIndices(e.slice(i+1),t),t)},addChildTwoway:function(e,t,i){for(var s={},o=S.createObject,n=0;n<t.length;n++)s[t[n].value]=t[n].key;e._notifyArrayChange=function(e,t){e=s[e];e&&((o="$$ejProperties"in i&&e in i.$$ejProperties?i.$$ejProperties[e].setter:o)(e,t,i),T.applyScope(i)),o=S.createObject}},refreshTemplate:function(e,t,i){var s,o,n=y(e).find(".ej-angular-template");for(s in i)(o=n.filter("."+i[s].key)).length?t(o.not(".ng-scope"))(i[s].scope):i[s].scope.$destroy()},iterateAndGetModel:function(e,t,i,s){var o,n,l,a;if(e instanceof Array)for(l=0;l<e.length;l++)e[l]=T.getModel(null,e[l],i,t,[],!1,(s.endsWith(".")?s.slice(0,-1):s)+"["+l+"]");else for(a in e)"$"!==a.slice(0,1)&&(n=e.$attr&&e.$attr[a]?e.$attr[a]:a,o=T.iterateAndGetModel(e[a],t,i,s+n+"."),delete e[a],e[n]=o);return e},createAndAddAttr:function(e,t,i){for(var s,o=e.split("."),e=i||window,n=e,l=o.length,a=0;a<l;a++)s=o[a].toLowerCase(),a+1==l?(s in n||!n.$attr||(n.$attr[s]=o[a]),n[s]=S.isNullOrUndefined(t)?{$attr:{}}:t):S.isNullOrUndefined(n[s])&&(n.$attr&&(n.$attr[s]=o[a]),n[s]={$attr:{}}),n=n[s];return e}};for(o in S.getArrayObject=function(e,t){return e=e.replace(/\[([0-9]+)]/g,".$1."),S.getObject(e,t)},S.setArrayObject=function(e,t,i){return e=e.replace(/\[([0-9]+)]/g,".$1."),S.createObject(e,t,i)},t={transclude:{transclude:!0,template:function(){return"<div ng-transclude></div>"}},defaults:{terminal:!0}},i=function(d,c){p[d]=T.generatePropMap(c.defaults),c.observables=c.observables||[],c._notifyArrayChange=function(){};var e=y.extend({},t[c.type]||t.defaults,c.angular);n.directive(T.getDirectiveName(d),["$compile",function(h){return y.extend({restrict:"CEA",link:function(e,t,i){var s,o,n=[],l="editor"===c.type,a=T.getModel(p[d],i,e,n,c.observables,l),r=[];c._tags&&c._tags.length&&(s=c["ob.tags"]=T.loadTags(c["ob.tags"],c._tags),s=T.getTagValues(s,t),delete(s=T.iterateAndGetModel(s,r,e,"")).$attr,S.copyObject(a,s)),o=y(t)[d](a).data(d),T.addWatches(e,n,o,T.raise),r.length&&(T.addWatches(e,r,o,T.childRaise),T.addChildTwoway(o,r,e)),l&&T.modelChange.apply(o,[e,i.eValue]),"tmpl.$newscope"in o&&T.refreshTemplate(t,h,o["tmpl.$newscope"]),o.element.on(d+"refresh",function(){"tmpl.$newscope"in o&&T.refreshTemplate(t,h,o["tmpl.$newscope"])}),e.$on("$destroy",function(){var e,t;for(t in o.element.off(d+"refresh"),o.destroy(),e=(o=void 0)["tmpl.$newscope"]||{})e[t].scope.$destroy(),delete e[t];d=void 0})}},e)}])},n.directive("ejTemplate",["$compile",function(o){return{restrict:"EA",priority:999,terminal:!0,link:function(e,t,i){var s=e.$parent.$new(!0);e.ejObject&&(s.ejId=e.ejId,s.ejObject=e.ejObject,s.items=e.items,s.model=e.model,s.data=e.items[i.ejProp],o(t.children(),e)(s),e.$parent.$$phase||s.$digest())}}}]),p={},s=e.registeredWidgets)i(s[o].name,s[o].proto);Array.prototype.map=Array.prototype.map||function(e,t){for(var i=[],s=0;s<this.length;)i.push(e.call(t,this[s++]));return i},S.template["text/ng-template"]=function(e,t,i,s){var o,n=angular.element(e.element[0]),l=e["tmpl.$newscope"];return l&&l[t]||((l=l||{})[t]={scope:n.scope().$new(!0),key:S.getGuid("tmpl")},(o=l[t].scope).model=e.model,o.ejId=e._id,(o.ejObject=e)["tmpl.$newscope"]=l),o=l[t].scope,S.isNullOrUndefined(s)?(s=1,o.items=[i]):(o.items||(o.items=[]),o.items[s]=i),(n=t||"").startsWith("#")&&(n=y(n).html()),"<div ej-template ej-prop='"+s+"' class='"+l[t].key+" ej-angular-template'>"+n+"</div>"},S.template.render=S.template["text/ng-template"]}(window.jQuery,window.Syncfusion,window.Syncfusion.widget),function(e){"function"==typeof define&&define.amd?define(["./../common/ej.core.min"],e):e()}(function(){"use strict";var i,e=this&&this.__extends||function(e,t){function i(){this.constructor=e}for(var s in t)t.hasOwnProperty(s)&&(e[s]=t[s]);e.prototype=null===t?Object.create(t):(i.prototype=t.prototype,new i)},e=(i=ej.WidgetBase,e(t,i),t.prototype.setModel=function(e,t){this.setModel(e,t)},t.prototype.option=function(e,t){this.option(e,t)},t.prototype.triggerEvents=function(e,t){var i;switch(e){case"click":case"hover":case"tracking":case"beforeOpen":case"open":i=this._trigger(e,t);break;case"beforeClose":case"close":i=this._trigger(e,t)}return i},t.prototype.enable=function(){this.tooltip.hasClass("e-disable")&&(this.model.enabled=!0,this.tooltip.removeClass("e-disable"))},t.prototype.disable=function(){this.tooltip.hasClass("e-disable")||(this.model.enabled=!1,this.tooltip.addClass("e-disable"))},t.prototype.show=function(e,t){var i;this.model.enabled&&(ej.isNullOrUndefined(e)?(i=null==this.model.target?this.element:$(this.element).find(this.model.target+":first"),this._positionElement(i)):this._positionElement(e),ej.isNullOrUndefined(t)?this._showTooltip():"string"==typeof t?$(this.tooltip).show(t):"function"==typeof t&&t.call.apply(this.tooltip))},t.prototype.hide=function(e){this.model.enabled&&(ej.isNullOrUndefined(e)?this._hideTooltip():"string"==typeof e?$(this.tooltip).hide(e):"function"==typeof e&&e.call.apply(this.tooltip))},t.prototype._destroy=function(){$(this.tooltip).remove(),this.tooltip=null},t.prototype._setModel=function(e){var t,i;for(t in e)switch(t){case"height":this._setHeight(e[t]);break;case"width":this._setWidth(e[t]);break;case"enabled":this._enabled(e[t]);break;case"content":this._setContent(e[t]);break;case"title":this.model.title=e[t],null==this.model.title?($(this.tooltipHeader).remove(),this.tooltipHeader=null,this.tooltipTitle=null,this.model.closeMode===ej.Tooltip.CloseMode.Sticky&&this._iconRender()):ej.isNullOrUndefined(this.tooltipHeader)?this._createHeader():$(this.tooltipTitle).html(this.model.title),this.tooltipPos.height=$(this.tooltip).outerHeight();break;case"associate":this.model.associate=e[t],this._wireMouseEvents(!1),this._wireMouseEvents(!0);break;case"position":this._setPosition(e[t]);break;case"collision":this.model.collision=e[t];break;case"closeMode":void 0!==e[t]&&(this.model.closeMode=e[t],this.model.closeMode==ej.Tooltip.CloseMode.Sticky?this._iconRender():($(this.tooltipClose).remove(),this.tooltipClose=null),this.tooltipPos.height=$(this.tooltip).outerHeight());break;case"cssClass":this._setSkin(e[t]);break;case"showShadow":this._shadowEffect(e[t],this.model.position);break;case"isBalloon":ej.isNullOrUndefined(e[t])||(this.model.isBalloon=e[t],this.model.isBalloon?this._renderArrow():($(this.tip).remove(),this.tip=null));break;case"animation":i=e[t],this.model.animation=$.extend(!0,this.model.animation,i),this.model.animation.effect!=ej.Tooltip.Effect.None?(this._off($(this.tooltip),"mouseenter",this._onTooltipMouseEnter),this._off($(this.tooltip),"mouseleave",this._onTooltipMouseLeave)):this.model.animation.effect==ej.Tooltip.Effect.None&&(this._on($(this.tooltip),"mouseenter",this._onTooltipMouseEnter),this._on($(this.tooltip),"mouseleave",this._onTooltipMouseLeave));break;case"enableRTL":this._setRTL(e[t]);break;case"target":this._wireTriggerEvents(!1),this.model.target=e[t],this._wireTriggerEvents(!0),this._renderTarget();break;case"trigger":this._setTrigger(e[t]);break;case"showRoundedCorner":this.model.showRoundedCorner=e[t],this._roundedCorner(e[t]);break;case"allowKeyboardNavigation":this.model.allowKeyboardNavigation=e[t],this.model.allowKeyboardNavigation?this._on($(window),"keydown",this._keyDown):this._off($(window),"keydown",this._keyDown)}},t.prototype._enabled=function(e){e?this.enable(e):this.disable(e),this.model.enabled=e},t.prototype._shadowEffect=function(e,t){this.model.showShadow=e;var i=null;if($(this.tooltip).removeClass("e-tooltipShadowLeft e-tooltipShadowRight"),this.model.showShadow){if(this.model.isBalloon)switch(t.stem.horizontal){case"center":i="top"!=t.stem.vertical&&"bottom"==t.stem.vertical?"e-tooltipShadowRight":"e-tooltipShadowLeft";break;case"right":i="center"==t.target.horizontal&&"top"==t.stem.vertical?"e-tooltipShadowLeft":"e-tooltipShadowRight";break;case"left":i="center"==t.target.horizontal&&"bottom"==t.stem.vertical?"e-tooltipShadowRight":"e-tooltipShadowLeft"}else i="e-tooltipShadowLeft";$(this.tooltip).addClass(i)}},t.prototype._setContent=function(e){this.model.content=e,$(this.tooltipContent).html(this.model.content),this.tooltipPos.height=$(this.tooltip).outerHeight(),this.tooltipPos.width=$(this.tooltip).outerWidth()},t.prototype._setPosition=function(e){this.model.position.stem=$.extend(!0,this.model.position.stem,e.stem),this.model.position.target=$.extend(!0,this.model.position.target,e.target)},t.prototype._setTrigger=function(e){this._wireTriggerEvents(!1),this.model.trigger=e,this._wireTriggerEvents(!0)},t.prototype._init=function(){this.id=this.element[0].id,this.positionTarget=$.extend(!0,{},this.model.position.target),this.positionTooltip=$.extend(!0,{},this.model.position.stem),this.tipSize=$.extend(!0,{},this.model.tip.size),this._initialize(),this._render(),this.enable(this.model.enabled),this._wireEvents(!0)},t.prototype._initialize=function(){ej.isNullOrUndefined(this.model.target)?ej.isNullOrUndefined(this.model.content)&&!ej.isNullOrUndefined(this.element.attr("title"))&&(this.model.content=this.element.attr("title"),this.element.attr("data-content",this.model.content),this.element.removeAttr("title")):this._renderTarget()},t.prototype._wireEvents=function(e){var t=e?"_on":"_off";this._wireTriggerEvents(e),this.model.allowKeyboardNavigation&&this[t]($(window),"keydown",this._keyDown),null!=this.model.target?this[t](this.element,"scroll",this.model.target,this._hideTooltip):this[t](this.element,"scroll",this._hideTooltip),this[t]($(this.tooltip),"mouseenter",this._onTooltipMouseEnter),this[t]($(this.tooltip),"mouseleave",this._onTooltipMouseLeave),this[t]($(window),"resize",this._hideTooltip),this[t]($(window),"touchend",this._docTouchEndHandler)},t.prototype._wireTriggerEvents=function(e){var t=e?"_on":"_off";this._wireMouseEvents(e),e=this.model.trigger==ej.Tooltip.Trigger.Click?"click touchstart":this.model.trigger==ej.Tooltip.Trigger.Focus?"focus touchstart":"mouseenter touchstart",null!=this.model.target?this[t](this.element,e,this.model.target,this._targetHover):this[t](this.element,e,this._targetHover),this.model.trigger==ej.Tooltip.Trigger.Focus?null!=this.model.target?this[t](this.element,"blur",this.model.target,this._hideTooltip):this[t](this.element,"blur",this._hideTooltip):null!=this.model.target?this[t](this.element,"mouseleave",this.model.target,this._onMouseOut):this[t](this.element,"mouseleave",this._onMouseOut)},t.prototype._wireMouseEvents=function(e){e=e?"_on":"_off";this.model.associate!=ej.Tooltip.Associate.MouseEnter&&this.model.associate!=ej.Tooltip.Associate.MouseFollow||(null!=this.model.target?this[e](this.element,"mousemove touchstart",this.model.target,this._tooltipMove):this[e](this.element,"mousemove touchstart",this._tooltipMove))},t.prototype._render=function(){this.tooltip=ej.buildTag("div.e-tooltip-wrap e-widget","",{},{role:"tooltip","aria-readonly":"true","aria-hidden":"true","aria-describedby":this.id+"_content",id:this.id+"_Main"}),this.tooltipInter=ej.buildTag("div.e-tipContainer","",{},{}),this.tooltip.append(this.tooltipInter),this.model.isBalloon&&this._renderArrow(),$(this.model.containment).append(this.tooltip),this._setHeight(this.model.height),this._setWidth(this.model.width),this._createHeader(),this._tooltipContent(),this.model.cssClass&&this.tooltip.addClass(this.model.cssClass),this.model.showRoundedCorner&&this._roundedCorner(this.model.showRoundedCorner),this.model.enableRTL&&this._setRTL(this.model.enableRTL),$(this.tooltip).css({top:"auto",left:"auto"}),this.tooltipPos={width:$(this.tooltip).outerWidth(),height:$(this.tooltip).outerHeight(),left:$(this.tooltip).offset().left,top:$(this.tooltip).offset().top,position:"absolute"},ej.isNullOrUndefined(this.model.target)&&(this._containerCalc(this.element),this._positionElement(this.element))},t.prototype._containerCalc=function(e){ej.isNullOrUndefined(e)&&(e=this.element);e=$(e).offset();this.containerSize={height:"body"==this.model.containment?$(window).innerHeight()||document.documentElement.clientHeight||document.body.clientHeight:$(this.model.containment).height(),width:"body"==this.model.containment?$(window).innerWidth()||document.documentElement.clientWidth||document.body.clientWidth:$(this.model.containment).width()},this.containerSize.left="body"!=this.model.containment&&"static"==$(this.model.containment).css("position")?$(this.model.containment).offset().left-$(this.model.containment).offsetParent().offset().left:0,this.containerSize.top="body"!=this.model.containment&&"static"==$(this.model.containment).css("position")?$(this.model.containment).offset().top-$(this.model.containment).offsetParent().offset().top:0,e.left-="body"!=this.model.containment?("static"==$(this.model.containment).css("position")?$(this.model.containment).offsetParent():$(this.model.containment)).offset().left:0,e.top-="body"!=this.model.containment?("static"==$(this.model.containment).css("position")?$(this.model.containment).offsetParent():$(this.model.containment)).offset().top:0,this.targetPos.left=e.left,this.targetPos.top=e.top},t.prototype._setHeight=function(e){this.model.height=e,!isNaN(+e)&&isFinite(e)?$(this.tooltip).css("height",e+"px"):$(this.tooltip).css("height",e),this.tooltipPos.height=$(this.tooltip).outerHeight()},t.prototype._setWidth=function(e){this.model.width=e,"auto"!=this.model.width&&(e=!isNaN(+e)&&isFinite(e)?e+"px":e,$(this.tooltip).css("max-width",e),$(this.tooltip).css("min-width","0px")),$(this.tooltip).css("width",e),this.tooltipPos.height=$(this.tooltip).outerHeight()},t.prototype._setRTL=function(e){(this.model.enableRTL=e)?this.tooltip.addClass("e-rtl"):this.tooltip.removeClass("e-rtl")},t.prototype._setSkin=function(e){this.model.cssClass!=e&&(this.tooltip.removeClass(this.model.cssClass).addClass(e),this.model.cssClass=e)},t.prototype._roundedCorner=function(){this.model.showRoundedCorner?this.tooltip.addClass("e-corner"):this.tooltip.removeClass("e-corner")},t.prototype._renderArrow=function(){ej.isNullOrUndefined(this.tip)&&(this.tip=ej.buildTag("div.e-arrowTip"," ",{id:this.id+"_eTip"},{}),$(this.tip).append("<div class='e-arrowTipOuter'></div>").append("<div class='e-arrowTipInner'></div>"),$(this.tip).insertBefore(this.tooltipInter))},t.prototype._adjustArrow=function(e){var t,i,s=$(this.tooltip).width(),o=$(this.tooltip).height(),n=e.stem,l=e.target,a={tipHeight:0,tipWidth:0},a="right"==l.horizontal||"left"==l.horizontal?(t="left"==n.horizontal?-this.model.tip.size.height:"right"==n.horizontal?s:s/2-this.tipSize.width/2,i="center"!=n.horizontal?"top"==n.vertical?5:"center"==n.vertical?o/2-this.tipSize.width/2:o-5-this.tipSize.width:"top"==n.vertical?-this.tipSize.height:"bottom"==n.vertical?o:this.tooltipPos.height/2-this.tipSize.width/2,this._arrowBinding(e,"horizontal")):(i="top"==n.vertical?-this.tipSize.height:"bottom"==n.vertical?o:o/2-this.tipSize.width/2,t="center"==n.vertical?"left"==n.horizontal?-this.model.tip.size.height:s:"left"==n.horizontal?10:"center"==n.horizontal?this.tooltipPos.width/2-this.tipSize.width/2:s-10-this.tipSize.width,this._arrowBinding(e,"vertical"));this.arrowValue.left=t,this.arrowValue.top=i,$(this.tip).css({height:a.tipHeight+"px",width:a.tipWidth+"px",left:t+"px",top:i+"px",display:"center"==n.horizontal&&"center"==n.vertical?"none":"block"})},t.prototype._arrowBinding=function(e,t){var i,s,o=e.stem,t="horizontal"==t?"center"!=o.horizontal:"center"==o.vertical,o=$(this.tooltip).css("border-top-color"),n=$(this.tooltip).css("background-color"),l=this.model.tip.size.height,a=this.model.tip.size.height-1,r={"border-top":"none","border-bottom":"none","border-right":"none","border-left":"none"};return t?(i=this.model.tip.size.height,s=this.model.tip.size.width,$(this.tip).find(".e-arrowTipOuter").css(this._arrow(e,l,o,r,"horizontal")),$(this.tip).find(".e-arrowTipInner").css(this._arrow(e,a,n,r,"horizontal"))):(i=this.model.tip.size.width,s=this.model.tip.size.height,$(this.tip).find(".e-arrowTipOuter").css(this._arrow(e,l,o,r,"vertical")),$(this.tip).find(".e-arrowTipInner").css(this._arrow(e,a,n,r,"vertical"))),{tipHeight:s,tipWidth:i}},t.prototype._arrow=function(e,t,i,s,o){var e=e.stem,n="horizontal"==o&&"right"==e.horizontal?"0px":"1px",l="horizontal"!=o&&"bottom"==e.vertical?"0px":"1px";return s["border-top"]="horizontal"==o?t+"px solid transparent":"bottom"==e.vertical?t+"px solid "+i:"none",s["border-bottom"]="horizontal"==o?t+"px solid transparent":"top"==e.vertical?t+"px solid "+i:"none",s["border-right"]="horizontal"==o?"left"==e.horizontal?t+"px solid "+i:"none":t+"px solid transparent",s["border-left"]="horizontal"==o?"right"==e.horizontal?t+"px solid "+i:"none":t+"px solid transparent",t==this.model.tip.size.height-1&&(s.left=n,s.top=l),s},t.prototype._iconRender=function(){this.model.closeMode==ej.Tooltip.CloseMode.Sticky&&(ej.isNullOrUndefined(this.tooltipClose)||$(this.tooltipClose).remove(),this.tooltipClose=ej.buildTag("div .e-icon"," ",{},{id:"_closeIcon"}),null!=this.model.title?$(this.tooltipClose).insertAfter(this.tooltipTitle).addClass("e-close"):$(this.tooltipClose).insertBefore(this.tooltipInter).addClass("e-cross-circle"),this._on($(this.tooltipClose),"click",this._hideTooltip))},t.prototype._renderTarget=function(){this.targetElement=$(this.element).find(this.model.target);for(var e=0;e<this.targetElement.length;e++)ej.isNullOrUndefined($(this.targetElement[e]).attr("title"))||(this.targetElement[e].setAttribute("data-content",this.targetElement[e].title),this.targetElement[e].removeAttribute("title"))},t.prototype._tooltipContent=function(){this.tooltipContent=ej.buildTag("div.e-tipcontent e-def","",{},{id:this.id+"_content"}),$(this.tooltipContent).html(this.model.content).addClass("e-def"),null!=this.model.title?$(this.tooltipContent).insertAfter(this.tooltipHeader):$(this.tooltipContent).appendTo(this.tooltipInter)},t.prototype._positionElement=function(e){this.tooltipPos.width=$(this.tooltip).outerWidth(),this.tooltipPos.height=$(this.tooltip).outerHeight(),this.targetPos.width=$(e).outerWidth(),this.targetPos.height=$(e).outerHeight(),this._containerCalc(e),this.model.associate==ej.Tooltip.Associate.Window?this._browserPosition():this.model.associate==ej.Tooltip.Associate.Axis?this._axisPosition():this.model.associate==ej.Tooltip.Associate.Target&&this._tooltipPosition(this.model.position),this.model.collision!=ej.Tooltip.Collision.None&&this.model.associate==ej.Tooltip.Associate.Target&&this._calcCollision(this.model.position,e)},t.prototype._browserPosition=function(){var e,t;"body"==this.model.containment&&(this.containerSize={height:$(window).innerHeight()||document.documentElement.clientHeight||document.body.clientHeight,width:$(window).innerWidth()||document.documentElement.clientWidth||document.body.clientWidth},e=$.extend(!0,{},this.model.position),t={position:"absolute",left:"auto",top:"auto",bottom:"auto",right:"auto"},ej.isNullOrUndefined(this.tip)||$(this.tip).css({display:"none"}),"right"==this.model.position.target.horizontal?t.right=0:t.left="left"==this.model.position.target.horizontal?0:this.containerSize.width/2-this.tooltipPos.width/2,"top"==this.model.position.target.vertical?t.top=0:"center"==this.model.position.target.vertical?t.top=this.containerSize.height/2-this.tooltipPos.height/2:t.bottom=0,this.model.showShadow&&this._shadowEffect(this.model.showShadow,e),$(this.tooltip).css(t))},t.prototype._tooltipMove=function(e){var t;this.model.closeMode==ej.Tooltip.CloseMode.None&&this.model.enabled&&!(t=this)._isCancel&&(this.model.associate==ej.Tooltip.Associate.MouseFollow?this._mousePosition(e):this.model.associate==ej.Tooltip.Associate.MouseEnter&&(clearTimeout(this.mouseTimer),this.mouseTimer=setTimeout(function(){t.isTrack&&t._mousePosition(e)},300)))},t.prototype._mousePosition=function(e){"touchstart"==e.type?(e.preventDefault(),t=e.touches[0].pageX,i=e.touches[0].pageY):"mousemove"==e.type&&(t=e.pageX,i=e.pageY),this.isCollision=!0,this._containerCalc(e.currentTarget);var t,i,s,o,n,l,a=$.extend(!0,{},this.model.position.stem),r=$.extend(!0,{},this.model.position),h={left:0,top:0},d={left:t,top:i},c={left:t,top:i},p=this.containerSize.left,u=this.containerSize.top,m="body"!=this.model.containment?t-$(this.model.containment).offset().left:t,g="body"!=this.model.containment?i-$(this.model.containment).offset().top:i;for(r.target.horizontal=r.target.vertical="center","body"!=this.model.containment&&(h=("static"==$(this.model.containment).css("position")?$(this.model.containment).offsetParent():$(this.model.containment)).offset()),c.left-=h.left,c.top-=h.top;this.isCollision;)if(d=$.extend(!0,{},c),this.model.isBalloon&&("top"==a.vertical||"bottom"==a.vertical)&&this.tipSize.height,s=this.model.isBalloon&&("right"==a.horizontal||"left"==a.horizontal)?10+this.tipSize.width/2:0,o=0!=this.model.tip.adjust.xValue?this.model.tip.adjust.xValue:7,n=0!=this.model.tip.adjust.yValue?this.model.tip.adjust.yValue:10,l=this.model.isBalloon?"center"!=a.horizontal||"center"!=a.vertical?this.model.tip.size.height:0:2,d.left+="right"==a.horizontal?-this.tooltipPos.width:"left"==a.horizontal?0:-this.tooltipPos.width/2,d.top+="bottom"==a.vertical?-this.tooltipPos.height:"top"==a.vertical?0:-this.tooltipPos.height/2,d.left+="center"!=a.vertical?"right"==a.horizontal?s:"left"==a.horizontal?-s:0:0,d.left+="center"==a.vertical?"right"==a.horizontal?-l:"left"==a.horizontal?+(l+o):0:0,d.top+="top"==a.vertical?+(l+n):"bottom"==a.vertical?-l:0,this.targetElement!=e.currentTarget&&(this.targetElement=e.currentTarget,(d.left<p||d.left+this.tooltipPos.width>p+this.containerSize.width)&&(this.positionTooltip.horizontal=m>=this.tooltipPos.width?"right":this.containerSize.width-m>=this.tooltipPos.width?"left":"center"),d.top<u||d.top+this.tooltipPos.height>this.containerSize.height+u)&&(this.positionTooltip.vertical=g>=this.tooltipPos.height?"bottom":this.containerSize.height-g>=this.tooltipPos.height?"top":"center"),this.positionTooltip.horizontal!=a.horizontal||this.positionTooltip.vertical!=a.vertical)this.isCollision=!0,a=$.extend(!0,{},this.positionTooltip);else if(this.isCollision=!1,$(this.tooltip).css({top:d.top+"px",left:d.left+"px",position:"absolute",right:"auto",bottom:"auto"}),r.stem=$.extend(!0,{},this.positionTooltip),this.model.showShadow&&this._shadowEffect(this.model.showShadow,r),this.model.isBalloon&&this._adjustArrow(r),this._showTooltip(),this.model.associate==ej.Tooltip.Associate.MouseEnter&&(this.isTrack=!1),this.model.associate==ej.Tooltip.Associate.MouseFollow&&this.triggerEvents("tracking",{position:this.model.position,event:e}))return},t.prototype._axisPosition=function(){var e,t,i=$.extend(!0,{},this.model.position);"number"==typeof this.model.position.target.horizontal&&(e=this.model.position.target.horizontal.toString()),"number"==typeof this.model.position.target.vertical&&(t=this.model.position.target.vertical.toString()),e=parseInt(e),t=parseInt(t),ej.isNullOrUndefined(this.tip)||$(this.tip).css({display:"none"}),this.model.showShadow&&this._shadowEffect(this.model.showShadow,i),this.model.isBalloon&&this._adjustArrow(i),isFinite(e)&&isFinite(t)&&$(this.tooltip).css({top:t,left:e,position:"absolute"})},t.prototype._tooltipPosition=function(e){var t=$.extend(!0,{},e.stem),i=$.extend(!0,{},e.target),s=$.extend(!0,{},this.targetPos),o="top"===t.vertical||"bottom"===t.vertical?5+this.tipSize.width/2:0,n="right"===t.horizontal||"left"===t.horizontal?10+this.tipSize.width/2:0,l="center"!==t.horizontal?this.model.tip.adjust.xValue:"center"!==t.vertical?this.model.tip.adjust.yValue:0,a=this.model.isBalloon?"center"!==t.horizontal||"center"!==t.vertical?this.model.tip.size.height:0:2;this.model.isBalloon;s.left+="right"===i.horizontal?this.targetPos.width:"left"===i.horizontal?0:this.targetPos.width/2,s.top+="bottom"===i.vertical?this.targetPos.height:"top"===i.vertical?0:this.targetPos.height/2,s.left+="right"===t.horizontal?-this.tooltipPos.width:"left"===t.horizontal?0:-this.tooltipPos.width/2,s.top+="bottom"===t.vertical?-this.tooltipPos.height:"top"===t.vertical?0:-this.tooltipPos.height/2,s.left+="center"!==i.horizontal||"center"===t.vertical?"right"===t.horizontal?-a:"left"===t.horizontal?a:0:0,s.top+="center"===i.horizontal||"center"===t.horizontal?"bottom"===t.vertical?-a:"top"===t.vertical?a:0:0,s.left+="center"===i.horizontal&&"center"!==t.vertical?"right"===t.horizontal?n:"left"===t.horizontal?-n:0:0,s.top+="center"!==i.horizontal&&"center"!==t.horizontal?"top"===t.vertical?-o:"bottom"===t.vertical?o:0:0,this.tooltipPos.left=s.left,this.tooltipPos.top=s.top,this.model.collision===ej.Tooltip.Collision.None&&(this.model.isBalloon&&this._adjustArrow(e),this._shadowEffect(this.model.showShadow,e),$(this.tooltip).css({top:s.top+"px",left:s.left+"px",position:"absolute"}))},t.prototype._calcCollision=function(e,t){var e=$.extend(!0,{},e),i=$.extend(!0,{},e),s=this.model.tip.size.height,o=!0,n="body"!=this.model.containment?$(t).offset().left-$(this.model.containment).offset().left:$(t).offset().left,t="body"!=this.model.containment?$(t).offset().top-$(this.model.containment).offset().top:$(t).offset().top,l={topSpace:t,rightSpace:this.containerSize.width-(n+this.targetPos.width),bottomSpace:this.containerSize.height-(t+this.targetPos.height),leftSpace:n,centerRight:this.containerSize.width-(n+this.targetPos.width/2),centerLeft:n+this.targetPos.width/2,centerTop:t+this.targetPos.height/2,centerBottom:this.containerSize.height-(t+this.targetPos.height/2),tooltipWidth:this.tooltipPos.width+s,tooltipHeight:this.tooltipPos.height+s};if(this.model.collision===ej.Tooltip.Collision.Fit)this._collisionFit(e,l);else{for(;o;)(i=this._collisionFlip(i,l)).target.horizontal!=e.target.horizontal||i.target.vertical!=e.target.vertical||i.stem.horizontal!=e.stem.horizontal||i.stem.vertical!=e.stem.vertical?(this._tooltipPosition(i),e=$.extend(!0,{},i)):o=!1;o||(this.model.collision==ej.Tooltip.Collision.FlipFit?this._collisionFit(i,l):(this._adjustArrow(i),this._shadowEffect(this.model.showShadow,i),$(this.tooltip).css({top:this.tooltipPos.top+"px",left:this.tooltipPos.left+"px",position:"absolute"})))}},t.prototype._collisionFlip=function(e,t){var i=$.extend(!0,{},this.tooltipPos),s=$.extend(!0,{},e),o=$(this.model.containment).scrollLeft(),n=$(this.model.containment).scrollTop(),l=this.containerSize.left,a=this.containerSize.top;return(i.left+i.width>l+this.containerSize.width+o||i.left<l)&&("center"!=e.target.horizontal?s.target.horizontal=t.leftSpace>=t.tooltipWidth?"left":t.rightSpace>=t.tooltipWidth?"right":"center":s.stem.horizontal=t.centerLeft>=t.tooltipWidth?"right":t.centerRight>=t.tooltipWidth?"left":"center"),i.top<a&&(s.target.vertical=t.bottomSpace>=t.tooltipHeight?"bottom":"center"),i.top+i.height>this.containerSize.height+n+a&&(s.target.vertical=t.topSpace>=t.tooltipHeight?"top":"center"),s.target.horizontal==e.target.horizontal&&s.target.vertical==e.target.vertical||(s.stem.horizontal="center"==s.target.horizontal?t.centerLeft>=t.tooltipWidth?"right":t.centerRight>=t.tooltipWidth?"left":"center":"right"==s.target.horizontal?"left":"right"),s.target.vertical==e.target.vertical&&s.target.horizontal==e.target.horizontal||(s.stem.vertical="center"==s.target.vertical?t.centerTop>=t.tooltipHeight||!(t.centerBottom>=t.tooltipHeight)&&t.centerTop>t.centerBottom?"bottom":"top":"top"==s.target.vertical?"bottom":"top"),s},t.prototype._collisionFit=function(e,t){var i=$.extend(!0,{},this.tooltipPos),s=!1,o=!1,n=1,l=1,a=$(this.model.containment).scrollLeft(),r=$(this.model.containment).scrollTop(),h=this.containerSize.left,d=this.containerSize.top;(i.left<h||i.left+i.width>this.containerSize.width+a+h)&&(n=i.left<h?h:i.left+i.width>this.containerSize.width+a+h?i.left-(i.left+i.width-(this.containerSize.width+h)):1,s=!0),(i.top<d||i.top+i.height>this.containerSize.height+r+d)&&(l=i.top<d?d:i.top+i.height>this.containerSize.height+r+d?i.top-(i.top+i.height-(this.containerSize.height+d)):1,o=!0),$(this.tooltip).css({top:1!=l?l+"px":i.top+"px",left:1!=n?n+"px":i.left+"px",position:"absolute"}),this._adjustArrow(e),a={left:this.arrowValue.left,top:this.arrowValue.top,height:this.model.tip.size.height,width:this.model.tip.size.width,display:$(this.tip).css("display")},this.tooltipPos.top=l=1!=l?l:i.top,this.tooltipPos.left=n=1!=n?n:i.left,h=$(this.tooltip).width(),r=$(this.tooltip).height(),(s||o&&"none"!=a.display)&&(this.model.isBalloon&&(s&&(this.arrowValue.left=this._horizontalAdjustment(e,t)),o)&&(this.arrowValue.top=this._verticalAdjustment(e,t)),this.arrowValue.left==-this.model.tip.size.height||this.arrowValue.left==h||this.arrowValue.top==-this.model.tip.size.height||this.arrowValue.top==r?$(this.tip).css({left:this.arrowValue.left+"px",top:this.arrowValue.top+"px",display:"block"}):$(this.tip).css({left:this.arrowValue.left+"px",top:this.arrowValue.top+"px",display:"none"})),this._shadowEffect(this.model.showShadow,e)},t.prototype._horizontalAdjustment=function(e,t){var i,s={left:this.arrowValue.left,top:this.arrowValue.top};return $(this.tooltip).css({display:"block"}),e.target.horizontal,i=this.model.tip.size.height,e=("center"==e.target.horizontal||"left"!=e.stem.horizontal)&&"center"!=e.target.horizontal&&"right"==e.stem.horizontal?$(this.tip).offset().left+i:$(this.tip).offset().left,$(this.tooltip).css({display:"none"}),e>t.leftSpace&&e+i<t.leftSpace+this.targetPos.width||(e>t.leftSpace+this.targetPos.width||e<t.leftSpace)&&(s.left=t.leftSpace+this.targetPos.width/2-parseInt(this.tooltipPos.left.toString())),s.left},t.prototype._verticalAdjustment=function(e,t){var i,s={left:this.arrowValue.left,top:this.arrowValue.top,height:this.model.tip.size.height,width:this.model.tip.size.width,display:this.arrowValue.display};return $(this.tooltip).css({display:"block"}),e.target.horizontal,i=this.model.tip.size.height,e="center"==e.target.horizontal&&"top"==e.stem.vertical?$(this.tip).offset().top:$(this.tip).offset().top+i,$(this.tooltip).css({display:"none"}),e>t.topSpace&&e<t.topSpace+this.targetPos.height||(e<t.topSpace||e+i>t.topSpace+this.targetPos.height)&&(s.top=t.topSpace+this.targetPos.height/2-parseInt(this.tooltipPos.top.toString())),s.top},t.prototype._createHeader=function(){null!=this.model.title&&(ej.isNullOrUndefined(this.tooltipTitle)&&this._createTitle(),(ej.isNullOrUndefined(this.tooltipContent)?$(this.tooltipHeader).appendTo(this.tooltipInter):$(this.tooltipHeader).insertBefore(this.tooltipContent)).addClass("e-tooltipHeader")),this.model.closeMode==ej.Tooltip.CloseMode.Sticky&&this._iconRender()},t.prototype._hideTooltip=function(){var e;this._isHidden=!0,e=0!=this.model.animation.speed?this.model.animation.speed:this.model.animation.effect==ej.Tooltip.Effect.Slide?200:this.model.animation.effect==ej.Tooltip.Effect.Fade?800:0,1!=this.model.enabled||"block"!=$(this.tooltip).css("display")||this.triggerEvents("beforeClose",{})||(this.model.animation.effect==ej.Tooltip.Effect.Fade?$(this.tooltip).fadeOut(e):this.model.animation.effect==ej.Tooltip.Effect.Slide?$(this.tooltip).slideUp(e):$(this.tooltip).css({display:"none"}),"none"==$(this.tooltip).css("display")&&$(this.tooltip).attr("aria-hidden","true"),this.triggerEvents("close",{}))},t.prototype._showTooltip=function(){var e;this._isHidden&&(e=0!=this.model.animation.speed?this.model.animation.speed:this.model.animation.effect==ej.Tooltip.Effect.Slide?200:this.model.animation.effect==ej.Tooltip.Effect.Fade?800:0,"none"==$(this.tooltip).css("display"))&&1==this.model.enabled&&(this._isHidden=!1,this.model.animation.effect==ej.Tooltip.Effect.Fade?$(this.tooltip).fadeIn(e):this.model.animation.effect==ej.Tooltip.Effect.Slide?$(this.tooltip).slideDown(e):$(this.tooltip).css({display:"block"}),"block"==$(this.tooltip).css("display")&&$(this.tooltip).attr("aria-hidden","false").css({zIndex:ej.getMaxZindex()+1}),this.triggerEvents("open",{}))},t.prototype._tooltipAuto=function(){var e=this;this.timer=setTimeout(function(){e._hideTooltip()},e.model.autoCloseTimeout)},t.prototype._beforeOpenTooltip=function(e){this.positionTooltip=$.extend(!0,{},this.model.position.stem),this.positionTarget=$.extend(!0,{},this.model.position.target),this.targetElement=this.element,ej.isNullOrUndefined(this.model.target)||ej.isNullOrUndefined($(e.currentTarget).attr("data-content"))||(this.model.content=$(e.currentTarget).attr("data-content"),this._setContent(this.model.content))},t.prototype._targetHover=function(e){this.model.enabled&&(this._isHidden?this.triggerEvents("beforeOpen",{event:e})?this._isCancel=!0:(this._isCancel=!1,this._beforeOpenTooltip(e),this.model.associate!=ej.Tooltip.Associate.MouseEnter&&this.model.associate!=ej.Tooltip.Associate.MouseFollow?(ej.isNullOrUndefined(this.model.target)?this._positionElement(this.element):this._positionElement(e.currentTarget),$(this.tooltip).stop(!0,!0),clearTimeout(this.timer),this._showTooltip(),this.model.closeMode==ej.Tooltip.CloseMode.Auto&&this._tooltipAuto(),"click"==e.type?this.triggerEvents("click",{event:e}):this.triggerEvents("hover",{event:e})):this.isTrack=!0):ej.isNullOrUndefined(this.model.target)||this._positionElement(e.currentTarget))},t.prototype._onMouseOut=function(){this.model.enabled&&!this._isHidden&&(this.model.closeMode==ej.Tooltip.CloseMode.None&&this._hideTooltip(),clearTimeout(this.mouseTimer))},t.prototype._onTooltipMouseEnter=function(){this.model.enabled&&this.model.animation.effect==ej.Tooltip.Effect.None&&$(this.tooltip).css({display:"block"})},t.prototype._onTooltipMouseLeave=function(){this.model.enabled&&this.model.animation.effect==ej.Tooltip.Effect.None&&this.model.closeMode==ej.Tooltip.CloseMode.None&&$(this.tooltip).css({display:"none"})},t.prototype._docTouchEndHandler=function(e){$(e.target).closest(".e-tooltip").length||this.model.closeMode!=ej.Tooltip.CloseMode.None||this._hideTooltip()},t.prototype._keyDown=function(e){var t=e.keyCode||e.which||e.charCode;this.model.enabled&&27===t&&(e.preventDefault(),this._hideTooltip())},t);function t(e,t){return i.call(this),this._rootCSS="e-tooltip",this._setFirst=!1,this.PluginName="ejTooltip",this.id="null",this.model=null,this.defaults={height:"auto",width:"auto",enabled:!0,content:null,containment:"body",target:null,title:null,closeMode:"none",autoCloseTimeout:4e3,position:{stem:{horizontal:"center",vertical:"bottom"},target:{horizontal:"center",vertical:"top"}},associate:"target",collision:"flipfit",showShadow:!1,cssClass:null,animation:{effect:"none",speed:0},isBalloon:!0,showRoundedCorner:!1,enableRTL:!1,allowKeyboardNavigation:!0,tip:{size:{width:20,height:10},adjust:{xValue:0,yValue:0}},trigger:"hover"},this.dataTypes={enabled:"boolean",closeMode:"enum",autoCloseTimeout:"number",trigger:"enum",position:{stem:"data",target:"data"},associate:"enum",collision:"enum",showShadow:"boolean",animation:{effect:"enum",speed:"number"},isBalloon:"boolean",showRoundedCorner:"boolean",enableRTL:"boolean",allowKeyboardNavigation:"boolean",tip:{size:{width:"number",height:"number"},adjust:{xValue:"number",yValue:"number"}}},this.isTrack=!0,this._isCancel=!1,this._isHidden=!0,this.arrowValue={left:0,top:0,width:0,height:0,display:null},this.tooltipPos={width:0,height:0,left:0,top:0,bottom:0,right:0,position:"absolute"},this.targetPos={width:0,height:0,left:0,top:0,bottom:0,right:0,position:"absolute"},this.mouseTimer=null,this.positionTarget=null,this.positionTooltip=null,this.containerSize=null,this._createTitle=function(){this.tooltipTitle=ej.buildTag("div.e-def e-header"," ",{},{}),this.tooltipHeader=ej.buildTag("div"," ",{},{}),$(this.tooltipTitle).html(this.model.title).appendTo(this.tooltipHeader)},e&&(e=e.jquery?e:$("#"+e)).length?$(e).ejTooltip(t).data(this.PluginName):void 0}window.ej.widget("ejTooltip","ej.Tooltip",new e),window.ejTooltip=null,ej.Tooltip.CloseMode={Auto:"auto",None:"none",Sticky:"sticky"},ej.Tooltip.Effect={Slide:"slide",Fade:"fade",None:"none"},ej.Tooltip.Trigger={Hover:"hover",Click:"click",Focus:"focus"},ej.Tooltip.Collision={Flip:"flip",FlipFit:"flipfit",None:"none",Fit:"fit"},ej.Tooltip.Associate={Window:"window",MouseFollow:"mousefollow",MouseEnter:"mouseenter",Target:"target",Axis:"axis"}}),function(e){"function"==typeof define&&define.amd?define(["./../common/ej.core.min","./../common/ej.globalize.min","./../common/ej.scroller.min","./ej.tooltip.min","./../common/ej.draggable.min","./ej.dialog.min"],e):e()}(function(){var c,d,l;c=jQuery,(d=Syncfusion).widget("ejUploadbox","ej.Uploadbox",{element:null,_addToPersist:[""],model:null,validTags:["div","span"],_setFirst:!1,_rootCSS:"e-uploadbox",defaults:{buttonText:{browse:"Browse",upload:"Upload",cancel:"Cancel",close:"Close"},width:"100px",height:"35px",htmlAttributes:{},dialogPosition:{X:"",Y:""},dialogText:{title:"Upload Box",name:"Name",size:"Size",status:"Status"},customFileDetails:{title:!0,name:!0,size:!0,status:!0,action:!0},dialogAction:{modal:!1,closeOnComplete:!1,drag:!0,content:null},locale:"en-US",asyncUpload:!0,pushFile:null,enabled:!0,multipleFilesSelection:!0,autoUpload:!1,showFileDetails:!0,fileSize:31457280,extensionsAllow:"",extensionsDeny:"",saveUrl:"",removeUrl:"",uploadName:"",cssClass:"",dropAreaText:"Drop files or click to upload",allowDragAndDrop:!1,showBrowseButton:!0,showRoundedCorner:!0,dropAreaHeight:"100%",dropAreaWidth:"100%",enableRTL:!1,create:null,fileSelect:null,begin:null,beforeSend:null,cancel:null,inProgress:null,success:null,complete:null,remove:null,error:null,destroy:null},dataTypes:{buttonText:"data",dialogText:"data",disbled:"boolean",customFileDetails:"data",pushFile:"data",dialogAction:"data",multipleFilesSelection:"boolean",autoUpload:"boolean",showFileDetails:"boolean",allowDragAndDrop:"boolean",showBrowseButton:"boolean",showRoundedCorner:"boolean",fileSize:"number",extensionsAllow:"string",extensionsDeny:"string",saveUrl:"string",removeUrl:"string",cssClass:"string",enableRTL:"boolean",htmlAttributes:"data"},disable:function(){this._changeState(!1)},enable:function(){this._changeState(!0)},_changeState:function(e){e?c(this.control).removeClass("e-disable"):c(this.control).addClass("e-disable"),this.model.enabled=e,c(this._currentElement).find(".e-uploadinput")[0].disabled=!e,this.diaObj&&(this.diaObj.option("beforeClose",this._onBeforeClose),this.diaObj.setModel({enabled:e,allowDraggable:e}))},refresh:function(){this.diaObj&&(this.diaObj.isOpened()?this.diaObj.close():this._uploadFileListDelete())},_updateLocalConstant:function(){this._localizedLabels=d.getLocalizedConstants("ej.Uploadbox",this.model.locale)},_init:function(){this.s=d.browserInfo(),this._updateLocalConstant(),this._initialize(),this._wireEvents(),this.model.asyncUpload||this._initObjectsSyncUpload(),this._controlStatus(this.model.enabled),"en-US"==this.model.locale?this._buttonText(this.model.buttonText):this._setLocale(),this._roundedCorner(this.model.showRoundedCorner)},_setModel:function(e){for(var t in e){switch(t){case"buttonText":this._buttonText(e[t]);break;case"htmlAttributes":this._addAttr(e[t]);break;case"dialogText":this._dialogText(e[t]);break;case"cssClass":this._setSkin(e[t]);break;case"enableRTL":this._setRTL(e[t]);break;case"enabled":this._controlStatus(e[t]);break;case"locale":this.model.locale=e[t],this._updateLocalConstant(),this._setLocale();break;case"height":this.model.height=e[t],this._setHeight(this.model.height);break;case"width":this.model.width=e[t],this._setWidth(this.model.width);break;case"dialogPosition":this.model.dialogPosition=e[t],this._dialogPosition();break;case"allowDragAndDrop":this.model.allowDragAndDrop=e[t],this._dragAndDrop();break;case"dropAreaText":this.model.dropAreaText=e[t],this._dropAreaText(this.model.dropAreaText);break;case"showBrowseButton":this.model.showBrowseButton=e[t],this._hideBrowseButton(),this._refreshUploadDialogParent();break;case"showRoundedCorner":this._roundedCorner(e[t]);break;case"dropAreaHeight":this.model.dropAreaHeight=e[t],this._setSize();break;case"dropAreaWidth":this.model.dropAreaWidth=e[t],this._setSize();break;case"pushFile":this.model.pushFile=e[t],null!=this.model.pushFile&&"Xhr"==this.UploadType&&this.model.asyncUpload&&(this._files=this.model.pushFile),this._onXhrSelect();break;case"multipleFilesSelection":this.model.multipleFilesSelection=e[t],0==(-1!=navigator.userAgent.indexOf("Safari")&&-1==navigator.userAgent.indexOf("Chrome"))&&(this.model.multipleFilesSelection?this._currentElement.find(".e-uploadinput").attr("multiple","multiple"):this._currentElement.find(".e-uploadinput").removeAttr("multiple"));break;case"uploadName":this.model.uploadName=e[t],this.inputupload.attr("name",this.model.uploadName),this.refresh();break;case"autoUpload":this.model.autoUpload=e[t];break;case"showFileDetails":this.model.showFileDetails=e[t],this.refresh();break;case"fileSize":this.model.fileSize=e[t];break;case"extensionsAllow":this.model.extensionsAllow=e[t],this._currentElement.find(".e-uploadinput").attr("accept",e[t]);break;case"extensionsDeny":this.model.extensionsDeny=e[t];break;case"saveUrl":this.model.saveUrl=e[t];break;case"removeUrl":this.model.removeUrl=e[t]}this._currentElement=this.model.allowDragAndDrop&&!this.model.showBrowseButton?this.dragWrapper:this.element}},_controlStatus:function(e){1!=e?this.disable():this.enable()},_setRTL:function(e){e?this._currentElement.addClass("e-rtl"):this._currentElement.removeClass("e-rtl"),this.updialog&&this.updialog.ejDialog({enableRTL:e})},_getLocalizedLabels:function(e){var t="",i="browse"==e||"upload"==e||"cancel"==e||"close"==e?"buttonText":"dialogText";return this._localizedLabels[e]?t=this._localizedLabels[e]:this._localizedLabels[i][e]?t=this._localizedLabels[i][e]:d.Uploadbox.Locale["en-US"][e]?t=d.Uploadbox.Locale["en-US"][e]:d.Uploadbox.Locale["en-US"][i][e]&&(t=d.Uploadbox.Locale["en-US"][i][e]),t},_setLocale:function(){this._buttonText(this._localizedLabels.buttonText),this._dialogText(this._localizedLabels.dialogText),this._dropAreaText(this._localizedLabels.dropAreaText)},_buttonText:function(e){c.extend(this.model.buttonText,e),this.buttondiv.val(this.model.buttonText.browse),this.updialog&&(this.updialog.find(".e-action-container .e-uploadbtn").html(this.model.buttonText.upload),this.updialog.find(".e-action-container .e-uploadclosebtn").html(this.model.buttonText.cancel))},_dialogText:function(e){c.extend(this.model.dialogText,e),this.diaObj!=l&&this.diaObj.option("title",this.model.dialogText.title),this.updialog&&(this.updialog.find(".e-head-name").html(this.model.dialogText.name),this.updialog.find(".e-head-size").html(this.model.dialogText.size),this.updialog.find(".e-head-status").html(this.model.dialogText.status))},_destroy:function(){this._currentElement.hasClass("e-uploadbox")&&(this._currentElement.removeClass("e-uploadbox e-widget"),this._currentElement.empty(),c(this.dragWrapper).after(this._currentElement),this.element.css({width:"",height:""}),this._bindResizeHandler(!1),this.dragWrapper.remove())},_setSkin:function(e){this._currentElement.removeClass(this.model.cssClass),this._currentElement.addClass(e),this.diaObj&&this.diaObj.setModel({cssClass:this.model.cssClass}),this.model.allowDragAndDrop&&this.dragWrapper.addClass(e)},_initialize:function(){this.control=this.element[0],this.element.addClass("e-widget "+this.model.cssClass),this.innerdiv=d.buildTag("div.e-selectpart e-select e-box"),this.element.append(this.innerdiv),this.buttondiv=d.buildTag("input.e-inputbtn e-btn#"+this.control.id+"_SelectButton","",{},{type:"button","data-role":"none",value:this._getLocalizedLabels("browse")}),this.inputupload=d.buildTag("input.e-uploadinput","",{},{type:"file","data-role":"none",name:""!=this.model.uploadName?this.model.uploadName:this.control.id}).attr("accept",this.model.extensionsAllow),this.model.multipleFilesSelection&&0==(-1!=navigator.userAgent.indexOf("Safari")&&-1==navigator.userAgent.indexOf("Chrome"))&&this.inputupload.attr("multiple","multiple"),this.innerdiv.append(this.buttondiv),this.innerdiv.append(this.inputupload),this.model.allowDragAndDrop&&this._dragAndDrop(!0),this._Selector=this.buttondiv[0],this._currentElement=this.model.allowDragAndDrop&&!this.model.showBrowseButton?this.dragWrapper:this.element,this._setRTL(this.model.enableRTL),this._addAttr(this.model.htmlAttributes),this.Uploadframes=[],this.UploadForms=[],this._successFiles=[],this.UploadType=this._isXhrSupported()?"Xhr":"IFrame",""!=this.model.width&&this._setWidth(this.model.width),""!=this.model.height&&this._setHeight(this.model.height),this._hideBrowseButton()},_refreshUploadDialogParent:function(){this.diaObj&&this.diaObj.setModel({target:null!=this.model.dialogAction.content&&""!=this.model.dialogAction.content?this.model.dialogAction.content:!this.model.showBrowseButton&&this.model.allowDragAndDrop?"#"+this.control.id+"_dragWrapper":"#"+this.control.id})},_hideBrowseButton:function(){!this.model.showBrowseButton&&this.model.allowDragAndDrop?(this.element.addClass("e-browse-hide"),this._dropAreaSize()):this.element.hasClass("e-browse-hide")&&(this.element.removeClass("e-browse-hide"),this.element.width(this.model.width),this.element.height(this.model.height))},_setSize:function(){this.model.allowDragAndDrop&&(""!=this.model.dropAreaWidth&&this.dragWrapper.outerWidth(this.model.dropAreaWidth),""!=this.model.dropAreaHeight&&this.dragWrapper.outerHeight(this.model.dropAreaHeight),this.model.showBrowseButton||this._dropAreaSize())},_dropAreaSize:function(){""!=this.model.dropAreaWidth&&this.element.width(this.model.dropAreaWidth),""!=this.model.dropAreaHeight&&this.element.height(this.model.dropAreaHeight)},_addAttr:function(e){var i=this;c.map(e,function(e,t){"class"==t?i.element.addClass(e):"disabled"==t&&"disabled"==e?i.disable():i.element.attr(t,e)})},_dragAndDrop:function(){this.model.allowDragAndDrop?(this.dragWrapper=d.buildTag("div.e-drag-wrapper e-widget-wrapper e-upload-box "+this.model.cssClass+"#"+this.control.id+"_dragWrapper"),this.innerWrapper=d.buildTag("div.e-drag-container"),this._spanTag=d.buildTag("span.e-drag-text").html(("en-US"==this.model.locale?this.model:d.Uploadbox.Locale[this.model.locale]).dropAreaText),this.innerWrapper.append(this._spanTag),this.innerWrapper.insertBefore(this.element),this.dragWrapper.insertBefore(this.element),this.innerWrapper.append(this.element),this.dragWrapper.append(this.innerWrapper),this._bindDragEvents(),this._refreshUploadDialogParent(),this._setSize()):(this._refreshUploadDialogParent(),this.element.insertBefore(this.dragWrapper),this.dragWrapper.remove(),this._unBindDragEvents()),this._hideBrowseButton()},_resizeHandler:function(){this.diaObj&&(750<c(window).width()?(c(this.updialog).closest(".e-dialog.e-uploadbox").removeClass("e-mobile-upload"),this.diaObj.setModel({width:this._getDialogContentWidth(),height:"auto"})):(c(this.updialog).closest(".e-dialog.e-uploadbox").addClass("e-mobile-upload"),this.diaObj.setModel({width:250,height:"auto"})),this.diaObj.scroller)&&this.diaObj.scroller.setModel({height:"auto"})},_getDialogContentWidth:function(){var e=0;return this.model.customFileDetails.name&&(e+=200),this.model.customFileDetails.size&&(e+=100),this.model.customFileDetails.status?e+=200:this.model.customFileDetails.action&&(e+=45),e+5},_dropAreaText:function(e){this.model.allowDragAndDrop&&this._spanTag.html(e)},_bindDragEvents:function(){this._on(this.dragWrapper,"dragover",this._onDragOverHandler),this._on(this.dragWrapper,"drop",this._onDropHandler)},_unBindDragEvents:function(){this._off(this.dragWrapper,"dragover",this._onDragOverHandler),this._off(this.dragWrapper,"drop",this._onDropHandler)},_setWidth:function(e){this.element.css("width",e)},_setHeight:function(e){this.element.height(e)},_dialogPosition:function(){var e;this.diaObj&&(this.diaObj.model.content!="#"+this.control.id&&this.diaObj.model.content!="#"+this.control.id+"_dragWrapper"||""!=this.model.dialogPosition.X||""!=this.model.dialogPosition.Y||(e=parseInt(this.diaObj.wrapper.css("left"))-(this.diaObj.wrapper.outerWidth()-c(this.diaObj.model.content).outerWidth())/2,this.model.dialogPosition.X=0<parseInt(e)?e:parseInt(this.diaObj.wrapper.css("left")),this.model.dialogPosition.Y=parseInt(this.diaObj.wrapper.css("top"))+c(this.diaObj.model.content).outerHeight()),""!=this.model.dialogPosition.X)&&""!=this.model.dialogPosition.Y&&this.diaObj.setModel({position:this.model.dialogPosition})},_roundedCorner:function(e){e?this.innerdiv.addClass("e-corner"):this.innerdiv.hasClass("e-corner")&&this.innerdiv.removeClass("e-corner")},_wireEvents:function(){this._on(this.element,"click",this._disableclickselect),this._on(this.element,"keydown",this._keydownselect),this._bindInputChangeEvent(),this._bindResizeHandler(!0)},_bindResizeHandler:function(e){e?c(window).on("resize",c.proxy(this._resizeHandler,this)):c(window).off("resize",c.proxy(this._resizeHandler,this))},_keydownselect:function(e){this.element.hasClass("e-disable")||13!=e.keyCode||this.diaObj&&this.diaObj.isOpened()||this.element.find(".e-uploadinput").click()},_onDropHandler:function(e){if("msie"===d.browserInfo().name&&"8.0"===d.browserInfo().version||"9.0"===d.browserInfo().version||this._currentElement.hasClass("e-disable"))return!1;e.stopPropagation(),e.preventDefault(),this._files=this._getAllFileInfo(e.originalEvent.dataTransfer.files),this._fileSelect(e)},_onDragOverHandler:function(e){if(this._currentElement.hasClass("e-disable"))return!1;e.stopPropagation(),e.preventDefault()},_disableclickselect:function(e){this._currentElement.hasClass("e-disable")&&e.preventDefault()},_bindInputChangeEvent:function(){this._on(this.inputupload,"change",this._inputValueChange)},_inputValueChange:function(e){return this._files=this._getInputFileInfo(c(e.target)),this._fileSelect(e)},_fileSelect:function(e){if(this._trigger("fileSelect",{files:this._files}))return this._resetFileInput(this._currentElement.find(".e-uploadinput")),!1;this._fileUpload(e)},_fileUpload:function(e){var t=this._isAllowed(this._files);this._files=t.files,this.model.asyncUpload?null!=t.files&&0<t.files.length&&("Xhr"==this.UploadType?this._onXhrSelect(e):this._onSelectIFrame(e),this._resetFileInput(this._currentElement.find(".e-uploadinput"))):t.status&&this._onSelectSyncUpload(e),this._renderTooltip()},__uploadButtonClick:function(e){this._currentElement.hasClass("e-disable")||(this._currentElement.find(".e-uploadbtn"),this._currentElement.find(".e-uploadbtn").hasClass("e-disable")?e.preventDefault():"Xhr"==this.UploadType?this._xhrOnUploadButtonClick(e):this._onUploadButtonClickIFrame(e),c(e.target).attr("disabled","disabled").addClass("e-disable"))},_actionClick:function(e){var t,i;this._currentElement.hasClass("e-disable")||(i=(t=c(e.target)).closest(".e-upload-file"),this._file=c(i).data("file"),t.hasClass("e-delete")?"Xhr"==this.UploadType?this._xhrOnRemove(e,i):this._onRemoveIFrame(e,i):t.hasClass("e-file-cancel")?(this._trigger("cancel",{fileStatus:this._file}),this.updialog.find(".e-file-cancel").hasClass("e-disable")?e.preventDefault():this.model.asyncUpload?(this._removeFile(c(i).data("file")),"Xhr"==this.UploadType?this._xhrOnCancel(e,i):this._onCancelIFrame(e,i)):this._onCancelSyncUpload(e,i)):t.hasClass("e-reload")&&("Xhr"==this.UploadType?this._xhrOnRetry(e,i):this._onRetryIFrame(e,i)))},_removeFileEntry:function(e){e.remove()},_removeFile:function(e){for(var t=[],i=0;i<this._files.length;i++)this._files[i]!=e&&t.push(this._files[i]);this._files=t},_isFileUpload:function(e){return!this.model.customFileDetails.action||c(e).find("div.e-icon").is(".e-file-cancel")},_isXhrSupported:function(){return!("msie"==this.s.name&&parseInt(this.s.version)<9||"safari"==this.s.name&&"chrome"==this.s.name&&"536"==this.s.version)&&"undefined"!=typeof FormData&&"undefined"!=typeof File},_getFileName:function(e){return c.map(this._getAllFileInfo(e),function(e){return e.name}).join(", ")},_getFileSize:function(e){var t=this;return c.map(this._getAllFileInfo(e),function(e){return t._formatSize(e.size)}).join(", ")},_pushFile:function(e,t){var i,s,o,n,l=c("<div class='e-head-content'></div>"),a=c("<div class='e-file-head e-head-name'>"+this._getLocalizedLabels("name")+"</div>"),r=c("<div class='e-file-head e-head-size'>"+this._getLocalizedLabels("size")+"</div>"),h=c("<div class='e-file-head e-head-status'>"+this._getLocalizedLabels("status")+"</div>");for(this.model.customFileDetails.name&&c(a).appendTo(l),this.model.customFileDetails.size&&c(r).appendTo(l),this.model.customFileDetails.status&&c(h).appendTo(l),(filedialog=this.updialog)&&0!=filedialog.length?this.model.showFileDetails&&(this.updialog&&this.updialog.find(".e-uploadbtn").removeAttr("disabled").removeClass("e-disable"),this.diaObj.open()):(this.updialog=d.buildTag("div.uploaddialog#"+this.element[0].id+"_dialog","",{},{title:this._getLocalizedLabels("title")}),DialogContentContainer=this.model.allowDragAndDrop&&!this.model.showBrowseButton?(this.dragWrapper.append(this.updialog),"#"+this.control.id+"_dragWrapper"):(this.element.append(this.updialog),"#"+this.control.id)),i=this.updialog.find(".e-ul"),c(this.updialog.find(".e-head-content"))&&c(this.updialog.find(".e-head-content")).replaceWith(l),0==i.length&&(l.appendTo(this.updialog),i=d.buildTag("ul.e-ul").appendTo(this.updialog)),0<c(this.updialog).find(".e-file-upload").length&&c(this.updialog).find(".e-file-upload").remove(),fileListActions=d.buildTag("div.e-file-upload").appendTo(this.updialog).append(this.model.autoUpload||!this.model.asyncUpload?c(d.buildTag("div.e-action-container")).addClass("sync"):d.buildTag("div.e-action-container")),dialogActions=d.buildTag("button.e-uploadclosebtn e-btn e-select",this._getLocalizedLabels("cancel"),{},{type:"button","data-role":"none"}).appendTo(c(this.updialog).find(".e-action-container")),this.model.showRoundedCorner&&dialogActions.addClass("e-corner"),this._on(dialogActions,"click",this._dialogclose),this._on(dialogActions,"keydown",this._keydownDialogClose),a=null!=this.model.dialogAction.content&&""!=this.model.dialogAction.content?this.model.dialogAction.content:DialogContentContainer,this.updialog.ejDialog({showOnInit:!1,closeIconTooltip:this._getLocalizedLabels("closeToolTip"),minWidth:240,width:c(window).width()<750?250:this._getDialogContentWidth(),height:"auto",cssClass:"e-uploadbox "+this.model.cssClass,close:c.proxy(this._uploadFileListDelete,this),enableRTL:this.model.enableRTL,target:a,enableResize:!1,allowDraggable:this.model.dialogAction.drag,enableModal:!!this.model.asyncUpload&&this.model.dialogAction.modal,showHeader:this.model.customFileDetails.title,showRoundedCorner:this.model.showRoundedCorner}),c(window).width()<750?c(this.updialog).closest(".e-dialog.e-uploadbox").addClass("e-mobile-upload"):c(this.updialog).closest(".e-dialog.e-uploadbox").removeClass("e-mobile-upload"),this.diaObj=this.updialog.data("ejDialog"),""!=this.model.cssClass&&this.diaObj.setModel({cssClass:this.model.cssClass}),this._dialogPosition(),this.model.multipleFilesSelection||this.updialog.find(".e-ul>.e-upload-file").remove(),o=0;o<e.length;o++)s=c("<li class='e-upload-file'></li>").appendTo(i).data(t),addedlist=c("<div class='e-file-list'></div>"),addedfilename=c("<div class='e-file-progress e-file-view'><div class='e-file-name e-file-view'><span class='e-file-name-txt'>"+e[o].name+"</span></div>"),n="<div class='e-file-size e-file-view'><span class='e-file-name-txt'>"+this._formatSize(e[o].size)+"</span></div>",addedfilestatus=c("<div class='e-file-percentage e-file-view'><div class='e-file-progress-bar'><div class='e-file-progress-status'></div></div></div>"),addedfileaction=c("<div class='e-action-perform'><div class='e-icon e-file-view'></div></div>"),this.model.customFileDetails.name&&c(addedfilename).appendTo(addedlist),this.model.customFileDetails.size&&(0==this._getFileSize(e[o]).toString().toLowerCase().match("0.0kb").length||null!=e[o].size?c(n).appendTo(addedlist):c(this.updialog).find(".e-head-size").remove()),this.model.customFileDetails.status&&c(addedfilestatus).appendTo(addedlist),this.model.customFileDetails.action&&(c(addedfileaction).appendTo(addedlist),n="cancel",addedlist.find(".e-icon").remove().addClass(n.toString()),n=d.buildTag("div.e-icon e-file-cancel","",{},{"data-content":this._getLocalizedLabels("cancelToolTip")}),addedlist.find(".e-action-perform").append(n),this._on(n,"click",this._actionClick)),c(addedlist).appendTo(s);return this.model.showFileDetails&&this.diaObj.open(),this._buttonText(this.model.buttonText),this._dialogText(this.model.dialogText),s},_keydownDialogClose:function(e){this._currentElement.hasClass("e-disable")||13==e.keyCode&&this._dialogclose()},_pushFileDetails:function(e){var t,i,s=c("<div class='e-head-content'></div>"),o=c("<div class='e-file-head e-head-name'>"+this._getLocalizedLabels("name")+"</div>"),n=c("<div class='e-file-head e-head-size'>"+this._getLocalizedLabels("size")+"</div>"),l=c("</div><div class='e-file-head e-head-status'>"+this._getLocalizedLabels("status")+"</div>");return this.model.customFileDetails.name&&c(o).appendTo(s),this.model.customFileDetails.size&&c(n).appendTo(s),this.model.customFileDetails.status&&c(l).appendTo(s),(filedialog=(o=this).updialog)&&0!=filedialog.length?this.model.showFileDetails&&(DialogContentContainer="#"+this.control.id,this.updialog&&this.updialog.find(".e-uploadbtn").removeAttr("disabled").removeClass("e-disable"),o.diaObj.open()):(this.updialog=d.buildTag("div.uploaddialog#"+this.element[0].id+"_dialog","",{},{title:this._getLocalizedLabels("title")}),DialogContentContainer=this.model.allowDragAndDrop&&!this.model.showBrowseButton?(this.dragWrapper.append(this.updialog),"#"+this.control.id+"_dragWrapper"):(this.element.append(this.updialog),"#"+this.control.id)),n=this.updialog.find(".e-ul"),c(this.updialog.find(".e-head-content"))&&c(this.updialog.find(".e-head-content")).replaceWith(s),0==n.length&&(s.appendTo(this.updialog),n=d.buildTag("ul.e-ul").appendTo(this.updialog)),0<c(this.updialog).find(".e-file-upload").length&&c(this.updialog).find(".e-file-upload").remove(),fileListActions=d.buildTag("div.e-file-upload").appendTo(this.updialog).append(this.model.autoUpload||!this.model.asyncUpload?c(d.buildTag("div.e-action-container")).addClass("sync"):d.buildTag("div.e-action-container")),dialogActions=d.buildTag("button.e-uploadclosebtn e-btn e-select",this._getLocalizedLabels("cancel"),{},{type:"button","data-role":"none"}).appendTo(c(this.updialog).find(".e-action-container")),this.model.showRoundedCorner&&dialogActions.addClass("e-corner"),this._on(dialogActions,"click",this._dialogclose),this.model.multipleFilesSelection||this.updialog.find(".e-ul>.e-upload-file").remove(),l=c("<li class='e-upload-file'></li>").appendTo(n).data("file",e),s=c("<div class='e-file-list'></div>"),n=c("<div class='e-file-progress e-file-view'><div class='e-file-name e-file-view'><span class='e-file-name-txt'>"+e.name+"</span></div>"),e=c("<div class='e-file-size e-file-view'><span class='e-file-name-txt'>"+this._formatSize(0)+"\\"+this._formatSize(e.size)+"</span></div>"),t=c("<div class='e-file-percentage e-file-view'><div class='e-file-progress-bar'><div class='e-file-progress-status'></div></div></div>"),i=c("<div class='e-action-perform'><div class='e-icon e-file-view'></div></div></div>"),this.model.customFileDetails.name&&c(n).appendTo(s),this.model.customFileDetails.size&&c(e).appendTo(s),this.model.customFileDetails.status&&c(t).appendTo(s),this.model.customFileDetails.action&&c(i).appendTo(s),c(s).appendTo(l),n=null!=this.model.dialogAction.content&&""!=this.model.dialogAction.content?this.model.dialogAction.content:DialogContentContainer,this.updialog.ejDialog({showOnInit:!1,closeIconTooltip:this._getLocalizedLabels("closeToolTip"),minWidth:240,width:c(window).width()<750?250:this._getDialogContentWidth(),height:"auto",cssClass:"e-uploadbox "+this.model.cssClass,close:c.proxy(this._uploadFileListDelete,this),enableRTL:this.model.enableRTL,target:n,enableResize:!1,allowDraggable:this.model.dialogAction.drag,enableModal:!!this.model.asyncUpload&&this.model.dialogAction.modal,showHeader:this.model.customFileDetails.title,showRoundedCorner:this.model.showRoundedCorner}),c(window).width()<750?c(this.updialog).closest(".e-dialog.e-uploadbox").addClass("e-mobile-upload"):c(this.updialog).closest(".e-dialog.e-uploadbox").removeClass("e-mobile-upload"),o.diaObj=this.updialog.data("ejDialog"),""!=o.model.cssClass&&o.diaObj.setModel({cssClass:this.model.cssClass}),o._dialogPosition(),this.model.showFileDetails&&o.diaObj.open(),this._buttonText(this.model.buttonText),this._dialogText(this.model.dialogText),l},_setProgress:function(e,t,i){this.model.customFileDetails.status&&c(e).find(".e-file-progress-status").width(t+"%"),this.model.customFileDetails.size&&(t=c(e).find(".e-file-size .e-file-name-txt"),e=this._formatSize(i.loaded),i=this._formatSize(i.total),t.html(e+"\\"+i))},_setAction:function(e,t){var i;this.model.customFileDetails.action&&(e.find(".e-action-perform .e-icon,.e-file-percentage .e-icon").remove().addClass(t.toString()),"cancel"==t?i=d.buildTag("div.e-icon e-file-cancel","",{},{"data-content":this._getLocalizedLabels("cancelToolTip")}):"remove"==t?i=d.buildTag("div.e-icon e-delete","",{},{"data-content":this._getLocalizedLabels("removeToolTip")}):"retry"==t&&(i=d.buildTag("div.e-icon e-reload","",{},{"data-content":this._getLocalizedLabels("retryToolTip")})),e.find(".e-action-perform").append(i),this._on(i,"click",this._actionClick))},_setStatus:function(e,t){var i;this.model.customFileDetails.status&&(i=d.buildTag("div"),"success"==t&&(e.find(".file-status").addClass("e-file-status-success").html("Completed"),e.find(".e-file-percentage").html(""),i.addClass("e-icon e-checkmark").attr("data-content",this._getLocalizedLabels("completedToolTip")),e.find(".e-file-percentage").append(i)),"failed"==t&&(e.find(".file-status").addClass("e-file-status-failed").html("Failed"),e.find(".e-file-percentage").html(""),i.addClass("e-icon e-file-percentage-failed").attr("data-content",this._getLocalizedLabels("failedToolTip")),e.find(".e-file-percentage").append(i)),"progress"==t&&e.find(".file-status").addClass("file-status-inprogress").html("in progress"),"uploading"==t)&&(e.find(".file-status").addClass("file-status-inprogress").html("uploading"),e.find(".e-file-percentage").html(""))},_renderTooltip:function(){d.isNullOrUndefined(this.updialog)||(this.upTooltip=c(this.updialog).ejTooltip({target:".e-file-cancel, .e-delete, .e-reload, .e-checkmark, .e-close, .e-file-percentage-failed",content:" ",isBalloon:!1,showRoundedCorner:this.model.showRoundedCorner,enableRTL:this.model.enableRTL,position:{target:{horizontal:"center",vertical:"bottom"},stem:{horizontal:"left",vertical:"top"}}}).data("ejTooltip"),c(this.upTooltip.tooltip).css({"min-width":"auto"}))},_createInputandBind:function(){var e=d.buildTag("input","",{},{type:"file","data-role":"none"});e.attr("name",""!=this.model.uploadName?this.model.uploadName:this.control.id).attr("autocomplete","off").attr("class","e-uploadinput").attr("accept",this.model.extensionsAllow),this.model.multipleFilesSelection&&0==(-1!=navigator.userAgent.indexOf("Safari")&&-1==navigator.userAgent.indexOf("Chrome"))&&e.attr("multiple","multiple"),e.appendTo(this.element.find(".e-selectpart")),this.inputupload=e,this._bindInputChangeEvent()},_showUploadButton:function(){var e=this.updialog.find(".e-uploadbtn");0==e.length&&(e=d.buildTag("button.e-uploadbtn e-btn e-select",this._getLocalizedLabels("upload"),{},{type:"button","data-role":"none"}),this.model.showRoundedCorner&&e.addClass("e-corner"),this.updialog.find(".e-action-container").append(e),this._on(e,"click",this.__uploadButtonClick),this._on(e,"keydown",this._keydownUpload),c(e).focus()),this._buttonText(this.model.buttonText)},_keydownUpload:function(e){13==e.keyCode&&this.__uploadButtonClick(e)},_resetFileInput:function(e){var t=e.clone(!1,!1);this._on(t,"change",this._inputValueChange),e.replaceWith(t)},_isAllowed:function(e){var t,i,s,o,n=this,l=[],a=[],r=!0,h=this.element.find(".e-uploadinput"),d=this;return""!=this.model.extensionsAllow?(i=this.model.extensionsAllow.replace(/\s/g,"").toLowerCase().split(","),c(e).each(function(){-1==c.inArray(this.extension.toLowerCase(),i)?(t={action:"Files Processing",error:n._getLocalizedLabels("allowError").replace("#Extension",i.join(", ")),files:this},d._trigger("error",t),n._resetFileInput(h),r=!1):""!=this.extension&&l.push(this)})):""!=this.model.extensionsDeny?(o=this.model.extensionsDeny.replace(/\s/g,"").toLowerCase().split(","),c(e).each(function(){-1!=c.inArray(this.extension.toLowerCase(),o)?(t={action:"Files Processing",error:n._getLocalizedLabels("denyError").replace("#Extension",o.join(", ")),files:this},d._trigger("error",t),n._resetFileInput(h),r=!1):""!=this.extension&&l.push(this)})):c(e).each(function(){""!=this.extension&&l.push(this)}),""!=this.model.fileSize?(s=this.model.fileSize,c(l).each(function(){this.size>s?(t={action:"Files Processing",error:n._getLocalizedLabels("filedetail").replace("#fileSize",s),files:this},d._trigger("error",t),n._resetFileInput(h),r=!1):a.push(this)})):a=l,{files:a,status:r}},_fileListRemove:function(){0==(fileList=this.updialog.find(".e-upload-file .e-delete")).length&&(this.updialog.find(".e-uploadbtn").attr("disabled","disabled").addClass("e-disable"),this.updialog.ejDialog("close"))},_uploadHide:function(){0==(fileList=this.updialog.find(".e-upload-file .e-file-cancel")).length&&(this.updialog.find(".e-ul").empty(),this.updialog.find(".e-uploadbtn").attr("disabled","disabled").addClass("e-disable"),this.updialog.ejDialog("close"),this.upTooltip.hide())},_onBeforeClose:function(e){d.isNullOrUndefined(e.event)||(e.cancel=!!c(e.event.currentTarget).hasClass("e-disable"))},_dialogclose:function(e){var t,i;this._currentElement.hasClass("e-disable")||(t=this.updialog.find(".e-uploadclosebtn"),i=this.updialog.find(".e-ul").children().first(),i=c(i).data("file"),t.hasClass("e-disable")?e.preventDefault():(this._uploadFileListDelete(),this.updialog.ejDialog("close")),this._trigger("cancel",{fileStatus:i}))},_uploadFileListDelete:function(){this.updialog.find(".e-ul").empty(),this._currentElement.find(".e-uploadinput").val(""),this._resetFileInput(this._currentElement.find(".e-uploadinput")),this.model.asyncUpload||this._formResetSyncUpload()},_onXhrSelect:function(){var i,s;this._xhrBeforeUpload(this._files),c.each((i=this)._files,function(e,t){s=c(t).data("filelist"),i._setAction(s,"cancel"),i.model.autoUpload?i._xhrPerformUpload(t):i._showUploadButton()})},_xhrBeforeUpload:function(e){var i,s=this;return c.each(e,function(e,t){i=s._createFormObjectXhr(t),c(t).data("formobject",i),i=s._pushFileDetails(t),c(t).data("filelist",i)}),e},_xhrPerformUpload:function(t){var e,i,s,o,n;o=new XMLHttpRequest,(i=this)._trigger("begin",n={files:t})||(e=this.model.saveUrl,(s=c(t).data("formobject")).append((this.model.uploadName&&""!=this.model.uploadName?this.model.uploadName:this.control.id)+"_data",JSON.stringify(n.data)),c(t).data("xhr",o),o.addEventListener("load",function(e){i._onRequestSuccess(i,e,t)},!1),o.addEventListener("error",function(e){i._onRequestError(i,e,t)},!1),o.upload.addEventListener("progress",function(e){i._onRequestProgress(i,e,t)},!1),o.open("POST",e),this._trigger("beforeSend",{files:t,xhr:o}))?(c(t).data("xhr",o),i._onRequestError(i,l,t)):o.send(s)},_xhrOnUploadButtonClick:function(){var e=(this.model.showBrowseButton?this.diaObj.wrapper:this.dragWrapper).find(".e-ul li.e-upload-file");for(i=0;i<e.length;i++)c(this),this._isFileUpload(e[i])&&this._xhrPerformUpload(c(e[i]).data("file"))},_xhrOnRemove:function(e,t){var i=c(t).find(".e-file-name").text().toString().split(","),s=this;c.ajax({url:this.model.removeUrl,type:"POST",data:"fileNames="+i,success:function(){c(t).remove(),s._fileListRemove(),s._trigger("remove",{fileStatus:s._file})}}),this.upTooltip.hide()},_xhrOnCancel:function(e,t){var i=c(t).data("file");c(i).data("xhr")&&c(i).data("xhr").abort(),c(i).data("xhr",null),c(t).data("file",null),c(t).remove(),this._uploadHide()},_xhrOnRetry:function(e,t){this._currentElement.hasClass("e-disable")||(t=c(t).data("file"),this._xhrPerformUpload(t))},_onRequestSuccess:function(e,t,i){var s=c(i).data("xhr");200<=s.status&&s.status<=299?e._onXhrUploadSuccess(e,t,i):e._onRequestError(e,t,i)},_onXhrUploadSuccess:function(e,t,i){var s,o=c(i).data("filelist"),n=c(i).data("xhr");e.model.removeUrl?e._setAction(o,"remove"):o.find(".e-action-perform .e-icon,.e-file-percentage .e-icon").remove(),e._setStatus(o,"success"),0<c(i).length&&(c(o).find(".e-file-progress-status").width("100%"),s=c(i)[0].size,s=this._formatSize(s),c(o).find(".e-file-size .e-file-name-txt").html(s+"\\"+s)),o={files:i,responseText:n.responseText,xhr:n,e:t},this.updialog.find(".e-file-upload .e-uploadclosebtn").html(this.model.buttonText.close).focus(),e._trigger("success",o),this._successFiles.push(i),e._files.length==this._successFiles.length&&(o={files:i,responseText:n.responseText,success:this._successFiles,xhr:n,e:t},e._trigger("complete",o),this._successFiles.length=0,this.model.dialogAction.closeOnComplete)&&this._dialogclose()},_onRequestError:function(e,t,i){var s=c(i).data("filelist"),o=c(i).data("xhr");e._setAction(s,"retry"),e._setStatus(s,"failed"),s={action:"File Processing",error:o.status?o.status+" "+o.statusText:"Unable to reach the server.",files:i,xhr:o,e:t},e._trigger("error",s)},_onRequestProgress:function(e,t,i){var s=Math.round(100*t.loaded/t.total),o=c(i).data("filelist");e._setProgress(o,s,t),e._setStatus(o,"progress"),this._trigger("inProgress",{file:i,percentage:s,e:t})},_createFormObjectXhr:function(e){var t=new FormData;return t.append(""!=this.model.uploadName?this.model.uploadName:this.control.id,e.rawFile),t},_getInputFileInfo:function(e){e=e[0];return e.files?this._getAllFileInfo(e.files):[{name:this._GetName(e.value),extension:this._getFileExtensionType(e.value),size:this._getFileSizeinIE(e.value)}]},_getFileSizeinIE:function(e){var t=null,i=null;try{t=new ActiveXObject("Scripting.FileSystemObject")}catch(e){i=null}return i=t?t.getFile(e).size:i},_getFileExtensionType:function(e){return e.match&&e.match(/\.([^\.]+)$/)?e.match(/\.([^\.]+)$/)[0]:""},_getAllFileInfo:function(t){var i=this;return c.map(t,function(e){return i._getFileInfo(e||t)})},_GetName:function(e){var t=e.lastIndexOf("\\");return-1!=t?e.substr(t+1):e},_getFileInfo:function(e){var t=e.name||e.fileName||e;return{name:t,extension:this._getFileExtensionType(t),size:e.size||e.fileSize,rawFile:e}},_formatSize:function(e){var t=-1;if(!e)return"0.0KB";for(;t++,99<(e/=1024););return Math.max(e,0).toFixed(1)+["KB","MB","GB","TB","PB","EB"][t]},_onSelectIFrame:function(e){e=c(e.target),e=this._getInputFileInfo(e),e=this._beforeUploadIFrame(e);e.data("iframe");this.model.autoUpload?this._performUploadIFrame(e):this._showUploadButton(),this._off(this.inputupload,"change"),this._bindInputChangeEvent()},_onRemoveIFrame:function(e,t){var i=t.data("iframe"),s=c(t).data("file")[0].name,o=this;i?(this._removeFileEntry(t),this.model.removeUrl&&c.ajax({url:this.model.removeUrl,type:"POST",data:"fileNames="+s,success:function(){o._fileListRemove(),o._trigger("remove",{fileStatus:o._file})}})):(this._removeFileEntry(t),this._trigger("remove",{fileStatus:this._file}))},_onCancelIFrame:function(e,t){var i;this._trigger("cancel",{Status:t}),(i=t.data("iframe"))&&(this._removeFileEntry(t),void 0!==i.stop?i.stop():i.document&&(i.document.execCommand("Stop"),i.contentWindow.location.href=i.contentWindow.location.href),this._processServerResponse(i,"")),this._uploadHide()},_onRetryIFrame:function(e,t){this._performUploadIFrame(t)},_beforeUploadIFrame:function(e){var t,i=this._createFrame(this.control.id+"_Iframe"+this.Uploadframes.length);return this.Uploadframes.push(i),t=this._createForm(this.model.saveUrl,i[0].id),this._currentElement.find("input.e-uploadinput").removeClass("e-uploadinput").css("display","none").appendTo(t),this._createInputandBind(),t=this._pushFile(e,{iframe:i,form:t,file:e}),i.data({filelist:t}),this._setAction(t,"cancel"),t},_performUploadIFrame:function(e){var t,i;this._trigger("begin",i={files:e})?this._failureIframeUpload(e,"File upload has been denied"):(e.data("file"),this._setStatus(e,"uploading"),t=e.data("iframe"),e=e.data("form"),i=c("<input>").attr("name",(this.model.uploadName&&""!=this.model.uploadName?this.model.uploadName:this.control.id)+"_data").attr("type","hidden").val(JSON.stringify(i.data)),e.append(i),t.appendTo(document.body),e.appendTo(document.body),this._on(t,"load",this._removeFramesIFrame),e.submit())},_onUploadButtonClickIFrame:function(){var e,t=this;c(".e-ul li.e-upload-file",t.updialog).each(function(){e=c(this),t._isFileUpload(e)&&t._performUploadIFrame(e)})},_removeFramesIFrame:function(e){var t,i=c(e.target),s=i.data("filelist");try{t=c.trim(i.context.contentDocument.body.innerText.replace(/\n|\r/g," "))}catch(e){t="Server Error trying to get server response: "+e}"Server Error"!=t.substring(0,12)&&0!=t.indexOf("HTTP Error")?(this._processServerResponse(i,t),this._setIframeProgress(s,100,e),this._setStatus(s,"progress"),this._successIframeUpload(s,t)):this._failureIframeUpload(s,t)},_setIframeProgress:function(e,t){c(e).find(".e-file-progress-status").width(t+"%")},_successIframeUpload:function(e,t){fileEntry=e.data("file"),this.model.removeUrl?this._setAction(e,"remove"):e.find(".file-action").remove(),this._setStatus(e,"success"),args={files:fileEntry,responseText:t},this.updialog.find(".e-file-upload .e-uploadclosebtn").html(this.model.buttonText.close).focus(),this._trigger("success",args),this._successFiles.push(fileEntry),e.length==this._successFiles.length&&(args={files:fileEntry,responseText:t,success:this._successFiles},this._trigger("complete",args),this._successFiles.length=0,this.model.dialogAction.closeOnComplete)&&this._dialogclose()},_failureIframeUpload:function(e,t){fileEntry=e.data("file"),this.model.saveUrl&&"File upload has been denied"!=t?this._setAction(e,"retry"):e.find(".file-action").remove(),this._setStatus(e,"failed"),args=0==t.indexOf("HTTP Error")?{files:fileEntry,responseText:t,status:t.match(/\d+/).toString()}:{files:fileEntry,responseText:t},this._trigger("error",args)},_processServerResponse:function(e){var t=c(document.body).find("form[target='"+c(e).attr("id")+"']");setTimeout(function(){t.remove(),e.remove()},0)},_createDivBlock:function(e){return d.buildTag("div."+e)},_createForm:function(e,t){return d.buildTag("form","",{},{enctype:"multipart/form-data",method:"POST",action:e,target:t})},_createFrame:function(e){return d.buildTag("iframe#"+e,"",{display:"none"},{name:e})},_createInput:function(e){return d.buildTag("input","",{},{type:"file",name:e,"data-role":"none"})},_initObjectsSyncUpload:function(){this._currentElement.closest("form").attr("enctype","multipart/form-data").attr("encoding","multipart/form-data"),this._wireEventsSyncUpload()},_wireEventsSyncUpload:function(){var e=this._currentElement.closest("form")[0];this._on(c(e),"submit",this._formSubmitSyncUpload),this._on(c(e),"reset",this._formResetSyncUpload)},_onSelectSyncUpload:function(e){var e=c(e.target),t=c(".e-selectpart",this.control);this._currentElement.find("input.e-uploadinput").removeClass("e-uploadinput").css("display","none").appendTo(t),this._createInputandBind(),this._pushFile(this._files,{file:this._files,Input:e})},_onCancelSyncUpload:function(e,t){var i=t.data("Input");t.data("file",null),t.data("Input",null),t.remove(),i.remove(),this._uploadHide()},_formSubmitSyncUpload:function(){var e,t=c(".e-uploadinput",this.control);t.attr("name",""),e=""!=this.model.uploadName?this.model.uploadName:this.control.id,setTimeout(function(){t.attr("name",e)},0)},_formResetSyncUpload:function(){c(".e-selectpart",this.control).children('input[type="file"]').each(function(){c(this).hasClass("e-uploadinput")||c(this).remove()})}}),d.Uploadbox.Locale=d.Uploadbox.Locale||{},d.Uploadbox.Locale.default=d.Uploadbox.Locale["en-US"]={buttonText:{upload:"Upload",browse:"Browse",cancel:"Cancel",close:"Close"},dialogText:{title:"Upload Box",name:"Name",size:"Size",status:"Status"},dropAreaText:"Drop files or click to upload",filedetail:"The selected file size is too large.  Please select a file within #fileSize",denyError:"Files with #Extension extensions are not allowed.",allowError:"Only files with #Extension extensions are allowed.",cancelToolTip:"Cancel",removeToolTip:"Remove",retryToolTip:"Retry",completedToolTip:"Completed",failedToolTip:"Failed",closeToolTip:"Close"}});var selectedResourceList=[],scopeCategoryList=[],scopeList=[];function expandCategoryList(){var e=angular.element("[ng-controller=AddPermissionController]").scope();setTimeout(function(){$(".category-container").find(".category-name").filter(function(){return $(this).text().trim().toLowerCase().contains(e.scopeSearchQuery.toLowerCase())}).parents("li.nested-li").each(function(e,t){var t=$(t).closest("li.nested-li"),i=t.children("ul.nested-ul"),t=t.find(".arrow-icon").first();t.hasClass("su-angle-right")&&(i.show(),t.removeClass("su-angle-right").addClass("su-vertical-expand"))})},1e3)}function fnOnUserPermissionActionBegin(){isFirstRequest=!0;var e=createLoader("Grid");this.element.ejWaitingPopup({template:$("#"+e)})}function fnOnGroupPermissionActionBegin(){isFirstRequest=!0;var e=createLoader("Grid");this.element.ejWaitingPopup({template:$("#"+e)})}function rowBound(){isFirstRequest=isFirstRequest&&!1}function onPermissionDialogClose(){$("#permission-delete-confirmation").ejDialog("close")}serverApp.controller("AddPermissionController",["$scope","$timeout","ajaxService",function(o,e,n){o.entities=entityObj,o.accesses=accessObj,o.isAllResource=!0,o.isAllSettings=!1,o.isSpecificResource=!1,o.isSpecificSettings=!1,o.showError=!1,o.showErrorIsSpecific=!1,o.noLoader=!0,o.entityTypeId=0;var l=o.noScope=!1;o.filteredScopesAll=function(e){return-1<e.Name.toLowerCase().indexOf(o.scopeSearchQuery.toLowerCase())},o.filterAllResourceEntity=function(e){return 1===e.Type&&-1<e.Name.toLowerCase().indexOf(o.entitySearchQuery.toLowerCase())&&e.Id!=PermissionEntities.AllPermissions&&e.Id!=PermissionEntities.AllGroups&&e.Id!=PermissionEntities.AllUsers&&e.Id!=PermissionEntities.AllSettings&&e.Id!=PermissionEntities.UsersandGroups},o.filterAllAdminEntity=function(e){return 1===e.Type&&-1<e.Name.toLowerCase().indexOf(o.entitySearchQuery.toLowerCase())&&(e.Id==PermissionEntities.AllPermissions||e.Id==PermissionEntities.AllGroups||e.Id==PermissionEntities.AllUsers||e.Id==PermissionEntities.AllSettings||e.Id==PermissionEntities.UsersandGroups)},o.filterSpecificResourceEntity=function(e){return(0===e.Type||2===e.Type)&&-1<e.Name.toLowerCase().indexOf(o.entitySearchQuery.toLowerCase())&&e.Id!=PermissionEntities.SpecificPermissions&&e.Id!=PermissionEntities.SpecificGroup&&e.Id!=PermissionEntities.SpecificSettings},o.filterSpecificSettingsEntity=function(e){return 0===e.Type&&-1<e.Name.toLowerCase().indexOf(o.entitySearchQuery.toLowerCase())&&(e.Id==PermissionEntities.SpecificPermissions||e.Id==PermissionEntities.SpecificGroup||e.Id==PermissionEntities.SpecificSettings)},o.onClickAllResource=function(e){o.isAllResource=e,o.isAllSettings=!e,o.isSpecificResource=!e,o.isSpecificSettings=!e,o.refreshFields(),buttonClicked=!1,$("#save-permission").removeAttr("disabled"),selectedResourceList=[]},o.onClickAllSettings=function(e){o.isAllResource=!e,o.isAllSettings=e,o.isSpecificResource=!e,o.isSpecificSettings=!e,o.refreshFields(),buttonClicked=!1,$("#save-permission").removeAttr("disabled"),selectedResourceList=[]},o.onClickSpecificResource=function(e){o.isAllResource=!e,o.isAllSettings=!e,o.isSpecificResource=e,o.isSpecificSettings=!e,o.refreshFields(),buttonClicked=!1,$("#save-permission").removeAttr("disabled"),selectedResourceList=[]},o.onClickSpecificSettings=function(e){o.isAllResource=!e,o.isAllSettings=!e,o.isSpecificResource=!e,o.isSpecificSettings=e,o.refreshFields(),buttonClicked=!1,$("#save-permission").removeAttr("disabled"),selectedResourceList=[]},o.onClickEntity=function(t){o.showErrorIsSpecific=!1,o.showError=!1,o.entityTypeId=t.Id;var i,s=!1;t.Id==PermissionEntities.AllCategories||t.Id==PermissionEntities.AllDataSources||t.Id==PermissionEntities.AllSchedules||t.Id==PermissionEntities.AllDashboards||t.Id==PermissionEntities.AllSlideshow||t.Id==PermissionEntities.AllSettings||t.Id==PermissionEntities.AllPermissions?(t.IsSelected?(t.IsSelected=!1,selectedResourceList.splice(selectedResourceList.indexOf(t.Id),1)):(l?t.IsSelected=!0:(o.resourceEntityOnFirstClick(t.Id),l=!l),selectedResourceList.push(t.Id)),s=!0):(l=!1,angular.forEach(o.entities,function(e){e.IsSelected=e===t}),o.selectedItem=t,selectedResourceList=[]),buttonClicked=!1,$("#save-permission").removeAttr("disabled"),(t.IsSelected||s)&&($(".permission-loader-div").addClass("permission-loader"),o.noLoader=!1,$(".entity-selection-div").find("li.selected"),i=t.IsSelected||1!=selectedResourceList.length||-1==selectedResourceList.indexOf(PermissionEntities.AllDashboards)?t.Id:PermissionEntities.AllDashboards,n.getData(getItemScopeAccessUrl,angular.element.param({entity:i,groupId:$("#group-id-hidden").val()})).then(function(e){$(".permission-loader-div").removeClass("permission-loader"),o.noLoader=!0,"array"==$.type(e)?(scopeCategoryList=e[3],scopeList=e[0],o.scopes=e[0],o.categories=e[3],1<=selectedResourceList.length&&(1!=selectedResourceList.length||-1==selectedResourceList.indexOf(PermissionEntities.AllDashboards))&&t.Id==PermissionEntities.AllDashboards?o.accesses=e[1].slice(0,-1):0==selectedResourceList.length&&s?o.accesses=[]:o.accesses=e[1],o.type=e[2],1==o.accesses.length&&(o.accesses[0].IsSelected=!0,o.selectedAccess=o.accesses[0]),(o.isSpecificResource||o.isSpecificSettings)&&(o.noScope=0==o.scopes.length),isNullOrWhitespace(o.scopeSearchQuery)||o.doScopeSearch(i)):e.permissionDenied&&(window.parent.$("#add-permission").ejDialog("close"),parent.$("#add-permission_wrapper").ejWaitingPopup("hide"),$(".permission-loader-div").removeClass("permission-loader"),warningToast(window.Server.App.Localization.AddPermissionWarningAlert,null,(new Date).getTime(),window.Server.App.Localization.AddPermission))}))},o.refreshFields=function(){o.accesses=[],o.scopes=[],o.showError=!1,o.showErrorIsSpecific=!1,o.noScope=!1,o.resourceEntityOnFirstClick()},o.doScopeSearch=function(e){5!=e&&13!=e||n.getData(getItemScopeAccessUrl,angular.element.param({entity:PermissionEntities.SpecificCategory,groupId:$("#group-id-hidden").val(),searchKey:o.scopeSearchQuery})).then(function(e){$(".permission-loader-div").removeClass("permission-loader"),o.noLoader=!0,"array"==$.type(e)?(o.scopes=e[0],o.categories=e[3],o.type=e[2],1==o.accesses.length&&(o.accesses[0].IsSelected=!0,o.selectedAccess=o.accesses[0]),(o.isSpecificResource||o.isSpecificSettings)&&(o.noScope=0==o.scopes.length),isNullOrWhitespace(o.scopeSearchQuery)||expandCategoryList()):e.permissionDenied&&(window.parent.$("#add-permission").ejDialog("close"),parent.$("#add-permission_wrapper").ejWaitingPopup("hide"),$(".permission-loader-div").removeClass("permission-loader"),warningToast(window.Server.App.Localization.AddPermissionWarningAlert,null,(new Date).getTime(),window.Server.App.Localization.AddPermission))})},o.resourceEntityOnFirstClick=function(t){angular.forEach(o.entities,function(e){e.Id!=t?(e.IsSelected=!1,o.selectedItem=!1):e.IsSelected=!0})},o.toggleSubCategory=function(e){var e=angular.element(e.currentTarget),t=e.closest("li").children("ul.nested-ul");e.hasClass("su-angle-right")?(t.show(),e.removeClass("su-angle-right").addClass("su-vertical-expand")):e.hasClass("su-vertical-expand")&&(t.hide(),e.removeClass("su-vertical-expand").addClass("su-angle-right"))},o.onClickScope=function(e){o.showErrorIsSpecific=!1,e.IsSelected=!e.IsSelected,buttonClicked=!1,$("#save-permission").removeAttr("disabled")},o.onClickAccess=function(t){o.showErrorIsSpecific=!1,o.showError=!1,angular.forEach(o.accesses,function(e){e.IsSelected=e===t}),o.selectedAccess=t,buttonClicked=!1,$("#save-permission").removeAttr("disabled")},o.onEntitySearchClear=function(){o.entitySearchQuery="",e(function(){$(".entity-search-box").focus()},100)},o.onScopeSearchClear=function(){o.scopeSearchQuery="",o.scopes=scopeList,o.categories=scopeCategoryList,e(function(){$(".scope-search-box").focus()},100)},e(function(){$(document).tooltip({selector:'[data-bs-toggle="permission-tooltip"]',animation:!0,delay:{show:500}})},100)}]),$(document).on("click",".popup-close",function(e){var t=angular.element("[ng-controller=AddPermissionController]").scope();t.showErrorIsSpecific=!1,t.showError=!1,t.onScopeSearchClear(),t.onEntitySearchClear(),t.$apply(),(eDialog=$("#add-permission").data("ejDialog")).close(),$("#add-permission iframe").attr("src",""),buttonClicked=!1,$("#save-permission").removeAttr("disabled")}),$(document).ready(function(){$("#permission-delete-confirmation").ejDialog({width:"400px",showOnInit:!1,showHeader:!1,allowDraggable:!1,enableResize:!1,title:window.Server.App.Localization.DeleteItem,enableModal:!0,close:"onPermissionDialogClose"});var e=createLoader("permission-delete-confirmation-wrapper");$("#permission-delete-confirmation-wrapper").ejWaitingPopup({template:$("#"+e)}),$("#permission-app-container").on("click",".delete-permission",function(){var e=$(this).attr("data-permission-id");$("#delete-permission").attr("permissionId",e),$("#permission-delete-confirmation").ejDialog("open")})}),$("#add-permission-button-top").click(function(){$("#add-permission_wrapper").ejWaitingPopup("show"),$("#add-permission").css("display","block"),selectedResourceList=[],$.ajax({type:"POST",url:resourceManagePermissionUrl,data:{groupId:$("#group-id-hidden").val()},success:function(e){var t;e.status?((eDialog=$("#add-permission").data("ejDialog")).open(),$("#all-permission").prop("checked",!0),(t=angular.element("[ng-controller=AddPermissionController]").scope()).accesses=[],t.scopes=[],t.categories=[],t.resourceEntityOnFirstClick(),t.noScope=!1,t.isAllResource=!0,t.isAllSettings=!1,t.isSpecificResource=!1,t.isSpecificSettings=!1,t.$apply()):!e.status&&e.permissionDenied&&warningToast(window.Server.App.Localization.AddPermissionWarningAlert,null,(new Date).getTime(),window.Server.App.Localization.AddPermission),$("#add-permission_wrapper").ejWaitingPopup("hide")}})}),$(document).on("click","#add-permission-controller #save-permission",function(){var o=angular.element("[ng-controller=AddPermissionController]").scope(),n=[],l=[],a=[],r=[],h=[],d="",c=0,e=(angular.forEach(o.scopes,function(e){e.IsSelected&&(12!=o.type?(n.push(e.Id),l.push(e.Id)):(n.push(e.GroupId),l.push(e.GroupId)))}),angular.forEach(o.categories,function(e){e.IsSelected&&(12!=o.type?(n.push(e.Id),l.push(e.Id)):(n.push(e.GroupId),l.push(e.GroupId))),0<e.SubCategory.length&&angular.forEach(e.SubCategory,function(e){e.IsSelected&&(12!=o?(n.push(e.Id),l.push(e.Id)):(n.push(e.GroupId),l.push(e.GroupId))),0<e.SubCategory.length&&angular.forEach(e.SubCategory,function(e){e.IsSelected&&(12!=o?(n.push(e.Id),l.push(e.Id)):(n.push(e.GroupId),l.push(e.GroupId))),0<e.SubCategory.length&&angular.forEach(e.SubCategory,function(e){e.IsSelected&&(12!=o?(n.push(e.Id),l.push(e.Id)):(n.push(e.GroupId),l.push(e.GroupId)))})})})}),angular.forEach(o.entities,function(e){e.IsSelected&&(a.push(e.Id),r.push(e.Name),h.push(e.Type))}),angular.forEach(o.accesses,function(e){e.IsSelected&&(c=e.Id,d=e.Name)}),o.$apply(),0!=n.length&&0!=c&&0!=a.length||!o.isSpecificResource&&!o.isSpecificSettings?o.showErrorIsSpecific=!1:o.showErrorIsSpecific=!0,0!=c&&0!=a.length||o.isSpecificResource||o.isSpecificSettings?o.showError=!1:o.showError=!0,$("#save-permission").attr("disabled","disabled"),""),t="";o.showError||o.showErrorIsSpecific||($("#add-permission_wrapper").ejWaitingPopup("show"),t=null!=$("#group-id-hidden").val()?(e=$("#group-id-hidden").val(),addnewgrouppermissionUrl):(e=$("#user-id-hidden").val(),addnewuserpermissionUrl),$.ajax({type:"POST",url:t,data:{mode:c,entities:a,scopeIds:n,scopeValues:l,id:e},success:function(e,t){var i,s;e.status&&!e.permissionExist?($("#Grid").ejGrid("instance").refreshContent(),i="",s=1==n.length&&1==a.length?(s=r[0],0!=h[0]&&2!=h[0]||(i=" â <span class='highlight-name'>"+$("#scope ul li ul li.selected").attr("id")+"</span>"),window.Server.App.Localization.PermissionSuccess.format(d,s.replace("Specific ","")+i)):window.Server.App.Localization.AddPermissionSuccess,$("#add-permission_wrapper").ejWaitingPopup("hide"),$("#progress-alert-container").css("z-index",$("#add-permission_wrapper").css("z-index")+1),successToast(s,7e3,(new Date).getTime()),n=[],l=[],a=[],r=[],h=[],selectedResourceList=[],scopeList=[],scopeCategoryList=[],c=0,o.accesses=[],o.scopes=[],o.resourceEntityOnFirstClick(),o.onScopeSearchClear(),o.onEntitySearchClear(),o.$apply()):!e.status&&e.permissionExist?($("#add-permission_wrapper").ejWaitingPopup("hide"),$("#progress-alert-container").css("z-index",$("#add-permission_wrapper").css("z-index")+1),warningToast(window.Server.App.Localization.IsPermissionExist,null,(new Date).getTime(),window.Server.App.Localization.AddPermission)):(window.$("#add-permission").ejDialog("close"),$("#add-permission_wrapper").ejWaitingPopup("hide"),warningToast(null!=e.permissionDenied&&e.permissionDenied?window.Server.App.Localization.AddPermissionWarningAlert:window.Server.App.Localization.AddPermissionError,null,(new Date).getTime(),window.Server.App.Localization.AddPermission))}})),o.$apply()}),$(document).on("click","#delete-permission",function(){$("#permission-delete-confirmation-wrapper").ejWaitingPopup("show");var e="",e=null!=$("#group-id-hidden").val()?deleteGroupPermissionUrl:deleteuserPermissionUrl,t=$(this).attr("permissionid");$.ajax({type:"POST",url:e,data:{permissionId:t,groupId:$("#group-id-hidden").val()},success:function(e,t){var i,s,o;"boolean"==$.type(e)?("true"==e.toString().toLowerCase()&&(s=(i=$("#Grid").ejGrid("instance")).model.pageSettings.currentPage,i.model.pageSettings.pageSize,i.model.pageSettings.totalRecordsCount,0!=(o=i.model.pageSettings.totalRecordsCount%i.model.pageSettings.pageSize)&&o<=1&&(i.model.pageSettings.currentPage=s-1),i.refreshContent()),$("#permission-delete-confirmation-wrapper").ejWaitingPopup("hide"),$("#permission-delete-confirmation").ejDialog("close")):!e.status&&e.permissionDenied&&($("#permission-delete-confirmation").ejDialog("close"),warningToast(window.Server.App.Localization.DeletePermissionWarningAlert,null,(new Date).getTime(),window.Server.App.Localization.DeletePermission))}})}),$(document).keyup(function(e){27==e.keyCode&&window.parent.$("#add-permission").ejDialog("close")});