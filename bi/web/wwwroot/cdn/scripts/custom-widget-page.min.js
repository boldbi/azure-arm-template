var designerServiceUrl="",dashboardServerUrl="",designerToken="";function renderWidgetPage(){var e={serviceUrl:designerServiceUrl,serverUrl:dashboardServerUrl,appVersion:appVersion,serviceAuthorizationToken:designerToken,actionComplete:$.proxy(onSaveWidgetSettings,this)};new BoldBIDashboard.Dashboard.BoldBIDashboardWidgetConfiguration($("#widgetDesigner"),e)}function onSaveWidgetSettings(e){$("#body").BoldBIDashboardWaitingPopup("hide"),e.data.Status?successToast(window.Server.App.Localization.UpdateSettingsSuccess,7e3):warningToast(window.Server.App.LocalizationContent.WidgetConfiguration,window.Server.App.LocalizationContent.SettingsWarningAlert,7e3)}$(document).ready(function(){designerServiceUrl=$('meta[name="designer_service:url"]').attr("content"),dashboardServerUrl=$('meta[name="dashboard_server:url"]').attr("content"),designerToken=$('meta[name="designer_service:access_token"]').attr("content"),renderWidgetPage();var e=createLoader("body"),e=($("#body").BoldBIDashboardWaitingPopup({template:$("#"+e)}),window.location.search.toLowerCase());"?tab=reports-widgets"===e?$(".widget-button-section").hide():"?tab=bi-widgets"===e?$(".widget-button-section").show():($(".widget-button-section").show(),$('a[href="#bi-widgets"]').tab("show"),window.history.replaceState(null,null,location.href.split("?tab=")[0]))}),$(document).on("click","a[data-toggle='tab']",function(){"#reports-widgets"==$(this).attr("href")?$(".widget-button-section").hide():$(".widget-button-section").show()}),$(document).on("click","#update-widget-settings",function(){$.ajax({type:"GET",url:widgetsPagePermissionUrl,data:{scope:SettingsScopes.Widgets},success:function(e){var t;e.status?(t=$("#widgetDesigner").data("BoldBIDashboardWidgetConfiguration"),$("#body").BoldBIDashboardWaitingPopup("show"),t.saveWidgetInfo()):e.permissionDenied&&warningToast(window.Server.App.Localization.PermissionWarningAlert,null,(new Date).getTime(),window.Server.App.Localization.WidgetSettings)}})}),function(e){"function"==typeof define&&define.amd?define(["jquery"],e):e()}(function(){var e;window.ej=window.Syncfusion=window.Syncfusion||{},function(g,m,d){"use strict";m.version="14.4.0.15",m.consts={NamespaceJoin:"-"},m.TextAlign={Center:"center",Justify:"justify",Left:"left",Right:"right"},m.Orientation={Horizontal:"horizontal",Vertical:"vertical"},m.serverTimezoneOffset=0,m.persistStateVersion=null,Object.prototype.hasOwnProperty||(Object.prototype.hasOwnProperty=function(e,t){return e[t]!==d}),String.format=function(){for(var e=arguments[0],t=0;t<arguments.length-1;t++)e=e.replace(new RegExp("\\{"+t+"\\}","gm"),arguments[t+1]);return e.replace(/\{[0-9]\}/g,"")},jQuery.uaMatch=function(e){e=e.toLowerCase();e=/(chrome)[ \/]([\w.]+)/.exec(e)||/(webkit)[ \/]([\w.]+)/.exec(e)||/(opera)(?:.*version|)[ \/]([\w.]+)/.exec(e)||/(msie) ([\w.]+)/.exec(e)||e.indexOf("compatible")<0&&/(mozilla)(?:.*? rv:([\w.]+)|)/.exec(e)||[];return{browser:e[1]||"",version:e[2]||"0"}},m.defineClass=function(e,t,i,n){if(!e||!i)return d;for(var s=e.split("."),o=window,r=0;r<s.length-1;r++)m.isNullOrUndefined(o[s[r]])&&(o[s[r]]={}),o=o[s[r]];return(n||m.isNullOrUndefined(o[s[r]]))&&(o[s[r]]=t="function"==typeof t?t:function(){},o[s[r]].prototype=i),o[s[r]]},m.util={getNameSpace:function(e){e=e.toLowerCase().split(".");return"ej"===e[0]&&(e[0]="e"),e.join(m.consts.NamespaceJoin)},getObject:function(e,t){var i,n,s;if(!t)return d;for(i=t,n=e.split("."),s=0;s<n.length&&!m.util.isNullOrUndefined(i);s++)i=i[n[s]];return i},createObject:function(e,t,i){for(var n,s=e.split("."),e=i||window,o=e,r=s.length,a=0;a<r;a++)n=s[a],a+1==r?o[n]=t===d?{}:t:m.isNullOrUndefined(o[n])&&(o[n]={}),o=o[n];return e},isNullOrUndefined:function(e){return e===d||null===e},print:function(e,t){var i,n=m.buildTag("div"),e=e.clone();n.append(e),(t=t||window.open("","print","height=452,width=1024,tabbar=no")).document.write("<!DOCTYPE html>"),e=g("head").find("link").add("style"),"msie"===m.browserInfo().name?(i="",e.each(function(e,t){"LINK"==t.tagName&&g(t).attr("href",t.href),i+=t.outerHTML}),t.document.write("<html><head></head><body>"+i+n[0].innerHTML+"</body></html>")):(i="",t.document.write("<html><head>"),e.each(function(e,t){"LINK"==t.tagName&&g(t).attr("href",t.href),i+=t.outerHTML}),t.document.writeln(i+"</head><body>"),t.document.writeln(n[0].innerHTML+"</body></html>")),t.document.close(),t.focus(),setTimeout(function(){m.isNullOrUndefined(t.window)||(t.print(),setTimeout(function(){t.close()},1e3))},1e3)},ieClearRemover:function(e){var t=g(e).height();e.style.paddingTop=parseFloat(t/2)+"px",e.style.paddingBottom=parseFloat(t/2)+"px",e.style.height="1px",e.style.lineHeight="1px"},sendAjaxRequest:function(e){g.ajax({type:e.type,cache:e.cache,url:e.url,dataType:e.dataType,data:e.data,contentType:e.contentType,async:e.async,success:e.successHandler,error:e.errorHandler,beforeSend:e.beforeSendHandler,complete:e.completeHandler})},buildTag:function(e,t,i,n){var s=/^[a-z]*[0-9a-z]+/gi.exec(e)[0],o=(o=/#([_a-z]+[-_0-9a-z]+)/gi.exec(e))?o[o.length-1]:d,e=/\.([a-z]+[-_0-9a-z ]+)/gi.exec(e);return e=e?e[e.length-1]:d,g(document.createElement(s)).attr(o?{id:o}:{}).addClass(e||"").css(i||{}).attr(n||{}).html(t||"")},_preventDefaultException:function(e,t){if(e)for(var i in t)if(t[i].test(e[i]))return!0;return!1},getMaxZindex:function(){var e=1;return e=(e=Math.max.apply(null,g.map(g("body *"),function(e){if("absolute"==g(e).css("position")||"fixed"==g(e).css("position"))return parseInt(g(e).css("z-index"))||1})))!=d&&null!=e?e:1},blockDefaultActions:function(e){e.cancelBubble=!0,e.returnValue=!1,e.preventDefault&&e.preventDefault(),e.stopPropagation&&e.stopPropagation()},getDimension:function(e,t){var i,n,s,o=g(e).parents().andSelf().filter(":hidden");return o&&(n={visibility:"hidden",display:"block"},s=[],o.each(function(){var e,t={};for(e in n)t[e]=this.style[e],this.style[e]=n[e];s.push(t)}),i=/(outer)/g.test(t)?g(e)[t](!0):g(e)[t](),o.each(function(e){var t,i=s[e];for(t in n)this.style[t]=i[t]})),i},transitionEndEvent:function(){return{"":"transitionend",webkit:"webkitTransitionEnd",Moz:"transitionend",O:"otransitionend",ms:"MSTransitionEnd"}[m.userAgent()]},animationEndEvent:function(){return{"":"animationend",webkit:"webkitAnimationEnd",Moz:"animationend",O:"webkitAnimationEnd",ms:"animationend"}[m.userAgent()]},startEvent:function(){return m.isTouchDevice()||g.support.hasPointer?"touchstart":"mousedown"},endEvent:function(){return m.isTouchDevice()||g.support.hasPointer?"touchend":"mouseup"},moveEvent:function(){return m.isTouchDevice()||g.support.hasPointer?g.support.hasPointer&&!m.isMobile()?"ejtouchmove":"touchmove":"mousemove"},cancelEvent:function(){return m.isTouchDevice()||g.support.hasPointer?"touchcancel":"mousecancel"},tapEvent:function(){return m.isTouchDevice()||g.support.hasPointer?"tap":"click"},tapHoldEvent:function(){return m.isTouchDevice()||g.support.hasPointer?"taphold":"click"},isDevice:function(){return m.getBooleanVal(g("head"),"data-ej-forceset",!1)?m.getBooleanVal(g("head"),"data-ej-device",this._device()):this._device()},isPortrait:function(){var e=document.documentElement;return e&&e.clientWidth/e.clientHeight<1.1},isLowerResolution:function(){return window.innerWidth<=640&&m.isPortrait()&&m.isDevice()||window.innerWidth<=800&&!m.isDevice()||window.innerWidth<=800&&!m.isPortrait()&&m.isWindows()&&m.isDevice()||m.isMobile()},isIOSWebView:function(){return/(iPhone|iPod|iPad).*AppleWebKit(?!.*Safari)/i.test(navigator.userAgent)},isAndroidWebView:function(){return!("undefined"==typeof Android)},isWindowsWebView:function(){return-1!=location.href.indexOf("x-wmapp")},_device:function(){return/Android|BlackBerry|iPhone|iPad|iPod|IEMobile|kindle|windows\sce|palm|smartphone|iemobile|mobile|pad|xoom|sch-i800|playbook/i.test(navigator.userAgent.toLowerCase())},isMobile:function(){return/iphone|ipod|android|blackberry|opera|mini|windows\sce|palm|smartphone|iemobile/i.test(navigator.userAgent.toLowerCase())&&/mobile/i.test(navigator.userAgent.toLowerCase())||!0===m.getBooleanVal(g("head"),"data-ej-mobile",!1)},isTablet:function(){return/ipad|xoom|sch-i800|playbook|tablet|kindle/i.test(navigator.userAgent.toLowerCase())||!0===m.getBooleanVal(g("head"),"data-ej-tablet",!1)||!m.isMobile()&&m.isDevice()},isTouchDevice:function(){return("ontouchstart"in window||window.navigator.msPointerEnabled&&m.isMobile())&&this.isDevice()},getClearString:function(e){return g.trim(e.replace(/\s+/g," ").replace(/(\r\n|\n|\r)/gm,"").replace(new RegExp(">[\n\t ]+<","g"),"><"))},getBooleanVal:function(e,t,i){e=g(e).attr(t);return null!=e?"true"==e.toLowerCase():i},_getSkewClass:function(e,t,i){var n=e.width(),s=e.height(),o=e.offset().left,r=e.offset().left+n,a=e.offset().top,e=e.offset().top+s,n=.3*n,s=.3*s;return t<o+n&&i<a+s?"e-m-skew-topleft":r-n<t&&i<a+s?"e-m-skew-topright":r-n<t&&e-s<i?"e-m-skew-bottomright":t<o+n&&e-s<i?"e-m-skew-bottomleft":o+n<t&&i<a+s&&t<r-n?"e-m-skew-top":t<o+n?"e-m-skew-left":r-n<t?"e-m-skew-right":e-s<i?"e-m-skew-bottom":"e-m-skew-center"},_removeSkewClass:function(e){g(e).removeClass("e-m-skew-top e-m-skew-bottom e-m-skew-left e-m-skew-right e-m-skew-topleft e-m-skew-topright e-m-skew-bottomleft e-m-skew-bottomright e-m-skew-center e-skew-top e-skew-bottom e-skew-left e-skew-right e-skew-topleft e-skew-topright e-skew-bottomleft e-skew-bottomright e-skew-center")},_getObjectKeys:function(e){var t,i=[];if(e=Object.prototype.toString.call(e)===Object.prototype.toString()?e:{},!Object.keys){for(t in e)e.hasOwnProperty(t)&&i.push(t);return i}if(Object.keys)return Object.keys(e)},_touchStartPoints:function(e,t){e&&(e=e.touches?e.touches[0]:e,t._distX=0,t._distY=0,t._moved=!1,t._pointX=e.pageX,t._pointY=e.pageY)},_isTouchMoved:function(e,t){var i,n;if(e)return n=(e=e.touches?e.touches[0]:e).pageX-t._pointX,i=e.pageY-t._pointY,Date.now(),t._pointX=e.pageX,t._pointY=e.pageY,t._distX+=n,t._distY+=i,e=Math.abs(t._distX),n=Math.abs(t._distY),!(e<5&&n<5)},listenEvents:function(e,t,i,n,s,o){for(var r=0;r<e.length;r++)m.listenTouchEvent(e[r],t[r],i[r],n,s,o)},listenTouchEvent:function(e,t,i,n,s,o){for(var r,a=n?"removeEventListener":"addEventListener",l=n?"off":"on",d=g(e),u=0;u<d.length;u++)switch(r=d[u],t){case"touchstart":m._bindEvent(r,a,t,i,"mousedown","MSPointerDown","pointerdown",o);break;case"touchmove":m._bindEvent(r,a,t,i,"mousemove","MSPointerMove","pointermove",o);break;case"touchend":m._bindEvent(r,a,t,i,"mouseup","MSPointerUp","pointerup",o);break;case"touchcancel":m._bindEvent(r,a,t,i,"mousecancel","MSPointerCancel","pointercancel",o);break;case"tap":case"taphold":case"ejtouchmove":case"click":g(r)[l](t,i);break;default:"msie"==m.browserInfo().name&&m.browserInfo().version<9?s._on(g(r),t,i):r[a](t,i,!0)}},_bindEvent:function(e,t,i,n,s,o,r){g.support.hasPointer?e[t](window.navigator.pointerEnabled?r:o,n,!0):e[t](i,n,!0)},_browser:function(){return/webkit/i.test(navigator.appVersion)?"webkit":/firefox/i.test(navigator.userAgent)?"Moz":/trident/i.test(navigator.userAgent)?"ms":"opera"in window?"O":""},styles:document.createElement("div").style,userAgent:function(){for(var e="webkitT,t,MozT,msT,OT".split(","),t=0,i=e.length;t<i;t++)if(e[t]+"ransform"in m.styles)return e[t].substr(0,e[t].length-1);return!1},addPrefix:function(e){return""===m.userAgent()?e:(e=e.charAt(0).toUpperCase()+e.substr(1),m.userAgent()+e)},destroyWidgets:function(e){g(e).find("[data-role *= ejm]").each(function(e,t){var t=g(t),i=t.data("ejWidgets");i&&t[i]("destroy")})},getAttrVal:function(e,t,i){e=g(e).attr(t);return null!=e?e:i},getOffset:function(e){var t={},e=e.offset()||{left:0,top:0};return g.extend(!0,t,e),"static"!=g("body").css("position")&&(e=g("body").offset(),t.left-=e.left,t.top-=e.top),t},getZindexPartial:function(e,t){var i,n,s;if(!m.isNullOrUndefined(e)&&0<e.length)return i=e.parents(),n=g("body").children(),!m.isNullOrUndefined(e)&&0<e.length&&n.splice(n.index(t),1),g(n).each(function(e,t){i.push(t)}),!(s=Math.max.apply(s,g.map(i,function(e){if("static"!=g(e).css("position"))return parseInt(g(e).css("z-index"))||1})))||s<1e4?s=1e4:s+=1,s},isValidAttr:function(e,t){var i;return void 0!==(e=g(e)[0])[t]||(i=!1,g.each(e,function(e){if(e.toLowerCase()==t.toLowerCase())return!(i=!0)}),i)}},g.extend(m,m.util),m.widgetBase={droppables:{default:[]},resizables:{default:[]},_renderEjTemplate:function(e,t,i,n){var s=null;return(s="object"==typeof e||e.startsWith("#")||e.startsWith(".")?g(e).attr("type"):s)&&(s=s.toLowerCase(),m.template[s])?m.template[s](this,e,t,i,n):m.template.render(this,e,t,i,n)},destroy:function(){var e,t,i,n;if(!this._trigger("destroy")){this.model.enablePersistence&&(this.persistState(),g(window).off("unload",this._persistHandler));try{this._destroy()}catch(e){}for(e=this.element.data("ejWidgets")||[],n=0;n<e.length;n++)e[n]==this.pluginName&&e.splice(n,1);for(e.length||this.element.removeData("ejWidgets");this._events&&(i=[],t=this._events.pop());){for(n=0;n<t[1].length;n++)g.isPlainObject(t[1][n])||i.push(t[1][n]);g.fn.off.apply(t[0],i)}this._events=null,this.element.removeClass(m.util.getNameSpace(this.sfType)).removeClass("e-js").removeData(this.pluginName),this.element=null,this.model=null}},_on:function(e){this._events||(this._events=[]);for(var t=[].splice.call(arguments,1,arguments.length-1),i={},n=t.length;i&&"function"!=typeof i;)i=t[--n];return t[n]=m.proxy(t[n],this),this._events.push([e,t,i,t[n]]),g.fn.on.apply(e,t),this},_off:function(e,t,i,n){var s,o,r,a,l=this._events;if(l&&l.length)for("function"==typeof i&&(s=n,n=i,i=s),o=t.match(/\S+/g)||[""],r=0;r<l.length;r++)if((a=l[r])[0].length&&(!n||a[2]===n)&&(a[1][0]===t||o[0])&&(!i||a[1][1]===i)&&-1<g.inArray(e[0],a[0])){g.fn.off.apply(e,n?[t,i,a[3]]:[t,i]),l.splice(r,1);break}return this},_trigger:function(e,t){var i,n,s=null,o={};return g.extend(o,t),(s=e in this.model?this.model[e]:s)&&("string"==typeof s&&(s=m.util.getObject(s,window)),g.isFunction(s))&&(i=m.event(e,this.model,t),s=s.call(this,i),(n=this.model._applyScope)&&n.call(),t&&g.extend(t,i),i.cancel||!m.isNullOrUndefined(s))?!1===s||i.cancel:(n=Boolean(t),(t=t||{}).originalEventType=e,t.type=this.pluginName+e,i=g.Event(t.type,m.event(t.type,this.model,t)),this.element.trigger(i),n&&g.extend(t,i),m.isOnWebForms&&0==i.cancel&&this.model.serverEvents&&this.model.serverEvents.length&&m.raiseWebFormsServerEvents(e,t,o),i.cancel)},setModel:function(e,t){var i,n,s;if(!this._trigger("modelChange",{changes:e})){for(i in e){if(!t){if(this.model[i]===e[i]){delete e[i];continue}if(g.isPlainObject(e[i])&&(o(this.model[i],e[i]),g.isEmptyObject(e[i]))){delete e[i];continue}}if(this.dataTypes&&!0!==(n=this._isValidModelValue(i,this.dataTypes,e)))throw"setModel - Invalid input for property :"+i+" - "+n;this.model.notifyOnEachPropertyChanges&&this.model[i]!==e[i]&&(n={oldValue:this.model[i],newValue:e[i]},e[i]=this._trigger(i+"Change",n)?this.model[i]:n.newValue)}g.isEmptyObject(e)||(this._setFirst?((s=e.dataSource)&&delete e.dataSource,g.extend(!0,this.model,e),s&&(this.model.dataSource=s instanceof Array?s.slice():s,e.dataSource=this.model.dataSource),this._setModel&&this._setModel(e)):this._setModel&&!1===this._setModel(e)||g.extend(!0,this.model,e),"enablePersistence"in e&&this._setState(e.enablePersistence))}},option:function(e,t,i){if(!e)return this.model;if(g.isPlainObject(e))return this.setModel(e,i);if("string"==typeof e){e=e.replace(/^model\./,"");var n=m.getObject(e,this.model);if(t===d&&!i)return n;if("enablePersistence"===e)return this._setState(t);if(i&&t===m.extensions.modelGUID)return this._setModel(m.createObject(e,m.getObject(e,this.model),{}));if(i||m.getObject(e,this.model)!==t)return this.setModel(m.createObject(e,t,{}),i)}return d},_isValidModelValue:function(e,t,i){var n,s,o,r=t[e],a=i[e];if(r){if("string"==typeof r){if("enum"==r&&(i[e]=a&&a.toString().toLowerCase(),r="string"),"array"===r){if("[object Array]"===Object.prototype.toString.call(a))return!0}else if("data"===r||"parent"===r||typeof a===r)return!0;return"Expected type - "+r}if(a instanceof Array){for(s=0;s<a.length;s++)if(!0!==(n=this._isValidModelValue(e,t,a[s])))return" ["+s+"] - "+n}else for(o in a)if(n=this._isValidModelValue(o,r,a),!0!==n)return o+" : "+n}return!0},_returnFn:function(e,t){-1!=t.indexOf(".")?this._returnFn(e[t.split(".")[0]],t.split(".").slice(1).join(".")):e[t]=e[t].call(e.propName)},stringify:function(e){for(var t,i=this.observables,n=0;n<i.length;n++)t=m.getObject(i[n],e),m.isNullOrUndefined(t)||"function"!=typeof t||this._returnFn(e,i[n]);return JSON.stringify(e)},_setState:function(e){!0===e?(this._persistHandler=m.proxy(this.persistState,this),g(window).on("unload",this._persistHandler)):(this.deleteState(),g(window).off("unload",this._persistHandler))},_removeProp:function(e,t){m.isNullOrUndefined(e)||(-1!=t.indexOf(".")?this._removeProp(e[t.split(".")[0]],t.split(".").slice(1).join(".")):delete e[t])},persistState:function(){var e,t;if(this._ignoreOnPersist){for(e=v({},this.model),t=0;t<this._ignoreOnPersist.length;t++)this._removeProp(e,this._ignoreOnPersist[t]);e.ignoreOnPersist=this._ignoreOnPersist}else if(this._addToPersist){for(e={},t=0;t<this._addToPersist.length;t++)m.createObject(this._addToPersist[t],m.getObject(this._addToPersist[t],this.model),e);e.addToPersist=this._addToPersist}else e=v({},this.model);this._persistState&&(e.customPersists={},this._persistState(e.customPersists)),window.localStorage?(m.isNullOrUndefined(m.persistStateVersion)||null!=window.localStorage.getItem("persistKey")||window.localStorage.setItem("persistKey",m.persistStateVersion),window.localStorage.setItem("$ej$"+this.pluginName+this._id,JSON.stringify(e))):document.cookie&&(m.isNullOrUndefined(m.persistStateVersion)||null!=m.cookie.get("persistKey")||m.cookie.set("persistKey",m.persistStateVersion),m.cookie.set("$ej$"+this.pluginName+this._id,e))},deleteState:function(){window.localStorage?window.localStorage.removeItem("$ej$"+this.pluginName+this._id):document.cookie&&m.cookie.set("$ej$"+this.pluginName+this._id,model,new Date)},restoreState:function(e){var t,i,n=null;if(window.localStorage?n=window.localStorage.getItem("$ej$"+this.pluginName+this._id):document.cookie&&(n=m.cookie.get("$ej$"+this.pluginName+this._id)),n&&(t=JSON.parse(n),this._restoreState&&(this._restoreState(t.customPersists),delete t.customPersists),!1===m.isNullOrUndefined(t))&&(m.isNullOrUndefined(t.ignoreOnPersist)?m.isNullOrUndefined(t.addToPersist)||(this._addToPersist=t.addToPersist,delete t.addToPersist):(this._ignoreOnPersist=t.ignoreOnPersist,delete t.ignoreOnPersist)),m.isNullOrUndefined(t)||m.isNullOrUndefined(this._ignoreOnPersist))this.model=g.extend(!0,this.model,t);else{for(i in this._ignoreOnPersist)-1!==this._ignoreOnPersist[i].indexOf(".")?m.createObject(this._ignoreOnPersist[i],m.getObject(this._ignoreOnPersist[i],this.model),t):t[this._ignoreOnPersist[i]]=this.model[this._ignoreOnPersist[i]];this.model=t}!e&&n&&this._setModel&&this._setModel(this.model)},ignoreOnPersist:function(e){var t,i,n=[];if("object"==typeof e?n=e:"string"==typeof e&&n.push(e),this._addToPersist===d)for(this._ignoreOnPersist=this._ignoreOnPersist||[],t=0;t<n.length;t++)this._ignoreOnPersist.push(n[t]);else for(t=0;t<n.length;t++)i=this._addToPersist.indexOf(n[t]),this._addToPersist.splice(i,1)},addToPersist:function(e){var t,i,n=[];if("object"==typeof e?n=e:"string"==typeof e&&n.push(e),this._addToPersist===d)for(this._ignoreOnPersist=this._ignoreOnPersist||[],i=0;i<n.length;i++)t=this._ignoreOnPersist.indexOf(n[i]),this._ignoreOnPersist.splice(t,1);else for(i=0;i<n.length;i++)-1===g.inArray(n[i],this._addToPersist)&&this._addToPersist.push(n[i])},formatting:function(e,t,i){var n,s;if(e=e.replace(/%280/g,'"').replace(/&lt;/g,"<").replace(/&gt;/g,">"),i=m.preferredCulture(i)?i:"en-US",r=(n=e).split("{0:"),s=e.split("}"),r=r[0],s=s[1],"string"==typeof t&&g.isNumeric(t)&&(t=Number(t)),-1!=e.indexOf("{0:"))return null!=(e=new RegExp("\\{0(:([^\\}]+))?\\}","gm").exec(e))&&null!=t?null!=r&&null!=s?r+m.format(t,e[2],i)+s:m.format(t,e[2],i):null!=t?t:"";if(!n.startsWith("{")||n.startsWith("{0:"))return null!=this.data&&null==this.data.Value?(g.each(this.data,function(e,t){n=n.replace(new RegExp("\\{"+e+"\\}","gm"),t)}),n):this.data.Value;for(var o=n.split(""),r=(t=(t||"")+"").split(""),a=/[0aA\*CN<>\?]/gm,l=0,d=0;l<o.length;l++)o[l]=a.test(o[l])?"{"+d+++"}":o[l];return String.format.apply(String,[o.join("")].concat(r)).replace("{","").replace("}","")}},m.WidgetBase=function(){},o=function(e,t){for(var i in e)e[i]===t[i]&&delete t[i],g.isPlainObject(t[i])&&g.isPlainObject(e[i])&&o(e[i],t[i])},m.widget=function(c,h,p){var e,t,f;if("object"==typeof c)for(e in p=h,c)t=c[e],t instanceof Array&&(p._rootCSS=t[1],t=t[0]),m.widget(e,t,p),c[e]instanceof Array&&(p._rootCSS="");else f=p._rootCSS||m.getNameSpace(h),p=m.defineClass(h,function(e,t){var i,n,s,o,r,a,l,d,u;if(this.sfType=h,this.pluginName=c,this.instance=b,m.isNullOrUndefined(this._setFirst)&&(this._setFirst=!0),this["ob.values"]={},g.extend(this,m.widgetBase),this.dataTypes)for(i in t)if(n=this._isValidModelValue(i,this.dataTypes,t),!0!==n)throw"setModel - Invalid input for property :"+i+" - "+n;for((d=e.data("ejWidgets")||[]).push(c),e.data("ejWidgets",d),o=0;m.widget.observables&&this.observables&&o<this.observables.length;o++)(s=m.getObject(this.observables[o],t))&&m.createObject(this.observables[o],m.widget.observables.register(s,this.observables[o],this,e),t);if(this.element=e.jquery?e:g(e),this.model=v(!0,{},p.prototype.defaults,t),this.model.keyConfigs=v(this.keyConfigs),this.element.addClass(f+" e-js").data(c,this),this._id=e[0].id,this.element.attr("tabIndex")||this.element.attr("tabIndex",""),this.model.enablePersistence){if(window.localStorage&&!m.isNullOrUndefined(m.persistStateVersion)&&window.localStorage.getItem("persistKey")!=m.persistStateVersion)for(o in window.localStorage)-1!=o.indexOf("$ej$")&&window.localStorage.removeItem(o);else if(document.cookie&&!m.isNullOrUndefined(m.persistStateVersion)&&m.cookie.get("persistKey")!=m.persistStateVersion)for(r in document.cookie.split(/; */))-1!=r.indexOf("$ej$")&&m.cookie.set(r.split("=")[0],model,new Date);this._persistHandler=m.proxy(this.persistState,this),g(window).on("unload",this._persistHandler),this.restoreState(!0)}if(this._init(t),"object"==typeof this.model.keyConfigs&&!(this.model.keyConfigs instanceof Array)){for(l in a=!1,this.model.keyConfigs.focus&&this.element.attr("accesskey",this.model.keyConfigs.focus),this.model.keyConfigs)if("focus"!==l){a=!0;break}a&&this._keyPressed&&(d=e,u="keydown",this.keySettings&&(d=this.keySettings.getElement&&this.keySettings.getElement()||d,u=this.keySettings.event||u),this._on(d,u,function(e){var t,i;this.model.keyConfigs&&(t=w.getActionFromCode(this.model.keyConfigs,e.which,e.ctrlKey,e.shiftKey,e.altKey),i={code:e.which,ctrl:e.ctrlKey,alt:e.altKey,shift:e.shiftKey},t)&&!1===this._keyPressed(t,e.target,i,e)&&e.preventDefault()}))}this._trigger("create")},p),g.fn[c]=function(e){for(var t=e,i=0;i<this.length;i++){var n=g(this[i]),s=n.data(c),o=s&&n.hasClass(f),r=null;if(0<this.length&&g.isPlainObject(t)&&(e=m.copyObject({},t)),o){if(e)if(o=[].slice.call(arguments,1),0<this.length&&o[0]&&"option"===t&&g.isPlainObject(o[0])&&(o[0]=m.copyObject({},o[0])),g.isPlainObject(e))s.setModel(e);else if(0!==e.indexOf("_")&&!m.isNullOrUndefined(r=m.getObject(e,s))||0===e.indexOf("model."))if(r&&g.isFunction(r)){if((o=r.apply(s,o))!==d)return o}else{if(1==arguments.length)return r;s.option(e,arguments[1])}else a(h+": function/property - "+e+" does not exist")}else!0!==p.prototype._requiresID||g(this[i]).attr("id")||n.attr("id",l("ejControl_")),e&&"object"!=typeof e?a(c+": methods/properties can be accessed only after plugin creation"):(p.prototype.defaults&&!m.isNullOrUndefined(m.setCulture)&&"locale"in p.prototype.defaults&&"ejChart"!=c&&(!e||"locale"in e?m.isNullOrUndefined(e)&&((e={}).locale=m.setCulture().name):e.locale=m.setCulture().name),new p(n,e))}return-1!=c.indexOf("ejm")&&m.widget.registerInstance(n,c,h,p.prototype),this},m.widget.register(c,h,p.prototype)},g.extend(m.widget,{register:function(e,t,i){m.isNullOrUndefined(n[e])||a("ej.widget : The widget named "+e+" is trying to register twice."),n[e]={name:e,className:t,proto:i},m.widget.extensions&&m.widget.extensions.registerWidget(e)},registerInstance:function(e,t,i,n){r.push({element:e,pluginName:t,className:i,proto:n})},registeredWidgets:n={},registeredInstances:r=[]}),m.widget.destroyAll=function(e){var t,i,n,s;if(e&&e.length)for(t=0;t<e.length;t++)if((n=(i=e.eq(t).data()).ejWidgets)&&n.length)for(s=0;s<n.length;s++)i[n[s]]&&i[n[s]].destroy&&i[n[s]].destroy()},m.cookie={get:function(e){e=RegExp(e+"=([^;]+)").exec(document.cookie);return e&&1<e.length?e[1]:d},set:function(e,t,i){"object"==typeof t&&(t=JSON.stringify(t)),t=escape(t)+(null==i?"":"; expires="+i.toUTCString()),document.cookie=e+"="+t}},w={getActionFromCode:function(e,t,i,n,s){var o,r,a;for(o in i=i||!1,n=n||!1,s=s||!1,e)if("focus"!==o)for(r=w.getKeyObject(e[o]),a=0;a<r.length;a++)if(t===r[a].code&&i==r[a].isCtrl&&n==r[a].isShift&&s==r[a].isAlt)return o;return null},getKeyObject:function(e){for(var t,i,n,s={isCtrl:!1,isShift:!1,isAlt:!1},o=g.extend(!0,{},s),r=e.split(","),a=[],l=0;l<r.length;l++){if(t=null,-1!=r[l].indexOf("+"))for(i=r[l].split("+"),n=0;n<i.length;n++)t=w.getResult(g.trim(i[n]),s);else t=w.getResult(g.trim(r[l]),g.extend(!0,{},o));a.push(t)}return a},getResult:function(e,t){return"ctrl"===e?t.isCtrl=!0:"shift"===e?t.isShift=!0:"alt"===e?t.isAlt=!0:t.code=parseInt(e,10),t}},m.getScrollableParents=function(e){return g(e).parentsUntil("html").filter(function(){return"visible"!=g(this).css("overflow")}).add(g(window))},m.browserInfo=function(){var e,t,i,n,s={},o=[],r={opera:/(opera|opr)(?:.*version|)[ \/]([\w.]+)/i,edge:/(edge)(?:.*version|)[ \/]([\w.]+)/i,webkit:/(chrome)[ \/]([\w.]+)/i,safari:/(webkit)[ \/]([\w.]+)/i,msie:/(msie|trident) ([\w.]+)/i,mozilla:/(mozilla)(?:.*? rv:([\w.]+)|)/i};for(e in r)if(r.hasOwnProperty(e)&&(o=navigator.userAgent.match(r[e]),o)){if(s.name="opr"==o[1].toLowerCase()?"opera":o[1].toLowerCase(),s.version=o[2],s.culture={},s.culture.name=s.culture.language=navigator.language||navigator.userLanguage,void 0!==m.globalize){for(t=m.preferredCulture().name,i=navigator.language||navigator.userLanguage?m.preferredCulture(navigator.language||navigator.userLanguage):m.preferredCulture("en-US"),n=0;navigator.languages&&n<navigator.languages.length&&(i=m.preferredCulture(navigator.languages[n])).language!=navigator.languages[n];n++);m.preferredCulture(t),g.extend(!0,s.culture,i)}navigator.userAgent.match(/Trident\/7\./)&&(s.name="msie");break}return s.isMSPointerEnabled="msie"==s.name&&9<s.version&&window.navigator.msPointerEnabled,s.pointerEnabled=window.navigator.pointerEnabled,s},m.eventType={mouseDown:"mousedown touchstart",mouseMove:"mousemove touchmove",mouseUp:"mouseup touchend",mouseLeave:"mouseleave touchcancel",click:"click touchend"},m.event=function(e,t,i){return g.extend(i||{},{type:e,model:t,cancel:!1})},m.proxy=function(t,i,n){return t&&"function"==typeof t?"on"in t&&i?n?t.on(i,n):t.on(i):function(){var e=n?[n]:[];return e.push.apply(e,arguments),t.apply(i||this,e)}:null},m.hasStyle=function(e){var t,i,n=document.documentElement.style;if(e in n)return!0;for(t=["ms","Moz","Webkit","O","Khtml"],e=e[0].toUpperCase()+e.slice(1),i=0;i<t.length;i++)if(t[i]+e in n)return!0;return!1},Array.prototype.indexOf=Array.prototype.indexOf||function(e){var t,i=this.length;if(0!==i)for(t=0;t<i;t++)if(t in this&&this[t]===e)return t;return-1},String.prototype.startsWith=String.prototype.startsWith||function(e){return this.slice(0,e.length)===e};var o,w,s,a,n,r,v=m.copyObject=function(e,t){var i,n,s,o,r,a="boolean"!=typeof e?1:2,l=[].slice.call(arguments,a);for(1===a&&(t=e,e=d),s=0;s<l.length;s++)for(o in l[s])if(i=t[o],n=l[s][o],n!==d&&i!==n&&l[s]!==n&&t!==n)if(n instanceof Array)if(0===s&&e)for(t[o]=[],r=0;r<n.length;r++)v(!0,t[o],n);else t[o]=n.slice();else m.isPlainObject(n)?(t[o]=i||{},e?v(e,t[o],n):v(t[o],n)):t[o]=n;return t},b=function(){return this},t=0,l=function(e){return e+t++};m.template={},m.template.render=m.template["text/x-jsrender"]=function(e,t,i,n,s){"#"!==t.slice(0,1)&&(t=["<div>",t,"</div>"].join(""));s={prop:s,index:n};return g(t).render(i,s)},m.isPlainObject=function(e){if(!e||m.DataManager!==d&&e instanceof m.DataManager||"object"!=typeof e||e.nodeType||jQuery.isWindow(e))return!1;try{if(e.constructor&&!e.constructor.prototype.hasOwnProperty("isPrototypeOf"))return!1}catch(e){return!1}var t,i=m.support.isOwnLast;for(t in e)if(i)break;return t===d||e.hasOwnProperty(t)},s=!1,m.util.valueFunction=function(n){return function(e,t){var i=m.getObject(n,this.model);if(!1===s&&(s=m.getObject("observables.getValue",m.widget)),e===d)return m.isNullOrUndefined(s)?"function"==typeof i?i.call(this):i:s(i,t);"function"==typeof i?(this["ob.values"][n]=e,i.call(this,e)):m.createObject(n,e,this.model)}},m.util.getVal=function(e){return"function"==typeof e?e():e},m.support={isOwnLast:function(){function e(){this.a=1}for(var t in e.prototype.b=1,new e)return"b"===t}(),outerHTML:document.createElement("div").outerHTML!==d},a=m.throwError=function(e){try{throw new Error(e)}catch(e){throw e.message+"\n"+e.stack}},m.getRandomValue=function(e,t){var i;return e===d||t===d?m.throwError("Min and Max values are required for generating a random number"):0|("crypto"in window&&"getRandomValues"in crypto?(i=new Uint16Array(1),window.crypto.getRandomValues(i),i[0]%(t-e)+e):Math.random()*(t-e)+e)},m.extensions={},m.extensions.modelGUID="{0B1051BA-1CCB-42C2-A3B5-635389B92A50}"}(window.jQuery,window.Syncfusion),$.fn.addEleAttrs=function(e){var i=$(this);$.each(e,function(e,t){t&&t.specified&&i.attr(t.name,t.value)})},$.fn.removeEleAttrs=function(n){return this.each(function(){var i=$(this),e=$(this.attributes).clone();$.each(e,function(e,t){t&&t.specified&&n.test(t.name)&&i.removeAttr(t.name)})})},$.fn.attrNotStartsWith=function(e){var t,n=[];for(this.each(function(){t=$(this.attributes).clone()}),i=0;i<t.length;i++){if(t[i]&&t[i].specified&&e.test(t[i].name))continue;n.push(t[i])}return n},$.fn.removeEleEmptyAttrs=function(){return this.each(function(){var i=$(this),e=$(this.attributes).clone();$.each(e,function(e,t){t&&t.specified&&""===t.value&&i.removeAttr(t.name)})})},$.extend($.support,{has3d:ej.addPrefix("perspective")in ej.styles,hasTouch:"ontouchstart"in window,hasPointer:navigator.msPointerEnabled,hasTransform:!1!==ej.userAgent(),pushstate:"pushState"in history&&"replaceState"in history,hasTransition:ej.addPrefix("transition")in ej.styles}),$.extend($.expr[":"],{attrNotStartsWith:function(e,t,i){for(var n=e.attributes,s=0;s<n.length;s++)if(0===n[s].nodeName.indexOf(i[3]))return!1;return!0}}),e=$.fn.andSelf||$.fn.addBack,$.fn.andSelf=$.fn.addBack=function(){return e.apply(this,arguments)}}),function(e){"function"==typeof define&&define.amd?define(["./../common/ej.core.min"],e):e()}(function(){var n,i;n=jQuery,(i=Syncfusion).widget("ejWaitingPopup","ej.WaitingPopup",{element:null,model:null,validTags:["div","span"],_setFirst:!1,_rootCSS:"e-waitingpopup",defaults:{showOnInit:!1,target:null,appendTo:null,showImage:!0,htmlAttributes:{},cssClass:"",text:null,template:null,create:null,destroy:null},dataTypes:{showOnInit:"boolean",showImage:"boolean",cssClass:"string"},_isTargetVisible:function(){return"none"!=this.element.css("display")},show:function(){this._isTargetVisible()&&(this._refreshPanel(),this.maindiv.css("display","block"),this.model.showOnInit=!0)},hide:function(){this.maindiv.css("display","none"),this.model.showOnInit=!1},refresh:function(){this._isTargetVisible()&&this._refreshPanel()},_setText:function(e){e?this.popupText?this.popupText.html(e):(this._generateTextTag(e),this._setContentPosition()):this.popupText&&(this.popupText.remove(),this.popupText=null)},_showImage:function(e){e?(this.popupImage=i.buildTag("span.e-image"),this.popupText?this.popupImage.insertBefore(this.popupText):this.maindiv.append(this.popupImage)):this.popupImage&&(this.popupImage.remove(),this.popupImage=null)},_setTemplate:function(){var e=this.model.template;"string"==typeof e&&(e=n(e)),this.templateObj="object"==typeof e&&"function"==typeof e.css?e:i.buildTag("div","",{"text-align":"center"}).append(e),this.templateObj.css({visibility:"visible",display:"block"}),this.maindiv.append(this.templateObj)},_setTheme:function(e){this.maindiv.removeClass(this.model.cssClass).addClass(e)},_init:function(){this._initialize(),this._render(),this._wireEvents()},_wireEvents:function(){n(window).on("resize",n.proxy(this._resizeHandler,this))},_unwireEvents:function(){n(window).off("resize",n.proxy(this._resizeHandler,this))},_resizeHandler:function(){this.refresh()},_setModel:function(e){for(var t in e)switch(t){case"text":this._setText(e[t]);break;case"cssClass":this._setTheme(e[t]);break;case"htmlAttributes ":this._addAttr(e[t]);break;case"showOnInit":this._setVisibility(e[t]);break;case"showImage":this._showImage(e[t]),this._setContentPosition();break;case"target":this.model.target=e[t],this._setTarget(),this.refresh();break;case"appendTo":this.model.appendTo=e[t],this._setTarget(),i.isNullOrUndefined(this.model.appendTo)||"document"==this.model.appendTo||"window"==this.model.appendTo?n("body").append(this.maindiv):this.maindiv.appendTo(n(this.model.appendTo)),this.refresh();break;case"template":this.maindiv.empty(),e[t]?(this.model.template=e[t],this._setTemplate()):(this.model.template=e[t]=null,this._showImage(this.model.showImage),this.model.text&&this._generateTextTag(this.model.text)),this._setContentPosition()}},_setTarget:function(){this.targetElement="document"==this.model.target?n(document):"window"==this.model.target?n(window):this.model.target?n(this.model.target):this.element},_destroy:function(){this.maindiv.remove(),this._unwireEvents()},_initialize:function(){this.maindiv=null,this.popupText=null,this.popupImage=null,this.templateObj=null,this.targetElement=null},_render:function(){this._setTarget();var e=n("#"+this.element[0].id+"_WaitingPopup").get(0);e&&n(e).remove(),this.maindiv=i.buildTag("div.e-waitpopup-pane e-widget "+this.model.cssClass+"#"+this.element[0].id+"_WaitingPopup"),this.model.template?this._setTemplate():(this._showImage(this.model.showImage),this.model.text&&this._generateTextTag(this.model.text)),i.isNullOrUndefined(this.model.appendTo)||"document"==this.model.appendTo||"window"==this.model.appendTo?n("body").append(this.maindiv):this.maindiv.appendTo(n(this.model.appendTo)),this._setVisibility(this.model.showOnInit),this._addAttr(this.model.htmlAttributes)},_refreshPanel:function(){this.maindiv.width(this.targetElement.outerWidth()),this.maindiv.height(this.targetElement.outerHeight()),this._setPanelPosition(),this._setContentPosition()},_addAttr:function(e){var i=this;n.map(e,function(e,t){"class"==t?i.maindiv.addClass(e):i.maindiv.attr(t,e)})},_setPanelPosition:function(){var e=i.util.getOffset(this.targetElement);null!=this.model.appendTo&&0<n(this.model.appendTo).length&&("relative"!=this.targetElement.css("position")&&"absolute"!=this.targetElement.css("position")||this.targetElement[0]!==n(this.model.appendTo)[0]?(e.left-=this.targetElement.offsetParent().offset().left,e.top-=this.targetElement.offsetParent().offset().top):e={left:0,top:0}),this.maindiv.css({position:"absolute",left:Math.ceil(e.left)+"px",top:Math.ceil(e.top)+"px","z-index":this._maxZindex()+1})},_setContentPosition:function(){var e,t,i,n;null==this.model.template?(t=e=0,i=null,n=this.targetElement.outerHeight(),this.popupText&&(e=this.popupText.outerHeight()),this.popupImage&&(t=this.popupImage.outerHeight()),this.popupImage&&(i=Math.ceil((n-(t+e))/2),this.popupImage.css("top",i+"px")),this.popupText&&(i=i||Math.ceil((n-e)/2),this.popupText.css("top",i+"px"))):this.templateObj.css({position:"relative",left:Math.ceil((this.targetElement.outerWidth()-this.templateObj.outerWidth())/2),top:Math.ceil((this.targetElement.outerHeight()-this.templateObj.outerHeight())/2)})},_generateTextTag:function(e){this.popupText=i.buildTag("div.e-text",e),this.maindiv.append(this.popupText)},_setVisibility:function(e){e&&this._isTargetVisible()?this.show():this.hide()},_maxZindex:function(){return i.util.getZindexPartial(this.element)}})});