/*!
*  filename: schedulerdialog.min.js
*  version : unknown version
*  Copyright Syncfusion Inc. 2001 - 2013. All rights reserved.
*  Use of this code is subject to the terms of our license.
*  A copy of the current license can be obtained at any time by e-mailing
*  licensing@syncfusion.com. Any infringement will be prosecuted under
*  applicable laws. 
*/
function SuccessAlert(n,t,i){var r=window.parent,u=!1;try{u=r.location.host==window.location.host&&r.$("#success-alert").length>0}catch(f){u=!1}r=u?r:window;r.$("#success-alert").css("display","table");r.$("#message-header").html(n);r.$("#message-content").html(t);setTimeout(function(){r.$("#success-alert").fadeOut()},i)}function WarningAlert(n,t,i){parent.$("#warning-alert").css("display","table");parent.$("#warning-alert #message-header").html(n);parent.$(" #warning-alert #message-content").html(t);i!=null&&i!=""&&setTimeout(function(){parent.$("#warning-alert").fadeOut()},i);$(document).on("click",".close-div",function(){parent.$("#warning-alert").fadeOut()})}function MobileAlert(n,t){parent.$("#mobile-alert").fadeIn();parent.$("#mobile-alert #message").html(n);t!=null&&t!=""&&setTimeout(function(){parent.$("#mobile-alert").fadeOut(1e3)},t)}function ProgressAlert(n,t,i,r,u){var f="progress-alert_"+n,e;parent.$("#progress-alert-container").find("#"+f).length||(e='<div id="'+f+'" class="progress-alert"><div id="image-container"><div class="image-holder"><span id="progress-notify-success" class="su su-tick display-none" alt="Success Icon"><\/span><div id="progress-notify-loader"><svg x="0px" y="0px" width="24px" height="30px" viewBox="0 0 24 30" style="enable-background:new 0 0 50 50;" xml:space="preserve"><rect x="0" y="10" width="4" height="10" fill="#0565FF" opacity="0.2"><animate attributeName="opacity" attributeType="XML" values="0.2; 1; .2" begin="0s" dur="0.8s" repeatCount="indefinite" /><animate attributeName="height" attributeType="XML" values="10; 20; 10" begin="0s" dur="0.8s" repeatCount="indefinite" /><animate attributeName="y" attributeType="XML" values="10; 5; 10" begin="0s" dur="0.8s" repeatCount="indefinite" /><\/rect><rect x="8" y="10" width="4" height="10" fill="#0565FF" opacity="0.2"><animate attributeName="opacity" attributeType="XML" values="0.2; 1; .2" begin="0.15s" dur="0.8s" repeatCount="indefinite" /><animate attributeName="height" attributeType="XML" values="10; 20; 10" begin="0.15s" dur="0.8s" repeatCount="indefinite" /><animate attributeName="y" attributeType="XML" values="10; 5; 10" begin="0.15s" dur="0.8s" repeatCount="indefinite" /><\/rect><rect x="16" y="10" width="4" height="10" fill="#0565FF" opacity="0.2"><animate attributeName="opacity" attributeType="XML" values="0.2; 1; .2" begin="0.3s" dur="0.8s" repeatCount="indefinite" /><animate attributeName="height" attributeType="XML" values="10; 20; 10" begin="0.3s" dur="0.8s" repeatCount="indefinite" /><animate attributeName="y" attributeType="XML" values="10; 5; 10" begin="0.3s" dur="0.8s" repeatCount="indefinite" /><\/rect><\/svg><\/div><\/div><\/div><div id="message" class="div-close"><h1 id="message-header"><\/h1><span id="message-content"><\/span><\/div><div class="close-div"><span id="close-content">'+window.Server.App.Localization.Close+"<\/span><\/div><\/div> ",$("#progress-alert-container").append(e));parent.$("#"+f).css("display","table");parent.$("#"+f+" #message-header").html(t);parent.$("#"+f+" #message-content").html(i);u?(parent.$("#"+f+" #progress-notify-loader").addClass("display-none"),parent.$("#"+f+" #progress-notify-success").removeClass("display-none")):(parent.$("#"+f+" #progress-notify-loader").removeClass("display-none"),parent.$("#"+f+" #progress-notify-success").addClass("display-none"));r!=null&&r!=""&&setTimeout(function(){parent.$("#"+f).fadeOut()},r);$(document).on("click",".close-div",function(){var n=$(this);parent.$(n).parent().remove()})}function warningToast(n,t,i,r=null){var u="",f=0;u=isVariableNullOrUndefined(i)?"warning-toast":"warning-toast_"+i;jQuery(".toast-container.warning-toast:visible").length>0&&($(".toast-container.warning-toast:visible .toast-close").click(),f=1e3);setTimeout(function(){if(!parent.$("#progress-alert-container").find("#"+u).length){var i="<div id='"+u+"' style='display: none;' class='toast-container warning-toast'><img src='"+cdnLink+"/cdn/images/warning-toast.svg' class='toast-image-container'/><div class='toast-message'><span class='toast-message-content'><\/span>&nbsp<a class='toast-know-more'>"+window.Server.App.Localization.LearnMore+"<\/a><\/div><div class='toast-close'><span class='su su-close' title='"+window.Server.App.Localization.Close+"'><\/span><\/div><\/div>";parent.$("#progress-alert-container").append(i)}parent.$("#"+u).css("display","table");isVariableNullOrUndefined(t)?(parent.jQuery(".toast-know-more").hide(),parent.$("#"+u+" .toast-message-content").html(n)):(parent.jQuery(".toast-know-more").show(),parent.$("#"+u+" .toast-message-content").html(n),parent.$("#"+u).attr("data-error-message",t));r!=null&&parent.$("#"+u).attr("data-header",r)},f)}function successToast(n,t,i){var r="",u;r=typeof i=="undefined"?"success-toast":"success-toast_"+i;u=0;jQuery(".toast-container.warning-toast:visible").length>0&&($(".toast-container.warning-toast:visible .toast-close").click(),u=1e3);jQuery(".toast-container.success-toast:visible").length>0&&($(".toast-container.success-toast:visible .toast-close").click(),u=1e3);setTimeout(function(){var f,i,u;parent.$("#progress-alert-container").find("#"+r).length||(f="<div id='"+r+"' style='display: none;' class='toast-container success-toast'><img src='"+cdnLink+"/cdn/images/success-toast.svg' class='toast-image-container'/><div class='toast-message'><span class='toast-message-content'><\/span><\/div><div class='toast-close'><span class='su su-close' title='"+window.Server.App.Localization.Close+"'><\/span><\/div><\/div >",parent.$("#progress-alert-container").append(f));i=window.parent;u=!1;try{u=i.location.host==window.location.host&&i.$("#"+r).length>0}catch(e){u=!1}i=u?i:window;i.$("#"+r).css("display","table");i.$("#"+r+" .toast-message-content").html(n);setTimeout(function(){i.$("#"+r).fadeOut()},t)},u)}function closeWarningToastDialog(){WarningToastDialogObj.hide()}function createLoader(n,t){var i="",t,r;return typeof n=="string"?(t=n.indexOf(".")===0?".":"#",n=n.indexOf(".")===0?n.slice(1,n.length):n.indexOf("#")===0?n.slice(1,n.length):n,i=n+"-loader-icon",$("#"+i).length==0&&$(t+n).length!=0&&(r=$("<div class='loader-blue loader-icon' id='"+i+"'><svg class='circular'><circle class='path' cx='27' cy='27' r='20' fill='none' stroke-width='4' stroke-miterlimit='10'><\/circle><\/svg><\/div>"),$("body").append(r)),i):(n=t,t=n.indexOf(".")===0?".":"#",n=n.slice(1,n.length),i=n+"-loader-icon",$("#"+i).length==0&&$(t+n).length!=0&&(r=$("<div class='loader-blue loader-icon' id='"+i+"'><svg class='circular'><circle class='path' cx='27' cy='27' r='20' fill='none' stroke-width='4' stroke-miterlimit='10'><\/circle><\/svg><\/div>"),$("body").append(r)),i)}function ajaxPostCall(n,t,i,r,u,f,e){if(embedConfig.IsEmbedCode){if(n=="GET"){var o=jQuery.param(i);t.api=t.api+"?"+o;i=null}return $.ajax({type:n,url:dashboardServerApiUrlForServerEmbed+t.api,headers:{"Content-type":"application/json",Authorization:"bearer "+designerToken},data:JSON.stringify(i),beforeSend:function(n){isNullOrWhitespace(r)||r(n)},success:function(n){isNullOrWhitespace(u)||u(n)},error:function(){isNullOrWhitespace(f)||f()},complete:function(n){isNullOrWhitespace(e)||e(n)}})}return $.ajax({type:n,url:t.web,data:i,beforeSend:function(n){isNullOrWhitespace(r)||r(n)},success:function(n){isNullOrWhitespace(u)||u(n)},error:function(){isNullOrWhitespace(f)||f()},complete:function(n){isNullOrWhitespace(e)||e(n)}})}function isNullOrWhitespace(n){return n==null||n==undefined||$.trim(n)==""}function generateProfileAvatar(){$(".profile-pic-tag").each(function(){var u=$(this).attr("data-id"),i=$(this).attr("data-image-size"),f=i/2.5,a=f<10?"0":f<20?"1px":"2px",v=f<10?"1px":"2px",y=$(this).attr("data-display-name"),p=$(this).attr("data-type"),s,e,o,h,c,n,l,r,t;if($(this).html(""),u!=0){if(s=["#b7fbff","#a9eec2","#ffe0a3","#ffa1ac","#8ed6ff","#bf9fee","#ffa0d2","#32dbc6","#d2c8c8","#e3e7f1"],p=="user"){if(e=u.match(/(\d+)/g),o=0,e!=null)for(o=0;o<e.length;o++)h=e[0][0];$(this).css("background-color",s[h]);c=idpUrl+"/User/Avatar?id="+u;n=$('<img id="default-profile-image">');n.attr("src",c);n.attr("width",i);n.attr("height",i);n.css("position","absolute");n.css("top","0px");n.css("left","0px");n.css("border-radius","50%");n.appendTo($(this))}else l=u%10,$(this).css("background-color",s[l]);$(this).css("width",i);$(this).css("height",i);$(this).css("line-height",i+"px");r=y.trim().toUpperCase().split(/ /);t=$('<span id="first-letter">');isNullOrWhitespace(r[1])?t.text(r[0][0]):t.text(r[0][0]+r[1][0]);t.css("font-size",f+"px");t.css("margin-left",v);t.css("letter-spacing",a);t.appendTo($(this))}})}function isVariableNullOrUndefined(n){return typeof n!="undefined"&&n!==null?!1:!0}function isEmptyOrWhitespace(n){return $.trim(n)==""?!0:!1}function convertToBoolean(n){typeof n=="string"&&(n=n.toLowerCase());switch(n){case!0:case"true":case 1:case"1":case"on":case"yes":return!0;default:return!1}}function handleAjaxError(){}function refreshScroller(){var i=$(".collapseIcon").css("display")=="block"?$(".collapseIcon").height():0,n,t;$(window).height()-($("#CatergoryHeading").outerHeight()+$("#base_menu_container_Div").outerHeight()+$("#listing").outerHeight()+i)<0?(n=$(window).height()-($("#CatergoryHeading").outerHeight()+$("#base_menu_container_Div").outerHeight()+i),t=$("#CatergoryHeading").outerWidth(),typeof BoldBIDashboard!="undefined"?$("#ScrollElement").BoldBIDashboardScroller({height:window.innerWidth<1041?n<200?200:n:n,width:t,buttonSize:0,scrollerSize:9}):$("#ScrollElement").ejScroller({height:window.innerWidth<1041?n<200?200:n:n,width:t,buttonSize:0,scrollerSize:9})):typeof BoldBIDashboard!="undefined"?$("#ScrollElement").data("BoldBIDashboardScroller")!=undefined&&$("#ScrollElement").data("BoldBIDashboardScroller").destroy():$("#ScrollElement").data("ejScroller")!=undefined&&$("#ScrollElement").data("ejScroller").destroy()}function refreshScrollerForCategory(){for(var i,u,n,r=0,t=0;t<$("#scroll-content #listing>li").length;t++)r+=$($("#scroll-content #listing>li")[t]).outerHeight();$(window).height()-($(".item-navigation").outerHeight()+$("#header-area").outerHeight()+$("#category-listing").outerHeight()+r+$("#create-new-category").outerHeight())<0?(i=$(window).height()-($(".item-navigation").outerHeight()+$("#header-area").outerHeight()+$("#category-listing").outerHeight()+$("#create-new-category").outerHeight()),u=$(".item-navigation").outerWidth(),$(".all-items").hasClass("active")&&$("#category-list").is(":visible")&&(n="",typeof BoldBIDashboard!="undefined"?($("#scroll-content").BoldBIDashboardScroller({height:i,buttonSize:0,scrollerSize:9,autoHide:!0}),n=$("#scroll-content").data("BoldBIDashboardScroller")):($("#scroll-content").ejScroller({height:i,buttonSize:0,scrollerSize:9,autoHide:!0}),n=$("#scroll-content").data("ejScroller")),n!=undefined&&n!=null&&n.refresh())):typeof BoldBIDashboard!="undefined"?$("#scroll-content").data("BoldBIDashboardScroller")!=undefined&&$("#scroll-content").data("BoldBIDashboardScroller").destroy():$("#scroll-content").data("ejScroller")!=undefined&&$("#scroll-content").data("ejScroller").destroy()}function addPlacehoder(n){regexIe8.test(userAgent)&&$(n).find("input[type=text],input[type=password],textarea").each(function(){$(this).val()===""?$($("<div>",{"class":"placeholder",text:$(this).attr("placeholder")})).insertAfter(this).show():$($("<div>",{"class":"placeholder",text:$(this).attr("placeholder")})).insertAfter(this).hide()})}function doAjaxPost(n,t,i,r,u,f,e,o,s,h){e&&(e.is(":input:button")||e.is("button")?e.prop({disabled:!0}):showWaitingPopup(e));(o===undefined||o===null)&&(o=!0);(s===undefined||s===null)&&(s="application/x-www-form-urlencoded; charset=UTF-8");$.ajax({type:n,url:t,context:this,processData:o,contentType:s,data:i,success:h===!0?$.proxy(getFnObj(r),window,i):$.proxy(getFnObj(r),window),error:$.proxy(function(n,t,i){n.statusText!="abort";u&&getFnObj(u).call(window,n,t,i)},this),complete:$.proxy(function(n){try{var t=JSON.parse(n.responseText);t.data!=undefined&&t.data!=null&&t.data.Message!=undefined&&t.data.Message!=null&&t.data.Message.toLowerCase()=="unauthorized"&&window.location.replace(window.location.href)}catch(i){}e&&(e.is(":input:button")||e.is("button")?e.prop({disabled:!1}):hideWaitingPopup(e));f&&getFnObj(f).call(window,n)},this)})}function ShowWaitingProgress(n,t){var i;typeof BoldBIDashboard!="undefined"?t=="show"?(i=createLoader(n),$(n).BoldBIDashboardWaitingPopup({template:$("#"+i)}),$(n).BoldBIDashboardWaitingPopup("show")):$(n).BoldBIDashboardWaitingPopup("hide"):t=="show"?(i=createLoader(n),$(n).ejWaitingPopup({template:$("#"+i)}),$(n).ejWaitingPopup("show")):$(n).ejWaitingPopup("hide")}function getFnObj(n){return typeof n=="function"?n:typeof n=="string"&&window[n]?n:void 0}function showWaitingPopup(n){var t,i;typeof n=="string"?(t=n.indexOf(".")===0?".":"#",n.indexOf(".")===0||n.indexOf("#")===0?t=n:(t=t+n,n=$(n.indexOf(".")===0?n:"#"+n))):(n.first().attr("id")?(n=n.first().attr("id"),t="#"+n):(n=n.first().attr("class"),n="."+n,t=n),n=$(n.indexOf(".")===0?n:"#"+n));i=createLoader(n,t);typeof BoldBIDashboard!="undefined"?(n.BoldBIDashboardWaitingPopup({template:$("#"+i)}),n.BoldBIDashboardWaitingPopup("show")):(n.ejWaitingPopup({template:$("#"+i)}),n.ejWaitingPopup("show"))}function hideWaitingPopup(n){typeof n=="string"&&(n=$(n.indexOf(".")===0?n:"#"+n));typeof BoldBIDashboard!="undefined"?n.BoldBIDashboardWaitingPopup("hide"):n.ejWaitingPopup("hide")}function redirect(n,t){t?setTimeout(function(){window.location.assign(n)},t):window.location.assign(n)}function CheckMonthFormat(n,t){return n.includes(t)}function DateCustomFormat(n,t,i){var y,p,w,b,k,f,d,g,nt,e,h,tt,r,c,o,l,s,it,rt,a,ut,ft,u=new Date(t),v=n;p=((y=u.getFullYear())+"").slice(-2);k=(f=u.getMonth()+1)<10?"0"+f:f;b=(w=["January","February","March","April","May","June","July","August","September","October","November","December"][f-1]).substring(0,3);nt=(e=u.getDate())<10?"0"+e:e;g=(d=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"][u.getDay()]).substring(0,3);ut=e>=10&&e<=20?"th":(a=e%10)==1?"st":a==2?"nd":a==3?"rd":"th";n=n.replace("yyyy",y).replace("yy",p).replace("dddd",d).replace("ddd",g).replace("dd",nt).replace("d",e).replace("th",ut);switch(!0){case CheckMonthFormat(n,"MMMM"):n=n.replace("MMMM",w);break;case CheckMonthFormat(n,"MMM"):n=n.replace("MMM",b);break;case CheckMonthFormat(n,"MM"):n=n.replace("MM",k);break;case CheckMonthFormat(n,"M "):n=n.replace("M ",f+" ");break;case CheckMonthFormat(n,"M,"):n=n.replace("M,",f+",");break;case CheckMonthFormat(n,"M"):n=n.replace("M",f)}return i=="True"?(r=h=u.getHours(),ft=r<10?"0"+r:r,c=(o=u.getMinutes())<10?"0"+o:o,l=(s=u.getSeconds())<10?"0"+s:s,v=n.replace("HH",ft).replace("mm",c).replace("ss",l)):(r=h=u.getHours(),r==0&&(r=24),r>12&&(r-=12),tt=r<10?"0"+r:r,rt=(it=h<12?"am":"pm").toUpperCase(),c=(o=u.getMinutes())<10?"0"+o:o,l=(s=u.getSeconds())<10?"0"+s:s,v=n.replace("hhh",h).replace("hh",tt).replace("h",r).replace("mm",c).replace(":m",":"+o).replace("ss",l).replace("s",s).replace("ampm",it).replace("AMPM",rt)),v}function isNumberKey(n){var t=n.which?n.which:n.keyCode;return t!=46&&t>31&&(t<48||t>57)?!1:!0}function validateUserName(n){return/\s/g.test(n)?{isValid:!1,message:window.Server.App.Localization.HasWhiteSpace}:/[^a-zA-Z0-9]/.test(n)?{isValid:!1,message:window.Server.App.Localization.UserNameSpecialCharacterValicator}:{isValid:!0,message:"valid"}}function isValidUrl(n){return/^(?!(ftp|https?):\/\/)([a-zA-Z0-9-_]+\.)*[a-zA-Z0-9][a-zA-Z0-9-]+(\.[a-z]{2,6})?(:\d{1,5})?(\/[a-zA-Z0-9-]+[a-zA-Z0-9-]*(\.[a-z]{2,8})?)*?$/gm.test(n)?!0:!1}function isValidOrigin(n){var t=new RegExp(/^https?:\/\/(?:w{1,3}\.)?[^\s.]+(?:\.[a-z]+)*(?::\d+)?(?![^<]*(?:<\/\w+>|\/?>))/);return t.test(n)}function getMaxZIndex(){var n=0;return $("div").each(function(){var t=parseInt($(this).css("zIndex"),10);t>n&&(n=t)}),n}function IsEmail(n){return/^([\w-\.+]+)@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.)|(([\w-]+\.)+))([a-zA-Z]{2,63}|[0-9]{1,3})(\]?)$/.test(n)?!0:!1}function IsValidContactNumber(n){return/^(?:|[0-9\-\+]{9,15})$/.test(n)?!0:!1}function ValidateIsolationCode(n){var r="",u,i,t,f;if(r=typeof BoldBIDashboard!="undefined"?BoldBIDashboard.isNullOrUndefined(n):ej.isNullOrUndefined(n),!r&&n!=="")for(u=decodeURI(n).replace(/~&~/g,String.fromCharCode(251)+String.fromCharCode(251)).replace(/~=~/g,String.fromCharCode(250)+String.fromCharCode(250)).replace(/~[?]~/g,String.fromCharCode(253)+String.fromCharCode(253)).replace(/~[/]~/g,String.fromCharCode(254)+String.fromCharCode(254)).replace(/&&/g,"&").replace(/&/g,"|,|").replace(/=/g,"|:|").replace(/~,~/g,String.fromCharCode(252)+String.fromCharCode(252)),i=u.split("|,|"),t=0;t<i.length;t++)return f=i[t].split("|:|"),f.length===2?!0:!1;return!1}function onCloseMessageBox(){typeof $("#messageBox").data("BoldBIDashboardDialog")!="undefined"?$("#messageBox").BoldBIDashboardDialog("close"):$("#messageBox").ejDialog("close")}function onMessageDialogClose(){$("#messageBox").find(".message-content").text("");$(".message-box-btn-holder").html("");$(".message-box-close").html("")}function messageBox(n,t,i,r,u,f,e,o,s,h){var v,c,l,a;if($("#messageBox").find(".message-content").text(""),$(".message-box-btn-holder").html(""),$(".message-box-close").html(""),$("#messageBox").find(".message-header").html("<span class='su "+n+"'><\/span> <span class='modal-title' data-toggle='tooltip' data-placement='bottom' data-container='body' title='"+t+"'  >"+t+"<\/h2>"),$("#messageBox").find(".message-content").html(i),$("#messageBox").find(".message-content").removeClass("text-left"),r=="error")u!=undefined&&(c=$("<input type='button' class='app-button app-critical-action-button app-btn-danger pull-right' value='"+window.Server.App.Localization.YesButton+"'><\/input>"),c.bind("click",$.proxy(getFnObj(u),window))),v=$("<input type='button' class='app-button app-secondary-button app-btn-secondary pull-right' tabindex='-1' value='"+window.Server.App.Localization.NoButton+"'><\/input>"),l=$('<span class="su su-close"><\/span>'),f!=undefined?(v.bind("click",$.proxy(getFnObj(f),window)),l.bind("click",$.proxy(getFnObj(f),window))):(v.click(function(){onCloseMessageBox()}),l.click(function(){onCloseMessageBox()})),$(".message-box-close").html(l),$(".message-box-btn-holder").append(v,c),$("#messageBox").unbind("keydown");else{c=$("<input type='button' class='app-button app-secondary-button app-btn-secondary' tabindex='-1' value='"+window.Server.App.Localization.OKButton+"'><\/input>");l=$('<span class="su su-close"><\/span>');u!=undefined?(c.bind("click",$.proxy(getFnObj(u),window)),l.bind("click",$.proxy(getFnObj(u),window))):(c.click(function(){onCloseMessageBox()}),l.click(function(){onCloseMessageBox()}));$(".message-box-close").html(l);$(".message-box-btn-holder").append(c);$("#messageBox").on("keydown",function(n){switch(n.keyCode){case 13:case 27:c.click()}})}$('[data-toggle="tooltip"]').tooltip();a="";typeof $("#messageBox").data("BoldBIDashboardDialog")!="undefined"?($("#messageBox").BoldBIDashboardDialog("open"),$("#messageBox").focus(),a=window.parent.document?parent.$("#messageBox").data("BoldBIDashboardDialog"):$("#messageBox").data("BoldBIDashboardDialog")):($("#messageBox").ejDialog("open"),$("#messageBox").focus(),a=window.parent.document?parent.$("#messageBox").data("ejDialog"):$("#messageBox").data("ejDialog"));setTimeout(function(){e!=undefined&&a.option("width",e);window.innerWidth>1040&&o==undefined&&(o=$("#messageBox").find(".modal-content").height()+135+"px");a.option("height",o);s!=undefined&&a.option("maxHeight",s)},50);h!=null&&h!=undefined&&a.option("cssClass",h);setTimeout(function(){var n=$(".message-header").innerHeight()+$(".message-content.text-center").innerHeight()+$(".message-box-btn-holder").innerHeight()+5;$("#messageBox").height(n+"px");$("#messageBox_wrapper .e-dialog-scroller.e-scroller.e-js.e-widget").height($("#messageBox").outerHeight(!0)+"px")},100)}function deleteUserAvatar(){ShowWaitingProgress("#user-profile-master","show");doAjaxPost("POST",deleteavatarUrl,{email:$("#user-email").val()},function(n){ShowWaitingProgress("#user-profile-master","hide");n.status?messageBox("su-delete",window.Server.App.Localization.DeleteAvatar,window.Server.App.Localization.DeleteAvatarSuccess,"success",function(){var n=$("#logged-user").html().toLowerCase();$("#user-profile-picture").attr("src",getdefaultavatarUrl);$("#user-profile-picture").siblings("#avatar-delete-click").remove();$("#user-name").val()==n&&$(".profile-picture,#profile-picture-menu").find("img").attr("src",getdefaultavatarUrl);onCloseMessageBox()}):messageBox("su-delete",window.Server.App.Localization.DeleteAvatarTitle,window.Server.App.Localization.DeleteAvatarError,"success",function(){onCloseMessageBox()})})}function IsValidName(n,t){var i;return i=n.toLowerCase()==="username"?new RegExp(/[*\[\\\]\|\/\:\<\>\%\+\#\&\?\'\"\@\;\,]/):new RegExp(/[*\[\\\]\|\/\:\<\>\%\+\#\?\'\"\;\,]/),!i.test(t)}function IsValideCopyRightInfo(n){var t=new RegExp("<[^>]+>");return!t.test(n)}function IsValidNumber(n){return/^\d+$/.test(n)}function UsernameValidation(n){return/^[a-zA-Z0-9]([._-](?![._-])|[a-zA-Z0-9]){1,252}[a-zA-Z0-9]$/.test(n)?!0:!1}function IsValidUsername(n){return UsernameValidation(n)||IsEmail(n)}function IsValidUsernameLength(n){return/^.{3,254}$/.test(n)?!0:!1}function GridLocalization(n=null){var t={EmptyRecord:n!=null?n:window.Server.App.Localization.NoRecords,StringMenuOptions:[{text:window.Server.App.Localization.SearchKeyStart,value:"StartsWith"},{text:window.Server.App.Localization.SearchKeyEnd,value:"EndsWith"},{text:window.Server.App.Localization.SearchKeyContanins,value:"Contains"},{text:window.Server.App.Localization.SearchKeyEqual,value:"Equal"},{text:window.Server.App.Localization.SearchKeyNotEqual,value:"NotEqual"}],FilterMenuCaption:window.Server.App.Localization.FilterValue,Filter:window.Server.App.Localization.Filter,Clear:window.Server.App.Localization.ClearSearch},i={pagerInfo:window.Server.App.Localization.PageCount,firstPageTooltip:window.Server.App.Localization.FirstPage,lastPageTooltip:window.Server.App.Localization.LastPage,nextPageTooltip:window.Server.App.Localization.NextPage,previousPageTooltip:window.Server.App.Localization.PreviousPage};typeof BoldBIDashboard!="undefined"?(BoldBIDashboard.Grid.Locale["en-US"]=t,BoldBIDashboard.Pager.Locale["en-US"]=i):(ej.Grid.Locale["en-US"]=t,ej.Pager.Locale["en-US"]=i)}function ExcelFilterLocalization(){var n={SortTextAscending:window.Server.App.Localization.SortTextAscending,SortTextDescending:window.Server.App.Localization.SortTextDescending,ClearFilter:window.Server.App.Localization.ClearFilterGrid,TextFilter:window.Server.App.Localization.TextFilter,title:window.Server.App.Localization.CustomFilter,PredicateOr:window.Server.App.Localization.Or,PredicateAnd:window.Server.App.Localization.And,MatchCase:window.Server.App.Localization.MatchCase,Showrowswhere:window.Server.App.Localization.ShowRowsWhere,StringMenuOptions:[{text:window.Server.App.Localization.SearchKeyStart,value:"StartsWith"},{text:window.Server.App.Localization.SearchKeyEnd,value:"EndsWith"},{text:window.Server.App.Localization.SearchKeyContanins,value:"Contains"},{text:window.Server.App.Localization.SearchKeyEqual,value:"Equal"},{text:window.Server.App.Localization.SearchKeyNotEqual,value:"NotEqual"}],ResponsiveSorting:window.Server.App.Localization.Sort,OK:window.Server.App.Localization.OKButton,EmptyRecord:window.Server.App.Localization.NoRecords,Clear:window.Server.App.Localization.ClearSearch,Cancel:window.Server.App.Localization.CancelButton,NoResult:window.Server.App.Localization.NoMatchesFound,Search:window.Server.App.Localization.Search,Columns:window.Server.App.Localization.Columns,SelectAll:window.Server.App.Localization.SelectAll};typeof BoldBIDashboard!="undefined"?BoldBIDashboard.ExcelFilter.Locale["en-US"]=n:ej.ExcelFilter.Locale["en-US"]=n}function PerformSearch(n){var t,i;if(n=="#search-schedules")if(t=typeof BoldBIDashboard!="undefined"?$("#scheduleGrid").data("BoldBIDashboardGrid"):$("#scheduleGrid").data("ejGrid"),i=$("#search-schedules").val(),i.indexOf(":")>-1){var r=i.split(":")[0].toLowerCase(),u=i.split(":")[1].trim(),f=i.match(/:/g).length;f>1&&(firstKey=i.split(":")[1],secondKey=i.split(":")[2],u=(firstKey+":"+secondKey).trim());switch(r.replace(/ /g,"").toLowerCase()){case"name":r="Name";break;case"dashboard":r="ItemName";break;case"owner":r="CreatedByDisplayName";break;case"lastrun":r="LastRunString";break;case"nextscheduledrun":r="NextScheduleString";break;case"status":r="Status"}t.model.searchSettings.fields=r;t.model.searchSettings.key=u;t.refreshContent()}else t.search($("#search-schedules").val());else if(n=="#search-slideshows")t=typeof BoldBIDashboard!="undefined"?$("#slideshowGrid").data("BoldBIDashboardGrid"):$("#slideshowGrid").data("ejGrid"),t.model.pageSettings.currentPage=1,t.refreshContent();else if(n=="#search-webhooks")t=typeof BoldBIDashboard!="undefined"?$("#webhooksGrid").data("BoldBIDashboardGrid"):$("#webhooksGrid").data("ejGrid"),t.model.pageSettings.currentPage=1,t.refreshContent();else if(n=="#search-webhooks-grid")t=typeof BoldBIDashboard!="undefined"?$("#webhooksGridSettings").data("BoldBIDashboardGrid"):$("#webhooksGridSettings").data("ejGrid"),t.model.pageSettings.currentPage=1,t.refreshContent();else if(n=="#search-users")t=typeof BoldBIDashboard!="undefined"?$("#user_grid").data("BoldBIDashboardGrid"):$("#user_grid").data("ejGrid"),t.model.pageSettings.currentPage=1,t.refreshContent();else if(n=="#search-published-items")t=typeof BoldBIDashboard!="undefined"?$("#PublishItemGrid").data("BoldBIDashboardGrid"):$("#PublishItemGrid").data("ejGrid"),t.model.pageSettings.currentPage=1,t.search($("#search-published-items").val()),t.refreshContent();else if(n=="#search-ad-users")t=typeof BoldBIDashboard!="undefined"?$("#user_grid").data("BoldBIDashboardGrid"):$("#user_grid").data("ejGrid"),t.search($("#search-ad-users").val());else if(n=="#search-items")t=typeof BoldBIDashboard!="undefined"?$("#items").data("BoldBIDashboardGrid"):$("#items").data("ejGrid"),t.model.pageSettings.currentPage=1,t.refreshContent();else if(n=="#search-home-page")t=typeof BoldBIDashboard!="undefined"?$("#items").data("BoldBIDashboardGrid"):$("#items").data("ejGrid"),t.model.filterSettings.filteredColumns=[],(!$("#category-list").is(":visible")||$("#category-list").length<=0)&&($(".all-items").hasClass("active")&&(t.model.filterSettings.filteredColumns=[{field:"CategoryName",operator:"equal",value:$("#category-section-name").html()}]),t.model.pageSettings.currentPage=1,t.refreshContent());else if(n=="#search-group-users"||n=="#search-groups")t=typeof BoldBIDashboard!="undefined"?$("#Grid").data("BoldBIDashboardGrid"):$("#Grid").data("ejGrid"),t.model.pageSettings.currentPage=1,t.refreshContent();else if(n=="#search-ad-groups")t=typeof BoldBIDashboard!="undefined"?$("#Grid").data("BoldBIDashboardGrid"):$("#Grid").data("ejGrid"),t.search($("#search-ad-groups").val());else if(n=="#ad-user-import")$(".grid-error-validation").css("display","none"),$(".empty-validation").css("display","none"),$(".grid-validation").css("display","none"),searchADUsers($("#ad-user-import").val());else if(n=="#ad-group-import")$(".grid_error_validation").css("display","none"),$(".empty_validation").css("display","none"),$(".grid_validation").css("display","none"),searchADGroups($("#ad-group-import").val());else if(n=="#search-user-permission")t=typeof BoldBIDashboard!="undefined"?$("#itempermissiongrid").data("BoldBIDashboardGrid"):$("#itempermissiongrid").data("ejGrid"),t.search($("#search-user-permission").val());else if(n=="#search-group-permission")t=typeof BoldBIDashboard!="undefined"?$("#itemgrouppermissiongrid").data("BoldBIDashboardGrid"):$("#itemgrouppermissiongrid").data("ejGrid"),t.search($("#search-group-permission").val());else if(n=="#userSearchKey")t=typeof BoldBIDashboard!="undefined"?$("#UserGrid").data("BoldBIDashboardGrid"):$("#UserGrid").data("ejGrid"),t.refreshContent();else if(n=="#groupSearchKey")t=typeof BoldBIDashboard!="undefined"?$("#GroupGrid").data("BoldBIDashboardGrid"):$("#GroupGrid").data("ejGrid"),t.refreshContent();else if(n=="#search-linked-accounts")t=typeof BoldBIDashboard!="undefined"?$("#ConnectedAccountGrid").data("BoldBIDashboardGrid"):$("#ConnectedAccountGrid").data("ejGrid"),t.search($("#search-linked-accounts").val());else if(n=="#search-linked-dashboards")if(t=typeof BoldBIDashboard!="undefined"?$("#view_linked_dashboards").data("BoldBIDashboardGrid"):$("#view_linked_dashboards").data("ejGrid"),i=$("#search-linked-dashboards").val(),i.indexOf(":")>-1){var r=i.split(":")[0].toLowerCase(),u=i.split(":")[1].trim(),f=i.match(/:/g).length;f>1&&(firstKey=i.split(":")[1],secondKey=i.split(":")[2],u=(firstKey+":"+secondKey).trim());switch(r.replace(/ /g,"").toLowerCase()){case"name":r="Name"}t.model.searchSettings.fields=r;t.model.searchSettings.key=u;t.refreshContent()}else t.search($("#search-linked-dashboards").val())}function getQueryVariable(n){for(var i,u=window.location.search.substring(1),r=u.split("&"),t=0;t<r.length;t++)if(i=r[t].split("="),i[0]==n)return i[1];return null}function getUrlQueryVariable(n,t){for(var r,f=n.substring(n.indexOf("?")+1),u=f.split("&"),i=0;i<u.length;i++)if(r=u[i].split("="),r[0]==t)return r[1];return null}function getCurrentPageNumber(n,t,i,r){var u=i-t,f;return u>n?(f=u%n==0?u/n:Math.floor(u/n+1),r>f?f:r):1}function isValidGuid(n){return/^(\{){0,1}[0-9a-fA-F]{8}\-[0-9a-fA-F]{4}\-[0-9a-fA-F]{4}\-[0-9a-fA-F]{4}\-[0-9a-fA-F]{12}(\}){0,1}$/gi.test(n)}function showOrHideGridPager(n){var t="";t=typeof BoldBIDashboard!="undefined"?$(n).BoldBIDashboardGrid("option","pageSettings"):$(n).ejGrid("option","pageSettings");t.totalRecordsCount<=t.pageSize?$(n+" .e-pager").css("display","none"):$(n+" .e-pager").css("display","block")}function blurServerAppContainer(n){(n==undefined||n=="")&&(n="5px");$("#header-area, #menu-area, #content-area, footer, .cookie-notification").css("filter","blur("+n+")");$("#server-app-container").css("overflow","hidden");$("#unlock-enterprise-features-container").length>0&&$("#unlock-enterprise-features-container").addClass("blur-content")}function unblurServerAppContainer(){$("#header-area, #menu-area, #content-area, footer, .cookie-notification").css("filter","");$("#server-app-container").css("overflow","");$("#unlock-enterprise-features-container").length>0&&$("#unlock-enterprise-features-container").removeClass("blur-content")}function generateUUID(){var n=(new Date).getTime();return typeof performance!="undefined"&&typeof performance.now=="function"&&(n+=performance.now()),"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(t){var i=(n+Math.random()*16)%16|0;return n=Math.floor(n/16),(t==="x"?i:i&3|8).toString(16)})}function PreloadResources(n,t){setTimeout(function(){for(var i,u=navigator.userAgent.indexOf("Safari")!=-1&&navigator.userAgent.indexOf("Chrome")==-1||navigator.userAgent.indexOf("Edge")!=-1,r=0;r<n.length;r++)i=document.createElement("link"),i.href=n[r],i.rel=u?"preload":"prefetch",i.as=t,document.head.appendChild(i)})}function refreshToolTip(n){n==undefined&&(n="tooltip");$('[data-toggle="'+n+'"]').tooltip({animation:!0,delay:{show:500}})}function createSchedule(n,t,i,r){t!=""?$(".schedule-popup-title").html(" "+t+" - "+window.Server.App.Localization.Schedule):$(".schedule-popup-title").html(" "+t+" "+window.Server.App.Localization.Schedule);$(".schedule-popup-title").attr("title",t);parent.$("#popup-container_wrapper").ejWaitingPopup("hide");reportItemId=n;reportItemName=t;reportCategoryName=i;multiDashboardName=r;childId=n;$("#selected_dashboard").change()}function scheduleNameCheck(n,t){$("#schedule-name-error-container").css("display","none");$("span.loader-gif").remove();$("#schedule-name-error-container").parent().append($("<span class='col-sm-4 no-padding loader-gif'><div class='loader-blue loader-icon' id='schedule-name-validation-loader-icon'><svg class='circular'><circle class='path' cx='27' cy='27' r='13' fill='none' stroke-width='4' stroke-miterlimit='10'><\/circle><\/svg><\/div><\/span>"));$.ajax({type:"POST",url:checkScheduleNameExistUrl,data:{scheduleId:n,scheduleName:t},success:function(n){n.Result?($("span.loader-gif").remove(),$("#schedule-name").closest("div").addClass("has-error"),$("#schedule-name-error-container").css("display","block"),$("#schedule-name-validator").html(window.Server.App.Localization.IsScheduleExist)):($("#schedule-name").closest("div").removeClass("has-error"),$("span.loader-gif").remove(),$("#schedule-name-error-container").css("display","none"))}})}function addTitleForCategory(){var n,t;for($("#selected_category").selectpicker("refresh"),n=0;n<$(".category-dropdown  .btn-group .dropdown-menu .selectpicker li").length;n++)t=$(".category-dropdown .btn-group .dropdown-menu .selectpicker li").eq(n).find("a .text").text(),$(".category-dropdown .btn-group .dropdown-menu .selectpicker li ").eq(n).find("a").attr("title",t)}function addTitleForDashboard(){var n,t;for($("#selected_dashboard").selectpicker("refresh"),n=0;n<$(".dashboard-dropdown  .btn-group .dropdown-menu .selectpicker li").length;n++)t=$(".dashboard-dropdown .btn-group .dropdown-menu .selectpicker li").eq(n).find("a .text").text(),$(".dashboard-dropdown .btn-group .dropdown-menu .selectpicker li ").eq(n).find("a").attr("title",t)}function addTitleForChildDashboards(){var n,t;for($("#selected_childdashboard").selectpicker("refresh"),n=0;n<$(".childdashboard-dropdown  .btn-group .dropdown-menu .selectpicker li").length;n++)t=$(".childdashboard-dropdown .btn-group .dropdown-menu .selectpicker li").eq(n).find("a .text").text(),$(".childdashboard-dropdown .btn-group .dropdown-menu .selectpicker li ").eq(n).find("a").attr("title",t)}function validateSchedule(n){var e=$("#start-date").data("ejDateTimePicker"),t=$("#schedule-name").val(),f;if($("#schedule-name-error-container").css("display")=="block"||$("body .loader-gif").length||$("#selected_category option:selected").val()==""||$("#selected_dashboard option:selected").val()==""||!t)return $("#selected_category option:selected").val()==""&&$("#category-message").css("display","block"),$("#selected_dashboard option:selected").val()==""&&$("#dashboard-message").css("display","block"),t||($("#schedule-name-error-container").css("display","block"),$("#schedule-name-validator").html(window.Server.App.Localization.ScheduleValidator)),!1;if(!parent.IsValidName("name",t))return $("#schedule-name-error-container").css("display","block"),$("#schedule-name-validator").html(window.Server.App.Localization.AvoidSpecialCharacters),!1;if($(n).hasClass("subscribe-body")){switch($("#recurrence-type").val().toString().toLowerCase()){case"weekly":if($('#days-check-box input[type="checkbox"]').is(":checked"))$("#weekly-day-error-container").css("display","none");else return $("#weekly-day-error-container").css("display","block"),$("#weekly-days-validator").html(window.Server.App.Localization.WeekDaysValidator),!1;break;case"yearly":var o=$("#yearly-month").val().toString(),i=parseInt($("#yearly-day").val()),r=$("#yearly-day").data("ejNumericTextbox");switch(o.toLowerCase()){case"february":i>28&&r.option("value",28);break;case"april":case"june":case"september":case"november":i>30&&r.option("value",30);break;case"january":case"march":case"may":case"july":case"august":case"october":case"december":i>31&&r.option("value",31)}break;case"hourly":if($(".time-width").val()=="")return $(".frequency-error").css("display","inline"),$(".time-width").parent("span").addClass("validation-error"),!1;var s=$(".time-width").val(),u=s.split(":"),h=u[0]*60+u[1];if(h>3)$(".frequency-error").css("display","none"),$(".time-width").parent("span").removeClass("validation-error");else return $(".frequency-error").css("display","inline"),$(".time-width").parent("span").addClass("validation-error"),!1}if(!e.model.dateTimeFormat=="M/d/yyyy h:mm tt")return $("#start-date-error-container").css("display","block"),$("#start-date-validator").html(window.Server.App.Localization.ScheduleValidator),!1;$("#start-date-error-container").css("display","none");switch($("input[name=end-type]:checked","#schedule-end-type").val().toLowerCase()){case"endby":if(f=$("#end-date").data("ejDateTimePicker"),!f.model.dateTimeFormat=="M/d/yyyy h:mm tt")return $("#end-date-error-container").css("display","block"),$("#end-date-validator").html(window.Server.App.Localization.ScheduleValidator),!1;$("#end-date-error-container").css("display","none")}return!0}return!0}function closePopupContainer(){parent.$("#popup-container").ejDialog("close");parent.$("#editpopup-container").ejDialog("close")}function validateSchedule(){var n=$("#schedule-name").val();return $("#schedule-name-error-container").css("display")=="block"||$("body .loader-gif").length||$("#selected_category option:selected").val()==""||$("#selected_dashboard option:selected").val()==""||!n?($("#selected_category option:selected").val()==""&&$("#category-message").css("display","block"),$("#selected_dashboard option:selected").val()==""&&$("#dashboard-message").css("display","block"),n||($("#schedule-name-error-container").css("display","block"),$("#schedule-name-validator").html(window.Server.App.Localization.ScheduleValidator)),!1):parent.IsValidName("name",n)?!0:($("#schedule-name-error-container").css("display","block"),$("#schedule-name-validator").html(window.Server.App.Localization.AvoidSpecialCharacters),!1)}function enableTimeIntervalOption(){$(".schedule-popup-body").css("display","none");$("#windowCaption").html(window.Server.App.Localization.RecurrenceIntervalValidator);$(".schedule-dialog .modal-body #time-intervals-div").css("display","inline");$(".schedule-dialog #data-changes-div-container,.schedule-dialog #data-changes-container,.schedule-dialog #email-editor-panel").css("display","none");$(".subscribe-popup-body").css("display","none");$("#next-container").css("display","block");$("#submit-container").css("display","none");$("#dataAlert").css("display","none");$("#schedule-next").hasClass("time-interval-body")&&$("#schedule-next").removeClass("time-interval-body");$("#schedule-next").addClass("subscribe-body");$("#schedule-back").css("display","inline");className="time-intervals-div";$(".schedule-dialog").find("#time-intervals-div").length<=0&&partialPost(url,className)}function enableDataNotificationOption(){$("#windowCaption").html(window.Server.App.Localization.DataAlertValidator);$(".schedule-popup-body,#email-editor-panel").css("display","none");$(".schedule-dialog #data-changes-div-container,.schedule-dialog #data-changes-container").css("display","inline");$("#data-changes-container_wrapper,#data-changes-container,#data-changes-div-container").css("display","inline");$("#time-intervals-div").css("display","none");$(".subscribe-popup-body").css("display","none");$("#next-container").css("display","block");$("#submit-container").css("display","none");$("#dataAlert").css("display","block");$("#schedule-next").hasClass("subscribe-body")&&$("#schedule-next").removeClass("subscribe-body");$("#schedule-next").addClass("time-interval-body");$("#schedule-back").css("display","inline");className="data-changes-container";$(".schedule-dialog").find("#dataAlert").length<=0&&partialPostDataChanges(url,className)}function enableSubscribeOption(){$("#windowCaption").html(window.Server.App.Localization.ExportFormatValidator);$(".schedule-popup-body").css("display","none");$(".schedule-dialog .modal-body #email-editor-panel,.schedule-dialog .modal-body #time-intervals-div").css("display","none");$(".schedule-dialog #data-changes-div-container,.schedule-dialog #data-changes-container").css("display","none");$(".subscribe-popup-body").fadeIn();$("#next-container").css("display","none");$("#submit-container").css("display","block");$("#schedule-back").css("display","inline");$("#dataAlert").css("display","none");className="subscribers-panel";$(".schedule-dialog").find("#subscribers-panel").length<=0&&partialPost(url,className)}function enableScheduleOption(){$("#windowCaption").html(window.Server.App.Localization.TimeBaseSchedule);$(".subscribe-popup-body, #next-container, #submit-container,#time-intervals-div,#data-changes-container, #email-editor-panel").css("display","none");$(".schedule-popup-body").fadeIn();$("#next-container").css("display","block");$("#schedule-back").css("display","none");$("#dataAlert").css("display","none");($("#schedule-next").hasClass("subscribe-body")||$("#schedule-next").hasClass("time-interval-body")||$("#schedule-next").hasClass("email-editor-body"))&&($("#schedule-next").removeClass("subscribe-body"),$("#schedule-next").removeClass("time-interval-body"),$("#schedule-next").removeClass("email-editor-body"))}function enableEmailEditor(){var t,n;if(alertChange!=alertChangeValue&&(alertChangeValue=alertChange,$(".schedule-dialog #email-editor-panel").remove()),alertChange==1?$("#windowCaption").html(window.Server.App.Localization.ScheduleMessage):$("#windowCaption").html(window.Server.App.Localization.AlertMessageValidator),$(".schedule-popup-body").css("display","none"),$(".schedule-dialog .modal-body #time-intervals-div,.schedule-dialog .modal-body #subscribers-panel").css("display","none"),$(".schedule-dialog #data-changes-div-container,.schedule-dialog #data-changes-container").css("display","none"),$("#email-editor-panel").css("opacity","1"),$("#email-editor-panel").fadeIn(),$("#next-container").css("display","block"),$("#submit-container").css("display","none"),$("#dataAlert").css("display","none"),($("#schedule-next").hasClass("subscribe-body")||$("#schedule-next").hasClass("time-interval-body"))&&($("#schedule-next").removeClass("subscribe-body"),$("#schedule-next").removeClass("time-interval-body"),$("#schedule-next").addClass("email-editor-body")),$("#schedule-back").css("display","inline"),className="email-editor-panel",$(".schedule-dialog").find("#email-editor-panel").length<=0)partialPost(url,className);else if(alertChange==2){for(t="",n=0;n<filterContent.Filters.length;n++)t+="<option data-id='"+filterContent.Filters[n].FilterName+"'>"+filterContent.Filters[n].DisplayText+"<\/option>";$("#widget-items").html(t).selectpicker("refresh");parent.$("#popup-container_wrapper").ejWaitingPopup("hide")}}function partialPost(n,t){$(".schedule-dialog").hasClass(t)||(parent.$("#popup-container_wrapper").ejWaitingPopup("show"),parent.$("#editpopup-container_wrapper").ejWaitingPopup("show"),$.ajax({type:"POST",url:n,data:{},cache:!1,dataType:"html",success:function(n){$(".modal-body").append(n)}}))}function partialPostDataChanges(n,t){$(".schedule-dialog").hasClass(t)||(parent.$("#popup-container_wrapper").ejWaitingPopup("show"),parent.$("#editpopup-container_wrapper").ejWaitingPopup("show"),$.ajax({type:"POST",url:n,data:{itemId:createdItemId},success:function(n){$("#popup-container").append(n);dataAlertInitailization()}}))}function refreshScheduleGridItem(n){for(var i=$("#scheduleGrid").data("ejGrid"),t=0;t<i.model.currentViewData.length;t++)i.model.currentViewData[t].Id==n&&$("span span[data-scheduleid ="+n+"]").removeClass("loader-gif").addClass("su-play-folder")}function editSchedule(n,t,i,r,u,f){var e,t;u==null||u=="undefined"||u==""?(reportItemId="",reportCategoryName=r,multidashboardName="",t=""):(reportItemId="",reportCategoryName=r,multiDashboardName=u,childId=t);isScheduledDashboardDeleted=f;i!=""?$(".schedule-popup-title").html(" "+i+" - "+window.Server.App.Localization.Schedule):$(".schedule-popup-title").html(" "+i+" "+window.Server.App.Localization.Schedule);$(".schedule-popup-title").attr("title",i);scheduleId=n;reportItemName=i;e=[];e.push({PropertyName:"CategoryName",FilterType:"equals",FilterKey:reportCategoryName});var o=undefined,s="";$.ajax({type:"POST",url:getScheduleInfoUrl,data:{scheduleId:n},success:function(n){parent.$("#editpopup-container_wrapper").ejWaitingPopup("hide");item=n.ScheduleItem;condition=n.Condition;itemConditionArray=JSON.parse(condition);recurrence=item.RecurrenceType;endType=item.EndType;endDate=item.EndDateString;endAfter=item.EndAfter;startDate=item.StartDateString;createdItemId=item.ItemId;itemRecurrence=item.Recurrence;recurrence.toLowerCase()=="hourly"&&(frequency=item.Recurrence.HourlySchedule.MinutesInterval);exportType=item.ExportType;scheduleExportInfo=item.ScheduleExportInfo;subscriberExternalRecipient=n.SubscribedExternalRecipient;subscriberGroup=n.SubscribedGroup;subscriberUser=n.SubscribedUser;itemConditionCategory=item.ConditionCategory;itemWidgetName=item.ItemName;emailContent=item.EmailContent;buttonValue=$("#add-alert-rule").val();scheduleRecurrenceInfo=item.Recurrence;scheduleExportInfo=item.ScheduleExportInfo;$("#selected-items[value='"+item.ItemName+"']").attr("selected",!0);item.IsDataChanges==!0?($("#data-alerts").prop("checked","checked"),alertChange=2):($("#data-changes-div,#time-intervals-div").css("display","none"),alertChange=1);$("#schedule-name").val(item.Name);item.IsEnabled||$("#enable-schedule").prop("checked","");hideDataAlert(!item.IsDataChanges)}});u!=""&&($.ajax({type:"POST",url:getDashboardUrl,async:!1,data:{searchKey:o,skip:0,take:20,sorted:o,filterCollection:e,displayCategory:"SpecificCategory",isScheduleRequest:!0},success:function(n){for(var i=n.result,t=0;t<i.length;t++)i[t].Name.toLowerCase()==u.toLowerCase()&&(s+='<option value="'+i[t].Id+'" selected=selected>'+i[t].Name+"<\/option>");$("#selected_dashboard").html("");$("#selected_dashboard").html(s).selectpicker("refresh")}}),$("#selected_childdashboard").attr("disabled",!1));t=$("#selected_dashboard").find("option:selected").val();$.ajax({type:"POST",url:getChildDashboardUrl,data:{parentId:t},async:!1,success:function(n){childDashboards=n.result;childDashboards!=null&&$("#selected_childdashboard").attr("disabled",!1)}})}function refreshConditionCategory(){var n,t;for($(".condition-category-changes").find("select").html(""),$(".condition-category-changes").find("select").append('<option value="5" data-title="'+window.Server.App.Localization.ValueChange+'" name="ValueChanges" selected="selected">'+window.Server.App.Localization.ValueChangeOption+'<\/option><option value="1" data-title="'+window.Server.App.Localization.Increases+'" name="Increases">'+window.Server.App.Localization.IncreasesOption+'<\/option><option value="2" data-title="'+window.Server.App.Localization.ContinousIncreases+'" name="ContinousIncreases">'+window.Server.App.Localization.ContinousIncreasesOption+'<\/option><option value="3" data-title="'+window.Server.App.Localization.Decreases+'" name="Decreases">'+window.Server.App.Localization.DecreasesOption+'<\/option><option value="4" data-title="'+window.Server.App.Localization.ContinousDecreases+'" name="ContinousDecreases">'+window.Server.App.Localization.ContinousDecreasesOption+"<\/option>").selectpicker("refresh"),$("#selected-option").selectpicker("refresh"),n=0;n<$(".condition-category-changes select option").length;n++)t=$(".condition-category-changes select option").eq(n).attr("data-title"),$(".condition-category-changes .btn-group .dropdown-menu .selectpicker li ").eq(n).find("a").attr({title:t,"data-toggle":"tooltip","data-container":"body","data-placement":"right"});$(".condition-category-changes .btn-group .dropdown-menu .selectpicker li a").tooltip()}function addTitleForWidgets(){var n,t;for($("#selected-items").selectpicker("refresh"),n=0;n<$(".items-dropdown  .btn-group .dropdown-menu .selectpicker li").length;n++)t=$(".items-dropdown .btn-group .dropdown-menu .selectpicker li").eq(n).find("a .text").text(),$(".items-dropdown .btn-group .dropdown-menu .selectpicker li ").eq(n).find("a").attr("title",t)}function addTitleForUsersAndGroups(){var n,t;for($("#user-search").selectpicker("refresh"),n=0;n<$("#user-search-container .btn-group .dropdown-menu .selectpicker li").length;n++)t=$("#user-search-container .btn-group .dropdown-menu .selectpicker li").eq(n).find("a .text").text(),$("#user-search-container .btn-group .dropdown-menu .selectpicker li").eq(n).find("a").attr("title",t);for($("#group-search").selectpicker("refresh"),n=0;n<=$("#group-search-container .btn-group .dropdown-menu  li").length;n++)t=$("#group-search-container .btn-group .dropdown-menu  li").eq(n).find("a .text").text(),$("#group-search-container .btn-group .dropdown-menu li ").eq(n).find("a").attr("title",t)}function addTitleForRecurrenceType(){var n,t;for($("#recurrence-type").selectpicker("refresh"),$("#recurrence-type-container").find(".dropdown-menu").addClass("dropdown-height"),n=0;n<$("#recurrence-type-container .btn-group .dropdown-menu .selectpicker li").length;n++)t=$("#recurrence-type-container .btn-group .dropdown-menu .selectpicker li").eq(n).find("a .text").text(),$("#recurrence-type-container .btn-group .dropdown-menu .selectpicker li ").eq(n).find("a").attr("title",t);for($("#monthly-dow-week").selectpicker("refresh"),n=0;n<$("#monthly-dow-week-container .btn-group .dropdown-menu .selectpicker li").length;n++)t=$("#monthly-dow-week-container .btn-group .dropdown-menu .selectpicker li").eq(n).find("a .text").text(),$("#monthly-dow-week-container .btn-group .dropdown-menu .selectpicker li ").eq(n).find("a").attr("title",t);for($("#monthly-dow-day").selectpicker("refresh"),$("#monthly-dow-day-container").find(".dropdown-menu").addClass("day-dropdown-width"),n=0;n<$("#monthly-dow-day-container .btn-group .dropdown-menu .selectpicker li").length;n++)t=$("#monthly-dow-day-container .btn-group .dropdown-menu .selectpicker li").eq(n).find("a .text").text(),$("#monthly-dow-day-container .btn-group .dropdown-menu .selectpicker li ").eq(n).find("a").attr("title",t);for($("#yearly-dow-week").selectpicker("refresh"),n=0;n<$("#yearly-dow-week-container .btn-group .dropdown-menu .selectpicker li").length;n++)t=$("#yearly-dow-week-container .btn-group .dropdown-menu .selectpicker li").eq(n).find("a .text").text(),$("yearly-dow-week-container .btn-group .dropdown-menu .selectpicker li ").eq(n).find("a").attr("title",t);for($("#yearly-dow-day").selectpicker("refresh"),$("#yearly-dow-day-container").find(".dropdown-menu").addClass("day-dropdown-width"),n=0;n<$("#yearly-dow-day-container .btn-group .dropdown-menu .selectpicker li").length;n++)t=$("#yearly-dow-day-container .btn-group .dropdown-menu .selectpicker li").eq(n).find("a .text").text(),$("#yearly-dow-day-container .btn-group .dropdown-menu .selectpicker li ").eq(n).find("a").attr("title",t);for($("#yearly-dow-month").selectpicker("refresh"),$("#yearly-dow-month-ccontainer").find(".dropdown-menu").addClass("day-dropdown-width"),n=0;n<$("#yearly-dow-month-ccontainer .btn-group .dropdown-menu .selectpicker li").length;n++)t=$("#yearly-dow-month-ccontainer .btn-group .dropdown-menu .selectpicker li").eq(n).find("a .text").text(),$("#yearly-dow-month-ccontainer .btn-group .dropdown-menu .selectpicker li ").eq(n).find("a").attr("title",t);for($("#yearly-month").selectpicker("refresh"),$("#yearly-month").next("div").find(".dropdown-menu").addClass("day-dropdown-width"),n=0;n<$("#yearly-schedule-option .btn-group .dropdown-menu .selectpicker li").length;n++)t=$("#yearly-schedule-option .btn-group .dropdown-menu .selectpicker li").eq(n).find("a .text").text(),$("#yearly-schedule-option .btn-group .dropdown-menu .selectpicker li ").eq(n).find("a").attr("title",t)}function hideDataAlert(n){var t=$("#data-alerts"),i=$(".data-alerts-disabled");n?(t.prop("checked","").prop("disabled","disabled"),i.css("display","block")):(t.prop("disabled",""),i.css("display","none"))}function afterEvaluateDataAlert(n){parent.$("#popup-container_wrapper").ejWaitingPopup("show");filterContent=n;n.IsValidModel?(url=emailEditor,enableEmailEditor()):(parent.$("#popup-container_wrapper").ejWaitingPopup("hide"),parent.$("#editpopup-container_wrapper").ejWaitingPopup("hide"))}function onActionBegin(n){n.eventType=="beforeOpenDaExpressionWindow"&&(isCustomExpressionOpened=!0,$("#windowCaption").html(window.Server.App.Localization.CustomExpressionValidator),$(".schedule-popup-title").html(" "+window.Server.App.Localization.Schedule+" - "+window.Server.App.Localization.CustomExpression),$("#schedule-next, #schedule-next-cancel").hide());n.eventType=="beforeOpenDaRelativeDateDialog"&&($("#schedule-back").prop("disabled",!0),$("#schedule-next").prop("disabled",!0),$("#schedule-next-cancel").prop("disabled",!0))}function onActionComplete(n){n.eventType=="afterCloseDaRelativeDateDialog"&&($("#schedule-back").prop("disabled",!1),$("#schedule-next").prop("disabled",!1),$("#schedule-next-cancel").prop("disabled",!1));parent.$("#popup-container_wrapper").ejWaitingPopup("hide");parent.$("#editpopup-container_wrapper").ejWaitingPopup("hide")}function dataAlertInitailization(){currentTimeFormat=currentTimeFormat.toLowerCase()=="true"?"HH:mm":"hh:mm tt";var n={serviceUrl:designerServiceUrl,dataServiceUrl:dataServiceUrlforDataAlert,serverUrl:dashboardServerUrl,mode:BoldBIDashboard.Designer.mode.dataalert,itemId:createdItemId,dashboardPath:createdItemId+"/"+version,serviceAuthorizationToken:designerToken,datasources:sharedDataSources,dataAlert:isNullOrWhitespace(item)?null:item.DaJsonString,canEditDashboard:canEdit,actionBegin:"onActionBegin",actionComplete:"onActionComplete",afterEvaluateDataAlert:"afterEvaluateDataAlert",renderDaExpression:"renderDaExpression",localeSettings:{culture:dataLanguage,dateFormat:currentDateFormat,timeFormat:currentTimeFormat,timeZone:timeZone},customBrandSettings:{hideHelpLink:isHideHelpLink,customDomain:customHelpLinkDomain,customBrandName:custombrandName}},t=new BoldBIDashboardDesigner($("#dataAlert"),n);$("#dataAlert").css("height",$(".share-popup").innerHeight())}function onCloseCustomExpression(){var n=$("#dataAlert").data("BoldBIDashboardDesigner");n.closeDataAlertExpression();$("#windowCaption").html(window.Server.App.Localization.DataAlertValidator);isNullOrWhitespace(itemName)?$(".schedule-popup-title").html(" "+$("#selected_dashboard").find("option:selected").html()+" - "+window.Server.App.Localization.Schedule):$(".schedule-popup-title").html(" "+itemName+" - "+window.Server.App.Localization.Schedule);$("#schedule-next, #schedule-next-cancel").show();isCustomExpressionOpened=!1}var listCategories;if("undefined"==typeof jQuery)throw new Error("Bootstrap's JavaScript requires jQuery");+function(n){"use strict";var t=n.fn.jquery.split(" ")[0].split(".");if(t[0]<2&&t[1]<9||1==t[0]&&9==t[1]&&t[2]<1||t[0]>3)throw new Error("Bootstrap's JavaScript requires jQuery version 1.9.1 or higher, but lower than version 4");}(jQuery);+function(n){"use strict";function r(t){var i=t.attr("data-target"),r;return i||(i=t.attr("href"),i=i&&/#[A-Za-z]/.test(i)&&i.replace(/.*(?=#[^\s]*$)/,"")),r="#"!==i?n(document).find(i):null,r&&r.length?r:t.parent()}function u(t){t&&3===t.which||(n(o).remove(),n(i).each(function(){var u=n(this),i=r(u),f={relatedTarget:this};i.hasClass("open")&&(t&&"click"==t.type&&/input|textarea/i.test(t.target.tagName)&&n.contains(i[0],t.target)||(i.trigger(t=n.Event("hide.bs.dropdown",f)),t.isDefaultPrevented()||(u.attr("aria-expanded","false"),i.removeClass("open").trigger(n.Event("hidden.bs.dropdown",f)))))}))}function e(i){return this.each(function(){var r=n(this),u=r.data("bs.dropdown");u||r.data("bs.dropdown",u=new t(this));"string"==typeof i&&u[i].call(r)})}var o=".dropdown-backdrop",i='[data-toggle="dropdown"]',t=function(t){n(t).on("click.bs.dropdown",this.toggle)},f;t.VERSION="3.4.1";t.prototype.toggle=function(t){var f=n(this),i,o,e;if(!f.is(".disabled, :disabled")){if(i=r(f),o=i.hasClass("open"),u(),!o){if("ontouchstart"in document.documentElement&&!i.closest(".navbar-nav").length&&n(document.createElement("div")).addClass("dropdown-backdrop").insertAfter(n(this)).on("click",u),e={relatedTarget:this},i.trigger(t=n.Event("show.bs.dropdown",e)),t.isDefaultPrevented())return;f.trigger("focus").attr("aria-expanded","true");i.toggleClass("open").trigger(n.Event("shown.bs.dropdown",e))}return!1}};t.prototype.keydown=function(t){var e,o,s,h,f,u;if(/(38|40|27|32)/.test(t.which)&&!/input|textarea/i.test(t.target.tagName)&&(e=n(this),t.preventDefault(),t.stopPropagation(),!e.is(".disabled, :disabled"))){if(o=r(e),s=o.hasClass("open"),!s&&27!=t.which||s&&27==t.which)return 27==t.which&&o.find(i).trigger("focus"),e.trigger("click");h=" li:not(.disabled):visible a";f=o.find(".dropdown-menu"+h);f.length&&(u=f.index(t.target),38==t.which&&u>0&&u--,40==t.which&&u<f.length-1&&u++,~u||(u=0),f.eq(u).trigger("focus"))}};f=n.fn.dropdown;n.fn.dropdown=e;n.fn.dropdown.Constructor=t;n.fn.dropdown.noConflict=function(){return n.fn.dropdown=f,this};n(document).on("click.bs.dropdown.data-api",u).on("click.bs.dropdown.data-api",".dropdown form",function(n){n.stopPropagation()}).on("click.bs.dropdown.data-api",i,t.prototype.toggle).on("keydown.bs.dropdown.data-api",i,t.prototype.keydown).on("keydown.bs.dropdown.data-api",".dropdown-menu",t.prototype.keydown)}(jQuery);+function(n){"use strict";function u(t,i){var r=t.nodeName.toLowerCase();if(-1!==n.inArray(r,i))return-1!==n.inArray(r,o)?Boolean(t.nodeValue.match(s)||t.nodeValue.match(h)):!0;for(var f=n(i).filter(function(n,t){return t instanceof RegExp}),u=0,e=f.length;e>u;u++)if(r.match(f[u]))return!0;return!1}function i(t,i,r){var e,f,h;if(0===t.length)return t;if(r&&"function"==typeof r)return r(t);if(!document.implementation||!document.implementation.createHTMLDocument)return t;e=document.implementation.createHTMLDocument("sanitization");e.body.innerHTML=t;for(var a=n.map(i,function(n,t){return t}),l=n(e.body).find("*"),s=0,v=l.length;v>s;s++)if(f=l[s],h=f.nodeName.toLowerCase(),-1!==n.inArray(h,a))for(var c=n.map(f.attributes,function(n){return n}),y=[].concat(i["*"]||[],i[h]||[]),o=0,p=c.length;p>o;o++)u(c[o],y)||f.removeAttribute(c[o].nodeName);else f.parentNode.removeChild(f);return e.body.innerHTML}function f(i){return this.each(function(){var u=n(this),r=u.data("bs.tooltip"),f="object"==typeof i&&i;!r&&/destroy|hide/.test(i)||(r||u.data("bs.tooltip",r=new t(this,f)),"string"==typeof i&&r[i]())})}var e=["sanitize","whiteList","sanitizeFn"],o=["background","cite","href","itemtype","longdesc","poster","src","xlink:href"],s=/^(?:(?:https?|mailto|ftp|tel|file):|[^&:/?#]*(?:[/?#]|$))/gi,h=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+/]+=*$/i,t=function(n,t){this.type=null;this.options=null;this.enabled=null;this.timeout=null;this.hoverState=null;this.$element=null;this.inState=null;this.init("tooltip",n,t)},r;t.VERSION="3.4.1";t.TRANSITION_DURATION=150;t.DEFAULTS={animation:!0,placement:"top",selector:!1,template:'<div class="tooltip" role="tooltip"><div class="tooltip-arrow"><\/div><div class="tooltip-inner"><\/div><\/div>',trigger:"hover focus",title:"",delay:0,html:!1,container:!1,viewport:{selector:"body",padding:0},sanitize:!0,sanitizeFn:null,whiteList:{"*":["class","dir","id","lang","role",/^aria-[\w-]*$/i],a:["target","href","title","rel"],area:[],b:[],br:[],col:[],code:[],div:[],em:[],hr:[],h1:[],h2:[],h3:[],h4:[],h5:[],h6:[],i:[],img:["src","alt","title","width","height"],li:[],ol:[],p:[],pre:[],s:[],small:[],span:[],sub:[],sup:[],strong:[],u:[],ul:[]}};t.prototype.init=function(t,i,r){var f,e,u,o,s;if(this.enabled=!0,this.type=t,this.$element=n(i),this.options=this.getOptions(r),this.$viewport=this.options.viewport&&n(document).find(n.isFunction(this.options.viewport)?this.options.viewport.call(this,this.$element):this.options.viewport.selector||this.options.viewport),this.inState={click:!1,hover:!1,focus:!1},this.$element[0]instanceof document.constructor&&!this.options.selector)throw new Error("`selector` option must be specified when initializing "+this.type+" on the window.document object!");for(f=this.options.trigger.split(" "),e=f.length;e--;)if(u=f[e],"click"==u)this.$element.on("click."+this.type,this.options.selector,n.proxy(this.toggle,this));else"manual"!=u&&(o="hover"==u?"mouseenter":"focusin",s="hover"==u?"mouseleave":"focusout",this.$element.on(o+"."+this.type,this.options.selector,n.proxy(this.enter,this)),this.$element.on(s+"."+this.type,this.options.selector,n.proxy(this.leave,this)));this.options.selector?this._options=n.extend({},this.options,{trigger:"manual",selector:""}):this.fixTitle()};t.prototype.getDefaults=function(){return t.DEFAULTS};t.prototype.getOptions=function(t){var r=this.$element.data();for(var u in r)r.hasOwnProperty(u)&&-1!==n.inArray(u,e)&&delete r[u];return t=n.extend({},this.getDefaults(),r,t),t.delay&&"number"==typeof t.delay&&(t.delay={show:t.delay,hide:t.delay}),t.sanitize&&(t.template=i(t.template,t.whiteList,t.sanitizeFn)),t};t.prototype.getDelegateOptions=function(){var t={},i=this.getDefaults();return this._options&&n.each(this._options,function(n,r){i[n]!=r&&(t[n]=r)}),t};t.prototype.enter=function(t){var i=t instanceof this.constructor?t:n(t.currentTarget).data("bs."+this.type);return i||(i=new this.constructor(t.currentTarget,this.getDelegateOptions()),n(t.currentTarget).data("bs."+this.type,i)),t instanceof n.Event&&(i.inState["focusin"==t.type?"focus":"hover"]=!0),i.tip().hasClass("in")||"in"==i.hoverState?void(i.hoverState="in"):(clearTimeout(i.timeout),i.hoverState="in",i.options.delay&&i.options.delay.show?void(i.timeout=setTimeout(function(){"in"==i.hoverState&&i.show()},i.options.delay.show)):i.show())};t.prototype.isInStateTrue=function(){for(var n in this.inState)if(this.inState[n])return!0;return!1};t.prototype.leave=function(t){var i=t instanceof this.constructor?t:n(t.currentTarget).data("bs."+this.type);return i||(i=new this.constructor(t.currentTarget,this.getDelegateOptions()),n(t.currentTarget).data("bs."+this.type,i)),t instanceof n.Event&&(i.inState["focusout"==t.type?"focus":"hover"]=!1),i.isInStateTrue()?void 0:(clearTimeout(i.timeout),i.hoverState="out",i.options.delay&&i.options.delay.hide?void(i.timeout=setTimeout(function(){"out"==i.hoverState&&i.hide()},i.options.delay.hide)):i.hide())};t.prototype.show=function(){var c=n.Event("show.bs."+this.type),l,p,e,w,h;if(this.hasContent()&&this.enabled){if(this.$element.trigger(c),l=n.contains(this.$element[0].ownerDocument.documentElement,this.$element[0]),c.isDefaultPrevented()||!l)return;var u=this,r=this.tip(),a=this.getUID(this.type);this.setContent();r.attr("id",a);this.$element.attr("aria-describedby",a);this.options.animation&&r.addClass("fade");var i="function"==typeof this.options.placement?this.options.placement.call(this,r[0],this.$element[0]):this.options.placement,v=/\s?auto?\s?/i,y=v.test(i);y&&(i=i.replace(v,"")||"top");r.detach().css({top:0,left:0,display:"block"}).addClass(i).data("bs."+this.type,this);this.options.container?r.appendTo(n(document).find(this.options.container)):r.insertAfter(this.$element);this.$element.trigger("inserted.bs."+this.type);var f=this.getPosition(),o=r[0].offsetWidth,s=r[0].offsetHeight;y&&(p=i,e=this.getPosition(this.$viewport),i="bottom"==i&&f.bottom+s>e.bottom?"top":"top"==i&&f.top-s<e.top?"bottom":"right"==i&&f.right+o>e.width?"left":"left"==i&&f.left-o<e.left?"right":i,r.removeClass(p).addClass(i));w=this.getCalculatedOffset(i,f,o,s);this.applyPlacement(w,i);h=function(){var n=u.hoverState;u.$element.trigger("shown.bs."+u.type);u.hoverState=null;"out"==n&&u.leave(u)};n.support.transition&&this.$tip.hasClass("fade")?r.one("bsTransitionEnd",h).emulateTransitionEnd(t.TRANSITION_DURATION):h()}};t.prototype.applyPlacement=function(t,i){var r=this.tip(),l=r[0].offsetWidth,e=r[0].offsetHeight,o=parseInt(r.css("margin-top"),10),s=parseInt(r.css("margin-left"),10),h,f,u;isNaN(o)&&(o=0);isNaN(s)&&(s=0);t.top+=o;t.left+=s;n.offset.setOffset(r[0],n.extend({using:function(n){r.css({top:Math.round(n.top),left:Math.round(n.left)})}},t),0);r.addClass("in");h=r[0].offsetWidth;f=r[0].offsetHeight;"top"==i&&f!=e&&(t.top=t.top+e-f);u=this.getViewportAdjustedDelta(i,t,h,f);u.left?t.left+=u.left:t.top+=u.top;var c=/top|bottom/.test(i),a=c?2*u.left-l+h:2*u.top-e+f,v=c?"offsetWidth":"offsetHeight";r.offset(t);this.replaceArrow(a,r[0][v],c)};t.prototype.replaceArrow=function(n,t,i){this.arrow().css(i?"left":"top",50*(1-n/t)+"%").css(i?"top":"left","")};t.prototype.setContent=function(){var t=this.tip(),n=this.getTitle();this.options.html?(this.options.sanitize&&(n=i(n,this.options.whiteList,this.options.sanitizeFn)),t.find(".tooltip-inner").html(n)):t.find(".tooltip-inner").text(n);t.removeClass("fade in top bottom left right")};t.prototype.hide=function(i){function f(){"in"!=r.hoverState&&u.detach();r.$element&&r.$element.removeAttr("aria-describedby").trigger("hidden.bs."+r.type);i&&i()}var r=this,u=n(this.$tip),e=n.Event("hide.bs."+this.type);return this.$element.trigger(e),e.isDefaultPrevented()?void 0:(u.removeClass("in"),n.support.transition&&u.hasClass("fade")?u.one("bsTransitionEnd",f).emulateTransitionEnd(t.TRANSITION_DURATION):f(),this.hoverState=null,this)};t.prototype.fixTitle=function(){var n=this.$element;(n.attr("title")||"string"!=typeof n.attr("data-original-title"))&&n.attr("data-original-title",n.attr("title")||"").attr("title","")};t.prototype.hasContent=function(){return this.getTitle()};t.prototype.getPosition=function(t){t=t||this.$element;var r=t[0],u="BODY"==r.tagName,i=r.getBoundingClientRect();null==i.width&&(i=n.extend({},i,{width:i.right-i.left,height:i.bottom-i.top}));var f=window.SVGElement&&r instanceof window.SVGElement,e=u?{top:0,left:0}:f?null:t.offset(),o={scroll:u?document.documentElement.scrollTop||document.body.scrollTop:t.scrollTop()},s=u?{width:n(window).width(),height:n(window).height()}:null;return n.extend({},i,o,s,e)};t.prototype.getCalculatedOffset=function(n,t,i,r){return"bottom"==n?{top:t.top+t.height,left:t.left+t.width/2-i/2}:"top"==n?{top:t.top-r,left:t.left+t.width/2-i/2}:"left"==n?{top:t.top+t.height/2-r/2,left:t.left-i}:{top:t.top+t.height/2-r/2,left:t.left+t.width}};t.prototype.getViewportAdjustedDelta=function(n,t,i,r){var f={top:0,left:0},e,u,o,s,h,c;return this.$viewport?(e=this.options.viewport&&this.options.viewport.padding||0,u=this.getPosition(this.$viewport),/right|left/.test(n)?(o=t.top-e-u.scroll,s=t.top+e-u.scroll+r,o<u.top?f.top=u.top-o:s>u.top+u.height&&(f.top=u.top+u.height-s)):(h=t.left-e,c=t.left+e+i,h<u.left?f.left=u.left-h:c>u.right&&(f.left=u.left+u.width-c)),f):f};t.prototype.getTitle=function(){var t=this.$element,n=this.options;return t.attr("data-original-title")||("function"==typeof n.title?n.title.call(t[0]):n.title)};t.prototype.getUID=function(n){do n+=~~(1e6*Math.random());while(document.getElementById(n));return n};t.prototype.tip=function(){if(!this.$tip&&(this.$tip=n(this.options.template),1!=this.$tip.length))throw new Error(this.type+" `template` option must consist of exactly 1 top-level element!");return this.$tip};t.prototype.arrow=function(){return this.$arrow=this.$arrow||this.tip().find(".tooltip-arrow")};t.prototype.enable=function(){this.enabled=!0};t.prototype.disable=function(){this.enabled=!1};t.prototype.toggleEnabled=function(){this.enabled=!this.enabled};t.prototype.toggle=function(t){var i=this;t&&(i=n(t.currentTarget).data("bs."+this.type),i||(i=new this.constructor(t.currentTarget,this.getDelegateOptions()),n(t.currentTarget).data("bs."+this.type,i)));t?(i.inState.click=!i.inState.click,i.isInStateTrue()?i.enter(i):i.leave(i)):i.tip().hasClass("in")?i.leave(i):i.enter(i)};t.prototype.destroy=function(){var n=this;clearTimeout(this.timeout);this.hide(function(){n.$element.off("."+n.type).removeData("bs."+n.type);n.$tip&&n.$tip.detach();n.$tip=null;n.$arrow=null;n.$viewport=null;n.$element=null})};t.prototype.sanitizeHtml=function(n){return i(n,this.options.whiteList,this.options.sanitizeFn)};r=n.fn.tooltip;n.fn.tooltip=f;n.fn.tooltip.Constructor=t;n.fn.tooltip.noConflict=function(){return n.fn.tooltip=r,this}}(jQuery);+function(n){"use strict";function r(i){return this.each(function(){var u=n(this),r=u.data("bs.popover"),f="object"==typeof i&&i;!r&&/destroy|hide/.test(i)||(r||u.data("bs.popover",r=new t(this,f)),"string"==typeof i&&r[i]())})}var t=function(n,t){this.init("popover",n,t)},i;if(!n.fn.tooltip)throw new Error("Popover requires tooltip.js");t.VERSION="3.4.1";t.DEFAULTS=n.extend({},n.fn.tooltip.Constructor.DEFAULTS,{placement:"right",trigger:"click",content:"",template:'<div class="popover" role="tooltip"><div class="arrow"><\/div><h3 class="popover-title"><\/h3><div class="popover-content"><\/div><\/div>'});t.prototype=n.extend({},n.fn.tooltip.Constructor.prototype);t.prototype.constructor=t;t.prototype.getDefaults=function(){return t.DEFAULTS};t.prototype.setContent=function(){var n=this.tip(),i=this.getTitle(),t=this.getContent(),r;this.options.html?(r=typeof t,this.options.sanitize&&(i=this.sanitizeHtml(i),"string"===r&&(t=this.sanitizeHtml(t))),n.find(".popover-title").html(i),n.find(".popover-content").children().detach().end()["string"===r?"html":"append"](t)):(n.find(".popover-title").text(i),n.find(".popover-content").children().detach().end().text(t));n.removeClass("fade top bottom left right in");n.find(".popover-title").html()||n.find(".popover-title").hide()};t.prototype.hasContent=function(){return this.getTitle()||this.getContent()};t.prototype.getContent=function(){var t=this.$element,n=this.options;return t.attr("data-content")||("function"==typeof n.content?n.content.call(t[0]):n.content)};t.prototype.arrow=function(){return this.$arrow=this.$arrow||this.tip().find(".arrow")};i=n.fn.popover;n.fn.popover=r;n.fn.popover.Constructor=t;n.fn.popover.noConflict=function(){return n.fn.popover=i,this}}(jQuery);const isFirefox=navigator.userAgent.indexOf("Firefox")!=-1;var WarningToastDialogObj="",keyCode={BackSpace:8,Tab:9,Enter:13,Shift:16,Ctrl:17,Alt:18,Pause:19,CapsLock:20,Esc:27,PageUp:33,PageDown:34,End:35,Home:36,LeftArrow:37,UpArrow:38,RightArrow:39,DownArrow:40,Insert:45,LeftWindow:91,RightWindow:92,SemiColon:isFirefox?59:186,Comma:188},ItemType={None:0,Category:1,Dashboard:2,Report:3,Datasource:4,Dataset:5,File:6,Schedule:7,Widget:8,ItemView:9,Slideshow:10,Settings:11,UserManagement:12},PermissionAccess={None:0,Create:1,Read:2,ReadWrite:6,ReadWriteDelete:14},excludedSearchKeys=[keyCode.Tab,keyCode.Shift,keyCode.Ctrl,keyCode.Alt,keyCode.Pause,keyCode.CapsLock,keyCode.PageUp,keyCode.PageDown,keyCode.End,keyCode.Home,keyCode.LeftArrow,keyCode.UpArrow,keyCode.RightArrow,keyCode.DownArrow,keyCode.Insert,keyCode.LeftWindow,keyCode.RightWindow],SettingsScopes={All:0,SiteSettings:1,DashboardSettings:2,EmbedSettings:3,DataStoreSettings:4,Connector:5,Email:6,Accounts:7,UserDirectorySettings:8,AuthenticationSettings:9,NotificationSettings:10,ManageLicense:11,SupportSettings:12,Subscription:13,Payments:14,Widgets:15,Security:16,Integrations:17},PermissionEntities={None:0,AllReports:1,ReportsInCategory:2,SpecificReports:3,AllCategories:4,SpecificCategory:5,AllDataSources:6,SpecificDataSource:7,AllFiles:8,SpecificFile:9,AllSchedules:10,SpecificSchedule:11,AllDashboards:12,DashboardsInCategory:13,SpecificDashboard:14,AllWidgets:15,SpecificWidget:16,AllDatasets:17,SpecificDataset:18,SpecificItemView:19,AllItemViews:20,SpecificSlideshow:21,AllSlideshow:22,SpecificSettings:23,AllSettings:24,SpecificGroup:25,UsersandGroups:26,SpecificPermissions:27,AllPermissions:28,AllGroups:29};$(document).ready(function(){String.prototype.format=function(){a=this;for(k in arguments)a=a.replace("{"+k+"}",arguments[k]);return a};$("#warning-toast-dialog").length&&(WarningToastDialogObj=new ejs.popups.Dialog({isModal:!0,closeOnEscape:!0,width:"550px",visible:!1,animationSettings:{effect:"Zoom"}}),WarningToastDialogObj.appendTo("#warning-toast-dialog"))});$(document).on("change",".selectpicker",function(){var n=$(this).siblings(".bootstrap-select").children(".selectpicker");n.attr("data-original-title",n.attr("title"));n.removeAttr("title")});$(document).on("click",".toast-close",function(){var n=$(this).parent().attr("id");$("#"+n).fadeOut()});$(document).on("click",".toast-know-more",function(){var t=$(this).parent().parent().attr("data-error-message"),n=$(this).parent().parent().attr("data-header");typeof n!="undefined"&&n!=null&&$("#warning-toast-dialog #info-dialog-header").html(n);$("#warning-toast-content").html(t.trim().replace(/\n/g,"<br >\n"));WarningToastDialogObj.show();$("#warning-toast-dialog").show()});$(document).on("shown.bs.dropdown","td.e-rowcell",function(){var n=$(this).offset().top+$(this).outerHeight(!0)/2-$(".e-grid").offset().top-$(".e-columnheader").outerHeight(),t=$(this).find(".dropdown-menu").outerHeight(!0);n>t?$(this).find(".context-menu").removeClass("dropdown").addClass("dropup"):$(this).find(".context-menu").removeClass("dropup").addClass("dropdown")});var userAgent=navigator.userAgent,regexIe8=new RegExp("Trident(/4.0)|(Trident/5.0)"),timeOut,searchId,isSafari=navigator.userAgent.indexOf("Safari")!=-1&&navigator.userAgent.indexOf("Chrome")==-1,clearSearch=!1;$(document).ready(function(){function r(){$.ajax({type:"GET",url:getUserNotificationsPartialViewResultUrl,success:function(n){if(n!==null){var t=angular.element($("#notification-content")).scope();u(n.Data)}}})}function u(n){var t=angular.element($("#notification-content")).scope();typeof BoldBIDashboard!="undefined"?parent.$("#notification-content-area").BoldBIDashboardWaitingPopup("show"):parent.$("#notification-content-area").ejWaitingPopup("show");t.$apply(function(){for(var r=t.skip,i=0;i<n.LogList.length;i++)t.notifications.push(n.LogList[i]);n.LogList.length>0?parent.$("#view-all-notification").removeClass("not-active"):parent.$("#view-all-notification").addClass("not-active");t.totalNotifications=n.LogCount;t.skip=t.skip+n.LogList.length;t.isFinal=t.skip==t.totalNotifications;typeof BoldBIDashboard!="undefined"?parent.$("#notification-content-area").BoldBIDashboardWaitingPopup("hide"):parent.$("#notification-content-area").ejWaitingPopup("hide");setTimeout(function(){for(var t=document.getElementsByTagName("img"),n=r;n<t.length;n++)t[n].getAttribute("data-actual-image")&&t[n].setAttribute("src",t[n].getAttribute("data-actual-image"))},700)})}function t(){$(this).show();$(this).attr("id")==="footerlogo"&&$(this).parent().parent().find("div.lazyload").remove();$(this).parent().find("div.lazyload").remove()}function f(){return typeof ej!="undefined"&&typeof ej.WaitingPopup!="undefined"||typeof BoldBIDashboard!="undefined"&&typeof BoldBIDashboard.WaitingPopup!="undefined"}var n,i;$("body, .login-main, #server-app-container").removeAttr("style");$("#layout-body-loader-icon").css("display","none");$(document).on("click",".close-warning-icons",function(){$("#content-area").removeClass("suspension-warning-space");$(".suspension-warning").css("display","none");$("#homepage-header").removeClass("header-warning")});$(document).on("click",".close-user-warning-icons",function(){$("#content-area").removeClass("user-warning-space");$(".user-warning").css("display","none");$("#homepage-header").removeClass("header-warning")});$("form").attr("autocomplete","off");$("input[type=text], input[type=password]").attr("autocomplete","off");$('[data-toggle="tooltip"]').tooltip();$('.help-option [second-toggle="tooltip"]').tooltip("destroy");$('.help-option [second-toggle="tooltip"]').tooltip({animation:!0,delay:{show:500,hide:100}});$('#app-navigation [data-toggle="tooltip"]').tooltip("destroy");$('#app-navigation [data-toggle="tooltip"]').tooltip({animation:!0,delay:{show:500,hide:100}});$(".dropdown-menu #notify_header").click(function(n){n.stopPropagation()});$(document).on("click","#notification-content-area.dropdown-menu",function(n){n.stopPropagation()});$("#notification-icon").click(function(){var n,t;$("#notification-link").hasClass("open")||(n=angular.element($("#notification-content")).scope(),n.$apply(function(){n.notifications=[];n.isFinal=!0;n.skip=0}),t=createLoader("notification-content-area"),typeof BoldBIDashboard!="undefined"?($("#notification-content-area").BoldBIDashboardWaitingPopup({template:$("#"+t)}),$("#notification-content-area").addClass("show"),$("#notification-content-area").BoldBIDashboardWaitingPopup("show")):($("#notification-content-area").ejWaitingPopup({template:$("#"+t)}),$("#notification-content-area").addClass("show"),$("#notification-content-area").ejWaitingPopup("show")),$("#notification-content-area").removeClass("show"),r(),$("#notification-indicator").remove())});$(function(){$(document).click(function(){$("#menu-area").hasClass("in")&&$("#menu-area").collapse("hide")})});$(document).on("touchend",function(){$("#menu-area").hasClass("in")&&$("#menu-area").collapse("hide")});n=$('<div id="nav-backdrop" class="modal-backdrop" style="z-index: 50; top: 0; left: 0; right: 0; bottom: 0; width: 100%; height: 100%; color: #fff; opacity: 0; position: absolute"><\/div>');$("#upload-item-section, #notification-link, #account-profile").on("hidden.bs.dropdown",function(){parent.$("#nav-backdrop").hide()});$("#notification-link, #account-profile, #upload-item-section").click(function(){$(".dropdown-backdrop").length===0&&$("body").append(n);$("#notification-link").hasClass("open")?$("#account-profile").hasClass("open")?n.show():n.show():n.show()});$(document).on("click","#account-profile .profile-info",function(n){n.stopPropagation()});n.click(function(){n.hide()});$(document).on("click",".dropdown-backdrop",function(){parent.$("#nav-backdrop").hide()});searchId=$("#search-area").children("input").attr("id");searchId=="ad-user-import"||searchId=="AD-group-import"||searchId=="search-ad-users"||searchId=="search-ad-groups"?($.xhrPool=[],$.xhrPool.abortAll=function(){$(this).each(function(n,t){t.abort()});$.xhrPool.length=0},$.ajaxSetup({beforeSend:function(n){$.xhrPool.push(n)},complete:function(n){var t=$.xhrPool.indexOf(n);t>-1&&$.xhrPool.splice(t,1)}})):($.xhrPool=[],$.xhrPool.abortAll=function(){$(this).each(function(n,t){t.abort()});$.xhrPool.length=0},typeof ej!="undefined"&&typeof ej.UrlAdaptor!="undefined"?(ej.UrlAdaptor.prototype.beforeSend=function(n,t){$.xhrPool.push(t)},$.ajaxSetup({complete:function(n){var t=$.xhrPool.indexOf(n);t>-1&&$.xhrPool.splice(t,1)}})):typeof BoldBIDashboard!="undefined"&&typeof BoldBIDashboard.UrlAdaptor!="undefined"&&(BoldBIDashboard.UrlAdaptor.prototype.beforeSend=function(n,t){$.xhrPool.push(t)},$.ajaxSetup({complete:function(n){var t=$.xhrPool.indexOf(n);t>-1&&$.xhrPool.splice(t,1)}})));$(".lazyload").each(function(){var n,i;$(this).attr("data-id")==="footerlogo"?(img=document.createElement("img"),img.onload=t,img.src=$(this).attr("data-src"),img.alt=$(this).attr("data-alt"),img.id=$(this).attr("data-id"),$(img).attr("onerror",$(this).attr("data-default")),img.style="display: none",$(this).parent().find("p#poweredbysyncfusion").append(img)):$(this).attr("data-id")==="profilelogo"||$(this).attr("data-id")==="user-profile-picture"?(img=document.createElement("img"),img.onload=t,img.src=$(this).attr("data-src-value"),img.alt=$(this).attr("data-alt"),img.id=$(this).attr("data-id"),$(img).attr("onerror",$(this).attr("data-default")),img.style="display: none",$(this).parent().append(img)):(img=document.createElement("img"),img.onload=t,img.src=$(this).attr("data-src"),img.alt=$(this).attr("data-alt"),img.id=$(this).attr("data-id"),$(img).attr("onerror",$(this).attr("data-default")),img.style="display: none",$(this).parent().append(img),$(this).attr("data-id")==="application-logo"&&(n=$(this).attr("data-src"),n!==undefined&&n!==""&&n.length>3&&(i=n.substr(n.length-3,n.length),i.toLowerCase()==="svg"&&$("#application-logo").addClass("application-logo-svg"))))});window.isSiteLoaded=!1;$("#dropdown-profile").on("show.bs.dropdown",function(){var n=document.cookie.split(";");$.each(n,function(n,t){var i=t.split("=");i[0].trim()=="ums_admin_privilege"&&i[1]=="true"&&$("#dropdown-profile .dropdown-menu.sub-menu .admin-privilege").show()});typeof isSelfHosted!="undefined"&&isSelfHosted&&!window.isSiteLoaded&&$.ajax({type:"POST",url:window.userTenantsUrl,success:function(n){var t,u,i,r;for($("#user-sites .loader-sites-gif").remove(),t=n.Sites,u=t.length>2?2:t.length,i=0;i<u;i++)r=t[i].DNS,t[i].TenantIdentifier!=null&&(r+="/"+window.tenantIdentifierPrefix+"/"+t[i].TenantIdentifier),$("#user-sites").append($("<a href='"+r+"' target='_blank'> <div class='site-logo-container'> <img src='"+r+"/get-client-logo?logotype=headerlogo' alt='boldbi-header' class='site-logo'/><span class='site-name'>"+t[i].TenantName+"<\/span><\/div><\/a>"));t.length>=3?$("#more-sites-id").append("<div class='pull-left more-sites'><a href='"+window.idpUrl+"/ums/homepage' target='_blank'>more sites...<\/a><\/div>"):$("#more-sites-id").remove();window.isSiteLoaded=!0}})});$(".hide-display").each(function(){$(this).removeClass("hide-display")});typeof showFeedbackDialog!="undefined"&&showFeedbackDialog.toLowerCase()=="true"&&($("#do-not-show-button").removeClass("display-none"),$("#show-later-button").removeClass("display-none"),$("#cancel-button").addClass("display-none"),$("#close-general-feedback").attr("data-feedback-close",!1),openFeedbackWindow());f()&&(i=createLoader("#body"),typeof BoldBIDashboard!="undefined"?$("#body").BoldBIDashboardWaitingPopup({template:$("#"+i)}):$("#body").ejWaitingPopup({template:$("#"+i)}))});$(document).on("keyup","textarea",function(n){if(n.keyCode!=8&&n.keyCode!=46){var t=$(this).attr("maxlength");t!=undefined&&$(this).val().length>=t&&$(this).val($(this).val().substring(0,t))}});$("textarea").keyup(function(n){if(n.keyCode!=8&&n.keyCode!=46){var t=255;$(this).attr("maxlength")!=undefined&&(t=$(this).attr("maxlength"));$(this).val().length>=t&&$(this).val($(this).val().substring(0,t))}});$(document).on("focus","input[type=text],input[type=password],textarea",function(){regexIe8.test(userAgent)&&$(this).next(".placeholder").removeClass("show").addClass("hide")});$(document).on("focusout","input[type=text],input[type=password],textarea",function(){regexIe8.test(userAgent)&&$(this).val()===""&&$(this).next(".placeholder").removeClass("hide").addClass("show")});$(document).on("focus",".placeholder",function(){$(this).prev("input").focus()});$(document).on("keyup","#SearchCategory, #search-groups, #search-group-users, #ad-user-import, #userSearchKey,#groupSearchKey, #ad-group-import, #searchItems, #search-slideshows, #search-schedules, #search-users, #search-published-items, #search-ad-users, #search-ad-groups, #search-user-permission, #search-group-permission, #search-database-users,#search-tree, #search-home-page, #search-items, .search-user-holder, .tree-view-search-holder, #search-linked-accounts, #template-datasource-search-items, #search-linked-dashboards, #search-webhooks, #search-webhooks-grid",function(){var n="#"+this.id;$(n).val()!=""?n=="#search-home-page"?$(n).parent().siblings("span.close-icon").css("display","block"):($(n).siblings("span.close-icon").css("display","block"),$(n).siblings("span.search-user").css("display","none"),$(n).siblings("span.search-accounts").css("display","none"),$(n).siblings("span.search-group").css("display","none"),$(n).siblings("span.search-group-users").css("display","none"),$(n).siblings("span.search-icon").css("display","none"),$(n).siblings("span.search-item").css("display","none"),$(n).siblings("span.search-schedule").css("display","none"),$(n).siblings("span.search-slideshows").css("display","none"),$(n).siblings("span.search").css("display","none")):n=="#search-home-page"?$(n).parent().siblings("span.su-search").css("display","block"):($(n).siblings("span.close-icon").css("display","none"),$(n).siblings("span.su-search").css("display","block"))});$(document).on("click","#clear-search,.clear-search",function(){var t=$(this).prevAll("input"),n,r,i;(t==""||t==null||t==undefined||t.length<=0)&&(t=$(this).prev("div").find("input"));n="#"+t.attr("id");t.val("");clearSearch||$("#clear-search").css("display","none");t.val()==""?(n!="#search-home-page"||clearSearch?$("#clear-search").siblings("span.su-search").css("display","block"):($("#clear-search").parent().siblings("span.su-search").css("display","block"),$(".search-area").removeClass("add-background"),$(".placeholder, #clear-search").hide(),$(".all-items").hasClass("active")&&!$("#category-list").is(":visible")?setTimeout(function(){$(".search-area").prevAll().show().parent().removeClass("pull-right");$("#category-section-name").show()},300):setTimeout(function(){$(".search-area").prevAll(":not(#back-icon)").show().parent().removeClass("pull-right");$("#category-section-name").show()},300),setTimeout(function(){$(".search-home-section:visible").removeClass("show")},300)),n=="#ad-user-import"||n=="#ad-group-import"||n=="#search-database-users"?n=="#search-database-users"?(r=jQuery.Event("keypress",{keyCode:13}),$("#search-database-users").trigger(r)):(i="",i=typeof BoldBIDashboard!="undefined"?$("#Grid").data("BoldBIDashboardGrid"):$("#Grid").data("ejGrid"),i.option("dataSource","")):PerformSearch(n),(n=="#search-ad-users"||n=="#search-ad-groups")&&(n=="#search-ad-groups"?(i="",i=typeof BoldBIDashboard!="undefined"?$("#Grid").data("BoldBIDashboardGrid"):$("#Grid").data("ejGrid"),$("#checkbox-header").prop("checked",!1),$(".checkbox-row").prop("checked",!1),i.clearSelection()):(i="",i=typeof BoldBIDashboard!="undefined"?$("#user_grid").data("BoldBIDashboardGrid"):$("#user_grid").data("ejGrid"),$("#checkbox-header").prop("checked",!1),$(".checkbox-row").prop("checked",!1),i.clearSelection()))):t.val("")});$(document).on("keydown","#search-groups, #search-group-users, #searchItems, #search-schedules,#search-slideshows,#userSearchKey,#groupSearchKey, #search-users, #search-published-items, #search-user-permission, #search-group-permission, #search-home-page, #search-items, #search-linked-accounts, #search-linked-dashboards, #search-webhooks, #search-webhooks-grid, #search-ad-groups, #search-ad-users",function(n){$.xhrPool.abortAll();var t=parseInt(n.which),i="#"+this.id;timeOut!=null&&(clearTimeout(timeOut),timeOut=null);t===keyCode.Enter?PerformSearch(i):excludedSearchKeys.indexOf(t)===-1&&(timeOut=setTimeout(function(){PerformSearch(i)},900))});window.onpopstate=function(n){var l=window.location.search,a=window.location.pathname,t=a.split("/"),s,h,c;n.preventDefault();var v=typeof t[2]!="undefined"?t[2]:null,y=typeof t[3]!="undefined"?t[3]=="dashboards"?t[3]:null:null,r=y!=null?typeof t[4]!="undefined"?isValidGuid(t[4])?t[4]:null:null:null,f=r!=null?typeof t[5]!="undefined"?t[5]:null:null,e=r!=null?typeof t[6]!="undefined"?t[6]:null:null,i=getQueryVariable("view"),o=getQueryVariable("tab");if(v!=null&&i!=null&&f!=null&&e!=null&&r!=null){var p=$("#current-url").attr("data-url"),u=p.split("/"),w=typeof u[3]!="undefined"?u[3]=="dashboards"?u[3]:null:null,b=w!=null?typeof u[4]!="undefined"?isValidGuid(u[4])?u[4]:null:null:null;r!==b?(s=rootUrlAction+"/dashboards",DashboardRender(s,r,f,e,i,o)):$("#current-url").attr("data-url",rootUrlAction+"/dashboards/"+r+"/"+decodeURI(f)+"/"+decodeURI(e)+"?view="+decodeURI(i))}else i!=null&&f==null&&e==null?($(".item-navigation li[data-value='"+i+"']").hasClass("active")==!1&&($(".item-navigation li").removeClass("active"),$(".item-navigation li[data-value='"+i+"']").addClass("active")),$(".item-navigation li[data-value='"+i+"']").trigger("click"),h=document.getElementById("dashboard_render_iframe"),h.contentWindow.location.href="about:blank",$("#item-viewer #initial-item-message").css("display","block"),$("#dashboard_render_iframe").css("display","none")):l==""&&f==null&&i==null&&t.length<5&&($(".item-navigation li[data-value='categories']").hasClass("active")==!1&&($(".item-navigation li").removeClass("active"),$(".item-navigation li[data-value='categories']").addClass("active")),$(".item-navigation li[data-value='categories']").trigger("click"),c=decodeURI(t[t.length-1]),$(".category-link[data-category='"+c+"']").trigger("click"));n.state!==null&&document.getElementById("dashboard_render_iframe")!=undefined&&(JSON.stringify(n.state)!==JSON.stringify({})||o!==null)&&document.getElementById("dashboard_render_iframe").contentWindow.postMessage("filter","*")};$(window).on("load",function(){typeof getTenantStatusUrl!="undefined"&&$.ajax({type:"Post",url:getTenantStatusUrl,success:function(n){var i;if(n!==undefined&&n.IsAdmin){if(!n.IsTenantStatusActive){$(".warning-content").text("");var r=window.location.pathname.indexOf("administration/payments"),u=r>-1?!0:!1,t="";n.TenantStatus!=="MarkedForSuspension"||u?n.TenantStatus==="Suspended"&&(t=window.Server.App.Localization.SuspendedWarning+" <span class='close-warning-icons su-close'><\/span>",$(".warning-content").append(t),$(".suspension-warning").css("display","block"),$("#content-area").addClass("suspension-warning-space")):(t=window.Server.App.Localization.SuspensionWarningInfo.format(n.TenantStatusUpdateDate," <a href='"+paymentPageUrl+"' target='_blank'>","<\/a>"),$(".warning-content").append(t),$(".suspension-warning").css("display","block"),$("#content-area").addClass("suspension-warning-space"));typeof isMobile!="undefined"&&isMobile&&($(".suspension-warning").css({top:"40px",margin:0}),$(".suspension-warning .warning-content").css("padding-right","50px"))}!1&&(n.IsAuthorsExceed&&n.IsLicenseExpired?t="Your site license has expired, and you have exceeded the dashboard creators limit.":n.IsAuthorsExceed?t="You have exceeded the dashboard creators limit.":n.IsLicenseExpired&&(t="Your site license has expired."),i=window.location.pathname.indexOf("administration/subscription"),t=i>-1?t+" Please upgrade your plan or <a href='"+contactUsUrl+"'>contact us<\/a>. <span class='close-user-warning-icons su-close'><\/span>":t+" Please  <a href='"+manageLicenseUrl+"'> upgrade your plan<\/a> or <a href='"+contactUsUrl+"'>contact us<\/a>. <span class='close-user-warning-icons su-close'><\/span>",$(".user-warning-content").text(""),$(".user-warning-content").append(t),$(".user-warning").css("display","block"),$("#content-area").addClass("user-warning-space"))}}});typeof getNotificationCountUrl!="undefined"&&$.ajax({type:"Post",url:getNotificationCountUrl,success:function(n){n!=null&&n!=undefined&&(n.notificationCount>0?$("#user-system-notification").append($("<span>").attr({id:"notification-indicator"})):$("#user-system-notification").find("#notification-indicator").remove())}})});$(document).ready(function(){function n(){$.ajax({type:"POST",url:window.setPermissionUrl})}$("#cookiesubs,#cookiesubs-dashboards").on("click",function(){$(".cookie-notification").remove();$(".cookie-notification-dashboards").remove();n()})});$(document).on("show.bs.collapse","#menu-area",function(){$("#collapse-menu-backdrop").show();$(".mobile-menu-icon span i").removeClass("su-mobile-menu-icon");$(".mobile-menu-icon span i").addClass("su-close")});$(document).on("hide.bs.collapse","#menu-area",function(){$("#collapse-menu-backdrop").hide();$(".mobile-menu-icon span i").removeClass("su-close");$(".mobile-menu-icon span i").addClass("su-mobile-menu-icon")});$(document).on("hidden.bs.collapse","#menu-area",function(){$("#menu-area").css("width","175px")});$(document).on("click","#show-detail",function(){$("#show-detail").hide();$("#hide-detail").show();$("#deploy-error-container").show()});$(document).on("click","#hide-detail",function(){$("#hide-detail").hide();$("#deploy-error-container").hide();$("#show-detail").show()});$(document).on("click","#deploy-error-copy",function(){var n=$("#deploy-error-copy"),t=$("#deploy-error-box");t.prop("disabled",!1);t.select();/Safari/.test(navigator.userAgent)&&/Apple Computer/.test(navigator.vendor)?(n.removeClass("su su-copy"),n.attr("data-original-title","")):(document.execCommand("copy"),n.attr("data-original-title",window.Server.App.Localization.Copysuccess),n.tooltip("hide").attr("data-original-title",window.Server.App.Localization.Copysuccess).tooltip("fixTitle").tooltip("show"),t.prop("disabled",!0),setTimeout(function(){n.attr("data-original-title",window.Server.App.Localization.LinkCopy);n.tooltip()},3e3))});$(document).on("focusin","#deploy-error-box",function(){var n=$("#deploy-error-copy");n.addClass("focusdiv")});$(document).on("focusout","#deploy-error-box",function(){var n=$("#deploy-error-copy");n.removeClass("focusdiv")});var reportItemName="",reportItemId="",reportCategoryName="",multiDashboardName="",childId="",createdItemId="",url="",alertChange=1,dateFormat="",timeFormat="",listDashboards="",childDashboards="",item="",condition="",itemConditionArray="",recurrence="",endType="",endDate="",endAfter="",startDate="",itemRecurrence="",frequency="",exportType="",scheduleExportInfo="",subscriberExternalRecipient="",subscriberGroup="",subscriberUser="",itemConditionCategory="",itemWidgetName="",emailContent="",buttonValue="",filterContent="",designerServiceUrl="",dashboardServerUrl="",dataServiceUrl="",dataServiceUrlforDataAlert="",isCustomExpressionOpened=!1,scheduleRecurrenceInfo="",alertChangeValue=1,isScheduledDashboardDeleted="",scheduleExportInfo="";$(document).ready(function(){dateFormat=$("#dateFormat").val();timeFormat=$("#timeFormat").val();designerServiceUrl=$('meta[name="designer_service:url"]').attr("content");dashboardServerUrl=$('meta[name="dashboard_server:url"]').attr("content");dataServiceUrlforDataAlert=$("meta[name='data_service:url']").attr("content");$(".category-dropdown .bootstrap-select .bs-searchbox .input-block-level").attr("placeholder",window.Server.App.Localization.SearchCategories);$(".dashboard-dropdown .bootstrap-select .bs-searchbox .input-block-level").attr("placeholder",window.Server.App.Localization.SearchDashboards);$(".childdashboard-dropdown .bootstrap-select .bs-searchbox .input-block-level").attr("placeholder",window.Server.App.Localization.SearchTabs)});$(document).on("click","#schedule-submit-cancel,#schedule-popup,#schedule-next-cancel",function(){if(isCustomExpressionOpened){onCloseCustomExpression();return}closePopupContainer()});$(document).keyup(function(n){n.keyCode==27&&closePopupContainer()});$(document).on("change","#selected_category",function(){var i,n,t;reportCategoryName="";itemName="";i=$(this).find("option:selected").text();($(this).find("option:selected").val()==""||$(this).find("option:selected").val()!="")&&($(".schedule-popup-title").html(window.Server.App.Localization.Schedule),$(".schedule-popup-title").attr("title",""));$("#selected_dashboard").attr("disabled",!0);$(".dashboard-dropdown").append($("<span class='no-padding loader-gif'><div class='loader-blue loader-icon' id='selected-category-loader-icon'><svg class='circular'><circle class='path' cx='27' cy='27' r='13' fill='none' stroke-width='4' stroke-miterlimit='10'><\/circle><\/svg><\/div><\/span>"));n=[];n.push({PropertyName:"CategoryName",FilterType:"equals",FilterKey:i});t=undefined;itemId!=null&&(listDashboards="");$.ajax({type:"POST",url:getDashboardUrl,data:{searchKey:t,skip:0,take:20,sorted:t,filterCollection:n,displayCategory:"SpecificCategory",isScheduleRequest:!0},success:function(n){var i,t;for($("#selected_dashboard").attr("disabled",!1),$(".dashboard-dropdown span.loader-gif").remove(),i=n.result,t=0;t<i.length;t++)listDashboards+='<option value="'+i[t].Id+'">'+i[t].Name+"<\/option>";$("#selected_dashboard").html("");$("#selected_dashboard").html('<option value="" selected="selected" class="hide-option" disabled>'+window.Server.App.Localization.SelectDashboard+"<\/option>"+listDashboards).selectpicker("refresh");$("#selected_childdashboard").attr("disabled",!0);$("#selected_childdashboard").html("");$("#selected_childdashboard").html('<option value="" selected="selected" class="hide-option" disabled="disabled">'+window.Server.App.Localization.SelectDashboard+"<\/option>").selectpicker("refresh");addTitleForDashboard()}});$("#selected_category option:selected").val()!=""&&$("#category-message").css("display","none")});$(document).on("change","#selected_dashboard",function(){var t,n,r;$("#selected_childdashboard").attr("disabled",!0);t=$(this).find("option:selected").text();n=$(this).find("option:selected").val();isScheduledDashboardDeleted="false";createdItemId=n;$(".childdashboard-dropdown .bootstrap-select").append($("<span class='no-padding loader-gif'><div class='loader-blue loader-icon' id='selected-dashboard-loader-icon'><svg class='circular'><circle class='path' cx='27' cy='27' r='13' fill='none' stroke-width='4' stroke-miterlimit='10'><\/circle><\/svg><\/div><\/span>"));r=[];r.push({PropertyName:"Name",FilterType:"equals",FilterKey:t});var u=undefined,i="";n!=""?($(".schedule-popup-title").html(" "+t+" -"+window.Server.App.Localization.Schedule),$(".schedule-popup-title").attr("title",t)):($(".schedule-popup-title").html(window.Server.App.Localization.Schedule),$(".schedule-popup-title").attr("title",""));$(".items-dropdown select").html("");$(".items-dropdown").append($("<span class='no-padding loader-gif'><div class='loader-blue loader-icon' id='selected-dashboard-items-dropdown-loader-icon'><svg class='circular'><circle class='path' cx='27' cy='27' r='13' fill='none' stroke-width='4' stroke-miterlimit='10'><\/circle><\/svg><\/div><\/span>"));$(".items-dropdown").find("select").attr("disabled",!0);n!=""&&($.ajax({type:"POST",url:getChildDashboardUrl,data:{parentId:n},success:function(n){var t,r;if($(".childdashboard-dropdown span.loader-gif").remove(),t=n.result,t!==null)for($("#selected_childdashboard").attr("disabled",!1),r=0;r<t.length;r++)i+=t[r].DashboardId!==childId?"<option data-designerid="+t[r].DesignerId+' value="'+t[r].DashboardId+'">'+t[r].Name+"<\/option>":"<option data-designerid="+t[r].DesignerId+' value="'+t[r].DashboardId+'" selected="selected">'+t[r].Name+"<\/option>";$("#selected_childdashboard").html("");$("#selected_childdashboard").append('<option value="" selected=selected>'+window.Server.App.Localization.All+"<\/option>"+i).selectpicker("refresh");addTitleForChildDashboards();$("#selected_childdashboard").trigger("change")}}),$(".schedule-dialog").find("#dataAlert").length>0&&$("#dataAlert").remove());$("#data-changes-container").length>0&&$.ajax({type:"POST",url:getwidgetUrl,data:{itemId:n},success:function(n){for(var r,u,t=n,f="",i=0;i<t.data.length;i++)r="",u="",t.isMultiDashboard==!0&&(r=" ("+t.data[i].ParentName+")",u="data-itemid="+t.data[i].ParentId),f+="<option "+u+'  value="'+t.data[i].Name+'">'+t.data[i].Name+" "+r+"<\/option>";$(".items-dropdown select").append('<option disabled class="hide-option" selected="selected" value="">'+window.Server.App.Localization.SelectWidget+"<\/option>"+f).selectpicker("refresh");addTitleForWidgets();$("#selected-items").change();$("#data-changes-container #condition-div #measure-div,#data-changes-container #condition-div #dimension-div").html("");$("#data-changes-container #condition-div #add-condition,#data-changes-container #add-dimension-condition").css("display","none");refreshConditionCategory();$("span.loader-gif").remove();$(".items-dropdown").find("select").removeAttr("disabled");$(".items-dropdown").find(".bootstrap-select li,.bootstrap-select .btn-default").removeClass("disabled");$(".items-dropdown").find(".dropdown-menu").addClass("alignment-dropdown");$(".items-dropdown").find(".dropdown-menu .inner").addClass("alignment-dropdown-inner");$(".items-dropdown").find(".dropdown-menu li:first").css("height","0px")}});$("#schedule-submit").attr("data-report-id",n);$("#schedule-submit").attr("data-item-id",n);$("#selected_dashboard option:selected").val()!=""&&$("#dashboard-message").css("display","none");hideDataAlert(!1)});$(document).on("change","#selected_childdashboard",function(){var t=$(this).find("option:selected").text(),n=$(this).find("option:selected").val();t=="All"?(n=$("#selected_dashboard").find("option:selected").val(),t=$("#selected_dashboard").find("option:selected").text(),createdItemId=n):(n=$("#selected_childdashboard").find("option:selected").val(),t=$("#selected_childdashboard").find("option:selected").text(),createdItemId=n);n!=""?($(".schedule-popup-title").html(" "+t+" - "+window.Server.App.Localization.Schedule),$(".schedule-popup-title").attr("title",t)):($(".schedule-popup-title").html(window.Server.App.Localization.Schedule),$(".schedule-popup-title").attr("title",""));$(".items-dropdown select").html("");$(".items-dropdown").append($("<span class='no-padding loader-gif'><div class='loader-blue loader-icon' id='selected-childdashboard-loader-icon'><svg class='circular'><circle class='path' cx='27' cy='27' r='13' fill='none' stroke-width='4' stroke-miterlimit='10'><\/circle><\/svg><\/div><\/span>"));$(".items-dropdown").find("select").attr("disabled",!0);$("#data-changes-container").length>0&&$.ajax({type:"POST",url:window.getwidgetUrl,data:{itemId:n},success:function(n){for(var r,u,t=n,f="",i=0;i<t.data.length;i++)r="",u="",t.isMultiDashboard==!0&&(r=" ("+t.data[i].ParentName+")",u="data-itemid="+t.data[i].ParentId),f+="<option "+u+'  value="'+t.data[i].Name+'">'+t.data[i].Name+" "+r+"<\/option>";$(".items-dropdown select").append('<option disabled class="hide-option" selected="selected" value="">'+window.Server.App.Localization.SelectWidget+"<\/option>"+f).selectpicker("refresh");addTitleForWidgets();$("#selected-items").change();$("#data-changes-container #condition-div #measure-div,#data-changes-container #condition-div #dimension-div").html("");$("#data-changes-container #condition-div #add-condition,#data-changes-container  #add-dimension-condition").css("display","none");refreshConditionCategory();$("span.loader-gif").remove();$(".items-dropdown").find("select").removeAttr("disabled");$(".items-dropdown").find(".bootstrap-select li,.bootstrap-select .btn-default").removeClass("disabled");$(".items-dropdown").find(".dropdown-menu").addClass("alignment-dropdown");$(".items-dropdown").find(".dropdown-menu .inner").addClass("alignment-dropdown-inner");$(".items-dropdown").find(".dropdown-menu li:first").css("height","0px")}});$("#schedule-submit").attr("data-report-id",n);$("#schedule-submit").attr("data-item-id",n);$(".childdashboard-dropdown .btn-group .dropdown-menu.open").removeAttr("style");$(".childdashboard-dropdown .btn-group .dropdown-menu.open").css("overflow","hidden")});$(document).on("focusout","#schedule-name",function(){var n=$("#schedule-name").val().trim(),t="";t=actionType=="Create"?$("#schedule-submit").attr("data-schedule-id"):scheduleId;$.trim(n)!=""?($("#schedule-name").closest("div").removeClass("has-error"),$("#schedule-name-error-container").css("display","none"),n?scheduleNameCheck(t,n):$("#schedule-name-error-container").css("display","none")):($("#schedule-name").closest("div").addClass("has-error"),$("#schedule-name-error-container").css("display","block"),$("#schedule-name-validator").html(window.Server.App.Localization.ScheduleValidator))});$(document).on("keyup","#schedule-name",function(){$.trim($("#schedule-name").val())!=""?($("#schedule-name").closest("div").removeClass("has-error"),$("#schedule-name-error-container").css("display","none")):($("#schedule-name").closest("div").addClass("has-error"),$("#schedule-name-error-container").css("display","block"),$("#schedule-name-validator").html(window.Server.App.Localization.ScheduleValidator))});$(document).on("click","#schedule-next",function(){var n,t;validateSchedule(this)&&(alertChange==2?$(this).hasClass("time-interval-body")?(n=$("#dataAlert").data("BoldBIDashboardDesigner"),n.getDataAlertModel()):$(this).hasClass("subscribe-body")?validateNextSchedule():$(this).hasClass("email-editor-body")?$("#email-content-validation").text()==""&&($("#email-content-validation").html(""),url=recurrenceType,enableTimeIntervalOption(),$("#schedule-next").removeClass("email-editor-body")):isScheduledDashboardDeleted!="true"?(url=dataAlertUrl,enableDataNotificationOption()):(isScheduledDashboardDeleted="false",$("#selected_dashboard").html('<option value="" disabled="disabled" class="hide-option"selected="selected">'+window.Server.App.Localization.SelectDashboard+"<\/option>").selectpicker("refresh")):$(this).hasClass("time-interval-body")?(url=recurrenceType,enableTimeIntervalOption()):$(this).hasClass("email-editor-body")?$("#email-content-validation").text()==""&&(t=$("#frequency").css("display"),t=="block"&&($("#recurrence-type option[value='Hourly']").attr("selected","selected"),$("#recurrence-type").selectpicker("refresh")),$("#email-content-validation").html(""),$("#schedule-next").removeClass("email-editor-body"),url=recurrenceType,enableTimeIntervalOption()):$(this).hasClass("subscribe-body")?validateNextSchedule():isScheduledDashboardDeleted!="true"?(url=emailEditor,enableEmailEditor(),$("#schedule-next").addClass("email-editor-body")):(isScheduledDashboardDeleted="false",$("#selected_dashboard").html('<option value="" disabled="disabled" class="hide-option"selected="selected">'+window.Server.App.Localization.SelectDashboard+"<\/option>").selectpicker("refresh")))});$(document).on("click","#schedule-back",function(){if(isCustomExpressionOpened){onCloseCustomExpression();return}$("#schedule-next").parent("div").css("display")=="none"?enableTimeIntervalOption():$("#schedule-next").hasClass("subscribe-body")?(alertChange==1?enableEmailEditor():alertChange==3?($("#schedule-next").addClass("time-interval-body"),$("#dataAlert").css("display","block")):enableEmailEditor(),$("#schedule-next").removeClass("subscribe-body")):$("#schedule-next").hasClass("time-interval-body")?enableScheduleOption():$("#schedule-next").hasClass("email-editor-body")&&(alertChange==1?enableScheduleOption():enableDataNotificationOption())});$(document).on("click","#data-alerts",function(){var t,n;if($("#data-alerts").prop("checked")==!0){if(alertChange=2,actionType=="Edit"&&$("#selected_childdashboard").find("option").length<=1&&$("#selected_childdashboard").attr("disabled")!="disabled"&&childDashboards!=null&&childDashboards.length>1){for(t="",n=0;n<childDashboards.length;n++)t+=childDashboards[n].Name.toLowerCase()==itemName.toLowerCase()?"<option data-designerid="+childDashboards[n].DesignerId+' value="'+childDashboards[n].DashboardId+'" selected="selected">'+childDashboards[n].Name+"<\/option>":"<option data-designerid="+childDashboards[n].DesignerId+' value="'+childDashboards[n].DashboardId+'">'+childDashboards[n].Name+"<\/option>";$("#selected_childdashboard").html("");$("#selected_childdashboard").append('<option value="">'+window.Server.App.Localization.All+"<\/option>"+t).selectpicker("refresh")}}else alertChange=1;($("#schedule-next").hasClass("subscribe-body")||$("#schedule-next").hasClass("time-interval-body"))&&($("#schedule-next").removeClass("subscribe-body"),$("#schedule-next").removeClass("time-interval-body"))});$("#scheduleSearch_global").on("keyup","#scheduleSearch_formfield",function(){var n=$(this).val();n.length>2?$("#scheduleGrid").data("ejGrid").search(n):$("#scheduleGrid").data("ejGrid").search("")});listCategories="";$(document).on("show.bs.dropdown",".category-dropdown",function(){var n,t;$(".category-dropdown").find(".open,.bootstrap-select").removeClass("dropdown-alignment");listCategories==""&&($(".category-dropdown .bootstrap-select").append($("<span class='no-padding loader-gif'><div class='loader-blue loader-icon' id='category-dropdown-loader-icon'><svg class='circular'><circle class='path' cx='27' cy='27' r='13' fill='none' stroke-width='4' stroke-miterlimit='10'><\/circle><\/svg><\/div><\/span>")),$(".category-dropdown .bootstrap-select .open").hide(),n=[],n.push({PropertyName:"CategoryName",FilterType:"equals",FilterKey:reportCategoryName}),t=undefined,$.ajax({type:"POST",url:getCategoryUrl,success:function(n){for(var i=n,t=0;t<i.data.length;t++)listCategories+=i.data[t].Name==reportCategoryName?'<option value="'+i.data[t].Id+'" selected= "selected">'+i.data[t].Name+"<\/option>":'<option value="'+i.data[t].Id+'">'+i.data[t].Name+"<\/option>";$("#selected_category").html("");reportItemId==""?$("#selected_category").html('<option value="" disabled="disabled" class="hide-option" selected="selected">'+window.Server.App.Localization.SelectCategory+"<\/option>"+listCategories).selectpicker("refresh"):$("#selected_category").html(listCategories).selectpicker("refresh");addTitleForCategory();$(".category-dropdown .bootstrap-select ul li").each(function(){$(this).hasClass("selected")&&$(this).addClass("active")});listCategories!=""&&$(".category-dropdown .bootstrap-select .open").show();$(".category-dropdown span.loader-gif").remove()}}));$(".category-dropdown").find(".open").addClass("dropdown-alignment")});$(document).on("show.bs.dropdown",".dashboard-dropdown",function(){var n;if($(".dashboard-dropdown").find(".open,.bootstrap-select").removeClass("dropdown-alignment"),$("#selected_category").find("option:selected").val()==""&&multiDashboardName==null)$("#category-message").css("display","block"),$("#selected_dashboard").attr("disabled",!1);else if(listDashboards==""){$(".dashboard-dropdown .bootstrap-select").append($("<span class='no-padding loader-gif'><div class='loader-blue loader-icon' id='dashboard-dropdown-loader-icon'><svg class='circular'><circle class='path' cx='27' cy='27' r='13' fill='none' stroke-width='4' stroke-miterlimit='10'><\/circle><\/svg><\/div><\/span>"));$(".dashboard-dropdown .bootstrap-select .open").hide();n=[];n.push({PropertyName:"CategoryName",FilterType:"equals",FilterKey:reportCategoryName});var t=undefined;(reportItemId==""||reportItemId!="")&&itemName!=""&&reportCategoryName!=""?$.ajax({type:"POST",url:getDashboardUrl,data:{searchKey:t,skip:0,take:20,sorted:t,filterCollection:n,displayCategory:"SpecificCategory",isScheduleRequest:!0},success:function(n){for(var i=n.result,t=0;t<i.length;t++)listDashboards+=multiDashboardName==null||multiDashboardName=="undefined"||multiDashboardName==""?i[t].Name.toLowerCase()==itemName.toLowerCase()?'<option value="'+i[t].Id+'" selected=selected>'+i[t].Name+"<\/option>":'<option value="'+i[t].Id+'">'+i[t].Name+"<\/option>":i[t].Name.toLowerCase()==multiDashboardName.toLowerCase()?'<option value="'+i[t].Id+'" selected=selected>'+i[t].Name+"<\/option>":'<option value="'+i[t].Id+'">'+i[t].Name+"<\/option>";$("#selected_dashboard").html("");reportItemId==""?$("#selected_dashboard").html("<option value='' disabled='disabled' class='hide-option' selected='selected'>"+window.Server.App.Localization.SelectDashboard+"<\/option>"+listDashboards).selectpicker("refresh"):$("#selected_dashboard").html(listDashboards).selectpicker("refresh");addTitleForDashboard();$(".dashboard-dropdown ul li").each(function(){$(this).hasClass("selected")&&$(this).addClass("active")});$(".dashboard-dropdown .bootstrap-select .open").show();$(".dashboard-dropdown span.loader-gif").remove()}}):($("#selected_dashboard").html('<option value="" disabled="disabled" class="hide-option"selected="selected">'+window.Server.App.Localization.SelectDashboard+"<\/option>").selectpicker("refresh"),$(".dashboard-dropdown .bootstrap-select .open").show(),$(".dashboard-dropdown .btn-group .dropdown-menu.open").removeAttr("style"),$(".dashboard-dropdown .btn-group .dropdown-menu.open").css("overflow","hidden"),$(".dashboard-dropdown span.loader-gif").remove())}$(".dashboard-dropdown").find(".open").addClass("dropdown-alignment")});$(document).on("show.bs.dropdown",".childdashboard-dropdown",function(){var i,t,n;if(actionType=="Edit"&&$("#selected_childdashboard").find("option").length<=1){for($(".childdashboard-dropdown .bootstrap-select").append($("<span class='no-padding loader-gif'><div class='loader-blue loader-icon' id='childdashboard-dropdown-loader-icon'><svg class='circular'><circle class='path' cx='27' cy='27' r='13' fill='none' stroke-width='4' stroke-miterlimit='10'><\/circle><\/svg><\/div><\/span>")),$(".childdashboard-dropdown .bootstrap-select .open").hide(),i=$("#selected_dashboard").find("option:selected").val(),t="",n=0;n<childDashboards.length;n++)t+=childDashboards[n].Name.toLowerCase()==itemName.toLowerCase()?"<option data-designerid="+childDashboards[n].DesignerId+' value="'+childDashboards[n].DashboardId+'" selected="selected">'+childDashboards[n].Name+"<\/option>":"<option data-designerid="+childDashboards[n].DesignerId+' value="'+childDashboards[n].DashboardId+'">'+childDashboards[n].Name+"<\/option>";$("#selected_childdashboard").html("");$("#selected_childdashboard").append('<option value="">'+window.Server.App.Localization.All+"<\/option>"+t).selectpicker("refresh");addTitleForChildDashboards();$(".childdashboard-dropdown ul li").each(function(){$(this).hasClass("selected")&&$(this).addClass("active")});$(".childdashboard-dropdown span.loader-gif").remove();t!=""&&$(".childdashboard-dropdown .bootstrap-select .open").show()}});!function(n,t){"function"==typeof define&&define.amd?define(["jquery"],function(n){return t(n)}):"object"==typeof exports?module.exports=t(require("jquery")):t(jQuery)}(this,function(){!function(n){"use strict";function i(t){return n.each([{re:/[\xC0-\xC6]/g,ch:"A"},{re:/[\xE0-\xE6]/g,ch:"a"},{re:/[\xC8-\xCB]/g,ch:"E"},{re:/[\xE8-\xEB]/g,ch:"e"},{re:/[\xCC-\xCF]/g,ch:"I"},{re:/[\xEC-\xEF]/g,ch:"i"},{re:/[\xD2-\xD6]/g,ch:"O"},{re:/[\xF2-\xF6]/g,ch:"o"},{re:/[\xD9-\xDC]/g,ch:"U"},{re:/[\xF9-\xFC]/g,ch:"u"},{re:/[\xC7-\xE7]/g,ch:"c"},{re:/[\xD1]/g,ch:"N"},{re:/[\xF1]/g,ch:"n"}],function(){t=t.replace(this.re,this.ch)}),t}function r(n){var i={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"},r="(?:"+Object.keys(i).join("|")+")",u=new RegExp(r),f=new RegExp(r,"g"),t=null==n?"":""+n;return u.test(t)?t.replace(f,function(n){return i[n]}):t}function u(i,r){var e=arguments,u=i,s=r,f,o;return[].shift.apply(e),o=this.each(function(){var o=n(this),i,r,h,c;if(o.is("select")){if(i=o.data("selectpicker"),r="object"==typeof u&&u,i){if(r)for(h in r)r.hasOwnProperty(h)&&(i.options[h]=r[h])}else c=n.extend({},t.DEFAULTS,n.fn.selectpicker.defaults||{},o.data(),r),o.data("selectpicker",i=new t(this,c,s));"string"==typeof u&&(f=i[u]instanceof Function?i[u].apply(i,e):i.options[u])}}),"undefined"!=typeof f?f:o}var t,f;String.prototype.includes||!function(){var i={}.toString,n=function(){try{var n={},t=Object.defineProperty,i=t(n,n,n)&&t}catch(r){}return i}(),r="".indexOf,t=function(n){var u,s;if(null==this)throw TypeError();if(u=String(this),n&&"[object RegExp]"==i.call(n))throw TypeError();var f=u.length,e=String(n),h=e.length,o=arguments.length>1?arguments[1]:void 0,t=o?Number(o):0;return t!=t&&(t=0),s=Math.min(Math.max(t,0),f),h+s>f?!1:-1!=r.call(u,e,t)};n?n(String.prototype,"includes",{value:t,configurable:!0,writable:!0}):String.prototype.includes=t}();String.prototype.startsWith||!function(){var n=function(){try{var n={},t=Object.defineProperty,i=t(n,n,n)&&t}catch(r){}return i}(),i={}.toString,t=function(n){var u,f,r;if(null==this)throw TypeError();if(u=String(this),n&&"[object RegExp]"==i.call(n))throw TypeError();var e=u.length,o=String(n),s=o.length,h=arguments.length>1?arguments[1]:void 0,t=h?Number(h):0;if(t!=t&&(t=0),f=Math.min(Math.max(t,0),e),s+f>e)return!1;for(r=-1;++r<s;)if(u.charCodeAt(f+r)!=o.charCodeAt(r))return!1;return!0};n?n(String.prototype,"startsWith",{value:t,configurable:!0,writable:!0}):String.prototype.startsWith=t}();Object.keys||(Object.keys=function(n,t,i){i=[];for(t in n)i.hasOwnProperty.call(n,t)&&i.push(t);return i});n.fn.triggerNative=function(n){var t,i=this[0];i.dispatchEvent?("function"==typeof Event?t=new Event(n,{bubbles:!0}):(t=document.createEvent("Event"),t.initEvent(n,!0,!1)),i.dispatchEvent(t)):(i.fireEvent&&(t=document.createEventObject(),t.eventType=n,i.fireEvent("on"+n,t)),this.trigger(n))};n.expr[":"].icontains=function(t,i,r){var u=n(t),f=(u.data("tokens")||u.text()).toUpperCase();return f.includes(r[3].toUpperCase())};n.expr[":"].ibegins=function(t,i,r){var u=n(t),f=(u.data("tokens")||u.text()).toUpperCase();return f.startsWith(r[3].toUpperCase())};n.expr[":"].aicontains=function(t,i,r){var u=n(t),f=(u.data("tokens")||u.data("normalizedText")||u.text()).toUpperCase();return f.includes(r[3].toUpperCase())};n.expr[":"].aibegins=function(t,i,r){var u=n(t),f=(u.data("tokens")||u.data("normalizedText")||u.text()).toUpperCase();return f.startsWith(r[3].toUpperCase())};t=function(i,r,u){u&&(u.stopPropagation(),u.preventDefault());this.$element=n(i);this.$newElement=null;this.$button=null;this.$menu=null;this.$lis=null;this.options=r;null===this.options.title&&(this.options.title=this.$element.attr("title"));this.val=t.prototype.val;this.render=t.prototype.render;this.refresh=t.prototype.refresh;this.setStyle=t.prototype.setStyle;this.selectAll=t.prototype.selectAll;this.deselectAll=t.prototype.deselectAll;this.destroy=t.prototype.remove;this.remove=t.prototype.remove;this.show=t.prototype.show;this.hide=t.prototype.hide;this.init()};t.VERSION="1.7.2";t.DEFAULTS={noneSelectedText:"Nothing selected",noneResultsText:"No results matched {0}",countSelectedText:function(n){return 1==n?"{0} item selected":"{0} items selected"},maxOptionsText:function(n,t){return[1==n?"Limit reached ({n} item max)":"Limit reached ({n} items max)",1==t?"Group limit reached ({n} item max)":"Group limit reached ({n} items max)"]},selectAllText:"Select All",deselectAllText:"Deselect All",doneButton:!1,doneButtonText:"Close",multipleSeparator:", ",styleBase:"btn",style:"btn-default",size:"auto",title:null,selectedTextFormat:"values",width:!1,container:!1,hideDisabled:!1,showSubtext:!1,showIcon:!0,showContent:!0,dropupAuto:!0,header:!1,liveSearch:!1,liveSearchPlaceholder:null,liveSearchNormalize:!1,liveSearchStyle:"contains",actionsBox:!1,iconBase:"glyphicon",tickIcon:"glyphicon-ok",maxOptions:!1,mobile:!1,selectOnTab:!1,dropdownAlignRight:!1};t.prototype={constructor:t,init:function(){var t=this,i=this.$element.attr("id");this.$element.addClass("bs-select-hidden");this.liObj={};this.multiple=this.$element.prop("multiple");this.autofocus=this.$element.prop("autofocus");this.$newElement=this.createView();this.$element.after(this.$newElement);this.$button=this.$newElement.children("button");this.$menu=this.$newElement.children(".dropdown-menu");this.$menuInner=this.$menu.children(".inner");this.$searchbox=this.$menu.find("input");this.options.dropdownAlignRight&&this.$menu.addClass("dropdown-menu-right");"undefined"!=typeof i&&(this.$button.attr("data-id",i),n('label[for="'+i+'"]').click(function(n){n.preventDefault();t.$button.focus()}));this.checkDisabled();this.clickListener();this.options.liveSearch&&this.liveSearchListener();this.render();this.setStyle();this.setWidth();this.options.container&&this.selectPosition();this.$menu.data("this",this);this.$newElement.data("this",this);this.options.mobile&&this.mobile();this.$newElement.on("hide.bs.dropdown",function(n){t.$element.trigger("hide.bs.select",n)});this.$newElement.on("hidden.bs.dropdown",function(n){t.$element.trigger("hidden.bs.select",n)});this.$newElement.on("show.bs.dropdown",function(n){t.$element.trigger("show.bs.select",n)});this.$newElement.on("shown.bs.dropdown",function(n){t.$element.trigger("shown.bs.select",n)});setTimeout(function(){t.$element.trigger("loaded.bs.select")})},createDropdown:function(){var t=this.multiple?" show-tick":"",i=this.$element.parent().hasClass("input-group")?" input-group-btn":"",u=this.autofocus?" autofocus":"",f=this.options.header?'<div class="popover-title"><button type="button" class="close" aria-hidden="true">&times;<\/button>'+this.options.header+"<\/div>":"",e=this.options.liveSearch?'<div class="bs-searchbox"><input type="text" class="form-control" autocomplete="off"'+(null===this.options.liveSearchPlaceholder?"":' placeholder="'+r(this.options.liveSearchPlaceholder)+'"')+"><\/div>":"",o=this.multiple&&this.options.actionsBox?'<div class="bs-actionsbox"><div class="btn-group btn-group-sm btn-block"><button type="button" class="actions-btn bs-select-all btn btn-default">'+this.options.selectAllText+'<\/button><button type="button" class="actions-btn bs-deselect-all btn btn-default">'+this.options.deselectAllText+"<\/button><\/div><\/div>":"",s=this.multiple&&this.options.doneButton?'<div class="bs-donebutton"><div class="btn-group btn-block"><button type="button" class="btn btn-sm btn-default">'+this.options.doneButtonText+"<\/button><\/div><\/div>":"",h='<div class="btn-group bootstrap-select'+t+i+'"><button type="button" class="'+this.options.styleBase+' dropdown-toggle" data-toggle="dropdown"'+u+'><span class="filter-option pull-left"><\/span>&nbsp;<span class="caret"><\/span><\/button><div class="dropdown-menu open">'+f+e+o+'<ul class="dropdown-menu inner" role="menu"><\/ul>'+s+"<\/div><\/div>";return n(h)},createView:function(){var n=this.createDropdown(),t=this.createLi();return n.find("ul")[0].innerHTML=t,n},reloadLi:function(){this.destroyLi();var n=this.createLi();this.$menuInner[0].innerHTML=n},destroyLi:function(){this.$menu.find("li").remove()},createLi:function(){var u=this,t=[],o=0,s=document.createElement("option"),f=-1,e=function(n,t,i,r){return"<li"+("undefined"!=typeof i&""!==i?' class="'+i+'"':"")+("undefined"!=typeof t&null!==t?' data-original-index="'+t+'"':"")+("undefined"!=typeof r&null!==r?'data-optgroup="'+r+'"':"")+">"+n+"<\/li>"},c=function(n,t,f,e){return'<a tabindex="0"'+("undefined"!=typeof t?' class="'+t+'"':"")+("undefined"!=typeof f?' style="'+f+'"':"")+(u.options.liveSearchNormalize?' data-normalized-text="'+i(r(n))+'"':"")+("undefined"!=typeof e||null!==e?' data-tokens="'+e+'"':"")+">"+n+'<span class="'+u.options.iconBase+" "+u.options.tickIcon+' check-mark"><\/span><\/a>'},h;return!this.options.title||this.multiple||(f--,this.$element.find(".bs-title-option").length)||(h=this.$element[0],s.className="bs-title-option",s.appendChild(document.createTextNode(this.options.title)),s.value="",h.insertBefore(s,h.firstChild),void 0===n(h.options[h.selectedIndex]).attr("selected")&&(s.selected=!0)),this.$element.find("option").each(function(i){var r=n(this),y;if(f++,!r.hasClass("bs-title-option")){var l=this.className||"",a=this.style.cssText,s=r.data("content")?r.data("content"):r.html(),v=r.data("tokens")?r.data("tokens"):null,b="undefined"!=typeof r.data("subtext")?'<small class="text-muted">'+r.data("subtext")+"<\/small>":"",h="undefined"!=typeof r.data("icon")?'<span class="'+u.options.iconBase+" "+r.data("icon")+'"><\/span> ':"",w=this.disabled||"OPTGROUP"===this.parentElement.tagName&&this.parentElement.disabled;if(""!==h&&w&&(h="<span>"+h+"<\/span>"),u.options.hideDisabled&&w)return void f--;if(r.data("content")||(s=h+'<span class="text">'+s+b+"<\/span>"),"OPTGROUP"===this.parentElement.tagName&&r.data("divider")!==!0){if(y=" "+this.parentElement.className||"",0===r.index()){o+=1;var p=this.parentElement.label,k="undefined"!=typeof r.parent().data("subtext")?'<small class="text-muted">'+r.parent().data("subtext")+"<\/small>":"",d=r.parent().data("icon")?'<span class="'+u.options.iconBase+" "+r.parent().data("icon")+'"><\/span> ':"";p=d+'<span class="text">'+p+k+"<\/span>";0!==i&&t.length>0&&(f++,t.push(e("",null,"divider",o+"div")));f++;t.push(e(p,null,"dropdown-header"+y,o))}t.push(e(c(s,"opt "+l+y,a,v),i,"",o))}else r.data("divider")===!0?t.push(e("",i,"divider")):r.data("hidden")===!0?t.push(e(c(s,l,a,v),i,"hidden is-hidden")):(this.previousElementSibling&&"OPTGROUP"===this.previousElementSibling.tagName&&(f++,t.push(e("",null,"divider",o+"div"))),t.push(e(c(s,l,a,v),i)));u.liObj[i]=f}}),this.multiple||0!==this.$element.find("option:selected").length||this.options.title||this.$element.find("option").eq(0).prop("selected",!0).attr("selected","selected"),t.join("")},findLis:function(){return null==this.$lis&&(this.$lis=this.$menu.find("li")),this.$lis},render:function(t){var o,i=this,r,u,f,e,s;t!==!1&&this.$element.find("option").each(function(n){var t=i.findLis().eq(i.liObj[n]);i.setDisabled(n,this.disabled||"OPTGROUP"===this.parentElement.tagName&&this.parentElement.disabled,t);i.setSelected(n,this.selected,t)});this.tabIndex();r=this.$element.find("option").map(function(){if(this.selected){if(i.options.hideDisabled&&(this.disabled||"OPTGROUP"===this.parentElement.tagName&&this.parentElement.disabled))return!1;var r,t=n(this),u=t.data("icon")&&i.options.showIcon?'<i class="'+i.options.iconBase+" "+t.data("icon")+'"><\/i> ':"";return r=i.options.showSubtext&&t.data("subtext")&&!i.multiple?' <small class="text-muted">'+t.data("subtext")+"<\/small>":"","undefined"!=typeof t.attr("title")?t.attr("title"):t.data("content")&&i.options.showContent?t.data("content"):u+t.html()+r}}).toArray();u=this.multiple?r.join(this.options.multipleSeparator):r[0];this.multiple&&this.options.selectedTextFormat.indexOf("count")>-1&&(f=this.options.selectedTextFormat.split(">"),(f.length>1&&r.length>f[1]||1==f.length&&r.length>=2)&&(o=this.options.hideDisabled?", [disabled]":"",e=this.$element.find("option").not('[data-divider="true"], [data-hidden="true"]'+o).length,s="function"==typeof this.options.countSelectedText?this.options.countSelectedText(r.length,e):this.options.countSelectedText,u=s.replace("{0}",r.length.toString()).replace("{1}",e.toString())));void 0==this.options.title&&(this.options.title=this.$element.attr("title"));"static"==this.options.selectedTextFormat&&(u=this.options.title);u||(u="undefined"!=typeof this.options.title?this.options.title:this.options.noneSelectedText);this.$button.attr("title",n.trim(u.replace(/<[^>]*>?/g,"")));this.$button.children(".filter-option").html(u);this.$element.trigger("rendered.bs.select")},setStyle:function(n,t){this.$element.attr("class")&&this.$newElement.addClass(this.$element.attr("class").replace(/selectpicker|mobile-device|bs-select-hidden|validate\[.*\]/gi,""));var i=n?n:this.options.style;"add"==t?this.$button.addClass(i):"remove"==t?this.$button.removeClass(i):(this.$button.removeClass(this.options.style),this.$button.addClass(i))},liHeight:function(t){var y;if(t||this.options.size!==!1&&!this.sizeInfo){var e=document.createElement("div"),r=document.createElement("div"),o=document.createElement("ul"),l=document.createElement("li"),p=document.createElement("li"),a=document.createElement("a"),v=document.createElement("span"),s=this.options.header?this.$menu.find(".popover-title")[0].cloneNode(!0):null,u=this.options.liveSearch?document.createElement("div"):null,h=this.options.actionsBox&&this.multiple?this.$menu.find(".bs-actionsbox")[0].cloneNode(!0):null,c=this.options.doneButton&&this.multiple?this.$menu.find(".bs-donebutton")[0].cloneNode(!0):null;(v.className="text",e.className=this.$menu[0].parentNode.className+" open",r.className="dropdown-menu open",o.className="dropdown-menu inner",l.className="divider",v.appendChild(document.createTextNode("Inner text")),a.appendChild(v),p.appendChild(a),o.appendChild(p),o.appendChild(l),s&&r.appendChild(s),u)&&(y=document.createElement("span"),u.className="bs-searchbox",y.className="form-control",u.appendChild(y),r.appendChild(u));h&&r.appendChild(h);r.appendChild(o);c&&r.appendChild(c);e.appendChild(r);document.body.appendChild(e);var b=a.offsetHeight,k=s?s.offsetHeight:0,d=u?u.offsetHeight:0,g=h?h.offsetHeight:0,nt=c?c.offsetHeight:0,tt=n(l).outerHeight(!0),i="function"==typeof getComputedStyle?getComputedStyle(r):!1,f=i?null:n(r),w=parseInt(i?i.paddingTop:f.css("paddingTop"))+parseInt(i?i.paddingBottom:f.css("paddingBottom"))+parseInt(i?i.borderTopWidth:f.css("borderTopWidth"))+parseInt(i?i.borderBottomWidth:f.css("borderBottomWidth")),it=w+parseInt(i?i.marginTop:f.css("marginTop"))+parseInt(i?i.marginBottom:f.css("marginBottom"))+2;document.body.removeChild(e);this.sizeInfo={liHeight:b,headerHeight:k,searchHeight:d,actionsHeight:g,doneButtonHeight:nt,dividerHeight:tt,menuPadding:w,menuExtras:it}}},setSize:function(){var h,d,g;if(this.findLis(),this.liHeight(),this.options.header&&this.$menu.css("padding-top",0),this.options.size!==!1){var i,u,f,o,r=this,t=this.$menu,p=this.$menuInner,c=n(window),nt=this.$newElement[0].offsetHeight,w=this.sizeInfo.liHeight,l=this.sizeInfo.headerHeight,a=this.sizeInfo.searchHeight,v=this.sizeInfo.actionsHeight,y=this.sizeInfo.doneButtonHeight,tt=this.sizeInfo.dividerHeight,s=this.sizeInfo.menuPadding,e=this.sizeInfo.menuExtras,b=this.options.hideDisabled?".disabled":"",k=function(){f=r.$newElement.offset().top-c.scrollTop();o=c.height()-f-nt};(k(),"auto"===this.options.size)?(h=function(){var h,b=function(t,i){return function(r){return i?r.classList?r.classList.contains(t):n(r).hasClass(t):!(r.classList?r.classList.contains(t):n(r).hasClass(t))}},d=r.$menuInner[0].getElementsByTagName("li"),c=Array.prototype.filter?Array.prototype.filter.call(d,b("hidden",!1)):r.$lis.not(".hidden"),g=Array.prototype.filter?Array.prototype.filter.call(c,b("dropdown-header",!0)):c.filter(".dropdown-header");k();i=o-e;r.options.container?(t.data("height")||t.data("height",t.height()),u=t.data("height")):u=t.height();r.options.dropupAuto&&r.$newElement.toggleClass("dropup",f>o&&u>i-e);r.$newElement.hasClass("dropup")&&(i=f-e);h=c.length+g.length>3?3*w+e-2:0;t.css({"max-height":i+"px",overflow:"hidden","min-height":h+l+a+v+y+"px"});p.css({"max-height":i-l-a-v-y-s+"px","overflow-y":"auto","min-height":Math.max(h-s,0)+"px"})},h(),this.$searchbox.off("input.getSize propertychange.getSize").on("input.getSize propertychange.getSize",h),c.off("resize.getSize scroll.getSize").on("resize.getSize scroll.getSize",h)):this.options.size&&"auto"!=this.options.size&&this.$lis.not(b).length>this.options.size&&(d=this.$lis.not(".divider").not(b).children().slice(0,this.options.size).last().parent().index(),g=this.$lis.slice(0,d+1).filter(".divider").length,i=w*this.options.size+g*tt+s,r.options.container?(t.data("height")||t.data("height",t.height()),u=t.data("height")):u=t.height(),r.options.dropupAuto&&this.$newElement.toggleClass("dropup",f>o&&u>i-e),t.css({"max-height":i+l+a+v+y+"px",overflow:"hidden","min-height":""}),p.css({"max-height":i-s+"px","overflow-y":"auto","min-height":""}))}},setWidth:function(){if("auto"===this.options.width){this.$menu.css("min-width","0");var n=this.$menu.parent().clone().appendTo("body"),t=this.options.container?this.$newElement.clone().appendTo("body"):n,i=n.children(".dropdown-menu").outerWidth(),r=t.css("width","auto").children("button").outerWidth();n.remove();t.remove();this.$newElement.css("width",Math.max(i,r)+"px")}else"fit"===this.options.width?(this.$menu.css("min-width",""),this.$newElement.css("width","").addClass("fit-width")):this.options.width?(this.$menu.css("min-width",""),this.$newElement.css("width",this.options.width)):(this.$menu.css("min-width",""),this.$newElement.css("width",""));this.$newElement.hasClass("fit-width")&&"fit"!==this.options.width&&this.$newElement.removeClass("fit-width")},selectPosition:function(){var r,u,t=this,i=n("<div />"),f=function(n){i.addClass(n.attr("class").replace(/form-control|fit-width/gi,"")).toggleClass("dropup",n.hasClass("dropup"));r=n.offset();u=n.hasClass("dropup")?0:n[0].offsetHeight;i.css({top:r.top+u,left:r.left,width:n[0].offsetWidth,position:"absolute"})};this.$newElement.on("click",function(){t.isDisabled()||(f(n(this)),i.appendTo(t.options.container),i.toggleClass("open",!n(this).hasClass("open")),i.append(t.$menu))});n(window).on("resize scroll",function(){f(t.$newElement)});this.$element.on("hide.bs.select",function(){t.$menu.data("height",t.$menu.height());i.detach()})},setSelected:function(n,t,i){if(!i)var i=this.findLis().eq(this.liObj[n]);i.toggleClass("selected",t)},setDisabled:function(n,t,i){if(!i)var i=this.findLis().eq(this.liObj[n]);t?i.addClass("disabled").children("a").attr("href","#").attr("tabindex",-1):i.removeClass("disabled").children("a").removeAttr("href").attr("tabindex",0)},isDisabled:function(){return this.$element[0].disabled},checkDisabled:function(){var n=this;this.isDisabled()?(this.$newElement.addClass("disabled"),this.$button.addClass("disabled").attr("tabindex",-1)):(this.$button.hasClass("disabled")&&(this.$newElement.removeClass("disabled"),this.$button.removeClass("disabled")),-1!=this.$button.attr("tabindex")||this.$element.data("tabindex")||this.$button.removeAttr("tabindex"));this.$button.click(function(){return!n.isDisabled()})},tabIndex:function(){this.$element.is("[tabindex]")&&(this.$element.data("tabindex",this.$element.attr("tabindex")),this.$button.attr("tabindex",this.$element.data("tabindex")))},clickListener:function(){var t=this,i=n(document);this.$newElement.on("touchstart.dropdown",".dropdown-menu",function(n){n.stopPropagation()});i.data("spaceSelect",!1);this.$button.on("keyup",function(n){/(32)/.test(n.keyCode.toString(10))&&i.data("spaceSelect")&&(n.preventDefault(),i.data("spaceSelect",!1))});this.$newElement.on("click",function(){t.setSize();t.$element.on("shown.bs.select",function(){var i,n;if(t.options.liveSearch||t.multiple){if(!t.multiple){if(i=t.liObj[t.$element[0].selectedIndex],"number"!=typeof i||t.options.size===!1)return;n=t.$lis.eq(i)[0].offsetTop-t.$menuInner[0].offsetTop;n=n-t.$menuInner[0].offsetHeight/2+t.sizeInfo.liHeight/2;t.$menuInner[0].scrollTop=n}}else t.$menu.find(".selected a").focus()})});this.$menu.on("click","li a",function(i){var s=n(this),e=s.parent().data("originalIndex"),k=t.$element.val(),d=t.$element.prop("selectedIndex"),v,y,b;if(t.multiple&&i.stopPropagation(),i.preventDefault(),!t.isDisabled()&&!s.parent().hasClass("disabled")){var h=t.$element.find("option"),f=h.eq(e),l=f.prop("selected"),a=f.parent("optgroup"),r=t.options.maxOptions,u=a.data("maxOptions")||!1;if(t.multiple){if((f.prop("selected",!l),t.setSelected(e,!l),s.blur(),r!==!1||u!==!1)&&(v=r<h.filter(":selected").length,y=u<a.find("option:selected").length,r&&v||u&&y))if(r&&1==r)h.prop("selected",!1),f.prop("selected",!0),t.$menu.find(".selected").removeClass("selected"),t.setSelected(e,!0);else if(u&&1==u)a.find("option:selected").prop("selected",!1),f.prop("selected",!0),b=s.parent().data("optgroup"),t.$menu.find('[data-optgroup="'+b+'"]').removeClass("selected"),t.setSelected(e,!0);else{var o="function"==typeof t.options.maxOptionsText?t.options.maxOptionsText(r,u):t.options.maxOptionsText,p=o[0].replace("{n}",r),w=o[1].replace("{n}",u),c=n('<div class="notify"><\/div>');o[2]&&(p=p.replace("{var}",o[2][r>1?0:1]),w=w.replace("{var}",o[2][u>1?0:1]));f.prop("selected",!1);t.$menu.append(c);r&&v&&(c.append(n("<div>"+p+"<\/div>")),t.$element.trigger("maxReached.bs.select"));u&&y&&(c.append(n("<div>"+w+"<\/div>")),t.$element.trigger("maxReachedGrp.bs.select"));setTimeout(function(){t.setSelected(e,!1)},10);c.delay(750).fadeOut(300,function(){n(this).remove()})}}else h.prop("selected",!1),f.prop("selected",!0),t.$menu.find(".selected").removeClass("selected"),t.setSelected(e,!0);t.multiple?t.options.liveSearch&&t.$searchbox.focus():t.$button.focus();(k!=t.$element.val()&&t.multiple||d!=t.$element.prop("selectedIndex")&&!t.multiple)&&(t.$element.triggerNative("change"),t.$element.trigger("changed.bs.select",[e,f.prop("selected"),l]))}});this.$menu.on("click","li.disabled a, .popover-title, .popover-title :not(.close)",function(i){i.currentTarget==this&&(i.preventDefault(),i.stopPropagation(),t.options.liveSearch&&!n(i.target).hasClass("close")?t.$searchbox.focus():t.$button.focus())});this.$menu.on("click","li.divider, li.dropdown-header",function(n){n.preventDefault();n.stopPropagation();t.options.liveSearch?t.$searchbox.focus():t.$button.focus()});this.$menu.on("click",".popover-title .close",function(){t.$button.click()});this.$searchbox.on("click",function(n){n.stopPropagation()});this.$menu.on("click",".actions-btn",function(i){t.options.liveSearch?t.$searchbox.focus():t.$button.focus();i.preventDefault();i.stopPropagation();n(this).hasClass("bs-select-all")?t.selectAll():t.deselectAll();t.$element.triggerNative("change")});this.$element.change(function(){t.render(!1)})},liveSearchListener:function(){var t=this,u=n('<li class="no-results"><\/li>');this.$newElement.on("click.dropdown.data-api touchstart.dropdown.data-api",function(){t.$menuInner.find(".active").removeClass("active");t.$searchbox.val()&&(t.$searchbox.val(""),t.$lis.not(".is-hidden").removeClass("hidden"),u.parent().length&&u.remove());t.multiple||t.$menuInner.find(".selected").addClass("active");setTimeout(function(){t.$searchbox.focus()},10)});this.$searchbox.on("click.dropdown.data-api focus.dropdown.data-api touchend.dropdown.data-api",function(n){n.stopPropagation()});this.$searchbox.on("input propertychange",function(){var f,e;t.$searchbox.val()?(f=t.$lis.not(".is-hidden").removeClass("hidden").children("a"),f=t.options.liveSearchNormalize?f.not(":a"+t._searchStyle()+'("'+i(t.$searchbox.val())+'")'):f.not(":"+t._searchStyle()+'("'+t.$searchbox.val()+'")'),f.parent().addClass("hidden"),t.$lis.filter(".dropdown-header").each(function(){var i=n(this),r=i.data("optgroup");0===t.$lis.filter("[data-optgroup="+r+"]").not(i).not(".hidden").length&&(i.addClass("hidden"),t.$lis.filter("[data-optgroup="+r+"div]").addClass("hidden"))}),e=t.$lis.not(".hidden"),e.each(function(t){var i=n(this);i.hasClass("divider")&&(i.index()===e.eq(0).index()||i.index()===e.last().index()||e.eq(t+1).hasClass("divider"))&&i.addClass("hidden")}),t.$lis.not(".hidden, .no-results").length?u.parent().length&&u.remove():(u.parent().length&&u.remove(),u.html(t.options.noneResultsText.replace("{0}",'"'+r(t.$searchbox.val())+'"')).show(),t.$menuInner.append(u))):(t.$lis.not(".is-hidden").removeClass("hidden"),u.parent().length&&u.remove());t.$lis.filter(".active").removeClass("active");t.$searchbox.val()&&t.$lis.not(".hidden, .divider, .dropdown-header").eq(0).addClass("active").children("a").focus();n(this).focus()})},_searchStyle:function(){var n="icontains";switch(this.options.liveSearchStyle){case"begins":case"startsWith":n="ibegins"}return n},val:function(n){return"undefined"!=typeof n?(this.$element.val(n),this.render(),this.$element):this.$element.val()},selectAll:function(){this.findLis();this.$element.find("option:enabled").not("[data-divider], [data-hidden]").prop("selected",!0);this.$lis.not(".divider, .dropdown-header, .disabled, .hidden").addClass("selected");this.render(!1)},deselectAll:function(){this.findLis();this.$element.find("option:enabled").not("[data-divider], [data-hidden]").prop("selected",!1);this.$lis.not(".divider, .dropdown-header, .disabled, .hidden").removeClass("selected");this.render(!1)},keydown:function(t){var u,f,h,c,l,p,w,k,s,e=n(this),a=e.is("input")?e.parent().parent():e.parent(),r=a.data("this"),v=":not(.disabled, .hidden, .dropdown-header, .divider)",b={32:" ",48:"0",49:"1",50:"2",51:"3",52:"4",53:"5",54:"6",55:"7",56:"8",57:"9",59:";",65:"a",66:"b",67:"c",68:"d",69:"e",70:"f",71:"g",72:"h",73:"i",74:"j",75:"k",76:"l",77:"m",78:"n",79:"o",80:"p",81:"q",82:"r",83:"s",84:"t",85:"u",86:"v",87:"w",88:"x",89:"y",90:"z",96:"0",97:"1",98:"2",99:"3",100:"4",101:"5",102:"6",103:"7",104:"8",105:"9"},o,g,y,d;(r.options.liveSearch&&(a=e.parent().parent()),r.options.container&&(a=r.$menu),u=n("[role=menu] li a",a),s=r.$menu.parent().hasClass("open"),!s&&(t.keyCode>=48&&t.keyCode<=57||t.keyCode>=65&&t.keyCode<=90)&&(r.options.container?r.$newElement.trigger("click"):(r.setSize(),r.$menu.parent().addClass("open"),s=!0),r.$searchbox.focus()),r.options.liveSearch&&(/(^9$|27)/.test(t.keyCode.toString(10))&&s&&0===r.$menu.find(".active").length&&(t.preventDefault(),r.$menu.parent().removeClass("open"),r.options.container&&r.$newElement.removeClass("open"),r.$button.focus()),u=n("[role=menu] li:not(.disabled, .hidden, .dropdown-header, .divider)",a),e.val()||/(38|40)/.test(t.keyCode.toString(10))||0===u.filter(".active").length&&(u=r.$newElement.find("li"),u=r.options.liveSearchNormalize?u.filter(":a"+r._searchStyle()+"("+i(b[t.keyCode])+")"):u.filter(":"+r._searchStyle()+"("+b[t.keyCode]+")"))),u.length)&&(/(38|40)/.test(t.keyCode.toString(10))?(f=u.index(u.filter(":focus")),c=u.parent(v).first().data("originalIndex"),l=u.parent(v).last().data("originalIndex"),h=u.eq(f).parent().nextAll(v).eq(0).data("originalIndex"),p=u.eq(f).parent().prevAll(v).eq(0).data("originalIndex"),w=u.eq(h).parent().prevAll(v).eq(0).data("originalIndex"),r.options.liveSearch&&(u.each(function(t){n(this).hasClass("disabled")||n(this).data("index",t)}),f=u.index(u.filter(".active")),c=u.first().data("index"),l=u.last().data("index"),h=u.eq(f).nextAll().eq(0).data("index"),p=u.eq(f).prevAll().eq(0).data("index"),w=u.eq(h).prevAll().eq(0).data("index")),k=e.data("prevIndex"),38==t.keyCode?(r.options.liveSearch&&(f-=1),f!=w&&f>p&&(f=p),c>f&&(f=c),f==k&&(f=l)):40==t.keyCode&&(r.options.liveSearch&&(f+=1),-1==f&&(f=0),f!=w&&h>f&&(f=h),f>l&&(f=l),f==k&&(f=c)),e.data("prevIndex",f),r.options.liveSearch?(t.preventDefault(),e.hasClass("dropdown-toggle")||(u.removeClass("active").eq(f).addClass("active").children("a").focus(),e.focus())):u.eq(f).focus()):e.is("input")||(y=[],u.each(function(){n(this).parent().hasClass("disabled")||n.trim(n(this).text().toLowerCase()).substring(0,1)==b[t.keyCode]&&y.push(n(this).parent().index())}),o=n(document).data("keycount"),o++,n(document).data("keycount",o),g=n.trim(n(":focus").text().toLowerCase()).substring(0,1),g!=b[t.keyCode]?(o=1,n(document).data("keycount",o)):o>=y.length&&(n(document).data("keycount",0),o>y.length&&(o=1)),u.eq(y[o-1]).focus()),(/(13|32)/.test(t.keyCode.toString(10))||/(^9$)/.test(t.keyCode.toString(10))&&r.options.selectOnTab)&&s&&((/(32)/.test(t.keyCode.toString(10))||t.preventDefault(),r.options.liveSearch)?/(32)/.test(t.keyCode.toString(10))||(r.$menu.find(".active a").click(),e.focus()):(d=n(":focus"),d.click(),d.focus(),t.preventDefault(),n(document).data("spaceSelect",!0)),n(document).data("keycount",0)),(/(^9$|27)/.test(t.keyCode.toString(10))&&s&&(r.multiple||r.options.liveSearch)||/(27)/.test(t.keyCode.toString(10))&&!s)&&(r.$menu.parent().removeClass("open"),r.options.container&&r.$newElement.removeClass("open"),r.$button.focus()))},mobile:function(){this.$element.addClass("mobile-device").appendTo(this.$newElement);this.options.container&&this.$menu.hide()},refresh:function(){this.$lis=null;this.liObj={};this.reloadLi();this.render();this.checkDisabled();this.liHeight(!0);this.setStyle();this.setWidth();this.$lis&&this.$searchbox.trigger("propertychange");this.$element.trigger("refreshed.bs.select")},hide:function(){this.$newElement.hide()},show:function(){this.$newElement.show()},remove:function(){this.$newElement.remove();this.$element.remove()}};f=n.fn.selectpicker;n.fn.selectpicker=u;n.fn.selectpicker.Constructor=t;n.fn.selectpicker.noConflict=function(){return n.fn.selectpicker=f,this};n(document).data("keycount",0).on("keydown",'.bootstrap-select [data-toggle=dropdown], .bootstrap-select [role="menu"], .bs-searchbox input',t.prototype.keydown).on("focusin.modal",'.bootstrap-select [data-toggle=dropdown], .bootstrap-select [role="menu"], .bs-searchbox input',function(n){n.stopPropagation()});n(window).on("load.bs.select.data-api",function(){n(".selectpicker").each(function(){var t=n(this);u.call(t,t.data())})})}(jQuery)})