/*!
*  filename: schedulerrecurrence.min.js
*  version : unknown version
*  Copyright Syncfusion Inc. 2001 - 2013. All rights reserved.
*  Use of this code is subject to the terms of our license.
*  A copy of the current license can be obtained at any time by e-mailing
*  licensing@syncfusion.com. Any infringement will be prosecuted under
*  applicable laws. 
*/
function validateDateTimePicker(){var n="",i=$("#start-date").data(typeof BoldBIDashboard!="undefined"?"BoldBIDashboardDateTimePicker":"ejDateTimePicker"),e=$("#end-date").data(typeof BoldBIDashboard!="undefined"?"BoldBIDashboardDateTimePicker":"ejDateTimePicker"),o=$("#start-date").data(typeof BoldBIDashboard!="undefined"?"BoldBIDashboardDateTimePicker":"ejDateTimePicker").getValue(),t;n=i.model.value;t={minDateTime:new Date(n.getFullYear(),n.getMonth(),n.getDate()),value:n};typeof BoldBIDashboard!="undefined"?$("#end-date").BoldBIDashboardDateTimePicker(t):$("#end-date").ejDateTimePicker(t);var r="",u=parseInt($("#hour-difference").val()),f=parseInt($("#minute-difference").val());n.setHours(n.getHours()+u);n.setMinutes(n.getMinutes()+f);r=timeFormat=="True"?DateCustomFormat(dateFormat+" HH:mm",n,timeFormat):DateCustomFormat(dateFormat+" hh:mm",n,timeFormat)+(n.getHours()>=12?" PM":" AM")}function createScheduleMessage(n){var t={},s,u,c;t.RecurrenceFactor=$("#occurence-count").val();var i=$("#start-date").val(),f=$("#end-date").val(),r=alertChange==2&&n;switch($("#recurrence-type").val().toString().toLowerCase()){case"daily":$("#daily-every-x-days").prop("checked")?(t.RecurrenceType="Daily",t.RecurrenceInterval=$("#every-x-days").val()):t.RecurrenceType="DailyWeekDay";switch($("input[name=end-type]:checked","#schedule-end-type").val().toString()){case"never":addScheduleDetail=t.RecurrenceType=="Daily"?t.RecurrenceInterval==1?(r?window.Server.App.Localization.DailyInfoAlert:window.Server.App.Localization.DailyInfo).format(i):(r?window.Server.App.Localization.DailyInfoDayAlert:window.Server.App.Localization.DailyInfoDay).format(t.RecurrenceInterval.toString(),i):(r?window.Server.App.Localization.DailyInfoWeekDayAlert:window.Server.App.Localization.DailyInfoWeekDay).format(i);break;case"endafter":addScheduleDetail=t.RecurrenceType=="Daily"?t.RecurrenceInterval==1?(r?window.Server.App.Localization.DailyInfoEndAfterAlert:window.Server.App.Localization.DailyInfoEndAfter).format(i,t.RecurrenceFactor):(r?window.Server.App.Localization.DailyInfoDayEndAfterAlert:window.Server.App.Localization.DailyInfoDayEndAfter).format(t.RecurrenceInterval.toString(),i,t.RecurrenceFactor):(r?window.Server.App.Localization.DailyInfoWeekDayEndAfterAlert:window.Server.App.Localization.DailyInfoWeekDayEndAfter).format(i,t.RecurrenceFactor);break;case"endBy":addScheduleDetail=t.RecurrenceType=="Daily"?t.RecurrenceInterval==1?(r?window.Server.App.Localization.DailyInfoTillAlert:window.Server.App.Localization.DailyInfoTill).format(i,f):(r?window.Server.App.Localization.DailyInfoDayTillAlert:window.Server.App.Localization.DailyInfoDayTill).format(t.RecurrenceInterval.toString(),i,f):(r?window.Server.App.Localization.DailyInfoWeekDayTillAlert:window.Server.App.Localization.DailyInfoWeekDayTill).format(i,f)}break;case"weekly":t.RecurrenceType="Weekly";t.RecurrenceInterval=$("#every-x-weeks").val();t.Sunday=$("#sun").prop("checked");t.Monday=$("#mon").prop("checked");t.Tuesday=$("#tues").prop("checked");t.Wednesday=$("#wed").prop("checked");t.Thursday=$("#thu").prop("checked");t.Friday=$("#fri").prop("checked");t.Saturday=$("#sat").prop("checked");var o=$(".daygroup:checked"),e="",h="";for(s=0;s<o.length;s++)o.length==1||s==0?e=$(o[s]).parent().text().trim():s>0&&s!=o.length-1?e=e+", "+$(o[s]).parent().text().trim():h=$(o[s]).parent().text().trim();switch($("input[name=end-type]:checked","#schedule-end-type").val().toString()){case"never":addScheduleDetail=o.length==0?t.RecurrenceInterval==1?(r?window.Server.App.Localization.WeeklyInfoAlert:window.Server.App.Localization.WeeklyInfo).format(i):(r?window.Server.App.Localization.WeeklyInfoWeeksAlert:window.Server.App.Localization.WeeklyInfoWeeks).format(t.RecurrenceInterval.toString(),i):o.length==1?t.RecurrenceInterval==1?(r?window.Server.App.Localization.WeeklyInfoDayAlert:window.Server.App.Localization.WeeklyInfoDay).format(e,i):(r?window.Server.App.Localization.WeeklyInfoWeeksDayAlert:window.Server.App.Localization.WeeklyInfoWeeksDay).format(t.RecurrenceInterval.toString(),e,i):t.RecurrenceInterval==1?(r?window.Server.App.Localization.WeeklyInfoDaysAlert:window.Server.App.Localization.WeeklyInfoDays).format(e,h,i):(r?window.Server.App.Localization.WeeklyInfoWeeksDaysAlert:window.Server.App.Localization.WeeklyInfoWeeksDays).format(t.RecurrenceInterval.toString(),e,h,i);break;case"endafter":addScheduleDetail=o.length==0?t.RecurrenceInterval==1?(r?window.Server.App.Localization.WeeklyInfoEndAfterAlert:window.Server.App.Localization.WeeklyInfoEndAfter).format(i,t.RecurrenceFactor):(r?window.Server.App.Localization.WeeklyInfoWeeksEndAfterAlert:window.Server.App.Localization.WeeklyInfoWeeksEndAfter).format(t.RecurrenceInterval.toString(),i,t.RecurrenceFactor):o.length==1?t.RecurrenceInterval==1?(r?window.Server.App.Localization.WeeklyInfoDayEndAfterAlert:window.Server.App.Localization.WeeklyInfoDayEndAfter).format(e,i,t.RecurrenceFactor):(r?window.Server.App.Localization.WeeklyInfoWeeksDayEndAfterAlert:window.Server.App.Localization.WeeklyInfoWeeksDayEndAfter).format(t.RecurrenceInterval.toString(),e,i,t.RecurrenceFactor):t.RecurrenceInterval==1?(r?window.Server.App.Localization.WeeklyInfoDaysEndAfterAlert:window.Server.App.Localization.WeeklyInfoDaysEndAfter).format(e,h,i,t.RecurrenceFactor):(r?window.Server.App.Localization.WeeklyInfoWeeksDaysEndAfterAlert:window.Server.App.Localization.WeeklyInfoWeeksDaysEndAfter).format(t.RecurrenceInterval.toString(),e,h,i,t.RecurrenceFactor);break;case"endBy":addScheduleDetail=o.length==0?t.RecurrenceInterval==1?(r?window.Server.App.Localization.WeeklyInfoTillAlert:window.Server.App.Localization.WeeklyInfoTill).format(i,f):(r?window.Server.App.Localization.WeeklyInfoWeeksTillAlert:window.Server.App.Localization.WeeklyInfoWeeksTill).format(t.RecurrenceInterval.toString(),i,f):o.length==1?t.RecurrenceInterval==1?(r?window.Server.App.Localization.WeeklyInfoDayTillAlert:window.Server.App.Localization.WeeklyInfoDayTill).format(e,i,f):(r?window.Server.App.Localization.WeeklyInfoWeeksDayTillAlert:window.Server.App.Localization.WeeklyInfoWeeksDayTill).format(t.RecurrenceInterval.toString(),e,i,f):t.RecurrenceInterval==1?(r?window.Server.App.Localization.WeeklyInfoDaysTillAlert:window.Server.App.Localization.WeeklyInfoDaysTill).format(e,h,i,f):(r?window.Server.App.Localization.WeeklyInfoWeeksDaysTillAlert:window.Server.App.Localization.WeeklyInfoWeeksDaysTill).format(t.RecurrenceInterval.toString(),e,h,i,f)}break;case"monthly":$("#monthly").prop("checked")?(t.RecurrenceType="Monthly",t.DaysOfMonth=$("#monthly-date").val(),t.RecurrenceInterval=$("#monthly-every-x-months").val()):(t.RecurrenceType="MonthlyDOW",t.WeekOfMonth=$("#monthly-dow-week").find("option:selected").text(),t.DayOfWeek=$("#monthly-dow-day").find("option:selected").text(),t.RecurrenceInterval=$("#monthly-dow-every-x-months").val());switch($("input[name=end-type]:checked","#schedule-end-type").val().toString()){case"never":addScheduleDetail=$("#monthly").prop("checked")?(r?window.Server.App.Localization.MonthlyInfoAlert:window.Server.App.Localization.MonthlyInfo).format(t.DaysOfMonth.toString(),t.RecurrenceInterval.toString(),i):(r?window.Server.App.Localization.MonthlyInfoDOWAlert:window.Server.App.Localization.MonthlyInfoDOW).format(t.WeekOfMonth.toString(),$("#monthly-dow-day").find("option:selected").text(),t.RecurrenceInterval.toString(),i);break;case"endafter":addScheduleDetail=$("#monthly").prop("checked")?(r?window.Server.App.Localization.MonthlyInfoEndAfterAlert:window.Server.App.Localization.MonthlyInfoEndAfter).format(t.DaysOfMonth.toString(),t.RecurrenceInterval.toString(),i,t.RecurrenceFactor):(r?window.Server.App.Localization.MonthlyInfoDOWEndAfterAlert:window.Server.App.Localization.MonthlyInfoDOWEndAfter).format(t.WeekOfMonth.toString(),$("#monthly-dow-day").find("option:selected").text(),t.RecurrenceInterval.toString(),i,t.RecurrenceFactor);break;case"endBy":addScheduleDetail=$("#monthly").prop("checked")?(r?window.Server.App.Localization.MonthlyInfoTillAlert:window.Server.App.Localization.MonthlyInfoTill).format(t.DaysOfMonth.toString(),t.RecurrenceInterval.toString(),i,f):(r?window.Server.App.Localization.MonthlyInfoDOWTillAlert:window.Server.App.Localization.MonthlyInfoDOWTill).format(t.WeekOfMonth.toString(),$("#monthly-dow-day").find("option:selected").text(),t.RecurrenceInterval.toString(),i,f)}break;case"yearly":t.RecurrenceInterval=$("#every-x-years").val();$("#yearly").prop("checked")?(t.RecurrenceType="Yearly",t.DaysOfMonth=$("#yearly-day").val(),t.MonthOfYear=$("#yearly-month").find("option:selected").text()):(t.RecurrenceType="YearlyDOW",t.WeekOfMonth=$("#yearly-dow-week").find("option:selected").text(),t.DayOfWeek=$("#yearly-dow-day").find("option:selected").text(),t.MonthOfYear=$("#yearly-dow-month").find("option:selected").text());switch($("input[name=end-type]:checked","#schedule-end-type").val().toString()){case"never":addScheduleDetail=$("#yearly").prop("checked")?t.RecurrenceInterval==1?(r?window.Server.App.Localization.YearlyInfoAlert:window.Server.App.Localization.YearlyInfo).format(t.MonthOfYear.toString(),t.DaysOfMonth.toString(),i):(r?window.Server.App.Localization.YearlyInfosAlert:window.Server.App.Localization.YearlyInfos).format(t.RecurrenceInterval.toString(),t.MonthOfYear.toString(),t.DaysOfMonth.toString(),i):t.RecurrenceInterval==1?(r?window.Server.App.Localization.YearlyInfoDOWAlert:window.Server.App.Localization.YearlyInfoDOW).format(t.WeekOfMonth.toString(),$("#yearly-dow-day option:selected").text(),t.MonthOfYear.toString(),i):(r?window.Server.App.Localization.YearlyInfosDOWAlert:window.Server.App.Localization.YearlyInfosDOW).format(t.RecurrenceInterval.toString(),t.WeekOfMonth.toString(),$("#yearly-dow-day option:selected").text(),t.MonthOfYear.toString(),i);break;case"endafter":addScheduleDetail=$("#yearly").prop("checked")?t.RecurrenceInterval==1?(r?window.Server.App.Localization.YearlyInfoEndAfterAlert:window.Server.App.Localization.YearlyInfoEndAfter).format(t.MonthOfYear.toString(),t.DaysOfMonth.toString(),i,t.RecurrenceFactor):(r?window.Server.App.Localization.YearlyInfosEndAfterAlert:window.Server.App.Localization.YearlyInfosEndAfter).format(t.RecurrenceInterval.toString(),t.MonthOfYear.toString(),t.DaysOfMonth.toString(),i,t.RecurrenceFactor):t.RecurrenceInterval==1?(r?window.Server.App.Localization.YearlyInfoDOWEndAfterAlert:window.Server.App.Localization.YearlyInfoDOWEndAfter).format(t.WeekOfMonth.toString(),$("#yearly-dow-day option:selected").text(),t.MonthOfYear.toString(),i,t.RecurrenceFactor):(r?window.Server.App.Localization.YearlyInfosDOWEndAfterAlert:window.Server.App.Localization.YearlyInfosDOWEndAfter).format(t.RecurrenceInterval.toString(),t.WeekOfMonth.toString(),$("#yearly-dow-day option:selected").text(),t.MonthOfYear.toString(),i,t.RecurrenceFactor);break;case"endBy":addScheduleDetail=$("#yearly").prop("checked")?t.RecurrenceInterval==1?(r?window.Server.App.Localization.YearlyInfoTillAlert:window.Server.App.Localization.YearlyInfoTill).format(t.MonthOfYear.toString(),t.DaysOfMonth.toString(),i,f):(r?window.Server.App.Localization.YearlyInfosTillAlert:window.Server.App.Localization.YearlyInfosTill).format(t.RecurrenceInterval.toString(),t.MonthOfYear.toString(),t.DaysOfMonth.toString(),i,f):t.RecurrenceInterval==1?(r?window.Server.App.Localization.YearlyInfoDOWTillAlert:window.Server.App.Localization.YearlyInfoDOWTill).format(t.WeekOfMonth.toString(),$("#yearly-dow-day option:selected").text(),t.MonthOfYear.toString(),i,f):(r?window.Server.App.Localization.YearlyInfosDOWTillAlert:window.Server.App.Localization.YearlyInfosDOWTill).format(t.RecurrenceInterval.toString(),t.WeekOfMonth.toString(),$("#yearly-dow-day option:selected").text(),t.MonthOfYear.toString(),i,f)}break;case"hourly":t.RecurrenceType="Hourly";t.Frequency=$(".time-width").val();t.RecurrenceInterval=$("#every-x-hours-value").val();u=t.Frequency.split(":");c=u[0]+u[1];c>=scheduleExportMinTime?($(".frequency-error").css("display","none"),$(".time-width").parent("span").removeClass("validation-error"),$("#end-date-validator").css("display","none")):($(".frequency-error").css("display","inline"),t.Frequency="00:15",t.RecurrenceInterval="00:15",u=t.Frequency.split(":"));switch($("input[name=end-type]:checked","#schedule-end-type").val().toString()){case"never":addScheduleDetail=parseInt(u[0])>0&&parseInt(u[1])>0?(r?window.Server.App.Localization.HourlyInfoHourMinutesAlert:window.Server.App.Localization.HourlyInfoHourMinutes).format(u[0],u[1],i):parseInt(u[0])>0?(r?window.Server.App.Localization.HourlyInfoHoursAlert:window.Server.App.Localization.HourlyInfoHours).format(u[0],i):(r?window.Server.App.Localization.HourlyInfoMinutesAlert:window.Server.App.Localization.HourlyInfoMinutes).format(u[1],i);break;case"endafter":addScheduleDetail=parseInt(u[0])>0&&parseInt(u[1])>0?(r?window.Server.App.Localization.HourlyInfoHourMinutesEndAfterAlert:window.Server.App.Localization.HourlyInfoHourMinutesEndAfter).format(u[0],u[1],i,t.RecurrenceFactor):parseInt(u[0])>0?(r?window.Server.App.Localization.HourlyInfoHoursEndAfterAlert:window.Server.App.Localization.HourlyInfoHoursEndAfter).format(u[0],i,t.RecurrenceFactor):(r?window.Server.App.Localization.HourlyInfoMinutesEndAfterAlert:window.Server.App.Localization.HourlyInfoMinutesEndAfter).format(u[1],i,t.RecurrenceFactor);break;case"endBy":addScheduleDetail=parseInt(u[0])>0&&parseInt(u[1])>0?(r?window.Server.App.Localization.HourlyInfoHourMinutesTillAlert:window.Server.App.Localization.HourlyInfoHourMinutesTill).format(u[0],u[1],i,f):parseInt(u[0])>0?(r?window.Server.App.Localization.HourlyInfoHoursTillAlert:window.Server.App.Localization.HourlyInfoHoursTill).format(u[0],i,f):(r?window.Server.App.Localization.HourlyInfoMinutesTillAlert:window.Server.App.Localization.HourlyInfoMinutesTill).format(u[1],i,f)}}return addScheduleDetail}function validateSchedule(n){var f="",t,u;if(f=typeof BoldBIDashboard!="undefined"?$("#start-date").data("BoldBIDashboardDateTimePicker"):$("#start-date").data("ejDateTimePicker"),t=$("#schedule-name").val(),$("#schedule-name-error-container").css("display")=="block"||$("body .loader-gif").length||$("#selected_category option:selected").val()==""||$("#selected_dashboard option:selected").val()==""||!t)return $("#selected_category option:selected").val()==""&&$("#category-message").css("display","block"),$("#selected_dashboard option:selected").val()==""&&$("#dashboard-message").css("display","block"),t||($("#schedule-name-error-container").css("display","block"),$("#schedule-name-validator").html(window.Server.App.Localization.ScheduleValidator)),!1;if(!parent.IsValidName("name",t))return $("#schedule-name-error-container").css("display","block"),$("#schedule-name-validator").html(window.Server.App.Localization.AvoidSpecialCharacters),!1;if($(n).hasClass("email-editor-body")&&$("#subject-area").val()=="")return $(".email-subject-text").addClass("has-error"),$("#email-subject-validation").css("display","block"),!1;if($(n).hasClass("subscribe-body")){switch($("#recurrence-type").val().toString().toLowerCase()){case"weekly":if($('#days-check-box input[type="checkbox"]').is(":checked"))$("#weekly-day-error-container").css("display","none");else return $("#weekly-day-error-container").css("display","block"),$("#weekly-days-validator").html(window.Server.App.Localization.WeekDaysValidator),!1;break;case"yearly":var o=$("#yearly-month").val().toString(),i=parseInt($("#yearly-day").val()),r=$("#yearly-day").data("ejNumericTextbox");switch(o.toLowerCase()){case"february":i>28&&r.option("value",28);break;case"april":case"june":case"september":case"november":i>30&&r.option("value",30);break;case"january":case"march":case"may":case"july":case"august":case"october":case"december":i>31&&r.option("value",31)}break;case"hourly":if($(".time-width").val()=="")return $(".frequency-error").css("display","inline"),$(".time-width").parent("span").addClass("validation-error"),!1;var s=$(".time-width").val(),e=s.split(":"),h=e[0]*60+e[1];if(h>3)$(".frequency-error").css("display","none"),$(".time-width").parent("span").removeClass("validation-error");else return $(".frequency-error").css("display","inline"),$(".time-width").parent("span").addClass("validation-error"),!1}if(!f.model.dateTimeFormat=="M/d/yyyy h:mm tt")return $("#start-date-error-container").css("display","block"),$("#start-date-validator").html(window.Server.App.Localization.ScheduleValidator),!1;$("#start-date-error-container").css("display","none");switch($("input[name=end-type]:checked","#schedule-end-type").val().toLowerCase()){case"endby":if(u="",u=typeof BoldBIDashboard!="undefined"?$("#end-date").data("BoldBIDashboardDateTimePicker"):$("#end-date").data("ejDateTimePicker"),!u.model.dateTimeFormat=="M/d/yyyy h:mm tt")return $("#end-date-error-container").css("display","block"),$("#end-date-validator").html(window.Server.App.Localization.ScheduleValidator),!1;$("#end-date-error-container").css("display","none")}return!0}return!0}function DateTimeParser(n){var i,t;return n==undefined?"":(i=/Date\(([^)]+)\)/,t=i.exec(n),t!=null?new Date(parseInt(t[1])):n)}function validateNextSchedule(){var n={};n.ScheduleName=$("#schedule-name").val();n.ItemId=createdItemId;n.StartDate=$("#start-date").val();switch($("#recurrence-type").val().toString().toLowerCase()){case"daily":$("#daily-every-x-days").prop("checked")?(n.RecurrenceType="Daily",n.RecurrenceInterval=$("#every-x-days").val()):n.RecurrenceType="DailyWeekDay";break;case"weekly":n.RecurrenceType="Weekly";n.RecurrenceInterval=$("#every-x-weeks").val();n.Sunday=$("#sun").prop("checked");n.Monday=$("#mon").prop("checked");n.Tuesday=$("#tues").prop("checked");n.Wednesday=$("#wed").prop("checked");n.Thursday=$("#thu").prop("checked");n.Friday=$("#fri").prop("checked");n.Saturday=$("#sat").prop("checked");break;case"monthly":$("#monthly").prop("checked")?(n.RecurrenceType="Monthly",n.DaysOfMonth=$("#monthly-date").val(),n.RecurrenceInterval=$("#monthly-every-x-months").val()):(n.RecurrenceType="MonthlyDOW",n.WeekOfMonth=$("#monthly-dow-week").find("option:selected").text(),n.DayOfWeek=$("#monthly-dow-day").find("option:selected").text(),n.RecurrenceInterval=$("#monthly-dow-every-x-months").val());break;case"yearly":n.RecurrenceInterval=$("#every-x-years").val();$("#yearly").prop("checked")?(n.RecurrenceType="Yearly",n.DaysOfMonth=$("#yearly-day").val(),n.MonthOfYear=$("#yearly-month").find("option:selected").text()):(n.RecurrenceType="YearlyDOW",n.WeekOfMonth=$("#yearly-dow-week").find("option:selected").text(),n.DayOfWeek=$("#yearly-dow-day").find("option:selected").text(),n.MonthOfYear=$("#yearly-dow-month").find("option:selected").text());break;case"hourly":n.RecurrenceType="Hourly";n.Frequency=$(".time-width").val();n.RecurrenceInterval=$("#every-x-hours-value").val()}n.IsEnabled=$("#enable-schedule").prop("checked");switch($("input[name=end-type]:checked","#schedule-end-type").val().toString()){case"never":n.ScheduleEndType="NoEnd";break;case"endafter":n.ScheduleEndType="EndAfter";n.RecurrenceFactor=$("#occurence-count").val();break;case"endBy":n.ScheduleEndType="EndBy";n.EndDate=$("#end-date").val()}$.ajax({type:"POST",url:getNextScheduleUrl,async:!1,data:{scheduleList:JSON.stringify({ScheduleItem:n,alert:alertChange})},beforeSend:function(){parent.$("#popup-container_wrapper").ejWaitingPopup("show")},success:function(n){parent.$("#popup-container_wrapper").ejWaitingPopup("hide");typeof n=="undefined"||n==""?$("#end-date-validator").html(window.Server.App.Localization.InvalidEndDate).css("display","inline"):($("#end-date-validator").css("display","none"),url=scheduleRecipients,enableSubscribeOption())}})}var addScheduleDetail,scheduleExportMinTime;(function(n,t){var i,g,nt,tt,it,u,h,v,c,rt,y,f,r,p,e,l,w,b,ut,k,o,a,d,s;i=function(n){return new i.prototype.init(n)};typeof require!="undefined"&&typeof exports!="undefined"&&typeof module!="undefined"?module.exports=i:n.Globalize=i;i.cultures={};i.prototype={constructor:i,init:function(n){return this.cultures=i.cultures,this.cultureSelector=n,this}};i.prototype.init.prototype=i.prototype;i.cultures["default"]={name:"en",englishName:"English",nativeName:"English",isRTL:!1,language:"en",numberFormat:{pattern:["-n"],decimals:2,",":",",".":".",groupSizes:[3],"+":"+","-":"-",NaN:"NaN",negativeInfinity:"-Infinity",positiveInfinity:"Infinity",percent:{pattern:["-n %","n %"],decimals:2,groupSizes:[3],",":",",".":".",symbol:"%"},currency:{pattern:["($n)","$n"],decimals:2,groupSizes:[3],",":",",".":".",symbol:"$"}},calendars:{standard:{name:"Gregorian_USEnglish","/":"/",":":":",firstDay:0,days:{names:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],namesAbbr:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],namesShort:["Su","Mo","Tu","We","Th","Fr","Sa"]},months:{names:["January","February","March","April","May","June","July","August","September","October","November","December",""],namesAbbr:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec",""]},AM:["AM","am","AM"],PM:["PM","pm","PM"],eras:[{name:"A.D.",start:null,offset:0}],twoDigitYearMax:2029,patterns:{d:"M/d/yyyy",D:"dddd, MMMM dd, yyyy",t:"h:mm tt",T:"h:mm:ss tt",f:"dddd, MMMM dd, yyyy h:mm tt",F:"dddd, MMMM dd, yyyy h:mm:ss tt",M:"MMMM dd",Y:"yyyy MMMM",S:"yyyy'-'MM'-'dd'T'HH':'mm':'ss"}}},messages:{}};i.cultures["default"].calendar=i.cultures["default"].calendars.standard;i.cultures.en=i.cultures["default"];i.cultureSelector="en";g=/^0x[a-f0-9]+$/i;nt=/^[+\-]?infinity$/i;tt=/^[+\-]?\d*\.?\d*(e[+\-]?\d+)?$/;it=/^\s+|\s+$/g;u=function(n,t){if(n.indexOf)return n.indexOf(t);for(var i=0,r=n.length;i<r;i++)if(n[i]===t)return i;return-1};h=function(n,t){return n.substr(n.length-t.length)===t};v=function(){var e,u,r,i,o,s,n=arguments[0]||{},f=1,l=arguments.length,h=!1;for(typeof n=="boolean"&&(h=n,n=arguments[1]||{},f=2),typeof n=="object"||rt(n)||(n={});f<l;f++)if((e=arguments[f])!=null)for(u in e)(r=n[u],i=e[u],n!==i)&&(h&&i&&(y(i)||(o=c(i)))?(o?(o=!1,s=r&&c(r)?r:[]):s=r&&y(r)?r:{},n[u]=v(h,s,i)):i!==t&&(n[u]=i));return n};c=Array.isArray||function(n){return Object.prototype.toString.call(n)==="[object Array]"};rt=function(n){return Object.prototype.toString.call(n)==="[object Function]"};y=function(n){return Object.prototype.toString.call(n)==="[object Object]"};f=function(n,t){return n.indexOf(t)===0};r=function(n){return(n+"").replace(it,"")};p=function(n){return isNaN(n)?NaN:Math[n<0?"ceil":"floor"](n)};e=function(n,t,i){for(var r=n.length;r<t;r+=1)n=i?"0"+n:n+"0";return n};l=function(n,t){for(var f=0,i=!1,r,u=0,e=n.length;u<e;u++){r=n.charAt(u);switch(r){case"'":i?t.push("'"):f++;i=!1;break;case"\\":i&&t.push("\\");i=!i;break;default:t.push(r);i=!1}}return f};w=function(n,t){t=t||"F";var i,u=n.patterns,r=t.length;if(r===1){if(i=u[t],!i)throw"Invalid date format string '"+t+"'.";t=i}else r===2&&t.charAt(0)==="%"&&(t=t.charAt(1));return t};b=function(n,t,i){function e(n,t){var i,r=n+"";return t>1&&r.length<t?(i=ht[t-2]+r,i.substr(i.length-t,t)):i=r}function st(){return c||ft?c:(c=ct.test(t),ft=!0,c)}function d(n,t){if(v)return v[t];switch(t){case 0:return n.getFullYear();case 1:return n.getMonth();case 2:return n.getDate();default:throw"Invalid part value "+t;}}var u=i.calendar,g=u.convert,r,nt,rt,tt,it,p,f,ut,s;if(!t||!t.length||t==="i")return i&&i.name.length?g?r=b(n,u.patterns.F,i):(nt=new Date(n.getTime()),rt=o(n,u.eras),nt.setFullYear(a(n,u,rt)),r=nt.toLocaleString()):r=n.toString(),r;tt=u.eras;it=t==="s";t=w(u,t);r=[];var h,ht=["0","00","000"],c,ft,ct=/([^d]|^)(d|dd)([^d]|$)/g,et=0,ot=k(),v;for(!it&&g&&(v=g.fromGregorian(n));;){var lt=ot.lastIndex,y=ot.exec(t),at=t.slice(lt,y?y.index:t.length);if(et+=l(at,r),!y)break;if(et%2){r.push(y[0]);continue}p=y[0];f=p.length;switch(p){case"ddd":case"dddd":ut=f===3?u.days.namesAbbr:u.days.names;r.push(ut[n.getDay()]);break;case"d":case"dd":c=!0;r.push(e(d(n,2),f));break;case"MMM":case"MMMM":s=d(n,1);r.push(u.monthsGenitive&&st()?u.monthsGenitive[f===3?"namesAbbr":"names"][s]:u.months[f===3?"namesAbbr":"names"][s]);break;case"M":case"MM":r.push(e(d(n,1)+1,f));break;case"y":case"yy":case"yyyy":s=v?v[0]:a(n,u,o(n,tt),it);f<4&&(s=s%100);r.push(e(s,f));break;case"h":case"hh":h=n.getHours()%12;h===0&&(h=12);r.push(e(h,f));break;case"H":case"HH":r.push(e(n.getHours(),f));break;case"m":case"mm":r.push(e(n.getMinutes(),f));break;case"s":case"ss":r.push(e(n.getSeconds(),f));break;case"t":case"tt":s=n.getHours()<12?u.AM?u.AM[0]:" ":u.PM?u.PM[0]:" ";r.push(f===1?s.charAt(0):s);break;case"f":case"ff":case"fff":r.push(e(n.getMilliseconds(),3).substr(0,f));break;case"z":case"zz":h=n.getTimezoneOffset()/60;r.push((h<=0?"+":"-")+e(Math.floor(Math.abs(h)),f));break;case"zzz":h=n.getTimezoneOffset()/60;r.push((h<=0?"+":"-")+e(Math.floor(Math.abs(h)),2)+":"+e(Math.abs(n.getTimezoneOffset()%60),2));break;case"g":case"gg":u.eras&&r.push(u.eras[o(n,tt)].name);break;case"/":r.push(u["/"]);break;default:throw"Invalid date format pattern '"+p+"'.";}}return r.join("")},function(){var n;n=function(n,t,i){var l=i.groupSizes,c=l[0],a=1,p=Math.pow(10,t),v=Math.round(n*p)/p;isFinite(v)||(v=n);n=v;var r=n+"",u="",o=r.split(/e/i),f=o.length>1?parseInt(o[1],10):0;r=o[0];o=r.split(".");r=o[0];u=o.length>1?o[1]:"";f>0?(u=e(u,f,!1),r+=u.slice(0,f),u=u.substr(f)):f<0&&(f=-f,r=e(r,f+1,!0),u=r.slice(-f,r.length)+u,r=r.slice(0,-f));u=t>0?i["."]+(u.length>t?u.slice(0,t):e(u,t)):"";for(var s=r.length-1,y=i[","],h="";s>=0;){if(c===0||c>s)return r.slice(0,s+1)+(h.length?y+h+u:u);h=r.slice(s-c+1,s+1)+(h.length?y+h:"");s-=c;a<l.length&&(c=l[a],a++)}return r.slice(0,s+1)+y+h+u};ut=function(t,i,r){var a,f,v,o,y,c;if(!isFinite(t))return t===Infinity?r.numberFormat.positiveInfinity:t===-Infinity?r.numberFormat.negativeInfinity:r.numberFormat.NaN;if(!i||i==="i")return r.name.length?t.toLocaleString():t.toString();i=i||"D";var s=r.numberFormat,u=Math.abs(t),h=-1,l;i.length>1&&(h=parseInt(i.slice(1),10));a=i.charAt(0).toUpperCase();switch(a){case"D":l="n";u=p(u);h!==-1&&(u=e(""+u,h,!0));t<0&&(u="-"+u);break;case"N":f=s;case"C":f=f||s.currency;case"P":f=f||s.percent;l=t<0?f.pattern[0]:f.pattern[1]||"n";h===-1&&(h=f.decimals);u=n(u*(a==="P"?100:1),h,f);break;default:throw"Bad number format specifier: "+a;}for(v=/n|\$|-|%/g,o="";;){if(y=v.lastIndex,c=v.exec(l),o+=l.slice(y,c?c.index:l.length),!c)break;switch(c[0]){case"n":o+=u;break;case"$":o+=s.currency.symbol;break;case"-":/[1-9]/.test(u)&&(o+=s["-"]);break;case"%":o+=s.percent.symbol}}return o}}();k=function(){return/\/|dddd|ddd|dd|d|MMMM|MMM|MM|M|yyyy|yy|y|hh|h|HH|H|mm|m|ss|s|tt|t|fff|ff|f|zzz|zz|z|gg|g/g};o=function(n,t){var r,u,i,f;if(!t)return 0;for(u=n.getTime(),i=0,f=t.length;i<f;i++)if(r=t[i].start,r===null||u>=r)return i;return 0};a=function(n,t,i,r){var u=n.getFullYear();return!r&&t.eras&&(u-=t.eras[i].offset),u},function(){var e,s,h,c,n,i,t;e=function(n,t){if(t<100){var r=new Date,f=o(r),u=a(r,n,f),i=n.twoDigitYearMax;i=typeof i=="string"?(new Date).getFullYear()%100+parseInt(i,10):i;t+=u-u%100;t>i&&(t-=100)}return t};s=function(n,r,f){var e,s=n.days,o=n._upperDays;return o||(n._upperDays=o=[t(s.names),t(s.namesAbbr),t(s.namesShort)]),r=i(r),f?(e=u(o[1],r),e===-1&&(e=u(o[2],r))):e=u(o[0],r),e};h=function(n,r,f){var h=n.months,c=n.monthsGenitive||n.months,e=n._upperMonths,s=n._upperMonthsGen,o;return e||(n._upperMonths=e=[t(h.names),t(h.namesAbbr)],n._upperMonthsGen=s=[t(c.names),t(c.namesAbbr)]),r=i(r),o=u(f?e[1]:e[0],r),o<0&&(o=u(f?s[1]:s[0],r)),o};c=function(n,t){var f=n._parseRegExp,o,c,e,a,i,v,y;if(f){if(o=f[t],o)return o}else n._parseRegExp=f={};for(var s=w(n,t).replace(/([\^\$\.\*\+\?\|\[\]\(\)\{\}])/g,"\\\\$1"),r=["^"],p=[],h=0,b=0,d=k(),u;(u=d.exec(s))!==null;){if(c=s.slice(h,u.index),h=d.lastIndex,b+=l(c,r),b%2){r.push(u[0]);continue}e=u[0];a=e.length;switch(e){case"dddd":case"ddd":case"MMMM":case"MMM":case"gg":case"g":i="(\\D+)";break;case"tt":case"t":i="(\\D*)";break;case"yyyy":case"fff":case"ff":case"f":i="(\\d{"+a+"})";break;case"dd":case"d":case"MM":case"M":case"yy":case"y":case"HH":case"H":case"hh":case"h":case"mm":case"m":case"ss":case"s":i="(\\d\\d?)";break;case"zzz":i="([+-]?\\d\\d?:\\d{2})";break;case"zz":case"z":i="([+-]?\\d\\d?)";break;case"/":i="(\\/)";break;default:throw"Invalid date format pattern '"+e+"'.";}i&&r.push(i);p.push(u[0])}return l(s.slice(h),r),r.push("$"),v=r.join("").replace(/\s+/g,"\\s+"),y={regExp:v,groups:p},f[t]=y};n=function(n,t,i){return n<t||n>i};i=function(n){return n.split("Â ").join(" ").toUpperCase()};t=function(n){for(var r=[],t=0,u=n.length;t<u;t++)r[t]=i(n[t]);return r};d=function(t,i,u){var d,vt,l,it,rt,g,nt,yt,a,pt,tt,ot;t=r(t);var o=u.calendar,wt=c(o,i),bt=new RegExp(wt.regExp).exec(t);if(bt===null)return null;var kt=wt.groups,st=null,w=null,p=null,b=null,ut=null,y=0,k,ht=0,ct=0,lt=0,ft=null,at=!1;for(d=0,vt=kt.length;d<vt;d++)if(l=bt[d+1],l){var dt=kt[d],et=dt.length,v=parseInt(l,10);switch(dt){case"dd":case"d":if(b=v,n(b,1,31))return null;break;case"MMM":case"MMMM":if(p=h(o,l,et===3),n(p,0,11))return null;break;case"M":case"MM":if(p=v-1,n(p,0,11))return null;break;case"y":case"yy":case"yyyy":if(w=et<4?e(o,v):v,n(w,0,9999))return null;break;case"h":case"hh":if(y=v,y===12&&(y=0),n(y,0,11))return null;break;case"H":case"HH":if(y=v,n(y,0,23))return null;break;case"m":case"mm":if(ht=v,n(ht,0,59))return null;break;case"s":case"ss":if(ct=v,n(ct,0,59))return null;break;case"tt":case"t":if(at=o.PM&&(l===o.PM[0]||l===o.PM[1]||l===o.PM[2]),!at&&(!o.AM||l!==o.AM[0]&&l!==o.AM[1]&&l!==o.AM[2]))return null;break;case"f":case"ff":case"fff":if(lt=v*Math.pow(10,3-et),n(lt,0,999))return null;break;case"ddd":case"dddd":if(ut=s(o,l,et===3),n(ut,0,6))return null;break;case"zzz":if((it=l.split(/:/),it.length!==2)||(k=parseInt(it[0],10),n(k,-12,13))||(rt=parseInt(it[1],10),n(rt,0,59)))return null;ft=k*60+(f(l,"-")?-rt:rt);break;case"z":case"zz":if(k=v,n(k,-12,13))return null;ft=k*60;break;case"g":case"gg":if(g=l,!g||!o.eras)return null;for(g=r(g.toLowerCase()),nt=0,yt=o.eras.length;nt<yt;nt++)if(g===o.eras[nt].name.toLowerCase()){st=nt;break}if(st===null)return null}}if(a=new Date,tt=o.convert,pt=tt?tt.fromGregorian(a)[0]:a.getFullYear(),w===null?w=pt:o.eras&&(w+=o.eras[st||0].offset),p===null&&(p=0),b===null&&(b=1),tt){if(a=tt.toGregorian(w,p,b),a===null)return null}else if((a.setFullYear(w,p,b),a.getDate()!==b)||ut!==null&&a.getDay()!==ut)return null;return at&&y<12&&(y+=12),a.setHours(y,ht,ct,lt),ft!==null&&(ot=a.getMinutes()-(ft+a.getTimezoneOffset()),a.setHours(a.getHours()+parseInt(ot/60,10),ot%60)),a}}();s=function(n,t,i){var r=t["-"],u=t["+"],e;switch(i){case"n -":r=" "+r;u=" "+u;case"n-":h(n,r)?e=["-",n.substr(0,n.length-r.length)]:h(n,u)&&(e=["+",n.substr(0,n.length-u.length)]);break;case"- n":r+=" ";u+=" ";case"-n":f(n,r)?e=["-",n.substr(r.length)]:f(n,u)&&(e=["+",n.substr(u.length)]);break;case"(n)":f(n,"(")&&h(n,")")&&(e=["-",n.substr(1,n.length-2)])}return e||["",n]};i.prototype.findClosestCulture=function(n){return i.findClosestCulture.call(this,n)};i.prototype.format=function(n,t,r){return i.format.call(this,n,t,r)};i.prototype.localize=function(n,t){return i.localize.call(this,n,t)};i.prototype.parseInt=function(n,t,r){return i.parseInt.call(this,n,t,r)};i.prototype.parseFloat=function(n,t,r){return i.parseFloat.call(this,n,t,r)};i.prototype.culture=function(n){return i.culture.call(this,n)};i.addCultureInfo=function(n,t,i){var r={},u=!1;typeof n!="string"?(i=n,n=this.culture().name,r=this.cultures[n]):typeof t!="string"?(i=t,u=this.cultures[n]==null,r=this.cultures[n]||this.cultures["default"]):(u=!0,r=this.cultures[t]);this.cultures[n]=v(!0,{},r,i);u&&(this.cultures[n].calendar=this.cultures[n].calendars.standard)};i.findClosestCulture=function(n){var u,f,o,l,v,a;if(!n)return this.findClosestCulture(this.cultureSelector)||this.cultures["default"];if(typeof n=="string"&&(n=n.split(",")),c(n)){for(var i,s=this.cultures,y=n,h=y.length,e=[],t=0;t<h;t++)n=r(y[t]),o=n.split(";"),i=r(o[0]),o.length===1?f=1:(n=r(o[1]),n.indexOf("q=")===0?(n=n.substr(2),f=parseFloat(n),f=isNaN(f)?0:f):f=1),e.push({lang:i,pri:f});for(e.sort(function(n,t){return n.pri<t.pri?1:n.pri>t.pri?-1:0}),t=0;t<h;t++)if(i=e[t].lang,u=s[i],u)return u;for(t=0;t<h;t++){i=e[t].lang;do{if(l=i.lastIndexOf("-"),l===-1)break;if(i=i.substr(0,l),u=s[i],u)return u}while(1)}for(t=0;t<h;t++){i=e[t].lang;for(v in s)if(a=s[v],a.language==i)return a}}else if(typeof n=="object")return n;return u||null};i.format=function(n,t,i){var r=this.findClosestCulture(i);return n instanceof Date?n=b(n,t,r):typeof n=="number"&&(n=ut(n,t,r)),n};i.localize=function(n,t){return this.findClosestCulture(t).messages[n]||this.cultures["default"].messages[n]};i.parseDate=function(n,t,i){var r,o,f,u,s,e;if(i=this.findClosestCulture(i),t){if(typeof t=="string"&&(t=[t]),t.length)for(u=0,s=t.length;u<s;u++)if(e=t[u],e&&(r=d(n,e,i),r))break}else{f=i.calendar.patterns;for(o in f)if(r=d(n,f[o],i),r)break}return r||null};i.parseInt=function(n,t,r){return p(i.parseFloat(n,t,r))};i.parseFloat=function(n,t,i){var y,c,l,e,p,d,w,b,it,a,rt;typeof t!="number"&&(i=t,t=10);var v=this.findClosestCulture(i),k=NaN,u=v.numberFormat;if(n.indexOf(v.numberFormat.currency.symbol)>-1&&(n=n.replace(v.numberFormat.currency.symbol,""),n=n.replace(v.numberFormat.currency["."],v.numberFormat["."])),n=r(n),nt.test(n))k=parseFloat(n);else if(!t&&g.test(n))k=parseInt(n,16);else{var f=s(n,u,u.pattern[0]),o=f[0],h=f[1];o===""&&u.pattern[0]!=="(n)"&&(f=s(n,u,"(n)"),o=f[0],h=f[1]);o===""&&u.pattern[0]!=="-n"&&(f=s(n,u,"-n"),o=f[0],h=f[1]);o=o||"+";l=h.indexOf("e");l<0&&(l=h.indexOf("E"));l<0?(c=h,y=null):(c=h.substr(0,l),y=h.substr(l+1));d=u["."];w=c.indexOf(d);w<0?(e=c,p=null):(e=c.substr(0,w),p=c.substr(w+d.length));b=u[","];e=e.split(b).join("");it=b.replace(/\u00A0/g," ");b!==it&&(e=e.split(it).join(""));a=o+e;p!==null&&(a+="."+p);y!==null&&(rt=s(y,u,"-n"),a+="e"+(rt[0]||"+")+rt[1]);tt.test(a)&&(k=parseFloat(a))}return k};i.culture=function(n){return typeof n!="undefined"&&(this.cultureSelector=n),this.findClosestCulture(n)||this.cultures["default"]}})(this);addScheduleDetail="";scheduleExportMinTime=15;$("#StartDate_popup").remove();$("#EndDate_popup").remove();$("#popup-container_wrapper").remove();$("#PopupContainer_overLay").remove();$("#editpopup-container_wrapper").remove();var recurrenceTypeList="",days="",weeks="",months="",zoneDateTime="",sysTime="",time=new Date;sysTime=timeFormat=="True"?DateCustomFormat(dateFormat+" HH:mm",time,timeFormat):DateCustomFormat(dateFormat+" hh:mm",time,timeFormat)+(time.getHours()>=12?" PM":" AM");$.ajax({type:"POST",data:{date:sysTime},url:getRecurrenceTypeUrl,async:!1,success:function(n){var t,u;for(ShowWaitingProgress(".share-popup-header","hide"),n.RecurrenceType!=null&&n.RecurrenceType.length>0&&(recurrenceTypeList="<option value= "+n.RecurrenceType[4]+">"+window.Server.App.Localization.Hourly+"<\/option><option value= "+n.RecurrenceType[0]+">"+window.Server.App.Localization.Daily+"<\/option><option value= "+n.RecurrenceType[1]+">"+window.Server.App.Localization.Weekly+"<\/option><option value= "+n.RecurrenceType[2]+">"+window.Server.App.Localization.Monthly+"<\/option><option value= "+n.RecurrenceType[3]+">"+window.Server.App.Localization.Yearly+"<\/option>"),t=0;t<n.Days.length;t++)(n.Days[t].toString().toLowerCase()=="weekendday"||n.Days[t].toString().toLowerCase()=="day"||n.Days[t].toString().toLowerCase()=="weekday")&&(n.Days[t].toString().toLowerCase()=="weekendday"?days+="<option value= "+n.Days[t]+">"+window.Server.App.Localization.WeekEndDay+"<\/option>":(n.Days[t].toString().toLowerCase()=="weekday"&&(days+="<option value= "+n.Days[t]+">"+window.Server.App.Localization.WeekDay+"<\/option>"),n.Days[t].toString().toLowerCase()=="day"&&(days+="<option value= "+n.Days[t]+">"+window.Server.App.Localization.Day+"<\/option>")));for(t=0;t<n.Days.length;t++)n.Days[t].toString().toLowerCase()!="weekendday"&&n.Days[t].toString().toLowerCase()!="day"&&n.Days[t].toString().toLowerCase()!="weekday"&&(n.Days[t].toString().toLowerCase()=="sunday"&&(days+="<option value= "+n.Days[t]+">"+window.Server.App.Localization.Sunday+"<\/option>"),n.Days[t].toString().toLowerCase()=="monday"&&(days+="<option value= "+n.Days[t]+">"+window.Server.App.Localization.Monday+"<\/option>"),n.Days[t].toString().toLowerCase()=="tuesday"&&(days+="<option value= "+n.Days[t]+">"+window.Server.App.Localization.Tuesday+"<\/option>"),n.Days[t].toString().toLowerCase()=="wednesday"&&(days+="<option value= "+n.Days[t]+">"+window.Server.App.Localization.Wednesday+"<\/option>"),n.Days[t].toString().toLowerCase()=="thursday"&&(days+="<option value= "+n.Days[t]+">"+window.Server.App.Localization.Thursday+"<\/option>"),n.Days[t].toString().toLowerCase()=="friday"&&(days+="<option value= "+n.Days[t]+">"+window.Server.App.Localization.Friday+"<\/option>"),n.Days[t].toString().toLowerCase()=="saturday"&&(days+="<option value= "+n.Days[t]+">"+window.Server.App.Localization.Saturday+"<\/option>"));weeks="<option value= "+n.Weeks[0]+">"+window.Server.App.Localization.First+"<\/option><option value= "+n.Weeks[1]+">"+window.Server.App.Localization.Second+"<\/option><option value= "+n.Weeks[2]+">"+window.Server.App.Localization.Third+"<\/option><option value= "+n.Weeks[3]+">"+window.Server.App.Localization.Fourth+"<\/option><option value= "+n.Weeks[4]+">"+window.Server.App.Localization.Last+"<\/option>";months="<option value= "+n.Months[0]+">"+window.Server.App.Localization.January+"<\/option><option value= "+n.Months[1]+">"+window.Server.App.Localization.February+"<\/option><option value= "+n.Months[2]+">"+window.Server.App.Localization.March+"<\/option><option value= "+n.Months[3]+">"+window.Server.App.Localization.April+"<\/option><option value= "+n.Months[4]+">"+window.Server.App.Localization.May+"<\/option><option value= "+n.Months[5]+">"+window.Server.App.Localization.June+"<\/option><option value= "+n.Months[6]+">"+window.Server.App.Localization.July+"<\/option><option value= "+n.Months[7]+">"+window.Server.App.Localization.August+"<\/option><option value= "+n.Months[8]+">"+window.Server.App.Localization.September+"<\/option><option value= "+n.Months[9]+">"+window.Server.App.Localization.October+"<\/option><option value= "+n.Months[10]+">"+window.Server.App.Localization.November+"<\/option><option value= "+n.Months[11]+">"+window.Server.App.Localization.December+"<\/option>";var f=n.TimeZoneDateTime.toString(),i=new Date(f),r="MM/dd/yyyy";u=timeFormat=="True"?DateCustomFormat(r+" HH:mm",i,timeFormat):DateCustomFormat(r+" hh:mm",i,timeFormat)+(i.getHours()>=12?" PM":" AM");zoneDateTime=u;timeZone!=""?$("#zone").html(sysTime):$("#zone").html(clientTimeZone);$("#hour-difference").val(n.HourDifference);$("#minute-difference").val(n.MinuteDifference)}});$("#recurrence-type").append(recurrenceTypeList);$("#monthly-dow-week").append(weeks);$("#monthly-dow-day").append(days);$("#yearly-month").append(months);$("#yearly-dow-week").append(weeks);$("#yearly-dow-day").append(days);$("#yearly-dow-month").append(months);typeof BoldBIDashboard!="undefined"?$("#popup-container_wrapper").BoldBIDashboardWaitingPopup("hide"):$("#popup-container_wrapper").ejWaitingPopup("hide");$("#daily-every-x-days").prop("checked",!0);$("#monthly").prop("checked",!0);$("#yearly").prop("checked",!0);$("#every-x-days, #monthly-date, #yearly-day").ejNumericTextbox({name:"numeric",value:1,minValue:1,maxValue:31,width:"65px",height:"32px",incrementStep:1});$("#every-x-weeks, #every-x-years").ejNumericTextbox({name:"numeric",value:1,minValue:1,maxValue:99,width:"65px",height:"32px",incrementStep:1});$("#occurence-count").ejNumericTextbox({name:"numeric",value:1,minValue:1,maxValue:999,width:"65px",height:"32px",incrementStep:1});$("#monthly-dow-every-x-months, #monthly-every-x-months").ejNumericTextbox({name:"numeric",value:1,minValue:1,maxValue:12,width:"65px",height:"32px",incrementStep:1});Globalize.addCultureInfo("en-US","default",{name:"en-US",englishName:"English (United States)",nativeName:"English (United States)",language:"en",calendars:{standard:{"/":".",firstDay:1,days:{names:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],namesAbbr:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],namesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"]},months:{names:["January","February","March","April","May","June","July","August","September","October","November","December",""],namesAbbr:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec",""]}}}});dateFormat=isEmptyOrWhitespace(currentDateFormat)?dateFormat:currentDateFormat;var startDatePickerObj={interval:10,value:new Date(zoneDateTime),enableStrictMode:!1,locale:"en-US",timePopupWidth:108,buttonText:{today:window.Server.App.Localization.Today,timeNow:window.Server.App.Localization.Now,done:window.Server.App.Localization.Done,timeTitle:window.Server.App.Localization.Time},change:function(){validateDateTimePicker();var n=createScheduleMessage(!1);$("#schedule-message").text(n)}},endDatePickerObj={interval:10,value:new Date(zoneDateTime),enableStrictMode:!1,locale:"en-US",timePopupWidth:108,buttonText:{today:window.Server.App.Localization.Today,timeNow:window.Server.App.Localization.Now,done:window.Server.App.Localization.Done,timeTitle:window.Server.App.Localization.Time},change:function(){var n=createScheduleMessage(!1);$("#schedule-message").text(n)}},datePickerObj1={dateTimeFormat:dateFormat+" HH:mm",timeDisplayFormat:" HH:mm"},datePickerObj2={dateTimeFormat:dateFormat+" hh:mm tt",timeDisplayFormat:" hh:mm tt"};typeof BoldBIDashboard!="undefined"?(timeFormat=="True"?($("#start-date").BoldBIDashboardDateTimePicker(datePickerObj1),$("#end-date").BoldBIDashboardDateTimePicker(datePickerObj1)):($("#start-date").BoldBIDashboardDateTimePicker(datePickerObj2),$("#end-date").BoldBIDashboardDateTimePicker(datePickerObj2)),$("#start-date").BoldBIDashboardDateTimePicker(startDatePickerObj),$("#end-date").BoldBIDashboardDateTimePicker(endDatePickerObj)):(timeFormat=="True"?($("#start-date").ejDateTimePicker(datePickerObj1),$("#end-date").ejDateTimePicker(datePickerObj1)):($("#start-date").ejDateTimePicker(datePickerObj2),$("#end-date").ejDateTimePicker(datePickerObj2)),$("#start-date").ejDateTimePicker(startDatePickerObj),$("#end-date").ejDateTimePicker(endDatePickerObj));$("#start-date,#end-date").attr("disabled","disabled");$("#start-date,#end-date").css({cursor:"default"});$(".selectpicker").selectpicker();$(document).on("change","#recurrence-type",function(){var t=$(this).find("option:selected").val(),n;$("#daily-schedule-option, #weekly-schedule-option, #monthly-schedule-option, #yearly-schedule-option,#frequency").css("display","none");switch(t.toString().toLowerCase()){case"daily":$("#daily-schedule-option").css("display","block");$("#no-view-start,#no-view-end,#time-zone").css("display","inline");break;case"weekly":$("#weekly-schedule-option").css("display","block");$("#no-view-start,#no-view-end,#time-zone").css("display","inline");break;case"monthly":$("#monthly-schedule-option").css("display","block");$("#no-view-start,#no-view-end,#time-zone").css("display","inline");break;case"yearly":$("#yearly-schedule-option").css("display","block");$("#no-view-start,#no-view-end,#time-zone").css("display","inline");break;case"hourly":$("#frequency").css("display","block");$("#no-view-start,#no-view-end,#time-zone").css("display","inline")}n=createScheduleMessage(!1);$("#schedule-message").text(n)});$(document).on("click",".css-radio",function(){$(this).siblings("label").removeClass("notransition")});$(document).on("focusout","#occurence-count",function(){setTimeout(function(){var n=createScheduleMessage(!1);$("#schedule-message").text(n)},100)});$(document).on("change",".change-event, input[type=radio][name=daily-recurrence-type], input[type=radio][name=end-type], input[type=radio][name=monthly], input[type=radio][name=yearly]",function(){var n=createScheduleMessage(!1);$("#schedule-message").text(n)});$(document).ready(function(){var t,i,r,u,f,e,o,s,n,h;if($(".schedule-dialog #time-intervals-div").css("display","inline"),$(".time-width").BoldBIDashboardTimePicker({timeFormat:"HH:mm",minutesInterval:5,minTime:"00:15",change:function(){var n=createScheduleMessage(!1);$("#schedule-message").text(n)}}),$("#weekly-schedule-option,#monthly-schedule-option,#yearly-schedule-option,#daily-schedule-option").css("display","none"),actionType=="Create")scheduleMessage=createScheduleMessage(!1),$("#schedule-message").text(scheduleMessage);else{$("#frequency").css("display","none");switch(recurrence.toLowerCase()){case"hourly":recurrenceType="Hourly";$("#frequency").css("display","block");$("#hourly-schedule-option").css("display","block");t=frequency%60<10?"0"+frequency%60:frequency%60;i=parseInt(frequency/60)<10?"0"+parseInt(frequency/60):parseInt(frequency/60);conversionToMinutes=i+":"+t;$("#frequency").find("input").val(conversionToMinutes);break;case"daily":recurrence="Daily";$("#daily-schedule-option").css("display","block");$("#daily-every-x-days").prop("checked",!0);r=$("#every-x-days").data("ejNumericTextbox");r.option("value",itemRecurrence.DailySchedule.DaysInterval);break;case"dailyweekday":recurrence="Daily";$("#daily-schedule-option").css("display","block");$("#daily-weekdays").prop("checked",!0);break;case"weekly":recurrence="Weekly";$("#weekly-schedule-option").css("display","block");u=$("#every-x-weeks").data("ejNumericTextbox");u.option("value",itemRecurrence.WeeklySchedule.WeeksInterval);$("#sun").prop("checked",itemRecurrence.WeeklySchedule.DaysOfWeek.Sunday);$("#mon").prop("checked",itemRecurrence.WeeklySchedule.DaysOfWeek.Monday);$("#tues").prop("checked",itemRecurrence.WeeklySchedule.DaysOfWeek.Tuesday);$("#wed").prop("checked",itemRecurrence.WeeklySchedule.DaysOfWeek.Wednesday);$("#thu").prop("checked",itemRecurrence.WeeklySchedule.DaysOfWeek.Thursday);$("#fri").prop("checked",itemRecurrence.WeeklySchedule.DaysOfWeek.Friday);$("#sat").prop("checked",itemRecurrence.WeeklySchedule.DaysOfWeek.Saturday);break;case"monthly":recurrence="Monthly";$("#monthly-schedule-option").css("display","block");$("#monthly").prop("checked",!0);f=$("#monthly-date").data("ejNumericTextbox");f.option("value",itemRecurrence.MonthlySchedule.DayOfMonth);e=$("#monthly-every-x-months").data("ejNumericTextbox");e.option("value",itemRecurrence.MonthlySchedule.Months);break;case"monthlydow":recurrence="Monthly";$("#monthly-schedule-option").css("display","block");$("#monthly-dow").prop("checked",!0);$("#monthly-dow-week option[value='"+itemRecurrence.MonthlyDowSchedule.WeeksOfTheMonth+"']").attr("selected",!0);$("#monthly-dow-week").selectpicker("refresh");$("#monthly-dow-day option[value='"+itemRecurrence.MonthlyDowSchedule.DaysOfTheWeek+"']").attr("selected",!0);$("#monthly-dow-day").selectpicker("refresh");o=$("#monthly-dow-every-x-months").data("ejNumericTextbox");o.option("value",itemRecurrence.MonthlyDowSchedule.Months);break;case"yearly":recurrence="Yearly";$("#yearly-schedule-option").css("display","block");$("#yearly").prop("checked",!0);n=$("#every-x-years").data("ejNumericTextbox");n.option("value",itemRecurrence.YearlySchedule.YearsInterval);$("#yearly-month option[value='"+itemRecurrence.YearlySchedule.MonthsOfTheYear+"']").attr("selected",!0);$("#yearly-month").selectpicker("refresh");s=$("#yearly-day").data("ejNumericTextbox");s.option("value",itemRecurrence.YearlySchedule.DayOfMonth);break;case"yearlydow":recurrence="Yearly";$("#yearly-schedule-option").css("display","block");$("#yearly-dow").prop("checked",!0);n=$("#every-x-years").data("ejNumericTextbox");n.option("value",itemRecurrence.YearlyDowSchedule.YearsInterval);$("#yearly-dow-week option[value='"+itemRecurrence.YearlyDowSchedule.WeeksOfTheMonth+"']").attr("selected",!0);$("#yearly-dow-week").selectpicker("refresh");$("#yearly-dow-day option[value='"+itemRecurrence.YearlyDowSchedule.DaysOfTheWeek+"']").attr("selected",!0);$("#yearly-dow-day").selectpicker("refresh");$("#yearly-dow-month option[value='"+itemRecurrence.YearlyDowSchedule.MonthsOfTheYear+"']").attr("selected",!0);$("#yearly-dow-month").selectpicker("refresh")}$("#enable-sunday,#enable-monday,#enable-tuesday,#enable-wednesday,#enable-thursday,#enable-friday,#enable-saturday").on("click",function(){isSafari&&$(this).find("label").toggleClass("check")});$("#recurrence-type option[value='"+recurrence+"']").attr("selected",!0);$("#recurrence-type").selectpicker("refresh");actionType.toLowerCase()=="edit"&&(startDate=item.StartDate);typeof BoldBIDashboard!="undefined"?$("#start-date").BoldBIDashboardDateTimePicker({value:new Date(startDate)}):$("#start-date").ejDateTimePicker({value:new Date(startDate)});switch(endType.toString().toLowerCase()){case"noenddate":$("#no-end-date").prop("checked",!0);typeof BoldBIDashboard!="undefined"?$("#start-date").data("BoldBIDashboardDateTimePicker").model.value:$("#start-date").data("ejDateTimePicker").model.value;break;case"enddate":actionType.toLowerCase()=="edit"&&(endDate=item.EndDate);$("#endBy").prop("checked",!0);typeof BoldBIDashboard!="undefined"?$("#end-date").BoldBIDashboardDateTimePicker({value:new Date(endDate)}):$("#end-date").ejDateTimePicker({value:new Date(endDate)});break;case"endafter":$("#end-after").prop("checked",!0);h=$("#occurence-count").data("ejNumericTextbox");h.option("value",endAfter)}actionType.toLowerCase()=="edit"&&(scheduleMessage=createScheduleMessage(!1),$("#schedule-message").text(scheduleMessage))}addTitleForRecurrenceType();parent.$("#popup-container_wrapper").ejWaitingPopup("hide");parent.$("#editpopup-container_wrapper").ejWaitingPopup("hide")})