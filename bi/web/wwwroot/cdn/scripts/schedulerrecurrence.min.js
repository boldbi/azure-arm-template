!function(e){var c,s,d,t,l,i,p,y,u,h,z,L,f,m,A,I,M,a,T,W,x,w,v,R,O,F,B,P,k,S,D,n=function(e){return new n.prototype.init(e)};"undefined"!=typeof require&&"undefined"!=typeof exports&&"undefined"!=typeof module?module.exports=n:e.Globalize=n,n.cultures={},(n.prototype={constructor:n,init:function(e){return this.cultures=n.cultures,this.cultureSelector=e,this}}).init.prototype=n.prototype,n.cultures.default={name:"en",englishName:"English",nativeName:"English",isRTL:!1,language:"en",numberFormat:{pattern:["-n"],decimals:2,",":",",".":".",groupSizes:[3],"+":"+","-":"-",NaN:"NaN",negativeInfinity:"-Infinity",positiveInfinity:"Infinity",percent:{pattern:["-n %","n %"],decimals:2,groupSizes:[3],",":",",".":".",symbol:"%"},currency:{pattern:["($n)","$n"],decimals:2,groupSizes:[3],",":",",".":".",symbol:"$"}},calendars:{standard:{name:"Gregorian_USEnglish","/":"/",":":":",firstDay:0,days:{names:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],namesAbbr:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],namesShort:["Su","Mo","Tu","We","Th","Fr","Sa"]},months:{names:["January","February","March","April","May","June","July","August","September","October","November","December",""],namesAbbr:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec",""]},AM:["AM","am","AM"],PM:["PM","pm","PM"],eras:[{name:"A.D.",start:null,offset:0}],twoDigitYearMax:2029,patterns:{d:"M/d/yyyy",D:"dddd, MMMM dd, yyyy",t:"h:mm tt",T:"h:mm:ss tt",f:"dddd, MMMM dd, yyyy h:mm tt",F:"dddd, MMMM dd, yyyy h:mm:ss tt",M:"MMMM dd",Y:"yyyy MMMM",S:"yyyy'-'MM'-'dd'T'HH':'mm':'ss"}}},messages:{}},n.cultures.default.calendar=n.cultures.default.calendars.standard,n.cultures.en=n.cultures.default,n.cultureSelector="en",c=/^0x[a-f0-9]+$/i,s=/^[+\-]?infinity$/i,d=/^[+\-]?\d*\.?\d*(e[+\-]?\d+)?$/,t=/^\s+|\s+$/g,l=function(e,t){if(e.indexOf)return e.indexOf(t);for(var r=0,a=e.length;r<a;r++)if(e[r]===t)return r;return-1},i=function(e,t){return e.substr(e.length-t.length)===t},p=function(){var e,t,r,a,n,o=arguments[0]||{},i=1,l=arguments.length,c=!1;for("boolean"==typeof o&&(c=o,o=arguments[1]||{},i=2),"object"==typeof o||u(o)||(o={});i<l;i++)if(null!=(e=arguments[i]))for(t in e)n=o[t],r=e[t],o!==r&&(c&&r&&(h(r)||(a=y(r)))?(n=a?(a=!1,n&&y(n)?n:[]):n&&h(n)?n:{},o[t]=p(c,n,r)):void 0!==r&&(o[t]=r));return o},y=Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)},u=function(e){return"[object Function]"===Object.prototype.toString.call(e)},h=function(e){return"[object Object]"===Object.prototype.toString.call(e)},z=function(e,t){return 0===e.indexOf(t)},L=function(e){return(e+"").replace(t,"")},f=function(e){return isNaN(e)?NaN:Math[e<0?"ceil":"floor"](e)},m=function(e,t,r){for(var a=e.length;a<t;a+=1)e=r?"0"+e:e+"0";return e},A=function(e,t){for(var r,a=0,n=!1,o=0,i=e.length;o<i;o++)switch(r=e.charAt(o)){case"'":n?t.push("'"):a++,n=!1;break;case"\\":n&&t.push("\\"),n=!n;break;default:t.push(r),n=!1}return a},I=function(e,t){var e=e.patterns,r=(t=t||"F").length;if(1===r){if(!(e=e[t]))throw"Invalid date format string '"+t+"'.";t=e}else 2===r&&"%"===t.charAt(0)&&(t=t.charAt(1));return t},M=function(e,t,r){function a(e,t){var r,e=e+"";return 1<t&&e.length<t?(r=k[t-2]+e).substr(r.length-t,t):e}function n(e,t){if(w)return w[t];switch(t){case 0:return e.getFullYear();case 1:return e.getMonth();case 2:return e.getDate();default:throw"Invalid part value "+t}}var o,i,l,c,s,d,p,u=r.calendar,y=u.convert;if(!t||!t.length||"i"===t)return v=r&&r.name.length?y?M(e,u.patterns.F,r):(r=new Date(e.getTime()),o=W(e,u.eras),r.setFullYear(x(e,u,o)),r.toLocaleString()):e.toString();i=u.eras,l="s"===t,t=I(u,t);var h,f,m,w,v=[],k=["0","00","000"],S=/([^d]|^)(d|dd)([^d]|$)/g,D=0,$=T();for(!l&&y&&(w=y.fromGregorian(e));;){var g=$.lastIndex,b=$.exec(t),g=t.slice(g,b?b.index:t.length);if(D+=A(g,v),!b)break;if(D%2)v.push(b[0]);else switch(s=(c=b[0]).length,c){case"ddd":case"dddd":d=3===s?u.days.namesAbbr:u.days.names,v.push(d[e.getDay()]);break;case"d":case"dd":f=!0,v.push(a(n(e,2),s));break;case"MMM":case"MMMM":p=n(e,1),v.push((u.monthsGenitive&&(f||m||(f=S.test(t),m=!0),f)?u.monthsGenitive:u.months)[3===s?"namesAbbr":"names"][p]);break;case"M":case"MM":v.push(a(n(e,1)+1,s));break;case"y":case"yy":case"yyyy":p=w?w[0]:x(e,u,W(e,i),l),s<4&&(p%=100),v.push(a(p,s));break;case"h":case"hh":0===(h=e.getHours()%12)&&(h=12),v.push(a(h,s));break;case"H":case"HH":v.push(a(e.getHours(),s));break;case"m":case"mm":v.push(a(e.getMinutes(),s));break;case"s":case"ss":v.push(a(e.getSeconds(),s));break;case"t":case"tt":p=e.getHours()<12?u.AM?u.AM[0]:" ":u.PM?u.PM[0]:" ",v.push(1===s?p.charAt(0):p);break;case"f":case"ff":case"fff":v.push(a(e.getMilliseconds(),3).substr(0,s));break;case"z":case"zz":h=e.getTimezoneOffset()/60,v.push((h<=0?"+":"-")+a(Math.floor(Math.abs(h)),s));break;case"zzz":h=e.getTimezoneOffset()/60,v.push((h<=0?"+":"-")+a(Math.floor(Math.abs(h)),2)+":"+a(Math.abs(e.getTimezoneOffset()%60),2));break;case"g":case"gg":u.eras&&v.push(u.eras[W(e,i)].name);break;case"/":v.push(u["/"]);break;default:throw"Invalid date format pattern '"+c+"'."}}return v.join("")},D=function(e,t,r){var a=r.groupSizes,n=a[0],o=1,i=Math.pow(10,t),i=Math.round(e*i)/i,l=(e=i=isFinite(i)?i:e)+"",c="",i=l.split(/e/i),e=1<i.length?parseInt(i[1],10):0;l=(i=(l=i[0]).split("."))[0],c=1<i.length?i[1]:"",0<e?(l+=(c=m(c,e,!1)).slice(0,e),c=c.substr(e)):e<0&&(c=(l=m(l,1+(e=-e),!0)).slice(-e,l.length)+c,l=l.slice(0,-e));for(var c=0<t?r["."]+(c.length>t?c.slice(0,t):m(c,t)):"",s=l.length-1,d=r[","],p="";0<=s;){if(0===n||s<n)return l.slice(0,s+1)+(p.length?d+p+c:c);p=l.slice(s-n+1,s+1)+(p.length?d+p:""),s-=n,o<a.length&&(n=a[o],o++)}return l.slice(0,s+1)+d+p+c},a=function(e,t,r){var a,n,o,i,l,c;if(!isFinite(e))return e===1/0?r.numberFormat.positiveInfinity:e===-1/0?r.numberFormat.negativeInfinity:r.numberFormat.NaN;if(!t||"i"===t)return r.name.length?e.toLocaleString():e.toString();t=t||"D";var s,d=r.numberFormat,p=Math.abs(e),u=-1;switch(1<t.length&&(u=parseInt(t.slice(1),10)),a=t.charAt(0).toUpperCase()){case"D":s="n",p=f(p),-1!==u&&(p=m(""+p,u,!0)),e<0&&(p="-"+p);break;case"N":n=d;case"C":n=n||d.currency;case"P":n=n||d.percent,s=e<0?n.pattern[0]:n.pattern[1]||"n",-1===u&&(u=n.decimals),p=D(p*("P"===a?100:1),u,n);break;default:throw"Bad number format specifier: "+a}for(o=/n|\$|-|%/g,i="";l=o.lastIndex,c=o.exec(s),i+=s.slice(l,c?c.index:s.length),c;)switch(c[0]){case"n":i+=p;break;case"$":i+=d.currency.symbol;break;case"-":/[1-9]/.test(p)&&(i+=d["-"]);break;case"%":i+=d.percent.symbol}return i},T=function(){return/\/|dddd|ddd|dd|d|MMMM|MMM|MM|M|yyyy|yy|y|hh|h|HH|H|mm|m|ss|s|tt|t|fff|ff|f|zzz|zz|z|gg|g/g},W=function(e,t){var r,a,n,o;if(t)for(a=e.getTime(),n=0,o=t.length;n<o;n++)if(null===(r=t[n].start)||r<=a)return n;return 0},x=function(e,t,r,a){e=e.getFullYear();return!a&&t.eras&&(e-=t.eras[r].offset),e},R=function(e,t){var r,a;return t<100&&(r=new Date,a=W(r),r=x(r,e,a),(a="string"==typeof(a=e.twoDigitYearMax)?(new Date).getFullYear()%100+parseInt(a,10):a)<(t+=r-r%100))&&(t-=100),t},O=function(e,t,r){var a,n=e.days,o=e._upperDays;return o||(e._upperDays=o=[S(n.names),S(n.namesAbbr),S(n.namesShort)]),t=k(t),r?-1===(a=l(o[1],t))&&(a=l(o[2],t)):a=l(o[0],t),a},F=function(e,t,r){var a=e.months,n=e.monthsGenitive||e.months,o=e._upperMonths,i=e._upperMonthsGen;return o||(e._upperMonths=o=[S(a.names),S(a.namesAbbr)],e._upperMonthsGen=i=[S(n.names),S(n.namesAbbr)]),t=k(t),a=(a=l(r?o[1]:o[0],t))<0?l(r?i[1]:i[0],t):a},B=function(e,t){var r,a,n,o,i,l=e._parseRegExp;if(l){if(i=l[t])return i}else e._parseRegExp=l={};for(var c,s=I(e,t).replace(/([\^\$\.\*\+\?\|\[\]\(\)\{\}])/g,"\\\\$1"),d=["^"],p=[],u=0,y=0,h=T();null!==(c=h.exec(s));)if(r=s.slice(u,c.index),u=h.lastIndex,(y+=A(r,d))%2)d.push(c[0]);else{switch(n=(a=c[0]).length,a){case"dddd":case"ddd":case"MMMM":case"MMM":case"gg":case"g":o="(\\D+)";break;case"tt":case"t":o="(\\D*)";break;case"yyyy":case"fff":case"ff":case"f":o="(\\d{"+n+"})";break;case"dd":case"d":case"MM":case"M":case"yy":case"y":case"HH":case"H":case"hh":case"h":case"mm":case"m":case"ss":case"s":o="(\\d\\d?)";break;case"zzz":o="([+-]?\\d\\d?:\\d{2})";break;case"zz":case"z":o="([+-]?\\d\\d?)";break;case"/":o="(\\/)";break;default:throw"Invalid date format pattern '"+a+"'."}o&&d.push(o),p.push(c[0])}return A(s.slice(u),d),d.push("$"),i=d.join("").replace(/\s+/g,"\\s+"),l[t]={regExp:i,groups:p}},P=function(e,t,r){return e<t||r<e},k=function(e){return e.split("Â ").join(" ").toUpperCase()},S=function(e){for(var t=[],r=0,a=e.length;r<a;r++)t[r]=k(e[r]);return t},w=function(e,t,r){e=L(e);var a,n,o,i,l,c,s=r.calendar,r=B(s,t),d=new RegExp(r.regExp).exec(e);if(null===d)return null;for(var p,u=r.groups,y=null,h=null,f=null,m=null,w=null,v=0,k=0,S=0,D=0,$=null,g=!1,b=0,A=u.length;b<A;b++)if(a=d[b+1]){var I=u[b],M=I.length,T=parseInt(a,10);switch(I){case"dd":case"d":if(P(m=T,1,31))return null;break;case"MMM":case"MMMM":if(f=F(s,a,3===M),P(f,0,11))return null;break;case"M":case"MM":if(P(f=T-1,0,11))return null;break;case"y":case"yy":case"yyyy":if(h=M<4?R(s,T):T,P(h,0,9999))return null;break;case"h":case"hh":if(P(v=12===(v=T)?0:v,0,11))return null;break;case"H":case"HH":if(P(v=T,0,23))return null;break;case"m":case"mm":if(P(k=T,0,59))return null;break;case"s":case"ss":if(P(S=T,0,59))return null;break;case"tt":case"t":if((g=s.PM&&(a===s.PM[0]||a===s.PM[1]||a===s.PM[2]))||s.AM&&(a===s.AM[0]||a===s.AM[1]||a===s.AM[2]))break;return null;case"f":case"ff":case"fff":if(D=T*Math.pow(10,3-M),P(D,0,999))return null;break;case"ddd":case"dddd":if(w=O(s,a,3===M),P(w,0,6))return null;break;case"zzz":if(2!==(n=a.split(/:/)).length||(p=parseInt(n[0],10),P(p,-12,13))||(o=parseInt(n[1],10),P(o,0,59)))return null;$=60*p+(z(a,"-")?-o:o);break;case"z":case"zz":if(P(p=T,-12,13))return null;$=60*p;break;case"g":case"gg":if(!(i=a)||!s.eras)return null;for(i=L(i.toLowerCase()),l=0,c=s.eras.length;l<c;l++)if(i===s.eras[l].name.toLowerCase()){y=l;break}if(null===y)return null}}if(t=new Date,r=(e=s.convert)?e.fromGregorian(t)[0]:t.getFullYear(),null===h?h=r:s.eras&&(h+=s.eras[y||0].offset),null===f&&(f=0),null===m&&(m=1),e){if(null===(t=e.toGregorian(h,f,m)))return null}else if(t.setFullYear(h,f,m),t.getDate()!==m||null!==w&&t.getDay()!==w)return null;return g&&v<12&&(v+=12),t.setHours(v,k,S,D),null!==$&&(r=t.getMinutes()-($+t.getTimezoneOffset()),t.setHours(t.getHours()+parseInt(r/60,10),r%60)),t},v=function(e,t,r){var a,n=t["-"],o=t["+"];switch(r){case"n -":n=" "+n,o=" "+o;case"n-":i(e,n)?a=["-",e.substr(0,e.length-n.length)]:i(e,o)&&(a=["+",e.substr(0,e.length-o.length)]);break;case"- n":n+=" ",o+=" ";case"-n":z(e,n)?a=["-",e.substr(n.length)]:z(e,o)&&(a=["+",e.substr(o.length)]);break;case"(n)":z(e,"(")&&i(e,")")&&(a=["-",e.substr(1,e.length-2)])}return a||["",e]},n.prototype.findClosestCulture=function(e){return n.findClosestCulture.call(this,e)},n.prototype.format=function(e,t,r){return n.format.call(this,e,t,r)},n.prototype.localize=function(e,t){return n.localize.call(this,e,t)},n.prototype.parseInt=function(e,t,r){return n.parseInt.call(this,e,t,r)},n.prototype.parseFloat=function(e,t,r){return n.parseFloat.call(this,e,t,r)},n.prototype.culture=function(e){return n.culture.call(this,e)},n.addCultureInfo=function(e,t,r){var a={},n=!1,a="string"!=typeof e?(r=e,e=this.culture().name,this.cultures[e]):"string"!=typeof t?(r=t,n=null==this.cultures[e],this.cultures[e]||this.cultures.default):(n=!0,this.cultures[t]);this.cultures[e]=p(!0,{},a,r),n&&(this.cultures[e].calendar=this.cultures[e].calendars.standard)},n.findClosestCulture=function(e){var t,r,a,n,o,i;if(!e)return this.findClosestCulture(this.cultureSelector)||this.cultures.default;if("string"==typeof e&&(e=e.split(",")),y(e)){for(var l,c=this.cultures,s=e,d=s.length,p=[],u=0;u<d;u++)a=(e=L(s[u])).split(";"),l=L(a[0]),r=1!==a.length&&0===(e=L(a[1])).indexOf("q=")?(e=e.substr(2),r=parseFloat(e),isNaN(r)?0:r):1,p.push({lang:l,pri:r});for(p.sort(function(e,t){return e.pri<t.pri?1:e.pri>t.pri?-1:0}),u=0;u<d;u++)if(t=c[l=p[u].lang])return t;for(u=0;u<d;u++)for(l=p[u].lang;;){if(-1===(n=l.lastIndexOf("-")))break;if(t=c[l=l.substr(0,n)])return t}for(u=0;u<d;u++)for(o in l=p[u].lang,c)if(i=c[o],i.language==l)return i}else if("object"==typeof e)return e;return t||null},n.format=function(e,t,r){r=this.findClosestCulture(r);return e instanceof Date?e=M(e,t,r):"number"==typeof e&&(e=a(e,t,r)),e},n.localize=function(e,t){return this.findClosestCulture(t).messages[e]||this.cultures.default.messages[e]},n.parseDate=function(e,t,r){var a,n,o,i,l,c;if(r=this.findClosestCulture(r),t){if((t="string"==typeof t?[t]:t).length)for(i=0,l=t.length;i<l&&(!(c=t[i])||!(a=w(e,c,r)));i++);}else for(n in o=r.calendar.patterns)if(a=w(e,o[n],r),a)break;return a||null},n.parseInt=function(e,t,r){return f(n.parseFloat(e,t,r))},n.parseFloat=function(e,t,r){"number"!=typeof t&&(r=t,t=10);var a,n,o,r=this.findClosestCulture(r),i=NaN,l=r.numberFormat;return-1<e.indexOf(r.numberFormat.currency.symbol)&&(e=(e=e.replace(r.numberFormat.currency.symbol,"")).replace(r.numberFormat.currency["."],r.numberFormat["."])),e=L(e),s.test(e)?i=parseFloat(e):!t&&c.test(e)?i=parseInt(e,16):(t=(r=v(e,l,l.pattern[0]))[0],o=r[1],""===t&&"(n)"!==l.pattern[0]&&(t=(r=v(e,l,"(n)"))[0],o=r[1]),""===t&&"-n"!==l.pattern[0]&&(t=(r=v(e,l,"-n"))[0],o=r[1]),t=t||"+",r=(e=(e=o.indexOf("e"))<0?o.indexOf("E"):e)<0?(n=o,null):(n=o.substr(0,e),o.substr(e+1)),o=l["."],n=(e=n.indexOf(o))<0?(a=n,null):(a=n.substr(0,e),n.substr(e+o.length)),e=l[","],a=a.split(e).join(""),o=e.replace(/\u00A0/g," "),t=t+(a=e!==o?a.split(o).join(""):a),null!==n&&(t+="."+n),null!==r&&(t+="e"+((e=v(r,l,"-n"))[0]||"+")+e[1]),d.test(t)&&(i=parseFloat(t))),i},n.culture=function(e){return void 0!==e&&(this.cultureSelector=e),this.findClosestCulture(e)||this.cultures.default}}(this);var addScheduleDetail="",scheduleExportMinTime=15,recurrenceTypeList=($("#StartDate_popup").remove(),$("#EndDate_popup").remove(),$("#popup-container_wrapper").remove(),$("#PopupContainer_overLay").remove(),$("#editpopup-container_wrapper").remove(),""),days="",weeks="",months="",zoneDateTime="",sysTime="",time=new Date,startDatePickerObj=("True"==timeFormat?sysTime=DateCustomFormat(dateFormat+" HH:mm",time,timeFormat):(sysTime=DateCustomFormat(dateFormat+" hh:mm",time,timeFormat),sysTime+=12<=time.getHours()?" PM":" AM"),$.ajax({type:"POST",data:{date:sysTime},url:getRecurrenceTypeUrl,async:!1,success:function(e){ShowWaitingProgress(".share-popup-header","hide"),null!=e.RecurrenceType&&0<e.RecurrenceType.length&&(recurrenceTypeList="<option value= "+e.RecurrenceType[4]+">"+window.Server.App.Localization.Hourly+"</option><option value= "+e.RecurrenceType[0]+">"+window.Server.App.Localization.Daily+"</option><option value= "+e.RecurrenceType[1]+">"+window.Server.App.Localization.Weekly+"</option><option value= "+e.RecurrenceType[2]+">"+window.Server.App.Localization.Monthly+"</option><option value= "+e.RecurrenceType[3]+">"+window.Server.App.Localization.Yearly+"</option>");for(var t=0;t<e.Days.length;t++)"weekendday"!=e.Days[t].toString().toLowerCase()&&"day"!=e.Days[t].toString().toLowerCase()&&"weekday"!=e.Days[t].toString().toLowerCase()||("weekendday"==e.Days[t].toString().toLowerCase()?days+="<option value= "+e.Days[t]+">"+window.Server.App.Localization.WeekEndDay+"</option>":("weekday"==e.Days[t].toString().toLowerCase()&&(days+="<option value= "+e.Days[t]+">"+window.Server.App.Localization.WeekDay+"</option>"),"day"==e.Days[t].toString().toLowerCase()&&(days+="<option value= "+e.Days[t]+">"+window.Server.App.Localization.Day+"</option>")));for(t=0;t<e.Days.length;t++)"weekendday"!=e.Days[t].toString().toLowerCase()&&"day"!=e.Days[t].toString().toLowerCase()&&"weekday"!=e.Days[t].toString().toLowerCase()&&("sunday"==e.Days[t].toString().toLowerCase()&&(days+="<option value= "+e.Days[t]+">"+window.Server.App.Localization.Sunday+"</option>"),"monday"==e.Days[t].toString().toLowerCase()&&(days+="<option value= "+e.Days[t]+">"+window.Server.App.Localization.Monday+"</option>"),"tuesday"==e.Days[t].toString().toLowerCase()&&(days+="<option value= "+e.Days[t]+">"+window.Server.App.Localization.Tuesday+"</option>"),"wednesday"==e.Days[t].toString().toLowerCase()&&(days+="<option value= "+e.Days[t]+">"+window.Server.App.Localization.Wednesday+"</option>"),"thursday"==e.Days[t].toString().toLowerCase()&&(days+="<option value= "+e.Days[t]+">"+window.Server.App.Localization.Thursday+"</option>"),"friday"==e.Days[t].toString().toLowerCase()&&(days+="<option value= "+e.Days[t]+">"+window.Server.App.Localization.Friday+"</option>"),"saturday"==e.Days[t].toString().toLowerCase())&&(days+="<option value= "+e.Days[t]+">"+window.Server.App.Localization.Saturday+"</option>");weeks="<option value= "+e.Weeks[0]+">"+window.Server.App.Localization.First+"</option><option value= "+e.Weeks[1]+">"+window.Server.App.Localization.Second+"</option><option value= "+e.Weeks[2]+">"+window.Server.App.Localization.Third+"</option><option value= "+e.Weeks[3]+">"+window.Server.App.Localization.Fourth+"</option><option value= "+e.Weeks[4]+">"+window.Server.App.Localization.Last+"</option>",months="<option value= "+e.Months[0]+">"+window.Server.App.Localization.January+"</option><option value= "+e.Months[1]+">"+window.Server.App.Localization.February+"</option><option value= "+e.Months[2]+">"+window.Server.App.Localization.March+"</option><option value= "+e.Months[3]+">"+window.Server.App.Localization.April+"</option><option value= "+e.Months[4]+">"+window.Server.App.Localization.May+"</option><option value= "+e.Months[5]+">"+window.Server.App.Localization.June+"</option><option value= "+e.Months[6]+">"+window.Server.App.Localization.July+"</option><option value= "+e.Months[7]+">"+window.Server.App.Localization.August+"</option><option value= "+e.Months[8]+">"+window.Server.App.Localization.September+"</option><option value= "+e.Months[9]+">"+window.Server.App.Localization.October+"</option><option value= "+e.Months[10]+">"+window.Server.App.Localization.November+"</option><option value= "+e.Months[11]+">"+window.Server.App.Localization.December+"</option>";var r,a=e.TimeZoneDateTime.toString(),a=new Date(a),n="MM/dd/yyyy";"True"==timeFormat?r=DateCustomFormat(n+" HH:mm",a,timeFormat):(r=DateCustomFormat(n+" hh:mm",a,timeFormat),r+=12<=a.getHours()?" PM":" AM"),zoneDateTime=r,""!=timeZone?$("#zone").html(sysTime):$("#zone").html(clientTimeZone),$("#hour-difference").val(e.HourDifference),$("#minute-difference").val(e.MinuteDifference)}}),$("#recurrence-type").append(recurrenceTypeList),$("#monthly-dow-week").append(weeks),$("#monthly-dow-day").append(days),$("#yearly-month").append(months),$("#yearly-dow-week").append(weeks),$("#yearly-dow-day").append(days),$("#yearly-dow-month").append(months),"undefined"!=typeof BoldBIDashboard?$("#popup-container_wrapper").BoldBIDashboardWaitingPopup("hide"):$("#popup-container_wrapper").ejWaitingPopup("hide"),$("#daily-every-x-days").prop("checked",!0),$("#monthly").prop("checked",!0),$("#yearly").prop("checked",!0),$("#every-x-days, #monthly-date, #yearly-day").ejNumericTextbox({name:"numeric",value:1,minValue:1,maxValue:31,width:"65px",height:"32px",incrementStep:1}),$("#every-x-weeks, #every-x-years").ejNumericTextbox({name:"numeric",value:1,minValue:1,maxValue:99,width:"65px",height:"32px",incrementStep:1}),$("#occurence-count").ejNumericTextbox({name:"numeric",value:1,minValue:1,maxValue:999,width:"65px",height:"32px",incrementStep:1}),$("#monthly-dow-every-x-months, #monthly-every-x-months").ejNumericTextbox({name:"numeric",value:1,minValue:1,maxValue:12,width:"65px",height:"32px",incrementStep:1}),Globalize.addCultureInfo("en-US","default",{name:"en-US",englishName:"English (United States)",nativeName:"English (United States)",language:"en",calendars:{standard:{"/":".",firstDay:1,days:{names:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],namesAbbr:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],namesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"]},months:{names:["January","February","March","April","May","June","July","August","September","October","November","December",""],namesAbbr:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec",""]}}}}),dateFormat=isEmptyOrWhitespace(currentDateFormat)?dateFormat:currentDateFormat,{interval:10,value:new Date(zoneDateTime),enableStrictMode:!1,locale:"en-US",timePopupWidth:108,buttonText:{today:window.Server.App.Localization.Today,timeNow:window.Server.App.Localization.Now,done:window.Server.App.Localization.Done,timeTitle:window.Server.App.Localization.Time},change:function(e){validateDateTimePicker();var t=createScheduleMessage(!1);$("#schedule-message").text(t)}}),endDatePickerObj={interval:10,value:new Date(zoneDateTime),enableStrictMode:!1,locale:"en-US",timePopupWidth:108,buttonText:{today:window.Server.App.Localization.Today,timeNow:window.Server.App.Localization.Now,done:window.Server.App.Localization.Done,timeTitle:window.Server.App.Localization.Time},change:function(e){var t=createScheduleMessage(!1);$("#schedule-message").text(t)}},datePickerObj1={dateTimeFormat:dateFormat+" HH:mm:ss",timeDisplayFormat:" HH:mm:ss"},datePickerObj2={dateTimeFormat:dateFormat+" hh:mm:ss tt",timeDisplayFormat:" hh:mm:ss tt"};function validateDateTimePicker(){var e="",t=$("#start-date").data("undefined"!=typeof BoldBIDashboard?"BoldBIDashboardDateTimePicker":"ejDateTimePicker"),e=($("#end-date").data("undefined"!=typeof BoldBIDashboard?"BoldBIDashboardDateTimePicker":"ejDateTimePicker"),$("#start-date").data("undefined"!=typeof BoldBIDashboard?"BoldBIDashboardDateTimePicker":"ejDateTimePicker").getValue(),t.model.value),t={minDateTime:new Date(e.getFullYear(),e.getMonth(),e.getDate()),value:e},t=("undefined"!=typeof BoldBIDashboard?$("#end-date").BoldBIDashboardDateTimePicker(t):$("#end-date").ejDateTimePicker(t),parseInt($("#hour-difference").val())),r=parseInt($("#minute-difference").val());e.setHours(e.getHours()+t),e.setMinutes(e.getMinutes()+r),"True"==timeFormat?DateCustomFormat(dateFormat+" HH:mm",e,timeFormat):(DateCustomFormat(dateFormat+" hh:mm",e,timeFormat),e.getHours())}function setRecurrenceInterval(e){var t=parseInt(e.closest(".e-numeric").attr("aria-valuemin")),r=parseInt(e.closest(".e-numeric").attr("aria-valuemax")),e=parseInt(e.val());return isNaN(e)?t:r<e?r:e}function createScheduleMessage(e){var t,r=$("#system-time #zone").text();if(""==$("#start-date").val()?(t="edit"==actionType.toLowerCase()?item.StartDate:r,"undefined"!=typeof BoldBIDashboard?$("#start-date").BoldBIDashboardDateTimePicker({value:new Date(t)}):$("#start-date").ejDateTimePicker({value:new Date(t)})):""==$("#end-date").val()&&(t="edit"==actionType.toLowerCase()&&"enddate"===endType.toString().toLowerCase()?item.EndDate:r,"undefined"!=typeof BoldBIDashboard?$("#end-date").BoldBIDashboardDateTimePicker({value:new Date(t)}):$("#end-date").ejDateTimePicker({value:new Date(t)})),$("#time-intervals-div .change-event, #every-x-years, #yearly-day").each(function(){isNullOrWhitespace($(this).val())&&$(this).val("1")}),!$("#enable-schedule").prop("checked"))return window.Server.App.Localization.ScheduleDisabled;var a={},n=(a.RecurrenceFactor=setRecurrenceInterval($("#occurence-count")),$("#start-date").val()),o=$("#end-date").val(),i=2==alertChange&&e;switch($("#recurrence-type").val().toString().toLowerCase()){case"daily":switch($("#daily-every-x-days").prop("checked")?(a.RecurrenceType="Daily",a.RecurrenceInterval=setRecurrenceInterval($("#every-x-days"))):a.RecurrenceType="DailyWeekDay",$("input[name=end-type]:checked","#schedule-end-type").val().toString()){case"never":addScheduleDetail="Daily"==a.RecurrenceType?1==a.RecurrenceInterval?(i?window.Server.App.Localization.DailyInfoAlert:window.Server.App.Localization.DailyInfo).format(n):(i?window.Server.App.Localization.DailyInfoDayAlert:window.Server.App.Localization.DailyInfoDay).format(a.RecurrenceInterval.toString(),n):(i?window.Server.App.Localization.DailyInfoWeekDayAlert:window.Server.App.Localization.DailyInfoWeekDay).format(n);break;case"endafter":addScheduleDetail="Daily"==a.RecurrenceType?1==a.RecurrenceInterval?(i?window.Server.App.Localization.DailyInfoEndAfterAlert:window.Server.App.Localization.DailyInfoEndAfter).format(n,a.RecurrenceFactor):(i?window.Server.App.Localization.DailyInfoDayEndAfterAlert:window.Server.App.Localization.DailyInfoDayEndAfter).format(a.RecurrenceInterval.toString(),n,a.RecurrenceFactor):(i?window.Server.App.Localization.DailyInfoWeekDayEndAfterAlert:window.Server.App.Localization.DailyInfoWeekDayEndAfter).format(n,a.RecurrenceFactor);break;case"endBy":addScheduleDetail="Daily"==a.RecurrenceType?1==a.RecurrenceInterval?(i?window.Server.App.Localization.DailyInfoTillAlert:window.Server.App.Localization.DailyInfoTill).format(n,o):(i?window.Server.App.Localization.DailyInfoDayTillAlert:window.Server.App.Localization.DailyInfoDayTill).format(a.RecurrenceInterval.toString(),n,o):(i?window.Server.App.Localization.DailyInfoWeekDayTillAlert:window.Server.App.Localization.DailyInfoWeekDayTill).format(n,o)}break;case"weekly":a.RecurrenceType="Weekly",a.RecurrenceInterval=setRecurrenceInterval($("#every-x-weeks")),a.Sunday=$("#sun").prop("checked"),a.Monday=$("#mon").prop("checked"),a.Tuesday=$("#tues").prop("checked"),a.Wednesday=$("#wed").prop("checked"),a.Thursday=$("#thu").prop("checked"),a.Friday=$("#fri").prop("checked"),a.Saturday=$("#sat").prop("checked");for(var l=$(".daygroup:checked"),c="",s="",d=0;d<l.length;d++)1==l.length||0==d?c=$(l[d]).parent().text().trim():0<d&&d!=l.length-1?c=c+", "+$(l[d]).parent().text().trim():s=$(l[d]).parent().text().trim();switch($("input[name=end-type]:checked","#schedule-end-type").val().toString()){case"never":addScheduleDetail=0==l.length?1==a.RecurrenceInterval?(i?window.Server.App.Localization.WeeklyInfoAlert:window.Server.App.Localization.WeeklyInfo).format(n):(i?window.Server.App.Localization.WeeklyInfoWeeksAlert:window.Server.App.Localization.WeeklyInfoWeeks).format(a.RecurrenceInterval.toString(),n):1==l.length?1==a.RecurrenceInterval?(i?window.Server.App.Localization.WeeklyInfoDayAlert:window.Server.App.Localization.WeeklyInfoDay).format(c,n):(i?window.Server.App.Localization.WeeklyInfoWeeksDayAlert:window.Server.App.Localization.WeeklyInfoWeeksDay).format(a.RecurrenceInterval.toString(),c,n):1==a.RecurrenceInterval?(i?window.Server.App.Localization.WeeklyInfoDaysAlert:window.Server.App.Localization.WeeklyInfoDays).format(c,s,n):(i?window.Server.App.Localization.WeeklyInfoWeeksDaysAlert:window.Server.App.Localization.WeeklyInfoWeeksDays).format(a.RecurrenceInterval.toString(),c,s,n);break;case"endafter":addScheduleDetail=0==l.length?1==a.RecurrenceInterval?(i?window.Server.App.Localization.WeeklyInfoEndAfterAlert:window.Server.App.Localization.WeeklyInfoEndAfter).format(n,a.RecurrenceFactor):(i?window.Server.App.Localization.WeeklyInfoWeeksEndAfterAlert:window.Server.App.Localization.WeeklyInfoWeeksEndAfter).format(a.RecurrenceInterval.toString(),n,a.RecurrenceFactor):1==l.length?1==a.RecurrenceInterval?(i?window.Server.App.Localization.WeeklyInfoDayEndAfterAlert:window.Server.App.Localization.WeeklyInfoDayEndAfter).format(c,n,a.RecurrenceFactor):(i?window.Server.App.Localization.WeeklyInfoWeeksDayEndAfterAlert:window.Server.App.Localization.WeeklyInfoWeeksDayEndAfter).format(a.RecurrenceInterval.toString(),c,n,a.RecurrenceFactor):1==a.RecurrenceInterval?(i?window.Server.App.Localization.WeeklyInfoDaysEndAfterAlert:window.Server.App.Localization.WeeklyInfoDaysEndAfter).format(c,s,n,a.RecurrenceFactor):(i?window.Server.App.Localization.WeeklyInfoWeeksDaysEndAfterAlert:window.Server.App.Localization.WeeklyInfoWeeksDaysEndAfter).format(a.RecurrenceInterval.toString(),c,s,n,a.RecurrenceFactor);break;case"endBy":addScheduleDetail=0==l.length?1==a.RecurrenceInterval?(i?window.Server.App.Localization.WeeklyInfoTillAlert:window.Server.App.Localization.WeeklyInfoTill).format(n,o):(i?window.Server.App.Localization.WeeklyInfoWeeksTillAlert:window.Server.App.Localization.WeeklyInfoWeeksTill).format(a.RecurrenceInterval.toString(),n,o):1==l.length?1==a.RecurrenceInterval?(i?window.Server.App.Localization.WeeklyInfoDayTillAlert:window.Server.App.Localization.WeeklyInfoDayTill).format(c,n,o):(i?window.Server.App.Localization.WeeklyInfoWeeksDayTillAlert:window.Server.App.Localization.WeeklyInfoWeeksDayTill).format(a.RecurrenceInterval.toString(),c,n,o):1==a.RecurrenceInterval?(i?window.Server.App.Localization.WeeklyInfoDaysTillAlert:window.Server.App.Localization.WeeklyInfoDaysTill).format(c,s,n,o):(i?window.Server.App.Localization.WeeklyInfoWeeksDaysTillAlert:window.Server.App.Localization.WeeklyInfoWeeksDaysTill).format(a.RecurrenceInterval.toString(),c,s,n,o)}break;case"monthly":switch(u=$("#monthly").prop("checked")?(a.RecurrenceType="Monthly",a.DaysOfMonth=setRecurrenceInterval($("#monthly-date")),$("#monthly-every-x-months")):(a.RecurrenceType="MonthlyDOW",a.WeekOfMonth=$("#monthly-dow-week").find("option:selected").text(),a.DayOfWeek=$("#monthly-dow-day").find("option:selected").text(),$("#monthly-dow-every-x-months")),a.RecurrenceInterval=setRecurrenceInterval(u),$("input[name=end-type]:checked","#schedule-end-type").val().toString()){case"never":addScheduleDetail=$("#monthly").prop("checked")?(i?window.Server.App.Localization.MonthlyInfoAlert:window.Server.App.Localization.MonthlyInfo).format(a.DaysOfMonth.toString(),a.RecurrenceInterval.toString(),n):(i?window.Server.App.Localization.MonthlyInfoDOWAlert:window.Server.App.Localization.MonthlyInfoDOW).format(a.WeekOfMonth.toString(),$("#monthly-dow-day").find("option:selected").text(),a.RecurrenceInterval.toString(),n);break;case"endafter":addScheduleDetail=$("#monthly").prop("checked")?(i?window.Server.App.Localization.MonthlyInfoEndAfterAlert:window.Server.App.Localization.MonthlyInfoEndAfter).format(a.DaysOfMonth.toString(),a.RecurrenceInterval.toString(),n,a.RecurrenceFactor):(i?window.Server.App.Localization.MonthlyInfoDOWEndAfterAlert:window.Server.App.Localization.MonthlyInfoDOWEndAfter).format(a.WeekOfMonth.toString(),$("#monthly-dow-day").find("option:selected").text(),a.RecurrenceInterval.toString(),n,a.RecurrenceFactor);break;case"endBy":addScheduleDetail=$("#monthly").prop("checked")?(i?window.Server.App.Localization.MonthlyInfoTillAlert:window.Server.App.Localization.MonthlyInfoTill).format(a.DaysOfMonth.toString(),a.RecurrenceInterval.toString(),n,o):(i?window.Server.App.Localization.MonthlyInfoDOWTillAlert:window.Server.App.Localization.MonthlyInfoDOWTill).format(a.WeekOfMonth.toString(),$("#monthly-dow-day").find("option:selected").text(),a.RecurrenceInterval.toString(),n,o)}break;case"yearly":switch(a.RecurrenceInterval=setRecurrenceInterval($("#every-x-years")),$("#yearly").prop("checked")?(a.RecurrenceType="Yearly",a.DaysOfMonth=setRecurrenceInterval($("#yearly-day")),a.MonthOfYear=$("#yearly-month").find("option:selected").text()):(a.RecurrenceType="YearlyDOW",a.WeekOfMonth=$("#yearly-dow-week").find("option:selected").text(),a.DayOfWeek=$("#yearly-dow-day").find("option:selected").text(),a.MonthOfYear=$("#yearly-dow-month").find("option:selected").text()),$("input[name=end-type]:checked","#schedule-end-type").val().toString()){case"never":addScheduleDetail=$("#yearly").prop("checked")?1==a.RecurrenceInterval?(i?window.Server.App.Localization.YearlyInfoAlert:window.Server.App.Localization.YearlyInfo).format(a.MonthOfYear.toString(),a.DaysOfMonth.toString(),n):(i?window.Server.App.Localization.YearlyInfosAlert:window.Server.App.Localization.YearlyInfos).format(a.RecurrenceInterval.toString(),a.MonthOfYear.toString(),a.DaysOfMonth.toString(),n):1==a.RecurrenceInterval?(i?window.Server.App.Localization.YearlyInfoDOWAlert:window.Server.App.Localization.YearlyInfoDOW).format(a.WeekOfMonth.toString(),$("#yearly-dow-day option:selected").text(),a.MonthOfYear.toString(),n):(i?window.Server.App.Localization.YearlyInfosDOWAlert:window.Server.App.Localization.YearlyInfosDOW).format(a.RecurrenceInterval.toString(),a.WeekOfMonth.toString(),$("#yearly-dow-day option:selected").text(),a.MonthOfYear.toString(),n);break;case"endafter":addScheduleDetail=$("#yearly").prop("checked")?1==a.RecurrenceInterval?(i?window.Server.App.Localization.YearlyInfoEndAfterAlert:window.Server.App.Localization.YearlyInfoEndAfter).format(a.MonthOfYear.toString(),a.DaysOfMonth.toString(),n,a.RecurrenceFactor):(i?window.Server.App.Localization.YearlyInfosEndAfterAlert:window.Server.App.Localization.YearlyInfosEndAfter).format(a.RecurrenceInterval.toString(),a.MonthOfYear.toString(),a.DaysOfMonth.toString(),n,a.RecurrenceFactor):1==a.RecurrenceInterval?(i?window.Server.App.Localization.YearlyInfoDOWEndAfterAlert:window.Server.App.Localization.YearlyInfoDOWEndAfter).format(a.WeekOfMonth.toString(),$("#yearly-dow-day option:selected").text(),a.MonthOfYear.toString(),n,a.RecurrenceFactor):(i?window.Server.App.Localization.YearlyInfosDOWEndAfterAlert:window.Server.App.Localization.YearlyInfosDOWEndAfter).format(a.RecurrenceInterval.toString(),a.WeekOfMonth.toString(),$("#yearly-dow-day option:selected").text(),a.MonthOfYear.toString(),n,a.RecurrenceFactor);break;case"endBy":addScheduleDetail=$("#yearly").prop("checked")?1==a.RecurrenceInterval?(i?window.Server.App.Localization.YearlyInfoTillAlert:window.Server.App.Localization.YearlyInfoTill).format(a.MonthOfYear.toString(),a.DaysOfMonth.toString(),n,o):(i?window.Server.App.Localization.YearlyInfosTillAlert:window.Server.App.Localization.YearlyInfosTill).format(a.RecurrenceInterval.toString(),a.MonthOfYear.toString(),a.DaysOfMonth.toString(),n,o):1==a.RecurrenceInterval?(i?window.Server.App.Localization.YearlyInfoDOWTillAlert:window.Server.App.Localization.YearlyInfoDOWTill).format(a.WeekOfMonth.toString(),$("#yearly-dow-day option:selected").text(),a.MonthOfYear.toString(),n,o):(i?window.Server.App.Localization.YearlyInfosDOWTillAlert:window.Server.App.Localization.YearlyInfosDOWTill).format(a.RecurrenceInterval.toString(),a.WeekOfMonth.toString(),$("#yearly-dow-day option:selected").text(),a.MonthOfYear.toString(),n,o)}break;case"hourly":a.RecurrenceType="Hourly",a.Frequency=$(".time-width").val(),a.RecurrenceInterval=$("#every-x-hours-value").val();var p=a.Frequency.split(":"),u=p[0]+p[1];switch(scheduleExportMinTime<=u?($(".frequency-error").css("display","none"),$(".time-width").parent("span").removeClass("validation-error"),$("#end-date-validator").css("display","none")):($(".frequency-error").css("display","inline"),a.Frequency="00:15",a.RecurrenceInterval="00:15",p=a.Frequency.split(":")),$("input[name=end-type]:checked","#schedule-end-type").val().toString()){case"never":addScheduleDetail=0<parseInt(p[0])&&0<parseInt(p[1])?(i?window.Server.App.Localization.HourlyInfoHourMinutesAlert:window.Server.App.Localization.HourlyInfoHourMinutes).format(p[0],p[1],n):0<parseInt(p[0])?(i?window.Server.App.Localization.HourlyInfoHoursAlert:window.Server.App.Localization.HourlyInfoHours).format(p[0],n):(i?window.Server.App.Localization.HourlyInfoMinutesAlert:window.Server.App.Localization.HourlyInfoMinutes).format(p[1],n);break;case"endafter":addScheduleDetail=0<parseInt(p[0])&&0<parseInt(p[1])?(i?window.Server.App.Localization.HourlyInfoHourMinutesEndAfterAlert:window.Server.App.Localization.HourlyInfoHourMinutesEndAfter).format(p[0],p[1],n,a.RecurrenceFactor):0<parseInt(p[0])?(i?window.Server.App.Localization.HourlyInfoHoursEndAfterAlert:window.Server.App.Localization.HourlyInfoHoursEndAfter).format(p[0],n,a.RecurrenceFactor):(i?window.Server.App.Localization.HourlyInfoMinutesEndAfterAlert:window.Server.App.Localization.HourlyInfoMinutesEndAfter).format(p[1],n,a.RecurrenceFactor);break;case"endBy":addScheduleDetail=0<parseInt(p[0])&&0<parseInt(p[1])?(i?window.Server.App.Localization.HourlyInfoHourMinutesTillAlert:window.Server.App.Localization.HourlyInfoHourMinutesTill).format(p[0],p[1],n,o):0<parseInt(p[0])?(i?window.Server.App.Localization.HourlyInfoHoursTillAlert:window.Server.App.Localization.HourlyInfoHoursTill).format(p[0],n,o):(i?window.Server.App.Localization.HourlyInfoMinutesTillAlert:window.Server.App.Localization.HourlyInfoMinutesTill).format(p[1],n,o)}}return addScheduleDetail}function validateSchedule(e){var t="",t="undefined"!=typeof BoldBIDashboard?$("#start-date").data("BoldBIDashboardDateTimePicker"):$("#start-date").data("ejDateTimePicker"),r=$("#schedule-name").val();if("block"==$("#schedule-name-error-container").css("display")||$("body .loader-gif").length||""==$("#selected_category option:selected").val()||""==$("#selected_dashboard option:selected").val()||!r)return""==$("#selected_category option:selected").val()&&$("#category-message").css("display","block"),""==$("#selected_dashboard option:selected").val()&&$("#dashboard-message").css("display","block"),r||($("#schedule-name-error-container").css("display","block"),$("#schedule-name-validator").html(window.Server.App.Localization.ScheduleValidator)),!1;if(!IsValidName("name",r))return $("#schedule-name-error-container").css("display","block"),$("#schedule-name-validator").html(window.Server.App.Localization.AvoidSpecialCharacters),!1;if($(e).hasClass("email-editor-body")&&""==$("#subject-area").val().trim())return $(".email-subject-text").addClass("has-error"),$("#email-subject-validation").css("display","block"),!1;if($(e).hasClass("subscribe-body")){switch($("#recurrence-type").val().toString().toLowerCase()){case"daily":break;case"weekly":if(!$('#days-check-box input[type="checkbox"]').is(":checked"))return $("#weekly-day-error-container").css("display","block"),$("#weekly-days-validator").html(window.Server.App.Localization.WeekDaysValidator),!1;$("#weekly-day-error-container").css("display","none");break;case"monthly":break;case"yearly":var a=$("#yearly-month").val().toString(),n=parseInt($("#yearly-day").val()),o=$("#yearly-day").data("ejNumericTextbox");switch(a.toLowerCase()){case"february":28<n&&o.option("value",28);break;case"april":case"june":case"september":case"november":30<n&&o.option("value",30);break;case"january":case"march":case"may":case"july":case"august":case"october":case"december":31<n&&o.option("value",31)}break;case"hourly":if(""==$(".time-width").val())return $(".frequency-error").css("display","inline"),$(".time-width").parent("span").addClass("validation-error"),!1;a=$(".time-width").val().split(":");if(!(3<60*a[0]+a[1]))return $(".frequency-error").css("display","inline"),$(".time-width").parent("span").addClass("validation-error"),!1;$(".frequency-error").css("display","none"),$(".time-width").parent("span").removeClass("validation-error")}if("M/d/yyyy h:mm tt"==!t.model.dateTimeFormat)return $("#start-date-error-container").css("display","block"),$("#start-date-validator").html(window.Server.App.Localization.ScheduleValidator),!1;if($("#start-date-error-container").css("display","none"),"endby"===$("input[name=end-type]:checked","#schedule-end-type").val().toLowerCase()){if("M/d/yyyy h:mm tt"==!("undefined"!=typeof BoldBIDashboard?$("#end-date").data("BoldBIDashboardDateTimePicker"):$("#end-date").data("ejDateTimePicker")).model.dateTimeFormat)return $("#end-date-error-container").css("display","block"),$("#end-date-validator").html(window.Server.App.Localization.ScheduleValidator),!1;$("#end-date-error-container").css("display","none")}}return!0}function DateTimeParser(e){var t;return null==e?"":null!=(t=/Date\(([^)]+)\)/.exec(e))?new Date(parseInt(t[1])):e}function validateNextSchedule(){var e={};switch(e.ScheduleName=$("#schedule-name").val(),e.Parameter=$("#parameter").val(),e.ItemId=createdItemId,e.StartDate=$("#start-date").val(),$("#recurrence-type").val().toString().toLowerCase()){case"daily":$("#daily-every-x-days").prop("checked")?(e.RecurrenceType="Daily",e.RecurrenceInterval=$("#every-x-days").val()):e.RecurrenceType="DailyWeekDay";break;case"weekly":e.RecurrenceType="Weekly",e.RecurrenceInterval=$("#every-x-weeks").val(),e.Sunday=$("#sun").prop("checked"),e.Monday=$("#mon").prop("checked"),e.Tuesday=$("#tues").prop("checked"),e.Wednesday=$("#wed").prop("checked"),e.Thursday=$("#thu").prop("checked"),e.Friday=$("#fri").prop("checked"),e.Saturday=$("#sat").prop("checked");break;case"monthly":$("#monthly").prop("checked")?(e.RecurrenceType="Monthly",e.DaysOfMonth=$("#monthly-date").val(),e.RecurrenceInterval=$("#monthly-every-x-months").val()):(e.RecurrenceType="MonthlyDOW",e.WeekOfMonth=$("#monthly-dow-week").find("option:selected").text(),e.DayOfWeek=$("#monthly-dow-day").find("option:selected").text(),e.RecurrenceInterval=$("#monthly-dow-every-x-months").val());break;case"yearly":e.RecurrenceInterval=$("#every-x-years").val(),$("#yearly").prop("checked")?(e.RecurrenceType="Yearly",e.DaysOfMonth=$("#yearly-day").val(),e.MonthOfYear=$("#yearly-month").find("option:selected").text()):(e.RecurrenceType="YearlyDOW",e.WeekOfMonth=$("#yearly-dow-week").find("option:selected").text(),e.DayOfWeek=$("#yearly-dow-day").find("option:selected").text(),e.MonthOfYear=$("#yearly-dow-month").find("option:selected").text());break;case"hourly":e.RecurrenceType="Hourly",e.Frequency=$(".time-width").val(),e.RecurrenceInterval=$("#every-x-hours-value").val()}switch(e.IsEnabled=$("#enable-schedule").prop("checked"),$("input[name=end-type]:checked","#schedule-end-type").val().toString()){case"never":e.ScheduleEndType="NoEnd";break;case"endafter":e.ScheduleEndType="EndAfter",e.RecurrenceFactor=$("#occurence-count").val();break;case"endBy":e.ScheduleEndType="EndBy",e.EndDate=$("#end-date").val()}"undefined"!=typeof BoldBIDashboard&&"function"==typeof parent.$("#popup-container_wrapper").BoldBIDashboardWaitingPopup?parent.$("#popup-container_wrapper").BoldBIDashboardWaitingPopup("show"):parent.$("#popup-container_wrapper").ejWaitingPopup("show"),$.ajax({type:"POST",url:getNextScheduleUrl,async:!1,data:{scheduleList:JSON.stringify({ScheduleItem:e,alert:alertChange})},success:function(e){"undefined"!=typeof BoldBIDashboard&&"function"==typeof parent.$("#popup-container_wrapper").BoldBIDashboardWaitingPopup?parent.$("#popup-container_wrapper").BoldBIDashboardWaitingPopup("hide"):parent.$("#popup-container_wrapper").ejWaitingPopup("hide"),void 0===e||""==e?$("#end-date-validator").html(window.Server.App.Localization.InvalidEndDate).css("display","inline"):($("#end-date-validator").css("display","none"),url=scheduleRecipients,enableSubscribeOption())}})}"undefined"!=typeof BoldBIDashboard?("True"==timeFormat?($("#start-date").BoldBIDashboardDateTimePicker(datePickerObj1),$("#end-date").BoldBIDashboardDateTimePicker(datePickerObj1)):($("#start-date").BoldBIDashboardDateTimePicker(datePickerObj2),$("#end-date").BoldBIDashboardDateTimePicker(datePickerObj2)),$("#start-date").BoldBIDashboardDateTimePicker(startDatePickerObj),$("#end-date").BoldBIDashboardDateTimePicker(endDatePickerObj)):("True"==timeFormat?($("#start-date").ejDateTimePicker(datePickerObj1),$("#end-date").ejDateTimePicker(datePickerObj1)):($("#start-date").ejDateTimePicker(datePickerObj2),$("#end-date").ejDateTimePicker(datePickerObj2)),$("#start-date").ejDateTimePicker(startDatePickerObj),$("#end-date").ejDateTimePicker(endDatePickerObj)),$("#start-date,#end-date").css({cursor:"default"}),$(".selectpicker").selectpicker(),$("#enable-schedule").on("click",function(){var e;$("#enable-schedule").prop("checked")?(e=createScheduleMessage(!1),$("#schedule-message").text(e)):$("#schedule-message").text(window.Server.App.Localization.ScheduleDisabled)}),$(document).on("focusout","#start-date, #end-date",function(){var e;""!=$("#start-date").val()&&""!=$("#end-date").val()||(e=createScheduleMessage(!1),$("#schedule-message").text(e))}),$(document).on("change","#schedule-end-type",function(){switch($("input[name=end-type]:checked","#schedule-end-type").val().toString()){case"never":case"endafter":$("#end-date-validator").css("display","none")}}),$(document).on("change","#recurrence-type",function(){var e=$(this).find("option:selected").val();switch($("#daily-schedule-option, #weekly-schedule-option, #monthly-schedule-option, #yearly-schedule-option,#frequency").css("display","none"),e.toString().toLowerCase()){case"daily":$("#daily-schedule-option").css("display","block"),$("#no-view-start,#no-view-end,#time-zone").css("display","inline");break;case"weekly":$("#weekly-schedule-option").css("display","block"),$("#no-view-start,#no-view-end,#time-zone").css("display","inline");break;case"monthly":$("#monthly-schedule-option").css("display","block"),$("#no-view-start,#no-view-end,#time-zone").css("display","inline");break;case"yearly":$("#yearly-schedule-option").css("display","block"),$("#no-view-start,#no-view-end,#time-zone").css("display","inline");break;case"hourly":$("#frequency").css("display","block"),$("#no-view-start,#no-view-end,#time-zone").css("display","inline")}e=createScheduleMessage(!1);$("#schedule-message").text(e)}),$(document).on("click",".css-radio",function(){$(this).siblings("label").removeClass("notransition")}),$(document).on("change","#days-check-box",function(){$('#days-check-box input[type="checkbox"]').is(":checked")&&$("#weekly-day-error-container").css("display","none")}),$(document).on("focusout","#occurence-count",function(){setTimeout(function(){var e=createScheduleMessage(!1);$("#schedule-message").text(e)},100)}),$(document).on("change",".change-event, input[type=radio][name=daily-recurrence-type], input[type=radio][name=end-type], input[type=radio][name=monthly], input[type=radio][name=yearly]",function(){var e=createScheduleMessage(!1);$("#schedule-message").text(e)}),$(document).ready(function(){if($(".schedule-dialog #time-intervals-div").css("display","inline"),$(".time-width").BoldBIDashboardTimePicker({timeFormat:"HH:mm",minutesInterval:5,minTime:"00:15",change:function(e){var t=createScheduleMessage(!1);$("#schedule-message").text(t)}}),$("#weekly-schedule-option,#monthly-schedule-option,#yearly-schedule-option,#daily-schedule-option").css("display","none"),"Create"==actionType)scheduleMessage=createScheduleMessage(!1),$("#schedule-message").text(scheduleMessage);else{switch($("#frequency").css("display","none"),recurrence.toLowerCase()){case"hourly":recurrenceType="Hourly",$("#frequency").css("display","block"),$("#hourly-schedule-option").css("display","block");var e=frequency%60<10?"0"+frequency%60:frequency%60,t=parseInt(frequency/60)<10?"0"+parseInt(frequency/60):parseInt(frequency/60);conversionToMinutes=t+":"+e,$("#frequency").find("input").val(conversionToMinutes);break;case"daily":recurrence="Daily",$("#daily-schedule-option").css("display","block"),$("#daily-every-x-days").prop("checked",!0),$("#every-x-days").data("ejNumericTextbox").option("value",itemRecurrence.DailySchedule.DaysInterval);break;case"dailyweekday":recurrence="Daily",$("#daily-schedule-option").css("display","block"),$("#daily-weekdays").prop("checked",!0);break;case"weekly":recurrence="Weekly",$("#weekly-schedule-option").css("display","block"),$("#every-x-weeks").data("ejNumericTextbox").option("value",itemRecurrence.WeeklySchedule.WeeksInterval),$("#sun").prop("checked",itemRecurrence.WeeklySchedule.DaysOfWeek.Sunday),$("#mon").prop("checked",itemRecurrence.WeeklySchedule.DaysOfWeek.Monday),$("#tues").prop("checked",itemRecurrence.WeeklySchedule.DaysOfWeek.Tuesday),$("#wed").prop("checked",itemRecurrence.WeeklySchedule.DaysOfWeek.Wednesday),$("#thu").prop("checked",itemRecurrence.WeeklySchedule.DaysOfWeek.Thursday),$("#fri").prop("checked",itemRecurrence.WeeklySchedule.DaysOfWeek.Friday),$("#sat").prop("checked",itemRecurrence.WeeklySchedule.DaysOfWeek.Saturday);break;case"monthly":recurrence="Monthly",$("#monthly-schedule-option").css("display","block"),$("#monthly").prop("checked",!0),$("#monthly-date").data("ejNumericTextbox").option("value",itemRecurrence.MonthlySchedule.DayOfMonth),$("#monthly-every-x-months").data("ejNumericTextbox").option("value",itemRecurrence.MonthlySchedule.Months);break;case"monthlydow":recurrence="Monthly",$("#monthly-schedule-option").css("display","block"),$("#monthly-dow").prop("checked",!0),$("#monthly-dow-week option[value='"+itemRecurrence.MonthlyDowSchedule.WeeksOfTheMonth+"']").attr("selected",!0),$("#monthly-dow-week").selectpicker("refresh"),$("#monthly-dow-day option[value='"+itemRecurrence.MonthlyDowSchedule.DaysOfTheWeek+"']").attr("selected",!0),$("#monthly-dow-day").selectpicker("refresh"),$("#monthly-dow-every-x-months").data("ejNumericTextbox").option("value",itemRecurrence.MonthlyDowSchedule.Months);break;case"yearly":recurrence="Yearly",$("#yearly-schedule-option").css("display","block"),$("#yearly").prop("checked",!0),$("#every-x-years").data("ejNumericTextbox").option("value",itemRecurrence.YearlySchedule.YearsInterval),$("#yearly-month option[value='"+itemRecurrence.YearlySchedule.MonthsOfTheYear+"']").attr("selected",!0),$("#yearly-month").selectpicker("refresh"),$("#yearly-day").data("ejNumericTextbox").option("value",itemRecurrence.YearlySchedule.DayOfMonth);break;case"yearlydow":recurrence="Yearly",$("#yearly-schedule-option").css("display","block"),$("#yearly-dow").prop("checked",!0),$("#every-x-years").data("ejNumericTextbox").option("value",itemRecurrence.YearlyDowSchedule.YearsInterval),$("#yearly-dow-week option[value='"+itemRecurrence.YearlyDowSchedule.WeeksOfTheMonth+"']").attr("selected",!0),$("#yearly-dow-week").selectpicker("refresh"),$("#yearly-dow-day option[value='"+itemRecurrence.YearlyDowSchedule.DaysOfTheWeek+"']").attr("selected",!0),$("#yearly-dow-day").selectpicker("refresh"),$("#yearly-dow-month option[value='"+itemRecurrence.YearlyDowSchedule.MonthsOfTheYear+"']").attr("selected",!0),$("#yearly-dow-month").selectpicker("refresh")}switch($("#enable-sunday,#enable-monday,#enable-tuesday,#enable-wednesday,#enable-thursday,#enable-friday,#enable-saturday").on("click",function(){isSafari&&$(this).find("label").toggleClass("check")}),$("#recurrence-type option[value='"+recurrence+"']").attr("selected",!0),$("#recurrence-type").selectpicker("refresh"),"edit"==actionType.toLowerCase()&&(startDate=item.StartDate),"undefined"!=typeof BoldBIDashboard?$("#start-date").BoldBIDashboardDateTimePicker({value:new Date(startDate)}):$("#start-date").ejDateTimePicker({value:new Date(startDate)}),endType.toString().toLowerCase()){case"noenddate":$("#no-end-date").prop("checked",!0),("undefined"!=typeof BoldBIDashboard?$("#start-date").data("BoldBIDashboardDateTimePicker"):$("#start-date").data("ejDateTimePicker")).model.value;break;case"enddate":"edit"==actionType.toLowerCase()&&(endDate=item.EndDate),$("#endBy").prop("checked",!0),"undefined"!=typeof BoldBIDashboard?$("#end-date").BoldBIDashboardDateTimePicker({value:new Date(endDate)}):$("#end-date").ejDateTimePicker({value:new Date(endDate)});break;case"endafter":$("#end-after").prop("checked",!0),$("#occurence-count").data("ejNumericTextbox").option("value",endAfter)}"edit"==actionType.toLowerCase()&&(scheduleMessage=createScheduleMessage(!1),$("#schedule-message").text(scheduleMessage))}addTitleForRecurrenceType(),"undefined"!=typeof BoldBIDashboard&&"function"==typeof parent.$("#popup-container_wrapper").BoldBIDashboardWaitingPopup?(parent.$("#popup-container_wrapper").BoldBIDashboardWaitingPopup("hide"),parent.$("#editpopup-container_wrapper").BoldBIDashboardWaitingPopup("hide")):(parent.$("#popup-container_wrapper").ejWaitingPopup("hide"),parent.$("#editpopup-container_wrapper").ejWaitingPopup("hide"))});