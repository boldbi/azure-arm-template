!function(g,j,S){function e(e,t){t&&t.onError&&!1===t.onError(e)||(this.name="JsRender Error",this.message=e||"JsRender error")}function C(e,t){for(var i in e=e||{},t)e[i]=t[i];return e}function t(e,t,i){return u.rTag&&!arguments.length||(n=e?e.charAt(0):n,a=e?e.charAt(1):a,r=t?t.charAt(0):r,l=t?t.charAt(1):l,e="\\"+n+"(\\"+(c=i||c)+")?\\"+a,t="\\"+r+"\\"+l,o="(?:(?:(\\w+(?=[\\/\\s\\"+r+"]))|(?:(\\w+)?(:)|(>)|!--((?:[^-]|-(?!-))*)--|(\\*)))\\s*((?:[^\\"+r+"]|\\"+r+"(?!\\"+l+"))*?)",u.rTag=o+")",o=new RegExp(e+o+"(\\/)?|(?:\\/(\\w+)))"+t,"g"),_=new RegExp("<.*>|([^\\\\]|^)[{}]|"+e+".*"+t)),[n,a,r,l,c]}function d(e,t){t||(t=e,e=S);var i,s,o,n,a=this,r=!t||"root"===t;if(e){if(!(n=a.type===t?a:S))if(i=a.views,a._.useKey){for(s in i)if(n=i[s].get(e,t))break}else for(s=0,o=i.length;!n&&s<o;s++)n=i[s].get(e,t)}else if(r)for(;a.parent.parent;)n=a=a.parent;else for(;a&&!n;)n=a.type===t?a:S,a=a.parent;return n}function h(){var e=this.get("item");return e?e.index:S}function p(e){var t,i=this,s=(i.ctx||{})[e];return(s=s===S?i.getRsc("helpers",e):s)&&"function"==typeof s&&C(t=function(){return s.apply(i,arguments)},s),t||s}function m(e,t){for(var i=this,s=O[e],o=s&&s[t];o===S&&i;)o=(s=i.tmpl[e])&&s[t],i=i.parent;return o}function w(e,t,i,s,o,n,a,r){var l="array"===t,r={key:0,useKey:l?0:1,id:""+Q++,onRender:r,bnds:{}},s={data:s,tmpl:o,content:a,views:l?[]:{},parent:i,ctx:e,type:t,get:d,getIndex:h,getRsc:m,hlp:p,_:r,_is:"view"};return i&&(o=i.views,(a=i._).useKey?(o[r.key="_"+a.useKey++]=s,t=a.tag,r.bnd=l&&(!t||!!t._.bnd&&t)):o.splice(r.key=s.index=n!==S?n:o.length,0,s),s.ctx=e||i.ctx),s}function f(t,e,i,s,o,n){function a(e){if(""+e===e||0<e.nodeType){try{r=0<e.nodeType?e:!_.test(e)&&j&&j(g.document).find(e)[0]}catch(e){}return r&&(e=r.getAttribute(v),t=t||e,(e=E[e])||(t=t||"_"+K++,r.setAttribute(v,t),e=E[t]=f(t,r.innerHTML,i,s,o,n))),e}}var r,l,d,h,c,u,p=a(e=e||"");if((n=n||(e.markup?e:{})).tmplName=t,i&&(n._parentTmpl=i),(p=!p&&e.markup&&(p=a(e.markup))&&p.fn&&(p.debug!==e.debug||p.allowCode!==e.allowCode)?p.markup:p)!==S){t&&!i&&(T[t]=function(){return e.render.apply(e,arguments)}),p.fn||e.fn?p.fn&&(e=t&&t!==p.tmplName?x(n,p):p):b(p,e=A(p,n));var m=n;for(l in k)if(c=k[l],(u=c.compile)&&(d=m[l+"s"]))for(h in d)d[h]=u(h,d[h],m,l,c);return e}}function A(e,t){var i,s=M.wrapMap||{},o=C({markup:e,tmpls:[],links:{},tags:{},bnds:[],_is:"template",render:D},t);return t.htmlTag||(i=V.exec(e),o.htmlTag=i?i[1].toLowerCase():""),(i=s[o.htmlTag])&&i!==s.div&&(o.markup=y.trim(o.markup),o._elCnt=!0),o}function B(l,d){var h=l+"s";O[h]=function e(t,i,s){var o,n,a,r;if(!t||""+t===t||t.nodeType||t.markup)return r=s?s[h]=s[h]||{}:e,i===S&&(i=t,t=S),n=d.compile,(o=u.onBeforeStoreItem)&&(n=o(r,t,i,n)||n),t?""+t===t&&(null===i?delete r[t]:r[t]=n?i=n(t,i,s,l,d):i):i=n(S,i),i&&(i._is=l),(o=u.onStoreItem)&&o(r,t,i,n),i;for(a in t)e(a,t[a],i);return O},k[l]=d}function D(e,t,i,s,o,n){var a,r,l,d,h,c,u,p,m,g,f,b=this,_=!b.attr||"html"===b.attr,v="";if(!0===s&&(c=!0,s=0),b.tag?(p=(b=(m=b).tag)._,g=b.tagName,f=m.tmpl,t=x(t,b.ctx),u=m.content,!1===m.props.link&&((t=t||{}).link=!1),i=i||m.view,e=e===S?i:e):f=b.jquery&&(b[0]||$('Unknown template: "'+b.selector+'"'))||b,f&&((i=!i&&e&&"view"===e._is?e:i)&&(u=u||i.content,n=n||i._.onRender,e===i&&(e=i.data,o=!0),t=x(t,i.ctx)),i&&i.data!==S||((t=t||{}).root=e),f=f.fn?f:E[f]||E(f))){if(!0===(m=n=!1!==(t&&t.link)&&_&&n)&&(m=S,n=i._.onRender),y.isArray(e)&&!o)for(l=c?i:s!==S&&i||w(t,"array",i,e,f,s,u,n),a=0,r=e.length;a<r;a++)d=w(t,"item",l,h=e[a],f,(s||0)+a,u,n),h=f.fn(h,d,O),v+=l._.onRender?l._.onRender(h,d):h;else l=c?i:w(t,g||"data",i,e,f,s,u,n),p&&!b.flow&&(l.tag=b),v+=f.fn(e,l,O);return m?m(v,l):v}return""}function $(e){if(M.debugMode)throw new O.sub.Error(e)}function L(e){$("Syntax error\n"+e)}function b(m,e,g,f){function b(e){(e-=y)&&C.push(m.substr(y,e).replace(P,"\\n"))}function _(e){e&&L('Unmatched or missing tag: "{{/'+e+'}}" in template:\n'+m)}var v,w=e&&e.allowCode,t=[],y=0,S=[],C=t,D=[,,,t];return m=m.replace(R,"\\$1"),_(S[0]&&S[0][3].pop()[0]),m.replace(o,function(e,t,i,s,o,n,a,r,l,d,h,c){n&&(o=":",s="html");var n=t&&[],t="",u="",p="",d=!(d=d||g)&&!o&&!a;i=i||o,b(c),y=c+e.length,r?w&&C.push(["*","\n"+l.replace(U,"$1")+"\n"]):i?("else"===i&&(F.test(l)&&L('for "{{else if expr}}" use "{{else expr}}"'),n=D[6],D[7]=m.substring(D[7],c),D=S.pop(),C=D[3],d=!0),l&&(t=I(l=l.replace(P," "),n).replace(W,function(e,t,i){return t?p+=i+",":u+=i+",",""})),u=u.slice(0,-1),t=t.slice(0,-1),a=u&&u.indexOf("noerror:true")+1&&u||"",v=[i,s||!!f||"",t,d&&[],'params:"'+l+'",props:{'+u+"}"+(p?",ctx:{"+p.slice(0,-1)+"}":""),a,n||0],C.push(v),d&&(S.push(D),(D=v)[7]=y)):h&&(_(h!==(o=D[0])&&"else"!==o&&h),D[7]=m.substring(D[7],c),D=S.pop()),_(!D&&h),C=D[3]}),b(m.length),(y=t[t.length-1])&&_(""+y!==y&&+y[7]===y[7]&&y[0]),function e(t,i,s){var o,n,a,r,l,d,h,c,u,p,m,g,f,b,_,v,w,y,S,C,D,$,I=0,x="",T="",k={},O=t.length;for(""+i===i?(f=s?'data-link="'+i.replace(P," ").slice(1,-1)+'"':i,i=0):(f=i.tmplName||"unnamed",i.allowCode&&(k.allowCode=!0),i.debug&&(k.debug=!0),p=i.bnds,g=i.tmpls),o=0;o<O;o++)if(C=t[o],""+C===C)x+='\nret+="'+C+'";';else if(n=C[0],"*"===n)x+=""+C[1];else{if(a=C[1],r=C[2],_=C[3],l=C[4],T=C[5],v=C[7],(S="else"===n)||(I=0,p&&(m=C[6])&&(I=p.push(m))),(C=":"===n)?(a&&(n="html"===a?">":a+n),T&&(T="try{var "+(D="prm"+o)+"=["+r+"][0];}catch(e){"+D+'="";}\n',r=D)):(_&&((D=A(v,k)).tmplName=f+"/"+n,e(_,D),g.push(D)),S||(b=n,y=x,x="",0),w=(w=t[o+1])&&"else"===w[0]),l+=",args:["+r+"]}",C&&m||a&&">"!==n){if(($=new Function("data,view,j,u"," // "+f+" "+I+" "+n+"\n"+T+"return {"+l+";")).paths=m,$._ctxs=n,s)return $;u=!0}if(x+=C?"\n"+(m?"":T)+(s?"return ":"ret+=")+(u?(u=!0,'c("'+a+'",view,'+(m?(p[I-1]=$,I):"{"+l)+");"):">"===n?(h=!0,"h("+r+");"):(c=!0,"(v="+r+")!="+(s?"=":"")+'u?v:"";')):(d=!0,"{tmpl:"+(_?g.length:"0")+","+l+","),b&&!w){if(x="["+x.slice(0,-1)+"]",(s||m)&&(x=new Function("data,view,j,u"," // "+f+" "+I+" "+b+"\nreturn "+x+";"),m&&((p[I-1]=x).paths=m),x._ctxs=n,s))return x;x=y+'\nret+=t("'+b+'",view,this,'+(I||x)+");",b=m=0}}x="// "+f+"\nvar j=j||"+(j?"jQuery.":"js")+"views"+(c?",v":"")+(d?",t=j._tag":"")+(u?",c=j._cnvt":"")+(h?",h=j.converters.html":"")+(s?";\n":',ret="";\n')+(M.tryCatch?"try{\n":"")+(k.debug?"debugger;":"")+x+(s?"\n":"\nreturn ret;\n")+(M.tryCatch?"\n}catch(e){return j._err(e);}":"");try{x=new Function("data,view,j,u",x)}catch(e){L("Compiled template code:\n\n"+x)}return i&&(i.fn=x),x}(t,e||m,g)}function I(v,w){var y,S,C={},D={0:-1},$=0,I=!1,x=!1;return(v+" ").replace(H,function(e,t,i,r,s,o,n,a,l,d,h,c,u,p,m,g,f,b,_){if(s=s||"",i=i||t||h,r=r||a,w&&m&&w.push({_jsvOb:_.slice(D[$-1]+1,b+1)}),l=l||g||"",!o)return x?(x=!c)?e:'"':I?(I=!u)?e:'"':(i?(D[++$]=b,i):"")+(f?$?"":y?(y=S=!1,"\b"):",":n?($&&L(v),S="~"===(y=r).charAt(0),"\b"+r+":"):r?r.split("^").join(".").replace(z,function(e,t,i,s,o,n,a){return t&&(w&&!S&&w.push(r),"."!==t)?(n=(i?'view.hlp("'+i+'")':s?"view":"data")+(a?(o?"."+o:i||s?"":"."+t)+(n||""):(a=i?"":s?o||"":t,"")),"view.data"===(n+=a?"."+a:"").slice(0,9)?n.slice(5):n):e})+(l?(C[++$]=!0,l):s):s||(p?(C[$--]=!1,p+(l?(C[++$]=!0,l):"")):d?(C[$]||L(v),","):t?"":(x=c,I=u,'"')));L(v)})}function x(e,t){return e&&e!==t?t?C(C({},t),e):e:t&&C({},t)}function i(e){return Y[e]}if(!(j&&j.views||g.jsviews)){var y,s,o,_,n="{",a="{",r="}",l="}",c="^",z=/^(?:null|true|false|\d[\d.]*|([\w$]+|\.|~([\w$]+)|#(view|([\w$]+))?)([\w$.^]*?)(?:[.[^]([\w$]+)\]?)?)$/g,H=/(\()(?=\s*\()|(?:([([])\s*)?(?:([#~]?[\w$.^]+)?\s*((\+\+|--)|\+|-|&&|\|\||===|!==|==|!=|<=|>=|[<>%*!:?\/]|(=))\s*|([#~]?[\w$.^]+)([([])?)|(,\s*)|(\(?)\\?(?:(')|("))|(?:\s*((\))(?=\s*\.|\s*\^)|\)|\])([([]?))|(\s+)/g,P=/\s*\n/g,U=/\\(['"])/g,R=/([\\'"])/g,W=/\x08(~)?([^\x08]+)\x08/g,F=/^if\s/,V=/<(\w+)[>\s]/,q=/[<"'&]/g,G=/[><"'&]/g,K=0,Q=0,Y={"&":"&amp;","<":"&lt;",">":"&gt;","\0":"&#0;","'":"&#39;",'"':"&#34;"},v="data-jsv-tmpl",T={},k={template:{compile:f},tag:{compile:function(e,t,i){var s;return"function"==typeof t?t={depends:t.depends,render:t}:((s=t.template)&&(t.template=""+s===s?E[s]||E(s):s),!1!==t.init&&((s=t.init=t.init||function(){}).prototype=t,(s.prototype=t).constructor=s)),i&&(t._parentTmpl=i),t}},helper:{},converter:{}},O={jsviews:"v1.0pre",render:T,View:w,settings:{delimiters:t,debugMode:!0,tryCatch:!0},sub:{Error:e,tmplFn:b,parse:I,extend:C,error:$,syntaxError:L},_cnvt:function(e,t,i){var s,o=+i===i&&i,n=t.linkCtx,a=(i=o?(o=t.tmpl.bnds[o-1])(t.data,t,O):i).args[0];return(e||o)&&((s=n&&n.tag||{_:{inline:!n},tagName:e+":",flow:!0,_is:"tag"})._.bnd=o,n&&((n.tag=s).linkCtx=n,i.ctx=x(i.ctx,n.view.ctx)),(s.tagCtx=i).view=t,s.ctx=i.ctx||{},delete i.ctx,t._.tag=s,(e="true"!==e&&e)&&((n=t.getRsc("converters",e))?(s.depends=n.depends,a=n.apply(s,i.args)):$("Unknown converter: {{"+e+":")),a=o&&t._.onRender?t._.onRender(a,t,o):a),a},_tag:function(e,t,i,s){var o,n,a,r,l,d,h,c,u,p,m,g,f="",b=+s===s&&s,_=t.linkCtx||0,v=t.ctx,w=i||t.tmpl,y=t._;for("tag"===e._is&&(e=(n=e).tagName),h=(s=b?(m=w.bnds[b-1])(t.data,t,O):s).length,n=n||_.tag,d=0;d<h;d++)p=(u=s[d]).tmpl,p=u.content=p&&w.tmpls[p-1],i=u.props.tmpl,d||i&&n||(g=t.getRsc("tags",e)||$("Unknown tag: {{"+e+"}}")),C(u,{tmpl:i=""+(i=i||!d&&g.template||p)===i?t.getRsc("templates",i)||E(i):i,render:D,index:d,view:t,ctx:x(u.ctx,v)}),n||(g.init?(n=new g.init(u,_,v)).attr=n.attr||g.attr||S:n={render:g.render},n._={inline:!_},_&&(_.attr=n.attr=_.attr||n.attr,(_.tag=n).linkCtx=_),(n._.bnd=m||_)&&(n._.arrVws={}),n.tagName=e,n.parent=l=v&&v.tag,n._is="tag"),y.tag=n,(u.tag=n).tagCtxs=s,n.rendering={},n.flow||(a=(p=u.ctx=u.ctx||{}).parentTags=v&&x(p.parentTags,v.parentTags)||{},l&&(a[l.tagName]=l),p.tag=n);for(d=0;d<h;d++)u=n.tagCtx=s[d],n.ctx=u.ctx,f+=(c=(o=n.render)?o.apply(n,u.args):c)!==S?c:u.tmpl?u.render():"";return delete n.rendering,n.tagCtx=n.tagCtxs[0],n.ctx=n.tagCtx.ctx,n._.inline&&(r=n.attr)&&"html"!==r&&(f="text"===r?N.html(f):""),b&&t._.onRender?t._.onRender(f,t,b):f},_err:function(e){return M.debugMode?"Error: "+(e.message||e)+". ":""}};for(s in(e.prototype=new Error).constructor=e,h.depends=function(){return[this.get("item"),"index"]},k)B(s,k[s]);var E=O.templates,N=O.converters,X=(O.helpers,O.tags),u=O.sub,M=O.settings;j?(y=j).fn.render=D:(y=g.jsviews={}).isArray=Array&&Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)},y.render=T,y.views=O,y.templates=E=O.templates,X({else:function(){},if:{render:function(e){var t=this;return t.rendering.done||!e&&(arguments.length||!t.tagCtx.index)?"":(t.rendering.done=!0,t.selected=t.tagCtx.index,t.tagCtx.render())},onUpdate:function(e,t,i){for(var s,o,n=0;(s=this.tagCtxs[n])&&s.args.length;n++)if(o=!(s=s.args[0])!=!i[n].args[0],s||o)return o;return!1},flow:!0},for:{render:function(e){var t=this.tagCtx,i=!arguments.length,s="",o=i||0;return!this.rendering.done&&(i?s=S:e!==S&&(s+=t.render(e),o+=y.isArray(e)?e.length:1),this.rendering.done=o)&&(this.selected=t.index),s},onUpdate:function(){},onArrayChange:function(e,t){var i,s=t.change;if(this.tagCtxs[1]&&("insert"===s&&e.target.length===t.items.length||"remove"===s&&!e.target.length||"refresh"===s&&!t.oldItems.length!=!e.target.length))this.refresh();else for(i in this._.arrVws)i=this._.arrVws[i],i.data===e.target&&i._.onArrayChange.apply(i,arguments);e.done=!0},flow:!0},include:{flow:!0},"*":{render:function(e){return e},flow:!0}}),N({html:function(e){return e!=S?String(e).replace(G,i):""},attr:function(e){return e!=S?String(e).replace(q,i):null===e?null:""},url:function(e){return e!=S?encodeURI(String(e)):null===e?null:""}}),t()}}(this,this.jQuery),function(e){"function"==typeof define&&define.amd?define(["jquery"],e):e()}(function(){var e,g,f,d,n,b,o,r,s,a,_,v,t,l;window.ej=window.Syncfusion=window.Syncfusion||{},g=window.jQuery,(f=window.Syncfusion).version="14.4.0.15",f.consts={NamespaceJoin:"-"},f.TextAlign={Center:"center",Justify:"justify",Left:"left",Right:"right"},f.Orientation={Horizontal:"horizontal",Vertical:"vertical"},f.serverTimezoneOffset=0,f.persistStateVersion=null,Object.prototype.hasOwnProperty||(Object.prototype.hasOwnProperty=function(e,t){return e[t]!==d}),String.format=function(){for(var e=arguments[0],t=0;t<arguments.length-1;t++)e=e.replace(new RegExp("\\{"+t+"\\}","gm"),arguments[t+1]);return e.replace(/\{[0-9]\}/g,"")},jQuery.uaMatch=function(e){e=e.toLowerCase();e=/(chrome)[ \/]([\w.]+)/.exec(e)||/(webkit)[ \/]([\w.]+)/.exec(e)||/(opera)(?:.*version|)[ \/]([\w.]+)/.exec(e)||/(msie) ([\w.]+)/.exec(e)||e.indexOf("compatible")<0&&/(mozilla)(?:.*? rv:([\w.]+)|)/.exec(e)||[];return{browser:e[1]||"",version:e[2]||"0"}},f.defineClass=function(e,t,i,s){if(!e||!i)return d;for(var o=e.split("."),n=window,a=0;a<o.length-1;a++)f.isNullOrUndefined(n[o[a]])&&(n[o[a]]={}),n=n[o[a]];return(s||f.isNullOrUndefined(n[o[a]]))&&(n[o[a]]=t="function"==typeof t?t:function(){},n[o[a]].prototype=i),n[o[a]]},f.util={getNameSpace:function(e){e=e.toLowerCase().split(".");return"ej"===e[0]&&(e[0]="e"),e.join(f.consts.NamespaceJoin)},getObject:function(e,t){var i,s,o;if(!t)return d;for(i=t,s=e.split("."),o=0;o<s.length&&!f.util.isNullOrUndefined(i);o++)i=i[s[o]];return i},createObject:function(e,t,i){for(var s,o=e.split("."),e=i||window,n=e,a=o.length,r=0;r<a;r++)s=o[r],r+1==a?n[s]=t===d?{}:t:f.isNullOrUndefined(n[s])&&(n[s]={}),n=n[s];return e},isNullOrUndefined:function(e){return e===d||null===e},print:function(e,t){var i,s=f.buildTag("div"),e=e.clone();s.append(e),(t=t||window.open("","print","height=452,width=1024,tabbar=no")).document.write("<!DOCTYPE html>"),e=g("head").find("link").add("style"),"msie"===f.browserInfo().name?(i="",e.each(function(e,t){"LINK"==t.tagName&&g(t).attr("href",t.href),i+=t.outerHTML}),t.document.write("<html><head></head><body>"+i+s[0].innerHTML+"</body></html>")):(i="",t.document.write("<html><head>"),e.each(function(e,t){"LINK"==t.tagName&&g(t).attr("href",t.href),i+=t.outerHTML}),t.document.writeln(i+"</head><body>"),t.document.writeln(s[0].innerHTML+"</body></html>")),t.document.close(),t.focus(),setTimeout(function(){f.isNullOrUndefined(t.window)||(t.print(),setTimeout(function(){t.close()},1e3))},1e3)},ieClearRemover:function(e){var t=g(e).height();e.style.paddingTop=parseFloat(t/2)+"px",e.style.paddingBottom=parseFloat(t/2)+"px",e.style.height="1px",e.style.lineHeight="1px"},sendAjaxRequest:function(e){g.ajax({type:e.type,cache:e.cache,url:e.url,dataType:e.dataType,data:e.data,contentType:e.contentType,async:e.async,success:e.successHandler,error:e.errorHandler,beforeSend:e.beforeSendHandler,complete:e.completeHandler})},buildTag:function(e,t,i,s){var o=/^[a-z]*[0-9a-z]+/gi.exec(e)[0],n=(n=/#([_a-z]+[-_0-9a-z]+)/gi.exec(e))?n[n.length-1]:d,e=/\.([a-z]+[-_0-9a-z ]+)/gi.exec(e);return e=e?e[e.length-1]:d,g(document.createElement(o)).attr(n?{id:n}:{}).addClass(e||"").css(i||{}).attr(s||{}).html(t||"")},_preventDefaultException:function(e,t){if(e)for(var i in t)if(t[i].test(e[i]))return!0;return!1},getMaxZindex:function(){var e=1;return e=(e=Math.max.apply(null,g.map(g("body *"),function(e){if("absolute"==g(e).css("position")||"fixed"==g(e).css("position"))return parseInt(g(e).css("z-index"))||1})))!=d&&null!=e?e:1},blockDefaultActions:function(e){e.cancelBubble=!0,e.returnValue=!1,e.preventDefault&&e.preventDefault(),e.stopPropagation&&e.stopPropagation()},getDimension:function(e,t){var i,s,o,n=g(e).parents().andSelf().filter(":hidden");return n&&(s={visibility:"hidden",display:"block"},o=[],n.each(function(){var e,t={};for(e in s)t[e]=this.style[e],this.style[e]=s[e];o.push(t)}),i=/(outer)/g.test(t)?g(e)[t](!0):g(e)[t](),n.each(function(e){var t,i=o[e];for(t in s)this.style[t]=i[t]})),i},transitionEndEvent:function(){return{"":"transitionend",webkit:"webkitTransitionEnd",Moz:"transitionend",O:"otransitionend",ms:"MSTransitionEnd"}[f.userAgent()]},animationEndEvent:function(){return{"":"animationend",webkit:"webkitAnimationEnd",Moz:"animationend",O:"webkitAnimationEnd",ms:"animationend"}[f.userAgent()]},startEvent:function(){return f.isTouchDevice()||g.support.hasPointer?"touchstart":"mousedown"},endEvent:function(){return f.isTouchDevice()||g.support.hasPointer?"touchend":"mouseup"},moveEvent:function(){return f.isTouchDevice()||g.support.hasPointer?g.support.hasPointer&&!f.isMobile()?"ejtouchmove":"touchmove":"mousemove"},cancelEvent:function(){return f.isTouchDevice()||g.support.hasPointer?"touchcancel":"mousecancel"},tapEvent:function(){return f.isTouchDevice()||g.support.hasPointer?"tap":"click"},tapHoldEvent:function(){return f.isTouchDevice()||g.support.hasPointer?"taphold":"click"},isDevice:function(){return f.getBooleanVal(g("head"),"data-ej-forceset",!1)?f.getBooleanVal(g("head"),"data-ej-device",this._device()):this._device()},isPortrait:function(){var e=document.documentElement;return e&&e.clientWidth/e.clientHeight<1.1},isLowerResolution:function(){return window.innerWidth<=640&&f.isPortrait()&&f.isDevice()||window.innerWidth<=800&&!f.isDevice()||window.innerWidth<=800&&!f.isPortrait()&&f.isWindows()&&f.isDevice()||f.isMobile()},isIOSWebView:function(){return/(iPhone|iPod|iPad).*AppleWebKit(?!.*Safari)/i.test(navigator.userAgent)},isAndroidWebView:function(){return!("undefined"==typeof Android)},isWindowsWebView:function(){return-1!=location.href.indexOf("x-wmapp")},_device:function(){return/Android|BlackBerry|iPhone|iPad|iPod|IEMobile|kindle|windows\sce|palm|smartphone|iemobile|mobile|pad|xoom|sch-i800|playbook/i.test(navigator.userAgent.toLowerCase())},isMobile:function(){return/iphone|ipod|android|blackberry|opera|mini|windows\sce|palm|smartphone|iemobile/i.test(navigator.userAgent.toLowerCase())&&/mobile/i.test(navigator.userAgent.toLowerCase())||!0===f.getBooleanVal(g("head"),"data-ej-mobile",!1)},isTablet:function(){return/ipad|xoom|sch-i800|playbook|tablet|kindle/i.test(navigator.userAgent.toLowerCase())||!0===f.getBooleanVal(g("head"),"data-ej-tablet",!1)||!f.isMobile()&&f.isDevice()},isTouchDevice:function(){return("ontouchstart"in window||window.navigator.msPointerEnabled&&f.isMobile())&&this.isDevice()},getClearString:function(e){return g.trim(e.replace(/\s+/g," ").replace(/(\r\n|\n|\r)/gm,"").replace(new RegExp(">[\n\t ]+<","g"),"><"))},getBooleanVal:function(e,t,i){e=g(e).attr(t);return null!=e?"true"==e.toLowerCase():i},_getSkewClass:function(e,t,i){var s=e.width(),o=e.height(),n=e.offset().left,a=e.offset().left+s,r=e.offset().top,e=e.offset().top+o,s=.3*s,o=.3*o;return t<n+s&&i<r+o?"e-m-skew-topleft":a-s<t&&i<r+o?"e-m-skew-topright":a-s<t&&e-o<i?"e-m-skew-bottomright":t<n+s&&e-o<i?"e-m-skew-bottomleft":n+s<t&&i<r+o&&t<a-s?"e-m-skew-top":t<n+s?"e-m-skew-left":a-s<t?"e-m-skew-right":e-o<i?"e-m-skew-bottom":"e-m-skew-center"},_removeSkewClass:function(e){g(e).removeClass("e-m-skew-top e-m-skew-bottom e-m-skew-left e-m-skew-right e-m-skew-topleft e-m-skew-topright e-m-skew-bottomleft e-m-skew-bottomright e-m-skew-center e-skew-top e-skew-bottom e-skew-left e-skew-right e-skew-topleft e-skew-topright e-skew-bottomleft e-skew-bottomright e-skew-center")},_getObjectKeys:function(e){var t,i=[];if(e=Object.prototype.toString.call(e)===Object.prototype.toString()?e:{},!Object.keys){for(t in e)e.hasOwnProperty(t)&&i.push(t);return i}if(Object.keys)return Object.keys(e)},_touchStartPoints:function(e,t){e&&(e=e.touches?e.touches[0]:e,t._distX=0,t._distY=0,t._moved=!1,t._pointX=e.pageX,t._pointY=e.pageY)},_isTouchMoved:function(e,t){var i,s;if(e)return s=(e=e.touches?e.touches[0]:e).pageX-t._pointX,i=e.pageY-t._pointY,Date.now(),t._pointX=e.pageX,t._pointY=e.pageY,t._distX+=s,t._distY+=i,e=Math.abs(t._distX),s=Math.abs(t._distY),!(e<5&&s<5)},listenEvents:function(e,t,i,s,o,n){for(var a=0;a<e.length;a++)f.listenTouchEvent(e[a],t[a],i[a],s,o,n)},listenTouchEvent:function(e,t,i,s,o,n){for(var a,r=s?"removeEventListener":"addEventListener",l=s?"off":"on",d=g(e),h=0;h<d.length;h++)switch(a=d[h],t){case"touchstart":f._bindEvent(a,r,t,i,"mousedown","MSPointerDown","pointerdown",n);break;case"touchmove":f._bindEvent(a,r,t,i,"mousemove","MSPointerMove","pointermove",n);break;case"touchend":f._bindEvent(a,r,t,i,"mouseup","MSPointerUp","pointerup",n);break;case"touchcancel":f._bindEvent(a,r,t,i,"mousecancel","MSPointerCancel","pointercancel",n);break;case"tap":case"taphold":case"ejtouchmove":case"click":g(a)[l](t,i);break;default:"msie"==f.browserInfo().name&&f.browserInfo().version<9?o._on(g(a),t,i):a[r](t,i,!0)}},_bindEvent:function(e,t,i,s,o,n,a){g.support.hasPointer?e[t](window.navigator.pointerEnabled?a:n,s,!0):e[t](i,s,!0)},_browser:function(){return/webkit/i.test(navigator.appVersion)?"webkit":/firefox/i.test(navigator.userAgent)?"Moz":/trident/i.test(navigator.userAgent)?"ms":"opera"in window?"O":""},styles:document.createElement("div").style,userAgent:function(){for(var e="webkitT,t,MozT,msT,OT".split(","),t=0,i=e.length;t<i;t++)if(e[t]+"ransform"in f.styles)return e[t].substr(0,e[t].length-1);return!1},addPrefix:function(e){return""===f.userAgent()?e:(e=e.charAt(0).toUpperCase()+e.substr(1),f.userAgent()+e)},destroyWidgets:function(e){g(e).find("[data-role *= ejm]").each(function(e,t){var t=g(t),i=t.data("ejWidgets");i&&t[i]("destroy")})},getAttrVal:function(e,t,i){e=g(e).attr(t);return null!=e?e:i},getOffset:function(e){var t={},e=e.offset()||{left:0,top:0};return g.extend(!0,t,e),"static"!=g("body").css("position")&&(e=g("body").offset(),t.left-=e.left,t.top-=e.top),t},getZindexPartial:function(e,t){var i,s,o;if(!f.isNullOrUndefined(e)&&0<e.length)return i=e.parents(),s=g("body").children(),!f.isNullOrUndefined(e)&&0<e.length&&s.splice(s.index(t),1),g(s).each(function(e,t){i.push(t)}),!(o=Math.max.apply(o,g.map(i,function(e){if("static"!=g(e).css("position"))return parseInt(g(e).css("z-index"))||1})))||o<1e4?o=1e4:o+=1,o},isValidAttr:function(e,t){var i;return void 0!==(e=g(e)[0])[t]||(i=!1,g.each(e,function(e){if(e.toLowerCase()==t.toLowerCase())return!(i=!0)}),i)}},g.extend(f,f.util),f.widgetBase={droppables:{default:[]},resizables:{default:[]},_renderEjTemplate:function(e,t,i,s){var o=null;return(o="object"==typeof e||e.startsWith("#")||e.startsWith(".")?g(e).attr("type"):o)&&(o=o.toLowerCase(),f.template[o])?f.template[o](this,e,t,i,s):f.template.render(this,e,t,i,s)},destroy:function(){var e,t,i,s;if(!this._trigger("destroy")){this.model.enablePersistence&&(this.persistState(),g(window).off("unload",this._persistHandler));try{this._destroy()}catch(e){}for(e=this.element.data("ejWidgets")||[],s=0;s<e.length;s++)e[s]==this.pluginName&&e.splice(s,1);for(e.length||this.element.removeData("ejWidgets");this._events&&(i=[],t=this._events.pop());){for(s=0;s<t[1].length;s++)g.isPlainObject(t[1][s])||i.push(t[1][s]);g.fn.off.apply(t[0],i)}this._events=null,this.element.removeClass(f.util.getNameSpace(this.sfType)).removeClass("e-js").removeData(this.pluginName),this.element=null,this.model=null}},_on:function(e){this._events||(this._events=[]);for(var t=[].splice.call(arguments,1,arguments.length-1),i={},s=t.length;i&&"function"!=typeof i;)i=t[--s];return t[s]=f.proxy(t[s],this),this._events.push([e,t,i,t[s]]),g.fn.on.apply(e,t),this},_off:function(e,t,i,s){var o,n,a,r,l=this._events;if(l&&l.length)for("function"==typeof i&&(o=s,s=i,i=o),n=t.match(/\S+/g)||[""],a=0;a<l.length;a++)if((r=l[a])[0].length&&(!s||r[2]===s)&&(r[1][0]===t||n[0])&&(!i||r[1][1]===i)&&-1<g.inArray(e[0],r[0])){g.fn.off.apply(e,s?[t,i,r[3]]:[t,i]),l.splice(a,1);break}return this},_trigger:function(e,t){var i,s,o=null,n={};return g.extend(n,t),(o=e in this.model?this.model[e]:o)&&("string"==typeof o&&(o=f.util.getObject(o,window)),g.isFunction(o))&&(i=f.event(e,this.model,t),o=o.call(this,i),(s=this.model._applyScope)&&s.call(),t&&g.extend(t,i),i.cancel||!f.isNullOrUndefined(o))?!1===o||i.cancel:(s=Boolean(t),(t=t||{}).originalEventType=e,t.type=this.pluginName+e,i=g.Event(t.type,f.event(t.type,this.model,t)),this.element.trigger(i),s&&g.extend(t,i),f.isOnWebForms&&0==i.cancel&&this.model.serverEvents&&this.model.serverEvents.length&&f.raiseWebFormsServerEvents(e,t,n),i.cancel)},setModel:function(e,t){var i,s,o;if(!this._trigger("modelChange",{changes:e})){for(i in e){if(!t){if(this.model[i]===e[i]){delete e[i];continue}if(g.isPlainObject(e[i])&&(n(this.model[i],e[i]),g.isEmptyObject(e[i]))){delete e[i];continue}}if(this.dataTypes&&!0!==(s=this._isValidModelValue(i,this.dataTypes,e)))throw"setModel - Invalid input for property :"+i+" - "+s;this.model.notifyOnEachPropertyChanges&&this.model[i]!==e[i]&&(s={oldValue:this.model[i],newValue:e[i]},e[i]=this._trigger(i+"Change",s)?this.model[i]:s.newValue)}g.isEmptyObject(e)||(this._setFirst?((o=e.dataSource)&&delete e.dataSource,g.extend(!0,this.model,e),o&&(this.model.dataSource=o instanceof Array?o.slice():o,e.dataSource=this.model.dataSource),this._setModel&&this._setModel(e)):this._setModel&&!1===this._setModel(e)||g.extend(!0,this.model,e),"enablePersistence"in e&&this._setState(e.enablePersistence))}},option:function(e,t,i){if(!e)return this.model;if(g.isPlainObject(e))return this.setModel(e,i);if("string"==typeof e){e=e.replace(/^model\./,"");var s=f.getObject(e,this.model);if(t===d&&!i)return s;if("enablePersistence"===e)return this._setState(t);if(i&&t===f.extensions.modelGUID)return this._setModel(f.createObject(e,f.getObject(e,this.model),{}));if(i||f.getObject(e,this.model)!==t)return this.setModel(f.createObject(e,t,{}),i)}return d},_isValidModelValue:function(e,t,i){var s,o,n,a=t[e],r=i[e];if(a){if("string"==typeof a){if("enum"==a&&(i[e]=r&&r.toString().toLowerCase(),a="string"),"array"===a){if("[object Array]"===Object.prototype.toString.call(r))return!0}else if("data"===a||"parent"===a||typeof r===a)return!0;return"Expected type - "+a}if(r instanceof Array){for(o=0;o<r.length;o++)if(!0!==(s=this._isValidModelValue(e,t,r[o])))return" ["+o+"] - "+s}else for(n in r)if(s=this._isValidModelValue(n,a,r),!0!==s)return n+" : "+s}return!0},_returnFn:function(e,t){-1!=t.indexOf(".")?this._returnFn(e[t.split(".")[0]],t.split(".").slice(1).join(".")):e[t]=e[t].call(e.propName)},stringify:function(e){for(var t,i=this.observables,s=0;s<i.length;s++)t=f.getObject(i[s],e),f.isNullOrUndefined(t)||"function"!=typeof t||this._returnFn(e,i[s]);return JSON.stringify(e)},_setState:function(e){!0===e?(this._persistHandler=f.proxy(this.persistState,this),g(window).on("unload",this._persistHandler)):(this.deleteState(),g(window).off("unload",this._persistHandler))},_removeProp:function(e,t){f.isNullOrUndefined(e)||(-1!=t.indexOf(".")?this._removeProp(e[t.split(".")[0]],t.split(".").slice(1).join(".")):delete e[t])},persistState:function(){var e,t;if(this._ignoreOnPersist){for(e=_({},this.model),t=0;t<this._ignoreOnPersist.length;t++)this._removeProp(e,this._ignoreOnPersist[t]);e.ignoreOnPersist=this._ignoreOnPersist}else if(this._addToPersist){for(e={},t=0;t<this._addToPersist.length;t++)f.createObject(this._addToPersist[t],f.getObject(this._addToPersist[t],this.model),e);e.addToPersist=this._addToPersist}else e=_({},this.model);this._persistState&&(e.customPersists={},this._persistState(e.customPersists)),window.localStorage?(f.isNullOrUndefined(f.persistStateVersion)||null!=window.localStorage.getItem("persistKey")||window.localStorage.setItem("persistKey",f.persistStateVersion),window.localStorage.setItem("$ej$"+this.pluginName+this._id,JSON.stringify(e))):document.cookie&&(f.isNullOrUndefined(f.persistStateVersion)||null!=f.cookie.get("persistKey")||f.cookie.set("persistKey",f.persistStateVersion),f.cookie.set("$ej$"+this.pluginName+this._id,e))},deleteState:function(){window.localStorage?window.localStorage.removeItem("$ej$"+this.pluginName+this._id):document.cookie&&f.cookie.set("$ej$"+this.pluginName+this._id,model,new Date)},restoreState:function(e){var t,i,s=null;if(window.localStorage?s=window.localStorage.getItem("$ej$"+this.pluginName+this._id):document.cookie&&(s=f.cookie.get("$ej$"+this.pluginName+this._id)),s&&(t=JSON.parse(s),this._restoreState&&(this._restoreState(t.customPersists),delete t.customPersists),!1===f.isNullOrUndefined(t))&&(f.isNullOrUndefined(t.ignoreOnPersist)?f.isNullOrUndefined(t.addToPersist)||(this._addToPersist=t.addToPersist,delete t.addToPersist):(this._ignoreOnPersist=t.ignoreOnPersist,delete t.ignoreOnPersist)),f.isNullOrUndefined(t)||f.isNullOrUndefined(this._ignoreOnPersist))this.model=g.extend(!0,this.model,t);else{for(i in this._ignoreOnPersist)-1!==this._ignoreOnPersist[i].indexOf(".")?f.createObject(this._ignoreOnPersist[i],f.getObject(this._ignoreOnPersist[i],this.model),t):t[this._ignoreOnPersist[i]]=this.model[this._ignoreOnPersist[i]];this.model=t}!e&&s&&this._setModel&&this._setModel(this.model)},ignoreOnPersist:function(e){var t,i,s=[];if("object"==typeof e?s=e:"string"==typeof e&&s.push(e),this._addToPersist===d)for(this._ignoreOnPersist=this._ignoreOnPersist||[],t=0;t<s.length;t++)this._ignoreOnPersist.push(s[t]);else for(t=0;t<s.length;t++)i=this._addToPersist.indexOf(s[t]),this._addToPersist.splice(i,1)},addToPersist:function(e){var t,i,s=[];if("object"==typeof e?s=e:"string"==typeof e&&s.push(e),this._addToPersist===d)for(this._ignoreOnPersist=this._ignoreOnPersist||[],i=0;i<s.length;i++)t=this._ignoreOnPersist.indexOf(s[i]),this._ignoreOnPersist.splice(t,1);else for(i=0;i<s.length;i++)-1===g.inArray(s[i],this._addToPersist)&&this._addToPersist.push(s[i])},formatting:function(e,t,i){var s,o;if(e=e.replace(/%280/g,'"').replace(/&lt;/g,"<").replace(/&gt;/g,">"),i=f.preferredCulture(i)?i:"en-US",a=(s=e).split("{0:"),o=e.split("}"),a=a[0],o=o[1],"string"==typeof t&&g.isNumeric(t)&&(t=Number(t)),-1!=e.indexOf("{0:"))return null!=(e=new RegExp("\\{0(:([^\\}]+))?\\}","gm").exec(e))&&null!=t?null!=a&&null!=o?a+f.format(t,e[2],i)+o:f.format(t,e[2],i):null!=t?t:"";if(!s.startsWith("{")||s.startsWith("{0:"))return null!=this.data&&null==this.data.Value?(g.each(this.data,function(e,t){s=s.replace(new RegExp("\\{"+e+"\\}","gm"),t)}),s):this.data.Value;for(var n=s.split(""),a=(t=(t||"")+"").split(""),r=/[0aA\*CN<>\?]/gm,l=0,d=0;l<n.length;l++)n[l]=r.test(n[l])?"{"+d+++"}":n[l];return String.format.apply(String,[n.join("")].concat(a)).replace("{","").replace("}","")}},f.WidgetBase=function(){},n=function(e,t){for(var i in e)e[i]===t[i]&&delete t[i],g.isPlainObject(t[i])&&g.isPlainObject(e[i])&&n(e[i],t[i])},f.widget=function(c,u,p){var e,t,m;if("object"==typeof c)for(e in p=u,c)t=c[e],t instanceof Array&&(p._rootCSS=t[1],t=t[0]),f.widget(e,t,p),c[e]instanceof Array&&(p._rootCSS="");else m=p._rootCSS||f.getNameSpace(u),p=f.defineClass(u,function(e,t){var i,s,o,n,a,r,l,d,h;if(this.sfType=u,this.pluginName=c,this.instance=v,f.isNullOrUndefined(this._setFirst)&&(this._setFirst=!0),this["ob.values"]={},g.extend(this,f.widgetBase),this.dataTypes)for(i in t)if(s=this._isValidModelValue(i,this.dataTypes,t),!0!==s)throw"setModel - Invalid input for property :"+i+" - "+s;for((d=e.data("ejWidgets")||[]).push(c),e.data("ejWidgets",d),n=0;f.widget.observables&&this.observables&&n<this.observables.length;n++)(o=f.getObject(this.observables[n],t))&&f.createObject(this.observables[n],f.widget.observables.register(o,this.observables[n],this,e),t);if(this.element=e.jquery?e:g(e),this.model=_(!0,{},p.prototype.defaults,t),this.model.keyConfigs=_(this.keyConfigs),this.element.addClass(m+" e-js").data(c,this),this._id=e[0].id,this.element.attr("tabIndex")||this.element.attr("tabIndex",""),this.model.enablePersistence){if(window.localStorage&&!f.isNullOrUndefined(f.persistStateVersion)&&window.localStorage.getItem("persistKey")!=f.persistStateVersion)for(n in window.localStorage)-1!=n.indexOf("$ej$")&&window.localStorage.removeItem(n);else if(document.cookie&&!f.isNullOrUndefined(f.persistStateVersion)&&f.cookie.get("persistKey")!=f.persistStateVersion)for(a in document.cookie.split(/; */))-1!=a.indexOf("$ej$")&&f.cookie.set(a.split("=")[0],model,new Date);this._persistHandler=f.proxy(this.persistState,this),g(window).on("unload",this._persistHandler),this.restoreState(!0)}if(this._init(t),"object"==typeof this.model.keyConfigs&&!(this.model.keyConfigs instanceof Array)){for(l in r=!1,this.model.keyConfigs.focus&&this.element.attr("accesskey",this.model.keyConfigs.focus),this.model.keyConfigs)if("focus"!==l){r=!0;break}r&&this._keyPressed&&(d=e,h="keydown",this.keySettings&&(d=this.keySettings.getElement&&this.keySettings.getElement()||d,h=this.keySettings.event||h),this._on(d,h,function(e){var t,i;this.model.keyConfigs&&(t=b.getActionFromCode(this.model.keyConfigs,e.which,e.ctrlKey,e.shiftKey,e.altKey),i={code:e.which,ctrl:e.ctrlKey,alt:e.altKey,shift:e.shiftKey},t)&&!1===this._keyPressed(t,e.target,i,e)&&e.preventDefault()}))}this._trigger("create")},p),g.fn[c]=function(e){for(var t=e,i=0;i<this.length;i++){var s=g(this[i]),o=s.data(c),n=o&&s.hasClass(m),a=null;if(0<this.length&&g.isPlainObject(t)&&(e=f.copyObject({},t)),n){if(e)if(n=[].slice.call(arguments,1),0<this.length&&n[0]&&"option"===t&&g.isPlainObject(n[0])&&(n[0]=f.copyObject({},n[0])),g.isPlainObject(e))o.setModel(e);else if(0!==e.indexOf("_")&&!f.isNullOrUndefined(a=f.getObject(e,o))||0===e.indexOf("model."))if(a&&g.isFunction(a)){if((n=a.apply(o,n))!==d)return n}else{if(1==arguments.length)return a;o.option(e,arguments[1])}else r(u+": function/property - "+e+" does not exist")}else!0!==p.prototype._requiresID||g(this[i]).attr("id")||s.attr("id",l("ejControl_")),e&&"object"!=typeof e?r(c+": methods/properties can be accessed only after plugin creation"):(p.prototype.defaults&&!f.isNullOrUndefined(f.setCulture)&&"locale"in p.prototype.defaults&&"ejChart"!=c&&(!e||"locale"in e?f.isNullOrUndefined(e)&&((e={}).locale=f.setCulture().name):e.locale=f.setCulture().name),new p(s,e))}return-1!=c.indexOf("ejm")&&f.widget.registerInstance(s,c,u,p.prototype),this},f.widget.register(c,u,p.prototype)},g.extend(f.widget,{register:function(e,t,i){f.isNullOrUndefined(s[e])||r("ej.widget : The widget named "+e+" is trying to register twice."),s[e]={name:e,className:t,proto:i},f.widget.extensions&&f.widget.extensions.registerWidget(e)},registerInstance:function(e,t,i,s){a.push({element:e,pluginName:t,className:i,proto:s})},registeredWidgets:s={},registeredInstances:a=[]}),f.widget.destroyAll=function(e){var t,i,s,o;if(e&&e.length)for(t=0;t<e.length;t++)if((s=(i=e.eq(t).data()).ejWidgets)&&s.length)for(o=0;o<s.length;o++)i[s[o]]&&i[s[o]].destroy&&i[s[o]].destroy()},f.cookie={get:function(e){e=RegExp(e+"=([^;]+)").exec(document.cookie);return e&&1<e.length?e[1]:d},set:function(e,t,i){"object"==typeof t&&(t=JSON.stringify(t)),t=escape(t)+(null==i?"":"; expires="+i.toUTCString()),document.cookie=e+"="+t}},b={getActionFromCode:function(e,t,i,s,o){var n,a,r;for(n in i=i||!1,s=s||!1,o=o||!1,e)if("focus"!==n)for(a=b.getKeyObject(e[n]),r=0;r<a.length;r++)if(t===a[r].code&&i==a[r].isCtrl&&s==a[r].isShift&&o==a[r].isAlt)return n;return null},getKeyObject:function(e){for(var t,i,s,o={isCtrl:!1,isShift:!1,isAlt:!1},n=g.extend(!0,{},o),a=e.split(","),r=[],l=0;l<a.length;l++){if(t=null,-1!=a[l].indexOf("+"))for(i=a[l].split("+"),s=0;s<i.length;s++)t=b.getResult(g.trim(i[s]),o);else t=b.getResult(g.trim(a[l]),g.extend(!0,{},n));r.push(t)}return r},getResult:function(e,t){return"ctrl"===e?t.isCtrl=!0:"shift"===e?t.isShift=!0:"alt"===e?t.isAlt=!0:t.code=parseInt(e,10),t}},f.getScrollableParents=function(e){return g(e).parentsUntil("html").filter(function(){return"visible"!=g(this).css("overflow")}).add(g(window))},f.browserInfo=function(){var e,t,i,s,o={},n=[],a={opera:/(opera|opr)(?:.*version|)[ \/]([\w.]+)/i,edge:/(edge)(?:.*version|)[ \/]([\w.]+)/i,webkit:/(chrome)[ \/]([\w.]+)/i,safari:/(webkit)[ \/]([\w.]+)/i,msie:/(msie|trident) ([\w.]+)/i,mozilla:/(mozilla)(?:.*? rv:([\w.]+)|)/i};for(e in a)if(a.hasOwnProperty(e)&&(n=navigator.userAgent.match(a[e]),n)){if(o.name="opr"==n[1].toLowerCase()?"opera":n[1].toLowerCase(),o.version=n[2],o.culture={},o.culture.name=o.culture.language=navigator.language||navigator.userLanguage,void 0!==f.globalize){for(t=f.preferredCulture().name,i=navigator.language||navigator.userLanguage?f.preferredCulture(navigator.language||navigator.userLanguage):f.preferredCulture("en-US"),s=0;navigator.languages&&s<navigator.languages.length&&(i=f.preferredCulture(navigator.languages[s])).language!=navigator.languages[s];s++);f.preferredCulture(t),g.extend(!0,o.culture,i)}navigator.userAgent.match(/Trident\/7\./)&&(o.name="msie");break}return o.isMSPointerEnabled="msie"==o.name&&9<o.version&&window.navigator.msPointerEnabled,o.pointerEnabled=window.navigator.pointerEnabled,o},f.eventType={mouseDown:"mousedown touchstart",mouseMove:"mousemove touchmove",mouseUp:"mouseup touchend",mouseLeave:"mouseleave touchcancel",click:"click touchend"},f.event=function(e,t,i){return g.extend(i||{},{type:e,model:t,cancel:!1})},f.proxy=function(t,i,s){return t&&"function"==typeof t?"on"in t&&i?s?t.on(i,s):t.on(i):function(){var e=s?[s]:[];return e.push.apply(e,arguments),t.apply(i||this,e)}:null},f.hasStyle=function(e){var t,i,s=document.documentElement.style;if(e in s)return!0;for(t=["ms","Moz","Webkit","O","Khtml"],e=e[0].toUpperCase()+e.slice(1),i=0;i<t.length;i++)if(t[i]+e in s)return!0;return!1},Array.prototype.indexOf=Array.prototype.indexOf||function(e){var t,i=this.length;if(0!==i)for(t=0;t<i;t++)if(t in this&&this[t]===e)return t;return-1},String.prototype.startsWith=String.prototype.startsWith||function(e){return this.slice(0,e.length)===e},_=f.copyObject=function(e,t){var i,s,o,n,a,r="boolean"!=typeof e?1:2,l=[].slice.call(arguments,r);for(1===r&&(t=e,e=d),o=0;o<l.length;o++)for(n in l[o])if(i=t[n],s=l[o][n],s!==d&&i!==s&&l[o]!==s&&t!==s)if(s instanceof Array)if(0===o&&e)for(t[n]=[],a=0;a<s.length;a++)_(!0,t[n],s);else t[n]=s.slice();else f.isPlainObject(s)?(t[n]=i||{},e?_(e,t[n],s):_(t[n],s)):t[n]=s;return t},v=function(){return this},t=0,l=function(e){return e+t++},f.template={},f.template.render=f.template["text/x-jsrender"]=function(e,t,i,s,o){"#"!==t.slice(0,1)&&(t=["<div>",t,"</div>"].join(""));o={prop:o,index:s};return g(t).render(i,o)},f.isPlainObject=function(e){if(!e||f.DataManager!==d&&e instanceof f.DataManager||"object"!=typeof e||e.nodeType||jQuery.isWindow(e))return!1;try{if(e.constructor&&!e.constructor.prototype.hasOwnProperty("isPrototypeOf"))return!1}catch(e){return!1}var t,i=f.support.isOwnLast;for(t in e)if(i)break;return t===d||e.hasOwnProperty(t)},o=!1,f.util.valueFunction=function(s){return function(e,t){var i=f.getObject(s,this.model);if(!1===o&&(o=f.getObject("observables.getValue",f.widget)),e===d)return f.isNullOrUndefined(o)?"function"==typeof i?i.call(this):i:o(i,t);"function"==typeof i?(this["ob.values"][s]=e,i.call(this,e)):f.createObject(s,e,this.model)}},f.util.getVal=function(e){return"function"==typeof e?e():e},f.support={isOwnLast:function(){function e(){this.a=1}for(var t in e.prototype.b=1,new e)return"b"===t}(),outerHTML:document.createElement("div").outerHTML!==d},r=f.throwError=function(e){try{throw new Error(e)}catch(e){throw e.message+"\n"+e.stack}},f.getRandomValue=function(e,t){var i;return e===d||t===d?f.throwError("Min and Max values are required for generating a random number"):0|("crypto"in window&&"getRandomValues"in crypto?(i=new Uint16Array(1),window.crypto.getRandomValues(i),i[0]%(t-e)+e):Math.random()*(t-e)+e)},f.extensions={},f.extensions.modelGUID="{0B1051BA-1CCB-42C2-A3B5-635389B92A50}",$.fn.addEleAttrs=function(e){var i=$(this);$.each(e,function(e,t){t&&t.specified&&i.attr(t.name,t.value)})},$.fn.removeEleAttrs=function(s){return this.each(function(){var i=$(this),e=$(this.attributes).clone();$.each(e,function(e,t){t&&t.specified&&s.test(t.name)&&i.removeAttr(t.name)})})},$.fn.attrNotStartsWith=function(e){var t,s=[];for(this.each(function(){t=$(this.attributes).clone()}),i=0;i<t.length;i++){if(t[i]&&t[i].specified&&e.test(t[i].name))continue;s.push(t[i])}return s},$.fn.removeEleEmptyAttrs=function(){return this.each(function(){var i=$(this),e=$(this.attributes).clone();$.each(e,function(e,t){t&&t.specified&&""===t.value&&i.removeAttr(t.name)})})},$.extend($.support,{has3d:ej.addPrefix("perspective")in ej.styles,hasTouch:"ontouchstart"in window,hasPointer:navigator.msPointerEnabled,hasTransform:!1!==ej.userAgent(),pushstate:"pushState"in history&&"replaceState"in history,hasTransition:ej.addPrefix("transition")in ej.styles}),$.extend($.expr[":"],{attrNotStartsWith:function(e,t,i){for(var s=e.attributes,o=0;o<s.length;o++)if(0===s[o].nodeName.indexOf(i[3]))return!1;return!0}}),e=$.fn.andSelf||$.fn.addBack,$.fn.andSelf=$.fn.addBack=function(){return e.apply(this,arguments)}}),function(e){"function"==typeof define&&define.amd?define(["./ej.core.min"],e):e()}(function(){var b,_,e,g,v,a,r,n,l,p,m,w,d,s,o,h,c,f,u,y,S,C,D,$,I,x,T,k,t,B,z,O,j,H,A,L,U,P,E,N,i,M;window.ej=window.Syncfusion=window.Syncfusion||{},b=window.jQuery,_=window.Syncfusion,e=window.document,_.DataManager=function(e,t,i){if(!(this instanceof _.DataManager))return new _.DataManager(e,t,i);e=e||[],"string"==typeof(i=i||e.adaptor)&&(i=new _[i]);var s=[],o=this;return e instanceof Array?s={json:e,offline:!0}:"object"==typeof e?b.isPlainObject(e)?(e.json||(e.json=[]),e.table&&(e.json=this._getJsonFromElement(e.table,e.headerOption)),s={url:e.url,insertUrl:e.insertUrl,removeUrl:e.removeUrl,updateUrl:e.updateUrl,crudUrl:e.crudUrl,batchUrl:e.batchUrl,json:e.json,headers:e.headers,accept:e.accept,data:e.data,timeTillExpiration:e.timeTillExpiration,cachingPageSize:e.cachingPageSize,enableCaching:e.enableCaching,requestType:e.requestType,key:e.key,crossDomain:e.crossDomain,jsonp:e.jsonp,dataType:e.dataType,offline:e.offline!==g?e.offline:!("remoteSaveAdaptor"==e.adaptor||e.adaptor instanceof _.remoteSaveAdaptor||e.url),requiresFormat:e.requiresFormat}):(e.jquery||U(e))&&(s={json:this._getJsonFromElement(e),offline:!0,table:e}):"string"==typeof e&&(s={url:e,offline:!1,dataType:"json",json:[]}),s.requiresFormat!==g||_.support.cors||(s.requiresFormat=!!w(s.crossDomain)||s.crossDomain),s.dataType===g&&(s.dataType="json"),this.dataSource=s,this.defaultQuery=t,s.url&&s.offline&&!s.json.length?(this.isDataAvailable=!1,this.adaptor=i||new _.ODataAdaptor,this.dataSource.offline=!1,this.ready=this.executeQuery(t||_.Query()).done(function(e){o.dataSource.offline=!0,o.isDataAvailable=!0,s.json=e.result,o.adaptor=new _.JsonAdaptor})):this.adaptor=new(s.offline?_.JsonAdaptor:_.ODataAdaptor),!s.jsonp&&this.adaptor instanceof _.ODataAdaptor&&(s.jsonp="callback"),this.adaptor=i||this.adaptor,s.enableCaching&&(this.adaptor=new _.CacheAdaptor(this.adaptor,s.timeTillExpiration,s.cachingPageSize)),this},_.DataManager.prototype={setDefaultQuery:function(e){this.defaultQuery=e},executeQuery:function(e,t,i,s){var o,n,a;return"function"==typeof e&&(s=i,i=t,t=e,e=null),(e=e||this.defaultQuery)instanceof _.Query||d("DataManager - executeQuery() : A query is required to execute"),(o=b.Deferred()).then(t,i,s),n={query:e},this.dataSource.offline||this.dataSource.url==g?_.isNullOrUndefined(this.dataSource.async)||0!=this.dataSource.async?l(function(){this._localQueryProcess(e,n,o)},this):this._localQueryProcess(e,n,o):(a=this.adaptor.processQuery(this,e),_.isNullOrUndefined(a.url)?l(function(){n=this._getDeferedArgs(e,a,n),o.resolveWith(this,[n])},this):this._makeRequest(a,o,n,e)),o.promise()},_localQueryProcess:function(e,t,i){var s=this.executeLocal(e);t=this._getDeferedArgs(e,s,t),i.resolveWith(this,[t])},_getDeferedArgs:function(e,t,i){return e._requiresCount?(i.result=t.result,i.count=t.count):i.result=t,i.getTableModel=E(e._fromTable,i.result,this),i.getKnockoutModel=N(i.result),i},executeLocal:function(e){var t,i;if(this.defaultQuery||e instanceof _.Query||d("DataManager - executeLocal() : A query is required to execute"),this.dataSource.json||d("DataManager - executeLocal() : Json data is required to execute"),e=e||this.defaultQuery,t=this.adaptor.processQuery(this,e),e._subQuery){var s=e._subQuery._fromTable,o=e._subQuery._lookup,n=e._requiresCount?t.result:t;for(o&&o instanceof Array&&f(e._subQuery._fKey,s,n,o,e._subQuery._key),i=0;i<n.length;i++)n[i][s]instanceof Array&&(n[i]=b.extend({},n[i]),n[i][s]=this.adaptor.processResponse(e._subQuery.using(_.DataManager(n[i][s].slice(0))).executeLocal(),this,e))}return this.adaptor.processResponse(t,this,e)},_makeRequest:function(e,r,l,d){var h=!!d._subQuerySelector,o=m(function(e){l.error=e,r.rejectWith(this,[l])},this),c=m(function(e,t,i,s,o,n,a){h||(l.xhr=i,l.count=parseInt(t,10),l.result=e,l.request=s,l.aggregates=n,l.getTableModel=E(d._fromTable,e,this),l.getKnockoutModel=N(e),l.actual=o,l.virtualSelectRecords=a,r.resolveWith(this,[l]))},this),u=m(function(t,e){var i=b.Deferred(),s={parent:l};return d._subQuery._isChild=!0,e=this.adaptor.processQuery(this,d._subQuery,t?this.adaptor.processResponse(t):e),e=this._makeRequest(e,i,s,d._subQuery),h||i.then(function(e){t&&(f(d._subQuery._fKey,d._subQuery._fromTable,t,e,d._subQuery._key),c(t))},o),e},this),t=p(function(e,t,i,s){-1==i.getResponseHeader("Content-Type").indexOf("xml")&&_.dateParse&&(e=_.parseJSON(e));var o=this.adaptor.processResponse(e,this,d,i,s),n=0,a=null,r=e.virtualSelectRecords;d._requiresCount&&(n=o.count,a=o.aggregates,o=o.result),d._subQuery?h||u(o):c(o,n,i,s,e,a,r)},this),t=b.extend({type:"GET",dataType:this.dataSource.dataType,crossDomain:this.dataSource.crossDomain,jsonp:this.dataSource.jsonp,cache:!0,beforeSend:m(this._beforeSend,this),processData:!1,success:t,error:o},e);return"async"in this.dataSource&&(t.async=this.dataSource.async),t=b.ajax(t),h&&((e=d._subQuerySelector.call(this,{query:d._subQuery,parent:d}))&&e.length?(t=b.when(t,u(null,e))).then(p(function(e,t,i){var s=this.adaptor.processResponse(e[0],this,d,e[2],i[0]),o=0;d._requiresCount&&(o=s.count,s=s.result),t=this.adaptor.processResponse(t[0],this,d._subQuery,t[2],i[1]),o=0,d._subQuery._requiresCount&&(o=t.count,t=t.result),f(d._subQuery._fKey,d._subQuery._fromTable,s,t,d._subQuery._key),h=!1,c(s,o,e[2])},this),o):h=!1),t},_beforeSend:function(e,t){var i,s,o,n;for(this.adaptor.beforeSend(this,e,t),i=this.dataSource.headers,o=0;i&&o<i.length;o++)for(n in s=[],i[o])s.push(n),e.setRequestHeader(n,i[o][n])},saveChanges:function(o,e,t,i){var n;return t instanceof _.Query&&(i=t,t=null),t={url:t,key:e||this.dataSource.key},e=this.adaptor.batchRequest(this,o,t,i),this.dataSource.offline?e:(n=b.Deferred(),b.ajax(b.extend({beforeSend:m(this._beforeSend,this),success:p(function(e,t,i,s){n.resolveWith(this,[this.adaptor.processResponse(e,this,null,i,s,o)])},this),error:function(e){n.rejectWith(this,[{error:e}])}},e)),n.promise())},insert:function(e,t,i){var o;return e=I.replacer(e),t instanceof _.Query&&(i=t,t=null),e=this.adaptor.insert(this,e,t,i),this.dataSource.offline?e:(o=b.Deferred(),b.ajax(b.extend({type:"POST",contentType:"application/json; charset=utf-8",processData:!1,beforeSend:m(this._beforeSend,this),success:p(function(t,e,i,s){try{_.isNullOrUndefined(t)?t=[]:I.parseJson(t)}catch(e){t=[]}t=this.adaptor.processResponse(I.parseJson(t),this,null,i,s),o.resolveWith(this,[{record:t,dataManager:this}])},this),error:function(e){o.rejectWith(this,[{error:e,dataManager:this}])}},e)),o.promise())},remove:function(e,t,i,s){var o;return"object"==typeof t&&(t=t[e]),i instanceof _.Query&&(s=i,i=null),e=this.adaptor.remove(this,e,t,i,s),this.dataSource.offline?e:(o=b.Deferred(),b.ajax(b.extend({type:"POST",contentType:"application/json; charset=utf-8",beforeSend:m(this._beforeSend,this),success:p(function(t,e,i,s){try{_.isNullOrUndefined(t)?t=[]:I.parseJson(t)}catch(e){t=[]}t=this.adaptor.processResponse(I.parseJson(t),this,null,i,s),o.resolveWith(this,[{record:t,dataManager:this}])},this),error:function(e){o.rejectWith(this,[{error:e,dataManager:this}])}},e)),o.promise())},update:function(e,t,i,s){var o;return t=I.replacer(t),i instanceof _.Query&&(s=i,i=null),e=this.adaptor.update(this,e,t,i,s),this.dataSource.offline?e:(o=b.Deferred(),b.ajax(b.extend({contentType:"application/json; charset=utf-8",beforeSend:m(this._beforeSend,this),success:p(function(t,e,i,s){try{_.isNullOrUndefined(t)?t=[]:I.parseJson(t)}catch(e){t=[]}t=this.adaptor.processResponse(I.parseJson(t),this,null,i,s),o.resolveWith(this,[{record:t,dataManager:this}])},this),error:function(e){o.rejectWith(this,[{error:e,dataManager:this}])}},e)),o.promise())},_getJsonFromElement:function(e){var t=(e=(e="string"==typeof e?b(b(e).html()):e).jquery?e[0]:e).tagName.toLowerCase();return"table"!==t&&d("ej.DataManager : Unsupported htmlElement : "+t),_.parseTable(e)}},f=function(e,t,i,s,o){var n,a,r={};for((s=s.result?s.result:s).GROUPGUID&&d("ej.DataManager: Do not have support Grouping in hierarchy"),n=0;n<s.length;n++)(r[a=_.getObject(e,s[n])]||(r[a]=[])).push(s[n]);for(n=0;n<i.length;n++)i[n][t]=r[_.getObject(o||e,i[n])]},u="application/json;odata=light;q=1,application/json;odata=verbose;q=0.5",y="multipart/mixed",S="--changeset_",C="batch_",D="Content-Type: application/http\nContent-Transfer-Encoding: binary ",$="Content-Type: application/json; charset=utf-8 ",I={parseJson:function(e){var t=typeof e;return"string"==t?e=JSON.parse(e,I.jsonReviver):e instanceof Array?I.iterateAndReviveArray(e):"object"==t&&I.iterateAndReviveJson(e),e},iterateAndReviveArray:function(e){for(var t=0;t<e.length;t++)"object"==typeof e[t]?I.iterateAndReviveJson(e[t]):e[t]="string"!=typeof e[t]||/^[\s]*\[|^[\s]*\{|\"/g.test(e[t])?I.parseJson(e[t]):I.jsonReviver("",e[t])},iterateAndReviveJson:function(e){var t,i;for(i in e)i.startsWith("__")||(t=e[i],"object"==typeof t?t instanceof Array?I.iterateAndReviveArray(t):I.iterateAndReviveJson(t):e[i]=I.jsonReviver(i,t))},jsonReviver:function(e,t){var i,s=t;if("string"==typeof t){if(i=/^\/Date\(([+-]?[0-9]+)([+-][0-9]{4})?\)\/$/.exec(t))return I.replacer(new Date(parseInt(i[1])));/^(\d{4}\-\d\d\-\d\d([tT][\d:\.]*){1})([zZ]|([+\-])(\d\d):?(\d\d))?$/.test(t)&&(t=I.replacer(new Date(t)),isNaN(t))&&(i=s.split(/[^0-9]/),t=I.replacer(new Date(i[0],i[1]-1,i[2],i[3],i[4],i[5])))}return t},isJson:function(e){return"string"==typeof e[0]?e:_.parseJSON(e)},isGuid:function(e){return null!=/[A-Fa-f0-9]{8}(?:-[A-Fa-f0-9]{4}){3}-[A-Fa-f0-9]{12}/i.exec(e)},replacer:function(e){return _.isPlainObject(e)?I.jsonReplacer(e):e instanceof Array?I.arrayReplacer(e):e instanceof Date?I.jsonReplacer({val:e}).val:e},jsonReplacer:function(e){var t,i;for(i in e)t=e[i],t instanceof Date&&(e[i]=new Date(+t+36e5*_.serverTimezoneOffset));return e},arrayReplacer:function(e){for(var t=0;t<e.length;t++)_.isPlainObject(e[t])?e[t]=I.jsonReplacer(e[t]):e[t]instanceof Date&&(e[t]=I.jsonReplacer({date:e[t]}).date);return e}},_.isJSON=I.isJson,_.parseJSON=I.parseJson,_.dateParse=!0,_.isGUID=I.isGuid,_.Query=function(e){return this instanceof _.Query?(this.queries=[],this._key="",this._fKey="","string"==typeof e?this._fromTable=e||"":e&&e instanceof Array&&(this._lookup=e),this._expands=[],this._sortedColumns=[],this._groupedColumns=[],this._subQuery=null,this._isChild=!1,this._params=[],this):new _.Query(e)},_.Query.prototype={key:function(e){return"string"==typeof e&&(this._key=e),this},using:function(e){return e instanceof _.DataManager?(this.dataManagar=e,this):d("Query - using() : 'using' function should be called with parameter of instance ej.DataManager")},execute:function(e,t,i,s){return(e=e||this.dataManagar)&&e instanceof _.DataManager?e.executeQuery(this,t,i,s):d("Query - execute() : dataManager needs to be is set using 'using' function or should be passed as argument")},executeLocal:function(e){return(e=e||this.dataManagar)&&e instanceof _.DataManager?e.executeLocal(this):d("Query - executeLocal() : dataManager needs to be is set using 'using' function or should be passed as argument")},clone:function(){var e=new _.Query;return e.queries=this.queries.slice(0),e._key=this._key,e._isChild=this._isChild,e.dataManagar=this.dataManager,e._fromTable=this._fromTable,e._params=this._params.slice(0),e._expands=this._expands.slice(0),e._sortedColumns=this._sortedColumns.slice(0),e._groupedColumns=this._groupedColumns.slice(0),e._subQuerySelector=this._subQuerySelector,e._subQuery=this._subQuery,e._fKey=this._fKey,e._requiresCount=this._requiresCount,e},from:function(e){return"string"==typeof e&&(this._fromTable=e),this},addParams:function(e,t){return"function"==typeof t||_.isPlainObject(t)?"function"==typeof t&&this._params.push({key:e,fn:t}):this._params.push({key:e,value:t}),this},expand:function(e){return this._expands="string"==typeof e?[].slice.call(arguments,0):e.slice(0),this},where:function(e,t,i,s){t=(t||_.FilterOperators.equal).toLowerCase();var o=null;return"string"==typeof e?o=new _.Predicate(e,t,i,s):e instanceof _.Predicate?o=e:d("Query - where : Invalid arguments"),this.queries.push({fn:"onWhere",e:o}),this},search:function(e,t,i,s){t&&"boolean"!=typeof t?"string"==typeof t&&(t=[t]):s=t=[],"boolean"==typeof i&&(s=i,i=null),(i=i||_.FilterOperators.contains).length<3&&(i=_.data.operatorSymbols[i]);var o=_.data.fnOperators[i]||_.data.fnOperators.processSymbols(i);return this.queries.push({fn:"onSearch",e:{fieldNames:t,operator:i,searchKey:e,ignoreCase:s,comparer:o}}),this},sortBy:function(e,t,i){var s,o,n,a,r=_.sortOrder.Ascending;if("string"==typeof e&&e.toLowerCase().endsWith(" desc")&&(e=e.replace(/ desc$/i,""),t=_.sortOrder.Descending),e instanceof Array)for(n=0;n<e.length;n++)this.sortBy(e[n],t,i);else{if("boolean"==typeof t?t=t?_.sortOrder.Descending:_.sortOrder.Ascending:"function"==typeof t&&(r="custom"),t&&"string"!=typeof t||(r=t?t.toLowerCase():_.sortOrder.Ascending,t=_.pvt.fnSort(t)),i)for(s=x(this.queries,"onSortBy"),n=0;n<s.length;n++)if("string"==typeof(o=s[n].e.fieldName)){if(o===e)return this}else if(o instanceof Array)for(a=0;a<o.length;a++)if(o[a]===e||e.toLowerCase()===o[a]+" desc")return this;this.queries.push({fn:"onSortBy",e:{fieldName:e,comparer:t,direction:r}})}return this},sortByDesc:function(e){return this.sortBy(e,_.sortOrder.Descending)},group:function(e,t){return this.sortBy(e,null,!0),this.queries.push({fn:"onGroup",e:{fieldName:e,fn:t}}),this},page:function(e,t){return this.queries.push({fn:"onPage",e:{pageIndex:e,pageSize:t}}),this},range:function(e,t){return"number"==typeof e&&"number"==typeof t||d("Query() - range : Arguments type should be a number"),this.queries.push({fn:"onRange",e:{start:e,end:t}}),this},take:function(e){return"number"!=typeof e&&d("Query() - Take : Argument type should be a number"),this.queries.push({fn:"onTake",e:{nos:e}}),this},skip:function(e){return"number"!=typeof e&&d("Query() - Skip : Argument type should be a number"),this.queries.push({fn:"onSkip",e:{nos:e}}),this},select:function(e){return(e="string"==typeof e?[].slice.call(arguments,0):e)instanceof Array||d("Query() - Select : Argument type should be String or Array"),this.queries.push({fn:"onSelect",e:{fieldNames:e}}),this},hierarchy:function(e,t){return e&&e instanceof _.Query||d("Query() - hierarchy : query must be instance of ej.Query"),"function"==typeof t&&(this._subQuerySelector=t),this._subQuery=e,this},foreignKey:function(e){return"string"==typeof e&&(this._fKey=e),this},requiresCount:function(){return this._requiresCount=!0,this},aggregate:function(e,t){this.queries.push({fn:"onAggregates",e:{field:t,type:e}})}},_.Adaptor=function(e){this.dataSource=e,this.pvt={},this.init.apply(this,[].slice.call(arguments,1))},_.Adaptor.prototype={options:{from:"table",requestType:"json",sortBy:"sorted",select:"select",skip:"skip",group:"group",take:"take",search:"search",count:"requiresCounts",where:"where",aggregates:"aggregates"},init:function(){},extend:function(e){function t(e){this.dataSource=e,this.options&&(this.options=b.extend({},this.options)),this.init.apply(this,[].slice.call(arguments,0)),this.pvt={}}var i,s=((t.prototype=new this.type).type=t).prototype.base={};for(i in e)t.prototype[i]&&(s[i]=t.prototype[i]);return b.extend(!0,t.prototype,e),t},processQuery:function(){},processResponse:function(e){return e.d||e},convertToQueryString:function(e){return b.param(e)},type:_.Adaptor},_.UrlAdaptor=(new _.Adaptor).extend({processQuery:function(e,t,i){var s,o,n,a,r,l=x(t.queries,"onSortBy"),d=x(t.queries,"onGroup"),h=x(t.queries,"onWhere"),c=x(t.queries,"onSearch"),u=x(t.queries,"onAggregates"),p=T(t.queries,["onSelect","onPage","onSkip","onTake","onRange"]),m=t._params,g=e.dataSource.url,f=null,b=this.options,_={sorted:[],grouped:[],filters:[],searches:[],aggregates:[]};for(p.onPage?(s=p.onPage,o=((o=v(s.pageIndex,t))-1)*(f=v(s.pageSize,t))):p.onRange&&(o=(s=p.onRange).start,f=s.end-s.start),n=0;n<l.length;n++)s=v(l[n].e.fieldName,t),_.sorted.push(k(this,"onEachSort",{name:s,direction:l[n].e.direction},t));for(i&&(s=this.getFiltersFrom(i,t))&&_.filters.push(k(this,"onEachWhere",s.toJSON(),t)),n=0;n<h.length;n++)for(r in _.filters.push(k(this,"onEachWhere",h[n].e.toJSON(),t)),_.filters[n])w(_[r])&&delete _[r];for(n=0;n<c.length;n++)s=c[n].e,_.searches.push(k(this,"onEachSearch",{fields:s.fieldNames,operator:s.operator,key:s.searchKey,ignoreCase:s.ignoreCase},t));for(n=0;n<d.length;n++)_.grouped.push(v(d[n].e.fieldName,t));for(n=0;n<u.length;n++)s=u[n].e,_.aggregates.push({type:s.type,field:v(s.field,t)});for(r in(a={})[b.from]=t._fromTable,b.expand&&(a[b.expand]=t._expands),a[b.select]=p.onSelect?k(this,"onSelect",v(p.onSelect.fieldNames,t),t):"",a[b.count]=t._requiresCount?k(this,"onCount",t._requiresCount,t):"",a[b.search]=_.searches.length?k(this,"onSearch",_.searches,t):"",a[b.skip]=p.onSkip?k(this,"onSkip",v(p.onSkip.nos,t),t):"",a[b.take]=p.onTake?k(this,"onTake",v(p.onTake.nos,t),t):"",a[b.where]=_.filters.length||_.searches.length?k(this,"onWhere",_.filters,t):"",a[b.sortBy]=_.sorted.length?k(this,"onSortBy",_.sorted,t):"",a[b.group]=_.grouped.length?k(this,"onGroup",_.grouped,t):"",a[b.aggregates]=_.aggregates.length?k(this,"onAggregates",_.aggregates,t):"",a.param=[],k(this,"addParams",{dm:e,query:t,params:m,reqParams:a}),a)!w(a[r])&&""!==a[r]&&0!==a[r].length||delete a[r];return b.skip in a&&b.take in a||null===f||(a[b.skip]=k(this,"onSkip",o,t),a[b.take]=k(this,"onTake",f,t)),i=this.pvt,this.pvt={},"json"===this.options.requestType?{data:JSON.stringify(a),url:g,ejPvtData:i,type:"POST",contentType:"application/json; charset=utf-8"}:(s=this.convertToQueryString(a,t,e),{type:"GET",url:(s=(-1!==e.dataSource.url.indexOf("?")?"&":"/")+s).length?g.replace(/\/*$/,s):g,ejPvtData:i})},convertToQueryString:function(e,t,i){return i.dataSource.url&&-1!==i.dataSource.url.indexOf("?")?b.param(e):"?"+b.param(e)},processResponse:function(e,t,i,s,o,n){var a,r,l,d=o.ejPvtData||{},h=e.groupDs;if(s&&s.getResponseHeader("Content-Type")&&-1!=s.getResponseHeader("Content-Type").indexOf("xml")&&9==e.nodeType)return i._requiresCount?{result:[],count:0}:[];if((s=JSON.parse(o.data))&&"batch"===s.action&&e.added)return n.added=e.added,n;if(e.d&&(e=e.d),d&&d.aggregates&&d.aggregates.length){var c,u=d.aggregates,p={},m={};for(("count"in e&&(p.count=e.count),e.result&&(p.result=e.result),e.aggregate&&(e=e.aggregate),r=0);r<u.length;r++)(c=_.aggregates[u[r].type])&&(m[u[r].field+" - "+u[r].type]=c(e,u[r].field));p.aggregates=m,e=p}if(d&&d.groups&&d.groups.length){for((a=d.groups,p={},"count"in e&&(p.count=e.count),e.aggregates&&(p.aggregates=e.aggregates),e.result&&(e=e.result),r=0);r<a.length;r++)l=j(a[r],i.queries),_.isNullOrUndefined(h)||(h=_.group(h,a[r],null,l)),e=_.group(e,a[r],d.aggregates,l,null,h);return p.count!=g?p.result=e:p=e,p}return e},onGroup:function(e){this.pvt.groups=e},onAggregates:function(e){this.pvt.aggregates=e},batchRequest:function(e,t,i,s){t={changed:t.changed,added:t.added,deleted:t.deleted,action:"batch",table:i.url,key:i.key};return s&&this.addParams({dm:e,query:s,params:s._params,reqParams:t}),{type:"POST",url:e.dataSource.batchUrl||e.dataSource.crudUrl||e.dataSource.removeUrl||e.dataSource.url,contentType:"application/json; charset=utf-8",dataType:"json",data:JSON.stringify(t)}},beforeSend:function(){},insert:function(e,t,i,s){t={value:t,table:i,action:"insert"};return s&&this.addParams({dm:e,query:s,params:s._params,reqParams:t}),{url:e.dataSource.insertUrl||e.dataSource.crudUrl||e.dataSource.url,data:JSON.stringify(t)}},remove:function(e,t,i,s,o){i={key:i,keyColumn:t,table:s,action:"remove"};return o&&this.addParams({dm:e,query:o,params:o._params,reqParams:i}),{type:"POST",url:e.dataSource.removeUrl||e.dataSource.crudUrl||e.dataSource.url,data:JSON.stringify(i)}},update:function(e,t,i,s,o){i={value:i,action:"update",keyColumn:t,key:i[t],table:s};return o&&this.addParams({dm:e,query:o,params:o._params,reqParams:i}),{type:"POST",url:e.dataSource.updateUrl||e.dataSource.crudUrl||e.dataSource.url,data:JSON.stringify(i)}},getFiltersFrom:function(e,t){e instanceof Array&&e.length||d("ej.SubQuery: Array of key values required");var i,s,o=t._fKey,n=o,a=t._key,r=[],l="object"!=typeof e[0];for("object"!=typeof e[0]&&(n=null),i=0;i<e.length;i++)s=l?e[i]:_.pvt.getObject(a||n,e[i]),r.push(new _.Predicate(o,"==",s));return _.Predicate.or(r)},addParams:function(e){var t,i,s=e.dm,o=e.query,n=e.params,a=e.reqParams;for(a.params={},t=0;i=n[t];t++)a[i.key]&&d("ej.Query: Custom Param is conflicting other request arguments"),a[i.key]=i.value,i.fn&&(a[i.key]=i.fn.call(o,i.key,o,s)),a.params[i.key]=a[i.key]}}),_.WebMethodAdaptor=(new _.UrlAdaptor).extend({processQuery:function(e,t,i){var i=_.UrlAdaptor.prototype.processQuery(e,t,i),s=_.parseJSON(i.data),o={};return o.value=s,k(this,"addParams",{dm:e,query:t,params:t._params,reqParams:o}),{data:JSON.stringify(o),url:i.url,ejPvtData:i.ejPvtData,type:"POST",contentType:"application/json; charset=utf-8"}},addParams:function(e){var t,i,s,o,n=e.dm,a=e.query,r=e.params,l=e.reqParams;for(l.params={},t=0;i=r[t];t++)l[i.key]&&d("ej.Query: Custom Param is conflicting other request arguments"),s=i.key,o=i.value,i.fn&&(o=i.fn.call(a,i.key,a,n)),l[s]=o,l.params[s]=l[s]}}),_.CacheAdaptor=(new _.UrlAdaptor).extend({init:function(e,s,t){var o;_.isNullOrUndefined(e)||(this.cacheAdaptor=e),this.pageSize=t,this.guidId=_.getGuid("cacheAdaptor"),window.localStorage&&window.localStorage.setItem(this.guidId,JSON.stringify({keys:[],results:[]})),o=this.guidId,_.isNullOrUndefined(s)||setInterval(function(){for(var e=_.parseJSON(window.localStorage.getItem(o)),t=[],i=0;i<e.results.length;i++)e.results[i].timeStamp=new Date-new Date(e.results[i].timeStamp),new Date-new Date(e.results[i].timeStamp)>s&&t.push(i);for(i=0;i<t.length;i++)e.results.splice(t[i],1),e.keys.splice(t[i],1);window.localStorage.removeItem(o),window.localStorage.setItem(o,JSON.stringify(e))},s)},generateKey:function(e,t){var i,s,o,n,a=x(t.queries,"onSortBy"),r=x(t.queries,"onGroup"),l=x(t.queries,"onWhere"),d=x(t.queries,"onSearch"),h=(x(t.queries,"onPage"),T(t.queries,["onSelect","onPage","onSkip","onTake","onRange"])),c=(t._params,e);for(h.onPage&&(c+=h.onPage.pageIndex),a.forEach(function(e){c+=e.e.direction+e.e.fieldName}),r.forEach(function(e){c+=e.e.fieldName}),d.forEach(function(e){c+=e.e.searchKey}),i=0;i<l.length;i++)if((s=l[i]).e.isComplex){for((o=t.clone()).queries=[],n=0;n<s.e.predicates.length;n++)o.queries.push({fn:"onWhere",e:s.e.predicates[n],filter:t.queries.filter});c+=s.e.condition+this.generateKey(e,o)}else c+=s.e.field+s.e.operator+s.e.value;return c},processQuery:function(e,t){var i,e=this.generateKey(e.dataSource.url,t);return null==(t=(i=window.localStorage?_.parseJSON(window.localStorage.getItem(this.guidId)):i)?i.results[i.keys.indexOf(e)]:null)||this._crudAction||this._insertAction?(this._crudAction=null,this._insertAction=null,this.cacheAdaptor.processQuery.apply(this.cacheAdaptor,[].slice.call(arguments,0))):t},processResponse:function(e,t,i,s,o,n){if(this._insertAction||o&&this.cacheAdaptor.options.batch&&o.url.endsWith(this.cacheAdaptor.options.batch)&&"post"===o.type.toLowerCase())return this.cacheAdaptor.processResponse(e,t,i,s,o,n);var e=this.cacheAdaptor.processResponse.apply(this,[].slice.call(arguments,0)),s=this.generateKey(t.dataSource.url,i),a={};for(window.localStorage&&(a=_.parseJSON(window.localStorage.getItem(this.guidId))),-1!=(o=b.inArray(s,a.keys))&&(a.results.splice(o,1),a.keys.splice(o,1)),a.results[a.keys.push(s)-1]={keys:s,result:e.result,timeStamp:new Date,count:e.count};a.results.length>this.pageSize;)a.results.splice(0,1),a.keys.splice(0,1);return window.localStorage.setItem(this.guidId,JSON.stringify(a)),e},update:function(e,t,i,s){return this._crudAction=!0,this.cacheAdaptor.update(e,t,i,s)},insert:function(e,t,i){return this._insertAction=!0,this.cacheAdaptor.insert(e,t,i)},remove:function(e,t,i,s){return this._crudAction=!0,this.cacheAdaptor.remove(e,t,i,s)},batchRequest:function(e,t,i){return this.cacheAdaptor.batchRequest(e,t,i)}}),x=function(e,t){return e.filter(function(e){return e.fn===t})||[]},T=function(e,t){for(var i=e.filter(function(e){return-1!==t.indexOf(e.fn)}),s={},o=0;o<i.length;o++)s[i[o].fn]||(s[i[o].fn]=i[o].e);return s},k=function(e,t,i,s){return e[t]&&(e=e[t](i,s),w(e)||(i=e)),i},_.ODataAdaptor=(new _.UrlAdaptor).extend({options:{requestType:"get",accept:"application/json;odata=light;q=1,application/json;odata=verbose;q=0.5",multipartAccept:"multipart/mixed",sortBy:"$orderby",select:"$select",skip:"$skip",take:"$top",count:"$inlinecount",where:"$filter",expand:"$expand",batch:"$batch",changeSet:"--changeset_",batchPre:"batch_",contentId:"Content-Id: ",batchContent:"Content-Type: multipart/mixed; boundary=",changeSetContent:"Content-Type: application/http\nContent-Transfer-Encoding: binary ",batchChangeSetContentType:"Content-Type: application/json; charset=utf-8 "},onEachWhere:function(e,t){return e.isComplex?this.onComplexPredicate(e,t):this.onPredicate(e,t)},onPredicate:function(e,t,i){var s,o="",n=e.value,a=typeof n,r=this._p(e.field);return n instanceof Date&&(n="datetime'"+I.replacer(n).toJSON()+"'"),"string"==a&&(i&&(r="cast("+r+", 'Edm.String')"),_.isGUID(n="'"+n+"'")&&(s="guid"),e.ignoreCase)&&(s||(r="tolower("+r+")"),n=n.toLowerCase()),(i=_.data.odBiOperator[e.operator])?(o=o+r+i,s&&(o+=s),o+n):(i=_.data.odUniOperator[e.operator])&&"string"==a?("substringof"===i&&(e=n,n=r,r=e),o=o+(i+"(")+(r+","),s&&(o+=s),o+(n+")")):""},onComplexPredicate:function(e,t){for(var i=[],s=0;s<e.predicates.length;s++)i.push("("+this.onEachWhere(e.predicates[s],t)+")");return i.join(" "+e.condition+" ")},onWhere:function(e){return this.pvt.searches&&e.push(this.onEachWhere(this.pvt.searches,null,!0)),e.join(" and ")},onEachSearch:function(e){var t,i;for(0===e.fields.length&&d("Query() - Search : oData search requires list of field names to search"),t=this.pvt.searches||[],i=0;i<e.fields.length;i++)t.push(new _.Predicate(e.fields[i],e.operator,e.key,e.ignoreCase));this.pvt.searches=t},onSearch:function(){return this.pvt.searches=_.Predicate.or(this.pvt.searches),""},onEachSort:function(e){var t,i=[];if(e.name instanceof Array)for(t=0;t<e.name.length;t++)i.push(this._p(e.name[t]));else i.push(this._p(e.name)+("descending"===e.direction?" desc":""));return i.join(",")},onSortBy:function(e){return e.reverse().join(",")},onGroup:function(e){return this.pvt.groups=e,""},onSelect:function(e){for(var t=0;t<e.length;t++)e[t]=this._p(e[t]);return e.join(",")},onAggregates:function(e){return this.pvt.aggregates=e,""},onCount:function(e){return!0===e?"allpages":""},beforeSend:function(e,t,i){i.url.endsWith(this.options.batch)&&"post"===i.type.toLowerCase()&&(t.setRequestHeader("Accept",y),t.setRequestHeader("DataServiceVersion","2.0"),t.overrideMimeType("text/plain; charset=x-user-defined")),e.dataSource.crossDomain||(t.setRequestHeader("DataServiceVersion","2.0"),t.setRequestHeader("MaxDataServiceVersion","2.0"))},processResponse:function(e,t,i,s,o,n){var a,r,l,d,h,c;if(!_.isNullOrUndefined(e.d)&&(a=i&&i._requiresCount?e.d.results:e.d,!_.isNullOrUndefined(a)))for(f=0;f<a.length;f++)_.isNullOrUndefined(a[f].__metadata)||delete a[f].__metadata;if(r=o&&o.ejPvtData,s&&s.getResponseHeader("Content-Type")&&-1!=s.getResponseHeader("Content-Type").indexOf("xml")&&9==e.nodeType)return i._requiresCount?{result:[],count:0}:[];if(o&&this.options.batch&&o.url.endsWith(this.options.batch)&&"post"===o.type.toLowerCase()){if(o=(o=s.getResponseHeader("Content-Type")).substring(o.indexOf("=batchresponse")+1),(e=e.split(o)).length<2)return;for(e=e[1],o=/(?:\bContent-Type.+boundary=)(changesetresponse.+)/i.exec(e),e.replace(o[0],""),o=o[1],f=(e=e.split(o)).length;-1<f;f--)/\bContent-ID:/i.test(e[f])&&/\bHTTP.+201/.test(e[f])&&(l=parseInt(/\bContent-ID: (\d+)/i.exec(e[f])[1]),n.added[l])&&(d=I.parseJson(/^\{.+\}/m.exec(e[f])[0]),b.extend(n.added[l],this.processResponse(d)));return n}var o=null,u={},s=(s=s&&s.getResponseHeader("DataServiceVersion"))&&parseInt(s,10)||2;if(i&&i._requiresCount&&((e.__count||e["odata.count"])&&(o=e.__count||e["odata.count"]),(e=e.d?e.d:e).__count||e["odata.count"])&&(o=e.__count||e["odata.count"]),(e=3===s&&e.value?e.value:e).d&&(e=e.d),s<3&&e.results&&(e=e.results),r&&r.aggregates&&r.aggregates.length){for(var p,m=r.aggregates,g={},f=0;f<m.length;f++)(p=_.aggregates[m[f].type])&&(g[m[f].field+" - "+m[f].type]=p(e,m[f].field));u=g}if(r&&r.groups&&r.groups.length)for(h=r.groups,f=0;f<h.length;f++)c=j(h[f],i.queries),e=_.group(e,h[f],r.aggregates,c);return w(o)?e:{result:e,count:o,aggregates:u}},convertToQueryString:function(e,t,i){var s,o=[],n=e.table||"";for(s in delete e.table,i.dataSource.requiresFormat&&(e.$format="json"),e)o.push(s+"="+e[s]);return o=o.join("&"),i.dataSource.url&&-1!==i.dataSource.url.indexOf("?")&&!n?o:o.length?n+"?"+o:n||""},insert:function(e,t,i){return{url:e.dataSource.url.replace(/\/*$/,i?"/"+i:""),data:JSON.stringify(t)}},remove:function(e,t,i,s){return{type:"DELETE",url:e.dataSource.url.replace(/\/*$/,s?"/"+s:"")+"("+i+")"}},update:function(e,t,i,s){return{type:"PUT",url:e.dataSource.url.replace(/\/*$/,s?"/"+s:"")+"("+i[t]+")",data:JSON.stringify(i),accept:this.options.accept}},batchRequest:function(e,t,i){var s=i.guid=_.getGuid(C),e=e.dataSource.url.replace(/\/*$/,"/"+this.options.batch),i={url:i.url,key:i.key,cid:1,cSet:_.getGuid(S)},o="--"+s+"\n";return o+="Content-Type: multipart/mixed; boundary="+i.cSet.replace("--","")+"\n",this.pvt.changeSet=0,{type:"POST",url:e,contentType:"multipart/mixed; charset=UTF-8;boundary="+s,data:(o+=this.generateInsertRequest(t.added,i))+this.generateUpdateRequest(t.changed,i)+this.generateDeleteRequest(t.deleted,i)+(i.cSet+"--\n")+("--"+s+"--")}},generateDeleteRequest:function(e,t){var i,s;if(!e)return"";for(i="",s=0;s<e.length;s++)i=(i=(i=(i=(i=(i+="\n"+t.cSet+"\n")+(D+"\n\n"))+"DELETE "+(t.url+"("+e[s][t.key]+") HTTP/1.1\n"))+"If-Match : * \n"+("Accept: "+u+"\n"))+("Content-Id: "+this.pvt.changeSet+++"\n"))+($+"\n");return i+"\n"},generateInsertRequest:function(e,t){var i,s;if(!e)return"";for(i="",s=0;s<e.length;s++)i=(i=(i=(i=(i=(i=(i+="\n"+t.cSet+"\n")+(D+"\n\n"))+"POST "+(t.url+" HTTP/1.1\n"))+("Accept: "+u+"\n"))+("Content-Id: "+this.pvt.changeSet+++"\n"))+($+"\n\n"))+(JSON.stringify(e[s])+"\n");return i},generateUpdateRequest:function(e,t){var i,s;if(!e)return"";for(i="",s=0;s<e.length;s++)i=(i=(i=(i=(i=(i=(i+="\n"+t.cSet+"\n")+(D+"\n\n"))+"PUT "+(t.url+"("+e[s][t.key]+") HTTP/1.1\n"))+"If-Match : * \n"+("Accept: "+u+"\n"))+("Content-Id: "+this.pvt.changeSet+++"\n"))+($+"\n\n"))+(JSON.stringify(e[s])+"\n\n");return i},_p:function(e){return e.replace(/\./g,"/")}}),_.ODataV4Adaptor=(new _.ODataAdaptor).extend({options:{requestType:"get",accept:"application/json;odata=light;q=1,application/json;odata=verbose;q=0.5",multipartAccept:"multipart/mixed",sortBy:"$orderby",select:"$select",skip:"$skip",take:"$top",count:"$count",search:"$search",where:"$filter",expand:"$expand",batch:"$batch",changeSet:"--changeset_",batchPre:"batch_",contentId:"Content-Id: ",batchContent:"Content-Type: multipart/mixed; boundary=",changeSetContent:"Content-Type: application/http\nContent-Transfer-Encoding: binary ",batchChangeSetContentType:"Content-Type: application/json; charset=utf-8 "},onCount:function(e){return!0===e?"true":""},onPredicate:function(e,t,i){var s="",o=e.value instanceof Date;return _.data.odUniOperator.contains="contains",s=_.ODataAdaptor.prototype.onPredicate.call(this,e,t,i),_.data.odUniOperator.contains="substringof",s=o?s.replace(/datetime'(.*)'$/,"$1"):s},onEachSearch:function(e){var t=this.pvt.search||[];t.push(e.key),this.pvt.search=t},onSearch:function(){return this.pvt.search.join(" OR ")},beforeSend:function(){},processQuery:function(e,t){for(var i,s,o=/\/[\d*\/]*/g,n="",a=t._expands.length-1;0<a;a--)if(0<=n.indexOf(t._expands[a]))t._expands.pop();else if(o.test(t._expands[a])){for(i=(n=t._expands.pop()).replace(o,"($expand="),s=0;s<n.split(o).length-1;s++)i+=")";t._expands.unshift(i),a++}return _.ODataAdaptor.prototype.processQuery.apply(this,[e,t])},processResponse:function(e,t,i,s,o,n){var a,r,l,d,h=o&&o.ejPvtData;if(s&&s.getResponseHeader("Content-Type")&&-1!=s.getResponseHeader("Content-Type").indexOf("xml")&&9==e.nodeType)return i._requiresCount?{result:[],count:0}:[];if(o&&this.options.batch&&o.url.endsWith(this.options.batch)&&"post"===o.type.toLowerCase()){if(o=(o=s.getResponseHeader("Content-Type")).substring(o.indexOf("=batchresponse")+1),(e=e.split(o)).length<2)return;for(e=e[1],s=/(?:\bContent-Type.+boundary=)(changesetresponse.+)/i.exec(e),e.replace(s[0],""),o=s[1],m=(e=e.split(o)).length;-1<m;m--)/\bContent-ID:/i.test(e[m])&&/\bHTTP.+201/.test(e[m])&&(a=parseInt(/\bContent-ID: (\d+)/i.exec(e[m])[1]),n.added[a])&&(r=I.parseJson(/^\{.+\}/m.exec(e[m])[0]),b.extend(n.added[a],this.processResponse(r)));return n}if(s=null,o={},i&&i._requiresCount&&"@odata.count"in e&&(s=e["@odata.count"]),e=_.isNullOrUndefined(e.value)?e:e.value,h&&h.aggregates&&h.aggregates.length){for(var c,u=h.aggregates,p={},m=0;m<u.length;m++)(c=_.aggregates[u[m].type])&&(p[u[m].field+" - "+u[m].type]=c(e,u[m].field));o=p}if(h&&h.groups&&h.groups.length)for(l=h.groups,m=0;m<l.length;m++)d=j(l[m],i.queries),e=_.group(e,l[m],h.aggregates,d);return w(s)?e:{result:e,count:s,aggregates:o}}}),_.JsonAdaptor=(new _.Adaptor).extend({processQuery:function(e,t){for(var i,s,o=e.dataSource.json.slice(0),n=o.length,a=!0,r={},l=0;l<t.queries.length;l++)i=this[(s=t.queries[l]).fn].call(this,o,s.e,t),"onAggregates"==s.fn?r[s.e.field+" - "+s.e.type]=i:o=i!==g?i:o,(a="onPage"!==s.fn&&"onSkip"!==s.fn&&"onTake"!==s.fn&&"onRange"!==s.fn?a:!1)&&(n=o.length);return o=t._requiresCount?{result:o,count:n,aggregates:r}:o},batchRequest:function(e,t,i){for(var s=0;s<t.added.length;s++)this.insert(e,t.added[s]);for(s=0;s<t.changed.length;s++)this.update(e,i.key,t.changed[s]);for(s=0;s<t.deleted.length;s++)this.remove(e,i.key,t.deleted[s]);return t},onWhere:function(e,t){return e&&e.filter(function(e){return t.validate(e)})},onAggregates:function(e,t){var i=_.aggregates[t.type];return e&&i&&0!=e.length?i(e,t.field):null},onSearch:function(e,i){return e&&e.length?(0===i.fieldNames.length&&_.pvt.getFieldList(e[0],i.fieldNames),e.filter(function(e){for(var t=0;t<i.fieldNames.length;t++)if(i.comparer.call(e,_.pvt.getObject(i.fieldNames[t],e),i.searchKey,i.ignoreCase))return!0;return!1})):e},onSortBy:function(e,t,i){var s,o,n;if(!e)return e;if(!(o=v(t.fieldName,i)))return e.sort(t.comparer);if(o instanceof Array){for(n=(o=o.slice(0)).length-1;0<=n;n--)o[n]&&(s=t.comparer,o[n].endsWith(" desc")&&(s=_.pvt.fnSort(_.sortOrder.Descending),o[n]=o[n].replace(" desc","")),e=O(e,o[n],s,[]));return e}return O(e,o,t.comparer,i?i.queries:[])},onGroup:function(e,t,i){var s,o,n,a,r;if(!e)return e;if(o=[],(s=x(i.queries,"onAggregates")).length)for(a=0;a<s.length;a++)n=s[a].e,o.push({type:n.type,field:v(n.field,i)});return r=j(t.fieldName,i.queries),_.group(e,v(t.fieldName,i),o,r)},onPage:function(e,t,i){var s=v(t.pageSize,i),t=(v(t.pageIndex,i)-1)*s;return e&&e.slice(t,t+s)},onRange:function(e,t){return e&&e.slice(v(t.start),v(t.end))},onTake:function(e,t){return e&&e.slice(0,v(t.nos))},onSkip:function(e,t){return e&&e.slice(v(t.nos))},onSelect:function(e,t){return e&&_.select(e,v(t.fieldNames))},insert:function(e,t){return e.dataSource.json.push(t)},remove:function(e,t,i){var s,o=e.dataSource.json;for("object"==typeof i&&(i=_.getObject(t,i)),s=0;s<o.length&&_.getObject(t,o[s])!==i;s++);return s!==o.length?o.splice(s,1):null},update:function(e,t,i){for(var s=e.dataSource.json,o=_.getObject(t,i),n=0;n<s.length&&_.getObject(t,s[n])!==o;n++);return n<s.length?b.extend(s[n],i):null}}),_.ForeignKeyAdaptor=function(i,s){var e=(new _[s||"JsonAdaptor"]).extend({init:function(){var e,t;for(this.foreignData=[],this.key=[],this.adaptorType=s,this.value=[],this.fValue=[],this.keyField=[],e=i,t=0;t<e.length;t++)this.foreignData[t]=e[t].dataSource,this.key[t]=e[t].foreignKeyField,this.fValue[t]=_.isNullOrUndefined(e[t].field)?e[t].foreignKeyValue:e[t].field+"_"+e[t].foreignKeyValue,this.value[t]=e[t].foreignKeyValue,this.keyField[t]=e[t].field||e[t].foreignKeyField,this.initial=!0},processQuery:function(e,t){var i,s,o,n=e.dataSource.json;if(this.initial){for(i=0;i<n.length;i++)for(s=this,o=0;o<this.foreignData.length;o++)this.foreignData[o].filter(function(e){_.getObject(s.key[o],e)==_.getObject(s.keyField[o],n[i])&&(n[i][s.fValue[o]]=_.getObject(s.value[o],e))});this.initial=!1}return this.base.processQuery.apply(this,[e,t])},setValue:function(e){for(var t,i,s,o=0;o<this.foreignData.length;o++)"string"!=typeof(i=e[(t=this).fValue[o]])||isNaN(i)||(i=_.parseFloat(i)),s=b.grep(t.foreignData[o],function(e){return e[t.value[o]]==i})[0],_.isNullOrUndefined(s)&&(s=b.grep(t.foreignData[o],function(e){return e[t.key[o]]==i})[0],_.getObject(this.value[o],s)!=g)&&_.createObject(t.value[o],_.getObject(this.value[o],s),e),_.getObject(this.value[o],s)!=g&&_.createObject(this.keyField[o],_.getObject(this.key[o],s),e)},insert:function(e,t,i){return this.setValue(t),{url:e.dataSource.insertUrl||e.dataSource.crudUrl||e.dataSource.url,data:JSON.stringify({value:t,table:i,action:"insert"})}},update:function(e,t,i,s){return this.setValue(i),_.JsonAdaptor.prototype.update(e,t,i,s),{type:"POST",url:e.dataSource.updateUrl||e.dataSource.crudUrl||e.dataSource.url,data:JSON.stringify({value:i,action:"update",keyColumn:t,key:i[t],table:s})}}});return b.extend(this,new e),this},_.remoteSaveAdaptor=(new _.JsonAdaptor).extend({beforeSend:_.UrlAdaptor.prototype.beforeSend,insert:_.UrlAdaptor.prototype.insert,update:_.UrlAdaptor.prototype.update,remove:_.UrlAdaptor.prototype.remove,addParams:_.UrlAdaptor.prototype.addParams,batchRequest:function(e,t,i){for(var s=0;s<t.added.length;s++)_.JsonAdaptor.prototype.insert(e,t.added[s]);for(s=0;s<t.changed.length;s++)_.JsonAdaptor.prototype.update(e,i.key,t.changed[s]);for(s=0;s<t.deleted.length;s++)_.JsonAdaptor.prototype.remove(e,i.key,t.deleted[s]);return{type:"POST",url:e.dataSource.batchUrl||e.dataSource.crudUrl||e.dataSource.url,contentType:"application/json; charset=utf-8",dataType:"json",data:JSON.stringify({changed:t.changed,added:t.added,deleted:t.deleted,action:"batch",table:i.url,key:i.key})}}}),_.WebApiAdaptor=(new _.ODataAdaptor).extend({insert:function(e,t){return{type:"POST",url:e.dataSource.url,data:JSON.stringify(t)}},remove:function(e,t,i){return{type:"DELETE",url:e.dataSource.url+"/"+i,data:JSON.stringify(i)}},update:function(e,t,i){return{type:"PUT",url:e.dataSource.url,data:JSON.stringify(i)}},processResponse:function(e,t,i,s,o){var n,a,r=o&&o.ejPvtData;if(o&&"post"!=o.type.toLowerCase()){var o=null,l={},s=(s=s&&s.getResponseHeader("DataServiceVersion"))&&parseInt(s,10)||2;if(i&&i._requiresCount&&(w(e.Count)||(o=e.Count)),s<3&&e.Items&&(e=e.Items),r&&r.aggregates&&r.aggregates.length){for(var d,h=r.aggregates,c={},u=0;u<h.length;u++)(d=_.aggregates[h[u].type])&&(c[h[u].field+" - "+h[u].type]=d(e,h[u].field));l=c}if(r&&r.groups&&r.groups.length)for(n=r.groups,u=0;u<n.length;u++)a=j(n[u],i.queries),e=_.group(e,n[u],r.aggregates,a);return w(o)?e:{result:e,count:o,aggregates:l}}}}),v=function(e,t){return"function"==typeof e?e.call(t||{}):e},_.TableModel=function(e,t,i,s){var o,n,a,r;if(!P(this,_.TableModel))return new _.TableModel(t);for(P(t,Array)||d("ej.TableModel - Json Array is required"),o=[],a=m(z,this),r=0;r<t.length;r++)(n=new _.Model(t[r],this)).state="unchanged",n.on("stateChange",a),s&&n.computes(s),o.push(n);return this.name=e||"table1",this.rows=_.NotifierArray(o),this._deleted=[],this._events=b({}),this.dataManager=i,this._isDirty=!1,this},_.TableModel.prototype={on:function(e,t){this._events.on(e,t)},off:function(e,t){this._events.off(e,t)},setDataManager:function(e){this.dataManagar=e},saveChanges:function(){var e;this.dataManager&&P(this.dataManager,_.DataManager)||d("ej.TableModel - saveChanges : Set the dataManager using setDataManager function"),this.isDirty()&&((e=this.dataManager.saveChanges(this.getChanges(),this.key,this.name)).done(m(function(e){for(var t=this.toArray(),i=0;i<t.length;i++)"added"===t.state&&t.set(this.key,e.added.filter(function(e){return e[this.key]===t.get(this.key)})[0][this.key]),t[i].markCommit();this._events.triggerHandler({type:"save",table:this})},this)),e.fail(m(function(e){this.rejectChanges(),this._events.triggerHandler({type:"reject",table:this,error:e})},this)),this._isDirty=!1)},rejectChanges:function(){for(var e=this.toArray(),t=0;t<e.length;t++)e[t].revert(!0);this._isDirty=!1,this._events.triggerHandler({type:"reject",table:this})},insert:function(e){e=new _.Model(e);e._isDirty=this._isDirty=!0,this.rows.push(e),this._events.triggerHandler({type:"insert",model:e,table:this})},update:function(e){this.key||d("TableModel - update : Primary key should be assigned to TableModel.key");var t,i=e,s=this.key,o=i[s],n=this.rows.array.filter(function(e){return e.get(s)===o});for(t in n=n[0],i)n.set(t,i[t]);this._isDirty=!0,this._events.triggerHandler({type:"update",model:n,table:this})},remove:function(e){var t,i,s,o;for(this.key||d("TableModel - update : Primary key should be assigned to TableModel.key"),t=this.key,i=-1,e&&"object"==typeof e&&(e=e[t]!==g?e[t]:e.get(t)),o=0;o<this.rows.length();o++)if(this.rows.array[o].get(t)===e){i=o;break}-1<i&&((s=this.rows.removeAt(i)).markDelete(),this._deleted.push({model:s,position:i}),this._isDirty=!0,this._events.triggerHandler({type:"remove",model:s,table:this}))},isDirty:function(){return this._isDirty},getChanges:function(){for(var e={added:[],changed:[]},t=this.toArray(),i=0;i<t.length;i++)e[t[i].state]&&e[t[i].state].push(t[i].json);return e.deleted=_.select(this._deleted,["model"]),e},toArray:function(){return this.rows.toArray()},setDirty:function(e,t){this._isDirty!==!!e&&(this._isDirty=!!e,this._events.triggerHandler({type:"dirty",table:this,model:t}))},get:function(e){return this.rows.array[e]},length:function(){return this.rows.array.length},bindTo:function(e){var t,i,s=a,o=b(e.html()),n=this.toArray();for((s=b.inArray(e.prop("tagName").toLowerCase(),["table","tbody"])?r:s).insertBefore(e),e.detach().empty(),i=0;i<n.length;i++)t=o.clone(),n[i].bindTo(t),e.append(t);e.insertAfter(s),s.remove()}},a=e?b(document.createElement("div")):{},r=e?b(document.createElement("tr")):{},_.Model=function(e,t,i){"string"==typeof t&&(i=t,t=null),this.$id=M("m"),this.json=e,this.table=t instanceof _.TableModel?t:null,this.name=i||this.table&&this.table.name,this.dataManager=t instanceof _.DataManager?t:t.dataManagar,this.actual={},this._events=b({}),this.isDirty=!1,this.state="added",this._props=[],this._computeEls={},this._fields={},this._attrEls={},this._updates={},this.computed={}},_.Model.prototype={computes:function(e){b.extend(this.computed,e)},on:function(e,t){this._events.on(e,t)},off:function(e,t){this._events.off(e,t)},set:function(e,t){var i,s,o=this.json,n=e;for(e=e.split("."),s=0;s<e.length-1;s++)o=o[(e=e[0])[0]];this.isDirty=!0,this.changeState("changed",{from:"set"}),i=o[e],this.actual[e]!==g||e in this.actual||(this.actual[e]=t),o[e]=t,this._updateValues(e,t),this._events.triggerHandler({type:n,current:t,previous:i,model:this})},get:function(e){return _.pvt.getObject(e,this.json)},revert:function(e){for(var t in this.actual)this.json[t]=this.actual[t];this.isDirty=!1,e?this.state="unchanged":this.changeState("unchanged",{from:"revert"})},save:function(e,t){return e=e||this.dataManagar,t=t||e.dataSource.key,e||d("ej.Model - DataManager is required to commit the changes"),"added"===this.state?e.insert(this.json,this.name).done(_.proxy(function(e){b.extend(this.json,e.record)},this)):"changed"===this.state?e.update(t,this.json,this.name):"deleted"===this.state?e.remove(t,this.json,this.name):void 0},markCommit:function(){this.isDirty=!1,this.changeState("unchanged",{from:"commit"})},markDelete:function(){this.changeState("deleted",{from:"delete"})},changeState:function(e,t){if(this.state!==e){if("added"===this.state){if("deleted"!==e)return;e="unchanged"}var i=e;t=t||{},this.state=e,this._events.triggerHandler(b.extend({type:"stateChange",current:e,previous:i,model:this},t))}},properties:function(){if(!this._props.length)for(var e in this.json)this._props.push(e),this._updates[e]={read:[],input:[]};return this._props},bindTo:function(e){var t,i,s,o,e=b(e),n=e.find("[ej-observe], [ej-computed], [ej-prop]"),a=n.length;for(e.data("ejModel",this),s={fields:[],props:[],computes:[]},o=0;o<a;o++)(i=(t=n.eq(o)).attr("ej-prop"))&&this._processAttrib(i,t,s),(i=t.attr("ej-observe"))&&-1!==this._props.indexOf(i)?this._processField(t,i,s):(i=t.attr("ej-computed"))&&this._processComputed(i,t,s);e.data("ejModelBinding"+this.$id,s)},unbind:function(e){var t,i,s,o,n,a,r={props:this._attrEls,computes:this._computeEls},l=!1;for(i in e&&(r=b(e).removeData("ejModel").data("ejModelBinding"+this.$id)||r,l=!0),this.computed)t=r.computes[i],i=this.computed[i],t&&i.deps&&(this.off(i.deps.join(" "),t.handle),l)&&delete this._computeEls[i];for(i in l||(this._computeEls={}),r.props)t=r.props[i],t&&(this.off(t.deps.join(" "),t.handle),delete r.props[i],l)&&delete this._attrEls[i];if(l||(this._attrEls={}),r.fields&&r.fields.length)for(s=r.fields.length,a=0;a<s;a++)o=r.fields[a],b(o).off("change",null,this._changeHandler),n=-1!==this.formElements.indexOf(o.tagName.toLowerCase())?"input":"read",-1!==(o=this._updates[n].indexOf(o))&&this._updates[n].splice(o,1)},_processComputed:function(e,t,i){var s,o,n;e&&(o=B(e),n=-1!==this.formElements.indexOf(t[0].tagName.toLowerCase())?"val":"html",this.computed[e]&&this.computed[o]||(this.computed[o]={value:new Function("var e = this; return "+e),deps:this._generateDeps(e)},e=o),(s=this.computed[e]).get||(s.get=function(){s.value.call(this.json)}),o=s.deps,s=s.value,this._updateDeps(o),this._updateElement(t,n,s),s={el:t,handle:m(this._computeHandle,this,{value:e,type:n})},this._computeEls[e]=s,i.computes[e]=s,this.on(o.join(" "),s.handle))},_computeHandle:function(e){var t=this._computeEls[e.value];t&&this.computed[e.value]&&this._updateElement(t.el,e.type,this.computed[e.value].value)},_updateElement:function(e,t,i){e[t](i.call(b.extend({},this.json,this.computed)))},_updateDeps:function(e){for(var t=0;t<e.length;t++)!(e[t]in this.json)&&e[t]in this.computed&&_.merge(e,this.computed[e[t]].deps)},_generateDeps:function(e){for(var t,i=e.replace(/(^e\.)|( e\.)/g,"#%^*##ej.#").split("#%^*#"),s=[],o=0;o<i.length;o++)i[o].startsWith("#ej.#")&&(t=i[o].replace("#ej.#","").split(" ")[0])&&-1!==this._props.indexOf(t)&&s.push(t);return s},_processAttrib:function(e,t,i){var s,o,n,a,r={};for(e=e.replace(/^ +| +$/g,"").split(";"),n=0;n<e.length;n++)e[n]=e[n].split(":"),e[n].length<2||(r[s=e[n][0].replace(/^ +| +$/g,"").replace(/^'|^"|'$|"$/g,"")]=e[n][1].replace(/^ +| +$/g,"").replace(/^'|^"|'$|"$/g,""));for(s in a=[],e=r)a.push(e[s]);this._updateDeps(a),this._updateProps(t,e),r=M("emak"),o={el:t,handle:m(this._attrHandle,this,r),value:e,deps:a},t.prop("ejmodelattrkey",r),i.props[r]=o,this._attrEls[r]=o,this.on(a.join(" "),o.handle)},_attrHandle:function(e){e=this._attrEls[e];e&&this._updateProps(e.el,e.value)},_updateProps:function(e,t){var i,s,o=this.json,n=this.computed;for(s in t)i=t[s],i in o?i=o[i]:i in n&&(i=n[i],i=i&&i.value.call(b.extend({},this.json,n))),w(i)||e.prop(s,i)},_updateValues:function(e,t){e=this._updates[e];e&&(e.read||e.input)&&(this._ensureItems(e.read,"html",t),this._ensureItems(e.input,"val",t))},_ensureItems:function(e,t,i){if(e)for(var s=e.length-1;-1<s;s--)e[s].offsetParent?b(e[s])[t](i):e.splice(s,1)},_changeHandler:function(e){e.data.self.set(e.data.prop,b(this).val())},_processField:function(e,t,i){var s={self:this,prop:t},o=this.get(t);return i.fields.push(e[0]),(-1===this.formElements.indexOf(e[0].tagName.toLowerCase())?(e.html(o),this._updates[t].read):(e.val(o).off("change",null,this._changeHandler).on("change",null,s,this._changeHandler),this._updates[t].input)).push(e[0])},formElements:["input","select","textarea"]},t=/[^\w]+/g,B=function(e){return e.replace(t,"_")},z=function(e){this.setDirty(!0,e.model)},_.Predicate=function(e,t,i,s){return this instanceof _.Predicate?("string"==typeof e?(this.field=e,this.operator=t,this.value=i,this.ignoreCase=s,this.isComplex=!1,this._comparer=_.data.fnOperators.processOperator(this.operator)):(e instanceof _.Predicate&&i instanceof _.Predicate||i instanceof Array)&&(this.isComplex=!0,this.condition=t.toLowerCase(),this.predicates=[e],i instanceof Array?[].push.apply(this.predicates,i):this.predicates.push(i)),this):new _.Predicate(e,t,i,s)},_.Predicate.and=function(){return n._combinePredicates([].slice.call(arguments,0),"and")},_.Predicate.or=function(){return n._combinePredicates([].slice.call(arguments,0),"or")},_.Predicate.fromJSON=function(e){var t,i,s;if(P(e,Array)){for(t=[],i=0,s=e.length;i<s;i++)t.push(n._fromJSON(e[i]));return t}return n._fromJSON(e)},n={_combinePredicates:function(e,t){if(!e.length)return g;if(1===e.length){if(!P(e[0],Array))return e[0];e=e[0]}return new _.Predicate(e[0],t,e.slice(1))},_combine:function(e,t,i,s,o,n){return t instanceof _.Predicate?_.Predicate[o](e,t):"string"==typeof t?_.Predicate[o](e,new _.Predicate(t,i,s,n)):d("Predicate - "+o+" : invalid arguments")},_fromJSON:function(e){if(!e||P(e,_.Predicate))return e;for(var t=e.predicates||[],i=t.length,s=[],o=0;o<i;o++)s.push(n._fromJSON(t[o]));return e.isComplex?new _.Predicate(s[0],e.condition,s.slice(1)):new _.Predicate(e.field,e.operator,_.parseJSON({val:e.value}).val,e.ignoreCase)}},_.Predicate.prototype={and:function(e,t,i,s){return n._combine(this,e,t,i,"and",s)},or:function(e,t,i,s){return n._combine(this,e,t,i,"or",s)},validate:function(e){var t,i,s,o=this.predicates;if(!this.isComplex)return this._comparer.call(this,_.pvt.getObject(this.field,e),this.value,this.ignoreCase);for(t="and"===this.condition,s=0;s<o.length;s++)if(i=o[s].validate(e),t){if(!i)return!1}else if(i)return!0;return t},toJSON:function(){var e,t,i;if(this.isComplex)for(e=[],t=this.predicates,i=0;i<t.length;i++)e.push(t[i].toJSON());return{isComplex:this.isComplex,field:this.field,operator:this.operator,value:this.value,ignoreCase:this.ignoreCase,condition:this.condition,predicates:e}}},_.dataUtil={swap:function(e,t,i){var s;t!=i&&(s=e[t],e[t]=e[i],e[i]=s)},mergeSort:function(e,t,i){return i&&"string"!=typeof i||(i=_.pvt.fnSort(i,!0)),"function"==typeof t&&(i=t,t=null),_.pvt.mergeSort(e,t,i)},max:function(e,t,i){return"function"==typeof t&&(i=t,t=null),_.pvt.getItemFromComparer(e,t,i||_.pvt.fnDescending)},min:function(e,t,i){return"function"==typeof t&&(i=t,t=null),_.pvt.getItemFromComparer(e,t,i||_.pvt.fnAscending)},distinct:function(e,t,i){for(var s,o=[],n={},a=0;a<e.length;a++)(s=L(e,t,a))in n||(o.push(i?e[a]:s),n[s]=1);return o},sum:function(e,t){for(var i,s=0,o="number"!=typeof L(e,t,0),n=0;n<e.length;n++)i=L(e,t,n),isNaN(i)||null===i||(s+=i=o?+i:i);return s},avg:function(e,t){return _.sum(e,t)/e.length},select:function(e,t){for(var i=[],s=0;s<e.length;s++)i.push(_.pvt.extractFields(e[s],t));return i},group:function(t,e,i,s,o,n){var a,r,l,d,h,c,u,p,m,g;if(o=o||1,t.GROUPGUID==_.pvt.consts.GROUPGUID){for(m=0;m<t.length;m++)_.isNullOrUndefined(n)?(t[m].items=_.group(t[m].items,e,i,s,t.level+1),t[m].count=t[m].items.length):(g=b.grep(n,function(e){return e.key==t[m].key}),a=n.indexOf(g[0]),t[m].items=_.group(t[m].items,e,i,s,t.level+1,n[a].items),t[m].count=n[a].count);return t.childLevels+=1,t}for(r={},(l=[]).GROUPGUID=_.pvt.consts.GROUPGUID,l.level=o,l.childLevels=0,l.records=t,c=0;c<t.length;c++)d=L(t,e,c),_.isNullOrUndefined(s)||(d=s(d,e)),r[d]||(r[d]={key:d,count:0,items:[],aggregates:{},field:e},l.push(r[d]),_.isNullOrUndefined(n))||(h=b.grep(n,function(e){return e.key==r[d].key}),r[d].count=h[0].count),r[d].count=_.isNullOrUndefined(n)?r[d].count+=1:r[d].count,r[d].items.push(t[c]);if(i&&i.length)for(c=0;c<l.length;c++){for(u={},m=0;m<i.length;m++)p=_.aggregates[i[m].type],_.isNullOrUndefined(n)?p&&(u[i[m].field+" - "+i[m].type]=p(l[c].items,i[m].field)):(g=b.grep(n,function(e){return e.key==l[c].key}),p&&(u[i[m].field+" - "+i[m].type]=p(g[0].items,i[m].field)));l[c].aggregates=u}return l},parseTable:function(e,t,i){var s,o,n,a,r,l,d=e.rows,h=[],c=[];if(!d.length)return[];for(i=i||0,o=((t||"").toLowerCase()===_.headerOption.tHead?e.tHead:(_.headerOption.row,e)).rows[i].cells,s=0;s<o.length;s++)h.push(b.trim(o[s].innerHTML));for(s=i+1;s<d.length;s++){for(n={},a=d[s].cells,r=0;r<a.length;r++)l=a[r].innerHTML,n[h[r]]="string"==typeof l&&b.isNumeric(l)?Number(l):l;c.push(n)}return c}},_.headerOption={tHead:"thead",row:"row"},_.aggregates={sum:function(e,t){return _.sum(e,t)},average:function(e,t){return _.avg(e,t)},minimum:function(e,t){return _.getObject(t,_.min(e,t))},maximum:function(e,t){return _.getObject(t,_.max(e,t))},truecount:function(e,t){t=_.Predicate(t,"equal",!0);return _.DataManager(e).executeLocal(_.Query().where(t)).length},falsecount:function(e,t){t=_.Predicate(t,"equal",!1);return _.DataManager(e).executeLocal(_.Query().where(t)).length},count:function(e){return e.length}},_.pvt={filterQueries:x,mergeSort:function(e,t,i){var s,o;return e.length<=1?e:(s=parseInt(e.length/2,10),o=e.slice(0,s),e=e.slice(s),o=_.pvt.mergeSort(o,t,i),e=_.pvt.mergeSort(e,t,i),_.pvt.merge(o,e,t,i))},getItemFromComparer:function(e,t,i){var s,o,n,a=0,r="string"==typeof L(e,t,0);if(e.length)for(;_.isNullOrUndefined(s)&&a<e.length;)s=L(e,t,a),n=e[a++];for(;a<e.length;a++)o=L(e,t,a),_.isNullOrUndefined(o)||(r&&(s=+s,o=+o),0<i(s,o)&&(s=o,n=e[a]));return n},quickSelect:function(e,t,i,s,o,n){var a,r;return i==s?e[i]:(r=(a=_.pvt.partition(e,t,i,s,n))-i+1)==o?e[a]:o<r?_.pvt.quickSelect(e,t,i,a-1,o,n):_.pvt.quickSelect(e,t,a+1,s,o-r,n)},extractFields:function(e,t){var i,s={};if(1==t.length)return _.pvt.getObject(t[0],e);for(i=0;i<t.length;i++)s[t[i].replace(".",_.pvt.consts.complexPropertyMerge)]=_.pvt.getObject(t[i],e);return s},partition:function(e,t,i,s,o){var n,a=parseInt((i+s)/2,10),r=L(e,t,a);for(_.swap(e,a,s),n=a=i;n<s;n++)o(L(e,t,n),r)&&(_.swap(e,n,a),a++);return _.swap(e,a,s),a},fnSort:function(e){return(e=e?e.toLowerCase():_.sortOrder.Ascending)==_.sortOrder.Ascending?_.pvt.fnAscending:_.pvt.fnDescending},fnGetComparer:function(i,s){return function(e,t){return s(_.pvt.getObject(i,e),_.pvt.getObject(i,t))}},fnAscending:function(e,t){return null===t||t===g?-1:"string"==typeof e?e.localeCompare(t):null===e||e===g?1:e-t},fnDescending:function(e,t){return null===t||t===g?1:"string"==typeof e?-1*e.localeCompare(t):null===e||e===g?-1:t-e},merge:function(e,t,i,s){for(var o,n=[];0<e.length||0<t.length;)o=0<e.length&&0<t.length?s?s(L(e,i,0),L(t,i,0))<=0?e:t:e[0][i]<e[0][i]?e:t:0<e.length?e:t,n.push(o.shift());return n},getObject:function(e,t){var i,s,o;if(!t)return g;if(!e)return t;if(-1===e.indexOf("."))return t[e];for(i=t,s=e.split("."),o=0;o<s.length&&null!=i;o++)i=i[s[o]];return i},createObject:function(e,t,i){for(var s=e.split("."),e=i||window,o=e,n=0;n<s.length;n++)n+1==s.length?o[s[n]]=t===g?{}:t:null==o[s[n]]&&(o[s[n]]={}),o=o[s[n]];return e},getFieldList:function(e,t,i){if(i===g&&(i=""),t===g||null===t)return _.pvt.getFieldList(e,[],i);for(var s in e)"object"!=typeof e[s]||e[s]instanceof Array?t.push(i+s):_.pvt.getFieldList(e[s],t,i+s+".");return t}},_.FilterOperators={lessThan:"lessthan",greaterThan:"greaterthan",lessThanOrEqual:"lessthanorequal",greaterThanOrEqual:"greaterthanorequal",equal:"equal",contains:"contains",startsWith:"startswith",endsWith:"endswith",notEqual:"notequal"},_.data={},_.data.operatorSymbols={"<":"lessthan",">":"greaterthan","<=":"lessthanorequal",">=":"greaterthanorequal","==":"equal","!=":"notequal","*=":"contains","$=":"endswith","^=":"startswith"},_.data.odBiOperator={"<":" lt ",">":" gt ","<=":" le ",">=":" ge ","==":" eq ","!=":" ne ",lessthan:" lt ",lessthanorequal:" le ",greaterthan:" gt ",greaterthanorequal:" ge ",equal:" eq ",notequal:" ne "},_.data.odUniOperator={"$=":"endswith","^=":"startswith","*=":"substringof",endswith:"endswith",startswith:"startswith",contains:"substringof"},_.data.fnOperators={equal:function(e,t,i){return i?A(e)==A(t):e==t},notequal:function(e,t,i){return!_.data.fnOperators.equal(e,t,i)},lessthan:function(e,t,i){return i?A(e)<A(t):e<t},greaterthan:function(e,t,i){return i?A(e)>A(t):t<e},lessthanorequal:function(e,t,i){return i?A(e)<=A(t):e<=t},greaterthanorequal:function(e,t,i){return i?A(e)>=A(t):t<=e},contains:function(e,t,i){return i?!w(e)&&!w(t)&&-1!=A(e).indexOf(A(t)):!w(e)&&!w(t)&&-1!=e.toString().indexOf(t)},notnull:function(e){return null!==e},isnull:function(e){return null===e},startswith:function(e,t,i){return i?e&&t&&A(e).startsWith(A(t)):e&&t&&e.startsWith(t)},endswith:function(e,t,i){return i?e&&t&&A(e).endsWith(A(t)):e&&t&&e.endsWith(t)},processSymbols:function(e){var e=_.data.operatorSymbols[e];return e&&(e=_.data.fnOperators[e])?e:d("Query - Process Operator : Invalid operator")},processOperator:function(e){var t=_.data.fnOperators[e];return t||_.data.fnOperators.processSymbols(e)}},_.NotifierArray=function(e){return P(this,_.NotifierArray)?(this.array=e,this._events=b({}),this._isDirty=!1,this):new _.NotifierArray(e)},_.NotifierArray.prototype={on:function(e,t){this._events.on(e,t)},off:function(e,t){this._events.off(e,t)},push:function(e){var t=P(e,Array)?[].push.apply(this.array,e):this.array.push(e);return this._raise("add",{item:e,index:this.length()-1}),t},pop:function(){var e=this.array.pop();return this._raise("remove",{item:e,index:this.length()-1}),e},addAt:function(e,t){return this.array.splice(e,0,t),this._raise("add",{item:t,index:e}),t},removeAt:function(e){var t=this.array.splice(e,1)[0];return this._raise("remove",{item:t,index:e}),t},remove:function(e){var t=this.array.indexOf(e);return-1<t&&(this.array.splice(t,1),this._raise("remove",{item:e,index:t})),t},length:function(){return this.array.length},_raise:function(e,t){this._events.triggerHandler(b.extend({type:e},t)),this._events.triggerHandler({type:"all",name:e,args:t})},toArray:function(){return this.array}},b.extend(_,_.dataUtil),Array.prototype.forEach=Array.prototype.forEach||function(e,t){for(var i=0,s=this.length;i<s;++i)e.call(t,this[i],i,this)},Array.prototype.indexOf=Array.prototype.indexOf||function(e){var t,i=this.length;if(0!==i)for(t=0;t<i;t++)if(t in this&&this[t]===e)return t;return-1},Array.prototype.filter=Array.prototype.filter||function(e){var t,i,s,o;if("function"!=typeof e)throw new TypeError;for(t=[],i=arguments[1]||this,s=0;s<this.length;s++)o=this[s],e.call(i,o,s,this)&&t.push(o);return t},String.prototype.endsWith=String.prototype.endsWith||function(e){return this.slice(-e.length)===e},String.prototype.startsWith=String.prototype.startsWith||function(e){return this.slice(0,e.length)===e},_.support||(_.support={}),_.support.stableSort=function(){for(var e=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16].sort(function(){return 0}),t=0;t<17;t++)if(t!==e[t])return!1;return!0}(),_.support.cors=b.support.cors,!b.support.cors&&window.XDomainRequest&&(s=/^https?:\/\//i,o=/^get|post$/i,h=new RegExp("^"+location.protocol,"i"),c=/\/xml/i,b.ajaxTransport("text html xml json",function(t,i){var n,a;if(t.crossDomain&&t.async&&o.test(t.type)&&s.test(i.url)&&h.test(i.url))return n=null,a=(i.dataType||"").toLowerCase(),{send:function(e,o){n=new XDomainRequest,/^\d+$/.test(i.timeout)&&(n.timeout=i.timeout),n.ontimeout=function(){o(500,"timeout")},n.onload=function(){var t,e="Content-Length: "+n.responseText.length+"\r\nContent-Type: "+n.contentType,i={code:200,message:"success"},s={text:n.responseText};try{if("json"===a)try{s.json=JSON.parse(n.responseText)}catch(e){i.code=500,i.message="parseerror"}else if("xml"===a||"text"!==a&&c.test(n.contentType)){(t=new ActiveXObject("Microsoft.XMLDOM")).async=!1;try{t.loadXML(n.responseText)}catch(e){t=g}if(!t||!t.documentElement||t.getElementsByTagName("parsererror").length)throw i.code=500,i.message="parseerror","Invalid XML: "+n.responseText;s.xml=t}}catch(e){throw e}finally{o(i.code,i.message,s,e)}},n.onerror=function(){o(500,"error",{text:n.responseText})},-1!=navigator.userAgent.indexOf("MSIE 9.0")&&(n.onprogress=function(){}),n.open(t.type,t.url),n.send(i.data)},abort:function(){n&&n.abort()}}})),b.support.cors=!0,_.sortOrder={Ascending:"ascending",Descending:"descending"},_.pvt.consts={GROUPGUID:"{271bbba0-1ee7}",complexPropertyMerge:"_"},l=function(e,t){t&&(e=m(e,t)),(window.setImmediate||window.setTimeout)(e,0)},_.support.enableLocalizedSort=!1,O=function(e,t,i,s){return _.support.stableSort?_.support.enableLocalizedSort||"string"!=typeof _.pvt.getObject(t,e[0]||{})||i!==_.pvt.fnAscending&&i!==_.pvt.fnDescending||1!==s.filter(function(e){return"onSortBy"===e.fn}).length?e.sort(_.pvt.fnGetComparer(t,i)):H(e,t,i===_.pvt.fnDescending):_.mergeSort(e,t,i)},j=function(e,t){for(var i=b.grep(t,function(e){return"onGroup"==e.fn}),s=0;s<i.length;s++)if(_.getObject("fieldName",i[s].e)==e)return _.getObject("fn",i[s].e)},H=function(e,t,i){var s=Object.prototype.toString;Object.prototype.toString=-1===t.indexOf(".")?function(){return this[t]}:function(){return _.pvt.getObject(t,this)},e=e.sort(),Object.prototype.toString=s,i&&e.reverse()},A=function(e){return e?(e.toLowerCase?e:e.toString()).toLowerCase():0===e||!1===e?e.toString():""},L=function(e,t,i){return t?_.pvt.getObject(t,e[i]):e[i]},U=function(e){return"object"==typeof HTMLElement?e instanceof HTMLElement:e&&1===e.nodeType&&"object"==typeof e&&"string"==typeof e.nodeName},P=function(e,t){return e instanceof t},E=function(t,i,s,o){return function(e){return"object"==typeof e&&(o=e,e=null),new _.TableModel(e||t,i,s,o)}},N=function(r){return function(e,t){var i,s,o,n,a;for((t=t||window.ko)||d("Knockout is undefined"),s=[],a=0;a<r.length;a++){for(o in i={},r[a])o.startsWith("_")||(i[o]=t.observable(r[a][o]));for(o in e)n=e[o],n=b.isPlainObject(n)?(n.owner||(n.owner=i),t.computed(n)):t.computed(n,i),i[o]=n;s.push(i)}return t.observableArray(s)}},i=0,M=function(e){return e+(i+=1)},_.getGuid=function(e){var s;return(e||"")+"00000000-0000-4000-0000-000000000000".replace(/0/g,function(e,t){var i;return s="crypto"in window&&"getRandomValues"in crypto?(i=new Uint8Array(1),window.crypto.getRandomValues(i),i[0]%16|0):16*Math.random()|0,"0123456789abcdef"[19===t?3&s|8:s]})},p=function(t,i){return function(){var e=[].slice.call(arguments,0);return e.push(this),t.apply(i||this,e)}},m=function(t,i,s){return"bind"in t?s?t.bind(i,s):t.bind(i):function(){var e=s?[s]:[];return e.push.apply(e,arguments),t.apply(i||this,e)}},_.merge=function(e,t){e&&t&&Array.prototype.push.apply(e,t)},w=function(e){return e===g||null===e},d=function(e){try{throw new Error(e)}catch(e){throw e.message+"\n"+e.stack}}}),function(e){"function"==typeof define&&define.amd?define(["./ej.core.min"],e):e()}(function(){var o,n,a,r,l,d;l=jQuery,(d=Syncfusion).widget("ejDraggable","ej.Draggable",{element:null,model:null,validTags:["div","span","a"],defaults:{scope:"default",handle:null,dragArea:null,clone:!1,distance:1,dragOnTaphold:!1,cursorAt:{top:-1,left:-2},dragStart:null,drag:null,dragStop:null,create:null,destroy:null,helper:function(){return l('<div class="e-drag-helper" />').html("draggable").appendTo(document.body)}},_init:function(){this.handler=function(){},this.resizables={},helpers={},this._wireEvents(),this._browser=d.browserInfo(),this._isIE8="msie"==this._browser.name&&"8.0"==this._browser.version,this._isIE9="msie"==this._browser.name&&"9.0"==this._browser.version,"msie"==this._browser.name&&this.element.addClass("e-pinch")},_setModel:function(e){for(var t in e)switch(t){case"dragArea":this.model.dragArea=e[t];break;case"dragOnTaphold":this.model.dragOnTaphold=e[t]}},_destroy:function(){l(document).off(d.eventType.mouseUp,this._destroyHandler).off(d.eventType.mouseUp,this._dragStopHandler).off(d.eventType.mouseMove,this._dragStartHandler).off(d.eventType.mouseMove,this._dragHandler).off("mouseleave",this._dragMouseOutHandler).off("selectstart",!1),d.widgetBase.droppables[this.scope]=null},_initialize:function(e){var t,i=e;e.preventDefault(),e=this._getCoordinate(e),this.target=l(i.currentTarget),this._initPosition={x:e.pageX,y:e.pageY},l(document).on(d.eventType.mouseMove,this._dragStartHandler).on(d.eventType.mouseUp,this._destroyHandler),this.model.clone||(t=this.element.offset(),this._relXposition=e.pageX-t.left,this._relYposition=e.pageY-t.top),l(document.documentElement).trigger(d.eventType.mouseDown,i)},_setDragArea:function(){var e,t,i,s,o,n,a=l(this.model.dragArea)[0];if(a){if(i=["left","right","bottom","top"],d.isNullOrUndefined(a.getBoundingClientRect)){for(e=l(this.model.dragArea).outerWidth(),t=l(this.model.dragArea).outerHeight(),n=0;n<i.length;n++)this["border-"+i[n]+"-width"]=0,this["padding-"+i[n]]=0;s=o=0}else{for(e=(a=a.getBoundingClientRect()).width||a.right-a.left,t=a.height||a.bottom-a.top,n=0;n<i.length;n++)this["border-"+i[n]+"-width"]=isNaN(parseFloat(l(l(this.model.dragArea)[0]).css("border-"+i[n]+"-width")))?0:parseFloat(l(l(this.model.dragArea)[0]).css("border-"+i[n]+"-width")),this["padding-"+i[n]]=isNaN(parseFloat(l(l(this.model.dragArea)[0]).css("padding-"+i[n])))?0:parseFloat(l(l(this.model.dragArea)[0]).css("padding-"+i[n]));s=l(this.model.dragArea).offset().top,o=l(this.model.dragArea).offset().left}this._left=d.isNullOrUndefined(l(this.model.dragArea).offset())?0+this["border-left-width"]+this["padding-left"]:o+this["border-left-width"]+this["padding-left"],this._top=d.isNullOrUndefined(l(this.model.dragArea).offset())?0+this["border-top-width"]+this["padding-top"]:s+this["border-top-width"]+this["padding-top"],this._right=o+e-[this["border-right-width"]+this["padding-right"]],this._bottom=s+t-[this["border-bottom-width"]+this["padding-bottom"]]}},_dragStart:function(e){var t,i=e,s=(e=this._getCoordinate(e),this.margins={left:parseInt(this.element.css("marginLeft"),10)||0,top:parseInt(this.element.css("marginTop"),10)||0,right:parseInt(this.element.css("marginRight"),10)||0,bottom:parseInt(this.element.css("marginBottom"),10)||0},this.offset=this.element.offset(),this.offset={top:this.offset.top-this.margins.top,left:this.offset.left-this.margins.left},this.position=this._getMousePosition(i),this._initPosition.x-e.pageX),e=this._initPosition.y-e.pageY,s=Math.sqrt(s*s+e*e);if(s>=this.model.distance&&(e=this.model.helper({sender:i,element:this.target}))&&!d.isNullOrUndefined(e)){if(s=this.model.handle=this.helper=e,this.model.dragStart&&(e=null,e="touchmove"==i.type?(t=i.originalEvent.changedTouches[0],document.elementFromPoint(t.clientX,t.clientY)):i.originalEvent.target||i.target,this._trigger("dragStart",{event:i,element:this.element,target:e})))return this._destroy(),!1;this.model.dragArea?this._setDragArea():(this._left=this._top=this._right=this._bottom=0,this["border-top-width"]=this["border-left-width"]=0),t=s.offsetParent().offset(),l(document).off(d.eventType.mouseMove,this._dragStartHandler).off(d.eventType.mouseUp,this._destroyHandler).on(d.eventType.mouseMove,this._dragHandler).on(d.eventType.mouseUp,this._dragStopHandler).on("mouseleave",this._dragMouseOutHandler).on("selectstart",!1),d.widgetBase.droppables[this.model.scope]={draggable:this.element,helper:s.css({position:"absolute",left:this.position.left-t.left,top:this.position.top-t.top}),destroy:this._destroyHandler}}},_drag:function(e){var t,i,s,o,n;e.preventDefault(),this.position=this._getMousePosition(e),this.position.top<0&&(this.position.top=0),l(document).height()<this.position.top&&(this.position.top=l(document).height()),l(document).width()<this.position.left&&(this.position.left=l(document).width()),o=d.widgetBase.droppables[this.model.scope].helper,this.model.drag&&(n=null,n="touchmove"==e.type?(s=e.originalEvent.changedTouches[0],document.elementFromPoint(s.clientX,s.clientY)):e.originalEvent.target||e.target,this._trigger("drag",{event:e,element:this.target,target:n})),s=this._checkTargetElement(e),d.isNullOrUndefined(s)?this._hoverTarget&&(e.target=e.toElement=this._hoverTarget,this._hoverTarget.object._out(e),this._hoverTarget=null):((e.target=e.toElement=s).object._over(e),this._hoverTarget=s),n=(o=d.widgetBase.droppables[this.model.scope].helper).offsetParent().offset(),s=(d.isNullOrUndefined(e.pageX)?e.originalEvent.changedTouches[0]:e).pageX,e=(d.isNullOrUndefined(e.pageY)?e.originalEvent.changedTouches[0]:e).pageY,this.model.dragArea?(this._pageX!=s&&(t=this._left>this.position.left?this._left:this._right<this.position.left+o.outerWidth(!0)?this._right-o.outerWidth(!0):this.position.left),this._pageY!=e&&(i=this._top>this.position.top?this._top:this._bottom<this.position.top+o.outerHeight(!0)?this._bottom-o.outerHeight(!0):this.position.top)):(t=this.position.left,i=this.position.top),(i<0||i-[n.top+this["border-top-width"]]<0)&&(i=[n.top+this["border-top-width"]]),(t<0||t-[n.left+this["border-left-width"]]<0)&&(t=[n.left+this["border-left-width"]]),o.css({left:t-[n.left+this["border-left-width"]],top:i-[n.top+this["border-top-width"]]}),this.position.left=t,this.position.top=i,this._pageX=s,this._pageY=e},_dragStop:function(e){var t,i;"mouseup"!=e.type&&"touchend"!=e.type||this._destroy(e),this.model.dragStop&&(t=null,t="touchend"==e.type?(i=e.originalEvent.changedTouches[0],document.elementFromPoint(i.clientX,i.clientY)):e.originalEvent.target||e.target,this._trigger("dragStop",{event:e,element:this.target,target:t})),this._dragEnd(e)},_dragEnd:function(e){var t=this._checkTargetElement(e);d.isNullOrUndefined(t)||(e.target=e.toElement=t).object._drop(e)},_dragMouseEnter:function(e){l(document).off("mouseenter",this._dragMouseEnterHandler),this._isIE9?this._dragManualStop(e):this._isIE8?0==e.button&&this._dragManualStop(e):0==e.buttons&&this._dragManualStop(e)},_dragManualStop:function(e){null!=this.model.dragStop&&this._trigger("dragStop",{event:e,element:this.target,target:e.originalEvent.target||e.target}),this._destroy(e)},_dragMouseOut:function(){l(document).on("mouseenter",this._dragMouseEnterHandler)},_checkTargetElement:function(e){var t=e.target;return this.helper&&this._contains(this.helper[0],t)&&(this.helper.hide(),t=this._elementUnderCursor(e),this.helper.show()),this._withDropElement(t)},_withDropElement:function(e){if(e&&(dropObj=l(e).data("ejDroppable"),d.isNullOrUndefined(dropObj)&&(dropObj=this._checkParentElement(l(e))),!d.isNullOrUndefined(dropObj)))return l.extend(e,{object:dropObj})},_checkParentElement:function(e){e=l(e).closest(".e-droppable");if(0<e.length&&(dropObj=l(e).data("ejDroppable"),!d.isNullOrUndefined(dropObj)))return dropObj},_elementUnderCursor:function(e){return"touchmove"==e.type||"touchstart"==e.type||"touchend"==e.type||"taphold"==e.type?document.elementFromPoint(e.originalEvent.changedTouches[0].clientX,e.originalEvent.changedTouches[0].clientY):document.elementFromPoint(e.clientX,e.clientY)},_contains:function(e,t){try{return l.contains(e,t)||e==t}catch(e){return!1}},_wireEvents:function(){1==d.isDevice()&&1==this.model.dragOnTaphold?this._on(this.element,"taphold",this._initialize):this._on(this.element,d.eventType.mouseDown,this._initialize),this._dragStartHandler=l.proxy(this._dragStart,this),this._destroyHandler=l.proxy(this._destroy,this),this._dragStopHandler=l.proxy(this._dragStop,this),this._dragHandler=l.proxy(this._drag,this),this._dragMouseEnterHandler=l.proxy(this._dragMouseEnter,this),this._dragMouseOutHandler=l.proxy(this._dragMouseOut,this)},_getMousePosition:function(e){e=this._getCoordinate(e);var t=this.model.clone?e.pageX:e.pageX-this._relXposition,e=this.model.clone?e.pageY:e.pageY-this._relYposition;return{left:t-[this.margins.left+this.model.cursorAt.left],top:e-[this.margins.top+this.model.cursorAt.top]}},_getCoordinate:function(e){var t=e;return t="touchmove"==e.type||"touchstart"==e.type||"touchend"==e.type||"taphold"==e.type&&"msie"!=d.browserInfo().name?e.originalEvent.changedTouches[0]:t}}),a=jQuery,(r=Syncfusion).widget("ejDroppable","ej.Droppable",{element:null,model:null,validTags:["div","span","a"],defaults:{accept:null,scope:"default",drop:null,over:null,out:null,create:null,destroy:null},_init:function(){this.model.accept?a(this.element).delegate(this.accept,"mouseup",a.proxy(this._drop,this)):a(this.element).on("mouseup",a.proxy(this._drop,this)),this._on(a(document),"touchend",this._drop),this._mouseOver=!1},_setModel:function(){},_destroy:function(){a(this.element).off("mouseup",a.proxy(this._drop,this))},_over:function(e){this._mouseOver||(this._trigger("over",e),this._mouseOver=!0)},_out:function(e){this._mouseOver&&(this._trigger("out",e),this._mouseOver=!1)},_drop:function(e){var t=r.widgetBase.droppables[this.model.scope],i=!r.isNullOrUndefined(t.helper)&&t.helper.is(":visible"),s=this._isDropArea(e);t&&!r.isNullOrUndefined(this.model.drop)&&i&&s.canDrop&&this.model.drop(a.extend(e,{dropTarget:s.target},!0),t)},_isDropArea:function(e){var t,i,s,o,n={canDrop:!0,target:a(e.target)};if("touchend"==e.type)for(e=e.originalEvent.changedTouches[0],t=document.elementFromPoint(e.clientX,e.clientY),n.canDrop=!1,i=a(t).parents(),s=0;s<this.element.length;s++){if(a(t).is(a(this.element[s])))n={canDrop:!0,target:a(t)};else for(o=0;o<i.length;o++)if(a(this.element[s]).is(a(i[o]))){n={canDrop:!0,target:a(t)};break}if(n.canDrop)break}return n}}),o=jQuery,(n=Syncfusion).widget("ejResizable","ej.resizable",{element:null,model:null,validTags:["div","span","a"],defaults:{scope:"default",handle:null,distance:1,maxHeight:null,maxWidth:null,minHeight:10,minWidth:10,cursorAt:{top:1,left:1},resizeStart:null,resize:null,resizeStop:null,create:null,destroy:null,helper:function(){return o('<div class="e-resize-helper" />').html("resizable").appendTo(document.body)}},_init:function(){this.target=this.element,this._browser=n.browserInfo(),this._isIE8="msie"==this._browser.name&&"8.0"==this._browser.version,this._isIE9="msie"==this._browser.name&&"9.0"==this._browser.version,null!=this.handle?o(this.target).delegate(this.handle,n.eventType.mouseDown,o.proxy(this._mousedown,this)).delegate(this.handle,"resizestart",this._blockDefaultActions):o(this.target).on("mousedown",o.proxy(this._mousedown,this)),this._resizeStartHandler=o.proxy(this._resizeStart,this),this._destroyHandler=o.proxy(this._destroy,this),this._resizeStopHandler=o.proxy(this._resizeStop,this),this._resizeHandler=o.proxy(this._resize,this),this._resizeMouseEnterHandler=o.proxy(this._resizeMouseEnter,this)},_mouseover:function(e){o(e.target).hasClass("e-resizable")?(o(e.target).css({cursor:"se-resize"}),o(this.target).on(n.eventType.mouseDown,o.proxy(this._mousedown,this))):(o(this.target).off(n.eventType.mouseDown),o(this.target).css({cursor:""}))},_blockDefaultActions:function(e){e.cancelBubble=!0,e.returnValue=!1,e.preventDefault&&e.preventDefault(),e.stopPropagation&&e.stopPropagation()},_setModel:function(){},_mousedown:function(e){var t=e;return e=this._getCoordinate(e),this.target=o(t.currentTarget),this._initPosition={x:e.pageX,y:e.pageY},this._pageX=e.pageX,this._pageY=e.pageY,o(document).on(n.eventType.mouseMove,this._resizeStartHandler).on(n.eventType.mouseUp,this._destroyHandler),o(document.documentElement).trigger(n.eventType.mouseDown,t),!1},_resizeStart:function(e){var t,i,s;o(e.target).hasClass("e-resizable")&&(e=this._getCoordinate(e),t=this._initPosition.x-e.pageX,i=this._initPosition.y-e.pageY,Math.sqrt(t*t+i*i)>=this.model.distance)&&(null!=this.model.resizeStart&&this._trigger("resizeStart",{event:e,element:this.target})||(t=this.model.helper({element:this.target}),i=e.pageX-this._pageX+t.outerWidth(),s=e.pageY-this._pageY+t.outerHeight(),this._pageX=e.pageX,this._pageY=e.pageY,this.getElementPosition(t),o(document).off(n.eventType.mouseMove,this._resizeStartHandler).off(n.eventType.mouseUp,this._destroyHandler).on(n.eventType.mouseMove,this._resizeHandler).on(n.eventType.mouseUp,this._resizeStopHandler).on("mouseenter",this._resizeMouseEnterHandler).on("selectstart",!1),n.widgetBase.resizables[this.scope]={resizable:this.target,helper:t.css({width:i,height:s}),destroy:this._destroyHandler}))},_resize:function(e){var t,i,s;e=this._getCoordinate(e),this.getElementPosition(n.widgetBase.resizables[this.scope].helper),s=this.model.helper({element:this.target}),t=e.pageX-this._pageX+s.outerWidth(),s=e.pageY-this._pageY+s.outerHeight(),this._pageX=e.pageX,this._pageY=e.pageY,t<this.model.minWidth&&(i=this.model.minWidth-t,t=this.model.minWidth,this._pageX=e.pageX+i),s<this.model.minHeight&&(i=this.model.minHeight-s,s=this.model.minHeight,this._pageY=e.pageY+i),null!=this.model.maxHeight&&s>this.model.maxHeight&&(i=s-this.model.maxHeight,s=this.model.maxHeight,this._pageY=e.pageY-i),null!=this.model.maxWidth&&t>this.model.maxWidth&&(i=t-this.model.maxWidth,t=this.model.maxWidth,this._pageX=e.pageX-i),n.widgetBase.resizables[this.scope].helper.css({width:t,height:s}),this._trigger("resize",{element:this.target})},_resizeStop:function(e){null!=this.model.resizeStop&&this._trigger("resizeStop",{element:this.target}),"mouseup"!=e.type&&"touchend"!=e.type||this._destroy(e)},_resizeMouseEnter:function(e){this._isIE9?this._resizeManualStop(e):this._isIE8?0==e.button&&this._resizeManualStop(e):0==e.buttons&&this._resizeManualStop(e)},_resizeManualStop:function(e){null!=this.model.resizeStop&&this._trigger("resizeStop",{element:this.target}),this._destroy(e)},_destroy:function(){o(document).off(n.eventType.mouseUp,this._destroyHandler).off(n.eventType.mouseUp,this._resizeStopHandler).off(n.eventType.mouseMove,this._resizeStartHandler).off(n.eventType.mouseMove,this._resizeHandler).off("mouseenter",this._resizeMouseEnterHandler).off("selectstart",!1),n.widgetBase.resizables[this.scope]=null},getElementPosition:function(e){return null!=e&&0<e.length?{left:e[0].offsetLeft,top:e[0].offsetTop}:null},_getCoordinate:function(e){var t=e;return t="touchmove"!=e.type&&"touchstart"!=e.type&&"touchend"!=e.type?t:e.originalEvent.changedTouches[0]}})}),function(e){"function"==typeof define&&define.amd?define(["./ej.core.min"],e):e()}(function(){var d,h,c,u,n,a;n=jQuery,a=Syncfusion,window,a.widget("ejScrollBar","ej.ScrollBar",{defaults:{orientation:"horizontal",viewportSize:0,height:18,width:18,smallChange:57,largeChange:57,value:0,maximum:0,minimum:0,buttonSize:18,infiniteScrolling:!1},validTags:["div"],type:"transclude",dataTypes:{buttonSize:"number",smallChange:"number",largeChange:"number"},observables:["value"],value:a.util.valueFunction("value"),_enabled:!0,content:function(){return this._content&&this._content.length||(this._content="horizontal"===this.model.orientation?this.element.find(".e-hhandle"):this.element.find(".e-vhandle")),this._content},_init:function(){this.element.addClass("e-widget"),this._ensureScrollers(),this.content(),this._setInitialValues()},_setInitialValues:function(){this.model.orientation===a.ScrollBar.Orientation.Horizontal?this.element.addClass("e-hscrollbar"):this.element.addClass("e-vscrollbar"),0===this.value()&&0===this.model.minimum||(this.value()<this.model.minimum&&this.value(this.model.minimum),this.scroll(this.value(),"none"))},_ensureScrollers:function(){n.fn.jquery;this.model.height&&this.element.height(this.model.height),this.model.width&&this.element.width(this.model.width),this._scrollData||(this._scrollData="vertical"===this.model.orientation?this._createScroller("Height","Y","Top","e-v"):this._createScroller("Width","X","Left","e-h"))},_setModel:function(e){for(var t in e){if("value"!==t){this.refresh();break}this.value()&&this.scroll(this.value(),"none")}},_createScroller:function(e,t,i,s){var o={};n.fn.jquery;return o.dimension=e,o.xy=t,o.position=i,o.css=s,o.uDimension=e,this._calculateLayout(o),this._createLayout(o),t=this[o.main].find(".e-button"),this._off(t,"mousedown")._on(t,"mousedown",{d:o,step:1},this._spaceMouseDown),this._off(this[o.scroll],"mousedown")._on(this[o.scroll],"mousedown",{d:o},this._spaceMouseDown),this._off(this[o.handler],"mousedown touchstart")._on(this[o.handler],"mousedown touchstart",{d:o},this._mouseDown),o},_createLayout:function(e){var t="<div class='"+e.css+"{0}' style='"+e.dimension+":{1}px'>{2}</div>",i=n.fn.jquery,s={};s[e.dimension]=e.modelDim,t=a.buildTag("div."+e.css+"scroll e-box",String.format(t,"up e-chevron-up_01 e-icon e-box e-button",e.buttonSize)+String.format(t,"handlespace",e.handleSpace,String.format(t,"handle e-box e-pinch",e.handle))+String.format(t,"down e-chevron-down_01 e-icon e-box e-button",e.buttonSize),s),this.element.append(t),this.element.find(".e-vhandle").addClass("e-v-line e-icon"),this.element.find(".e-hhandle").addClass("e-h-line e-icon"),"1.7.1"===i||"1.7.2"===i?e.uDimension.toLowerCase():e.uDimension,this[e.handler]=this.element.find("."+e.handler),this[e.handler].css("transition","none"),this[e.scroll]=this[e.handler].parent(),this[e.main]=this[e.scroll].parent(),this[e.main].find(".e-button")["outer"+e.uDimension](e.buttonSize)},_calculateLayout:function(e){var t;e.scrollDim="scroll"+e.dimension,e.lPosition=e.position.toLowerCase(),e.clientXy="page"+e.xy,e.scrollVal="scroll"+e.position,e.scrollOneStepBy=this.model.smallChange,e.modelDim=this.model[e.dimension=e.dimension.toLowerCase()],e.handler=e.css+"handle",e.buttonSize=this.model.buttonSize,e.main=e.css+"scroll",e.scroll=e.css+"ScrollSpace",e.handleSpace=e.modelDim-2*e.buttonSize,e.scrollable=this.model.maximum-this.model.minimum,t=this.model.height,"horizontal"===this.model.orientation&&(t=this.model.width),e.handle=this.model.viewportSize/(this.model.maximum-this.model.minimum+this.model.viewportSize)*(t-2*this.model.buttonSize),t=!a.isNullOrUndefined(this.model.elementHeight)&&"string"==typeof this.model.elementHeight&&-1!=this.model.elementHeight.indexOf("%"),e.handle<20&&!t&&(e.handle=20),e.onePx=e.scrollable/(e.handleSpace-e.handle),e.fromScroller=!1,e.up=!0,e.vInterval=void 0},_updateLayout:function(e){this.element.height(this.model.height),this.element.width(this.model.width);var t=this.element.find("."+e.css+"handle"),i=this.element.find("."+e.css+"handlespace"),s="width"==e.dimension?t.css("left"):t.css("top"),i="width"==e.dimension?i.outerWidth():i.outerHeight();void 0===s||"auto"===s||i>=e.handle+parseFloat(s)||(this.model.enableRTL?t.css("width"===e.dimension?"left":"top",parseFloat(i)-e.handle):t.css("width"===e.dimension?"left":"top",0<parseFloat(i)-e.handle?parseFloat(i)-e.handle:0)),this.element.find("."+e.css+"scroll").css(e.dimension,e.modelDim+"px").find(".e-button").css(e.dimension,this.model.buttonSize).end().find("."+e.css+"handlespace").css(e.dimension,e.handleSpace+"px").find("."+e.css+"handle").css(e.dimension,e.handle+"px")},refresh:function(){this._ensureScrollers(),this.value()&&this.scroll(this.value(),"none"),this._scrollData&&(this._calculateLayout(this._scrollData),this._updateLayout(this._scrollData))},scroll:function(e,t,i,s){var o=this._scrollData;if(!i)if(this.model.orientation===a.ScrollBar.Orientation.Horizontal){if(this._trigger("scroll",{source:t||"custom",scrollData:this._scrollData,scrollLeft:e,originalEvent:s}))return}else if(this._trigger("scroll",{source:t||"custom",scrollData:this._scrollData,scrollTop:e,originalEvent:s}))return;!this._scrollData.enableRTL||"mousemove"!=s&&"touchmove"!=s||"msie"==a.browserInfo().name?!this._scrollData.enableRTL||"mousemove"!=s&&"touchmove"!=s||"msie"!=a.browserInfo().name?this.value(e):this.value(-1*e):this.value(-o.scrollable+e),0<this.content().length&&(this.model.orientation===a.ScrollBar.Orientation.Horizontal?(e=(i=this.element.find(".e-hhandlespace").width()-this.element.find(".e-hhandle").outerWidth())<(e-this.model.minimum)/this._scrollData.onePx?i:(e-this.model.minimum)/this._scrollData.onePx,!this._scrollData.enableRTL||"mousemove"!=s&&"touchmove"!=s||"msie"==a.browserInfo().name||0<(e=i-e)&&(e*=-1),!this._scrollData.enableRTL||"mousemove"!=s&&"touchmove"!=s||"msie"!=a.browserInfo().name||(e=-e),this._scrollData.enableRTL&&0<e&&!this._scrollData._scrollleftflag&&(e=0),this._scrollData._scrollleftflag&&(0<e&&(e*=-1),this.value(e)),this.content()[0].style.left=e+"px",this._scrollData._scrollleftflag=!1):(e=(t=this.element.find(".e-vhandlespace").height()-this.element.find(".e-vhandle").outerHeight())<(e-this.model.minimum)/this._scrollData.onePx?t:(e-this.model.minimum)/this._scrollData.onePx,this.content()[0].style.top=e+"px"))},_changeTop:function(e,t,i){var s,o;return e.dimension,o=(s=this.value())+t,e.step=t,e.enableRTL&&t<0||0<t&&!e.enableRTL?e.enableRTL?o<-1*this.model.maximum&&(o=-1*this.model.maximum):o>this.model.maximum&&(o=this.model.maximum):e.enableRTL?o>this.model.minimum&&(o=this.model.minimum):o<this.model.minimum&&(o=this.model.minimum),o===s&&!this.model.infiniteScrolling||this.scroll(o,i),o!==s},_mouseUp:function(e){var t;e.data&&(t=e.data.d,clearInterval(t.vInterval),"touchend"==e.type&&n(e.target).removeClass("e-touch"),"mouseup"!==e.type&&"touchend"!==e.type&&(e.toElement||e.relatedTarget||e.target)||(this._prevY=this._d=this._data=null,this._off(n(document),"mousemove touchmove",this._mouseMove),n(document).off("mouseup touchend",a.proxy(this._mouseUp,this)),t.fromScroller=!1,this[t.scroll].off("mousemove"),this[t.handler].off("mousemove").css("transition",""),"thumb"!==e.data.source)||a.isNullOrUndefined(this.model)||n.when(this.content()).done(a.proxy(function(){this._trigger("thumbEnd",{originalEvent:e,scrollData:t})},this)),t.up=!0)},_mouseDown:function(e){this._enabled&&(this._d=e,this._data=this._d.data.d,this._data.target=this._d.target,this._data.fromScroller=!0,this[this._data.handler].css("transition","none"),this._on(n(document),"mousemove touchmove",{d:this._data,source:"thumb"},this._mouseMove),this._trigger("thumbStart",{originalEvent:this._d,scrollData:this._data}),n(document).one("mouseup touchend",{d:this._data,source:"thumb"},a.proxy(this._mouseUp,this)),"touchstart"==e.type)&&n(e.target).addClass("e-touch")},_mouseCall:function(e){e.type="mouseup",this._mouseUp(e)},_mouseMove:function(e){var t,i,s,o=parseInt(this[this._data.handler].css(this._data.lPosition))||0;if(e.preventDefault(),a.isNullOrUndefined(e.target.tagName)){if(n(e.target).is(document))return void this._mouseCall(e)}else if("iframe"===e.target.tagName.toLowerCase())return void this._mouseCall(e);s=("mousemove"==e.type?e:e.originalEvent.changedTouches[0])[this._data.clientXy],this._prevY&&s!==this._prevY&&(i=s-this._prevY,this.model.infiniteScrolling?(o+=i,this._data.step=i,(o=(this._data.enableRTL?0<o:o<0)?0:o)*(this._data.enableRTL?-1:1)+this._data.handle>=this._data.handleSpace&&(o=(this._data.handleSpace-this._data.handle)*(this._data.enableRTL?-1:1)),t=Math.ceil(o*this._data.onePx),this.scroll(t,"thumb")):(t=i*this._data.onePx,this._changeTop(this._data,t,"thumb",this._d)),this._trigger("thumbMove",{originalEvent:e,scrollData:this._data})),this._prevY=s},_spaceMouseDown:function(e){var t,i,s;e.data&&this._enabled&&(t=e.data.d,1===e.which)&&e.target!==this[t.handler][0]&&(i=e.data.step?this.model.smallChange:this.model.largeChange,s=e.data.top||this[t.handler].offset()[t.lPosition],e[t.clientXy]=e[t.clientXy]||0,e[t.clientXy]<s&&(i*=-1),t.target=e.target,this._changeTop(t,i,3===i?"track":"button",e),1!==e.data.step&&this[t.scroll].mousemove(function(){t.up=!0}),t.up=!1,t.vInterval=setInterval(a.proxy(function(){(i<0?s+i/t.onePx<e[t.clientXy]:s+t.handle+i/t.onePx>e[t.clientXy])&&(t.up=!0),t.up?clearInterval(t.vInterval):(this._changeTop(t,i,3===i?"track":"button",e),s=e.data&&e.data.top||this[t.handler].offset()[t.lPosition])},this),150),n(document).one("mouseup",{d:t},a.proxy(this._mouseUp,this)),n(document).mouseout({d:t},a.proxy(this._mouseUp,this)))},_remove:function(){this.model.orientation===a.ScrollBar.Orientation.Horizontal&&this.element.find(".e-hscroll").remove(),this.model.orientation===a.ScrollBar.Orientation.Vertical&&this.element.find(".e-vscroll").remove(),this._scrollData=null,this._content=null},_destroy:function(){this.element.remove()}}),a.ScrollBar.Orientation={Horizontal:"horizontal",Vertical:"vertical"},d=jQuery,h=Syncfusion,c=window,h.widget("ejScroller","ej.Scroller",{_addToPersist:["scrollLeft","scrollTop"],defaults:{height:250,autoHide:!1,animationSpeed:600,width:0,scrollOneStepBy:57,buttonSize:18,scrollLeft:0,scrollTop:0,targetPane:null,scrollerSize:18,enablePersistence:!1,enableRTL:u,enableTouchScroll:!0,enabled:!0,create:null,destroy:null,wheelStart:null,wheelMove:null,wheelStop:null},validTags:["div"],type:"transclude",dataTypes:{buttonSize:"number",scrollOneStepBy:"number"},observables:["scrollTop","scrollLeft"],scrollTop:h.util.valueFunction("scrollTop"),scrollLeft:h.util.valueFunction("scrollLeft"),keyConfigs:{up:"38",down:"40",left:"37",right:"39",pageUp:"33",pageDown:"34",pageLeft:"ctrl+37",pageRight:"ctrl+39"},content:function(){return this._content&&this._content.length&&this._content[0].offsetParent||(this._content=this.element.children().first().addClass("e-content")),this._content},_setFirst:!0,_updateScroll:!1,_init:function(){h.isNullOrUndefined(this.content()[0])||(this._prevScrollWidth=this.content()[0].scrollWidth,this._prevScrollHeight=this.content()[0].scrollHeight,this.element.addClass("e-widget"),this.content(),this._browser=h.browserInfo().name,this._wheelStart=!0,this._eleHeight=this.model.height,this._eleWidth=this.model.width,this.model.enableRTL===u&&(this.model.enableRTL="rtl"===this.element.css("direction")),this._ensureScrollers(),this.model.enableRTL&&(this.element.addClass("e-rtl"),this._rtlScrollLeftValue=this.content().scrollLeft()),this._on(this.content(),"scroll",this._scroll),null!=this.model.targetPane&&this._on(this.content().find(this.model.targetPane),"scroll",this._scroll),this.scrollLeft()&&this._setScrollLeftValue(this.scrollLeft()),this.scrollTop()&&this.content().scrollTop(this.scrollTop()),this.model.autoHide&&this._autohide(),this.model.enabled?this.enable():this.disable(),this._setDimension(),this._prevScrollWidth===this.content()[0].scrollWidth&&this._prevScrollHeight===this.content()[0].scrollHeight)||this.refresh(),this._addActionClass()},_addActionClass:function(){"msie"==this._browser&&(this.content().removeClass("e-pinch e-pan-x e-pan-y"),this._vScrollbar&&this._hScrollbar?this.content().addClass("e-pinch"):this._vScrollbar&&!this._hScrollbar?this.content().addClass("e-pan-x"):this._hScrollbar&&!this._vScrollbar&&this.content().addClass("e-pan-y"))},_setDimension:function(){h.isNullOrUndefined(this.model.height)||"string"!=typeof this.model.height||-1==this.model.height.indexOf("%")||(this._vScroll?this.model.height=this._convertPercentageToPixel(parseInt(this._eleHeight),this.element.parent().height()):d(this.content()[0]).height("")),h.isNullOrUndefined(this.model.width)||"string"!=typeof this.model.width||-1==this.model.width.indexOf("%")||(this._hScroll?this.model.width=this._convertPercentageToPixel(parseInt(this._eleWidth),this.element.parent().width()):d(this.content()[0]).width(""))},_setScrollLeftValue:function(e){this.model.enableRTL&&(e="mozilla"==h.browserInfo().name?e<0?e:-1*e:!h.isNullOrUndefined(this._rtlScrollLeftValue)&&("chrome"==h.browserInfo().name||0<this._rtlScrollLeftValue)?e<0?this._rtlScrollLeftValue+e:this._rtlScrollLeftValue-e:Math.abs(e)),this.content().scrollLeft(e)},_ensureScrollers:function(){var e,t,i,s=d.fn.jquery;this.model.height="string"==typeof this.model.height&&-1!=this.model.height.indexOf("px")?parseInt(this.model.height):this.model.height,this.model.width="string"==typeof this.model.width&&-1!=this.model.width.indexOf("px")?parseInt(this.model.width):this.model.width,this.model.height&&this.element.height(this.model.height),this.model.width&&this.element.width(this.model.width),this._off(this.content(),"mousedown touchstart"),0<this.content().length&&(this.isVScroll()?(this._vScrollbar||(this._vScrollbar=this._createScrollbar(h.ScrollBar.Orientation.Vertical,this.isHScroll())),this.model.enableTouchScroll&&this._on(this.content(),"mousedown touchstart",{d:this._vScrollbar._scrollData},this._mouseDownOnContent)):(this._vScrollbar=null,this.element.children(".e-vscrollbar").remove()),this.isHScroll()?(this._hScrollbar||(this._hScrollbar=this._createScrollbar(h.ScrollBar.Orientation.Horizontal,this.isVScroll())),this.model.enableTouchScroll&&this._on(this.content(),"mousedown touchstart",{d:this._hScrollbar._scrollData},this._mouseDownOnContent)):(this._hScrollbar=null,this.element.children(".e-hscrollbar").remove()),this._vScrollbar||this._hScrollbar||this.content().css({width:"auto",height:"auto"}),0<this.element.find(".e-hscroll").length||this._vScrollbar&&this.content().outerHeight(this.content().outerHeight()-1),this._hScroll=this.isHScroll(),this._vScroll=this.isVScroll(),this._hScroll||this._vScroll?(this.content().addClass("e-content"),s="1.7.1"===s||"1.7.2"===s?(i="height","width"):(i="outerHeight","outerWidth"),t=(e=this._exactElementDimension(this.element)).height-(this.border_bottom+this.border_top+this.padding_bottom+this.padding_top),this.content()[i](t-(this._hScroll&&!this.model.autoHide?this.model.scrollerSize:0)),i=e.width-(this.border_left+this.border_right+this.padding_left+this.padding_right),this.content()[s](i-(this._vScroll&&!this.model.autoHide?this.model.scrollerSize:0)),isNaN(this._eleWidth)&&0<this._eleWidth.indexOf("%")&&isNaN(this._eleHeight)&&0<this._eleHeight.indexOf("%")&&d(c).on("resize",d.proxy(this._resetScroller,this))):this.content().removeClass("e-content"),this._setDimension(),this._parentHeight=d(this.element).parent().height(),this._parentWidth=d(this.element).parent().width())},_convertPercentageToPixel:function(e,t){return Math.floor(e*t/100)},isHScroll:function(){var e;return h.isNullOrUndefined(this.model.width)||"string"!=typeof this.model.width||-1==this.model.width.indexOf("%")?0<this.model.width&&(e=this.content().find(this.model.targetPane),null!=this.model.targetPane&&e.length?e[0].scrollWidth+e.siblings().width()>this.model.width:this.content()[0].scrollWidth>this.model.width||this.content()[0].scrollWidth==this.model.width&&0<d(this.content()[0]).find("> *").length&&d(this.content()[0]).find("> *")[0].scrollWidth>this.model.width):this.content()[0].scrollWidth>this.element.width()},isVScroll:function(){return h.isNullOrUndefined(this.model.height)||"string"!=typeof this.model.height||-1==this.model.height.indexOf("%")?!!(0<this.model.height&&(this.content()[0].scrollHeight>this.model.height||this.isHScroll()&&(this.content()[0].scrollHeight==this.model.height||this.content()[0].scrollHeight>this.model.height-(this.model.scrollerSize-2)))):this.content()[0].scrollHeight>this.element.outerHeight()},_setModel:function(e){for(var t in e)if("enableRTL"===t)e[t]?(this.element.addClass("e-rtl"),this._rtlScrollLeftValue=this.content().scrollLeft(),h.isNullOrUndefined(this._hScrollbar)||(this._hScrollbar._scrollData.enableRTL=!0)):(this.element.removeClass("e-rtl"),h.isNullOrUndefined(this._hScrollbar)||(this._hScrollbar._scrollData.enableRTL=!1)),this._hScrollbar&&(this.element.find(".e-hhandle").css("left",0),this._hScrollbar.value(0));else if("scrollLeft"===t)(parseFloat(e[t])<0||!this._hScroll)&&(e[t]=0),this._externalCall=!0,this._hScrollbar&&(e[t]=parseFloat(e[t])>this._hScrollbar._scrollData.scrollable?this._hScrollbar._scrollData.scrollable:parseFloat(e[t])),this._setScrollLeftValue(parseFloat(e[t])),this.scrollLeft(e[t]),!this._hScrollbar||this._hScrollbar._scrollData._scrollleftflag&&this.model.enableRTL||this.scrollX(e[t]);else if("scrollTop"===t)this._vScrollbar&&(e[t]=parseFloat(e[t])>this._vScrollbar._scrollData.scrollable?this._vScrollbar._scrollData.scrollable:parseFloat(e[t])),(parseFloat(e[t])<0||!this._vScroll)&&(e[t]=0),this._externalCall=!0,this.content().scrollTop(parseFloat(e[t])),this.scrollTop(e[t]),this.scrollY(e[t]);else if("touchScroll"===t)this.model.enableTouchScroll?(this._vScrollbar&&this._on(this.content(),"mousedown touchstart",{d:this._vScrollbar._scrollData},this._mouseDownOnContent),this._hScrollbar&&this._on(this.content(),"mousedown touchstart",{d:this._hScrollbar._scrollData},this._mouseDownOnContent)):this._off(this.content(),"mousedown touchstart");else if("scrollOneStepBy"===t)this._vScrollbar&&(this._vScrollbar._scrollData.scrollOneStepBy=e[t],this._vScrollbar.model.smallChange=e[t]),this._hScrollbar&&(this._hScrollbar._scrollData.scrollOneStepBy=e[t],this._hScrollbar.model.smallChange=e[t]);else{if("buttonSize"!==t){"height"===t&&(this._eleHeight=e[t]),"width"===t&&(this._eleWidth=e[t]),this.refresh();break}this._vScrollbar&&(this._vScrollbar.model.buttonSize=this.model.buttonSize),this._hScrollbar&&(this._hScrollbar.model.buttonSize=this.model.buttonSize),this.refresh()}},_createScrollbar:function(e,t){var i,s,o,n,a=document.createElement("div"),r=e===h.ScrollBar.Orientation.Vertical?(s=this.model.scrollerSize,n=i=h.isNullOrUndefined(this.model.height)||"string"!=typeof this.model.height||-1==this.model.height.indexOf("%")?this.model.height-(t?this.model.scrollerSize:0):this.element.height()-(t?this.model.scrollerSize:0),o=this.content()[0].scrollHeight,this.scrollTop()):(s=i=this.model.width-(t?this.model.scrollerSize:0),n=this.model.scrollerSize,o=h.isNullOrUndefined(this.model.width)||"string"!=typeof this.model.width||-1==this.model.width.indexOf("%")?(r=this.content().find(this.model.targetPane),null!=this.model.targetPane&&r.length?r[0].scrollWidth+r.parent().width()-r.width():this.content()[0].scrollWidth):(s=i=this.element.width()-(t?this.model.scrollerSize:0),this.content()[0].scrollWidth),this.scrollLeft());return 0<this.element.children(".e-hscrollbar").length?d(this.element.children(".e-hscrollbar")).before(a):this.element.append(a),d(a).ejScrollBar({elementHeight:this._eleHeight,elementWidth:this._eleWidth,buttonSize:this.model.buttonSize,orientation:e,viewportSize:i,height:n,width:s,maximum:o-i,value:r,smallChange:this.model.scrollOneStepBy,largeChange:3*this.model.scrollOneStepBy,scroll:h.proxy(this._scrollChanged,this),thumbEnd:h.proxy(this._thumbEnd,this),thumbStart:h.proxy(this._thumbStart,this),thumbMove:h.proxy(this._thumbMove,this)}),n=d(a).ejScrollBar("instance"),e!==h.ScrollBar.Orientation.Vertical&&t||this._off(this.element,"msie"==this._browser?"wheel mousewheel":"mousewheel DOMMouseScroll",this._mouseWheel)._on(this.element,"msie"==this._browser?"wheel mousewheel":"mousewheel DOMMouseScroll",{d:n._scrollData},this._mouseWheel),e===h.ScrollBar.Orientation.Horizontal?this._scrollXdata=n._scrollData:this._scrollYdata=n._scrollData,e===h.ScrollBar.Orientation.Horizontal&&this.model.enableRTL&&(n._scrollData.enableRTL=!0),n._enabled=this.model.enabled,n},_updateScrollbar:function(e,t){var i=e===h.ScrollBar.Orientation.Vertical?this._vScrollbar:this._hScrollbar;i&&(e===h.ScrollBar.Orientation.Vertical?(i.model.width=this.model.scrollerSize,i.model.height=i.model.viewportSize=this.model.height-(t?this.model.scrollerSize:0),i.model.maximum=this.content()[0].scrollHeight-i.model.viewportSize,i.model.value=this.scrollTop()):(i.model.width=i.model.viewportSize=this.model.width-(t?this.model.scrollerSize:0),i.model.height=this.model.scrollerSize,i.model.maximum=(null!=this.model.targetPane&&0<this.content().find(this.model.targetPane).length?this.content().find(this.model.targetPane)[0].scrollWidth+(this.content().width()-d(this.model.targetPane).outerWidth()):this.content()[0].scrollWidth)-i.model.viewportSize,this.model.enableRTL||(i.model.value=this.scrollLeft())))},_autohide:function(){this.model.autoHide?(this.element.addClass("e-autohide"),this._on(this.element,"mouseenter mouseleave touchstart touchend",this._scrollerHover),this.content().siblings(".e-scrollbar.e-js").hide()):(this.element.removeClass("e-autohide"),this._off(this.element,"mouseenter mouseleave touchstart touchend",this._scrollerHover),this.content().siblings(".e-scrollbar.e-js").show())},_scrollChanged:function(e){this._updateScroll=!0,e.scrollTop!==u?this.scrollY(e.scrollTop,!0,"",e.source):e.scrollLeft!==u&&this.scrollX(e.scrollLeft,!0,"",e.source),this._updateScroll=!1;var t=this;d.when(this.content()).done(h.proxy(function(){t._trigger("scrollEnd",{scrollData:e})}))},_bindBlurEvent:function(e,t){this._scrollEle=d(e).data("ejScrollBar"),this._event=t;this._listener=function(){this._scrollEle._off(d(document),"mousemove touchmove",this._scrollEle._mouseMove),d(document).off("mouseup touchend",h.proxy(this._scrollEle._mouseUp,this._scrollEle)),this._scrollEle._prevY=null,this._off(d(document),"mousemove touchmove",this._mouseMove),this._off(d(document),"mouseup touchend",this._mouseUp),this._off(d(c),"blur"),this._evtData.handler,this._scrollEle._trigger("thumbEnd",{originalEvent:this._event,scrollData:this._evtData})},this._on(d(c),"blur",this._listener)},_thumbStart:function(e){this._evtData=e.scrollData;e.scrollData.handler,this.element.find("."+e.scrollData.handler).closest(".e-scrollbar");e.scrollData.handler;var t=this.element.find("."+e.scrollData.handler).closest(".e-scrollbar");this._bindBlurEvent(t,e),this._trigger("thumbStart",e)},_thumbMove:function(e){this._trigger("thumbMove",e)},_thumbEnd:function(e){this._trigger("thumbEnd",e),this._off(d(c),"blur")},refresh:function(e){var t;e||this.element.find(">.e-content").removeAttr("style"),h.isNullOrUndefined(this._eleHeight)||"string"!=typeof this._eleHeight||-1==this._eleHeight.indexOf("%")||this._parentHeight==d(this.element).parent().height()||(t=(t=this._exactElementDimension(this.element.parent())).height-(this.border_bottom+this.border_top+this.padding_bottom+this.padding_top),this.model.height=this._convertPercentageToPixel(parseInt(this._eleHeight),t)),h.isNullOrUndefined(this._eleWidth)||"string"!=typeof this._eleWidth||-1==this._eleWidth.indexOf("%")||this._parentWidth==d(this.element).parent().width()||(t=(t=this._exactElementDimension(this.element.parent())).width-(this.border_left+this.border_right+this.padding_left+this.padding_right),this.model.width=this._convertPercentageToPixel(parseInt(this._eleWidth),t)),this._ensureScrollers(),e=this.scrollLeft(),!this.model.enableRTL||(this.element.hasClass("e-rtl")||this.element.addClass("e-rtl"),this._rtlScrollLeftValue=this.content().scrollLeft(),0<e)?this.content().scrollLeft(e):this._setScrollLeftValue(e),(this.scrollTop()&&null==this._vScrollbar||null!==this._vScrollbar&&null!=this._vScrollbar._scrollData&&!this._vScrollbar._scrollData.skipChange)&&this.content().scrollTop(this.scrollTop()),this._vScrollbar&&(this._vScrollbar._scrollData.dimension="Height",this._updateScrollbar(h.ScrollBar.Orientation.Vertical,this._hScroll),this._vScroll)&&!this._vScrollbar._calculateLayout(this._vScrollbar._scrollData)&&this._vScrollbar._updateLayout(this._vScrollbar._scrollData),this._hScrollbar&&(this._hScrollbar._scrollData.dimension="Width",this._updateScrollbar(h.ScrollBar.Orientation.Horizontal,this._vScroll),this._hScroll)&&!this._hScrollbar._calculateLayout(this._hScrollbar._scrollData)&&this._hScrollbar._updateLayout(this._hScrollbar._scrollData),"msie"==h.browserInfo().name&&"8.0"==h.browserInfo().version?this.element.find(".e-hhandle").css("left","0px"):null!=this.model.targetPane&&this._on(this.content().find(this.model.targetPane),"scroll",this._scroll),this._addActionClass(),this._autohide()},_exactElementDimension:function(e){for(var t=e.get(0).getBoundingClientRect(),i=["left","right","top","bottom"],s=t.width||t.right-t.left,t=t.height||t.bottom-t.top,o=0;o<i.length;o++)this["border_"+i[o]]=isNaN(parseFloat(e.css("border-"+i[o]+"-width")))?0:parseFloat(e.css("border-"+i[o]+"-width")),this["padding_"+i[o]]=isNaN(parseFloat(e.css("padding-"+i[o])))?0:parseFloat(e.css("padding-"+i[o]));return{width:s,height:t}},_keyPressed:function(e,t){if(this.model.enabled){if(-1!==["input","select","textarea"].indexOf(t.tagName.toLowerCase()))return!0;var i,s;if(-1!==["up","down","pageUp","pageDown"].indexOf(e))this._vScrollbar&&("msie"==h.browserInfo().name&&this.model.allowVirtualScrolling&&this._content.focus(),i=this._vScrollbar._scrollData),s="o";else{if(-1===["left","right","pageLeft","pageRight"].indexOf(e))return!0;this._hScrollbar&&(i=this._hScrollbar._scrollData),s="i"}return!i||!this._changeTop(i,(e.indexOf(s)<0?-1:1)*("p"!==e[0]?1:3)*i.scrollOneStepBy,"key")}},scrollY:function(e,t,i,s,o){if(""!==e){if(t)return o={source:s||"custom",scrollData:this._vScrollbar?this._vScrollbar._scrollData:null,scrollTop:e,originalEvent:o},this._trigger("scroll",o)?void 0:(e=o.scrollTop,this.scrollTop(e),void this.content().scrollTop(e));!h.isNullOrUndefined(i)&&""!==i||(i=100),this._vScrollbar&&(e=parseFloat(e)>this._vScrollbar._scrollData.scrollable?this._vScrollbar._scrollData.scrollable:parseFloat(e)),this.scrollTop(e),this.content().stop().animate({scrollTop:e},i,"linear"),this._trigger("scroll",{source:s||"custom",scrollData:this._vScrollbar?this._vScrollbar._scrollData:null,scrollTop:e,originalEvent:o})}},scrollX:function(e,t,i,s,o){var n;if(""!==e){if(this._hScrollbar&&(e=parseFloat(e)>this._hScrollbar._scrollData.scrollable?this._hScrollbar._scrollData.scrollable:parseFloat(e)),this._externalCall=!0,n=h.browserInfo().name,this.model.enableRTL&&"mozilla"!=n&&(e<0&&(e=Math.abs(e)),(null!=this.model.targetPane?this.content().find(this.model.targetPane):this.content())[0],"mousemove"!=o)&&"touchmove"!=o&&"msie"!=n&&(e=this._hScrollbar._scrollData.scrollable-e),this.scrollLeft(e),t)return this._trigger("scroll",{source:s||"custom",scrollData:this._hScrollbar?this._hScrollbar._scrollData:null,scrollLeft:e,originalEvent:o})?void 0:void(null!=this.model.targetPane&&this.content().find(this.model.targetPane).length?this.content().find(this.model.targetPane):this.content()).scrollLeft(e);!h.isNullOrUndefined(i)&&""!==i||(i=100),(null!=this.model.targetPane&&this.content().find(this.model.targetPane).length?this.content().find(this.model.targetPane):this.content()).stop().animate({scrollLeft:e},i,"linear"),this._trigger("scroll",{source:s||"custom",scrollData:this._hScrollbar?this._hScrollbar._scrollData:null,scrollLeft:e,originalEvent:o})}},enable:function(){var e=this.element.find(".e-vscrollbar,.e-hscrollbar,.e-vscroll,.e-hscroll,.e-vhandle,.e-hhandle,.e-vscroll .e-icon,.e-hscroll .e-icon");e.hasClass("e-disable")&&(e.removeClass("e-disable").attr({"aria-disabled":!1}),this.model.enabled=!0),this._vScrollbar&&(this._vScrollbar._enabled=this.model.enabled),this._hScrollbar&&(this._hScrollbar._enabled=this.model.enabled)},disable:function(){this.element.find(".e-vscrollbar,.e-hscrollbar,.e-vscroll,.e-hscroll,.e-vhandle,.e-hhandle,.e-vscroll .e-icon,.e-hscroll .e-icon").addClass("e-disable").attr({"aria-disabled":!0}),this.model.enabled=!1,this._vScrollbar&&(this._vScrollbar._enabled=this.model.enabled),this._hScrollbar&&(this._hScrollbar._enabled=this.model.enabled)},_changeTop:function(e,t,i,s){var o=(null!=this.model.targetPane&&"height"!=e.dimension?this.content().find(this.model.targetPane):this.content())[e.scrollVal](),t=(o="height"==e.dimension&&0==o?0!=this.scrollTop()?this.scrollTop():0:o)+t;return(e.enableRTL?t<e.scrollable:t>e.scrollable)&&(t=e.scrollable),(t=(e.enableRTL?0<t:t<0)?0:t)!==o&&(this["scroll"+e.xy](t,!0,"",i,s),"X"!==e.xy||h.isNullOrUndefined(this._hScrollbar)?h.isNullOrUndefined(this._vScrollbar)||this._vScrollbar.scroll(t,i,!0,s):this._hScrollbar.scroll(t,i,!0,s)),t!==o},_mouseWheel:function(e){var t;if((this._vScrollbar||e.shiftKey)&&e.data&&this.model.enabled){var i,s=0,o=e.data.d,n=e;if(e=e.originalEvent,this._wheelStart&&this._trigger("wheelStart",{originalEvent:e,scrollData:n.data.d}),this._wheelStart=!1,clearTimeout(d.data(this,"timer")),1==this._wheelx||0!=e.wheelDeltaX&&0!=e.wheelDeltaY||(this._wheelx=1),0==navigator.platform.indexOf("Mac")&&0==this._wheelx&&("webkit"==this._browser||"chrome"==this._browser))return!0;"mozilla"==this._browser?e.axis==e.HORIZONTAL_AXIS?o=this._scrollXdata:this._scrollYdata:"msie"==this._browser?("wheel"==e.type&&(s=e.deltaX/120),"mousewheel"==e.type&&e.shiftKey&&(o=this._scrollXdata,e.preventDefault?e.preventDefault():e.returnValue=!1)):this._wheelx&&0!=e.wheelDeltaX&&0==e.wheelDeltaY&&this._scrollXdata&&(o=this._scrollXdata),0==e.wheelDeltaX&&(this._wheelx=e.wheelDeltaX),e.wheelDelta?(s=0==navigator.platform.indexOf("Mac")?-e.wheelDelta/3:-e.wheelDelta/120,c.opera&&parseFloat(c.opera.version,10)<10&&(s=-s)):e.detail&&(s=e.detail/3),s&&(n.originalEvent&&(i=n.originalEvent.wheelDelta&&0<n.originalEvent.wheelDelta||n.originalEvent.detail&&n.originalEvent.detail<0?-1:1),this._changeTop(o,s*o.scrollOneStepBy,"wheel",e)?((e.preventDefault?e:n).preventDefault(),n.stopImmediatePropagation(),n.stopPropagation(),this._trigger("wheelMove",{originalEvent:e,scrollData:n.data.d,direction:i})):(this._trigger("scrollEnd",{originalEvent:e,scrollData:n}),this._wheelx=0),d.data(t=this,"timer",setTimeout(function(){t._wheelStart=!0,t._trigger("wheelStop",{originalEvent:e,scrollData:n.data.d,direction:i})},250)))}},_scrollerHover:function(e){"mouseenter"!=e.type&&"touchstart"!=e.type||this.content().siblings().is(":visible")?"mouseleave"!=e.type&&"touchend"!=e.type||this.content().siblings().hide():this.content().siblings().css("display","block")},_mouseUp:function(e){var t;e.data&&(t=e.data.d,"mouseup"!==e.type&&"touchend"!==e.type&&(e.toElement||e.relatedTarget)||(this.content().css("cursor","default"),this._off(d(document),"mousemove touchmove"),this._off(d(document),"mouseup touchend",this._mouseUp),!(t.fromScroller=!1)!==this._mouseMoved)||"thumb"!==e.data.source||h.isNullOrUndefined(this.model)||(d.when(this.content()).done(h.proxy(function(){this._trigger("thumbEnd",{originalEvent:e,scrollData:t})},this)),this._off(d(c),"blur")),t.up=!0)},_mouseDownOnContent:function(e){var n,t,a,r,l;this._velocity=0,!this.model.enabled||(n=e.data.d,this._evtData=e.data,this._startX=e.clientX!=u?e.clientX:e.originalEvent.changedTouches[0][n.clientXy],this._startY=e.clientY!=u?e.clientY:e.originalEvent.changedTouches[0][n.clientXy],this._timeStart=e.timeStamp||Date.now(),n.handler,t=this.element.find("."+n.handler).closest(".e-scrollbar"),this._bindBlurEvent(t,e),this._trigger("thumbStart",{originalEvent:e,scrollData:n}))||3==e.which&&2==e.button||(n.fromScroller=!0,a=null,r=1,this._document=d(document),this._window=d(c),this._mouseMove=function(e){var t,i,s,o;this._relDisX=(this._startx=e.clientX!=u?e.clientX:e.originalEvent.changedTouches[0][n.clientXy])-this._startX,this._relDisY=(this._starty=e.clientY!=u?e.clientY:e.originalEvent.changedTouches[0][n.clientXy])-this._startY,this._duration=(e.timeStamp||Date.now())-this._timeStart,this._velocityY=Math.abs(this._relDisY)/this._duration,this._velocityX=Math.abs(this._relDisX)/this._duration,e.preventDefault(),"iframe"===e.target.tagName.toLowerCase()?(e.type="mouseup",this._mouseUp(e)):(o=("mousemove"==e.type?e:e.originalEvent.changedTouches[0])[n.clientXy],a&&o!==a&&(this._mouseMoved=!0,i=o-a,t=this.model[n.scrollVal]-i,1==r&&5<Math.abs(i)&&(l=n.position,r=0),0==r&&(a=o),0<=t)&&t<=n.scrollable&&l===n.position&&(i=.5<this._velocityY&&this._duration<50&&"Top"==n.position,s=.5<this._velocityX&&this._duration<50&&"Left"==n.position,(.5<this._velocityY||.5<this._velocityX)&&this._duration<50?i?(t=Math.abs(this._relDisY)+this._duration*this._velocityY,this._startY>this._starty?(t+=this.scrollTop())>n.scrollable&&(t=n.scrollable):t<this.scrollTop()&&(t=Math.abs(t-this.scrollTop())),this.scrollTop()<=n.scrollable&&this.scrollY(t,!1,this.model.animationSpeed,"thumb")):s&&(t=Math.abs(this._relDisX),this._startX>this._startx?(t+=this.scrollLeft())>n.scrollable&&(t=n.scrollable):(t-=this.scrollLeft(),((t=Math.abs(t))>n.scrollable||t>=this.scrollLeft())&&(t=0)),this.scrollLeft()<=n.scrollable)&&this.scrollX(t,!1,this.model.animationSpeed,"thumb"):(this["scroll"+n.xy](t,!0,"","thumb",e.type),"X"===n.xy?this._hScrollbar.scroll(t,"thumb",!0,e.type):h.isNullOrUndefined(this._vScrollbar)||this._vScrollbar.scroll(t,"thumb",!0,e.type),this.content().css("cursor","pointer"),this._trigger("thumbMove",{originalEvent:e,scrollData:n}))),null==a&&(a=o))},this._on(d(document),"mousemove touchmove",{d:n,source:"thumb"},this._mouseMove),this._mouseMoved=!1,this._on(d(document),"mouseup touchend",{d:n,source:"thumb"},this._mouseUp))},_scroll:function(e){for(var t,i,s=[this._vScrollbar?this._vScrollbar._scrollData:null,this._hScrollbar?this._hScrollbar._scrollData:null],o=0;o<2;o++)if((t=s[o])&&!t.skipChange){if(this._externalCall||("height"===t.dimension?this.scrollTop(e.target[t.scrollVal]):this.scrollLeft(e.target[t.scrollVal])),t.sTop=this.model&&null!=this.model.targetPane&&1==o&&this.content().find(this.model.targetPane).length?this.content().find(this.model.targetPane)[0][t.scrollVal]:"scrollTop"==t.scrollVal?this.scrollTop():this.scrollLeft(),this[t.scrollVal](t.sTop),t.fromScroller)return;(1===o?(i=this.content()[0],this._rtlScrollLeftValue&&i.scrollWidth-i.clientWidth!=this._rtlScrollLeftValue&&(this._rtlScrollLeftValue=i.scrollWidth-i.clientWidth),t.sTop=this.model&&"mozilla"!=h.browserInfo().name&&this.model.enableRTL&&!this._hScrollbar._scrollData._scrollleftflag?0==this._rtlScrollLeftValue?-1*t.sTop:t.sTop-this._rtlScrollLeftValue:t.sTop,this._hScrollbar):this._vScrollbar).scroll(t.sTop,"",!0),(2==s.length&&1==o||1==s.length&&0==o)&&(this._externalScroller=!1)}},_changevHandlerPosition:function(e){var t=this._vScrollbar;t&&(e=null!=t._scrollData&&e>=t._scrollData.scrollable?t._scrollData.scrollable:e,null!=t)&&0<=e&&e<=t._scrollData.scrollable&&t[t._scrollData.handler].css(t._scrollData.lPosition,e/t._scrollData.onePx+"px")},_changehHandlerPosition:function(e){var t=this._hScrollbar;t&&(e=null!=t._scrollData&&e>=t._scrollData.scrollable?t._scrollData.scrollable:e,null!=t)&&0<=top&&e<=t._scrollData.scrollable&&t[t._scrollData.handler].css(t._scrollData.lPosition,e/t._scrollData.onePx+"px")},_destroy:function(){this.element.css({width:"",height:""}).find(".e-vscrollbar,.e-hscrollbar").remove(),this.content().removeClass("e-content").css({width:"",height:""})}})}),function(e){"function"==typeof define&&define.amd?define(["./ej.core.min"],e):e()}(function(){function L(e,t){return 0===e.indexOf(t)}function a(e,t){return e.substr(e.length-t.length)===t}function P(e){return(e+"").replace(t,"")}function b(e,t,i){for(var s=e.length;s<t;s++)e=i?"0"+e:e+"0";return e}function d(e,t,i){var s,o=t["-"],n=t["+"];switch(i){case"n -":o=" "+o,n=" "+n;case"n-":a(e,o)?s=["-",e.substr(0,e.length-o.length)]:a(e,n)&&(s=["+",e.substr(0,e.length-n.length)]);break;case"- n":o+=" ",n+=" ";case"-n":L(e,o)?s=["-",e.substr(o.length)]:L(e,n)&&(s=["+",e.substr(n.length)]);break;case"(n)":L(e,"(")&&a(e,")")&&(s=["-",e.substr(1,e.length-2)])}return s||["",e]}function s(e,t,i){var s,o;if(!t||"i"===t)return i.name.length?e.toLocaleString():e.toString();t=t||"D";var n,a,r=i.numberFormat,l=Math.abs(e),d=-1;switch(1<t.length&&(d=parseInt(t.slice(1),10)),s=t.charAt(0).toUpperCase()){case"D":n="n",a=l,l=isNaN(a)?NaN:Math[a<0?"ceil":"floor"](a),-1!==d&&(l=b(""+l,d,!0)),e<0&&(l=-l);break;case"N":(o=r).pattern=o.pattern||["-n"];case"C":(o=o||r.currency).pattern=o.pattern||["-$n","$n"];case"P":(o=o||r.percent).pattern=o.pattern||["-n %","n %"],n=e<0?o.pattern[0]||"-n":o.pattern[1]||"n",l=function(e,t,i){var s=i.groupSizes||[3],o=s[0],n=1,a=Math.pow(10,t),a=Math.round(e*a)/a,r=(e=a=isFinite(a)?a:e)+"",l="",e=1<(a=r.split(/e/i)).length?parseInt(a[1],10):0;r=(a=(r=a[0]).split("."))[0],l=1<a.length?a[1]:"",0<e?(r+=(l=b(l,e,!1)).slice(0,e),l=l.substr(e)):e<0&&(l=(r=b(r,1+(e=-e))).slice(-e,r.length)+l,r=r.slice(0,-e));for(var a=i["."]||".",l=0<t?a+(l.length>t?l.slice(0,t):b(l,t)):"",d=r.length-1,h=i[","]||",",c="";0<=d;){if(0===o||d<o)return r.slice(0,d+1)+(c.length?h+c+l:l);c=r.slice(d-o+1,d+1)+(c.length?h+c:""),d-=o,n<s.length&&(o=s[n],n++)}return r.slice(0,d+1)+h+c+l}(l*("P"===s?100:1),d=-1===d?o.decimals:d,o);break;default:throw"Bad number format specifier: "+s}for(var h,c,u=l,p=n,m=r,g=/n|\$|-|%/g,f="";h=g.lastIndex,c=g.exec(p),f+=p.slice(h,c?c.index:p.length),c;)switch(c[0]){case"n":f+=u;break;case"$":f+=m.currency.symbol||"$";break;case"-":/[1-9]/.test(u)&&(f+=m["-"]||"-");break;case"%":f+=m.percent.symbol||"%"}return f}function E(e,t,i){return e<t||i<e}function N(e,t){if(e.indexOf)return e.indexOf(t);for(var i=0,s=e.length;i<s;i++)if(e[i]===t)return i;return-1}function M(e){return e.split(" ").join(" ").toUpperCase()}function B(e){for(var t=[],i=0,s=e.length;i<s;i++)t[i]=M(e[i]);return t}function y(e,t){for(var i,s=0,o=!1,n=0,a=e.length;n<a;n++)o="'"==(i=e.charAt(n))?(o?t.push("'"):s++,!1):"\\"==i?(o&&t.push("\\"),!o):(t.push(i),!1);return s}function S(e,t){var e=e.patterns,i=(t=t||"F").length;if(1===i){if(!(e=e[t]))throw"Invalid date format string '"+t+"'.";t=e}else 2===i&&"%"===t.charAt(0)&&(t=t.charAt(1));return t}function h(e,t,i){e=P(e),t=P(t);var s,o,n,a,r=i.calendar,i=ej.globalize._getDateParseRegExp(r,t),l=new RegExp(i.regExp).exec(e);if(null===l)return null;for(var d,h,c,u,p,m,g,f,b,_=i.groups,v=null,w=null,y=null,S=0,C=0,D=0,$=0,I=null,x=!1,T=0,k=_.length;T<k;T++)if(s=l[T+1]){var O=_[T],j=O.length,A=parseInt(s,10);switch(O){case z.DAY_OF_MONTH_DOUBLE_DIGIT:case z.DAY_OF_MONTH_SINGLE_DIGIT:if(E(y=A,1,31))return null;break;case z.MONTH_THREE_LETTER:case z.MONTH_FULL_NAME:if(u=s,p=3===j,b=f=g=m=void 0,m=(c=r).months,g=c.monthsGenitive||c.months,f=c._upperMonths,b=c._upperMonthsGen,f||(c._upperMonths=f=[B(m.names),B(m.namesAbbr)],c._upperMonthsGen=b=[B(g.names),B(g.namesAbbr)]),u=M(u),E(w=m=(m=N(p?f[1]:f[0],u))<0?N(p?b[1]:b[0],u):m,0,11))return null;break;case z.MONTH_SINGLE_DIGIT:case z.MONTH_DOUBLE_DIGIT:if(E(w=A-1,0,11))return null;break;case z.YEAR_SINGLE_DIGIT:case z.YEAR_DOUBLE_DIGIT:case z.YEAR_FULL:if(E(v=j<4?(c=r,g=A,f=void 0,f=new Date,g<100&&("string"==typeof(c=c.twoDigitYearMax)?(new Date).getFullYear()%100+parseInt(c,10):c)<(g+=(c=f.getFullYear())-c%100)&&(g-=100),g):A,0,9999))return null;break;case z.HOURS_SINGLE_DIGIT_12_HOUR_CLOCK:case z.HOURS_DOUBLE_DIGIT_12_HOUR_CLOCK:if(E(S=12===(S=A)?0:S,0,11))return null;break;case z.HOURS_SINGLE_DIGIT_24_HOUR_CLOCK:case z.HOURS_DOUBLE_DIGIT_24_HOUR_CLOCK:if(E(S=A,0,23))return null;break;case z.MINUTES_SINGLE_DIGIT:case z.MINUTES_DOUBLE_DIGIT:if(E(C=A,0,59))return null;break;case z.SECONDS_SINGLE_DIGIT:case z.SECONDS_DOUBLE_DIGIT:if(E(D=A,0,59))return null;break;case z.MERIDIAN_INDICATOR_FULL:case z.MERIDIAN_INDICATOR_SINGLE:if((x=r.PM&&(s===r.PM[0]||s===r.PM[1]||s===r.PM[2]))||r.AM&&(s===r.AM[0]||s===r.AM[1]||s===r.AM[2]))break;return null;case z.DECISECONDS:case z.CENTISECONDS:case z.MILLISECONDS:if(E($=A*Math.pow(10,3-j),0,999))return null;break;case z.DAY_OF_WEEK_THREE_LETTER:y=function(r,i,e){if(!r)return null;var t,s,o=0,l=0,n=null;for(i=i.split(""),length=i.length;o<length;o++)"d"===(ch=i[o])&&(count=function(e){for(var t=0;i[o]===e;)t++,o++;return 0<t&&--o,t}("d"),e._lowerDays||(e._lowerDays=function(e){var t,i={};for(t in e)i[t]=function(e){for(var t=0,i=e.length,s=[];t<i;t++)s[t]=(e[t]+"").toLowerCase();return s}(e[t]);return i}(e.days)),n=count<3?(t=2,s=void 0,s=new RegExp("^\\d{1,"+t+"}"),(t=r.substr(l,t).match(s))?(t=t[0],l+=t.length,parseInt(t,10)):null):function(e,t){for(var i,s,o,n=0,a=e.length;n<a;n++)if(s=(i=e[n]).length,o=r.substr(l,s),(o=t?o.toLowerCase():o)==i)return l+=s,n+1;return null}(e._lowerDays[3==count?"namesAbbr":"names"],!0));return n}(e,t,r);break;case z.DAY_OF_WEEK_FULL_NAME:p=s,b=3===j,m=u=void 0,u=(h=r).days,(m=h._upperDays)||(h._upperDays=m=[B(u.names),B(u.namesAbbr),B(u.namesShort)]),p=M(p),b?-1===N(m[1],p)&&N(m[2],p):N(m[0],p);break;case z.TIME_ZONE_OFFSET_FULL:if(2!==(h=s.split(/:/)).length||E(d=parseInt(h[0],10),-12,13)||E(o=parseInt(h[1],10),0,59))return null;I=60*d+(L(s,"-")?-o:o);break;case z.TIME_ZONE_OFFSET_SINGLE_DIGIT:case z.TIME_ZONE_OFFSET_DOUBLE_DIGIT:if(E(d=A,-12,13))return null;I=60*d}}if(i=new Date,a=(n=r.convert)?n.fromGregorian(i)[0]:i.getFullYear(),null===v&&(v=a),null===w&&(w=0),null===y&&(y=1),n){if(null===(i=n.toGregorian(v,w,y)))return null}else if(i.setFullYear(v,w,y),i.getDate()!==y)return null;return x&&S<12&&(S+=12),i.setHours(S,C,D,$),null!==I&&(a=i.getMinutes()-(I+i.getTimezoneOffset()),i.setHours(i.getHours()+parseInt(a/60,10),a%60)),i}function C(e,t,i){function s(e,t){var i,e=e+"";return 1<t&&e.length<t?(i=g[t-2]+e).substr(i.length-t,t):e}var o,n,a,r,l=i.calendar,d=l.convert;if(!t||!t.length||"i"===t)return i&&i.name.length?d?C(e,l.patterns.F,i):e.toLocaleString():e.toString();i="s"===t,t=S(l,t);var h,c,u,p,m=[],g=["0","00","000"],f=/([^d]|^)(d|dd)([^d]|$)/g,b=0,_=/\/|dddd|ddd|dd|d|MMMM|MMM|MM|M|yyyy|yy|y|hh|h|HH|H|mm|m|ss|s|tt|t|fff|ff|f|zzz|zz|z|gg|g/g;for(!i&&d&&(p=d.fromGregorian(e));;){var v=_.lastIndex,w=_.exec(t);if(b+=y(t.slice(v,w?w.index:t.length),m),!w)break;if(b%2)m.push(w[0]);else switch(n=(o=w[0]).length,o){case z.DAY_OF_WEEK_THREE_LETTER:case z.DAY_OF_WEEK_FULL_NAME:a=3===n?l.days.namesAbbr:l.days.names,m.push(a[e.getDay()]);break;case z.DAY_OF_MONTH_SINGLE_DIGIT:case z.DAY_OF_MONTH_DOUBLE_DIGIT:c=!0,m.push(s(p?p[2]:e.getDate(),n));break;case z.MONTH_THREE_LETTER:case z.MONTH_FULL_NAME:r=p?p[1]:e.getMonth(),m.push((l.monthsGenitive&&(c||u||(c=f.test(t),u=!0),c)?l.monthsGenitive:l.months)[3===n?"namesAbbr":"names"][r]);break;case z.MONTH_SINGLE_DIGIT:case z.MONTH_DOUBLE_DIGIT:m.push(s((p?p[1]:e.getMonth())+1,n));break;case z.YEAR_SINGLE_DIGIT:case z.YEAR_DOUBLE_DIGIT:case z.YEAR_FULL:r=p?p[0]:e.getFullYear(),n<4&&(r%=100),m.push(s(r,n));break;case z.HOURS_SINGLE_DIGIT_12_HOUR_CLOCK:case z.HOURS_DOUBLE_DIGIT_12_HOUR_CLOCK:0===(h=e.getHours()%12)&&(h=12),m.push(s(h,n));break;case z.HOURS_SINGLE_DIGIT_24_HOUR_CLOCK:case z.HOURS_DOUBLE_DIGIT_24_HOUR_CLOCK:m.push(s(e.getHours(),n));break;case z.MINUTES_SINGLE_DIGIT:case z.MINUTES_DOUBLE_DIGIT:m.push(s(e.getMinutes(),n));break;case z.SECONDS_SINGLE_DIGIT:case z.SECONDS_DOUBLE_DIGIT:m.push(s(e.getSeconds(),n));break;case z.MERIDIAN_INDICATOR_SINGLE:case z.MERIDIAN_INDICATOR_FULL:r=e.getHours()<12?l.AM?l.AM[0]:" ":l.PM?l.PM[0]:" ",m.push(1===n?r.charAt(0):r);break;case z.DECISECONDS:case z.CENTISECONDS:case z.MILLISECONDS:m.push(s(e.getMilliseconds(),3).substr(0,n));break;case z.TIME_ZONE_OFFSET_SINGLE_DIGIT:case z.TIME_ZONE_OFFSET_DOUBLE_DIGIT:h=e.getTimezoneOffset()/60,m.push((h<=0?"+":"-")+s(Math.floor(Math.abs(h)),n));break;case z.TIME_ZONE_OFFSET_FULL:h=e.getTimezoneOffset()/60,m.push((h<=0?"+":"-")+s(Math.floor(Math.abs(h)),2)+":"+s(Math.abs(e.getTimezoneOffset()%60),2));break;case z.DATE_SEPARATOR:m.push(l["/"]||"/");break;default:throw"Invalid date format pattern '"+o+"'."}}return m.join("")}var r,t,c,u,p,z;r=jQuery,ej.globalize={},ej.cultures={},ej.cultures.default=ej.cultures["en-US"]=r.extend(!0,{name:"en-US",englishName:"English",nativeName:"English",language:"en",isRTL:!1,numberFormat:{pattern:["-n"],decimals:2,",":",",".":".",groupSizes:[3],"+":"+","-":"-",percent:{pattern:["-n %","n %"],decimals:2,groupSizes:[3],",":",",".":".",symbol:"%"},currency:{pattern:["($n)","$n"],decimals:2,groupSizes:[3],",":",",".":".",symbol:"$"}},calendars:{standard:{"/":"/",":":":",firstDay:0,days:{names:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],namesAbbr:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],namesShort:["Su","Mo","Tu","We","Th","Fr","Sa"]},months:{names:["January","February","March","April","May","June","July","August","September","October","November","December",""],namesAbbr:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec",""]},AM:["AM","am","AM"],PM:["PM","pm","PM"],twoDigitYearMax:2029,patterns:{d:"M/d/yyyy",D:"dddd, MMMM dd, yyyy",t:"h:mm tt",T:"h:mm:ss tt",f:"dddd, MMMM dd, yyyy h:mm tt",F:"dddd, MMMM dd, yyyy h:mm:ss tt",M:"MMMM dd",Y:"yyyy MMMM",S:"yyyy'-'MM'-'dd'T'HH':'mm':'ss"}}}},ej.cultures["en-US"]),ej.cultures["en-US"].calendar=ej.cultures["en-US"].calendar||ej.cultures["en-US"].calendars.standard,t=/^\s+|\s+$/g,c=/^[+-]?infinity$/i,u=/^0x[a-f0-9]+$/i,p=/^[+-]?\d*\.?\d*(e[+-]?\d+)?$/,z={DAY_OF_WEEK_THREE_LETTER:"ddd",DAY_OF_WEEK_FULL_NAME:"dddd",DAY_OF_MONTH_SINGLE_DIGIT:"d",DAY_OF_MONTH_DOUBLE_DIGIT:"dd",MONTH_THREE_LETTER:"MMM",MONTH_FULL_NAME:"MMMM",MONTH_SINGLE_DIGIT:"M",MONTH_DOUBLE_DIGIT:"MM",YEAR_SINGLE_DIGIT:"y",YEAR_DOUBLE_DIGIT:"yy",YEAR_FULL:"yyyy",HOURS_SINGLE_DIGIT_12_HOUR_CLOCK:"h",HOURS_DOUBLE_DIGIT_12_HOUR_CLOCK:"hh",HOURS_SINGLE_DIGIT_24_HOUR_CLOCK:"H",HOURS_DOUBLE_DIGIT_24_HOUR_CLOCK:"HH",MINUTES_SINGLE_DIGIT:"m",MINUTES_DOUBLE_DIGIT:"mm",SECONDS_SINGLE_DIGIT:"s",SECONDS_DOUBLE_DIGIT:"ss",MERIDIAN_INDICATOR_SINGLE:"t",MERIDIAN_INDICATOR_FULL:"tt",DECISECONDS:"f",CENTISECONDS:"ff",MILLISECONDS:"fff",TIME_ZONE_OFFSET_SINGLE_DIGIT:"z",TIME_ZONE_OFFSET_DOUBLE_DIGIT:"zz",TIME_ZONE_OFFSET_FULL:"zzz",DATE_SEPARATOR:"/"},ej.globalize._getDateParseRegExp=function(e,t){var i,s,o,n,a,r=e._parseRegExp;if(r){if(a=r[t])return a}else e._parseRegExp=r={};for(var l,d=S(e,t).replace(/([\^\$\.\*\+\?\|\[\]\(\)\{\}])/g,"\\\\$1"),h=["^"],c=[],u=0,p=0,m=/\/|dddd|ddd|dd|d|MMMM|MMM|MM|M|yyyy|yy|y|hh|h|HH|H|mm|m|ss|s|tt|t|fff|ff|f|zzz|zz|z|gg|g/g;null!==(l=m.exec(d));)if(i=d.slice(u,l.index),u=m.lastIndex,(p+=y(i,h))%2)h.push(l[0]);else{switch(o=(s=l[0]).length,s){case z.DAY_OF_WEEK_THREE_LETTER:case z.DAY_OF_WEEK_FULL_NAME:case z.MONTH_FULL_NAME:case z.MONTH_THREE_LETTER:n="(\\D+)";break;case z.MERIDIAN_INDICATOR_FULL:case z.MERIDIAN_INDICATOR_SINGLE:n="(\\D*)";break;case z.YEAR_FULL:case z.MILLISECONDS:case z.CENTISECONDS:case z.DECISECONDS:n="(\\d{"+o+"})";break;case z.DAY_OF_MONTH_DOUBLE_DIGIT:case z.DAY_OF_MONTH_SINGLE_DIGIT:case z.MONTH_DOUBLE_DIGIT:case z.MONTH_SINGLE_DIGIT:case z.YEAR_DOUBLE_DIGIT:case z.YEAR_SINGLE_DIGIT:case z.HOURS_DOUBLE_DIGIT_24_HOUR_CLOCK:case z.HOURS_SINGLE_DIGIT_24_HOUR_CLOCK:case z.HOURS_DOUBLE_DIGIT_12_HOUR_CLOCK:case z.HOURS_SINGLE_DIGIT_12_HOUR_CLOCK:case z.MINUTES_DOUBLE_DIGIT:case z.MINUTES_SINGLE_DIGIT:case z.SECONDS_DOUBLE_DIGIT:case z.SECONDS_SINGLE_DIGIT:n="(\\d\\d?)";break;case z.TIME_ZONE_OFFSET_FULL:n="([+-]?\\d\\d?:\\d{2})";break;case z.TIME_ZONE_OFFSET_DOUBLE_DIGIT:case z.TIME_ZONE_OFFSET_SINGLE_DIGIT:n="([+-]?\\d\\d?)";break;case z.DATE_SEPARATOR:n="(\\"+e["/"]+")";break;default:throw"Invalid date format pattern '"+s+"'."}n&&h.push(n),c.push(l[0])}return y(d.slice(u),h),h.push("$"),a=h.join("").replace(/\s+/g,"\\s+"),r[t]={regExp:a,groups:c}},ej.globalize.addCulture=function(e,t){ej.cultures[e]=r.extend(!0,r.extend(!0,{},ej.cultures.default,t),ej.cultures[e]),ej.cultures[e].calendar=ej.cultures[e].calendars.standard},ej.globalize.preferredCulture=function(e){return e=void 0!==e&&typeof e==typeof this.cultureObject?e.name:e,this.cultureObject=ej.globalize.findCulture(e),this.cultureObject},ej.globalize.setCulture=function(e){return ej.isNullOrUndefined(this.globalCultureObject)&&(this.globalCultureObject=ej.globalize.findCulture(e)),(e=void 0!==e&&typeof e==typeof this.globalCultureObject?e.name:e)&&(this.globalCultureObject=ej.globalize.findCulture(e)),ej.cultures.current=this.globalCultureObject,this.globalCultureObject},ej.globalize.culture=function(e){ej.cultures.current=ej.globalize.findCulture(e)},ej.globalize.findCulture=function(e){var t,i,s,o,n;if(e){if(r.isPlainObject(e)&&e.numberFormat&&(t=e),"string"==typeof e){if((i=ej.cultures)[e])return i[e];if(-1<e.indexOf("-")){if(i[s=e.split("-")[0]])return i[s]}else for(o=r.map(i,function(e){return e}),n=0;n<o.length;n++)if(o[n].name.split("-")[0]===e)return o[n];return ej.cultures.default}}else t=ej.cultures.current||ej.cultures.default;return t},ej.globalize.format=function(e,t,i){i=ej.globalize.findCulture(i);return"number"==typeof e?e=s(e,t,i):e instanceof Date&&(e=C(e,t,i)),e},ej.globalize.parseInt=function(e,t,i){return Math.floor(this.parseFloat(e,t,i))},ej.globalize.parseFloat=function(e,t,i){"string"==typeof t&&(i=t,t=10);var s,o,n,a=NaN,r=(i=ej.globalize.findCulture(i)).numberFormat,l=i.numberFormat.pattern[0];return-1<(e=e.replace(/ /g,"")).indexOf(i.numberFormat.currency.symbol)?(e=(e=e.replace(i.numberFormat.currency.symbol||"$","")).replace(i.numberFormat.currency["."]||".",i.numberFormat["."]||"."),l=P(i.numberFormat.currency.pattern[0].replace("$",""))):-1<e.indexOf(i.numberFormat.percent.symbol)&&(e=(e=e.replace(i.numberFormat.percent.symbol||"%","")).replace(i.numberFormat.percent["."]||".",i.numberFormat["."]||"."),l=P(i.numberFormat.percent.pattern[0].replace("%",""))),e=P(e),c.test(e)?a=parseFloat(e,t):!t&&u.test(e)?a=parseInt(e,16):(t=(i=d(e,r,l))[0],n=i[1],""===t&&"-n"!==r.pattern[0]&&(t=(i=d(e,r,"-n"))[0],n=i[1]),t=t||"+",i=(e=(e=n.indexOf("e"))<0?n.indexOf("E"):e)<0?(o=n,null):(o=n.substr(0,e),n.substr(e+1)),n=r["."]||".",o=(e=o.indexOf(n))<0?(s=o,null):(s=o.substr(0,e),o.substr(e+n.length)),e=r[","]||",",s=s.split(e).join(""),n=e.replace(/\u00A0/g," "),t=t+(s=e!==n?s.split(n).join(""):s),null!==o&&(t+="."+o),null!==i&&(t+="e"+((e=d(i,r,l))[0]||"+")+e[1]),p.test(t)&&(a=parseFloat(t))),a},ej.globalize.parseDate=function(e,t,i){var s,o,n,a,r,l;if(i=ej.globalize.findCulture(i),t){if((t="string"==typeof t?[t]:t).length)for(a=0,r=t.length;a<r&&(!(l=t[a])||!(s=h(e,l,i)));a++);}else for(o in n=i.calendar.patterns)if(s=h(e,n[o],i),s)break;return s||null},ej.globalize.getLocalizedConstants=function(e,t){e=e.replace("ej.","").split("."),e=function e(t,i){return i.length?e(t[i[0]],i.slice(1)):t}(ej,e);return r.extend(!0,{},e.Locale.default,e.Locale[t||this.cultureObject.name])},r.extend(ej,ej.globalize)}),function(e){"function"==typeof define&&define.amd?define(["./../common/ej.globalize.min","./../common/ej.core.min","./../common/ej.scroller.min","./../common/ej.draggable.min"],e):e()}(function(){var r,n;r=jQuery,(n=Syncfusion).widget("ejDialog","ej.Dialog",{_rootCSS:"e-dialog",element:null,_ignoreOnPersist:["drag","dragStart","dragStop","resizeStop","resizeStart","resize","beforeClose","beforeOpen","collapse","expand","close","open","destroy","create","ajaxSuccess","ajaxError","contentLoad","actionButtonClick","enableResize"],model:null,validTags:["div","span"],_setFirst:!1,angular:{terminal:!1},defaults:{showOnInit:!0,closeOnEscape:!0,closeIconTooltip:"close",enableAnimation:!0,allowDraggable:!0,height:"auto",minHeight:120,minWidth:200,maxHeight:null,maxWidth:null,enableModal:!1,position:{X:"",Y:""},containment:null,enableResize:!0,htmlAttributes:{},showHeader:!0,showFooter:!1,contentType:null,contentUrl:null,ajaxSettings:{type:"GET",cache:!1,data:{},dataType:"html",contentType:"html",async:!0},title:"",width:400,zIndex:1e3,cssClass:"",enableRTL:!1,allowKeyboardNavigation:!0,showRoundedCorner:!1,actionButtons:["close"],animation:{show:{effect:"fade",duration:400},hide:{effect:"fade",duration:400}},tooltip:{close:"Close",collapse:"Collapse",restore:"Restore",maximize:"Maximize",minimize:"Minimize",expand:"Expand",unPin:"UnPin",pin:"Pin"},footerTemplateId:null,locale:"en-US",faviconCSS:null,content:null,target:null,enablePersistence:!1,enabled:!0,isResponsive:!1,actionButtonClick:null,beforeClose:null,close:null,expand:null,collapse:null,beforeOpen:null,open:null,drag:null,dragStart:null,dragStop:null,resize:null,resizeStart:null,resizeStop:null,contentLoad:null,ajaxSuccess:null,ajaxError:null,create:null,destroy:null,Close:null},dataTypes:{showOnInit:"boolean",closeOnEscape:"boolean",enableAnimation:"boolean",position:"data",animation:"data",closeIconTooltip:"string",tooltip:"data",allowDraggable:"boolean",enableModal:"boolean",enableResize:"boolean",isResponsive:"boolean",showHeader:"boolean",showFooter:"boolean",title:"string",faviconCSS:"string",zIndex:"number",cssClass:"string",enablePersistence:"boolean",contentUrl:"string",contentType:"string",enableRTL:"boolean",enabled:"boolean",allowKeyboardNavigation:"boolean",showRoundedCorner:"boolean",locale:"string",htmlAttributes:"data",ajaxSettings:"data",actionButtons:"array",footerTemplateId:"string"},_setModel:function(e){var t,i;for(t in e)switch(t){case"closeIconTooltip":this._dialogClose.attr("title",e[t]);break;case"tooltip":this._tooltipText(e[t]);break;case"title":this.model.title=e[t],this._ejDialog.find("span.e-title").length<=0?this._addTitleText():this._ejDialog.find("span.e-title").html(e[t]),this._updateCaptionWidth();break;case"width":this.model.width=e[t],this._changeSize(),this._updateCaptionWidth(),e[t]=this.model.width;break;case"height":this.model.height=e[t],this._changeSize(),e[t]=this.model.height;break;case"position":this.model.position=e[t],this._dialogPosition();break;case"cssClass":this._changeSkin(e[t]);break;case"showRoundedCorner":this.model.showRoundedCorner=e[t],this._roundedCorner(e[t]);break;case"contentType":this.model.contentType=e[t],this._appendContent(e[t]);break;case"enabled":this.model.enabled=e[t],this._enabledAction(e[t]);break;case"contentUrl":this.model.contentUrl=e[t],this._appendContent(this.model.contentType);break;case"content":case"target":this._ejDialog.appendTo(r(e[t])),this.model.target=this.model.content=e[t],this._dialogPosition();break;case"containment":this._setDragArea(e[t]),n.isNullOrUndefined(this._target)?this._ejDialog.appendTo(document.body):this._ejDialog.appendTo(this._target),this.model.position.X=this.model.position.Y="",this._dialogPosition(),this.model.containment=e[t]=this._target,this.model.enableModal&&this._createOverlay(),this._dialogTitlebar.ejDraggable({dragArea:this._target});break;case"locale":this.model.locale=e[t],this.localizedLabels=this._getLocalizedLabels(),this._setLocaleCulture(this.localizedLabels),this._tooltipText(this.model.tooltip);break;case"minHeight":this.model.minHeight=e[t],this._ejDialog.css("minHeight",e[t]),this._minMaxValidation(),this._resetScroller(),this._resizeDialog();break;case"minWidth":this.model.minWidth=e[t],this._ejDialog.css("minWidth",e[t]),this._minMaxValidation(),this._resetScroller(),this._resizeDialog();break;case"maxHeight":this.model.maxHeight=e[t],this._ejDialog.css("maxHeight",e[t]),this._minMaxValidation(),this._resetScroller(),this._resizeDialog();break;case"maxWidth":this.model.maxWidth=e[t],this._ejDialog.css("maxWidth",e[t]),this._minMaxValidation(),this._resetScroller(),this._resizeDialog();break;case"zIndex":this._ejDialog.css("z-index",e[t]);break;case"faviconCSS":this.model.faviconCSS=e[t],this._favIcon(),this._updateCaptionWidth();break;case"isResponsive":this.model.isResponsive=e[t],this.model.isResponsive?this._ejDialog.addClass("e-dialog-resize"):this._ejDialog.removeClass("e-dialog-resize"),this._wireResizing();break;case"allowDraggable":this.model.allowDraggable=e[t],e[t]?this._enableDrag():this._dialogTitlebar.removeClass("e-draggable");break;case"enableResize":this.model.enableResize=e[t],e[t]?this._enableResize():(this._ejDialog.removeClass("e-resizable"),this._ejDialog.find(".e-resize-handle").remove()),this._reRenderScroller();break;case"showHeader":this.model.showHeader=e[t],e[t]?(this._renderTitleBar(),this._iconsRender(this.model.actionButtons),this.model.faviconCSS&&(this._dialogFavIcon=!1,this._favIcon()),this._enableDrag(),this._maximize||this._updateScroller(this._ejDialog.outerHeight(!0)-this._dialogTitlebar.outerHeight(!0),this._ejDialog.width()-2)):(this._ejDialog.find(".e-titlebar").remove(),this._maximize?this.refresh():this._updateScroller(this._ejDialog.outerHeight(!0),this._ejDialog.width()-2)),this._roundedCorner(this.model.showRoundedCorner),this.model.showFooter&&this._setContainerSize()._resetScroller();break;case"showFooter":this.model.showFooter=e[t],(e[t]?(this._appendContent(),this._ejDialog.find(".e-resizable")):this._ejDialog.find(".e-footerbar")).remove(),this._enableResize()._enableDrag()._sizeInPercent(),this._reRenderScroller(),this._setContainerSize()._resetScroller(),this._roundedCorner(this.model.showRoundedCorner);break;case"footerTemplateId":this.model.footerTemplateId=e[t],this.model.showFooter&&(r(".e-footerbar").empty(),i=r("body").find("#"+this.model.footerTemplateId).html(),this._dialogFooterbar.append(i),this._enableResize());break;case"enableRTL":this.model.enableRTL=e[t],this.model.faviconCSS&&this._favIcon(),e[t]?(this._ejDialog.addClass("e-rtl"),this.iframe&&this.iframe.contents().find("body").css("direction","rtl")):(this._ejDialog.removeClass("e-rtl"),this.iframe&&this.iframe.contents().find("body").css("direction","ltr")),this.scroller&&this._resetScroller();break;case"actionButtons":n.isNullOrUndefined(this._dialogTitlebar)||(this._removeAllIcons(),this._iconsRender(e[t])),this.model.actionButtons=e[t],this._updateCaptionWidth();break;case"enableModal":this._enableModal(e[t]);break;case"htmlAttributes":this._addAttr(e[t])}},_destroy:function(){this._overLay&&this._overLay.remove(),this._cloneElement.appendTo(this._ejDialog.parent()),this._ejDialog.remove(),this._cloneElement.removeClass("e-dialog"),this.element=this._cloneElement,this._isOpen=!1},keyConfigs:[37,38,39,40],_init:function(){this._init=!0,this._widthPercent=null,this._heightPercent=null,this._windowSize={outerWidth:r(window).outerWidth(),outerHeight:r(window).outerHeight()},this._initSize={width:this.model.width,height:this.model.height},this._sizeType={width:isNaN(this.model.width)?this.model.width.match(/px|%|auto/g)[0]:null,height:isNaN(this.model.height)?this.model.height.match(/px|%|auto/g)[0]:null},this._isOpen=this._maximize=this._minimize=!1,this.localizedLabels=this._getLocalizedLabels(),this._setLocaleCulture(this.localizedLabels),this._setDimension(),this.model.close||(this.model.close=this.model.Close),this.model.target||(this.model.target=this.model.content),this._responsive(),this._renderControl(),this._wireEvents(),(scrObj=this._ejDialog.closest(".e-dialog.e-js").data("ejDialog"))&&scrObj._resetScroller(),this.hidden=!1,this._init=!1},_responsive:function(){this.width=this.model.width,r(this.element).width(this.width),this.height=this.model.height,r(this.element).height(this.height),r(window).on("resize",r.proxy(this._resizeHandler,this))},_resizeHandler:function(){this._maximize&&(this.width=r(this._dialogTitlebar).outerWidth(),r(this.contentDiv).width(this.width),r(this.contentDiv).children().width(this.width),this.model.height=this.height=r(window).height(),this._ejDialog.css({height:this.height}),this.contentDiv.height(this._ejDialog.height()-r(this._dialogTitlebar).outerHeight()-r(this._dialogFooterbar).outerHeight()),this.element.height(this.contentDiv.height())),this._resetScroller()},_setLocaleCulture:function(e){this.defaults.closeIconTooltip===this.model.closeIconTooltip&&(this.model.closeIconTooltip=e.closeIconTooltip),JSON.stringify(this.model.tooltip)===JSON.stringify(this.defaults.tooltip)&&(this.model.tooltip=e.tooltip)},_setDragArea:function(e){n.isNullOrUndefined(e)?this._target=null:"string"==typeof e?("parent"==e&&(this._target=r(this.element).parent()),"document"==e.toLowerCase()&&(this._target=r(document)),"window"==e.toLowerCase()?this._target=r(window):0<r(e).length&&(this._target=r(e))):"object"==typeof e?0<e.length&&(this._target=e):this._target=null},_addAttr:function(e){var i=this;r.map(e,function(e,t){"class"==t?i._ejDialog.addClass(e):"disabled"==t&&"disabled"==e?(i.model.enabled=!1,i._enabledAction(!1)):i._ejDialog.attr(t,e)})},_tooltipText:function(e){r.extend(this.model.tooltip,e),this._dialogClose.hasClass("e-close")&&this._dialogClose.attr("title",this.model.tooltip.close),this._dialogCollapsible.hasClass("e-arrowhead-up")&&this._dialogCollapsible.attr("title",this.model.tooltip.collapse),this._dialogCollapsible.hasClass("e-arrowhead-down")&&this._dialogCollapsible.attr("title",this.model.tooltip.expand),this._dialogMaximize.hasClass("e-maximize")&&this._dialogMaximize.attr("title",this.model.tooltip.maximize),this._dialogMaximize.hasClass("e-restore")&&this._dialogMaximize.attr("title",this.model.tooltip.restore),this._dialogMinimize.hasClass("e-minus")&&this._dialogMinimize.attr("title",this.model.tooltip.minimize),this._dialogMinimize.hasClass("e-restore")&&this._dialogMinimize.attr("title",this.model.tooltip.restore),this._dialogPin.hasClass("e-unpin")&&this._dialogPin.attr("title",this.model.tooltip.pin),this._dialogPin.hasClass("e-pin")&&this._dialogPin.attr("title",this.model.tooltip.unPin)},_renderControl:function(){var e,t;this._cloneElement=this.element.clone(),this.element.attr("tabindex",0).attr({role:"dialog","aria-labelledby":this.element.prop("id")+"_title"}),this._ejDialog=n.buildTag("div.e-dialog e-widget e-box "+this.model.cssClass+" e-dialog-wrap e-shadow#"+(""==this.element.prop("id")?"":this.element.prop("id")+"_wrapper"),"",{display:"none",zIndex:this.model.zIndex},{tabindex:0}),this.model.isResponsive&&this._ejDialog.addClass("e-dialog-resize"),this.wrapper=this._ejDialog,this._addAttr(this.model.htmlAttributes),this._setDragArea(this.model.containment),n.isNullOrUndefined(this.model.containment)||n.isNullOrUndefined(this._target)?n.isNullOrUndefined(this.model.target)||(e=this.model.target):e=this._target,e=n.isNullOrUndefined(e)?document.body:e,(t=r(e).find("#"+this._id+"_wrapper").get(0))&&r(t).remove(),this._ejDialog.appendTo(e),this.model.enableRTL&&this._ejDialog.addClass("e-rtl"),this.model.showHeader&&(this._renderTitleBar(),this._iconsRender(this.model.actionButtons),this.model.faviconCSS)&&this._favIcon(),this._appendContent(this.model.contentType),this._enableResize()._enableDrag()._setSize()._sizeInPercent(),"ajax"!=this.model.contentType&&(this.model.showOnInit&&this.open()?this._setContainerSize()._resetScroller():this._setHiddenDialogSize()),this._roundedCorner(this.model.showRoundedCorner),this._enabledAction(this.model.enabled),"auto"==this._sizeType.width&&(this._maxWidth=this.model.width),"auto"==this._sizeType.height&&(this._maxHeight=this.model.height)},_setContainerSize:function(){var e;return"auto"!=this.model.height&&(e=this._ejDialog.outerHeight()-(this.model.showHeader?r(this._ejDialog.find("div.e-titlebar")).outerHeight(!0):0)+(this.model.showFooter?r(this._ejDialog.find("div.e-footerbar")).outerHeight(!0):0)-1,this.contentDiv.height(e),this.element.outerHeight(e)),this},_changeSize:function(){this._initSize={width:this.model.width,height:this.model.height},this._sizeType.width=isNaN(this.model.width)?this.model.width.match(/px|%|auto/g):null,this._sizeType.height=isNaN(this.model.height)?this.model.height.match(/px|%|auto/g):null,this._setSize()._sizeInPercent()._setContainerSize()._resetScroller()},_enableDrag:function(){return this.model.allowDraggable&&this.model.showHeader&&(this._dialogTitlebar.addClass("e-draggable"),this._dragDialog()),this},_enableResize:function(){var e;return this.model.enableResize&&(this._ejDialog.addClass("e-resizable"),e=n.buildTag("div.e-icon e-resize-handle"),this.model.showFooter?e.appendTo(this._dialogFooterbar):e.appendTo(this._ejDialog),this._resizeDialog()),this},_changeSkin:function(e){this.model.cssClass!=e&&this._ejDialog.removeClass(this.model.cssClass).addClass(e)},_enableModal:function(e){e?this._isOpen&&this._createOverlay():this._overLay&&this._overLay.remove()},_enabledAction:function(e){e?(this._ejDialog.removeClass("e-disable"),this.wrapper.children(".e-disable-overlay").remove(),n.isNullOrUndefined(this.scroller)||this.scroller.enable()):(this._ejDialog.addClass("e-disable"),n.buildTag("div.e-disable-overlay").appendTo(this.wrapper),n.isNullOrUndefined(this.scroller)||this.scroller.disable())},_renderTitleBar:function(){this._elementTitle=this.element.attr("title"),"string"!=typeof this._elementTitle&&(this._elementTitle=""),this.model.title=this.model.title||this._elementTitle,this._dialogTitlebar=n.buildTag("div#"+this.element.prop("id")+"_title.e-titlebar e-header e-dialog").prependTo(this._ejDialog),this._addTitleText()},_renderFooterBar:function(){this._dialogFooterbar=n.buildTag("div#"+this.element.prop("id")+"_foot.e-footerbar e-dialog e-js").appendTo(this._ejDialog)},_addTitleText:function(){return this.model.title&&(this._titleText=n.buildTag("span.e-title",this.model.title).prependTo(this._dialogTitlebar)),this},_updateCaptionWidth:function(){var e=this.model.faviconCSS&&!n.isNullOrUndefined(this._dialogFavIcon)?this._dialogFavIcon.outerWidth():0;return this._titleText&&this._titleText.css("max-width",this._dialogTitlebar.width()-20-this._dialogTitlebar.find(".e-dialog-icon").width()*this._dialogTitlebar.find(".e-dialog-icon").length-e),this},_iconsRender:function(e){for(var t=0;t<e.length;t++)switch("msie"==n.browserInfo().name&&n.browserInfo().version<=8?r.trim(e[t]):e[t].trim()){case"close":this._closeIcon();break;case"collapse":case"collapsible":this._collapsibleIcon();break;case"maximize":this._maximizeIcon();break;case"minimize":this._minimizeIcon();break;case"pin":this._pinIcon();break;default:this._customIconsRender(e[t])}},_customIconsRender:function(e){this._customIcon=n.util.buildTag("div#"+this.element[0].id+"_"+e+"button.e-dialog-icon e-icon e-"+e,null,null).attr("tabIndex","0").attr("title",e),this._customIcon.appendTo(this._dialogTitlebar),this._on(this._customIcon,"touchstart click",this._iconClick)},_iconClick:function(){var e;this.element.hasClass("e-disable")||(e={cancel:!1,buttonID:r(event.target).attr("id"),event:event.type,model:this.model,currentTarget:event.currentTarget.title},this._trigger("actionButtonClick",e))},_removeAllIcons:function(){this._dialogTitlebar.find("div.e-dialog-icon").remove()},_appendContent:function(e){var t,i,s,o;this.contentDiv=n.isNullOrUndefined(this.contentDiv)?n.buildTag("div.e-dialog-scroller"):this.contentDiv,this.element.removeAttr("title").addClass("e-widget-content e-box"),n.isNullOrUndefined((t=this).model.contentUrl)||n.isNullOrUndefined(e)?(this.dialogIframeContent=this.element.children().find("iframe").contents()[0],n.isNullOrUndefined(this.dialogIframeContent)?this.element.show().appendTo(this.contentDiv):this.element.show().appendTo(this.contentDiv).find("iframe").append(this.dialogIframeContent.lastChild)):"ajax"==e?(this.model.ajaxSettings.url=this.model.contentUrl,this._sendAjaxOptions(this.element,this.model.ajaxSettings.url)):"iframe"==e?(0<this.element.children(".e-iframe").length?(this.iframe=this.element.find("iframe.e-iframe"),this.iframe.attr("src",this.model.contentUrl)):(this.iframe=n.buildTag("iframe.e-iframe","",{width:"100%",height:"100%"},{scrolling:"auto",frameborder:0,src:this.model.contentUrl}),this.element.appendTo(this.contentDiv).append(this.iframe).show()),this.model.enableRTL&&r(this.iframe).load(function(){t.iframe.contents().find("body").css("direction","rtl")}),this._trigger("contentLoad",{contentType:e,url:this.model.contentUrl})):"image"==e?(o=n.buildTag("img.e-images","","",{src:this.model.contentUrl}),this.element.append(o).show().appendTo(this.contentDiv),r(o).on("load",function(){t._dialogPosition()}),this._trigger("contentLoad",{contentType:e,url:this.model.contentUrl})):this.element.show().appendTo(this.contentDiv),0<this._ejDialog.find("div.e-resize-handle").length?this.contentDiv.insertBefore(this._ejDialog.find("div.e-resize-handle")):(i=this.element.children().find("iframe").contents()[0],n.isNullOrUndefined(i)?this.contentDiv.appendTo(this._ejDialog):(this.contentDiv.appendTo(this._ejDialog),s=r("#"+this.contentDiv.find("iframe").attr("id")),setTimeout(function(){r(s[0].contentDocument.lastChild).remove(),s[0].contentDocument.appendChild(i)},500))),this.model.showFooter&&(this._renderFooterBar(),null!=this.model.footerTemplateId)&&(o=r("body").find("#"+this.model.footerTemplateId).html(),this._dialogFooterbar.append(o))},_roundedCorner:function(e){this._ejDialog[e?"addClass":"removeClass"]("e-corner"),this.contentDiv.removeClass("e-dialog-top e-dialog-bottom e-dialog-content"),this.model.showRoundedCorner&&(this.model.showHeader&&!this.model.showFooter?this.contentDiv.addClass("e-dialog-bottom"):!this.model.showHeader&&this.model.showFooter?this.contentDiv.addClass("e-dialog-top"):this.model.showHeader||this.model.showFooter||this.contentDiv.addClass("e-dialog-content"))},_reRenderScroller:function(){var e,t,i,s;null==this.scroller||(this.scroller.refresh(),this.model.enableRTL)||(this.scroller._vScrollbar&&this.scroller._vScrollbar._scrollData&&this.model.enableResize&&(s=this.model.showFooter?(e=this.scroller._vScrollbar.element.find("> div.e-vscroll").height(),i=0):(e=this.scroller._vScrollbar.element.find("> div.e-vscroll").height(),i=2,this._ejDialog.find("div.e-resize-handle").outerHeight()),Math.floor(this.contentDiv.outerHeight())===Math.floor(this.scroller._vScrollbar.model.height+1))&&(this.scroller._vScrollbar.model.height-=s+i,this.scroller._vScrollbar._scrollData.handle-=s,this.scroller._vScrollbar._scrollData.handleSpace-=s+i,this.scroller._vScrollbar._updateLayout(this.scroller._vScrollbar._scrollData),this.scroller._vScrollbar.element.find("> div.e-vscroll").height(e-s-i)),this.scroller._vScrollbar&&this.scroller._vScrollbar._scrollData||!this.scroller._hScrollbar||!this.scroller._hScrollbar._scrollData||!this.model.enableResize||(s=this.model.showFooter?(t=this.scroller._hScrollbar.element.find("> div.e-hscroll").width(),i=0):(t=this.scroller._hScrollbar.element.find("> div.e-hscroll").width(),i=2,this._ejDialog.find("div.e-resize-handle").outerWidth()),this.scroller._hScrollbar.model.width-=s+i,this.scroller._hScrollbar._scrollData.handle-=s+i,this.scroller._hScrollbar._scrollData.handleSpace-=s+i,this.scroller._hScrollbar._updateLayout(this.scroller._hScrollbar._scrollData),this.scroller._hScrollbar.element.find("> div.e-hscroll").width(t-s-i)))},_dialogMaxZindex:function(){var e,i=this.element.parents(),t=r("body").children();return index=t.index(this.popup),t.splice(index,1),r(t).each(function(e,t){i.push(t)}),t=r(this.model.target).children(),cindex=t.index(this.popup),t.splice(cindex,1),r(t).each(function(e,t){i.push(t)}),!(e=Math.max.apply(e,r.map(i,function(e){if("static"!=r(e).css("position"))return parseInt(r(e).css("z-index"))||1})))||e<1e4?e=1e4:e+=1,e},_setZindex:function(){var e=this._dialogMaxZindex();this.model.zIndex<=e&&this._ejDialog.css({zIndex:e+1})},_createOverlay:function(){var e=this._ejDialog.css("zIndex"),e=(n.isNullOrUndefined(this._overLay)||this._overLay.remove(),this._overLay=n.buildTag("div#"+this.element.attr("id")+"_overLay.e-overlay","",{zIndex:e-1}),n.isNullOrUndefined(this.model.containment)||n.isNullOrUndefined(this._target)?n.isNullOrUndefined(this.model.target)||(i=this.model.target):i=this._target,this._overLay.appendTo(n.isNullOrUndefined(i)?document.body:i),n.isNullOrUndefined(this.model.containment)||n.isNullOrUndefined(this._target)?"fixed":"absolute"),t=n.isNullOrUndefined(i)||"fixed"==e||"static"!=r(i).css("position").toLowerCase()?0:r(i).offset().left,i=n.isNullOrUndefined(i)||"fixed"==e||"static"!=r(i).css("position").toLowerCase()?0:r(i).offset().top;this._overLay.css({top:i,left:t,position:e})},_sendAjaxOptions:function(t,i){t.addClass("e-load");var s=this,o=this.model.title,e={success:function(e){try{s._ajaxSuccessHandler(e,t,i,o)}catch(e){}},error:function(e){try{s._ajaxErrorHandler({status:e.status,responseText:e.responseText,statusText:e.statusText},t,i,o)}catch(e){}},complete:function(){try{s._setContainerSize(),s._resetScroller(),s.model.showOnInit||s._setHiddenDialogSize()}catch(e){}}};r.extend(!0,e,this.model.ajaxSettings),this._sendAjaxRequest(e)},_setHiddenDialogSize:function(){this._isOpen||(this._ejDialog.css({display:"block",visibility:"hidden"}),this._setContainerSize()._resetScroller(),this._ejDialog.css({display:"none",visibility:""}))},_sendAjaxRequest:function(e){r.ajax({type:e.type,cache:e.cache,url:e.url,dataType:e.dataType,data:e.data,contentType:e.contentType,async:e.async,success:e.success,error:e.error,beforeSend:e.beforeSend,complete:e.complete})},_ajaxSuccessHandler:function(e,t,i){t.removeClass("e-load"),t.html(e).addClass("e-dialog-loaded").appendTo(this._ejDialog),t.appendTo(this.contentDiv),this._dialogPosition(),this.model.showOnInit&&this.open(),this._trigger("ajaxSuccess",{data:e,url:i})},_ajaxErrorHandler:function(e,t,i){t.addClass("e-dialog-loaded").appendTo(this.contentDiv),this._dialogPosition().open(),this._trigger("ajaxError",{data:e,url:i})},_closeIcon:function(){this._dialogClose=n.util.buildTag("div#"+this.element[0].id+"_closebutton.e-dialog-icon e-icon e-close",null,null).attr("tabIndex","0"),"close"==this.model.closeIconTooltip&&"Close"==this.model.tooltip.close?this._dialogClose.appendTo(this._dialogTitlebar).attr("title",this.model.tooltip.close):"close"!=this.model.closeIconTooltip&&"Close"==this.model.tooltip.close?this._dialogClose.appendTo(this._dialogTitlebar).attr("title",this.model.closeIconTooltip):("close"==this.model.closeIconTooltip&&this.model.tooltip.close,this._dialogClose.appendTo(this._dialogTitlebar).attr("title",this.model.tooltip.close)),this._on(this._dialogClose,"touchstart click",this._closeClick)},_collapsibleIcon:function(){this._dialogCollapsible=n.util.buildTag("div#"+this.element[0].id+"_collapsbutton.e-dialog-icon e-icon",null,null).attr("tabIndex","0"),this._collapsible?this._dialogCollapsible.appendTo(this._dialogTitlebar).attr("title",this.model.tooltip.expand).addClass("e-arrowhead-down").removeClass("e-arrowhead-up"):this._dialogCollapsible.appendTo(this._dialogTitlebar).attr("title",this.model.tooltip.collapse).addClass("e-arrowhead-up").removeClass("e-arrowhead-down"),this._on(this._dialogCollapsible,"touchstart click",this._collapsibleClick)},_maximizeIcon:function(){this._dialogMaximize=n.util.buildTag("div#"+this.element[0].id+"_maximizebutton.e-dialog-icon e-icon",null,null).attr("tabIndex","0"),this._maximize?this._dialogMaximize.appendTo(this._dialogTitlebar).attr("title",this.model.tooltip.restore).addClass("e-restore").removeClass("e-maximize"):this._dialogMaximize.appendTo(this._dialogTitlebar).attr("title",this.model.tooltip.maximize).addClass("e-maximize").removeClass("e-restore"),this._on(this._dialogMaximize,"touchstart click",this._maximizeClick)},_minimizeIcon:function(){this._dialogMinimize=n.util.buildTag("div#"+this.element[0].id+"_minimizebutton.e-dialog-icon e-icon",null,null).attr("tabIndex","0"),this._minimize?this._dialogMinimize.appendTo(this._dialogTitlebar).attr("title",this.model.tooltip.restore).addClass("e-restore").removeClass("e-minus"):this._dialogMinimize.appendTo(this._dialogTitlebar).attr("title",this.model.tooltip.minimize).addClass("e-minus").removeClass("e-restore"),this._on(this._dialogMinimize,"touchstart click",this._minimizeClick)},_pinIcon:function(){this._dialogPin=n.util.buildTag("div#"+this.element[0].id+"_pinbutton.e-dialog-icon e-icon",null,null).attr("tabIndex","0"),this._dialogPin.appendTo(this._dialogTitlebar).attr("title",this.dialogPin?this.model.tooltip.unPin:this.model.tooltip.pin).addClass(this.dialogPin?"e-pin":"e-unpin").removeClass(this.dialogPin?"e-unpin":"e-pin"),this._on(this._dialogPin,"touchstart click",this._pinClick)},_favIcon:function(){var e;this._dialogFavIcon?e=this._dialogFavIcon.find("span").removeClass().addClass("e-dialog-custom"):(this._dialogFavIcon=n.util.buildTag("div.e-dialog-favicon","",{},{style:"float:"+(this.model.enableRTL?"right":"left")}),(e=n.util.buildTag("span.e-dialog-custom","",{},{role:"presentation"})).appendTo(this._dialogFavIcon),this._dialogFavIcon.appendTo(this._dialogTitlebar)),this.model.faviconCSS?e.addClass(this.model.faviconCSS):this._dialogFavIcon.remove(),this._dialogFavIcon.css("float",this.model.enableRTL?"right":"left")},_minMaxValidation:function(){var e=parseInt(this.model.minWidth),t=parseInt(this.model.minHeight),i=parseInt(this.model.maxWidth),s=parseInt(this.model.maxHeight),o=parseInt(this.model.width),n=parseInt(this.model.height),a=this._getParentObj();isNaN(this.model.minWidth)&&0<this.model.minWidth.indexOf("%")&&(e=this._convertPercentageToPixel(a.outerWidth(),e)),isNaN(this.model.minHeight)&&0<this.model.minHeight.indexOf("%")&&(t=this._convertPercentageToPixel(a.outerHeight(),t)),isNaN(this.model.maxWidth)&&0<this.model.maxWidth.indexOf("%")&&(i=this._convertPercentageToPixel(a.innerWidth(),i)),isNaN(this.model.maxHeight)&&0<this.model.maxHeight.indexOf("%")&&(s=this._convertPercentageToPixel(a.innerHeight(),s)),isNaN(this.model.width)&&0<this.model.width.indexOf("%")&&(o=this._convertPercentageToPixel(a.innerWidth(),o)),isNaN(this.model.height)&&0<this.model.height.indexOf("%")&&(n=this._convertPercentageToPixel(a.innerHeight(),n)),(i&&i<o||e&&o<e)&&(this.model.width=i<o?i:e),(s&&s<n||t&&n<t)&&(this.model.height=s<n?s:t)},_setSize:function(){var e=this.model;return this._minMaxValidation(),this._ejDialog.css({width:e.width,minWidth:e.minWidth,maxWidth:e.maxWidth}),this._ejDialog.css({height:e.height,minHeight:e.minHeight,maxHeight:e.maxHeight}),this._dialogPosition(),this},_resetScroller:function(){this.element.css({height:"auto","max-width":"","max-height":"",width:""});var e=this._ejDialog.outerHeight(!0)-(this.model.showHeader?r(this._ejDialog.find("div.e-titlebar")).outerHeight(!0):0)-(this.model.showFooter?r(this._ejDialog.find("div.e-footerbar")).outerHeight(!0):0),e={width:this._ejDialog.width()-2,enableRTL:this.model.enableRTL,height:e,enableTouchScroll:!1};"auto"!=this.model.height||!(this.element.height()<this.model.maxHeight)&&this.model.maxHeight||this._maximize||(e.height="auto"),"auto"!=this.model.width||this._maximize||(e.width=this.model.width),this.contentDiv.ejScroller(e),this.scroller=this.contentDiv.data("ejScroller"),this._reRenderScroller(),this._padding=parseInt(r(this.element).css("padding-top"))+parseInt(r(this.element).css("padding-bottom")),"none"==r(this._ejDialog).css("display")&&(this.hidden=!0,this._ejDialog.css({display:"block"})),!n.isNullOrUndefined(this.contentDiv.height())&&0<this.contentDiv.height()&&(e=n.isNullOrUndefined(this.scroller)?this.contentDiv.outerHeight()-this._padding:(this.scroller._hScrollbar||!this.scroller._vScrollbar)&&this.scroller._hScrollbar?this.contentDiv.outerHeight()-this.scroller.model.buttonSize:this.contentDiv.outerHeight(),"auto"!=this.model.height&&"100%"!=this.model.height?this.element.css({height:e}):this.element.css("height",this.model.height),"auto"!=this.model.height&&"100%"!=this.model.height||this.scroller._vScrollbar||this.element.css({"min-height":this.model.minHeight-(this.model.showHeader?r(this._ejDialog.find("div.e-titlebar")).outerHeight(!0):0)}),this.scroller._vScrollbar||"auto"==this.model.width||"100%"==this.model.width?this.scroller._vScrollbar||this.element.css("width",this.model.width):this.element.outerWidth(this._ejDialog.width()-2),this.element.css({"max-width":this.model.maxWidth,"max-height":this.model.maxHeight})),this.hidden&&this._ejDialog.css({display:"none"}),this.hidden=!1},_updateScroller:function(e,t){this.contentDiv.ejScroller({width:t,height:e,enableRTL:this.model.enableRTL,enableTouchScroll:!1}),this.scroller=this.contentDiv.data("ejScroller"),this._reRenderScroller(),this._changeSize()},_dragDialog:function(){var i=this;this._ejDialog.parents(".e-dialog-scroller");return this._dialogTitlebar.ejDraggable({handle:".e-titlebar",cursorAt:{top:0,left:0},dragArea:i._target,dragStart:function(e){return e.element.attr("aria-grabbed",!0),i._clickHandler(),i.dialogPin||!i.model.allowDraggable||!i.model.enabled||i._trigger("dragStart",{event:e})?!(e.cancel=!0):void 0},drag:function(e){i._trigger("drag",{event:e})},dragStop:function(e){i._ejDialog.focus(),e.element.attr("aria-grabbed",!1),i.element.find("> .e-draggable.e-titlebar")&&(dragobject=r("#"+i.element.find("> .e-draggable.e-titlebar").attr("id")).data("ejDraggable"))&&dragobject.option("cursorAt",i.element.offset());var t=this.helper.offsetParent().offset();i._trigger("dragStop",{event:e}),i.model.position.X=n.isNullOrUndefined(this.position.left)?parseInt(this.helper.css("left")):this.position.left-[t.left+parseFloat(this.helper.offsetParent().css("border-left-width"))],i.model.position.Y=n.isNullOrUndefined(this.position.top)?parseInt(this.helper.css("top")):this.position.top-[t.top+parseFloat(this.helper.offsetParent().css("border-top-width"))]},helper:function(){return r(i._ejDialog).addClass("dragClone")}}),this},_resizeDialog:function(){var i,s,e,t,o,n,a;if(this.model.enableResize)return i=this,s=!1,e=parseInt(this.model.minWidth),t=parseInt(this.model.minHeight),o=parseInt(this.model.maxWidth),n=parseInt(this.model.maxHeight),a=this._getParentObj(),isNaN(this.model.minWidth)&&0<this.model.minWidth.indexOf("%")&&(e=this._convertPercentageToPixel(a.outerWidth(),e)),isNaN(this.model.minHeight)&&0<this.model.minHeight.indexOf("%")&&(t=this._convertPercentageToPixel(a.outerHeight(),t)),isNaN(this.model.maxWidth)&&0<this.model.maxWidth.indexOf("%")&&(o=this._convertPercentageToPixel(a.innerWidth(),o)),isNaN(this.model.maxHeight)&&0<this.model.maxHeight.indexOf("%")&&(n=this._convertPercentageToPixel(a.innerHeight(),n)),this._ejDialog.find("div.e-resize-handle").ejResizable({minHeight:t,minWidth:e,maxHeight:n,maxWidth:o,handle:"e-widget-content",resizeStart:function(e){if(!i.model.enabled)return!1;s||i._trigger("resizeStart",{event:e}),s=!0,i.model.position={X:i._ejDialog.css("left"),Y:i._ejDialog.css("top")},i._dialogPosition()},resize:function(e){var t=r(e.element).parents("div.e-dialog-wrap");i.model.height=r(t).outerHeight(),i.model.width=r(t).outerWidth(),i._setSize(),i._setContainerSize(),i._resetScroller(),i._updateCaptionWidth(),i._trigger("resize",{event:e}),i._sizeType={width:"px",height:"px"},(scrObj=i._ejDialog.closest(".e-dialog.e-js").data("ejDialog"))&&scrObj._resetScroller()},resizeStop:function(e){i._ejDialog.focus(),i._sizeInPercent();var t=r(e.element).parents("div.e-dialog-wrap");i.model.height=r(t).outerHeight(),i.model.width=r(t).outerWidth(),i._setSize(),i._setContainerSize(),i._resetScroller(),s&&i._trigger("resizeStop",{event:e}),s=!1,i._setDimension()},helper:function(){return r(i._ejDialog)}}),this},_dialogPosition:function(){return 0<this._ejDialog.parents("form").length&&n.isNullOrUndefined(this.model.containment)&&n.isNullOrUndefined(this.model.target)&&this._ejDialog.appendTo(this._ejDialog.parents("form")),""!=this.model.position.X||""!=this.model.position.Y?(this._ejDialog.css("position","absolute"),this._ejDialog.css("left",this.model.position.X),this._ejDialog.css("top",this.model.position.Y)):this._centerPosition(),this},_centerPosition:function(){var e,t,i,s=0,o=0;n.isNullOrUndefined(this.model.target)&&(n.isNullOrUndefined(this._target)||r(this._target).is(r(document))||r(this._target).is(r(window)))?(i=document.documentElement,s=(r(window).outerWidth()>this._ejDialog.width()?(r(window).outerWidth()-this._ejDialog.outerWidth())/2:0)+(window.pageXOffset||i.scrollLeft),o=(r(window).outerHeight()>this._ejDialog.height()?(r(window).outerHeight()-this._ejDialog.outerHeight())/2:0)+(window.pageYOffset||i.scrollTop)):("static"==(i=n.isNullOrUndefined(this._target)?r(this.model.target):r(this._target)).css("position")&&(e=i.offsetParent().offset(),s=(t=i.offset()).left-e.left,o=t.top-e.top),i.outerWidth()>this._ejDialog.width()&&(s+=(i.outerWidth()-this._ejDialog.width())/2),i.outerHeight()>this._ejDialog.height()&&(o+=(i.outerHeight()-this._ejDialog.height())/2)),this._ejDialog.css({top:o,left:s}),this._ejDialog.css("position","absolute")},_closeClick:function(e){this.model.enabled&&(e.stopPropagation(),this.close(e))},_collapsibleClick:function(e){this.model.enabled&&(r(e.target).hasClass("e-arrowhead-up")?this._actionCollapse(e):r(e.target).hasClass("e-arrowhead-down")&&this._actionExpand(e))},_actionCollapse:function(e){this._minimize||(this._dialogCollapsible&&this._dialogCollapsible.removeClass("e-arrowhead-up").addClass("e-arrowhead-down"),this._dialogCollapsible&&this._dialogCollapsible.attr("title",this.model.tooltip.expand),this._ejDialog.find("div.e-resize-handle").hide(),this._ejDialog.find(".e-widget-content").parent().slideUp("fast"),this.model.showFooter&&this._dialogFooterbar.slideUp("fast"),this._ejDialog.removeClass("e-shadow"),this._ejDialog.css("minHeight","0"),this._ejDialog.height("auto"),this._trigger("collapse",{isInteraction:!!e}),this._collapsible=!0)},_actionExpand:function(e){this._minimize||(this._dialogCollapsible&&this._dialogCollapsible.removeClass("e-arrowhead-down").addClass("e-arrowhead-up"),this._dialogCollapsible&&this._dialogCollapsible.attr("title",this.model.tooltip.collapse),this._ejDialog.addClass("e-shadow"),this._ejDialog.find(".e-widget-content").parent().slideDown("fast"),this.model.showFooter&&this._dialogFooterbar.slideDown("fast"),this._maximize?(this._ejDialog.css({width:"100%",height:"100%"}),this.element.css({width:"100%",height:"100%"}),this.contentDiv.css({width:"100%",height:"100%"})):this._ejDialog.height(this.model.height),this._ejDialog.find("div.e-resize-handle").show(),this._trigger("expand",{isInteraction:!!e}),this._collapsible=!1)},_maximizeClick:function(e){var t;this.model.enabled&&(e=r(e.target),t=this._dialogMaximize,e.hasClass("e-maximize")?(this._actionMaximize(),this._dialogTitlebar&&(this._dialogTitlebar.find(".e-restore").removeClass("e-restore").addClass("e-minus"),this._dialogMinimize)&&this._dialogMinimize.attr("title",this.model.tooltip.minimize),e.removeClass("e-maximize").addClass("e-restore"),this._dialogMaximize.attr("title",this.model.tooltip.restore),this._hideIcon(!0)):e.hasClass("e-restore")&&(this._actionRestore(),e.removeClass("e-restore").addClass("e-maximize"),this._dialogMaximize.attr("title",this.model.tooltip.maximize),!n.isNullOrUndefined(t)&&r(t).hasClass("e-arrowhead-down")&&(r(t).removeClass("e-arrowhead-down").addClass("e-arrowhead-up"),this._dialogMaximize.attr("title",this.model.tooltip.collapse)),this._hideIcon(!0))),this._resetScroller()},_actionMaximize:function(){this._ejDialog.css("top","0px").css("left","0px").css("overflow","hidden").css("position",this.model.containment||this.model.target?"absolute":"fixed"),this._ejDialog.css({width:"100%",height:"100%"}),this.element.css({width:"100%",height:"100%"}),this.contentDiv.css({width:"100%",height:"100%"}),this._maximize=!0,this._minimize=!1;var e=this;this._dialogCollapsible&&!n.isNullOrUndefined(this._dialogCollapsible.hasClass("e-arrowhead-down"))&&(this._dialogCollapsible.removeClass("e-arrowhead-down").addClass("e-arrowhead-up"),this._dialogCollapsible.attr("title",this.model.tooltip.collapse),this._collapseValue=!0),1==this._collapseValue&&this._ejDialog.find(".e-widget-content").parent().slideDown("fast",function(){e.refresh(),e._reRenderScroller()}),this._resetScroller()},_actionRestore:function(){this.element.height("").width(""),this.contentDiv.height("").width(""),this._restoreDialog(),this._maximize=this._minimize=!1},_minimizeClick:function(e){var t;this.model.enabled&&(e=r(e.target),t=this._dialogMinimize.hasClass("e-icon")&&this._dialogMinimize,e.hasClass("e-minus")?(this._maximize&&this._setSize(),this._actionMinimize()):e.hasClass("e-restore")&&(this._actionRestore(),e.removeClass("e-restore").addClass("e-minus"),this._dialogMinimize.attr("title",this.model.tooltip.minimize),!n.isNullOrUndefined(t)&&r(t).hasClass("e-arrowhead-down")&&(r(t).removeClass("e-arrowhead-down").addClass("e-arrowhead-up"),this._dialogMinimize.attr("title",this.model.tooltip.collapse)),this._hideIcon(!0)))},_actionMinimize:function(){var e;r(window).height(),this._ejDialog.height(),this.element.height();this._ejDialog.css("top","").css("bottom","0").css("left","0").css("position",this.model.containment||this.model.target?"absolute":"fixed"),this._ejDialog.css("minHeight","0"),this._dialogTitlebar?(this._dialogTitlebar.find(".e-restore").removeClass("e-restore").addClass("e-maximize"),this._dialogMaximize&&this._dialogMaximize.attr("title",this.model.tooltip.maximize),this._dialogTitlebar.find(".e-minus").removeClass("e-minus").addClass("e-restore"),this._dialogMinimize&&this._dialogMinimize.attr("title",this.model.tooltip.restore),this._isOpen?e=this._dialogTitlebar.outerHeight():(this._ejDialog.css({display:"block",visibility:"hidden"}),e=this._dialogTitlebar.outerHeight(),this._ejDialog.css({display:"none",visibility:""})),this._ejDialog.css("height",e+2),this._hideIcon(!1)):this._ejDialog.css("height",""),this.contentDiv.hide(),this.model.showFooter&&this._dialogFooterbar.hide(),this._maximize=!1,this._minimize=!0},_hideIcon:function(e){var t=this._dialogCollapsible||null;e?(n.isNullOrUndefined(t)||r(t).parent(".e-dialog-icon").show(),this._ejDialog.find("div.e-resize-handle").show()):(n.isNullOrUndefined(t)||r(t).parent(".e-dialog-icon").hide(),this._ejDialog.find("div.e-resize-handle").hide())},_pinClick:function(e){this.model.enabled&&((e=r(e.target)).hasClass("e-unpin")?(this.dialogPin=!0,e.removeClass("e-unpin").addClass("e-pin"),this._dialogPin.attr("title",this.model.tooltip.unPin)):e.hasClass("e-pin")&&(this.dialogPin=!1,e.removeClass("e-pin").addClass("e-unpin"),this._dialogPin.attr("title",this.model.tooltip.pin)))},_restoreDialog:function(){this.contentDiv.show(),this.model.showFooter&&this._dialogFooterbar.show(),this._ejDialog.css({position:"absolute",bottom:""}).addClass("e-shadow"),this._setSize()._resetScroller(),this._dialogTitlebar&&(this._dialogTitlebar.find(".e-minus").parent().show(),this._dialogCollapsible)&&(this._dialogCollapsible.removeClass("e-arrowhead-down").addClass("e-arrowhead-up"),this._dialogCollapsible.attr("title",this.model.tooltip.collapse))},_clickHandler:function(){var e=this._dialogMaxZindex();parseInt(this._ejDialog.css("zIndex"))<e&&this._ejDialog.css({zIndex:e+1})},_mouseClick:function(e){e.currentTarget==this._id&&(r(e.target).hasClass("e-dialog")||r(e.target).hasClass("e-icon e-resize-handle"))&&(this._setZindex(),r(e.target).closest(".e-dialog.e-widget").focus())},_keyDown:function(e){code=e.keyCode||e.which||e.charCode,this.model.allowKeyboardNavigation&&this.model.enabled&&r(e.target).hasClass("e-dialog")&&-1<r.inArray(code,this.keyConfigs)&&this.model.allowDraggable&&!this.dialogPin&&(this._keyPressed(code,e.ctrlKey),e.preventDefault()),this.model.closeOnEscape&&27===code&&this.model.enabled&&(this.element.find(".e-js.e-dialog").first().is(":visible")||(this.close(e),e.preventDefault())),13===code&&this.model.enabled&&(r(e.target).hasClass("e-close")?this.close(e):(r(e.target).hasClass("e-arrowhead-up")||r(e.target).hasClass("e-arrowhead-down"))&&this._collapsibleClick(e),r(e.target).hasClass("e-maximize")||r(e.target).hasClass("e-restore")&&r(e.target).is(this._dialogMaximize)?this._maximizeClick(e):(r(e.target).hasClass("e-minus")||r(e.target).hasClass("e-restore")&&r(e.target).is(this._dialogMinimize))&&this._minimizeClick(e),r(e.target).hasClass("e-pin")||r(e.target).hasClass("e-unpin"))&&this._pinClick(e),9==code&&this.model.enableModal&&this._focusOnTab(e)},_focusOnTab:function(e){var t=this._ejDialog.find("a, button, :input, select, [tabindex]:not('-1')"),t=r(t).find("a, button, :input, select, [tabindex]:not('')");e.shiftKey?t[t.index(e.target)-1]||(e.preventDefault(),t.last().focus()):t[t.index(e.target)+1]||(e.preventDefault(),t[0].focus())},_keyPressed:function(e,t){switch(e){case 40:t?this._resizing("height",this._ejDialog.outerHeight()+3):this.option("position",{X:this._ejDialog.position().left,Y:this._ejDialog.position().top+3});break;case 39:t?this._resizing("width",this._ejDialog.outerWidth()+3):this.option("position",{X:this._ejDialog.position().left+3,Y:this._ejDialog.position().top});break;case 38:t?this._resizing("height",this._ejDialog.outerHeight()-3):this.option("position",{X:0==this._ejDialog.position().left?0:this._ejDialog.position().left,Y:3<this._ejDialog.position().top?this._ejDialog.position().top-3:0});break;case 37:t?this._resizing("width",this._ejDialog.outerWidth()-3):this.option("position",{X:3<this._ejDialog.position().left?this._ejDialog.position().left-3:0,Y:0==this._ejDialog.position().top?0:this._ejDialog.position().top})}},_resizing:function(e,t){this.model.enableResize&&this.option(e,t)},_sizeInPercent:function(){var e;return this._enableWindowResize()&&(e=this._getParentObj(),this._widthPercent="%"==this._sizeType.width?parseFloat(this.model.width):this._convertPixelToPercentage(e.outerWidth(),this._ejDialog.outerWidth()),this._heightPercent="%"==this._sizeType.height?parseFloat(this.model.height):this._convertPixelToPercentage(e.outerHeight(),this._ejDialog.outerHeight()),100<=this._widthPercent&&(this._widthPercent=100,this._ejDialog.outerWidth(e.outerWidth()),this.model.width=this._ejDialog.width()),100<=this._heightPercent)&&(this._heightPercent=100,this._ejDialog.outerHeight(e.outerHeight()),this.model.height=this._ejDialog.height()),this},_getParentObj:function(){return n.isNullOrUndefined(this.model.containment)?n.isNullOrUndefined(this.model.target)?r(document):r(this.model.target):r(this.model.containment)},_convertPercentageToPixel:function(e,t){return Math.round(t*e/100)},_convertPixelToPercentage:function(e,t){return Math.round(t/e*100)},_reSizeHandler:function(){var e;this._maximize?this._resetScroller():(this._minimize||this._centerPosition(),e=this._getParentObj(),this._change=!1,this._windowSize.outerWidth!=r(window).outerWidth()?"%"==this._sizeType.width?this._percentageWidthDimension(e):this._pixelsWidthDimension(e):this._windowSize.outerHeight!=r(window).outerHeight()&&("%"==this._sizeType.height?this._percentageHeightDimension(e):this._pixelsHeightDimension(e)),this._change&&this._resizeContainer(e),this._windowSize={outerWidth:r(window).outerWidth(),outerHeight:r(window).outerHeight()})},_setDimension:function(){n.isNullOrUndefined(this.model.maxWidth)?n.isNullOrUndefined(this._sizeType.width)?this._maxWidth=+this.model.width:"px"!=this._sizeType.width&&"auto"!=this._sizeType.width||(this._maxWidth=this.model.width):this._maxWidth=this.model.maxWidth,n.isNullOrUndefined(this.model.maxHeight)?n.isNullOrUndefined(this._sizeType.height)?this._maxHeight=+this.model.height:"px"!=this._sizeType.height&&"auto"!=this._sizeType.height||(this._maxHeight=this.model.height):this._maxHeight=this.model.maxHeight},_percentageWidthDimension:function(e){this._ejDialog.outerWidth(this._convertPercentageToPixel(e.outerWidth(),this._widthPercent)),this._change=!0},_percentageHeightDimension:function(e){this._ejDialog.outerHeight(this._convertPercentageToPixel(e.outerHeight(),this._heightPercent)),this._change=!0},_pixelsWidthDimension:function(e){r(e).outerWidth()<=this._ejDialog.outerWidth()&&this._setWidth(e),r(e).outerHeight()<=this._ejDialog.outerHeight()&&this._setHeight(e),parseInt(this._ejDialog.css("width"))<parseInt(this._maxWidth)&&(parseInt(this._maxWidth)<r(e).outerWidth()?this._ejDialog.outerWidth(parseInt(this._maxWidth)):this._ejDialog.outerWidth(e.outerWidth()),this._change=!0)},_pixelsHeightDimension:function(e){r(e).outerHeight()<=this._ejDialog.outerHeight()&&this._setHeight(e),r(e).outerWidth()<=this._ejDialog.outerWidth()&&this._setWidth(e),parseInt(this._ejDialog.css("height"))<parseInt(this._maxHeight)&&(parseInt(this._maxHeight)<r(e).outerHeight()?this._ejDialog.outerWidth(parseInt(this._maxHeight)):this._ejDialog.outerHeight(e.outerHeight()),this._change=!0)},_setWidth:function(e){this._ejDialog.outerWidth(e.outerWidth()),this._change=!0},_setHeight:function(e){this._ejDialog.outerHeight(e.outerHeight()),this._change=!0},_resizeContainer:function(){this.contentDiv.width(this._ejDialog.width()),this.element.outerWidth(this.contentDiv.width()),this.contentDiv.height(this._ejDialog.height()-(this.model.showHeader?r(this._ejDialog.find("div.e-titlebar")).outerHeight(!0):0)-1),this.element.outerHeight(this._ejDialog.height()-(this.model.showHeader?r(this._ejDialog.find("div.e-titlebar")).outerHeight(!0):0)-1),this.scroller=this.contentDiv.ejScroller({width:this._ejDialog.width()-2,height:this.element.outerHeight(),rtl:this.model.rtl,enableTouchScroll:!1}),this.scroller=this.contentDiv.data("ejScroller"),this._reRenderScroller(),this._minimize?this._ejDialog.css("height",this._dialogTitlebar.outerHeight()):this._centerPosition(),this._updateCaptionWidth(),this._change=!1},_getLocalizedLabels:function(){return n.getLocalizedConstants(this.sfType,this.model.locale)},_enableWindowResize:function(){return!!(this.model.isResponsive||isNaN(this.model.width)&&0<this.model.width.indexOf("%")&&isNaN(this.model.height)&&0<this.model.height.indexOf("%")&&"auto"!=this.model.height)},_wireResizing:function(){r(window)[this._enableWindowResize()?"on":"off"]("resize",r.proxy(this._reSizeHandler,this))},_wireEvents:function(){this._on(this._ejDialog,"keydown",this._keyDown),this._on(this._ejDialog,"click",this._mouseClick),this._wireResizing()},refresh:function(){this._resetScroller()},open:function(){var e,t,i,s;return!!this._isOpen||1!=this._trigger("beforeOpen")&&(this.element.css("display","block"),this._setZindex(),this._minimize||this._maximize||this._init||this._dialogPosition(),t={},(e=this)._ejDialog.show(),this.model.enableAnimation&&(this._ejDialog.css({opacity:0}),t="slide"==this.model.animation.show.effect?(s=this._ejDialog.css("left"),this._ejDialog.css({left:-this._ejDialog.width()}),{left:s,opacity:1}):{opacity:1}),this._ejDialog.animate(t,this.model.enableAnimation?Number(this.model.animation.show.duration):0,function(){e.model&&("none"==e._ejDialog.css("display")&&e._ejDialog.show(),e._ejDialog.eq(0).focus(),e._ejDialog.css({opacity:""}),e.contentDiv.find("a:visible:enabled, button:visible:enabled, :input:visible:enabled, select:visible:enabled, .e-input").first().focus(),e._trigger("open"),e._updateCaptionWidth(),e.model.maxHeight||e.model.maxWidth)&&(i=e._ejDialog.outerHeight(!0)-(e._dialogTitlebar?e._dialogTitlebar.outerHeight(!0):0),"auto"!=e.model.height&&"100%"!=e.model.height||(i=e.model.height),e._updateScroller(i,e._ejDialog.width()-2))}),1==this.model.enableModal&&this._createOverlay(),this._isOpen=!0,this.element.find("> .e-draggable.e-titlebar")&&(dragobject=r("#"+this.element.find("> .e-draggable.e-titlebar").attr("id")).data("ejDraggable"))&&dragobject.option("cursorAt",this.element.offset()),this)},close:function(e){var t,i,s;return!this._isOpen||!this.model.enabled||1!=this._trigger("beforeClose",{event:e,isInteraction:t=!!e})&&(this._isOpen=!1,s={},(i=this).model.enableAnimation&&(s="slide"==this.model.animation.hide.effect?{left:-this._ejDialog.width(),opacity:0}:{opacity:0}),this._ejDialog.animate(s,this.model.enableAnimation?Number(this.model.animation.hide.duration):0,function(){i._trigger("close",{event:e,isInteraction:t}),i._ejDialog.hide()}),this.model.enableModal&&this._overLay&&this._overLay.remove(),this)},isOpened:function(){return this.isOpen()},isOpen:function(){return this._isOpen},setTitle:function(e){return this.model.title=e,this._titleText.text(e),this._updateCaptionWidth(),this},setContent:function(e){return!!this.model.enabled&&(this.element.html(e),this._resetScroller(),this)},focus:function(){return this._setZindex(),this.element.focus(),this},minimize:function(){if(this.model.showHeader)return this._actionMinimize(),r(this.wrapper.find(".e-minus")[0]).parent().hide(),this},maximize:function(){if(this.model.showHeader)return this._actionMaximize(),r(this.wrapper.find(".e-maximize")[0]).removeClass("e-maximize").addClass("e-restore"),r(this.wrapper.find(".e-restore")[1]).removeClass("e-restore").addClass("e-minus"),this._dialogMaximize&&this._dialogMaximize.attr("title",this.model.tooltip.restore),this.contentDiv.show(),this._dialogTitlebar&&this._dialogTitlebar.find(".e-minus").parent().show(),this._hideIcon(!0),this},restore:function(){var e;if(this.model.showHeader)return e=this._minimize,this._actionRestore(),r(this.wrapper.find(".e-restore")[0]).removeClass("e-restore").addClass(e?"e-minus":"e-maximize"),this._dialogMaximize&&this._dialogMaximize.attr("title",this.model.tooltip.maximize),this._hideIcon(!0),this},pin:function(){if(this.model.showHeader)return this.dialogPin=!0,r(this.wrapper.find(".e-unpin")[0]).removeClass("e-unpin").addClass("e-pin"),this._dialogPin&&this._dialogPin.attr("title",this.model.tooltip.unPin),this},unpin:function(){if(this.model.showHeader)return this.dialogPin=!1,r(this.wrapper.find(".e-pin")[0]).removeClass("e-pin").addClass("e-unpin"),this._dialogPin&&this._dialogPin.attr("title",this.model.tooltip.pin),this},collapse:function(){if(this.model.showHeader)return this._actionCollapse(),this._collapseValue=!0,this},expand:function(){if(this.model.showHeader)return this._actionExpand(),this}}),n.Dialog.Locale=n.Dialog.Locale||{},n.Dialog.Locale.default=n.Dialog.Locale["en-US"]={tooltip:{close:"Close",collapse:"Collapse",restore:"Restore",maximize:"Maximize",minimize:"Minimize",expand:"Expand",unPin:"UnPin",pin:"Pin"},closeIconTooltip:"close"}}),function(e){"function"==typeof define&&define.amd?define(["./../common/ej.core.min"],e):e()}(function(){var t,i;t=jQuery,(i=Syncfusion).widget("ejButton","ej.Button",{element:null,model:null,validTags:["button","input"],_setFirst:!1,_rootCSS:"e-button",_requiresID:!0,defaults:{size:"normal",type:"submit",height:"",width:"",enabled:!0,htmlAttributes:{},text:null,contentType:"textonly",imagePosition:"imageleft",showRoundedCorner:!1,cssClass:"",prefixIcon:null,suffixIcon:null,enableRTL:!1,repeatButton:!1,timeInterval:"150",create:null,click:null,destroy:null},dataTypes:{size:"enum",enabled:"boolean",type:"enum",showRoundedCorner:"boolean",text:"string",contentType:"enum",imagePosition:"enum",prefixIcon:"string",suffixIcon:"string",cssClass:"string",repeatButton:"boolean",enableRTL:"boolean",timeInterval:"string",htmlAttributes:"data"},disable:function(){this.element.addClass("e-disable").attr("aria-disabled",!0),this.model.enabled=!1},enable:function(){this.element.removeClass("e-disable").attr("aria-disabled",!1),this.model.enabled=!0},_init:function(){this._cloneElement=this.element.clone(),this._initialize(),this._render(),this._controlStatus(this.model.enabled),this._wireEvents(this.model.repeatButton),this._addAttr(this.model.htmlAttributes)},_addAttr:function(e){var i=this;t.map(e,function(e,t){"class"==t?i.element.addClass(e):i.element.attr(t,e),"disabled"==t&&"disabled"==e&&i.disable()})},_destroy:function(){this.element.removeClass(this.model.cssClass+"e-ntouch e-btn e-select e-disable e-corner e-widget").removeAttr("role aria-describedby aria-disabled"),this.element.removeClass("e-btn-"+this.model.size),this.model.contentType&&"textonly"!=this.model.contentType&&this.element.append(this._cloneElement.text())&&this.imgtxtwrap[0].remove()},_setModel:function(e){for(var t in e)switch(t){case"size":this._setSize(e[t]);break;case"height":this._setHeight(e[t]);break;case"width":this._setWidth(e[t]);break;case"contentType":this._setContentType(e[t]);break;case"imagePosition":this._setImagePosition(e[t]);break;case"text":this._setText(e[t]);break;case"prefixIcon":this._setMajorIcon(e[t]);break;case"suffixIcon":this._setMinorIcon(e[t]);break;case"enabled":this._controlStatus(e[t]);break;case"showRoundedCorner":this._roundedCorner(e[t]);break;case"cssClass":this._setSkin(e[t]);break;case"enableRTL":this._setRTL(e[t]);break;case"timeInterval":this.model.timeInterval=e[t];break;case"htmlAttributes":this._addAttr(e[t])}},_setSize:function(e){this.element.removeClass("e-btn-mini e-btn-medium e-btn-small e-btn-large e-btn-normal"),this.element.addClass("e-btn-"+e)},_setType:function(e){this.element.prop({type:e})},_setHeight:function(e){this.element.css("height",e)},_setWidth:function(e){this.element.css("width",e)},_setText:function(e){"inputButton"==this.buttonType?this.element.val(e):(this.model.contentType==i.ContentType.TextOnly?this.element:this.textspan).html(e),this.model.text=e},_setMajorIcon:function(e){this.majorimgtag.removeClass(this.model.prefixIcon),this.majorimgtag.addClass(e),this.model.prefixIcon=e},_setMinorIcon:function(e){this.minorimgtag.removeClass(this.model.suffixIcon),this.minorimgtag.addClass(e),this.model.suffixIcon=e},_setContentType:function(e){e!=this.model.contentType&&(this.element.empty(),this.model.contentType=e,this._renderButtonNormal())},_setImagePosition:function(e){this.model.contentType==i.ContentType.TextAndImage&&e!=this.model.imagePosition&&(this.element.empty(),this.model.imagePosition=e,this._renderButtonNormal())},_setRTL:function(e){e?this.element.addClass("e-rtl"):this.element.removeClass("e-rtl")},_controlStatus:function(e){e?this.enable():this.disable()},_setSkin:function(e){this.model.cssClass!=e&&(this.element.removeClass(this.model.cssClass),this.element.addClass(e))},_initialize:function(){i.isTouchDevice()||this.element.addClass("e-ntouch"),this.element.is("input")?this.buttonType="inputButton":this.element.is("a")||this.element.is("button")?this.buttonType="tagButton":this.element.removeClass("e-button"),this.element.attr("type")?this.model.type=this.element.attr("type"):this._setType(this.model.type),this._timeout=null},_render:function(){this._setSize(this.model.size),this._setHeight(this.model.height),this._setWidth(this.model.width),this._setRTL(this.model.enableRTL),this.element.addClass(this.model.cssClass+" e-btn e-select e-widget").attr("role","button"),"inputButton"==this.buttonType?(this.element.addClass("e-txt"),null!=this.model.text&&""!=this.model.text?this.element.val(this.model.text):this.model.text=this.element.val()):this._renderButtonNormal(),this._roundedCorner(this.model.showRoundedCorner),this.model.text&&this.element.attr("aria-describedby",this.model.text)},_renderButtonNormal:function(){if(null!=this.model.text&&""!=this.model.text||(this.model.text=this.element.html()),this.element.empty(),this.textspan=i.buildTag("span.e-btntxt",this.model.text),-1<this.model.contentType.indexOf("image")&&(this.majorimgtag=i.buildTag("span").addClass(this.model.prefixIcon),this.minorimgtag=i.buildTag("span").addClass(this.model.suffixIcon),this.imgtxtwrap=i.buildTag("div")),this.model.contentType==i.ContentType.TextAndImage){switch(this.model.imagePosition){case i.ImagePosition.ImageRight:this.imgtxtwrap.append(this.textspan,this.majorimgtag);break;case i.ImagePosition.ImageLeft:this.imgtxtwrap.append(this.majorimgtag,this.textspan);break;case i.ImagePosition.ImageBottom:this.majorimgtag.attr("style","display:inherit"),this.imgtxtwrap.append(this.textspan,this.majorimgtag);break;case i.ImagePosition.ImageTop:this.majorimgtag.attr("style","display:inherit"),this.imgtxtwrap.append(this.majorimgtag,this.textspan)}this.element.append(this.imgtxtwrap)}else this.model.contentType==i.ContentType.ImageTextImage?(this.imgtxtwrap.append(this.majorimgtag,this.textspan,this.minorimgtag),this.element.append(this.imgtxtwrap)):this.model.contentType==i.ContentType.ImageBoth?(this.imgtxtwrap.append(this.majorimgtag,this.minorimgtag),this.element.append(this.imgtxtwrap)):this.model.contentType==i.ContentType.ImageOnly?(this.imgtxtwrap.append(this.majorimgtag),this.element.append(this.imgtxtwrap)):(this.element.addClass("e-txt"),this.element.html(this.model.text))},_roundedCorner:function(e){1==e?this.element.addClass("e-corner"):this.element.removeClass("e-corner")},_wireEvents:function(e){e&&(this._on(this.element,"mousedown",this._btnRepatMouseClickEvent),this._on(t(document),"mouseup",this._mouseUpClick),this._on(this.element,"keyup",this._btnRepatKeyUpEvent),this._on(t(document),"keypress",this._btnRepatKeyDownEvent)),this._on(this.element,"click",this._btnMouseClickEvent)},_btnMouseClickEvent:function(e){if(!this.model.enabled)return!1;this.element.hasClass("e-disable")||(e={target:e.currentTarget,e:e,status:this.model.enabled},this._trigger("click",e))},_btnRepatMouseClickEvent:function(e){var t=this;if(!t.model.enabled)return!1;t.element.hasClass("e-disable")||(t.model.enabled,0!=e.button&&1!=e.which)||(t._timeout=setInterval(function(){t._trigger("click",{target:e.currentTarget,status:t.model.enabled})},this.model.timeInterval))},_mouseUpClick:function(){clearTimeout(this._timeout)},_btnRepatKeyDownEvent:function(e){var t;this.element.hasClass("e-disable")||(t={status:this.model.enabled},32!=e.keyCode&&13!=e.keyCode)||this._trigger("click",t)},_btnRepatKeyUpEvent:function(e){32!=e.keyCode&&13!=e.keyCode||clearTimeout(this._timeout)}}),i.ContentType={TextOnly:"textonly",ImageOnly:"imageonly",ImageBoth:"imageboth",TextAndImage:"textandimage",ImageTextImage:"imagetextimage"},i.ImagePosition={ImageRight:"imageright",ImageLeft:"imageleft",ImageTop:"imagetop",ImageBottom:"imagebottom"},i.ButtonSize={Normal:"normal",Mini:"mini",Small:"small",Medium:"medium",Large:"large"},i.ButtonType={Button:"button",Reset:"reset",Submit:"submit"}}),function(e){"function"==typeof define&&define.amd?define(["./../common/ej.core.min"],e):e()}(function(){var s,i;s=jQuery,(i=Syncfusion).widget("ejWaitingPopup","ej.WaitingPopup",{element:null,model:null,validTags:["div","span"],_setFirst:!1,_rootCSS:"e-waitingpopup",defaults:{showOnInit:!1,target:null,appendTo:null,showImage:!0,htmlAttributes:{},cssClass:"",text:null,template:null,create:null,destroy:null},dataTypes:{showOnInit:"boolean",showImage:"boolean",cssClass:"string"},_isTargetVisible:function(){return"none"!=this.element.css("display")},show:function(){this._isTargetVisible()&&(this._refreshPanel(),this.maindiv.css("display","block"),this.model.showOnInit=!0)},hide:function(){this.maindiv.css("display","none"),this.model.showOnInit=!1},refresh:function(){this._isTargetVisible()&&this._refreshPanel()},_setText:function(e){e?this.popupText?this.popupText.html(e):(this._generateTextTag(e),this._setContentPosition()):this.popupText&&(this.popupText.remove(),this.popupText=null)},_showImage:function(e){e?(this.popupImage=i.buildTag("span.e-image"),this.popupText?this.popupImage.insertBefore(this.popupText):this.maindiv.append(this.popupImage)):this.popupImage&&(this.popupImage.remove(),this.popupImage=null)},_setTemplate:function(){var e=this.model.template;"string"==typeof e&&(e=s(e)),this.templateObj="object"==typeof e&&"function"==typeof e.css?e:i.buildTag("div","",{"text-align":"center"}).append(e),this.templateObj.css({visibility:"visible",display:"block"}),this.maindiv.append(this.templateObj)},_setTheme:function(e){this.maindiv.removeClass(this.model.cssClass).addClass(e)},_init:function(){this._initialize(),this._render(),this._wireEvents()},_wireEvents:function(){s(window).on("resize",s.proxy(this._resizeHandler,this))},_unwireEvents:function(){s(window).off("resize",s.proxy(this._resizeHandler,this))},_resizeHandler:function(){this.refresh()},_setModel:function(e){for(var t in e)switch(t){case"text":this._setText(e[t]);break;case"cssClass":this._setTheme(e[t]);break;case"htmlAttributes ":this._addAttr(e[t]);break;case"showOnInit":this._setVisibility(e[t]);break;case"showImage":this._showImage(e[t]),this._setContentPosition();break;case"target":this.model.target=e[t],this._setTarget(),this.refresh();break;case"appendTo":this.model.appendTo=e[t],this._setTarget(),i.isNullOrUndefined(this.model.appendTo)||"document"==this.model.appendTo||"window"==this.model.appendTo?s("body").append(this.maindiv):this.maindiv.appendTo(s(this.model.appendTo)),this.refresh();break;case"template":this.maindiv.empty(),e[t]?(this.model.template=e[t],this._setTemplate()):(this.model.template=e[t]=null,this._showImage(this.model.showImage),this.model.text&&this._generateTextTag(this.model.text)),this._setContentPosition()}},_setTarget:function(){this.targetElement="document"==this.model.target?s(document):"window"==this.model.target?s(window):this.model.target?s(this.model.target):this.element},_destroy:function(){this.maindiv.remove(),this._unwireEvents()},_initialize:function(){this.maindiv=null,this.popupText=null,this.popupImage=null,this.templateObj=null,this.targetElement=null},_render:function(){this._setTarget();var e=s("#"+this.element[0].id+"_WaitingPopup").get(0);e&&s(e).remove(),this.maindiv=i.buildTag("div.e-waitpopup-pane e-widget "+this.model.cssClass+"#"+this.element[0].id+"_WaitingPopup"),this.model.template?this._setTemplate():(this._showImage(this.model.showImage),this.model.text&&this._generateTextTag(this.model.text)),i.isNullOrUndefined(this.model.appendTo)||"document"==this.model.appendTo||"window"==this.model.appendTo?s("body").append(this.maindiv):this.maindiv.appendTo(s(this.model.appendTo)),this._setVisibility(this.model.showOnInit),this._addAttr(this.model.htmlAttributes)},_refreshPanel:function(){this.maindiv.width(this.targetElement.outerWidth()),this.maindiv.height(this.targetElement.outerHeight()),this._setPanelPosition(),this._setContentPosition()},_addAttr:function(e){var i=this;s.map(e,function(e,t){"class"==t?i.maindiv.addClass(e):i.maindiv.attr(t,e)})},_setPanelPosition:function(){var e=i.util.getOffset(this.targetElement);null!=this.model.appendTo&&0<s(this.model.appendTo).length&&("relative"!=this.targetElement.css("position")&&"absolute"!=this.targetElement.css("position")||this.targetElement[0]!==s(this.model.appendTo)[0]?(e.left-=this.targetElement.offsetParent().offset().left,e.top-=this.targetElement.offsetParent().offset().top):e={left:0,top:0}),this.maindiv.css({position:"absolute",left:Math.ceil(e.left)+"px",top:Math.ceil(e.top)+"px","z-index":this._maxZindex()+1})},_setContentPosition:function(){var e,t,i,s;null==this.model.template?(t=e=0,i=null,s=this.targetElement.outerHeight(),this.popupText&&(e=this.popupText.outerHeight()),this.popupImage&&(t=this.popupImage.outerHeight()),this.popupImage&&(i=Math.ceil((s-(t+e))/2),this.popupImage.css("top",i+"px")),this.popupText&&(i=i||Math.ceil((s-e)/2),this.popupText.css("top",i+"px"))):this.templateObj.css({position:"relative",left:Math.ceil((this.targetElement.outerWidth()-this.templateObj.outerWidth())/2),top:Math.ceil((this.targetElement.outerHeight()-this.templateObj.outerHeight())/2)})},_generateTextTag:function(e){this.popupText=i.buildTag("div.e-text",e),this.maindiv.append(this.popupText)},_setVisibility:function(e){e&&this._isTargetVisible()?this.show():this.hide()},_maxZindex:function(){return i.util.getZindexPartial(this.element)}})}),function(e){"function"==typeof define&&define.amd?define(["./../common/ej.globalize.min","./../common/ej.core.min","./../common/ej.data.min","./../common/ej.scroller.min"],e):e()}(function(){var f,b,r;f=jQuery,(b=Syncfusion).widget("ejAutocomplete","ej.Autocomplete",{element:null,model:null,validTags:["input"],_ignoreOnPersist:["fields","dataSource","query","focusIn","focusOut","change","select","create","destroy","open","close","actionComplete","actionSuccess","actionFailure"],_setFirst:!1,_rootCSS:"e-autocomplete",type:"editor",angular:{require:["?ngModel","^?form","^?ngModelOptions"]},_requiresID:!0,defaults:{dataSource:null,query:null,fields:{text:null,key:null,category:null,groupBy:null,htmlAttributes:null},locale:"en-US",template:null,allowGrouping:!1,enableDistinct:!1,allowSorting:!0,sortOrder:"ascending",htmlAttributes:{},multiSelectMode:"none",delimiterChar:",",allowAddNew:!1,addNewText:"Add New",showRoundedCorner:!1,readOnly:!1,cssClass:"",watermarkText:null,value:"",selectValueByKey:null,filterType:"startswith",caseSensitiveSearch:!1,showLoadingIcon:!0,showResetIcon:!1,itemsCount:0,minCharacter:1,delaySuggestionTimeout:200,showPopupButton:!1,highlightSearch:!1,enableAutoFill:!1,enableRTL:!1,enabled:!0,visible:!0,height:"",width:"",emptyResultText:"No suggestions",animateType:"slide",showEmptyResultText:!0,enablePersistence:!1,popupHeight:"152px",popupWidth:"auto",autoFocus:!1,multiColumnSettings:{enable:!1,showHeader:!0,stringFormat:"{0}",columns:[{field:null,headerText:null,textAlign:"left",headerTextAlign:"left",cssClass:"",type:"string",filterType:"startswith"}]},validationRules:null,validationMessage:null,focusIn:null,focusOut:null,change:null,select:null,create:null,open:null,close:null,destroy:null,actionBegin:null,actionComplete:null,actionSuccess:null,actionFailure:null},dataTypes:{autoFocus:"boolean",watermarkText:"string",locale:"string",cssClass:"string",filterType:"enum",caseSensitiveSearch:"boolean",showLoadingIcon:"boolean",template:"string",allowGrouping:"boolean",enableDistinct:"boolean",allowSorting:"boolean",sortOrder:"enum",allowAddNew:"boolean",addNewText:"string",showRoundedCorner:"boolean",showResetIcon:"boolean",readOnly:"boolean",itemsCount:"number",animateType:"enum",minCharacter:"number",showPopupButton:"boolean",highlightSearch:"boolean",enableAutoFill:"boolean",enableRTL:"boolean",multiSelectMode:"enum",delimiterChar:"string",emptyResultText:"string",showEmptyResultText:"boolean",enabled:"boolean",visible:"boolean",enablePersistence:"boolean",dataSource:"data",query:"data",fields:"data",validationRules:"data",validationMessage:"data",htmlAttributes:"data",multiColumnSettings:"data"},observables:["value","selectValueByKey"],value:b.util.valueFunction("value"),_selectValueByKey:b.util.valueFunction("selectValueByKey"),enable:function(){this.model.enabled||(this.model.enabled=!0,this.target.disabled=!1,this.element.removeClass("e-disable").attr({"aria-disabled":!1}),this.element.removeAttr("disabled"),this.model.showPopupButton&&this.dropdownbutton.removeClass("e-disable").attr({"aria-disabled":!1}),"visualmode"==this.model.multiSelectMode&&this._ulBox.removeClass("e-disable").attr({"aria-disabled":!1}))},disable:function(){this.model.enabled&&(this._hideResult(),this.model.enabled=!1,this.target.disabled=!0,this.element.attr("disabled","disabled"),this.element.addClass("e-disable").attr({"aria-disabled":!0}),this.model.showPopupButton&&this.dropdownbutton.addClass("e-disable").attr({"aria-disabled":!0}),"visualmode"==this.model.multiSelectMode)&&this._ulBox&&this._ulBox.addClass("e-disable").attr({"aria-disabled":!0})},clearText:function(){"visualmode"==this.model.multiSelectMode&&this._deleteBox(this._ulBox.children("li")),this.element.val(""),this._valueChange(),this._isFocused?this.element.blur():this._focusOutAction(),this._hideResult()},getValue:function(){var e=this.value();return null==e?"":e},getSelectedItems:function(){return this._isFocused&&"visualmode"!=this.model.multiSelectMode&&this._updateSelectedItemArray(this.getValue()),this._selectedItems},_setValue:function(e){var t,i,s;if(this._isWatermark||this._hiddenSpan.css("display","none"),("object"==typeof e||"number"==typeof e&&isNaN(e)||""==f.trim(e))&&(e=""),"visualmode"==this.model.multiSelectMode&&this._hiddenInput.val(""),this.element.val(""),e)if("visualmode"==this.model.multiSelectMode)if(this._selectedItems=[],this._modelValue=e,this._deleteBox(this._ulBox.children("li")),t=e.split(this.model.delimiterChar),this.element.width(1).val("").removeAttr("placeholder"),this._hiddenInput||(this._hiddenInput=b.buildTag("input#"+this.target.id+"_hidden","",{},{type:"hidden",name:this.element.attr("name")}).insertBefore(this.element)),b.DataManager&&this.model.dataSource instanceof b.DataManager)this._createBoxForObjectType(t);else if(this.suggestionListItems=this.model.dataSource,this.suggestionListItems&&"object"!=typeof this.suggestionListItems[0])for(this._hiddenInput.val(e),i=0,s=t.length;i<s;i++)t[i]&&(this._ulBox.append(this._createBox(t[i])),this._selectedItems.push(t[i]));else this._createBoxForObjectType(t);else this.element.val(e),this._updateSelectedItemArray(e);return"visualmode"!=this.model.multiSelectMode&&this.value(this.element.val()),this._preVal=this.element.val(),this._isWatermark||this._setWatermarkTxt(),e},_createBoxForObjectType:function(e){for(var t,i=this,s=this._declareVariable(),o=0,n=e.length;o<n;o++)""!=(t=f.trim(e[o]))&&(b.DataManager&&this.model.dataSource instanceof b.DataManager?(this._dataQuery=this._getQuery().where(s[0],"equal",t,!1),this._promise=this.model.dataSource.executeQuery(this._dataQuery),this._promise.done(function(e){e=e.result;i._strData=e instanceof Array&&e.length?e[0]:t,b.isNullOrUndefined(i._strData[s[1]])||i._selectKeyInit(),i._selectedItems.push(i._strData)}).fail(function(){i._selectedItems.push(t)})):(this._dataQuery=b.Query().where(s[0],"equal",t,!1),this._promise=b.DataManager(this.suggestionListItems).executeLocal(this._dataQuery),this._strData=this._promise instanceof Array&&this._promise.length?this._promise[0]:t,b.isNullOrUndefined(this._strData[s[1]])||this._selectKeyInit(),this._selectedItems.push(this._strData)),"visualmode"==this.model.multiSelectMode)&&this._ulBox.append(this._createBox(t))},_selectKeyInit:function(){var e,t=this._declareVariable();delimiterChar=this._delimiterChar(),"visualmode"==this.model.multiSelectMode&&this._hiddenInput.val(this._hiddenInput.val()+(b.isNullOrUndefined(this._strData[t[1]]||this._strData[t[0]])?"":(this._strData[t[1]]||this._strData[t[0]])+this.model.delimiterChar)),b.isNullOrUndefined(this._strData[t[1]])||("none"!=this.model.multiSelectMode?(e=(e=null!=this._selectValueByKey()?this._selectValueByKey()+this._strData[t[1]]+delimiterChar:this._strData[t[1]]+delimiterChar).split(delimiterChar).reduce(function(e,t){return e.indexOf(t)<0&&e.push(t),e},[]),this._selectValueByKey(e.join(delimiterChar))):this._selectValueByKey(this._strData[t[1]]))},_declareVariable:function(){var e=this.model.fields,t={_key:null,_text:null,_attr:null},i=[];if(!b.isNullOrUndefined(e))return t._text=e&&e.text?e.text:"text",t._key=e&&e.key?e.key:"key",i.push(t._text,t._key),i},selectValueByKey:function(e){var i=this;e=e.toString(),e="none"!=this.model.multiSelectMode?e.split(this.model.delimiterChar):e.split(","),"[object Array]"===Object.prototype.toString.call(e)&&f.each(e,function(e,t){i._setOperation(f.trim(t),"key")})},selectValueByText:function(e){this._setOperation(e,"text")},setValue:function(e){this._setText(e)},_setOperation:function(e,t){var i,s,o,n="",a=this,r=this.model.dataSource;if(b.isNullOrUndefined(r))return!1;if("object"==typeof r[0]||r instanceof b.DataManager)n=(o=this.model.fields)&&o[t]?o[t]:t;else if("key"==t)return!1;if(b.DataManager&&r instanceof b.DataManager)s=this._getQuery().where(n,"equal",e,!this.model.caseSensitiveSearch),(i=r.executeQuery(s)).done(function(e){a._setText(e.result[0])});else{if(!r||!r.length||r.length<1)return!1;s=b.Query().where(n,"equal",e,!this.model.caseSensitiveSearch),i=b.DataManager(r).executeLocal(s),this._setText(i[0])}},_setText:function(e){var t;if(!e)return!1;if(t=this.model.fields,t="object"!=typeof this.model.dataSource[0]&&"object"!=typeof e||"string"==typeof e?e:t&&t.text?e[t.text]:e.text){if("visualmode"==this.model.multiSelectMode&&this._removeDuplicates(e))return!1;this._valueToTextBox(t,e,!0),t="visualmode"==this.model.multiSelectMode?this._modelValue:this.element.val(),this.value(t),this.model.showResetIcon&&this._showReset()}},_textFormateString:function(e){var t,i,s=this.model.multiColumnSettings.stringFormat;if(this._columnsIndex(),b.isNullOrUndefined(e)||"object"!=typeof e)s=b.isNullOrUndefined(e)||"object"==typeof e?this._currList[this._activeItem-1]:s.replace("{"+this._columnIndex[0]+"}",e);else for(t=0,i=this._columnIndex.length;t<i;t++)s=s.replace("{"+this._columnIndex[t]+"}",e[this.model.multiColumnSettings.columns[parseInt(this._columnIndex[t])].field]);return s},_columnsIndex:function(){var i=this;this._columnIndex=[],f.each(this.model.multiColumnSettings.stringFormat.match(/\{.+?\}/g),function(e,t){i._columnIndex[e]=t.slice(1,-1)})},_valueToTextBox:function(e,t,i){var s,o,n;!this._addNewTemplate&&this.model.multiColumnSettings.enable&&"string"!=typeof t&&(e=this._textFormateString(t)),"visualmode"==this.model.multiSelectMode?(t="string"==typeof t&&this._addNewTemplate&&t.substr(t.length-this._addNewTemplate.length)==this._addNewTemplate?t.replace(this._addNewTemplate,""):t,s=e.indexOf(this._addNewTemplate),this._addNewTemplate&&(e=e.substr(0,e.length-this._addNewTemplate.length)),n=this.model.delimiterChar,o=(o=this._getUniqueKey())||(this.model.fields&&this.model.fields.key?t[this.model.fields.key]:b.isNullOrUndefined(t.key)?o:t.key),(this._selectValueByKey()!=o&&null!=o||-1<s)&&this._selectValueByKey(null!=this._selectValueByKey()?this._selectValueByKey()+(-1<s?e:o)+n:(-1<s?e:o)+n),(this._hiddenInput.val()!=o&&null!=o||-1<s)&&this._hiddenInput.val(this._hiddenInput.val()+(o||e)+n),this._modelValue=b.isNullOrUndefined(this.value())?e+n:this.value()+e+n,this.element.val("").removeAttr("placeholder").width(1),this._ulBox.append(this._createBox(e)),this._addNewTemplate=null):"delimiter"==this.model.multiSelectMode?(n=this.target.value.lastIndexOf(this.model.delimiterChar),this._typed||""==this.element.val()||i||!this.model.showPopupButton?i?this.element.val(""==this.element.val()?e+this.model.delimiterChar:this.element.val()+e+this.model.delimiterChar):-1==n?this.element.val(this._queryString.substr(0,n+1)+e+this.model.delimiterChar):this.element.val(this._queryString.substr(0,n+this.model.delimiterChar.length)+e+this.model.delimiterChar):!this.model.enableAutoFill||this.showSuggestionBox?this._checkDeli()?this.element.val(this._queryString.substr(0,n)+this.model.delimiterChar+e+this.model.delimiterChar):this.element.val(this.element.val()+this.model.delimiterChar):this._checkDeli()||this.element.val(this.element.val()+this.model.delimiterChar),this._typed=!1):(this.element.val(e),this._selectedItems=[]),this._selectedItems.push(t),this._originalval.push(e),this._moveCaretToEnd(this.element[0])},_removeDuplicates:function(e){return 0!=this._selectedItems.length&&(-1!=this._selectedItems.indexOf(e)||void 0)},search:function(){this.model.enabled&&this._checkDelimiter()&&(this._hideResult(),this._autoFill=!1,this._queryString=f.trim(this._queryString),0<this._queryString.length)&&this._OnTextEnter()},setVisible:function(e){e?this.wrapper.show():this.wrapper.hide()},hide:function(){this._hideResult()},open:function(){this._showFullList()},_changeWatermark:function(e){this._isWatermark?this.element.attr("placeholder",e):this._hiddenSpan.text(e)},_changeSkin:function(e){this.wrapper.removeClass(this.model.cssClass).addClass(e),this.suggestionList.removeClass(this.model.cssClass).addClass(e)},_setDropdown:function(e){(this.model.showPopupButton=e)?this._renderDropdown():this._destroyDropdown()},_changeHeight:function(e){this.wrapper.height(e)},_changeWidth:function(e){this.wrapper.width(e),this._setListWidth()},_setCulture:function(){this._localizedLabels=this._getLocalizedLabels(),b.isNullOrUndefined(this._options)||(b.isNullOrUndefined(this._options.addNewText)||(this._localizedLabels.addNewText=this._options.addNewText),b.isNullOrUndefined(this._options.emptyResultText))||(this._localizedLabels.emptyResultText=this._options.emptyResultText),this.model.addNewText=this._localizedLabels.addNewText,this.model.emptyResultText=this._localizedLabels.emptyResultText},_init:function(e){if(this._options=e,this._setCulture(),!this.element.is("input")||this.element.attr("type")&&"text"!=this.element.attr("type"))return!1;this.model.fields.groupBy=this.model.fields.groupBy||this.model.fields.category,this._initialize(),this._render(),this._wireEvents(),this.initialRender=!1,null!=this.model.validationRules&&(this._initValidator(),this._setValidation())},_initValidator:function(){this.element.closest("form").data("validator")||this.element.closest("form").validate()},_setValidation:function(){var e,t,i,s,o;if(this.model.validationRules)for(i in(e="visualmode"==this.model.multiSelectMode?this._hiddenInput:this.element).rules("add",this.model.validationRules),t=(t=this.element.closest("form").data("validator"))||this.element.closest("form").validate(),name=e.attr("name"),t.settings.messages[name]={},this.model.validationRules)if(s=null,!b.isNullOrUndefined(this.model.validationRules[i])){if(b.isNullOrUndefined(this.model.validationRules.messages&&this.model.validationRules.messages[i]))for(o in t.settings.messages[name][i]=f.validator.messages[i],this.model.validationMessage)i==o&&(s=this.model.validationMessage[i]);else s=this.model.validationRules.messages[i];t.settings.messages[name][i]=null!=s?s:f.validator.messages[i]}},_removeDuplicateValue:function(e){return e.split(this.model.delimiterChar).reduce(function(e,t){return e.indexOf(t)<0&&e.push(t),e},[]).join(this.model.delimiterChar)},_delimiterChar:function(){return"none"!=this.model.multiSelectMode?this.model.delimiterChar:""},_setModel:function(e){var t,i,s,o,n,a;for(t in e){switch(t){case"dataSource":this.model.dataSource=null;break;case"watermarkText":this._changeWatermark(e[t]);break;case"delaySuggestionTimeout":this.model.delaySuggestionTimeout=parseInt(e[t]);break;case"value":deli=this._delimiterChar(),"none"!=this.model.multiSelectMode&&(a=e[t].substr(e[t].length-deli.length)==deli?e[t]:e[t]+deli,e[t]=""==e[t]?this.value():(this.value()?this.value():"")+a,"visualmode"==this.model.multiSelectMode)&&(e[t]=e[t].split(deli).reduce(function(e,t){return e.indexOf(t)<0&&e.push(t),e},[]),e[t]=e[t].join(deli)),this.value(this._setValue(e[t])),this._modelValue=this.value(),i=("visualmode"==this.model.multiSelectMode?this._hiddenInput:this.element).val(),this._changeEvtTrigger(i),this.model.showResetIcon&&this._showReset();break;case"showPopupButton":this._setDropdown(e[t]);break;case"enableRTL":this._RightToLeft(e[t]);break;case"showRoundedCorner":this._setRoundedCorner(e[t]);break;case"readOnly":this._checkReadOnly(e[t]);break;case"delimiterChar":i=this.model.delimiterChar,e[t]=this._validateDelimiter(e[t]),this.model.delimiterChar=e[t],this.element.val(this.value().replace(new RegExp(i,"g"),this.model.delimiterChar)),this.value(this.element.val());break;case"validationRules":null!=this.model.validationRules&&(this.element.rules("remove"),this.model.validationMessage=null),this.model.validationRules=e[t],null!=this.model.validationRules&&(this._initValidator(),this._setValidation());break;case"validationMessage":this.model.validationMessage=e[t],null!=this.model.validationRules&&null!=this.model.validationMessage&&(this._initValidator(),this._setValidation());break;case"locale":b.Autocomplete.Locale[e[t]]?(this.model.locale=e[t],this._setCulture()):e[t]=this.model.locale;break;case"filterType":for(n in s=[],b.filterType)b.filterType.hasOwnProperty(n)&&s.push(b.filterType[n]);-1<s.indexOf(e[t])?this.model.filterType=e[t]:e[t]=this.model.filterType;break;case"multiSelectMode":this.model.multiSelectMode=e[t],o=this._delimiterChar(),"none"!=this.model.multiSelectMode&&(n=this._selectValueByKey(),(a=this.value())&&(a=a.substr(a.length-o.length)==o?a:a+o,this.value(a),"visualmode"==this.model.multiSelectMode)&&this.value(this._removeDuplicateValue(this.value())),n)&&(this._selectValueByKey(n.substr(n.length-o.length)==o?n:n+o),"visualmode"==this.model.multiSelectMode)&&this._selectValueByKey(this._removeDuplicateValue(this._selectValueByKey())),"visualmode"==e[t]?(null!=this.model.validationRules&&this.element.rules("remove"),""!=this.element.val()&&this._isWatermark&&this.element.removeAttr("placeholder"),this._renderBoxModel()):this.element.hasClass("e-visual-mode")&&this._destroyBoxModel(),this._setValue(this.value()),this._setValidation(),b.isNullOrUndefined(this.element.attr("placeholder"))&&this._isWatermark&&this._setWatermark();break;case"enabled":this._disabled(!e[t]);break;case"visible":this.setVisible(e[t]);break;case"height":this._changeHeight(e[t]);break;case"width":this._changeWidth(e[t]);break;case"cssClass":this._changeSkin(e[t]);break;case"itemsCount ":(e[t]<=0||isNaN(e[t]))&&(e[t]=0);break;case"popupHeight":this.suggestionList.css({"max-height":isNaN(e[t])?e[t]:e[t]+"px"});break;case"popupWidth":this.model.popupWidth=e[t],this._setListWidth();break;case"selectValueByKey":deli=this._delimiterChar(),n=b.util.getVal(e[t]),this.selectValueByKey(n),keyValue=(keyValue=(keyValue="none"!=this.model.multiSelectMode?this._selectValueByKey()+e[t]:e[t]).split(deli).reduce(function(e,t){return e.indexOf(t)<0&&e.push(t),e},[])).join(deli),e[t]=keyValue.substr(keyValue.length-deli.length)==deli?keyValue:keyValue+deli;break;case"htmlAttributes":this._addAttr(e[t]);break;case"emptyResultText":b.isNullOrUndefined(this._options)&&(this._options={}),this._options.emptyResultText=this.model.emptyResultText=e[t],this._setCulture();break;case"addNewText":b.isNullOrUndefined(this._options)&&(this._options={}),this._options.addNewText=this.model.emptyResultText=e[t],this._setCulture();break;case"multiColumnSettings":b.isNullOrUndefined(e[t].enable)||(this.model.multiColumnSettings.enable=e[t].enable),b.isNullOrUndefined(e[t].showHeader)||(this.model.multiColumnSettings.showHeader=e[t].showHeader),b.isNullOrUndefined(e[t].stringFormat)||(this.model.multiColumnSettings.stringFormat=e[t].stringFormat),b.isNullOrUndefined(e[t].columns)||(this.model.multiColumnSettings.columns=e[t].columns),this.suggestionList.remove(),this._renderSuggestionList();break;case"showResetIcon":this.model.showResetIcon=e[t],e[t]?this._showReset():this._removeReset()}this._hideResult()}},_destroy:function(){this.element.width("").removeAttr("role aria-label aria-expanded aria-haspopup aria-autocomplete autocomplete placeholder aria-owns aria-disabled disabled"),this.element.insertAfter(this.wrapper),"visualmode"==this.model.multiSelectMode&&this.element.removeClass("e-visual-mode").attr("name",this._hiddenInput.attr("name")),this.model.enabled||this.element.removeClass("e-disable"),this.wrapper.remove(),this.element.removeClass("e-input").val(""),this._isWatermark&&this.element.removeAttr("placeholder"),this._hideResult(),this.suggestionList.remove()},_initialize:function(){this.value(""===this.value()?this.element[0].value:this.value()),this.element.attr("role","combobox").attr("aria-label","Autocomplete textbox").attr("aria-expanded",!1).attr("tabindex",0).attr("aria-autocomplete","list"),/Edge\/12./i.test(navigator.userAgent)&&this.element.addClass("edge-browser"),this.target=this.element[0],this.dropdownbutton=null,this._isIE8="msie"==b.browserInfo().name&&"8.0"==b.browserInfo().version,this.showSuggestionBox=!1,this.noresult=!0,this._queryString=null,this.suggLen=0,this._selectedItems=[],this._modelValue="",this._activeItem=0,this._originalval=[],this.ctrlKeyPressed=!1,this._isFocused=!1,this._isOpened=!1,this._typed=!1,this._cancelEvent=!1,this._isWatermark=this._checkWatermarkSupport(),this._selectedObj=[]},_render:function(){this._renderWrapper(),this._addAttr(this.model.htmlAttributes),this._setDimentions(),this._renderDropdown(),this._checkProperties(),this._isWatermark?this._setWatermark():this._setWatermarkTxt(),this._renderSuggestionList(),this._RightToLeft(this.model.enableRTL),this._setRoundedCorner(this.model.showRoundedCorner),this.setVisible(this.model.visible),this._setListPosition()},_renderWrapper:function(){var e,t;this.element.addClass("e-input").attr("autocomplete","off"),this.wrapper=b.buildTag("span.e-atc e-widget "+this.model.cssClass+"#"+this.target.id+"_wrapper").insertAfter(this.element),document.activeElement==this.element[0]&&(e=!0),this.container=b.buildTag("span.e-in-wrap e-box").append(this.element),this.wrapper.append(this.container),this._isWatermark||(this._hiddenSpan=b.buildTag("span.e-input e-placeholder ").insertAfter(this.element),this._hiddenSpan.text(this.model.watermarkText),this._hiddenSpan.css("display","none"),(t=this)._hiddenSpan.click(function(){this._isFocused||t.element.focus()})),e&&this.element.focus()},_renderDropdown:function(){var e;this.model.showPopupButton&&(e=b.buildTag("span.e-icon e-search").attr(this._isIE8?{unselectable:"on"}:{}),this.dropdownbutton=b.buildTag("span.e-select#"+this.target.id+"_dropdown").attr(this._isIE8?{unselectable:"on"}:{}).append(e),this.container.append(this.dropdownbutton).addClass("e-padding"),this.model.enabled||this.dropdownbutton.addClass("e-disable").attr({"aria-disabled":!0}),this.dropdownbutton.on("mousedown",f.proxy(this._OnDropdownClick,this)))},_addAttr:function(e){var i=this;f.map(e,function(e,t){"required"==t&&i.element.attr(t,e),"class"==t?i.wrapper.addClass(e):"name"==t?i.element.attr(t,e):"disabled"==t&&"disabled"==e?i._disabled(!0):"readOnly"==t&&!0===e?i._checkReadOnly(!0):i.wrapper.attr(t,e)})},_setDimentions:function(){this.model.height&&this.wrapper.height(this.model.height),this.model.width&&this.wrapper.width(this.model.width)},_renderBoxModel:function(){this._ulBox=b.buildTag("ul.e-ul e-boxes");var e=this.model.enabled?"":"e-disable";this._ulBox.addClass(e),this._hiddenInput=b.buildTag("input#"+this.target.id+"_hidden","",{},{type:"hidden"}).insertBefore(this.element),this._hiddenInput.attr("name",this.element.attr("name")),this.element.val("").removeAttr("name").addClass("e-visual-mode"),this._isWatermark||this.element.width(1),this.container.prepend(this._hiddenInput,this._ulBox),this.wrapper.height("auto"),this._on(this.container,"mousedown",function(e){if(!this.model.enabled)return!1;var t=f(e.target);t.is(this.element)||(e.preventDefault(),this._isFocused||this.element.focus(),t.hasClass("e-options")?(!e.ctrlKey&&t.siblings().hasClass("e-active")&&this._removeActive(),t.hasClass("e-active")?t.removeClass("e-active"):t.addClass("e-active")):this._moveCaretToEnd(this.element[0])),e.ctrlKey||!t.hasClass("e-boxes")&&!t.hasClass("e-input")||this._removeActive()})},_destroyBoxModel:function(){this.container.prepend(this.element),this.element.attr({name:this._hiddenInput.attr("name")}).removeAttr("style").removeClass("e-visual-mode"),this.wrapper.height(this.model.height),this._hiddenInput.remove(),this._hiddenInput=null,this._ulBox.remove(),this._off(this.container,"mousedown")},_deleteLastBox:function(){var e=this._ulBox.children().last(),t=e.hasClass("e-active");this._removeActive(),t?this._deleteBox(e):e.addClass("e-active")},_deleteBox:function(e){for(var t,i,s,o=0,n=e.length;o<n;o++)t=this._ulBox.children().index(e[o]),this._selectedItems.splice(t,1),i=this.model.delimiterChar,(s=this._hiddenInput.val().split(i)).splice(t,1),this._hiddenInput.val(s.join(i)),this._selectValueByKey(s.join(i)),(s=this._modelValue.split(i)).splice(t,1),this._modelValue=s.join(i),f(e[o]).remove();this.showSuggestionBox&&this._refreshPopup(),this._valueChange(),""==this._hiddenInput.val()&&this._setWatermark()},_removeActive:function(){this._ulBox.children("li.e-active").removeClass("e-active")},_adjustWidth:function(){var e,t=b.buildTag("span",this.element.val());this.container.append(t),e=t.width()+30,this.element.width()!=e&&this.element.width(e),""==this._hiddenInput.val()&&this._setWatermark(),t.remove()},_checkProperties:function(){var e;this._checkReadOnly(this.model.readOnly),this.model.delimiterChar=this._validateDelimiter(this.model.delimiterChar),this.model.enabled?this.model.enabled&&f(this.element).hasClass("e-disable")&&(this.model.enabled=!1,this._disabled(!1)):(this.model.enabled=!0,this._disabled(!0)),this._checkNameAttr(),"visualmode"==this.model.multiSelectMode&&this._renderBoxModel(),null!=this._selectValueByKey()&&""==this.value()?(e=this._selectValueByKey().toString(),"none"!=this.model.multiSelectMode&&(e=e.substr(e.length-this.model.delimiterChar.length)==this.model.delimiterChar?e:e+this.model.delimiterChar,"visualmode"==this.model.multiSelectMode?this._selectValueByKey(null):this._selectValueByKey(e)),this.selectValueByKey(e),this.model.showResetIcon&&this._showReset()):(e=this.value(),"none"==this.model.multiSelectMode||!b.isNullOrUndefined(e)&&""==e||(e=e.substr(e.length-this.model.delimiterChar.length)==this.model.delimiterChar?e:e+this.model.delimiterChar),this.value(this._setValue(e)),this.model.showResetIcon&&""!=this.value()&&this._showReset())},_checkNameAttr:function(){this.element.attr("name")||this.element.attr("name",this.element[0].id)},_disabled:function(e){e?this.disable():this.enable()},_destroyDropdown:function(){this.dropdownbutton.off("mousedown",f.proxy(this._OnDropdownClick,this)),this.dropdownbutton.remove(),this.dropdownbutton=null,this.container.removeClass("e-padding")},_validateDelimiter:function(e){return f.trim(e).length!=e.length&&null==e.length||/^[a-zA-Z0-9]+$/.test(e)?",":e},_checkWatermarkSupport:function(){return"placeholder"in document.createElement("input")},_setWatermark:function(){(this.model.watermarkText&&(""==this.value()||b.isNullOrUndefined(this.value()))||"visualmode"!=this.model.multiSelectMode)&&this.element.attr("placeholder",this.model.watermarkText).width("")},_setWatermarkTxt:function(){null==this.model.watermarkText||""!=f.trim(this.element.val())||"visualmode"==this.model.multiSelectMode&&""!=f.trim(this._hiddenInput.val())||this._hiddenSpan.css("display","block").text(this.model.watermarkText)},_renderSuggestionList:function(){var e,t,i,s,o=f("#"+this.element[0].id+"_suggestion").get(0);if(o&&f(o).remove(),this.suggestionList=b.buildTag("div.e-atc-popup e-popup e-widget e-box "+this.model.cssClass+"#"+this.target.id+"_suggestion","",{display:"none"}).attr("role","listbox"),this.element.attr("aria-owns",this.target.id+"_suggestion"),this.popup=this.suggestionList,o=b.buildTag("div"),this.model.multiColumnSettings.enable){if(this._tableColumn=b.buildTag("table","",{},{role:"listbox","border-collapse":"separate",border:0,cellspacing:0,cellpadding:0,class:"e-atc-tableContent"}),this._listEventBind(this._tableColumn,"tr"),this._headerColGroup=document.createElement("colgroup"),this.model.multiColumnSettings.showHeader){for(this._tableHeaderDiv=b.buildTag("div",{},{},{class:"e-atc-tableHeader "+(this.model.enableRTL?"e-atc-tableHeaderRTL":"e-atc-tableHeaderScroll")}),s=b.buildTag("div",{},{},{class:"e-atc-tableHeaderContent e-atc-tableHeaderBorder"}),e=document.createElement("tr"),this._tableHeader=b.buildTag("table","",{},{cellspacing:"0.25px"}),t=0,i=this.model.multiColumnSettings.columns.length;t<i;t++)f(e).append(b.buildTag("th",this.model.multiColumnSettings.columns[t].headerText||"column"+t,{"text-align":this.model.multiColumnSettings.columns[t].headerTextAlign||"left"},{class:t==this.model.multiColumnSettings.columns.length-1?"":this.model.enableRTL?"e-atc-thleft":"e-atc-thright"})),f(this._headerColGroup).append(document.createElement("col"));f(this._tableHeaderDiv).append(f(s).append(f(this._tableHeader).append(e).append(this._headerColGroup))),this.suggestionList.append(this._tableHeaderDiv)}else{for(t=0,i=this.model.multiColumnSettings.columns.length;t<i;t++)f(this._headerColGroup).append(document.createElement("col"));this._tableColumn.append(this._headerColGroup)}(s=b.buildTag("div")).append(this._tableColumn),o.append(s)}else this.ul=b.buildTag("ul.e-ul").attr("role","listbox"),this._listEventBind(this.ul,"li:not('.e-category')"),o.append(this.ul);this.suggestionList.append(o),f("body").append(this.suggestionList),this._setListWidth(),this._setListHeight(),this.model.multiColumnSettings.enable?(o.ejScroller({height:o.height(),width:0,scrollerSize:20}),this.scrollerObj=o.ejScroller("instance")):(this.suggestionList.ejScroller({height:this.suggestionList.height(),width:0,scrollerSize:20}),this.scrollerObj=this.suggestionList.ejScroller("instance"))},_listEventBind:function(e,t){e.on({mouseenter:f.proxy(this._OnMouseEnter,this),mouseleave:f.proxy(this._OnMouseLeave,this),click:f.proxy(this._OnMouseClick,this)},t)},_checkEmptyList:function(){"visualmode"==this.model.multiSelectMode&&this._removeRepeated(),0==this.suggestionListItems.length?(this.suggestionListItems.push(this.model.emptyResultText),this.noresult=!0):this.noresult=!1},_showSuggestionList:function(e){this.suggestionListItems=this.model.enableDistinct?b.dataUtil.distinct(this.suggestionListItems,"object"!=typeof this.suggestionListItems[0]?"":this.model.fields&&this.model.fields.text?this.model.fields.text:"text",!0):this.suggestionListItems,0<this.model.itemsCount&&(this.suggestionListItems=b.DataManager(this.suggestionListItems).executeLocal(b.Query().take(this.model.itemsCount))),this._checkEmptyList(),this._addNewTemplate=null,this.noresult&&"visualmode"==this.model.multiSelectMode&&this.model.allowAddNew&&""!=this.element.val()&&!this._repeatRemove&&(this.noresult=!1,this.suggestionListItems.pop(),this._addNewTemplate="   ("+this.model.addNewText+")",this.suggestionListItems.push(this.element.val()+this._addNewTemplate),this._checkEmptyList()),this.noresult&&!this.model.showEmptyResultText||this._generateSuggestionList(e)},_generateSuggestionList:function(e){var s,t,i,o,n,a,r=this.suggestionListItems;if(this.model.multiColumnSettings.enable?this._tableColumn.empty()&&this.model.multiColumnSettings.showHeader&&this._tableHeaderDiv.css("display",""):this.ul.empty(),s=this,t=document.createDocumentFragment(),"object"!=typeof r[0]){if(s.model.multiColumnSettings.enable){for(var l=b.buildTag("tbody"),d=b.buildTag("tr").attr("role","option").attr(s._isIE8?{unselectable:"on"}:{}),h=b.buildTag("td",{},{},{role:"option"}),c=0,u=r.length;c<u;c++){var p=s.model.highlightSearch&&!s.noresult?s._highlightSuggestion(r[c]):r[c],m=d.clone(),g=h.clone();f(g).attr(s._isIE8?{unselectable:"on"}:{}).attr(r[c]!=r.length-1?{class:"e-atc-tdbottom"}:{}).html(p),m[0].appendChild(g[0]),l[0].appendChild(m[0]),t.appendChild(l[0]),s.model.showEmptyResultText&&s.model.emptyResultText==p&&s.model.multiColumnSettings.showHeader&&s._tableHeaderDiv.css("display","none")&&f(g).removeClass("e-atc-tdbottom"),s._addNewTemplate&&!b.isNullOrUndefined(s._tableHeaderDiv)&&s._tableHeaderDiv.css("display","none")}s._tableColumn[0].appendChild(t)}else{for(i=b.buildTag("li",{},{},{role:"option"}).attr(s._isIE8?{unselectable:"on"}:{}),c=0,u=r.length;c<u;c++)p=s.model.highlightSearch&&!s.noresult?s._highlightSuggestion(r[c]):r[c],(o=i.clone())[0].innerHTML=p,t.appendChild(o[0]);s.ul[0].appendChild(t)}this._currList=r,this._mapper={txt:null,key:null}}else a=this.model.fields,(n={_key:null,_text:null,_attr:null})._key=a&&a.key?a.key:"key",n._text=a&&a.text?a.text:"text",n._attr=a&&a.htmlAttributes?a.htmlAttributes:"htmlAttributes",this._mapper={txt:n._text,key:n._key},this._currList=[],this.model.fields.groupBy?(a=a&&a.groupBy?a.groupBy:"groupBy",a=b.Query().group(a),this._addSortingQuery(a,"key"),a=b.DataManager(r).executeLocal(a),this._swapUnCategorized(a),a.forEach(function(e,t){var i;e.key&&(s.model.multiColumnSettings.enable?((i=b.buildTag("tr.e-category").attr("role","option").attr(s._isIE8?{unselectable:"on"}:{})).append(b.buildTag("td",e.key).attr("role","option").attr(s._isIE8?{unselectable:"on"}:{}).attr(t!=r.length-1?{class:"e-atc-tdbottom"}:{})),s._tableColumn.append(i)):s.ul.append(b.buildTag("li.e-category",e.key).attr("role","option").attr(s._isIE8?{unselectable:"on"}:{}))),s._generateLi(e.items,n)})):this._generateLi(r,n);0<this._getLiTags().length&&(f(document).off("mousedown",f.proxy(this._OnDocumentClick,this)),this._showResult(e))},_swapUnCategorized:function(e){for(var t,i=e.length,s=0;s<i;s++)if(!e[s].key){for(t=s;0<t;t--)e[t]=e[t-1];return e[t]=e[s],!1}},_generateLi:function(e,t){var i,s,o,n,a,r,l,d,h,c,u,p=this,m=document.createDocumentFragment(),g=document.createDocumentFragment();if(p.model.multiColumnSettings.enable){for(i=p.model.multiColumnSettings.columns.length,this._tableColumn.append(b.buildTag("tbody")),s=b.buildTag("tr"),o=b.buildTag("td"),l=0,d=e.length;l<d;l++)if(h=e[l][t._text],c=e[l][t._key],!b.isNullOrUndefined(h)||p.model.multiColumnSettings.enable){for(p._getField(e[l]),(n=s.clone())[0].className=l%2?"e-atc-trbgcolor":"",a=0;a<i;a++)(r=o.clone())[0].innerHTML=p.model.highlightSearch&&-1<f.inArray(a.toString(),p._columnIndex)?p._highlightSuggestion(p._getField(e[l],p.model.multiColumnSettings.columns[a].field).toString()):p._getField(e[l],p.model.multiColumnSettings.columns[a].field),r[0].className=(l!=e.length-1?"e-atc-tdbottom ":"")+(a!=p.model.multiColumnSettings.columns.length-1?p.model.enableRTL?"e-atc-tdleft ":"e-atc-tdright ":"")+(p.model.multiColumnSettings.columns[a].cssClass||""),r[0].style.textAlign=p.model.multiColumnSettings.columns[a].textAlign||"left",g.appendChild(r[0]);n[0].appendChild(g),c&&n.attr("id",c),p._setAttributes(p._getField(e[l],t._attr),n[0]),m.appendChild(n[0]),p._currList=p._currList.concat([e[l]])}f(p._tableColumn).find("tbody")[0].appendChild(m)}else{for(l=0,d=e.length;l<d;l++)h=e[l][t._text],c=e[l][t._key],b.isNullOrUndefined(h)||(p.model.highlightSearch&&(h=p._highlightSuggestion(h)),p.model.template&&(h=p._getTemplatedString(e[l],t._text,h)),(u=document.createElement("li")).innerHTML+=h,c&&u.setAttribute("id",c),p._setAttributes(p._getField(e[l],t._attr),u),m.appendChild(u),p._currList=p._currList.concat([e[l]]));p.ul[0].appendChild(m)}},_getLiTags:function(){return this.model.multiColumnSettings.enable?this._tableColumn.find("tbody tr:not('.e-category')"):this.ul.children("li:not('.e-category')")},_getTemplatedString:function(e,t,i){for(var s=this.model.template,o=s.indexOf("${"),n=s.indexOf("}");-1!=o&&-1!=n;)var a=s.substring(o,n+1),r=a.replace("${","").replace("}",""),l=this._getField(e,r),l=(l=t==r?i:l)||"",o=(s=s.split(a).join(l)).indexOf("${"),n=s.indexOf("}");return s},_getField:function(e,t){return b.pvt.getObject(t,e)},_setAttributes:function(e,t){if(e)for(var i in e="string"==typeof e?f.parseJSON(e):e)t.setAttribute(i,e[i])},_setListWidth:function(){var e=this.model.popupWidth;e&&"auto"!=e?this.suggestionList.css({width:e}):this.suggestionList.css({width:this.wrapper.width()})},_setListHeight:function(){this.suggestionList.css({"max-height":this.model.popupHeight})},_refreshPopup:function(){"auto"==this.model.popupWidth&&this.wrapper.outerWidth()!=this.suggestionList.outerWidth()&&(this.suggestionList.css({width:this.wrapper.width()}),this._refreshScroller()),this._setListPosition()},_showResult:function(e){var t;this._refreshScroller(),this._refreshPopup(),this._isOpened?f(document).on("mousedown",f.proxy(this._OnDocumentClick,this)):(this.suggestionList.css("display","none"),t=this,clearTimeout(this._typing),this._typing=setTimeout(function(){t.suggestionList["slide"==t.model.animateType?"slideDown":"fadeIn"]("none"==t.model.animateType?0:300,function(){f(document).on("mousedown",f.proxy(t._OnDocumentClick,t))})},this.model.delaySuggestionTimeout),this._trigger("open",e!=r?{event:e,isInteraction:!0}:{isInteraction:!1}),this.wrapper.addClass("e-active")),this._isOpened=!0,this.showSuggestionBox=!0,e=this._getLiTags(),this._listSize=e.length,f(window).on("resize",f.proxy(this._OnWindowResize,this)),(e=b.getScrollableParents(this.wrapper))[0]!=window&&this._on(e,"scroll",this._hideResult)},_hideResult:function(e){var t;this.showSuggestionBox&&(this.showSuggestionBox=!1,this._activeItem=0,clearTimeout(this._hiding),this.element.attr("aria-expanded",!1),(t=this)._isOpened?(this.suggestionList.css("display","none"),this._trigger("close",e!=r?{event:e,isInteraction:!0}:{isInteraction:!1})):this._hiding=setTimeout(function(){t.model&&t.suggestionList["slide"==t.model.animateType?"slideUp":"fadeOut"]("none"==t.model.animateType?0:100),t._activeItem=0},this.model.delaySuggestionTimeout),f(document).off("mousedown",f.proxy(this._OnDocumentClick,this)),f(window).off("resize",f.proxy(this._OnWindowResize,this)),this._off(b.getScrollableParents(this.wrapper),"scroll",this._hideResult),this.wrapper.removeClass("e-active"))},_refreshScroller:function(){this.suggestionList.css("height","auto"),this.suggestionList.find(".e-content , .e-scroller").removeAttr("style"),this.model.multiColumnSettings.enable&&this.model.multiColumnSettings.showHeader&&(f(this._tableColumn).attr("width","auto"),f(this._tableHeader).attr("width","auto")),this.suggestionList.css("display","block"),this.model.multiColumnSettings.enable&&(this.scrollerObj.option("height","auto"),this._columnBorderAlign());var e=this.suggestionList.height()>parseInt(f.isNumeric(this.model.popupHeight)?this.model.popupHeight:this.model.popupHeight.replace("px",""))-4;e||this.model.multiColumnSettings.enable&&(this.suggestionList.height()<=this._tableColumn.height()||this.suggestionList.width()<=this._tableColumn.width()||this.model.multiColumnSettings.showHeader&&this.suggestionList.width()<=this._tableHeader.width())?(e&&(this.scrollerObj.model.height=this.model.multiColumnSettings.showHeader&&this._tableHeader?parseInt(this.suggestionList.height())-parseInt(this._tableHeader.height()):this.suggestionList.height()),!this.model.multiColumnSettings.enable&&this.suggestionList.width()<this.suggestionList.find(".e-ul").width()&&this.suggestionList.find(".e-ul").width(this.suggestionList.find(".e-ul").width()),this.scrollerObj.model.width=this.suggestionList.width(),this.scrollerObj.refresh(),this.scrollerObj.option({enableRTL:this.model.enableRTL,scrollTop:0,scrollLeft:0}),this.model.multiColumnSettings.enable&&this.model.multiColumnSettings.showHeader&&this._addThBorder(),this.suggestionList.addClass("e-scroller"),!this.scrollerObj._vScroll&&this.model.multiColumnSettings.enable&&this.model.multiColumnSettings.showHeader&&this._removeThBorder()):(this.suggestionList.removeClass("e-scroller"),this.scrollerObj.refresh(),this.model.multiColumnSettings.enable&&this.model.multiColumnSettings.showHeader&&this._removeThBorder()),this.suggestionList.css("height","auto"),this._isIE8&&this.suggestionList.find(".e-vscroll div, .e-hscroll div").attr("unselectable","on"),this.model.multiColumnSettings.enable&&this.model.multiColumnSettings.showHeader&&(this.suggestionList.find(".e-content").scroll(b.proxy(function(e){this._tableHeader.parent(".e-atc-tableHeaderContent").scrollLeft(f(e.currentTarget).scrollLeft())},this)),0<this.suggestionList.find(".e-content").length)&&this._tableHeader.parent(".e-atc-tableHeaderContent").scrollLeft(this.model.enableRTL?this.suggestionList.find(".e-content")[0].scrollWidth-this.suggestionList.find(".e-content")[0].clientWidth:0)},_columnBorderAlign:function(){var e,t,i;if(this.model.multiColumnSettings.enable&&this.model.multiColumnSettings.showHeader&&"none"!=this._tableHeaderDiv.css("display")){for(this._tableWid=(this._tableHeader.outerWidth()>this._tableColumn.outerWidth()?this._tableHeader:this._tableColumn).outerWidth(),this._tableColumn.find("colgroup").remove(),f(this._headerColGroup.children).removeAttr("style"),t=0,i=this._headerColGroup.children.length;t<i;t++)f(this._headerColGroup.children[t]).css({width:(parseInt(f(this._tableColumn).find("tr:first td").eq(t).outerWidth())>parseInt(this._tableHeader.find("tr:first th").eq(t).outerWidth())?f(this._tableColumn).find("tr:first td"):this._tableHeader.find("tr:first th")).eq(t).outerWidth()});this._tableColumn.append(f(this._headerColGroup).clone()),e=this._tableWid>this.suggestionList.width()?this._tableWid:"100%",f(this._tableColumn).attr("width",e),f(this._tableHeader).attr("width",e)}else if(this.model.multiColumnSettings.enable&&!this.model.multiColumnSettings.showHeader){if(f(this._tableColumn).attr("width","auto"),this._tableWid=this._tableColumn.outerWidth(),f(this._headerColGroup.children).removeAttr("style"),"100%"!=(e=this._tableWid>this.suggestionList.width()?this._tableWid:"100%")){for(t=0,i=this._headerColGroup.children.length;t<i;t++)f(this._headerColGroup.children[t]).css({width:f(this._tableColumn).find("tr:first td").eq(t).outerWidth()});this._tableColumn.append(this._headerColGroup)}f(this._tableColumn).attr("width",e)}else f(this._tableColumn).attr("width","100%")},_removeThBorder:function(){this._tableHeader.parents(".e-atc-tableHeader").removeClass(this.model.enableRTL?"e-atc-tableHeaderRTL":"e-atc-tableHeaderScroll"),this._tableHeader.parent(".e-atc-tableHeaderContent").removeClass("e-atc-tableHeaderBorder")},_addThBorder:function(){this._tableHeader.parents(".e-atc-tableHeader").addClass(this.model.enableRTL?"e-atc-tableHeaderRTL":"e-atc-tableHeaderScroll").removeClass(this.model.enableRTL?"e-atc-tableHeaderScroll":"e-atc-tableHeaderRTL"),this._tableHeader.parent(".e-atc-tableHeaderContent").addClass("e-atc-tableHeaderBorder")},_setListPosition:function(){var e=this.wrapper,t=this._getOffset(e),i=f(document).scrollTop()+f(window).height()-(t.top+f(e).outerHeight()),s=t.top-f(document).scrollTop(),o=this.suggestionList.outerHeight(),n=this.suggestionList.outerWidth(),a=t.left,r=e.outerHeight(),l=(r-e.height())/2,d=this._getZindexPartial(),i=(o<i||s<o?t.top+r+3:t.top-o-3)-l,s=f(document).scrollLeft()+f(window).width()-a;(this.model.enableRTL||s<n&&n<a+e.outerWidth())&&(a-=this.suggestionList.outerWidth()-e.outerWidth()),this.suggestionList.css({left:a+"px",top:i+"px","z-index":d})},_getOffset:function(e){return b.util.getOffset(e)},_getZindexPartial:function(){return b.util.getZindexPartial(this.element,this.suggestionList)},_targetFocus:function(e){"visualmode"==this.model.multiSelectMode&&this._setWatermarkWidth(30),this._isWatermark||this._hiddenSpan.css("display","none"),this.wrapper.addClass("e-focus"),this._isFocused=!0,this._trigger("focusIn",{event:e,isInteraction:!0,value:this.value()})},_focusOutAction:function(e){this._isFocused=!1,this.wrapper.removeClass("e-focus"),this._isWatermark||this._setWatermarkTxt(),this._removeSelection(),"visualmode"==this.model.multiSelectMode&&this.model.showResetIcon&&""!=this.element.val()&&this._removeReset(),"visualmode"==this.model.multiSelectMode?(this._removeActive(),this.element.val(""),this._setWatermarkWidth(1),this._preVal="",this._addNewTemplate=null):("delimiter"==this.model.multiSelectMode&&this._valueChange(e),this._updateSelectedItemArray(this.getValue())),b.isNullOrUndefined(this.value())||""==this.value()||(e=this.value().split(this.model.delimiterChar),"delimiter"!=this.model.multiSelectMode&&"none"!=this.model.multiSelectMode)||(e=this._removeDuplicateVal(e),this._keyProcess(e)),""!=this.element.val()||""!=this.value()&&null!=this.value()||this._selectValueByKey(null)},_targetBlur:function(e){this._focusOutAction(e),this._trigger("focusOut",{event:e,isInteraction:!0,value:this.value()})},_setWatermarkWidth:function(e){this.model.watermarkText&&this.element.attr("placeholder")?this.element.width(""):this.element.val("").width(e)},_checkDeli:function(){var e=this.element.val(),t=this.model.delimiterChar;return e.substr(e.length-t.length,e.length)==t&&(this.element.val(e.substr(0,e.length-t.length)),!0)},_removeSelection:function(){var e;this.model.enableAutoFill&&(this.element.attr("aria-autocomplete","both"),(e=this._getCaretSelection()).end-e.start!=0)&&e.end-e.start!=this.element.val().length&&(this.target.value=this.target.value.substr(0,e.start))},_removeListHover:function(){this._getLiTags().removeClass("e-hover")},_addListHover:function(){var e=f(this._getLiTags()[this._activeItem-1]);e.addClass("e-hover"),this.scrollerObj.setModel({scrollTop:this._calcScrollTop()}),e.focus()},_calcScrollTop:function(){(this.model.multiColumnSettings.enable?this.model.multiColumnSettings.showHeader?(this._tableColumn.outerHeight(),this._tableHeader):this._tableColumn:this.ul).outerHeight();var e=this.model.multiColumnSettings.enable?this._tableColumn.find("tr"):this.ul.find("li"),t=(this.model.multiColumnSettings.enable?this._tableColumn.find("tr.e-hover"):this.ul.find("li.e-hover")).index();return e.eq(1).outerHeight()*t-((this.model.multiColumnSettings.enable?this._tableColumn.parent():this.suggestionList).outerHeight()-e.eq(t).outerHeight())/2},getActiveText:function(){if(0<this._activeItem)return this.model.multiColumnSettings.enable?this._textFormateString(this._currList[this._activeItem-1]):!b.isNullOrUndefined(this._mapper)&&this._mapper.txt?this._getField(this._currList[this._activeItem-1],this._mapper.txt):this._currList[this._activeItem-1]},_getUniqueKey:function(){var e=null;return b.isNullOrUndefined(this._mapper)||(this._mapper.key&&(e=this._getField(this._currList[this._activeItem-1],this._mapper.key)),b.isNullOrUndefined(e)&&(e=null)),e},_setTextBoxValue:function(){var e,t,i,s;this._activeItem&&!this.noresult&&(e=this.model.multiColumnSettings.enable?this._textFormateString(this._currList[this._activeItem-1]):this.getActiveText(),t=this._getCaretSelection(),this.suggLen=t.start,t=this.target.value.substr(0,this.suggLen),s=-1==(i=this.target.value.lastIndexOf(this.model.delimiterChar))?f.trim(t.substr(i+1,this.suggLen)):f.trim(t.substr(i+this.model.delimiterChar.length,this.suggLen)),!t||t.toLowerCase()!=e.substr(0,this.suggLen).toLowerCase()&&s.toLowerCase()!=e.substr(0,this.suggLen-(i+this.model.delimiterChar.length)).toLowerCase()?("delimiter"==this.model.multiSelectMode&&e&&s?this.element.val(this.element.val().replace(s,e)):e&&this.element.val(e),this._removeSelection()):(i="delimiter"==this.model.multiSelectMode?t+e.substr(s.length,e.length):t+e.substr(t.length,e.length),this.element.val(i),this._autofilSelection(),"visualmode"==this.model.multiSelectMode&&(this._adjustWidth(),this.model.enableAutoFill)&&this._refreshPopup(),this.model.autoFocus&&!this.noresult&&this._addListHover()))},_enterTextBoxValue:function(e){var t,i,s;!this._activeItem||this.noresult||this.model.readOnly||(t=this.getActiveText(),i=this._currList[this._activeItem-1],this._preVal=t+("delimiter"==this.model.multiSelectMode?this.model.delimiterChar:""),this._valueToTextBox(t,i,!1),s="visualmode"==this.model.multiSelectMode?this._modelValue:""==this.element.val()?null:this.element.val(),this._trigger("select",{event:e,isInteraction:!0,value:s,text:t,key:this._getUniqueKey(),item:i}),this._valueChange(e),this.model.showResetIcon&&this._showReset()),this._isOpened&&this._trigger("close",{event:e,isInteraction:!0})},_createBox:function(e){var t=b.buildTag("span.e-icon e-close"),e=b.buildTag("li.e-options",e).append(t);return this._on(t,"click",function(e){if(!this.model.enabled)return!1;this._deleteBox(f(e.target).parent())}),e},_addLoadingClass:function(){this.model.showLoadingIcon&&this.element.addClass("e-load")},_removeLoadingClass:function(){this.element.removeClass("e-load")},_highlightSuggestion:function(e){var t,i,s,o,n,a;if(""!=f.trim(this._queryString)&&(o=this.model.caseSensitiveSearch?"g":"gi",s=f.trim(this._queryString),s=/^[a-zA-Z0-9- ]*$/.test(s)?s:s.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&"),s="startswith"==this.model.filterType?"^"+s:"endswith"==this.model.filterType?s+"$":s,(s=new RegExp(s,o)).test(e)))for(t=e.match(s),o=e.replace(s,"~^"),e="",n=0,a=(i=o.split("~^")).length;n<a;n++)e+=t[n]?i[n]+"<span class='e-hilight-txt'>"+t[n]+"</span>":i[n];return e},_RightToLeft:function(e){e?(this.wrapper.addClass("e-rtl"),this.suggestionList.addClass("e-rtl")):(this.wrapper.removeClass("e-rtl"),this.suggestionList.removeClass("e-rtl")),this.model.multiColumnSettings.enable&&this.model.multiColumnSettings.showHeader&&(this._tableHeaderDiv.removeClass(e?"e-atc-tableHeaderRTL":"e-atc-tableHeaderScroll"),this._tableHeader.find("tr :not(th:last)").addClass(e?"e-atc-thleft":"e-atc-thright").removeClass(e?"e-atc-thright":"e-atc-thleft"))},_setRoundedCorner:function(e){e?(this.container.addClass("e-corner"),this.suggestionList.addClass("e-corner")):(this.container.removeClass("e-corner"),this.suggestionList.removeClass("e-corner"))},_checkReadOnly:function(e){this.model.readOnly=e,this.model.readOnly?(this.element.attr({readonly:"readonly","aria-readonly":!0}),this._off(this.element,"keydown",this._OnKeyDown),this._off(this.element,"keyup",this._OnKeyUp),this._off(this.element,"paste",this._OnPaste),this._off(this.element,"keypress",this._onkeyPress)):(this.element.removeAttr("readonly aria-readonly"),this._on(this.element,"keydown",this._OnKeyDown),this._on(this.element,"keyup",this._OnKeyUp),this._on(this.element,"paste",this._OnPaste),this._on(this.element,"keypress",this._onkeyPress))},_onkeyPress:function(e){13==e.keyCode&&this._PreventDefaultAction(e)},_OnPaste:function(e){var t=this;setTimeout(function(){t._OnKeyUp(e)},0)},_OnKeyDown:function(e){var t,i;switch("startswith"!=this.model.filterType&&(this.model.enableAutoFill=!1),e.keyCode){case 37:case 35:case 36:this._removeSelection();break;case 38:this.showSuggestionBox&&this.suggestionList&&(this._removeListHover(),1<this._activeItem?--this._activeItem:this._activeItem=this._listSize,this._navigationHover()),this._PreventDefaultAction(e);break;case 40:this.showSuggestionBox&&this.suggestionList?(this._removeListHover(),this._activeItem<this._listSize?this._activeItem+=1:this._activeItem=1,this._navigationHover()):e.ctrlKey&&""==this.element.val()?this._showFullList(e):e.ctrlKey&&this._showSuggestionList(e),this._PreventDefaultAction(e);break;case 33:case 34:this.showSuggestionBox&&this.suggestionList&&(this._removeListHover(),i=(this.model.multiColumnSettings.enable?this._tableColumn.parent():this.suggestionList).height(),t=(this.model.multiColumnSettings.enable?this._tableColumn.find("tr"):this.ul.children("li")).outerHeight(),i=0!=Math.round(i/t)?Math.round(i/t):this._listSize,this._activeItem=33==e.keyCode?this._activeItem-i:this._activeItem+i,this._activeItem<1&&(this._activeItem=1),this._activeItem>this._listSize&&(this._activeItem=this._listSize),this._navigationHover()),this._PreventDefaultAction(e);break;case 8:""==f.trim(this.element.val())&&(this._isOpened=!1),"visualmode"==this.model.multiSelectMode&&""==this.element.val()&&this._deleteLastBox();break;case 17:this.ctrlKeyPressed=!0;break;case 9:this.showSuggestionBox&&(this._queryString=this.element.val(),this._enterTextBoxValue(e),this._hideResult(e),this._isOpened=!1,this._PreventDefaultAction(e));break;case 27:this._isOpened=!1,t=this.showSuggestionBox,this._hideResult(e),this._PreventDefaultAction(e),t&&this._trigger("close",{event:e,isInteraction:!0})}"visualmode"==this.model.multiSelectMode&&(17!=e.keyCode&&8!=e.keyCode&&46!=e.keyCode&&this._removeActive(),this._adjustWidth())},_PreventDefaultAction:function(e){e.preventDefault(),this._cancelEvent||(e.stopPropagation(),e.cancelBubble=!0,e.returnValue=!0)},_bubbleEvent:function(e){return"boolean"==typeof e&&(this._cancelEvent=e),this._cancelEvent},_navigationHover:function(){this._addListHover(),this.model.enableAutoFill&&(this.element.attr("aria-autocomplete","both"),this._queryString=this.target.value,this._setTextBoxValue())},_OnKeyUp:function(e){if(this._keyDownComplete(e),this.ctrlKeyPressed&&"paste"!=e.type)return 17==e.keyCode&&(this.ctrlKeyPressed=!1),!1;if(""==f.trim(this.element.val())&&38==e.keyCode&&40==e.keyCode)return this._hideResult(e),!1;if(!this._checkDelimiter())return!1;switch(this._queryString=f.trim(this._queryString),e.keyCode){case 34:case 33:case 38:case 40:case 37:case 39:case 20:case 16:case 17:case 18:case 35:case 36:case 144:case 9:case 27:break;case 13:e.preventDefault(),this._queryString=this.element.val(),this._enterTextBoxValue(e),this.model.enableAutoFill&&(this.element.attr("aria-autocomplete","both"),this.suggLen=this.element.val().length,this._autofilSelection()),this._isOpened=!1,this._hideResult(e);break;case 46:if("visualmode"==this.model.multiSelectMode&&""==this.element.val()){this._deleteBox(this._ulBox.children("li.e-active"));break}case 8:this._queryString.length>=this.model.minCharacter?(this._autoFill=!1,this._OnTextEnter(e)):(this.noresult=!0,this._hideResult(e),""==f.trim(this.element.val())&&(this._isOpened=!1)),this._typed=!0;break;default:this._queryString.length>=this.model.minCharacter?(this._autoFill=!0,this._OnTextEnter(e)):this.noresult=!0,this._typed=!0}},_getFilteredList:function(e,t){var i;clearTimeout(this.timeDelay),b.isNullOrUndefined(e)||"object"!=typeof e[0]||(i=this.model.fields.text||"text",this.model.actionFailure&&b.isNullOrUndefined(b.DataManager(e).executeLocal(b.Query().select(i))[0])&&this._trigger("actionFailure",{error:this._localizedLabels.actionFailure})),!e||!e.length||e.length<1?(this.suggestionListItems=[],this.model.actionFailure&&this._trigger("actionFailure",{error:this._localizedLabels.actionFailure})):(i=b.Query(),this._addQuery(i,"object"==typeof e[0]),this.suggestionListItems=b.DataManager(e).executeLocal(i),this.model.actionSuccess&&this._trigger("actionSuccess")),this._doneRemaining(t),this.model.actionComplete&&this._trigger("actionComplete")},_performSearch:function(e){var t,i;this.model.actionBegin&&this._trigger("actionBegin"),t=this.model.dataSource,b.DataManager&&t instanceof b.DataManager?t.dataSource.offline||t.dataSource.json&&0<t.dataSource.json.length?(this._getFilteredList(t.dataSource.json,e),this._selectedObj.push(t.dataSource.json)):(window.clearTimeout(this.timer),(i=this).timer=window.setTimeout(function(){i._fetchRemoteDat(t)},700)):this._getFilteredList(t,e)},_fetchRemoteDat:function(e){var t=this,i=this._getQuery();this._addQuery(i,!0),e.executeQuery(i).fail(function(e){t.suggestionListItems=null,t._removeLoadingClass(),t._trigger("actionFailure",e)}).done(function(e){t.suggestionListItems=e.result,"none"==t.model.multiSelectMode?t._selectedObj=e.result:"delimiter"==t.model.multiSelectMode&&(t._selectedObj=t._selectedObj.concat(e.result)),t._doneRemaining(e),t._trigger("actionSuccess",e)}).always(function(e){t._trigger("actionComplete",e)})},_addSortingQuery:function(e,t){var i;this.model.allowSorting&&(i="descending"==this.model.sortOrder,e.sortBy(t,i))},_addQuery:function(e,t){var i,s,o,n,a="";if(t&&(a=(s=this.model.fields)&&s.text?s.text:"text"),this._queryString)if(this.model.multiColumnSettings.enable)if(this._columnsIndex(),t){for(a=[],o=0,n=this._columnIndex.length;o<n;o++)a.push(this.model.multiColumnSettings.columns[this._columnIndex[o]].field),i=this._predicateConvertion(i,this.model.multiColumnSettings.columns[this._columnIndex[o]].field,this.model.multiColumnSettings.columns[this._columnIndex[o]].filterType||"startswith",this._queryString,!this.model.caseSensitiveSearch,this.model.multiColumnSettings.columns[this._columnIndex[o]].type||"string");e.where(i)}else e.where(a,this.model.filterType,this._queryString,!this.model.caseSensitiveSearch);else e.where(a,this.model.filterType,this._queryString,!this.model.caseSensitiveSearch);this._addSortingQuery(e,a)},_predicateConvertion:function(e,t,i,s,o,n){var a;return"number"==n?a=Number(s):"boolean"==n?"true"==s||"yes"==s||"1"==s?a=!0:"false"!=s&&"no"!=s&&"0"!=s||(a=!1):a="date"==n?new Date(s):s,"number"==n&&isNaN(a)||"boolean"==n&&a==r?e:e!=r?e.or(t,i,a,o):b.Predicate(t,i,a,o)},_getQuery:function(){if(b.isNullOrUndefined(this.model.query)){var e=[],t=b.Query(),i=this.model.fields;for(var s in i)"tableName"!==s&&i[s]&&e.push(i[s]);0<e.length&&t.select(e),b.isNullOrUndefined(this.model.dataSource.dataSource.url)||this.model.dataSource.dataSource.url.match(i.tableName+"$")||b.isNullOrUndefined(i.tableName)||t.from(i.tableName)}else t=this.model.query.clone();return t},_OnTextEnter:function(e){var t=this;b.isDevice()?(clearTimeout(this.timeDelay),this.timeDelay=setTimeout(function(){t._onTextProcess(e)},t.model.delaySuggestionTimeout)):t._onTextProcess(e)},_onTextProcess:function(e){this._addLoadingClass(),this.element.attr("aria-expanded",!1),this._performSearch(e),this.model.showResetIcon&&this._showReset()},_showReset:function(){b.isNullOrUndefined(this.resetSpan)&&(this.resetSpan=b.buildTag("span.e-icon e-iclose"),this.model.showPopupButton?(this.dropdownbutton.before(this.resetSpan),this.container.addClass("e-popup e-reset")):this.container.append(this.resetSpan).addClass("e-reset")),this._on(this.resetSpan,"mousedown",this._refreshSearch)},_refreshSearch:function(){this.resetSpan=null,this.clearText(),this._refreshPopup()},_removeReset:function(){this.resetSpan=this.resetSpan&&this.resetSpan[0].remove(),this._refreshPopup()},_doneRemaining:function(e){this._showSuggestionList(e),this.element.attr({"aria-expanded":!0,"aria-haspopup":!0}),(this.model.enableAutoFill&&this._autoFill&&!this.noresult||this.model.autoFocus)&&(this.element.attr("aria-autocomplete","both"),this._activeItem=1,this._queryString=this.target.value),this.model.enableAutoFill&&this._autoFill&&!this.noresult&&this._setTextBoxValue(),this.model.autoFocus&&!this.noresult&&this._addListHover(),this._removeLoadingClass(),this.noresult&&!this.model.showEmptyResultText&&this._hideResult(e)},_removeRepeated:function(){var e,t,i,s=this.suggestionListItems;if(!s||0==s.length||0==this._selectedItems.length||1==this.suggestionListItems.length&&this.suggestionListItems[0]==this.element.val()+this._addNewTemplate)return!1;for(this._repeatRemove=!1,e=0,t=this._selectedItems.length;e<t;e++)-1!=(i=s.indexOf(this._selectedItems[e]))&&this.suggestionListItems.splice(i,1),this.element.val()==this._selectedItems[e]&&(this._repeatRemove=!0)},_checkDelimiter:function(){this._queryString=this.element.val();var e="delimiter"!=this.model.multiSelectMode?-1:this._queryString.lastIndexOf(this.model.delimiterChar);return-1==e||(this._queryString=this._queryString.substr(e+this.model.delimiterChar.length,this._queryString.length)),!0},_autofilSelection:function(){var e=this.element[0],t=this.element.val().length;e.setSelectionRange?e.setSelectionRange(this.suggLen,t):e.createTextRange&&((e=e.createTextRange()).collapse(!0),e.moveEnd("character",t),e.moveStart("character",this.suggLen),e.select())},_OnDropdownClick:function(e){this.model.enabled&&!this.model.readOnly&&(e.preventDefault(),e.which&&1==e.which||e.button&&0==e.button)&&(this._addLoadingClass(),this.showSuggestionBox?(this._hideResult(e),this._isOpened=!1,this._removeLoadingClass()):this._showFullList(e))},_showFullList:function(e){this._isFocused||this.element.focus(),this._queryString=null,this._autoFill=!1,this._performSearch(e)},_OnMouseEnter:function(e){this._getActiveItemIndex(e)},_getActiveItemIndex:function(e){var t=e.target;this.model.multiColumnSettings.enable&&"tr"!=e.target.tagName.toLowerCase()?t=f(e.target).parents("tr"):"li"!=e.target.tagName.toLowerCase()&&(t=f(e.target).parents("li")),this._getLiTags().removeClass("e-hover"),f(t).addClass("e-hover"),this._queryString=this.element.val(),this._activeItem=this._getLiTags().index(f(t))+1},_OnMouseLeave:function(){this._getLiTags().removeClass("e-hover"),this.model.highlightSearch&&this._getLiTags().find(".e-hilight-txt").removeClass("e-hover")},_OnMouseClick:function(e){this._getActiveItemIndex(e),this.noresult||(this._enterTextBoxValue(e),this._isOpened=!1,this._hideResult(e))},_OnDocumentClick:function(e){f(e.target).is(this.suggestionList)||f(e.target).parents(".e-atc-popup").is(this.suggestionList)||f(e.target).is(this.element)||f(e.target).parents(".e-atc").is(this.wrapper)?(f(e.target).is(this.suggestionList)||f(e.target).parents(".e-atc-popup").is(this.suggestionList))&&e.preventDefault():(this._isOpened=!1,this._hideResult(e),this._trigger("close",{event:e,isInteraction:!0}))},_OnWindowResize:function(){this._refreshPopup()},_keyProcess:function(e){var t,i,s,o=this._declareVariable(),n=this._delimiterChar();if(!b.isNullOrUndefined(e))for(t=0,i=e.length;t<i;t++)s=e[t],b.DataManager&&this.model.dataSource instanceof b.DataManager?this._selectValueByKey(null):(this._dataQuery=this.model.multiColumnSettings.enable?b.Query():b.Query().where(o[0],this.model.filterType,s,!1),this._promise=b.DataManager(this.model.dataSource).executeLocal(this._dataQuery),this.model.multiColumnSettings.enable?this._formatStringKey(e,o,n):this._promise instanceof Array&&0==this._promise.length?null!=this._selectValueByKey()&&this._selectValueByKey():this._getFieldKey(this._promise[0],o[1],n))},_formatStringKey:function(e,t,i){var s,o,n,a,r,l;for(this._selectValueByKey(null),s=0,o=e.length;s<o;s++)if(""!=e[s]){for(n=e[s],r=0,l=this._promise.length;r<l;r++)n==this._textFormateString(this._promise[r])&&(a=r);a?this._getFieldKey(this._promise[a],t[1],i):null!=this._selectValueByKey()&&this._selectValueByKey()}},_getFieldKey:function(e,t,i){var s;!b.isNullOrUndefined(this.model.template)&&b.isNullOrUndefined(this._getField(e,t))||b.isNullOrUndefined(this._getField(e,t))||(s=this._getField(e,t).toString(),"none"!=this.model.multiSelectMode&&(s=this._selectValueByKey(),delimiterChar=this.model.delimiterChar,e=this._getField(e,t).toString(),s=null!=s&&(t=s.toString().split(i).filter(function(e){return""!==e}),-1==f.inArray(e,t))?(t.push(e),t.join(delimiterChar)+delimiterChar):e+delimiterChar),this._selectValueByKey(s))},_removeDuplicateVal:function(e){var i=[];return f.each(e,function(e,t){-1==f.inArray(t,i)&&i.push(t)}),1!=e.length||b.isNullOrUndefined(this._originalval)||-1==f.inArray(e[0],this._originalval)&&this._selectValueByKey(null),i},_valueChange:function(e){var t="visualmode"==this.model.multiSelectMode?this._modelValue:this.element.val();(this.value()!=t||""==t&&""!=this.element.val())&&(this.value(t),this._changeEvtTrigger(t,e)),this.model.showResetIcon&&!t&&(this.wrapper.find("span.e-iclose").remove(),this.resetSpan=null)},_changeEvtTrigger:function(e,t){t=t!=r?{event:t,isInteraction:!0,value:e}:{isInteraction:!1,value:e};this.initialRender||(this._trigger("_change",{value:e}),this._trigger("change",t))},_updateSelectedItemArray:function(t){var e,i,s=[];if(this._selectedItems=[],this.suggestionListItems=this.model.dataSource,"delimiter"==this.model.multiSelectMode&&t)if(s=t.split(this.model.delimiterChar),b.DataManager&&this.model.dataSource instanceof b.DataManager||!b.isNullOrUndefined(this.suggestionListItems)&&"object"!=typeof this.suggestionListItems[0]){for(e=0,i=s.length;e<i;e++)if(s[e]){for(var o=this,n=this._selectedObj.length,a={},r=0;r<n;r++)this._selectedObj[r][o.model.fields.text]==s[e]&&(a=this._selectedObj[r],r=n);this._selectedItems.push(f.isEmptyObject(a)?s[e]:a)}}else this._createBoxForObjectType(s);else"none"==this.model.multiSelectMode&&t&&(s.push(t),b.DataManager&&this.model.dataSource instanceof b.DataManager||!b.isNullOrUndefined(this.suggestionListItems)&&"object"!=typeof this.suggestionListItems[0]?(o=this,a=f.grep(this._selectedObj,function(e){if(e[o.model.fields.text]==t)return e}),this._selectedItems.push(0<a.length?a:t)):this._createBoxForObjectType(s))},_keyDownComplete:function(e){var t=this.element.val();this._preVal!=t&&(this._preVal=t,"visualmode"==this.model.multiSelectMode&&this._adjustWidth(),this._valueChange(e))},_moveCaretToEnd:function(e){var t;e.scrollLeft=e.scrollWidth,e.createTextRange&&((t=e.createTextRange()).moveEnd("textedit"),t.moveStart("textedit"),t.select()),"number"==typeof e.selectionStart?e.selectionStart=e.selectionEnd=e.value.length:void 0!==e.createTextRange&&((t=e.createTextRange()).collapse(!1),t.select())},_getCaretSelection:function(){var e,t,i=this.element[0];return isNaN(i.selectionStart)?(t=document.selection.createRange().getBookmark(),(e=i.createTextRange()).moveToBookmark(t),(t=i.createTextRange()).collapse(!0),t.setEndPoint("EndToStart",e),{start:t=t.text.length,end:t+e.text.length}):(t=i.selectionStart,e=i.selectionEnd,{start:Math.abs(t),end:Math.abs(e)})},_getLocalizedLabels:function(){return b.getLocalizedConstants(this.sfType,this.model.locale)},_wireEvents:function(){this._on(this.element,"focus",this._targetFocus),this._on(this.element,"blur",this._targetBlur)}}),b.Autocomplete.Locale=b.Autocomplete.Locale||{},b.Autocomplete.Locale.default=b.Autocomplete.Locale["en-US"]={addNewText:"Add New",emptyResultText:"No suggestions",actionFailure:"The specified field doesn't exist in given data source"},b.filterType={StartsWith:"startswith",Contains:"contains",EndsWith:"endswith",LessThan:"lessthan",GreaterThan:"greaterthan",LessThanOrEqual:"lessthanorequal",GreaterThanOrEqual:"greaterthanorequal",Equal:"equal",NotEqual:"notequal"},b.SortOrder={Ascending:"ascending",Descending:"descending"},b.MultiSelectMode={None:"none",Delimiter:"delimiter",VisualMode:"visualmode"},b.Animation={None:"none",Slide:"slide",Fade:"fade"},b.Type={Number:"number",String:"string",Boolean:"boolean",Date:"date"}}),function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define(t):(e="undefined"!=typeof globalThis?globalThis:e||self).bootstrap=t()}(this,function(){let s=new Map,N={set(e,t,i){s.has(e)||s.set(e,new Map);e=s.get(e);e.has(t)||0===e.size?e.set(t,i):console.error(`Bootstrap doesn't allow more than one instance per element. Bound instance: ${Array.from(e.keys())[0]}.`)},get:(e,t)=>s.has(e)&&s.get(e).get(t)||null,remove(e,t){var i;s.has(e)&&((i=s.get(e)).delete(t),0===i.size)&&s.delete(e)}},M="transitionend",B=e=>e=e&&window.CSS&&window.CSS.escape?e.replace(/#([^\s"#']+)/g,(e,t)=>"#"+CSS.escape(t)):e,z=e=>{e.dispatchEvent(new Event(M))},a=e=>!(!e||"object"!=typeof e)&&void 0!==(e=void 0!==e.jquery?e[0]:e).nodeType,o=e=>a(e)?e.jquery?e[0]:e:"string"==typeof e&&0<e.length?document.querySelector(B(e)):null,n=t=>{if(!a(t)||0===t.getClientRects().length)return!1;let e="visible"===getComputedStyle(t).getPropertyValue("visibility"),i=t.closest("details:not([open])");if(i&&i!==t){let e=t.closest("summary");if(e&&e.parentNode!==i)return!1;if(null===e)return!1}return e},r=e=>!e||e.nodeType!==Node.ELEMENT_NODE||!!e.classList.contains("disabled")||(void 0!==e.disabled?e.disabled:e.hasAttribute("disabled")&&"false"!==e.getAttribute("disabled")),H=e=>{var t;return document.documentElement.attachShadow?"function"==typeof e.getRootNode?(t=e.getRootNode())instanceof ShadowRoot?t:null:e instanceof ShadowRoot?e:e.parentNode?H(e.parentNode):null:null},U=()=>{},R=e=>{e.offsetHeight},W=()=>window.jQuery&&!document.body.hasAttribute("data-bs-no-jquery")?window.jQuery:null,F=[],l=()=>"rtl"===document.documentElement.dir,e=s=>{var e=()=>{let i=W();if(i){let e=s.NAME,t=i.fn[e];i.fn[e]=s.jQueryInterface,i.fn[e].Constructor=s,i.fn[e].noConflict=()=>(i.fn[e]=t,s.jQueryInterface)}};"loading"===document.readyState?(F.length||document.addEventListener("DOMContentLoaded",()=>{for(var e of F)e()}),F.push(e)):e()},d=(e,t=[],i=e)=>"function"==typeof e?e(...t):i,V=(s,o,e=!0)=>{if(e){e=(()=>{if(!o)return 0;let{transitionDuration:e,transitionDelay:t}=window.getComputedStyle(o);var i=Number.parseFloat(e),s=Number.parseFloat(t);return i||s?(e=e.split(",")[0],t=t.split(",")[0],1e3*(Number.parseFloat(e)+Number.parseFloat(t))):0})()+5;let t=!1,i=({target:e})=>{e===o&&(t=!0,o.removeEventListener(M,i),d(s))};o.addEventListener(M,i),setTimeout(()=>{t||z(o)},e)}else d(s)},q=(e,t,i,s)=>{var o=e.length;let n=e.indexOf(t);return-1===n?!i&&s?e[o-1]:e[0]:(n+=i?1:-1,s&&(n=(n+o)%o),e[Math.max(0,Math.min(n,o-1))])},G=/[^.]*(?=\..*)\.|.*/,K=/\..*/,Q=/::\d+$/,Y={},X=1,J={mouseenter:"mouseover",mouseleave:"mouseout"},Z=new Set(["click","dblclick","mouseup","mousedown","contextmenu","mousewheel","DOMMouseScroll","mouseover","mouseout","mousemove","selectstart","selectend","keydown","keypress","keyup","orientationchange","touchstart","touchmove","touchend","touchcancel","pointerdown","pointermove","pointerup","pointerleave","pointercancel","gesturestart","gesturechange","gestureend","focus","blur","change","reset","select","submit","focusin","focusout","load","unload","beforeunload","resize","move","DOMContentLoaded","readystatechange","error","abort","scroll"]);function ee(e,t){return t&&t+"::"+X++||e.uidEvent||X++}function te(e){var t=ee(e);return e.uidEvent=t,Y[t]=Y[t]||{},Y[t]}function ie(e,t,i=null){return Object.values(e).find(e=>e.callable===t&&e.delegationSelector===i)}function se(e,t,i){var s="string"==typeof t,t=!s&&t||i;let o=ae(e);return[s,t,o=Z.has(o)?o:e]}function oe(s,o,n,a,r){if("string"==typeof o&&s){let[e,t,i]=se(o,n,a);if(o in J){let e=t=>function(e){if(!e.relatedTarget||e.relatedTarget!==e.delegateTarget&&!e.delegateTarget.contains(e.relatedTarget))return t.call(this,e)};t=e(t)}var a=te(s),a=a[i]||(a[i]={}),l=ie(a,t,e?n:null);if(l)return l.oneOff=l.oneOff&&r;var d,h,c,u,p,l=ee(t,o.replace(G,"")),o=e?(c=s,u=n,p=t,function t(i){var s=c.querySelectorAll(u);for(let e=i["target"];e&&e!==this;e=e.parentNode)for(var o of s)if(o===e)return re(i,{delegateTarget:e}),t.oneOff&&m.off(c,i.type,u,p),p.apply(e,[i])}):(d=s,h=t,function e(t){return re(t,{delegateTarget:d}),e.oneOff&&m.off(d,t.type,h),h.apply(d,[t])});o.delegationSelector=e?n:null,o.callable=t,o.oneOff=r,a[o.uidEvent=l]=o,s.addEventListener(i,o,e)}}function ne(e,t,i,s,o){s=ie(t[i],s,o);s&&(e.removeEventListener(i,s,Boolean(o)),delete t[i][s.uidEvent])}function ae(e){return e=e.replace(K,""),J[e]||e}let m={on(e,t,i,s){oe(e,t,i,s,!1)},one(e,t,i,s){oe(e,t,i,s,!0)},off(r,l,d,h){if("string"==typeof l&&r){let[e,t,s]=se(l,d,h),o=s!==l,n=te(r),a=n[s]||{},i=l.startsWith(".");if(void 0===t){if(i)for(let e of Object.keys(n)){c=void 0;u=void 0;p=void 0;m=void 0;b=void 0;g=void 0;f=void 0;var c=r;var u=n;var p=e;var m=l.slice(1);var g,f,b=u[p]||{};for([g,f]of Object.entries(b))g.includes(m)&&ne(c,u,p,f.callable,f.delegationSelector)}for(let[t,i]of Object.entries(a)){let e=t.replace(Q,"");o&&!l.includes(e)||ne(r,n,s,i.callable,i.delegationSelector)}}else Object.keys(a).length&&ne(r,n,s,t,e?d:null)}},trigger(e,t,i){if("string"!=typeof t||!e)return null;var s=W();let o=null,n=!0,a=!0,r=!1;t!==ae(t)&&s&&(o=s.Event(t,i),s(e).trigger(o),n=!o.isPropagationStopped(),a=!o.isImmediatePropagationStopped(),r=o.isDefaultPrevented());s=re(new Event(t,{bubbles:n,cancelable:!0}),i);return r&&s.preventDefault(),a&&e.dispatchEvent(s),s.defaultPrevented&&o&&o.preventDefault(),s}};function re(i,s={}){for(let[e,t]of Object.entries(s))try{i[e]=t}catch(s){Object.defineProperty(i,e,{configurable:!0,get:()=>t})}return i}function le(t){if("true"===t)return!0;if("false"===t)return!1;if(t===Number(t).toString())return Number(t);if(""===t||"null"===t)return null;if("string"!=typeof t)return t;try{return JSON.parse(decodeURIComponent(t))}catch(e){return t}}function de(e){return e.replace(/[A-Z]/g,e=>"-"+e.toLowerCase())}let h={setDataAttribute(e,t,i){e.setAttribute("data-bs-"+de(t),i)},removeDataAttribute(e,t){e.removeAttribute("data-bs-"+de(t))},getDataAttributes(t){if(!t)return{};var i,s={};for(i of Object.keys(t.dataset).filter(e=>e.startsWith("bs")&&!e.startsWith("bsConfig"))){let e=i.replace(/^bs/,"");s[e=e.charAt(0).toLowerCase()+e.slice(1,e.length)]=le(t.dataset[i])}return s},getDataAttribute:(e,t)=>le(e.getAttribute("data-bs-"+de(t)))};class he{static get Default(){return{}}static get DefaultType(){return{}}static get NAME(){throw new Error('You have to implement the static method "NAME", for each component!')}_getConfig(e){return e=this._mergeConfigObj(e),e=this._configAfterMerge(e),this._typeCheckConfig(e),e}_configAfterMerge(e){return e}_mergeConfigObj(e,t){var i=a(t)?h.getDataAttribute(t,"config"):{};return{...this.constructor.Default,..."object"==typeof i?i:{},...a(t)?h.getDataAttributes(t):{},..."object"==typeof e?e:{}}}_typeCheckConfig(i,e=this.constructor.DefaultType){for(var[s,o]of Object.entries(e)){let e=i[s],t=a(e)?"element":null==(n=e)?""+n:Object.prototype.toString.call(n).match(/\s([a-z]+)/i)[1].toLowerCase();if(!new RegExp(o).test(t))throw new TypeError(`${this.constructor.NAME.toUpperCase()}: Option "${s}" provided type "${t}" but expected type "${o}".`)}var n}}class t extends he{constructor(e,t){super(),(e=o(e))&&(this._element=e,this._config=this._getConfig(t),N.set(this._element,this.constructor.DATA_KEY,this))}dispose(){N.remove(this._element,this.constructor.DATA_KEY),m.off(this._element,this.constructor.EVENT_KEY);for(var e of Object.getOwnPropertyNames(this))this[e]=null}_queueCallback(e,t,i=!0){V(e,t,i)}_getConfig(e){return e=this._mergeConfigObj(e,this._element),e=this._configAfterMerge(e),this._typeCheckConfig(e),e}static getInstance(e){return N.get(o(e),this.DATA_KEY)}static getOrCreateInstance(e,t={}){return this.getInstance(e)||new this(e,"object"==typeof t?t:null)}static get VERSION(){return"5.3.3"}static get DATA_KEY(){return"bs."+this.NAME}static get EVENT_KEY(){return"."+this.DATA_KEY}static eventName(e){return""+e+this.EVENT_KEY}}let ce=t=>{let i=t.getAttribute("data-bs-target");if(!i||"#"===i){let e=t.getAttribute("href");if(!e||!e.includes("#")&&!e.startsWith("."))return null;e.includes("#")&&!e.startsWith("#")&&(e="#"+e.split("#")[1]),i=e&&"#"!==e?e.trim():null}return i?i.split(",").map(e=>B(e)).join(","):null},c={find:(e,t=document.documentElement)=>[].concat(...Element.prototype.querySelectorAll.call(t,e)),findOne:(e,t=document.documentElement)=>Element.prototype.querySelector.call(t,e),children:(e,t)=>[].concat(...e.children).filter(e=>e.matches(t)),parents(e,t){var i=[];let s=e.parentNode.closest(t);for(;s;)i.push(s),s=s.parentNode.closest(t);return i},prev(e,t){let i=e.previousElementSibling;for(;i;){if(i.matches(t))return[i];i=i.previousElementSibling}return[]},next(e,t){let i=e.nextElementSibling;for(;i;){if(i.matches(t))return[i];i=i.nextElementSibling}return[]},focusableChildren(e){var t=["a","button","input","textarea","select","details","[tabindex]",'[contenteditable="true"]'].map(e=>e+':not([tabindex^="-"])').join(",");return this.find(t,e).filter(e=>!r(e)&&n(e))},getSelectorFromElement(e){e=ce(e);return e&&c.findOne(e)?e:null},getElementFromSelector(e){e=ce(e);return e?c.findOne(e):null},getMultipleElementsFromSelector(e){e=ce(e);return e?c.find(e):[]}},ue=(t,i="hide")=>{let e="click.dismiss"+t.EVENT_KEY,s=t.NAME;m.on(document,e,`[data-bs-dismiss="${s}"]`,function(e){["A","AREA"].includes(this.tagName)&&e.preventDefault(),r(this)||(e=c.getElementFromSelector(this)||this.closest("."+s),t.getOrCreateInstance(e)[i]())})};class pe extends t{static get NAME(){return"alert"}close(){var e;m.trigger(this._element,"close.bs.alert").defaultPrevented||(this._element.classList.remove("show"),e=this._element.classList.contains("fade"),this._queueCallback(()=>this._destroyElement(),this._element,e))}_destroyElement(){this._element.remove(),m.trigger(this._element,"closed.bs.alert"),this.dispose()}static jQueryInterface(t){return this.each(function(){var e=pe.getOrCreateInstance(this);if("string"==typeof t){if(void 0===e[t]||t.startsWith("_")||"constructor"===t)throw new TypeError(`No method named "${t}"`);e[t](this)}})}}ue(pe,"close"),e(pe);let me='[data-bs-toggle="button"]';class ge extends t{static get NAME(){return"button"}toggle(){this._element.setAttribute("aria-pressed",this._element.classList.toggle("active"))}static jQueryInterface(t){return this.each(function(){var e=ge.getOrCreateInstance(this);"toggle"===t&&e[t]()})}}m.on(document,"click.bs.button.data-api",me,e=>{e.preventDefault();e=e.target.closest(me);ge.getOrCreateInstance(e).toggle()}),e(ge);let i=".bs.swipe",fe=(i,i,i,i,i,{endCallback:null,leftCallback:null,rightCallback:null}),be={endCallback:"(function|null)",leftCallback:"(function|null)",rightCallback:"(function|null)"};class _e extends he{constructor(e,t){super(),(this._element=e)&&_e.isSupported()&&(this._config=this._getConfig(t),this._deltaX=0,this._supportPointerEvents=Boolean(window.PointerEvent),this._initEvents())}static get Default(){return fe}static get DefaultType(){return be}static get NAME(){return"swipe"}dispose(){m.off(this._element,i)}_start(e){this._supportPointerEvents?this._eventIsPointerPenTouch(e)&&(this._deltaX=e.clientX):this._deltaX=e.touches[0].clientX}_end(e){this._eventIsPointerPenTouch(e)&&(this._deltaX=e.clientX-this._deltaX),this._handleSwipe(),d(this._config.endCallback)}_move(e){this._deltaX=e.touches&&1<e.touches.length?0:e.touches[0].clientX-this._deltaX}_handleSwipe(){var e=Math.abs(this._deltaX);e<=40||(e=e/this._deltaX,this._deltaX=0,e&&d(0<e?this._config.rightCallback:this._config.leftCallback))}_initEvents(){this._supportPointerEvents?(m.on(this._element,"pointerdown.bs.swipe",e=>this._start(e)),m.on(this._element,"pointerup.bs.swipe",e=>this._end(e)),this._element.classList.add("pointer-event")):(m.on(this._element,"touchstart.bs.swipe",e=>this._start(e)),m.on(this._element,"touchmove.bs.swipe",e=>this._move(e)),m.on(this._element,"touchend.bs.swipe",e=>this._end(e)))}_eventIsPointerPenTouch(e){return this._supportPointerEvents&&("pen"===e.pointerType||"touch"===e.pointerType)}static isSupported(){return"ontouchstart"in document.documentElement||0<navigator.maxTouchPoints}}let ve=".bs.carousel",we="next",u="prev",p="left",ye="right",Se="slid"+ve,Ce="carousel",De="active",$e=".active",Ie=".carousel-item",xe=($e,Ie,{ArrowLeft:ye,ArrowRight:p}),Te={interval:5e3,keyboard:!0,pause:"hover",ride:!1,touch:!0,wrap:!0},ke={interval:"(number|boolean)",keyboard:"boolean",pause:"(string|boolean)",ride:"(boolean|string)",touch:"boolean",wrap:"boolean"};class Oe extends t{constructor(e,t){super(e,t),this._interval=null,this._activeElement=null,this._isSliding=!1,this.touchTimeout=null,this._swipeHelper=null,this._indicatorsElement=c.findOne(".carousel-indicators",this._element),this._addEventListeners(),this._config.ride===Ce&&this.cycle()}static get Default(){return Te}static get DefaultType(){return ke}static get NAME(){return"carousel"}next(){this._slide(we)}nextWhenVisible(){!document.hidden&&n(this._element)&&this.next()}prev(){this._slide(u)}pause(){this._isSliding&&z(this._element),this._clearInterval()}cycle(){this._clearInterval(),this._updateInterval(),this._interval=setInterval(()=>this.nextWhenVisible(),this._config.interval)}_maybeEnableCycle(){this._config.ride&&(this._isSliding?m.one(this._element,Se,()=>this.cycle()):this.cycle())}to(e){var t,i=this._getItems();e>i.length-1||e<0||(this._isSliding?m.one(this._element,Se,()=>this.to(e)):(t=this._getItemIndex(this._getActive()))!==e&&(t=t<e?we:u,this._slide(t,i[e])))}dispose(){this._swipeHelper&&this._swipeHelper.dispose(),super.dispose()}_configAfterMerge(e){return e.defaultInterval=e.interval,e}_addEventListeners(){this._config.keyboard&&m.on(this._element,"keydown.bs.carousel",e=>this._keydown(e)),"hover"===this._config.pause&&(m.on(this._element,"mouseenter.bs.carousel",()=>this.pause()),m.on(this._element,"mouseleave.bs.carousel",()=>this._maybeEnableCycle())),this._config.touch&&_e.isSupported()&&this._addTouchEventListeners()}_addTouchEventListeners(){for(let e of c.find(".carousel-item img",this._element))m.on(e,"dragstart.bs.carousel",e=>e.preventDefault());let e={leftCallback:()=>this._slide(this._directionToOrder(p)),rightCallback:()=>this._slide(this._directionToOrder(ye)),endCallback:()=>{"hover"===this._config.pause&&(this.pause(),this.touchTimeout&&clearTimeout(this.touchTimeout),this.touchTimeout=setTimeout(()=>this._maybeEnableCycle(),500+this._config.interval))}};this._swipeHelper=new _e(this._element,e)}_keydown(e){var t;/input|textarea/i.test(e.target.tagName)||(t=xe[e.key])&&(e.preventDefault(),this._slide(this._directionToOrder(t)))}_getItemIndex(e){return this._getItems().indexOf(e)}_setActiveIndicatorElement(e){var t;this._indicatorsElement&&((t=c.findOne($e,this._indicatorsElement)).classList.remove(De),t.removeAttribute("aria-current"),t=c.findOne(`[data-bs-slide-to="${e}"]`,this._indicatorsElement))&&(t.classList.add(De),t.setAttribute("aria-current","true"))}_updateInterval(){var e=this._activeElement||this._getActive();e&&(e=Number.parseInt(e.getAttribute("data-bs-interval"),10),this._config.interval=e||this._config.defaultInterval)}_slide(t,r=null){if(!this._isSliding){let o=this._getActive(),n=t===we,a=r||q(this._getItems(),o,n,this._config.wrap);if(a!==o){let i=this._getItemIndex(a),s=e=>m.trigger(this._element,e,{relatedTarget:a,direction:this._orderToDirection(t),from:this._getItemIndex(o),to:i});if(!s("slide.bs.carousel").defaultPrevented&&o&&a){r=Boolean(this._interval);this.pause(),this._isSliding=!0,this._setActiveIndicatorElement(i),this._activeElement=a;let e=n?"carousel-item-start":"carousel-item-end",t=n?"carousel-item-next":"carousel-item-prev";a.classList.add(t),R(a),o.classList.add(e),a.classList.add(e),this._queueCallback(()=>{a.classList.remove(e,t),a.classList.add(De),o.classList.remove(De,t,e),this._isSliding=!1,s(Se)},o,this._isAnimated()),r&&this.cycle()}}}}_isAnimated(){return this._element.classList.contains("slide")}_getActive(){return c.findOne(".active.carousel-item",this._element)}_getItems(){return c.find(Ie,this._element)}_clearInterval(){this._interval&&(clearInterval(this._interval),this._interval=null)}_directionToOrder(e){return l()?e===p?u:we:e===p?we:u}_orderToDirection(e){return l()?e===u?p:ye:e===u?ye:p}static jQueryInterface(t){return this.each(function(){var e=Oe.getOrCreateInstance(this,t);if("number"!=typeof t){if("string"==typeof t){if(void 0===e[t]||t.startsWith("_")||"constructor"===t)throw new TypeError(`No method named "${t}"`);e[t]()}}else e.to(t)})}}m.on(document,"click.bs.carousel.data-api","[data-bs-slide], [data-bs-slide-to]",function(e){var t=c.getElementFromSelector(this);t&&t.classList.contains(Ce)&&(e.preventDefault(),e=Oe.getOrCreateInstance(t),(t=this.getAttribute("data-bs-slide-to"))?e.to(t):"next"===h.getDataAttribute(this,"slide")?e.next():e.prev(),e._maybeEnableCycle())}),m.on(window,"load.bs.carousel.data-api",()=>{var e;for(e of c.find('[data-bs-ride="carousel"]'))Oe.getOrCreateInstance(e)}),e(Oe);let je="show",g="collapse",Ae="collapsing",Le=(g,g,'[data-bs-toggle="collapse"]'),Pe={parent:null,toggle:!0},Ee={parent:"(null|element)",toggle:"boolean"};class Ne extends t{constructor(e,t){super(e,t),this._isTransitioning=!1,this._triggerArray=[];let s=c.find(Le);for(let i of s){let e=c.getSelectorFromElement(i),t=c.find(e).filter(e=>e===this._element);null!==e&&t.length&&this._triggerArray.push(i)}this._initializeChildren(),this._config.parent||this._addAriaAndCollapsedClass(this._triggerArray,this._isShown()),this._config.toggle&&this.toggle()}static get Default(){return Pe}static get DefaultType(){return Ee}static get NAME(){return"collapse"}toggle(){this._isShown()?this.hide():this.show()}show(){if(!this._isTransitioning&&!this._isShown()){let t=[];if(!((t=this._config.parent?this._getFirstLevelChildren(".collapse.show, .collapse.collapsing").filter(e=>e!==this._element).map(e=>Ne.getOrCreateInstance(e,{toggle:!1})):t).length&&t[0]._isTransitioning||m.trigger(this._element,"show.bs.collapse").defaultPrevented)){for(let e of t)e.hide();let e=this._getDimension();this._element.classList.remove(g),this._element.classList.add(Ae),this._element.style[e]=0,this._addAriaAndCollapsedClass(this._triggerArray,!0),this._isTransitioning=!0;var i="scroll"+(e[0].toUpperCase()+e.slice(1));this._queueCallback(()=>{this._isTransitioning=!1,this._element.classList.remove(Ae),this._element.classList.add(g,je),this._element.style[e]="",m.trigger(this._element,"shown.bs.collapse")},this._element,!0),this._element.style[e]=this._element[i]+"px"}}}hide(){if(!this._isTransitioning&&this._isShown()&&!m.trigger(this._element,"hide.bs.collapse").defaultPrevented){let e=this._getDimension();this._element.style[e]=this._element.getBoundingClientRect()[e]+"px",R(this._element),this._element.classList.add(Ae),this._element.classList.remove(g,je);for(let e of this._triggerArray){var t=c.getElementFromSelector(e);t&&!this._isShown(t)&&this._addAriaAndCollapsedClass([e],!1)}this._isTransitioning=!0,this._element.style[e]="",this._queueCallback(()=>{this._isTransitioning=!1,this._element.classList.remove(Ae),this._element.classList.add(g),m.trigger(this._element,"hidden.bs.collapse")},this._element,!0)}}_isShown(e=this._element){return e.classList.contains(je)}_configAfterMerge(e){return e.toggle=Boolean(e.toggle),e.parent=o(e.parent),e}_getDimension(){return this._element.classList.contains("collapse-horizontal")?"width":"height"}_initializeChildren(){if(this._config.parent){let e=this._getFirstLevelChildren(Le);for(var t of e){let e=c.getElementFromSelector(t);e&&this._addAriaAndCollapsedClass([t],this._isShown(e))}}}_getFirstLevelChildren(e){let t=c.find(":scope .collapse .collapse",this._config.parent);return c.find(e,this._config.parent).filter(e=>!t.includes(e))}_addAriaAndCollapsedClass(e,t){if(e.length)for(var i of e)i.classList.toggle("collapsed",!t),i.setAttribute("aria-expanded",t)}static jQueryInterface(t){let i={};return"string"==typeof t&&/show|hide/.test(t)&&(i.toggle=!1),this.each(function(){var e=Ne.getOrCreateInstance(this,i);if("string"==typeof t){if(void 0===e[t])throw new TypeError(`No method named "${t}"`);e[t]()}})}}m.on(document,"click.bs.collapse.data-api",Le,function(e){("A"===e.target.tagName||e.delegateTarget&&"A"===e.delegateTarget.tagName)&&e.preventDefault();for(let e of c.getMultipleElementsFromSelector(this))Ne.getOrCreateInstance(e,{toggle:!1}).toggle()}),e(Ne);var x="top",T="bottom",k="right",O="left",Me="auto",j=[x,T,k,O],A="start",v="end",Be="clippingParents",ze="viewport",He="popper",Ue="reference",Re=j.reduce(function(e,t){return e.concat([t+"-"+A,t+"-"+v])},[]),We=[].concat(j,[Me]).reduce(function(e,t){return e.concat([t,t+"-"+A,t+"-"+v])},[]),Fe="beforeRead",Ve="afterRead",qe="beforeMain",Ge="afterMain",Ke="beforeWrite",Qe="afterWrite",Ye=[Fe,"read",Ve,qe,"main",Ge,Ke,"write",Qe];function f(e){return e?(e.nodeName||"").toLowerCase():null}function w(e){var t;return null==e?window:"[object Window]"!==e.toString()?(t=e.ownerDocument)&&t.defaultView||window:e}function b(e){return e instanceof w(e).Element||e instanceof Element}function _(e){return e instanceof w(e).HTMLElement||e instanceof HTMLElement}function Xe(e){return"undefined"!=typeof ShadowRoot&&(e instanceof w(e).ShadowRoot||e instanceof ShadowRoot)}var Je={name:"applyStyles",enabled:!0,phase:"write",fn:function(e){var o=e.state;Object.keys(o.elements).forEach(function(e){var t=o.styles[e]||{},i=o.attributes[e]||{},s=o.elements[e];_(s)&&f(s)&&(Object.assign(s.style,t),Object.keys(i).forEach(function(e){var t=i[e];!1===t?s.removeAttribute(e):s.setAttribute(e,!0===t?"":t)}))})},effect:function(e){var s=e.state,o={popper:{position:s.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(s.elements.popper.style,o.popper),s.styles=o,s.elements.arrow&&Object.assign(s.elements.arrow.style,o.arrow),function(){Object.keys(s.elements).forEach(function(e){var t=s.elements[e],i=s.attributes[e]||{},e=Object.keys((s.styles.hasOwnProperty(e)?s.styles:o)[e]).reduce(function(e,t){return e[t]="",e},{});_(t)&&f(t)&&(Object.assign(t.style,e),Object.keys(i).forEach(function(e){t.removeAttribute(e)}))})}},requires:["computeStyles"]};function L(e){return e.split("-")[0]}var I=Math.max,Ze=Math.min,et=Math.round;function tt(){var e=navigator.userAgentData;return null!=e&&e.brands&&Array.isArray(e.brands)?e.brands.map(function(e){return e.brand+"/"+e.version}).join(" "):navigator.userAgent}function it(){return!/^((?!chrome|android).)*safari/i.test(tt())}function st(e,t,i){void 0===t&&(t=!1),void 0===i&&(i=!1);var s=e.getBoundingClientRect(),o=1,n=1,t=(t&&_(e)&&(o=0<e.offsetWidth&&et(s.width)/e.offsetWidth||1,n=0<e.offsetHeight&&et(s.height)/e.offsetHeight||1),(b(e)?w(e):window).visualViewport),e=!it()&&i,i=(s.left+(e&&t?t.offsetLeft:0))/o,e=(s.top+(e&&t?t.offsetTop:0))/n,t=s.width/o,o=s.height/n;return{width:t,height:o,top:e,right:i+t,bottom:e+o,left:i,x:i,y:e}}function ot(e){var t=st(e),i=e.offsetWidth,s=e.offsetHeight;return Math.abs(t.width-i)<=1&&(i=t.width),Math.abs(t.height-s)<=1&&(s=t.height),{x:e.offsetLeft,y:e.offsetTop,width:i,height:s}}function nt(e,t){var i=t.getRootNode&&t.getRootNode();if(e.contains(t))return!0;if(i&&Xe(i)){var s=t;do{if(s&&e.isSameNode(s))return!0}while(s=s.parentNode||s.host)}return!1}function y(e){return w(e).getComputedStyle(e)}function S(e){return((b(e)?e.ownerDocument:e.document)||window.document).documentElement}function at(e){return"html"===f(e)?e:e.assignedSlot||e.parentNode||(Xe(e)?e.host:null)||S(e)}function rt(e){return _(e)&&"fixed"!==y(e).position?e.offsetParent:null}function lt(e){for(var t,i=w(e),s=rt(e);s&&(t=s,0<=["table","td","th"].indexOf(f(t)))&&"static"===y(s).position;)s=rt(s);return(!s||"html"!==f(s)&&("body"!==f(s)||"static"!==y(s).position))&&(s||function(e){var t=/firefox/i.test(tt());if(!/Trident/i.test(tt())||!_(e)||"fixed"!==y(e).position){var i=at(e);for(Xe(i)&&(i=i.host);_(i)&&["html","body"].indexOf(f(i))<0;){var s=y(i);if("none"!==s.transform||"none"!==s.perspective||"paint"===s.contain||-1!==["transform","perspective"].indexOf(s.willChange)||t&&"filter"===s.willChange||t&&s.filter&&"none"!==s.filter)return i;i=i.parentNode}}return null}(e))||i}function dt(e){return 0<=["top","bottom"].indexOf(e)?"x":"y"}function ht(e,t,i){return I(e,Ze(t,i))}function ct(e){return Object.assign({},{top:0,right:0,bottom:0,left:0},e)}function ut(i,e){return e.reduce(function(e,t){return e[t]=i,e},{})}var pt={name:"arrow",enabled:!0,phase:"main",fn:function(e){var t,i,s,o,n=e.state,a=e.name,e=e.options,r=n.elements.arrow,l=n.modifiersData.popperOffsets,d=L(n.placement),h=dt(d),d=0<=[O,k].indexOf(d)?"height":"width";r&&l&&(e=ct("number"!=typeof(e="function"==typeof(e=e.padding)?e(Object.assign({},n.rects,{placement:n.placement})):e)?e:ut(e,j)),t=ot(r),o="y"===h?x:O,s="y"===h?T:k,i=n.rects.reference[d]+n.rects.reference[h]-l[h]-n.rects.popper[d],l=l[h]-n.rects.reference[h],r=(r=lt(r))?"y"===h?r.clientHeight||0:r.clientWidth||0:0,o=e[o],e=r-t[d]-e[s],o=ht(o,s=r/2-t[d]/2+(i/2-l/2),e),n.modifiersData[a]=((r={})[h]=o,r.centerOffset=o-s,r))},effect:function(e){var t=e.state,e=e.options.element,e=void 0===e?"[data-popper-arrow]":e;null!=e&&("string"!=typeof e||(e=t.elements.popper.querySelector(e)))&&nt(t.elements.popper,e)&&(t.elements.arrow=e)},requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function mt(e){return e.split("-")[1]}var gt={top:"auto",right:"auto",bottom:"auto",left:"auto"};function ft(e){var t=e.popper,i=e.popperRect,s=e.placement,o=e.variation,n=e.offsets,a=e.position,r=e.gpuAcceleration,l=e.adaptive,d=e.roundOffsets,e=e.isFixed,h=n.x,h=void 0===h?0:h,c=n.y,c=void 0===c?0:c,u="function"==typeof d?d({x:h,y:c}):{x:h,y:c},h=u.x,c=u.y,u=n.hasOwnProperty("x"),n=n.hasOwnProperty("y"),p=O,m=x,g=window;l&&(b="clientHeight",f="clientWidth",(_=lt(t))===w(t)&&"static"!==y(_=S(t)).position&&"absolute"===a&&(b="scrollHeight",f="scrollWidth"),s!==x&&(s!==O&&s!==k||o!==v)||(m=T,c=(c-((e&&_===g&&g.visualViewport?g.visualViewport.height:_[b])-i.height))*(r?1:-1)),s!==O&&(s!==x&&s!==T||o!==v)||(p=k,h=(h-((e&&_===g&&g.visualViewport?g.visualViewport.width:_[f])-i.width))*(r?1:-1)));var f,b=Object.assign({position:a},l&&gt),_=!0===d?(s={x:h,y:c},o=w(t),e=s.y,o=o.devicePixelRatio||1,{x:et(s.x*o)/o||0,y:et(e*o)/o||0}):{x:h,y:c};return h=_.x,c=_.y,r?Object.assign({},b,((f={})[m]=n?"0":"",f[p]=u?"0":"",f.transform=(g.devicePixelRatio||1)<=1?"translate("+h+"px, "+c+"px)":"translate3d("+h+"px, "+c+"px, 0)",f)):Object.assign({},b,((i={})[m]=n?c+"px":"",i[p]=u?h+"px":"",i.transform="",i))}var bt={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:function(e){var t=e.state,e=e.options,i=e.gpuAcceleration,i=void 0===i||i,s=e.adaptive,s=void 0===s||s,e=e.roundOffsets,e=void 0===e||e,i={placement:L(t.placement),variation:mt(t.placement),popper:t.elements.popper,popperRect:t.rects.popper,gpuAcceleration:i,isFixed:"fixed"===t.options.strategy};null!=t.modifiersData.popperOffsets&&(t.styles.popper=Object.assign({},t.styles.popper,ft(Object.assign({},i,{offsets:t.modifiersData.popperOffsets,position:t.options.strategy,adaptive:s,roundOffsets:e})))),null!=t.modifiersData.arrow&&(t.styles.arrow=Object.assign({},t.styles.arrow,ft(Object.assign({},i,{offsets:t.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:e})))),t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-placement":t.placement})},data:{}},_t={passive:!0},vt={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:function(e){var t=e.state,i=e.instance,e=e.options,s=e.scroll,o=void 0===s||s,s=e.resize,n=void 0===s||s,a=w(t.elements.popper),r=[].concat(t.scrollParents.reference,t.scrollParents.popper);return o&&r.forEach(function(e){e.addEventListener("scroll",i.update,_t)}),n&&a.addEventListener("resize",i.update,_t),function(){o&&r.forEach(function(e){e.removeEventListener("scroll",i.update,_t)}),n&&a.removeEventListener("resize",i.update,_t)}},data:{}},wt={left:"right",right:"left",bottom:"top",top:"bottom"};function yt(e){return e.replace(/left|right|bottom|top/g,function(e){return wt[e]})}var St={start:"end",end:"start"};function Ct(e){return e.replace(/start|end/g,function(e){return St[e]})}function Dt(e){e=w(e);return{scrollLeft:e.pageXOffset,scrollTop:e.pageYOffset}}function $t(e){return st(S(e)).left+Dt(e).scrollLeft}function It(e){var e=y(e),t=e.overflow,i=e.overflowX,e=e.overflowY;return/auto|scroll|overlay|hidden/.test(t+e+i)}function xt(e,t){void 0===t&&(t=[]);var i=function e(t){return 0<=["html","body","#document"].indexOf(f(t))?t.ownerDocument.body:_(t)&&It(t)?t:e(at(t))}(e),e=i===(null==(e=e.ownerDocument)?void 0:e.body),s=w(i),s=e?[s].concat(s.visualViewport||[],It(i)?i:[]):i,i=t.concat(s);return e?i:i.concat(xt(at(s)))}function Tt(e){return Object.assign({},e,{left:e.x,top:e.y,right:e.x+e.width,bottom:e.y+e.height})}function kt(e,t,i){return t===ze?Tt((o=i,a=w(s=e),r=S(s),a=a.visualViewport,l=r.clientWidth,r=r.clientHeight,h=d=0,a&&(l=a.width,r=a.height,(n=it())||!n&&"fixed"===o)&&(d=a.offsetLeft,h=a.offsetTop),{width:l,height:r,x:d+$t(s),y:h})):b(t)?((o=st(n=t,!1,"fixed"===i)).top=o.top+n.clientTop,o.left=o.left+n.clientLeft,o.bottom=o.top+n.clientHeight,o.right=o.left+n.clientWidth,o.width=n.clientWidth,o.height=n.clientHeight,o.x=o.left,o.y=o.top,o):Tt((a=S(e),l=S(a),r=Dt(a),d=null==(d=a.ownerDocument)?void 0:d.body,s=I(l.scrollWidth,l.clientWidth,d?d.scrollWidth:0,d?d.clientWidth:0),h=I(l.scrollHeight,l.clientHeight,d?d.scrollHeight:0,d?d.clientHeight:0),a=-r.scrollLeft+$t(a),r=-r.scrollTop,"rtl"===y(d||l).direction&&(a+=I(l.clientWidth,d?d.clientWidth:0)-s),{width:s,height:h,x:a,y:r}));var s,o,n,a,r,l,d,h}function Ot(e){var t,i=e.reference,s=e.element,e=e.placement,o=e?L(e):null,e=e?mt(e):null,n=i.x+i.width/2-s.width/2,a=i.y+i.height/2-s.height/2;switch(o){case x:t={x:n,y:i.y-s.height};break;case T:t={x:n,y:i.y+i.height};break;case k:t={x:i.x+i.width,y:a};break;case O:t={x:i.x-s.width,y:a};break;default:t={x:i.x,y:i.y}}var r=o?dt(o):null;if(null!=r){var l="y"===r?"height":"width";switch(e){case A:t[r]=t[r]-(i[l]/2-s[l]/2);break;case v:t[r]=t[r]+(i[l]/2-s[l]/2)}}return t}function jt(e,t){var i,s,o,n,a,r,t=t=void 0===t?{}:t,l=t.placement,l=void 0===l?e.placement:l,d=t.strategy,d=void 0===d?e.strategy:d,h=t.boundary,h=void 0===h?Be:h,c=t.rootBoundary,c=void 0===c?ze:c,u=t.elementContext,u=void 0===u?He:u,p=t.altBoundary,p=void 0!==p&&p,t=t.padding,t=void 0===t?0:t,t=ct("number"!=typeof t?t:ut(t,j)),m=e.rects.popper,p=e.elements[p?u===He?Ue:He:u],d=(i=b(p)?p:p.contextElement||S(e.elements.popper),p=c,s=d,n="clippingParents"===(c=h)?(a=xt(at(n=i)),b(o=0<=["absolute","fixed"].indexOf(y(n).position)&&_(n)?lt(n):n)?a.filter(function(e){return b(e)&&nt(e,o)&&"body"!==f(e)}):[]):[].concat(c),a=[].concat(n,[p]),c=a[0],(p=a.reduce(function(e,t){t=kt(i,t,s);return e.top=I(t.top,e.top),e.right=Ze(t.right,e.right),e.bottom=Ze(t.bottom,e.bottom),e.left=I(t.left,e.left),e},kt(i,c,s))).width=p.right-p.left,p.height=p.bottom-p.top,p.x=p.left,p.y=p.top,p),h=st(e.elements.reference),c=Ot({reference:h,element:m,strategy:"absolute",placement:l}),p=Tt(Object.assign({},m,c)),m=u===He?p:h,g={top:d.top-m.top+t.top,bottom:m.bottom-d.bottom+t.bottom,left:d.left-m.left+t.left,right:m.right-d.right+t.right},c=e.modifiersData.offset;return u===He&&c&&(r=c[l],Object.keys(g).forEach(function(e){var t=0<=[k,T].indexOf(e)?1:-1,i=0<=[x,T].indexOf(e)?"y":"x";g[e]+=r[i]*t})),g}var At={name:"flip",enabled:!0,phase:"main",fn:function(e){var c=e.state,t=e.options,e=e.name;if(!c.modifiersData[e]._skip){for(var i=t.mainAxis,s=void 0===i||i,i=t.altAxis,o=void 0===i||i,i=t.fallbackPlacements,u=t.padding,p=t.boundary,m=t.rootBoundary,n=t.altBoundary,a=t.flipVariations,g=void 0===a||a,f=t.allowedAutoPlacements,a=c.options.placement,t=L(a),i=i||(t!==a&&g?L(i=a)===Me?[]:(t=yt(i),[Ct(i),t,Ct(t)]):[yt(a)]),r=[a].concat(i).reduce(function(e,t){return e.concat(L(t)===Me?(i=c,s=(e=e=void 0===(e={placement:t,boundary:p,rootBoundary:m,padding:u,flipVariations:g,allowedAutoPlacements:f})?{}:e).placement,o=e.boundary,n=e.rootBoundary,a=e.padding,r=e.flipVariations,l=void 0===(e=e.allowedAutoPlacements)?We:e,d=mt(s),e=d?r?Re:Re.filter(function(e){return mt(e)===d}):j,h=(s=0===(s=e.filter(function(e){return 0<=l.indexOf(e)})).length?e:s).reduce(function(e,t){return e[t]=jt(i,{placement:t,boundary:o,rootBoundary:n,padding:a})[L(t)],e},{}),Object.keys(h).sort(function(e,t){return h[e]-h[t]})):t);var i,s,o,n,a,r,l,d,h},[]),l=c.rects.reference,d=c.rects.popper,h=new Map,b=!0,_=r[0],v=0;v<r.length;v++){var w=r[v],y=L(w),S=mt(w)===A,C=0<=[x,T].indexOf(y),D=C?"width":"height",$=jt(c,{placement:w,boundary:p,rootBoundary:m,altBoundary:n,padding:u}),C=C?S?k:O:S?T:x,S=(l[D]>d[D]&&(C=yt(C)),yt(C)),D=[];if(s&&D.push($[y]<=0),o&&D.push($[C]<=0,$[S]<=0),D.every(function(e){return e})){_=w,b=!1;break}h.set(w,D)}if(b)for(var I=g?3:1;0<I&&"break"!==function(t){var e=r.find(function(e){e=h.get(e);if(e)return e.slice(0,t).every(function(e){return e})});if(e)return _=e,"break"}(I);I--);c.placement!==_&&(c.modifiersData[e]._skip=!0,c.placement=_,c.reset=!0)}},requiresIfExists:["offset"],data:{_skip:!1}};function Lt(e,t,i){return{top:e.top-t.height-(i=void 0===i?{x:0,y:0}:i).y,right:e.right-t.width+i.x,bottom:e.bottom-t.height+i.y,left:e.left-t.width-i.x}}function Pt(t){return[x,k,T,O].some(function(e){return 0<=t[e]})}var Et={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:function(e){var t=e.state,e=e.name,i=t.rects.reference,s=t.rects.popper,o=t.modifiersData.preventOverflow,n=jt(t,{elementContext:"reference"}),a=jt(t,{altBoundary:!0}),n=Lt(n,i),i=Lt(a,s,o),a=Pt(n),s=Pt(i);t.modifiersData[e]={referenceClippingOffsets:n,popperEscapeOffsets:i,isReferenceHidden:a,hasPopperEscaped:s},t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-reference-hidden":a,"data-popper-escaped":s})}},Nt={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:function(e){var a=e.state,t=e.options,e=e.name,t=t.offset,r=void 0===t?[0,0]:t,t=We.reduce(function(e,t){return e[t]=(t=t,i=a.rects,s=r,o=L(t),n=0<=[O,x].indexOf(o)?-1:1,i="function"==typeof s?s(Object.assign({},i,{placement:t})):s,t=i[0]||0,s=(i[1]||0)*n,0<=[O,k].indexOf(o)?{x:s,y:t}:{x:t,y:s}),e;var i,s,o,n},{}),i=t[a.placement],s=i.x,i=i.y;null!=a.modifiersData.popperOffsets&&(a.modifiersData.popperOffsets.x+=s,a.modifiersData.popperOffsets.y+=i),a.modifiersData[e]=t}},Mt={name:"popperOffsets",enabled:!0,phase:"read",fn:function(e){var t=e.state,e=e.name;t.modifiersData[e]=Ot({reference:t.rects.reference,element:t.rects.popper,strategy:"absolute",placement:t.placement})},data:{}},Bt={name:"preventOverflow",enabled:!0,phase:"main",fn:function(e){var t,i,s,o,n,a,r,l,d,h=e.state,c=e.options,e=e.name,u=c.mainAxis,u=void 0===u||u,p=c.altAxis,p=void 0!==p&&p,m=c.boundary,g=c.rootBoundary,f=c.altBoundary,b=c.padding,_=c.tether,_=void 0===_||_,c=c.tetherOffset,c=void 0===c?0:c,m=jt(h,{boundary:m,rootBoundary:g,padding:b,altBoundary:f}),g=L(h.placement),b=mt(h.placement),f=!b,v=dt(g),w="x"===v?"y":"x",y=h.modifiersData.popperOffsets,S=h.rects.reference,C=h.rects.popper,c="function"==typeof c?c(Object.assign({},h.rects,{placement:h.placement})):c,c="number"==typeof c?{mainAxis:c,altAxis:c}:Object.assign({mainAxis:0,altAxis:0},c),D=h.modifiersData.offset?h.modifiersData.offset[h.placement]:null,$={x:0,y:0};y&&(u&&(u="y"===v?"height":"width",a=(r=y[v])+m[i="y"===v?x:O],l=r-m[d="y"===v?T:k],t=_?-C[u]/2:0,o=(b===A?S:C)[u],b=b===A?-C[u]:-S[u],n=h.elements.arrow,n=_&&n?ot(n):{width:0,height:0},i=(s=h.modifiersData["arrow#persistent"]?h.modifiersData["arrow#persistent"].padding:{top:0,right:0,bottom:0,left:0})[i],s=s[d],d=ht(0,S[u],n[u]),n=f?S[u]/2-t-d-i-c.mainAxis:o-d-i-c.mainAxis,o=f?-S[u]/2+t+d+s+c.mainAxis:b+d+s+c.mainAxis,f=(i=h.elements.arrow&&lt(h.elements.arrow))?"y"===v?i.clientTop||0:i.clientLeft||0:0,b=r+o-(t=null!=(u=null==D?void 0:D[v])?u:0),d=ht(_?Ze(a,r+n-t-f):a,r,_?I(l,b):l),y[v]=d,$[v]=d-r),p&&(s="y"==w?"height":"width",o=(i=y[w])+m["x"===v?x:O],u=i-m["x"===v?T:k],n=-1!==[x,O].indexOf(g),f=null!=(t=null==D?void 0:D[w])?t:0,a=n?o:i-S[s]-C[s]-f+c.altAxis,b=n?i+S[s]+C[s]-f-c.altAxis:u,r=_&&n?(d=ht(a,i,l=b),l<d?l:d):ht(_?a:o,i,_?b:u),y[w]=r,$[w]=r-i),h.modifiersData[e]=$)},requiresIfExists:["offset"]};function zt(e){var i=new Map,s=new Set,o=[];return e.forEach(function(e){i.set(e.name,e)}),e.forEach(function(e){s.has(e.name)||function t(e){s.add(e.name),[].concat(e.requires||[],e.requiresIfExists||[]).forEach(function(e){s.has(e)||(e=i.get(e))&&t(e)}),o.push(e)}(e)}),o}var Ht={placement:"bottom",modifiers:[],strategy:"absolute"};function Ut(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];return!t.some(function(e){return!(e&&"function"==typeof e.getBoundingClientRect)})}function Rt(e){var e=e=void 0===e?{}:e,t=e.defaultModifiers,l=void 0===t?[]:t,t=e.defaultOptions,d=void 0===t?Ht:t;return function(s,o,t){void 0===t&&(t=d);var i,n,p={placement:"bottom",orderedModifiers:[],options:Object.assign({},Ht,d),modifiersData:{},elements:{reference:s,popper:o},attributes:{},styles:{}},a=[],m=!1,g={state:p,setOptions:function(e){e="function"==typeof e?e(p.options):e;r(),p.options=Object.assign({},d,p.options,e),p.scrollParents={reference:b(s)?xt(s):s.contextElement?xt(s.contextElement):[],popper:xt(o)};e=[].concat(l,p.options.modifiers),t=e.reduce(function(e,t){var i=e[t.name];return e[t.name]=i?Object.assign({},i,t,{options:Object.assign({},i.options,t.options),data:Object.assign({},i.data,t.data)}):t,e},{}),i=zt(Object.keys(t).map(function(e){return t[e]}));var t,i,e=Ye.reduce(function(e,t){return e.concat(i.filter(function(e){return e.phase===t}))},[]);return p.orderedModifiers=e.filter(function(e){return e.enabled}),p.orderedModifiers.forEach(function(e){var t=e.name,i=e.options,e=e.effect;"function"==typeof e&&(e=e({state:p,name:t,instance:g,options:void 0===i?{}:i}),a.push(e||function(){}))}),g.update()},forceUpdate:function(){if(!m){var e=p.elements,t=e.reference,e=e.popper;if(Ut(t,e)){p.rects={reference:(t=t,a=lt(e),void 0===(r="fixed"===p.options.strategy)&&(r=!1),l=_(a),d=_(a)&&(c=(d=a).getBoundingClientRect(),h=et(c.width)/d.offsetWidth||1,c=et(c.height)/d.offsetHeight||1,1!==h||1!==c),h=S(a),c=st(t,d,r),t={scrollLeft:0,scrollTop:0},u={x:0,y:0},!l&&r||("body"===f(a)&&!It(h)||(t=(l=a)!==w(l)&&_(l)?{scrollLeft:l.scrollLeft,scrollTop:l.scrollTop}:Dt(l)),_(a)?((u=st(a,!0)).x+=a.clientLeft,u.y+=a.clientTop):h&&(u.x=$t(h))),{x:c.left+t.scrollLeft-u.x,y:c.top+t.scrollTop-u.y,width:c.width,height:c.height}),popper:ot(e)},p.reset=!1,p.placement=p.options.placement,p.orderedModifiers.forEach(function(e){return p.modifiersData[e.name]=Object.assign({},e.data)});for(var i,s,o,n=0;n<p.orderedModifiers.length;n++)!0!==p.reset?(i=(o=p.orderedModifiers[n]).fn,s=o.options,o=o.name,"function"==typeof i&&(p=i({state:p,options:void 0===s?{}:s,name:o,instance:g})||p)):(p.reset=!1,n=-1)}}var a,r,l,d,h,c,u},update:(i=function(){return new Promise(function(e){g.forceUpdate(),e(p)})},function(){return n=n||new Promise(function(e){Promise.resolve().then(function(){n=void 0,e(i())})})}),destroy:function(){r(),m=!0}};return Ut(s,o)&&g.setOptions(t).then(function(e){!m&&t.onFirstUpdate&&t.onFirstUpdate(e)}),g;function r(){a.forEach(function(e){return e()}),a=[]}}}var Wt=Rt(),Ft=Rt({defaultModifiers:[vt,Mt,bt,Je]}),Vt=Rt({defaultModifiers:[vt,Mt,bt,Je,Nt,At,Bt,pt,Et]});let qt=Object.freeze(Object.defineProperty({__proto__:null,afterMain:Ge,afterRead:Ve,afterWrite:Qe,applyStyles:Je,arrow:pt,auto:Me,basePlacements:j,beforeMain:qe,beforeRead:Fe,beforeWrite:Ke,bottom:T,clippingParents:Be,computeStyles:bt,createPopper:Vt,createPopperBase:Wt,createPopperLite:Ft,detectOverflow:jt,end:v,eventListeners:vt,flip:At,hide:Et,left:O,main:"main",modifierPhases:Ye,offset:Nt,placements:We,popper:He,popperGenerator:Rt,popperOffsets:Mt,preventOverflow:Bt,read:"read",reference:Ue,right:k,start:A,top:x,variationPlacements:Re,viewport:ze,write:"write"},Symbol.toStringTag,{value:"Module"})),Gt="dropdown",Kt=".bs.dropdown",Qt=".data-api",Yt="ArrowDown",Xt="click"+Kt+Qt,Jt="keydown"+Kt+Qt,Zt="show",C='[data-bs-toggle="dropdown"]:not(.disabled):not(:disabled)',ei=(C,".dropdown-menu"),ti=l()?"top-end":"top-start",ii=l()?"top-start":"top-end",si=l()?"bottom-end":"bottom-start",oi=l()?"bottom-start":"bottom-end",ni=l()?"left-start":"right-start",ai=l()?"right-start":"left-start",ri={autoClose:!0,boundary:"clippingParents",display:"dynamic",offset:[0,2],popperConfig:null,reference:"toggle"},li={autoClose:"(boolean|string)",boundary:"(string|element)",display:"string",offset:"(array|string|function)",popperConfig:"(null|object|function)",reference:"(string|element|object)"};class D extends t{constructor(e,t){super(e,t),this._popper=null,this._parent=this._element.parentNode,this._menu=c.next(this._element,ei)[0]||c.prev(this._element,ei)[0]||c.findOne(ei,this._parent),this._inNavbar=this._detectNavbar()}static get Default(){return ri}static get DefaultType(){return li}static get NAME(){return Gt}toggle(){return this._isShown()?this.hide():this.show()}show(){if(!r(this._element)&&!this._isShown()){let e={relatedTarget:this._element};if(!m.trigger(this._element,"show.bs.dropdown",e).defaultPrevented){if(this._createPopper(),"ontouchstart"in document.documentElement&&!this._parent.closest(".navbar-nav"))for(let e of[].concat(...document.body.children))m.on(e,"mouseover",U);this._element.focus(),this._element.setAttribute("aria-expanded",!0),this._menu.classList.add(Zt),this._element.classList.add(Zt),m.trigger(this._element,"shown.bs.dropdown",e)}}}hide(){var e;!r(this._element)&&this._isShown()&&(e={relatedTarget:this._element},this._completeHide(e))}dispose(){this._popper&&this._popper.destroy(),super.dispose()}update(){this._inNavbar=this._detectNavbar(),this._popper&&this._popper.update()}_completeHide(e){if(!m.trigger(this._element,"hide.bs.dropdown",e).defaultPrevented){if("ontouchstart"in document.documentElement)for(let e of[].concat(...document.body.children))m.off(e,"mouseover",U);this._popper&&this._popper.destroy(),this._menu.classList.remove(Zt),this._element.classList.remove(Zt),this._element.setAttribute("aria-expanded","false"),h.removeDataAttribute(this._menu,"popper"),m.trigger(this._element,"hidden.bs.dropdown",e)}}_getConfig(e){if("object"!=typeof(e=super._getConfig(e)).reference||a(e.reference)||"function"==typeof e.reference.getBoundingClientRect)return e;throw new TypeError(Gt.toUpperCase()+': Option "reference" provided type "object" without a required "getBoundingClientRect" method.')}_createPopper(){if(void 0===qt)throw new TypeError("Bootstrap's dropdowns require Popper (https://popper.js.org)");let e=this._element;"parent"===this._config.reference?e=this._parent:a(this._config.reference)?e=o(this._config.reference):"object"==typeof this._config.reference&&(e=this._config.reference);var t=this._getPopperConfig();this._popper=Vt(e,this._menu,t)}_isShown(){return this._menu.classList.contains(Zt)}_getPlacement(){var e,t=this._parent;return t.classList.contains("dropend")?ni:t.classList.contains("dropstart")?ai:t.classList.contains("dropup-center")?"top":t.classList.contains("dropdown-center")?"bottom":(e="end"===getComputedStyle(this._menu).getPropertyValue("--bs-position").trim(),t.classList.contains("dropup")?e?ii:ti:e?oi:si)}_detectNavbar(){return null!==this._element.closest(".navbar")}_getOffset(){let t=this._config["offset"];return"string"==typeof t?t.split(",").map(e=>Number.parseInt(e,10)):"function"==typeof t?e=>t(e,this._element):t}_getPopperConfig(){var e={placement:this._getPlacement(),modifiers:[{name:"preventOverflow",options:{boundary:this._config.boundary}},{name:"offset",options:{offset:this._getOffset()}}]};return!this._inNavbar&&"static"!==this._config.display||(h.setDataAttribute(this._menu,"popper","static"),e.modifiers=[{name:"applyStyles",enabled:!1}]),{...e,...d(this._config.popperConfig,[e])}}_selectMenuItem({key:e,target:t}){var i=c.find(".dropdown-menu .dropdown-item:not(.disabled):not(:disabled)",this._menu).filter(e=>n(e));i.length&&q(i,t,e===Yt,!i.includes(t)).focus()}static jQueryInterface(t){return this.each(function(){var e=D.getOrCreateInstance(this,t);if("string"==typeof t){if(void 0===e[t])throw new TypeError(`No method named "${t}"`);e[t]()}})}static clearMenus(t){if(2!==t.button&&("keyup"!==t.type||"Tab"===t.key)){let e=c.find('[data-bs-toggle="dropdown"]:not(.disabled):not(:disabled).show');for(var i of e){let e=D.getInstance(i);var s;e&&!1!==e._config.autoClose&&(s=(i=t.composedPath()).includes(e._menu),i.includes(e._element)||"inside"===e._config.autoClose&&!s||"outside"===e._config.autoClose&&s||e._menu.contains(t.target)&&("keyup"===t.type&&"Tab"===t.key||/input|select|option|textarea|form/i.test(t.target.tagName))||(i={relatedTarget:e._element},"click"===t.type&&(i.clickEvent=t),e._completeHide(i)))}}}static dataApiKeydownHandler(e){var t=/input|textarea/i.test(e.target.tagName),i="Escape"===e.key,s=["ArrowUp",Yt].includes(e.key);!s&&!i||t&&!i||(e.preventDefault(),t=this.matches(C)?this:c.prev(this,C)[0]||c.next(this,C)[0]||c.findOne(C,e.delegateTarget.parentNode),i=D.getOrCreateInstance(t),s?(e.stopPropagation(),i.show(),i._selectMenuItem(e)):i._isShown()&&(e.stopPropagation(),i.hide(),t.focus()))}}m.on(document,Jt,C,D.dataApiKeydownHandler),m.on(document,Jt,ei,D.dataApiKeydownHandler),m.on(document,Xt,D.clearMenus),m.on(document,"keyup.bs.dropdown.data-api",D.clearMenus),m.on(document,Xt,C,function(e){e.preventDefault(),D.getOrCreateInstance(this).toggle()}),e(D);let di="backdrop",hi="mousedown.bs."+di,ci={className:"modal-backdrop",clickCallback:null,isAnimated:!1,isVisible:!0,rootElement:"body"},ui={className:"string",clickCallback:"(function|null)",isAnimated:"boolean",isVisible:"boolean",rootElement:"(element|string)"};class pi extends he{constructor(e){super(),this._config=this._getConfig(e),this._isAppended=!1,this._element=null}static get Default(){return ci}static get DefaultType(){return ui}static get NAME(){return di}show(e){var t;this._config.isVisible?(this._append(),t=this._getElement(),this._config.isAnimated&&R(t),t.classList.add("show"),this._emulateAnimation(()=>{d(e)})):d(e)}hide(e){this._config.isVisible?(this._getElement().classList.remove("show"),this._emulateAnimation(()=>{this.dispose(),d(e)})):d(e)}dispose(){this._isAppended&&(m.off(this._element,hi),this._element.remove(),this._isAppended=!1)}_getElement(){var e;return this._element||((e=document.createElement("div")).className=this._config.className,this._config.isAnimated&&e.classList.add("fade"),this._element=e),this._element}_configAfterMerge(e){return e.rootElement=o(e.rootElement),e}_append(){var e;this._isAppended||(e=this._getElement(),this._config.rootElement.append(e),m.on(e,hi,()=>{d(this._config.clickCallback)}),this._isAppended=!0)}_emulateAnimation(e){V(e,this._getElement(),this._config.isAnimated)}}let mi=".bs.focustrap",gi=(mi,mi,"backward"),fi={autofocus:!0,trapElement:null},bi={autofocus:"boolean",trapElement:"element"};class _i extends he{constructor(e){super(),this._config=this._getConfig(e),this._isActive=!1,this._lastTabNavDirection=null}static get Default(){return fi}static get DefaultType(){return bi}static get NAME(){return"focustrap"}activate(){this._isActive||(this._config.autofocus&&this._config.trapElement.focus(),m.off(document,mi),m.on(document,"focusin.bs.focustrap",e=>this._handleFocusin(e)),m.on(document,"keydown.tab.bs.focustrap",e=>this._handleKeydown(e)),this._isActive=!0)}deactivate(){this._isActive&&(this._isActive=!1,m.off(document,mi))}_handleFocusin(e){var t=this._config["trapElement"];e.target===document||e.target===t||t.contains(e.target)||(0===(e=c.focusableChildren(t)).length?t:this._lastTabNavDirection===gi?e[e.length-1]:e[0]).focus()}_handleKeydown(e){"Tab"===e.key&&(this._lastTabNavDirection=e.shiftKey?gi:"forward")}}let vi=".fixed-top, .fixed-bottom, .is-fixed, .sticky-top",wi=".sticky-top",yi="padding-right",Si="margin-right";class Ci{constructor(){this._element=document.body}getWidth(){var e=document.documentElement.clientWidth;return Math.abs(window.innerWidth-e)}hide(){let t=this.getWidth();this._disableOverFlow(),this._setElementAttributes(this._element,yi,e=>e+t),this._setElementAttributes(vi,yi,e=>e+t),this._setElementAttributes(wi,Si,e=>e-t)}reset(){this._resetElementAttributes(this._element,"overflow"),this._resetElementAttributes(this._element,yi),this._resetElementAttributes(vi,yi),this._resetElementAttributes(wi,Si)}isOverflowing(){return 0<this.getWidth()}_disableOverFlow(){this._saveInitialAttribute(this._element,"overflow"),this._element.style.overflow="hidden"}_setElementAttributes(e,i,s){let o=this.getWidth();this._applyManipulationCallback(e,e=>{var t;e!==this._element&&window.innerWidth>e.clientWidth+o||(this._saveInitialAttribute(e,i),t=window.getComputedStyle(e).getPropertyValue(i),e.style.setProperty(i,s(Number.parseFloat(t))+"px"))})}_saveInitialAttribute(e,t){var i=e.style.getPropertyValue(t);i&&h.setDataAttribute(e,t,i)}_resetElementAttributes(e,i){this._applyManipulationCallback(e,e=>{var t=h.getDataAttribute(e,i);null!==t?(h.removeDataAttribute(e,i),e.style.setProperty(i,t)):e.style.removeProperty(i)})}_applyManipulationCallback(e,t){if(a(e))t(e);else for(var i of c.find(e,this._element))t(i)}}let $=".bs.modal",Di=($,$,"hidden"+$),$i="show"+$,Ii=($,$,$,$,$,$,"modal-open"),xi="modal-static",Ti={backdrop:!0,focus:!0,keyboard:!0},ki={backdrop:"(boolean|string)",focus:"boolean",keyboard:"boolean"};class Oi extends t{constructor(e,t){super(e,t),this._dialog=c.findOne(".modal-dialog",this._element),this._backdrop=this._initializeBackDrop(),this._focustrap=this._initializeFocusTrap(),this._isShown=!1,this._isTransitioning=!1,this._scrollBar=new Ci,this._addEventListeners()}static get Default(){return Ti}static get DefaultType(){return ki}static get NAME(){return"modal"}toggle(e){return this._isShown?this.hide():this.show(e)}show(e){this._isShown||this._isTransitioning||m.trigger(this._element,$i,{relatedTarget:e}).defaultPrevented||(this._isShown=!0,this._isTransitioning=!0,this._scrollBar.hide(),document.body.classList.add(Ii),this._adjustDialog(),this._backdrop.show(()=>this._showElement(e)))}hide(){!this._isShown||this._isTransitioning||m.trigger(this._element,"hide.bs.modal").defaultPrevented||(this._isShown=!1,this._isTransitioning=!0,this._focustrap.deactivate(),this._element.classList.remove("show"),this._queueCallback(()=>this._hideModal(),this._element,this._isAnimated()))}dispose(){m.off(window,$),m.off(this._dialog,$),this._backdrop.dispose(),this._focustrap.deactivate(),super.dispose()}handleUpdate(){this._adjustDialog()}_initializeBackDrop(){return new pi({isVisible:Boolean(this._config.backdrop),isAnimated:this._isAnimated()})}_initializeFocusTrap(){return new _i({trapElement:this._element})}_showElement(e){document.body.contains(this._element)||document.body.append(this._element),this._element.style.display="block",this._element.removeAttribute("aria-hidden"),this._element.setAttribute("aria-modal",!0),this._element.setAttribute("role","dialog"),this._element.scrollTop=0;var t=c.findOne(".modal-body",this._dialog);t&&(t.scrollTop=0),R(this._element),this._element.classList.add("show"),this._queueCallback(()=>{this._config.focus&&this._focustrap.activate(),this._isTransitioning=!1,m.trigger(this._element,"shown.bs.modal",{relatedTarget:e})},this._dialog,this._isAnimated())}_addEventListeners(){m.on(this._element,"keydown.dismiss.bs.modal",e=>{"Escape"===e.key&&(this._config.keyboard?this.hide():this._triggerBackdropTransition())}),m.on(window,"resize.bs.modal",()=>{this._isShown&&!this._isTransitioning&&this._adjustDialog()}),m.on(this._element,"mousedown.dismiss.bs.modal",t=>{m.one(this._element,"click.dismiss.bs.modal",e=>{this._element===t.target&&this._element===e.target&&("static"!==this._config.backdrop?this._config.backdrop&&this.hide():this._triggerBackdropTransition())})})}_hideModal(){this._element.style.display="none",this._element.setAttribute("aria-hidden",!0),this._element.removeAttribute("aria-modal"),this._element.removeAttribute("role"),this._isTransitioning=!1,this._backdrop.hide(()=>{document.body.classList.remove(Ii),this._resetAdjustments(),this._scrollBar.reset(),m.trigger(this._element,Di)})}_isAnimated(){return this._element.classList.contains("fade")}_triggerBackdropTransition(){if(!m.trigger(this._element,"hidePrevented.bs.modal").defaultPrevented){let e=this._element.scrollHeight>document.documentElement.clientHeight,t=this._element.style.overflowY;"hidden"===t||this._element.classList.contains(xi)||(e||(this._element.style.overflowY="hidden"),this._element.classList.add(xi),this._queueCallback(()=>{this._element.classList.remove(xi),this._queueCallback(()=>{this._element.style.overflowY=t},this._dialog)},this._dialog),this._element.focus())}}_adjustDialog(){let e=this._element.scrollHeight>document.documentElement.clientHeight,t=this._scrollBar.getWidth(),i=0<t;if(i&&!e){let e=l()?"paddingLeft":"paddingRight";this._element.style[e]=t+"px"}if(!i&&e){let e=l()?"paddingRight":"paddingLeft";this._element.style[e]=t+"px"}}_resetAdjustments(){this._element.style.paddingLeft="",this._element.style.paddingRight=""}static jQueryInterface(t,i){return this.each(function(){var e=Oi.getOrCreateInstance(this,t);if("string"==typeof t){if(void 0===e[t])throw new TypeError(`No method named "${t}"`);e[t](i)}})}}m.on(document,"click.bs.modal.data-api",'[data-bs-toggle="modal"]',function(e){let t=c.getElementFromSelector(this);["A","AREA"].includes(this.tagName)&&e.preventDefault(),m.one(t,$i,e=>{e.defaultPrevented||m.one(t,Di,()=>{n(this)&&this.focus()})});e=c.findOne(".modal.show");e&&Oi.getInstance(e).hide(),Oi.getOrCreateInstance(t).toggle(this)}),ue(Oi),e(Oi);let ji=".bs.offcanvas",Ai="showing",Li=".offcanvas.show",Pi="hidePrevented"+ji,Ei="hidden"+ji,Ni={backdrop:!0,keyboard:!0,scroll:!1},Mi={backdrop:"(boolean|string)",keyboard:"boolean",scroll:"boolean"};class P extends t{constructor(e,t){super(e,t),this._isShown=!1,this._backdrop=this._initializeBackDrop(),this._focustrap=this._initializeFocusTrap(),this._addEventListeners()}static get Default(){return Ni}static get DefaultType(){return Mi}static get NAME(){return"offcanvas"}toggle(e){return this._isShown?this.hide():this.show(e)}show(e){this._isShown||m.trigger(this._element,"show.bs.offcanvas",{relatedTarget:e}).defaultPrevented||(this._isShown=!0,this._backdrop.show(),this._config.scroll||(new Ci).hide(),this._element.setAttribute("aria-modal",!0),this._element.setAttribute("role","dialog"),this._element.classList.add(Ai),this._queueCallback(()=>{this._config.scroll&&!this._config.backdrop||this._focustrap.activate(),this._element.classList.add("show"),this._element.classList.remove(Ai),m.trigger(this._element,"shown.bs.offcanvas",{relatedTarget:e})},this._element,!0))}hide(){!this._isShown||m.trigger(this._element,"hide.bs.offcanvas").defaultPrevented||(this._focustrap.deactivate(),this._element.blur(),this._isShown=!1,this._element.classList.add("hiding"),this._backdrop.hide(),this._queueCallback(()=>{this._element.classList.remove("show","hiding"),this._element.removeAttribute("aria-modal"),this._element.removeAttribute("role"),this._config.scroll||(new Ci).reset(),m.trigger(this._element,Ei)},this._element,!0))}dispose(){this._backdrop.dispose(),this._focustrap.deactivate(),super.dispose()}_initializeBackDrop(){var e=Boolean(this._config.backdrop);return new pi({className:"offcanvas-backdrop",isVisible:e,isAnimated:!0,rootElement:this._element.parentNode,clickCallback:e?()=>{"static"!==this._config.backdrop?this.hide():m.trigger(this._element,Pi)}:null})}_initializeFocusTrap(){return new _i({trapElement:this._element})}_addEventListeners(){m.on(this._element,"keydown.dismiss.bs.offcanvas",e=>{"Escape"===e.key&&(this._config.keyboard?this.hide():m.trigger(this._element,Pi))})}static jQueryInterface(t){return this.each(function(){var e=P.getOrCreateInstance(this,t);if("string"==typeof t){if(void 0===e[t]||t.startsWith("_")||"constructor"===t)throw new TypeError(`No method named "${t}"`);e[t](this)}})}}m.on(document,"click.bs.offcanvas.data-api",'[data-bs-toggle="offcanvas"]',function(e){var t=c.getElementFromSelector(this);["A","AREA"].includes(this.tagName)&&e.preventDefault(),r(this)||(m.one(t,Ei,()=>{n(this)&&this.focus()}),(e=c.findOne(Li))&&e!==t&&P.getInstance(e).hide(),P.getOrCreateInstance(t).toggle(this))}),m.on(window,"load.bs.offcanvas.data-api",()=>{for(var e of c.find(Li))P.getOrCreateInstance(e).show()}),m.on(window,"resize.bs.offcanvas",()=>{for(var e of c.find("[aria-modal][class*=show][class*=offcanvas-]"))"fixed"!==getComputedStyle(e).position&&P.getOrCreateInstance(e).hide()}),ue(P),e(P);let Bi={"*":["class","dir","id","lang","role",/^aria-[\w-]*$/i],a:["target","href","title","rel"],area:[],b:[],br:[],col:[],code:[],dd:[],div:[],dl:[],dt:[],em:[],hr:[],h1:[],h2:[],h3:[],h4:[],h5:[],h6:[],i:[],img:["src","srcset","alt","title","width","height"],li:[],ol:[],p:[],pre:[],s:[],small:[],span:[],sub:[],sup:[],strong:[],u:[],ul:[]},zi=new Set(["background","cite","href","itemtype","longdesc","poster","src","xlink:href"]),Hi=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:/?#]*(?:[/?#]|$))/i,Ui={allowList:Bi,content:{},extraClass:"",html:!1,sanitize:!0,sanitizeFn:null,template:"<div></div>"},Ri={allowList:"object",content:"object",extraClass:"(string|function)",html:"boolean",sanitize:"boolean",sanitizeFn:"(null|function)",template:"string"},Wi={entry:"(string|element|function|null)",selector:"(string|element)"};class Fi extends he{constructor(e){super(),this._config=this._getConfig(e)}static get Default(){return Ui}static get DefaultType(){return Ri}static get NAME(){return"TemplateFactory"}getContent(){return Object.values(this._config.content).map(e=>this._resolvePossibleFunction(e)).filter(Boolean)}hasContent(){return 0<this.getContent().length}changeContent(e){return this._checkContent(e),this._config.content={...this._config.content,...e},this}toHtml(){var i=document.createElement("div");i.innerHTML=this._maybeSanitize(this._config.template);for(let[e,t]of Object.entries(this._config.content))this._setContent(i,t,e);let e=i.children[0],t=this._resolvePossibleFunction(this._config.extraClass);return t&&e.classList.add(...t.split(" ")),e}_typeCheckConfig(e){super._typeCheckConfig(e),this._checkContent(e.content)}_checkContent(e){for(var[t,i]of Object.entries(e))super._typeCheckConfig({selector:t,entry:i},Wi)}_setContent(e,t,i){i=c.findOne(i,e);i&&((t=this._resolvePossibleFunction(t))?a(t)?this._putElementInTemplate(o(t),i):this._config.html?i.innerHTML=this._maybeSanitize(t):i.textContent=t:i.remove())}_maybeSanitize(i){if(this._config.sanitize){var s=i,o=this._config.allowList,n=this._config.sanitizeFn;if(!s.length)return s;if(n&&"function"==typeof n)return n(s);let e=(new window.DOMParser).parseFromString(s,"text/html"),t=[].concat(...e.body.querySelectorAll("*"));for(let s of t){let e=s.nodeName.toLowerCase();if(Object.keys(o).includes(e)){let t=[].concat(...s.attributes),i=[].concat(o["*"]||[],o[e]||[]);for(let e of t)((e,t)=>{let i=e.nodeName.toLowerCase();return t.includes(i)?!zi.has(i)||Boolean(Hi.test(e.nodeValue)):t.filter(e=>e instanceof RegExp).some(e=>e.test(i))})(e,i)||s.removeAttribute(e.nodeName)}else s.remove()}return e.body.innerHTML}return i}_resolvePossibleFunction(e){return d(e,[this])}_putElementInTemplate(e,t){this._config.html?(t.innerHTML="",t.append(e)):t.textContent=e.textContent}}let Vi=new Set(["sanitize","allowList","sanitizeFn"]),qi="fade",Gi="show",Ki="hide.bs.modal",Qi="hover",Yi="focus",Xi={AUTO:"auto",TOP:"top",RIGHT:l()?"left":"right",BOTTOM:"bottom",LEFT:l()?"right":"left"},Ji={allowList:Bi,animation:!0,boundary:"clippingParents",container:!1,customClass:"",delay:0,fallbackPlacements:["top","right","bottom","left"],html:!1,offset:[0,6],placement:"top",popperConfig:null,sanitize:!0,sanitizeFn:null,selector:!1,template:'<div class="tooltip" role="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>',title:"",trigger:"hover focus"},Zi={allowList:"object",animation:"boolean",boundary:"(string|element)",container:"(string|element|boolean)",customClass:"(string|function)",delay:"(number|object)",fallbackPlacements:"array",html:"boolean",offset:"(array|string|function)",placement:"(string|function)",popperConfig:"(null|object|function)",sanitize:"boolean",sanitizeFn:"(null|function)",selector:"(string|boolean)",template:"string",title:"(string|element|function)",trigger:"string"};class es extends t{constructor(e,t){if(void 0===qt)throw new TypeError("Bootstrap's tooltips require Popper (https://popper.js.org)");super(e,t),this._isEnabled=!0,this._timeout=0,this._isHovered=null,this._activeTrigger={},this._popper=null,this._templateFactory=null,this._newContent=null,this.tip=null,this._setListeners(),this._config.selector||this._fixTitle()}static get Default(){return Ji}static get DefaultType(){return Zi}static get NAME(){return"tooltip"}enable(){this._isEnabled=!0}disable(){this._isEnabled=!1}toggleEnabled(){this._isEnabled=!this._isEnabled}toggle(){this._isEnabled&&(this._activeTrigger.click=!this._activeTrigger.click,this._isShown()?this._leave():this._enter())}dispose(){clearTimeout(this._timeout),m.off(this._element.closest(".modal"),Ki,this._hideModalHandler),this._element.getAttribute("data-bs-original-title")&&this._element.setAttribute("title",this._element.getAttribute("data-bs-original-title")),this._disposePopper(),super.dispose()}show(){if("none"===this._element.style.display)throw new Error("Please use show on visible elements");if(this._isWithContent()&&this._isEnabled){let e=m.trigger(this._element,this.constructor.eventName("show")),t=(H(this._element)||this._element.ownerDocument.documentElement).contains(this._element);if(!e.defaultPrevented&&t){this._disposePopper();var i=this._getTipElement(),s=(this._element.setAttribute("aria-describedby",i.getAttribute("id")),this._config)["container"];if(this._element.ownerDocument.documentElement.contains(this.tip)||(s.append(i),m.trigger(this._element,this.constructor.eventName("inserted"))),this._popper=this._createPopper(i),i.classList.add(Gi),"ontouchstart"in document.documentElement)for(let e of[].concat(...document.body.children))m.on(e,"mouseover",U);this._queueCallback(()=>{m.trigger(this._element,this.constructor.eventName("shown")),!1===this._isHovered&&this._leave(),this._isHovered=!1},this.tip,this._isAnimated())}}}hide(){if(this._isShown()&&!m.trigger(this._element,this.constructor.eventName("hide")).defaultPrevented){if(this._getTipElement().classList.remove(Gi),"ontouchstart"in document.documentElement)for(var e of[].concat(...document.body.children))m.off(e,"mouseover",U);this._activeTrigger.click=!1,this._activeTrigger[Yi]=!1,this._activeTrigger[Qi]=!1,this._isHovered=null,this._queueCallback(()=>{this._isWithActiveTrigger()||(this._isHovered||this._disposePopper(),this._element.removeAttribute("aria-describedby"),m.trigger(this._element,this.constructor.eventName("hidden")))},this.tip,this._isAnimated())}}update(){this._popper&&this._popper.update()}_isWithContent(){return Boolean(this._getTitle())}_getTipElement(){return this.tip||(this.tip=this._createTipElement(this._newContent||this._getContentForTemplate())),this.tip}_createTipElement(e){e=this._getTemplateFactory(e).toHtml();if(!e)return null;e.classList.remove(qi,Gi),e.classList.add(`bs-${this.constructor.NAME}-auto`);var t=(e=>{for(;e+=Math.floor(1e6*Math.random()),document.getElementById(e););return e})(this.constructor.NAME).toString();return e.setAttribute("id",t),this._isAnimated()&&e.classList.add(qi),e}setContent(e){this._newContent=e,this._isShown()&&(this._disposePopper(),this.show())}_getTemplateFactory(e){return this._templateFactory?this._templateFactory.changeContent(e):this._templateFactory=new Fi({...this._config,content:e,extraClass:this._resolvePossibleFunction(this._config.customClass)}),this._templateFactory}_getContentForTemplate(){return{".tooltip-inner":this._getTitle()}}_getTitle(){return this._resolvePossibleFunction(this._config.title)||this._element.getAttribute("data-bs-original-title")}_initializeOnDelegatedTarget(e){return this.constructor.getOrCreateInstance(e.delegateTarget,this._getDelegateConfig())}_isAnimated(){return this._config.animation||this.tip&&this.tip.classList.contains(qi)}_isShown(){return this.tip&&this.tip.classList.contains(Gi)}_createPopper(e){var t=d(this._config.placement,[this,e,this._element]),t=Xi[t.toUpperCase()];return Vt(this._element,e,this._getPopperConfig(t))}_getOffset(){let t=this._config["offset"];return"string"==typeof t?t.split(",").map(e=>Number.parseInt(e,10)):"function"==typeof t?e=>t(e,this._element):t}_resolvePossibleFunction(e){return d(e,[this._element])}_getPopperConfig(e){e={placement:e,modifiers:[{name:"flip",options:{fallbackPlacements:this._config.fallbackPlacements}},{name:"offset",options:{offset:this._getOffset()}},{name:"preventOverflow",options:{boundary:this._config.boundary}},{name:"arrow",options:{element:`.${this.constructor.NAME}-arrow`}},{name:"preSetPlacement",enabled:!0,phase:"beforeMain",fn:e=>{this._getTipElement().setAttribute("data-popper-placement",e.state.placement)}}]};return{...e,...d(this._config.popperConfig,[e])}}_setListeners(){let e=this._config.trigger.split(" ");for(var i of e)if("click"===i)m.on(this._element,this.constructor.eventName("click"),this._config.selector,e=>{this._initializeOnDelegatedTarget(e).toggle()});else if("manual"!==i){let e=i===Qi?this.constructor.eventName("mouseenter"):this.constructor.eventName("focusin"),t=i===Qi?this.constructor.eventName("mouseleave"):this.constructor.eventName("focusout");m.on(this._element,e,this._config.selector,e=>{var t=this._initializeOnDelegatedTarget(e);t._activeTrigger["focusin"===e.type?Yi:Qi]=!0,t._enter()}),m.on(this._element,t,this._config.selector,e=>{var t=this._initializeOnDelegatedTarget(e);t._activeTrigger["focusout"===e.type?Yi:Qi]=t._element.contains(e.relatedTarget),t._leave()})}this._hideModalHandler=()=>{this._element&&this.hide()},m.on(this._element.closest(".modal"),Ki,this._hideModalHandler)}_fixTitle(){var e=this._element.getAttribute("title");e&&(this._element.getAttribute("aria-label")||this._element.textContent.trim()||this._element.setAttribute("aria-label",e),this._element.setAttribute("data-bs-original-title",e),this._element.removeAttribute("title"))}_enter(){this._isShown()||this._isHovered?this._isHovered=!0:(this._isHovered=!0,this._setTimeout(()=>{this._isHovered&&this.show()},this._config.delay.show))}_leave(){this._isWithActiveTrigger()||(this._isHovered=!1,this._setTimeout(()=>{this._isHovered||this.hide()},this._config.delay.hide))}_setTimeout(e,t){clearTimeout(this._timeout),this._timeout=setTimeout(e,t)}_isWithActiveTrigger(){return Object.values(this._activeTrigger).includes(!0)}_getConfig(e){var t=h.getDataAttributes(this._element);for(let e of Object.keys(t))Vi.has(e)&&delete t[e];return e={...t,..."object"==typeof e&&e?e:{}},e=this._mergeConfigObj(e),e=this._configAfterMerge(e),this._typeCheckConfig(e),e}_configAfterMerge(e){return e.container=!1===e.container?document.body:o(e.container),"number"==typeof e.delay&&(e.delay={show:e.delay,hide:e.delay}),"number"==typeof e.title&&(e.title=e.title.toString()),"number"==typeof e.content&&(e.content=e.content.toString()),e}_getDelegateConfig(){var e,t,i={};for([e,t]of Object.entries(this._config))this.constructor.Default[e]!==t&&(i[e]=t);return i.selector=!1,i.trigger="manual",i}_disposePopper(){this._popper&&(this._popper.destroy(),this._popper=null),this.tip&&(this.tip.remove(),this.tip=null)}static jQueryInterface(t){return this.each(function(){var e=es.getOrCreateInstance(this,t);if("string"==typeof t){if(void 0===e[t])throw new TypeError(`No method named "${t}"`);e[t]()}})}}e(es);let ts={...es.Default,content:"",offset:[0,8],placement:"right",template:'<div class="popover" role="tooltip"><div class="popover-arrow"></div><h3 class="popover-header"></h3><div class="popover-body"></div></div>',trigger:"click"},is={...es.DefaultType,content:"(null|string|element|function)"};class ss extends es{static get Default(){return ts}static get DefaultType(){return is}static get NAME(){return"popover"}_isWithContent(){return this._getTitle()||this._getContent()}_getContentForTemplate(){return{".popover-header":this._getTitle(),".popover-body":this._getContent()}}_getContent(){return this._resolvePossibleFunction(this._config.content)}static jQueryInterface(t){return this.each(function(){var e=ss.getOrCreateInstance(this,t);if("string"==typeof t){if(void 0===e[t])throw new TypeError(`No method named "${t}"`);e[t]()}})}}e(ss);let os=".bs.scrollspy",ns="click"+os,as="active",rs="[href]",ls={offset:null,rootMargin:"0px 0px -25%",smoothScroll:!1,target:null,threshold:[.1,.5,1]},ds={offset:"(number|null)",rootMargin:"string",smoothScroll:"boolean",target:"element",threshold:"array"};class hs extends t{constructor(e,t){super(e,t),this._targetLinks=new Map,this._observableSections=new Map,this._rootElement="visible"===getComputedStyle(this._element).overflowY?null:this._element,this._activeTarget=null,this._observer=null,this._previousScrollData={visibleEntryTop:0,parentScrollTop:0},this.refresh()}static get Default(){return ls}static get DefaultType(){return ds}static get NAME(){return"scrollspy"}refresh(){this._initializeTargetsAndObservables(),this._maybeEnableSmoothScroll(),this._observer?this._observer.disconnect():this._observer=this._getNewObserver();for(var e of this._observableSections.values())this._observer.observe(e)}dispose(){this._observer.disconnect(),super.dispose()}_configAfterMerge(e){return e.target=o(e.target)||document.body,e.rootMargin=e.offset?e.offset+"px 0px -30%":e.rootMargin,"string"==typeof e.threshold&&(e.threshold=e.threshold.split(",").map(e=>Number.parseFloat(e))),e}_maybeEnableSmoothScroll(){this._config.smoothScroll&&(m.off(this._config.target,ns),m.on(this._config.target,ns,rs,e=>{var t=this._observableSections.get(e.target.hash);t&&(e.preventDefault(),e=this._rootElement||window,t=t.offsetTop-this._element.offsetTop,e.scrollTo?e.scrollTo({top:t,behavior:"smooth"}):e.scrollTop=t)}))}_getNewObserver(){var e={root:this._rootElement,threshold:this._config.threshold,rootMargin:this._config.rootMargin};return new IntersectionObserver(e=>this._observerCallback(e),e)}_observerCallback(e){let t=e=>this._targetLinks.get("#"+e.target.id),i=e=>{this._previousScrollData.visibleEntryTop=e.target.offsetTop,this._process(t(e))},s=(this._rootElement||document.documentElement).scrollTop,o=s>=this._previousScrollData.parentScrollTop;this._previousScrollData.parentScrollTop=s;for(var n of e)if(n.isIntersecting){let e=n.target.offsetTop>=this._previousScrollData.visibleEntryTop;if(o&&e){if(i(n),!s)return}else o||e||i(n)}else this._activeTarget=null,this._clearActiveClass(t(n))}_initializeTargetsAndObservables(){this._targetLinks=new Map,this._observableSections=new Map;let e=c.find(rs,this._config.target);for(var t of e)if(t.hash&&!r(t)){let e=c.findOne(decodeURI(t.hash),this._element);n(e)&&(this._targetLinks.set(decodeURI(t.hash),t),this._observableSections.set(t.hash,e))}}_process(e){this._activeTarget!==e&&(this._clearActiveClass(this._config.target),(this._activeTarget=e).classList.add(as),this._activateParents(e),m.trigger(this._element,"activate.bs.scrollspy",{relatedTarget:e}))}_activateParents(e){if(e.classList.contains("dropdown-item"))c.findOne(".dropdown-toggle",e.closest(".dropdown")).classList.add(as);else for(var t of c.parents(e,".nav, .list-group"))for(let e of c.prev(t,".nav-link, .nav-item > .nav-link, .list-group-item"))e.classList.add(as)}_clearActiveClass(e){e.classList.remove(as);var t=c.find(rs+"."+as,e);for(let e of t)e.classList.remove(as)}static jQueryInterface(t){return this.each(function(){var e=hs.getOrCreateInstance(this,t);if("string"==typeof t){if(void 0===e[t]||t.startsWith("_")||"constructor"===t)throw new TypeError(`No method named "${t}"`);e[t]()}})}}m.on(window,"load.bs.scrollspy.data-api",()=>{for(var e of c.find('[data-bs-spy="scroll"]'))hs.getOrCreateInstance(e)}),e(hs);let cs="ArrowRight",us="ArrowDown",ps="Home",E="active",ms="show",gs=".dropdown-toggle",fs=`:not(${gs})`,bs='[data-bs-toggle="tab"], [data-bs-toggle="pill"], [data-bs-toggle="list"]',_s=`.nav-link${fs}, .list-group-item${fs}, [role="tab"]${fs}, `+bs;E,E,E;class vs extends t{constructor(e){super(e),this._parent=this._element.closest('.list-group, .nav, [role="tablist"]'),this._parent&&(this._setInitialAttributes(this._parent,this._getChildren()),m.on(this._element,"keydown.bs.tab",e=>this._keydown(e)))}static get NAME(){return"tab"}show(){var e,t,i=this._element;this._elemIsActive(i)||(t=(e=this._getActiveElem())?m.trigger(e,"hide.bs.tab",{relatedTarget:i}):null,m.trigger(i,"show.bs.tab",{relatedTarget:e}).defaultPrevented)||t&&t.defaultPrevented||(this._deactivate(e,i),this._activate(i,e))}_activate(e,t){e&&(e.classList.add(E),this._activate(c.getElementFromSelector(e)),this._queueCallback(()=>{"tab"===e.getAttribute("role")?(e.removeAttribute("tabindex"),e.setAttribute("aria-selected",!0),this._toggleDropDown(e,!0),m.trigger(e,"shown.bs.tab",{relatedTarget:t})):e.classList.add(ms)},e,e.classList.contains("fade")))}_deactivate(e,t){e&&(e.classList.remove(E),e.blur(),this._deactivate(c.getElementFromSelector(e)),this._queueCallback(()=>{"tab"===e.getAttribute("role")?(e.setAttribute("aria-selected",!1),e.setAttribute("tabindex","-1"),this._toggleDropDown(e,!1),m.trigger(e,"hidden.bs.tab",{relatedTarget:t})):e.classList.remove(ms)},e,e.classList.contains("fade")))}_keydown(t){if(["ArrowLeft",cs,"ArrowUp",us,ps,"End"].includes(t.key)){t.stopPropagation(),t.preventDefault();var i,s=this._getChildren().filter(e=>!r(e));let e;(e=[ps,"End"].includes(t.key)?s[t.key===ps?0:s.length-1]:(i=[cs,us].includes(t.key),q(s,t.target,i,!0)))&&(e.focus({preventScroll:!0}),vs.getOrCreateInstance(e).show())}}_getChildren(){return c.find(_s,this._parent)}_getActiveElem(){return this._getChildren().find(e=>this._elemIsActive(e))||null}_setInitialAttributes(e,t){this._setAttributeIfNotExists(e,"role","tablist");for(let e of t)this._setInitialAttributesOnChild(e)}_setInitialAttributesOnChild(e){e=this._getInnerElement(e);var t=this._elemIsActive(e),i=this._getOuterElement(e);e.setAttribute("aria-selected",t),i!==e&&this._setAttributeIfNotExists(i,"role","presentation"),t||e.setAttribute("tabindex","-1"),this._setAttributeIfNotExists(e,"role","tab"),this._setInitialAttributesOnTargetPanel(e)}_setInitialAttributesOnTargetPanel(e){var t=c.getElementFromSelector(e);t&&(this._setAttributeIfNotExists(t,"role","tabpanel"),e.id)&&this._setAttributeIfNotExists(t,"aria-labelledby",""+e.id)}_toggleDropDown(e,i){let s=this._getOuterElement(e);s.classList.contains("dropdown")&&((e=(e,t)=>{e=c.findOne(e,s);e&&e.classList.toggle(t,i)})(gs,E),e(".dropdown-menu",ms),s.setAttribute("aria-expanded",i))}_setAttributeIfNotExists(e,t,i){e.hasAttribute(t)||e.setAttribute(t,i)}_elemIsActive(e){return e.classList.contains(E)}_getInnerElement(e){return e.matches(_s)?e:c.findOne(_s,e)}_getOuterElement(e){return e.closest(".nav-item, .list-group-item")||e}static jQueryInterface(t){return this.each(function(){var e=vs.getOrCreateInstance(this);if("string"==typeof t){if(void 0===e[t]||t.startsWith("_")||"constructor"===t)throw new TypeError(`No method named "${t}"`);e[t]()}})}}m.on(document,"click.bs.tab",bs,function(e){["A","AREA"].includes(this.tagName)&&e.preventDefault(),r(this)||vs.getOrCreateInstance(this).show()}),m.on(window,"load.bs.tab",()=>{for(var e of c.find('.active[data-bs-toggle="tab"], .active[data-bs-toggle="pill"], .active[data-bs-toggle="list"]'))vs.getOrCreateInstance(e)}),e(vs);let ws="show",ys="showing",Ss={animation:"boolean",autohide:"boolean",delay:"number"},Cs={animation:!0,autohide:!0,delay:5e3};class Ds extends t{constructor(e,t){super(e,t),this._timeout=null,this._hasMouseInteraction=!1,this._hasKeyboardInteraction=!1,this._setListeners()}static get Default(){return Cs}static get DefaultType(){return Ss}static get NAME(){return"toast"}show(){m.trigger(this._element,"show.bs.toast").defaultPrevented||(this._clearTimeout(),this._config.animation&&this._element.classList.add("fade"),this._element.classList.remove("hide"),R(this._element),this._element.classList.add(ws,ys),this._queueCallback(()=>{this._element.classList.remove(ys),m.trigger(this._element,"shown.bs.toast"),this._maybeScheduleHide()},this._element,this._config.animation))}hide(){!this.isShown()||m.trigger(this._element,"hide.bs.toast").defaultPrevented||(this._element.classList.add(ys),this._queueCallback(()=>{this._element.classList.add("hide"),this._element.classList.remove(ys,ws),m.trigger(this._element,"hidden.bs.toast")},this._element,this._config.animation))}dispose(){this._clearTimeout(),this.isShown()&&this._element.classList.remove(ws),super.dispose()}isShown(){return this._element.classList.contains(ws)}_maybeScheduleHide(){!this._config.autohide||this._hasMouseInteraction||this._hasKeyboardInteraction||(this._timeout=setTimeout(()=>{this.hide()},this._config.delay))}_onInteraction(e,t){switch(e.type){case"mouseover":case"mouseout":this._hasMouseInteraction=t;break;case"focusin":case"focusout":this._hasKeyboardInteraction=t}t?this._clearTimeout():(e=e.relatedTarget,this._element===e||this._element.contains(e)||this._maybeScheduleHide())}_setListeners(){m.on(this._element,"mouseover.bs.toast",e=>this._onInteraction(e,!0)),m.on(this._element,"mouseout.bs.toast",e=>this._onInteraction(e,!1)),m.on(this._element,"focusin.bs.toast",e=>this._onInteraction(e,!0)),m.on(this._element,"focusout.bs.toast",e=>this._onInteraction(e,!1))}_clearTimeout(){clearTimeout(this._timeout),this._timeout=null}static jQueryInterface(t){return this.each(function(){var e=Ds.getOrCreateInstance(this,t);if("string"==typeof t){if(void 0===e[t])throw new TypeError(`No method named "${t}"`);e[t](this)}})}}return ue(Ds),e(Ds),{Alert:pe,Button:ge,Carousel:Oe,Collapse:Ne,Dropdown:D,Modal:Oi,Offcanvas:P,Popover:ss,ScrollSpy:hs,Tab:vs,Toast:Ds,Tooltip:es}}),function(e,t){void 0===e&&void 0!==window&&(e=window),"function"==typeof define&&define.amd?define(["jquery"],t):"object"==typeof module&&module.exports?module.exports=t(require("jquery")):t(e.jQuery)}(this,function(e){var r,t,i,s,y=e,N=["sanitize","whiteList","sanitizeFn"],M=["background","cite","href","itemtype","longdesc","poster","src","xlink:href"],B=/^(?:(?:https?|mailto|ftp|tel|file):|[^&:/?#]*(?:[/?#]|$))/gi,z=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+/]+=*$/i,H=["title","placeholder"];function T(e,t,i){if(i&&"function"==typeof i)return i(e);for(var s=Object.keys(t),o=0,n=e.length;o<n;o++)for(var a=e[o].querySelectorAll("*"),r=0,l=a.length;r<l;r++){var d=a[r],h=d.nodeName.toLowerCase();if(-1!==s.indexOf(h))for(var c=[].slice.call(d.attributes),u=[].concat(t["*"]||[],t[h]||[]),p=0,m=c.length;p<m;p++){var g=c[p];!function(e,t){var i=e.nodeName.toLowerCase();if(-1!==y.inArray(i,t))return-1===y.inArray(i,M)||Boolean(e.nodeValue.match(B)||e.nodeValue.match(z));for(var s=y(t).filter(function(e,t){return t instanceof RegExp}),o=0,n=s.length;o<n;o++)if(i.match(s[o]))return 1}(g,u)&&d.removeAttribute(g.nodeName)}else d.parentNode.removeChild(d)}}function h(t){var i,s={};return H.forEach(function(e){(i=t.attr(e))&&(s[e]=i)}),!s.placeholder&&s.title&&(s.placeholder=s.title),s}if(!("classList"in document.createElement("_"))){var o=window;if("Element"in o){var e="classList",n=o.Element.prototype,a=Object,l=function(){var i=y(this);return{add:function(e){return e=Array.prototype.slice.call(arguments).join(" "),i.addClass(e)},remove:function(e){return e=Array.prototype.slice.call(arguments).join(" "),i.removeClass(e)},toggle:function(e,t){return i.toggleClass(e,t)},contains:function(e){return i.hasClass(e)}}};if(a.defineProperty){var d={get:l,enumerable:!0,configurable:!0};try{a.defineProperty(n,e,d)}catch(o){void 0!==o.number&&-2146823252!==o.number||(d.enumerable=!1,a.defineProperty(n,e,d))}}else a.prototype.__defineGetter__&&n.__defineGetter__(e,l)}}function c(e){if(null==this)throw new TypeError;var t=String(this);if(e&&"[object RegExp]"==r.call(e))throw new TypeError;var i=t.length,s=String(e),o=s.length,e=1<arguments.length?arguments[1]:void 0,e=e?Number(e):0,n=(e!=e&&(e=0),Math.min(Math.max(e,0),i));if(i<o+n)return!1;for(var a=-1;++a<o;)if(t.charCodeAt(n+a)!=s.charCodeAt(a))return!1;return!0}function S(){var e=this.selectpicker.main.data.filter(function(e){return!(!e.selected||this.options.hideDisabled&&e.disabled)},this);if(this.options.source.data&&!this.multiple&&1<e.length){for(var t=0;t<e.length-1;t++)e[t].selected=!1;e=[e[e.length-1]]}return e}function C(e){for(var t,i=[],s=e||S.call(this),o=0,n=s.length;o<n;o++)(t=s[o]).disabled||i.push(void 0===t.value?t.text:t.value);return this.multiple?i:i.length?i[0]:null}(d=document.createElement("_")).classList.add("c1","c2"),d.classList.contains("c2")||(t=DOMTokenList.prototype.add,i=DOMTokenList.prototype.remove,DOMTokenList.prototype.add=function(){Array.prototype.forEach.call(arguments,t.bind(this))},DOMTokenList.prototype.remove=function(){Array.prototype.forEach.call(arguments,i.bind(this))}),d.classList.toggle("c3",!1),d.classList.contains("c3")&&(s=DOMTokenList.prototype.toggle,DOMTokenList.prototype.toggle=function(e,t){return 1 in arguments&&!this.contains(e)==!t?t:s.call(this,e)}),d=null,String.prototype.startsWith||(r={}.toString,Object.defineProperty?Object.defineProperty(String.prototype,"startsWith",{value:c,configurable:!0,writable:!0}):String.prototype.startsWith=c);var u={useDefault:!1,_set:y.valHooks.select.set},D=(y.valHooks.select.set=function(e,t){return t&&!u.useDefault&&y(e).data("selected",!0),u._set.apply(this,arguments)},null),U=function(){try{return new Event("change"),!0}catch(e){return!1}}();function _(e,t,i,s){for(var o=["display","subtext","tokens"],n=!1,a=0;a<o.length;a++){var r=o[a],l=e[r];if(l&&(l=l.toString(),"display"===r&&(l=l.replace(/<[^>]+>/g,"")),l=(l=s?b(l):l).toUpperCase(),n="function"==typeof i?i(l,t):"contains"===i?0<=l.indexOf(t):l.startsWith(t)))break}return n}function f(e){return parseInt(e,10)||0}y.fn.triggerNative=function(e){var t,i=this[0];i.dispatchEvent&&(U?t=new Event(e,{bubbles:!0}):(t=document.createEvent("Event")).initEvent(e,!0,!1),i.dispatchEvent(t))};var p,m,g,R={"À":"A","Á":"A","Â":"A","Ã":"A","Ä":"A","Å":"A","à":"a","á":"a","â":"a","ã":"a","ä":"a","å":"a","Ç":"C","ç":"c","Ð":"D","ð":"d","È":"E","É":"E","Ê":"E","Ë":"E","è":"e","é":"e","ê":"e","ë":"e","Ì":"I","Í":"I","Î":"I","Ï":"I","ì":"i","í":"i","î":"i","ï":"i","Ñ":"N","ñ":"n","Ò":"O","Ó":"O","Ô":"O","Õ":"O","Ö":"O","Ø":"O","ò":"o","ó":"o","ô":"o","õ":"o","ö":"o","ø":"o","Ù":"U","Ú":"U","Û":"U","Ü":"U","ù":"u","ú":"u","û":"u","ü":"u","Ý":"Y","ý":"y","ÿ":"y","Æ":"Ae","æ":"ae","Þ":"Th","þ":"th","ß":"ss","Ā":"A","Ă":"A","Ą":"A","ā":"a","ă":"a","ą":"a","Ć":"C","Ĉ":"C","Ċ":"C","Č":"C","ć":"c","ĉ":"c","ċ":"c","č":"c","Ď":"D","Đ":"D","ď":"d","đ":"d","Ē":"E","Ĕ":"E","Ė":"E","Ę":"E","Ě":"E","ē":"e","ĕ":"e","ė":"e","ę":"e","ě":"e","Ĝ":"G","Ğ":"G","Ġ":"G","Ģ":"G","ĝ":"g","ğ":"g","ġ":"g","ģ":"g","Ĥ":"H","Ħ":"H","ĥ":"h","ħ":"h","Ĩ":"I","Ī":"I","Ĭ":"I","Į":"I","İ":"I","ĩ":"i","ī":"i","ĭ":"i","į":"i","ı":"i","Ĵ":"J","ĵ":"j","Ķ":"K","ķ":"k","ĸ":"k","Ĺ":"L","Ļ":"L","Ľ":"L","Ŀ":"L","Ł":"L","ĺ":"l","ļ":"l","ľ":"l","ŀ":"l","ł":"l","Ń":"N","Ņ":"N","Ň":"N","Ŋ":"N","ń":"n","ņ":"n","ň":"n","ŋ":"n","Ō":"O","Ŏ":"O","Ő":"O","ō":"o","ŏ":"o","ő":"o","Ŕ":"R","Ŗ":"R","Ř":"R","ŕ":"r","ŗ":"r","ř":"r","Ś":"S","Ŝ":"S","Ş":"S","Š":"S","ś":"s","ŝ":"s","ş":"s","š":"s","Ţ":"T","Ť":"T","Ŧ":"T","ţ":"t","ť":"t","ŧ":"t","Ũ":"U","Ū":"U","Ŭ":"U","Ů":"U","Ű":"U","Ų":"U","ũ":"u","ū":"u","ŭ":"u","ů":"u","ű":"u","ų":"u","Ŵ":"W","ŵ":"w","Ŷ":"Y","ŷ":"y","Ÿ":"Y","Ź":"Z","Ż":"Z","Ž":"Z","ź":"z","ż":"z","ž":"z","Ĳ":"IJ","ĳ":"ij","Œ":"Oe","œ":"oe","ŉ":"'n","ſ":"s"},W=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,F=RegExp("[\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff\\u1ab0-\\u1aff\\u1dc0-\\u1dff]","g");function V(e){return R[e]}function b(e){return(e=e.toString())&&e.replace(W,V).replace(F,"")}function w(e){return m.test(e=null==e?"":""+e)?e.replace(g,q):e}function q(e){return p[e]}p={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"},a="(?:"+Object.keys(p).join("|")+")",m=RegExp(a),g=RegExp(a,"g");var G={32:" ",48:"0",49:"1",50:"2",51:"3",52:"4",53:"5",54:"6",55:"7",56:"8",57:"9",59:";",65:"A",66:"B",67:"C",68:"D",69:"E",70:"F",71:"G",72:"H",73:"I",74:"J",75:"K",76:"L",77:"M",78:"N",79:"O",80:"P",81:"Q",82:"R",83:"S",84:"T",85:"U",86:"V",87:"W",88:"X",89:"Y",90:"Z",96:"0",97:"1",98:"2",99:"3",100:"4",101:"5",102:"6",103:"7",104:"8",105:"9"},v=window.Dropdown||bootstrap.Dropdown;function $(){var t;try{t=y.fn.dropdown.Constructor.VERSION}catch(e){t=v.VERSION}return t}var I={success:!1,major:"3"};try{I.full=($()||"").split(" ")[0].split("."),I.major=I.full[0],I.success=!0}catch(e){}var x=0,k=".bs.select",O={DISABLED:"disabled",DIVIDER:"divider",SHOW:"open",DROPUP:"dropup",MENU:"dropdown-menu",MENURIGHT:"dropdown-menu-right",MENULEFT:"dropdown-menu-left",BUTTONCLASS:"btn-default",POPOVERHEADER:"popover-title",ICONBASE:"glyphicon",TICKICON:"glyphicon-ok"},j={MENU:"."+O.MENU,DATA_TOGGLE:'data-toggle="dropdown"'},A={div:document.createElement("div"),span:document.createElement("span"),i:document.createElement("i"),subtext:document.createElement("small"),a:document.createElement("a"),li:document.createElement("li"),whitespace:document.createTextNode(" "),fragment:document.createDocumentFragment(),option:document.createElement("option")},K=(A.selectedOption=A.option.cloneNode(!1),A.selectedOption.setAttribute("selected",!0),A.noResults=A.li.cloneNode(!1),A.noResults.className="no-results",A.a.setAttribute("role","option"),A.a.className="dropdown-item",A.subtext.className="text-muted",A.text=A.span.cloneNode(!1),A.text.className="text",A.checkMark=A.span.cloneNode(!1),new RegExp("38|40")),Q=new RegExp("^9$|27"),L={li:function(e,t,i){var s=A.li.cloneNode(!1);return e&&(1===e.nodeType||11===e.nodeType?s.appendChild(e):s.innerHTML=e),void 0!==t&&""!==t&&(s.className=t),null!=i&&s.classList.add("optgroup-"+i),s},a:function(e,t,i){var s=A.a.cloneNode(!0);return e&&(11===e.nodeType?s.appendChild(e):s.insertAdjacentHTML("beforeend",e)),void 0!==t&&""!==t&&s.classList.add.apply(s.classList,t.split(/\s+/)),i&&s.setAttribute("style",i),s},text:function(e,t){var i,s,o=A.text.cloneNode(!1);if(e.content?o.innerHTML=e.content:(o.textContent=e.text,e.icon&&(s=A.whitespace.cloneNode(!1),(i=(!0===t?A.i:A.span).cloneNode(!1)).className=this.options.iconBase+" "+e.icon,A.fragment.appendChild(i),A.fragment.appendChild(s)),e.subtext&&((i=A.subtext.cloneNode(!1)).textContent=e.subtext,o.appendChild(i))),!0===t)for(;0<o.childNodes.length;)A.fragment.appendChild(o.childNodes[0]);else A.fragment.appendChild(o);return A.fragment},label:function(e){var t,i,s=A.text.cloneNode(!1);return s.innerHTML=e.display,e.icon&&(i=A.whitespace.cloneNode(!1),(t=A.span.cloneNode(!1)).className=this.options.iconBase+" "+e.icon,A.fragment.appendChild(t),A.fragment.appendChild(i)),e.subtext&&((t=A.subtext.cloneNode(!1)).textContent=e.subtext,s.appendChild(t)),A.fragment.appendChild(s),A.fragment}},P={fromOption:function(e,t){var i;switch(t){case"divider":i="true"===e.getAttribute("data-divider");break;case"text":i=e.textContent;break;case"label":i=e.label;break;case"style":i=e.style.cssText;break;case"content":case"tokens":case"subtext":case"icon":i=e.getAttribute("data-"+t)}return i},fromDataSource:function(e,t){var i;switch(t){case"text":case"label":i=e.text||e.value||"";break;case"divider":case"style":case"content":case"tokens":case"subtext":case"icon":i=e[t]}return i}};function Y(e,t){e.length||(A.noResults.innerHTML=this.options.noneResultsText.replace("{0}",'"'+w(t)+'"'),this.$menuInner[0].firstChild.appendChild(A.noResults))}function X(e){return!(e.hidden||this.options.hideDisabled&&e.disabled)}function E(e,t){var i=this;u.useDefault||(y.valHooks.select.set=u._set,u.useDefault=!0),this.$element=y(e),this.$newElement=null,this.$button=null,this.$menu=null,this.options=t,this.selectpicker={main:{optionQueue:A.fragment.cloneNode(!1)},search:{},current:{},view:{},isSearching:!1,keydown:{keyHistory:"",resetKeyHistory:{start:function(){return setTimeout(function(){i.selectpicker.keydown.keyHistory=""},800)}}}},this.sizeInfo={},"number"==typeof(e=this.options.windowPadding)&&(this.options.windowPadding=[e,e,e,e]),this.val=E.prototype.val,this.render=E.prototype.render,this.refresh=E.prototype.refresh,this.setStyle=E.prototype.setStyle,this.selectAll=E.prototype.selectAll,this.deselectAll=E.prototype.deselectAll,this.destroy=E.prototype.destroy,this.remove=E.prototype.remove,this.show=E.prototype.show,this.hide=E.prototype.hide,this.init()}function J(e){var r,l=arguments,d=e;if([].shift.apply(l),!I.success){try{I.full=($()||"").split(" ")[0].split(".")}catch(e){E.BootstrapVersion?I.full=E.BootstrapVersion.split(" ")[0].split("."):(I.full=[I.major,"0","0"],console.warn("There was an issue retrieving Bootstrap's version. Ensure Bootstrap is being loaded before bootstrap-select and there is no namespace collision. If loading Bootstrap asynchronously, the version may need to be manually specified via $.fn.selectpicker.Constructor.BootstrapVersion.",e))}I.major=I.full[0],I.success=!0}if("4"<=I.major){var t=[];E.DEFAULTS.style===O.BUTTONCLASS&&t.push({name:"style",className:"BUTTONCLASS"}),E.DEFAULTS.iconBase===O.ICONBASE&&t.push({name:"iconBase",className:"ICONBASE"}),E.DEFAULTS.tickIcon===O.TICKICON&&t.push({name:"tickIcon",className:"TICKICON"}),O.DIVIDER="dropdown-divider",O.SHOW="show",O.BUTTONCLASS="btn-light",O.POPOVERHEADER="popover-header",O.ICONBASE="",O.TICKICON="bs-ok-default";for(var i=0;i<t.length;i++)E.DEFAULTS[(e=t[i]).name]=O[e.className]}"4"<I.major&&(j.DATA_TOGGLE='data-bs-toggle="dropdown"');var s=this.each(function(){var e=y(this);if(e.is("select")){var t=e.data("selectpicker"),i="object"==typeof d&&d;if(i.title&&(i.placeholder=i.title),t){if(i)for(var s in i)Object.prototype.hasOwnProperty.call(i,s)&&(t.options[s]=i[s])}else{var o,n=e.data();for(o in n)Object.prototype.hasOwnProperty.call(n,o)&&-1!==y.inArray(o,N)&&delete n[o];var a=y.extend({},E.DEFAULTS,y.fn.selectpicker.defaults||{},h(e),n,i);a.template=y.extend({},E.DEFAULTS.template,y.fn.selectpicker.defaults?y.fn.selectpicker.defaults.template:{},n.template,i.template),e.data("selectpicker",t=new E(this,a))}"string"==typeof d&&(r=t[d]instanceof Function?t[d].apply(t,l):t.options[d])}});return void 0!==r?r:s}E.VERSION="1.14.0-beta2",E.DEFAULTS={noneSelectedText:"Nothing selected",noneResultsText:"No results matched {0}",countSelectedText:function(e,t){return 1==e?"{0} item selected":"{0} items selected"},maxOptionsText:function(e,t){return[1==e?"Limit reached ({n} item max)":"Limit reached ({n} items max)",1==t?"Group limit reached ({n} item max)":"Group limit reached ({n} items max)"]},selectAllText:"Select All",deselectAllText:"Deselect All",source:{},chunkSize:40,doneButton:!1,doneButtonText:"Close",multipleSeparator:", ",styleBase:"btn",style:O.BUTTONCLASS,size:"auto",title:null,placeholder:null,allowClear:!1,selectedTextFormat:"values",width:!1,container:!1,hideDisabled:!1,showSubtext:!1,showIcon:!0,showContent:!0,dropupAuto:!0,header:!1,liveSearch:!1,liveSearchPlaceholder:null,liveSearchNormalize:!1,liveSearchStyle:"contains",actionsBox:!1,iconBase:O.ICONBASE,tickIcon:O.TICKICON,showTick:!1,template:{caret:'<span class="caret"></span>'},maxOptions:!1,mobile:!1,selectOnTab:!1,dropdownAlignRight:!1,windowPadding:0,virtualScroll:600,display:!1,sanitize:!0,sanitizeFn:null,whiteList:{"*":["class","dir","id","lang","role","tabindex","style",/^aria-[\w-]*$/i],a:["target","href","title","rel"],area:[],b:[],br:[],col:[],code:[],div:[],em:[],hr:[],h1:[],h2:[],h3:[],h4:[],h5:[],h6:[],i:[],img:["src","alt","title","width","height"],li:[],ol:[],p:[],pre:[],s:[],small:[],span:[],sub:[],sup:[],strong:[],u:[],ul:[]}},E.prototype={constructor:E,init:function(){var i=this,e=this.$element.attr("id"),t=this.$element[0],s=t.form;x++,this.selectId="bs-select-"+x,t.classList.add("bs-select-hidden"),this.multiple=this.$element.prop("multiple"),this.autofocus=this.$element.prop("autofocus"),t.classList.contains("show-tick")&&(this.options.showTick=!0),this.$newElement=this.createDropdown(),this.$element.after(this.$newElement).prependTo(this.$newElement),s&&null===t.form&&(s.id||(s.id="form-"+this.selectId),t.setAttribute("form",s.id)),this.$button=this.$newElement.children("button"),this.options.allowClear&&(this.$clearButton=this.$button.children(".bs-select-clear-selected")),this.$menu=this.$newElement.children(j.MENU),this.$menuInner=this.$menu.children(".inner"),this.$searchbox=this.$menu.find("input"),t.classList.remove("bs-select-hidden"),this.fetchData(function(){i.render(!0),i.buildList(),requestAnimationFrame(function(){i.$element.trigger("loaded"+k)})}),this.fetchData(function(){i.render(!0),i.buildList(),requestAnimationFrame(function(){i.$element.trigger("loaded"+k)})}),!0===this.options.dropdownAlignRight&&this.$menu[0].classList.add(O.MENURIGHT),void 0!==e&&this.$button.attr("data-id",e),this.checkDisabled(),this.clickListener(),4<I.major&&(this.dropdown=new v(this.$button[0])),this.options.liveSearch?(this.liveSearchListener(),this.focusedParent=this.$searchbox[0]):this.focusedParent=this.$menuInner[0],this.setStyle(),this.setWidth(),this.options.container?this.selectPosition():this.$element.on("hide"+k,function(){var e,t;i.isVirtual()&&(t=(e=i.$menuInner[0]).firstChild.cloneNode(!1),e.replaceChild(t,e.firstChild),e.scrollTop=0)}),this.$menu.data("this",this),this.$newElement.data("this",this),this.options.mobile&&this.mobile(),this.$newElement.on({"hide.bs.dropdown":function(e){i.$element.trigger("hide"+k,e)},"hidden.bs.dropdown":function(e){i.$element.trigger("hidden"+k,e)},"show.bs.dropdown":function(e){i.$element.trigger("show"+k,e)},"shown.bs.dropdown":function(e){i.$element.trigger("shown"+k,e)}}),t.hasAttribute("required")&&this.$element.on("invalid"+k,function(){i.$button[0].classList.add("bs-invalid"),i.$element.on("shown"+k+".invalid",function(){i.$element.val(i.$element.val()).off("shown"+k+".invalid")}).on("rendered"+k,function(){this.validity.valid&&i.$button[0].classList.remove("bs-invalid"),i.$element.off("rendered"+k)}),i.$button.on("blur"+k,function(){i.$element.trigger("focus").trigger("blur"),i.$button.off("blur"+k)})}),s&&y(s).on("reset"+k,function(){requestAnimationFrame(function(){i.render()})})},createDropdown:function(){var e=this.multiple||this.options.showTick?" show-tick":"",t=this.multiple?' aria-multiselectable="true"':"",i="",s=this.autofocus?" autofocus":"";I.major<4&&this.$element.parent().hasClass("input-group")&&(i=" input-group-btn");var o="",n="",a="",r="",l="";return this.options.header&&(o='<div class="'+O.POPOVERHEADER+'"><button type="button" class="close" aria-hidden="true">&times;</button>'+this.options.header+"</div>"),this.options.liveSearch&&(n='<div class="bs-searchbox"><input type="search" class="form-control" autocomplete="off"'+(null===this.options.liveSearchPlaceholder?"":' placeholder="'+w(this.options.liveSearchPlaceholder)+'"')+' role="combobox" aria-label="Search" aria-controls="'+this.selectId+'" aria-autocomplete="list"></div>'),this.multiple&&this.options.actionsBox&&(a='<div class="bs-actionsbox"><div class="btn-group btn-group-sm"><button type="button" class="actions-btn bs-select-all btn '+O.BUTTONCLASS+'">'+this.options.selectAllText+'</button><button type="button" class="actions-btn bs-deselect-all btn '+O.BUTTONCLASS+'">'+this.options.deselectAllText+"</button></div></div>"),this.multiple&&this.options.doneButton&&(r='<div class="bs-donebutton"><div class="btn-group"><button type="button" class="btn btn-sm '+O.BUTTONCLASS+'">'+this.options.doneButtonText+"</button></div></div>"),this.options.allowClear&&(l='<span class="close bs-select-clear-selected" title="'+this.options.deselectAllText+'"><span>&times;</span>'),e='<div class="dropdown bootstrap-select'+e+i+'"><button type="button" tabindex="-1" class="'+this.options.styleBase+' dropdown-toggle" '+("static"===this.options.display?'data-display="static"':"")+j.DATA_TOGGLE+s+' role="combobox" aria-owns="'+this.selectId+'" aria-haspopup="listbox" aria-expanded="false"><div class="filter-option"><div class="filter-option-inner"><div class="filter-option-inner-inner">&nbsp;</div></div> </div>'+l+"</span>"+("4"<=I.major?"":'<span class="bs-caret">'+this.options.template.caret+"</span>")+'</button><div class="'+O.MENU+" "+("4"<=I.major?"":O.SHOW)+'">'+o+n+a+'<div class="inner '+O.SHOW+'" role="listbox" id="'+this.selectId+'" tabindex="-1" '+t+'><ul class="'+O.MENU+" inner "+("4"<=I.major?O.SHOW:"")+'" role="presentation"></ul></div>'+r+"</div></div>",y(e)},setPositionData:function(){this.selectpicker.view.canHighlight=[],this.selectpicker.view.size=0,this.selectpicker.view.firstHighlightIndex=!1;for(var e=0;e<this.selectpicker.current.data.length;e++){var t=this.selectpicker.current.data[e],i=!0;"divider"===t.type?(i=!1,t.height=this.sizeInfo.dividerHeight):"optgroup-label"===t.type?(i=!1,t.height=this.sizeInfo.dropdownHeaderHeight):t.height=this.sizeInfo.liHeight,t.disabled&&(i=!1),this.selectpicker.view.canHighlight.push(i),i&&(this.selectpicker.view.size++,t.posinset=this.selectpicker.view.size,!1===this.selectpicker.view.firstHighlightIndex)&&(this.selectpicker.view.firstHighlightIndex=e),t.position=(0===e?0:this.selectpicker.current.data[e-1].position)+t.height}},isVirtual:function(){return!1!==this.options.virtualScroll&&this.selectpicker.main.data.length>=this.options.virtualScroll||!0===this.options.virtualScroll},createView:function(S,e,t){var C,D,$=this,i=0,I=[];function x(e,t){var i,s=$.selectpicker.current.data.length,o=[],n=!0,a=$.isVirtual();$.selectpicker.view.scrollTop=e;for(var r,l=$.options.chunkSize,d=Math.ceil(s/l)||1,h=0;h<d;h++){var c=h===d-1?s:(h+1)*l;if(o[h]=[h*l+(h?1:0),c],!s)break;void 0===i&&e-1<=$.selectpicker.current.data[c-1].position-$.sizeInfo.menuInnerHeight&&(i=h)}if(void 0===i&&(i=0),b=[$.selectpicker.view.position0,$.selectpicker.view.position1],u=Math.max(0,i-1),m=Math.min(d-1,i+1),$.selectpicker.view.position0=!1!==a&&Math.max(0,o[u][0])||0,$.selectpicker.view.position1=!1===a?s:Math.min(s,o[m][1])||0,u=b[0]!==$.selectpicker.view.position0||b[1]!==$.selectpicker.view.position1,void 0!==$.activeIndex&&(D=($.selectpicker.main.data[$.prevActiveIndex]||{}).element,I=($.selectpicker.main.data[$.activeIndex]||{}).element,C=($.selectpicker.main.data[$.selectedIndex]||{}).element,t&&($.activeIndex!==$.selectedIndex&&$.defocusItem(I),$.activeIndex=void 0),$.activeIndex)&&$.activeIndex!==$.selectedIndex&&$.defocusItem(C),void 0!==$.prevActiveIndex&&$.prevActiveIndex!==$.activeIndex&&$.prevActiveIndex!==$.selectedIndex&&$.defocusItem(D),t||u){if(m=$.selectpicker.view.visibleElements?$.selectpicker.view.visibleElements.slice():[],$.selectpicker.view.visibleElements=!1===a?$.selectpicker.current.elements:$.selectpicker.current.elements.slice($.selectpicker.view.position0,$.selectpicker.view.position1),$.setOptionStatus(),(S||!1===a&&t)&&(b=m,r=$.selectpicker.view.visibleElements,n=!(b.length===r.length&&b.every(function(e,t){return e===r[t]}))),(t||!0===a)&&n){var u=$.$menuInner[0],p=document.createDocumentFragment(),m=u.firstChild.cloneNode(!1),g=$.selectpicker.view.visibleElements,f=[];u.replaceChild(m,u.firstChild);for(var b,h=0,_=g.length;h<_;h++){var v,w,y=g[h];$.options.sanitize&&(v=y.lastChild)&&(w=$.selectpicker.current.data[h+$.selectpicker.view.position0])&&w.content&&!w.sanitized&&(f.push(v),w.sanitized=!0),p.appendChild(y)}$.options.sanitize&&f.length&&T(f,$.options.whiteList,$.options.sanitizeFn),!0===a?(b=0===$.selectpicker.view.position0?0:$.selectpicker.current.data[$.selectpicker.view.position0-1].position,n=$.selectpicker.view.position1>s-1?0:$.selectpicker.current.data[s-1].position-$.selectpicker.current.data[$.selectpicker.view.position1-1].position,u.firstChild.style.marginTop=b+"px",u.firstChild.style.marginBottom=n+"px"):(u.firstChild.style.marginTop=0,u.firstChild.style.marginBottom=0),u.firstChild.appendChild(p),!0===a&&$.sizeInfo.hasScrollBar&&(m=u.firstChild.offsetWidth,t&&m<$.sizeInfo.menuInnerInnerWidth&&$.sizeInfo.totalMenuWidth>$.sizeInfo.selectWidth?u.firstChild.style.minWidth=$.sizeInfo.menuInnerInnerWidth+"px":m>$.sizeInfo.menuInnerInnerWidth&&($.$menu[0].style.minWidth=0,(b=u.firstChild.offsetWidth)>$.sizeInfo.menuInnerInnerWidth&&($.sizeInfo.menuInnerInnerWidth=b,u.firstChild.style.minWidth=$.sizeInfo.menuInnerInnerWidth+"px"),$.$menu[0].style.minWidth=""))}(!S&&$.options.source.load||S&&$.options.source.search)&&i===d-1&&$.fetchData(function(){$.render(),$.buildList(s,S),$.setPositionData(),x(e)},S?"search":"load",i+1,S?$.selectpicker.search.previousValue:void 0)}$.prevActiveIndex=$.activeIndex,$.options.liveSearch?S&&t&&($.selectpicker.view.canHighlight[n=0]||(n=1+$.selectpicker.view.canHighlight.slice(1).indexOf(!0)),a=$.selectpicker.view.visibleElements[n],$.defocusItem($.selectpicker.view.currentActive),$.activeIndex=($.selectpicker.current.data[n]||{}).index,$.focusItem(a)):$.$menuInner.trigger("focus")}this.selectpicker.isSearching=S,this.selectpicker.current=S?this.selectpicker.search:this.selectpicker.main,this.setPositionData(),e&&(t?i=this.$menuInner[0].scrollTop:$.multiple||"number"==typeof(t=((e=$.$element[0]).options[e.selectedIndex]||{}).liIndex)&&!1!==$.options.size&&(t=(e=$.selectpicker.main.data[t])&&e.position)&&(i=t-($.sizeInfo.menuInnerHeight+$.sizeInfo.liHeight)/2)),x(i,!0),this.$menuInner.off("scroll.createView").on("scroll.createView",function(e,t){$.noScroll||x(this.scrollTop,t),$.noScroll=!1}),y(window).off("resize"+k+"."+this.selectId+".createView").on("resize"+k+"."+this.selectId+".createView",function(){$.$newElement.hasClass(O.SHOW)&&x($.$menuInner[0].scrollTop)})},focusItem:function(e,t,i){var s;e&&(t=t||this.selectpicker.main.data[this.activeIndex],s=e.firstChild)&&(s.setAttribute("aria-setsize",this.selectpicker.view.size),s.setAttribute("aria-posinset",t.posinset),!0!==i)&&(this.focusedParent.setAttribute("aria-activedescendant",s.id),e.classList.add("active"),s.classList.add("active"))},defocusItem:function(e){e&&(e.classList.remove("active"),e.firstChild)&&e.firstChild.classList.remove("active")},setPlaceholder:function(){var e,t,i,s,o,n,a,r=this,l=!1;return!this.options.placeholder&&!this.options.allowClear||this.multiple||(this.selectpicker.view.titleOption||(this.selectpicker.view.titleOption=document.createElement("option")),e=this.$element[0],t=!(l=!0),i=!this.selectpicker.view.titleOption.parentNode,s=e.selectedIndex,o=e.options[s],n=(n=e.querySelector("select > *:not(:disabled)"))?n.index:0,a=(a=window.performance&&window.performance.getEntriesByType("navigation"))&&a.length?"back_forward"!==a[0].type:2!==window.performance.navigation.type,i&&(this.selectpicker.view.titleOption.className="bs-title-option",this.selectpicker.view.titleOption.value="",t=!o||s===n&&!1===o.defaultSelected&&void 0===this.$element.data("selected")),!i&&0===this.selectpicker.view.titleOption.index||e.insertBefore(this.selectpicker.view.titleOption,e.firstChild),t&&a?e.selectedIndex=0:"complete"!==document.readyState&&window.addEventListener("pageshow",function(){r.selectpicker.view.displayedValue!==e.value&&r.render()})),l},fetchData:function(t,i,e,s){i=i||"data";var o,n=this,a=this.options.source[i];a?(this.options.virtualScroll=!0,"function"==typeof a?a.call(this,function(e){o=n.buildData(e,i),t.call(n,o)},e,s):Array.isArray(a)&&(o=n.buildData(a,i),t.call(n,o))):(o=this.buildData(!1,i),t.call(n,o))},buildData:function(c,e){var u=!1===c?P.fromOption:P.fromDataSource,p=':not([hidden]):not([data-hidden="true"])',m=[],n=0,g=0,f=this.setPlaceholder()&&!c?1:0,t=("load"===e?n=this.selectpicker.main.data.length:"search"===e&&(n=this.selectpicker.search.data.length),this.options.hideDisabled&&(p+=":not(:disabled)"),c?c.filter(X,this):this.$element[0].querySelectorAll("select > *"+p));function b(e){var t=m[m.length-1];t&&"divider"===t.type&&(t.optID||e.optID)||((e=e||{}).type="divider",m.push(e))}function _(e,t){var i,s,o;(t=t||{}).divider=u(e,"divider"),!0===t.divider?b({optID:t.optID}):(i=m.length+n,s=(s=u(e,"style"))?w(s):"",o=(e.className||"")+(t.optgroupClass||""),t.optID&&(o="opt "+o),t.optionClass=o.trim(),t.inlineStyle=s,t.text=u(e,"text"),t.content=u(e,"content"),t.tokens=u(e,"tokens"),t.subtext=u(e,"subtext"),t.icon=u(e,"icon"),t.display=t.content||t.text,t.value=void 0===e.value?e.text:e.value,t.type="option",t.index=i,t.option=e.option||e,t.option.liIndex=i,t.selected=!!e.selected,t.disabled=t.disabled||!!e.disabled,m.push(t))}function i(e,t){var i=t[e],s=!(e-1<f)&&t[e-1],t=t[e+1],o=c?i.children.filter(X,this):i.querySelectorAll("option"+p);if(o.length){var n,a,r={display:w(u(v,"label")),subtext:u(i,"subtext"),icon:u(i,"icon"),type:"optgroup-label",optgroupClass:" "+(i.className||"")};g++,s&&b({optID:g}),r.optID=g,m.push(r);for(var l=0,d=o.length;l<d;l++){var h=o[l];0===l&&(a=(n=m.length-1)+d),_(h,{headerIndex:n,lastIndex:a,optID:r.optID,optgroupClass:r.optgroupClass,disabled:i.disabled})}t&&b({optID:g})}}for(var s=t.length,o=f;o<s;o++){var v=t[o],a=v.children;a&&a.length?i.call(this,f,t):_.call(this,v,{})}switch(e){case"data":this.selectpicker.main.data=this.selectpicker.current.data=m;break;case"load":Array.prototype.push.apply(this.selectpicker.main.data,m),this.selectpicker.current.data=this.selectpicker.main.data;break;case"search":Array.prototype.push.apply(this.selectpicker.search.data,m)}return m},buildList:function(e,t){var i=this,s=(t?this.selectpicker.search:this.selectpicker.main).data,o=[],n=0;!i.options.showTick&&!i.multiple||A.checkMark.parentNode||(A.checkMark.className=this.options.iconBase+" "+i.options.tickIcon+" check-mark",A.a.appendChild(A.checkMark));for(var a=s.length,r=e||0;r<a;r++){c=l=h=d=void 0;var l,d=o,h=s[r],c=0;switch(h.type){case"divider":l=L.li(!1,O.DIVIDER,h.optID?h.optID+"div":void 0);break;case"option":(l=L.li(L.a(L.text.call(i,h),h.optionClass,h.inlineStyle),"",h.optID)).firstChild&&(l.firstChild.id=i.selectId+"-"+h.index);break;case"optgroup-label":l=L.li(L.label.call(i,h),"dropdown-header"+h.optgroupClass,h.optID)}h.element=l,d.push(l),h.display&&(c+=h.display.length),h.subtext&&(c+=h.subtext.length),h.icon&&(c+=1),n<c&&(n=c,i.selectpicker.view.widestOption=d[d.length-1])}e?t?Array.prototype.push.apply(this.selectpicker.search.elements,o):(Array.prototype.push.apply(this.selectpicker.main.elements,o),this.selectpicker.current.elements=this.selectpicker.main.elements):t?this.selectpicker.search.elements=o:this.selectpicker.main.elements=this.selectpicker.current.elements=o},findLis:function(){return this.$menuInner.find(".inner > li")},render:function(e){var i=this,t=this.$element[0],s=this.setPlaceholder()&&0===t.selectedIndex,o=S.call(this),n=o.length,a=C.call(this,o),r=this.$button[0],l=r.querySelector(".filter-option-inner-inner"),d=document.createTextNode(this.options.multipleSeparator),h=A.fragment.cloneNode(!1),c=!1;if(this.options.source.data&&e&&(o.map(function e(t){t.selected?i.createOption(t,!0):t.children&&t.children.length&&t.children.map(e)}),t.appendChild(this.selectpicker.main.optionQueue),s=s&&0===t.selectedIndex),r.classList.toggle("bs-placeholder",i.multiple?!n:!a&&0!==a),i.multiple||1!==o.length||(i.selectpicker.view.displayedValue=a),"static"===this.options.selectedTextFormat)h=L.text.call(this,{text:this.options.placeholder},!0);else if(!1===(this.multiple&&-1!==this.options.selectedTextFormat.indexOf("count")&&1<n&&(1<(e=this.options.selectedTextFormat.split(">")).length&&n>e[1]||1===e.length&&2<=n))){if(!s){for(var u=0;u<n&&u<50;u++){var p=o[u],m={};p&&(this.multiple&&0<u&&h.appendChild(d.cloneNode(!1)),p.title?m.text=p.title:p.content&&i.options.showContent?(m.content=p.content.toString(),c=!0):(i.options.showIcon&&(m.icon=p.icon),i.options.showSubtext&&!i.multiple&&p.subtext&&(m.subtext=" "+p.subtext),m.text=p.text.trim()),h.appendChild(L.text.call(this,m,!0)))}49<n&&h.appendChild(document.createTextNode("..."))}}else var t=':not([hidden]):not([data-hidden="true"]):not([data-divider="true"])',a=(this.options.hideDisabled&&(t+=":not(:disabled)"),this.$element[0].querySelectorAll("select > option"+t+", optgroup"+t+" option"+t).length),e="function"==typeof this.options.countSelectedText?this.options.countSelectedText(n,a):this.options.countSelectedText,h=L.text.call(this,{text:e.replace("{0}",n.toString()).replace("{1}",a.toString())},!0);h.childNodes.length||(h=L.text.call(this,{text:this.options.placeholder||this.options.noneSelectedText},!0)),r.title=h.textContent.replace(/<[^>]*>?/g,"").trim(),this.options.sanitize&&c&&T([h],i.options.whiteList,i.options.sanitizeFn),l.innerHTML="",l.appendChild(h),I.major<4&&this.$newElement[0].classList.contains("bs3-has-addon")&&(s=r.querySelector(".filter-expand"),(t=l.cloneNode(!0)).className="filter-expand",s?r.replaceChild(t,s):r.appendChild(t)),this.$element.trigger("rendered"+k)},setStyle:function(e,t){var i=this.$button[0],s=this.$newElement[0],o=this.options.style.trim();this.$element.attr("class")&&this.$newElement.addClass(this.$element.attr("class").replace(/selectpicker|mobile-device|bs-select-hidden|validate\[.*\]/gi,"")),I.major<4&&(s.classList.add("bs3"),s.parentNode.classList)&&s.parentNode.classList.contains("input-group")&&(s.previousElementSibling||s.nextElementSibling)&&(s.previousElementSibling||s.nextElementSibling).classList.contains("input-group-addon")&&s.classList.add("bs3-has-addon"),s=e?e.trim():o,"add"==t?s&&i.classList.add.apply(i.classList,s.split(" ")):"remove"==t?s&&i.classList.remove.apply(i.classList,s.split(" ")):(o&&i.classList.remove.apply(i.classList,o.split(" ")),s&&i.classList.add.apply(i.classList,s.split(" ")))},liHeight:function(e){if(e||!1!==this.options.size&&!Object.keys(this.sizeInfo).length){var t,e=A.div.cloneNode(!1),i=A.div.cloneNode(!1),s=A.div.cloneNode(!1),o=document.createElement("ul"),n=A.li.cloneNode(!1),a=A.li.cloneNode(!1),r=A.a.cloneNode(!1),l=A.span.cloneNode(!1),d=this.options.header&&0<this.$menu.find("."+O.POPOVERHEADER).length?this.$menu.find("."+O.POPOVERHEADER)[0].cloneNode(!0):null,h=this.options.liveSearch?A.div.cloneNode(!1):null,c=this.options.actionsBox&&this.multiple&&0<this.$menu.find(".bs-actionsbox").length?this.$menu.find(".bs-actionsbox")[0].cloneNode(!0):null,u=this.options.doneButton&&this.multiple&&0<this.$menu.find(".bs-donebutton").length?this.$menu.find(".bs-donebutton")[0].cloneNode(!0):null,p=this.$element[0].options[0];if(this.sizeInfo.selectWidth=this.$newElement[0].offsetWidth,l.className="text",r.className="dropdown-item "+(p?p.className:""),e.className=this.$menu[0].parentNode.className+" "+O.SHOW,e.style.width=0,"auto"===this.options.width&&(i.style.minWidth=0),i.className=O.MENU+" "+O.SHOW,s.className="inner "+O.SHOW,o.className=O.MENU+" inner "+("4"<=I.major?O.SHOW:""),n.className=O.DIVIDER,a.className="dropdown-header",l.appendChild(document.createTextNode("​")),this.selectpicker.current.data.length)for(var m=0;m<this.selectpicker.current.data.length;m++){var g=this.selectpicker.current.data[m];if("option"===g.type){t=g.element;break}}else t=A.li.cloneNode(!1),r.appendChild(l),t.appendChild(r);a.appendChild(l.cloneNode(!0)),this.selectpicker.view.widestOption&&o.appendChild(this.selectpicker.view.widestOption.cloneNode(!0)),o.appendChild(t),o.appendChild(n),o.appendChild(a),d&&i.appendChild(d),h&&(p=document.createElement("input"),h.className="bs-searchbox",p.className="form-control",h.appendChild(p),i.appendChild(h)),c&&i.appendChild(c),s.appendChild(o),i.appendChild(s),u&&i.appendChild(u),e.appendChild(i),document.body.appendChild(e);r=t.offsetHeight,l=a?a.offsetHeight:0,p=d?d.offsetHeight:0,o=h?h.offsetHeight:0,a=c?c.offsetHeight:0,d=u?u.offsetHeight:0,h=y(n).outerHeight(!0),c=window.getComputedStyle(i),u=i.offsetWidth,n={vert:f(c.paddingTop)+f(c.paddingBottom)+f(c.borderTopWidth)+f(c.borderBottomWidth),horiz:f(c.paddingLeft)+f(c.paddingRight)+f(c.borderLeftWidth)+f(c.borderRightWidth)},c={vert:n.vert+f(c.marginTop)+f(c.marginBottom)+2,horiz:n.horiz+f(c.marginLeft)+f(c.marginRight)+2};s.style.overflowY="scroll",s=i.offsetWidth-u,document.body.removeChild(e),this.sizeInfo.liHeight=r,this.sizeInfo.dropdownHeaderHeight=l,this.sizeInfo.headerHeight=p,this.sizeInfo.searchHeight=o,this.sizeInfo.actionsHeight=a,this.sizeInfo.doneButtonHeight=d,this.sizeInfo.dividerHeight=h,this.sizeInfo.menuPadding=n,this.sizeInfo.menuExtras=c,this.sizeInfo.menuWidth=u,this.sizeInfo.menuInnerInnerWidth=u-n.horiz,this.sizeInfo.totalMenuWidth=this.sizeInfo.menuWidth,this.sizeInfo.scrollBarWidth=s,this.sizeInfo.selectHeight=this.$newElement[0].offsetHeight,this.setPositionData()}},getSelectPosition:function(){var e,t=y(window),i=this.$newElement.offset(),s=y(this.options.container),s=(this.options.container&&s.length&&!s.is("body")?((e=s.offset()).top+=parseInt(s.css("borderTopWidth")),e.left+=parseInt(s.css("borderLeftWidth"))):e={top:0,left:0},this.options.windowPadding);this.sizeInfo.selectOffsetTop=i.top-e.top-t.scrollTop(),this.sizeInfo.selectOffsetBot=t.height()-this.sizeInfo.selectOffsetTop-this.sizeInfo.selectHeight-e.top-s[2],this.sizeInfo.selectOffsetLeft=i.left-e.left-t.scrollLeft(),this.sizeInfo.selectOffsetRight=t.width()-this.sizeInfo.selectOffsetLeft-this.sizeInfo.selectWidth-e.left-s[1],this.sizeInfo.selectOffsetTop-=s[0],this.sizeInfo.selectOffsetLeft-=s[3]},setMenuSize:function(e){this.getSelectPosition();var t,i,s,o,n,a,r=this.sizeInfo.selectWidth,l=this.sizeInfo.liHeight,d=this.sizeInfo.headerHeight,h=this.sizeInfo.searchHeight,c=this.sizeInfo.actionsHeight,u=this.sizeInfo.doneButtonHeight,p=this.sizeInfo.dividerHeight,m=this.sizeInfo.menuPadding,g=0;if(this.options.dropupAuto&&(a=l*this.selectpicker.current.data.length+m.vert,a=this.sizeInfo.selectOffsetTop-this.sizeInfo.selectOffsetBot>this.sizeInfo.menuExtras.vert&&a+this.sizeInfo.menuExtras.vert+50>this.sizeInfo.selectOffsetBot,!0===this.selectpicker.isSearching&&(a=this.selectpicker.dropup),this.$newElement.toggleClass(O.DROPUP,a),this.selectpicker.dropup=a),"auto"===this.options.size)a=3<this.selectpicker.current.data.length?3*this.sizeInfo.liHeight+this.sizeInfo.menuExtras.vert-2:0,i=this.sizeInfo.selectOffsetBot-this.sizeInfo.menuExtras.vert,s=a+d+h+c+u,n=Math.max(a-m.vert,0),t=(o=i=this.$newElement.hasClass(O.DROPUP)?this.sizeInfo.selectOffsetTop-this.sizeInfo.menuExtras.vert:i)-d-h-c-u-m.vert;else if(this.options.size&&"auto"!=this.options.size&&this.selectpicker.current.elements.length>this.options.size){for(var f=0;f<this.options.size;f++)"divider"===this.selectpicker.current.data[f].type&&g++;t=(i=l*this.options.size+g*p+m.vert)-m.vert,o=i+d+h+c+u,s=n=""}this.$menu.css({"max-height":o+"px",overflow:"hidden","min-height":s+"px"}),this.$menuInner.css({"max-height":t+"px","overflow-y":"auto","min-height":n+"px"}),this.sizeInfo.menuInnerHeight=Math.max(t,1),this.selectpicker.current.data.length&&this.selectpicker.current.data[this.selectpicker.current.data.length-1].position>this.sizeInfo.menuInnerHeight&&(this.sizeInfo.hasScrollBar=!0,this.sizeInfo.totalMenuWidth=this.sizeInfo.menuWidth+this.sizeInfo.scrollBarWidth),"auto"===this.options.dropdownAlignRight&&this.$menu.toggleClass(O.MENURIGHT,this.sizeInfo.selectOffsetLeft>this.sizeInfo.selectOffsetRight&&this.sizeInfo.selectOffsetRight<this.sizeInfo.totalMenuWidth-r),this.dropdown&&this.dropdown._popper&&this.dropdown._popper.update()},setSize:function(e){var t,i;this.liHeight(e),this.options.header&&this.$menu.css("padding-top",0),!1!==this.options.size&&(t=this,i=y(window),this.setMenuSize(),this.options.liveSearch&&this.$searchbox.off("input.setMenuSize propertychange.setMenuSize").on("input.setMenuSize propertychange.setMenuSize",function(){return t.setMenuSize()}),"auto"===this.options.size?i.off("resize"+k+"."+this.selectId+".setMenuSize scroll"+k+"."+this.selectId+".setMenuSize").on("resize"+k+"."+this.selectId+".setMenuSize scroll"+k+"."+this.selectId+".setMenuSize",function(){return t.setMenuSize()}):this.options.size&&"auto"!=this.options.size&&this.selectpicker.current.elements.length>this.options.size&&i.off("resize"+k+"."+this.selectId+".setMenuSize scroll"+k+"."+this.selectId+".setMenuSize")),this.createView(!1,!0,e)},setWidth:function(){var i=this;"auto"===this.options.width?requestAnimationFrame(function(){i.$menu.css("min-width","0"),i.$element.on("loaded"+k,function(){i.liHeight(),i.setMenuSize();var e=i.$newElement.clone().appendTo("body"),t=e.css("width","auto").children("button").outerWidth();e.remove(),i.sizeInfo.selectWidth=Math.max(i.sizeInfo.totalMenuWidth,t),i.$newElement.css("width",i.sizeInfo.selectWidth+"px")})}):"fit"===this.options.width?(this.$menu.css("min-width",""),this.$newElement.css("width","").addClass("fit-width")):this.options.width?(this.$menu.css("min-width",""),this.$newElement.css("width",this.options.width)):(this.$menu.css("min-width",""),this.$newElement.css("width","")),this.$newElement.hasClass("fit-width")&&"fit"!==this.options.width&&this.$newElement[0].classList.remove("fit-width")},selectPosition:function(){function e(e){var t={},i=a.options.display||!!y.fn.dropdown.Constructor.Default&&y.fn.dropdown.Constructor.Default.display;a.$bsContainer.addClass(e.attr("class").replace(/form-control|fit-width/gi,"")).toggleClass(O.DROPUP,e.hasClass(O.DROPUP)),s=e.offset(),r.is("body")?o={top:0,left:0}:((o=r.offset()).top+=parseInt(r.css("borderTopWidth"))-r.scrollTop(),o.left+=parseInt(r.css("borderLeftWidth"))-r.scrollLeft()),n=e.hasClass(O.DROPUP)?0:e[0].offsetHeight,(I.major<4||"static"===i)&&(t.top=s.top-o.top+n,t.left=s.left-o.left),t.width=e[0].offsetWidth,a.$bsContainer.css(t)}this.$bsContainer=y('<div class="bs-container" />');var s,o,n,a=this,r=y(this.options.container);this.$button.on("click.bs.dropdown.data-api",function(){a.isDisabled()||(e(a.$newElement),a.$bsContainer.appendTo(a.options.container).toggleClass(O.SHOW,!a.$button.hasClass(O.SHOW)).append(a.$menu))}),y(window).off("resize"+k+"."+this.selectId+" scroll"+k+"."+this.selectId).on("resize"+k+"."+this.selectId+" scroll"+k+"."+this.selectId,function(){a.$newElement.hasClass(O.SHOW)&&e(a.$newElement)}),this.$element.on("hide"+k,function(){a.$menu.data("height",a.$menu.height()),a.$bsContainer.detach()})},createOption:function(e,t){var i,s=e.option||e;s&&1!==s.nodeType&&(i=(t?A.selectedOption:A.option).cloneNode(!0),void 0!==s.value&&(i.value=s.value),i.textContent=s.text,i.selected=!0,void 0!==s.liIndex?i.liIndex=s.liIndex:t||(i.liIndex=e.index),e.option=i,this.selectpicker.main.optionQueue.appendChild(i))},setOptionStatus:function(e){if(this.noScroll=!1,this.selectpicker.view.visibleElements&&this.selectpicker.view.visibleElements.length){for(var t=0;t<this.selectpicker.view.visibleElements.length;t++){var i=this.selectpicker.current.data[t+this.selectpicker.view.position0];i.option&&(!0!==e&&this.setDisabled(i),this.setSelected(i))}this.options.source.data&&this.$element[0].appendChild(this.selectpicker.main.optionQueue)}},setSelected:function(e,t){t=void 0===t?e.selected:t;var i,s=e.index,o=e.element,n=void 0!==this.activeIndex,a=this.activeIndex===s||t&&!this.multiple&&!n;o&&(void 0!==t&&(e.selected=t,e.option)&&(e.option.selected=t),t&&this.options.source.data&&this.createOption(e,!1),i=o.firstChild,t&&(this.selectedIndex=s),o.classList.toggle("selected",t),a?(this.focusItem(o,e),this.selectpicker.view.currentActive=o,this.activeIndex=s):this.defocusItem(o),i&&(i.classList.toggle("selected",t),t?i.setAttribute("aria-selected",!0):this.multiple?i.setAttribute("aria-selected",!1):i.removeAttribute("aria-selected")),a||n||!t||void 0===this.prevActiveIndex||(e=this.selectpicker.main.elements[this.prevActiveIndex],this.defocusItem(e)))},setDisabled:function(e){var t,i=e.disabled,e=e.element;e&&(t=e.firstChild,e.classList.toggle(O.DISABLED,i),t)&&("4"<=I.major&&t.classList.toggle(O.DISABLED,i),i?(t.setAttribute("aria-disabled",i),t.setAttribute("tabindex",-1)):(t.removeAttribute("aria-disabled"),t.setAttribute("tabindex",0)))},isDisabled:function(){return this.$element[0].disabled},checkDisabled:function(){this.isDisabled()?(this.$newElement[0].classList.add(O.DISABLED),this.$button.addClass(O.DISABLED).attr("aria-disabled",!0)):this.$button[0].classList.contains(O.DISABLED)&&(this.$newElement[0].classList.remove(O.DISABLED),this.$button.removeClass(O.DISABLED).attr("aria-disabled",!1))},clickListener:function(){var w=this,t=y(document);function e(){(w.options.liveSearch?w.$searchbox:w.$menuInner).trigger("focus")}function i(){w.dropdown&&w.dropdown._popper&&w.dropdown._popper.state?e():requestAnimationFrame(i)}t.data("spaceSelect",!1),this.$button.on("keyup",function(e){/(32)/.test(e.keyCode.toString(10))&&t.data("spaceSelect")&&(e.preventDefault(),t.data("spaceSelect",!1))}),this.$newElement.on("show.bs.dropdown",function(){w.dropdown||"4"!==I.major||(w.dropdown=w.$button.data("bs.dropdown"),w.dropdown._menu=w.$menu[0])}),this.$button.on("click.bs.dropdown.data-api",function(e){var t,i,s;w.options.allowClear&&(t=e.target,i=w.$clearButton[0],(t=/MSIE|Trident/.test(window.navigator.userAgent)?document.elementFromPoint(e.clientX,e.clientY):t)!==i&&t.parentElement!==i||(e.stopImmediatePropagation(),w.multiple?w.deselectAll():(i=(t=w.$element[0]).value,e=t.selectedIndex,(s=!!(s=t.options[e])&&w.selectpicker.main.data[s.liIndex])&&w.setSelected(s,!1),t.selectedIndex=0,D=[e,!1,i],w.$element.triggerNative("change")),w.$newElement.hasClass(O.SHOW)&&(w.options.liveSearch&&w.$searchbox.trigger("focus"),w.createView(!1)))),w.$newElement.hasClass(O.SHOW)||w.setSize()}),this.$element.on("shown"+k,function(){w.$menuInner[0].scrollTop!==w.selectpicker.view.scrollTop&&(w.$menuInner[0].scrollTop=w.selectpicker.view.scrollTop),3<I.major?requestAnimationFrame(i):e()}),this.$menuInner.on("mouseenter","li a",function(e){var t=this.parentElement,i=w.isVirtual()?w.selectpicker.view.position0:0,s=Array.prototype.indexOf.call(t.parentElement.children,t),s=w.selectpicker.current.data[s+i];w.focusItem(t,s,!0)}),this.$menuInner.on("click","li a",function(e,t){var i=y(this),s=w.$element[0],o=w.isVirtual()?w.selectpicker.view.position0:0,o=w.selectpicker.current.data[i.parent().index()+o],n=o.index,a=C.call(w),r=s.selectedIndex,l=s.options[r],l=!!l&&w.selectpicker.main.data[l.liIndex],d=!0;if(w.multiple&&1!==w.options.maxOptions&&e.stopPropagation(),e.preventDefault(),!w.isDisabled()&&!i.parent().hasClass(O.DISABLED)){var e=o.option,i=y(e),h=e.selected,c=i.parent("optgroup"),u=c.find("option"),p=w.options.maxOptions,m=c.data("maxOptions")||!1;if((t=n===w.activeIndex?!0:t)||(w.prevActiveIndex=w.activeIndex,w.activeIndex=void 0),w.multiple){if(w.setSelected(o,!h),w.focusedParent.focus(),!1!==p||!1!==m){t=p<S.call(w).length,h=m<c.find("option:selected").length;if(p&&t||m&&h)if(p&&1==p)s.selectedIndex=-1,e.selected=!0,w.setOptionStatus(!0);else if(m&&1==m){for(var g=0;g<u.length;g++){var f=u[g];f.selected=!1,w.setSelected(f.liIndex,!1)}e.selected=!0,w.setSelected(n,!0)}else{var c="string"==typeof w.options.maxOptionsText?[w.options.maxOptionsText,w.options.maxOptionsText]:w.options.maxOptionsText,c="function"==typeof c?c(p,m):c,b=c[0].replace("{n}",p),_=c[1].replace("{n}",m),v=y('<div class="notify"></div>');c[2]&&(b=b.replace("{var}",c[2][1<p?0:1]),_=_.replace("{var}",c[2][1<m?0:1])),e.selected=!1,w.$menu.append(v),p&&t&&(v.append(y("<div>"+b+"</div>")),d=!1,w.$element.trigger("maxReached"+k)),m&&h&&(v.append(y("<div>"+_+"</div>")),d=!1,w.$element.trigger("maxReachedGrp"+k)),setTimeout(function(){w.setSelected(n,!1)},10),v[0].classList.add("fadeOut"),setTimeout(function(){v.remove()},1050)}}}else l&&w.setSelected(l,!1),w.setSelected(o,!0);w.options.source.data&&w.$element[0].appendChild(w.selectpicker.main.optionQueue),!w.multiple||w.multiple&&1===w.options.maxOptions?w.$button.trigger("focus"):w.options.liveSearch&&w.$searchbox.trigger("focus"),!d||!w.multiple&&r===s.selectedIndex||(D=[e.index,i.prop("selected"),a],w.$element.triggerNative("change"))}}),this.$menu.on("click","li."+O.DISABLED+" a, ."+O.POPOVERHEADER+", ."+O.POPOVERHEADER+" :not(.close)",function(e){e.currentTarget==this&&(e.preventDefault(),e.stopPropagation(),(w.options.liveSearch&&!y(e.target).hasClass("close")?w.$searchbox:w.$button).trigger("focus"))}),this.$menuInner.on("click",".divider, .dropdown-header",function(e){e.preventDefault(),e.stopPropagation(),(w.options.liveSearch?w.$searchbox:w.$button).trigger("focus")}),this.$menu.on("click","."+O.POPOVERHEADER+" .close",function(){w.$button.trigger("click")}),this.$searchbox.on("click",function(e){e.stopPropagation()}),this.$menu.on("click",".actions-btn",function(e){(w.options.liveSearch?w.$searchbox:w.$button).trigger("focus"),e.preventDefault(),e.stopPropagation(),y(this).hasClass("bs-select-all")?w.selectAll():w.deselectAll()}),this.$button.on("focus"+k,function(e){var t=w.$element[0].getAttribute("tabindex");void 0!==t&&e.originalEvent&&e.originalEvent.isTrusted&&(this.setAttribute("tabindex",t),w.$element[0].setAttribute("tabindex",-1),w.selectpicker.view.tabindex=t)}).on("blur"+k,function(e){void 0!==w.selectpicker.view.tabindex&&e.originalEvent&&e.originalEvent.isTrusted&&(w.$element[0].setAttribute("tabindex",w.selectpicker.view.tabindex),this.setAttribute("tabindex",-1),w.selectpicker.view.tabindex=void 0)}),this.$element.on("change"+k,function(){w.render(),w.$element.trigger("changed"+k,D),D=null}).on("focus"+k,function(){w.options.mobile||w.$button[0].focus()})},liveSearchListener:function(){var u=this;this.$button.on("click.bs.dropdown.data-api",function(){u.$searchbox.val()&&(u.$searchbox.val(""),u.selectpicker.search.previousValue=void 0)}),this.$searchbox.on("click.bs.dropdown.data-api focus.bs.dropdown.data-api touchend.bs.dropdown.data-api",function(e){e.stopPropagation()}),this.$searchbox.on("input propertychange",function(){var t=u.$searchbox[0].value;if(u.selectpicker.search.elements=[],u.selectpicker.search.data=[],t)if(u.options.source.search)u.fetchData(function(e){u.render(),u.buildList(void 0,!0),u.createView(!0),Y.call(u,e,t)},"search",0,t);else{var e=[],i=t.toUpperCase(),s={},o=[],n=u._searchStyle(),a=u.options.liveSearchNormalize;a&&(i=b(i));for(var r=0;r<u.selectpicker.main.data.length;r++){var l=u.selectpicker.main.data[r];s[r]||(s[r]=_(l,i,n,a)),s[r]&&void 0!==l.headerIndex&&-1===o.indexOf(l.headerIndex)&&(0<l.headerIndex&&(s[l.headerIndex-1]=!0,o.push(l.headerIndex-1)),s[l.headerIndex]=!0,o.push(l.headerIndex),s[l.lastIndex+1]=!0),s[r]&&"optgroup-label"!==l.type&&o.push(r)}for(var r=0,d=o.length;r<d;r++){var h=o[r],c=(l=u.selectpicker.main.data[h],u.selectpicker.main.data[o[r-1]]);("divider"!==l.type||"divider"===l.type&&c&&"divider"!==c.type&&d-1!==r)&&(u.selectpicker.search.data.push(l),e.push(u.selectpicker.main.elements[h]))}u.activeIndex=void 0,u.noScroll=!0,u.$menuInner.scrollTop(0),u.selectpicker.search.elements=e,u.createView(!0),Y.call(u,e,t)}else u.selectpicker.search.previousValue&&(u.$menuInner.scrollTop(0),u.createView(!1));u.selectpicker.search.previousValue=t})},_searchStyle:function(){return this.options.liveSearchStyle||"contains"},val:function(t){var e=this.$element[0];if(void 0===t)return this.$element.val();var i=S.call(this),s=C.call(this,i);D=[null,null,s],(t=Array.isArray(t)?t:[t]).map(String);for(var o=0;o<i.length;o++){var n=i[o];n&&-1===t.indexOf(String(n.value))&&this.setSelected(n,!1)}return this.selectpicker.main.data.filter(function(e){return-1!==t.indexOf(String(e.value))&&(this.setSelected(e,!0),!0)},this),this.options.source.data&&e.appendChild(this.selectpicker.main.optionQueue),this.$element.trigger("changed"+k,D),this.$newElement.hasClass(O.SHOW)&&(this.multiple?this.setOptionStatus(!0):"number"==typeof(s=(e.options[e.selectedIndex]||{}).liIndex)&&(this.setSelected(this.selectedIndex,!1),this.setSelected(s,!0))),this.render(),D=null,this.$element},changeAll:function(e){if(this.multiple){void 0===e&&(e=!0);var t=this.$element[0],i=0,s=0,o=C.call(this);t.classList.add("bs-select-hidden");for(var n=0,a=this.selectpicker.current.data,r=a.length;n<r;n++){var l=a[n],d=l.option;d&&!l.disabled&&"divider"!==l.type&&(l.selected&&i++,d.selected=e,!0===(l.selected=e))&&s++}t.classList.remove("bs-select-hidden"),i!==s&&(this.setOptionStatus(),D=[null,null,o],this.$element.triggerNative("change"))}},selectAll:function(){return this.changeAll(!0)},deselectAll:function(){return this.changeAll(!1)},toggle:function(e,t){var i=void 0===t;(e=e||window.event)&&e.stopPropagation(),!1===i&&(e=this.$newElement[0].classList.contains(O.SHOW),i=!0===t&&!1===e||!1===t&&!0===e),i&&this.$button.trigger("click.bs.dropdown.data-api")},open:function(e){this.toggle(e,!0)},close:function(e){this.toggle(e,!1)},keydown:function(e){var t,i,s,o,n=y(this),a=n.hasClass("dropdown-toggle"),r=(a?n.closest(".dropdown"):n.closest(j.MENU)).data("this"),l=r.findLis(),d=!1,a=9===e.which&&!a&&!r.options.selectOnTab,h=K.test(e.which)||a,c=r.$menuInner[0].scrollTop,u=!0===r.isVirtual()?r.selectpicker.view.position0:0;if(!(112<=e.which&&e.which<=123))if(!(t=r.$menu.hasClass(O.SHOW))&&(h||48<=e.which&&e.which<=57||96<=e.which&&e.which<=105||65<=e.which&&e.which<=90)&&(r.$button.trigger("click.bs.dropdown.data-api"),r.options.liveSearch))r.$searchbox.trigger("focus");else{if(27===e.which&&t&&(e.preventDefault(),r.$button.trigger("click.bs.dropdown.data-api").trigger("focus")),h){if(!l.length)return;-1!==(h=(i=r.selectpicker.main.elements[r.activeIndex])?Array.prototype.indexOf.call(i.parentElement.children,i):-1)&&r.defocusItem(i),38===e.which?(-1!==h&&h--,h+u<0&&(h+=l.length),r.selectpicker.view.canHighlight[h+u]||-1==(h=r.selectpicker.view.canHighlight.slice(0,h+u).lastIndexOf(!0)-u)&&(h=l.length-1)):40!==e.which&&!a||(++h+u>=r.selectpicker.view.canHighlight.length&&(h=r.selectpicker.view.firstHighlightIndex),r.selectpicker.view.canHighlight[h+u])||(h=h+1+r.selectpicker.view.canHighlight.slice(h+u+1).indexOf(!0)),e.preventDefault();var p=u+h;38===e.which?0===u&&h===l.length-1?(r.$menuInner[0].scrollTop=r.$menuInner[0].scrollHeight,p=r.selectpicker.current.elements.length-1):d=(o=(s=r.selectpicker.current.data[p]).position-s.height)<c:40!==e.which&&!a||(h===r.selectpicker.view.firstHighlightIndex?(r.$menuInner[0].scrollTop=0,p=r.selectpicker.view.firstHighlightIndex):d=c<(o=(s=r.selectpicker.current.data[p]).position-r.sizeInfo.menuInnerHeight)),i=r.selectpicker.current.elements[p],r.activeIndex=r.selectpicker.current.data[p].index,r.focusItem(i),r.selectpicker.view.currentActive=i,d&&(r.$menuInner[0].scrollTop=o),(r.options.liveSearch?r.$searchbox:n).trigger("focus")}else if(!n.is("input")&&!Q.test(e.which)||32===e.which&&r.selectpicker.keydown.keyHistory){var m,g=[];e.preventDefault(),r.selectpicker.keydown.keyHistory+=G[e.which],r.selectpicker.keydown.resetKeyHistory.cancel&&clearTimeout(r.selectpicker.keydown.resetKeyHistory.cancel),r.selectpicker.keydown.resetKeyHistory.cancel=r.selectpicker.keydown.resetKeyHistory.start(),m=r.selectpicker.keydown.keyHistory,/^(.)\1+$/.test(m)&&(m=m.charAt(0));for(var f=0;f<r.selectpicker.current.data.length;f++){var b=r.selectpicker.current.data[f];_(b,m,"startsWith",!0)&&r.selectpicker.view.canHighlight[f]&&g.push(b.index)}g.length&&(u=0,l.removeClass("active").find("a").removeClass("active"),1===m.length&&(-1===(u=g.indexOf(r.activeIndex))||u===g.length-1?u=0:u++),d=0<c-(s=r.selectpicker.main.data[a=g[u]]).position?(o=s.position-s.height,!0):(o=s.position-r.sizeInfo.menuInnerHeight,s.position>c+r.sizeInfo.menuInnerHeight),i=r.selectpicker.main.elements[a],r.activeIndex=g[u],r.focusItem(i),i&&i.firstChild.focus(),d&&(r.$menuInner[0].scrollTop=o),n.trigger("focus"))}t&&(32===e.which&&!r.selectpicker.keydown.keyHistory||13===e.which||9===e.which&&r.options.selectOnTab)&&(32!==e.which&&e.preventDefault(),r.options.liveSearch&&32===e.which||(r.$menuInner.find(".active a").trigger("click",!0),n.trigger("focus"),r.options.liveSearch)||(e.preventDefault(),y(document).data("spaceSelect",!0)))}},mobile:function(){this.options.mobile=!0,this.$element[0].classList.add("mobile-device")},refresh:function(){var e=this,t=y.extend({},this.options,h(this.$element),this.$element.data());this.options=t,this.options.source.data?(this.render(),this.buildList()):this.fetchData(function(){e.render(),e.buildList()}),this.checkDisabled(),this.setStyle(),this.setWidth(),this.setSize(!0),this.$element.trigger("refreshed"+k)},hide:function(){this.$newElement.hide()},show:function(){this.$newElement.show()},remove:function(){this.$newElement.remove(),this.$element.remove()},destroy:function(){this.$newElement.before(this.$element).remove(),(this.$bsContainer||this.$menu).remove(),this.selectpicker.view.titleOption&&this.selectpicker.view.titleOption.parentNode&&this.selectpicker.view.titleOption.parentNode.removeChild(this.selectpicker.view.titleOption),this.$element.off(k).removeData("selectpicker").removeClass("bs-select-hidden selectpicker"),y(window).off(k+"."+this.selectId)}};var Z=y.fn.selectpicker;function ee(){return I.major<5?y.fn.dropdown?(y.fn.dropdown.Constructor._dataApiKeydownHandler||y.fn.dropdown.Constructor.prototype.keydown).apply(this,arguments):void 0:v.dataApiKeydownHandler}y.fn.selectpicker=J,y.fn.selectpicker.Constructor=E,y.fn.selectpicker.noConflict=function(){return y.fn.selectpicker=Z,this},y(document).off("keydown.bs.dropdown.data-api").on("keydown.bs.dropdown.data-api",":not(.bootstrap-select) > ["+j.DATA_TOGGLE+"]",ee).on("keydown.bs.dropdown.data-api",":not(.bootstrap-select) > .dropdown-menu",ee).on("keydown"+k,".bootstrap-select ["+j.DATA_TOGGLE+'], .bootstrap-select [role="listbox"], .bootstrap-select .bs-searchbox input',E.prototype.keydown).on("focusin.modal",".bootstrap-select ["+j.DATA_TOGGLE+'], .bootstrap-select [role="listbox"], .bootstrap-select .bs-searchbox input',function(e){e.stopPropagation()}),document.addEventListener("DOMContentLoaded",function(){y(".selectpicker").each(function(){var e=y(this);J.call(e,e.data())})})});var itemUrl,browser=ej.browserInfo(),isFirstRequest=!1,isAjaxRequested=!0,isItemDeleteDialogBinded=!1,isCopyItemDialogBinded=!1;function onSuccessDeleteItem(){var e=$("#items").data("ejGrid"),t=(e.model.sortSettings.sortedColumns=[],e.model.filterSettings.filteredColumns=[],$("#search-items").find("input[type=text]").val(""),e.model.pageSettings.currentPage),i=(e.model.pageSettings.pageSize,e.model.pageSettings.totalRecordsCount,e.model.pageSettings.totalRecordsCount%e.model.pageSettings.pageSize);0!=i&&i<=1&&(e.model.pageSettings.currentPage=t-1),"dashboards"===$("#item-grid-container").attr("data-grid-name").toLowerCase()&&(i=parent.angular.element(parent.document.getElementById("server-items-container")).scope(),e.model.query._params.push({key:"displayCategory",value:i.itemRequestType})),e.refreshContent(),$("#dashboard_render_iframe").attr("src",""),$("#initial-item-message").css("display","block"),$("#dashboard_render_iframe").css("display","none")}function onNewFileDialogOpen(){$("#file-popup-iframe").attr("src",addFileIframeUrl)}function onSchedulerDialogClose(){$("#popup-container").find("iframe").contents().find("html").html("")}function onSchedulerDialogOpen(){$("#scheduler-popup-iframe").attr("src",schedulerIframeUrl+"?itemName="+ItemName+"&&itemId="+ItemId+"&&categoryName="+CategoryName+"&&categoryId="+CategoryId+"&&scheduleId="+ScheduleId+"&&multiDashboardName="+MultiDashboardName+"&&actionType=Create"),$("#popup-container_wrapper").ejWaitingPopup("show")}function onNewFileDialogClose(){$("#file-popup").find("iframe").contents().find("html").html(""),$("#file-popup").ejDialog("close")}function openNewDataSourcePopup(){$("#datasource-popup-iframe").addClass("add-datasource-frame"),$("#datasource-popup").ejDialog("open"),$("#datasource-popup_wrapper").ejWaitingPopup("show")}function openNewFilePopup(){$("#file-popup").ejDialog("open"),$("#file-popup_wrapper").ejWaitingPopup("show")}function onDataSourceDialogOpen(){$("#datasource-popup-iframe").attr("src",addDatasourceIframeUrl).addClass("add-datasource-frame")}function onDataSourceDialogClose(){$("#datasource-popup").find("iframe").contents().find("html").html(""),$("#datasource-popup").ejDialog("close")}function onWidgetDialogOpen(){$("#widget_popup_iframe").attr("src",addWidgetUrl)}function onWidgetDialogClose(){$("#widget_popup").find("iframe").contents().find("html").html(""),$("#widget_popup").ejDialog("close")}function onReportDialogOpen(){}function openNewWidgetPopup(){$("#widget_popup").ejDialog("open"),$("#widget_popup_wrapper").ejWaitingPopup("show")}function openNewCreateDataSourcePopup(){$("#create-datasource-popup").ejDialog("open"),$("#create-datasource-popup_wrapper").ejWaitingPopup("show")}function onCreateDataSourceDialogOpen(){$("#create-datasource-iframe").attr("src",createDatasourceUrl)}function onCreateDataSourceDialogClose(){$("#create-datasource-popup").ejDialog("close")}function fnActionBegin(e){var t,i,s=createLoader("items"),s=(this.element.ejWaitingPopup({template:$("#"+s)}),"refresh"!=e.requestType||this.initialRender||$("#items").find(".e-gridcontent").css("visibility","hidden"),$("#item-grid-container").data("gridName")),o=("dashboards"!==s.toLowerCase()&&"widgets"!==s.toLowerCase()||"none"==$("#server-items-container .category-collapse").css("display")&&$("#item-grid-container").ejWaitingPopup("show"),""),n=("Search"!==(o=($("#search-home-page").is(":visible")?$("#search-home-page"):$("#search-items")).val())&&this.model.query._params.push({key:"searchKey",value:o}),[]);if(0<e.model.filterSettings.filteredColumns.length){for(t=0;t<e.model.filterSettings.filteredColumns.length;t++){var a=e.model.filterSettings.filteredColumns[t];n.push({PropertyName:a.field,FilterType:a.operator,FilterKey:a.value})}this.model.query._params.push({key:"filterCollection",value:n})}"dashboards"!==s&&"widgets"!==s||(i=angular.element(document.getElementById("server-items-container")).scope(),e.model.query._params.push({key:"displayCategory",value:i.itemRequestType})),"schedules"===s&&(i=createLoader("scheduleGrid"),this.element.ejWaitingPopup({template:$("#"+i)}),o=$("#search-schedules").val(),e.model.query._params.push({key:"searchKey",value:o}),"sorting"==e.requestType)&&e.model.query._sortedColumns.push({Name:e.columnName,Direction:e.columnSortDirection})}function fnActionFailure(e){setTimeout(function(){$("#item-grid-container").ejWaitingPopup("show"),$("#item-list-panel > .item-navigation, #item-list-panel > #category-listing").css("visibility","visible")},500)}function fnActionComplete(e){$("#item-list-panel > .item-navigation, #item-list-panel > #category-listing").css("visibility","visible"),$('[data-bs-toggle="tooltip"]').tooltip({container:$("body")});var t=$("#items").data("ejGrid");if(n="datasources"==$("#item-grid-container").attr("data-grid-name")){for(var i=e.model.currentViewData,s=0,o=0;o<i.length;o++)!0===i[o].IsDraft&&s++;e.model.currentViewData.length!==s&&$(".view-linked-dashboards").show()}0==t._gridRecordsCount?((n="datasources"==$("#item-grid-container").attr("data-grid-name"))?(a="",a=window.Server.App.Localization.NoDataSources,$(".view-linked-dashboards").hide()):(n="files"==$("#item-grid-container").attr("data-grid-name"))?(a="",a=window.Server.App.Localization.NoFilesToDisplay):(a="","favorite dashboards"==$("ul.item-navigation li.active").attr("data-section").toLowerCase()?a=window.Server.App.Localization.NoFavoriteDashboards:"recent dashboards"==$("ul.item-navigation li.active").attr("data-section").toLowerCase()?a=window.Server.App.Localization.NoRecentDashboards:"public dashboards"==$("ul.item-navigation li.active").attr("data-section").toLowerCase()?a=window.Server.App.Localization.NoPublicDashboards:"all dashboards"==$("ul.item-navigation li.active").attr("data-section").toLowerCase()?a=window.Server.App.Localization.NoDashboards:"all widgets"==$("ul.item-navigation li.active").attr("data-section").toLowerCase()?a=window.Server.App.Localization.NoWidgets:"public widgets"==$("ul.item-navigation li.active").attr("data-section").toLowerCase()?a=window.Server.App.Localization.NoPublicWidgets:"all categories"==$("ul.item-navigation li.active").attr("data-section").toLowerCase()?a=window.Server.App.Localization.NoDashboards:"draft dashboards"==$("ul.item-navigation li.active").attr("data-section").toLowerCase()&&(a=window.Server.App.Localization.NoDrafts)),this.getContentTable().find("tbody .emptyrecord").html(a)):(n="datasources"==$("#item-grid-container").attr("data-grid-name"))&&($("#data-source-text").show(),$("#data-source-count").html(t._gridRecordsCount));var n=$("#item-grid-container").attr("data-grid-name"),a=$("ul.item-navigation li.public-widgets").hasClass("active"),r=$("ul.item-navigation li.public-items").hasClass("active"),l=$("#isMarkItemspublic").val();"dashboards"!=n.toLowerCase()&&"widgets"!=n.toLowerCase()||(navigator.userAgent.match(/Windows Phone/i)||$("[data-bs-toggle='tooltip']").tooltip(),$(".e-content").height()!=$(".e-scrollbar").height()&&$(".e-scrollbar .e-vscroll").css("height",$(".e-content").height()),$("#items .e-gridcontent").data("ejScroller")&&$("#items .e-gridcontent").ejScroller("refresh"),0<$("ul.item-navigation li.active").length&&"draft dashboards"==$("ul.item-navigation li.active").attr("data-section").toLowerCase()?$(".item-link").each(function(){$(this).attr("href",rootUrlAction+"/dashboard-designer/"+$(this).attr("data-itemid")+"/draft/"+$(this).attr("data-name"))}):"dashboards"==n.toLowerCase()&&1041<=window.innerWidth&&$(".item-link").each(function(){$(this).attr("href",rootUrlAction+"/dashboards/"+$(this).attr("data-itemid")+"/"+$(this).attr("data-category-name")+"/"+$(this).attr("data-name"))}),n=$(window).height()-($(".item-navigation").outerHeight()+$("#header-area").outerHeight()+$("#category-listing").outerHeight()),t.option({scrollSettings:{height:n}}),1==a&&0<t._gridRecordsCount&&"False"==l||1==r&&0<t._gridRecordsCount&&"False"==l?$(".tool-tip").show():$(".tool-tip").hide(),setTimeout(function(){$("#item-grid-container").ejWaitingPopup("hide")},500),$(".tooltip").hide()),"refresh"!=e.requestType||this.initialRender||$("#items").find(".e-gridcontent").css("visibility","visible"),showOrHideGridPager("#items")}function rowBound(){isFirstRequest&&(isFirstRequest=!1,"/"!==location.pathname.toLowerCase()&&"dashboards"!=location.pathname.split("/")[location.pathname.split("/").length-1].toLowerCase()||refreshScroller())}function ResetGrid(){var e=$("#items").data("ejGrid");e.model.sortSettings.sortedColumns=[],e.model.filterSettings.filteredColumns=[],$("#search-items").find("input[type=text]").val(""),e.refreshContent(),$(".e-filtericon").removeClass("e-filteredicon e-filternone")}function createScheduleDialog(){ItemId="",ItemName="",CategoryName="",ScheduleId="",CategoryId="",MultiDashboardName=$(this).attr("data-multidashboard-name"),$("#popup-container").ejDialog("open")}function onMakePublicDialogClose(){$("#make_item_public").ejDialog("close")}function onMakePublicDialogOpen(){load(),$("#make_item_public").ejDialog("open"),$("#make_item_public").focus()}function onRemovePublicDialogClose(){$("#remove_item_public").ejDialog("close")}function onRemovePublicDialogOpen(){load(),$("#remove_item_public").ejDialog("open"),$("#remove_item_public").focus()}function onGetLinkDialogClose(){$("#get_item_link").ejDialog("close")}function onGetLinkDialogOpen(){$("#get_item_link").ejDialog("open"),$("#get_item_link").show(),$("#get_item_link").focus(),$("#item-link").select(),$(".get_link").show(),"msie"==browser.name.toLowerCase()?$("#item-link").val(window.location.href.replace(window.location.pathname+window.location.search,"")+itemUrl.trim()):$("#item-link").val(window.location.origin+itemUrl.trim()),/Safari/.test(navigator.userAgent)&&/Apple Computer/.test(navigator.vendor)&&($("#item-link-copy").removeClass("su su-copy"),$("#item-link-copy").attr("data-bs-original-title",""))}function fnAdjustRowHeight(e){"dashboards"==$("#item-grid-container").attr("data-grid-name")&&0==e.model.currentViewData.length&&rowBound()}function DashboardRender(e,t,i,s,o,n){e=decodeURI(e),i=decodeURI(i),s=decodeURI(s),n=decodeURI(n);for(var a=window.location.search.substring(1).split("&"),r="?",l=0;l<a.length;l++){var d=a[l].split("=");"category"!==d[0]&&"dashboard"!==d[0]&&"view"!==d[0]&&(l!==a.length-1?r+=d[0]+"="+d[1]+"&":r+=d[0]+"="+d[1])}var h=document.getElementById("dashboard_render_iframe"),n=(n=""!=n&&null!=n&&"null"!=n?"?tab="+n:"",$("#current-url").attr("data-url",e+"/"+t+"/"+i+"/"+s+"?view="+o),0==$(".item-navigation li[data-value='"+o+"']").hasClass("active")&&($(".item-navigation li").removeClass("active"),$(".item-navigation li[data-value='"+o+"']").addClass("active"),parent.angular.element(parent.document.getElementById("server-items-container")).scope().onClickDisplayCategory("",o)),$(".item-navigation li[data-value='"+o+"']").hasClass("all-items")?$("#category-listing").addClass("category-section"):$("#category-listing").removeClass("category-section"),"categories"==o?(parent.angular.element(parent.document.getElementById("server-items-container")).scope().getItemsInCategory("",i),$("#search-home-page").focus(),setTimeout(function(){$(".search-home-section:visible").addClass("show")},300),h.contentWindow.location.replace(e+"/"+t+"/"+i+"/"+s+r),$("#item-viewer").ejWaitingPopup("show"),$("#item-viewer").css({height:$(window).height()-$("#header-area").outerHeight()-$("#base-footer-div").outerHeight(),width:$(window).width()-$("#main-nav").width()-$(".item-list-panel").width()}),$("#initial-item-message").css("display","none"),$("#dashboard_render_iframe").css("display","block")):""!=s&&($("#search-home-page").focus(),setTimeout(function(){$(".search-home-section:visible").addClass("show")},300),h.contentWindow.location.replace(e+"/"+t+"/"+i+"/"+s+r),$("#item-viewer").ejWaitingPopup("show"),$("#item-viewer").css({height:$(window).height()-$("#header-area").outerHeight()-$("#base-footer-div").outerHeight(),width:$(window).width()-$("#main-nav").width()-$(".item-list-panel").width()}),$("#initial-item-message").css("display","none"),$("#dashboard_render_iframe").css("display","block")),$(".item-navigation li").hasClass("all-items")?$("#category-listing").addClass("category-section"):$("#category-listing").removeClass("category-section"),$(".item-link[data-name='"+s+"']"));return 0==n.parents("td").hasClass("active")?($(".item-link").parents("td").removeClass("active"),n.parents("td").addClass("active")):window.innerWidth<1041&&($(".item-link").parents("td").removeClass("active"),$(".tooltip").hide()),"block"==$("#server-items-container .category-collapse").css("display")&&($("#item-viewer").css("width","100%"),$("#item-viewer").addClass("expanded"),$("#item-viewer").css({height:$(window).height()-$("#header-area").outerHeight()-$("#base-footer-div").outerHeight(),width:$(window).width()-$("#main-nav").width()-$(".su-sidebar-expand.category-collapse").width(),top:$("#header-area").height()}),o=$("#dashboard_render_iframe").width(),$("#dashboard_render_iframe").contents().find("#dashboard").css("width",o-30)),!1}$(function(){addPlacehoder("#input-div"),$("#item-viewer").css({height:$(window).height()-$("#header-area").outerHeight()-$("#base-footer-div").outerHeight(),width:$(window).width()-$("#main-nav").width()-$(".item-list-panel").width()}),$("#item-viewer #initial-item-message").css("display","block"),$("#dashboard_render_iframe").css("display","none"),$("#create-new-category").css("width",$(".item-list-panel").outerWidth()),$("#input-div").find(".placeholder").hide();var e=createLoader("item-grid-container"),e=($("#item-grid-container").ejWaitingPopup({template:$("#"+e)}),createLoader("item-list-panel")),e=($("#item-list-panel").ejWaitingPopup({template:$("#"+e)}),createLoader("item-viewer")),e=($("#item-viewer").ejWaitingPopup({template:$("#"+e)}),$(".search-area").removeClass("focusdiv"),$(".item-list-panel").css("height",window.innerHeight-$("#header-area").outerHeight()),$("#datasource-popup").ejDialog({width:"650px",showOnInit:!1,allowDraggable:!1,enableResize:!1,enableModal:!0,showHeader:!1,close:"onDataSourceDialogClose",open:"onDataSourceDialogOpen"}),$("#widget_popup").ejDialog({width:"651px",showOnInit:!1,allowDraggable:!1,enableResize:!1,enableModal:!0,showHeader:!1,close:"onWidgetDialogClose",open:"onWidgetDialogOpen"}),$("#popup-container").ejDialog({allowDraggable:!1,enableResize:!1,enableModal:!0,showHeader:!1,showOnInit:!1,close:"onSchedulerDialogClose",open:"onSchedulerDialogOpen",width:"1000px"}),createLoader("popup-container_wrapper")),e=($("#popup-container_wrapper").ejWaitingPopup({template:$("#"+e)}),$("#select_datasource_popup").ejDialog({width:"800px",showOnInit:!1,allowDraggable:!0,enableResize:!1,height:"530px",showHeader:!1,enableModal:!0,closeOnEscape:!0,close:"closeNewDataSourcePopup"}),$("#file-popup").ejDialog({width:"650px",showOnInit:!1,allowDraggable:!1,enableResize:!1,height:"382px",title:window.Server.App.Localization.AddFile,enableModal:!0,showHeader:!1,open:"onNewFileDialogOpen",close:"onNewFileDialogClose"}),$("#permission-popup").ejDialog({showOnInit:!1,allowDraggable:!0,enableResize:!1,width:"900px",title:"",showHeader:!1,enableModal:!0,close:"DialogBoxClose",closeOnEscape:!0}),$("#make_item_public").ejDialog({width:460<window.innerWidth?"450px":window.innerWidth-10,showOnInit:!1,allowDraggable:!1,enableResize:!1,height:"auto",title:window.Server.App.Localization.MakePublic,showHeader:!1,enableModal:!0,closeOnEscape:!0,close:"onMakePublicDialogClose",open:"onMakePublicDialogOpen"}),$("#remove_item_public").ejDialog({width:460<window.innerWidth?"450px":window.innerWidth-10,showOnInit:!1,allowDraggable:!1,enableResize:!1,height:"auto",title:window.Server.App.Localization.RemovePublic,showHeader:!1,enableModal:!0,closeOnEscape:!0,close:"onRemovePublicDialogClose",open:"onRemovePublicDialogOpen"}),$("#create-datasource-popup").ejDialog({width:"650px",height:"auto",showOnInit:!1,allowDraggable:!1,enableResize:!1,enableModal:!0,showHeader:!1,close:"onCreateDataSourceDialogClose",open:"onCreateDataSourceDialogOpen"}),createLoader("create-datasource-popup_wrapper")),e=($("#create-datasource-popup_wrapper").ejWaitingPopup({template:$("#"+e)}),createLoader("widget_popup_wrapper")),e=($("#widget_popup_wrapper").ejWaitingPopup({template:$("#"+e)}),createLoader("select_datasource_popup_wrapper")),e=($("#select_datasource_popup_wrapper").ejWaitingPopup({template:$("#"+e)}),createLoader("file-popup_wrapper")),e=($("#file-popup_wrapper").ejWaitingPopup({template:$("#"+e)}),createLoader("datasource-popup_wrapper")),e=($("#datasource-popup_wrapper").ejWaitingPopup({template:$("#"+e)}),createLoader("permission-popup_wrapper")),e=($("#permission-popup_wrapper").ejWaitingPopup({template:$("#"+e)}),createLoader("make_item_public_wrapper")),e=($("#make_item_public_wrapper").ejWaitingPopup({template:$("#"+e)}),createLoader("remove_item_public_wrapper"));$("#remove_item_public_wrapper").ejWaitingPopup({template:$("#"+e)}),$(document).on("click","#context-menu",function(e){refreshScrollerForCategory()}),$(document).on("click",".options-area",function(e){setTimeout(function(){$(".tooltip").hide()},50)}),$("#search-home-page").on("focusin",function(){$(".search-area").addClass("focusdiv")}),$("#search-home-page").on("focusout",function(){$(".search-area").removeClass("focusdiv")}),$(document).on("click",".item-delete",function(e){$("#delete-item-name").html($(this).attr("data-name")),$("#delete-item").attr("data-item-id",$(this).attr("data-item-id"));var t,i,s=$(this).attr("data-item-id"),o=$(this).attr("data-name"),n=$(this).attr("data-itemtype"),a=$(this).attr("linked-dashboard-count"),r="",l=("4"==n&&(r=$(this).attr("data-datasource-type")),document.getElementById("item-delete-confirmation").style.display="block",'<span class="dialog-header-with-subtitle"><span class ="dialog-header-title">'+window.Server.App.Localization.DeleteDataSource+'</span><span class="item-name">'+o+"</span></span>");isItemDeleteDialogBinded?((i=document.getElementById("delete-item-dialog").ej2_instances)[0].header=l,i[0].show()):((t=document.createElement("div")).setAttribute("id","delete-item-dialog"),document.getElementById("item-grid-container").appendChild(t),(i=new ejs.popups.Dialog({showOnInit:!1,allowDraggable:!1,enableResize:!1,width:460<window.innerWidth?"450px":window.innerWidth-10,height:"auto",showHeader:!1,animationSettings:{effect:"Zoom"},isModal:!0,enableModal:!0,closeOnEscape:!0,header:l,showCloseIcon:!0,content:document.getElementById("item-delete-confirmation"),buttons:[{click:function(e){ejs.popups.showSpinner(document.getElementById("delete-item-dialog"));var t=$("#delete-item").attr("data-item-id"),i=$("#delete-item").attr("data-itemtype"),s="";"Datasource"==i&&(s=$("#delete-item").attr("data-datasource-type")),$.ajax({type:"POST",url:deleteItemUrl,data:{itemId:t,datasourceType:s},success:function(e){var t;ejs.popups.hideSpinner(document.getElementById("delete-item-dialog")),e.Success?($("#data-source-text").show(),t=$("#data-source-count").html(),0<(t=parseInt(t)-1)?$("#data-source-count").html(t):$("#data-source-count").html("0"),"Category"==i?window.Server.App.Localization.CategoryDeleted:"Dashboard"==i?window.Server.App.Localization.DashboardDeleted:"Datasource"==i?window.Server.App.Localization.DatasourceDeleted:window.Server.App.Localization.Deleted,successToast(window.Server.App.Localization.DeleteSuccess.format($("#delete-item-name").html()),7e3),"Category"==i||$(".all-items").hasClass("active")?$(".all-items").hasClass("active")?$(".all-items").trigger("click"):parent.angular.element(parent.document.getElementById("server-items-container")).scope().refreshCategorySection():"Dashboard"==i?(onSuccessDeleteItem(),$("#favoriteitemCount").text(e.Value)):"Datasource"!=i||0<e.DatasourceCount&&null!=e.DatasourceCount?onSuccessDeleteItem():($("#body").ejWaitingPopup("show"),location.reload())):0==e.HasPermission?warningToast(window.Server.App.Localization.DeleteItemPermissionMessage+" "+window.Server.App.Localization.ReloadPage):warningToast(window.Server.App.Localization.DeleteFailMessage.format($("#delete-item-name").html())),document.getElementById("delete-item-dialog").ej2_instances[0].hide()}})},buttonModel:{cssClass:"app-btn-danger",content:window.Server.App.Localization.YesButton}},{click:function(){i.hide()},buttonModel:{cssClass:"app-btn-secondary",content:window.Server.App.Localization.NoButton}}]})).appendTo(t),isItemDeleteDialogBinded=!0),ejs.popups.createSpinner({target:document.getElementById("delete-item-dialog")}),ejs.popups.setSpinner({type:"Material"}),ejs.popups.showSpinner(document.getElementById("delete-item-dialog")),l=r,$.ajax({type:"POST",url:deleteConfirmationUrl,data:{itemId:s,itemTypeId:n,itemName:o,datasourceType:l,linkedDashboardsCount:a},success:function(e){$("#item-delete-confirmation").html(e),ejs.popups.hideSpinner(document.getElementById("delete-item-dialog")),$("#item-delete-confirmation").focus()}})}),addPlacehoder("#search-area"),$(document).on("click",".version-button",function(){var e=$(this).attr("data-item-id"),t=$(this).attr("data-itemname"),i=$("#grid").data("ejGrid"),s=$("#loggrid").data("ejGrid"),t=(null!=$("#version-window-container").data("ejDialog")?$("#version-window-container").ejDialog("open"):$("#version-window-container").ejDialog({showOnInit:!0,allowDraggable:!0,enableResize:!1,width:"864px",title:"",showHeader:!1,enableModal:!0,close:"DialogBoxClose",closeOnEscape:!0}),$(".modal-header .modal-title").html(t),$("#version-tab").parent("li").addClass("active"),$("#item-log-tab").parent("li").removeClass("active"),$("#item-version-container").removeClass("hidden").addClass("show"),$("#item-log-container").removeClass("show").addClass("hidden"),ej.DataManager({url:itemVersionUrl+"?ItemId="+e,adaptor:new ej.UrlAdaptor})),t=(i.dataSource(t),i.model.pageSettings.currentPage=1,ej.DataManager({url:itemLogsUrl+"?ItemId="+e,adaptor:new ej.UrlAdaptor}));s.dataSource(t),s.model.pageSettings.currentPage=1}),$(document).on("click",".layout",function(){$("#container iframe").attr("src",window.location.href+"?itemId="+$(this).attr("data-item-id")+"&itemAction="+$(this).attr("data-action"))}),$(document).on("click",".moveItem",function(){var e=$(this).attr("data-itemId"),t=$(this).attr("data-action");$("#ItemAction").ejDialog("open"),$("#ItemAction_wrapper").ejWaitingPopup("show"),$.ajax({type:"POST",url:moveIframeUrl,data:{itemId:e,itemAction:t},success:function(e){$("#ItemAction").html(e),$("#ItemAction_wrapper .e-dialog-scroller").attr("style","overflow:inherit; border:none"),$("#ItemAction_wrapper").ejWaitingPopup("hide")}})}),$(document).on("click",".item-info",function(){var e,t=$("#items").data("ejGrid");null!=t&&(t=t.getSelectedRecords()[0],e=angular.element($("[ng-controller=ItemInfoCtrl]")).scope(),t.Description=t.Description.replace(new RegExp("&#xA;","g"),"\n"),e.openInfoDialog(t,!1,!1))}),$(document).on("click",".copyItem",function(){var e,t,i,s,o=$(this).attr("data-itemId"),n=$(this).attr("data-action"),a=$(this).attr("data-itemname"),r=($("#copy_item_name").closest("div").removeClass("has-error"),$("#copy_item_name").parent().find(".validation-error").html(""),'<span class="dialog-header-with-subtitle"><span class ="dialog-header-title">'+window.Server.App.Localization.CopyDatasource+'</span><span class="item-name">'+a+"</span></span>");isCopyItemDialogBinded?((t=document.getElementById("copy_item_dialog").ej2_instances)[0].header=r,t[0].show()):((e=document.createElement("div")).setAttribute("id","copy_item_dialog"),document.getElementById("server-app-container").appendChild(e),(t=new ejs.popups.Dialog({showOnInit:!1,allowDraggable:!1,enableResize:!1,width:460<window.innerWidth?"436px":window.innerWidth-10,height:"auto",showHeader:!1,animationSettings:{effect:"Zoom"},isModal:!0,enableModal:!0,closeOnEscape:!0,header:r,showCloseIcon:!0,content:document.getElementById("Copy_Item"),buttons:[{click:function(e){CopyItem(n)},buttonModel:{isPrimary:!0,cssClass:"app-btn-primary",content:window.Server.App.Localization.Copy}},{click:function(){t.hide()},buttonModel:{cssClass:"app-btn-secondary",content:window.Server.App.Localization.CancelButton}}]})).appendTo(e),isCopyItemDialogBinded=!0),ejs.popups.createSpinner({target:document.getElementById("copy_item_dialog")}),ejs.popups.setSpinner({type:"Material"}),ejs.popups.showSpinner(document.getElementById("copy_item_dialog")),$("#copy_item_name").val(a),document.getElementById("Copy_Item").style.display="block",$("#CopyItemType").val("Datasource"),$("#CopyItemIdHidden").val(o),r=o,i=n,s=document.getElementById("copy_item_dialog").ej2_instances,$.ajax({type:"POST",url:copyIframeUrl,data:{itemId:r,itemAction:i},success:function(e){e.status?($("#item_action_form").show(),$("#copy-item-denied").hide(),s[0].buttons=[{click:function(e){CopyItem(i)},buttonModel:{isPrimary:!0,cssClass:"app-btn-primary",content:window.Server.App.Localization.Copy}},{click:function(){s[0].hide(),$("#copy_item_name").closest("div").removeClass("has-error"),$("#copy_item_name").parent().find(".validation-error").html("")},buttonModel:{cssClass:"app-btn-secondary",content:window.Server.App.Localization.CancelButton}}]):($("#item_action_form").hide(),null!=e.accessDenied?$("#copy-item-denied").text(e.accessDenied).show():null!=e.exception&&$("#copy-item-denied").text(e.exception).show(),s[0].buttons=[{click:function(){s[0].hide()},buttonModel:{cssClass:"app-btn-secondary",content:window.Server.App.Localization.OKButton}}]),ejs.popups.hideSpinner(document.getElementById("copy_item_dialog"))}})}),$(document).on("click",".favorite-item",function(e){$("#items").ejWaitingPopup("show");var i=$("#items").data("ejGrid"),s=$(this).attr("data-itemid"),o=$(this).attr("data-value");$.ajax({type:"POST",url:favoriteItemUrl,data:{itemId:s,favoriteValue:o},success:function(e){var t;e.Success?(e=$(".favorite-item").filter("[data-itemid='"+s+"']"),"True"==o?($(e[0]).addClass("favorite"),$(e[0]).attr("data-value","False"),$(e[0]).attr("data-bs-original-title",window.Server.App.Localization.RemoveFavorite)):($(e[0]).removeClass("favorite"),$(e[0]).attr("data-value","True"),$(e[0]).attr("data-bs-original-title",window.Server.App.Localization.MarkFavorite)),"dashboards"===$("#item-grid-container").data("gridName")&&(t=angular.element(document.getElementById("server-items-container")).scope(),i.model.query._params.push({key:"displayCategory",value:t.itemRequestType})),"100"==t.itemRequestType&&(i.model.filterSettings.filteredColumns=[{field:"CategoryName",operator:"equal",value:t.category}]),i.refreshContent()):messageBox("",window.Server.App.Localization.MarkFavoriteError,window.Server.App.Localization.InternalServerError,"success",function(){onCloseMessageBox()})}})}),$(window).resize(function(){var e,t=$("#version-window-container").data("ejDialog"),t=(null!=t&&t.isOpened()&&t._dialogPosition(),$("#items").data("ejGrid"));if(null!=t)return window.innerWidth<1041?(t.hideColumns("Description"),t.hideColumns("Last Modified")):(t.showColumns("Description"),t.showColumns("Last Modified")),"block"!=$("#clear-search").css("display")&&"inline-block"!=$("#clear-search").css("display")||$("#search-items").css("display","block"),$(".item-list-panel").css("height",window.innerHeight-$("#header-area").outerHeight()),$("#create-new-category").css("width",$(".item-list-panel").outerWidth()),e=$(window).height()-($(".item-navigation").outerHeight()+$("#header-area").outerHeight()+$("#category-listing").outerHeight()),t.option({scrollSettings:{height:e}}),$(".su-sidebar-collapse").is(":visible")?$("#item-viewer").css({height:$(window).height()-$("#header-area").outerHeight()-$("#base-footer-div").outerHeight(),width:$(window).width()-$("#main-nav").width()-$(".item-list-panel").width()}):$("#item-viewer").css({height:$(window).height()-$("#header-area").outerHeight()-$("#base-footer-div").outerHeight(),width:$(window).width()-$("#main-nav").width()-$(".su-sidebar-expand.category-collapse").width(),top:$("#header-area").height()}),!1}),$(window).on("load",function(){refreshScrollerForCategory()}),$(document).on("click",".make-public",function(e){$("#item_name").html($(this).attr("data-name")),itemUrl=$(this).attr("data-url");var t=$(this).attr("data-item-id"),i=$(this).attr("data-name"),s=$(this).attr("data-itemtype");load(),$("#make_item_public").ejDialog("open"),$("#make_item_public_wrapper").ejWaitingPopup("show"),$.ajax({type:"POST",url:makePublicUrl,data:{itemId:t,itemTypeId:s,itemName:i},success:function(e){$("#make_item_public").html(e),$("#make_item_public_wrapper").ejWaitingPopup("hide"),$("#make-public").attr("data-itemtype",s),$("#make-public").attr("data-url",itemUrl)}})}),$(document).on("click","#make-public",function(e){$("#item_name").html($(this).attr("data-name")),itemUrl=$(this).attr("data-url");var t=$(this).attr("data-item-id"),i=$(this).attr("data-name"),s=$(this).attr("data-itemtype"),o=$(this).attr("data-item-type").trim();$("#make_item_public_wrapper").ejWaitingPopup("show"),$.ajax({type:"POST",url:makeItemPublicUrl,data:{itemId:t,itemTypeId:s,itemName:i},success:function(e){(e.validation&&e.result?(onMakePublicDialogClose(),onGetLinkDialogOpen(),$(".report-name").html(i),$(".report-name").attr("title",i),$("."+o.toLowerCase()+"-link").show(),$(".private-note").hide(),$(".public-note")):($("#makepublicitem").hide(),$("#select-area").hide(),$("#close").show(),$(".error-msg"))).show(),ResetGrid(),$("#make_item_public_wrapper").ejWaitingPopup("hide")}})}),$(document).on("click",".remove-public",function(e){$("#item_name").html($(this).attr("data-name")),itemUrl=$(this).attr("data-url");var t=$(this).attr("data-item-id"),i=$(this).attr("data-name"),s=$(this).attr("data-itemtype");load(),$("#remove_item_public").ejDialog("open"),$("#remove_item_public_wrapper").ejWaitingPopup("show"),$.ajax({type:"POST",url:removePublicUrl,data:{itemId:t,itemTypeId:s,itemName:i},success:function(e){$("#remove_item_public").html(e),$("#remove_item_public_wrapper").ejWaitingPopup("hide"),$("#remove-public").attr("data-itemtype",s),$("#remove-public").attr("data-url",itemUrl)}})}),$(document).on("click","#remove-public",function(e){$("#item_name").html($(this).attr("data-name")),itemUrl=$(this).attr("data-url");var t=$(this).attr("data-item-id"),i=$(this).attr("data-name"),s=$(this).attr("data-itemtype");$("#remove_item_public_wrapper").ejWaitingPopup("show"),$.ajax({type:"POST",url:removeItemPublicUrl,data:{itemId:t,itemTypeId:s,itemName:i},success:function(e){(e.validation&&e.result?($("#removepublicitem").hide(),$("#remove-select-area").hide(),$("#remove-close").show(),$("#success-msg")):($("#removepublicitem").hide(),$("#remove-select-area").hide(),$("#success-msg").hide(),$("#remove-close").show(),$("#error-msg"))).show(),ResetGrid(),$("#remove_item_public_wrapper").ejWaitingPopup("hide")}})}),$(document).on("click",".get-link",function(e){itemUrl=$(this).attr("data-url").trim();var t,i,s,o=$(this).attr("data-itemtype").trim(),o=("2"==o.toLowerCase()?$(".dashboard-link").show():"6"==o.toLowerCase()?($(".file-link").show(),$("#compressed-link").prop("checked",!0)):("8"==o.toLowerCase()?$(".widget-link"):$(".link")).show(),""),n=$(this).attr("data-name"),a=$(this).attr("ispublic"),r=$(this).attr("data-item-id"),l=document.getElementById("dashboard_render_iframe"),o=null==l||(l=l.contentDocument||l.contentWindow.document,t=$(l).find("#favorite_Item").attr("data-item-id"),(s="")!==(i=$(l).find("#favorite_Item").attr("data-parent-id"))&&void 0!==i&&(s="tab="+document.getElementById("dashboard_render_iframe").contentWindow.$("#dashboard").data("ejDashboardViewer").getCurrentTab().tabName.trim()),0<$(l).find("#favorite_Item").length&&null!==document.getElementById("dashboard_render_iframe").contentWindow.getcurrentfilters()&&(s+=(""===s?"":"&")+document.getElementById("dashboard_render_iframe").contentWindow.getcurrentfilters().encryptedData),t!==r&&i!==r)||""===s?"msie"===browser.name.toLowerCase()?window.location.href.replace(window.location.pathname+window.location.search,"")+itemUrl.trim():window.location.origin+itemUrl:"msie"===browser.name.toLowerCase()?window.location.href.replace(window.location.pathname+window.location.search,"")+itemUrl.trim()+"?"+s:window.location.origin+itemUrl+"?"+s;$("#get_item_link").ejDialog("open"),$("#get_item_link").show(),$("#get_item_link_wrapper").ejWaitingPopup("show"),$(".get_link").show(),"true"==a?($(".private-note").hide(),$(".public-note").show()):($(".private-note").show(),$(".public-note").hide()),/Safari/.test(navigator.userAgent)&&/Apple Computer/.test(navigator.vendor)?($("#item-link-copy").removeClass("su su-copy"),$("#item-link").css({width:"100%",borderRadius:"4px"}),$("#item-link-copy").attr("data-bs-original-title","")):$("#item-link-copy").tooltip({animation:!1}),$(".report-name").html(n),$(".report-name").attr("title",n),$("#item-link").val(o),$("#item-link").select(),$(".modal-footer .validation-area").css("display","block"),$("#get_item_link_wrapper").ejWaitingPopup("hide")}),$(document).on("click","#compressed-link",function(){var e=$("#item-link").val().split("?")[0];1==$(this).prop("checked")&&(e+="?compress=true"),$("#item-link").val(e),$(".update-link").css("visibility","visible"),0!=timer&&clearTimeout(timer),timer=setTimeout(function(){$(".update-link").css("visibility","hidden"),timer=0},7e3)})}),$(document).on("click",".category-link",function(e){$(".e-filtericon").removeClass("e-filteredicon e-filternone"),e.preventDefault()}),$(document).on("click",".item-navigation li:not(:last)",function(e){e.preventDefault();$("#items").data("ejGrid");0==$(this).hasClass("active")&&($(".item-navigation li").removeClass("active"),$(this).addClass("active")),$(this).hasClass("all-items")?$("#category-listing").addClass("category-section"):$("#category-listing").removeClass("category-section");e=$(window).height()-($(".item-navigation").outerHeight()+$("#header-area").outerHeight()+$("#category-listing").outerHeight()),$("#items").data("ejGrid").option({scrollSettings:{height:e}}),e=$(this).attr("href");window.location.pathname+window.location.search!=e&&1041<=window.innerWidth&&null!=history.pushState&&"dashboards"===$("#item-grid-container").data("gridName")&&history.pushState({},"",e)}),$(document).on("click","#open-dashboard, #open-widget",function(e){"open-dashboard"==$(this).attr("id")?-1==$(this).attr("data-href").indexOf("?")?window.open($(this).attr("data-href")+"?showmydashboards=1","_blank"):window.open($(this).attr("data-href")+"&showmydashboards=1","_blank"):window.open($(this).attr("data-href"),"_blank")}),$(document).on("click",".search-item",function(e){return e.stopPropagation(),$(".search-area").hasClass("add-background")?(""!==$(".search-home-section").val()&&($(".search-home-section").val(""),!$("#category-list").is(":visible")||$("#category-list").length<=0?((gridObj=$("#items").data("ejGrid")).model.pageSettings.currentPage=1,gridObj.refreshContent()):$(".category").trigger("click")),$(".search-area").removeClass("add-background"),$(".placeholder, .close-icon").hide(),$(".all-items").hasClass("active")&&!$("#category-list").is(":visible")?setTimeout(function(){$(".search-area").prevAll().show().parent().removeClass("pull-right"),$("#category-section-name").show();var e=$("#isMarkItemspublic").val();($("ul.item-navigation li.public-items").hasClass("active")||$("ul.item-navigation li.public-widgets").hasClass("active"))&&0<$("#items").data("ejGrid")._gridRecordsCount&&"False"==e?$(".tool-tip").show():$(".tool-tip").hide()},300):setTimeout(function(){$(".search-area").prevAll(":not(#back-icon)").show().parent().removeClass("pull-right"),$("#category-section-name").show();var e=$("#isMarkItemspublic").val();($("ul.item-navigation li.public-items").hasClass("active")||$("ul.item-navigation li.public-widgets").hasClass("active"))&&0<$("#items").data("ejGrid")._gridRecordsCount&&"False"==e?$(".tool-tip").show():$(".tool-tip").hide()},300),setTimeout(function(){$(".search-home-section:visible").removeClass("show")},300)):($(".search-area").addClass("add-background"),$(".placeholder").show(),setTimeout(function(){$(".close-icon").show()},300),e=(($(".all-items").hasClass("active")&&!$("#category-list").is(":visible")?$(".search-area").prevAll():$(".search-area").prevAll(":not(#back-icon)")).hide().parent().addClass("pull-right"),$("#category-section-name").hide(),$("#isMarkItemspublic").val()),($("ul.item-navigation li.public-items").hasClass("active")||$("ul.item-navigation li.public-widgets").hasClass("active"))&&0<$("#items").data("ejGrid")._gridRecordsCount&&"False"==e?$(".tool-tip").show():$(".tool-tip").hide(),$("#search-home-page").focus(),setTimeout(function(){$(".search-home-section:visible").addClass("show")},300)),setTimeout(function(){$(".clear-search").hide()},300),!1}),$(document).on("click",".schedule-dashboards",function(){ItemId=$(this).attr("data-item-id"),ItemName=$(this).attr("data-itemname"),CategoryName=$(this).attr("data-category-name"),CategoryId=$(this).attr("data-category-id"),ScheduleId="",MultiDashboardName=$(this).attr("data-multidashboard-name"),$("#popup-container").ejDialog("open")}),$(document).on("click","#create_schedule, .create-schedule",function(){$.ajax({type:"POST",url:resourceLimitationCountUrl,data:{itemType:ItemType.Schedule},success:function(e){e?warningToast(window.Server.App.Localization.ResourceLimitExceed.format(window.Server.App.Localization.ScheduleLimited,window.Server.App.Localization.ScheduleLimited)):createScheduleDialog()}})}),$(document).on("click","#item-link-copy",function(e){var t,i;$("#item-link").select(),/Safari/.test(navigator.userAgent)&&/Apple Computer/.test(navigator.vendor)?($("#item-link-copy").removeClass("su su-copy"),$("#item-link-copy").attr("data-bs-original-title","")):(document.execCommand("copy"),t=document.querySelector("#item-link-copy"),(i=bootstrap.Tooltip.getInstance(t))&&i.dispose(),(i=new bootstrap.Tooltip(t,{title:window.Server.App.Localization.Copysuccess,trigger:"hover",placement:"top"})).show(),setTimeout(()=>{i.dispose(),i=new bootstrap.Tooltip(t,{title:window.Server.App.Localization.LinkCopy,trigger:"hover",placement:"top"})},3e3))}),$(document).on("click",".item-link",function(e){var t;e.preventDefault(),"true"==$(this).attr("data-isdraft").toLowerCase()?window.open($(this).attr("href"),"_self"):(t=document.getElementById("dashboard_render_iframe"),window.innerWidth<1041||"open-dashboard"==e.target.id||"open-widget"==e.target.id||"context-menu"==e.target.id||$(e.target).hasClass("favorite-item")?e.stopPropagation():(t.contentWindow.location.replace(decodeURI($(this).find("span").attr("data-href"))),$("#item-viewer").ejWaitingPopup("show"),$("#item-viewer").css({height:$(window).height()-$("#header-area").outerHeight()-$("#base-footer-div").outerHeight(),width:$(window).width()-$("#main-nav").width()-$(".item-list-panel").width()}),$("#initial-item-message").css("display","none"),$("#dashboard_render_iframe").css("display","block"),e=$(this).attr("href"),window.location.pathname+window.location.search!=e&&(t=-1<window.location.search.indexOf("?category=")?"?view=categories":"?view="+$(".item-navigation li.active").attr("data-value"),e=e+(-1<e.indexOf("?")?t.replace("?","&"):t),$("#current-url").attr("data-url",e),null!=history.pushState)&&"dashboards"===$("#item-grid-container").data("gridName")&&history.pushState({},"",e)),0==$(this).parents("td").hasClass("active")?($(".item-link").parents("td").removeClass("active"),$(this).parents("td").addClass("active")):window.innerWidth<1041&&$(".item-link").parents("td").removeClass("active"))}),$(document).on("click",".category-collapse",function(e){var t;return t=($(".su-sidebar-collapse").is(":visible")?($("#item-viewer").css("width","100%"),$(".item-list-panel, .su-sidebar-collapse").css({display:"none"}),$(".su-sidebar-expand").css({display:"block"}),$("#item-viewer").addClass("expanded"),$("#item-viewer").css({height:$(window).height()-$("#header-area").outerHeight()-$("#base-footer-div").outerHeight(),width:$(window).width()-$("#main-nav").width()-$(".su-sidebar-expand.category-collapse").width(),top:$("#header-area").height()})):($("#dashboard_render_iframe").contents().find("#dashboard-view-toogle").hasClass("dashboard-view-toogle")&&CloseDashboardView(),$("#dashboard_render_iframe").contents().find("#filter-view").hide(),$("#dashboard_render_iframe").contents().find("#commentModuleContainer").addClass("displayNone"),$("#dashboard_render_iframe").contents().find("ul.options").css("right","0px"),$("#item-viewer").css({left:"initial"}),$("#dashboard_render_iframe").contents().find("ul.options li").removeClass("active"),$("#item-viewer").css({width:"70%"}),$(".item-list-panel, .su-sidebar-collapse").css({display:"block"}),$(".su-sidebar-expand").css({display:"none"}),$("#item-viewer").removeClass("expanded"),$("#item-viewer").css({height:$(window).height()-$("#header-area").outerHeight()-$("#base-footer-div").outerHeight(),width:$(window).width()-$("#main-nav").width()-$(".item-list-panel").width()})),$("#dashboard_render_iframe").width()),$("#dashboard_render_iframe").contents().find("#dashboard").css("width",t-30),$("#item-viewer").ejWaitingPopup("refresh").css("width",t),!1}),$(document).on("show.bs.dropdown","#listing, #items .e-row",function(){var e,t;0<$(this).find("#context-menu").length&&(e=$(this).offset().top+$(this).outerHeight(!0)/2-$("#header-area").outerHeight(!0)-$(".item-navigation").outerHeight(!0)-$("#category-listing").outerHeight(!0),$(window).height()-$(this).offset().top-$(this).outerHeight(!0)/2<=(t=$(this).find(".dashboard-options").outerHeight(!0)))&&t<=e&&$(this).find("#context-menu").removeClass("dropdown").addClass("dropup"),($(this).hasClass("e-row")?$(".item-link"):$(".category-section")).each(function(){$(this).removeClass("active-category-setting"),0<$(this).find(".open").length&&$(this).addClass("active-category-setting")}),refreshScrollerForCategory()}),$(document).on("hide.bs.dropdown","#listing, #items .e-row",function(){0<$(this).find("#context-menu").length&&$(this).find("#context-menu").removeClass("dropup").addClass("dropdown"),($(this).hasClass("e-row")?$(".item-link"):$(".category-section")).removeClass("active-category-setting"),refreshScrollerForCategory()}),$(document).on("shown.bs.dropdown","#scroll-content li, #items .e-row",function(){var e=$("#item-grid-container").attr("data-grid-name");if($("#category-list").is(":visible"))return refreshScrollerForCategory(),!1;"dashboards"!=e.toLowerCase()&&"widgets"!=e.toLowerCase()||($(".e-gridcontent").ejScroller(),$(".e-gridcontent").ejScroller("refresh"))}),$(document).on("hidden.bs.dropdown","#scroll-content li, #items .e-row",function(){var e=$("#item-grid-container").attr("data-grid-name");if($("#category-list").is(":visible"))return refreshScrollerForCategory(),!1;"dashboards"!=e.toLowerCase()&&"widgets"!=e.toLowerCase()||($(".e-gridcontent").ejScroller(),$(".e-gridcontent").ejScroller("refresh"))}),$(document).on("mouseenter",".category-section, #items .e-row",function(){($(this).hasClass("e-row")?$(".item-link"):$(".category-section")).each(function(){$(this).removeClass("active-category-setting"),0<$(this).find(".open").length&&$(this).addClass("active-category-setting")})}),$(document).on("mouseleave",".category-section, #items .e-row",function(){($(this).hasClass("e-row")?$(".item-link"):$(".category-section")).each(function(){$(this).removeClass("active-category-setting"),0<$(this).find(".open").length&&$(this).addClass("active-category-setting")})}),$(document).on("mouseenter","#open-dashboard, #open-widget",function(){$(this).parents("a").tooltip("hide")}),$(document).on("mouseleave","#open-dashboard, #open-widget",function(){$(this).parents("a").tooltip("show")}),$(document).on("mouseenter",".dashboard-views",function(e){var t,s,o,n,a,r,l,d;"view-name"!=e.target.className&&(t=$(this).find(".views").attr("data-item-id"),s=$(this).find("ul"),o="",n=$(this).find(".views").attr("data-is-childdashboard"),a=$(this).find(".views").attr("data-parent-category-name"),r=$(this).find(".views").attr("data-parent-itemname"),l=$(this).find(".views").attr("data-parent-item-id"),d=null!=n&&"true"==n.toLowerCase()?$(this).find(".views").attr("data-child-dashboard-name"):"",1==isAjaxRequested)&&($(".dashboard-views").addClass("views-loader"),isAjaxRequested=!1,$.ajax({type:"POST",url:getViewsByItemIdUrl,data:{itemId:t},success:function(e){if(null!=e&&null!=e.result&&0<e.result.length)if(null!=n&&"true"==n.toLowerCase())for(i=0;i<e.result.length;i++)o+="<li><a class='view-name' href='"+dashboards+"/"+l+"/"+a+"/"+r+"?tab="+d+"&viewid="+e.result[i].ViewId+"' target='_blank' data-bs-toggle='tooltip' data-placement='top' data-bs-original-title='"+e.result[i].ViewName+"' data-itemid='"+e.result[i].ItemId+"'>"+e.result[i].ViewName+"</a></li>";else for(i=0;i<e.result.length;i++)o+="<li><a class='view-name' href='"+dashboards+"/"+t+"/"+e.result[i].CategoryName+"/"+e.result[i].ItemName+"?viewid="+e.result[i].ViewId+"' target='_blank' data-bs-toggle='tooltip' data-placement='top' data-bs-original-title='"+e.result[i].ViewName+"' data-itemid='"+e.result[i].ItemId+"'>"+e.result[i].ViewName+"</a></li>";else o="<li><span class='view-name' href='javascript:void(0);'><span>"+window.Server.App.Localization.NoViews+"</span></span></li>";s.html(o),$(".dashboard-views").removeClass("views-loader"),$(".dashboard-views").addClass("no-loader"),$('[data-bs-toggle="tooltip"]').tooltip()}}).always(function(){isAjaxRequested=!0}))}),$(document).on("click",".dashboard-options li > span",function(e){return e.stopPropagation(),!1}),$(document).on("click",".download-item",function(e){window.location=$(this).attr("href")}),$(document).on("click",".open-item",function(e){var t=$(this).attr("href")+"?showmydashboards=1";window.open(t,"_blank")}),$(document).on("click",".option-click",function(){$(this).closest(".dropdown-menu").prev().dropdown("toggle")}),$(document).on("click",".dropdown-backdrop",function(e){return e.stopPropagation(),!1}),$(document).on("show.bs.tooltip",function(){$(".tooltip").not(this).hide()}),$(document).on("click",".web-designer",function(e){window.location.href=$(this).attr("href")}),$(document).on("click",".view-schedule",function(e){var t=$(this).attr("href");window.open(t,"_blank")}),$(document).on("mousedown","#items .e-gridcontent .e-vscrollbar",function(){$("#item-viewer iframe").addClass("pointer-event"),-1!=navigator.userAgent.indexOf("Edge")&&$("#item-viewer iframe").addClass("display")}),$(document).on("mouseup",function(){$("#item-viewer iframe").hasClass("pointer-event")&&($("#item-viewer iframe").removeClass("pointer-event"),-1!=navigator.userAgent.indexOf("Edge"))&&$("#item-viewer iframe").removeClass("display")}),$(document).on("click",".blank-dashboard-link-box, #start-from-templates",function(){$("#CreateDashboard").trigger("click")});var isAddCategoryDialogBinded=!1,isAddSampleDialogBinded=!1;function getSubCategoryInfo(){var i=$("#create-subcategory-section");$.ajax({type:"POST",url:getCategories,data:"",success:function(e){e.length<1?$('.select-create-type input[name=categoryType][value="1"]').prop("disabled",!0):$('.select-create-type input[name=categoryType][value="1"]').prop("disabled",!1);var t=document.querySelector("#SubCategoryList");null!=t&&null!=t.ej2_instances&&t.ej2_instances[0].destroy(),new ejs.dropdowns.DropDownTree({fields:{dataSource:e,value:"Id",text:"Name",child:"SubCategory"},select:function(){categoryValueChange(i)},value:[e[0].Id.toString()],destroyPopupOnHide:!1,showClearButton:!1}).appendTo("#SubCategoryList")}})}function dialogClose(){$(".clear-search").css("display","none"),$(".search-item").css("display","block"),0==dashboardItemCount&&location.reload(),angular.element("[ng-controller=SampleListCtrl]").scope().query="",dialog.hide()}function openSampleDashboardDialog(e){var t,i,s='<span class="dialog-header-with-icon"><span class ="dialog-header-title">'+window.Server.App.Localization.SampleDashboards+"</span></span>";isAddSampleDialogBinded?((i=document.getElementById("sample_item_dialog").ej2_instances)[0].header=s,i[0].show()):((t=document.createElement("div")).setAttribute("id","sample_item_dialog"),e.appendChild(t),(i=new ejs.popups.Dialog({showOnInit:!1,allowDraggable:!1,enableResize:!1,width:460<window.innerWidth?"900px":window.innerWidth-10,height:"auto",showHeader:!1,animationSettings:{effect:"Zoom"},isModal:!0,enableModal:!0,closeOnEscape:!0,header:s,showCloseIcon:!0,close:dialogClose,content:document.getElementById("sample-item-container"),buttons:[{click:function(){0==dashboardItemCount&&location.reload(),angular.element("[ng-controller=SampleListCtrl]").scope().query="",i.hide(),$(".clear-search").css("display","none"),$(".search-item").css("display","block")},buttonModel:{cssClass:"app-btn-secondary",content:window.Server.App.Localization.CloseButton}}]})).appendTo(t),isAddSampleDialogBinded=!0),ejs.popups.createSpinner({target:document.getElementById("sample_item_dialog")}),ejs.popups.setSpinner({type:"Material"}),beforeOpenSampleDialog()}function beforeOpenSampleDialog(){$("#sample-item-container .search-div #search-area #search-items").val(""),$(".list-group-item").removeClass("highlight-list-item"),$(".list-group").find(".list-group-item:first").addClass("highlight-list-item"),$("#sample-item-container").show(),ejs.popups.showSpinner(document.getElementById("sample_item_dialog")),$.ajax({type:"POST",url:addSampleItemsUrl,data:{},success:function(e){var t=angular.element("[ng-controller=SampleListCtrl]").scope();t.samples=e.categories,t.orderList="Name",t.selectedCategory=void 0,"$apply"!=t.$root.$$phase&&"$digest"!=t.$root.$$phase&&t.$apply(),$(".list-group").scrollTop(0),ejs.popups.hideSpinner(document.getElementById("sample_item_dialog"))}})}function openNewDashboardPopup(){$("#report_popup").ejDialog("open"),$("#report_popup_wrapper").ejWaitingPopup("show")}function onDashboardDialogOpen(){$("#report_iframe").attr("src",addDashboardIframeUrl)}function onDashboardDialogClose(){$("#report_popup").find("iframe").contents().find("html").html(""),window.IsAddDashboard=!1,window.CategoryName=""}function beforeCloseAddItemPopup(){$("#add_category_name, #create_subcategory_name, #add-category_description, #create_subcategory_description").val(""),$('.select-create-type input[name=categoryType][value="0"]').prop("checked",!0).trigger("change"),$("#CreateCategoryPopup #validate-name").parent("span").parent("td").removeClass("has-error"),$("#CreateCategoryPopup #validate-name").parent("span").removeClass("has-error"),$("#CreateCategoryPopup #validate-name").text(""),$("#CreateCategoryPopup #categorylist_validation, #CreateCategoryPopup #plugin_validation").html("")}$(function(){$("#report_popup").ejDialog({width:"760px",showOnInit:!1,allowDraggable:!1,enableResize:!1,title:window.Server.App.Localization.AddDashboard,enableModal:!0,showHeader:!1,open:"onDashboardDialogOpen"});var e=createLoader("report_popup_wrapper");$("#report_popup_wrapper").ejWaitingPopup({template:$("#"+e)})}),$("input[type=radio][name=categoryType]").change(function(){"0"===$(this).val()?($("#create_subcategory_content").css("display","none"),$("#create_newcategory_content").css("display","block")):($("#create_subcategory_content").css("display","block"),$("#create_newcategory_content").css("display","none")),$("#add_category_name, #create_subcategory_name").val(""),$("#add-category_description, #create_subcategory_description").val(""),$("#create-category-dialog .validation-message").html(""),$("#CreateCategoryPopup #validate-name").parent("span").parent("td").removeClass("has-error"),$("#CreateCategoryPopup #validate-name").parent("span").removeClass("has-error")}),$(document).on("click","#create_Category",function(){document.getElementById("CreateCategoryPopup").style.display="block";var e,t,i='<span class="dialog-header-with-icon"><span class ="dialog-header-title"><i class="su su-folder dialog-header-icon"></i>&nbsp;&nbsp;'+window.Server.App.Localization.CreateCategory+"</span></span>";isAddCategoryDialogBinded?((t=document.getElementById("create-category-dialog").ej2_instances)[0].header=i,t[0].show()):((e=document.createElement("div")).setAttribute("id","create-category-dialog"),document.getElementById("server-app-container").appendChild(e),(t=new ejs.popups.Dialog({showOnInit:!1,allowDraggable:!1,enableResize:!1,width:460<window.innerWidth?"430px":window.innerWidth-10,showHeader:!1,animationSettings:{effect:"Zoom"},isModal:!0,enableModal:!0,closeOnEscape:!0,header:i,showCloseIcon:!0,content:document.getElementById("CreateCategoryPopup"),beforeClose:beforeCloseAddItemPopup,buttons:[{click:function(e){var t=1==$("input[name=categoryType]:checked").val();addItemValidate(t)},buttonModel:{isPrimary:!0,cssClass:"app-btn-primary",content:window.Server.App.Localization.AddButton}},{click:function(){closeAddItemPopup()},buttonModel:{cssClass:"app-btn-secondary",content:window.Server.App.Localization.CancelButton}}]})).appendTo(e),isAddCategoryDialogBinded=!0),ejs.popups.createSpinner({target:document.getElementById("create-category-dialog")}),ejs.popups.setSpinner({type:"Material"}),getSubCategoryInfo()}),$(document).on("click",".add-sample-button",function(){openSampleDashboardDialog(0!=dashboardItemCount?document.getElementById("dashboard-page-container"):document.getElementById("defafult-pages-container"))}),$(document).on("click",".explore",function(){openSampleDashboardDialog(document.getElementById("server-app-container"))}),$(document).on("click",".dashboard-notification .su-close",function(){$(".dashboard-notification").remove()});var browser=("undefined"!=typeof ej?ej:BoldBIDashboard).browserInfo(),isGetLinkDialogBinded=!1;function intializeGetLinkDialog(){$.ajax({type:"Get",url:getLinkDialogViewUrl,success:function(e){$("body").append(e)}}),document.querySelectorAll('[data-bs-toggle="get-link-tooltip"]').forEach(e=>{new bootstrap.Tooltip(e,{animation:!0,html:!0,placement:"top"})})}function GetLink(e){var t,i,s=e.ItemType,s=(2==s?$(".dashboard-link").show():6==s?($(".file-link").show(),$("#compressed-link").prop("checked",!0)):(8==s?$(".widget-link"):$(".link")).show(),e.Name),o=(e.Id,document.getElementById("get_item_link").style.display="block",'<span class="dialog-header-with-subtitle"><span class ="dialog-header-title">'+window.Server.App.Localization.GetLink+'</span><span class="item-name">'+e.Name+"</span></span>");isGetLinkDialogBinded?((i=document.getElementById("get_item_link_dialog").ej2_instances)[0].header=o,i[0].show()):((t=document.createElement("div")).setAttribute("id","get_item_link_dialog"),document.getElementById("dashboard-page-container").appendChild(t),(i=new ejs.popups.Dialog({showOnInit:!1,allowDraggable:!1,enableResize:!1,width:460<window.innerWidth?"450px":window.innerWidth-10,height:"auto",showHeader:!1,animationSettings:{effect:"Zoom"},isModal:!0,enableModal:!0,closeOnEscape:!0,header:o,showCloseIcon:!0,open:onGetLinkDialogOpen,content:document.getElementById("get_item_link"),buttons:[{click:function(e){i.hide()},buttonModel:{cssClass:"app-btn-secondary",content:window.Server.App.Localization.OKButton}}]})).appendTo(t),isGetLinkDialogBinded=!0),ejs.popups.createSpinner({target:document.getElementById("get_item_link_dialog")}),ejs.popups.setSpinner({type:"Material"}),ejs.popups.showSpinner(document.getElementById("get_item_link_dialog")),intializeGetLinkDialog(),ejs.popups.hideSpinner(document.getElementById("get_item_link_dialog")),$(".get_link").show(),e.IsPublic?($(".private-note").hide(),$(".public-note").show()):($(".private-note").show(),$(".public-note").hide()),/Safari/.test(navigator.userAgent)&&/Apple Computer/.test(navigator.vendor)?($("#item-link-copy").removeClass("su su-copy"),$("#item-link").css({width:"100%",borderRadius:"4px"}),$("#item-link-copy").attr("data-bs-original-title","")):$("#item-link-copy").tooltip({animation:!1}),$(".report-name").html(s),$(".report-name").attr("title",s),$("#item-link").val(getDashboardShareLink(e.Id,e.CategoryName,e.Name)),$("#item-link").select(),$(".modal-footer .validation-area").css("display","block")}function onGetLinkDialogOpen(){$("#item-link").select(),$(".get_link").show(),$("#item-link").val(itemUrl.trim()),/Safari/.test(navigator.userAgent)&&/Apple Computer/.test(navigator.vendor)&&($("#item-link-copy").removeClass("su su-copy"),$("#item-link-copy").attr("data-bs-original-title",""))}function getDashboardShareLink(e,t,i,s){var o=baseUrl.split("/");return encodeURI(o[0]+"//"+o[2]+(s||viewDashboardUrlAction)+"/"+e+"/"+t+"/"+i)}$(document).on("click","#item-link-copy",function(e){var t,i;$("#item-link").select(),/Safari/.test(navigator.userAgent)&&/Apple Computer/.test(navigator.vendor)?($("#item-link-copy").removeClass("su su-copy"),$("#item-link-copy").attr("data-bs-original-title","")):(document.execCommand("copy"),t=document.querySelector("#item-link-copy"),(i=bootstrap.Tooltip.getInstance(t))&&i.dispose(),(i=new bootstrap.Tooltip(t,{title:window.Server.App.Localization.Copysuccess,trigger:"hover"})).show(),setTimeout(()=>{i.dispose(),i=new bootstrap.Tooltip(t,{title:window.Server.App.Localization.LinkCopy,trigger:"hover"})},1e3))});var isWidget=!1,sharePermissionDlgObj="",sharePermissionDlgWrapperObj="",sharePermisisonDlgHeader="",sharePermissionDlgHeaderItemName="",selectedMode="",sharePermissionConatiner="",accessModeContainer="",dummyContainer="",embedCodeContainer="",sharePermissionDashboardSettingSectionObj="",sharePermissionPublicSectionObj="",sharePermissionPrivateSectionObj="",sharePermissionUserGroupSectionObj="",manageUserGroupContainer="",manageUserGroupBodySection="",getEmbedLinkSection="",embedConfiguration="",changeIndicatorBannerObj="",shareWithLabelObj="",getLinkInputObj="",getLinkCopyLinkobj="",getEmbedCodeInputObj="",getEmbedCodeCopyBtnobj="",accessModeChangeLink="",manageAccessButton="",manageAccessBackButton="",manageAccessSaveBtnObj="",manageAccessCancelBtnObj="",shareDoneBtnObj="",shareBtnObj="",accessModeChngBtnObj="",accessModeCancelBtnObj="",embedCodeDoneBtnObj="",embedCodeBackButton="",addOwnerBtnObj="",publicRadioBtnObj="",privateRadioBtnObj="",isItemPublic=!1,isEntireDOMRendered=!1,isItemUnlisted=!1,isGetEmbedCodeTriggered=!1,isMarkItemsPublicForShareDialog=!1,isAccessModeChanges=!1,accessModeSelectionInput="",sharedUserGroupsPreservedList=[],sharedAccessModePreservedList=[],markForDeleteBtnObj="",removeMarkForDeleteBtnObj="",toggleMarkForDeletionObj="",modifiedItemIndex=[],addNewItemPermission=[],userMarkedForDeletionList=[],groupMarkedForDeletionList=[],showSharedUserGroupContainer="",showSharedUserGroupNameSection="",showSharedUserGroupName="",showSharedUserGroupCountSection="",showSharedUserGroupCount="",currentItemDetail=[],currentDashboardDetail=[],shareItem=angular.module("serverApp");function manageAccessCancelBtn(){$('[data-bs-toggle="popover"]').popover("hide"),resetToActualScope(),enableAutomCompleteControl(),enableAutocompleteAccessModeSelection()}function shareDashboardPermission(e,t){$("#user-group-search-input_suggestion").removeClass("hide-suggesstion"),currentItemDetail=e,currentDashboardDetail=t;var i=null!=window.granularPermissions&&(window.granularPermissions.All||window.granularPermissions.DashboardSettings),s=null!=window.granularPermissions&&window.granularPermissions.Dashboard,o=null!=window.granularPermissions&&window.granularPermissions.Slideshow,n=null!=window.granularPermissions&&window.granularPermissions.Datasource,a=null!=window.granularPermissions&&window.granularPermissions.Category,r=angular.element("#share-permission-content-section").scope(),i=(r.currentItemType=e.ItemType,r.isAdmin=isAdmin,r.hasDashboardSettingsPermission=isAdmin||i,isItemUnlisted=e.IsUnlisted,null!=t&&(r.isDashboardPublic=t.IsPublic),0),i=e.ItemType==ItemType.Category||e.ItemType==ItemType.Datasource?241:e.ItemType==ItemType.Slideshow?356:e.ItemType==ItemType.ItemView?418:isMarkItemsPublicForShareDialog?e.IsMultiDashboard?e.IsPublic?407:391:e.IsPublic?434:418:e.IsMultiDashboard?335:362;switch("undefined"!=typeof BoldBIDashboard?sharePermissionDlgObj.BoldBIDashboardDialog({height:i}):sharePermissionDlgObj.ejDialog({height:i}),sharePermissionDlgHeaderItemName.text(e.Name),sharePermissionDlgObj.show(),$("#share-permission-popup_wrapper, #user-group-search-input_suggestion").addClass("custom-bootstrap-styles"),"undefined"!=typeof BoldBIDashboard?sharePermissionDlgObj.BoldBIDashboardDialog("open"):sharePermissionDlgObj.ejDialog("open"),e.ItemType==ItemType.Dashboard||e.ItemType==ItemType.ItemView?e.CreatedById==currentUserId||isAdmin||s?((isMarkItemsPublicForShareDialog||e.ItemType==ItemType.ItemView||!isMarkItemsPublicForShareDialog&&e.ItemType==ItemType.Dashboard?e.IsPublic?showPublicContent:showPrivateContent:showDashboardSettingContent)(),addAttributeValueToBtnEle(e)):(hidePublicPrivateContent(),r=e.IsMultiDashboard?312:339,"undefined"!=typeof BoldBIDashboard?sharePermissionDlgObj.BoldBIDashboardDialog({height:r}):sharePermissionDlgObj.ejDialog({height:r})):hidePublicPrivateContent(),e.ItemType==ItemType.Dashboard?e.CreatedById==currentUserId||isAdmin||s?showShareDialogContent(e):hideShareUserGroupPermissionSection():e.ItemType==ItemType.Slideshow?e.CreatedById==currentUserId||isAdmin||o?showShareDialogContent(e):hideShareUserGroupPermissionSection():e.ItemType==ItemType.Datasource?e.CreatedById==currentUserId||isAdmin||n?showShareDialogContent(e):hideShareUserGroupPermissionSection():e.ItemType==ItemType.Category?e.CreatedById==currentUserId||isAdmin||a?showShareDialogContent(e):hideShareUserGroupPermissionSection():e.CreatedById==currentUserId||isAdmin?showShareDialogContent(e):hideShareUserGroupPermissionSection(),/Safari/.test(navigator.userAgent)&&/Apple Computer/.test(navigator.vendor)?($("#item-url-copy").hide(),$("#item-url").css({width:"100%",borderRadius:"4px"}),$("#item-url-copy").attr("data-original-title","")):$("#item-url-copy").tooltip({animation:!1}),e.ItemType){case ItemType.Dashboard:$("#item-url").val(getDashboardShareLink(e.Id,e.CategoryName,e.Name));break;case ItemType.ItemView:var l=getDashboardShareLink(t.Id,t.CategoryName,t.Name);$("#item-url").val(l+"?viewid="+e.Id);break;case ItemType.Slideshow:l=baseUrl.split("/");$("#item-url").val(l[0]+"//"+l[2]+slideShowUrl+"/"+e.Id+"/"+e.Name);break;default:$("#item-url").val("")}}function addGroupOwnerDialogOpen(){var e=$("#add-owner-button").attr("data-groupname"),t=$("#add-owner-button").attr("data-groupid"),i=angular.element("#share-permission-content-section").scope();currentItemDetail.ItemType=ItemType.UserManagement,i.currentItemType=ItemType.UserManagement,i.isAdmin=isAdmin,"undefined"!=typeof BoldBIDashboard?sharePermissionDlgObj.BoldBIDashboardDialog({height:241}):sharePermissionDlgObj.ejDialog({height:241}),sharePermisisonDlgHeader.text(window.Server.App.Localization.AddGroupOwnerBtn),sharePermissionDlgHeaderItemName.text(e),sharePermissionDlgObj.show(),$("#share-permission-popup_wrapper, #user-group-search-input_suggestion").addClass("custom-bootstrap-styles"),"undefined"!=typeof BoldBIDashboard?sharePermissionDlgObj.BoldBIDashboardDialog("open"):sharePermissionDlgObj.ejDialog("open"),hidePublicPrivateContent(),getGroupUserPermission(t),addOwnerBtnObj.attr("data-item-id",t),addOwnerBtnObj.attr("data-name",e),addOwnerBtnObj.attr("data-itemtype",ItemType.UserManagement),autoCompleteHiddenEle.attr("data-item-id",t),autoCompleteHiddenEle.attr("data-itemtype",ItemType.UserManagement)}function showShareDialogContent(e){showShareUserGroupPermissionSection(),getShareItemPermission(e.Id),addAttributeValueToBtnEle(e),addAttributeValueToAutoCompleteEle(e)}function onSharePermissionPopupOpen(e){$('[data-bs-toggle="popover"]').popover("hide"),"undefined"!=typeof BoldBIDashboard?sharePermissionDlgWrapperObj.BoldBIDashboardWaitingPopup("refresh"):sharePermissionDlgWrapperObj.ejWaitingPopup("refresh"),0==isGetEmbedCodeTriggered&&showSharePermissionContainer(),refreshDialogBoxPosition()}function onSharePermissionPopupClose(e){currentItemDetail=[],$(".embed-configuration [type='checkbox']").prop("checked",!1),$("#mode-selection").val("view"),$("#sso-providers").val("OpenID"),selectedMode="",$(".auth-provider-row").addClass("hide"),$('[data-bs-toggle="popover"]').popover("hide"),showSharePermissionContainer(),"undefined"!=typeof BoldBIDashboard?(sharePermissionDlgWrapperObj.BoldBIDashboardWaitingPopup("refresh"),sharePermissionDlgWrapperObj.BoldBIDashboardWaitingPopup("hide")):(sharePermissionDlgWrapperObj.ejWaitingPopup("refresh"),sharePermissionDlgWrapperObj.ejWaitingPopup("hide")),isGetEmbedCodeTriggered=!1,refreshDialogBoxPosition()}function showAccessModeContainer(){sharePermisisonDlgHeader.text(window.Server.App.Localization.SharePermissionAccessMode),accessModeContainer.show(),accessModeChngBtnObj.show(),accessModeCancelBtnObj.show(),sharePermissionConatiner.hide(),manageAccessButton.hide(),shareBtnObj.hide(),shareDoneBtnObj.hide(),refreshDialogBoxPosition(),currentItemDetail.ItemType!=ItemType.Dashboard||isMarkItemsPublicForShareDialog||sharePermissionDashboardSettingSectionObj.show()}function showManageAccessContainer(){sharePermissionDashboardSettingSectionObj.hide(),showSharedUserGroupContainer.hide(),shareBtnObj.text(window.Server.App.Localization.AddPeopleBtn),addOwnerBtnObj.text(window.Server.App.Localization.AddPeopleBtn),sharePermisisonDlgHeader.text(window.Server.App.Localization.ManageAccess),dummyContainer.hide(),""==autoCompleteInstance.getValue()&&(shareBtnObj.hide(),addOwnerBtnObj.hide()),currentItemDetail.ItemType==ItemType.UserManagement&&($(".change-access-mode-selection span").removeClass("caret"),$(".change-access-mode-selection button").attr("disabled",!0)),manageAccessBackButton.show(),manageUserGroupContainer.show(),manageAccessButton.hide(),refreshUserGroupScroll(),refreshDialogBoxPosition(),generateProfileAvatar()}function hideManageAccessContainer(){manageUserGroupContainer.hide(),manageAccessSaveBtnObj.hide(),manageAccessCancelBtnObj.hide(),embedCodeDoneBtnObj.hide(),embedCodeBackButton.hide(),embedCodeContainer.hide(),changeIndicatorBannerObj.css("visibility","hidden"),resetPreRequestValues()}function showSharePermissionContainer(){currentItemDetail.ItemType==ItemType.UserManagement?(sharePermisisonDlgHeader.text(window.Server.App.Localization.AddGroupOwnerBtn),$(".show-shared-user-group-label").text("Group Owners :")):sharePermisisonDlgHeader.text(window.Server.App.Localization.SharePermissionDefault),dummyContainer.show(),shareBtnObj.text(window.Server.App.Localization.SharePeopleBtn),enableAutocompleteAccessModeSelectionWithoutReset(),refreshAutoComplete(),sharePermissionConatiner.show(),manageAccessButton.show(),shareDoneBtnObj.show(),manageAccessBackButton.hide(),hideManageAccessContainer(),accessModeContainer.hide(),accessModeChngBtnObj.hide(),accessModeCancelBtnObj.hide(),displaySharedUserGroupInfo(),currentItemDetail.ItemType==ItemType.Dashboard?"undefined"!=typeof BoldBIDashboard&&".sydj"==currentItemDetail.Extension.toLowerCase()||currentItemDetail.IsMultiDashboard||!ej.isNullOrUndefined(currentItemDetail.Extension)&&".sydj"==currentItemDetail.Extension.toLowerCase()||currentItemDetail.IsMultiDashboard?getEmbedLinkSection.show():getEmbedLinkSection.hide():currentItemDetail.ItemType==ItemType.ItemView&&getEmbedLinkSection.show(),embedCodeDoneBtnObj.hide(),embedCodeBackButton.hide(),sharePermissionDlgHeaderItemName.show(),sharePermisisonDlgHeader.css("line-height",""),refreshDialogBoxPosition()}function showSharePermissionContainerWithRefresh(){$('[data-bs-toggle="popover"]').popover("hide"),resetToActualScope(),hideManageAccessContainer(),enableAutocompleteAccessModeSelectionWithoutReset(),autoCompleteHiddenEle.attr("data-itemtype")!=ItemType.UserManagement?sharePermisisonDlgHeader.text(window.Server.App.Localization.SharePermissionDefault):sharePermisisonDlgHeader.text(window.Server.App.Localization.AddGroupOwnerBtn),displaySharedUserGroupInfo(),dummyContainer.show(),shareBtnObj.text(window.Server.App.Localization.SharePeopleBtn),addOwnerBtnObj.text(window.Server.App.Localization.AddGroupOwnerBtn),showPublicPrivateContent(),sharePermissionConatiner.show(),manageAccessButton.show(),""!=autoCompleteInstance.getValue()?((autoCompleteHiddenEle.attr("data-itemtype")!=ItemType.UserManagement?shareBtnObj:addOwnerBtnObj).show(),manageAccessCancelBtnObj.show(),shareDoneBtnObj.hide()):shareDoneBtnObj.show(),manageAccessBackButton.hide(),accessModeContainer.hide(),accessModeChngBtnObj.hide(),accessModeCancelBtnObj.hide(),refreshDialogBoxPosition()}function showDashboardSettingContent(){sharePermissionPublicSectionObj.hide(),sharePermissionPrivateSectionObj.hide(),sharePermissionDashboardSettingSectionObj.show()}function showPublicContent(){sharePermissionPublicSectionObj.show(),sharePermissionPrivateSectionObj.hide(),isItemPublic=!0}function showPrivateContent(){sharePermissionPublicSectionObj.hide(),sharePermissionPrivateSectionObj.show(),isItemPublic=!1}function showPublicOrPrivateContent(){(isItemPublic?showPublicContent:showPrivateContent)()}function showShareUserGroupPermissionSection(){sharePermissionUserGroupSectionObj.show()}function hideShareUserGroupPermissionSection(){sharePermissionUserGroupSectionObj.hide()}function hidePublicPrivateContent(){sharePermissionPublicSectionObj.hide(),sharePermissionPrivateSectionObj.hide(),sharePermissionDashboardSettingSectionObj.hide()}function showPublicPrivateContent(){var e=null!=window.granularPermissions&&window.granularPermissions.Dashboard;(currentItemDetail.ItemType==ItemType.Dashboard||currentItemDetail.ItemType==ItemType.ItemView)&&(currentItemDetail.CreatedById==currentUserId||isAdmin||e)?(isMarkItemsPublicForShareDialog||currentItemDetail.ItemType==ItemType.ItemView?isItemPublic?sharePermissionPublicSectionObj:sharePermissionPrivateSectionObj:sharePermissionDashboardSettingSectionObj).show():hidePublicPrivateContent()}function changeAccessMode(){manageAccessCancelBtn(),"undefined"!=typeof BoldBIDashboard?sharePermissionDlgWrapperObj.BoldBIDashboardWaitingPopup("show"):sharePermissionDlgWrapperObj.ejWaitingPopup("show"),showAccessModeContainer(),(isItemPublic?publicRadioBtnObj:privateRadioBtnObj).prop("checked",!0),$("#make-unlisted").prop("checked",isItemUnlisted),accessModeChngBtnObj.attr("disabled",!0),"undefined"!=typeof BoldBIDashboard?($("#share-permission-popup_wrapper").find(".private-icon-section, .public-icon-section").addClass("dashboard-change-access-section"),sharePermissionDlgWrapperObj.BoldBIDashboardWaitingPopup("hide")):($("#share-permission-popup_wrapper").find(".private-icon-section, .public-icon-section").removeClass("dashboard-change-access-section"),sharePermissionDlgWrapperObj.ejWaitingPopup("hide"))}function getEmbedCode(){embedCodeDialog(),embedCodeBackButton.show()}function embedCodeDialog(){resetToActualScope(),$("#embed-code").val(generateEmbedCode(currentItemDetail)),embedCodeContainer.show(),$("#mode-selection").selectpicker("refresh"),$("#sso-providers").selectpicker("refresh"),sharePermisisonDlgHeader.text(window.Server.App.Localization.EmbedCode),/Safari/.test(navigator.userAgent)&&/Apple Computer/.test(navigator.vendor)&&getEmbedCodeCopyBtnobj.hide(),currentItemDetail.IsPublic?($(".private-embed-code-note").hide(),$(".public-embed-code-note").show()):($(".private-embed-code-note").show(),$(".public-embed-code-note").hide()),embedCodeDoneBtnObj.show(),manageAccessBackButton.hide(),manageAccessSaveBtnObj.hide(),manageAccessCancelBtnObj.hide(),sharePermissionDlgHeaderItemName.hide(),sharePermisisonDlgHeader.css("line-height","32px"),sharePermissionConatiner.hide(),manageAccessButton.hide(),shareBtnObj.hide(),shareDoneBtnObj.hide(),isEntireDOMRendered=!0,refreshDialogBoxPosition()}function getEmbedCodeFromContext(){embedCodeDialog()}function addAttributeValueToBtnEle(e){accessModeChngBtnObj.attr("data-item-id",e.Id),accessModeChngBtnObj.attr("data-name",e.Name),accessModeChngBtnObj.attr("data-itemtype",e.ItemType),accessModeChngBtnObj.attr("data-category-name",e.CategoryName),shareBtnObj.attr("data-item-id",e.Id),shareBtnObj.attr("data-name",e.Name),shareBtnObj.attr("data-itemtype",e.ItemType)}function addAttributeValueToAutoCompleteEle(e){autoCompleteHiddenEle.attr("data-item-id",e.Id),autoCompleteHiddenEle.attr("data-itemtype",e.ItemType)}function getShareItemPermission(e){"undefined"!=typeof BoldBIDashboard?sharePermissionDlgWrapperObj.BoldBIDashboardWaitingPopup("show"):sharePermissionDlgWrapperObj.ejWaitingPopup("show"),$.ajax({type:"get",url:getShareItemPermissionUrl,data:{itemId:e},contentType:"application/json; charset=utf-8",dataType:"json",success:function(e){var t;e.status&&((t=angular.element("#share-permission-content-section").scope()).$apply(function(){angular.copy(e.SharedUserGroupList,sharedUserGroupsPreservedList),t.sharedUserGroups=e.SharedUserGroupList}),t.$apply(function(){angular.copy(e.AccessModeOptionList,sharedAccessModePreservedList),t.accessModes=e.AccessModeOptionList}),t.$apply(function(){t.isMarkItemsPublic=e.isItemPublic}),isMarkItemsPublicForShareDialog=e.isItemPublic,currentItemDetail.ItemType==ItemType.ItemView?$("#user-group-search-input_suggestion").removeClass("item-user-input_suggestion"):$("#user-group-search-input_suggestion").addClass("item-user-input_suggestion"),$(".change-access-mode-selection").selectpicker("refresh"),$(".change-access-mode-selection .selectpicker").removeAttr("title"),accessModeSelectionInput.html(""),accessModeSelectionInput.append(e.AccessModeList),accessModeSelectionInput.selectpicker("refresh"),refreshUserGroupScroll(),"undefined"!=typeof BoldBIDashboard?sharePermissionDlgWrapperObj.BoldBIDashboardWaitingPopup("hide"):sharePermissionDlgWrapperObj.ejWaitingPopup("hide"),displaySharedUserGroupInfo(),isEntireDOMRendered=!0,$('[data-bs-toggle="tooltip"]').tooltip(),$('[data-bs-toggle="popover"]').popover())},error:function(){warningToast(window.Server.App.Localization.InternalServerError),"undefined"!=typeof BoldBIDashboard?sharePermissionDlgWrapperObj.BoldBIDashboardWaitingPopup("hide"):sharePermissionDlgWrapperObj.ejWaitingPopup("hide")}})}function getGroupUserPermission(e){"undefined"!=typeof BoldBIDashboard?sharePermissionDlgWrapperObj.BoldBIDashboardWaitingPopup("show"):sharePermissionDlgWrapperObj.ejWaitingPopup("show"),$.ajax({type:"get",url:getGroupOwnersUrl,data:{groupId:e},contentType:"application/json; charset=utf-8",dataType:"json",success:function(e){var t;e.status?((t=angular.element(manageUserGroupBodySection).scope()).$apply(function(){angular.copy(e.SharedUserGroupList,sharedUserGroupsPreservedList),t.sharedUserGroups=e.SharedUserGroupList}),t.$apply(function(){angular.copy(e.AccessModeOptionList,sharedAccessModePreservedList),t.accessModes=e.AccessModeOptionList}),currentItemDetail.ItemType==ItemType.UserManagement?$("#user-group-search-input_suggestion").removeClass("item-user-input_suggestion"):$("#user-group-search-input_suggestion").addClass("item-user-input_suggestion"),$(".change-access-mode-selection").selectpicker("refresh"),$(".change-access-mode-selection .selectpicker").removeAttr("title"),$(".change-access-mode-selection span").removeClass("caret"),$(".change-access-mode-selection button").attr("disabled",!0),accessModeSelectionInput.html(""),accessModeSelectionInput.append(e.AccessModeList),accessModeSelectionInput.selectpicker("refresh"),refreshUserGroupScroll(),"undefined"!=typeof BoldBIDashboard?sharePermissionDlgWrapperObj.BoldBIDashboardWaitingPopup("hide"):sharePermissionDlgWrapperObj.ejWaitingPopup("hide"),displaySharedUserGroupInfo(),isEntireDOMRendered=!0,$('[data-bs-toggle="tooltip"]').tooltip(),$('[data-bs-toggle="popover"]').popover()):null!=e.permissionDenied&&e.permissionDenied&&(warningToast(window.Server.App.Localization.UserManagementWarningAlert),"undefined"!=typeof BoldBIDashboard?(sharePermissionDlgObj.BoldBIDashboardDialog("close"),sharePermissionDlgWrapperObj.BoldBIDashboardWaitingPopup("hide")):(sharePermissionDlgObj.ejDialog("close"),sharePermissionDlgWrapperObj.ejWaitingPopup("hide")))},error:function(){warningToast(window.Server.App.Localization.InternalServerError),"undefined"!=typeof BoldBIDashboard?sharePermissionDlgWrapperObj.BoldBIDashboardWaitingPopup("hide"):sharePermissionDlgWrapperObj.ejWaitingPopup("hide")}})}function displaySharedUserGroupInfo(){var s,e,o=angular.element(manageUserGroupBodySection).scope().sharedUserGroups;null!=o&&(0<o.length?(s="",$.each(o,function(e,t){var i="<div class='shared-user-group-name'><span class='shared-user-group-name-label'>";e<3&&(0<t.TargetUserId?i+=t.DisplayName+"</span>":i+=t.TargetGroupName+"</span>",e!=o.length-1?i+="<span class='shared-user-group-name-comma'>,</span> </div>":i+="</div>",s+=i)}),showSharedUserGroupNameSection.html(s),manageUserGroupContainer.is(":visible")||showSharedUserGroupContainer.show()):showSharedUserGroupContainer.hide(),3<o.length?(e=o.length-3,showSharedUserGroupCount.text(e),showSharedUserGroupCountSection.show()):showSharedUserGroupCountSection.hide(),generateProfileAvatar())}function saveItemPermission(){"undefined"!=typeof BoldBIDashboard?sharePermissionDlgWrapperObj.BoldBIDashboardWaitingPopup("show"):sharePermissionDlgWrapperObj.ejWaitingPopup("show"),splitUserGroupList();var e=userEmailList,t=groupIdList,i=accessModeSelectionInput.val(),s=shareBtnObj.attr("data-item-id"),o=shareBtnObj.attr("data-itemtype");$.ajax({type:"POST",url:sharepermissionUrl,data:{permissionList:JSON.stringify({mode:i,itemType:o,UserList:e,GroupList:t}),itemId:s},success:function(e,t){"true"==e.toString().toLowerCase()?(getShareItemPermission(s),refreshAutoComplete(),refreshAutocompleteAccessModeSelection()):(sharePermissionDlgObj.ejDialog("close"),warningToast(window.Server.App.Localization.ShareItemPermissionMessage+" "+window.Server.App.Localization.ReloadPage))}})}function addGroupOwnerPermission(){"undefined"!=typeof BoldBIDashboard?sharePermissionDlgWrapperObj.BoldBIDashboardWaitingPopup("show"):sharePermissionDlgWrapperObj.ejWaitingPopup("show"),splitUserGroupList();var e=userEmailList,t=groupIdList,i=accessModeSelectionInput.val(),s=addOwnerBtnObj.attr("data-item-id"),o=addOwnerBtnObj.attr("data-itemtype");$.ajax({type:"POST",url:addGroupOwnerPermissionUrl,data:{permissionList:JSON.stringify({mode:i,itemType:o,UserList:e,GroupList:t}),groupId:s},success:function(e,t){e.status?(getGroupUserPermission(s),refreshAutoComplete(),refreshAutocompleteAccessModeSelection()):null!=e.permissionDenied&&e.permissionDenied&&(warningToast(window.Server.App.Localization.UserManagementWarningAlert),"undefined"!=typeof BoldBIDashboard?(sharePermissionDlgObj.BoldBIDashboardDialog("close"),sharePermissionDlgWrapperObj.BoldBIDashboardWaitingPopup("hide")):(sharePermissionDlgObj.ejDialog("close"),sharePermissionDlgWrapperObj.ejWaitingPopup("hide")))},error:function(){warningToast(window.Server.App.Localization.InternalServerError)}})}function updateBulkItemPermission(){var i=shareBtnObj.attr("data-item-id"),s=addOwnerBtnObj.attr("data-item-id");$.ajax({type:"POST",url:updateBulkItemPermissionUrl,data:{permissionList:addNewItemPermission,userMarkedForDeletionList:userMarkedForDeletionList,groupMarkedForDeletionList:groupMarkedForDeletionList,itemId:i,groupId:s},success:function(e,t){"true"==e.toString().toLowerCase()?(null!=i?getShareItemPermission(i):getGroupUserPermission(s),changeIndicatorBannerObj.css("visibility","hidden"),resetPreRequestValues(),manageAccessSaveBtnObj.hide(),manageAccessCancelBtnObj.hide(),shareDoneBtnObj.show(),enableAutomCompleteControl(),enableAutocompleteAccessModeSelection()):warningToast(window.Server.App.Localization.InternalServerError)},error:function(){warningToast(window.Server.App.Localization.InternalServerError)}})}function refreshDialogBoxPosition(){"undefined"!=typeof BoldBIDashboard?(sharePermissionDlgObj.BoldBIDashboardDialog({height:"auto"}),isEntireDOMRendered&&(sharePermissionDlgObj.BoldBIDashboardDialog({width:529}),sharePermissionDlgObj.BoldBIDashboardDialog({width:530})),sharePermissionDlgWrapperObj.BoldBIDashboardWaitingPopup("refresh"),sharePermissionDlgObj.BoldBIDashboardDialog("refresh")):(sharePermissionDlgObj.ejDialog({height:"auto"}),isEntireDOMRendered&&(sharePermissionDlgObj.ejDialog({width:529}),sharePermissionDlgObj.ejDialog({width:530})),sharePermissionDlgWrapperObj.ejWaitingPopup("refresh"),sharePermissionDlgObj.ejDialog("refresh")),isWidget&&("undefined"!=typeof BoldBIDashboard?sharePermissionDlgWrapperObj.BoldBIDashboardWaitingPopup("hide"):sharePermissionDlgWrapperObj.ejWaitingPopup("hide"),sharePermisisonDlgHeader.text(window.Server.App.Localization.EmbedCode),sharePermisisonDlgHeader.css("line-height","32px"),sharePermissionDlgHeaderItemName.hide(),sharePermissionConatiner.hide(),embedCodeContainer.show(),embedConfiguration.hide(),manageAccessButton.hide())}function prepareRequestForAddItemPermission(){var n,e,a,r;0<modifiedItemIndex.length&&(e=(n=angular.element(manageUserGroupBodySection).scope()).accessModes,a=n.sharedUserGroups,r=shareBtnObj.attr("data-itemtype"),$.each(e,function(e,i){var t=i.Key,s=[],o=[];$.each(modifiedItemIndex,function(e,t){a[t].PermissionAccess!=sharedUserGroupsPreservedList[t].PermissionAccess&&a[t].PermissionAccess==i.Key&&(n.IsUserItem(t)?-1==jQuery.inArray(a[t].Email,s)&&s.push(a[t].Email):n.IsGroupItem(t)&&-1==jQuery.inArray(a[t].TargetGroupId,o)&&o.push(a[t].TargetGroupId))}),(0<s.length||0<o.length)&&addNewItemPermission.push(JSON.stringify({mode:t,itemType:r,UserList:s,GroupList:o}))}),$.each(modifiedItemIndex,function(e,t){a[t].PermissionAccess!=sharedUserGroupsPreservedList[t].PermissionAccess&&(n.IsUserItem(t)?-1==jQuery.inArray(sharedUserGroupsPreservedList[t].PermissionId,userMarkedForDeletionList)&&userMarkedForDeletionList.push(sharedUserGroupsPreservedList[t].PermissionId):n.IsGroupItem(t)&&-1==jQuery.inArray(sharedUserGroupsPreservedList[t].PermissionId,groupMarkedForDeletionList)&&groupMarkedForDeletionList.push(sharedUserGroupsPreservedList[t].PermissionId))}))}function resetPreRequestValues(){modifiedItemIndex=[],addNewItemPermission=[],userMarkedForDeletionList=[],groupMarkedForDeletionList=[]}function resetToActualScope(){var e=angular.element(manageUserGroupBodySection).scope();"$apply"!=e.$root.$$phase&&"$digest"!=e.$root.$$phase&&(e.$apply(function(){angular.copy(sharedUserGroupsPreservedList,e.sharedUserGroups)}),e.$apply(function(){angular.copy(sharedAccessModePreservedList,e.accessModes)})),$(".change-access-mode-selection").selectpicker("refresh"),$(".change-access-mode-selection .selectpicker").removeAttr("title"),changeIndicatorBannerObj.css("visibility","hidden"),resetPreRequestValues(),$('[data-bs-toggle="tooltip"]').tooltip(),manageAccessSaveBtnObj.hide(),manageAccessCancelBtnObj.hide(),shareBtnObj.hide(),shareDoneBtnObj.show()}function enableAutocompleteAccessModeSelectionWithoutReset(){"undefined"!=typeof BoldBIDashboard?autoCompleteControlEle.BoldBIDashboardAutocomplete("enable"):autoCompleteControlEle.ejAutocomplete("enable"),autoCompleteControlWrapperEle.find(".e-in-wrap.e-box.e-corner").removeClass("disable-autocomplete"),accessModeSelectionInput.prop("disabled",!1),$(".selectpicker[data-id='access-mode-selection']").removeClass("disabled"),$(".selectpicker[data-id='access-mode-selection']").removeClass("disable-autocomplete-access-mode-selection"),accessModeSelectionInput.selectpicker("refresh")}function refreshAutocompleteAccessModeSelection(){accessModeSelectionInput.prop("selectedIndex",0),accessModeSelectionInput.selectpicker("refresh")}function enableAutocompleteAccessModeSelection(){accessModeSelectionInput.prop("disabled",!1),$(".selectpicker[data-id='access-mode-selection']").removeClass("disabled"),$(".selectpicker[data-id='access-mode-selection']").removeClass("disable-autocomplete-access-mode-selection"),refreshAutocompleteAccessModeSelection()}function disableAutocompleteAccessModeSelection(){accessModeSelectionInput.prop("disabled",!0),$(".selectpicker[data-id='access-mode-selection']").addClass("disabled"),$(".selectpicker[data-id='access-mode-selection']").addClass("disable-autocomplete-access-mode-selection"),refreshAutocompleteAccessModeSelection()}function onSuggestionListOpen(){manageUserGroupContainer.addClass("disable-element-opacity")}function onSuggestionListClose(){""==autoCompleteInstance.getValue()&&manageUserGroupContainer.removeClass("disable-element-opacity")}function refreshUserGroupScroll(){var e,t;manageUserGroupBodySection.is(":visible")&&($(".tooltip").tooltip("hide"),e={height:225,width:"100%",scrollerSize:7,buttonSize:0,enableTouchScroll:!(t=""),scrollOneStepBy:20,scroll:function(){$(".tooltip").tooltip("hide"),$('[data-bs-toggle="popover"]').popover("hide")}},(t="undefined"!=typeof BoldBIDashboard?(manageUserGroupBodySection.BoldBIDashboardScroller(e),manageUserGroupBodySection.BoldBIDashboardScroller("instance")):(manageUserGroupBodySection.ejScroller(e),manageUserGroupBodySection.ejScroller("instance"))).model.height=225,t.refresh(),$(".manage-user-group-body-section .e-scrollbar").show())}function generateEmbedCode(e){var t,i="",i=currentItemDetail.ItemType==ItemType.ItemView?getDashboardShareLink(currentDashboardDetail.Id,currentDashboardDetail.CategoryName,currentDashboardDetail.Name)+"?viewid="+currentItemDetail.Id+"&isembed=true":e.ItemType==ItemType.Widget?(isWidget=!0,(t=angular.element("#share-permission-content-section").scope()).$apply(function(){t.isDashboardPublic=e.IsPublic,t.currentItemType=e.ItemType}),sharePermissionDlgObj.show(),"undefined"!=typeof BoldBIDashboard?(sharePermissionDlgObj.BoldBIDashboardDialog("open"),sharePermissionDlgWrapperObj.BoldBIDashboardWaitingPopup("show")):(sharePermissionDlgObj.ejDialog("open"),sharePermissionDlgWrapperObj.ejWaitingPopup("show")),getDashboardShareLink(e.Id,e.CategoryName,e.Name)+"?isembed=true&isWidgetMode=true&WidgetId="+e.widgetId):e.ItemType==ItemType.Datasource?($(".datasource-hide").hide(),getDatasourceShareLink(e.Id,e.Name)+"?isembed=true"):e.ItemType==ItemType.Dashboard?"edit"==selectedMode?($(".mode-change").attr("disabled",!0),getDashboardShareLink(e.Id,e.CategoryName,e.Name,editDashboardEmbedUrl)+"?isembed=true"):($(".mode-change").attr("disabled",!1),getDashboardShareLink(e.Id,e.CategoryName,e.Name)+"?isembed=true"):getDashboardShareLink(e.Id,e.CategoryName,e.Name)+"?isembed=true";return"edit"!=selectedMode&&(i=(i=(i=(i+=$("#embed-dashboard-comments").is(":checked")?"&dashboard_comments=true":"")+($("#embed-widget-comments").is(":checked")?"&widget_comments=true":""))+($("#embed-views").is(":checked")?"&views=true":""))+($("#embed-export").is(":checked")?"&export=true":"")),"<iframe src='"+(i+=$("#embed-sso").is(":checked")?"&hassso=true&externallogin="+$("#sso-providers").val().toLowerCase():"")+"' id='dashboard-frame' width='100%' height='600px' allowfullscreen frameborder='0'></iframe>"}function onCreateDataSourceConnection(){var e=createLoader("#create-connection-popup");$("#create-connection-popup").ejWaitingPopup({template:$("#"+e)}),null!=window.datasourceQueryString&&null!=window.datasourceQueryString&&""!=window.datasourceQueryString?$("#create-connection-iframe").attr("src",createDatasourceIframeUrl+"?"+window.datasourceQueryString):$("#create-connection-iframe").attr("src",createDatasourceIframeUrl),$("#connection-header").addClass("display-none"),$("#create-connection-popup").removeClass("display-none"),$("#create-connection-popup").ejDialog("open"),$("#create-connection-popup_wrapper #create-connection-popup #create-connection-iframe").css("height",$(window).height()-44),$("#create-connection-popup").ejWaitingPopup("show")}function onCreateConnectionDialogClose(){$("#create-connection-popup").ejDialog("close")}document.addEventListener("DOMContentLoaded",function(){document.querySelectorAll('[data-bs-toggle="popover"]').forEach(function(e){new bootstrap.Popover(e)})}),shareItem.controller("shareItemController",["$scope",function(s){s.currentUserId=window.currentUserId,s.downloadPermissionAccess=window.downloadPermissionAccess,s.downloadPermissionAccessId=window.downloadPermissionAccessId,s.sharedUserGroups=window.sharedUserGroupList,s.accessModes=window.accessModeList,s.showPopover=!1,s.currentItemType=ItemType.Dashboard,s.isAdmin=!1,s.isDashboardPublic=!1,s.hasDashboardSettingsPermission=!1,s.isUnlisted=!1,s.isMarkItemsPublic=!1,s.formatAccessModeString=function(e){return e.toString()},s.ImageLink=function(e){return idpUrl+"/User/Avatar?id="+e+"&ImageSize=64"};s.GetGroupColor=function(e,t){return{"background-color":"#dfdfdf"}},s.typeOptions=[{Key:2,Value:"Read"}],s.parseInt=function(e){return parseInt(e,10)},s.updateValue=function(e,t){s.CheckForModification(e,t)},s.MarkForDeletion=function(e,t,i){s.AddItemInUserGroupDeletionList(i),s.RemoveFromModified(i);i=angular.element(e.currentTarget).parents(".shared-user-group-list-section").children();i.find(".action-for-delete-container").hide(),i.find(".marked-for-delete-container").show(),i.find(".change-indicator").show(),s.ShowChangeIndicatorBanner()},s.RemoveMarkForDeletion=function(e,t,i){s.RemoveItemInUserGroupDeletionList(i);e=angular.element(e.currentTarget).parents(".shared-user-group-list-section").children();e.find(".marked-for-delete-container").hide(),e.find(".action-for-delete-container").show(),e.find(".change-indicator").hide(),s.CheckForModification(t,i)},s.CheckForModification=function(e,t){currentItemDetail.ItemType!=ItemType.ItemView&&(sharedUserGroupsPreservedList[t].PermissionAccess!=e?(s.AddToModified(t),$("#select_"+t).parents(".shared-user-group-list-section").children().find(".change-indicator").show()):sharedUserGroupsPreservedList[t].PermissionAccess==e&&(s.RemoveFromModified(t),$("#select_"+t).parents(".shared-user-group-list-section").children().find(".change-indicator").hide())),s.ShowChangeIndicatorBanner()},s.ShowChangeIndicatorBanner=function(){($(".change-indicator").is(":visible")?(changeIndicatorBannerObj.css("visibility","visible"),manageAccessSaveBtnObj.show(),manageAccessCancelBtnObj.show(),shareDoneBtnObj.hide(),disableAutomCompleteControl(),disableAutocompleteAccessModeSelection):(changeIndicatorBannerObj.css("visibility","hidden"),resetPreRequestValues(),manageAccessSaveBtnObj.hide(),manageAccessCancelBtnObj.hide(),shareDoneBtnObj.show(),enableAutomCompleteControl(),enableAutocompleteAccessModeSelection))()},s.AddItemInUserGroupDeletionList=function(e){s.IsUserItem(e)?-1==jQuery.inArray(sharedUserGroupsPreservedList[e].PermissionId,userMarkedForDeletionList)&&userMarkedForDeletionList.push(sharedUserGroupsPreservedList[e].PermissionId):s.IsGroupItem(e)&&-1==jQuery.inArray(sharedUserGroupsPreservedList[e].PermissionId,groupMarkedForDeletionList)&&groupMarkedForDeletionList.push(sharedUserGroupsPreservedList[e].PermissionId)},s.RemoveItemInUserGroupDeletionList=function(t){s.IsUserItem(t)?-1!=jQuery.inArray(sharedUserGroupsPreservedList[t].PermissionId,userMarkedForDeletionList)&&(userMarkedForDeletionList=jQuery.grep(userMarkedForDeletionList,function(e){return e!=sharedUserGroupsPreservedList[t].PermissionId})):s.IsGroupItem(t)&&-1!=jQuery.inArray(sharedUserGroupsPreservedList[t].PermissionId,groupMarkedForDeletionList)&&(groupMarkedForDeletionList=jQuery.grep(groupMarkedForDeletionList,function(e){return e!=sharedUserGroupsPreservedList[t].PermissionId}))},s.AddToModified=function(e){-1==jQuery.inArray(e,modifiedItemIndex)&&modifiedItemIndex.push(e)},s.RemoveFromModified=function(t){modifiedItemIndex=jQuery.grep(modifiedItemIndex,function(e){return e!=t})},s.IsUserItem=function(e){return null!=sharedUserGroupsPreservedList[e].Email&&sharedUserGroupsPreservedList[e].IsUserPermission&&0<sharedUserGroupsPreservedList[e].TargetUserId},s.IsGroupItem=function(e){return null==sharedUserGroupsPreservedList[e].Email&&!sharedUserGroupsPreservedList[e].IsUserPermission&&0<sharedUserGroupsPreservedList[e].TargetGroupId},s.getDashboardEmbedCode=getDashboardEmbedCode,s.GetManagePermisisionContent=function(e){var t=null!=window.granularPermissions&&window.granularPermissions.Dashboard,i=sharedUserGroupsPreservedList[e].PermissionEntityDescription;return s.IsUserItem(e)?isAdmin||t?(t=editUserPermissionUrl+"?userId="+sharedUserGroupsPreservedList[e].TargetUserId,window.Server.App.Localization.UserPermissionWithAdmin.format("<strong>"+i+"</strong>","</br></br>","<a target='_blank' href='"+t+"'>","</a>")):window.Server.App.Localization.UserPermissionNonAdmin.format("<strong>"+i+"</strong>","</br></br>"):isAdmin?(t=editGroupPermissionUrl+"?groupId="+sharedUserGroupsPreservedList[e].TargetGroupId,window.Server.App.Localization.GroupPermissionWithAdmin.format("<strong>"+i+"</strong>","</br></br>","<a target='_blank' href='"+t+"'>","</a>")):window.Server.App.Localization.GroupPermissionNonAdmin.format("<strong>"+i+"</strong>","</br></br>")}}]),$(function(){sharePermissionDlgObj=$("#share-permission-popup"),sharePermisisonDlgHeader=$("#share-permission-dialog-header"),sharePermissionDlgHeaderItemName=$(".item-name-container #item-name-header"),sharePermissionConatiner=$("#share-permission-container"),accessModeContainer=$("#access-mode-container"),dummyContainer=$("#dummy-container"),embedCodeContainer=$("#get-embed-code-container"),sharePermissionDashboardSettingSectionObj=$(".share-permission-dashboard-setting-section"),sharePermissionPublicSectionObj=$(".share-permission-public-section"),sharePermissionPrivateSectionObj=$(".share-permission-private-section"),sharePermissionUserGroupSectionObj=$("#assign-user-group-container"),manageUserGroupContainer=$("#manage-user-group-container"),manageUserGroupBodySection=$(".manage-user-group-body-section"),getEmbedLinkSection=$(".get-item-embed-link-section"),embedConfiguration=$(".embed-configuration"),changeIndicatorBannerObj=$(".changes-indicator-banner"),shareWithLabelObj=$(".share-with-label"),getLinkInputObj=$("#item-url"),getLinkCopyLinkobj=$("#item-url-copy"),getEmbedCodeInputObj=$("#embed-code"),getEmbedCodeCopyBtnobj=$("#copy-embed-code"),accessModeChangeLink=$("#access-mode-change-link"),manageAccessButton=$("#manage-access-button"),manageAccessBackButton=$("#manage-access-back-button"),manageAccessSaveBtnObj=$("#manage-access-save-button"),manageAccessCancelBtnObj=$("#manage-access-cancel-button"),shareDoneBtnObj=$("#share-done-popup-button"),shareBtnObj=$("#share-permission-button"),accessModeChngBtnObj=$("#access-mode-change-button"),accessModeCancelBtnObj=$("#access-mode-cancel-button"),embedCodeDoneBtnObj=$("#copy-embed-code-done-button"),embedCodeBackButton=$("#copy-embed-code-back-button"),addOwnerBtnObj=$("#add-owner-permission-button"),publicRadioBtnObj=$("#public-access-mode"),privateRadioBtnObj=$("#private-access-mode"),accessModeSelectionInput=$("#access-mode-selection"),markForDeleteBtnObj=$(".mark-for-deletion-icon"),removeMarkForDeleteBtnObj=$(".remove-mark-for-deletion-icon"),showSharedUserGroupContainer=$("#show-shared-user-group-container"),showSharedUserGroupNameSection=$(".shared-user-group-name-section"),showSharedUserGroupName=$(".shared-user-group-name"),showSharedUserGroupCountSection=$(".shared-user-group-count-section"),showSharedUserGroupCount=$(".shared-user-group-count"),toggleMarkForDeletionObj=$(".action-for-delete-container, .marked-for-delete-container");createLoader("permission-popup_wrapper");sharePermissionDlgWrapperObj=$("#share-permission-popup_wrapper");var e=createLoader("share-permission-popup_wrapper"),t={width:"529px",showOnInit:!1,allowDraggable:!1,enableResize:!1,showHeader:!1,enableModal:!0,closeOnEscape:!1,closeOnEscape:!0,close:"onSharePermissionPopupClose",open:"onSharePermissionPopupOpen",cssClass:"server-dialog"};"undefined"!=typeof BoldBIDashboard?(sharePermissionDlgObj.BoldBIDashboardDialog(t),sharePermissionDlgWrapperObj.BoldBIDashboardWaitingPopup({template:$("#"+e)}),$("#share-close-popup, #share-done-popup-button").on("click",function(){isAccessModeChanges=!1,sharePermissionDlgObj.BoldBIDashboardDialog("close"),isWidget&&(sharePermissionConatiner.show(),embedCodeContainer.hide(),embedConfiguration.show(),manageAccessButton.hide(),isWidget=!1)})):(sharePermissionDlgObj.ejDialog(t),sharePermissionDlgWrapperObj.ejWaitingPopup({template:$("#"+e)}),$("#share-close-popup, #share-done-popup-button").on("click",function(){isAccessModeChanges=!1,sharePermissionDlgObj.ejDialog("close"),isWidget&&(sharePermissionConatiner.show(),embedCodeContainer.hide(),embedConfiguration.show(),manageAccessButton.hide(),isWidget=!1)})),accessModeCancelBtnObj.on("click",function(){isAccessModeChanges=!1,showSharePermissionContainer()}),manageAccessButton.on("click",function(){showManageAccessContainer()}),manageAccessBackButton.on("click",function(){showSharePermissionContainerWithRefresh()}),manageAccessSaveBtnObj.on("click",function(){$('[data-bs-toggle="popover"]').popover("hide"),"undefined"!=typeof BoldBIDashboard?sharePermissionDlgWrapperObj.BoldBIDashboardWaitingPopup("show"):sharePermissionDlgWrapperObj.ejWaitingPopup("show"),prepareRequestForAddItemPermission(),updateBulkItemPermission()}),manageAccessCancelBtnObj.on("click",function(){manageAccessCancelBtn(),generateProfileAvatar()}),getLinkCopyLinkobj.on("click",function(e){getLinkInputObj.select(),/Safari/.test(navigator.userAgent)&&/Apple Computer/.test(navigator.vendor)?getLinkCopyLinkobj.attr("data-original-title",""):(document.execCommand("copy"),getLinkCopyLinkobj.attr("data-original-title",window.Server.App.Localization.Copysuccess),getLinkCopyLinkobj.tooltip("hide").attr("data-original-title",window.Server.App.Localization.Copysuccess).tooltip("fixTitle").tooltip("show"),setTimeout(function(){getLinkCopyLinkobj.attr("data-original-title",window.Server.App.Localization.LinkCopy),getLinkCopyLinkobj.tooltip()},3e3))}),getLinkCopyLinkobj.removeClass("focusdiv"),getLinkInputObj.on("focusin",function(){getLinkCopyLinkobj.addClass("focusdiv")}),getLinkInputObj.on("focusout",function(){getLinkCopyLinkobj.removeClass("focusdiv")}),$("input[type=radio][name=access-mode]").on("change",function(){isItemPublic&&privateRadioBtnObj.prop("checked")||!isItemPublic&&publicRadioBtnObj.prop("checked")?(accessModeChngBtnObj.removeAttr("disabled"),$("#make-unlisted").prop("checked",!1),isAccessModeChanges=!0):(accessModeChngBtnObj.attr("disabled",!0),$("#make-unlisted").prop("checked",isItemUnlisted))}),$(document).on("click","#make-unlisted",function(){isItemUnlisted&&!$("#make-unlisted").prop("checked")||!isItemUnlisted&&$("#make-unlisted").prop("checked")?accessModeChngBtnObj.prop("disabled")&&accessModeChngBtnObj.removeAttr("disabled"):!isAccessModeChanges&&(!isItemUnlisted&&!$("#make-unlisted").prop("checked")||isItemUnlisted&&$("#make-unlisted").prop("checked"))&&accessModeChngBtnObj.attr("disabled",!0)}),$(document).on("click","#access-mode-change-button",function(e){isAccessModeChanges=!1;var t=$(this).attr("data-item-id"),i=$(this).attr("data-name"),s=$(this).attr("data-itemtype"),o=($(this).attr("data-category-name"),"");isItemPublic&&privateRadioBtnObj.prop("checked")?o=removeItemPublicUrl:!isItemPublic&&publicRadioBtnObj.prop("checked")&&(o=makeItemPublicUrl),$("#progress-alert-container").css("z-index",$("#share-permission-popup_wrapper").css("z-index")+1),""!=o&&$.ajax({type:"POST",url:o,data:{itemId:t,itemTypeId:s,itemName:i},async:!1,success:function(e){e.validation&&e.result?void 0!==currentItemDetail&&void 0!==currentItemDetail.IsPublic&&(currentItemDetail.IsPublic=!currentItemDetail.IsPublic):warningToast(window.Server.App.Localization.InternalServerError)}}),isItemUnlisted=$("#make-unlisted").prop("checked"),$.ajax({type:"POST",url:makeItemUnlistedUrl,data:{itemId:t,isUnlisted:isItemUnlisted},async:!1,success:function(e){e.validation&&e.result?void 0!==currentItemDetail&&void 0!==currentItemDetail.IsUnlisted&&(currentItemDetail.IsUnlisted=isItemUnlisted):warningToast(window.Server.App.Localization.InternalServerError)},error:function(){warningToast(window.Server.App.Localization.InternalServerError)}}),"function"==typeof ResetItemList&&ResetItemList(ItemType.Dashboard),showSharePermissionContainer(),isItemPublic&&privateRadioBtnObj.prop("checked")?(showPrivateContent(),isItemPublic=!1):!isItemPublic&&publicRadioBtnObj.prop("checked")&&(showPublicContent(),isItemPublic=!0)}),$(document).on("shown.bs.dropdown",".user-group-scroll-content .change-access-mode-select",function(){var e,t;$(".tooltip").hide(),0<$(this).find(".change-access-mode-selection").length&&(t=manageUserGroupBodySection,e=$(this).offset().top+$(this).outerHeight(!0)/2-t.offset().top,t.height()-($(this).offset().top-t.offset().top+$(this).outerHeight(!0)/2)<=(t=$(this).find(".change-access-mode-selection .dropdown-menu").outerHeight(!0))&&t<=e?$(this).find(".change-access-mode-selection").removeClass("dropdown").addClass("dropup"):refreshUserGroupScroll())}),$.views.helpers({getUserGroupLogo:function(e){return"user"==e?"<img src='' alt='Profile Picture' id='' onerror='' >":"<div class='group-logo' style=''> <i class='su su-group-1'></i></div >"}}),$("body").on("click",function(e){"popover"!==$(e.target).data("toggle")&&0===$(e.target).parents('[data-bs-toggle="popover"]').length&&0===$(e.target).parents(".popover.in").length?$('[data-bs-toggle="popover"]').popover("hide"):"popover"==$(e.target).data("toggle")&&$(".access-info-icon").not(e.target).popover("hide")}),getEmbedCodeInputObj.on("click",function(e){getEmbedCodeInputObj.select()}),getEmbedCodeCopyBtnobj.on("click",function(e){getEmbedCodeInputObj.select(),document.execCommand("copy");var t=$(".embed-copy-success");t.show(),setTimeout(function(){t.fadeOut(3e3)},3e3)}),embedCodeDoneBtnObj.on("click",function(){"undefined"!=typeof BoldBIDashboard?sharePermissionDlgObj.BoldBIDashboardDialog("close"):sharePermissionDlgObj.ejDialog("close")}),embedCodeBackButton.on("click",function(){showSharePermissionContainer()}),$(".embed-configuration [type='checkbox']").on("change",function(e){$("#embed-code").val(generateEmbedCode(currentItemDetail)),$("#embed-sso").is(":checked")?$(".auth-provider-row").removeClass("hide"):$(".auth-provider-row").addClass("hide"),refreshDialogBoxPosition()}),$(document).on("change",".sso-providers",function(e){$("#embed-code").val(generateEmbedCode(currentItemDetail))}),$(document).on("change",".mode-selection",function(e){selectedMode=$("#mode-selection").val().toLowerCase(),$("#embed-code").val(generateEmbedCode(currentItemDetail))})}),$(document).on("click","#show-shared-user-group-link",function(e){showManageAccessContainer()}),$(document).ready(function(){$("#create-connection-popup").ejDialog({width:$(window).width(),height:$(window).height(),showOnInit:!1,allowDraggable:!1,enableResize:!1,enableModal:!0,showHeader:!1,close:"onCreateConnectionDialogClose",closeOnEscape:!0,beforeClose:function(e){$("#create-connection-popup").ejWaitingPopup("hide"),$("#create-connection-popup").addClass("display-none")}}),$(document).on("click","#create-datasource-connection, .create-datasource-connection",function(e){"undefined"==typeof isSelfHosted||isSelfHosted||"undefined"==typeof isAdmin||isAdmin||"undefined"==typeof isDataSourceCreateDenied||!isDataSourceCreateDenied?$.ajax({type:"POST",url:resourceLimitationCountUrl,data:{itemType:ItemType.Datasource},success:function(e){e?warningToast(window.Server.App.Localization.ResourceLimitExceed.format(window.Server.App.Localization.DataSourceLimited,window.Server.App.Localization.DataSourceLimited)):onCreateDataSourceConnection()}}):$.ajax({type:"POST",url:validateDataSourceCountUrl,data:"",success:function(e){e?warningToast(window.Server.App.Localization.IsDataSourceLimitExceeds.format(dataSourceCreateLimitCount,window.Server.App.Localization.CreatingDataSource)):onCreateDataSourceConnection()}})})});var reportItemName="",reportItemId="",reportCategoryName="",multiDashboardName="",categoryId="",childId="",createdItemId="",url="",alertChange=1,dateFormat="",timeFormat="",listDashboards="",listWidgets="",listViews="",childDashboards="",item="",condition="",itemConditionArray="",recurrence="",endType="",endDate="",endAfter="",startDate="",itemRecurrence="",frequency="",exportType="",scheduleExportInfo="",subscriberExternalRecipient="",subscriberGroup="",subscriberUser="",itemConditionCategory="",itemWidgetName="",emailContent="",subject="",buttonValue="",filterContent="",designerServiceUrl="",dashboardServerUrl="",dataServiceUrl="",dataServiceUrlforDataAlert="",isCustomExpressionOpened=!1,scheduleRecurrenceInfo="",alertChangeValue=1,isScheduledDashboardDeleted="",isScheduledWidgetDeleted=!1,isScheduledViewDeleted=!1,scheduleExportInfo="",isNextEventTriggered=!1,isWidgetChanged=!1,designerToken="",dashboardCustomThemename="",applicationTheme="",customThemeAppearance="",version="",canEdit="",sharedDataSources="",isEmbedCode=!1,embedConfig="",origin=!1,scheduleFilterStartDateTime="",scheduleFilterEndDateTime="",categoryList="",eventId=0;function isSameOrigin(){try{parent.embedConfig,origin=!0}catch(e){origin=!1}}function createSchedule(e,t,i,s){""!=t?$(".schedule-popup-title").html(" "+t):$(".schedule-popup-title").html(" "+t+" "),$(".schedule-popup-title").css("width","auto"),613<$(".schedule-popup-title").width()&&$(".schedule-popup-title").css("width","613px"),""!=t&&$(".dashboard-schedule").html("&nbsp;- "+window.Server.App.Localization.Schedule),$(".schedule-popup-title").attr("title",t),"undefined"!=typeof BoldBIDashboard&&"function"==typeof parent.$("#popup-container_wrapper").BoldBIDashboardWaitingPopup?parent.$("#popup-container_wrapper").BoldBIDashboardWaitingPopup("hide"):parent.$("#popup-container_wrapper").ejWaitingPopup("hide"),reportItemName=t,reportCategoryName=i,multiDashboardName=s,childId=reportItemId=e,$("#selected_dashboard").change()}function scheduleNameCheck(e,t){$("#schedule-name-error-container").css("display","none"),$("span.loader-gif").remove(),$("#schedule-name-error-container").parent().append($("<span class='col-sm-4 no-padding loader-gif'><div class='loader-blue loader-icon' id='schedule-name-validation-loader-icon'><svg class='circular'><circle class='path' cx='27' cy='27' r='13' fill='none' stroke-width='4' stroke-miterlimit='10'></circle></svg></div></span>")),$.ajax({type:"POST",url:checkScheduleNameExistUrl.web,data:{scheduleId:e,scheduleName:t},success:function(e){scheduleNameIsExist(e.Result)}})}function scheduleNameIsExist(e){e?($("span.loader-gif").remove(),$("#schedule-name").closest("div").addClass("has-error"),$("#schedule-name-error-container").css("display","block"),$("#schedule-name-validator").html(window.Server.App.Localization.IsScheduleExist)):($("#schedule-name").closest("div").removeClass("has-error"),$("span.loader-gif").remove(),$("#schedule-name-error-container").css("display","none"))}function addTitleForCategory(){$("#selected_category").selectpicker("refresh");for(var e=0;e<$(".category-dropdown  .btn-group .dropdown-menu .selectpicker li").length;e++){var t=$(".category-dropdown .btn-group .dropdown-menu .selectpicker li").eq(e).find("a .text").text();$(".category-dropdown .btn-group .dropdown-menu .selectpicker li ").eq(e).find("a").attr("title",t)}}function addTitleForDashboard(){$("#selected_dashboard").selectpicker("refresh");for(var e=0;e<$(".dashboard-dropdown  .btn-group .dropdown-menu .selectpicker li").length;e++){var t=$(".dashboard-dropdown .btn-group .dropdown-menu .selectpicker li").eq(e).find("a .text").text();$(".dashboard-dropdown .btn-group .dropdown-menu .selectpicker li ").eq(e).find("a").attr("title",t)}}function addTitleForChildDashboards(){$("#selected_childdashboard").selectpicker("refresh");for(var e=0;e<$(".childdashboard-dropdown  .btn-group .dropdown-menu .selectpicker li").length;e++){var t=$(".childdashboard-dropdown .btn-group .dropdown-menu .selectpicker li").eq(e).find("a .text").text();$(".childdashboard-dropdown .btn-group .dropdown-menu .selectpicker li ").eq(e).find("a").attr("title",t)}}function setTimpickerValue(){scheduleFilterEndDateTime="true"==scheduleRangeTimeFormat.toLowerCase()?(scheduleFilterStartDateTime="00:00","23:59"):(scheduleFilterStartDateTime="12:00 AM","11:59 PM")}function DateRangeLocalization(){var e={customPicker:window.Server.App.Localization.CustomPicker,watermarkText:window.Server.App.Localization.SelectRange};"undefined"!=typeof BoldBIDashboard?BoldBIDashboard.DateRangePicker.Locale["en-US"]=e:ej.DateRangePicker.Locale["en-US"]=e}function validateSchedule(e){var t=$("#start-date").data("ejDateTimePicker"),i=$("#schedule-name").val();if("block"==$("#schedule-name-error-container").css("display")||$("body .loader-gif").length||""==$("#selected_category option:selected").val()||""==$("#selected_dashboard option:selected").val()||!i)return""==$("#selected_category option:selected").val()&&$("#category-message").css("display","block"),""==$("#selected_dashboard option:selected").val()&&$("#dashboard-message").css("display","block"),i||($("#schedule-name-error-container").css("display","block"),$("#schedule-name-validator").html(window.Server.App.Localization.ScheduleValidator)),!1;if(!parent.IsValidName("name",i))return $("#schedule-name-error-container").css("display","block"),$("#schedule-name-validator").html(window.Server.App.Localization.AvoidSpecialCharacters),!1;if(i.length>$("#schedule-name").attr("data-maxlength"))return $("#schedule-name-error-container").css("display","block"),$("#schedule-name-validator").html(window.Server.App.Localization.CharacterExceedMessage.format($("#schedule-name").attr("data-maxlength"))),!1;if($(e).hasClass("subscribe-body")){switch($("#recurrence-type").val().toString().toLowerCase()){case"daily":break;case"weekly":if(!$('#days-check-box input[type="checkbox"]').is(":checked"))return $("#weekly-day-error-container").css("display","block"),$("#weekly-days-validator").html(window.Server.App.Localization.WeekDaysValidator),!1;$("#weekly-day-error-container").css("display","none");break;case"monthly":break;case"yearly":var s=$("#yearly-month").val().toString(),o=parseInt($("#yearly-day").val()),n=$("#yearly-day").data("ejNumericTextbox");switch(s.toLowerCase()){case"february":28<o&&n.option("value",28);break;case"april":case"june":case"september":case"november":30<o&&n.option("value",30);break;case"january":case"march":case"may":case"july":case"august":case"october":case"december":31<o&&n.option("value",31)}break;case"hourly":if(""==$(".time-width").val())return $(".frequency-error").css("display","inline"),$(".time-width").parent("span").addClass("validation-error"),!1;s=$(".time-width").val().split(":");if(!(3<60*s[0]+s[1]))return $(".frequency-error").css("display","inline"),$(".time-width").parent("span").addClass("validation-error"),!1;$(".frequency-error").css("display","none"),$(".time-width").parent("span").removeClass("validation-error")}if("M/d/yyyy h:mm tt"==!t.model.dateTimeFormat)return $("#start-date-error-container").css("display","block"),$("#start-date-validator").html(window.Server.App.Localization.ScheduleValidator),!1;if($("#start-date-error-container").css("display","none"),"endby"===$("input[name=end-type]:checked","#schedule-end-type").val().toLowerCase()){if("M/d/yyyy h:mm tt"==!$("#end-date").data("ejDateTimePicker").model.dateTimeFormat)return $("#end-date-error-container").css("display","block"),$("#end-date-validator").html(window.Server.App.Localization.ScheduleValidator),!1;$("#end-date-error-container").css("display","none")}}return!0}function closePopupContainer(){"undefined"!=typeof BoldBIDashboard&&"function"==typeof parent.$("#popup-container_wrapper").BoldBIDashboardWaitingPopup?(parent.$("#popup-container").BoldBIDashboardDialog("close"),parent.$("#editpopup-container").BoldBIDashboardDialog("close")):(parent.$("#popup-container").ejDialog("close"),parent.$("#editpopup-container").ejDialog("close"))}function validateSchedule(e){var t=$("#schedule-name").val();return"block"==$("#schedule-name-error-container").css("display")||$("body .loader-gif").length||""==$("#selected_category option:selected").val()||""==$("#selected_dashboard option:selected").val()||!t?(""==$("#selected_category").val()&&$("#category-message").css("display","block"),""==$("#selected_dashboard option:selected").val()&&$("#dashboard-message").css("display","block"),t||($("#schedule-name-error-container").css("display","block"),$("#schedule-name-validator").html(window.Server.App.Localization.ScheduleValidator)),!1):IsValidName("name",t)?$("#schedule-name").val().trim().length>$("#schedule-name").attr("data-maxlength")?($("#schedule-name").closest("div").addClass("has-error"),$("#schedule-name-error-container").css("display","block"),$("#schedule-name-validator").html(window.Server.App.Localization.CharacterExceedMessage.format($("#schedule-name").attr("data-maxlength"))),!1):null!=$("#subject-area").val()&&""==$("#subject-area").val().trim()?($(".email-subject-text").addClass("has-error"),$("#email-subject-validation").css("display","block"),!1):!(null!=$("#subject-area").val()&&$("#subject-area").val().trim().length>$("#subject-area").attr("data-maxlength")&&($(".email-subject-text").addClass("has-error"),$("#email-subject-validation").css("display","block"),$("#email-subject-validation").html(window.Server.App.Localization.CharacterExceedMessage.format($("#subject-area").attr("data-maxlength"))),1)):($("#schedule-name-error-container").css("display","block"),$("#schedule-name-validator").html(window.Server.App.Localization.AvoidSpecialCharacters),!1)}function IsValidName(e,t){e="username"===e.toLowerCase()?new RegExp(/[*\[\\\]\|\/\:\<\>\%\+\#\&\?\'\"\@\;\,]/):"publishcategoryname"===e.toLowerCase()?new RegExp(/[*\[\\\]\|:\<\>\%\+\#\&\?\'\"\;\,]/):"undefined"!=typeof charactersNotAllowedInFileName&&null!=charactersNotAllowedInFileName?new RegExp("["+charactersNotAllowedInFileName.map(e=>"\\"+e).join("")+"]"):new RegExp(/[*\[\\\]\|\/\:\<\>\%\+\#\&\?\'\"\;\,]/);return!e.test(t)}function enableTimeIntervalOption(){$(".schedule-popup-body").css("display","none"),$("#windowCaption").html(window.Server.App.Localization.RecurrenceIntervalValidator),$(".schedule-dialog .modal-body #time-intervals-div").css("display","inline"),$(".schedule-dialog #data-changes-div-container,.schedule-dialog #data-changes-container,.schedule-dialog #email-editor-area").css("display","none"),$(".subscribe-popup-body").css("display","none"),$("#next-container").css("display","block"),$("#submit-container").css("display","none"),$("#dataAlert").css("display","none"),$("#schedule-next").hasClass("time-interval-body")&&$("#schedule-next").removeClass("time-interval-body"),$("#schedule-next").addClass("subscribe-body"),$("#schedule-back").css("display","inline"),className="time-intervals-div",$(".schedule-dialog").find("#time-intervals-div").length<=0&&partialPost(url,className),setTimeout(function(){$(".dropdown").find(".btn.dropdown-toggle").each(function(){$(this).attr("data-bs-toggle","dropdown").removeAttr("data-toggle")})},2e3)}function enableDataNotificationOption(){$("#windowCaption").html(window.Server.App.Localization.DataAlertValidator),$(".schedule-popup-body,#email-editor-area").css("display","none"),$(".schedule-dialog #data-changes-div-container,.schedule-dialog #data-changes-container").css("display","inline"),$("#data-changes-container_wrapper,#data-changes-container,#data-changes-div-container").css("display","inline"),$("#time-intervals-div").css("display","none"),$(".subscribe-popup-body").css("display","none"),$("#next-container").css("display","block"),$("#submit-container").css("display","none"),$("#dataAlert").css("display","block"),$("#schedule-next").hasClass("subscribe-body")&&$("#schedule-next").removeClass("subscribe-body"),$("#schedule-next").addClass("time-interval-body"),$("#schedule-back").css("display","inline"),className="data-changes-container",$(".schedule-dialog").find("#dataAlert").length<=0&&partialPostDataChanges(url,className),setTimeout(function(){$(".dropdown").find(".btn.dropdown-toggle").each(function(){$(this).attr("data-bs-toggle","dropdown").removeAttr("data-toggle")})},2e3)}function enableSubscribeOption(){$("#windowCaption").html(window.Server.App.Localization.ExportFormatValidator),$(".schedule-popup-body").css("display","none"),$(".schedule-dialog .modal-body #email-editor-area,.schedule-dialog .modal-body #time-intervals-div").css("display","none"),$(".schedule-dialog #data-changes-div-container,.schedule-dialog #data-changes-container").css("display","none"),$(".subscribe-popup-body").fadeIn(),$("#next-container").css("display","none"),$("#submit-container").css("display","block"),$("#schedule-back").css("display","inline"),$("#dataAlert").css("display","none"),className="subscribers-panel",$(".schedule-dialog").find("#subscribers-panel").length<=0&&partialPost(url,className)}function enableScheduleOption(){$("#windowCaption").html(window.Server.App.Localization.TimeBaseSchedule),$(".subscribe-popup-body, #next-container, #submit-container,#time-intervals-div,#data-changes-container, #email-editor-area").css("display","none"),$(".schedule-popup-body").fadeIn(),$("#next-container").css("display","block"),$("#schedule-back").css("display","none"),$("#dataAlert").css("display","none"),($("#schedule-next").hasClass("subscribe-body")||$("#schedule-next").hasClass("time-interval-body")||$("#schedule-next").hasClass("email-editor-body"))&&($("#schedule-next").removeClass("subscribe-body"),$("#schedule-next").removeClass("time-interval-body"),$("#schedule-next").removeClass("email-editor-body"))}function enableEmailEditor(){if(alertChange!=alertChangeValue&&(alertChangeValue=alertChange,$(".schedule-dialog #email-editor-area").remove()),1==alertChange?$("#windowCaption").html(window.Server.App.Localization.ScheduleMessage):$("#windowCaption").html(window.Server.App.Localization.AlertMessageValidator),$(".schedule-popup-body").css("display","none"),$(".schedule-dialog .modal-body #time-intervals-div,.schedule-dialog .modal-body #subscribers-panel").css("display","none"),$(".schedule-dialog #data-changes-div-container,.schedule-dialog #data-changes-container").css("display","none"),$("#email-editor-area").css("opacity","1"),$("#email-editor-area").fadeIn(),$("#next-container").css("display","block"),$("#submit-container").css("display","none"),$("#dataAlert").css("display","none"),($("#schedule-next").hasClass("subscribe-body")||$("#schedule-next").hasClass("time-interval-body"))&&($("#schedule-next").removeClass("subscribe-body"),$("#schedule-next").removeClass("time-interval-body"),$("#schedule-next").addClass("email-editor-body")),$("#schedule-back").css("display","inline"),className="email-editor-area",$(".schedule-dialog").find("#email-editor-area").length<=0)partialPost(url,className);else if(2==alertChange){for(var e="",t=0;t<filterContent.Filters.length;t++)e+="<option data-id='"+filterContent.Filters[t].FilterName+"'>"+filterContent.Filters[t].DisplayText+"</option>";$("#widget-items").html(e).selectpicker("refresh"),"undefined"!=typeof BoldBIDashboard&&"function"==typeof parent.$("#popup-container_wrapper").BoldBIDashboardWaitingPopup?parent.$("#popup-container_wrapper").BoldBIDashboardWaitingPopup("hide"):parent.$("#popup-container_wrapper").ejWaitingPopup("hide")}setTimeout(function(){$(".dropdown").find(".btn.dropdown-toggle").each(function(){$(this).attr("data-bs-toggle","dropdown").removeAttr("data-toggle")})},2e3)}function partialPost(e,t){$(".schedule-dialog").hasClass(t)||("undefined"!=typeof BoldBIDashboard&&"function"==typeof parent.$("#popup-container_wrapper").BoldBIDashboardWaitingPopup?(parent.$("#popup-container_wrapper").BoldBIDashboardWaitingPopup("show"),parent.$("#editpopup-container_wrapper").BoldBIDashboardWaitingPopup("show")):(parent.$("#popup-container_wrapper").ejWaitingPopup("show"),parent.$("#editpopup-container_wrapper").ejWaitingPopup("show")),$.ajax({type:"POST",url:e,data:{},cache:!1,dataType:"html",success:function(e){$(".modal-body").append(e)}}))}function partialPostDataChanges(e,t){$(".schedule-dialog").hasClass(t)||("undefined"!=typeof BoldBIDashboard&&"function"==typeof parent.$("#popup-container_wrapper").BoldBIDashboardWaitingPopup?(parent.$("#popup-container_wrapper").BoldBIDashboardWaitingPopup("show"),parent.$("#editpopup-container_wrapper").BoldBIDashboardWaitingPopup("show")):(parent.$("#popup-container_wrapper").ejWaitingPopup("show"),parent.$("#editpopup-container_wrapper").ejWaitingPopup("show")),isEmbedCode||$.ajax({type:"POST",url:e.web,data:{itemId:createdItemId},success:function(e){$("#popup-container").append(e),dataAlertInitailization()}}),isEmbedCode&&(designerToken=parent.designerToken,ajaxPostCall("POST",e,{itemId:createdItemId},null,dataAlert,null,null)))}function dataAlert(e){$("#popup-container").append('<div id="dataAlert" style="width: 100%; height: 100%"></div>'),version=e.Version,sharedDataSources=e.SharedDataSources,canEdit=e.CanWrite,customThemeAppearance=e.CustomThemeAppearance,applicationTheme=e.ApplicationTheme,dashboardTheme=e.DashboardCustomThemename,dataAlertInitailization()}function refreshScheduleGridItem(e){for(var t=$("#scheduleGrid").data("ejGrid"),i=0;i<t.model.currentViewData.length;i++)t.model.currentViewData[i].Id==e&&$("span span[data-scheduleid ="+e+"]").removeClass("loader-gif").addClass("su-play-folder")}function editSchedule(e,t,i,s,o,n,a,r,l){null==o||"undefined"==o||""==o?(reportCategoryName=s,t=multidashboardName=reportItemId=""):(reportItemId="",reportCategoryName=s,multiDashboardName=o,childId=t),isScheduledDashboardDeleted=n,isScheduledWidgetDeleted=a,isScheduledViewDeleted=r,""!=i?$(".schedule-popup-title").html(" "+i):$(".schedule-popup-title").html(" "+i+" "),$(".schedule-popup-title").css("width","auto");613<$(".schedule-popup-title").width()&&$(".schedule-popup-title").css("width","613px"),$(".dashboard-schedule").html("&nbsp;- "+window.Server.App.Localization.Schedule),$(".schedule-popup-title").attr("title",i),scheduleId=e,reportItemName=i;var s=[],d=(s.push({PropertyName:"CategoryName",FilterType:"equals",FilterKey:reportCategoryName}),""),t=($.ajax({type:"POST",url:getScheduleInfoUrl,data:{scheduleId:e},success:function(e){"undefined"!=typeof BoldBIDashboard&&"function"==typeof parent.$("#popup-container_wrapper").BoldBIDashboardWaitingPopup?parent.$("#editpopup-container_wrapper").BoldBIDashboardWaitingPopup("hide"):parent.$("#editpopup-container_wrapper").ejWaitingPopup("hide"),item=e.ScheduleItem,condition=e.Condition,itemConditionArray=JSON.parse(condition),recurrence=item.RecurrenceType,endType=item.EndType,endDate=item.EndDateString,endAfter=item.EndAfter,startDate=item.StartDateString,createdItemId=item.ItemId,itemRecurrence=item.Recurrence,"hourly"==recurrence.toLowerCase()&&(frequency=item.Recurrence.HourlySchedule.MinutesInterval),exportType=item.ExportType,scheduleExportInfo=item.ScheduleExportInfo,subscriberExternalRecipient=e.SubscribedExternalRecipient,subscriberGroup=e.SubscribedGroup,subscriberUser=e.SubscribedUser,itemConditionCategory=item.ConditionCategory,itemWidgetName=item.ItemName,emailContent=item.EmailContent,subject=item.Subject,buttonValue=$("#add-alert-rule").val(),scheduleRecurrenceInfo=item.Recurrence,scheduleExportInfo=item.ScheduleExportInfo,$("#selected-items[value='"+item.ItemName+"']").attr("selected",!0),alertChange=1==item.IsDataChanges?($("#data-alerts").prop("checked","checked"),2):($("#data-changes-div,#time-intervals-div").css("display","none"),1),$("#schedule-name").val(item.Name),$("#parameter").val(item.Parameter),item.IsEnabled||$("#enable-schedule").prop("checked",""),hideDataAlert(!0)}}),""!=o&&($.ajax({type:"POST",url:getDashboardUrl,async:!1,data:{searchKey:void 0,skip:0,take:20,sorted:void 0,filterCollection:s,displayCategory:"SpecificCategory",isScheduleRequest:!0},success:function(e,t){for(var i=e.result,s=0;s<i.length;s++)i[s].Name.toLowerCase()==o.toLowerCase()&&(d+='<option value="'+i[s].Id+'" selected=selected>'+i[s].Name+"</option>");$("#selected_dashboard").html(""),$("#selected_dashboard").html(d).selectpicker("refresh")}}),$("#selected_childdashboard").attr("disabled",!1)),$("#selected_dashboard").find("option:selected").val());$.ajax({type:"POST",url:getChildDashboardUrl,data:{parentId:t},async:!1,success:function(e,t){null!=(childDashboards=e.result)&&$("#selected_childdashboard").attr("disabled",!1)}})}function refreshConditionCategory(){$(".condition-category-changes").find("select").html(""),$(".condition-category-changes").find("select").append('<option value="5" data-title="'+window.Server.App.Localization.ValueChange+'" name="ValueChanges" selected="selected">'+window.Server.App.Localization.ValueChangeOption+'</option><option value="1" data-title="'+window.Server.App.Localization.Increases+'" name="Increases">'+window.Server.App.Localization.IncreasesOption+'</option><option value="2" data-title="'+window.Server.App.Localization.ContinousIncreases+'" name="ContinousIncreases">'+window.Server.App.Localization.ContinousIncreasesOption+'</option><option value="3" data-title="'+window.Server.App.Localization.Decreases+'" name="Decreases">'+window.Server.App.Localization.DecreasesOption+'</option><option value="4" data-title="'+window.Server.App.Localization.ContinousDecreases+'" name="ContinousDecreases">'+window.Server.App.Localization.ContinousDecreasesOption+"</option>").selectpicker("refresh"),$("#selected-option").selectpicker("refresh");for(var e=0;e<$(".condition-category-changes select option").length;e++){var t=$(".condition-category-changes select option").eq(e).attr("data-title");$(".condition-category-changes .btn-group .dropdown-menu .selectpicker li ").eq(e).find("a").attr({title:t,"data-bs-toggle":"tooltip","data-container":"body","data-placement":"right"})}$(".condition-category-changes .btn-group .dropdown-menu .selectpicker li a").tooltip()}function addTitleForWidgets(){$("#selected-items").selectpicker("refresh");for(var e=0;e<$(".items-dropdown  .btn-group .dropdown-menu .selectpicker li").length;e++){var t=$(".items-dropdown .btn-group .dropdown-menu .selectpicker li").eq(e).find("a .text").text();$(".items-dropdown .btn-group .dropdown-menu .selectpicker li ").eq(e).find("a").attr("title",t)}}function addTitleForUsersAndGroups(){$("#user-search").selectpicker("refresh");for(var e=0;e<$("#user-search-container .btn-group .dropdown-menu .selectpicker li").length;e++){var t=$("#user-search-container .btn-group .dropdown-menu .selectpicker li").eq(e).find("a .text").text();$("#user-search-container .btn-group .dropdown-menu .selectpicker li").eq(e).find("a").attr("title",t)}$("#group-search").selectpicker("refresh");for(e=0;e<=$("#group-search-container .btn-group .dropdown-menu  li").length;e++){t=$("#group-search-container .btn-group .dropdown-menu  li").eq(e).find("a .text").text();$("#group-search-container .btn-group .dropdown-menu li ").eq(e).find("a").attr("title",t)}}function addTitleForRecurrenceType(){$("#recurrence-type").selectpicker("refresh"),$("#recurrence-type-container").find(".dropdown-menu").addClass("dropdown-height");for(var e=0;e<$("#recurrence-type-container .btn-group .dropdown-menu .selectpicker li").length;e++){var t=$("#recurrence-type-container .btn-group .dropdown-menu .selectpicker li").eq(e).find("a .text").text();$("#recurrence-type-container .btn-group .dropdown-menu .selectpicker li ").eq(e).find("a").attr("title",t)}$("#monthly-dow-week").selectpicker("refresh");for(e=0;e<$("#monthly-dow-week-container .btn-group .dropdown-menu .selectpicker li").length;e++){t=$("#monthly-dow-week-container .btn-group .dropdown-menu .selectpicker li").eq(e).find("a .text").text();$("#monthly-dow-week-container .btn-group .dropdown-menu .selectpicker li ").eq(e).find("a").attr("title",t)}$("#monthly-dow-day").selectpicker("refresh"),$("#monthly-dow-day-container").find(".dropdown-menu").addClass("day-dropdown-width");for(e=0;e<$("#monthly-dow-day-container .btn-group .dropdown-menu .selectpicker li").length;e++){t=$("#monthly-dow-day-container .btn-group .dropdown-menu .selectpicker li").eq(e).find("a .text").text();$("#monthly-dow-day-container .btn-group .dropdown-menu .selectpicker li ").eq(e).find("a").attr("title",t)}$("#yearly-dow-week").selectpicker("refresh");for(e=0;e<$("#yearly-dow-week-container .btn-group .dropdown-menu .selectpicker li").length;e++){t=$("#yearly-dow-week-container .btn-group .dropdown-menu .selectpicker li").eq(e).find("a .text").text();$("yearly-dow-week-container .btn-group .dropdown-menu .selectpicker li ").eq(e).find("a").attr("title",t)}$("#yearly-dow-day").selectpicker("refresh"),$("#yearly-dow-day-container").find(".dropdown-menu").addClass("day-dropdown-width");for(e=0;e<$("#yearly-dow-day-container .btn-group .dropdown-menu .selectpicker li").length;e++){t=$("#yearly-dow-day-container .btn-group .dropdown-menu .selectpicker li").eq(e).find("a .text").text();$("#yearly-dow-day-container .btn-group .dropdown-menu .selectpicker li ").eq(e).find("a").attr("title",t)}$("#yearly-dow-month").selectpicker("refresh"),$("#yearly-dow-month-ccontainer").find(".dropdown-menu").addClass("day-dropdown-width");for(e=0;e<$("#yearly-dow-month-ccontainer .btn-group .dropdown-menu .selectpicker li").length;e++){t=$("#yearly-dow-month-ccontainer .btn-group .dropdown-menu .selectpicker li").eq(e).find("a .text").text();$("#yearly-dow-month-ccontainer .btn-group .dropdown-menu .selectpicker li ").eq(e).find("a").attr("title",t)}$("#yearly-month").selectpicker("refresh"),$("#yearly-month").next("div").find(".dropdown-menu").addClass("day-dropdown-width");for(e=0;e<$("#yearly-schedule-option .btn-group .dropdown-menu .selectpicker li").length;e++){t=$("#yearly-schedule-option .btn-group .dropdown-menu .selectpicker li").eq(e).find("a .text").text();$("#yearly-schedule-option .btn-group .dropdown-menu .selectpicker li ").eq(e).find("a").attr("title",t)}}function initializeCategoryDropdown(){[].push({PropertyName:"CategoryName",FilterType:"equals",FilterKey:reportCategoryName.replace(/'/g,"''")});isEmbedCode?(designerToken=parent.designerToken,ajaxPostCall("GET",getCategoryUrl,null,null,getCategories,null,null)):$.ajax({type:"POST",url:getCategoryUrl.web,success:function(e){getCategoryDropdown(categoryList=e.data)}}),"undefined"!=typeof BoldBIDashboard&&"function"==typeof parent.$("#popup-container_wrapper").BoldBIDashboardWaitingPopup?parent.$("#popup-container_wrapper").BoldBIDashboardWaitingPopup("show"):parent.$("#popup-container_wrapper").ejWaitingPopup("show"),setTimeout(function(){hideCategoryLoader()},5e3),$("#dashboard-dropdown .dropdown-toggle, .widget-dropdown .dropdown-toggle, #views-dropdown .dropdown-toggle").each(function(){$(this).attr("data-bs-toggle","dropdown").removeAttr("data-toggle")}),$("#dashboard-dropdown .dropdown-menu.open").hide()}function getCategories(e){getCategoryDropdown(categoryList=e.Data)}function getCategoryDropdown(e){var t=$(".schedule-dialog"),i=getItemDetailFromId(e,categoryId);new ejs.dropdowns.DropDownTree({fields:{dataSource:e,value:"Id",text:"Name",child:"SubCategory"},select:function(){categoryValueChange(t)},allowFiltering:!0,value:isNullOrWhitespace(reportCategoryName)||null==i?"":[i.Id],placeholder:window.Server.App.Localization.SelectCategory,destroyPopupOnHide:!1,showClearButton:!1}).appendTo(".category-dropdown #selected_category")}function hideCategoryLoader(){0<$(".category-dropdown").find(".e-ddt.e-input-group").length?("undefined"!=typeof BoldBIDashboard&&"function"==typeof parent.$("#popup-container_wrapper").BoldBIDashboardWaitingPopup?parent.$("#popup-container_wrapper").BoldBIDashboardWaitingPopup("hide"):parent.$("#popup-container_wrapper").ejWaitingPopup("hide"),"undefined"!=typeof canDisableCategoryChange&&canDisableCategoryChange&&$(".category-dropdown .e-input-group,.category-dropdown .e-input-group-icon").addClass("disable-category")):setTimeout(function(){hideCategoryLoader()},2e3)}function getItemDetailFromId(e,t){for(var i=0;i<e.length;i++){if(e[i].Id===t)return e[i];if(e[i].SubCategory&&0<e[i].SubCategory.length){var s=getItemDetailFromId(e[i].SubCategory,t);if(s)return s}}return null}function categoryValueChange(e){for(var t=document.querySelector(".e-dropdowntree").ej2_instances[0],i=$(".e-list-item[aria-selected='true']"),s=parseInt(i.attr("aria-level")),o=[],n=1;n<s;n++){var a=i.closest(".e-list-item[aria-level='"+n+"']").find(".e-list-text")[0].innerText;o.push(a)}o.push(t.currentText);t=o.join(" / ");e.find("input.e-dropdowntree").val(t),""!=$("#selected_dashboard").find("option:selected").val()&&$(".schedule-dialog").find("#selected_category_hidden option:selected").text()==reportCategoryName||getDashboardOncategoryChange(),setTimeout(function(){$("#dashboard-dropdown .dropdown-menu.open").hide()},200)}function getDashboardOncategoryChange(){widgetItemId=reportItemName=reportCategoryName="",isWidgetChanged=!0;var e=$(".schedule-dialog").find("#selected_category_hidden option:selected").text(),t=(""!=$(".schedule-dialog").find("#selected_category_hidden option:selected").val()&&""==$(".schedule-dialog").find("#selected_category_hidden option:selected").val()||($(".schedule-popup-title").html(window.Server.App.Localization.Schedule),$(".schedule-popup-title").attr("title","")),$("#selected_dashboard").attr("disabled",!0),$("#dashboard-dropdown.dashboard-dropdown").append($("<span class='no-padding loader-gif'><div class='loader-blue loader-icon' id='selected-category-loader-icon'><svg class='circular'><circle class='path' cx='27' cy='27' r='13' fill='none' stroke-width='4' stroke-miterlimit='10'></circle></svg></div></span>")),[]);t.push({PropertyName:"CategoryName",FilterType:"equals",FilterKey:e});null!=itemId&&(listViews=listWidgets=listDashboards=""),$.ajax({type:"POST",url:getDashboardUrl,data:{searchKey:void 0,skip:0,take:20,sorted:void 0,filterCollection:t,displayCategory:"SpecificCategory",isScheduleRequest:!0},success:function(e,t){$("#selected_dashboard").attr("disabled",!1),$("#dashboard-dropdown.dashboard-dropdown span.loader-gif").remove();for(var i=e.result,s=0;s<i.length;s++)listDashboards+='<option value="'+i[s].Id+'">'+i[s].Name+"</option>";$("#selected_dashboard, #selected_childdashboard, #selected_widget , #selected_view").html(""),$("#selected_dashboard").html('<option value="" selected="selected" class="hide-option" disabled>'+window.Server.App.Localization.SelectDashboard+"</option>"+listDashboards).selectpicker("refresh"),$("#selected_childdashboard").attr("disabled",!0),$("#selected_childdashboard").html('<option value="" selected="selected" class="hide-option" disabled="disabled">'+window.Server.App.Localization.SelectDashboard+"</option>").selectpicker("refresh"),$("#selected_widget").html('<option value="" selected="selected" class="hide-option" disabled>'+window.Server.App.Localization.SelectWidget+"</option>"+listWidgets).selectpicker("refresh"),$("#selected_view").html('<option value="" selected="selected" class="hide-option" disabled>'+window.Server.App.Localization.SelectView+"</option>"+listViews).selectpicker("refresh"),addTitleForDashboard()}}),""!=$("#selected_category option:selected").val()&&$("#category-message").css("display","none")}function hideDataAlert(e){var t=$("#data-alerts"),i=$(".data-alerts-disabled");e?(t.prop("disabled","disabled"),i.css("display","block")):(t.prop("disabled",""),i.css("display","none"))}function afterEvaluateDataAlert(e){"undefined"!=typeof BoldBIDashboard&&"function"==typeof parent.$("#popup-container_wrapper").BoldBIDashboardWaitingPopup?parent.$("#popup-container_wrapper").BoldBIDashboardWaitingPopup("show"):parent.$("#popup-container_wrapper").ejWaitingPopup("show"),(filterContent=e).IsValidModel?(url=emailEditor,enableEmailEditor()):"undefined"!=typeof BoldBIDashboard?(parent.$("#popup-container_wrapper").BoldBIDashboardWaitingPopup("hide"),parent.$("#editpopup-container_wrapper").BoldBIDashboardWaitingPopup("hide")):(parent.$("#popup-container_wrapper").ejWaitingPopup("hide"),parent.$("#editpopup-container_wrapper").ejWaitingPopup("hide"))}function onActionBegin(e){"beforeOpenDaExpressionWindow"==e.eventType&&(isCustomExpressionOpened=!0,$("#windowCaption").html(window.Server.App.Localization.CustomExpressionValidator),$(".schedule-popup-title").html(" "+window.Server.App.Localization.Schedule+" - "+window.Server.App.Localization.CustomExpression),$("#schedule-next, #schedule-next-cancel").hide()),"beforeOpenDaRelativeDateDialog"==e.eventType&&($("#schedule-back").prop("disabled",!0),$("#schedule-next").prop("disabled",!0),$("#schedule-next-cancel").prop("disabled",!0))}function onActionComplete(e){"afterCloseDaRelativeDateDialog"==e.eventType&&($("#schedule-back").prop("disabled",!1),$("#schedule-next").prop("disabled",!1),$("#schedule-next-cancel").prop("disabled",!1)),"undefined"!=typeof BoldBIDashboard&&"function"==typeof parent.$("#popup-container_wrapper").BoldBIDashboardWaitingPopup?(parent.$("#popup-container_wrapper").BoldBIDashboardWaitingPopup("hide"),parent.$("#editpopup-container_wrapper").BoldBIDashboardWaitingPopup("hide")):(parent.$("#popup-container_wrapper").ejWaitingPopup("hide"),parent.$("#editpopup-container_wrapper").ejWaitingPopup("hide"))}function dataAlertInitailization(){currentTimeFormat="true"==currentTimeFormat.toLowerCase()?"HH:mm":"hh:mm tt";var e={serviceUrl:designerServiceUrl,dataServiceUrl:dataServiceUrlforDataAlert,serverUrl:dashboardServerUrl,appVersion:appVersion,mode:BoldBIDashboard.Designer.mode.dataalert,itemId:createdItemId,dashboardPath:createdItemId+"/"+version,serviceAuthorizationToken:designerToken,datasources:sharedDataSources,dataAlert:isNullOrWhitespace(item)?null:item.DaJsonString,canEditDashboard:canEdit,actionBegin:"onActionBegin",actionComplete:"onActionComplete",afterEvaluateDataAlert:"afterEvaluateDataAlert",renderDaExpression:"renderDaExpression",localeSettings:{culture:dataLanguage,dateFormat:currentDateFormat,timeFormat:currentTimeFormat,timeZone:timeZone},customBrandSettings:{hideHelpLink:isHideHelpLink,customDomain:customHelpLinkDomain,customBrandName:custombrandName},dashboardThemeSettings:{appearance:customThemeAppearance,applicationTheme:applicationTheme,dashboardTheme:dashboardCustomThemename}};new BoldBIDashboardDesigner($("#dataAlert"),e);$("#dataAlert").css("height",$(".share-popup").innerHeight())}function onCloseCustomExpression(){$("#dataAlert").data("BoldBIDashboardDesigner").closeDataAlertExpression(),$("#windowCaption").html(window.Server.App.Localization.DataAlertValidator),isNullOrWhitespace(reportItemName)?$(".schedule-popup-title").html(" "+$("#selected_dashboard").find("option:selected").html()+" - "+window.Server.App.Localization.Schedule):$(".schedule-popup-title").html(" "+reportItemName+" - "+window.Server.App.Localization.Schedule),$("#schedule-next, #schedule-next-cancel").show(),isCustomExpressionOpened=!1}function LoadWidgetExportOption(){var i=$("#selected_widget option:selected").data("excel"),s=$("#selected_widget option:selected").data("pdf"),o=$("#selected_widget option:selected").data("csv"),n=$("#selected_widget option:selected").data("image"),e=$("#export-format-dropdown");e.find("option").each(function(){var e=$(this).val(),t=$(this);"Image"===e?t.prop("disabled",!1===n):"PDF"===e?t.prop("disabled",!1===s):"Excel"===e?t.prop("disabled",!1===i):"CSV"===e&&t.prop("disabled",!1===o)}),2==e.find("option:disabled").length?$("#export-container #export-format-container #export-options-container .btn-group .open").addClass("drop-down-resize"):$("#export-container #export-format-container #export-options-container .btn-group .open").removeClass("drop-down-resize"),e.selectpicker(),""!=$("#export-options-container ul li:not(.disabled).selected a").first().text()||""!=exportType&&!isWidgetChanged||($("#export-options-container ul li").removeClass("selected"),$("#export-options-container ul li.disabled").removeClass("selected"),$("#export-options-container ul li:not(.disabled)").first().addClass("selected"),$("#export-options-container .filter-option").html($("#export-options-container ul li:not(.disabled) a").first().text()),$("#export-format-dropdown").val($("#export-options-container ul li:not(.disabled) a").first().text())),fileTypeOnChangeExport(),setTimeout(function(){$(".dropdown").find(".btn.dropdown-toggle").each(function(){$(this).attr("data-bs-toggle","dropdown").removeAttr("data-toggle")})},2e3)}function LoadDashboardExportOption(){var e=$("#export-format-dropdown");e.find("option").each(function(){var e=$(this).val(),t=$(this);"Image"===e?t.prop("disabled",!canExport.Image):"PDF"===e?t.prop("disabled",!canExport.Pdf):"Excel"===e?t.prop("disabled",!canExport.Excel):"CSV"===e&&t.prop("disabled",!canExport.Csv)}),2==e.find("option:disabled").length&&$("#export-container #export-format-container #export-options-container .btn-group .open").addClass("drop-down-resize"),e.selectpicker(),$("#export-options-container ul li").removeClass("selected"),$("#export-options-container ul li.disabled").removeClass("selected"),""==exportType?($("#export-options-container ul li:not(.disabled)").first().addClass("selected"),$("#export-options-container .filter-option").html($("#export-options-container ul li:not(.disabled) a").first().text()),$("#export-format-dropdown").val($("#export-options-container ul li:not(.disabled) a").first().text())):$("#export-format-dropdown").val(exportType),e.selectpicker(),fileTypeOnChangeExport(),setTimeout(function(){$(".dropdown").find(".btn.dropdown-toggle").each(function(){$(this).attr("data-bs-toggle","dropdown").removeAttr("data-toggle")})},2e3)}function validateImagedpi(){var e;"image"==(null!=$("#export-format-dropdown").val()?$("#export-format-dropdown").next(".dropdown-toggle").find(".filter-option").text().toLowerCase():"image")?0==(e=$("#image-dpi").val())?($("#image-no-value-error").show(),$("#image-dpi-error").hide(),$("#schedule-submit").prop("disabled",!0)):($("#image-no-value-error").hide(),null==e||e<=300&&96<=e?($("#image-dpi-error").hide(),$("#schedule-submit").removeAttr("disabled")):($("#schedule-submit").prop("disabled",!0),$("#image-dpi-error").show())):($("#schedule-submit").removeAttr("disabled"),$("#image-dpi-error").show(),$("#image-no-value-error").hide(),$("#image-dpi").val(96))}function fileTypeOnChangeExport(){var e=$("#export-options-container select option:selected").text(),e=($("#export-options-container .filter-option").html(e),null!=$("#export-format-dropdown").val()?$("#export-format-dropdown").val().toLowerCase():"image");"image"==e?($("#show-image-format").show(),$("#show-pdf-checkbox").hide(),$("#show-respose-type").hide(),$("#show-csv-format").hide(),$("#show-excel-format").hide(),$("#show-pdf-format").hide(),validateImagedpi()):"pdf"==e?(""!=$("#schedule-submit").attr("data-widget-id")&&1==$("#selected_widget option:selected").data("export-pagewise")?$("#show-pdf-checkbox").show():$("#show-pdf-checkbox").hide(),$("#show-pdf-format").show(),$("#show-excel-format").hide(),$("#show-respose-type").hide(),$("#show-csv-format").hide(),$("#show-image-format").hide(),validateImagedpi()):"excel"==e?($("#show-excel-format").show(),""!=$("#schedule-submit").attr("data-widget-id")?($("#selected-users-container_editable-content").val().includes("{:ExcelExportWidget}")?$("#show-respose-type").removeClass("disabled response-option-disabled"):$("#show-respose-type").addClass("disabled response-option-disabled"),$("#show-respose-type").hasClass("response-option-disabled")?(document.querySelectorAll('[data-bs-toggle="response-tooltip"]').forEach(function(e){e.setAttribute("data-bs-original-title",window.Server.App.Localization.InlineExpressionAlert),new bootstrap.Tooltip(e,{container:document.querySelector(".response-type-section"),animation:!0,placement:"top",html:!0})}),$("#show-respose-type").tooltip(),$("#response-type option[value='attachment']").prop("selected",!0),$("#respose-type").val("attachment"),$("#respose-type").selectpicker("refresh")):document.querySelectorAll('[data-bs-toggle="response-tooltip"]').forEach(function(e){var t=bootstrap.Tooltip.getInstance(e);t&&t.dispose(),e.removeAttribute("data-bs-original-title")}),$("#show-respose-type").show()):$("#show-respose-type").hide(),$("#show-pdf-checkbox").hide(),$("#show-csv-format").hide(),$("#show-image-format").hide(),$("#show-pdf-format").hide(),validateImagedpi()):"csv"==e&&($("#show-csv-format").show(),$("#show-pdf-checkbox").hide(),$("#show-image-format").hide(),$("#show-respose-type").hide(),$("#show-pdf-format").hide(),$("#show-excel-format").hide(),validateImagedpi())}function searchFunction(e){var t=[];if(null!=quickActions&&null!=quickActions&&0<quickActions.length&&null!=e){for(var i=0;i<quickActions.length;i++)(-1<quickActions[i].Title.toLowerCase().indexOf(e)||-1<quickActions[i].Description.toLowerCase().indexOf(e))&&t.push(quickActions[i]);if(0<t.length){var s="";3<t.length?$("#quick-action-ul").css("height","267px"):$("#quick-action-ul").css("height","auto");for(i=0;i<t.length;i++){var o,n='<li class="action-link">';null!=t[i].Url&&""!=t[i].Url?(o='<a href="'+t[i].Url+'"',t[i].Url.startsWith("/")||(o+=' target="blank"'),n+=o+=' class="col-sm-12 col-md-12 col-lg-12">'):n=n+'<a  class="'+t[i].ElementClass+' col-sm-12 col-md-12 col-lg-12">',n=n+'<span class="action-title">'+t[i].Title+'</span> <span class="col-sm-12 col-md-12 col-lg-12 action-description no-padding">'+t[i].Description+"</span> </a>",i!=t.length-1&&(n+='<a class="col-md-12 col-lg-12 separator"></a>'),s+=n+="</li>"}$("#quick-action-ul").html(""),$("#quick-action-ul").html(s)}else $("#quick-action-ul").css("height","auto"),$("#quick-action-ul").html(""),$("#quick-action-ul").html('<li class="action-link"> <a>No match found</a> </li>')}}function SetConciergeCookie(e){e=JSON.stringify('{ "donot_show_concierge": "'+e+'"}');document.cookie="syncfusion.dashboards.server.concierge="+e+";expires='Fri, 31 Dec 9999 23:59:59 GMT';path=/;SameSite=Lax"}function CreatePresentation(){$("#messageBox").ejDialog("close")}isSameOrigin(),origin&&(void 0!==parent.embedConfig?(embedConfig=parent.embedConfig,isEmbedCode=parent.embedConfig.IsEmbedCode):void 0!==embedConfig&&(isEmbedCode=embedConfig.IsEmbedCode)),$(document).ready(function(){dateFormat=$("#dateFormat").val(),timeFormat=$("#timeFormat").val(),designerServiceUrl=$('meta[name="designer_service:url"]').attr("content"),dashboardServerUrl=$('meta[name="dashboard_server:url"]').attr("content"),dataServiceUrlforDataAlert=$("meta[name='data_service:url']").attr("content"),$(".category-dropdown .bootstrap-select .bs-searchbox .input-block-level").attr("placeholder",window.Server.App.Localization.SearchCategories),$(".dashboard-dropdown .bootstrap-select .bs-searchbox .input-block-level").attr("placeholder",window.Server.App.Localization.SearchDashboards),$(".childdashboard-dropdown .bootstrap-select .bs-searchbox .input-block-level").attr("placeholder",window.Server.App.Localization.SearchTabs),"undefined"!=typeof canDisableDashboardChange&&canDisableDashboardChange&&($("#selected_dashboard").attr("disabled",!0),$("#dashboard-dropdown .btn-default").addClass("disabled")),"undefined"!=typeof canDisableCategoryChange&&canDisableCategoryChange&&$(".category-dropdown .e-input-group").addClass("disable-category"),"undefined"!=typeof canDisableViewChange&&canDisableViewChange&&($("#selected_view").attr("disabled",!0),$(".views-dropdown .btn-default").addClass("disabled"))}),$(document).on("click","#schedule-filter-apply-button",function(){setTimpickerValue();var[e,t]=$("#datePicker").val().split(" - "),e=""!=$.trim(e)?$.trim(e)+" "+scheduleFilterStartDateTime:"",t=""!=$.trim(t)?$.trim(t)+" "+scheduleFilterEndDateTime:"",i=$("#Schedule-event").val().toString(),s=$("#scheduleGrid").data("ejGrid"),e=ej.DataManager({url:filterSchedulesUrl+"?startDate="+e+"&endDate="+t+"&eventType="+i,adaptor:new ej.UrlAdaptor});s.dataSource(e),s.model.pageSettings.currentPage=1}),$(document).on("click","#datePicker_popup .e-drp-apply, .e-drp-reset, .e-drp-cancel",function(e){var t=$("#datePicker").val().split("-");""!=$.trim(t[0])&&""!=$.trim(t[1])?($("#schedule-filter-apply-button").removeAttr("disabled"),$("#schedule-filter-apply-button").removeClass("disable-schedule-apply")):($("#schedule-filter-apply-button").attr("disabled","true"),$("#schedule-filter-apply-button").addClass("disable-schedule-apply"))}),$(document).on("keyup","#datePicker.e-daterangepicker",function(e){var t=$("#datePicker").val().split("-");""!=$.trim(t[0])&&""!=$.trim(t[1])?($("#schedule-filter-apply-button").removeAttr("disabled"),$("#schedule-filter-apply-button").removeClass("disable-schedule-apply")):($("#schedule-filter-apply-button").attr("disabled","true"),$("#schedule-filter-apply-button").addClass("disable-schedule-apply"))}),$(document).on("click","#schedule-submit-cancel,#schedule-popup,#schedule-next-cancel",function(e){(isCustomExpressionOpened?onCloseCustomExpression:closePopupContainer)()}),$(document).keyup(function(e){27==e.keyCode&&closePopupContainer()}),$(document).on("change","#selected_widget",function(){isWidgetChanged=!0}),$(document).on("change","#selected_dashboard",function(){$("#selected_childdashboard").attr("disabled",!0);var e=$(this).find("option:selected").text(),t=$(this).find("option:selected").val(),o=(isWidgetChanged=!0,isScheduledViewDeleted=isScheduledWidgetDeleted=!(isScheduledDashboardDeleted="false"),createdItemId=t,widgetItemId="",$(".childdashboard-dropdown .bootstrap-select").append($("<span class='no-padding loader-gif'><div class='loader-blue loader-icon' id='selected-dashboard-loader-icon'><svg class='circular'><circle class='path' cx='27' cy='27' r='13' fill='none' stroke-width='4' stroke-miterlimit='10'></circle></svg></div></span>")),[].push({PropertyName:"Name",FilterType:"equals",FilterKey:e}),"");""!=t?($(".schedule-popup-title").html(" "+e),$(".schedule-popup-title").css("width","auto"),613<$(".schedule-popup-title").width()&&$(".schedule-popup-title").css("width","613px"),$(".dashboard-schedule").html("&nbsp;- "+window.Server.App.Localization.Schedule),$(".schedule-popup-title").attr("title",e)):($(".schedule-popup-title").html(window.Server.App.Localization.Schedule),$(".schedule-popup-title").attr("title","")),$(".items-dropdown select").html(""),$(".items-dropdown").append($("<span class='no-padding loader-gif'><div class='loader-blue loader-icon' id='selected-dashboard-items-dropdown-loader-icon'><svg class='circular'><circle class='path' cx='27' cy='27' r='13' fill='none' stroke-width='4' stroke-miterlimit='10'></circle></svg></div></span>")),$(".items-dropdown").find("select").attr("disabled",!0),""==t||isEmbedCode||($.ajax({type:"POST",url:getChildDashboardUrl,data:{parentId:t},success:function(e,t){$(".childdashboard-dropdown span.loader-gif").remove();var i=e.result;if(null!==i){$("#selected_childdashboard").attr("disabled",!1);for(var s=0;s<i.length;s++)i[s].DashboardId!==childId?o+="<option data-designerid="+i[s].DesignerId+' value="'+i[s].DashboardId+'">'+i[s].Name+"</option>":o+="<option data-designerid="+i[s].DesignerId+' value="'+i[s].DashboardId+'" selected="selected">'+i[s].Name+"</option>"}$("#selected_childdashboard").html(""),$("#selected_childdashboard").append('<option value="" selected=selected>'+window.Server.App.Localization.All+"</option>"+o).selectpicker("refresh"),addTitleForChildDashboards(),$("#selected_childdashboard").trigger("change")}}),0<$(".schedule-dialog").find("#dataAlert").length&&$("#dataAlert").remove(),$(".widget-dropdown").append($("<span class='no-padding loader-gif'><div class='loader-blue loader-icon' id='selected-category-loader-icon'><svg class='circular'><circle class='path' cx='27' cy='27' r='13' fill='none' stroke-width='4' stroke-miterlimit='10'></circle></svg></div></span>")),null!=t&&(listWidgets=""),$.ajax({type:"POST",url:getwidgetsDetailUrl,data:{itemId:t},beforeSend:function(e){var t=document.cookie.split("; ").find(e=>e.startsWith("XSRF-TOKEN=")).split("=")[1];e.setRequestHeader("X-XSRF-TOKEN",t)},success:function(e){for(var t=e.result,i=0;i<t.length;i++){var s=t[i].Exportoption,s='data-excel="'+s.Excel+'" data-csv="'+s.Csv+'" data-image="'+s.Image+'" data-pdf="'+s.Pdf+'" data-export-pagewise="'+t[i].CanExportPdfPageWise+'"';listWidgets+='<option value="'+t[i].Id+'" '+s+">"+t[i].DisplayName+"</option>"}$("#selected_widget").html(""),$("#selected_widget").html(listWidgets).selectpicker("refresh"),$(".widget-dropdown span.loader-gif").remove()}}),$(".views-dropdown").append($("<span class='no-padding loader-gif'><div class='loader-blue loader-icon' id='selected-category-loader-icon'><svg class='circular'><circle class='path' cx='27' cy='27' r='13' fill='none' stroke-width='4' stroke-miterlimit='10'></circle></svg></div></span>")),null!=t&&(listViews=""),isEmbedCode)||$.ajax({type:"POST",url:getViewsByItemIdUrl,data:{itemId:t},beforeSend:function(e){var t=document.cookie.split("; ").find(e=>e.startsWith("XSRF-TOKEN=")).split("=")[1];e.setRequestHeader("X-XSRF-TOKEN",t)},success:function(e){for(var t=e.result,i=0;i<t.length;i++)listViews+='<option value="'+t[i].ViewId+'">'+t[i].ViewName+"</option>";canDisableViewChange||($("#selected_view").html(""),$("#selected_view").html('<option value="" selected="selected" class="hide-option" disabled>'+window.Server.App.Localization.SelectView+"</option>"+listViews).selectpicker("refresh")),$(".views-dropdown span.loader-gif").remove()}}),0<$("#data-changes-container").length&&$.ajax({type:"POST",url:getwidgetUrl,data:{itemId:t},success:function(e){for(var t=e,i="",s=0;s<t.data.length;s++){var o="",n="";1==t.isMultiDashboard&&(o=" ("+t.data[s].ParentName+")",n="data-itemid="+t.data[s].ParentId),i+="<option "+n+'  value="'+t.data[s].Name+'">'+t.data[s].Name+" "+o+"</option>"}$(".items-dropdown select").append('<option disabled class="hide-option" selected="selected" value="">'+window.Server.App.Localization.SelectWidget+"</option>"+i).selectpicker("refresh"),addTitleForWidgets(),$("#selected-items").change(),$("#data-changes-container #condition-div #measure-div,#data-changes-container #condition-div #dimension-div").html(""),$("#data-changes-container #condition-div #add-condition,#data-changes-container #add-dimension-condition").css("display","none"),refreshConditionCategory(),$("span.loader-gif").remove(),$(".items-dropdown").find("select").removeAttr("disabled"),$(".items-dropdown").find(".bootstrap-select li,.bootstrap-select .btn-default").removeClass("disabled"),$(".items-dropdown").find(".dropdown-menu").addClass("alignment-dropdown"),$(".items-dropdown").find(".dropdown-menu .inner").addClass("alignment-dropdown-inner"),$(".items-dropdown").find(".dropdown-menu li:first").css("height","0px")}}),$("#schedule-submit").attr("data-report-id",t),$("#schedule-submit").attr("data-item-id",t),""!=$("#selected_dashboard option:selected").val()&&$("#dashboard-message").css("display","none"),hideDataAlert("Edit"==actionType)}),$(document).on("change","#selected_view",function(){var e=$(this).find("option:selected").val();$("#schedule-submit").attr("data-view-id",e)}),$(document).on("change","#selected_childdashboard",function(){var e=$(this).find("option:selected").text(),t=$(this).find("option:selected").val();createdItemId=(e=("All"==e?(t=$("#selected_dashboard").find("option:selected").val(),$("#selected_dashboard")):(t=$("#selected_childdashboard").find("option:selected").val(),$("#selected_childdashboard"))).find("option:selected").text(),t),""!=t?($(".schedule-popup-title").html(" "+e+" - "+window.Server.App.Localization.Schedule),$(".schedule-popup-title").attr("title",e)):($(".schedule-popup-title").html(window.Server.App.Localization.Schedule),$(".schedule-popup-title").attr("title","")),$(".items-dropdown select").html(""),$(".items-dropdown").append($("<span class='no-padding loader-gif'><div class='loader-blue loader-icon' id='selected-childdashboard-loader-icon'><svg class='circular'><circle class='path' cx='27' cy='27' r='13' fill='none' stroke-width='4' stroke-miterlimit='10'></circle></svg></div></span>")),$(".items-dropdown").find("select").attr("disabled",!0),0<$("#data-changes-container").length&&$.ajax({type:"POST",url:window.getwidgetUrl,data:{itemId:t},success:function(e){for(var t=e,i="",s=0;s<t.data.length;s++){var o="",n="";1==t.isMultiDashboard&&(o=" ("+t.data[s].ParentName+")",n="data-itemid="+t.data[s].ParentId),i+="<option "+n+'  value="'+t.data[s].Name+'">'+t.data[s].Name+" "+o+"</option>"}$(".items-dropdown select").append('<option disabled class="hide-option" selected="selected" value="">'+window.Server.App.Localization.SelectWidget+"</option>"+i).selectpicker("refresh"),addTitleForWidgets(),$("#selected-items").change(),$("#data-changes-container #condition-div #measure-div,#data-changes-container #condition-div #dimension-div").html(""),$("#data-changes-container #condition-div #add-condition,#data-changes-container  #add-dimension-condition").css("display","none"),refreshConditionCategory(),$("span.loader-gif").remove(),$(".items-dropdown").find("select").removeAttr("disabled"),$(".items-dropdown").find(".bootstrap-select li,.bootstrap-select .btn-default").removeClass("disabled"),$(".items-dropdown").find(".dropdown-menu").addClass("alignment-dropdown"),$(".items-dropdown").find(".dropdown-menu .inner").addClass("alignment-dropdown-inner"),$(".items-dropdown").find(".dropdown-menu li:first").css("height","0px")}}),$("#schedule-submit").attr("data-report-id",t),$("#schedule-submit").attr("data-item-id",t),$(".childdashboard-dropdown .btn-group .dropdown-menu.open").removeAttr("style"),$(".childdashboard-dropdown .btn-group .dropdown-menu.open").css("overflow","hidden")}),$(document).on("focusout","#schedule-name",function(e){var t=$("#schedule-name").val().trim(),i="",i="Create"==actionType?$("#schedule-submit").attr("data-schedule-id"):scheduleId;""!=$.trim(t)?($("#schedule-name").closest("div").removeClass("has-error"),$("#schedule-name-error-container").css("display","none"),t&&!isEmbedCode?scheduleNameCheck(i,t):isEmbedCode?(designerToken=parent.designerToken,i={scheduleId:scheduleId,scheduleName:t},ajaxPostCall("POST",checkScheduleNameExistUrl,i,null,scheduleNameIsExist,null,null)):$("#schedule-name-error-container").css("display","none")):($("#schedule-name").closest("div").addClass("has-error"),$("#schedule-name-error-container").css("display","block"),$("#schedule-name-validator").html(window.Server.App.Localization.ScheduleValidator))}),$(document).on("keyup","#schedule-name",function(e){""!=$.trim($("#schedule-name").val())?($("#schedule-name").closest("div").removeClass("has-error"),$("#schedule-name-error-container").css("display","none")):($("#schedule-name").closest("div").addClass("has-error"),$("#schedule-name-error-container").css("display","block"),$("#schedule-name-validator").html(window.Server.App.Localization.ScheduleValidator))}),$(document).on("keyup","#subject-area",function(e){""!=$("#subject-area").val().trim()?($(".email-subject-text").removeClass("has-error"),$("#email-subject-validation").css("display","none")):""==$("#subject-area").val().trim()?($(".email-subject-text").addClass("has-error"),$("#email-subject-validation").css("display","block")):null!=$("#subject-area").val()&&$("#subject-area").val().length>$("#subject-area").attr("data-maxlength")&&($(".email-subject-text").addClass("has-error"),$("#email-subject-validation").css("display","block"),$("#email-subject-validation").html(window.Server.App.Localization.CharacterExceedMessage.format($("#subject-area").attr("data-maxlength"))))}),$(document).on("keyup","#every-x-hours-value",function(e){var t;""!=$(".time-width").val()&&(t=$(".time-width").val().split(":"))[0]+t[1]>=scheduleExportMinTime?($(".frequency-error").css("display","none"),$(".time-width").parent("span").removeClass("validation-error")):($(".frequency-error").css("display","inline"),$(".time-width").parent("span").addClass("validation-error"))}),$(document).on("focusout","#every-x-hours-value",function(e){""==$(".time-width").val()?($(".frequency-error").css("display","inline"),$(".time-width").parent("span").addClass("validation-error")):($(".frequency-error").css("display","none"),$(".time-width").parent("span").removeClass("validation-error"))}),$(document).on("click","#schedule-next",function(e){var t=$("#selected_widget").val(),t=null!=t?t.join(";"):t;$("#selected_dashboard").find("option:selected").val();$("#schedule-submit").attr("data-widget-id",t),$("#schedule-submit").attr("data-view-id",$("#selected_view").find("option:selected").val()),$("#schedule-submit").attr("data-unique-id",eventId),validateSchedule(this)&&(2==alertChange?$(this).hasClass("time-interval-body")?$("#dataAlert").data("BoldBIDashboardDesigner").getDataAlertModel():$(this).hasClass("subscribe-body")?(validateNextSchedule(),setTimeout(function(){isWidgetChanged&&(LoadWidgetExportOption(),isWidgetChanged=!1,exportType="")},500),setTimeout(function(){disableWidgetScheduleExport||LoadDashboardExportOption()},500)):$(this).hasClass("email-editor-body")?""==$("#email-content-validation").text()&&($("#email-content-validation").html(""),url=recurrenceType,enableTimeIntervalOption(),$("#schedule-next").removeClass("email-editor-body")):("true"!=isScheduledDashboardDeleted?(url=dataAlertUrl,enableDataNotificationOption()):(isScheduledDashboardDeleted="false",$("#selected_dashboard").html('<option value="" disabled="disabled" class="hide-option"selected="selected">'+window.Server.App.Localization.SelectDashboard+"</option>").selectpicker("refresh")),!0===isScheduledWidgetDeleted&&($("#selected_widget").html('<option value="" selected="selected" class="hide-option" disabled>'+window.Server.App.Localization.SelectWidget+"</option>").selectpicker("refresh"),isScheduledWidgetDeleted=!1),!0===isScheduledViewDeleted&&($("#selected_view").html('<option value="" selected="selected" class="hide-option" disabled>'+window.Server.App.Localization.SelectView+"</option>").selectpicker("refresh"),isScheduledViewDeleted=!1)):$(this).hasClass("time-interval-body")?(url=recurrenceType,enableTimeIntervalOption()):$(this).hasClass("email-editor-body")?""==$("#email-content-validation").text()&&("block"==$("#frequency").css("display")&&($("#recurrence-type option[value='Hourly']").attr("selected","selected"),$("#recurrence-type").selectpicker("refresh")),$("#email-content-validation").html(""),$("#schedule-next").removeClass("email-editor-body"),url=recurrenceType,enableTimeIntervalOption()):$(this).hasClass("subscribe-body")?(validateNextSchedule(),setTimeout(function(){isWidgetChanged&&(LoadWidgetExportOption(),isWidgetChanged=!1,exportType="")},1e3),setTimeout(function(){disableWidgetScheduleExport||LoadDashboardExportOption()},1e3)):("true"!=isScheduledDashboardDeleted?(url=emailEditor,enableEmailEditor(),$("#schedule-next").addClass("email-editor-body")):(isScheduledDashboardDeleted="false",$("#selected_dashboard").html('<option value="" disabled="disabled" class="hide-option"selected="selected">'+window.Server.App.Localization.SelectDashboard+"</option>").selectpicker("refresh")),!0===isScheduledWidgetDeleted&&($("#selected_widget").html('<option value="" selected="selected" class="hide-option" disabled>'+window.Server.App.Localization.SelectWidget+"</option>").selectpicker("refresh"),isScheduledWidgetDeleted=!1),!0===isScheduledViewDeleted&&($("#selected_view").html('<option value="" selected="selected" class="hide-option" disabled>'+window.Server.App.Localization.SelectView+"</option>").selectpicker("refresh"),isScheduledViewDeleted=!1)))}),$(document).on("click","#schedule-back",function(e){if($("#schedule-next").hasClass("email-editor-body")){if(""==$("#subject-area").val().trim())return $(".email-subject-text").addClass("has-error"),void $("#email-subject-validation").css("display","block");if(null!=$("#subject-area").val()&&$("#subject-area").val().length>$("#subject-area").attr("data-maxlength"))return $(".email-subject-text").addClass("has-error"),$("#email-subject-validation").css("display","block"),void $("#email-subject-validation").html(window.Server.App.Localization.CharacterExceedMessage.format($("#subject-area").attr("data-maxlength")))}isCustomExpressionOpened?onCloseCustomExpression():"none"==$("#schedule-next").parent("div").css("display")?enableTimeIntervalOption():$("#schedule-next").hasClass("subscribe-body")?(1!=alertChange&&3==alertChange?($("#schedule-next").addClass("time-interval-body"),$("#dataAlert").css("display","block")):enableEmailEditor(),$("#schedule-next").removeClass("subscribe-body")):$("#schedule-next").hasClass("time-interval-body")?enableScheduleOption():$("#schedule-next").hasClass("email-editor-body")&&(1==alertChange?enableScheduleOption:enableDataNotificationOption)()}),$(document).on("click","#data-alerts",function(){if(1==$("#data-alerts").prop("checked")){if(alertChange=2,"Edit"==actionType&&$("#selected_childdashboard").find("option").length<=1&&"disabled"!=$("#selected_childdashboard").attr("disabled")&&null!=childDashboards&&1<childDashboards.length){for(var e="",t=0;t<childDashboards.length;t++)childDashboards[t].Name.toLowerCase()==reportItemName.toLowerCase()?e+="<option data-designerid="+childDashboards[t].DesignerId+' value="'+childDashboards[t].DashboardId+'" selected="selected">'+childDashboards[t].Name+"</option>":e+="<option data-designerid="+childDashboards[t].DesignerId+' value="'+childDashboards[t].DashboardId+'">'+childDashboards[t].Name+"</option>";$("#selected_childdashboard").html(""),$("#selected_childdashboard").append('<option value="">'+window.Server.App.Localization.All+"</option>"+e).selectpicker("refresh")}}else alertChange=1;($("#schedule-next").hasClass("subscribe-body")||$("#schedule-next").hasClass("time-interval-body"))&&($("#schedule-next").removeClass("subscribe-body"),$("#schedule-next").removeClass("time-interval-body"))}),$("#scheduleSearch_global").on("keyup","#scheduleSearch_formfield",function(){var e=$(this).val();2<e.length?$("#scheduleGrid").data("ejGrid").search(e):$("#scheduleGrid").data("ejGrid").search("")}),void 0!==isEmbedCode&&!1!==isEmbedCode||$(document).on("show.bs.dropdown",".dashboard-dropdown",function(){var e;$(".dashboard-dropdown").find(".open,.bootstrap-select").removeClass("dropdown-alignment"),""==$("#selected_category").find("option:selected").val()&&null==multiDashboardName?($("#category-message").css("display","block"),$("#selected_dashboard").attr("disabled",!1)):""==listDashboards&&($(".dashboard-dropdown .bootstrap-select").append($("<span class='no-padding loader-gif'><div class='loader-blue loader-icon' id='dashboard-dropdown-loader-icon'><svg class='circular'><circle class='path' cx='27' cy='27' r='13' fill='none' stroke-width='4' stroke-miterlimit='10'></circle></svg></div></span>")),$(".dashboard-dropdown .bootstrap-select .open").hide(),(e=[]).push({PropertyName:"CategoryName",FilterType:"equals",FilterKey:reportCategoryName}),""!=reportItemId&&""==reportItemId||""==reportItemName||""==reportCategoryName?($("#selected_dashboard").html('<option value="" disabled="disabled" class="hide-option"selected="selected">'+window.Server.App.Localization.SelectDashboard+"</option>").selectpicker("refresh"),$(".dashboard-dropdown .bootstrap-select .open").show(),$(".dashboard-dropdown .btn-group .dropdown-menu.open").removeAttr("style"),$(".dashboard-dropdown .btn-group .dropdown-menu.open").css("overflow","hidden"),$(".dashboard-dropdown span.loader-gif").remove()):$.ajax({type:"POST",url:getDashboardUrl,data:{searchKey:void 0,skip:0,take:20,sorted:void 0,filterCollection:e,displayCategory:"SpecificCategory",isScheduleRequest:!0},success:function(e,t){for(var i=e.result,s=0;s<i.length;s++)listDashboards.includes('value="'+i[s].Id+'"')||null!=multiDashboardName&&"undefined"!=multiDashboardName&&""!=multiDashboardName?listDashboards.includes('value="'+i[s].Id+'"')||(listDashboards+=i[s].Name.toLowerCase()==multiDashboardName.toLowerCase()?'<option value="'+i[s].Id+'" selected=selected>'+i[s].Name+"</option>":'<option value="'+i[s].Id+'">'+i[s].Name+"</option>"):listDashboards+=i[s].Name.toLowerCase()==reportItemName.toLowerCase()?'<option value="'+i[s].Id+'" selected=selected>'+i[s].Name+"</option>":'<option value="'+i[s].Id+'">'+i[s].Name+"</option>";$("#selected_dashboard").html(""),$("#selected_dashboard").selectpicker("refresh"),(""==reportItemId?$("#selected_dashboard").html("<option value='' disabled='disabled' class='hide-option' selected='selected'>"+window.Server.App.Localization.SelectDashboard+"</option>"+listDashboards):$("#selected_dashboard").html(listDashboards)).selectpicker("refresh"),addTitleForDashboard(),$(".dashboard-dropdown ul li").each(function(){$(this).hasClass("selected")&&$(this).addClass("active")}),$(".dashboard-dropdown .bootstrap-select .open").show(),$(".dashboard-dropdown span.loader-gif").remove()}})),$(".dashboard-dropdown").find(".open").addClass("dropdown-alignment")}),$(document).on("hide.bs.dropdown",".dashboard-dropdown, .views-dropdown, .widget-dropdown",function(){$(this).find(".dropdown-alignment").removeClass("dropdown-alignment"),$(this).find(".dropdown-menu").css("display","")}),$(document).on("hide.bs.dropdown",".select-webhook-div",function(){$(this).find(".dropdown-alignment").removeClass("dropdown-alignment"),$(this).find(".dropdown-menu.open").css("display","")}),void 0!==isEmbedCode&&!1!==isEmbedCode||$(document).on("change",".dashboard-dropdown",function(){var e;$(".dashboard-dropdown").find(".open,.bootstrap-select").removeClass("dropdown-alignment"),""==$("#selected_category").find("option:selected").val()&&null==multiDashboardName?($("#category-message").css("display","block"),$("#selected_dashboard").attr("disabled",!1)):""==listDashboards&&($(".dashboard-dropdown .bootstrap-select").append($("<span class='no-padding loader-gif'><div class='loader-blue loader-icon' id='dashboard-dropdown-loader-icon'><svg class='circular'><circle class='path' cx='27' cy='27' r='13' fill='none' stroke-width='4' stroke-miterlimit='10'></circle></svg></div></span>")),$(".dashboard-dropdown .bootstrap-select .open").hide(),(e=[]).push({PropertyName:"CategoryName",FilterType:"equals",FilterKey:reportCategoryName}),""!=reportItemId&&""==reportItemId||""==reportItemName||""==reportCategoryName?($("#selected_dashboard").html('<option value="" disabled="disabled" class="hide-option"selected="selected">'+window.Server.App.Localization.SelectDashboard+"</option>").selectpicker("refresh"),$(".dashboard-dropdown .bootstrap-select .open").show(),$(".dashboard-dropdown .btn-group .dropdown-menu.open").removeAttr("style"),$(".dashboard-dropdown .btn-group .dropdown-menu.open").css("overflow","hidden"),$(".dashboard-dropdown span.loader-gif").remove()):$.ajax({type:"POST",url:getDashboardUrl,data:{searchKey:void 0,skip:0,take:20,sorted:void 0,filterCollection:e,displayCategory:"SpecificCategory",isScheduleRequest:!0},success:function(e,t){for(var i=e.result,s=0;s<i.length;s++)listDashboards+=null==multiDashboardName||"undefined"==multiDashboardName||""==multiDashboardName?i[s].Name.toLowerCase()==reportItemName.toLowerCase()?'<option value="'+i[s].Id+'" selected=selected>'+i[s].Name+"</option>":'<option value="'+i[s].Id+'">'+i[s].Name+"</option>":i[s].Name.toLowerCase()==multiDashboardName.toLowerCase()?'<option value="'+i[s].Id+'" selected=selected>'+i[s].Name+"</option>":'<option value="'+i[s].Id+'">'+i[s].Name+"</option>";$("#selected_dashboard").html(""),(""==reportItemId?$("#selected_dashboard").html("<option value='' disabled='disabled' class='hide-option' selected='selected'>"+window.Server.App.Localization.SelectDashboard+"</option>"+listDashboards):$("#selected_dashboard").html(listDashboards)).selectpicker("refresh"),addTitleForDashboard(),$(".dashboard-dropdown ul li").each(function(){$(this).hasClass("selected")&&$(this).addClass("active")}),$(".dashboard-dropdown .bootstrap-select .open").show(),$(".dashboard-dropdown span.loader-gif").remove()}})),$(".dashboard-dropdown").find(".open").addClass("dropdown-alignment")}),$(document).on("show.bs.dropdown",".widget-dropdown",function(){$(".widget-dropdown").find(".open,.bootstrap-select").removeClass("dropdown-alignment"),""==$("#selected_dashboard").find("option:selected").val()?$("#selected_widget").attr("disabled",!1):""==listWidgets&&($(".widget-dropdown .bootstrap-select").append($("<span class='no-padding loader-gif'><div class='loader-blue loader-icon' id='dashboard-dropdown-loader-icon'><svg class='circular'><circle class='path' cx='27' cy='27' r='13' fill='none' stroke-width='4' stroke-miterlimit='10'></circle></svg></div></span>")),$(".widget-dropdown .bootstrap-select .open").hide(),""!=reportItemId&&""==reportItemId||""==reportItemName||""==reportCategoryName?($("#selected_widget").html('<option value="" disabled="disabled" class="hide-option"selected="selected">'+window.Server.App.Localization.SelectWidget+"</option>").selectpicker("refresh"),$(".widget-dropdown .bootstrap-select .open").show(),$(".widget-dropdown .btn-group .dropdown-menu.open").removeAttr("style"),$(".widget-dropdown .btn-group .dropdown-menu.open").css("overflow","hidden"),$(".widget-dropdown span.loader-gif").remove()):$.ajax({type:"POST",url:getwidgetsDetailUrl,data:{itemId:itemId},beforeSend:function(e){var t=document.cookie.split("; ").find(e=>e.startsWith("XSRF-TOKEN=")).split("=")[1];e.setRequestHeader("X-XSRF-TOKEN",t)},success:function(e){for(var t=e.result,i=0;i<t.length;i++){var s=t[i].Exportoption,s='data-excel="'+s.Excel+'" data-csv="'+s.Csv+'" data-image="'+s.Image+'" data-pdf="'+s.Pdf+'" data-export-pagewise="'+t[i].CanExportPdfPageWise+'"',o="undefined"!=typeof widgetNames&&null!=widgetNames&&widgetNames.includes(t[i].DisplayName.trim());listWidgets+='<option value="'+t[i].Id+'" '+(o?'selected="selected"':"")+" "+s+">"+t[i].DisplayName+"</option>"}$("#selected_widget").html(""),$("#selected_widget").html(listWidgets).selectpicker("refresh"),$(".widget-dropdown .bootstrap-select .open").show(),$(".widget-dropdown.widget-dropdown span.loader-gif").remove()}})),$(".widget-dropdown").find(".open").addClass("dropdown-alignment")}),$(document).on("show.bs.dropdown",".views-dropdown",function(){$(".views-dropdown").find(".open,.bootstrap-select").removeClass("dropdown-alignment"),""==$("#selected_dashboard").find("option:selected").val()?$("#selected_view").attr("disabled",!1):""==listViews&&($(".views-dropdown .bootstrap-select").append($("<span class='no-padding loader-gif'><div class='loader-blue loader-icon' id='dashboard-dropdown-loader-icon'><svg class='circular'><circle class='path' cx='27' cy='27' r='13' fill='none' stroke-width='4' stroke-miterlimit='10'></circle></svg></div></span>")),$(".views-dropdown .bootstrap-select .open").hide(),""!=reportItemId&&""==reportItemId||""==itemName||""==reportCategoryName?($("#selected_view").html('<option value="" disabled="disabled" class="hide-option"selected="selected">'+window.Server.App.Localization.SelectView+"</option>").selectpicker("refresh"),$(".views-dropdown .bootstrap-select .open").show(),$(".views-dropdown .btn-group .dropdown-menu.open").removeAttr("style"),$(".views-dropdown .btn-group .dropdown-menu.open").css("overflow","hidden"),$(".views-dropdown span.loader-gif").remove()):$.ajax({type:"POST",url:getViewsByItemIdUrl,data:{itemId:$("#selected_dashboard").find("option:selected").val()},beforeSend:function(e){var t=document.cookie.split("; ").find(e=>e.startsWith("XSRF-TOKEN=")).split("=")[1];e.setRequestHeader("X-XSRF-TOKEN",t)},success:function(e){for(var t=e.result,i=0;i<t.length;i++){var s=t[i].ViewName.toLowerCase()==viewName.toLowerCase();listViews+='<option value="'+t[i].ViewId+'" '+(s?'selected="selected"':"")+">"+t[i].ViewName+"</option>"}$("#selected_view").html(""),(""==reportItemId?$("#selected_view").html('<option value="" selected="selected" class="hide-option" disabled>'+window.Server.App.Localization.SelectView+"</option>"+listViews):$("#selected_view").html(listViews)).selectpicker("refresh"),$(".views-dropdown ul li").each(function(){$(this).hasClass("selected")&&$(this).addClass("active")}),$(".views-dropdown .bootstrap-select .open").show(),$(".views-dropdown span.loader-gif").remove()}})),$(".views-dropdown").find(".open").addClass("dropdown-alignment")}),$(document).on("show.bs.dropdown",".childdashboard-dropdown",function(){if("Edit"==actionType&&$("#selected_childdashboard").find("option").length<=1){$(".childdashboard-dropdown .bootstrap-select").append($("<span class='no-padding loader-gif'><div class='loader-blue loader-icon' id='childdashboard-dropdown-loader-icon'><svg class='circular'><circle class='path' cx='27' cy='27' r='13' fill='none' stroke-width='4' stroke-miterlimit='10'></circle></svg></div></span>")),$(".childdashboard-dropdown .bootstrap-select .open").hide();$("#selected_dashboard").find("option:selected").val();for(var e="",t=0;t<childDashboards.length;t++)childDashboards[t].Name.toLowerCase()==reportItemName.toLowerCase()?e+="<option data-designerid="+childDashboards[t].DesignerId+' value="'+childDashboards[t].DashboardId+'" selected="selected">'+childDashboards[t].Name+"</option>":e+="<option data-designerid="+childDashboards[t].DesignerId+' value="'+childDashboards[t].DashboardId+'">'+childDashboards[t].Name+"</option>";$("#selected_childdashboard").html(""),$("#selected_childdashboard").append('<option value="">'+window.Server.App.Localization.All+"</option>"+e).selectpicker("refresh"),addTitleForChildDashboards(),$(".childdashboard-dropdown ul li").each(function(){$(this).hasClass("selected")&&$(this).addClass("active")}),$(".childdashboard-dropdown span.loader-gif").remove(),""!=e&&$(".childdashboard-dropdown .bootstrap-select .open").show()}}),$(document).ready(function(){$(document).on("keyup",".quick-actions",function(e){searchFunction($(".quick-actions").val().toLowerCase().trim())}),$(".partial-views").each(function(e,t){var i=$(t).attr("data-partial-url");i&&0<i.length&&$(t).load(i)}),$(document).on("click",".donot-show-concierge",function(){SetConciergeCookie(!0),$(".concierge-support-div").remove()}),$(document).on("click",".datasource img, .more-services",function(e){var t;switch(e.target.id){case"datasource-excel":t="file_excel";break;case"datasource-mssql":t="sql";break;case"datasource-postgre":t="psql";break;case"datasource-redshift":t="redshift";break;case"datasource-google-analytics":t="google_analytics";break;case"datasource-jira":t="web_jira";break;default:t=""}window.datasourceQueryString="itemType="+t,$(".create-datasource-connection").click()}),intializeGetLinkDialog()}),$(document).on("click",".share-dashboard",function(){"00000000-0000-0000-0000-000000000000"!=recentDashboard.Id?(currentItemDetail=recentDashboard,sharePermissionDlgHeaderItemName.text(currentItemDetail.Name),sharePermissionDlgObj.show(),sharePermissionDlgObj.ejDialog("open"),recentDashboard.CreatedById==currentUserId?((isMarkItemsPublic?recentDashboard.IsPublic?showPublicContent:showPrivateContent:showDashboardSettingContent)(),addAttributeValueToBtnEle(recentDashboard)):hidePublicPrivateContent(),recentDashboard.CreatedById==currentUserId||isAdmin?(showShareUserGroupPermissionSection(),sharePermissionDlgWrapperObj.ejWaitingPopup("show"),getShareItemPermission(recentDashboard.Id),addAttributeValueToBtnEle(recentDashboard),addAttributeValueToAutoCompleteEle(recentDashboard)):hideShareUserGroupPermissionSection(),/Safari/.test(navigator.userAgent)&&/Apple Computer/.test(navigator.vendor)?($("#item-url-copy").hide(),$("#item-url").css({width:"100%",borderRadius:"4px"}),$("#item-url-copy").attr("data-original-title","")):$("#item-url-copy").tooltip({animation:!1}),$("#item-url").val(getDashboardShareLink(recentDashboard.Id,recentDashboard.CategoryName,recentDashboard.Name))):messageBox("su-manage-permission",window.Server.App.LocalizationContent.ShareYourDashboard,window.Server.App.LocalizationContent.NoDashboardsAvailabletoShare,"success")}),$(document).on("click",".share-slideshow",function(){var e;isEmptyOrWhitespace(recentSlideShowId)?(e="<a class='create-presentation' onclick='CreatePresentation()' style='cursor: pointer;'>"+window.Server.App.LocalizationContent.create+"</a>",messageBox("su-manage-permission",window.Server.App.LocalizationContent.ShareYourSlideshow,window.Server.App.LocalizationContent.NoSlideshowsAvailabletoShare+e+window.Server.App.LocalizationContent.SlideshowtoShare,"success")):($("#permission-popup iframe").attr("src",permissionIframeUrl+"?itemId="+recentSlideShowId),$("#permission-popup").ejDialog("open"),ShowWaitingProgress("#permission-popup_wrapper","show"))}),$(document).on("click",".schedule-dashboard",function(){isEmptyOrWhitespace(recentDashboard.Id)?messageBox("su-nav-schedule",window.Server.App.LocalizationContent.ScheduleYourDashboard,window.Server.App.LocalizationContent.NoDashboardsAvailabletoSchedule,"success"):(ItemId="",ItemName="",CategoryName="",ScheduleId="",CategoryId="",MultiDashboardName="",$.ajax({type:"POST",url:getItemDetailsUrl,data:{itemId:recentDashboard.Id},success:function(e){ItemId=e.Data.Id,ItemName=e.Data.Name,CategoryName=e.Data.CategoryName,ScheduleId="",CategoryId=e.Data.CategoryId,MultiDashboardName="",$("#popup-container").ejDialog("open")}}))}),$(document).on("click",".create-data-source",function(){$(".create-datasource-connection").click()});