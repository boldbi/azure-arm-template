function sortAddedUsers(){var e=$("#user-list option");e.sort(function(e,t){return e.text>t.text?1:e.text<t.text?-1:0}),$("#user-list").empty().append(e).selectpicker("refresh")}$(document).ready(function(){1400<$(window).width()&&$("#user-delete").addClass("lg-flexible"),$(window).width()<1400&&$("#user-delete").removeClass("lg-flexible"),$("#delete-group-area_wrapper").ejWaitingPopup("hide"),$(document).on("click",".popup-close",function(e){(eDialog=$("#delete-group-area").data("ejDialog")).close(),$("#user-list").selectpicker("refresh"),$("#delete-group-area iframe").attr("src","")}),$(document).on("click",".delete-group-user",function(){var r=$("#hidden-id").val(),n=$("#hidden-name").val(),e=$("#hidden-group-id").val(),i=(ejs.popups.showSpinner(document.getElementById("delete-group-user-dialog")),document.getElementById("delete-group-user-dialog").ej2_instances);doAjaxPost("POST",deleteUserFromGroupUrl,{groupId:e,userId:r},function(e){var t,o,s;ejs.popups.hideSpinner(document.getElementById("delete-group-user-dialog")),i[0].hide(),"boolean"==$.type(e)&&"true"==e.toString()?($("#user-list option").length<=0&&($("#user-list-container .noResult").remove(),$("#user-list-container div.bs-deselect-all-custom").removeClass("bs-deselect-all-custom").addClass("bs-select-all-custom"),$("#user-list-container div.bs-select-all-custom").children("span:eq(0)").text(window.Server.App.Localization.Select),$("#user-list-container div.bs-select-all-custom").show()),$(".show-tick").addClass("open"),$("#user-list").selectpicker("deselectAll"),$(".show-tick").removeClass("open"),0<$("#user-list option"+`[value="${r}"]`).length||$("#user-list").append("<option value='"+r+"'>"+n+"</option>"),sortAddedUsers(),$("#user-list").selectpicker("refresh"),o=(t=$("#Grid").ejGrid("instance")).model.pageSettings.currentPage,t.model.pageSettings.pageSize,t.model.pageSettings.totalRecordsCount,0!=(s=t.model.pageSettings.totalRecordsCount%t.model.pageSettings.pageSize)&&s<=1&&(t.model.pageSettings.currentPage=o-1),t.refreshContent()):warningToast(null!=e.permissionDenied&&e.permissionDenied?window.Server.App.Localization.UserManagementWarningAlert:window.Server.App.Localization.UserDeleteFailed)})}),$(document).on("click","#delete-group",function(){var e=$("#hidden-id").val();doAjaxPost("POST",deleteGroupUrl,{GroupId:e},function(e){"True"==e&&(parent.location.href="/administration/user-management/groups")})}),$(document).keyup(function(e){27==e.keyCode&&parent.$("#delete-group-area").ejDialog("close")})});