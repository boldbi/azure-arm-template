/*!
*  filename: draft-item.min.js
*  version : unknown version
*  Copyright Syncfusion Inc. 2001 - 2013. All rights reserved.
*  Use of this code is subject to the terms of our license.
*  A copy of the current license can be obtained at any time by e-mailing
*  licensing@syncfusion.com. Any infringement will be prosecuted under
*  applicable laws. 
*/
function saveDraftBtnClick(){$("#save-draft-form").submit()}function dlgCloseBtnClick(){draftDialogobj.hide()}function saveDraftDialogOpen(){saveDraftInputobj.value="";blurServerAppContainer()}function saveDraftDialogBeforeClose(){clearInputValueAndError();unblurServerAppContainer()}function clearInputValueAndError(){saveDraftInputobj.value="";saveDraftInputobj.refresh();$(".save-draft-input-segment").find("div").html("");$(".save-draft-input-segment").find("#validate-dashboard-name").text("")}function showSpinner(){ejs.popups.showSpinner(document.getElementById("save-draft-container"))}function hideSpinner(){ejs.popups.hideSpinner(document.getElementById("save-draft-container"))}var saveDraftInputobj="",saveDraftInputEle="",draftDialogobj="";$(document).ready(function(){$.extend(ej,Syncfusion);saveDraftInputobj=new ejs.inputs.TextBox({placeholder:window.Server.App.Localization.DraftPlaceholder,floatLabelType:"Never"});saveDraftInputEle=$("#save-draft-input");saveDraftInputobj.appendTo("#save-draft-input");draftDialogobj=new ejs.popups.Dialog({showCloseIcon:!1,isModal:!0,closeOnEscape:!0,visible:!1,buttons:[{click:saveDraftBtnClick,buttonModel:{content:window.Server.App.Localization.AddDesignButton,isPrimary:!0,cssClass:"app-btn-primary"}},{click:dlgCloseBtnClick,buttonModel:{content:window.Server.App.Localization.CancelButton,isPrimary:!1,cssClass:"app-btn-secondary"}}],width:"500px",animationSettings:{effect:"Zoom"},beforeOpen:saveDraftDialogOpen,beforeClose:saveDraftDialogBeforeClose});draftDialogobj.appendTo("#save-draft-container");draftDialogobj.hide();ejs.popups.createSpinner({target:document.getElementById("save-draft-container")});ejs.popups.setSpinner({type:"Material"});$("#save-draft-form").submit(function(n){n.preventDefault();var t=saveDraftInputEle.val();$("#save-draft-form").valid()&&(showSpinner(),$.ajax({type:"POST",url:isDraftExistUrl,data:{dashboardName:t},success:function(n){n.Data?($(".save-draft-input-segment").find(".e-input-group").addClass("e-error"),$("#validate-dashboard-name").text(window.Server.App.Localization.IsDashboardExist),$("#validate-dashboard-name").css("display","block"),hideSpinner()):(hideSpinner(),draftDialogobj.hide(),setTimeout(function(){showLoaderForIntializing();window.location.href=n.RedirectUrl},500))},error:function(){$(".save-draft-input-segment").find(".e-input-group").addClass("e-error");$("#validate-dashboard-name").text(window.Server.App.Localization.InternalServerError);$("#validate-dashboard-name").css("display","block");hideSpinner()}}))});$.validator.addMethod("isRequired",function(n){return!isEmptyOrWhitespace(n)},window.Server.App.Localization.ItemNameValidator);$.validator.addMethod("isValidName",function(n){return IsValidName("name",n)},window.Server.App.Localization.AvoidSpecialCharacters);$("#save-draft-form").validate({errorElement:"div",onkeyup:function(n,t){t.keyCode!=9&&$(n).valid();t.keyCode!=8&&t.keyCode!=46&&$(n).valid()?!0:$("#validate-dashboard-name").text("")},onfocusout:function(n){$(n).valid()},rules:{dashboardName:{isRequired:!0,isValidName:!0}},messages:{dashboardName:{isRequired:window.Server.App.Localization.DashboardNameValidator}},highlight:function(n){$(n).closest(".e-input-group").addClass("e-error")},unhighlight:function(n){$(n).attr("id")=="save-draft-input"&&($(n).closest(".e-input-group").removeClass("e-error"),$(n).closest(".save-draft-input-segment").find("div").html(""),$(n).closest(".save-draft-input-segment").find("#validate-dashboard-name").text(""))},errorPlacement:function(n,t){$(t).closest(".save-draft-input-segment").find("div").html(n.html())}});saveDraftInputEle.bind("keypress",function(n){if(n.keyCode==13)return n.preventDefault(),!1})});$(document).on("click",".create-dashboard-scratch",function(){draftDialogobj.show()})