/*!
*  filename: dashboard-viewer-v1-utilities.min.js
*  version : unknown version
*  Copyright Syncfusion Inc. 2001 - 2013. All rights reserved.
*  Use of this code is subject to the terms of our license.
*  A copy of the current license can be obtained at any time by e-mailing
*  licensing@syncfusion.com. Any infringement will be prosecuted under
*  applicable laws. 
*/
function ShareView(n){var i=$(window).width(),r=$(window).height(),u=$("#viewShare_popup").width(),f=$("#viewShare_popup").height(),e=(parseInt(i)-parseInt(u))/2,t=(parseInt(r)-parseInt(f))/2;t<0&&(t=0);$("#viewShare_popup").css({left:e,top:t});$("#viewShare_popup,.ViewShare_popup_shadow").css("display","block");$("#sharepopup_wrapper_WaitingPopup").css("display","block");$("#viewShare_popup_iframe").attr("src",itemViewShareIframeUrl+"?itemId="+n.viewId)}function ResizePopup(){var t=$(window).width(),i=$(window).height(),r=$("#viewShare_popup").width(),u=$("#viewShare_popup").height(),f=(parseInt(t)-parseInt(r))/2,n=(parseInt(i)-parseInt(u))/2;n<0&&(n=0);$("#viewShare_popup").css({left:f,top:n})}function openDashboardComment(){var n=$("#dashboard_Comment").attr("data-item-id"),t=$("#isMultiDashboard").attr("data-item-id");if($("#commentModuleContainer").toggleClass("displayNone"),$("#commentModuleContainer").hasClass("displayNone"))closeDashboardComment();else if(closeWidgetComment(),typeof window.frames[0].GetAllComments=="function")window.frames[0].GetAllComments(n,"dashboard",n,"1",t);else $("#commentModuleContainer_iframe").on("load",function(){window.frames[0].GetAllComments(n,"dashboard",n,"1",t)})}function openWidgetComment(n){var t=n!=null?n.reportGuid:$("#comment_Type").attr("data-item-id"),i;if($("#widgetCommentModuleContainer").hasClass("displayNone")){var u=$("#"+t).offset().left+$("#"+t).width(),f=$("#"+t).offset().top,r=$(window).width()-(u+350);if(r<0&&(r=$(window).width()-(u-($(window).width()<450?0:75)),$(window).width()<375&&(r=0)),$("#widgetCommentModuleContainer").css({top:f,right:r,position:"absolute","min-height":"152px",height:"152px"}),$("#widgetCommentModuleContainer").toggleClass("displayNone"),i=document.getElementById("widgetCommentModuleContainer_iframe"),i!=null&&$("#widgetCommentModuleContainer_iframe").attr("src")!=null)if(typeof i.contentWindow.GetAllComments=="function")i.contentWindow.itemId=t,i.contentWindow.GetAllComments(t,"widget",$("#dashboard_Comment").attr("data-item-id"),"1",$("#isMultiDashboard").attr("data-item-id"));else $("#commentModuleContainer_iframe").on("load",function(){i.contentWindow.itemId=t;i.contentWindow.GetAllComments(t,"widget",$("#dashboard_Comment").attr("data-item-id"),"1",$("#isMultiDashboard").attr("data-item-id"))});else $("#widgetCommentModuleContainer_iframe").attr("src",Commentswidgets+"?itemId="+t+"&userId="+userId)}else closeWidgetComment()}function closeWidgetComment(){if(!$("#widgetCommentModuleContainer").hasClass("displayNone")){var n=document.getElementById("widgetCommentModuleContainer_iframe");n!=null&&$("#widgetCommentModuleContainer_iframe").attr("src")!=null&&typeof n.contentWindow.GetAllComments=="function"&&(n.contentWindow.$("#commentList").html(""),n.contentWindow.$(".additional-content").html(""),n.contentWindow.$("#comment_action_area").show().removeClass("isHide"),n.contentWindow.$("#comment_submit_container").hide(),n.contentWindow.$("#comment_count").text("0"),n.contentWindow.refreshCommentScroller(),n.contentWindow.getAllCommentAjax.onreadystatechange=null,n.contentWindow.getAllCommentAjax.abort());$("#widgetCommentModuleContainer").addClass("displayNone");$("#delete_popup_iframe").addClass("displayNone")}}function closeDashboardComment(){$("#commentImage_popup").data("BoldBIDashboardDialog")!==undefined&&$("#commentImage_popup").BoldBIDashboardDialog("close");$("#commentModuleContainer").addClass("displayNone");$("#delete_popup_iframe").addClass("displayNone");$("#is_mobile").val()=="true"&&($("#dashboard").show(),$("#server-mobile-navbar .server-comment").hasClass("active")&&($("#server-mobile-navbar a.active").removeClass("active"),$("#server-mobile-navbar .su-nav-dashboard").addClass("active")))}function closeComment(){closeWidgetComment();$("#dashboard").data("ejDashboardViewer").removeCommentToggleState()}function closeCommentOnResize(){$("#is_mobile").val()=="false"&&(closeWidgetComment(),$("#dashboard").data("ejDashboardViewer").removeCommentToggleState())}function openComments(){var i,r,t,n,u;typeof isSlideshow!="undefined"&&isSlideshow&&parent.$("body").trigger("dashboardRenderComplete");$("#get_item_link").length<1&&intializeGetShareLink();isMultiDashboard.toLowerCase()=="true"&&(item_Id=$("#dashboard").data("ejDashboardViewer")._getCurrentDashboardGuid(),$("#dashboard_Comment").attr("data-item-id",item_Id),$("#favorite_Item").attr("data-item-id",item_Id));i=$("#dashboard").data("ejDashboardViewer");r=i.currentReport.layout;$.each(r,function(n,t){if(t.Key=="EnableComment"){var i=t.Value;i||$("#comments").remove()}});filterView();t=getUrlVars(window.location.href.split("#")[0]).comment;typeof t!="undefined"&&$("#comment_Type").attr("data-item-type").toLowerCase()=="dashboard"?$("#is_mobile").val()=="true"?window.innerWidth<410&&$("#dashboard").hide():$(".options li#comments").trigger("click"):$("#commentModuleContainer iframe").attr("src",commentPageUrl+"?itemId="+$("#commentModuleContainer_iframe").attr("data-item-id")+"&userId="+userId);typeof t!="undefined"&&$("#comment_Type").attr("data-item-type").toLowerCase()=="widget"?(n=$("#comment_Type").attr("data-item-id"),$("#"+n).find(".e-dbrd-banner-widget-withcomments").click(),$("#"+n).length==0&&($("#filters").click(),$("#"+n).find(".e-dbrd-filterPanel-widget-withcomments").click())):$("#widgetCommentModuleContainer_iframe").attr("src",Commentswidgets+"?itemId="+n+"&userId="+userId);u=$("#dashboard").data("ejDashboardViewer")._getCurrentDashboardGuid();$("#current-selected-tab-id").attr("data-tab-id",u)}function getUrlVars(n){var t={},i=n.replace(/[?&]+([^=&]+)=([^&]*)/gi,function(n,i,r){t[i]=r});return t}function updatefavorite(){var t=$("#favorite_Item").attr("data-item-id"),i=$("#favorite_Item").attr("data-parent-id"),r=$("#favorite_Item").attr("data-favorite-value").toLowerCase(),n=r=="true"?!1:!0,u=$("#isMultiDashboard").attr("data-item-id");$.ajax({type:"POST",url:favoriteItemUrl,data:{itemId:t,favoriteValue:n,isMultiDashboard:u,parentId:i},success:function(t){t.Success?($("#favorite_Item").attr("data-favorite-value",n),$("#dashboard").data("ejDashboardViewer").toggleFavoriteIcon()):($("#delete_popup_iframe").removeClass("displayNone"),frames[1].messageBox("",window.Server.App.Localization.MarkFavoriteError,window.Server.App.Localization.InternalServerError,"success",function(){$("#delete_popup_iframe").addClass("displayNone")}))}})}function CloseDashboardView(){if($("#dashboard").length!=0){if(containSaveFilter&&$("#saved-filter").show(),$("#dashboard").toggleClass("dashboard"),$(".view-heading").toggle(),$("#dashboard-views").toggle(),$("#dashboard-view-toogle").toggleClass("dashboard-view-toogle"),$("#dashboard-view-toogle #close-container a").css("display","none"),$(".options").css("right","0px"),$(".options li").removeClass("active"),$("#is_mobile").val()=="false"){setDashboardWidth();var n=$("#dashboard").data("ejDashboardViewer");n.resizeDashboard()}}else containSaveFilter&&$("#dashboard_render_iframe").contents().find("#saved-filter").show(),$("#dashboard_render_iframe").contents().find("#dashboard").toggleClass("dashboard"),$("#dashboard_render_iframe").contents().find(".view-heading").toggle(),$("#dashboard_render_iframe").contents().find("#dashboard-views").toggle(),$("#dashboard_render_iframe").contents().find("#dashboard-view-toogle").toggleClass("dashboard-view-toogle"),$("#dashboard_render_iframe").contents().find("#dashboard-view-toogle #close-container a").css("display","none")}function filterView(){$("#dashboard-view-toogle").ejWaitingPopup("show");var n=getcurrentfilters();n!=""&&n!=null&&n.masterData!=null&&n.masterData.length>0?(SavedViewHeight(),(viewId==null||viewId=="")&&$("#saved-filter-Saveas").css("display")=="none"&&$("#saved-filter-update").css("display")=="none"&&($("#new-save").show(),enableComment.toString().toLowerCase()=="true"&&($("#new-save").removeClass("pointer-events"),$("#new-save").css("opacity",1)),$("#nofilters").css("display","none"))):($("#new-save").addClass("pointer-events"),$("#new-save").css("opacity",.5),$("#nofilters").css("display","block"));unsavedFilters();GetSavedFilter();refreshScroller();$("#dashboard-view-toogle").ejWaitingPopup("hide")}function AddView(){var t="",r=parent.$("#dashboard").data("ejDashboardViewer"),i=getcurrentfilters().encryptedData,u=name,f=id,e=document.getElementById("dashboard-views"),n;pageurl=typeof pageurl!="undefined"?pageurl:viewUrl;$("#save-view-form").valid()&&(parent.$("#save-view-popup_wrapper").ejWaitingPopup("show"),n=parent.$("#dashboard").prevAll("#isMultiDashboard").attr("data-item-id"),$.ajax({url:addViewUrl.web,data:{name:"Datas",ItemViewName:saveFilterName,QueryString:i,itemId:parent.$("#dashboard").prevAll("#favorite_Item").attr("data-item-id"),UserId:f,UserName:u,IsMultiDashboard:n,parentDashboardId:n.trim().toLowerCase()=="true"?parent.$("#dashboard").prevAll("#isMultiDashboard").attr("data-parent-id"):null,isDefault:$("#default-view").is(":checked")},type:"POST",beforeSend:function(n){n.setRequestHeader("ejAuthenticationToken",r._authenticationToken)},success:function(n){if(n.StatusMessage.trim().toLowerCase()=="viewnamealreadyexists")$(".validation-errors").html(window.Server.App.Localization.IsViewAlreadyExist),$("#view-name").addClass("has-error");else{closeSaveViewPopup();clearStatus=!0;initialQueryString=i;initialQueryStringParameter=JSON.stringify(updateInitialQueryStringParameter);messageBox("su-filter",window.Server.App.Localization.AddView,window.Server.App.Localization.AddViewSuccess,"success",function(){onCloseMessageBox();parent.$("#dashboard-view-toogle").ejWaitingPopup("show");parent.$("#dashboard-view-toogle").find("#no-filters").css("display","none");parent.$("#dashboard-view-toogle").ejWaitingPopup("hide")});var r=n.ItemsView[0].ViewId;$("#update-view").attr("viewid",r);$("#save-section").hide();$("#save-lable-section label").html("");t='<a class="saved-view-link txt-overflow" href="'+pageurl+"?viewid="+r+'" target="_blank" data-toggle="tooltip" data-original-title="'+saveFilterName+'">'+saveFilterName+"<\/a>";$("#save-lable-section label").append(t);$("#save-lable-section").show();$("#new-save").hide();$("#saved-filter-update").show();$("#update-view").addClass("pointer-events");$("#update-view").css("opacity",.5);$("#saved-filter-Saveas").hide();GetSavedFilter();refreshScroller()}parent.$("#dashboard").data("ejDashboardViewer").updateFilterOverview(saveFilterName,r);$("#dashboard-view-toogle").ejWaitingPopup("hide");parent.$("#save-view-popup_wrapper").ejWaitingPopup("hide")},error:function(){messageBox("su-filter",window.Server.App.Localization.AddView,window.Server.App.Localization.InternalServerError,"success",function(){onCloseMessageBox()});$("#dashboard-view-toogle").ejWaitingPopup("hide");parent.$("#save-view-popup_wrapper").ejWaitingPopup("hide")}}))}function GetSavedFilter(){var t=$("#dashboard").data("ejDashboardViewer"),n;iframeUrl==parentUrl?(item_Id=typeof item_ID!="undefined"?item_Id:parent.$("#dashboard").prevAll("#favorite_Item").attr("data-item-id")!=undefined?parent.$("#dashboard").prevAll("#favorite_Item").attr("data-item-id"):$("#dashboard").prevAll("#favorite_Item").attr("data-item-id"),isMultiDashboard=typeof isMultiDashboard!="undefined"?isMultiDashboard:parent.$("#dashboard").prevAll("#isMultiDashboard").attr("data-item-id")!=undefined?parent.$("#dashboard").prevAll("#isMultiDashboard").attr("data-item-id"):$("#dashboard").prevAll("#isMultiDashboard").attr("data-item-id"),parentDashboardId=typeof parentDashboardId!="undefined"?parentDashboardId:parent.$("#dashboard").prevAll("#isMultiDashboard").attr("data-parent-id")!=undefined?parent.$("#dashboard").prevAll("#isMultiDashboard").attr("data-parent-id"):$("#dashboard").prevAll("#isMultiDashboard").attr("data-parent-id")):(item_Id=typeof item_ID!="undefined"?item_Id:$("#dashboard").prevAll("#favorite_Item").attr("data-item-id")!=undefined?$("#dashboard").prevAll("#favorite_Item").attr("data-item-id"):$("#dashboard").prevAll("#favorite_Item").attr("data-item-id"),isMultiDashboard=typeof isMultiDashboard!="undefined"?isMultiDashboard:$("#dashboard").prevAll("#isMultiDashboard").attr("data-item-id")!=undefined?$("#dashboard").prevAll("#isMultiDashboard").attr("data-item-id"):$("#dashboard").prevAll("#isMultiDashboard").attr("data-item-id"),parentDashboardId=typeof parentDashboardId!="undefined"?parentDashboardId:$("#dashboard").prevAll("#isMultiDashboard").attr("data-parent-id")!=undefined?$("#dashboard").prevAll("#isMultiDashboard").attr("data-parent-id"):$("#dashboard").prevAll("#isMultiDashboard").attr("data-parent-id"));userName=typeof userName!="undefined"?userName:name;userId=typeof userId!="undefined"?userId:id;pageurl=typeof pageurl!="undefined"?pageurl:viewUrl;n=isMultiDashboard.toLowerCase()=="true"?$("#dashboard").length!=0?$("#dashboard").find("li.e-active").find("span").html().trim():parent.$("#dashboard").find("li.e-active").find("span").html().trim():"";$.ajax({url:getSavedViewUrl.web,type:"POST",data:{itemId:item_Id,UserId:userId,UserName:userName,IsMultiDashboard:isMultiDashboard,parentDashboardId:parentDashboardId},success:function(i){var e,u,f,o,s,r;if($("#saved-filter").length>0?$("#saved-filter").html(""):parent.$("#saved-filter").html(""),e='<div id="saved-list" style="display: block"><div class="saved-list-content-div" style="float: left">',u=jQuery.parseJSON(i.Result),u.length>0){for(containSaveFilter=!0,$("#saved-filter").length>0?$("#saved-filter").show():parent.$("#saved-filter").show(),r=0;r<u.length;r++)f=u[r].ViewId,o="",o=u[r].CanDelete&&u[r].CanShare?'<div class="saved-opt"><span class="opt" viewid="'+f+'" itemId="'+item_Id+'" viewname="'+u[r].ViewName+'"><span viewid="'+f+'" itemId="'+item_Id+'" viewname="'+u[r].ViewName+'"  class = "delete su su-delete cursor-pointer" data-toggle="tooltip" data-original-title="'+window.Server.App.Localization.Delete+'" ><\/span><\/span><span class="opt" viewid="'+f+'" itemId="'+item_Id+'" viewname="'+u[r].ViewName+'"><span  viewid="'+f+'" itemId="'+item_Id+'" viewname="'+u[r].ViewName+'" class = "share su su-share  cursor-pointer" data-toggle="tooltip" data-original-title="'+window.Server.App.Localization.Share+'"><\/span><\/span><span class="opt" viewid="'+f+'" itemId="'+item_Id+'" viewname="'+u[r].ViewName+'"><span  viewid="'+f+'" itemId="'+item_Id+'" viewname="'+u[r].ViewName+'" class ="su su-link View-link-copy cursor-pointer" data-original-title="'+window.Server.App.Localization.LinkCopy+'" data-toggle="tooltip" data-placement="top" title=""><\/span><\/span><\/div>':u[r].CanDelete?'<div class="saved-opt"><span class="opt" viewid="'+f+'" itemId="'+item_Id+'" viewname="'+u[r].ViewName+'"><span viewid="'+f+'" itemId="'+item_Id+'" viewname="'+u[r].ViewName+'"  class = "delete su su-delete cursor-pointer" data-toggle="tooltip" data-original-title="'+window.Server.App.Localization.Delete+'" ><\/span><\/span><span class="opt" viewid="'+f+'" itemId="'+item_Id+'" viewname="'+u[r].ViewName+'"><span  viewid="'+f+'" itemId="'+item_Id+'" viewname="'+u[r].ViewName+'" class = "su su-link View-link-copy cursor-pointer" data-original-title="'+window.Server.App.Localization.LinkCopy+'" data-toggle="tooltip" data-placement="top" title=""><\/span><\/span><\/div>':u[r].CanShare?'<div class="saved-opt"><span class="opt" viewid="'+f+'" itemId="'+item_Id+'" viewname="'+u[r].ViewName+'"><span  viewid="'+f+'" itemId="'+item_Id+'" viewname="'+u[r].ViewName+'" class = "share su su-share  cursor-pointer" data-toggle="tooltip" data-original-title="'+window.Server.App.Localization.Share+'"><\/span><\/span><span class="opt" viewid="'+f+'" itemId="'+item_Id+'" viewname="'+u[r].ViewName+'"><span  viewid="'+f+'" itemId="'+item_Id+'" viewname="'+u[r].ViewName+'" class = "su su-link View-link-copy cursor-pointer" data-original-title="'+window.Server.App.Localization.LinkCopy+'" data-toggle="tooltip" data-placement="top" title=""><\/span><\/span><\/div>':'<div class="saved-opt"><span class="opt" viewid="'+f+'" itemId="'+item_Id+'" viewname="'+u[r].ViewName+'"><span  viewid="'+f+'" itemId="'+item_Id+'" viewname="'+u[r].ViewName+'" class = "su su-link View-link-copy cursor-pointer" data-original-title="'+window.Server.App.Localization.LinkCopy+'" data-toggle="tooltip" data-placement="top" title=""><\/span><\/span><\/div>',pageurl=pageurl.indexOf("/embed/")>-1?pageurl.replace("/embed/","/"):pageurl,e+=n!=""?'<li class="saved-view" viewid="'+f+'">'+o+'<label class="saved-filter txt-overflow" viewid="'+f+'" itemId="'+item_Id+'"><a class="view-link txt-overflow saved-filter-anchor"  href="'+pageurl+"?tab="+n+"&viewid="+f+'" data-url="'+pageurl+"?tab="+n+"&viewid="+f+'" target="_blank" data-toggle="tooltip" data-original-title="'+u[r].ViewName+'">'+u[r].ViewName+"<\/a><\/label><\/li>":'<li class="saved-view" viewid="'+f+'">'+o+'<label class="saved-filter txt-overflow" viewid="'+f+'" itemId="'+item_Id+'"><a class="view-link txt-overflow saved-filter-anchor"  href="'+pageurl+"?viewid="+f+'" data-url="'+pageurl+"?viewid="+f+'" target="_blank" data-toggle="tooltip" data-original-title="'+u[r].ViewName+'">'+u[r].ViewName+"<\/a><\/label><\/li>";if($("#saved-filter").length>0?$("#saved-filter").append(e+"<\/div><\/div>"):parent.$("#saved-filter").append(e+"<\/div><\/div>"),$("#saved-filter").length==0)for(s=parent.$(".view-link").attr("data-url"),r=0;r<s.length;r++)parent.$(".view-link").eq(r).attr("href",parent.$(".view-link").eq(r).attr("data-url"));else for(s=$(".view-link").attr("data-url"),r=0;r<s.length;r++)$(".view-link").eq(r).attr("href",$(".view-link").eq(r).attr("data-url"));$("#dashboard-view-toogle").length>0?$("#dashboard-view-toogle").find("#saved-list").length==0?$("#dashboard-view-toogle").find("#no-filters").css("display","block"):$("#dashboard-view-toogle").find("#no-filters").css("display","none"):parent.$("#dashboard-view-toogle").find("#saved-list").length==0?parent.$("#dashboard-view-toogle").find("#no-filters").css("display","block"):parent.$("#dashboard-view-toogle").find("#no-filters").css("display","none");/Safari/.test(navigator.userAgent)&&/Apple Computer/.test(navigator.vendor)&&($(".View-link-copy").removeClass("su su-link"),$(".View-link-copy").attr("data-original-title",""));$("#dashboard-view-toogle").length>0?$("#dashboard-view-toogle").show():parent.$("#dashboard-view-toogle").show();parent.$('[data-toggle="tooltip"]').tooltip()}else containSaveFilter=!1,$("#saved-filter").length>0?$("#saved-filter").hide():parent.$("#saved-filter").hide(),t=$("#dashboard").data("ejDashboardViewer");refreshScroller()},error:function(){resetViewPanel();SavedViewHeight();refreshScroller()}})}function onDeleteItemDialogClose(){$("#delete-div").ejDialog("close");$("#dashboard-view-toogle").ejWaitingPopup("show");$("#dashboard-view-toogle").find("#saved-list").length==0?$("#no-filters").css("display","block"):$("#no-filters").css("display","none");$("#dashboard-view-toogle").ejWaitingPopup("hide")}function onDeleteItemDialogOpen(){$("#dashboard").ejDashboardViewer("instance").closeAllWindows();$("#delete-div").ejDialog("open");$("#delete-msg").show();$("#delete-div").focus()}function resetViewPanel(){$("#save-lable-section label").html("");$("#entire-label-section label").html(window.Server.App.Localization.UnsavedView);$("#dashboard").ejDashboardViewer("instance").model.filterOverviewSettings.showSaveIcon=$("#is_mobile").val()=="true"||isUserAuthenticated=="false"?!1:!0;$("#new-save").css("display","block");$("#saved-filter-update").css("display","none");$("#saved-filter-Saveas").css("display","none");$("#saved-filter").html("");$("#no-filters").css("display","block");unsavedFilters()}function getViewsLink(n){var t=baseUrl.split("/");return encodeURI(t[0]+"//"+t[2]+n)}function SavedViewHeight(){if($("#saved-list").css("display")!="none"){var u=iframeUrl==parentUrl?sameOrigin?parent.$("#header-pane"):$("#header-pane"):$("#header-pane"),f=$("#entire-label-section"),n=$("#unsaved-filter"),t=$("#unsaved-filter-title"),i=$("#nofilters"),e=iframeUrl==parentUrl?$(sameOrigin?parent.window:window).height():$(window).height(),r=e-u.outerHeight()-f.outerHeight()-(i.css("display")!="none"?i.outerHeight():0)-(n.css("display")!="none"?n.outerHeight():0)-(t.css("display")!="none"?t.outerHeight():0);return $("#saved-list").css("height",r),r}}function getFnObj(n){return typeof n=="function"?n:typeof n=="string"&&window[n]?n:void 0}function refreshScroller(){var f,e,n,t;if(typeof isSlideshow=="undefined"||!isSlideshow){var r="",u=500,i="";$("#unsaved-filter-parameter").children().length&&(r=$("#unsaved-filter-parameter").height()>=230?230:$("#unsaved-filter-parameter").height()+20,$("#unsaved-filter").ejScroller({height:r,width:u,scrollerSize:7,buttonSize:0,enableTouchScroll:!1}),f=$("#unsaved-filter").ejScroller("instance"),f.model.height=r,f.refresh(),$("#unsaved-filter .e-vhandle").length&&(n=$("#unsaved-filter .e-vhandle"),n.css("display")=="none"||(t=n.height()+29,n.css("height",t))));i=SavedViewHeight()-10;$("#saved-list").length?($("#saved-list").ejScroller({height:i,width:u,scrollerSize:9,buttonSize:0,enableTouchScroll:iframeUrl==parentUrl?(sameOrigin?parent.$("#is_mobile").val():$("#is_mobile").val())!="false":$("#is_mobile").val()!="false"}),e=$("#saved-list").ejScroller("instance"),e.model.height=i,e.refresh(),$("#saved-filter .e-vhandle").length&&(n=$("#saved-filter .e-vhandle"),n.css("display")=="none"||(t=n.height()+29,n.css("height",t)))):iframeUrl==parentUrl&&((sameOrigin?parent.$("#saved-list"):$("#saved-list")).ejScroller({height:i,width:u,scrollerSize:9,buttonSize:0,enableTouchScroll:iframeUrl==parentUrl?parent.$("#is_mobile").val()!="false":$("#is_mobile").val()!="false"}),(sameOrigin?parent.$("#saved-filter .e-vhandle"):$("#saved-filter .e-vhandle")).length&&(n=sameOrigin?parent.$("#saved-filter .e-vhandle"):$("#saved-filter .e-vhandle"),n.css("display")=="none"||(t=n.height()+29,n.css("height",t))))}}function getcurrentfilters(){var n;return iframeUrl==parentUrl?(sameOrigin?parent.$("#dashboard").length:$("#dashboard").length)>0?sameOrigin?parent.$("#dashboard").data("ejDashboardViewer").getCurrentFilters():$("#dashboard").data("ejDashboardViewer").getCurrentFilters():$("#dashboard").data("ejDashboardViewer").getCurrentFilters():$("#dashboard").length>0?$("#dashboard").data("ejDashboardViewer").getCurrentFilters():$("#dashboard").data("ejDashboardViewer").getCurrentFilters()}function clearAllFilters(){var n=$("#dashboard").data("ejDashboardViewer");viewId!=null&&viewId!=""||clearStatus?(n.model.filterParameters=initialQueryString,n.redrawDashboard()):$("#dashboard-view-toogle").ejWaitingPopup("hide")}function getWidgetTitle(n){return $("#dashboard").data("ejDashboardViewer").getWidgetTitle(n)}function clearWidgetFilter(n,t){$("#dashboard").data("ejDashboardViewer").clearWidgetFilter(n,t)}function onFilterOverviewUpdated(n){unsavedFilters(n);$('[data-toggle="tooltip"]').tooltip();refreshScroller()}function unsavedFilters(n){var t=getcurrentfilters(),o,r,u,c,e;t!=""&&t!="undefined"&&t!=null&&n!=""&&n!="undefined"&&n!=null&&(o=n.currentFilterData,updateInitialQueryStringParameter=o,queryStringStatus&&(queryStringStatus=!1,initialQueryString=t.encryptedData,initialQueryStringParameter=JSON.stringify(o)),initialQueryStringParameter===JSON.stringify(o)?($("#update-view").addClass("pointer-events"),$("#update-view").css("opacity",.5)):enableComment.toString().toLowerCase()=="true"&&($("#update-view").removeClass("pointer-events"),$("#update-view").css("opacity",1)));$("#unsaved-filter-parameter").html("");var s="",l="",a="",v="",h="",f="",i="";if(t!=""&&t!="undefined"&&t!=null&&t.masterData!=null&&t.masterData.length>0){if(i=t.masterData,i.length>0){for($("#unsaved-filter-parameter").show(),r=0;r<i.length;r++){if(u="",c="",h=i[r].Control,l=getWidgetTitle(h),a=l.title,v=l.type,f=i[r].Data,s+=r!=i.length-1?'<div class="cursor-default border-division"><div class="unsaved-opt"style="float: right;"><span class="opt"><span class="su su-close clear-filter cursor-pointer" data-toggle="tooltip" data-placement="left" data-original-title="'+window.Server.App.Localization.ClearFilter+'" widgetId ="'+h+'"widgetType ="'+v+'" style="float:right"><\/span><\/span><\/div><label class="cursor-default txt-overflow unsaved-filter-head">'+a+"<\/label>":'<div class="cursor-default border-division-last"><div class="unsaved-opt"style="float: right;"><span class="opt"><span class="su su-close clear-filter cursor-pointer" data-toggle="tooltip" data-placement="left" data-original-title="'+window.Server.App.Localization.ClearFilter+'" widgetId ="'+h+'"widgetType ="'+v+'" style="float:right"><\/span><\/span><\/div><label class="cursor-default txt-overflow unsaved-filter-head">'+a+"<\/label>",f.length)for(e=0;e<f.length;e++)u=u+f[e]+",",c=c+f[e]+"<br>";u=u.slice(0,-1);s+='<div id="sub-item"><label class="cursor-default txt-overflow unsavedfilter-font-content" rel="tooltip" data-placement="left" data-original-title="'+c+'">'+u+"<\/label><\/div>";s+='<br style="clear: both"><\/div>'}$("#unsaved-filter,#unsaved-filter-title").css("display","block");$("#unsaved-filter-parameter").append(s);refreshScroller();enableComment.toString().toLowerCase()=="true"?($("#new-save,#saved-filter-update,#saved-filter-Saveas,#save-filter,#filter_name").removeClass("pointer-events"),$("#new-save,#saved-filter-update,#saved-filter-Saveas,#save-filter,#filter_name").css("opacity",1)):($("#new-save,#saved-filter-update,#saved-filter-Saveas,#save-filter,#filter_name").addClass("pointer-events"),$("#new-save,#saved-filter-update,#saved-filter-Saveas,#save-filter,#filter_name").css("opacity",.5));$("#nofilters").css("display","none");$("[rel=tooltip]").tooltip({html:!0})}}else $("#new-save,#saved-filter-update,#saved-filter-Saveas,#save-filter,#filter_name").addClass("pointer-events"),$("#new-save,#saved-filter-update,#saved-filter-Saveas,#save-filter,#filter_name").css("opacity",.5),$("#nofilters").css("display","block"),$("#unsaved-filter,#unsaved-filter-title").css("display","none")}function onCloseMessageBox(){parent.$("#messageBox").ejDialog("close")}function onMessageDialogClose(){parent.$("#messageBox").find(".message-content").text("");$(".message-box-btn-holder").html("");$(".message-box-close").html("")}function messageBox(n,t,i,r,u,f,e,o,s,h){var a,l,c,v;if(parent.$("#messageBox").find(".message-content").text(""),t===window.Server.App.Localization.DeleteComment&&parent.$("#messageBox_wrapper").addClass("delete-comment"),parent.$(".message-box-btn-holder").html(""),parent.$(".message-box-close").html(""),parent.$("#messageBox").find(".message-header").html("<span class='su "+n+"'><\/span> <span class='modal-title' data-toggle='tooltip' data-placement='bottom' data-container='body' title='"+t+"'  >"+t+"<\/h2>"),parent.$("#messageBox").find(".message-content").html(i),r=="error")u!=undefined&&(l=$("<input type='button' class='critical-action-button pull-right' value='"+window.Server.App.Localization.YesButton+"'><\/input>"),l.bind("click",$.proxy(getFnObj(u),window))),f!=undefined?(a=$("<input type='button' class='secondary-button pull-right' value='"+window.Server.App.Localization.NoButton+"'><\/input>"),a.bind("click",$.proxy(getFnObj(f),window)),c=$('<span class="su su-close"><\/span>'),c.bind("click",$.proxy(getFnObj(f),window))):(a=$("<input type='button' class='secondary-button pull-right' value='"+window.Server.App.Localization.NoButton+"'><\/input>"),c=$('<span class="su su-close"><\/span>'),a.click(function(){onCloseMessageBox()}),c.click(function(){onCloseMessageBox()})),parent.$(".message-box-close").html(c),parent.$(".message-box-btn-holder").append(a,l),parent.$("#messageBox").unbind("keydown");else{u!=undefined?(l=$("<input type='button' class='secondary-button' value='"+window.Server.App.Localization.OKButton+"'><\/input>"),l.bind("click",$.proxy(getFnObj(u),window)),c=$('<span class="su su-close"><\/span>'),c.bind("click",$.proxy(getFnObj(u),window))):(l=$("<input type='button' class='secondary-button' value='"+window.Server.App.Localization.OKButton+"'><\/input>"),c=$('<span class="su su-close"><\/span>'),l.click(function(){onCloseMessageBox()}),c.click(function(){onCloseMessageBox()}));parent.$(".message-box-close").html(c);parent.$(".message-box-btn-holder").append(l);parent.$("#messageBox").on("keydown",function(n){switch(n.keyCode){case 13:case 27:l.click()}})}$('[data-toggle="tooltip"]').tooltip();parent.$("#messageBox").ejDialog("open");parent.$("#messageBox").focus();v=parent.$("#messageBox").data("ejDialog");setTimeout(function(){e!=undefined&&v.option("width",e);window.innerWidth>1040&&o==undefined&&(o=parent.$("#messageBox").find(".modal-content").height()+135+"px");v.option("height",o);s!=undefined&&v.option("maxHeight",s)},50);h!=null&&h!=undefined&&v.option("cssClass",h)}function OpenFilterPanel(){$("#dashboard").data("ejDashboardViewer").openFilterPanel();$("#dashboard").data("ejDashboardViewer").applyComments(commentSettings)}function setDashboardWidth(){var n,t,i,r;if(typeof isSlideshow!="undefined"&&isSlideshow){$("#dashboard").css("width",$(window).width()+"px");return}window.top==window.self?$("#dashboard").css("width",$(window).width()-40+"px"):(n=window.location!=window.parent.location?document.referrer:document.location.href.replace(document.location.pathname+document.location.search,""),t=n==""?"":n.match(/:\/\/(.[^/]+)/)[1],i=window.location.href,r=i.match(/:\/\/(.[^/]+)/)[1],r==t?parent.$(".su-sidebar-collapse").is(":visible")||$("#dashboard").css("width",$(window).width()-40):$("#dashboard").css("width",$(window).width()-40))}function SaveFilter(n){currentQueryString=n.data.encryptedData;var i=$("#dashboard").data("ejDashboardViewer"),r=$("#dashboard").data("ejDashboardViewer"),u=$("#dashboard").prevAll("#favorite_Item").attr("data-item-id"),f=$("#dashboard").prevAll("#isMultiDashboard").attr("data-item-id"),t=$("#dashboard").prevAll("#isMultiDashboard").attr("data-parent-id");n.viewID==""||n.viewID==null?($("#save-view-popup").ejDialog("open"),$("#save-view-popup_wrapper").ejWaitingPopup("show"),$("#save-view-popup-iframe").attr("src",saveViewPopup+"?itemId="+u+"&isMultidashboardId="+f+"&parentId="+t+"&userId="+userId+"&userName="+userName)):($("#dashboard").ejWaitingPopup("show"),$.ajax({type:"POST",url:updateViewUrl,data:{itemId:item_Id,QueryString:currentQueryString,itemViewId:n.viewID,UserId:userId,UserName:userName,IsMultiDashboard:isMultiDashboard,parentDashboardId:isMultiDashboard?t:null},beforeSend:function(n){n.setRequestHeader("ejAuthenticationToken",i._authenticationToken)},success:function(n){n.Result.Status==!0?(initialQueryStringParameter=JSON.stringify(updateInitialQueryStringParameter),r.model.filterParameters=currentQueryString,$("#dashboard").ejWaitingPopup("hide"),messageBox("su-filter",window.Server.App.Localization.UpdateView,window.Server.App.Localization.UpdateViewSuccess,"success",function(){onCloseMessageBox()})):($("#save-section").hide(),$("#dashboard").ejWaitingPopup("hide"),messageBox("su-filter",window.Server.App.Localization.UpdateView,window.Server.App.Localization.InternalServerError,"success",function(){onCloseMessageBox()}))},error:function(){$("#dashboard").ejWaitingPopup("hide");messageBox("su-filter",window.Server.App.Localization.UpdateView,window.Server.App.Localization.InternalServerError,"success",function(){onCloseMessageBox()})}}),GetSavedFilter(),refreshScroller())}function closeSaveViewPopup(){parent.$("#save-view-popup-iframe").contents().find("#save-view-form").html("");parent.$("#save-view-popup_wrapper").ejWaitingPopup("hide");parent.$("#save-view-popup").ejDialog("close")}function openViewSection(){$(".options li#views").trigger("click")}function fullscreenExitHandler(){document.webkitIsFullScreen||document.mozFullScreen||document.msFullscreenElement?($("body").addClass("hide-dashboard-icons"),$(".tv-mode-icon").removeClass("su-maximize-1").addClass("su-minimize").attr("data-tooltip",window.Server.App.Localization.ExitFullscreen)):($("body").removeClass("hide-dashboard-icons"),$(".tv-mode-icon").addClass("su-maximize-1").removeClass("su-minimize").attr("data-tooltip",window.Server.App.Localization.Fullscreen));var n=$("#dashboard").ejDashboardViewer();n.resize()}function PreloadResources(n,t){setTimeout(function(){for(var i,u=navigator.userAgent.indexOf("Safari")!=-1&&navigator.userAgent.indexOf("Chrome")==-1||navigator.userAgent.indexOf("Edge")!=-1,r=0;r<n.length;r++)i=document.createElement("link"),i.href=n[r],i.rel=u?"preload":"prefetch",i.as=t,document.head.appendChild(i)})}function closePinWidgetPopup(){parent.$("#pin-widget-popup").attr("data-widget-id",null);parent.window.IsDashboard=!1;parent.$("#pin-widget-popup-iframe").contents().find("#pin-widget-form").html("");parent.$("#pin-widget-popup_wrapper").BoldBIDashboardWaitingPopup("hide");parent.$("#pin-widget-popup").BoldBIDashboardDialog("close")}function closeDashboardHomepagePopup(){$("#dashboard-homepage-container #homepage-name").val("").next(".validation-errors").find(".error").remove();$("#dashboard-homepage-container #homepage-name").parent().removeClass("has-error");window.PinParentDashboard=!1;$("#dashboard-homepage-container #makedefault").prop("checked",!1);$("#dashboard-homepage-container #keepfilter").prop("checked",!0);$("#dashboard-homepage-container #filter-info").popover("hide");$("#dashboard-homepage-popup_wrapper").BoldBIDashboardWaitingPopup("hide");$("#dashboard-homepage-popup").BoldBIDashboardDialog("close")}function SuccessAlert(n,t,i){parent.$("#success-alert").css("display","table");parent.$("#message-header").html(n);parent.$("#message-content").html(t);setTimeout(function(){parent.$("#success-alert").fadeOut()},i)}function WarningAlert(n,t,i){parent.$("#warning-alert").css("display","table");parent.$("#warning-alert #message-header").html(n);parent.$(" #warning-alert #message-content").html(t);i!=null&&i!=""&&setTimeout(function(){parent.$("#warning-alert").fadeOut()},i);$(document).on("click",".close-div",function(){parent.$("#warning-alert").fadeOut()})}function onAlertDialogClose(){parent.$("#pin-widget-popup").BoldBIDashboardDialog("close")}function IsValidName(n){var t=new RegExp(/[*\[\\\]\|\/\:\<\>\%\+\#\&\?\'\"\;\,]/);return!t.test(n)}function intializeGetShareLink(){$("#get_item_link").length==0&&$.ajax({type:"Get",url:getLinkDialogViewUrl,success:function(n){$("body").append(n)}});ejs.popups.hideSpinner(document.getElementById("render_dashboard_get_item_link_dialog"))}function onDashboardGetLinkDialogOpen(){var c=$("#get_item_link"),u,r,o,t,e,h,i;document.getElementById("get_item_link").style.display="block";u='<span class="dialog-header-with-subtitle"><span class ="dialog-header-title">'+window.Server.App.Localization.GetLink+'<\/span><span class="item-name">'+dashboardViewerInstance.model.dashboardName+"<\/span><\/span>";isRenderDashboardGetLinkDialogBinded?(t=document.getElementById("render_dashboard_get_item_link_dialog").ej2_instances,t[0].header=u,t[0].show()):(r=document.createElement("div"),r.setAttribute("id","render_dashboard_get_item_link_dialog"),o=document.getElementById("dashboard"),o.appendChild(r),t=new ejs.popups.Dialog({showOnInit:!1,allowDraggable:!1,enableResize:!1,width:window.innerWidth>460?"450px":window.innerWidth-10,height:"auto",showHeader:!1,animationSettings:{effect:"Zoom"},isModal:!0,enableModal:!0,closeOnEscape:!0,showCloseIcon:!0,header:u,content:document.getElementById("get_item_link"),buttons:[{click:function(){t.hide()},buttonModel:{cssClass:"app-btn-secondary",content:window.Server.App.Localization.OKButton}},]}),t.appendTo(r),isRenderDashboardGetLinkDialogBinded=!0);ejs.popups.createSpinner({target:document.getElementById("render_dashboard_get_item_link_dialog")});ejs.popups.setSpinner({type:"Material"});ejs.popups.showSpinner(document.getElementById("render_dashboard_get_item_link_dialog"));intializeGetShareLink();c.focus();$(".get_link").show();var s=$("#item-link"),n=window.location.href.replace(window.location.search,""),f="?";isMultiDashboard.toLocaleLowerCase()==="true"&&(f+="tab="+$("#dashboard").data("ejDashboardViewer").getCurrentTab().tabName.trim()+"&");e=location.search.substring(1);e!=""&&(h=getQueryVariable(e),$.each(h,function(n,t){n!=="filterQuery"&&n!=="tab"&&n!=="viewid"&&n!=="isembed"&&n!=="dashboard_comments"&&n!=="widget_comments"&&n!=="views"&&n!=="export"&&(f+=n+"="+t+"&")}));n+=f;i=getcurrentfilters();i==null||i.isInitialFilter==null||i.isInitialFilter?n=n.slice(0,-1):n+=i.encryptedData;n=removeURLParameter(n,"externallogin");s.val(n);/Safari/.test(navigator.userAgent)&&/Apple Computer/.test(navigator.vendor)?($("#item-link-copy").removeClass("su su-copy").attr("data-original-title","").hide(),s.css({width:"100%",borderRadius:"4px"})):$("#item-link-copy").tooltip({animation:!1});document.getElementById("item-link").setSelectionRange(0,itemUrl.length)}function getQueryVariable(n){var u={},i,r,t,f;for(i=n.split("&"),t=0,f=i.length;t<f;t++)r=i[t].split("="),u[r[0]]=r[1];return u}function fnOnDashboardBegin(n){if(n.eventType==="getLinkDialogOpen"){var t=$("#get_item_link");$(".dashboard-link, .private-note").show();n.source.data.handled=!0;itemUrl=n.source.data.url;t.find(".report-name").html(n.model.reportName).attr("title",n.model.reportName);t.BoldBIDashboardDialog("open")}}function removeURLParameter(n,t){var u=n.split("?"),f,i,r;if(u.length>=2){for(f=encodeURIComponent(t)+"=",i=u[1].split(/[&;]/g),r=i.length;r-->0;)i[r].lastIndexOf(f,0)!==-1&&i.splice(r,1);return u[0]+(i.length>0?"?"+i.join("&"):"")}return n}var parentUrl,iframeRefUrl,iframeUrl,filtered_Values,dashboardviewerObj,deletedViewId,browser,itemUrl,isRenderDashboardGetLinkDialogBinded,dashboardViewerInstance;$(document).ready(function(){var t=$("#viewShare_popup").height(),n;$("#sharepopup_wrapper_WaitingPopup .loader-icon").css("top",parseInt(parseInt(t)/2)-30);$("#is_mobile").val()=="true"&&(n=$(window).height()-50,$("#dashboard").css("height",n),$(".server-dashboard-view").css("height",n))});$(window).on("orientationchange",function(){if($("#is_mobile").val()=="true"){var n=$(window).height()-50;$("#dashboard").css("height",n);$(".server-dashboard-view").css("height",n)}});$(window).on("orientationchange",function(){closeComment()});var containSaveFilter=!1,queryStringStatus=!0,clearStatus=!1,initialQueryString="",initialQueryStringParameter="",updateInitialQueryStringParameter="",saveFilterName="",list,currentQueryString="",parentRefUrl=window.location!=window.parent.location?document.referrer:document.location.href.replace(document.location.pathname+document.location.search,"");parentUrl=parentRefUrl==""?"":parentRefUrl.match(/:\/\/(.[^/]+)/)[1];iframeRefUrl=window.location.href;iframeUrl=iframeRefUrl.match(/:\/\/(.[^/]+)/)[1];$(document).ready(function(){var r=createLoader("dashboard"),n,t,i;if($("#dashboard").ejWaitingPopup({template:$("#"+r)}),n=createLoader("dashboard-view-toogle"),$("#dashboard-view-toogle").ejWaitingPopup({template:$("#"+n)}),$("#delete-div").ejDialog({width:window.innerWidth>460?"450px":window.innerWidth-10,showOnInit:!1,allowDraggable:!1,enableResize:!1,height:"auto",title:window.Server.App.Localization.DeleteView,showHeader:!1,enableModal:!0,closeOnEscape:!0,close:"onDeleteItemDialogClose",open:"onDeleteItemDialogOpen"}),t=createLoader("delete-div_wrapper"),$("#delete-div_wrapper").ejWaitingPopup({template:$("#"+t)}),$("#save-view-popup").ejDialog({width:"600px",height:"209px",showOnInit:!1,allowDraggable:!0,enableResize:!1,title:window.Server.App.Localization.SaveView,enableModal:!0,showHeader:!1}),i=createLoader("save-view-popup_wrapper"),$("#save-view-popup_wrapper").ejWaitingPopup({template:$("#"+i)}),$("#dashboard-view-toogle").mouseover(function(){var n=document.getElementById("dashboard-views");n==null||n.style.display=="block"||n.style.display==""?($("#dashboard-view-toogle").addClass("cursor-default"),$("#dashboard-view-toogle").removeClass("cursor-pointer")):($("#dashboard-view-toogle").addClass("cursor-pointer"),$("#dashboard-view-toogle").removeClass("cursor-default"))}),$("#filter_name").keypress(function(n){$("#filter-name-input").removeClass("has-error");n.which==13&&$("#save-filter").click()}),$('[data-toggle="tooltip"]').tooltip(),$.validator.addMethod("isValidName",function(n){return IsValidName("name",n)},window.Server.App.Localization.AvoidSpecialCharacters),$.validator.addMethod("isRequired",function(n){return!isEmptyOrWhitespace(n)},window.Server.App.Localization.ViewNameValidator),$("#save-view-form").validate({errorElement:"span",onkeyup:function(n,t){t.keyCode!=9&&$(n).valid()},onfocusout:function(n){$(n).valid()},rules:{viewnewname:{isRequired:!0,isValidName:!0}},messages:{viewnewname:{isRequired:window.Server.App.Localization.ViewNameValidator}},highlight:function(n){$(n).addClass("has-error")},unhighlight:function(n){$(n).removeClass("has-error");$(n).closest("div").find("span").html("")},errorPlacement:function(n,t){$(t).closest("div").find("span").html(n.html())}}),typeof isSlideshow!="undefined"&&isSlideshow)$("#dashboard").swipeDetector().on("swipeLeft.sd swipeRight.sd swipeUp.sd swipeDown.sd",function(n){var t=new CustomEvent("onSwipeDetected",{detail:n});window.parent.document.dispatchEvent(t)});document.addEventListener&&(document.addEventListener("webkitfullscreenchange",fullscreenExitHandler,!1),document.addEventListener("mozfullscreenchange",fullscreenExitHandler,!1),document.addEventListener("fullscreenchange",fullscreenExitHandler,!1),document.addEventListener("MSFullscreenChange",fullscreenExitHandler,!1))});$(document).on("click","#close-container,#close-filter,#close-comment",function(n){var i,t,r;$("#is_mobile").val()!="true"&&(i=document.getElementById("dashboard-views"),i!=null&&(i.style.display=="block"||i.style.display=="")&&n.target.className.toLowerCase()!="su-view"&&n.target.className.toLowerCase()!="options"&&n.target.id.toLowerCase()!="views"?(t=$(n.target),(t.parents().andSelf().is("#dashboard-view-toogle")||t.parents().andSelf().is("#PopupContainerDelete")||t.parents().andSelf().is("#messageBox"))&&!t.parents().andSelf().is("#close-container")||CloseDashboardView()):n.target.id=="dashboard-view-toogle"&&(containSaveFilter&&$("#saved-filter").show(),$("#dashboard").toggleClass("dashboard"),$(".view-heading").toggle(),$("#dashboard-views").toggle(),$("#dashboard-view-toogle").addClass("cursor-default"),$("#dashboard-view-toogle").removeClass("cursor-pointer"),$("#dashboard-view-toogle").toggleClass("dashboard-view-toogle"),refreshScroller()),$("#commentModuleContainer").hasClass("displayNone")||n.target.id.toLowerCase()=="comments"||n.target.classList.contains("su-with-comment")||n.target.classList.contains("su-without-comment")||n.target.className.toLowerCase()=="options"?($("#dashboard").data("ejDashboardViewer").getFilterPanelState()!="opened"&&$("#dashboard").data("ejDashboardViewer").getFilterPanelState()==null&&$("#validation-message").text()==""||n.target.id.toLowerCase()=="filters"||n.target.classList.contains("su-filter")||n.target.className.toLowerCase()=="options"||n.target.offsetParent.id.startsWith("filter-view"))&&n.target.className.toLowerCase()!="su su-close"||($("#dashboard").data("ejDashboardViewer").closeFilterPanel(),$(".options li").removeClass("active"),$(".options").css("right","0px"),$("#filter-view p#validation-message").remove(),$("#close-filter a").css("display","none"),$("#filter-view").hide(),setDashboardWidth(),r=$("#dashboard").data("ejDashboardViewer"),r.resizeDashboard()):($(".options li").removeClass("active"),$(".options").css("right","0px"),enableComment=="true"?closeDashboardComment():($("#dashboard").data("ejDashboardViewer").closeFilterPanel(),$(".options li").removeClass("active"),$(".options").css("right","0px"),$("#filter-view p#validation-message").remove(),$("#close-filter a").css("display","none"),$("#filter-view").hide()),setDashboardWidth(),r=$("#dashboard").data("ejDashboardViewer"),r.resizeDashboard()),$('[data-toggle="tooltip"]').tooltip())});$(document).on("mouseenter",".border-division,.border-division-last",function(){$(this).children(".unsaved-opt").css("display","block")}).on("mouseleave",".border-division,.border-division-last",function(){$(this).children(".unsaved-opt").css("display","none")});filtered_Values="";dashboardviewerObj=null;$(document).on("click","#clear",function(){dashboardviewerObj=$("#dashboard").data("ejDashboardViewer");dashboardviewerObj.refresh()});$(document).on("click","#save-button",function(){name=$("#user-name").attr("value");id=$("#user-id").attr("value");saveFilterName=$("#view-name").val();AddView()});$(document).on("click",".view",function(){var n=$(this).attr("viewid");window.open(window.location.pathname+"?viewid="+n,"_blank")});$(document).on("click",".share",function(){var n=$(this).attr("viewid");$("#dashboard-view-toogle").css("z-index","999");$.ajax({type:"POST",url:itemViewShareIframeUrl,data:{itemViewId:n,itemId:item_Id},success:function(n){n.itemViewDetail!=null&&n.itemDetail!=null&&shareDashboardPermission(n.itemViewDetail,n.itemDetail)}})});$(document).on("click","#update-view",function(){var n;$("#update-view").show();n=document.getElementById("dashboard-views");(n.style.display=="block"||n.style.display=="")&&$("#dashboard-view-toogle").ejWaitingPopup("show");var r=$("#dashboard").data("ejDashboardViewer"),t=getcurrentfilters().encryptedData,i=$("#dashboard").data("ejDashboardViewer");$.ajax({type:"POST",url:updateViewUrl,data:{itemId:item_Id,QueryString:t,itemViewId:$(this).attr("viewid"),UserId:userId,UserName:userName,IsMultiDashboard:isMultiDashboard,parentDashboardId:parentDashboardId},beforeSend:function(n){n.setRequestHeader("ejAuthenticationToken",r._authenticationToken)},success:function(n){n.Result.Status==!0?(queryStringStatus=!0,queryStringStatus&&(queryStringStatus=!1,initialQueryStringParameter=JSON.stringify(updateInitialQueryStringParameter),i.model.filterParameters=t,i.redrawDashboard()),$("#update-view").addClass("pointer-events"),$("#update-view").css("opacity",.5),messageBox("su-filter",window.Server.App.Localization.UpdateView,window.Server.App.Localization.UpdateViewSuccess,"success",function(){onCloseMessageBox()})):($("#save-section").hide(),messageBox("su-filter",window.Server.App.Localization.UpdateView,window.Server.App.Localization.InternalServerError,"success",function(){onCloseMessageBox()}))},error:function(){messageBox("su-filter",window.Server.App.Localization.UpdateView,window.Server.App.Localization.InternalServerError,"success",function(){onCloseMessageBox()});$("#dashboard-view-toogle").ejWaitingPopup("show")}});GetSavedFilter();refreshScroller()});$(document).on("click","#save-as-view",function(){$("#view-name").hide();$("#filter_name").val("");$("#save-lable-section").hide();$("#save-section").show()});$(document).on("click",".clear",function(){$("#dashboard-view-toogle").ejWaitingPopup("show");$("#filter_name").val("");clearAllFilters();$("#view-name").show();$("#save-section").hide();$("#unsaved-filter,#unsaved-filter-title").show();$("#save-lable-section").show()});$(document).on("click","#clear-txt",function(){$("#filter_name").val("");$("#save-lable-section").show();$("#save-section").hide()});$(document).on("click",".clear-filter",function(n){var i=n.target.attributes.widgetid.value,r=n.target.attributes.widgettype.value,t;clearWidgetFilter(i,r);t=getcurrentfilters();(t==""||t=="undefined"||t==null||t.masterData==null)&&($("#filter_name").val(""),$("#save-lable-section").show(),$("#save-section").hide())});deletedViewId="";$(document).on("click",".delete",function(){onDeleteItemDialogOpen();var n=$(this).attr("viewid"),t=$(this).attr("viewname");$("#delete_item").attr("viewid",n);$("#delete_item_name").html(t);$("#delete-content").show();$("#deleteview-validationArea").show();$("#delete-confirmation").hide();$("#delete-error").hide();$(".successArea").hide()});$(document).on("click","#delete_item",function(){var t=document.getElementById("dashboard-views"),n;(t.style.display=="block"||t.style.display=="")&&$("#delete-div_wrapper").ejWaitingPopup("show");deletedViewId=$("#update-view").attr("viewid");n=$(this).attr("viewid");$.ajax({type:"POST",url:deleteViewUrl,data:{ItemViewName:$("#filter_name").val(),itemId:item_Id,itemViewId:$(this).attr("viewid"),UserId:userId,UserName:userName,IsMultiDashboard:isMultiDashboard,parentDashboardId:isMultiDashboard?parentDashboardId:null},success:function(t){t.Result.Status==!0?($("#delete-content").hide(),$("#delete-confirmation").show(),$("#delete-confirmation .deleteItem").show(),$(".successArea").show(),$("#deleteview-validationArea").hide(),n==deletedViewId&&(window.location.href=window.location.href.replace(window.location.search,"")),GetSavedFilter(),n==$("#dashboard").data("ejDashboardViewer").model.filterOverviewSettings.viewId&&($("#dashboard").data("ejDashboardViewer").updateFilterOverview(window.Server.App.Localization.UnsavedView,""),$("#dashboard").data("ejDashboardViewer").model.filterOverviewSettings.viewName=null,$("#dashboard").data("ejDashboardViewer").model.filterOverviewSettings.viewId=null)):("#delete-content".hide(),$("#delete-confirmation").hide(),$("#delete-error").show(),$(".successArea").show());$("#delete-div_wrapper").ejWaitingPopup("hide")},error:function(){messageBox("su-delete",window.Server.App.Localization.DeleteView,window.Server.App.Localization.InternalServerError,"success",function(){onCloseMessageBox()});$("#delete-div_wrapper").ejWaitingPopup("hide")}})});$(document).on("click","#save-view",function(){$("#save-section").show();$("#save-lable-section").hide();$("#filter_name").val("");$("#filter_name").focus()});$(document).on("click",".View-link-copy",function(n){var u=BoldBIDashboard.browserInfo(),i,t,r;$(n.target).parents().closest("li").length&&(i=$(n.target).parents().closest("li"),i.find(".view-link").length&&(t=document.createElement("textarea"),t.id="copyTextArea",t.innerText=window.location.href.replace(window.location.search,"")+"?viewid="+i.attr("viewid"),document.querySelector("body").appendChild(t),r=document.getElementById("copyTextArea"),r.select(),/Safari/.test(navigator.userAgent)&&/Apple Computer/.test(navigator.vendor)?($(this).removeClass("su su-link"),$(this).attr("data-original-title","")):(document.execCommand("copy"),$(this).attr("data-original-title",window.Server.App.Localization.Copysuccess).tooltip("show"),setTimeout(function(){$(".View-link-copy").attr("data-original-title",window.Server.App.Localization.LinkCopy);$(".View-link-copy").tooltip()},3e3)),document.querySelector("body").removeChild(t)))});$(document).on("click",".options li",function(){var n,i,r,t,u;if($(this).attr("id")==undefined)return!1;n=$(this).attr("id").trim();$(".options li").removeClass("active");$(".options").css("right","0px");$("#dashboard-view-toogle").hasClass("dashboard-view-toogle")&&n.toLowerCase()!="views"?CloseDashboardView():($("#dashboard").data("ejDashboardViewer").getFilterPanelState()=="opened"||$("#validation-message").text()!="")&&n.toLowerCase()!="filters"?($("#dashboard").data("ejDashboardViewer").closeFilterPanel(),$("#close-filter a").css("display","none"),$("#filter-view p#validation-message").remove(),$("#filter-view").hide()):$("#commentModuleContainer").length==0||$("#commentModuleContainer").hasClass("displayNone")||n.toLowerCase()=="comments"||closeDashboardComment();switch(n.toLowerCase()){case"filters":$("#close-filter .PopupClose").css("display").toLowerCase()==="none"?($(".options li#"+n).addClass("active"),$("#filter-view span.view-heading").length==0?$("#filter-view").append("<span class='view-heading'>"+window.Server.App.Localization.Filters+"<\/span>"):"",$("#filter-view").show(),$("#dashboard").data("ejDashboardViewer").hasFilterPanel==!0?($("#filter-view").css("width","410px"),OpenFilterPanel(),$("#dashboard").data("ejDashboardViewer").getFilterPanelState()=="opened"?$("#close-filter a").css("display","block"):$("#close-filter a").css("display","none")):($("#filter-view p#validation-message").length==0?$("#filter-view").append("<p id='validation-message'>"+window.Server.App.Localization.NoFilters+"<\/p>"):"",$("#close-filter a").css("display","block"),$("#filter-view").css("width","410px")),refreshScroller()):$("#close-filter .PopupClose").trigger("click");break;case"comments":$(".options li#"+n).addClass("active");i=$("#commentModuleContainer iframe").attr("src");(i===undefined||i==="")&&$("#commentModuleContainer iframe").attr("src",commentPageUrl+"?itemId="+$("#commentModuleContainer_iframe").attr("data-item-id")+"&userId="+userId);$("#commentModuleContainer").hasClass("displayNone")?openDashboardComment(null):closeDashboardComment();break;case"views":$(".options li#"+n).addClass("active");$("#dashboard-view-toogle").hasClass("dashboard-view-toogle")?$("#close-container").trigger("click"):($('body [data-toggle="tooltip"]').tooltip("hide"),$("#dashboard-view-toogle").toggleClass("dashboard-view-toogle"),$("#dashboard-view-toogle").ejWaitingPopup("show"),GetSavedFilter(),$("#dashboard").toggleClass("dashboard"),$(".view-heading").toggle(),$("#dashboard-views").toggle(),$("#dashboard-view-toogle").hasClass("dashboard-view-toogle")?$("#dashboard-view-toogle #close-container a").css("display","block"):$("#dashboard-view-toogle #close-container a").css("display","none"),refreshScroller(),$("#dashboard-view-toogle").find("#saved-list").length==0?$("#dashboard-view-toogle").find("#no-filters").css("display","block"):$("#dashboard-view-toogle").find("#no-filters").css("display","none"),$("#dashboard-view-toogle").ejWaitingPopup("hide"))}r=$("#dashboard").data("ejDashboardViewer").getFilterPanelState();$("#dashboard-view-toogle").hasClass("dashboard-view-toogle")||r=="opened"||$("#validation-message").text()!=""||!$("#commentModuleContainer").hasClass("displayNone")?($(".options").css("right","410px"),$("#dashboard").css("width",$(window).width()-450),t=$("#dashboard").data("ejDashboardViewer"),t.resizeDashboard()):($(".options").css("right","0px"),$("#dashboard").css("width",$(window).width()-40),$(".options li").removeClass("active"),t=$("#dashboard").data("ejDashboardViewer"),t.resizeDashboard());window.top!=window.self&&iframeUrl===parentUrl&&(!parent.$(".su-sidebar-collapse").is(":visible")||parent.$(".su-sidebar-collapse").is(":visible"))&&(parent.$("#item-viewer").css({width:"100%"}),parent.$(".item-list-panel, .su-sidebar-collapse").css({display:"none"}),parent.$(".su-sidebar-expand").css({display:"block"}),parent.$("#item-viewer").css({height:$(window).height()-$("#header-area").outerHeight()-$("#base-footer-div").outerHeight(),width:$(window).width()-parent.$("#main-nav").width()-parent.$(".su-sidebar-expand.category-collapse").width(),top:$("#header-area").height()}),u=parent.$("#dashboard_render_iframe").width(),parent.$("#dashboard_render_iframe").contents().find("#dashboard").css("width",u-450))});$(document).on("click",".saved-view",function(n){var t,i;(n.target.className=="saved-view"||n.target.className=="saved-opt"||n.target.className=="saved-filter txt-overflow")&&(t=$(this),$(t).find(".applied-filters").length==0&&(i=$(this).attr("viewid").trim(),$(".saved-list-content-div").find(".applied-filters").length>0&&$(".applied-filters").remove(),$(".saved-view").removeClass("opened-view-section"),$(".saved-list-content-div").find(".saved-view").css("background-color","initial"),$(".saved-list-content-div").find(".saved-view").css("border-top","0"),$(t).append($("<span class='col-sm-4 no-padding loader-gif' style='display:inline; background-image:url("+dashboardServerResourceUrl+"/cdn/images/waitingpopup.gif); background-size:cover; position:absolute; height:25px; width:25px;'><\/span>")),$.ajax({url:getViewParameterUrl,data:{itemId:item_Id,UserId:userId,UserName:userName,IsMultiDashboard:isMultiDashboard,ViewId:i,parentDashboardId:parentDashboardId},type:"POST",success:function(n){var e=n.viewDetails,f=$("#dashboard").data("ejDashboardViewer"),i,r,u;if(f&&(i=f._parseParameterQuery(e.QueryString),i!=null&&i.length>0))for(r=0;r<i.length;r++){for(list="<div class='applied-filters'><label class='list-items'>"+i[r].ControlTitle.title+"<\/label><br />",u=0;u<i[r].Data.length;u++)list+="<label class='list-items'>"+i[r].Data[u]+"<\/label><br />";list+="<\/div>";t.find(".applied-filters").length==0?t.append(list):$(".applied-filters").last().after(list)}$(t).addClass("opened-view-section");$("span.loader-gif").remove()}})))});$(document).on("keydown","#view-name",function(n){n.keyCode==13&&(n.preventDefault(),$("#save-button").trigger("click"))});$(document).on("click",".tv-mode-icon",function(){if(document.fullscreenElement||document.mozFullScreenElement||document.webkitFullscreenElement||document.msFullscreenElement)document.exitFullscreen?document.exitFullscreen():document.msExitFullscreen?document.msExitFullscreen():document.mozCancelFullScreen?document.mozCancelFullScreen():document.webkitExitFullscreen&&document.webkitExitFullscreen();else if(document.documentElement.requestFullscreen)document.documentElement.requestFullscreen();else if(document.documentElement.msRequestFullscreen)document.documentElement.msRequestFullscreen();else if(document.documentElement.mozRequestFullScreen)document.documentElement.mozRequestFullScreen();else if(document.documentElement.webkitRequestFullscreen)document.documentElement.webkitRequestFullscreen(Element.ALLOW_KEYBOARD_INPUT);else if("ActiveXObject"in window){var n=new ActiveXObject("Wscript.shell");n.SendKeys("{F11}");setTimeout(function(){(screen.availHeight||screen.height-30)<=window.innerHeight?($("body").addClass("hide-dashboard-icons"),$(".tv-mode-icon").removeClass("su-maximize-1").addClass("su-minimize").attr("data-tooltip",window.Server.App.Localization.ExitFullscreen)):($("body").removeClass("hide-dashboard-icons"),$(".tv-mode-icon").addClass("su-maximize-1").removeClass("su-minimize").attr("data-tooltip",window.Server.App.Localization.Fullscreen))},400)}});(function(n){n.fn.swipeDetector=function(t){function h(n){(!t.useOnlyTouch||n.originalEvent.touches)&&(n.originalEvent.touches&&(n=n.originalEvent.touches[0]),i===0&&(i=1,e=n.clientX,o=n.clientY))}function c(){i===2&&(i=0,Math.abs(u)>Math.abs(f)&&Math.abs(u)>t.swipeThreshold?u<0?r.trigger(n.Event("swipeLeft.sd")):r.trigger(n.Event("swipeRight.sd")):Math.abs(f)>t.swipeThreshold&&(f<0?r.trigger(n.Event("swipeUp.sd")):r.trigger(n.Event("swipeDown.sd"))))}function l(n){if(i===1){n.originalEvent.touches&&(n=n.originalEvent.touches[0]);var r=n.clientX-e,s=n.clientY-o;(Math.abs(r)>t.swipeThreshold||Math.abs(s)>t.swipeThreshold)&&(i=2,u=r,f=s)}}var i=0,e=0,o=0,u=0,f=0,r=this,s={swipeThreshold:70,useOnlyTouch:!1};return function(){t=n.extend(s,t);r.on("mousedown touchstart",h);n("html").on("mouseup touchend",c);n("html").on("mousemove touchmove",l)}(),r}})(jQuery);$(document).ready(function(){$('[data-toggle="tooltip"]').tooltip();$("input[type=radio][name=pin-widget-option]").change(function(){var n,t;if(this.value=="pin-exist")for($("#input-content").addClass("hidden"),$("#select-content").removeClass("hidden").find("span.validation-errors").html(""),$("#select-homepage").prop("disabled",!1).val("").selectpicker("refresh"),n=0;n<$(".dropdown-menu .selectpicker li").length;n++)t=$(".dropdown-menu .selectpicker li").eq(n).find("a .text").text(),$(".dropdown-menu .selectpicker li ").eq(n).find("a").attr("title",t);else this.value=="pin-new"&&($("#select-content").addClass("hidden"),$("#input-content").removeClass("hidden"),$("#new-homepage-name").focus().val("").next("span.validation-errors").html("").parent().removeClass("has-error"))});$(document).on("click","#save-button",function(){var r,u;parent.$("#pin-widget-popup_wrapper").BoldBIDashboardWaitingPopup("show");var n=parent.$("#pin-widget-popup").attr("data-item-id"),i=parent.$("#pin-widget-popup").attr("data-tab-id"),t=parent.$("#pin-widget-popup").attr("data-widget-id"),e=parent.$("#pin-widget-popup").attr("data-widget-type"),l=$("#keepfilter").prop("checked"),o=l?parent.$("#dashboard").data("ejDashboardViewer").getCurrentFilters()!=null?parent.$("#dashboard").data("ejDashboardViewer").getCurrentFilters().encryptedData:null:null,a=$("#select-homepage option:selected").data("item"),f=$("#select-homepage option:selected").data("virtual-homepage"),s=$("#widget-name").val().trim(),h=$("#pin-widget-form").valid(),c=window.screen.availWidth>=1366?!1:!0;$("input[name=pin-widget-option]:checked").val()=="pin-exist"?h?$("#select-homepage").val()!=""||f?(r=$("#select-homepage").val(),(r!=""&&n!=""&&t!=""||f)&&(a=="Dashboard"?($("#select-content").find("span.validation-errors").html(window.Server.App.Localization.IsPinnedDashboardValidation),parent.$("#pin-widget-popup_wrapper").BoldBIDashboardWaitingPopup("hide")):(f&&$.ajax({type:"POST",url:addHomepageUrl,async:!1,data:{homepageName:"Pinboard1",checkedStatus:!0,isDashboardHomepage:!1,isTwoColumn:c},success:function(n){n.Success&&(r=n.Value)}}),$.ajax({type:"POST",url:pinWidgetUrl,data:{homepageId:r,widgetId:t!=undefined?t:null,dashboardId:n!=undefined?n:null,tabId:i!=null?i:null,widgetName:s,widgetType:e,queryString:o},success:function(n){n.Success?parent.successToast(parent.window.IsDashboard?window.Server.App.Localization.PinDashboardSuccess:window.Server.App.Localization.PinWidgetsuccess,7e3):n.Success||n.Value!="Pinned Widgets Limit Exceeded"?parent.warningToast(parent.window.IsDashboard?window.Server.App.Localization.PinErrorDashboard:window.Server.App.Localization.PinErrorWidget):parent.warningToast(window.Server.App.Localization.WidgetLimitExceed);closePinWidgetPopup()}})))):($("#select-content").find("span.validation-errors").html(window.Server.App.Localization.SelectHomepageValidator),parent.$("#pin-widget-popup_wrapper").BoldBIDashboardWaitingPopup("hide")):parent.$("#pin-widget-popup_wrapper").BoldBIDashboardWaitingPopup("hide"):$("input[name=pin-widget-option]:checked").val()=="pin-new"?h?(u=$("#new-homepage-name").val().trim(),u!=""&&$.ajax({type:"POST",url:checkHomepageNameExistUrl,data:{homepageName:u},success:function(r){r?($("#new-homepage-name").next("span.validation-errors").html(window.Server.App.Localization.IsHomepageExist).parent().addClass("has-error"),parent.$("#pin-widget-popup_wrapper").BoldBIDashboardWaitingPopup("hide")):$.ajax({type:"POST",url:addHomepageUrl,data:{homepageName:u,checkedStatus:!1,isDashboardHomepage:!1,isTwoColumn:c},success:function(r){if(r.Success){var u=r.Value;$.ajax({type:"POST",url:pinWidgetUrl,data:{homepageId:u,widgetId:t!=undefined?t:null,dashboardId:n!=undefined?n:null,tabId:i!=null?i:null,widgetName:s,widgetType:e,queryString:o},success:function(n){n.Success?parent.successToast(parent.window.IsDashboard?window.Server.App.Localization.PinDashboardSuccess:window.Server.App.Localization.PinWidgetsuccess,7e3):parent.warningToast(parent.window.IsDashboard?window.Server.App.Localization.HomepageDashboardPinningError:window.Server.App.Localization.HomepageWidgetPinningError)}})}else parent.warningToast(window.Server.App.Localization.AddnewHomepageError);closePinWidgetPopup()}})}})):parent.$("#pin-widget-popup_wrapper").BoldBIDashboardWaitingPopup("hide"):($("#select-content").find("span.validation-errors").html(window.Server.App.Localization.PinWidgetMessage),parent.$("#pin-widget-popup_wrapper").BoldBIDashboardWaitingPopup("hide"))});$(document).on("click","#dashboard-homepage-save-button",function(){var f=$("#dashboard-homepage-form").valid();if(f){var t=$("#homepage-name").val().trim(),i=$("#dashboard-homepage-popup").attr("data-item-id"),n=$("#dashboard").data("ejDashboardViewer"),r=isMultiDashboard.toLowerCase()=="true"?!0:!1,u=window.PinParentDashboard?null:r?n._getCurrentDashboardGuid():null,e=$("#makedefault").prop("checked"),o=r&&u==null?!0:!1,s=$("#keepfilter").prop("checked"),h=s?o?n.getCurrentDashboardFilters()!=null?n.getCurrentDashboardFilters().encryptedData:null:n.getCurrentFilters()!=null?n.getCurrentFilters().encryptedData:null:null,c=window.screen.availWidth>=1366?!1:!0;t!=""&&$.ajax({type:"POST",url:checkHomepageNameExistUrl,data:{homepageName:t},success:function(n){n?($("#homepage-name").next("span.validation-errors").html(window.Server.App.Localization.IsHomepageExist).parent().addClass("has-error"),$("#dashboard-homepage-popup_wrapper").BoldBIDashboardWaitingPopup("hide")):$.ajax({type:"POST",url:addHomepageUrl,data:{homepageName:t,checkedStatus:e,isDashboardHomepage:!0,isTwoColumn:c},success:function(n){if(n.Success){var t=n.Value;$.ajax({type:"POST",url:pinDashboardUrl,data:{homepageId:t,widgetId:null,dashboardId:i!=undefined?i:null,tabId:u,widgetName:null,queryString:h},success:function(n){n.Success?SuccessAlert("",window.Server.App.Localization.PinDashboardSuccess,7e3):WarningAlert("",window.Server.App.Localization.PinDashboardError,7e3)}})}else WarningAlert(window.Server.App.Localization.AddnewHomepageError,"",7e3);closeDashboardHomepagePopup()}})}})}else $("#dashboard-homepage-popup_wrapper").BoldBIDashboardWaitingPopup("hide")});$.validator.addMethod("isValidName",function(n){return IsValidName(n)},window.Server.App.Localization.AvoidSpecialCharacters);$.validator.addMethod("isRequired",function(n){return $.trim(n)==""?!1:!0},window.Server.App.Localization.HomepageValidator);$("#pin-widget-form").validate({errorElement:"span",onkeyup:function(n,t){t.keyCode!==9&&t.keyCode!==13?$(n).valid():!0},onfocusout:function(n){$(n).valid()},rules:{newhomepagename:{isRequired:!0,isValidName:!0},widgetname:{isRequired:!0,isValidName:!0}},highlight:function(n){$(n).closest("div").addClass("has-error")},unhighlight:function(n){$(n).closest("div").removeClass("has-error");$(n).next("span.validation-errors").html("")},errorPlacement:function(n,t){$(t).next("span.validation-errors").html(n)},messages:{newhomepagename:{isRequired:window.Server.App.Localization.HomepageValidator},widgetname:{isRequired:window.Server.App.Localization.WidgetValidator}}});$("#dashboard-homepage-form").validate({errorElement:"span",onkeyup:function(n,t){t.keyCode!==9&&t.keyCode!==13?$(n).valid():!0},onfocusout:function(n){$(n).valid()},rules:{dashboardhomepagename:{isRequired:!0}},highlight:function(n){$(n).closest("div").addClass("has-error")},unhighlight:function(n){$(n).closest("div").removeClass("has-error");$(n).next("span.validation-errors").html("")},errorPlacement:function(n,t){$(t).next("span.validation-errors").html(n)},messages:{dashboardhomepagename:{isRequired:window.Server.App.Localization.HomepageValidator}}});$(document).on("change","#select-homepage",function(){$("#select-content").find("span.validation-errors").html("")});$("#new-homepage-name").bind("keypress",function(n){n.keyCode==13&&$("#save-button").click()});$(document).keyup(function(n){n.keyCode==27&&(n.target.id=="dashboard-homepage-popup"||n.target.id=="homepage-name"?closeDashboardHomepagePopup():closePinWidgetPopup())});$(document).on("click","#dashboard-homepage-popup, #pin-widget-form",function(n){n.target.id!="filter-info"&&n.target.className!="popover-content"&&$("#filter-info").popover("hide")});$(document).on("click","#pin-parent-dashboard",function(){$("#dashboard-homepage-popup").BoldBIDashboardDialog("open");$("#dashboard-homepage-popup_wrapper").BoldBIDashboardWaitingPopup("show");$("#dashboard-homepage-container #homepage-name").val(ReportName);window.PinParentDashboard=!0;$("#dashboard-homepage-container #filter-info").popover();$("#dashboard-homepage-popup_wrapper").BoldBIDashboardWaitingPopup("hide")});$("#new-homepage-name").parent().hasClass("hidden")||$("#new-homepage-name").focus()});browser=BoldBIDashboard.browserInfo();isRenderDashboardGetLinkDialogBinded=!1;dashboardViewerInstance=getDashboardInstance();$(document).on("click","#item-link-copy",function(){$("#item-link").select();var n=$("#item-link-copy");/Safari/.test(navigator.userAgent)&&/Apple Computer/.test(navigator.vendor)?n.removeClass("su su-copy").attr("data-original-title",""):(document.execCommand("copy"),n.tooltip("hide").attr("data-original-title",window.Server.App.Localization.Copysuccess).tooltip("fixTitle").tooltip("show"),setTimeout(function(){n.attr("data-original-title",window.Server.App.Localization.LinkCopy);n.tooltip()},3e3))})