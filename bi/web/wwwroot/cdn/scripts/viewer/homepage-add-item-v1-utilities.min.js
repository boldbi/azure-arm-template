let isFirefox=-1!=navigator.userAgent.indexOf("Firefox");var WarningToastDialogObj="",sessionData=!1,isSession=!1,keyCode={BackSpace:8,Tab:9,Enter:13,Shift:16,Ctrl:17,Alt:18,Pause:19,CapsLock:20,Esc:27,PageUp:33,PageDown:34,End:35,Home:36,LeftArrow:37,UpArrow:38,RightArrow:39,DownArrow:40,Insert:45,LeftWindow:91,RightWindow:92,SemiColon:isFirefox?59:186,Comma:188},ItemType={None:0,Category:1,Dashboard:2,Report:3,Datasource:4,Dataset:5,File:6,Schedule:7,Widget:8,ItemView:9,Slideshow:10,Settings:11,UserManagement:12},PermissionAccess={None:0,Create:1,Read:2,ReadWrite:6,ReadWriteDelete:14},excludedSearchKeys=[keyCode.Tab,keyCode.Shift,keyCode.Ctrl,keyCode.Alt,keyCode.Pause,keyCode.CapsLock,keyCode.PageUp,keyCode.PageDown,keyCode.End,keyCode.Home,keyCode.LeftArrow,keyCode.UpArrow,keyCode.RightArrow,keyCode.DownArrow,keyCode.Insert,keyCode.LeftWindow,keyCode.RightWindow],SettingsScopes={All:0,SiteSettings:1,DashboardSettings:2,EmbedSettings:3,DataStoreSettings:4,Connector:5,Email:6,Accounts:7,UserDirectorySettings:8,AuthenticationSettings:9,NotificationSettings:10,ManageLicense:11,SupportSettings:12,Subscription:13,Payments:14,Widgets:15,Security:16,Integrations:17,CORSPolicySettings:18},PermissionEntities={None:0,AllReports:1,ReportsInCategory:2,SpecificReports:3,AllCategories:4,SpecificCategory:5,AllDataSources:6,SpecificDataSource:7,AllFiles:8,SpecificFile:9,AllSchedules:10,SpecificSchedule:11,AllDashboards:12,DashboardsInCategory:13,SpecificDashboard:14,AllWidgets:15,SpecificWidget:16,AllDatasets:17,SpecificDataset:18,SpecificItemView:19,AllItemViews:20,SpecificSlideshow:21,AllSlideshow:22,SpecificSettings:23,AllSettings:24,SpecificGroup:25,UsersandGroups:26,SpecificPermissions:27,AllPermissions:28,AllGroups:29,AllUsers:30},DownloadandUploadJobStatus={YetToStart:0,Started:1,InProgress:2,Success:3,Failed:4},SecurityType={DashboardSecurity:1,TabSecurity:2};function SuccessAlert(e,t,a){var o=window.parent,i=!1;try{i=o.location.host==window.location.host&&0<o.$("#success-alert").length}catch(e){i=!1}(o=i?o:window).$("#success-alert").css("display","table"),o.$("#message-header").html(e),o.$("#message-content").html(t),setTimeout(function(){o.$("#success-alert").fadeOut()},a)}function WarningAlert(e,t,a){parent.$("#warning-alert").css("display","table"),parent.$("#warning-alert #message-header").html(e),parent.$(" #warning-alert #message-content").html(t),null!=a&&""!=a&&setTimeout(function(){parent.$("#warning-alert").fadeOut()},a),$(document).on("click",".close-div",function(){parent.$("#warning-alert").fadeOut()})}function MobileAlert(e,t){parent.$("#mobile-alert").fadeIn(),parent.$("#mobile-alert #message").html(e),null!=t&&""!=t&&setTimeout(function(){parent.$("#mobile-alert").fadeOut(1e3)},t)}function ProgressAlert(e,t,a,o,i){var n="progress-alert_"+e;parent.$("#progress-alert-container").find("#"+n).length||(e='<div id="'+n+'" class="progress-alert"><div id="image-container"><div class="image-holder"><span id="progress-notify-success" class="su su-tick display-none" alt="Success Icon"></span><div id="progress-notify-loader"><svg x="0px" y="0px" width="24px" height="30px" viewBox="0 0 24 30" style="enable-background:new 0 0 50 50;" xml:space="preserve"><rect x="0" y="10" width="4" height="10" fill="#0565FF" opacity="0.2"><animate attributeName="opacity" attributeType="XML" values="0.2; 1; .2" begin="0s" dur="0.8s" repeatCount="indefinite" /><animate attributeName="height" attributeType="XML" values="10; 20; 10" begin="0s" dur="0.8s" repeatCount="indefinite" /><animate attributeName="y" attributeType="XML" values="10; 5; 10" begin="0s" dur="0.8s" repeatCount="indefinite" /></rect><rect x="8" y="10" width="4" height="10" fill="#0565FF" opacity="0.2"><animate attributeName="opacity" attributeType="XML" values="0.2; 1; .2" begin="0.15s" dur="0.8s" repeatCount="indefinite" /><animate attributeName="height" attributeType="XML" values="10; 20; 10" begin="0.15s" dur="0.8s" repeatCount="indefinite" /><animate attributeName="y" attributeType="XML" values="10; 5; 10" begin="0.15s" dur="0.8s" repeatCount="indefinite" /></rect><rect x="16" y="10" width="4" height="10" fill="#0565FF" opacity="0.2"><animate attributeName="opacity" attributeType="XML" values="0.2; 1; .2" begin="0.3s" dur="0.8s" repeatCount="indefinite" /><animate attributeName="height" attributeType="XML" values="10; 20; 10" begin="0.3s" dur="0.8s" repeatCount="indefinite" /><animate attributeName="y" attributeType="XML" values="10; 5; 10" begin="0.3s" dur="0.8s" repeatCount="indefinite" /></rect></svg></div></div></div><div id="message" class="div-close"><h1 id="message-header"></h1><span id="message-content"></span></div><div class="close-div"><span id="close-content">'+window.Server.App.Localization.Close+"</span></div></div> ",$("#progress-alert-container").append(e)),parent.$("#"+n).css("display","table"),parent.$("#"+n+" #message-header").html(t),parent.$("#"+n+" #message-content").html(a),i?(parent.$("#"+n+" #progress-notify-loader").addClass("display-none"),parent.$("#"+n+" #progress-notify-success").removeClass("display-none")):(parent.$("#"+n+" #progress-notify-loader").removeClass("display-none"),parent.$("#"+n+" #progress-notify-success").addClass("display-none")),null!=o&&""!=o&&setTimeout(function(){parent.$("#"+n).fadeOut()},o),$(document).on("click",".close-div",function(){var e=$(this);parent.$(e).parent().remove()})}function warningToast(t,a,e,o=null){var i="",n=0,i=isVariableNullOrUndefined(e)?"warning-toast":"warning-toast_"+e;0<jQuery(".toast-container.warning-toast:visible").length&&($(".toast-container.warning-toast:visible .toast-close").click(),n=1e3),setTimeout(function(){var e;$("#progress-alert-container").find("#"+i).length||(e="<div id='"+i+"' style='display: none;' class='toast-container warning-toast'><img src='"+cdnLink+"/cdn/images/warning-toast.svg' class='toast-image-container'/><div class='toast-message'><span class='toast-message-content'></span>&nbsp<a class='toast-know-more'>"+window.Server.App.Localization.LearnMore+"</a></div><div class='toast-close'><span class='su su-close' title='"+window.Server.App.Localization.Close+"'></span></div></div>",$("#progress-alert-container").append(e)),$("#progress-alert-container").show(),$("#"+i).css("display","table"),isVariableNullOrUndefined(a)?(jQuery(".toast-know-more").hide(),$("#"+i+" .toast-message-content").html(t)):(jQuery(".toast-know-more").show(),$("#"+i+" .toast-message-content").html(t),$("#"+i).attr("data-error-message",a)),null!=o&&$("#"+i).attr("data-header",o)},n)}function successToast(a,o,e){var i="",i=void 0===e?"success-toast":"success-toast_"+e,e=0;0<jQuery(".toast-container.warning-toast:visible").length&&($(".toast-container.warning-toast:visible .toast-close").click(),e=1e3),0<jQuery(".toast-container.success-toast:visible").length&&($(".toast-container.success-toast:visible .toast-close").click(),e=1e3),setTimeout(function(){$("#progress-alert-container").find("#"+i).length||(t="<div id='"+i+"' style='display: none;' class='toast-container success-toast'><img src='"+cdnLink+"/cdn/images/success-toast.svg' class='toast-image-container'/><div class='toast-message'><span class='toast-message-content'></span></div><div class='toast-close'><span class='su su-close' title='"+window.Server.App.Localization.Close+"'></span></div></div >",$("#progress-alert-container").append(t)),$("#progress-alert-container").show();var e=window.parent,t=!1;try{t=e.location.host==window.location.host&&0<e.$("#"+i).length}catch(e){t=!1}(e=t?e:window).$("#"+i).css("display","table"),e.$("#"+i+" .toast-message-content").html(a),setTimeout(function(){e.$("#"+i).fadeOut()},o)},e)}function closeWarningToastDialog(){WarningToastDialogObj.hide()}function copyToClipboard(){var e=$("#warning-toast-content").text(),t=$("<input>");t.attr("value",e),$("body").append(t),t.select(),t[0].setSelectionRange(0,99999),document.execCommand("copy"),t.remove()}function createLoader(e,t){var a,o="";return"string"==typeof e?(t=0===e.indexOf(".")?".":"#",o=(e=0===e.indexOf(".")||0===e.indexOf("#")?e.slice(1,e.length):e)+"-loader-icon",0==$("#"+o).length&&0!=$(t+e).length&&(a=$("<div class='loader-blue loader-icon' id='"+o+"'><svg class='circular'><circle class='path' cx='27' cy='27' r='20' fill='none' stroke-width='4' stroke-miterlimit='10'></circle></svg></div>"),$("body").append(a))):(t=0===(e=t).indexOf(".")?".":"#",o=(e=e.slice(1,e.length))+"-loader-icon",0==$("#"+o).length&&0!=$(t+e).length&&(a=$("<div class='loader-blue loader-icon' id='"+o+"'><svg class='circular'><circle class='path' cx='27' cy='27' r='20' fill='none' stroke-width='4' stroke-miterlimit='10'></circle></svg></div>"),$("body").append(a))),o}function ajaxPostCall(e,t,a,o,i,n,r){var s;return embedConfig.IsEmbedCode?("GET"==e&&(s=jQuery.param(a),t.api=t.api+"?"+s,a=null),$.ajax({type:e,url:dashboardServerApiUrlForServerEmbed+t.api,headers:{"Content-type":"application/json",Authorization:"bearer "+designerToken},data:JSON.stringify(a),beforeSend:function(e){isNullOrWhitespace(o)||o(e)},success:function(e,t){isNullOrWhitespace(i)||i(e)},error:function(e){isNullOrWhitespace(n)||n()},complete:function(e){isNullOrWhitespace(r)||r(e)}})):$.ajax({type:e,url:t.web,data:a,beforeSend:function(e){(isNullOrWhitespace(o)?setToken:o)(e)},success:function(e,t){isNullOrWhitespace(i)||i(e)},error:function(e){isNullOrWhitespace(n)?onError(e):n()},complete:function(e){isNullOrWhitespace(r)||r(e)}})}function isNullOrWhitespace(e){return null==e||""==$.trim(e)}function generateProfileAvatar(){$(".profile-pic-tag").each(function(){var e=$(this).attr("data-id"),t=$(this).attr("data-image-size"),a=t/2.5,o=a<10?"0":a<20?"1px":"2px",i=a<10?"1px":"2px",n=$(this).attr("data-display-name"),r=$(this).attr("data-type");if($(this).html(""),0!=e){var s=["#b7fbff","#a9eec2","#ffe0a3","#ffa1ac","#8ed6ff","#bf9fee","#ffa0d2","#32dbc6","#d2c8c8","#e3e7f1"];if("user"==r){var d=e.match(/(\d+)/g),l=0;if(null!=d)for(l=0;l<d.length;l++)var c=d[0][0];$(this).css("background-color",s[c]);var r=idpUrl+"/User/Avatar?id="+e,p=$('<img id="default-profile-image">');p.attr("src",r),p.attr("width",t),p.attr("height",t),p.css("position","absolute"),p.css("top","0px"),p.css("left","0px"),p.css("border-radius","50%"),p.appendTo($(this))}else{r=e%10;$(this).css("background-color",s[r])}$(this).css("width",t),$(this).css("height",t),$(this).css("line-height",t+"px");p=n.trim().toUpperCase().split(/ /),e=$('<span id="first-letter">');isNullOrWhitespace(p[1])?e.text(p[0][0]):e.text(p[0][0]+p[1][0]),e.css("font-size",a+"px"),e.css("margin-left",i),e.css("letter-spacing",o),e.appendTo($(this))}})}function isVariableNullOrUndefined(e){return null==e}function embedOpenPage(e){var t="undefined"!=typeof isSelfHosted&&isSelfHosted&&enableApplicationEmbed?"_self":"_blank";window.open(e,t)}function SetHttpOnlyCookie(e,t,a,o){$.ajax({type:"POST",url:setCookieHttpOnlyUrl,data:{cookieName:e,cookieValue:t,expires:a,isCookiePathRequired:o}})}function setToken(e){var t=document.cookie.split("; ").find(e=>e.startsWith("XSRF-TOKEN="))?.split("=")[1];t&&e.setRequestHeader("X-XSRF-TOKEN",t)}function closeAllDailog(){var e;$(".e-btn-icon.e-icon-dlg-close.e-icons").is(":visible")&&(e=$(".e-btn-icon.e-icon-dlg-close.e-icons:visible"),$.each(e,function(e,t){t=$(t).parents(".e-dialog").attr("id");null!=t&&document.getElementById(t).ej2_instances[0].hide()})),$(".popup-close").is(":visible")&&(e=$(".popup-close:visible"),$.each(e,function(e,t){t=$(t).parents(".e-dialog").attr("id");null!=t&&(eDialog=$("#"+t).data("ejDialog")).close()}))}function onError(e){$(".e-waitpopup-pane:visible").hide(),$(".e-spinner-pane:visible").hide(),"abort"!=e.statusText&&(closeAllDailog(),"Bad Request"==e.statusText?warningToast(window.Server.App.Localization.InvalidRequestMessage,null,null,window.Server.App.Localization.Error):(e=JSON.parse(e.responseText),warningToast(window.Server.App.Localization.ExceptionErrorMessage,e.error,null,window.Server.App.Localization.Error)))}$(document).ready(function(){function o(){var e,t,a,o="",i='<span class ="dialog-header-title">'+window.Server.App.Localization.SessionHeader+"</span>";sessionData||((e=document.createElement("div")).setAttribute("id","session-time-dialog"),null==(t=document.getElementById("content-area"))?(o=ejdashboard.popups,(a=document.createElement("div")).setAttribute("id","content-area"),document.body.appendChild(a),t=document.getElementById("content-area")):o=ejs.popups,t.appendChild(e),a=null!=$("#dashboardDesigner").data("BoldBIDashboardDesigner")&&$("#dashboardDesigner").data("BoldBIDashboardDesigner").hasReportChanges()?window.Server.App.Localization.SessionContent+"<br> <br> <b>"+window.Server.App.Localization.Note+"</b> "+window.Server.App.Localization.SessionTimeOutDesignerNoteContent:window.Server.App.Localization.SessionContent,new o.Dialog({showOnInit:!1,allowDraggable:!1,enableResize:!1,width:500<window.innerWidth?"470px":window.innerWidth-10,height:"auto",showHeader:!1,isModal:!0,enableModal:!0,closeOnEscape:!0,header:i,close:"closeDialog",showCloseIcon:!0,content:a,buttons:[{click:function(e){location.reload()},buttonModel:{cssClass:"app-btn-secondary",content:window.Server.App.Localization.OKButton}}],close:n}).appendTo(e),sessionData=!0)}function n(){location.reload()}(isSession="undefined"!=typeof canCheckSession?Boolean(canCheckSession):isSession)&&setTimeout(function(){!function t(){var e=$("#dashboardDesigner").data("BoldBIDashboardDesigner")||$("#datasourceDesigner").data("BoldBIDashboardDesigner");e=null!=e?e.model.lastDraftSavedTime:"";$.ajax({type:"GET",url:isSessionActiveUrl,data:isNullOrWhitespace(e)?"":{sessionDateTime:e},success:function(e){e.isactive?setTimeout(function(){t()},18e4):(closeAllDailog(),o())}})}()},18e4),String.prototype.format=function(){for(k in a=this,arguments)a=a.replace("{"+k+"}",arguments[k]);return a},$("#warning-toast-dialog").length&&(WarningToastDialogObj=new ejs.popups.Dialog({isModal:!0,closeOnEscape:!0,width:"550px",visible:!1,animationSettings:{effect:"Zoom"}})).appendTo("#warning-toast-dialog")}),$(document).on("change",".selectpicker",function(){var e=$(this).siblings(".bootstrap-select").children(".selectpicker");e.attr("data-original-title",e.attr("title")),e.removeAttr("title")}),$(document).on("click",".toast-close",function(e){var t=$(this).parent().attr("id");$("#"+t).fadeOut()}),$(document).on("click",".toast-know-more",function(e){var t=$(this).parent().parent().attr("data-error-message"),a=$(this).parent().parent().attr("data-header");void 0!==a&&null!=a&&$("#warning-toast-dialog #info-dialog-header").html(a),$("#warning-toast-content").html(t.trim().replace(/\n/g,"<br >\n")),WarningToastDialogObj.show(),$("#warning-toast-dialog").show()}),$(document).on("shown.bs.dropdown","td.e-rowcell",function(){var e=$(this).offset().top+$(this).outerHeight(!0)/2-$(".e-grid").offset().top-$(".e-columnheader").outerHeight();$(this).find(".dropdown-menu").outerHeight(!0)<e?$(this).find(".context-menu").removeClass("dropdown").addClass("dropup"):$(this).find(".context-menu").removeClass("dropup").addClass("dropdown")}),$("body").on("click","a",function(){"undefined"!=typeof isSelfHosted&&isSelfHosted&&enableApplicationEmbed&&void 0!==$(this).attr("href")&&!$(this).attr("href").includes("redirect.boldbi.com")&&$(this).attr("target","_self")});var timeOut,searchId,userAgent=navigator.userAgent,regexIe8=new RegExp("Trident(/4.0)|(Trident/5.0)"),isSafari=-1!=navigator.userAgent.indexOf("Safari")&&-1==navigator.userAgent.indexOf("Chrome"),clearSearch=!1,isEtlstatusChecked=!1;function setToken(e){var t=document.cookie.split("; ").find(e=>e.startsWith("XSRF-TOKEN="));t&&(t=t.split("=")[1],e.setRequestHeader("X-XSRF-TOKEN",t))}function errorCallBack(e){var t;$(".e-waitpopup-pane:visible").hide(),$(".e-spinner-pane:visible").hide(),"abort"!=e.statusText&&($(".e-btn-icon.e-icon-dlg-close.e-icons").is(":visible")&&(t=$(".e-btn-icon.e-icon-dlg-close.e-icons:visible"),$.each(t,function(e,t){t=$(t).parents(".e-dialog").attr("id");null!=t&&document.getElementById(t).ej2_instances[0].hide()})),$(".popup-close").is(":visible")&&(t=$(".popup-close:visible"),$.each(t,function(e,t){t=$(t).parents(".e-dialog").attr("id");null!=t&&(eDialog=$("#"+t).data("ejDialog")).close()})),"Bad Request"==e.statusText?warningToast(window.Server.App.Localization.InvalidRequestMessage,null,null,window.Server.App.Localization.Error):"Forbidden"==e.statusText&&403==e.status?warningToast(window.Server.App.Localization.UserManagementWarningAlert+" "+window.Server.App.Localization.ReloadPage,null,null,window.Server.App.Localization.Error):(t=JSON.parse(e.responseText),warningToast(window.Server.App.Localization.ExceptionErrorMessage,t.error,null,window.Server.App.Localization.Error)))}function umsSettingsInherit(e,t,a){t?e?$(a).attr("disabled",!0):$(a).attr("disabled",!1):e?$(a).addClass("disabled"):$(a).removeClass("disabled")}function getDashboardDetailFromList(e,t){for(var a=0;a<e.length;a++){if(e[a].Id===t)return e[a];if(e[a].SubCategory&&0<e[a].SubCategory.length){var o=getDashboardDetailFromList(e[a].SubCategory,t);if(o)return o}}return null}function isEmptyOrWhitespace(e){return""==$.trim(e)}function createWaitingPopup(e){ejs.popups.createSpinner({target:document.getElementById(e)})}function convertToBoolean(e){switch(e="string"==typeof e?e.toLowerCase():e){case!0:case"true":case 1:case"1":case"on":case"yes":return!0;default:return!1}}function handleAjaxError(){}function refreshScroller(){var e,t="block"==$(".collapseIcon").css("display")?$(".collapseIcon").height():0;$(window).height()-($("#CatergoryHeading").outerHeight()+$("#base_menu_container_Div").outerHeight()+$("#listing").outerHeight()+t)<0?(t=$(window).height()-($("#CatergoryHeading").outerHeight()+$("#base_menu_container_Div").outerHeight()+t),e=$("#CatergoryHeading").outerWidth(),"undefined"!=typeof BoldBIDashboard?$("#ScrollElement").BoldBIDashboardScroller({height:window.innerWidth<1041&&t<200?200:t,width:e,buttonSize:0,scrollerSize:9}):$("#ScrollElement").ejScroller({height:window.innerWidth<1041&&t<200?200:t,width:e,buttonSize:0,scrollerSize:9})):"undefined"!=typeof BoldBIDashboard?null!=$("#ScrollElement").data("BoldBIDashboardScroller")&&$("#ScrollElement").data("BoldBIDashboardScroller").destroy():null!=$("#ScrollElement").data("ejScroller")&&$("#ScrollElement").data("ejScroller").destroy()}function refreshScrollerForCategory(){for(var e,t,a=0,o=0;o<$("#scroll-content #listing>li").length;o++)a+=$($("#scroll-content #listing>li")[o]).outerHeight();$(window).height()-($(".item-navigation").outerHeight()+$("#header-area").outerHeight()+$("#category-listing").outerHeight()+a+$("#create-new-category").outerHeight())<0?(e=$(window).height()-($(".item-navigation").outerHeight()+$("#header-area").outerHeight()+$("#category-listing").outerHeight()+$("#create-new-category").outerHeight()),$(".item-navigation").outerWidth(),$(".all-items").hasClass("active")&&$("#category-list").is(":visible")&&(t="",null!=(t="undefined"!=typeof BoldBIDashboard?($("#scroll-content").BoldBIDashboardScroller({height:e,buttonSize:0,scrollerSize:9,autoHide:!0}),$("#scroll-content").data("BoldBIDashboardScroller")):($("#scroll-content").ejScroller({height:e,buttonSize:0,scrollerSize:9,autoHide:!0}),$("#scroll-content").data("ejScroller"))))&&t.refresh()):"undefined"!=typeof BoldBIDashboard?null!=$("#scroll-content").data("BoldBIDashboardScroller")&&$("#scroll-content").data("BoldBIDashboardScroller").destroy():null!=$("#scroll-content").data("ejScroller")&&$("#scroll-content").data("ejScroller").destroy()}function addPlacehoder(e){regexIe8.test(userAgent)&&$(e).find("input[type=text],input[type=password],textarea").each(function(){""===$(this).val()?$($("<div>",{class:"placeholder",text:$(this).attr("placeholder")})).insertAfter(this).show():$($("<div>",{class:"placeholder",text:$(this).attr("placeholder")})).insertAfter(this).hide()})}function doAjaxPost(e,t,a,o,i,n,r,s,d,l){r&&(r.is(":input:button")||r.is("button")?r.prop({disabled:!0}):showWaitingPopup(r)),null==s&&(s=!0),null==d&&(d="application/x-www-form-urlencoded; charset=UTF-8"),$.ajax({type:e,url:t,context:this,processData:s,contentType:d,data:a,success:!0===l?$.proxy(getFnObj(o),window,a):$.proxy(getFnObj(o),window),error:$.proxy(function(e,t,a){errorCallBack(e),e.statusText,i&&getFnObj(i).call(window,e,t,a)},this),complete:$.proxy(function(e){try{var t=JSON.parse(e.responseText);null!=t.data&&null!=t.data&&null!=t.data.Message&&null!=t.data.Message&&"unauthorized"==t.data.Message.toLowerCase()&&window.location.replace(window.location.href)}catch(e){}r&&(r.is(":input:button")||r.is("button")?r.prop({disabled:!1}):hideWaitingPopup(r)),n&&getFnObj(n).call(window,e)},this)})}function ShowWaitingProgress(e,t){var a;"undefined"!=typeof BoldBIDashboard?"show"==t?(a=createLoader(e),$(e).BoldBIDashboardWaitingPopup({template:$("#"+a)}),$(e).BoldBIDashboardWaitingPopup("show")):$(e).BoldBIDashboardWaitingPopup("hide"):"show"==t?(a=createLoader(e),$(e).ejWaitingPopup({template:$("#"+a)}),$(e).ejWaitingPopup("show")):$(e).ejWaitingPopup("hide")}function getFnObj(e){return"function"==typeof e||"string"==typeof e&&window[e]?e:void 0}function showWaitingPopup(e){"string"==typeof e?(t=0===e.indexOf(".")?".":"#",0===e.indexOf(".")||0===e.indexOf("#")?t=e:(t+=e,e=$(0===e.indexOf(".")?e:"#"+e))):(t=e.first().attr("id")?"#"+(e=e.first().attr("id")):e="."+(e=e.first().attr("class")),e=$(0===e.indexOf(".")?e:"#"+e));var t=createLoader(e,t);"undefined"!=typeof BoldBIDashboard?(e.BoldBIDashboardWaitingPopup({template:$("#"+t)}),e.BoldBIDashboardWaitingPopup("show")):(e.ejWaitingPopup({template:$("#"+t)}),e.ejWaitingPopup("show"))}function hideWaitingPopup(e){"string"==typeof e&&(e=$(0===e.indexOf(".")?e:"#"+e)),"undefined"!=typeof BoldBIDashboard?e.BoldBIDashboardWaitingPopup("hide"):e.ejWaitingPopup("hide")}function redirect(e,t){t?setTimeout(function(){window.location.assign(e)},t):window.location.assign(e)}function CheckMonthFormat(e,t){return e.includes(t)}function DateCustomFormat(e,t,a){var o,i,n,r,s,d,l,c,p,u,h,t=new Date(t),g=((h=t.getFullYear())+"").slice(-2),m=(i=t.getMonth()+1)<10?"0"+i:i,f=(o=["January","February","March","April","May","June","July","August","September","October","November","December"][i-1]).substring(0,3),$=(n=t.getDate())<10?"0"+n:n,w=(u=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"][t.getDay()]).substring(0,3),b=10<=n&&n<=20?"th":1==(b=n%10)?"st":2==b?"nd":3==b?"rd":"th";switch(!0){case CheckMonthFormat(e=e.replace("yyyy",h).replace("yy",g).replace("dddd",u).replace("ddd",w).replace("dd",$).replace("d",n).replace("th",b),"MMMM"):e=e.replace("MMMM",o);break;case CheckMonthFormat(e,"MMM"):e=e.replace("MMM",f);break;case CheckMonthFormat(e,"MM"):e=e.replace("MM",m);break;case CheckMonthFormat(e,"M "):e=e.replace("M ",i+" ");break;case CheckMonthFormat(e,"M,"):e=e.replace("M,",i+",");break;case CheckMonthFormat(e,"M"):e=e.replace("M",i)}return"True"==a?(h=(s=r=t.getHours())<10?"0"+s:s,d=(l=t.getMinutes())<10?"0"+l:l,c=(p=t.getSeconds())<10?"0"+p:p,e.replace("HH",h).replace("mm",d).replace("ss",c)):(12<(s=0==(s=r=t.getHours())?24:s)&&(s-=12),g=s<10?"0"+s:s,w=(u=r<12?"am":"pm").toUpperCase(),d=(l=t.getMinutes())<10?"0"+l:l,c=(p=t.getSeconds())<10?"0"+p:p,e.replace("hhh",r).replace("hh",g).replace("h",s).replace("mm",d).replace(":m",":"+l).replace("ss",c).replace("s",p).replace("ampm",u).replace("AMPM",w))}function isNumberKey(e){e=e.which||e.keyCode;return!(46!=e&&31<e&&(e<48||57<e))}function validateUserName(e){return/\s/g.test(e)?{isValid:!1,message:window.Server.App.Localization.HasWhiteSpace}:/[^a-zA-Z0-9]/.test(e)?{isValid:!1,message:window.Server.App.Localization.UserNameSpecialCharacterValicator}:{isValid:!0,message:"valid"}}function isValidUrl(e){return/^(https?|ftp):\/\/[^\/\s]+(:\d+)?(\/[^\s\/]+)*\/?$/.test(e)}function isValidOrigin(e){return new RegExp(/^https?:\/\/(?:w{1,3}\.)?(?:[^\s.]+(?:\.[a-z]+)*)?(?::\d+)?(?:\/[^\/\s]*)*\/?(?![^<]*(?:<\/\w+>|\/?>))/).test(e)}function getMaxZIndex(){var t=0;return $("div").each(function(){var e=parseInt($(this).css("zIndex"),10);t<e&&(t=e)}),t}function IsEmail(e){return!!/^([\wÀ-ÖØ-öø-ÿŒœŸÿ€ß.-]+)@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.)|(([\wÀ-ÖØ-öø-ÿŒœŸÿ€ß-]+\.)+))([a-zA-Z]{2,63}|[0-9]{1,3})(\]?)$/u.test(e)}function IsValidContactNumber(e){return!!/^(?:|[0-9\-\+]{9,15})$/.test(e)}function ValidateIsolationCode(e){if(!("undefined"!=typeof BoldBIDashboard?BoldBIDashboard:ej).isNullOrUndefined(e)&&""!==e)for(var t=decodeURI(e).replace(/~&~/g,String.fromCharCode(251)+String.fromCharCode(251)).replace(/~=~/g,String.fromCharCode(250)+String.fromCharCode(250)).replace(/~[?]~/g,String.fromCharCode(253)+String.fromCharCode(253)).replace(/~[/]~/g,String.fromCharCode(254)+String.fromCharCode(254)).replace(/&&/g,"&").replace(/&/g,"|,|").replace(/=/g,"|:|").replace(/~,~/g,String.fromCharCode(252)+String.fromCharCode(252)).split("|,|"),a=0;a<t.length;a++)return 2===t[a].split("|:|").length;return!1}function onCloseMessageBox(){void 0!==$("#messageBox").data("BoldBIDashboardDialog")?$("#messageBox").BoldBIDashboardDialog("close"):$("#messageBox").ejDialog("close")}function onMessageDialogClose(){$("#messageBox").find(".message-content").text(""),$(".message-box-btn-holder").html(""),$(".message-box-close").html("")}function messageBox(e,t,a,o,i,n,r,s,d,l){$("#messageBox").find(".message-content").text(""),$(".message-box-btn-holder").html(""),$(".message-box-close").html(""),$("#messageBox").find(".message-header").html("<span class='su "+e+"'></span> <span class='modal-title' data-toggle='tooltip' data-placement='bottom' data-container='body' title='"+t+"'  >"+t+"</h2>"),$("#messageBox").find(".message-content").html(a),$("#messageBox").find(".message-content").removeClass("text-left"),"error"==o?(null!=i&&(c=$("<input type='button' class='app-button app-critical-action-button app-btn-danger pull-right' value='"+window.Server.App.Localization.YesButton+"'></input>")).bind("click",$.proxy(getFnObj(i),window)),e=$("<input type='button' class='app-button app-secondary-button app-btn-secondary pull-right' tabindex='-1' value='"+window.Server.App.Localization.NoButton+"'></input>"),p=$('<span class="su su-close"></span>'),null!=n?(e.bind("click",$.proxy(getFnObj(n),window)),p.bind("click",$.proxy(getFnObj(n),window))):(e.click(function(){onCloseMessageBox()}),p.click(function(){onCloseMessageBox()})),$(".message-box-close").html(p),$(".message-box-btn-holder").append(e,c),$("#messageBox").unbind("keydown")):(c=$("<input type='button' class='app-button app-secondary-button app-btn-secondary' tabindex='-1' value='"+window.Server.App.Localization.OKButton+"'></input>"),p=$('<span class="su su-close"></span>'),null!=i?(c.bind("click",$.proxy(getFnObj(i),window)),p.bind("click",$.proxy(getFnObj(i),window))):(c.click(function(){onCloseMessageBox()}),p.click(function(){onCloseMessageBox()})),$(".message-box-close").html(p),$(".message-box-btn-holder").append(c),$("#messageBox").on("keydown",function(e){switch(e.keyCode){case 13:case 27:c.click()}})),$('[data-toggle="tooltip"]').tooltip();var c,p,u="",u=void 0!==$("#messageBox").data("BoldBIDashboardDialog")?($("#messageBox").BoldBIDashboardDialog("open"),$("#messageBox").focus(),window.document,$("#messageBox").data("BoldBIDashboardDialog")):($("#messageBox").ejDialog("open"),$("#messageBox").focus(),window.document,$("#messageBox").data("ejDialog"));setTimeout(function(){null!=r&&u.option("width",r),1040<window.innerWidth&&null==s&&(s=$("#messageBox").find(".modal-content").height()+135+"px"),u.option("height",s),null!=d&&u.option("maxHeight",d)},50),null!=l&&u.option("cssClass",l),setTimeout(function(){var e=$(".message-header").innerHeight()+$(".message-content.text-center").innerHeight()+$(".message-box-btn-holder").innerHeight()+5;$("#messageBox").height(e+"px"),$("#messageBox_wrapper .e-dialog-scroller.e-scroller.e-js.e-widget").height($("#messageBox").outerHeight(!0)+"px")},100)}function deleteUserAvatar(){ShowWaitingProgress("#user-profile-master","show"),doAjaxPost("POST",deleteavatarUrl,{email:$("#user-email").val()},function(e){ShowWaitingProgress("#user-profile-master","hide"),e.status?messageBox("su-delete",window.Server.App.Localization.DeleteAvatar,window.Server.App.Localization.DeleteAvatarSuccess,"success",function(){var e=$("#logged-user").html().toLowerCase();$("#user-profile-picture").attr("src",getdefaultavatarUrl),$("#user-profile-picture").siblings("#avatar-delete-click").remove(),$("#user-name").val()==e&&$(".profile-picture,#profile-picture-menu").find("img").attr("src",getdefaultavatarUrl),onCloseMessageBox()}):messageBox("su-delete",window.Server.App.Localization.DeleteAvatarTitle,window.Server.App.Localization.DeleteAvatarError,"success",function(){onCloseMessageBox()})})}function IsValidName(e,t){e="username"===e.toLowerCase()?new RegExp(/[*\[\\\]\|\/\:\<\>\%\+\#\&\?\'\"\@\;\,]/):"publishcategoryname"===e.toLowerCase()?new RegExp(/[*\[\\\]\|:\<\>\%\+\#\&\?\'\"\;\,]/):"undefined"!=typeof charactersNotAllowedInFileName&&null!=charactersNotAllowedInFileName?new RegExp("["+charactersNotAllowedInFileName.map(e=>"\\"+e).join("")+"]"):new RegExp(/[*\[\\\]\|\/\:\<\>\%\+\#\&\?\'\"\;\,]/);return!e.test(t)}function IsValideCopyRightInfo(e){return!new RegExp("<[^>]+>").test(e)}function IsValidNumber(e){return/^\d+$/.test(e)}function UsernameValidation(e){return!!/^(?:(?!\.{2}|_{2}|-{2})[\p{L}\p{N}0-9_À-ÖØ-öø-ÿŒœŸÿ€ß'.`-]+@[\p{L}\p{N}\-]+(\.[\p{L}\-]+)*|[\p{L}\p{N}0-9_À-ÖØ-öø-ÿŒœŸÿ€ß'.`-]+)$/u.test(e)}function IsValidUsername(e){return UsernameValidation(e)||IsEmail(e)}function IsValidUsernameLength(e){return!!/^.{2,255}$/.test(e)}function GridLocalization(e=null){var e={EmptyRecord:null!=e?e:window.Server.App.Localization.NoRecords,StringMenuOptions:[{text:window.Server.App.Localization.SearchKeyStart,value:"StartsWith"},{text:window.Server.App.Localization.SearchKeyEnd,value:"EndsWith"},{text:window.Server.App.Localization.SearchKeyContanins,value:"Contains"},{text:window.Server.App.Localization.SearchKeyEqual,value:"Equal"},{text:window.Server.App.Localization.SearchKeyNotEqual,value:"NotEqual"}],FilterMenuCaption:window.Server.App.Localization.FilterValue,Filter:window.Server.App.Localization.Filter,Clear:window.Server.App.Localization.ClearSearch},t={pagerInfo:window.Server.App.Localization.PageCount,firstPageTooltip:window.Server.App.Localization.FirstPage,lastPageTooltip:window.Server.App.Localization.LastPage,nextPageTooltip:window.Server.App.Localization.NextPage,previousPageTooltip:window.Server.App.Localization.PreviousPage};"undefined"!=typeof BoldBIDashboard?(BoldBIDashboard.Grid.Locale["en-US"]=e,BoldBIDashboard.Pager.Locale["en-US"]=t):(ej.Grid.Locale["en-US"]=e,ej.Pager.Locale["en-US"]=t)}function ExcelFilterLocalization(){var e={SortTextAscending:window.Server.App.Localization.SortTextAscending,SortTextDescending:window.Server.App.Localization.SortTextDescending,ClearFilter:window.Server.App.Localization.ClearFilterGrid,TextFilter:window.Server.App.Localization.TextFilter,title:window.Server.App.Localization.CustomFilter,PredicateOr:window.Server.App.Localization.Or,PredicateAnd:window.Server.App.Localization.And,MatchCase:window.Server.App.Localization.MatchCase,Showrowswhere:window.Server.App.Localization.ShowRowsWhere,StringMenuOptions:[{text:window.Server.App.Localization.SearchKeyStart,value:"StartsWith"},{text:window.Server.App.Localization.SearchKeyEnd,value:"EndsWith"},{text:window.Server.App.Localization.SearchKeyContanins,value:"Contains"},{text:window.Server.App.Localization.SearchKeyEqual,value:"Equal"},{text:window.Server.App.Localization.SearchKeyNotEqual,value:"NotEqual"}],ResponsiveSorting:window.Server.App.Localization.Sort,OK:window.Server.App.Localization.OKButton,EmptyRecord:window.Server.App.Localization.NoRecords,Clear:window.Server.App.Localization.ClearSearch,Cancel:window.Server.App.Localization.CancelButton,NoResult:window.Server.App.Localization.NoMatchesFound,Search:window.Server.App.Localization.Search,Columns:window.Server.App.Localization.Columns,SelectAll:window.Server.App.Localization.SelectAll};"undefined"!=typeof BoldBIDashboard?BoldBIDashboard.ExcelFilter.Locale["en-US"]=e:ej.ExcelFilter.Locale["en-US"]=e}function AddIndeterminateStateForCheckBox(e){0<e.length?($(".e-headercelldiv .checkbox-header-label").addClass("indeterminate"),$(".e-rowcell .context-menu").hide()):($(".e-headercelldiv .checkbox-header-label").removeClass("indeterminate"),$(".e-rowcell .context-menu").show())}function PerformSearch(e){if("#search-schedules"==e){var t,a="undefined"!=typeof BoldBIDashboard?$("#scheduleGrid").data("BoldBIDashboardGrid"):$("#scheduleGrid").data("ejGrid");if(-1<(t=$("#search-schedules").val()).indexOf(":")){var o=t.split(":")[0].toLowerCase(),i=t.split(":")[1].trim();switch(1<t.match(/:/g).length&&(firstKey=t.split(":")[1],secondKey=t.split(":")[2],i=(firstKey+":"+secondKey).trim()),o.replace(/ /g,"").toLowerCase()){case"name":o="Name";break;case"dashboard":o="ItemName";break;case"owner":o="CreatedByDisplayName";break;case"lastrun":o="LastRunString";break;case"nextscheduledrun":o="NextScheduleString";break;case"status":o="Status"}a.model.searchSettings.fields=o,a.model.searchSettings.key=i,a.refreshContent()}else a.search($("#search-schedules").val())}else"#search-slideshows"==e?((a="undefined"!=typeof BoldBIDashboard?$("#slideshowGrid").data("BoldBIDashboardGrid"):$("#slideshowGrid").data("ejGrid")).model.pageSettings.currentPage=1,a.refreshContent()):"#search-webhooks"==e?((a="undefined"!=typeof BoldBIDashboard?$("#webhooksGrid").data("BoldBIDashboardGrid"):$("#webhooksGrid").data("ejGrid")).model.pageSettings.currentPage=1,a.refreshContent()):"#search-webhooks-grid"==e?((a="undefined"!=typeof BoldBIDashboard?$("#webhooksGridSettings").data("BoldBIDashboardGrid"):$("#webhooksGridSettings").data("ejGrid")).model.pageSettings.currentPage=1,a.refreshContent()):"#search-users"==e?((a="undefined"!=typeof BoldBIDashboard?$("#user_grid").data("BoldBIDashboardGrid"):$("#user_grid").data("ejGrid")).model.pageSettings.currentPage=1,a.refreshContent()):"#search-published-items"==e?((a="undefined"!=typeof BoldBIDashboard?$("#PublishItemGrid").data("BoldBIDashboardGrid"):$("#PublishItemGrid").data("ejGrid")).model.pageSettings.currentPage=1,a.search($("#search-published-items").val()),a.refreshContent()):"#search-ad-users"==e?($("#checkbox-header").prop("checked",!1),$(".checkbox-row").prop("checked",!1),(a="undefined"!=typeof BoldBIDashboard?$("#user_grid").data("BoldBIDashboardGrid"):$("#user_grid").data("ejGrid")).search($("#search-ad-users").val())):"#search-items"==e?((a="undefined"!=typeof BoldBIDashboard?$("#items").data("BoldBIDashboardGrid"):$("#items").data("ejGrid")).model.pageSettings.currentPage=1,a.refreshContent()):"#search-home-page"==e?((a="undefined"!=typeof BoldBIDashboard?$("#items").data("BoldBIDashboardGrid"):$("#items").data("ejGrid")).model.filterSettings.filteredColumns=[],(!$("#category-list").is(":visible")||$("#category-list").length<=0)&&($(".all-items").hasClass("active")&&(a.model.filterSettings.filteredColumns=[{field:"CategoryName",operator:"equal",value:$("#category-section-name").html()}]),a.model.pageSettings.currentPage=1,a.refreshContent())):"#search-group-users"==e||"#search-groups"==e?((a="undefined"!=typeof BoldBIDashboard?$("#Grid").data("BoldBIDashboardGrid"):$("#Grid").data("ejGrid")).model.pageSettings.currentPage=1,a.refreshContent()):"#search-ad-groups"==e?(a="undefined"!=typeof BoldBIDashboard?$("#Grid").data("BoldBIDashboardGrid"):$("#Grid").data("ejGrid")).search($("#search-ad-groups").val()):"#ad-user-import"==e?($(".grid-error-validation").css("display","none"),$(".empty-validation").css("display","none"),$(".grid-validation").css("display","none"),searchADUsers($("#ad-user-import").val())):"#ad-group-import"==e?($(".grid_error_validation").css("display","none"),$(".empty_validation").css("display","none"),$(".grid_validation").css("display","none"),searchADGroups($("#ad-group-import").val())):"#search-user-permission"==e?(a="undefined"!=typeof BoldBIDashboard?$("#itempermissiongrid").data("BoldBIDashboardGrid"):$("#itempermissiongrid").data("ejGrid")).search($("#search-user-permission").val()):"#search-group-permission"==e?(a="undefined"!=typeof BoldBIDashboard?$("#itemgrouppermissiongrid").data("BoldBIDashboardGrid"):$("#itemgrouppermissiongrid").data("ejGrid")).search($("#search-group-permission").val()):"#userSearchKey"==e?(a="undefined"!=typeof BoldBIDashboard?$("#UserGrid").data("BoldBIDashboardGrid"):$("#UserGrid").data("ejGrid")).refreshContent():"#groupSearchKey"==e?(a="undefined"!=typeof BoldBIDashboard?$("#GroupGrid").data("BoldBIDashboardGrid"):$("#GroupGrid").data("ejGrid")).refreshContent():"#search-linked-accounts"==e?(a="undefined"!=typeof BoldBIDashboard?$("#ConnectedAccountGrid").data("BoldBIDashboardGrid"):$("#ConnectedAccountGrid").data("ejGrid")).search($("#search-linked-accounts").val()):"#search-linked-dashboards"==e?(a="undefined"!=typeof BoldBIDashboard?$("#view_linked_dashboards").data("BoldBIDashboardGrid"):$("#view_linked_dashboards").data("ejGrid"),-1<(t=$("#search-linked-dashboards").val()).indexOf(":")?(o=t.split(":")[0].toLowerCase(),i=t.split(":")[1].trim(),1<t.match(/:/g).length&&(firstKey=t.split(":")[1],secondKey=t.split(":")[2],i=(firstKey+":"+secondKey).trim()),"name"===o.replace(/ /g,"").toLowerCase()&&(o="Name"),a.model.searchSettings.fields=o,a.model.searchSettings.key=i,a.refreshContent()):a.search($("#search-linked-dashboards").val())):"#search-downloaded-items"==e?((a="undefined"!=typeof BoldBIDashboard?$("#DownloadItemGrid").data("BoldBIDashboardGrid"):$("#DownloadItemGrid").data("ejGrid")).model.pageSettings.currentPage=1,a.search($("#search-downloaded-items").val())):"#search-imported-users-grid"==e?((a="undefined"!=typeof BoldBIDashboard?$("#ImportedUsersGrid").data("BoldBIDashboardGrid"):$("#ImportedUsersGrid").data("ejGrid")).model.pageSettings.currentPage=1,a.search($("#search-imported-users-grid").val())):"#search-failed-users-grid"==e&&((a="undefined"!=typeof BoldBIDashboard?$("#FailedUsersGrid").data("BoldBIDashboardGrid"):$("#FailedUsersGrid").data("ejGrid")).model.pageSettings.currentPage=1,a.search($("#search-failed-users-grid").val()))}function getQueryVariable(e){for(var t=window.location.search.substring(1).split("&"),a=0;a<t.length;a++){var o=t[a].split("=");if(o[0]==e)return o[1]}return null}function getUrlQueryVariable(e,t){for(var a=e.substring(e.indexOf("?")+1).split("&"),o=0;o<a.length;o++){var i=a[o].split("=");if(i[0]==t)return i[1]}return null}function getCurrentPageNumber(e,t,a,o){a-=t;return e<a?(t=a%e==0?a/e:Math.floor(a/e+1))<o?t:o:1}function isValidGuid(e){return/^(\{){0,1}[0-9a-fA-F]{8}\-[0-9a-fA-F]{4}\-[0-9a-fA-F]{4}\-[0-9a-fA-F]{4}\-[0-9a-fA-F]{12}(\}){0,1}$/gi.test(e)}function showOrHideGridPager(e){var t="";(t="undefined"!=typeof BoldBIDashboard?$(e).BoldBIDashboardGrid("option","pageSettings"):$(e).ejGrid("option","pageSettings")).totalRecordsCount<=t.pageSize?$(e+" .e-pager").css("display","none"):$(e+" .e-pager").css("display","block")}function blurServerAppContainer(e){null!=e&&""!=e||(e="5px"),$("#header-area, #menu-area, #content-area, footer, .cookie-notification").css("filter","blur("+e+")"),$("#server-app-container").css("overflow","hidden"),0<$("#unlock-enterprise-features-container").length&&$("#unlock-enterprise-features-container").addClass("blur-content")}function unblurServerAppContainer(){$("#header-area, #menu-area, #content-area, footer, .cookie-notification").css("filter",""),$("#server-app-container").css("overflow",""),0<$("#unlock-enterprise-features-container").length&&$("#unlock-enterprise-features-container").removeClass("blur-content")}function generateUUID(){var a=(new Date).getTime();return"undefined"!=typeof performance&&"function"==typeof performance.now&&(a+=performance.now()),"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){var t=(a+16*Math.random())%16|0;return a=Math.floor(a/16),("x"===e?t:3&t|8).toString(16)})}function PreloadResources(o,i){setTimeout(function(){for(var e=-1!=navigator.userAgent.indexOf("Safari")&&-1==navigator.userAgent.indexOf("Chrome")||-1!=navigator.userAgent.indexOf("Edge"),t=0;t<o.length;t++){var a=document.createElement("link");a.href=o[t],a.rel=e?"preload":"prefetch",a.as=i,document.head.appendChild(a)}})}function refreshToolTip(e){null==e&&(e="tooltip"),$('[data-toggle="'+e+'"]').tooltip({animation:!0,delay:{show:500}})}function SetHttpOnlyCookie(e,t,a,o){$.ajax({type:"POST",url:setCookieHttpOnlyUrl,data:{cookieName:e,cookieValue:t,expires:a,isCookiePathRequired:o}})}function getItems(e){$("#items").ejGrid({dataSource:ej.DataManager({url:e,adaptor:"UrlAdaptor"}),allowScrolling:!0,scrollSettings:{height:548,allowVirtualScrolling:!0,virtualScrollMode:ej.Grid.VirtualScrollMode.Normal,buttonSize:0,autoHide:!0},gridLines:ej.Grid.GridLines.Horizontal,pageSettings:{pageSize:100},allowSorting:!0,enableAltRow:!1,allowSearching:!0,allowFiltering:!0,filterSettings:{filterType:"menu"},actionBegin:"fnActionBegin",actionComplete:"fnActionComplete",rowSelecting:function(e){},rowDataBound:function(){},dataBound:function(e){$("[data-toggle='tooltip']").tooltip()},enableRowHover:!0,columns:[{template:!0,templateID:"#itemname",field:"",type:"string"}]})}function fnActionComplete(e){ShowWaitingProgress("#items","hide"),$("[data-toggle='tooltip']").tooltip(),showOrHideGridPager("#items")}function fnActionBegin(e){var t=createLoader("items"),t=(this.element.ejWaitingPopup({template:$("#"+t)}),ShowWaitingProgress("#items","show"),"");"search"!==(t=$("#search-home-page").is(":visible")?$("#search-home-page").val():t).toLowerCase()&&this.model.query._params.push({key:"searchKey",value:t})}function previewItem(e,t){ShowWaitingProgress("#preview","show"),$.ajax({type:"POST",url:getPreviewItemUrl,data:{itemId:e},success:function(e){e.Success?"viewpermissiondenied"==e.Value.toLowerCase()?$("#view-denied").show():$("#preview").ejDashboardViewer({accessToken:accessToken,serviceUrl:dashboardServiceUrl,serverUrl:dashboardServerUrl,_enableHyperLinkOnErrorMessage:!1,dashboardPath:e.Value,cdnFilePath:isUseCdn?cdnLink+"/scripts/viewer":"",reportName:"",reportDescription:"",enableExport:!0,enablePrint:!1,enableWidgetMode:!1,showGetLinkIcon:!1,showTab:""==t,_selectedTabGuid:t,interactionSettings:{allowHistoryMaintenance:!1,handleHistoryEvent:!1},beforeContextMenuOpen:function(e){!function(e,t,a){for(var o=e.length;o--;)e[o]&&e[o].hasOwnProperty(t)&&2<arguments.length&&e[o][t]===a&&e.splice(o,1)}(e.menuData,"text","Export")}}):WarningAlert(window.Server.App.Localization.PreviewItem,window.Server.App.Localization.InternalServerError,7e3)}}),ShowWaitingProgress("#preview","hide")}function getChildDashboard(e){""!=e&&null!=e&&($.ajax({type:"POST",url:getChildDashboardsUrl,data:{parentItemId:e},success:function(e){var t,a;e.Success?(t=e.Value[0].ParentId,a=e.Value[0].Name,e.Value.unshift({DesignerId:t,DisplayName:"All",ParentName:a,IsParentId:!0}),childDashboards=e.Value,getDashboardWidgets(e.Value)):WarningAlert(window.Server.App.Localization.PinDashboard,window.Server.App.Localization.MultiDashboardsError,7e3)}}),$("#items").ejWaitingPopup("hide"))}function searchDashboardWidgets(t,e){var a=[];$.each(childDashboards,function(e){0<=childDashboards[e].DisplayName.toLowerCase().indexOf(t.toLowerCase())&&a.push(childDashboards[e])}),getDashboardWidgets(a)}function getDashboardWidgets(e){$("#items").ejGrid({dataSource:e,allowScrolling:!0,scrollSettings:{height:548,allowVirtualScrolling:!0,virtualScrollMode:ej.Grid.VirtualScrollMode.Normal,buttonSize:0,autoHide:!0},gridLines:ej.Grid.GridLines.Horizontal,pageSettings:{pageSize:20},allowSorting:!0,enableAltRow:!1,allowSearching:!0,allowFiltering:!0,filterSettings:{filterType:"menu"},actionBegin:"fnActionBegin",actionComplete:"fnActionComplete",rowSelecting:function(e){},rowDataBound:function(){},dataBound:function(e){},enableRowHover:!0,columns:[{template:!0,templateID:"#child",field:"",type:"string"}]})}$(document).ready(function(e){$("body, .login-main, #server-app-container").removeAttr("style"),$("#layout-body-loader-icon").css("display","none"),$(document).on("click",".close-warning-icons",function(e){$("#content-area").removeClass("suspension-warning-space"),$(".suspension-warning").css("display","none"),$("#homepage-header").removeClass("header-warning")}),$(document).on("click",".close-user-warning-icons",function(e){$("#content-area").removeClass("user-warning-space"),$(".user-warning").css("display","none"),$("#homepage-header").removeClass("header-warning")}),$("form").attr("autocomplete","off"),$("input[type=text], input[type=password]").attr("autocomplete","off"),$('[data-toggle="tooltip"]').tooltip(),$('.help-option [second-toggle="tooltip"]').tooltip("destroy"),$('.help-option [second-toggle="tooltip"]').tooltip({animation:!0,delay:{show:500,hide:100}}),$('#app-navigation [data-toggle="tooltip"]').tooltip("destroy"),$('#app-navigation [data-toggle="tooltip"]').tooltip({animation:!0,delay:{show:500,hide:100}}),$('.img-view-holder [data-toggle="tooltip"]').tooltip("destroy"),$('.img-view-holder [data-toggle="tooltip"]').tooltip({container:"body"}),$(".dropdown-menu #notify_header").click(function(e){e.stopPropagation()}),$(document).on("click","#notification-content-area.dropdown-menu",function(e){e.stopPropagation()}),$("#notification-icon").click(function(){var e,t;$("#notification-link").hasClass("open")||((e=angular.element($("#notification-content")).scope()).$apply(function(){e.notifications=[],e.isFinal=!0,e.skip=0}),t=createLoader("notification-content-area"),"undefined"!=typeof BoldBIDashboard?($("#notification-content-area").BoldBIDashboardWaitingPopup({template:$("#"+t)}),$("#notification-content-area").addClass("show"),$("#notification-content-area").BoldBIDashboardWaitingPopup("show")):($("#notification-content-area").ejWaitingPopup({template:$("#"+t)}),$("#notification-content-area").addClass("show"),$("#notification-content-area").ejWaitingPopup("show")),$("#notification-content-area").removeClass("show"),$.ajax({type:"GET",url:getUserNotificationsPartialViewResultUrl,success:function(e){var t,o;null!==e&&(angular.element($("#notification-content")).scope(),t=e.Data,o=angular.element($("#notification-content")).scope(),"undefined"!=typeof BoldBIDashboard?parent.$("#notification-content-area").BoldBIDashboardWaitingPopup("show"):parent.$("#notification-content-area").ejWaitingPopup("show"),o.$apply(function(){for(var a=o.skip,e=0;e<t.LogList.length;e++)o.notifications.push(t.LogList[e]);0<t.LogList.length?parent.$("#view-all-notification").removeClass("not-active"):parent.$("#view-all-notification").addClass("not-active"),o.totalNotifications=t.LogCount,o.skip=o.skip+t.LogList.length,o.isFinal=o.skip==o.totalNotifications,"undefined"!=typeof BoldBIDashboard?parent.$("#notification-content-area").BoldBIDashboardWaitingPopup("hide"):parent.$("#notification-content-area").ejWaitingPopup("hide"),setTimeout(function(){for(var e=document.getElementsByTagName("img"),t=a;t<e.length;t++)e[t].getAttribute("data-actual-image")&&e[t].setAttribute("src",e[t].getAttribute("data-actual-image"))},700)}))}}),$("#notification-indicator").remove())}),$("#bold-etl").click(function(e){canCheckEtlHealthStatus&&(isEtlstatusChecked?(document.getElementById("bold-etl-href").click(),isEtlstatusChecked=!1):(e.preventDefault(),$.ajax({type:"Post",url:etlHealthyStatusUrl,success:function(e){e.isEtlServiceHealthy?(isEtlstatusChecked=!0,$("#bold-etl").click()):warningToast(window.Server.App.Localization.ETLLogoDisabled.format("<a target='_blank' href='"+etlHelpLink+"'>","</a>"))}})))}),$(function(){$(document).click(function(e){$("#menu-area").hasClass("in")&&$("#menu-area").collapse("hide")})}),$(document).on("touchend",function(e){$("#menu-area").hasClass("in")&&$("#menu-area").collapse("hide")});var t,a=$('<div id="nav-backdrop" class="modal-backdrop" style="z-index: 50; top: 0; left: 0; right: 0; bottom: 0; width: 100%; height: 100%; color: #fff; opacity: 0; position: absolute"></div>');function o(){$(this).show(),"footerlogo"===$(this).attr("id")&&$(this).parent().parent().find("div.lazyload").remove(),$(this).parent().find("div.lazyload").remove()}$("#upload-item-section, #notification-link, #account-profile").on("hidden.bs.dropdown",function(){parent.$("#nav-backdrop").hide()}),$("#notification-link, #account-profile, #upload-item-section").click(function(e){0===$(".dropdown-backdrop").length&&$("body").append(a),$("#notification-link").hasClass("open")&&$("#account-profile").hasClass("open"),a.show()}),$(document).on("click","#account-profile .profile-info",function(e){e.stopPropagation()}),a.click(function(){a.hide()}),$(document).on("click",".dropdown-backdrop",function(){parent.$("#nav-backdrop").hide()}),"ad-user-import"==(searchId=$("#search-area").children("input").attr("id"))||"AD-group-import"==searchId||"search-ad-users"==searchId||"search-ad-groups"==searchId?($.xhrPool=[],$.xhrPool.abortAll=function(){$(this).each(function(e,t){t.abort()}),$.xhrPool.length=0},$.ajaxSetup({beforeSend:function(e){setToken(e),$.xhrPool.push(e)},complete:function(e){e=$.xhrPool.indexOf(e);-1<e&&$.xhrPool.splice(e,1)},error:function(e){errorCallBack(e)}})):($.xhrPool=[],$.xhrPool.abortAll=function(){$(this).each(function(e,t){t.abort()}),$.xhrPool.length=0},"undefined"!=typeof ej&&void 0!==ej.UrlAdaptor?(ej.UrlAdaptor.prototype.beforeSend=function(e,t){setToken(t),$.xhrPool.push(t)},$.ajaxSetup({beforeSend:function(e){setToken(e)},complete:function(e){e=$.xhrPool.indexOf(e);-1<e&&$.xhrPool.splice(e,1)},error:function(e){errorCallBack(e)}})):"undefined"!=typeof BoldBIDashboard&&void 0!==BoldBIDashboard.UrlAdaptor?(BoldBIDashboard.UrlAdaptor.prototype.beforeSend=function(e,t){$.xhrPool.push(t)},$.ajaxSetup({beforeSend:function(e){setToken(e)},complete:function(e){e=$.xhrPool.indexOf(e);-1<e&&$.xhrPool.splice(e,1)},error:function(e){errorCallBack(e)}})):$.ajaxSetup({beforeSend:function(e){setToken(e)},error:function(e){errorCallBack(e)}})),$(".lazyload").each(function(){var e,t;"footerlogo"===$(this).attr("data-id")?((img=document.createElement("img")).onload=o,img.src=$(this).attr("data-src"),img.alt=$(this).attr("data-alt"),img.id=$(this).attr("data-id"),$(img).attr("onerror",$(this).attr("data-default")),img.style="display: none",$(this).parent().find("p#poweredbysyncfusion").append(img)):"profilelogo"===$(this).attr("data-id")||"user-profile-picture"===$(this).attr("data-id")?((img=document.createElement("img")).onload=o,img.src=$(this).attr("data-src-value"),img.alt=$(this).attr("data-alt"),img.id=$(this).attr("data-id"),$(img).attr("onerror",$(this).attr("data-default")),img.style="display: none",$(this).parent().append(img)):((img=document.createElement("img")).onload=o,img.src=$(this).attr("data-src"),img.alt=$(this).attr("data-alt"),img.id=$(this).attr("data-id"),$(img).attr("onerror",$(this).attr("data-default")),img.style="display: none",$(this).parent().append(img),"application-logo"===$(this).attr("data-id")&&(e=$(this).attr("data-src"),t=$(this).attr("data-isdefault"),void 0!==e)&&""!==e&&3<e.length&&("svg"===e.substr(e.length-3,e.length).toLowerCase()&&$("#application-logo").addClass("application-logo-svg"),"true"==t.toLowerCase())&&$("#application-logo").addClass("add-margin"))}),window.isSiteLoaded=!1,$(document).on("show.bs.dropdown","#dropdown-profile",function(){"true"==isUmsAdmin.toLowerCase()&&$("#dropdown-profile .dropdown-menu.sub-menu .admin-privilege").show(),"undefined"!=typeof isSelfHosted&&isSelfHosted&&!window.isSiteLoaded&&$.ajax({type:"POST",url:window.userTenantsUrl,success:function(e){$("#user-sites .loader-sites-gif").remove();for(var t=e.Sites,a=2<t.length?2:t.length,o=0;o<a;o++){var i=t[o].DNS,n=i.split("bi"),r=(null!=t[o].TenantIdentifier&&(i+="/"+window.tenantIdentifierPrefix+"/"+t[o].TenantIdentifier),i+"/get-client-logo?logotype=headerlogo"),s=$(".profile-section-list").find("#user-sites");1<s.length?s.each(function(){var e=$("<a href='"+i+"' target='_blank'> <div class='site-logo-container'> <img src='"+r+"' alt='boldbi-header' onerror=\"this.onerror = null; this.src = '"+n[0]+"ums/images/boldbi/application/broken_image_400_255.png';\" class='site-logo'/><span class='site-name'>"+t[o].TenantName+"</span></div></a>");$(this).append(e)}):$("#user-sites").append($("<a href='"+i+"' target='_blank'> <div class='site-logo-container'> <img src='"+r+"' alt='boldbi-header' onerror=\"this.onerror = null; this.src = '"+n[0]+"ums/images/boldbi/application/broken_image_400_255.png';\" class='site-logo'/><span class='site-name'>"+t[o].TenantName+"</span></div></a>"))}e=$(".profile-section-list").find("#more-sites-id");1<e.length?e.each(function(){var e;3<=t.length?(e=$("<div class='pull-left more-sites'><a href='"+window.idpUrl+"/ums/homepage' target='_blank'>more sites...</a></div>"),$(this).append(e)):$(this).remove()}):3<=t.length?$("#more-sites-id").append("<div class='pull-left more-sites'><a href='"+window.idpUrl+"/ums/homepage' target='_blank'>more sites...</a></div>"):$("#more-sites-id").remove(),window.isSiteLoaded=!0}})}),$(".hide-display").each(function(){$(this).removeClass("hide-display")}),"undefined"!=typeof showFeedbackDialog&&"true"==showFeedbackDialog.toLowerCase()&&($("#do-not-show-button").removeClass("display-none"),$("#show-later-button").removeClass("display-none"),$("#cancel-button").addClass("display-none"),$("#close-general-feedback").attr("data-feedback-close",!1),openFeedbackWindow()),("undefined"!=typeof ej&&void 0!==ej.WaitingPopup||"undefined"!=typeof BoldBIDashboard&&void 0!==BoldBIDashboard.WaitingPopup)&&(t=createLoader("#body"),"undefined"!=typeof BoldBIDashboard?$("#body").BoldBIDashboardWaitingPopup({template:$("#"+t)}):$("#body").ejWaitingPopup({template:$("#"+t)}))}),window.addEventListener("load",function(){setTimeout(function(){"undefined"!=typeof getTenantStatusUrl&&$.ajax({type:"Post",url:getTenantStatusUrl,success:function(e){var t,a;void 0!==e&&e.IsAdmin&&!e.IsTenantStatusActive&&($(".warning-content").text(""),t=window.location.pathname.indexOf("administration/payments"),a="","MarkedForSuspension"!==e.TenantStatus||-1<t?"Suspended"===e.TenantStatus&&(a=window.Server.App.Localization.SuspendedWarning+" <span class='close-warning-icons su-close'></span>",$(".warning-content").append(a),$(".suspension-warning").css("display","block"),$("#content-area").addClass("suspension-warning-space")):(a=window.Server.App.Localization.SuspensionWarningInfo.format(e.TenantStatusUpdateDate," <a href='"+paymentPageUrl+"' target='_blank'>","</a>"),$(".warning-content").append(a),$(".suspension-warning").css("display","block"),$("#content-area").addClass("suspension-warning-space")),"undefined"!=typeof isMobile)&&isMobile&&($(".suspension-warning").css({top:"40px",margin:0}),$(".suspension-warning .warning-content").css("padding-right","50px"))}}),"undefined"!=typeof isEmbedCode&&isEmbedCode||"undefined"!=typeof getNotificationCountUrl&&$.ajax({type:"Post",url:getNotificationCountUrl,success:function(e){null!=e&&(0<e.notificationCount?$("#user-system-notification").append($("<span>").attr({id:"notification-indicator"})):$("#user-system-notification").find("#notification-indicator").remove())}})},5e3)}),$(document).on("keyup","textarea",function(e){8!=e.keyCode&&46!=e.keyCode&&null!=(e=$(this).attr("maxlength"))&&$(this).val().length>=e&&$(this).val($(this).val().substring(0,e))}),$("textarea").keyup(function(e){8!=e.keyCode&&46!=e.keyCode&&(e=255,null!=$(this).attr("maxlength")&&(e=$(this).attr("maxlength")),$(this).val().length>=e)&&$(this).val($(this).val().substring(0,e))}),$(document).on("focus","input[type=text],input[type=password],textarea",function(){regexIe8.test(userAgent)&&$(this).next(".placeholder").removeClass("show").addClass("hide")}),$(document).on("focusout","input[type=text],input[type=password],textarea",function(){regexIe8.test(userAgent)&&""===$(this).val()&&$(this).next(".placeholder").removeClass("hide").addClass("show")}),$(document).on("focus",".placeholder",function(){$(this).prev("input").focus()}),$(document).on("keyup","#SearchCategory, #search-groups, #search-group-users, #ad-user-import, #userSearchKey,#groupSearchKey, #ad-group-import, #searchItems, #search-slideshows, #search-schedules, #search-users, #search-published-items, #search-ad-users, #search-ad-groups, #search-user-permission, #search-group-permission, #search-database-users,#search-tree, #search-home-page, #search-items, .search-user-holder, .tree-view-search-holder, #search-linked-accounts, #template-datasource-search-items, #search-linked-dashboards, #search-webhooks, #search-webhooks-grid, #search-downloaded-items, #search-imported-users-grid, #search-failed-users-grid, #search-sample-items",function(e){var t="#"+this.id;""!=$(t).val()?"#search-home-page"==t?$(t).parent().siblings("span.close-icon").css("display","block"):($(t).siblings("span.close-icon").css("display","block"),$(t).siblings("span.search-user").css("display","none"),$(t).siblings("span.search-accounts").css("display","none"),$(t).siblings("span.search-group").css("display","none"),$(t).siblings("span.search-group-users").css("display","none"),$(t).siblings("span.search-icon").css("display","none"),$(t).siblings("span.search-item").css("display","none"),$(t).siblings("span.search-schedule").css("display","none"),$(t).siblings("span.search-slideshows").css("display","none"),$(t).siblings("span.search").css("display","none")):("#search-home-page"==t?$(t).parent():($(t).siblings("span.close-icon").css("display","none"),$(t))).siblings("span.su-search").css("display","block")}),$(document).on("click","#clear-search,.clear-search",function(){var e,t,a=$(this).prevAll("input"),o="#"+(a=""==(a=$(this).hasClass("mobile-search-close-icon")?$(this).nextAll("input"):a)||null==a||a.length<=0?$(this).prev("div").find("input"):a).attr("id");a.val(""),clearSearch||$(this).css("display","none"),""==a.val()?("#search-home-page"!=o||clearSearch?$(this).siblings("span.su-search").css("display","block"):($("#clear-search").parent().siblings("span.su-search").css("display","block"),$(".search-area").removeClass("add-background"),$(".placeholder, #clear-search").hide(),$(".all-items").hasClass("active")&&!$("#category-list").is(":visible")?setTimeout(function(){$(".search-area").prevAll().show().parent().removeClass("pull-right"),$("#category-section-name").show()},300):setTimeout(function(){$(".search-area").prevAll(":not(#back-icon)").show().parent().removeClass("pull-right"),$("#category-section-name").show()},300),setTimeout(function(){$(".search-home-section:visible").removeClass("show")},300)),"#ad-user-import"==o||"#ad-group-import"==o||"#search-database-users"==o?"#search-database-users"==o?(e=jQuery.Event("keypress",{keyCode:13}),$("#search-database-users").trigger(e)):(t="",(t="undefined"!=typeof BoldBIDashboard?$("#Grid").data("BoldBIDashboardGrid"):$("#Grid").data("ejGrid")).option("dataSource","")):PerformSearch(o),"#search-ad-users"!=o&&"#search-ad-groups"!=o||(t="#search-ad-groups"==o?(t="","undefined"!=typeof BoldBIDashboard?$("#Grid").data("BoldBIDashboardGrid"):$("#Grid").data("ejGrid")):(t="","undefined"!=typeof BoldBIDashboard?$("#user_grid").data("BoldBIDashboardGrid"):$("#user_grid").data("ejGrid")),$("#checkbox-header").prop("checked",!1),$(".checkbox-row").prop("checked",!1),t.clearSelection(),selectedObject=[],enablesyncbutton())):a.val("")}),$(document).on("keydown","#search-groups, #search-group-users, #searchItems, #search-schedules,#search-slideshows,#userSearchKey,#groupSearchKey, #search-users, #search-published-items, #search-user-permission, #search-group-permission, #search-home-page, #search-items, #search-linked-accounts, #search-linked-dashboards, #search-webhooks, #search-webhooks-grid, #search-ad-groups, #search-ad-users, #search-downloaded-items, #search-imported-users-grid, #search-failed-users-grid, #search-sample-items",function(e){$.xhrPool.abortAll();var e=parseInt(e.which),t="#"+this.id;null!=timeOut&&(clearTimeout(timeOut),timeOut=null),e===keyCode.Enter?PerformSearch(t):-1===excludedSearchKeys.indexOf(e)&&(timeOut=setTimeout(function(){PerformSearch(t)},900))}),window.onpopstate=function(e){var t=window.location.search,a=window.location.pathname.split("/"),o=(e.preventDefault(),void 0!==a[2]?a[2]:null),i=null!=(void 0!==a[3]&&"dashboards"==a[3]?a[3]:null)&&void 0!==a[4]&&isValidGuid(a[4])?a[4]:null,n=null!=i&&void 0!==a[5]?a[5]:null,r=null!=i&&void 0!==a[6]?a[6]:null,s=getQueryVariable("view"),d=getQueryVariable("tab");null!=o&&null!=s&&null!=n&&null!=r&&null!=i?i!==(null!=(void 0!==(o=$("#current-url").attr("data-url").split("/"))[3]&&"dashboards"==o[3]?o[3]:null)&&void 0!==o[4]&&isValidGuid(o[4])?o[4]:null)?(o=rootUrlAction+"/dashboards",DashboardRender(o,i,n,r,s,d)):$("#current-url").attr("data-url",rootUrlAction+"/dashboards/"+i+"/"+decodeURI(n)+"/"+decodeURI(r)+"?view="+decodeURI(s)):null!=s&&null==n&&null==r?(0==$(".item-navigation li[data-value='"+s+"']").hasClass("active")&&($(".item-navigation li").removeClass("active"),$(".item-navigation li[data-value='"+s+"']").addClass("active")),$(".item-navigation li[data-value='"+s+"']").trigger("click"),document.getElementById("dashboard_render_iframe").contentWindow.location.href="about:blank",$("#item-viewer #initial-item-message").css("display","block"),$("#dashboard_render_iframe").css("display","none")):""==t&&null==n&&null==s&&a.length<5&&(0==$(".item-navigation li[data-value='categories']").hasClass("active")&&($(".item-navigation li").removeClass("active"),$(".item-navigation li[data-value='categories']").addClass("active")),$(".item-navigation li[data-value='categories']").trigger("click"),o=decodeURI(a[a.length-1]),$(".category-link[data-category='"+o+"']").trigger("click")),null===e.state||null==document.getElementById("dashboard_render_iframe")||JSON.stringify(e.state)===JSON.stringify({})&&null===d||document.getElementById("dashboard_render_iframe").contentWindow.postMessage("filter","*")},$(document).ready(function(e){$("#cookiesubs,#cookiesubs-dashboards").on("click",function(){$(".cookie-notification").remove(),$(".cookie-notification-dashboards").remove(),$.ajax({type:"POST",url:window.setPermissionUrl})})}),$(document).on("show.bs.collapse","#menu-area",function(){$("#collapse-menu-backdrop").show(),$(".mobile-menu-icon span i").removeClass("su-mobile-menu-icon"),$(".mobile-menu-icon span i").addClass("su-close")}),$(document).on("hide.bs.collapse","#menu-area",function(){$("#collapse-menu-backdrop").hide(),$(".mobile-menu-icon span i").removeClass("su-close"),$(".mobile-menu-icon span i").addClass("su-mobile-menu-icon")}),$(document).on("hidden.bs.collapse","#menu-area",function(){$("#menu-area").css("width","175px")}),$(document).on("click","#show-detail",function(){$("#show-detail").hide(),$("#hide-detail").show(),$("#deploy-error-container").show()}),$(document).on("click","#hide-detail",function(){$("#hide-detail").hide(),$("#deploy-error-container").hide(),$("#show-detail").show()}),$(document).on("click","#deploy-error-copy",function(e){var t=$("#deploy-error-copy"),a=$("#deploy-error-box");a.prop("disabled",!1),a.select(),/Safari/.test(navigator.userAgent)&&/Apple Computer/.test(navigator.vendor)?(t.removeClass("su su-copy"),t.attr("data-original-title","")):(document.execCommand("copy"),t.attr("data-original-title",window.Server.App.Localization.Copysuccess),t.tooltip("hide").attr("data-original-title",window.Server.App.Localization.Copysuccess).tooltip("fixTitle").tooltip("show"),a.prop("disabled",!0),setTimeout(function(){t.attr("data-original-title",window.Server.App.Localization.LinkCopy),t.tooltip()},3e3))}),$(document).on("focusin","#deploy-error-box",function(){$("#deploy-error-copy").addClass("focusdiv")}),$(document).on("focusout","#deploy-error-box",function(){$("#deploy-error-copy").removeClass("focusdiv")}),$(document).ready(function(){$(document).on("click",".dashboard-sort-options, #order",function(e){"order"!=$(this).attr("id")&&($(".dashboard-sort-options").removeClass("selected"),$(this).addClass("selected")),$(this).parents("ul").prevAll().find("span.selected").text($(this).text()).attr("data-value",$(this).attr("data-value")),"order"!=e.target.id.toLowerCase()&&"order"!=e.target.parentElement.id.toLowerCase()||(a=!0,$(".sorting-icon.path1").toggleClass("opacity"),$(".sorting-icon.path2").toggleClass("opacity"));var e=$("#items").data("ejGrid"),t=($(".selected-field:visible").text().toLowerCase().trim(),$("#order").attr("data-value").toLowerCase().trim()),a=a?"descending"==t?"ascending":"descending":t;$("#order").attr("data-value",a),e.model.sortSettings.sortedColumns=[{field:$(".selected-field:visible").attr("data-value"),direction:a}],e.refreshContent()}),$(document).on("click","#item-search",function(e){var t=$("#items").attr("data-grid-type").toLowerCase();$(".search-area").hasClass("add-background")?(""!==$(".search-home-section").val()&&($(".search-home-section").val(""),(gridObj=$("#items").data("ejGrid")).model.pageSettings.currentPage=1,gridObj.refreshContent()),$(".search-area").removeClass("add-background"),$(".placeholder, .close-icon").hide(),""==t?setTimeout(function(){$("#sort-container, #order, #item-type").show()},400):"child-dashboard"==t&&(setTimeout(function(){$("#back-button, #item-type").show()},400),searchDashboardWidgets("","#childdashboard"))):(""==t?$("#sort-container, #order, #item-type").hide():"child-dashboard"==t&&$("#item-type, #back-button").hide(),$(".search-area").addClass("add-background"),setTimeout(function(){$(".close-icon").show()},300),$("#search-home-page").focus(),setTimeout(function(){$(".search-home-section:visible").addClass("show")},300)),setTimeout(function(){$(".clear-search").hide()},300)}),$(document).on("click","#search-clear",function(){var e=$("#items").attr("data-grid-type").toLowerCase();""==e?(""==$("#search-home-page").val()?($("#search-clear").css("display","none"),$(".search-area").removeClass("add-background"),setTimeout(function(){$("#sort-container, #order, #item-type").show()},400)):$("#search-home-page").val(""),PerformSearch("#search-home-page")):"child-dashboard"==e&&(""==$("#search-child-dashboard").val()?($("#search-clear").css("display","none"),$(".search-area").removeClass("add-background"),setTimeout(function(){$("#back-button, #item-type").show()},400)):$("#search-child-dashboard").val(""),searchDashboardWidgets("","#childdashboard"))}),$(document).on("click","#item-list td",function(){var e=$("#items").attr("data-grid-type").toLowerCase(),t="",a=$(this).find(".item-link").attr("data-multi-dashboard").toLowerCase(),o=(parent.$("#homepage-action-popup_wrapper").ejWaitingPopup("show"),$("#item-container").attr("data-item-type")),i=$(this).find(".item-link").attr("data-item-id");$("#item-container").attr("data-widget-id","").attr("data-dashboard-id",""),"widget"==o.toLowerCase()?$("#item-container").attr("data-widget-id",i):"dashboard"==o.toLowerCase()&&($("#item-container").attr("data-dashboard-id",i),"child-dashboard"==e)&&(o=$(this).find(".item-link").attr("data-parent-id"),t=$(this).find(".item-link").attr("data-parent-name"),$("#item-container").attr("data-parent-id",o),$("#item-container").attr("data-parent-name",t)),""!=t?$("#preview-item-name").text(t):$("#preview-item-name").text($(this).find(".item-name").text().trim()),"child-dashboard"!=e?($("#preview-owner-name").text($(this).find(".owner-name").text()),$("#preview-modified-date").text("Last modified on : "+$(this).find(".modified-time").text())):$("#preview-owner-name, #preview-modified-date, #disabled-preview, #preview-container #buttons").show(),$("#preview").removeClass().contents().remove(),"true"==a?($("#disabled-preview, #preview-container #buttons, #view-denied").hide(),$("#sort-container, #order").hide(),$("#sort-options").css("width","auto"),$(".search-area").hasClass("add-background")&&($("#search-clear").css("display","none"),$("#search-home-page").val(""),$(".search-area").removeClass("add-background"),setTimeout(function(){$("#item-type").show()},400)),$("#back-button").removeClass("display-none"),$("#items").attr("data-grid-type","child-dashboard"),$("#item-type").removeClass().addClass("col-lg-9 col-md-9 col-sm-9 col-xs-9"),$("#item-type").text($(this).find(".item-name").text().trim()),$("#search-home-page").attr("id","search-child-dashboard"),$("#preview-item-name").text(""),$("#preview-owner-name, #preview-modified-date").hide(),$("#select-item").show(),$("#items").ejWaitingPopup("show"),getChildDashboard(i)):($("#select-item, #view-denied").hide(),$("#disabled-preview, #preview-container #buttons").show())}),$(document).on("keyup","#search-child-dashboard",function(){searchDashboardWidgets($("#search-child-dashboard").val().toLowerCase(),$("#items").attr("data-grid-type"))}),$(document).on("click","#back-button",function(){getItems(dashboardsUrl),$(this).addClass("display-none"),$("#preview").removeClass().contents().remove(),$("#preview-item-name, #preview-owner-name, #preview-modified-date").text(""),$("#preview-owner-name, #preview-modified-date").show(),$("#disabled-preview, #preview-container #buttons, #view-denied").hide(),$("#sort-container, #order, #select-item").show(),$("#sort-options").css("width",""),$("#items").attr("data-grid-type",""),$("#item-type").removeClass().addClass("col-lg-5 col-md-5 col-sm-5 col-xs-5"),$("#item-type").text("All Dashboards"),parent.window.ParentName="",$("#search-child-dashboard").attr("id","search-home-page")}),$(document).on("click","#load-preview",function(){$("#disabled-preview").hide();var e=$("#items").attr("data-grid-type").toLowerCase(),t=""!=$("#item-container").attr("data-dashboard-id")?$("#item-container").attr("data-dashboard-id"):$("#item-container").attr("data-widget-id");"child-dashboard"!=e?""!=t&&previewItem(t,""):""!=(e=null!=$("#item-container").attr("data-parent-id")?$("#item-container").attr("data-parent-id"):"")?previewItem(e,t):previewItem(t,"")}),$(document).on("click","#add-button",function(){parent.$("#add-item-popup_wrapper").ejWaitingPopup("show");var t,e,a,o=$("#item-container").attr("data-item-type").toLowerCase();parent.$("#success-alert, #warning-alert").hide(),parent.window.IsPinWidget&&"widget"==o?(t=$("#item-container").attr("data-homepage-id"),e=$("#item-container").attr("data-widget-id"),""!=t&&""!=e&&$.ajax({type:"POST",url:pinWidgetUrl,data:{homepageId:t,widgetId:null!=e?e:null,dashboardId:null,tabId:null,column:null!=parent.window.PinColumn?parent.window.PinColumn:null},success:function(e){e.Success?(SuccessAlert(window.Server.App.Localization.PinWidget,window.Server.App.Localization.PinWidgetsuccess,7e3),$.ajax({type:"POST",url:getHomepageDetails,async:!0,data:{homepageId:t},success:function(e){parent.$("#widget-container").contents().remove(),parent.createHomepageDom(e),parent.renderItem(e)}})):e.Success||"pinned widgets limit exceeded"!=e.Value.toLowerCase()?WarningAlert(window.Server.App.Localization.PinWidget,window.Server.App.Localization.PinWidgetError,7e3):WarningAlert(window.Server.App.Localization.PinWidget,window.Server.App.Localization.WidgetLimitExceed,7e3)}})):parent.window.IsPinDashboard&&"dashboard"==o&&(e=$("#items").attr("data-grid-type").toLowerCase(),o=null!=$("#preview-container #preview").data("ejDashboardViewer")?$("#preview-container #preview").data("ejDashboardViewer"):null,a=$("#preview-item-name").text().trim(),parent.window.GetDashboardHomepageName=!0,parent.window.IsNewHomepageName=a.length<255?a:a.substring(0,250),"child-dashboard"!=e?(parent.window.ParentId="",parent.window.ParentName=""):(parent.window.ParentId=null!=$("#item-container").attr("data-parent-id")?$("#item-container").attr("data-parent-id"):"",parent.window.ParentName=null!=$("#item-container").attr("data-parent-name")?$("#item-container").attr("data-parent-name"):""),parent.window.DashboardId=$("#item-container").attr("data-dashboard-id"),parent.$("#homepage-action-popup").ejDialog("open"),parent.homepageActionPopup("newdashboardhomepage",o)),parent.$("#add-item-popup_wrapper").ejWaitingPopup("hide")}),$(document).keyup(function(e){27==e.keyCode&&parent.closeHomepageAddItemPopup()})});