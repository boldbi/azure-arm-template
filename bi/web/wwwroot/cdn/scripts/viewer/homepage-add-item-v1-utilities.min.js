/*!
*  filename: homepage-add-item-v1-utilities.min.js
*  version : unknown version
*  Copyright Syncfusion Inc. 2001 - 2013. All rights reserved.
*  Use of this code is subject to the terms of our license.
*  A copy of the current license can be obtained at any time by e-mailing
*  licensing@syncfusion.com. Any infringement will be prosecuted under
*  applicable laws. 
*/
function SuccessAlert(n,t,i){var r=window.parent,u=!1;try{u=r.location.host==window.location.host&&r.$("#success-alert").length>0}catch(f){u=!1}r=u?r:window;r.$("#success-alert").css("display","table");r.$("#message-header").html(n);r.$("#message-content").html(t);setTimeout(function(){r.$("#success-alert").fadeOut()},i)}function WarningAlert(n,t,i){parent.$("#warning-alert").css("display","table");parent.$("#warning-alert #message-header").html(n);parent.$(" #warning-alert #message-content").html(t);i!=null&&i!=""&&setTimeout(function(){parent.$("#warning-alert").fadeOut()},i);$(document).on("click",".close-div",function(){parent.$("#warning-alert").fadeOut()})}function MobileAlert(n,t){parent.$("#mobile-alert").fadeIn();parent.$("#mobile-alert #message").html(n);t!=null&&t!=""&&setTimeout(function(){parent.$("#mobile-alert").fadeOut(1e3)},t)}function ProgressAlert(n,t,i,r,u){var f="progress-alert_"+n,e;parent.$("#progress-alert-container").find("#"+f).length||(e='<div id="'+f+'" class="progress-alert"><div id="image-container"><div class="image-holder"><span id="progress-notify-success" class="su su-tick display-none" alt="Success Icon"><\/span><div id="progress-notify-loader"><svg x="0px" y="0px" width="24px" height="30px" viewBox="0 0 24 30" style="enable-background:new 0 0 50 50;" xml:space="preserve"><rect x="0" y="10" width="4" height="10" fill="#0565FF" opacity="0.2"><animate attributeName="opacity" attributeType="XML" values="0.2; 1; .2" begin="0s" dur="0.8s" repeatCount="indefinite" /><animate attributeName="height" attributeType="XML" values="10; 20; 10" begin="0s" dur="0.8s" repeatCount="indefinite" /><animate attributeName="y" attributeType="XML" values="10; 5; 10" begin="0s" dur="0.8s" repeatCount="indefinite" /><\/rect><rect x="8" y="10" width="4" height="10" fill="#0565FF" opacity="0.2"><animate attributeName="opacity" attributeType="XML" values="0.2; 1; .2" begin="0.15s" dur="0.8s" repeatCount="indefinite" /><animate attributeName="height" attributeType="XML" values="10; 20; 10" begin="0.15s" dur="0.8s" repeatCount="indefinite" /><animate attributeName="y" attributeType="XML" values="10; 5; 10" begin="0.15s" dur="0.8s" repeatCount="indefinite" /><\/rect><rect x="16" y="10" width="4" height="10" fill="#0565FF" opacity="0.2"><animate attributeName="opacity" attributeType="XML" values="0.2; 1; .2" begin="0.3s" dur="0.8s" repeatCount="indefinite" /><animate attributeName="height" attributeType="XML" values="10; 20; 10" begin="0.3s" dur="0.8s" repeatCount="indefinite" /><animate attributeName="y" attributeType="XML" values="10; 5; 10" begin="0.3s" dur="0.8s" repeatCount="indefinite" /><\/rect><\/svg><\/div><\/div><\/div><div id="message" class="div-close"><h1 id="message-header"><\/h1><span id="message-content"><\/span><\/div><div class="close-div"><span id="close-content">'+window.Server.App.Localization.Close+"<\/span><\/div><\/div> ",$("#progress-alert-container").append(e));parent.$("#"+f).css("display","table");parent.$("#"+f+" #message-header").html(t);parent.$("#"+f+" #message-content").html(i);u?(parent.$("#"+f+" #progress-notify-loader").addClass("display-none"),parent.$("#"+f+" #progress-notify-success").removeClass("display-none")):(parent.$("#"+f+" #progress-notify-loader").removeClass("display-none"),parent.$("#"+f+" #progress-notify-success").addClass("display-none"));r!=null&&r!=""&&setTimeout(function(){parent.$("#"+f).fadeOut()},r);$(document).on("click",".close-div",function(){var n=$(this);parent.$(n).parent().remove()})}function warningToast(n,t,i,r=null){var u="",f=0;u=isVariableNullOrUndefined(i)?"warning-toast":"warning-toast_"+i;jQuery(".toast-container.warning-toast:visible").length>0&&($(".toast-container.warning-toast:visible .toast-close").click(),f=1e3);setTimeout(function(){if(!parent.$("#progress-alert-container").find("#"+u).length){var i="<div id='"+u+"' style='display: none;' class='toast-container warning-toast'><img src='"+cdnLink+"/cdn/images/warning-toast.svg' class='toast-image-container'/><div class='toast-message'><span class='toast-message-content'><\/span>&nbsp<a class='toast-know-more'>"+window.Server.App.Localization.LearnMore+"<\/a><\/div><div class='toast-close'><span class='su su-close' title='"+window.Server.App.Localization.Close+"'><\/span><\/div><\/div>";parent.$("#progress-alert-container").append(i)}parent.$("#"+u).css("display","table");isVariableNullOrUndefined(t)?(parent.jQuery(".toast-know-more").hide(),parent.$("#"+u+" .toast-message-content").html(n)):(parent.jQuery(".toast-know-more").show(),parent.$("#"+u+" .toast-message-content").html(n),parent.$("#"+u).attr("data-error-message",t));r!=null&&parent.$("#"+u).attr("data-header",r)},f)}function successToast(n,t,i){var r="",u;r=typeof i=="undefined"?"success-toast":"success-toast_"+i;u=0;jQuery(".toast-container.warning-toast:visible").length>0&&($(".toast-container.warning-toast:visible .toast-close").click(),u=1e3);jQuery(".toast-container.success-toast:visible").length>0&&($(".toast-container.success-toast:visible .toast-close").click(),u=1e3);setTimeout(function(){var f,i,u;parent.$("#progress-alert-container").find("#"+r).length||(f="<div id='"+r+"' style='display: none;' class='toast-container success-toast'><img src='"+cdnLink+"/cdn/images/success-toast.svg' class='toast-image-container'/><div class='toast-message'><span class='toast-message-content'><\/span><\/div><div class='toast-close'><span class='su su-close' title='"+window.Server.App.Localization.Close+"'><\/span><\/div><\/div >",parent.$("#progress-alert-container").append(f));i=window.parent;u=!1;try{u=i.location.host==window.location.host&&i.$("#"+r).length>0}catch(e){u=!1}i=u?i:window;i.$("#"+r).css("display","table");i.$("#"+r+" .toast-message-content").html(n);setTimeout(function(){i.$("#"+r).fadeOut()},t)},u)}function closeWarningToastDialog(){WarningToastDialogObj.hide()}function createLoader(n,t){var i="",t,r;return typeof n=="string"?(t=n.indexOf(".")===0?".":"#",n=n.indexOf(".")===0?n.slice(1,n.length):n.indexOf("#")===0?n.slice(1,n.length):n,i=n+"-loader-icon",$("#"+i).length==0&&$(t+n).length!=0&&(r=$("<div class='loader-blue loader-icon' id='"+i+"'><svg class='circular'><circle class='path' cx='27' cy='27' r='20' fill='none' stroke-width='4' stroke-miterlimit='10'><\/circle><\/svg><\/div>"),$("body").append(r)),i):(n=t,t=n.indexOf(".")===0?".":"#",n=n.slice(1,n.length),i=n+"-loader-icon",$("#"+i).length==0&&$(t+n).length!=0&&(r=$("<div class='loader-blue loader-icon' id='"+i+"'><svg class='circular'><circle class='path' cx='27' cy='27' r='20' fill='none' stroke-width='4' stroke-miterlimit='10'><\/circle><\/svg><\/div>"),$("body").append(r)),i)}function ajaxPostCall(n,t,i,r,u,f,e){if(embedConfig.IsEmbedCode){if(n=="GET"){var o=jQuery.param(i);t.api=t.api+"?"+o;i=null}return $.ajax({type:n,url:dashboardServerApiUrlForServerEmbed+t.api,headers:{"Content-type":"application/json",Authorization:"bearer "+designerToken},data:JSON.stringify(i),beforeSend:function(n){isNullOrWhitespace(r)||r(n)},success:function(n){isNullOrWhitespace(u)||u(n)},error:function(){isNullOrWhitespace(f)||f()},complete:function(n){isNullOrWhitespace(e)||e(n)}})}return $.ajax({type:n,url:t.web,data:i,beforeSend:function(n){isNullOrWhitespace(r)||r(n)},success:function(n){isNullOrWhitespace(u)||u(n)},error:function(){isNullOrWhitespace(f)||f()},complete:function(n){isNullOrWhitespace(e)||e(n)}})}function isNullOrWhitespace(n){return n==null||n==undefined||$.trim(n)==""}function generateProfileAvatar(){$(".profile-pic-tag").each(function(){var u=$(this).attr("data-id"),i=$(this).attr("data-image-size"),f=i/2.5,a=f<10?"0":f<20?"1px":"2px",v=f<10?"1px":"2px",y=$(this).attr("data-display-name"),p=$(this).attr("data-type"),s,e,o,h,c,n,l,r,t;if($(this).html(""),u!=0){if(s=["#b7fbff","#a9eec2","#ffe0a3","#ffa1ac","#8ed6ff","#bf9fee","#ffa0d2","#32dbc6","#d2c8c8","#e3e7f1"],p=="user"){if(e=u.match(/(\d+)/g),o=0,e!=null)for(o=0;o<e.length;o++)h=e[0][0];$(this).css("background-color",s[h]);c=idpUrl+"/User/Avatar?id="+u;n=$('<img id="default-profile-image">');n.attr("src",c);n.attr("width",i);n.attr("height",i);n.css("position","absolute");n.css("top","0px");n.css("left","0px");n.css("border-radius","50%");n.appendTo($(this))}else l=u%10,$(this).css("background-color",s[l]);$(this).css("width",i);$(this).css("height",i);$(this).css("line-height",i+"px");r=y.trim().toUpperCase().split(/ /);t=$('<span id="first-letter">');isNullOrWhitespace(r[1])?t.text(r[0][0]):t.text(r[0][0]+r[1][0]);t.css("font-size",f+"px");t.css("margin-left",v);t.css("letter-spacing",a);t.appendTo($(this))}})}function isVariableNullOrUndefined(n){return typeof n!="undefined"&&n!==null?!1:!0}function isEmptyOrWhitespace(n){return $.trim(n)==""?!0:!1}function convertToBoolean(n){typeof n=="string"&&(n=n.toLowerCase());switch(n){case!0:case"true":case 1:case"1":case"on":case"yes":return!0;default:return!1}}function handleAjaxError(){}function refreshScroller(){var i=$(".collapseIcon").css("display")=="block"?$(".collapseIcon").height():0,n,t;$(window).height()-($("#CatergoryHeading").outerHeight()+$("#base_menu_container_Div").outerHeight()+$("#listing").outerHeight()+i)<0?(n=$(window).height()-($("#CatergoryHeading").outerHeight()+$("#base_menu_container_Div").outerHeight()+i),t=$("#CatergoryHeading").outerWidth(),typeof BoldBIDashboard!="undefined"?$("#ScrollElement").BoldBIDashboardScroller({height:window.innerWidth<1041?n<200?200:n:n,width:t,buttonSize:0,scrollerSize:9}):$("#ScrollElement").ejScroller({height:window.innerWidth<1041?n<200?200:n:n,width:t,buttonSize:0,scrollerSize:9})):typeof BoldBIDashboard!="undefined"?$("#ScrollElement").data("BoldBIDashboardScroller")!=undefined&&$("#ScrollElement").data("BoldBIDashboardScroller").destroy():$("#ScrollElement").data("ejScroller")!=undefined&&$("#ScrollElement").data("ejScroller").destroy()}function refreshScrollerForCategory(){for(var i,u,n,r=0,t=0;t<$("#scroll-content #listing>li").length;t++)r+=$($("#scroll-content #listing>li")[t]).outerHeight();$(window).height()-($(".item-navigation").outerHeight()+$("#header-area").outerHeight()+$("#category-listing").outerHeight()+r+$("#create-new-category").outerHeight())<0?(i=$(window).height()-($(".item-navigation").outerHeight()+$("#header-area").outerHeight()+$("#category-listing").outerHeight()+$("#create-new-category").outerHeight()),u=$(".item-navigation").outerWidth(),$(".all-items").hasClass("active")&&$("#category-list").is(":visible")&&(n="",typeof BoldBIDashboard!="undefined"?($("#scroll-content").BoldBIDashboardScroller({height:i,buttonSize:0,scrollerSize:9,autoHide:!0}),n=$("#scroll-content").data("BoldBIDashboardScroller")):($("#scroll-content").ejScroller({height:i,buttonSize:0,scrollerSize:9,autoHide:!0}),n=$("#scroll-content").data("ejScroller")),n!=undefined&&n!=null&&n.refresh())):typeof BoldBIDashboard!="undefined"?$("#scroll-content").data("BoldBIDashboardScroller")!=undefined&&$("#scroll-content").data("BoldBIDashboardScroller").destroy():$("#scroll-content").data("ejScroller")!=undefined&&$("#scroll-content").data("ejScroller").destroy()}function addPlacehoder(n){regexIe8.test(userAgent)&&$(n).find("input[type=text],input[type=password],textarea").each(function(){$(this).val()===""?$($("<div>",{"class":"placeholder",text:$(this).attr("placeholder")})).insertAfter(this).show():$($("<div>",{"class":"placeholder",text:$(this).attr("placeholder")})).insertAfter(this).hide()})}function doAjaxPost(n,t,i,r,u,f,e,o,s,h){e&&(e.is(":input:button")||e.is("button")?e.prop({disabled:!0}):showWaitingPopup(e));(o===undefined||o===null)&&(o=!0);(s===undefined||s===null)&&(s="application/x-www-form-urlencoded; charset=UTF-8");$.ajax({type:n,url:t,context:this,processData:o,contentType:s,data:i,success:h===!0?$.proxy(getFnObj(r),window,i):$.proxy(getFnObj(r),window),error:$.proxy(function(n,t,i){n.statusText!="abort";u&&getFnObj(u).call(window,n,t,i)},this),complete:$.proxy(function(n){try{var t=JSON.parse(n.responseText);t.data!=undefined&&t.data!=null&&t.data.Message!=undefined&&t.data.Message!=null&&t.data.Message.toLowerCase()=="unauthorized"&&window.location.replace(window.location.href)}catch(i){}e&&(e.is(":input:button")||e.is("button")?e.prop({disabled:!1}):hideWaitingPopup(e));f&&getFnObj(f).call(window,n)},this)})}function ShowWaitingProgress(n,t){var i;typeof BoldBIDashboard!="undefined"?t=="show"?(i=createLoader(n),$(n).BoldBIDashboardWaitingPopup({template:$("#"+i)}),$(n).BoldBIDashboardWaitingPopup("show")):$(n).BoldBIDashboardWaitingPopup("hide"):t=="show"?(i=createLoader(n),$(n).ejWaitingPopup({template:$("#"+i)}),$(n).ejWaitingPopup("show")):$(n).ejWaitingPopup("hide")}function getFnObj(n){return typeof n=="function"?n:typeof n=="string"&&window[n]?n:void 0}function showWaitingPopup(n){var t,i;typeof n=="string"?(t=n.indexOf(".")===0?".":"#",n.indexOf(".")===0||n.indexOf("#")===0?t=n:(t=t+n,n=$(n.indexOf(".")===0?n:"#"+n))):(n.first().attr("id")?(n=n.first().attr("id"),t="#"+n):(n=n.first().attr("class"),n="."+n,t=n),n=$(n.indexOf(".")===0?n:"#"+n));i=createLoader(n,t);typeof BoldBIDashboard!="undefined"?(n.BoldBIDashboardWaitingPopup({template:$("#"+i)}),n.BoldBIDashboardWaitingPopup("show")):(n.ejWaitingPopup({template:$("#"+i)}),n.ejWaitingPopup("show"))}function hideWaitingPopup(n){typeof n=="string"&&(n=$(n.indexOf(".")===0?n:"#"+n));typeof BoldBIDashboard!="undefined"?n.BoldBIDashboardWaitingPopup("hide"):n.ejWaitingPopup("hide")}function redirect(n,t){t?setTimeout(function(){window.location.assign(n)},t):window.location.assign(n)}function CheckMonthFormat(n,t){return n.includes(t)}function DateCustomFormat(n,t,i){var y,p,w,b,k,f,d,g,nt,e,h,tt,r,c,o,l,s,it,rt,a,ut,ft,u=new Date(t),v=n;p=((y=u.getFullYear())+"").slice(-2);k=(f=u.getMonth()+1)<10?"0"+f:f;b=(w=["January","February","March","April","May","June","July","August","September","October","November","December"][f-1]).substring(0,3);nt=(e=u.getDate())<10?"0"+e:e;g=(d=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"][u.getDay()]).substring(0,3);ut=e>=10&&e<=20?"th":(a=e%10)==1?"st":a==2?"nd":a==3?"rd":"th";n=n.replace("yyyy",y).replace("yy",p).replace("dddd",d).replace("ddd",g).replace("dd",nt).replace("d",e).replace("th",ut);switch(!0){case CheckMonthFormat(n,"MMMM"):n=n.replace("MMMM",w);break;case CheckMonthFormat(n,"MMM"):n=n.replace("MMM",b);break;case CheckMonthFormat(n,"MM"):n=n.replace("MM",k);break;case CheckMonthFormat(n,"M "):n=n.replace("M ",f+" ");break;case CheckMonthFormat(n,"M,"):n=n.replace("M,",f+",");break;case CheckMonthFormat(n,"M"):n=n.replace("M",f)}return i=="True"?(r=h=u.getHours(),ft=r<10?"0"+r:r,c=(o=u.getMinutes())<10?"0"+o:o,l=(s=u.getSeconds())<10?"0"+s:s,v=n.replace("HH",ft).replace("mm",c).replace("ss",l)):(r=h=u.getHours(),r==0&&(r=24),r>12&&(r-=12),tt=r<10?"0"+r:r,rt=(it=h<12?"am":"pm").toUpperCase(),c=(o=u.getMinutes())<10?"0"+o:o,l=(s=u.getSeconds())<10?"0"+s:s,v=n.replace("hhh",h).replace("hh",tt).replace("h",r).replace("mm",c).replace(":m",":"+o).replace("ss",l).replace("s",s).replace("ampm",it).replace("AMPM",rt)),v}function isNumberKey(n){var t=n.which?n.which:n.keyCode;return t!=46&&t>31&&(t<48||t>57)?!1:!0}function validateUserName(n){return/\s/g.test(n)?{isValid:!1,message:window.Server.App.Localization.HasWhiteSpace}:/[^a-zA-Z0-9]/.test(n)?{isValid:!1,message:window.Server.App.Localization.UserNameSpecialCharacterValicator}:{isValid:!0,message:"valid"}}function isValidUrl(n){return/^(?!(ftp|https?):\/\/)([a-zA-Z0-9-_]+\.)*[a-zA-Z0-9][a-zA-Z0-9-]+(\.[a-z]{2,6})?(:\d{1,5})?(\/[a-zA-Z0-9-]+[a-zA-Z0-9-]*(\.[a-z]{2,8})?)*?$/gm.test(n)?!0:!1}function isValidOrigin(n){var t=new RegExp(/^https?:\/\/(?:w{1,3}\.)?[^\s.]+(?:\.[a-z]+)*(?::\d+)?(?![^<]*(?:<\/\w+>|\/?>))/);return t.test(n)}function getMaxZIndex(){var n=0;return $("div").each(function(){var t=parseInt($(this).css("zIndex"),10);t>n&&(n=t)}),n}function IsEmail(n){return/^([\w-\.+]+)@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.)|(([\w-]+\.)+))([a-zA-Z]{2,63}|[0-9]{1,3})(\]?)$/.test(n)?!0:!1}function IsValidContactNumber(n){return/^(?:|[0-9\-\+]{9,15})$/.test(n)?!0:!1}function ValidateIsolationCode(n){var r="",u,i,t,f;if(r=typeof BoldBIDashboard!="undefined"?BoldBIDashboard.isNullOrUndefined(n):ej.isNullOrUndefined(n),!r&&n!=="")for(u=decodeURI(n).replace(/~&~/g,String.fromCharCode(251)+String.fromCharCode(251)).replace(/~=~/g,String.fromCharCode(250)+String.fromCharCode(250)).replace(/~[?]~/g,String.fromCharCode(253)+String.fromCharCode(253)).replace(/~[/]~/g,String.fromCharCode(254)+String.fromCharCode(254)).replace(/&&/g,"&").replace(/&/g,"|,|").replace(/=/g,"|:|").replace(/~,~/g,String.fromCharCode(252)+String.fromCharCode(252)),i=u.split("|,|"),t=0;t<i.length;t++)return f=i[t].split("|:|"),f.length===2?!0:!1;return!1}function onCloseMessageBox(){typeof $("#messageBox").data("BoldBIDashboardDialog")!="undefined"?$("#messageBox").BoldBIDashboardDialog("close"):$("#messageBox").ejDialog("close")}function onMessageDialogClose(){$("#messageBox").find(".message-content").text("");$(".message-box-btn-holder").html("");$(".message-box-close").html("")}function messageBox(n,t,i,r,u,f,e,o,s,h){var v,c,l,a;if($("#messageBox").find(".message-content").text(""),$(".message-box-btn-holder").html(""),$(".message-box-close").html(""),$("#messageBox").find(".message-header").html("<span class='su "+n+"'><\/span> <span class='modal-title' data-toggle='tooltip' data-placement='bottom' data-container='body' title='"+t+"'  >"+t+"<\/h2>"),$("#messageBox").find(".message-content").html(i),$("#messageBox").find(".message-content").removeClass("text-left"),r=="error")u!=undefined&&(c=$("<input type='button' class='app-button app-critical-action-button app-btn-danger pull-right' value='"+window.Server.App.Localization.YesButton+"'><\/input>"),c.bind("click",$.proxy(getFnObj(u),window))),v=$("<input type='button' class='app-button app-secondary-button app-btn-secondary pull-right' tabindex='-1' value='"+window.Server.App.Localization.NoButton+"'><\/input>"),l=$('<span class="su su-close"><\/span>'),f!=undefined?(v.bind("click",$.proxy(getFnObj(f),window)),l.bind("click",$.proxy(getFnObj(f),window))):(v.click(function(){onCloseMessageBox()}),l.click(function(){onCloseMessageBox()})),$(".message-box-close").html(l),$(".message-box-btn-holder").append(v,c),$("#messageBox").unbind("keydown");else{c=$("<input type='button' class='app-button app-secondary-button app-btn-secondary' tabindex='-1' value='"+window.Server.App.Localization.OKButton+"'><\/input>");l=$('<span class="su su-close"><\/span>');u!=undefined?(c.bind("click",$.proxy(getFnObj(u),window)),l.bind("click",$.proxy(getFnObj(u),window))):(c.click(function(){onCloseMessageBox()}),l.click(function(){onCloseMessageBox()}));$(".message-box-close").html(l);$(".message-box-btn-holder").append(c);$("#messageBox").on("keydown",function(n){switch(n.keyCode){case 13:case 27:c.click()}})}$('[data-toggle="tooltip"]').tooltip();a="";typeof $("#messageBox").data("BoldBIDashboardDialog")!="undefined"?($("#messageBox").BoldBIDashboardDialog("open"),$("#messageBox").focus(),a=window.parent.document?parent.$("#messageBox").data("BoldBIDashboardDialog"):$("#messageBox").data("BoldBIDashboardDialog")):($("#messageBox").ejDialog("open"),$("#messageBox").focus(),a=window.parent.document?parent.$("#messageBox").data("ejDialog"):$("#messageBox").data("ejDialog"));setTimeout(function(){e!=undefined&&a.option("width",e);window.innerWidth>1040&&o==undefined&&(o=$("#messageBox").find(".modal-content").height()+135+"px");a.option("height",o);s!=undefined&&a.option("maxHeight",s)},50);h!=null&&h!=undefined&&a.option("cssClass",h);setTimeout(function(){var n=$(".message-header").innerHeight()+$(".message-content.text-center").innerHeight()+$(".message-box-btn-holder").innerHeight()+5;$("#messageBox").height(n+"px");$("#messageBox_wrapper .e-dialog-scroller.e-scroller.e-js.e-widget").height($("#messageBox").outerHeight(!0)+"px")},100)}function deleteUserAvatar(){ShowWaitingProgress("#user-profile-master","show");doAjaxPost("POST",deleteavatarUrl,{email:$("#user-email").val()},function(n){ShowWaitingProgress("#user-profile-master","hide");n.status?messageBox("su-delete",window.Server.App.Localization.DeleteAvatar,window.Server.App.Localization.DeleteAvatarSuccess,"success",function(){var n=$("#logged-user").html().toLowerCase();$("#user-profile-picture").attr("src",getdefaultavatarUrl);$("#user-profile-picture").siblings("#avatar-delete-click").remove();$("#user-name").val()==n&&$(".profile-picture,#profile-picture-menu").find("img").attr("src",getdefaultavatarUrl);onCloseMessageBox()}):messageBox("su-delete",window.Server.App.Localization.DeleteAvatarTitle,window.Server.App.Localization.DeleteAvatarError,"success",function(){onCloseMessageBox()})})}function IsValidName(n,t){var i;return i=n.toLowerCase()==="username"?new RegExp(/[*\[\\\]\|\/\:\<\>\%\+\#\&\?\'\"\@\;\,]/):new RegExp(/[*\[\\\]\|\/\:\<\>\%\+\#\?\'\"\;\,]/),!i.test(t)}function IsValideCopyRightInfo(n){var t=new RegExp("<[^>]+>");return!t.test(n)}function IsValidNumber(n){return/^\d+$/.test(n)}function UsernameValidation(n){return/^[a-zA-Z0-9]([._-](?![._-])|[a-zA-Z0-9]){1,252}[a-zA-Z0-9]$/.test(n)?!0:!1}function IsValidUsername(n){return UsernameValidation(n)||IsEmail(n)}function IsValidUsernameLength(n){return/^.{3,254}$/.test(n)?!0:!1}function GridLocalization(n=null){var t={EmptyRecord:n!=null?n:window.Server.App.Localization.NoRecords,StringMenuOptions:[{text:window.Server.App.Localization.SearchKeyStart,value:"StartsWith"},{text:window.Server.App.Localization.SearchKeyEnd,value:"EndsWith"},{text:window.Server.App.Localization.SearchKeyContanins,value:"Contains"},{text:window.Server.App.Localization.SearchKeyEqual,value:"Equal"},{text:window.Server.App.Localization.SearchKeyNotEqual,value:"NotEqual"}],FilterMenuCaption:window.Server.App.Localization.FilterValue,Filter:window.Server.App.Localization.Filter,Clear:window.Server.App.Localization.ClearSearch},i={pagerInfo:window.Server.App.Localization.PageCount,firstPageTooltip:window.Server.App.Localization.FirstPage,lastPageTooltip:window.Server.App.Localization.LastPage,nextPageTooltip:window.Server.App.Localization.NextPage,previousPageTooltip:window.Server.App.Localization.PreviousPage};typeof BoldBIDashboard!="undefined"?(BoldBIDashboard.Grid.Locale["en-US"]=t,BoldBIDashboard.Pager.Locale["en-US"]=i):(ej.Grid.Locale["en-US"]=t,ej.Pager.Locale["en-US"]=i)}function ExcelFilterLocalization(){var n={SortTextAscending:window.Server.App.Localization.SortTextAscending,SortTextDescending:window.Server.App.Localization.SortTextDescending,ClearFilter:window.Server.App.Localization.ClearFilterGrid,TextFilter:window.Server.App.Localization.TextFilter,title:window.Server.App.Localization.CustomFilter,PredicateOr:window.Server.App.Localization.Or,PredicateAnd:window.Server.App.Localization.And,MatchCase:window.Server.App.Localization.MatchCase,Showrowswhere:window.Server.App.Localization.ShowRowsWhere,StringMenuOptions:[{text:window.Server.App.Localization.SearchKeyStart,value:"StartsWith"},{text:window.Server.App.Localization.SearchKeyEnd,value:"EndsWith"},{text:window.Server.App.Localization.SearchKeyContanins,value:"Contains"},{text:window.Server.App.Localization.SearchKeyEqual,value:"Equal"},{text:window.Server.App.Localization.SearchKeyNotEqual,value:"NotEqual"}],ResponsiveSorting:window.Server.App.Localization.Sort,OK:window.Server.App.Localization.OKButton,EmptyRecord:window.Server.App.Localization.NoRecords,Clear:window.Server.App.Localization.ClearSearch,Cancel:window.Server.App.Localization.CancelButton,NoResult:window.Server.App.Localization.NoMatchesFound,Search:window.Server.App.Localization.Search,Columns:window.Server.App.Localization.Columns,SelectAll:window.Server.App.Localization.SelectAll};typeof BoldBIDashboard!="undefined"?BoldBIDashboard.ExcelFilter.Locale["en-US"]=n:ej.ExcelFilter.Locale["en-US"]=n}function PerformSearch(n){var t,i;if(n=="#search-schedules")if(t=typeof BoldBIDashboard!="undefined"?$("#scheduleGrid").data("BoldBIDashboardGrid"):$("#scheduleGrid").data("ejGrid"),i=$("#search-schedules").val(),i.indexOf(":")>-1){var r=i.split(":")[0].toLowerCase(),u=i.split(":")[1].trim(),f=i.match(/:/g).length;f>1&&(firstKey=i.split(":")[1],secondKey=i.split(":")[2],u=(firstKey+":"+secondKey).trim());switch(r.replace(/ /g,"").toLowerCase()){case"name":r="Name";break;case"dashboard":r="ItemName";break;case"owner":r="CreatedByDisplayName";break;case"lastrun":r="LastRunString";break;case"nextscheduledrun":r="NextScheduleString";break;case"status":r="Status"}t.model.searchSettings.fields=r;t.model.searchSettings.key=u;t.refreshContent()}else t.search($("#search-schedules").val());else if(n=="#search-slideshows")t=typeof BoldBIDashboard!="undefined"?$("#slideshowGrid").data("BoldBIDashboardGrid"):$("#slideshowGrid").data("ejGrid"),t.model.pageSettings.currentPage=1,t.refreshContent();else if(n=="#search-webhooks")t=typeof BoldBIDashboard!="undefined"?$("#webhooksGrid").data("BoldBIDashboardGrid"):$("#webhooksGrid").data("ejGrid"),t.model.pageSettings.currentPage=1,t.refreshContent();else if(n=="#search-webhooks-grid")t=typeof BoldBIDashboard!="undefined"?$("#webhooksGridSettings").data("BoldBIDashboardGrid"):$("#webhooksGridSettings").data("ejGrid"),t.model.pageSettings.currentPage=1,t.refreshContent();else if(n=="#search-users")t=typeof BoldBIDashboard!="undefined"?$("#user_grid").data("BoldBIDashboardGrid"):$("#user_grid").data("ejGrid"),t.model.pageSettings.currentPage=1,t.refreshContent();else if(n=="#search-published-items")t=typeof BoldBIDashboard!="undefined"?$("#PublishItemGrid").data("BoldBIDashboardGrid"):$("#PublishItemGrid").data("ejGrid"),t.model.pageSettings.currentPage=1,t.search($("#search-published-items").val()),t.refreshContent();else if(n=="#search-ad-users")t=typeof BoldBIDashboard!="undefined"?$("#user_grid").data("BoldBIDashboardGrid"):$("#user_grid").data("ejGrid"),t.search($("#search-ad-users").val());else if(n=="#search-items")t=typeof BoldBIDashboard!="undefined"?$("#items").data("BoldBIDashboardGrid"):$("#items").data("ejGrid"),t.model.pageSettings.currentPage=1,t.refreshContent();else if(n=="#search-home-page")t=typeof BoldBIDashboard!="undefined"?$("#items").data("BoldBIDashboardGrid"):$("#items").data("ejGrid"),t.model.filterSettings.filteredColumns=[],(!$("#category-list").is(":visible")||$("#category-list").length<=0)&&($(".all-items").hasClass("active")&&(t.model.filterSettings.filteredColumns=[{field:"CategoryName",operator:"equal",value:$("#category-section-name").html()}]),t.model.pageSettings.currentPage=1,t.refreshContent());else if(n=="#search-group-users"||n=="#search-groups")t=typeof BoldBIDashboard!="undefined"?$("#Grid").data("BoldBIDashboardGrid"):$("#Grid").data("ejGrid"),t.model.pageSettings.currentPage=1,t.refreshContent();else if(n=="#search-ad-groups")t=typeof BoldBIDashboard!="undefined"?$("#Grid").data("BoldBIDashboardGrid"):$("#Grid").data("ejGrid"),t.search($("#search-ad-groups").val());else if(n=="#ad-user-import")$(".grid-error-validation").css("display","none"),$(".empty-validation").css("display","none"),$(".grid-validation").css("display","none"),searchADUsers($("#ad-user-import").val());else if(n=="#ad-group-import")$(".grid_error_validation").css("display","none"),$(".empty_validation").css("display","none"),$(".grid_validation").css("display","none"),searchADGroups($("#ad-group-import").val());else if(n=="#search-user-permission")t=typeof BoldBIDashboard!="undefined"?$("#itempermissiongrid").data("BoldBIDashboardGrid"):$("#itempermissiongrid").data("ejGrid"),t.search($("#search-user-permission").val());else if(n=="#search-group-permission")t=typeof BoldBIDashboard!="undefined"?$("#itemgrouppermissiongrid").data("BoldBIDashboardGrid"):$("#itemgrouppermissiongrid").data("ejGrid"),t.search($("#search-group-permission").val());else if(n=="#userSearchKey")t=typeof BoldBIDashboard!="undefined"?$("#UserGrid").data("BoldBIDashboardGrid"):$("#UserGrid").data("ejGrid"),t.refreshContent();else if(n=="#groupSearchKey")t=typeof BoldBIDashboard!="undefined"?$("#GroupGrid").data("BoldBIDashboardGrid"):$("#GroupGrid").data("ejGrid"),t.refreshContent();else if(n=="#search-linked-accounts")t=typeof BoldBIDashboard!="undefined"?$("#ConnectedAccountGrid").data("BoldBIDashboardGrid"):$("#ConnectedAccountGrid").data("ejGrid"),t.search($("#search-linked-accounts").val());else if(n=="#search-linked-dashboards")if(t=typeof BoldBIDashboard!="undefined"?$("#view_linked_dashboards").data("BoldBIDashboardGrid"):$("#view_linked_dashboards").data("ejGrid"),i=$("#search-linked-dashboards").val(),i.indexOf(":")>-1){var r=i.split(":")[0].toLowerCase(),u=i.split(":")[1].trim(),f=i.match(/:/g).length;f>1&&(firstKey=i.split(":")[1],secondKey=i.split(":")[2],u=(firstKey+":"+secondKey).trim());switch(r.replace(/ /g,"").toLowerCase()){case"name":r="Name"}t.model.searchSettings.fields=r;t.model.searchSettings.key=u;t.refreshContent()}else t.search($("#search-linked-dashboards").val())}function getQueryVariable(n){for(var i,u=window.location.search.substring(1),r=u.split("&"),t=0;t<r.length;t++)if(i=r[t].split("="),i[0]==n)return i[1];return null}function getUrlQueryVariable(n,t){for(var r,f=n.substring(n.indexOf("?")+1),u=f.split("&"),i=0;i<u.length;i++)if(r=u[i].split("="),r[0]==t)return r[1];return null}function getCurrentPageNumber(n,t,i,r){var u=i-t,f;return u>n?(f=u%n==0?u/n:Math.floor(u/n+1),r>f?f:r):1}function isValidGuid(n){return/^(\{){0,1}[0-9a-fA-F]{8}\-[0-9a-fA-F]{4}\-[0-9a-fA-F]{4}\-[0-9a-fA-F]{4}\-[0-9a-fA-F]{12}(\}){0,1}$/gi.test(n)}function showOrHideGridPager(n){var t="";t=typeof BoldBIDashboard!="undefined"?$(n).BoldBIDashboardGrid("option","pageSettings"):$(n).ejGrid("option","pageSettings");t.totalRecordsCount<=t.pageSize?$(n+" .e-pager").css("display","none"):$(n+" .e-pager").css("display","block")}function blurServerAppContainer(n){(n==undefined||n=="")&&(n="5px");$("#header-area, #menu-area, #content-area, footer, .cookie-notification").css("filter","blur("+n+")");$("#server-app-container").css("overflow","hidden");$("#unlock-enterprise-features-container").length>0&&$("#unlock-enterprise-features-container").addClass("blur-content")}function unblurServerAppContainer(){$("#header-area, #menu-area, #content-area, footer, .cookie-notification").css("filter","");$("#server-app-container").css("overflow","");$("#unlock-enterprise-features-container").length>0&&$("#unlock-enterprise-features-container").removeClass("blur-content")}function generateUUID(){var n=(new Date).getTime();return typeof performance!="undefined"&&typeof performance.now=="function"&&(n+=performance.now()),"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(t){var i=(n+Math.random()*16)%16|0;return n=Math.floor(n/16),(t==="x"?i:i&3|8).toString(16)})}function PreloadResources(n,t){setTimeout(function(){for(var i,u=navigator.userAgent.indexOf("Safari")!=-1&&navigator.userAgent.indexOf("Chrome")==-1||navigator.userAgent.indexOf("Edge")!=-1,r=0;r<n.length;r++)i=document.createElement("link"),i.href=n[r],i.rel=u?"preload":"prefetch",i.as=t,document.head.appendChild(i)})}function refreshToolTip(n){n==undefined&&(n="tooltip");$('[data-toggle="'+n+'"]').tooltip({animation:!0,delay:{show:500}})}function getItems(n){$("#items").ejGrid({dataSource:ej.DataManager({url:n,adaptor:"UrlAdaptor"}),allowScrolling:!0,scrollSettings:{height:548,allowVirtualScrolling:!0,virtualScrollMode:ej.Grid.VirtualScrollMode.Normal,buttonSize:0,autoHide:!0},gridLines:ej.Grid.GridLines.Horizontal,pageSettings:{pageSize:100},allowSorting:!0,enableAltRow:!1,allowSearching:!0,allowFiltering:!0,filterSettings:{filterType:"menu"},actionBegin:"fnActionBegin",actionComplete:"fnActionComplete",rowSelecting:function(){},rowDataBound:function(){},dataBound:function(){$("[data-toggle='tooltip']").tooltip()},enableRowHover:!0,columns:[{template:!0,templateID:"#itemname",field:"",type:"string"}]})}function fnActionComplete(){ShowWaitingProgress("#items","hide");$("[data-toggle='tooltip']").tooltip();showOrHideGridPager("#items")}function fnActionBegin(){var t=createLoader("items"),n;this.element.ejWaitingPopup({template:$("#"+t)});ShowWaitingProgress("#items","show");n="";$("#search-home-page").is(":visible")&&(n=$("#search-home-page").val());n.toLowerCase()!=="search"&&this.model.query._params.push({key:"searchKey",value:n})}function previewItem(n,t){ShowWaitingProgress("#preview","show");$.ajax({type:"POST",url:getPreviewItemUrl,data:{itemId:n},success:function(n){n.Success?n.Value.toLowerCase()=="viewpermissiondenied"?$("#view-denied").show():$("#preview").ejDashboardViewer({accessToken:accessToken,serviceUrl:dashboardServiceUrl,serverUrl:dashboardServerUrl,_enableHyperLinkOnErrorMessage:!1,dashboardPath:n.Value,cdnFilePath:isUseCdn?cdnLink+"/scripts/viewer":"",reportName:"",reportDescription:"",enableExport:!0,enablePrint:!1,enableWidgetMode:!1,showGetLinkIcon:!1,showTab:t==""?!0:!1,_selectedTabGuid:t,interactionSettings:{allowHistoryMaintenance:!1,handleHistoryEvent:!1},beforeContextMenuOpen:function(n){var t=function(n,t,i){for(var r=n.length;r--;)n[r]&&n[r].hasOwnProperty(t)&&arguments.length>2&&n[r][t]===i&&n.splice(r,1);return n};t(n.menuData,"text","Export")}}):WarningAlert(window.Server.App.Localization.PreviewItem,window.Server.App.Localization.InternalServerError,7e3)}});ShowWaitingProgress("#preview","hide")}function getChildDashboard(n){n!=""&&n!=null&&($.ajax({type:"POST",url:getChildDashboardsUrl,data:{parentItemId:n},success:function(n){if(n.Success){var t=n.Value[0].ParentId,i=n.Value[0].Name,r={DesignerId:t,DisplayName:"All",ParentName:i,IsParentId:!0};n.Value.unshift(r);childDashboards=n.Value;getDashboardWidgets(n.Value)}else WarningAlert(window.Server.App.Localization.PinDashboard,window.Server.App.Localization.MultiDashboardsError,7e3)}}),$("#items").ejWaitingPopup("hide"))}function searchDashboardWidgets(n){var t=[];$.each(childDashboards,function(i){childDashboards[i].DisplayName.toLowerCase().indexOf(n.toLowerCase())>=0&&t.push(childDashboards[i])});getDashboardWidgets(t)}function getDashboardWidgets(n){$("#items").ejGrid({dataSource:n,allowScrolling:!0,scrollSettings:{height:548,allowVirtualScrolling:!0,virtualScrollMode:ej.Grid.VirtualScrollMode.Normal,buttonSize:0,autoHide:!0},gridLines:ej.Grid.GridLines.Horizontal,pageSettings:{pageSize:20},allowSorting:!0,enableAltRow:!1,allowSearching:!0,allowFiltering:!0,filterSettings:{filterType:"menu"},actionBegin:"fnActionBegin",actionComplete:"fnActionComplete",rowSelecting:function(){},rowDataBound:function(){},dataBound:function(){},enableRowHover:!0,columns:[{template:!0,templateID:"#child",field:"",type:"string"}]})}const isFirefox=navigator.userAgent.indexOf("Firefox")!=-1;var WarningToastDialogObj="",keyCode={BackSpace:8,Tab:9,Enter:13,Shift:16,Ctrl:17,Alt:18,Pause:19,CapsLock:20,Esc:27,PageUp:33,PageDown:34,End:35,Home:36,LeftArrow:37,UpArrow:38,RightArrow:39,DownArrow:40,Insert:45,LeftWindow:91,RightWindow:92,SemiColon:isFirefox?59:186,Comma:188},ItemType={None:0,Category:1,Dashboard:2,Report:3,Datasource:4,Dataset:5,File:6,Schedule:7,Widget:8,ItemView:9,Slideshow:10,Settings:11,UserManagement:12},PermissionAccess={None:0,Create:1,Read:2,ReadWrite:6,ReadWriteDelete:14},excludedSearchKeys=[keyCode.Tab,keyCode.Shift,keyCode.Ctrl,keyCode.Alt,keyCode.Pause,keyCode.CapsLock,keyCode.PageUp,keyCode.PageDown,keyCode.End,keyCode.Home,keyCode.LeftArrow,keyCode.UpArrow,keyCode.RightArrow,keyCode.DownArrow,keyCode.Insert,keyCode.LeftWindow,keyCode.RightWindow],SettingsScopes={All:0,SiteSettings:1,DashboardSettings:2,EmbedSettings:3,DataStoreSettings:4,Connector:5,Email:6,Accounts:7,UserDirectorySettings:8,AuthenticationSettings:9,NotificationSettings:10,ManageLicense:11,SupportSettings:12,Subscription:13,Payments:14,Widgets:15,Security:16,Integrations:17},PermissionEntities={None:0,AllReports:1,ReportsInCategory:2,SpecificReports:3,AllCategories:4,SpecificCategory:5,AllDataSources:6,SpecificDataSource:7,AllFiles:8,SpecificFile:9,AllSchedules:10,SpecificSchedule:11,AllDashboards:12,DashboardsInCategory:13,SpecificDashboard:14,AllWidgets:15,SpecificWidget:16,AllDatasets:17,SpecificDataset:18,SpecificItemView:19,AllItemViews:20,SpecificSlideshow:21,AllSlideshow:22,SpecificSettings:23,AllSettings:24,SpecificGroup:25,UsersandGroups:26,SpecificPermissions:27,AllPermissions:28,AllGroups:29};$(document).ready(function(){String.prototype.format=function(){a=this;for(k in arguments)a=a.replace("{"+k+"}",arguments[k]);return a};$("#warning-toast-dialog").length&&(WarningToastDialogObj=new ejs.popups.Dialog({isModal:!0,closeOnEscape:!0,width:"550px",visible:!1,animationSettings:{effect:"Zoom"}}),WarningToastDialogObj.appendTo("#warning-toast-dialog"))});$(document).on("change",".selectpicker",function(){var n=$(this).siblings(".bootstrap-select").children(".selectpicker");n.attr("data-original-title",n.attr("title"));n.removeAttr("title")});$(document).on("click",".toast-close",function(){var n=$(this).parent().attr("id");$("#"+n).fadeOut()});$(document).on("click",".toast-know-more",function(){var t=$(this).parent().parent().attr("data-error-message"),n=$(this).parent().parent().attr("data-header");typeof n!="undefined"&&n!=null&&$("#warning-toast-dialog #info-dialog-header").html(n);$("#warning-toast-content").html(t.trim().replace(/\n/g,"<br >\n"));WarningToastDialogObj.show();$("#warning-toast-dialog").show()});$(document).on("shown.bs.dropdown","td.e-rowcell",function(){var n=$(this).offset().top+$(this).outerHeight(!0)/2-$(".e-grid").offset().top-$(".e-columnheader").outerHeight(),t=$(this).find(".dropdown-menu").outerHeight(!0);n>t?$(this).find(".context-menu").removeClass("dropdown").addClass("dropup"):$(this).find(".context-menu").removeClass("dropup").addClass("dropdown")});var userAgent=navigator.userAgent,regexIe8=new RegExp("Trident(/4.0)|(Trident/5.0)"),timeOut,searchId,isSafari=navigator.userAgent.indexOf("Safari")!=-1&&navigator.userAgent.indexOf("Chrome")==-1,clearSearch=!1;$(document).ready(function(){function r(){$.ajax({type:"GET",url:getUserNotificationsPartialViewResultUrl,success:function(n){if(n!==null){var t=angular.element($("#notification-content")).scope();u(n.Data)}}})}function u(n){var t=angular.element($("#notification-content")).scope();typeof BoldBIDashboard!="undefined"?parent.$("#notification-content-area").BoldBIDashboardWaitingPopup("show"):parent.$("#notification-content-area").ejWaitingPopup("show");t.$apply(function(){for(var r=t.skip,i=0;i<n.LogList.length;i++)t.notifications.push(n.LogList[i]);n.LogList.length>0?parent.$("#view-all-notification").removeClass("not-active"):parent.$("#view-all-notification").addClass("not-active");t.totalNotifications=n.LogCount;t.skip=t.skip+n.LogList.length;t.isFinal=t.skip==t.totalNotifications;typeof BoldBIDashboard!="undefined"?parent.$("#notification-content-area").BoldBIDashboardWaitingPopup("hide"):parent.$("#notification-content-area").ejWaitingPopup("hide");setTimeout(function(){for(var t=document.getElementsByTagName("img"),n=r;n<t.length;n++)t[n].getAttribute("data-actual-image")&&t[n].setAttribute("src",t[n].getAttribute("data-actual-image"))},700)})}function t(){$(this).show();$(this).attr("id")==="footerlogo"&&$(this).parent().parent().find("div.lazyload").remove();$(this).parent().find("div.lazyload").remove()}function f(){return typeof ej!="undefined"&&typeof ej.WaitingPopup!="undefined"||typeof BoldBIDashboard!="undefined"&&typeof BoldBIDashboard.WaitingPopup!="undefined"}var n,i;$("body, .login-main, #server-app-container").removeAttr("style");$("#layout-body-loader-icon").css("display","none");$(document).on("click",".close-warning-icons",function(){$("#content-area").removeClass("suspension-warning-space");$(".suspension-warning").css("display","none");$("#homepage-header").removeClass("header-warning")});$(document).on("click",".close-user-warning-icons",function(){$("#content-area").removeClass("user-warning-space");$(".user-warning").css("display","none");$("#homepage-header").removeClass("header-warning")});$("form").attr("autocomplete","off");$("input[type=text], input[type=password]").attr("autocomplete","off");$('[data-toggle="tooltip"]').tooltip();$('.help-option [second-toggle="tooltip"]').tooltip("destroy");$('.help-option [second-toggle="tooltip"]').tooltip({animation:!0,delay:{show:500,hide:100}});$('#app-navigation [data-toggle="tooltip"]').tooltip("destroy");$('#app-navigation [data-toggle="tooltip"]').tooltip({animation:!0,delay:{show:500,hide:100}});$(".dropdown-menu #notify_header").click(function(n){n.stopPropagation()});$(document).on("click","#notification-content-area.dropdown-menu",function(n){n.stopPropagation()});$("#notification-icon").click(function(){var n,t;$("#notification-link").hasClass("open")||(n=angular.element($("#notification-content")).scope(),n.$apply(function(){n.notifications=[];n.isFinal=!0;n.skip=0}),t=createLoader("notification-content-area"),typeof BoldBIDashboard!="undefined"?($("#notification-content-area").BoldBIDashboardWaitingPopup({template:$("#"+t)}),$("#notification-content-area").addClass("show"),$("#notification-content-area").BoldBIDashboardWaitingPopup("show")):($("#notification-content-area").ejWaitingPopup({template:$("#"+t)}),$("#notification-content-area").addClass("show"),$("#notification-content-area").ejWaitingPopup("show")),$("#notification-content-area").removeClass("show"),r(),$("#notification-indicator").remove())});$(function(){$(document).click(function(){$("#menu-area").hasClass("in")&&$("#menu-area").collapse("hide")})});$(document).on("touchend",function(){$("#menu-area").hasClass("in")&&$("#menu-area").collapse("hide")});n=$('<div id="nav-backdrop" class="modal-backdrop" style="z-index: 50; top: 0; left: 0; right: 0; bottom: 0; width: 100%; height: 100%; color: #fff; opacity: 0; position: absolute"><\/div>');$("#upload-item-section, #notification-link, #account-profile").on("hidden.bs.dropdown",function(){parent.$("#nav-backdrop").hide()});$("#notification-link, #account-profile, #upload-item-section").click(function(){$(".dropdown-backdrop").length===0&&$("body").append(n);$("#notification-link").hasClass("open")?$("#account-profile").hasClass("open")?n.show():n.show():n.show()});$(document).on("click","#account-profile .profile-info",function(n){n.stopPropagation()});n.click(function(){n.hide()});$(document).on("click",".dropdown-backdrop",function(){parent.$("#nav-backdrop").hide()});searchId=$("#search-area").children("input").attr("id");searchId=="ad-user-import"||searchId=="AD-group-import"||searchId=="search-ad-users"||searchId=="search-ad-groups"?($.xhrPool=[],$.xhrPool.abortAll=function(){$(this).each(function(n,t){t.abort()});$.xhrPool.length=0},$.ajaxSetup({beforeSend:function(n){$.xhrPool.push(n)},complete:function(n){var t=$.xhrPool.indexOf(n);t>-1&&$.xhrPool.splice(t,1)}})):($.xhrPool=[],$.xhrPool.abortAll=function(){$(this).each(function(n,t){t.abort()});$.xhrPool.length=0},typeof ej!="undefined"&&typeof ej.UrlAdaptor!="undefined"?(ej.UrlAdaptor.prototype.beforeSend=function(n,t){$.xhrPool.push(t)},$.ajaxSetup({complete:function(n){var t=$.xhrPool.indexOf(n);t>-1&&$.xhrPool.splice(t,1)}})):typeof BoldBIDashboard!="undefined"&&typeof BoldBIDashboard.UrlAdaptor!="undefined"&&(BoldBIDashboard.UrlAdaptor.prototype.beforeSend=function(n,t){$.xhrPool.push(t)},$.ajaxSetup({complete:function(n){var t=$.xhrPool.indexOf(n);t>-1&&$.xhrPool.splice(t,1)}})));$(".lazyload").each(function(){var n,i;$(this).attr("data-id")==="footerlogo"?(img=document.createElement("img"),img.onload=t,img.src=$(this).attr("data-src"),img.alt=$(this).attr("data-alt"),img.id=$(this).attr("data-id"),$(img).attr("onerror",$(this).attr("data-default")),img.style="display: none",$(this).parent().find("p#poweredbysyncfusion").append(img)):$(this).attr("data-id")==="profilelogo"||$(this).attr("data-id")==="user-profile-picture"?(img=document.createElement("img"),img.onload=t,img.src=$(this).attr("data-src-value"),img.alt=$(this).attr("data-alt"),img.id=$(this).attr("data-id"),$(img).attr("onerror",$(this).attr("data-default")),img.style="display: none",$(this).parent().append(img)):(img=document.createElement("img"),img.onload=t,img.src=$(this).attr("data-src"),img.alt=$(this).attr("data-alt"),img.id=$(this).attr("data-id"),$(img).attr("onerror",$(this).attr("data-default")),img.style="display: none",$(this).parent().append(img),$(this).attr("data-id")==="application-logo"&&(n=$(this).attr("data-src"),n!==undefined&&n!==""&&n.length>3&&(i=n.substr(n.length-3,n.length),i.toLowerCase()==="svg"&&$("#application-logo").addClass("application-logo-svg"))))});window.isSiteLoaded=!1;$("#dropdown-profile").on("show.bs.dropdown",function(){var n=document.cookie.split(";");$.each(n,function(n,t){var i=t.split("=");i[0].trim()=="ums_admin_privilege"&&i[1]=="true"&&$("#dropdown-profile .dropdown-menu.sub-menu .admin-privilege").show()});typeof isSelfHosted!="undefined"&&isSelfHosted&&!window.isSiteLoaded&&$.ajax({type:"POST",url:window.userTenantsUrl,success:function(n){var t,u,i,r;for($("#user-sites .loader-sites-gif").remove(),t=n.Sites,u=t.length>2?2:t.length,i=0;i<u;i++)r=t[i].DNS,t[i].TenantIdentifier!=null&&(r+="/"+window.tenantIdentifierPrefix+"/"+t[i].TenantIdentifier),$("#user-sites").append($("<a href='"+r+"' target='_blank'> <div class='site-logo-container'> <img src='"+r+"/get-client-logo?logotype=headerlogo' alt='boldbi-header' class='site-logo'/><span class='site-name'>"+t[i].TenantName+"<\/span><\/div><\/a>"));t.length>=3?$("#more-sites-id").append("<div class='pull-left more-sites'><a href='"+window.idpUrl+"/ums/homepage' target='_blank'>more sites...<\/a><\/div>"):$("#more-sites-id").remove();window.isSiteLoaded=!0}})});$(".hide-display").each(function(){$(this).removeClass("hide-display")});typeof showFeedbackDialog!="undefined"&&showFeedbackDialog.toLowerCase()=="true"&&($("#do-not-show-button").removeClass("display-none"),$("#show-later-button").removeClass("display-none"),$("#cancel-button").addClass("display-none"),$("#close-general-feedback").attr("data-feedback-close",!1),openFeedbackWindow());f()&&(i=createLoader("#body"),typeof BoldBIDashboard!="undefined"?$("#body").BoldBIDashboardWaitingPopup({template:$("#"+i)}):$("#body").ejWaitingPopup({template:$("#"+i)}))});$(document).on("keyup","textarea",function(n){if(n.keyCode!=8&&n.keyCode!=46){var t=$(this).attr("maxlength");t!=undefined&&$(this).val().length>=t&&$(this).val($(this).val().substring(0,t))}});$("textarea").keyup(function(n){if(n.keyCode!=8&&n.keyCode!=46){var t=255;$(this).attr("maxlength")!=undefined&&(t=$(this).attr("maxlength"));$(this).val().length>=t&&$(this).val($(this).val().substring(0,t))}});$(document).on("focus","input[type=text],input[type=password],textarea",function(){regexIe8.test(userAgent)&&$(this).next(".placeholder").removeClass("show").addClass("hide")});$(document).on("focusout","input[type=text],input[type=password],textarea",function(){regexIe8.test(userAgent)&&$(this).val()===""&&$(this).next(".placeholder").removeClass("hide").addClass("show")});$(document).on("focus",".placeholder",function(){$(this).prev("input").focus()});$(document).on("keyup","#SearchCategory, #search-groups, #search-group-users, #ad-user-import, #userSearchKey,#groupSearchKey, #ad-group-import, #searchItems, #search-slideshows, #search-schedules, #search-users, #search-published-items, #search-ad-users, #search-ad-groups, #search-user-permission, #search-group-permission, #search-database-users,#search-tree, #search-home-page, #search-items, .search-user-holder, .tree-view-search-holder, #search-linked-accounts, #template-datasource-search-items, #search-linked-dashboards, #search-webhooks, #search-webhooks-grid",function(){var n="#"+this.id;$(n).val()!=""?n=="#search-home-page"?$(n).parent().siblings("span.close-icon").css("display","block"):($(n).siblings("span.close-icon").css("display","block"),$(n).siblings("span.search-user").css("display","none"),$(n).siblings("span.search-accounts").css("display","none"),$(n).siblings("span.search-group").css("display","none"),$(n).siblings("span.search-group-users").css("display","none"),$(n).siblings("span.search-icon").css("display","none"),$(n).siblings("span.search-item").css("display","none"),$(n).siblings("span.search-schedule").css("display","none"),$(n).siblings("span.search-slideshows").css("display","none"),$(n).siblings("span.search").css("display","none")):n=="#search-home-page"?$(n).parent().siblings("span.su-search").css("display","block"):($(n).siblings("span.close-icon").css("display","none"),$(n).siblings("span.su-search").css("display","block"))});$(document).on("click","#clear-search,.clear-search",function(){var t=$(this).prevAll("input"),n,r,i;(t==""||t==null||t==undefined||t.length<=0)&&(t=$(this).prev("div").find("input"));n="#"+t.attr("id");t.val("");clearSearch||$("#clear-search").css("display","none");t.val()==""?(n!="#search-home-page"||clearSearch?$("#clear-search").siblings("span.su-search").css("display","block"):($("#clear-search").parent().siblings("span.su-search").css("display","block"),$(".search-area").removeClass("add-background"),$(".placeholder, #clear-search").hide(),$(".all-items").hasClass("active")&&!$("#category-list").is(":visible")?setTimeout(function(){$(".search-area").prevAll().show().parent().removeClass("pull-right");$("#category-section-name").show()},300):setTimeout(function(){$(".search-area").prevAll(":not(#back-icon)").show().parent().removeClass("pull-right");$("#category-section-name").show()},300),setTimeout(function(){$(".search-home-section:visible").removeClass("show")},300)),n=="#ad-user-import"||n=="#ad-group-import"||n=="#search-database-users"?n=="#search-database-users"?(r=jQuery.Event("keypress",{keyCode:13}),$("#search-database-users").trigger(r)):(i="",i=typeof BoldBIDashboard!="undefined"?$("#Grid").data("BoldBIDashboardGrid"):$("#Grid").data("ejGrid"),i.option("dataSource","")):PerformSearch(n),(n=="#search-ad-users"||n=="#search-ad-groups")&&(n=="#search-ad-groups"?(i="",i=typeof BoldBIDashboard!="undefined"?$("#Grid").data("BoldBIDashboardGrid"):$("#Grid").data("ejGrid"),$("#checkbox-header").prop("checked",!1),$(".checkbox-row").prop("checked",!1),i.clearSelection()):(i="",i=typeof BoldBIDashboard!="undefined"?$("#user_grid").data("BoldBIDashboardGrid"):$("#user_grid").data("ejGrid"),$("#checkbox-header").prop("checked",!1),$(".checkbox-row").prop("checked",!1),i.clearSelection()))):t.val("")});$(document).on("keydown","#search-groups, #search-group-users, #searchItems, #search-schedules,#search-slideshows,#userSearchKey,#groupSearchKey, #search-users, #search-published-items, #search-user-permission, #search-group-permission, #search-home-page, #search-items, #search-linked-accounts, #search-linked-dashboards, #search-webhooks, #search-webhooks-grid, #search-ad-groups, #search-ad-users",function(n){$.xhrPool.abortAll();var t=parseInt(n.which),i="#"+this.id;timeOut!=null&&(clearTimeout(timeOut),timeOut=null);t===keyCode.Enter?PerformSearch(i):excludedSearchKeys.indexOf(t)===-1&&(timeOut=setTimeout(function(){PerformSearch(i)},900))});window.onpopstate=function(n){var l=window.location.search,a=window.location.pathname,t=a.split("/"),s,h,c;n.preventDefault();var v=typeof t[2]!="undefined"?t[2]:null,y=typeof t[3]!="undefined"?t[3]=="dashboards"?t[3]:null:null,r=y!=null?typeof t[4]!="undefined"?isValidGuid(t[4])?t[4]:null:null:null,f=r!=null?typeof t[5]!="undefined"?t[5]:null:null,e=r!=null?typeof t[6]!="undefined"?t[6]:null:null,i=getQueryVariable("view"),o=getQueryVariable("tab");if(v!=null&&i!=null&&f!=null&&e!=null&&r!=null){var p=$("#current-url").attr("data-url"),u=p.split("/"),w=typeof u[3]!="undefined"?u[3]=="dashboards"?u[3]:null:null,b=w!=null?typeof u[4]!="undefined"?isValidGuid(u[4])?u[4]:null:null:null;r!==b?(s=rootUrlAction+"/dashboards",DashboardRender(s,r,f,e,i,o)):$("#current-url").attr("data-url",rootUrlAction+"/dashboards/"+r+"/"+decodeURI(f)+"/"+decodeURI(e)+"?view="+decodeURI(i))}else i!=null&&f==null&&e==null?($(".item-navigation li[data-value='"+i+"']").hasClass("active")==!1&&($(".item-navigation li").removeClass("active"),$(".item-navigation li[data-value='"+i+"']").addClass("active")),$(".item-navigation li[data-value='"+i+"']").trigger("click"),h=document.getElementById("dashboard_render_iframe"),h.contentWindow.location.href="about:blank",$("#item-viewer #initial-item-message").css("display","block"),$("#dashboard_render_iframe").css("display","none")):l==""&&f==null&&i==null&&t.length<5&&($(".item-navigation li[data-value='categories']").hasClass("active")==!1&&($(".item-navigation li").removeClass("active"),$(".item-navigation li[data-value='categories']").addClass("active")),$(".item-navigation li[data-value='categories']").trigger("click"),c=decodeURI(t[t.length-1]),$(".category-link[data-category='"+c+"']").trigger("click"));n.state!==null&&document.getElementById("dashboard_render_iframe")!=undefined&&(JSON.stringify(n.state)!==JSON.stringify({})||o!==null)&&document.getElementById("dashboard_render_iframe").contentWindow.postMessage("filter","*")};$(window).on("load",function(){typeof getTenantStatusUrl!="undefined"&&$.ajax({type:"Post",url:getTenantStatusUrl,success:function(n){var i;if(n!==undefined&&n.IsAdmin){if(!n.IsTenantStatusActive){$(".warning-content").text("");var r=window.location.pathname.indexOf("administration/payments"),u=r>-1?!0:!1,t="";n.TenantStatus!=="MarkedForSuspension"||u?n.TenantStatus==="Suspended"&&(t=window.Server.App.Localization.SuspendedWarning+" <span class='close-warning-icons su-close'><\/span>",$(".warning-content").append(t),$(".suspension-warning").css("display","block"),$("#content-area").addClass("suspension-warning-space")):(t=window.Server.App.Localization.SuspensionWarningInfo.format(n.TenantStatusUpdateDate," <a href='"+paymentPageUrl+"' target='_blank'>","<\/a>"),$(".warning-content").append(t),$(".suspension-warning").css("display","block"),$("#content-area").addClass("suspension-warning-space"));typeof isMobile!="undefined"&&isMobile&&($(".suspension-warning").css({top:"40px",margin:0}),$(".suspension-warning .warning-content").css("padding-right","50px"))}!1&&(n.IsAuthorsExceed&&n.IsLicenseExpired?t="Your site license has expired, and you have exceeded the dashboard creators limit.":n.IsAuthorsExceed?t="You have exceeded the dashboard creators limit.":n.IsLicenseExpired&&(t="Your site license has expired."),i=window.location.pathname.indexOf("administration/subscription"),t=i>-1?t+" Please upgrade your plan or <a href='"+contactUsUrl+"'>contact us<\/a>. <span class='close-user-warning-icons su-close'><\/span>":t+" Please  <a href='"+manageLicenseUrl+"'> upgrade your plan<\/a> or <a href='"+contactUsUrl+"'>contact us<\/a>. <span class='close-user-warning-icons su-close'><\/span>",$(".user-warning-content").text(""),$(".user-warning-content").append(t),$(".user-warning").css("display","block"),$("#content-area").addClass("user-warning-space"))}}});typeof getNotificationCountUrl!="undefined"&&$.ajax({type:"Post",url:getNotificationCountUrl,success:function(n){n!=null&&n!=undefined&&(n.notificationCount>0?$("#user-system-notification").append($("<span>").attr({id:"notification-indicator"})):$("#user-system-notification").find("#notification-indicator").remove())}})});$(document).ready(function(){function n(){$.ajax({type:"POST",url:window.setPermissionUrl})}$("#cookiesubs,#cookiesubs-dashboards").on("click",function(){$(".cookie-notification").remove();$(".cookie-notification-dashboards").remove();n()})});$(document).on("show.bs.collapse","#menu-area",function(){$("#collapse-menu-backdrop").show();$(".mobile-menu-icon span i").removeClass("su-mobile-menu-icon");$(".mobile-menu-icon span i").addClass("su-close")});$(document).on("hide.bs.collapse","#menu-area",function(){$("#collapse-menu-backdrop").hide();$(".mobile-menu-icon span i").removeClass("su-close");$(".mobile-menu-icon span i").addClass("su-mobile-menu-icon")});$(document).on("hidden.bs.collapse","#menu-area",function(){$("#menu-area").css("width","175px")});$(document).on("click","#show-detail",function(){$("#show-detail").hide();$("#hide-detail").show();$("#deploy-error-container").show()});$(document).on("click","#hide-detail",function(){$("#hide-detail").hide();$("#deploy-error-container").hide();$("#show-detail").show()});$(document).on("click","#deploy-error-copy",function(){var n=$("#deploy-error-copy"),t=$("#deploy-error-box");t.prop("disabled",!1);t.select();/Safari/.test(navigator.userAgent)&&/Apple Computer/.test(navigator.vendor)?(n.removeClass("su su-copy"),n.attr("data-original-title","")):(document.execCommand("copy"),n.attr("data-original-title",window.Server.App.Localization.Copysuccess),n.tooltip("hide").attr("data-original-title",window.Server.App.Localization.Copysuccess).tooltip("fixTitle").tooltip("show"),t.prop("disabled",!0),setTimeout(function(){n.attr("data-original-title",window.Server.App.Localization.LinkCopy);n.tooltip()},3e3))});$(document).on("focusin","#deploy-error-box",function(){var n=$("#deploy-error-copy");n.addClass("focusdiv")});$(document).on("focusout","#deploy-error-box",function(){var n=$("#deploy-error-copy");n.removeClass("focusdiv")});$(document).ready(function(){$(document).on("click",".dashboard-sort-options, #order",function(n){var i;$(this).attr("id")!="order"&&($(".dashboard-sort-options").removeClass("selected"),$(this).addClass("selected"));$(this).parents("ul").prevAll().find("span.selected").text($(this).text()).attr("data-value",$(this).attr("data-value"));(n.target.id.toLowerCase()=="order"||n.target.parentElement.id.toLowerCase()=="order")&&(i=!0,$(".sorting-icon.path1").toggleClass("opacity"),$(".sorting-icon.path2").toggleClass("opacity"));var r=$("#items").data("ejGrid"),f=$(".selected-field:visible").text().toLowerCase().trim(),u=$("#order").attr("data-value").toLowerCase().trim(),t;t=i?u=="descending"?"ascending":"descending":u;$("#order").attr("data-value",t);r.model.sortSettings.sortedColumns=[{field:$(".selected-field:visible").attr("data-value"),direction:t}];r.refreshContent()});$(document).on("click","#item-search",function(){var n=$("#items").attr("data-grid-type").toLowerCase();$(".search-area").hasClass("add-background")?($(".search-home-section").val()!==""&&($(".search-home-section").val(""),gridObj=$("#items").data("ejGrid"),gridObj.model.pageSettings.currentPage=1,gridObj.refreshContent()),$(".search-area").removeClass("add-background"),$(".placeholder, .close-icon").hide(),n==""?setTimeout(function(){$("#sort-container, #order, #item-type").show()},400):n=="child-dashboard"&&(setTimeout(function(){$("#back-button, #item-type").show()},400),searchDashboardWidgets("","#childdashboard"))):(n==""?$("#sort-container, #order, #item-type").hide():n=="child-dashboard"&&$("#item-type, #back-button").hide(),$(".search-area").addClass("add-background"),setTimeout(function(){$(".close-icon").show()},300),$("#search-home-page").focus(),setTimeout(function(){$(".search-home-section:visible").addClass("show")},300));setTimeout(function(){$(".clear-search").hide()},300)});$(document).on("click","#search-clear",function(){var n=$("#items").attr("data-grid-type").toLowerCase();n==""?($("#search-home-page").val()==""?($("#search-clear").css("display","none"),$(".search-area").removeClass("add-background"),setTimeout(function(){$("#sort-container, #order, #item-type").show()},400)):$("#search-home-page").val(""),PerformSearch("#search-home-page")):n=="child-dashboard"&&($("#search-child-dashboard").val()==""?($("#search-clear").css("display","none"),$(".search-area").removeClass("add-background"),setTimeout(function(){$("#back-button, #item-type").show()},400)):$("#search-child-dashboard").val(""),searchDashboardWidgets("","#childdashboard"))});$(document).on("click","#item-list td",function(){var r=$("#items").attr("data-grid-type").toLowerCase(),n="",f=$(this).find(".item-link").attr("data-multi-dashboard").toLowerCase(),i,t,u;parent.$("#homepage-action-popup_wrapper").ejWaitingPopup("show");i=$("#item-container").attr("data-item-type");t=$(this).find(".item-link").attr("data-item-id");$("#item-container").attr("data-widget-id","").attr("data-dashboard-id","");i.toLowerCase()=="widget"?$("#item-container").attr("data-widget-id",t):i.toLowerCase()=="dashboard"&&($("#item-container").attr("data-dashboard-id",t),r=="child-dashboard"&&(u=$(this).find(".item-link").attr("data-parent-id"),n=$(this).find(".item-link").attr("data-parent-name"),$("#item-container").attr("data-parent-id",u),$("#item-container").attr("data-parent-name",n)));n!=""?$("#preview-item-name").text(n):$("#preview-item-name").text($(this).find(".item-name").text().trim());r!="child-dashboard"?($("#preview-owner-name").text($(this).find(".owner-name").text()),$("#preview-modified-date").text("Last modified on : "+$(this).find(".modified-time").text())):$("#preview-owner-name, #preview-modified-date, #disabled-preview, #preview-container #buttons").show();$("#preview").removeClass().contents().remove();f=="true"?($("#disabled-preview, #preview-container #buttons, #view-denied").hide(),$("#sort-container, #order").hide(),$("#sort-options").css("width","auto"),$(".search-area").hasClass("add-background")&&($("#search-clear").css("display","none"),$("#search-home-page").val(""),$(".search-area").removeClass("add-background"),setTimeout(function(){$("#item-type").show()},400)),$("#back-button").removeClass("display-none"),$("#items").attr("data-grid-type","child-dashboard"),$("#item-type").removeClass().addClass("col-lg-9 col-md-9 col-sm-9 col-xs-9"),$("#item-type").text($(this).find(".item-name").text().trim()),$("#search-home-page").attr("id","search-child-dashboard"),$("#preview-item-name").text(""),$("#preview-owner-name, #preview-modified-date").hide(),$("#select-item").show(),$("#items").ejWaitingPopup("show"),getChildDashboard(t)):($("#select-item, #view-denied").hide(),$("#disabled-preview, #preview-container #buttons").show())});$(document).on("keyup","#search-child-dashboard",function(){var n=$("#search-child-dashboard").val().toLowerCase(),t=$("#items").attr("data-grid-type");searchDashboardWidgets(n,t)});$(document).on("click","#back-button",function(){getItems(dashboardsUrl);$(this).addClass("display-none");$("#preview").removeClass().contents().remove();$("#preview-item-name, #preview-owner-name, #preview-modified-date").text("");$("#preview-owner-name, #preview-modified-date").show();$("#disabled-preview, #preview-container #buttons, #view-denied").hide();$("#sort-container, #order, #select-item").show();$("#sort-options").css("width","");$("#items").attr("data-grid-type","");$("#item-type").removeClass().addClass("col-lg-5 col-md-5 col-sm-5 col-xs-5");$("#item-type").text("All Dashboards");parent.window.ParentName="";$("#search-child-dashboard").attr("id","search-home-page")});$(document).on("click","#load-preview",function(){var i,n,t;$("#disabled-preview").hide();i=$("#items").attr("data-grid-type").toLowerCase();n=$("#item-container").attr("data-dashboard-id")!=""?$("#item-container").attr("data-dashboard-id"):$("#item-container").attr("data-widget-id");i!="child-dashboard"?n!=""&&previewItem(n,""):(t=$("#item-container").attr("data-parent-id")!=undefined?$("#item-container").attr("data-parent-id"):"",t!=""?previewItem(t,n):previewItem(n,""))});$(document).on("click","#add-button",function(){var i,n,t;if(parent.$("#add-item-popup_wrapper").ejWaitingPopup("show"),i=$("#item-container").attr("data-item-type").toLowerCase(),parent.$("#success-alert, #warning-alert").hide(),parent.window.IsPinWidget&&i=="widget")n=$("#item-container").attr("data-homepage-id"),t=$("#item-container").attr("data-widget-id"),n!=""&&t!=""&&$.ajax({type:"POST",url:pinWidgetUrl,data:{homepageId:n,widgetId:t!=undefined||""?t:null,dashboardId:null,tabId:null,column:parent.window.PinColumn!=undefined||""?parent.window.PinColumn:null},success:function(t){t.Success?(SuccessAlert(window.Server.App.Localization.PinWidget,window.Server.App.Localization.PinWidgetsuccess,7e3),$.ajax({type:"POST",url:getHomepageDetails,async:!0,data:{homepageId:n},success:function(n){parent.$("#widget-container").contents().remove();parent.createHomepageDom(n);parent.renderItem(n)}})):t.Success||t.Value.toLowerCase()!="pinned widgets limit exceeded"?WarningAlert(window.Server.App.Localization.PinWidget,window.Server.App.Localization.PinWidgetError,7e3):WarningAlert(window.Server.App.Localization.PinWidget,window.Server.App.Localization.WidgetLimitExceed,7e3)}});else if(parent.window.IsPinDashboard&&i=="dashboard"){var u=$("#items").attr("data-grid-type").toLowerCase(),f=$("#preview-container #preview").data("ejDashboardViewer")!=undefined?$("#preview-container #preview").data("ejDashboardViewer"):null,r=$("#preview-item-name").text().trim();parent.window.GetDashboardHomepageName=!0;parent.window.IsNewHomepageName=r.length<255?r:r.substring(0,250);u!="child-dashboard"?(parent.window.ParentId="",parent.window.ParentName=""):(parent.window.ParentId=$("#item-container").attr("data-parent-id")!=undefined?$("#item-container").attr("data-parent-id"):"",parent.window.ParentName=$("#item-container").attr("data-parent-name")!=undefined?$("#item-container").attr("data-parent-name"):"");parent.window.DashboardId=$("#item-container").attr("data-dashboard-id");parent.$("#homepage-action-popup").ejDialog("open");parent.homepageActionPopup("newdashboardhomepage",f)}parent.$("#add-item-popup_wrapper").ejWaitingPopup("hide")});$(document).keyup(function(n){n.keyCode==27&&parent.closeHomepageAddItemPopup()})})