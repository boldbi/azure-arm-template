function ShareView(e){var a=$(window).width(),t=$(window).height(),i=$("#viewShare_popup").width(),o=$("#viewShare_popup").height(),a=(parseInt(a)-parseInt(i))/2,i=(parseInt(t)-parseInt(o))/2;i<0&&(i=0),$("#viewShare_popup").css({left:a,top:i}),$("#viewShare_popup,.ViewShare_popup_shadow").css("display","block"),$("#sharepopup_wrapper_WaitingPopup").css("display","block"),$("#viewShare_popup_iframe").attr("src",itemViewShareIframeUrl+"?itemId="+e.viewId)}function ResizePopup(){var e=$(window).width(),a=$(window).height(),t=$("#viewShare_popup").width(),i=$("#viewShare_popup").height(),e=(parseInt(e)-parseInt(t))/2,t=(parseInt(a)-parseInt(i))/2;t<0&&(t=0),$("#viewShare_popup").css({left:e,top:t})}function openDashboardComment(e,a){var t=$("#dashboard_Comment").attr("data-item-id"),i=(t!=a.model.itemId&&(t=a.model.itemId),$("#isMultiDashboard").attr("data-item-id"));$("#commentModuleContainer").toggleClass("displayNone"),$("#commentModuleContainer").hasClass("displayNone")?closeDashboardComment():(closeWidgetComment(),"function"==typeof window.frames[0].GetAllComments?window.frames[0].GetAllComments(t,"dashboard",t,"1",i):$("#commentModuleContainer_iframe").on("load",function(){window.frames[0].GetAllComments(t,"dashboard",t,"1",i)}))}function openWidgetComment(e){0===$("#widgetCommentModuleContainer_iframe").length&&(a=$("<iframe>",{id:"widgetCommentModuleContainer_iframe",class:"comment-popup-frame",style:"height: 100%; width: 100%;",src:Commentswidgets+"?itemId="+o+"&userId="+userId+"&buildVersion="+appVersion}),$("#widgetCommentModuleContainer").append(a));var a,t,i,o=null!=e?e.reportGuid:$("#comment_Type").attr("data-item-id");$("#widgetCommentModuleContainer").hasClass("displayNone")?(a=$("#"+o).offset().left+$("#"+o).width(),e=$("#"+o).offset().top,(t=$(window).width()-(a+350))<0&&(t=$(window).width()-(a-($(window).width()<450?0:75)),$(window).width()<375)&&(t=0),$("#widgetCommentModuleContainer").css({top:e,right:t,position:"absolute","min-height":"152px",height:"152px"}),$("#widgetCommentModuleContainer").toggleClass("displayNone"),null!=(i=document.getElementById("widgetCommentModuleContainer_iframe"))&&null!=$("#widgetCommentModuleContainer_iframe").attr("src")?"function"==typeof i.contentWindow.GetAllComments?(i.contentWindow.itemId=o,i.contentWindow.GetAllComments(o,"widget",$("#dashboard_Comment").attr("data-item-id"),"1",$("#isMultiDashboard").attr("data-item-id"))):$("#commentModuleContainer_iframe").on("load",function(){i.contentWindow.itemId=o,i.contentWindow.GetAllComments(o,"widget",$("#dashboard_Comment").attr("data-item-id"),"1",$("#isMultiDashboard").attr("data-item-id"))}):$("#widgetCommentModuleContainer_iframe").attr("src",Commentswidgets+"?itemId="+o+"&userId="+userId+"&buildVersion="+appVersion)):closeWidgetComment()}function closeWidgetComment(){var e;$("#widgetCommentModuleContainer").hasClass("displayNone")||(null!=(e=document.getElementById("widgetCommentModuleContainer_iframe"))&&null!=$("#widgetCommentModuleContainer_iframe").attr("src")&&"function"==typeof e.contentWindow.GetAllComments&&(e.contentWindow.$("#commentList").html(""),e.contentWindow.$(".additional-content").html(""),e.contentWindow.$("#comment_action_area").show().removeClass("isHide"),e.contentWindow.$("#comment_submit_container").hide(),e.contentWindow.$("#comment_count").text("0"),e.contentWindow.refreshCommentScroller(),e.contentWindow.getAllCommentAjax.onreadystatechange=null,e.contentWindow.getAllCommentAjax.abort()),$("#widgetCommentModuleContainer").addClass("displayNone"),$("#delete_popup_iframe").addClass("displayNone"))}function closeDashboardComment(){void 0!==$("#commentImage_popup").data("BoldBIDashboardDialog")&&$("#commentImage_popup").BoldBIDashboardDialog("close"),$("#commentModuleContainer").addClass("displayNone"),$("#delete_popup_iframe").addClass("displayNone"),"true"==$("#is_mobile").val()&&($("#dashboard").show(),$("#server-mobile-navbar .server-comment").hasClass("active"))&&($("#server-mobile-navbar a.active").removeClass("active"),$("#server-mobile-navbar .su-nav-dashboard").addClass("active"))}function closeComment(){closeWidgetComment(),$("#dashboard").data("ejDashboardViewer").removeCommentToggleState()}function closeCommentOnResize(){"false"==$("#is_mobile").val()&&(closeWidgetComment(),$("#dashboard").data("ejDashboardViewer").removeCommentToggleState())}function openComments(){0===$("#widgetCommentModuleContainer_iframe").length&&(a=$("<iframe>",{id:"widgetCommentModuleContainer_iframe",class:"comment-popup-frame",style:"height: 100%; width: 100%;",src:Commentswidgets+"?itemId="+e+"&userId="+userId+"&buildVersion="+appVersion}),$("#widgetCommentModuleContainer").append(a)),"undefined"!=typeof isSlideshow&&isSlideshow&&parent.$("body").trigger("dashboardRenderComplete"),$("#get_item_link").length<1&&intializeGetShareLink(),"true"==isMultiDashboard.toLowerCase()&&(item_Id=$("#dashboard").data("ejDashboardViewer")._getCurrentDashboardGuid(),$("#dashboard_Comment").attr("data-item-id",item_Id),$("#favorite_Item").attr("data-item-id",item_Id));var e,a=$("#dashboard").data("ejDashboardViewer").currentReport.layout,a=($.each(a,function(e,a){"EnableComment"!=a.Key||a.Value||$("#comments").remove()}),filterView(),getUrlVars(window.location.href.split("#")[0]).comment),a=(void 0!==a&&"dashboard"==$("#comment_Type").attr("data-item-type").toLowerCase()?"true"==$("#is_mobile").val()?window.innerWidth<410&&$("#dashboard").hide():$(".options li#comments").trigger("click"):$("#commentModuleContainer iframe").attr("src",commentPageUrl+"?itemId="+$("#commentModuleContainer_iframe").attr("data-item-id")+"&userId="+userId+"&buildVersion="+appVersion),void 0!==a&&"widget"==$("#comment_Type").attr("data-item-type").toLowerCase()?(e=$("#comment_Type").attr("data-item-id"),$("#"+e).find(".e-dbrd-banner-widget-withcomments").click(),0==$("#"+e).length&&($("#filters").click(),$("#"+e).find(".e-dbrd-filterPanel-widget-withcomments").click())):$("#widgetCommentModuleContainer_iframe").attr("src",Commentswidgets+"?itemId="+e+"&userId="+userId+"&buildVersion="+appVersion),$("#dashboard").data("ejDashboardViewer")._getCurrentDashboardGuid());$("#current-selected-tab-id").attr("data-tab-id",a)}function getUrlVars(e){var i={};e.replace(/[?&]+([^=&]+)=([^&]*)/gi,function(e,a,t){i[a]=t});return i}function updatefavorite(){var e=$("#favorite_Item").attr("data-item-id"),a=$("#favorite_Item").attr("data-parent-id"),t="true"!=$("#favorite_Item").attr("data-favorite-value").toLowerCase(),i=$("#isMultiDashboard").attr("data-item-id");$.ajax({type:"POST",url:favoriteItemUrl,data:{itemId:e,favoriteValue:t,isMultiDashboard:i,parentId:a},success:function(e){e.Success?($("#favorite_Item").attr("data-favorite-value",t),$("#dashboard").data("ejDashboardViewer").toggleFavoriteIcon()):($("#delete_popup_iframe").removeClass("displayNone"),frames[1].messageBox("",window.Server.App.Localization.MarkFavoriteError,window.Server.App.Localization.InternalServerError,"success",function(){$("#delete_popup_iframe").addClass("displayNone")}))}})}$(document).ready(function(){var e=$("#viewShare_popup").height();$("#sharepopup_wrapper_WaitingPopup .loader-icon").css("top",parseInt(parseInt(e)/2)-30),"true"==$("#is_mobile").val()&&(e=$(window).height()-50,$("#dashboard").css("height",e),$(".server-dashboard-view").css("height",e))}),$(window).on("orientationchange",function(){var e;"true"==$("#is_mobile").val()&&(e=$(window).height()-50,$("#dashboard").css("height",e),$(".server-dashboard-view").css("height",e))}),$(window).on("orientationchange",function(){closeComment()});var list,parentUrl,containSaveFilter=!1,queryStringStatus=!0,clearStatus=!1,initialQueryString="",initialQueryStringParameter="",updateInitialQueryStringParameter="",saveFilterName="",currentQueryString="",parentRefUrl=window.location!=window.parent.location?document.referrer:document.location.href.replace(document.location.pathname+document.location.search,""),iframeRefUrl=(parentUrl=""==parentRefUrl?"":parentRefUrl.match(/:\/\/(.[^/]+)/)[1],window.location.href),iframeUrl=iframeRefUrl.match(/:\/\/(.[^/]+)/)[1],filtered_Values=($(document).ready(function(){var e=createLoader("dashboard"),e=($("#dashboard").ejWaitingPopup({template:$("#"+e)}),createLoader("dashboard-view-toogle")),e=($("#dashboard-view-toogle").ejWaitingPopup({template:$("#"+e)}),$("#delete-div").ejDialog({width:460<window.innerWidth?"450px":window.innerWidth-10,showOnInit:!1,allowDraggable:!1,enableResize:!1,height:"auto",title:window.Server.App.Localization.DeleteView,showHeader:!1,enableModal:!0,closeOnEscape:!0,close:"onDeleteItemDialogClose",open:"onDeleteItemDialogOpen"}),createLoader("delete-div_wrapper")),e=($("#delete-div_wrapper").ejWaitingPopup({template:$("#"+e)}),$("#save-view-popup").ejDialog({width:"600px",height:"209px",showOnInit:!1,allowDraggable:!0,enableResize:!1,title:window.Server.App.Localization.SaveView,enableModal:!0,showHeader:!1}),createLoader("save-view-popup_wrapper"));$("#save-view-popup_wrapper").ejWaitingPopup({template:$("#"+e)}),$("#dashboard-view-toogle").mouseover(function(){var e=document.getElementById("dashboard-views");null!=e&&"block"!=e.style.display&&""!=e.style.display?($("#dashboard-view-toogle").addClass("cursor-pointer"),$("#dashboard-view-toogle").removeClass("cursor-default")):($("#dashboard-view-toogle").addClass("cursor-default"),$("#dashboard-view-toogle").removeClass("cursor-pointer"))}),$("#filter_name").keypress(function(e){$("#filter-name-input").removeClass("has-error"),13==e.which&&$("#save-filter").click()}),$('[data-bs-toggle="tooltip"]').tooltip(),$.validator.addMethod("isValidName",function(e,a){return IsValidName("name",e)},window.Server.App.Localization.AvoidSpecialCharacters),$.validator.addMethod("isRequired",function(e,a){return!isEmptyOrWhitespace(e)},window.Server.App.Localization.ViewNameValidator),$("#save-view-form").validate({errorElement:"span",onkeyup:function(e,a){9!=a.keyCode&&$(e).valid()},onfocusout:function(e){$(e).valid()},rules:{viewnewname:{isRequired:!0,isValidName:!0}},messages:{viewnewname:{isRequired:window.Server.App.Localization.ViewNameValidator}},highlight:function(e){$(e).addClass("has-error")},unhighlight:function(e){$(e).removeClass("has-error"),$(e).closest("div").find("span").html("")},errorPlacement:function(e,a){$(a).closest("div").find("span").html(e.html())}}),"undefined"!=typeof isSlideshow&&isSlideshow&&$("#dashboard").swipeDetector().on("swipeLeft.sd swipeRight.sd swipeUp.sd swipeDown.sd",function(e){e=new CustomEvent("onSwipeDetected",{detail:e});window.parent.document.dispatchEvent(e)}),document.addEventListener&&(document.addEventListener("webkitfullscreenchange",fullscreenExitHandler,!1),document.addEventListener("mozfullscreenchange",fullscreenExitHandler,!1),document.addEventListener("fullscreenchange",fullscreenExitHandler,!1),document.addEventListener("MSFullscreenChange",fullscreenExitHandler,!1))}),$(document).on("click","#close-container,#close-filter,#close-comment",function(e){var a;"true"!=$("#is_mobile").val()&&(null==(a=document.getElementById("dashboard-views"))||"block"!=a.style.display&&""!=a.style.display||"su-view"==e.target.className.toLowerCase()||"options"==e.target.className.toLowerCase()||"views"==e.target.id.toLowerCase()?"dashboard-view-toogle"==e.target.id&&(containSaveFilter&&$("#saved-filter").show(),$("#dashboard").toggleClass("dashboard"),$(".view-heading").toggle(),$("#dashboard-views").toggle(),$("#dashboard-view-toogle").addClass("cursor-default"),$("#dashboard-view-toogle").removeClass("cursor-pointer"),$("#dashboard-view-toogle").toggleClass("dashboard-view-toogle"),refreshScroller()):((a=$(e.target)).parents().andSelf().is("#dashboard-view-toogle")||a.parents().andSelf().is("#PopupContainerDelete")||a.parents().andSelf().is("#messageBox"))&&!a.parents().andSelf().is("#close-container")||CloseDashboardView(),$("#commentModuleContainer").hasClass("displayNone")||"comments"==e.target.id.toLowerCase()||e.target.classList.contains("su-with-comment")||e.target.classList.contains("su-without-comment")||"options"==e.target.className.toLowerCase()?("opened"!=$("#dashboard").data("ejDashboardViewer").getFilterPanelState()&&null==$("#dashboard").data("ejDashboardViewer").getFilterPanelState()&&""==$("#validation-message").text()||"filters"==e.target.id.toLowerCase()||e.target.classList.contains("su-filter")||"options"==e.target.className.toLowerCase()||e.target.offsetParent.id.startsWith("filter-view"))&&"su su-close"!=e.target.className.toLowerCase()||($("#dashboard").data("ejDashboardViewer").closeFilterPanel(),$(".options li").removeClass("active"),$(".options").css("right","0px"),$("#filter-view p#validation-message").remove(),$("#close-filter a").css("display","none"),$("#filter-view").hide(),setDashboardWidth(),$("#dashboard").data("ejDashboardViewer").resizeDashboard()):($(".options li").removeClass("active"),$(".options").css("right","0px"),"true"==enableComment?closeDashboardComment():($("#dashboard").data("ejDashboardViewer").closeFilterPanel(),$(".options li").removeClass("active"),$(".options").css("right","0px"),$("#filter-view p#validation-message").remove(),$("#close-filter a").css("display","none"),$("#filter-view").hide()),setDashboardWidth(),$("#dashboard").data("ejDashboardViewer").resizeDashboard()),$('[data-bs-toggle="tooltip"]').tooltip())}),$(document).on("mouseenter",".border-division,.border-division-last",function(){$(this).children(".unsaved-opt").css("display","block")}).on("mouseleave",".border-division,.border-division-last",function(){$(this).children(".unsaved-opt").css("display","none")}),""),dashboardviewerObj=null;function CloseDashboardView(){0!=$("#dashboard").length?(containSaveFilter&&$("#saved-filter").show(),$("#dashboard").toggleClass("dashboard"),$(".view-heading").toggle(),$("#dashboard-views").toggle(),$("#dashboard-view-toogle").toggleClass("dashboard-view-toogle"),$("#dashboard-view-toogle #close-container a").css("display","none"),$(".options").css("right","0px"),$(".options li").removeClass("active"),"false"==$("#is_mobile").val()&&(setDashboardWidth(),$("#dashboard").data("ejDashboardViewer").resizeDashboard())):(containSaveFilter&&$("#dashboard_render_iframe").contents().find("#saved-filter").show(),$("#dashboard_render_iframe").contents().find("#dashboard").toggleClass("dashboard"),$("#dashboard_render_iframe").contents().find(".view-heading").toggle(),$("#dashboard_render_iframe").contents().find("#dashboard-views").toggle(),$("#dashboard_render_iframe").contents().find("#dashboard-view-toogle").toggleClass("dashboard-view-toogle"),$("#dashboard_render_iframe").contents().find("#dashboard-view-toogle #close-container a").css("display","none"))}function filterView(){$("#dashboard-view-toogle").ejWaitingPopup("show");var e=getcurrentfilters();""!=e&&null!=e&&null!=e.masterData&&0<e.masterData.length?(SavedViewHeight(),null!=viewId&&""!=viewId||"none"==$("#saved-filter-Saveas").css("display")&&"none"==$("#saved-filter-update").css("display")&&($("#new-save").show(),"true"==enableComment.toString().toLowerCase()&&($("#new-save").removeClass("pointer-events"),$("#new-save").css("opacity",1)),$("#nofilters").css("display","none"))):($("#new-save").addClass("pointer-events"),$("#new-save").css("opacity",.5),$("#nofilters").css("display","block")),unsavedFilters(),GetSavedFilter(),refreshScroller(),$("#dashboard-view-toogle").ejWaitingPopup("hide")}function AddView(){var t,e,a=parent.$("#dashboard").data("ejDashboardViewer"),i=getcurrentfilters().encryptedData,o=name,r=id;document.getElementById("dashboard-views");pageurl="undefined"!=typeof pageurl?pageurl:viewUrl,$("#save-view-form").valid()&&(parent.$("#save-view-popup_wrapper").ejWaitingPopup("show"),e=parent.$("#dashboard").prevAll("#isMultiDashboard").attr("data-item-id"),$.ajax({url:addViewUrl.web,data:{name:"Datas",ItemViewName:saveFilterName,QueryString:i,itemId:parent.$("#dashboard").prevAll("#favorite_Item").attr("data-item-id"),UserId:r,UserName:o,IsMultiDashboard:e,parentDashboardId:"true"==e.trim().toLowerCase()?parent.$("#dashboard").prevAll("#isMultiDashboard").attr("data-parent-id"):null,isDefault:$("#default-view").is(":checked")},type:"POST",beforeSend:function(e){e.setRequestHeader("ejAuthenticationToken",a._authenticationToken)},success:function(e){var a;"viewnamealreadyexists"==e.StatusMessage.trim().toLowerCase()?($(".validation-errors").html(window.Server.App.Localization.IsViewAlreadyExist),$("#view-name").addClass("has-error")):(closeSaveViewPopup(),clearStatus=!0,initialQueryString=i,initialQueryStringParameter=JSON.stringify(updateInitialQueryStringParameter),messageBox("su-filter",window.Server.App.Localization.AddView,window.Server.App.Localization.AddViewSuccess,"success",function(){onCloseMessageBox(),parent.$("#dashboard-view-toogle").ejWaitingPopup("show"),parent.$("#dashboard-view-toogle").find("#no-filters").css("display","none"),parent.$("#dashboard-view-toogle").ejWaitingPopup("hide")}),a=e.ItemsView[0].ViewId,$("#update-view").attr("viewid",a),$("#save-section").hide(),$("#save-lable-section label").html(""),t='<a class="saved-view-link txt-overflow" href="'+pageurl+"?viewid="+a+'&showmydashboards=1" target="_blank" data-bs-toggle="tooltip" data-original-title="'+saveFilterName+'">'+saveFilterName+"</a>",$("#save-lable-section label").append(t),$("#save-lable-section").show(),$("#new-save").hide(),$("#saved-filter-update").show(),$("#update-view").addClass("pointer-events"),$("#update-view").css("opacity",.5),$("#saved-filter-Saveas").hide(),GetSavedFilter(),refreshScroller()),parent.$("#dashboard").data("ejDashboardViewer").updateFilterOverview(saveFilterName,a),$("#dashboard-view-toogle").ejWaitingPopup("hide"),parent.$("#save-view-popup_wrapper").ejWaitingPopup("hide")},error:function(e){messageBox("su-filter",window.Server.App.Localization.AddView,window.Server.App.Localization.InternalServerError,"success",function(){onCloseMessageBox()}),$("#dashboard-view-toogle").ejWaitingPopup("hide"),parent.$("#save-view-popup_wrapper").ejWaitingPopup("hide")}}))}function GetSavedFilter(){$("#dashboard").data("ejDashboardViewer");parentDashboardId=iframeUrl==parentUrl?(item_Id="undefined"!=typeof item_ID?item_Id:(null!=parent.$("#dashboard").prevAll("#favorite_Item").attr("data-item-id")?parent.$("#dashboard"):$("#dashboard")).prevAll("#favorite_Item").attr("data-item-id"),isMultiDashboard="undefined"!=typeof isMultiDashboard?isMultiDashboard:(null!=parent.$("#dashboard").prevAll("#isMultiDashboard").attr("data-item-id")?parent.$("#dashboard"):$("#dashboard")).prevAll("#isMultiDashboard").attr("data-item-id"),"undefined"!=typeof parentDashboardId?parentDashboardId:(null!=parent.$("#dashboard").prevAll("#isMultiDashboard").attr("data-parent-id")?parent.$("#dashboard"):$("#dashboard")).prevAll("#isMultiDashboard").attr("data-parent-id")):(item_Id="undefined"!=typeof item_ID?item_Id:($("#dashboard").prevAll("#favorite_Item").attr("data-item-id"),$("#dashboard").prevAll("#favorite_Item").attr("data-item-id")),isMultiDashboard="undefined"!=typeof isMultiDashboard?isMultiDashboard:($("#dashboard").prevAll("#isMultiDashboard").attr("data-item-id"),$("#dashboard").prevAll("#isMultiDashboard").attr("data-item-id")),"undefined"!=typeof parentDashboardId?parentDashboardId:($("#dashboard").prevAll("#isMultiDashboard").attr("data-parent-id"),$("#dashboard").prevAll("#isMultiDashboard").attr("data-parent-id"))),userName="undefined"!=typeof userName?userName:name,userId="undefined"!=typeof userId?userId:id,pageurl="undefined"!=typeof pageurl?pageurl:viewUrl;var n="true"==isMultiDashboard.toLowerCase()?(0!=$("#dashboard").length?$("#dashboard"):parent.$("#dashboard")).find("li.e-active").find("span").html().trim():"";$.ajax({url:getSavedViewUrl.web,type:"POST",data:{itemId:item_Id,UserId:userId,UserName:userName,IsMultiDashboard:isMultiDashboard,parentDashboardId:parentDashboardId},success:function(e){(0<$("#saved-filter").length?$("#saved-filter"):parent.$("#saved-filter")).html("");var a='<div id="saved-list" style="display: block"><div class="saved-list-content-div" style="float: left">',t=jQuery.parseJSON(e.Result);if(0<t.length){containSaveFilter=!0,(0<$("#saved-filter").length?$("#saved-filter"):parent.$("#saved-filter")).show();for(var i=0;i<t.length;i++){var o=t[i].ViewId,r="",r=t[i].CanDelete&&t[i].CanShare?'<div class="saved-opt"><span class="opt" viewid="'+o+'" itemId="'+item_Id+'" viewname="'+t[i].ViewName+'"><span viewid="'+o+'" itemId="'+item_Id+'" viewname="'+t[i].ViewName+'"  class = "delete su su-delete cursor-pointer" data-bs-toggle="tooltip" data-original-title="'+window.Server.App.Localization.Delete+'" ></span></span><span class="opt" viewid="'+o+'" itemId="'+item_Id+'" viewname="'+t[i].ViewName+'"><span  viewid="'+o+'" itemId="'+item_Id+'" viewname="'+t[i].ViewName+'" class = "share su su-share  cursor-pointer" data-bs-toggle="tooltip" data-original-title="'+window.Server.App.Localization.Share+'"></span></span><span class="opt" viewid="'+o+'" itemId="'+item_Id+'" viewname="'+t[i].ViewName+'"><span  viewid="'+o+'" itemId="'+item_Id+'" viewname="'+t[i].ViewName+'" class ="su su-link View-link-copy cursor-pointer" data-original-title="'+window.Server.App.Localization.LinkCopy+'" data-bs-toggle="tooltip" data-placement="top" title=""></span></span></div>':t[i].CanDelete?'<div class="saved-opt"><span class="opt" viewid="'+o+'" itemId="'+item_Id+'" viewname="'+t[i].ViewName+'"><span viewid="'+o+'" itemId="'+item_Id+'" viewname="'+t[i].ViewName+'"  class = "delete su su-delete cursor-pointer" data-bs-toggle="tooltip" data-original-title="'+window.Server.App.Localization.Delete+'" ></span></span><span class="opt" viewid="'+o+'" itemId="'+item_Id+'" viewname="'+t[i].ViewName+'"><span  viewid="'+o+'" itemId="'+item_Id+'" viewname="'+t[i].ViewName+'" class = "su su-link View-link-copy cursor-pointer" data-original-title="'+window.Server.App.Localization.LinkCopy+'" data-bs-toggle="tooltip" data-placement="top" title=""></span></span></div>':t[i].CanShare?'<div class="saved-opt"><span class="opt" viewid="'+o+'" itemId="'+item_Id+'" viewname="'+t[i].ViewName+'"><span  viewid="'+o+'" itemId="'+item_Id+'" viewname="'+t[i].ViewName+'" class = "share su su-share  cursor-pointer" data-bs-toggle="tooltip" data-original-title="'+window.Server.App.Localization.Share+'"></span></span><span class="opt" viewid="'+o+'" itemId="'+item_Id+'" viewname="'+t[i].ViewName+'"><span  viewid="'+o+'" itemId="'+item_Id+'" viewname="'+t[i].ViewName+'" class = "su su-link View-link-copy cursor-pointer" data-original-title="'+window.Server.App.Localization.LinkCopy+'" data-bs-toggle="tooltip" data-placement="top" title=""></span></span></div>':'<div class="saved-opt"><span class="opt" viewid="'+o+'" itemId="'+item_Id+'" viewname="'+t[i].ViewName+'"><span  viewid="'+o+'" itemId="'+item_Id+'" viewname="'+t[i].ViewName+'" class = "su su-link View-link-copy cursor-pointer" data-original-title="'+window.Server.App.Localization.LinkCopy+'" data-bs-toggle="tooltip" data-placement="top" title=""></span></span></div>';-1<pageurl.indexOf("/embed/")?pageurl=pageurl.replace("/embed/","/"):pageurl,a+=""!=n?'<li class="saved-view" viewid="'+o+'">'+r+'<label class="saved-filter txt-overflow" viewid="'+o+'" itemId="'+item_Id+'"><a class="view-link txt-overflow saved-filter-anchor"  href="'+pageurl+"?tab="+n+"&viewid="+o+'" data-url="'+pageurl+"?tab="+n+"&viewid="+o+'" target="_blank" data-bs-toggle="tooltip" data-original-title="'+t[i].ViewName+'">'+t[i].ViewName+"</a></label></li>":'<li class="saved-view" viewid="'+o+'">'+r+'<label class="saved-filter txt-overflow" viewid="'+o+'" itemId="'+item_Id+'"><a class="view-link txt-overflow saved-filter-anchor"  href="'+pageurl+"?viewid="+o+'" data-url="'+pageurl+"?viewid="+o+'" target="_blank" data-bs-toggle="tooltip" data-original-title="'+t[i].ViewName+'">'+t[i].ViewName+"</a></label></li>"}if((0<$("#saved-filter").length?$("#saved-filter"):parent.$("#saved-filter")).append(a+"</div></div>"),0==$("#saved-filter").length)for(var s=parent.$(".view-link").attr("data-url"),i=0;i<s.length;i++)parent.$(".view-link").eq(i).attr("href",parent.$(".view-link").eq(i).attr("data-url"));else for(s=$(".view-link").attr("data-url"),i=0;i<s.length;i++)$(".view-link").eq(i).attr("href",$(".view-link").eq(i).attr("data-url"));0<$("#dashboard-view-toogle").length?0==$("#dashboard-view-toogle").find("#saved-list").length?$("#dashboard-view-toogle").find("#no-filters").css("display","block"):$("#dashboard-view-toogle").find("#no-filters").css("display","none"):0==parent.$("#dashboard-view-toogle").find("#saved-list").length?parent.$("#dashboard-view-toogle").find("#no-filters").css("display","block"):parent.$("#dashboard-view-toogle").find("#no-filters").css("display","none"),/Safari/.test(navigator.userAgent)&&/Apple Computer/.test(navigator.vendor)&&($(".View-link-copy").removeClass("su su-link"),$(".View-link-copy").attr("data-original-title","")),(0<$("#dashboard-view-toogle").length?$("#dashboard-view-toogle"):parent.$("#dashboard-view-toogle")).show(),parent.$('[data-bs-toggle="tooltip"]').tooltip()}else containSaveFilter=!1,(0<$("#saved-filter").length?$("#saved-filter"):parent.$("#saved-filter")).hide(),$("#dashboard").data("ejDashboardViewer");refreshScroller()},error:function(e){resetViewPanel(),SavedViewHeight(),refreshScroller()}})}function onDeleteItemDialogClose(){$("#delete-div").ejDialog("close"),$("#dashboard-view-toogle").ejWaitingPopup("show"),0==$("#dashboard-view-toogle").find("#saved-list").length?$("#no-filters").css("display","block"):$("#no-filters").css("display","none"),$("#dashboard-view-toogle").ejWaitingPopup("hide")}function onDeleteItemDialogOpen(){$("#dashboard").ejDashboardViewer("instance").closeAllWindows(),$("#delete-div").ejDialog("open"),$("#delete-msg").show(),$("#delete-div").focus()}function resetViewPanel(){$("#save-lable-section label").html(""),$("#entire-label-section label").html(window.Server.App.Localization.UnsavedView),"true"==$("#is_mobile").val()||"false"==isUserAuthenticated?$("#dashboard").ejDashboardViewer("instance").model.filterOverviewSettings.showSaveIcon=!1:$("#dashboard").ejDashboardViewer("instance").model.filterOverviewSettings.showSaveIcon=!0,$("#new-save").css("display","block"),$("#saved-filter-update").css("display","none"),$("#saved-filter-Saveas").css("display","none"),$("#saved-filter").html(""),$("#no-filters").css("display","block"),unsavedFilters()}$(document).on("click","#clear",function(){(dashboardviewerObj=$("#dashboard").data("ejDashboardViewer")).refresh()}),$(document).on("click","#save-button",function(){name=$("#user-name").attr("value"),id=$("#user-id").attr("value"),saveFilterName=$("#view-name").val(),AddView()}),$(document).on("click",".view",function(){var e=$(this).attr("viewid");window.open(window.location.pathname+"?viewid="+e,"_blank")}),$(document).on("click",".share",function(){var e=$(this).attr("viewid");$("#dashboard-view-toogle").css("z-index","999"),$.ajax({type:"POST",url:itemViewShareIframeUrl,data:{itemViewId:e,itemId:item_Id},success:function(e){null!=e.itemViewDetail&&null!=e.itemDetail&&shareDashboardPermission(e.itemViewDetail,e.itemDetail)}})}),$(document).on("click","#update-view",function(){$("#update-view").show();var e=document.getElementById("dashboard-views"),a=("block"!=e.style.display&&""!=e.style.display||$("#dashboard-view-toogle").ejWaitingPopup("show"),$("#dashboard").data("ejDashboardViewer")),t=getcurrentfilters().encryptedData,i=$("#dashboard").data("ejDashboardViewer");$.ajax({type:"POST",url:updateViewUrl,data:{itemId:item_Id,QueryString:t,itemViewId:$(this).attr("viewid"),UserId:userId,UserName:userName,IsMultiDashboard:isMultiDashboard,parentDashboardId:parentDashboardId},beforeSend:function(e){e.setRequestHeader("ejAuthenticationToken",a._authenticationToken)},success:function(e){1==e.Result.Status?((queryStringStatus=!0)&&(queryStringStatus=!1,initialQueryStringParameter=JSON.stringify(updateInitialQueryStringParameter),i.model.filterParameters=t,i.redrawDashboard()),$("#update-view").addClass("pointer-events"),$("#update-view").css("opacity",.5),messageBox("su-filter",window.Server.App.Localization.UpdateView,window.Server.App.Localization.UpdateViewSuccess,"success",function(){onCloseMessageBox()})):($("#save-section").hide(),messageBox("su-filter",window.Server.App.Localization.UpdateView,window.Server.App.Localization.InternalServerError,"success",function(){onCloseMessageBox()}))},error:function(){messageBox("su-filter",window.Server.App.Localization.UpdateView,window.Server.App.Localization.InternalServerError,"success",function(){onCloseMessageBox()}),$("#dashboard-view-toogle").ejWaitingPopup("show")}}),GetSavedFilter(),refreshScroller()}),$(document).on("click","#save-as-view",function(){$("#view-name").hide(),$("#filter_name").val(""),$("#save-lable-section").hide(),$("#save-section").show()}),$(document).on("click",".clear",function(){$("#dashboard-view-toogle").ejWaitingPopup("show"),$("#filter_name").val(""),clearAllFilters(),$("#view-name").show(),$("#save-section").hide(),$("#unsaved-filter,#unsaved-filter-title").show(),$("#save-lable-section").show()}),$(document).on("click","#clear-txt",function(){$("#filter_name").val(""),$("#save-lable-section").show(),$("#save-section").hide()}),$(document).on("click",".clear-filter",function(e){clearWidgetFilter(e.target.attributes.widgetid.value,e.target.attributes.widgettype.value);e=getcurrentfilters();""!=e&&"undefined"!=e&&null!=e&&null!=e.masterData||($("#filter_name").val(""),$("#save-lable-section").show(),$("#save-section").hide())});var deletedViewId="";function getViewsLink(e){var a=baseUrl.split("/");return encodeURI(a[0]+"//"+a[2]+e)}function SavedViewHeight(){var e,a,t,i,o;if("none"!=$("#saved-list").css("display"))return o=iframeUrl==parentUrl&&sameOrigin?parent.$("#header-pane"):$("#header-pane"),e=$("#entire-label-section"),a=$("#unsaved-filter"),t=$("#unsaved-filter-title"),i=$("#nofilters"),o=(iframeUrl==parentUrl?$(sameOrigin?parent.window:window):$(window)).height()-o.outerHeight()-e.outerHeight()-("none"!=i.css("display")?i.outerHeight():0)-("none"!=a.css("display")?a.outerHeight():0)-("none"!=t.css("display")?t.outerHeight():0),$("#saved-list").css("height",o),o}function getFnObj(e){return"function"==typeof e||"string"==typeof e&&window[e]?e:void 0}function refreshScroller(){var e,a,t,i,o;"undefined"!=typeof isSlideshow&&isSlideshow||(e=t="",$("#unsaved-filter-parameter").children().length&&(t=230<=$("#unsaved-filter-parameter").height()?230:$("#unsaved-filter-parameter").height()+20,$("#unsaved-filter").ejScroller({height:t,width:500,scrollerSize:7,buttonSize:0,enableTouchScroll:!1}),(a=$("#unsaved-filter").ejScroller("instance")).model.height=t,a.refresh(),$("#unsaved-filter .e-vhandle").length)&&"none"!=(i=$("#unsaved-filter .e-vhandle")).css("display")&&(o=i.height()+29,i.css("height",o)),e=SavedViewHeight()-10,$("#saved-list").length?($("#saved-list").ejScroller({height:e,width:500,scrollerSize:9,buttonSize:0,enableTouchScroll:iframeUrl==parentUrl?"false"!=(sameOrigin?parent.$("#is_mobile"):$("#is_mobile")).val():"false"!=$("#is_mobile").val()}),(t=$("#saved-list").ejScroller("instance")).model.height=e,t.refresh(),$("#saved-filter .e-vhandle").length&&"none"!=(i=$("#saved-filter .e-vhandle")).css("display")&&(o=i.height()+29,i.css("height",o))):iframeUrl==parentUrl&&((sameOrigin?parent.$("#saved-list"):$("#saved-list")).ejScroller({height:e,width:500,scrollerSize:9,buttonSize:0,enableTouchScroll:iframeUrl==parentUrl?"false"!=parent.$("#is_mobile").val():"false"!=$("#is_mobile").val()}),(sameOrigin?parent.$("#saved-filter .e-vhandle"):$("#saved-filter .e-vhandle")).length)&&"none"!=(i=sameOrigin?parent.$("#saved-filter .e-vhandle"):$("#saved-filter .e-vhandle")).css("display")&&(o=i.height()+29,i.css("height",o)))}function getcurrentfilters(){return(iframeUrl==parentUrl?0<(sameOrigin?parent.$("#dashboard"):$("#dashboard")).length&&sameOrigin?parent.$("#dashboard"):$("#dashboard"):($("#dashboard").length,$("#dashboard"))).data("ejDashboardViewer").getCurrentFilters()}function clearAllFilters(){var e=$("#dashboard").data("ejDashboardViewer");null!=viewId&&""!=viewId||clearStatus?(e.model.filterParameters=initialQueryString,e.redrawDashboard()):$("#dashboard-view-toogle").ejWaitingPopup("hide")}function getWidgetTitle(e){return $("#dashboard").data("ejDashboardViewer").getWidgetTitle(e)}function clearWidgetFilter(e,a){$("#dashboard").data("ejDashboardViewer").clearWidgetFilter(e,a)}function onFilterOverviewUpdated(e){unsavedFilters(e),$('[data-bs-toggle="tooltip"]').tooltip(),refreshScroller()}function unsavedFilters(e){var a,t=getcurrentfilters(),i=(""!=t&&"undefined"!=t&&null!=t&&""!=e&&"undefined"!=e&&null!=e&&(e=e.currentFilterData,updateInitialQueryStringParameter=e,queryStringStatus&&(queryStringStatus=!1,initialQueryString=t.encryptedData,initialQueryStringParameter=JSON.stringify(e)),initialQueryStringParameter===JSON.stringify(e)?($("#update-view").addClass("pointer-events"),$("#update-view").css("opacity",.5)):"true"==enableComment.toString().toLowerCase()&&($("#update-view").removeClass("pointer-events"),$("#update-view").css("opacity",1))),$("#unsaved-filter-parameter").html(""),"");if(""!=t&&"undefined"!=t&&null!=t&&null!=t.masterData&&0<t.masterData.length){if(0<(a=t.masterData).length){$("#unsaved-filter-parameter").show();for(var o=0;o<a.length;o++){var r,s="",n="",d=(l=getWidgetTitle(r=a[o].Control)).title,l=l.type,p=a[o].Data;if(o!=a.length-1?i+='<div class="cursor-default border-division"><div class="unsaved-opt"style="float: right;"><span class="opt"><span class="su su-close clear-filter cursor-pointer" data-bs-toggle="tooltip" data-placement="left" data-original-title="'+window.Server.App.Localization.ClearFilter+'" widgetId ="'+r+'"widgetType ="'+l+'" style="float:right"></span></span></div><label class="cursor-default txt-overflow unsaved-filter-head">'+d+"</label>":i+='<div class="cursor-default border-division-last"><div class="unsaved-opt"style="float: right;"><span class="opt"><span class="su su-close clear-filter cursor-pointer" data-bs-toggle="tooltip" data-placement="left" data-original-title="'+window.Server.App.Localization.ClearFilter+'" widgetId ="'+r+'"widgetType ="'+l+'" style="float:right"></span></span></div><label class="cursor-default txt-overflow unsaved-filter-head">'+d+"</label>",p.length)for(var c=0;c<p.length;c++)s=s+p[c]+",",n=n+p[c]+"<br>";i=i+('<div id="sub-item"><label class="cursor-default txt-overflow unsavedfilter-font-content" rel="tooltip" data-placement="left" data-original-title="'+n+'">'+(s=s.slice(0,-1))+"</label></div>")+'<br style="clear: both"></div>'}$("#unsaved-filter,#unsaved-filter-title").css("display","block"),$("#unsaved-filter-parameter").append(i),refreshScroller(),"true"==enableComment.toString().toLowerCase()?($("#new-save,#saved-filter-update,#saved-filter-Saveas,#save-filter,#filter_name").removeClass("pointer-events"),$("#new-save,#saved-filter-update,#saved-filter-Saveas,#save-filter,#filter_name").css("opacity",1)):($("#new-save,#saved-filter-update,#saved-filter-Saveas,#save-filter,#filter_name").addClass("pointer-events"),$("#new-save,#saved-filter-update,#saved-filter-Saveas,#save-filter,#filter_name").css("opacity",.5)),$("#nofilters").css("display","none"),$("[rel=tooltip]").tooltip({html:!0})}}else $("#new-save,#saved-filter-update,#saved-filter-Saveas,#save-filter,#filter_name").addClass("pointer-events"),$("#new-save,#saved-filter-update,#saved-filter-Saveas,#save-filter,#filter_name").css("opacity",.5),$("#nofilters").css("display","block"),$("#unsaved-filter,#unsaved-filter-title").css("display","none")}function onCloseMessageBox(){parent.$("#messageBox").ejDialog("close")}function onMessageDialogClose(){parent.$("#messageBox").find(".message-content").text(""),$(".message-box-btn-holder").html(""),$(".message-box-close").html("")}function messageBox(e,a,t,i,o,r,s,n,d,l){parent.$("#messageBox").find(".message-content").text(""),a===window.Server.App.Localization.DeleteComment&&parent.$("#messageBox_wrapper").addClass("delete-comment"),parent.$(".message-box-btn-holder").html(""),parent.$(".message-box-close").html(""),parent.$("#messageBox").find(".message-header").html("<span class='su "+e+"'></span> <span class='modal-title' data-bs-toggle='tooltip' data-placement='bottom' data-container='body' title='"+a+"'  >"+a+"</h2>"),parent.$("#messageBox").find(".message-content").html(t),"error"==i?(null!=o&&(c=$("<input type='button' class='critical-action-button pull-right' value='"+window.Server.App.Localization.YesButton+"'></input>")).bind("click",$.proxy(getFnObj(o),window)),null!=r?((p=$("<input type='button' class='secondary-button pull-right' value='"+window.Server.App.Localization.NoButton+"'></input>")).bind("click",$.proxy(getFnObj(r),window)),(u=$('<span class="su su-close"></span>')).bind("click",$.proxy(getFnObj(r),window))):(p=$("<input type='button' class='secondary-button pull-right' value='"+window.Server.App.Localization.NoButton+"'></input>"),u=$('<span class="su su-close"></span>'),p.click(function(){onCloseMessageBox()}),u.click(function(){onCloseMessageBox()})),parent.$(".message-box-close").html(u),parent.$(".message-box-btn-holder").append(p,c),parent.$("#messageBox").unbind("keydown")):(null!=o?((c=$("<input type='button' class='secondary-button' value='"+window.Server.App.Localization.OKButton+"'></input>")).bind("click",$.proxy(getFnObj(o),window)),(u=$('<span class="su su-close"></span>')).bind("click",$.proxy(getFnObj(o),window))):(c=$("<input type='button' class='secondary-button' value='"+window.Server.App.Localization.OKButton+"'></input>"),u=$('<span class="su su-close"></span>'),c.click(function(){onCloseMessageBox()}),u.click(function(){onCloseMessageBox()})),parent.$(".message-box-close").html(u),parent.$(".message-box-btn-holder").append(c),parent.$("#messageBox").on("keydown",function(e){switch(e.keyCode){case 13:case 27:c.click()}})),$('[data-bs-toggle="tooltip"]').tooltip(),parent.$("#messageBox").ejDialog("open"),parent.$("#messageBox").focus();var p,c,u,m=parent.$("#messageBox").data("ejDialog");setTimeout(function(){null!=s&&m.option("width",s),1040<window.innerWidth&&null==n&&(n=parent.$("#messageBox").find(".modal-content").height()+135+"px"),m.option("height",n),null!=d&&m.option("maxHeight",d)},50),null!=l&&m.option("cssClass",l)}function OpenFilterPanel(){$("#dashboard").data("ejDashboardViewer").openFilterPanel(),$("#dashboard").data("ejDashboardViewer").applyComments(commentSettings)}function setDashboardWidth(){var e;"undefined"!=typeof isSlideshow&&isSlideshow?$("#dashboard").css("width",$(window).width()+"px"):window.top==window.self?$("#dashboard").css("width",$(window).width()-40+"px"):(e=""==(e=window.location!=window.parent.location?document.referrer:document.location.href.replace(document.location.pathname+document.location.search,""))?"":e.match(/:\/\/(.[^/]+)/)[1],window.location.href.match(/:\/\/(.[^/]+)/)[1]==e&&parent.$(".su-sidebar-collapse").is(":visible")||$("#dashboard").css("width",$(window).width()-40))}function SaveFilter(e){currentQueryString=e.data.encryptedData;var a=$("#dashboard").data("ejDashboardViewer"),t=$("#dashboard").data("ejDashboardViewer"),i=$("#dashboard").prevAll("#favorite_Item").attr("data-item-id"),o=$("#dashboard").prevAll("#isMultiDashboard").attr("data-item-id"),r=$("#dashboard").prevAll("#isMultiDashboard").attr("data-parent-id");""==e.viewID||null==e.viewID?($("#save-view-popup").ejDialog("open"),$("#save-view-popup_wrapper").ejWaitingPopup("show"),$("#save-view-popup-iframe").attr("src",saveViewPopup+"?itemId="+i+"&isMultidashboardId="+o+"&parentId="+r+"&userId="+userId+"&userName="+userName)):($("#dashboard").ejWaitingPopup("show"),$.ajax({type:"POST",url:updateViewUrl,data:{itemId:item_Id,QueryString:currentQueryString,itemViewId:e.viewID,UserId:userId,UserName:userName,IsMultiDashboard:isMultiDashboard,parentDashboardId:isMultiDashboard?r:null},beforeSend:function(e){e.setRequestHeader("ejAuthenticationToken",a._authenticationToken)},success:function(e){1==e.Result.Status?(initialQueryStringParameter=JSON.stringify(updateInitialQueryStringParameter),t.model.filterParameters=currentQueryString,$("#dashboard").ejWaitingPopup("hide"),messageBox("su-filter",window.Server.App.Localization.UpdateView,window.Server.App.Localization.UpdateViewSuccess,"success",function(){onCloseMessageBox()})):($("#save-section").hide(),$("#dashboard").ejWaitingPopup("hide"),messageBox("su-filter",window.Server.App.Localization.UpdateView,window.Server.App.Localization.InternalServerError,"success",function(){onCloseMessageBox()}))},error:function(){$("#dashboard").ejWaitingPopup("hide"),messageBox("su-filter",window.Server.App.Localization.UpdateView,window.Server.App.Localization.InternalServerError,"success",function(){onCloseMessageBox()})}}),GetSavedFilter(),refreshScroller())}function closeSaveViewPopup(){parent.$("#save-view-popup-iframe").contents().find("#save-view-form").html(""),parent.$("#save-view-popup_wrapper").ejWaitingPopup("hide"),parent.$("#save-view-popup").ejDialog("close")}function openViewSection(){$(".options li#views").trigger("click")}function fullscreenExitHandler(){document.webkitIsFullScreen||document.mozFullScreen||document.msFullscreenElement?($("body").addClass("hide-dashboard-icons"),$(".tv-mode-icon").removeClass("su-maximize-1").addClass("su-minimize").attr("data-tooltip",window.Server.App.Localization.ExitFullscreen)):($("body").removeClass("hide-dashboard-icons"),$(".tv-mode-icon").addClass("su-maximize-1").removeClass("su-minimize").attr("data-tooltip",window.Server.App.Localization.Fullscreen)),$("#dashboard").ejDashboardViewer().resize()}function PreloadResources(i,o){setTimeout(function(){for(var e=-1!=navigator.userAgent.indexOf("Safari")&&-1==navigator.userAgent.indexOf("Chrome")||-1!=navigator.userAgent.indexOf("Edge"),a=0;a<i.length;a++){var t=document.createElement("link");t.href=i[a],t.rel=e?"preload":"prefetch",t.as=o,document.head.appendChild(t)}})}function showRenderTab(){$("a.active").removeClass("active"),$(".su-nav-dashboard, .su-nav-widgets").addClass("active"),$("#dashboard-view-toogle").removeClass("dashboard-view-toogle"),$("#dashboard, #widget").show(),("individual-widget"==$("#comment_Type").attr("data-item-type")?closeWidgetComment:closeComment)()}function closePinWidgetPopup(){parent.$("#pin-widget-popup").attr("data-widget-id",null),parent.window.IsDashboard=!1,parent.$("#pin-widget-popup-iframe").contents().find("#pin-widget-form").html(""),parent.$("#pin-widget-popup_wrapper").BoldBIDashboardWaitingPopup("hide"),parent.$("#pin-widget-popup").BoldBIDashboardDialog("close")}function closeDashboardHomepagePopup(){$("#dashboard-homepage-container #homepage-name").val("").next(".validation-errors").find(".error").remove(),$("#dashboard-homepage-container #homepage-name").parent().removeClass("has-error"),window.PinParentDashboard=!1,$("#dashboard-homepage-container #makedefault").prop("checked",!1),$("#dashboard-homepage-container #keepfilter").prop("checked",!0),$("#dashboard-homepage-container #filter-info").popover("hide"),$("#dashboard-homepage-popup_wrapper").BoldBIDashboardWaitingPopup("hide"),$("#dashboard-homepage-popup").BoldBIDashboardDialog("close")}function SuccessAlert(e,a,t){parent.$("#success-alert").css("display","table"),parent.$("#message-header").html(e),parent.$("#message-content").html(a),setTimeout(function(){parent.$("#success-alert").fadeOut()},t)}function WarningAlert(e,a,t){parent.$("#warning-alert").css("display","table"),parent.$("#warning-alert #message-header").html(e),parent.$(" #warning-alert #message-content").html(a),null!=t&&""!=t&&setTimeout(function(){parent.$("#warning-alert").fadeOut()},t),$(document).on("click",".close-div",function(){parent.$("#warning-alert").fadeOut()})}function onAlertDialogClose(){parent.$("#pin-widget-popup").BoldBIDashboardDialog("close")}function IsValidName(e){return!new RegExp(/[*\[\\\]\|\/\:\<\>\%\+\#\&\?\'\"\;\,]/).test(e)}$(document).on("click",".delete",function(e){onDeleteItemDialogOpen();var a=$(this).attr("viewid"),t=$(this).attr("viewname");$("#delete_item").attr("viewid",a),$("#delete_item_name").html(t),$("#delete-content").show(),$("#deleteview-validationArea").show(),$("#delete-confirmation").hide(),$("#delete-error").hide(),$(".successArea").hide()}),$(document).on("click","#delete_item",function(){var e=document.getElementById("dashboard-views"),a=("block"!=e.style.display&&""!=e.style.display||$("#delete-div_wrapper").ejWaitingPopup("show"),deletedViewId=$("#update-view").attr("viewid"),$(this).attr("viewid"));$.ajax({type:"POST",url:deleteViewUrl,data:{ItemViewName:$("#filter_name").val(),itemId:item_Id,itemViewId:$(this).attr("viewid"),UserId:userId,UserName:userName,IsMultiDashboard:isMultiDashboard,parentDashboardId:isMultiDashboard?parentDashboardId:null},success:function(e){1==e.Result.Status?($("#delete-content").hide(),$("#delete-confirmation").show(),$("#delete-confirmation .deleteItem").show(),$(".successArea").show(),$("#deleteview-validationArea").hide(),a==deletedViewId&&(window.location.href=window.location.href.replace(window.location.search,"")),GetSavedFilter(),a==$("#dashboard").data("ejDashboardViewer").model.filterOverviewSettings.viewId&&($("#dashboard").data("ejDashboardViewer").updateFilterOverview(window.Server.App.Localization.UnsavedView,""),$("#dashboard").data("ejDashboardViewer").model.filterOverviewSettings.viewName=null,$("#dashboard").data("ejDashboardViewer").model.filterOverviewSettings.viewId=null)):("#delete-content".hide(),$("#delete-confirmation").hide(),$("#delete-error").show(),$(".successArea").show()),$("#delete-div_wrapper").ejWaitingPopup("hide")},error:function(e){messageBox("su-delete",window.Server.App.Localization.DeleteView,window.Server.App.Localization.InternalServerError,"success",function(){onCloseMessageBox()}),$("#delete-div_wrapper").ejWaitingPopup("hide")}})}),$(document).on("click","#save-view",function(){$("#save-section").show(),$("#save-lable-section").hide(),$("#filter_name").val(""),$("#filter_name").focus()}),$(document).on("click",".View-link-copy",function(e){var a;BoldBIDashboard.browserInfo();$(e.target).parents().closest("li").length&&(e=$(e.target).parents().closest("li")).find(".view-link").length&&((a=document.createElement("textarea")).id="copyTextArea",a.innerText=window.location.href.replace(window.location.search,"")+"?viewid="+e.attr("viewid"),document.querySelector("body").appendChild(a),document.getElementById("copyTextArea").select(),/Safari/.test(navigator.userAgent)&&/Apple Computer/.test(navigator.vendor)?($(this).removeClass("su su-link"),$(this).attr("data-original-title","")):(document.execCommand("copy"),$(this).attr("data-original-title",window.Server.App.Localization.Copysuccess).tooltip("show"),setTimeout(function(){$(".View-link-copy").attr("data-original-title",window.Server.App.Localization.LinkCopy),$(".View-link-copy").tooltip()},3e3)),document.querySelector("body").removeChild(a))}),$(document).on("click",".options li",function(){if(null==$(this).attr("id"))return!1;var e=$(this).attr("id").trim();switch($(".options li").removeClass("active"),$(".options").css("right","0px"),$("#dashboard-view-toogle").hasClass("dashboard-view-toogle")&&"views"!=e.toLowerCase()?CloseDashboardView():"opened"!=$("#dashboard").data("ejDashboardViewer").getFilterPanelState()&&""==$("#validation-message").text()||"filters"==e.toLowerCase()?0==$("#commentModuleContainer").length||$("#commentModuleContainer").hasClass("displayNone")||"comments"==e.toLowerCase()||closeDashboardComment():($("#dashboard").data("ejDashboardViewer").closeFilterPanel(),$("#close-filter a").css("display","none"),$("#filter-view p#validation-message").remove(),$("#filter-view").hide()),e.toLowerCase()){case"filters":"none"===$("#close-filter .PopupClose").css("display").toLowerCase()?($(".options li#"+e).addClass("active"),0==$("#filter-view span.view-heading").length&&$("#filter-view").append("<span class='view-heading'>"+window.Server.App.Localization.Filters+"</span>"),$("#filter-view").show(),1==$("#dashboard").data("ejDashboardViewer").hasFilterPanel?($("#filter-view").css("width","410px"),OpenFilterPanel(),"opened"==$("#dashboard").data("ejDashboardViewer").getFilterPanelState()?$("#close-filter a").css("display","block"):$("#close-filter a").css("display","none")):(0==$("#filter-view p#validation-message").length&&$("#filter-view").append("<p id='validation-message'>"+window.Server.App.Localization.NoFilters+"</p>"),$("#close-filter a").css("display","block"),$("#filter-view").css("width","410px")),refreshScroller()):$("#close-filter .PopupClose").trigger("click");break;case"comments":$(".options li#"+e).addClass("active");var a=$("#commentModuleContainer iframe").attr("src");void 0!==a&&""!==a||$("#commentModuleContainer iframe").attr("src",commentPageUrl+"?itemId="+$("#commentModuleContainer_iframe").attr("data-item-id")+"&userId="+userId+"&buildVersion="+appVersion),$("#commentModuleContainer").hasClass("displayNone")?openDashboardComment(null):closeDashboardComment();break;case"views":$(".options li#"+e).addClass("active"),$("#dashboard-view-toogle").hasClass("dashboard-view-toogle")?$("#close-container").trigger("click"):($('body [data-bs-toggle="tooltip"]').tooltip("hide"),$("#dashboard-view-toogle").toggleClass("dashboard-view-toogle"),$("#dashboard-view-toogle").ejWaitingPopup("show"),GetSavedFilter(),$("#dashboard").toggleClass("dashboard"),$(".view-heading").toggle(),$("#dashboard-views").toggle(),$("#dashboard-view-toogle").hasClass("dashboard-view-toogle")?$("#dashboard-view-toogle #close-container a").css("display","block"):$("#dashboard-view-toogle #close-container a").css("display","none"),refreshScroller(),0==$("#dashboard-view-toogle").find("#saved-list").length?$("#dashboard-view-toogle").find("#no-filters").css("display","block"):$("#dashboard-view-toogle").find("#no-filters").css("display","none"),$("#dashboard-view-toogle").ejWaitingPopup("hide"))}var t=$("#dashboard").data("ejDashboardViewer").getFilterPanelState();$("#dashboard-view-toogle").hasClass("dashboard-view-toogle")||"opened"==t||""!=$("#validation-message").text()||!$("#commentModuleContainer").hasClass("displayNone")?($(".options").css("right","410px"),$("#dashboard").css("width",$(window).width()-450)):($(".options").css("right","0px"),$("#dashboard").css("width",$(window).width()-40),$(".options li").removeClass("active")),$("#dashboard").data("ejDashboardViewer").resizeDashboard(),window.top==window.self||iframeUrl!==parentUrl||parent.$(".su-sidebar-collapse").is(":visible")&&!parent.$(".su-sidebar-collapse").is(":visible")||(parent.$("#item-viewer").css({width:"100%"}),parent.$(".item-list-panel, .su-sidebar-collapse").css({display:"none"}),parent.$(".su-sidebar-expand").css({display:"block"}),parent.$("#item-viewer").css({height:$(window).height()-$("#header-area").outerHeight()-$("#base-footer-div").outerHeight(),width:$(window).width()-parent.$("#main-nav").width()-parent.$(".su-sidebar-expand.category-collapse").width(),top:$("#header-area").height()}),t=parent.$("#dashboard_render_iframe").width(),parent.$("#dashboard_render_iframe").contents().find("#dashboard").css("width",t-410-40))}),$(document).on("click",".saved-view",function(e){var r;"saved-view"!=e.target.className&&"saved-opt"!=e.target.className&&"saved-filter txt-overflow"!=e.target.className||(r=$(this),0==$(r).find(".applied-filters").length&&(e=$(this).attr("viewid").trim(),0<$(".saved-list-content-div").find(".applied-filters").length&&$(".applied-filters").remove(),$(".saved-view").removeClass("opened-view-section"),$(".saved-list-content-div").find(".saved-view").css("background-color","initial"),$(".saved-list-content-div").find(".saved-view").css("border-top","0"),$(r).append($("<span class='col-sm-4 no-padding loader-gif' style='display:inline; background-image:url("+dashboardServerResourceUrl+"/cdn/images/waitingpopup.gif); background-size:cover; position:absolute; height:25px; width:25px;'></span>")),$.ajax({url:getViewParameterUrl,data:{itemId:item_Id,UserId:userId,UserName:userName,IsMultiDashboard:isMultiDashboard,ViewId:e,parentDashboardId:parentDashboardId},type:"POST",success:function(e){var e=e.viewDetails,a=$("#dashboard").data("ejDashboardViewer");if(a){var t=a._parseParameterQuery(e.QueryString);if(null!=t&&0<t.length)for(var i=0;i<t.length;i++){list="<div class='applied-filters'><label class='list-items'>"+t[i].ControlTitle.title+"</label><br />";for(var o=0;o<t[i].Data.length;o++)list+="<label class='list-items'>"+t[i].Data[o]+"</label><br />";list+="</div>",0==r.find(".applied-filters").length?r.append(list):$(".applied-filters").last().after(list)}}$(r).addClass("opened-view-section"),$("span.loader-gif").remove()}})))}),$(document).on("keydown","#view-name",function(e){13==e.keyCode&&(e.preventDefault(),$("#save-button").trigger("click"))}),$(document).on("click",".tv-mode-icon",function(e){document.fullscreenElement||document.mozFullScreenElement||document.webkitFullscreenElement||document.msFullscreenElement?document.exitFullscreen?document.exitFullscreen():document.msExitFullscreen?document.msExitFullscreen():document.mozCancelFullScreen?document.mozCancelFullScreen():document.webkitExitFullscreen&&document.webkitExitFullscreen():document.documentElement.requestFullscreen?document.documentElement.requestFullscreen():document.documentElement.msRequestFullscreen?document.documentElement.msRequestFullscreen():document.documentElement.mozRequestFullScreen?document.documentElement.mozRequestFullScreen():document.documentElement.webkitRequestFullscreen?document.documentElement.webkitRequestFullscreen(Element.ALLOW_KEYBOARD_INPUT):"ActiveXObject"in window&&(new ActiveXObject("Wscript.shell").SendKeys("{F11}"),setTimeout(function(){(screen.availHeight||screen.height-30)<=window.innerHeight?($("body").addClass("hide-dashboard-icons"),$(".tv-mode-icon").removeClass("su-maximize-1").addClass("su-minimize").attr("data-tooltip",window.Server.App.Localization.ExitFullscreen)):($("body").removeClass("hide-dashboard-icons"),$(".tv-mode-icon").addClass("su-maximize-1").removeClass("su-minimize").attr("data-tooltip",window.Server.App.Localization.Fullscreen))},400))}),function(p){p.fn.swipeDetector=function(t){var i=0,o=0,r=0,s=0,n=0,a=this;function e(e){t.useOnlyTouch&&!e.originalEvent.touches||(e.originalEvent.touches&&(e=e.originalEvent.touches[0]),0===i&&(i=1,o=e.clientX,r=e.clientY))}function d(e){2===i&&(i=0,Math.abs(s)>Math.abs(n)&&Math.abs(s)>t.swipeThreshold?s<0?a.trigger(p.Event("swipeLeft.sd")):a.trigger(p.Event("swipeRight.sd")):Math.abs(n)>t.swipeThreshold&&(n<0?a.trigger(p.Event("swipeUp.sd")):a.trigger(p.Event("swipeDown.sd"))))}function l(e){var a;1===i&&(a=(e=e.originalEvent.touches?e.originalEvent.touches[0]:e).clientX-o,e=e.clientY-r,Math.abs(a)>t.swipeThreshold||Math.abs(e)>t.swipeThreshold)&&(i=2,s=a,n=e)}return t=p.extend({swipeThreshold:70,useOnlyTouch:!1},t),a.on("mousedown touchstart",e),p("html").on("mouseup touchend",d),p("html").on("mousemove touchmove",l),a}}(jQuery),$(document).on("click","#server-mobile-navbar .server-comment",function(){var e;$(this).hasClass("active")?showRenderTab():($("a.active").removeClass("active"),$(this).addClass("active"),"individual-widget"==$("#comment_Type").attr("data-item-type")?$(".e-dbrd-banner-widget-withoutcomments, .e-dbrd-banner-widget-withcomments").click():(void 0!==(e=$("#commentModuleContainer iframe").attr("src"))&&""!==e||$("#commentModuleContainer iframe").attr("src",commentPageUrl+"?itemId="+$("#commentModuleContainer_iframe").attr("data-item-id")+"&userId="+userId+"&viewer=v2&buildVersion="+appVersion),$("#commentModuleContainer").hasClass("displayNone")?($("#close-container").trigger("click"),$("#comment-module-container-loader-icon").show(),openDashboardComment(null)):closeDashboardComment()),"true"==$("#is_mobile").val()&&window.innerWidth<410&&$("#dashboard, #widget").hide(),$("#dashboard-view-toogle").removeClass("dashboard-view-toogle"))}),$(document).on("click","#server-mobile-navbar .su-nav-dashboard, #server-mobile-navbar .su-nav-widgets",function(){showRenderTab()}),$(document).on("click","#server-mobile-navbar .server-item-view",function(e){$(this).hasClass("active")?showRenderTab():($("a.active").removeClass("active"),$("#dashboard, #widget").show(),("individual-widget"==$("#comment_Type").attr("data-item-type")?closeWidgetComment:closeComment)(),$(this).addClass("active"),$("li#filters").click(),$("span.view-heading").css("display","block"))}),$(document).on("click","#server-mobile-navbar .su-view",function(e){var a;$(this).hasClass("active")?showRenderTab():($("a.active").removeClass("active"),(a=$("#dashboard-view-toogle")).hasClass("dashboard-view-toogle")?$("#close-container").trigger("click"):(closeDashboardComment(),a.toggleClass("dashboard-view-toogle"),a.BoldBIDashboardWaitingPopup("show"),GetSavedFilter(),$("#dashboard").toggleClass("dashboard"),$(".view-heading").toggle(),$("#dashboard-views").toggle(),a.hasClass("dashboard-view-toogle")?a.find("#close-container a").css("display","block"):a.find("#close-container a").css("display","none"),refreshScroller(),0==a.find("#saved-list").length?a.find("#no-filters").css("display","block"):a.find("#no-filters").css("display","none"),a.BoldBIDashboardWaitingPopup("hide")))}),$(document).on("click","#server-mobile-navbar .su-nav-home",function(e){$(this).hasClass("active")||($("a.active").removeClass("active"),$(this).addClass("active"))}),$(document).on("touchend","[data-bs-toggle='tooltip']",function(e){(navigator.userAgent.match(/iPhone/i)||navigator.userAgent.match(/iPod/i)||navigator.userAgent.match(/iPad/i))&&$(this).click()}),$(document).on("click","#close-filter",function(){$("#filter-view").css("display","none"),"true"==$("#is_mobile").val()&&($("#dashboard").show(),$("#server-mobile-navbar .server-item-view").hasClass("active"))&&($("#server-mobile-navbar a.active").removeClass("active"),$("#server-mobile-navbar .su-nav-dashboard").addClass("active")),$(".options").css("right","0px"),$(".options li").removeClass("active")}),$(document).on("click","#close-container",function(){CloseDashboardView(),"true"==$("#is_mobile").val()&&($("#dashboard").show(),$("#server-mobile-navbar .su-view").hasClass("active"))&&($("#server-mobile-navbar a.active").removeClass("active"),$("#server-mobile-navbar .su-nav-dashboard").addClass("active")),$(".options").css("right","0px"),$(".options li").removeClass("active")}),$(document).ready(function(){"true"==$("#is_mobile").val()&&("dark"==cookies["boldbi.dashboard.theme"]?$("#server-mobile-navbar.navbar.navbar-inverse").addClass("dark-theme-mob-nav"):$("#server-mobile-navbar.navbar.navbar-inverse").removeClass("dark-theme-mob-nav"),$("#dashboard").show())}),$(document).on("click","#dashboardTheme_dark",function(){"true"==$("#is_mobile").val()&&($("#dashboard").show(),$("#server-mobile-navbar").addClass("dark-theme-mob-nav"))}),$(document).on("click","#dashboardTheme_light",function(){"true"==$("#is_mobile").val()&&($("#dashboard").show(),$("#server-mobile-navbar").removeClass("dark-theme-mob-nav"))}),$(document).ready(function(){$('[data-bs-toggle="tooltip"]').tooltip(),$("input[type=radio][name=pin-widget-option]").change(function(){if("pin-exist"==this.value){$("#input-content").addClass("hidden"),$("#select-content").removeClass("hidden").find("span.validation-errors").html(""),$("#select-homepage").prop("disabled",!1).val("").selectpicker("refresh");for(var e=0;e<$(".dropdown-menu .selectpicker li").length;e++){var a=$(".dropdown-menu .selectpicker li").eq(e).find("a .text").text();$(".dropdown-menu .selectpicker li ").eq(e).find("a").attr("title",a)}}else"pin-new"==this.value&&($("#select-content").addClass("hidden"),$("#input-content").removeClass("hidden"),$("#new-homepage-name").focus().val("").next("span.validation-errors").html("").parent().removeClass("has-error"))}),$(document).on("click","#save-button",function(){parent.$("#pin-widget-popup_wrapper").BoldBIDashboardWaitingPopup("show");var a,t,i=parent.$("#pin-widget-popup").attr("data-item-id"),o=parent.$("#pin-widget-popup").attr("data-tab-id"),r=parent.$("#pin-widget-popup").attr("data-widget-id"),s=parent.$("#pin-widget-popup").attr("data-widget-type"),n=$("#keepfilter").prop("checked")&&null!=parent.$("#dashboard").data("ejDashboardViewer").getCurrentFilters()?parent.$("#dashboard").data("ejDashboardViewer").getCurrentFilters().encryptedData:null,e=$("#select-homepage option:selected").data("item"),d=$("#select-homepage option:selected").data("virtual-homepage"),l=$("#widget-name").val().trim(),p=$("#pin-widget-form").valid(),c=!(1366<=window.screen.availWidth);"pin-exist"==$("input[name=pin-widget-option]:checked").val()?p?""!=$("#select-homepage").val()||d?(""!=(a=$("#select-homepage").val())&&""!=i&&""!=r||d)&&("Dashboard"==e?($("#select-content").find("span.validation-errors").html(window.Server.App.Localization.IsPinnedDashboardValidation),parent.$("#pin-widget-popup_wrapper").BoldBIDashboardWaitingPopup("hide")):(d&&$.ajax({type:"POST",url:addHomepageUrl,async:!1,data:{homepageName:"Pinboard1",checkedStatus:!0,isDashboardHomepage:!1,isTwoColumn:c},success:function(e){e.Success&&(a=e.Value)}}),$.ajax({type:"POST",url:pinWidgetUrl,data:{homepageId:a,widgetId:null!=r?r:null,dashboardId:null!=i?i:null,tabId:null!=o?o:null,widgetName:l,widgetType:s,queryString:n},success:function(e){e.Success?parent.successToast(parent.window.IsDashboard?window.Server.App.Localization.PinDashboardSuccess:window.Server.App.Localization.PinWidgetsuccess,7e3):e.Success||"Pinned Widgets Limit Exceeded"!=e.Value?parent.warningToast(parent.window.IsDashboard?window.Server.App.Localization.PinErrorDashboard:window.Server.App.Localization.PinErrorWidget):parent.warningToast(window.Server.App.Localization.WidgetLimitExceed),closePinWidgetPopup()}}))):($("#select-content").find("span.validation-errors").html(window.Server.App.Localization.SelectHomepageValidator),parent.$("#pin-widget-popup_wrapper").BoldBIDashboardWaitingPopup("hide")):parent.$("#pin-widget-popup_wrapper").BoldBIDashboardWaitingPopup("hide"):"pin-new"==$("input[name=pin-widget-option]:checked").val()?p?""!=(t=$("#new-homepage-name").val().trim())&&$.ajax({type:"POST",url:checkHomepageNameExistUrl,data:{homepageName:t},success:function(e){e?($("#new-homepage-name").next("span.validation-errors").html(window.Server.App.Localization.IsHomepageExist).parent().addClass("has-error"),parent.$("#pin-widget-popup_wrapper").BoldBIDashboardWaitingPopup("hide")):$.ajax({type:"POST",url:addHomepageUrl,data:{homepageName:t,checkedStatus:!1,isDashboardHomepage:!1,isTwoColumn:c},success:function(e){e.Success?(e=e.Value,$.ajax({type:"POST",url:pinWidgetUrl,data:{homepageId:e,widgetId:null!=r?r:null,dashboardId:null!=i?i:null,tabId:null!=o?o:null,widgetName:l,widgetType:s,queryString:n},success:function(e){e.Success?parent.successToast(parent.window.IsDashboard?window.Server.App.Localization.PinDashboardSuccess:window.Server.App.Localization.PinWidgetsuccess,7e3):parent.warningToast(parent.window.IsDashboard?window.Server.App.Localization.HomepageDashboardPinningError:window.Server.App.Localization.HomepageWidgetPinningError)}})):parent.warningToast(window.Server.App.Localization.AddnewHomepageError),closePinWidgetPopup()}})}}):parent.$("#pin-widget-popup_wrapper").BoldBIDashboardWaitingPopup("hide"):($("#select-content").find("span.validation-errors").html(window.Server.App.Localization.PinWidgetMessage),parent.$("#pin-widget-popup_wrapper").BoldBIDashboardWaitingPopup("hide"))}),$(document).on("click","#dashboard-homepage-save-button",function(){var a,t,e,i,o,r,s,n;$("#dashboard-homepage-form").valid()?(a=$("#homepage-name").val().trim(),t=$("#dashboard-homepage-popup").attr("data-item-id"),e=$("#dashboard").data("ejDashboardViewer"),r="true"==isMultiDashboard.toLowerCase(),i=!window.PinParentDashboard&&r?e._getCurrentDashboardGuid():null,o=$("#makedefault").prop("checked"),r=r&&null==i,s=$("#keepfilter").prop("checked")?r?null!=e.getCurrentDashboardFilters()?e.getCurrentDashboardFilters().encryptedData:null:null!=e.getCurrentFilters()?e.getCurrentFilters().encryptedData:null:null,n=!(1366<=window.screen.availWidth),""!=a&&$.ajax({type:"POST",url:checkHomepageNameExistUrl,data:{homepageName:a},success:function(e){e?($("#homepage-name").next("span.validation-errors").html(window.Server.App.Localization.IsHomepageExist).parent().addClass("has-error"),$("#dashboard-homepage-popup_wrapper").BoldBIDashboardWaitingPopup("hide")):$.ajax({type:"POST",url:addHomepageUrl,data:{homepageName:a,checkedStatus:o,isDashboardHomepage:!0,isTwoColumn:n},success:function(e){e.Success?(e=e.Value,$.ajax({type:"POST",url:pinDashboardUrl,data:{homepageId:e,widgetId:null,dashboardId:null!=t?t:null,tabId:i,widgetName:null,queryString:s},success:function(e){e.Success?SuccessAlert("",window.Server.App.Localization.PinDashboardSuccess,7e3):WarningAlert("",window.Server.App.Localization.PinDashboardError,7e3)}})):WarningAlert(window.Server.App.Localization.AddnewHomepageError,"",7e3),closeDashboardHomepagePopup()}})}})):$("#dashboard-homepage-popup_wrapper").BoldBIDashboardWaitingPopup("hide")}),$.validator.addMethod("isValidName",function(e,a){return IsValidName(e)},window.Server.App.Localization.AvoidSpecialCharacters),$.validator.addMethod("isRequired",function(e,a){return""!=$.trim(e)},window.Server.App.Localization.HomepageValidator),$.validator.addMethod("isLengthExceeded",function(e,a){return e.length<=255},window.Server.App.Localization.CharacterExceedMessage.replace("{0}",255)),$("#pin-widget-form").validate({errorElement:"span",onkeyup:function(e,a){9!==a.keyCode&&13!==a.keyCode&&$(e).valid()},onfocusout:function(e){$(e).valid()},rules:{newhomepagename:{isRequired:!0,isValidName:!0,isLengthExceeded:!0},widgetname:{isRequired:!0,isValidName:!0,isLengthExceeded:!0}},highlight:function(e){$(e).closest("div").addClass("has-error")},unhighlight:function(e){$(e).closest("div").removeClass("has-error"),$(e).next("span.validation-errors").html("")},errorPlacement:function(e,a){$(a).next("span.validation-errors").html(e)},messages:{newhomepagename:{isRequired:window.Server.App.Localization.HomepageValidator},widgetname:{isRequired:window.Server.App.Localization.WidgetValidator}}}),$("#dashboard-homepage-form").validate({errorElement:"span",onkeyup:function(e,a){9!==a.keyCode&&13!==a.keyCode&&$(e).valid()},onfocusout:function(e){$(e).valid()},rules:{dashboardhomepagename:{isRequired:!0}},highlight:function(e){$(e).closest("div").addClass("has-error")},unhighlight:function(e){$(e).closest("div").removeClass("has-error"),$(e).next("span.validation-errors").html("")},errorPlacement:function(e,a){$(a).next("span.validation-errors").html(e)},messages:{dashboardhomepagename:{isRequired:window.Server.App.Localization.HomepageValidator}}}),$(document).on("change","#select-homepage",function(){$("#select-content").find("span.validation-errors").html("")}),$("#new-homepage-name").bind("keypress",function(e){13==e.keyCode&&$("#save-button").click()}),$(document).keyup(function(e){27==e.keyCode&&("dashboard-homepage-popup"==e.target.id||"homepage-name"==e.target.id?closeDashboardHomepagePopup:closePinWidgetPopup)()}),$(document).on("click","#dashboard-homepage-popup, #pin-widget-form",function(e){"filter-info"!=e.target.id&&"popover-content"!=e.target.className&&$("#filter-info").popover("hide")}),$(document).on("click","#pin-parent-dashboard",function(){$("#dashboard-homepage-popup").BoldBIDashboardDialog("open"),$("#dashboard-homepage-popup_wrapper").BoldBIDashboardWaitingPopup("show"),$("#dashboard-homepage-container #homepage-name").val(ReportName),window.PinParentDashboard=!0,$("#dashboard-homepage-container #filter-info").popover(),$("#dashboard-homepage-popup_wrapper").BoldBIDashboardWaitingPopup("hide")}),$("#new-homepage-name").parent().hasClass("hidden")||$("#new-homepage-name").focus()});