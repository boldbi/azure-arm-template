/*!
*  filename: homepages-page-v1-utilities.min.js
*  version : unknown version
*  Copyright Syncfusion Inc. 2001 - 2013. All rights reserved.
*  Use of this code is subject to the terms of our license.
*  A copy of the current license can be obtained at any time by e-mailing
*  licensing@syncfusion.com. Any infringement will be prosecuted under
*  applicable laws. 
*/
function onSuccessDeleteItem(){var n=$("#items").data("ejGrid"),i;n.model.sortSettings.sortedColumns=[];n.model.filterSettings.filteredColumns=[];$("#search-items").find("input[type=text]").val("");var r=n.model.pageSettings.currentPage,u=n.model.pageSettings.pageSize,f=n.model.pageSettings.totalRecordsCount,t=n.model.pageSettings.totalRecordsCount%n.model.pageSettings.pageSize;t!=0&&t<=1&&(n.model.pageSettings.currentPage=r-1);$("#item-grid-container").attr("data-grid-name").toLowerCase()==="dashboards"&&(i=parent.angular.element(parent.document.getElementById("server-items-container")).scope(),n.model.query._params.push({key:"displayCategory",value:i.itemRequestType}));n.refreshContent();$("#dashboard_render_iframe").attr("src","");$("#initial-item-message").css("display","block");$("#dashboard_render_iframe").css("display","none")}function onNewFileDialogOpen(){$("#file-popup-iframe").attr("src",addFileIframeUrl)}function onSchedulerDialogClose(){$("#popup-container").find("iframe").contents().find("html").html("")}function onSchedulerDialogOpen(){$("#scheduler-popup-iframe").attr("src",schedulerIframeUrl+"?itemName="+ItemName+"&&itemId="+ItemId+"&&categoryName="+CategoryName+"&&categoryId="+CategoryId+"&&scheduleId="+ScheduleId+"&&multiDashboardName="+MultiDashboardName+"&&actionType=Create");$("#popup-container_wrapper").ejWaitingPopup("show")}function onNewFileDialogClose(){$("#file-popup").find("iframe").contents().find("html").html("");$("#file-popup").ejDialog("close")}function openNewDataSourcePopup(){$("#datasource-popup-iframe").addClass("add-datasource-frame");$("#datasource-popup").ejDialog("open");$("#datasource-popup_wrapper").ejWaitingPopup("show")}function openNewFilePopup(){$("#file-popup").ejDialog("open");$("#file-popup_wrapper").ejWaitingPopup("show")}function onDataSourceDialogOpen(){$("#datasource-popup-iframe").attr("src",addDatasourceIframeUrl).addClass("add-datasource-frame")}function onDataSourceDialogClose(){$("#datasource-popup").find("iframe").contents().find("html").html("");$("#datasource-popup").ejDialog("close")}function onWidgetDialogOpen(){$("#widget_popup_iframe").attr("src",addWidgetUrl)}function onWidgetDialogClose(){$("#widget_popup").find("iframe").contents().find("html").html("");$("#widget_popup").ejDialog("close")}function onReportDialogOpen(){}function openNewWidgetPopup(){$("#widget_popup").ejDialog("open");$("#widget_popup_wrapper").ejWaitingPopup("show")}function openNewCreateDataSourcePopup(){$("#create-datasource-popup").ejDialog("open");$("#create-datasource-popup_wrapper").ejWaitingPopup("show")}function onCreateDataSourceDialogOpen(){$("#create-datasource-iframe").attr("src",createDatasourceUrl)}function onCreateDataSourceDialogClose(){$("#create-datasource-popup").ejDialog("close")}function fnActionBegin(n){var s=createLoader("items"),t,i,f,r,u,e,o;if(this.element.ejWaitingPopup({template:$("#"+s)}),n.requestType!="refresh"||this.initialRender||$("#items").find(".e-gridcontent").css("visibility","hidden"),t=$("#item-grid-container").data("gridName"),(t.toLowerCase()==="dashboards"||t.toLowerCase()==="widgets")&&$("#server-items-container .category-collapse").css("display")=="none"&&$("#item-grid-container").ejWaitingPopup("show"),i="",i=$("#search-home-page").is(":visible")?$("#search-home-page").val():$("#search-items").val(),i!=="Search"&&this.model.query._params.push({key:"searchKey",value:i}),f=[],n.model.filterSettings.filteredColumns.length>0){for(r=0;r<n.model.filterSettings.filteredColumns.length;r++)u=n.model.filterSettings.filteredColumns[r],f.push({PropertyName:u.field,FilterType:u.operator,FilterKey:u.value});this.model.query._params.push({key:"filterCollection",value:f})}(t==="dashboards"||t==="widgets")&&(e=angular.element(document.getElementById("server-items-container")).scope(),n.model.query._params.push({key:"displayCategory",value:e.itemRequestType}));t==="schedules"&&(o=createLoader("scheduleGrid"),this.element.ejWaitingPopup({template:$("#"+o)}),i=$("#search-schedules").val(),n.model.query._params.push({key:"searchKey",value:i}),n.requestType=="sorting"&&n.model.query._sortedColumns.push({Name:n.columnName,Direction:n.columnSortDirection}))}function fnActionFailure(){setTimeout(function(){$("#item-grid-container").ejWaitingPopup("show");$("#item-list-panel > .item-navigation, #item-list-panel > #category-listing").css("visibility","visible")},500)}function fnActionComplete(n){var i,t,f;$("#item-list-panel > .item-navigation, #item-list-panel > #category-listing").css("visibility","visible");$("[data-toggle='tooltip']").tooltip();i=$("#items").data("ejGrid");i._gridRecordsCount==0&&((r=$("#item-grid-container").attr("data-grid-name")=="datasources")?(t="",t=window.Server.App.Localization.NoDataSources):(r=$("#item-grid-container").attr("data-grid-name")=="files")?(t="",t=window.Server.App.Localization.NoFilesToDisplay):(t="",$("ul.item-navigation li.active").attr("data-section").toLowerCase()=="favorite dashboards"?t=window.Server.App.Localization.NoFavoriteDashboards:$("ul.item-navigation li.active").attr("data-section").toLowerCase()=="recent dashboards"?t=window.Server.App.Localization.NoRecentDashboards:$("ul.item-navigation li.active").attr("data-section").toLowerCase()=="public dashboards"?t=window.Server.App.Localization.NoPublicDashboards:$("ul.item-navigation li.active").attr("data-section").toLowerCase()=="all dashboards"?t=window.Server.App.Localization.NoDashboards:$("ul.item-navigation li.active").attr("data-section").toLowerCase()=="all widgets"?t=window.Server.App.Localization.NoWidgets:$("ul.item-navigation li.active").attr("data-section").toLowerCase()=="public widgets"?t=window.Server.App.Localization.NoPublicWidgets:$("ul.item-navigation li.active").attr("data-section").toLowerCase()=="all categories"?t=window.Server.App.Localization.NoDashboards:$("ul.item-navigation li.active").attr("data-section").toLowerCase()=="draft dashboards"&&(t=window.Server.App.Localization.NoDrafts)),this.getContentTable().find("tbody .emptyrecord").html(t));var r=$("#item-grid-container").attr("data-grid-name"),e=$("ul.item-navigation li.public-widgets").hasClass("active"),o=$("ul.item-navigation li.public-items").hasClass("active"),u=$("#isMarkItemspublic").val();(r.toLowerCase()=="dashboards"||r.toLowerCase()=="widgets")&&(navigator.userAgent.match(/Windows Phone/i)||$("[data-toggle='tooltip']").tooltip(),$(".e-content").height()!=$(".e-scrollbar").height()&&$(".e-scrollbar .e-vscroll").css("height",$(".e-content").height()),$("#items .e-gridcontent").data("ejScroller")&&$("#items .e-gridcontent").ejScroller("refresh"),$("ul.item-navigation li.active").length>0&&$("ul.item-navigation li.active").attr("data-section").toLowerCase()=="draft dashboards"?$(".item-link").each(function(){$(this).attr("href",rootUrlAction+"/dashboard-designer/"+$(this).attr("data-itemid")+"/draft/"+$(this).attr("data-name"))}):r.toLowerCase()=="dashboards"&&window.innerWidth>=1041&&$(".item-link").each(function(){$(this).attr("href",rootUrlAction+"/dashboards/"+$(this).attr("data-itemid")+"/"+$(this).attr("data-category-name")+"/"+$(this).attr("data-name"))}),f=$(window).height()-($(".item-navigation").outerHeight()+$("#header-area").outerHeight()+$("#category-listing").outerHeight()),i.option({scrollSettings:{height:f}}),e==!0&&i._gridRecordsCount>0&&u=="False"?$(".tool-tip").show():o==!0&&i._gridRecordsCount>0&&u=="False"?$(".tool-tip").show():$(".tool-tip").hide(),setTimeout(function(){$("#item-grid-container").ejWaitingPopup("hide")},500),$(".tooltip").hide());n.requestType!="refresh"||this.initialRender||$("#items").find(".e-gridcontent").css("visibility","visible");showOrHideGridPager("#items")}function rowBound(){isFirstRequest&&(isFirstRequest=!1,(location.pathname.toLowerCase()==="/"||location.pathname.split("/")[location.pathname.split("/").length-1].toLowerCase()=="dashboards")&&refreshScroller())}function ResetGrid(){var n=$("#items").data("ejGrid");n.model.sortSettings.sortedColumns=[];n.model.filterSettings.filteredColumns=[];$("#search-items").find("input[type=text]").val("");n.refreshContent();$(".e-filtericon").removeClass("e-filteredicon e-filternone")}function onMakePublicDialogClose(){$("#make_item_public").ejDialog("close")}function onMakePublicDialogOpen(){load();$("#make_item_public").ejDialog("open");$("#make_item_public").focus()}function onRemovePublicDialogClose(){$("#remove_item_public").ejDialog("close")}function onRemovePublicDialogOpen(){load();$("#remove_item_public").ejDialog("open");$("#remove_item_public").focus()}function onGetLinkDialogClose(){$("#get_item_link").ejDialog("close")}function onGetLinkDialogOpen(){$("#get_item_link").ejDialog("open");$("#get_item_link").show();$("#get_item_link").focus();$("#item-link").select();$(".get_link").show();browser.name.toLowerCase()=="msie"?$("#item-link").val(window.location.href.replace(window.location.pathname+window.location.search,"")+itemUrl.trim()):$("#item-link").val(window.location.origin+itemUrl.trim());/Safari/.test(navigator.userAgent)&&/Apple Computer/.test(navigator.vendor)&&($("#item-link-copy").removeClass("su su-copy"),$("#item-link-copy").hide(),$("#item-link-copy").attr("data-original-title",""))}function fnAdjustRowHeight(n){var t=$("#item-grid-container").attr("data-grid-name");t=="dashboards"&&n.model.currentViewData.length==0&&rowBound()}function DashboardRender(n,t,i,r,u,f){var o,e,l,s,a,v;n=decodeURI(n);i=decodeURI(i);r=decodeURI(r);f=decodeURI(f);var y=window.location.search.substring(1),h=y.split("&"),c="?";for(o=0;o<h.length;o++)e=h[o].split("="),e[0]!=="category"&&e[0]!=="dashboard"&&e[0]!=="view"&&(c+=o!==h.length-1?e[0]+"="+e[1]+"&":e[0]+"="+e[1]);if(l=document.getElementById("dashboard_render_iframe"),f=f!=""&&f!=null&&f!="null"?"?tab="+f:"",$("#current-url").attr("data-url",n+"/"+t+"/"+i+"/"+r+"?view="+u),$(".item-navigation li[data-value='"+u+"']").hasClass("active")==!1){$(".item-navigation li").removeClass("active");$(".item-navigation li[data-value='"+u+"']").addClass("active");s=parent.angular.element(parent.document.getElementById("server-items-container")).scope();s.onClickDisplayCategory("",u)}return $(".item-navigation li[data-value='"+u+"']").hasClass("all-items")?$("#category-listing").addClass("category-section"):$("#category-listing").removeClass("category-section"),u=="categories"?(s=parent.angular.element(parent.document.getElementById("server-items-container")).scope(),s.getItemsInCategory("",i),$("#search-home-page").focus(),setTimeout(function(){$(".search-home-section:visible").addClass("show")},300),l.contentWindow.location.replace(n+"/"+t+"/"+i+"/"+r+c),$("#item-viewer").ejWaitingPopup("show"),$("#item-viewer").css({height:$(window).height()-$("#header-area").outerHeight()-$("#base-footer-div").outerHeight(),width:$(window).width()-$("#main-nav").width()-$(".item-list-panel").width()}),$("#initial-item-message").css("display","none"),$("#dashboard_render_iframe").css("display","block")):r!=""&&($("#search-home-page").focus(),setTimeout(function(){$(".search-home-section:visible").addClass("show")},300),l.contentWindow.location.replace(n+"/"+t+"/"+i+"/"+r+c),$("#item-viewer").ejWaitingPopup("show"),$("#item-viewer").css({height:$(window).height()-$("#header-area").outerHeight()-$("#base-footer-div").outerHeight(),width:$(window).width()-$("#main-nav").width()-$(".item-list-panel").width()}),$("#initial-item-message").css("display","none"),$("#dashboard_render_iframe").css("display","block")),$(".item-navigation li").hasClass("all-items")?$("#category-listing").addClass("category-section"):$("#category-listing").removeClass("category-section"),a=$(".item-link[data-name='"+r+"']"),a.parents("td").hasClass("active")==!1?($(".item-link").parents("td").removeClass("active"),a.parents("td").addClass("active")):window.innerWidth<1041&&($(".item-link").parents("td").removeClass("active"),$(".tooltip").hide()),$("#server-items-container .category-collapse").css("display")=="block"&&($("#item-viewer").css("width","100%"),$("#item-viewer").addClass("expanded"),$("#item-viewer").css({height:$(window).height()-$("#header-area").outerHeight()-$("#base-footer-div").outerHeight(),width:$(window).width()-$("#main-nav").width()-$(".su-sidebar-expand.category-collapse").width(),top:$("#header-area").height()}),v=$("#dashboard_render_iframe").width(),$("#dashboard_render_iframe").contents().find("#dashboard").css("width",v-30)),!1}function dialogClose(){dashboardItemCount==0&&location.reload();dialog.hide()}function openSampleDashboardDialog(n){var r='<span class="dialog-header-with-icon"><span class ="dialog-header-title">'+window.Server.App.Localization.SampleDashboards+"<\/span><\/span>",i,t;isAddSampleDialogBinded?(t=document.getElementById("sample_item_dialog").ej2_instances,t[0].header=r,t[0].show()):(i=document.createElement("div"),i.setAttribute("id","sample_item_dialog"),n.appendChild(i),t=new ejs.popups.Dialog({showOnInit:!1,allowDraggable:!1,enableResize:!1,width:window.innerWidth>460?"900px":window.innerWidth-10,height:"auto",showHeader:!1,animationSettings:{effect:"Zoom"},isModal:!0,enableModal:!0,closeOnEscape:!0,header:r,showCloseIcon:!0,close:dialogClose,content:document.getElementById("sample-item-container"),buttons:[{click:function(){dashboardItemCount==0&&location.reload();t.hide()},buttonModel:{cssClass:"app-btn-secondary",content:window.Server.App.Localization.CloseButton}}]}),t.appendTo(i),isAddSampleDialogBinded=!0);ejs.popups.createSpinner({target:document.getElementById("sample_item_dialog")});ejs.popups.setSpinner({type:"Material"});beforeOpenSampleDialog()}function beforeOpenSampleDialog(){$("#sample-item-container").show();ejs.popups.showSpinner(document.getElementById("sample_item_dialog"));$.ajax({type:"POST",url:addSampleItemsUrl,data:{},success:function(n){var t=angular.element("[ng-controller=SampleListCtrl]").scope();t.samples=n.categories;t.orderList="Name";t.$root.$$phase!="$apply"&&t.$root.$$phase!="$digest"&&t.$apply();ejs.popups.hideSpinner(document.getElementById("sample_item_dialog"))}})}function openNewDashboardPopup(){$("#report_popup").ejDialog("open");$("#report_popup_wrapper").ejWaitingPopup("show")}function onDashboardDialogOpen(){$("#report_iframe").attr("src",addDashboardIframeUrl)}function onDashboardDialogClose(){$("#report_popup").find("iframe").contents().find("html").html("");window.IsAddDashboard=!1;window.CategoryName=""}function beforeCloseAddItemPopup(){$("#add_category_name").val("");$("#add-category_description").val("");$("#AddCategoryPopup #validate-name").parent("span").parent("td").removeClass("has-error");$("#AddCategoryPopup #validate-name").parent("span").removeClass("has-error");$("#AddCategoryPopup #validate-name").text("");$("#AddCategoryPopup #plugin_validation").html("")}function onCreateConnectionDialogClose(){$("#create-connection-popup").ejDialog("close")}function deletePinboard(n){$.ajax({type:"POST",url:deleteHomepageUrl,data:{homepageId:n},success:function(n){n?(successToast(window.Server.App.Localization.DeleteHomepageSuccess,7e3),window.location.href=homepageBaseUrl):warningToast(window.Server.App.Localization.DeleteHomepageFailure)}});var t=document.getElementById("delete-pinboard-dialog").ej2_instances;t[0].hide()}function changeListOnWindowResize(){var t=$("#widget-container").attr("data-item-type").toLowerCase(),n;t==="widget"?(n=$("#widget-container").attr("data-current-layout"),window.innerWidth<=1040&&window.innerWidth>768?(parent.$("#widget-container ul li.empty").removeClass("click-container"),parent.$("#column-1, #column-2, #column-3").sortable("disable"),n=="111"?$("#column-1 li").hasClass("empty")&&$("#column-2 li").hasClass("empty")&&$("#column-3 li").hasClass("empty")?($("#column-1").css("width","100%"),$("#column-1 li.empty").show()):!$("#column-1 li").hasClass("empty")&&$("#column-2 li").hasClass("empty")&&$("#column-3 li").hasClass("empty")?($("#column-2 li.empty").show(),$("#widget-container ul li.empty").css("border","none"),$("#widget-container ul li.empty .empty-content").hide()):!$("#column-1 li").hasClass("empty")||$("#column-2 li").hasClass("empty")&&$("#column-3 li").hasClass("empty")||($("#column-1 li.empty").show(),$("#widget-container ul li.empty").css("border","none"),$("#widget-container ul li.empty .empty-content").hide()):(n=="11"||n=="12"||n=="21")&&($("#column-1 li").hasClass("empty")&&$("#column-2 li").hasClass("empty")?($("#column-1").css("width","100%"),$("#column-1 li.empty").show()):!$("#column-1 li").hasClass("empty")&&$("#column-2 li").hasClass("empty")?($("#column-2 li.empty").show(),$("#widget-container ul li.empty").css("border","none"),$("#widget-container ul li.empty .empty-content").hide()):$("#column-1 li").hasClass("empty")&&!$("#column-2 li").hasClass("empty")&&($("#column-1 li.empty").show(),$("#widget-container ul li.empty").css("border","none"),$("#widget-container ul li.empty .empty-content").hide()))):window.innerWidth<=768?(parent.$("#widget-container ul li.empty").removeClass("click-container"),parent.$("#column-1, #column-2, #column-3").sortable("disable"),n=="111"?$("#column-1 li").hasClass("empty")&&$("#column-2 li").hasClass("empty")&&$("#column-3 li").hasClass("empty")&&$("#column-1 li.empty").show():(n=="11"||n=="12"||n=="21")&&$("#column-1 li").hasClass("empty")&&$("#column-2 li").hasClass("empty")&&$("#column-1 li.empty").show()):(parent.$("#widget-container ul li.empty").addClass("click-container"),parent.$("#column-1, #column-2, #column-3").sortable("enable"))):t==="dashboard"&&$("#dashboard_1_1").css({height:$(window).height()-$("#header-area").outerHeight()-$("#base-footer-div").outerHeight()-$("#homepage-header").outerHeight()-30,width:$("#content-area").width()-10})}function closeHomepageAddItemPopup(){$("#add-item-popup_wrapper").ejWaitingPopup("hide");$("#add-item-popup-iframe").contents().find("#items-container, #preview-container").html("");parent.window.PinColumn="";parent.window.IsPinWidget=!1;parent.window.IsPinDashboard=!1;parent.window.GetDashboardHomepageName=!1;parent.window.ParentName="";$("#success-alert, #warning-alert").hide();$("#add-item-popup").ejDialog("close")}function createEmptyList(n,t){for(var i=n;i<=t;i++)$("#widget-container").append("<ul id='column-"+i+"' data-column-id='"+i+"' data-child-count='0'><li class='empty click-container'><div class='empty-content empty-homepage'><span class='drag-widget'>"+window.Server.App.Localization.DragforLayout+"<\/span><\/div><\/li><\/ul>")}function appendListItem(n,t){for(var i=n+1;i<=n+t;i++)$("#column-"+i+" li:not(.empty)").length>0&&$("#column-"+n+" li.empty").remove(),$("#column-"+n).append($("#column-"+i+" li:not(.empty)")),$("#column-"+i).remove()}function changeLayout(n){var t=$("#widget-container").attr("data-homepage-id"),i=$("#widget-container").attr("data-virtual-homepage");t==""&&i=="true"&&(t=saveVirtualHomepage(),$("#initial-message").hide());$.ajax({type:"POST",async:!0,url:changeLayoutUrl,data:{homepageId:t,layout:n},success:function(n){n.Success&&t!=""&&i=="true"?afterVirtualHomepageSave(t):n.Success||warningToast(window.Server.App.Localization.ChangeLayoutFailure)}})}function setLayout(n){var i=$("#widget-container").attr("data-item-type").toLowerCase(),t;$("#layout-items").find("span#"+n).addClass("active");switch(n){case 1:$("#column-1").removeClass().addClass("col-lg-12 col-md-12 col-sm-12 col-xs-12");break;case 11:$("#column-1,#column-2").removeClass().addClass("col-lg-6 col-md-6 col-sm-6 col-xs-6");break;case 12:$("#column-1").removeClass().addClass("col-lg-4 col-md-4 col-sm-4 col-xs-4");$("#column-2").removeClass().addClass("col-lg-8 col-md-8 col-sm-8 col-xs-8");break;case 21:$("#column-1").removeClass().addClass("col-lg-8 col-md-8 col-sm-8 col-xs-8");$("#column-2").removeClass().addClass("col-lg-4 col-md-4 col-sm-4 col-xs-4");break;case 111:$("#column-1,#column-2,#column-3").removeClass().addClass("col-lg-4 col-md-4 col-sm-4 col-xs-4")}t=checkEmptyHomepage();t&&(window.IsMobile?($("#widget-container ul li.empty .empty-content").removeClass("non-empty-homepage").addClass("mobile-empty-homepage"),$("#widget-container ul li.empty .empty-content").find(".drag-widget").text(window.Server.App.Localization.HomepageMobileMessage).show(),$("#widget-container ul li.empty").css("border","none")):($("#widget-container ul li.empty .empty-content").find(".drag-widget").hide(),$("#widget-container ul li.empty .empty-content").removeClass("non-empty-homepage").addClass("empty-homepage")));i!="dashboard"&&(enableSorting(),setListMinimumHeight(),$(".e-dashboardviewer").each(function(){var n=$(this).data("ejDashboardViewer");n.resizeDashboard()}))}function checkEmptyHomepage(){var n=0,t=!1;return $("#widget-container ul").each(function(i){return n=$("#column-"+(i+1)+" li:not('.empty')").length,t=n>0?!1:!0,n>0?!1:!0}),t}function buildAppliedFiltersDom(n){var i="",t,r;if(n!=null&&n.length>0)for(t=0;t<n.length;t++){for(i+="<div class='applied-filters-list'><label class='list-items'>"+n[t].ControlTitle.title+"<\/label><br />",r=0;r<n[t].Data.length;r++)i+="<span class='list-data'>"+n[t].Data[r]+"<\/span><br />";i+="<\/div>"}return i}function renderItem(n){var r=checkEmptyHomepage(),u=$("#dateFormat").val(),f=$("#timeFormat").val()=="True"?"HH:mm":"hh:mm tt",t;r&&($("#widget-container ul li.empty .empty-content").find(".drag-widget").hide(),$("#widget-container ul li.empty .empty-content").removeClass("non-empty-homepage").addClass("empty-homepage"));$("#widget-container").hide();n.ItemType.toLowerCase()=="widget"?(setLayout(n.ColumnInfo.Layout,!0),t=n.ColumnInfo.Column,$.each(t,function(n){t[n].Item.length>0?($.each(t[n].Item,function(i){if(t[n].Item[i].ItemExtension.toLowerCase()!==".sydj")$("#widget_"+(n+1)+"_"+(i+1)).ejDashboardViewer({accessToken:accessToken,serviceUrl:dashboardServiceUrl,serverUrl:dashboardServerUrl,_enableHyperLinkOnErrorMessage:!1,cdnFilePath:isUseCdn?cdnLink+"/cdn/scripts/viewer":"",dashboardPath:t[n].Item[i].Path,_itemId:t[n].Item[i].ItemId,reportName:"",reportDescription:"",enableExport:!0,enablePrint:!1,actionBegin:function(n){n.eventType==="beforeNavigate"&&(hasWidgetLink=!0)},localeSettings:{resourcePath:""},enableWidgetMode:t[n].Item[i].Id==null?!1:!0,filterParameters:t[n].Item[i].QueryString,showTab:t[n].Item[i].TabId==null?!0:!1,widgetModeSettings:{name:"",id:t[n].Item[i].Id==null?"":t[n].Item[i].Id,title:t[n].Item[i].Name},_selectedTabGuid:t[n].Item[i].TabId==null?"":t[n].Item[i].TabId,afterWidgetRender:$.proxy(function(t,r){var u,f,e;r.data.controlType.toLowerCase()=="card"&&($("#widget_"+(n+1)+"_"+(i+1)+" .e-control-heading span").hasClass("e-control-title")==!1?$("#widget_"+(n+1)+"_"+(i+1)+" .e-control-heading").text(t[n].Item[i].Name):"");t[n].Item[i].IsActive&&!t[n].Item[i].IsHavingPermission?($("#widget_"+(n+1)+"_"+(i+1)).find(".e-dbrd-control").remove(),$("#widget_"+(n+1)+"_"+(i+1)).find(".e-dbrd-control-container").append("<div class='no-permission'><span class='message'>"+window.Server.App.Localization.PermissionDeniedWidget+"<\/span><\/div>")):t[n].Item[i].IsActive||t[n].Item[i].IsHavingPermission?t[n].Item[i].IsActive&&!t[n].Item[i].IsValidIP&&($("#widget_"+(n+1)+"_"+(i+1)).find(".e-dbrd-control").remove(),$("#widget_"+(n+1)+"_"+(i+1)).find(".e-dbrd-control-container").append("<div class='no-permission'><span class='message'> "+window.Server.App.Localization.ClientIPRestriction+" "+ipAddress+"<\/span><\/div>")):($("#widget_"+(n+1)+"_"+(i+1)).find(".e-dbrd-control").remove(),$("#widget_"+(n+1)+"_"+(i+1)).find(".e-dbrd-control-container").append("<div class='no-permission'><span class='message'>"+window.Server.App.Localization.DeletedWidgetMessage+"<\/span><\/div>"));t[n].Item[i].IsActive&&t[n].Item[i].IsHavingPermission&&t[n].Item[i].QueryString!=null&&(u=$("#widget_"+(n+1)+"_"+(i+1)),u.find("#filter-info").parent().append('<div class="filter-overview"><span id="heading">'+window.Server.App.Localization.AppliedFilters+'<\/span><div id="outer-div"><div id="scroller-content"><div id="applied-filters-container"><\/div><\/div><\/div><\/div>'),f=u.data("ejDashboardViewer")._parseParameterQuery(t[n].Item[i].QueryString),e=buildAppliedFiltersDom(f),u.find(".filter-overview #applied-filters-container").append(e),u.find(".filter-overview #applied-filters-container").height()>180&&u.find(".filter-overview #scroller-content").ejScroller({height:180,width:248,scrollerSize:9}),u.find(".filter-overview").addClass("display-none"))},this,t),beforeWidgetIconRendered:$.proxy(function(t,r){var u,f;r.widgetInformation.Name.toLowerCase()!="widget not configured"?$("#widget_"+(n+1)+"_"+(i+1)).data("ejDashboardViewer").model.size.height=window.IsMobile?"250px":r.widgetInformation.Name.toLowerCase()!="card"?"400px":"250px":($("#widget_"+(n+1)+"_"+(i+1)).data("ejDashboardViewer").model.size.height="200px",$("#widget_"+(n+1)+"_"+(i+1)).find(".e-dbrd-control-container").append("<div class='no-permission'><span class='message'>"+window.Server.App.Localization.DeletedWidgetMessage+"<\/span><\/div>"));r.iconsinformation.length>0&&r.iconsinformation[0].classname=="e-dbrd-link-enable"&&(r.iconsinformation[0].margintop="1px");window.IsMobile||r.iconsinformation.unshift({classname:"su su-delete unpin",name:"Unpin Widget",datatooltip:window.Server.App.Localization.UnpinWidget,marginright:"-18px",margintop:"4px"});u=t[n].Item[i].IsActive&&t[n].Item[i].IsHavingPermission&&r.widgetInformation.Name.toLowerCase()!="widget not configured";u&&(r.iconsinformation.unshift({classname:"su su-maximize unpin",name:"Maximize Widget",datatooltip:window.Server.App.Localization.MaximizeWidget,marginright:"-18px",margintop:"4px"}),r.iconsinformation.unshift({classname:"su su-open-link-newtab unpin",name:"Go to Dashboard",datatooltip:window.Server.App.Localization.GotoDashboard,marginright:"-18px",margintop:"4px"}));u&&t[n].Item[i].QueryString!=null&&r.iconsinformation.unshift({id:"filter-info",classname:"su su-info unpin",name:"Applied Filters",datatooltip:window.Server.App.Localization.ViewAppliedFilters,margintop:"4px",marginright:"0px"});$("#widget-container").show();hideWaitingPopup("content-area");f=$("#widget_"+(n+1)+"_"+(i+1)).ejDashboardViewer();f.resize()},this,t),dashboardCreated:function(){var t=$("#widget_"+(n+1)+"_"+(i+1)).attr("data-dashboardurl");$("#widget_"+(n+1)+"_"+(i+1)).find(".su-open-link-newtab").wrap($('<a class="redirect" href="'+t+'" target="_blank">'))},onMenuIconClick:function(n){var i,r,t;if(typeof n.name!="undefined"&&n.name.toLowerCase()=="unpin widget")ShowWaitingProgress("#content-area","show"),i=n.target.parents("ul").data("column-id"),r=n.target.parents("li").index()+1,unPinItem(i,r,n.event);else if(typeof n.name!="undefined"&&n.name.toLowerCase()=="maximize widget"){parent.$("#maximize").removeClass("display-none");var t=n.target.parents(".widget").attr("id"),u=parent.$("#"+t).data("ejDashboardViewer").getWidgetDataByReportName(n.widgetId),f=n.headertext;maximizeWidget(f,u,n.event,n.serviceUrl,n.dashboardPath)}else typeof n.name!="undefined"&&n.name.toLowerCase()=="applied filters"&&(t=$(n.event.target).parent().find(".filter-overview"),t.toggleClass("display-none"),$(".filter-overview").not(t).addClass("display-none"),n.event.preventDefault())}});else{$("#homepage-list").selectpicker("refresh");var u=0,r=t[n].Item[i].WidgetType;u=r!=null&&(r.includes("Card")||r.includes("Image"))?225:375;$("#widget_"+(n+1)+"_"+(i+1)).append("<iframe width='100%' height='100%' style='border:0;height: "+u+"px;' src='"+baseUrl.trimEnd("/")+"/dashboards/"+t[n].Item[i].ItemId+"/"+t[n].Item[i].CategoryName+"/"+t[n].Item[i].ItemName+"?isWidgetMode=true&widgetId="+t[n].Item[i].Id+"'><\/iframe>");t[n].Item[i].IsActive?t[n].Item[i].IsActive&&!t[n].Item[i].IsHavingPermission?($("#widget_"+(n+1)+"_"+(i+1)).find("iframe").remove(),$("#widget_"+(n+1)+"_"+(i+1)).append("<div class='no-permission'><span class='message'>"+window.Server.App.Localization.PermissionDeniedWidget+"<\/span><\/div>")):t[n].Item[i].IsActive&&!t[n].Item[i].IsValidIP&&($("#widget_"+(n+1)+"_"+(i+1)).find("iframe").remove(),$("#widget_"+(n+1)+"_"+(i+1)).append("<div class='no-permission'><span class='message'>"+window.Server.App.Localization.ClientIPRestriction+" "+ipAddress+"<\/span><\/div>")):($("#widget_"+(n+1)+"_"+(i+1)).find("iframe").remove(),$("#widget_"+(n+1)+"_"+(i+1)).append("<div class='no-permission'><span class='message'>"+window.Server.App.Localization.DeletedWidgetMessage+"<\/span><\/div>"))}}),$("#widget-container").show(),hideWaitingPopup("content-area")):($("#widget-container").show(),hideWaitingPopup("content-area"))}),enableSorting(),setListMinimumHeight()):n.ItemType.toLowerCase()=="dashboard"&&(t=n.ColumnInfo.Column,$("#dashboard_1_1").css({height:$(window).height()-$("#header-area").outerHeight()-$("#base-footer-div").outerHeight()-$("#homepage-header").outerHeight()-30,width:$("#content-area").width()-10}),t[0].Item[0].IsActive&&t[0].Item[0].IsHavingPermission&&t[0].Item[0].ItemExtension.toLowerCase()!==".sydj"?$("#dashboard_1_1").ejDashboardViewer({accessToken:accessToken,serviceUrl:dashboardServiceUrl,serverUrl:dashboardServerUrl,_enableHyperLinkOnErrorMessage:!1,cdnFilePath:isUseCdn?cdnLink+"/cdn/scripts/viewer":"",dashboardPath:n.ColumnInfo.Column[0].Item[0].Path,_itemId:n.ColumnInfo.Column[0].Item[0].ItemId,reportName:"",reportDescription:"",enableExport:!0,enablePrint:!1,showGetLinkIcon:!1,localeSettings:{resourcePath:""},interactionSettings:{allowHistoryMaintenance:!1,handleHistoryEvent:!1},enableWidgetMode:!1,filterParameters:n.ColumnInfo.Column[0].Item[0].QueryString,showTab:n.ColumnInfo.Column[0].Item[0].TabId!=null?!1:!0,_selectedTabGuid:n.ColumnInfo.Column[0].Item[0].TabId!=null?n.ColumnInfo.Column[0].Item[0].TabId:"",beforeControlMenuOpen:function(n){n.menuData.splice(1,1)},onTabSelectionFailure:"OnFailtoLoadChildDashboard",beforeContextMenuOpen:function(n){var t=function(n,t,i){for(var r=n.length;r--;)n[r]&&n[r].hasOwnProperty(t)&&arguments.length>2&&n[r][t]===i&&n.splice(r,1);return n};t(n.menuData,"text","Export")}}):t[0].Item[0].IsActive?t[0].Item[0].IsActive&&!t[0].Item[0].IsHavingPermission?$("#dashboard_1_1").append("<div class='no-permission'><span class='message'>"+window.Server.App.Localization.PermissionDeniedDashboard+"<\/span><\/div>"):t[0].Item[0].IsActive&&t[0].Item[0].IsHavingPermission&&t[0].Item[0].ItemExtension.toLowerCase()===".sydj"?$("#dashboard_1_1").append("<div class='no-permission'><span class='message'>"+window.Server.App.Localization.SydjDashboardMessage+"<\/span><\/div>"):args[i].Item[j].IsActive&&!args[i].Item[j].IsValidIP&&$("#dashboard_1_1").append("<div class='no-permission'><span class='message'>"+window.Server.App.Localization.ClientIPRestriction+" "+ipAddress+"<\/span><\/div>"):$("#dashboard_1_1").append("<div class='no-permission'><span class='message'>"+window.Server.App.Localization.DeletedDashboardMessage+"<\/span><\/div>"),$("#widget-container").show(),hideWaitingPopup("content-area"))}function maximizeWidget(n,t,i,r,u){ShowWaitingProgress("#maximize_container","show");$("#maximize_container").ejDashboardViewer({serviceUrl:r,accessToken:accessToken,serverUrl:dashboardServerUrl,_enableHyperLinkOnErrorMessage:!1,cdnFilePath:isUseCdn?cdnLink+"/cdn/scripts/viewer":"",dashboardPath:u,_dashboardData:{loadFromData:!0,isControl:!0,controlHeader:n,layout:[{Key:"Culture",Value:"en-US"},{Key:"Layout",Value:'{"RowCount":6,"ColumnCount":12,"Background":"#FFFFFFFF","HasFZone":false,"CanvasLayout":"DesktopGridCanvas"}'},{Key:"LayoutInformation",Value:'[{"ParameterColumns":{"Title":[]},"Column":2,"Row":0,"ColumnSpan":5,"RowSpan":3,"Label":{"ContentPaddingBottom":0,"ContentPaddingLeft":0,"ContentPaddingRight":0,"ContentPaddingTop":0,"ControlPaddingBottom":0,"ControlPaddingLeft":0,"ControlPaddingRight":0,"ControlPaddingTop":0,"CornerRadius":0,"Description":"Grid control monitors variables through Column vise","EnableComment":true,"EnableCsvExport":true,"EnableExcelExport":true,"EnableImageExport":true,"EnablePdfExport":true,"HeaderHeight":20,"HeaderLabelBackground":"#FFFFFFFF","HeaderLabelForeground":"#FF161616","HeaderText":"Grid_1","IsBold":false,"IsItalic":false,"LabelAlignment":0,"ShowBorder":false,"ShowDescription":false,"ShowHeader":true,"ShowMaximize":true,"TextAlignment":null},"Name":"Grid","IsMaster":false,"Guid":"9929e1a5-c00b-414a-9262-fd3e474a456c","ReportName":"Grid_1","IsStandardSize":false}]'}],widgetData:t},afterWidgetRender:function(){ShowWaitingProgress("#maximize_container","hide")}});$("#maximize_container .e-control-heading div").append("<span class='su su-close' title='"+window.Server.App.Localization.Close+"'><\/span>");i.preventDefault()}function OnFailtoLoadChildDashboard(n){var t=n.selectedTabGuid!=n.currentTabGuid;t==!0&&($("#dashboard_1_1").data("ejDashboardViewer").stopRendering=!0,$("#dashboard_1_1").html("").append("<div class='no-permission'><span class='message'>"+window.Server.App.Localization.DashboardUpdatedMessage+"<\/span><\/div>"))}function createHomepageDom(n){var r,t,u,i;if($("#homepage-name").text(n.Name).attr("data-original-title",n.Name).css("float","left"),$("#widget-container").attr("data-homepage-id",n.Id).attr("data-current-layout",n.ColumnInfo.Layout).attr("data-item-type",n.ItemType).attr("data-virtual-homepage",n.IsVirtualHomepage),r=$("#add-item-popup_wrapper").css("display").toLowerCase(),r=="none"&&showWaitingPopup("content-area"),n.ItemType.toLowerCase()=="widget")for(t=n.ColumnInfo.Column,$.each(t,function(n){$("#widget-container").append("<ul id=column-"+(n+1)+' class="widget-list" data-column-id='+(n+1)+"><\/ul>");t[n].Item.length>0?$.each(t[n].Item,function(i){var e=t[n].Item[i].Id==null?widgetsRenderUrl:dashboardsRenderUrl,s=t[n].Item[i].Name,f=t[n].Item[i].WidgetType,o=0,r,u;o=f!=null&&(f.includes("Card")||f.includes("Image"))?250:400;r=t[n].Item[i].QueryString!=null?t[n].Item[i].QueryString:"";u=t[n].Item[i].TabId==null?e+"/"+t[n].Item[i].ItemId+"/"+(t[n].Item[i].Id!=null?t[n].Item[i].CategoryName+"/":"")+t[n].Item[i].ItemName+(r!=""?"?"+r:r):e+"/"+t[n].Item[i].ItemId+"/"+(t[n].Item[i].Id!=null?t[n].Item[i].CategoryName+"/":"")+t[n].Item[i].ItemName+"?tab="+t[n].Item[i].TabId+(r!=""?"&"+r:r);t[n].Item[i].ItemExtension.toLowerCase()!==".sydj"?$("#column-"+(n+1)).append('<li class="list-item"><div class="widget" id=widget_'+(n+1)+"_"+(i+1)+' data-dashboardurl="'+u+'" style="height:100%;width:100%;"><\/div><\/li>'):$("#column-"+(n+1)).append('<li class="list-item" style="width:100%;height:100%;"><div class="widget widget-sortable" id=widget_'+(n+1)+"_"+(i+1)+' data-dashboardurl="'+u+'" style="height: '+o+'px;width:100%;background:white;"><div class="widget-sortable" style="width:100%;float:left;display:block;height:25px"><div style="height:100%;width:100%;cursor:move;"><div id="item-name">'+s+'<\/div><div id="widget-icons"><i data-href="'+u+'" class="items view-item su su-open-link-newtab" data-toggle="tooltip" data-original-title="'+window.Server.App.Localization.GotoDashboard+'" style="color:black;"><\/i><i class="items unpin-widget su su-delete" data-toggle="tooltip" data-original-title="'+window.Server.App.Localization.UnpinWidget+'"><\/i><\/div ><\/div ><\/div><\/div><\/li > ')}):$("#column-"+(n+1)).append("<li class='empty click-container'><div class='empty-content empty-homepage'><span class='drag-widget'>"+window.Server.App.Localization.DragforLayout+"<\/span><\/div><\/li>")}),u=$("li.list-item a"),i=0;i<u.length;i++)$("li.list-item a").eq(i).attr("href",$("li.list-item a").eq(i).attr("data-url"));else n.ItemType.toLowerCase()=="dashboard"&&($("#add-item, #layout-container, #divider").hide(),$("#widget-container").append('<ul id="column-1" class="dashboard-column col-lg-12 col-md-12 col-sm-12 col-xs-12" data-column-id="1"><li class="dashboard-list"><div class="dashboard" id="dashboard_1_1" style="height:100%;width:100%"><\/div><\/li><\/ul>'))}function enableSorting(){$("#column-1, #column-2, #column-3").sortable({connectWith:"ul",placeholder:".placeholder",handle:".widget-sortable",cancel:".empty",containment:"#content-area",cursor:"move",tolerance:"pointer",scroll:!0,scrollSensitivity:10,scrollSpeed:20,update:function(n,t){toColumn=$(n.target).data("column-id");toPosition=t.item.index()+1},start:function(n,t){$("li.ui-sortable-placeholder").append("<div class='placeholder-text'>"+window.Server.App.Localization.DragforLayout+"<\/div>");$("li.ui-sortable-placeholder").css("height",t.item.height().toString()+"px");$("#widget-container ul li.empty").remove();fromColumn=$(n.target).data("column-id");fromPosition=t.item.index()+1;toColumn=$(n.target).data("column-id");toPosition=t.item.index()+1},stop:function(n,t){showEmptyList();fromColumn==toColumn&&fromPosition==toPosition||(fromColumn!=toColumn&&isSyncfusionIdentifier&&$(t.item).find(".widget").data("ejDashboardViewer").resizeDashboard(),dragAndDrop(fromColumn,toColumn,fromPosition,toPosition));setListMinimumHeight()}});$("#column-1, #column-2, #column-3").disableSelection()}function dragAndDrop(n,t,i,r){var u=$("#widget-container").attr("data-homepage-id"),f={Column:n,Position:i},e={Column:t,Position:r};$.ajax({type:"POST",async:!0,url:dragAndDropUrl,data:{homepageId:u,moveFrom:f,moveTo:e},success:function(n){n.Success||warningToast(window.Server.App.Localization.DragandDropFailure)}})}function setListMinimumHeight(){var n=[],t;$("#widget-container > ul").each(function(t){var i=0;$(this).find("li").each(function(){i=i+$(this).innerHeight()+20});n[t]=i});t=Math.max.apply(Math,n)>400?Math.max.apply(Math,n):440;$("#widget-container > ul").css("min-height",t)}function unPinItem(n,t,i){var r=$("#widget-container").attr("data-homepage-id"),u={Column:n,Position:t};$.ajax({type:"POST",url:unPinUrl,data:{homepageId:r,position:u},success:function(i){if(i.Success){$("#column-"+n+" li:eq("+(t-1)+")").remove();showEmptyList();var r=checkEmptyHomepage();r&&($("#widget-container ul li.empty .empty-content").find(".drag-widget").hide(),$("#widget-container ul li.empty .empty-content").removeClass("non-empty-homepage").addClass("empty-homepage"))}}});ShowWaitingProgress("#content-area","hide");i.preventDefault()}function showEmptyList(){$("#widget-container ul").each(function(n){$("#column-"+(n+1)+" li").length<1&&$("#column-"+(n+1)).append("<li class='empty click-container'><div class='empty-content empty-homepage'><span class='drag-widget'>"+window.Server.App.Localization.DragforLayout+"<\/span><\/div><\/li>")})}function addToolTip(){$("select").each(function(){var t=$(this).attr("id"),n,i;for($("#"+t).selectpicker("refresh"),n=0;n<$("button[data-id="+t+"]").next().find("ul li").length;n++)i=$("button[data-id="+t+"]").next().find(".dropdown-menu.selectpicker li").eq(n).find("a .text").text(),$("button[data-id="+t+"]").next().find(".dropdown-menu.selectpicker li").eq(n).find("a").attr("title",i)})}function createVirtualHomepage(){var t=[{Item:{}},{Item:{}}],r=window.screen.availWidth,n,i;window.screen.availWidth>=1366?t.push({Item:{}}):"";n={ColumnInfo:{Column:t,Layout:window.screen.availWidth>=1366?111:11},Id:"",IsDefaultHomepage:!1,ItemType:"Widget",Name:"Pinboard1",IsVirtualHomepage:!0};$("#homepage-list").val(n.Name);$("#homepage-list").selectpicker("refresh");createHomepageDom(n);renderItem(n);i=getCookie("virtualhomepageinitialmessage");i==null&&$("#initial-message").removeClass("hidden")}function saveVirtualHomepage(){var t=$("#homepage-name").text().trim(),i=window.screen.availWidth>=1366?!1:!0,n="";return $.ajax({type:"POST",url:addHomepageUrl,async:!1,data:{homepageName:t,checkedStatus:!0,isDashboardHomepage:!1,isTwoColumn:i},success:function(t){t.Success&&(n=t.Value)}}),n}function getCookie(n){var t=document.cookie,i=t.indexOf(" "+n+"="),r;return i==-1&&(i=t.indexOf(n+"=")),i==-1?t=null:(i=t.indexOf("=",i)+1,r=t.indexOf(";",i),r==-1&&(r=t.length),t=unescape(t.substring(i,r))),t}function setCookie(n,t,i){var r=new Date,u;r.setDate(r.getDate()+i++);u=escape(t)+(i==null?"":"; expires="+r.toUTCString());document.cookie=n+"="+u+";SameSite=Lax"}function afterVirtualHomepageSave(n){$.ajax({type:"POST",url:getHomepageDetails,async:!0,data:{homepageId:n},success:function(n){$("#widget-container").contents().remove();$("#widget-container").attr("data-virtual-homepage","");createHomepageDom(n);renderItem(n);$("#options li#duplicate,#options li#delete").show();$("#options li.make-default").remove();$("#options").append("<li id='remove-default' class='make-default'>"+window.Server.App.Localization.RemoveDefaultHomepage+"<\/li>");$("#homepage-list").append("<option data-homepage-id='"+n.Id+"' value='"+n.Name+"'>"+n.Name+"<\/option>");$("#homepage-list").val(n.Name).selectpicker("refresh");$("#homepage-list").next().find(".dropdown-menu > .bs-searchbox").hide();$("#homepage-list").next().find(".dropdown-menu > .no-result-found").remove()}})}function closeHomepageActionPopup(){(window.GetDashboardHomepageName||window.GetDashboardHomepageName==undefined)&&($("#homepage-action-popup #filter-info").popover("hide"),$("#homepage-action-popup #keepfilter").prop("checked",!0),$("#homepage-action-popup #filter-container").addClass("display-none"));window.GetDashboardHomepageName=!1;window.IsNewHomepageName="";window.DashboardId="";dashboardViewerObject=null;$("#makedefault").prop("checked",!1);$("#homepage-option-form").attr("data-homepage-id","");$("#homepage-action-popup #save-button").attr("data-value","");var n=document.getElementById("homepage-action-dialog").ej2_instances;n[0].hide()}function homepageActionPopup(n,t){var i=n.toLowerCase(),r=$("#homepage-name").text().trim();dashboardViewerObject=t!=undefined?t:null;switch(i){case"rename":case"duplicate":$("#homepage-action-popup #default-homepage-section").hide();$("#homepage-action-popup #save-button").attr("data-value",i);$("#homepage-option-form").attr("data-homepage-id",$("#widget-container").attr("data-homepage-id"));$("#homepage-option-container #homepage-new-name").val(i=="rename"?r:r+" - Copy");$("#homepage-option-form").valid();i=="duplicate"?$("#homepage-action-dialog .save-option-button").attr("disabled",!1):i=="rename"&&$("#homepage-action-dialog .save-option-button").attr("disabled",!0);break;case"newhomepage":$("#homepage-option-container .PopupTitle").text(window.Server.App.Localization.NewHomepage);$("#homepage-option-container #homepage-new-name").val("").next(".validation-errors").find(".error").remove();$("#homepage-option-container #homepage-new-name").parent().removeClass("has-error");$("#homepage-action-popup #default-homepage-section").show();$("#homepage-action-popup #item-name-division").removeClass("top-padding");break;case"newdashboardhomepage":$("#homepage-option-container .PopupTitle").text(window.Server.App.Localization.NewHomepage);$("#homepage-action-popup #default-homepage-section").show();$("#homepage-action-popup #item-name-division").removeClass("top-padding");$("#homepage-option-container #homepage-new-name").val(parent.window.IsNewHomepageName);$("#homepage-action-popup #filter-container").removeClass("display-none");$("#homepage-action-popup").ejDialog({height:"230px"});$("#homepage-action-popup #filter-info").popover();$("#homepage-option-form").valid()}ejs.popups.hideSpinner(document.getElementById("homepage-action-dialog"))}var itemUrl,browser=ej.browserInfo(),isFirstRequest=!1,isAjaxRequested=!0,isItemDeleteDialogBinded=!1,isCopyItemDialogBinded=!1,isAddCategoryDialogBinded,isAddSampleDialogBinded,isHomePageActionDialogBinded,isDeletePinboardDialogBinded,hasWidgetLink;$(function(){function a(n,t,i,r){$.ajax({type:"POST",url:deleteConfirmationUrl,data:{itemId:n,itemTypeId:t,itemName:i,datasourceType:r},success:function(n){$("#item-delete-confirmation").html(n);ejs.popups.hideSpinner(document.getElementById("delete-item-dialog"));$("#item-delete-confirmation").focus()}})}function v(){ejs.popups.showSpinner(document.getElementById("delete-item-dialog"));var i=$("#delete-item").attr("data-item-id"),n=$("#delete-item").attr("data-itemtype"),t="";n=="Datasource"&&(t=$("#delete-item").attr("data-datasource-type"));$.ajax({type:"POST",url:deleteItemUrl,data:{itemId:i,datasourceType:t},success:function(t){var u,i,r;ejs.popups.hideSpinner(document.getElementById("delete-item-dialog"));t.Success?(u=n=="Category"?window.Server.App.Localization.CategoryDeleted:n=="Dashboard"?window.Server.App.Localization.DashboardDeleted:n=="Datasource"?window.Server.App.Localization.DatasourceDeleted:n+window.Server.App.Localization.Deleted,successToast(window.Server.App.Localization.DeleteSuccess.format($("#delete-item-name").html()),7e3),n=="Category"||$(".all-items").hasClass("active")?$(".all-items").hasClass("active")?$(".all-items").trigger("click"):(i=parent.angular.element(parent.document.getElementById("server-items-container")).scope(),i.refreshCategorySection()):n=="Dashboard"?(onSuccessDeleteItem(),$("#favoriteitemCount").text(t.Value)):n=="Datasource"?t.DatasourceCount>0&&t.DatasourceCount!=undefined?onSuccessDeleteItem():($("#body").ejWaitingPopup("show"),location.reload()):onSuccessDeleteItem()):t.HasPermission==!1?warningToast(window.Server.App.Localization.DeleteItemPermissionMessage+" "+window.Server.App.Localization.ReloadPage):warningToast(window.Server.App.Localization.DeleteFailMessage.format($("#delete-item-name").html()));r=document.getElementById("delete-item-dialog").ej2_instances;r[0].hide()}})}function y(n,t){$.ajax({type:"POST",url:copyIframeUrl,data:{itemId:n,itemAction:t},success:function(n){var i,t;$("#ItemAction").html(n);i=$("#copy-dashboard-status").val();i=="true"?(t=document.getElementById("copy_item_dialog").ej2_instances,t[0].buttons=[{click:function(){CopyItem()},buttonModel:{isPrimary:!0,cssClass:"app-btn-primary",content:window.Server.App.Localization.Copy}},{click:function(){t[0].hide()},buttonModel:{cssClass:"app-btn-secondary",content:window.Server.App.Localization.CancelButton}}]):(t=document.getElementById("copy_item_dialog").ej2_instances,t[0].buttons=[{click:function(){t[0].hide()},buttonModel:{cssClass:"app-btn-secondary",content:window.Server.App.Localization.OKButton}}]);ejs.popups.hideSpinner(document.getElementById("copy_item_dialog"))}})}var n,t,i,r,u,f,e,o,s,h,c,l;addPlacehoder("#input-div");$("#item-viewer").css({height:$(window).height()-$("#header-area").outerHeight()-$("#base-footer-div").outerHeight(),width:$(window).width()-$("#main-nav").width()-$(".item-list-panel").width()});$("#item-viewer #initial-item-message").css("display","block");$("#dashboard_render_iframe").css("display","none");$("#create-new-category").css("width",$(".item-list-panel").outerWidth());$("#input-div").find(".placeholder").hide();n=createLoader("item-grid-container");$("#item-grid-container").ejWaitingPopup({template:$("#"+n)});t=createLoader("item-list-panel");$("#item-list-panel").ejWaitingPopup({template:$("#"+t)});i=createLoader("item-viewer");$("#item-viewer").ejWaitingPopup({template:$("#"+i)});$(".search-area").removeClass("focusdiv");$(".item-list-panel").css("height",window.innerHeight-$("#header-area").outerHeight());$("#datasource-popup").ejDialog({width:"650px",showOnInit:!1,allowDraggable:!1,enableResize:!1,enableModal:!0,showHeader:!1,close:"onDataSourceDialogClose",open:"onDataSourceDialogOpen"});$("#widget_popup").ejDialog({width:"651px",showOnInit:!1,allowDraggable:!1,enableResize:!1,enableModal:!0,showHeader:!1,close:"onWidgetDialogClose",open:"onWidgetDialogOpen"});$("#popup-container").ejDialog({allowDraggable:!1,enableResize:!1,enableModal:!0,showHeader:!1,showOnInit:!1,close:"onSchedulerDialogClose",open:"onSchedulerDialogOpen",width:"1000px"});r=createLoader("popup-container_wrapper");$("#popup-container_wrapper").ejWaitingPopup({template:$("#"+r)});$("#select_datasource_popup").ejDialog({width:"800px",showOnInit:!1,allowDraggable:!0,enableResize:!1,height:"530px",showHeader:!1,enableModal:!0,closeOnEscape:!0,close:"closeNewDataSourcePopup"});$("#file-popup").ejDialog({width:"650px",showOnInit:!1,allowDraggable:!1,enableResize:!1,height:"382px",title:window.Server.App.Localization.AddFile,enableModal:!0,showHeader:!1,open:"onNewFileDialogOpen",close:"onNewFileDialogClose"});$("#permission-popup").ejDialog({showOnInit:!1,allowDraggable:!0,enableResize:!1,width:"900px",title:"",showHeader:!1,enableModal:!0,close:"DialogBoxClose",closeOnEscape:!0});$("#make_item_public").ejDialog({width:window.innerWidth>460?"450px":window.innerWidth-10,showOnInit:!1,allowDraggable:!1,enableResize:!1,height:"auto",title:window.Server.App.Localization.MakePublic,showHeader:!1,enableModal:!0,closeOnEscape:!0,close:"onMakePublicDialogClose",open:"onMakePublicDialogOpen"});$("#remove_item_public").ejDialog({width:window.innerWidth>460?"450px":window.innerWidth-10,showOnInit:!1,allowDraggable:!1,enableResize:!1,height:"auto",title:window.Server.App.Localization.RemovePublic,showHeader:!1,enableModal:!0,closeOnEscape:!0,close:"onRemovePublicDialogClose",open:"onRemovePublicDialogOpen"});$("#create-datasource-popup").ejDialog({width:"650px",height:"auto",showOnInit:!1,allowDraggable:!1,enableResize:!1,enableModal:!0,showHeader:!1,close:"onCreateDataSourceDialogClose",open:"onCreateDataSourceDialogOpen"});u=createLoader("create-datasource-popup_wrapper");$("#create-datasource-popup_wrapper").ejWaitingPopup({template:$("#"+u)});f=createLoader("widget_popup_wrapper");$("#widget_popup_wrapper").ejWaitingPopup({template:$("#"+f)});e=createLoader("select_datasource_popup_wrapper");$("#select_datasource_popup_wrapper").ejWaitingPopup({template:$("#"+e)});o=createLoader("file-popup_wrapper");$("#file-popup_wrapper").ejWaitingPopup({template:$("#"+o)});s=createLoader("datasource-popup_wrapper");$("#datasource-popup_wrapper").ejWaitingPopup({template:$("#"+s)});h=createLoader("permission-popup_wrapper");$("#permission-popup_wrapper").ejWaitingPopup({template:$("#"+h)});c=createLoader("make_item_public_wrapper");$("#make_item_public_wrapper").ejWaitingPopup({template:$("#"+c)});l=createLoader("remove_item_public_wrapper");$("#remove_item_public_wrapper").ejWaitingPopup({template:$("#"+l)});$(document).on("click","#context-menu",function(){refreshScrollerForCategory()});$(document).on("click",".options-area",function(){setTimeout(function(){$(".tooltip").hide()},50)});$("#search-home-page").on("focusin",function(){$(".search-area").addClass("focusdiv")});$("#search-home-page").on("focusout",function(){$(".search-area").removeClass("focusdiv")});$(document).on("click",".item-delete",function(){var i,t,e,n;$("#delete-item-name").html($(this).attr("data-name"));$("#delete-item").attr("data-item-id",$(this).attr("data-item-id"));var o=$(this).attr("data-item-id"),r=$(this).attr("data-name"),u=$(this).attr("data-itemtype"),f="";u=="4"&&(f=$(this).attr("data-datasource-type"));document.getElementById("item-delete-confirmation").style.display="block";i='<span class="dialog-header-with-subtitle"><span class ="dialog-header-title">'+window.Server.App.Localization.DeleteDataSource+'<\/span><span class="item-name">'+r+"<\/span><\/span>";isItemDeleteDialogBinded?(n=document.getElementById("delete-item-dialog").ej2_instances,n[0].header=i,n[0].show()):(t=document.createElement("div"),t.setAttribute("id","delete-item-dialog"),e=document.getElementById("item-grid-container"),e.appendChild(t),n=new ejs.popups.Dialog({showOnInit:!1,allowDraggable:!1,enableResize:!1,width:window.innerWidth>460?"450px":window.innerWidth-10,height:"auto",showHeader:!1,animationSettings:{effect:"Zoom"},isModal:!0,enableModal:!0,closeOnEscape:!0,header:i,showCloseIcon:!0,content:document.getElementById("item-delete-confirmation"),buttons:[{click:function(){v()},buttonModel:{cssClass:"app-btn-danger",content:window.Server.App.Localization.YesButton}},{click:function(){n.hide()},buttonModel:{cssClass:"app-btn-secondary",content:window.Server.App.Localization.NoButton}}]}),n.appendTo(t),isItemDeleteDialogBinded=!0);ejs.popups.createSpinner({target:document.getElementById("delete-item-dialog")});ejs.popups.setSpinner({type:"Material"});ejs.popups.showSpinner(document.getElementById("delete-item-dialog"));a(o,u,r,f)});addPlacehoder("#search-area");$(document).on("click",".version-button",function(){var n=$(this).attr("data-item-id"),f=$(this).attr("data-itemname"),t=$("#grid").data("ejGrid"),i=$("#loggrid").data("ejGrid"),e=$("#version-window-container").data("ejDialog"),r,u;e!=null?$("#version-window-container").ejDialog("open"):$("#version-window-container").ejDialog({showOnInit:!0,allowDraggable:!0,enableResize:!1,width:"864px",title:"",showHeader:!1,enableModal:!0,close:"DialogBoxClose",closeOnEscape:!0});$(".modal-header .modal-title").html(f);$("#version-tab").parent("li").addClass("active");$("#item-log-tab").parent("li").removeClass("active");$("#item-version-container").removeClass("hidden").addClass("show");$("#item-log-container").removeClass("show").addClass("hidden");r=ej.DataManager({url:itemVersionUrl+"?ItemId="+n,adaptor:new ej.UrlAdaptor});t.dataSource(r);t.model.pageSettings.currentPage=1;u=ej.DataManager({url:itemLogsUrl+"?ItemId="+n,adaptor:new ej.UrlAdaptor});i.dataSource(u);i.model.pageSettings.currentPage=1});$(document).on("click",".layout",function(){$("#container iframe").attr("src",window.location.href+"?itemId="+$(this).attr("data-item-id")+"&itemAction="+$(this).attr("data-action"))});$(document).on("click",".moveItem",function(){var n=$(this).attr("data-itemId"),t=$(this).attr("data-action");$("#ItemAction").ejDialog("open");$("#ItemAction_wrapper").ejWaitingPopup("show");$.ajax({type:"POST",url:moveIframeUrl,data:{itemId:n,itemAction:t},success:function(n){$("#ItemAction").html(n);$("#ItemAction_wrapper .e-dialog-scroller").attr("style","overflow:inherit; border:none");$("#ItemAction_wrapper").ejWaitingPopup("hide")}})});$(document).on("click",".item-info",function(){var t=$("#items").data("ejGrid");if(t!=null){var n=t.getSelectedRecords()[0],i=angular.element($("[ng-controller=ItemInfoCtrl]")).scope();n.Description=n.Description.replace(new RegExp("&#xA;","g"),"\n");i.openInfoDialog(n,!1,!1)}});$(document).on("click",".copyItem",function(){var u=$(this).attr("data-itemId"),f=$(this).attr("data-action"),e=$(this).attr("data-itemname"),i='<span class="dialog-header-with-subtitle"><span class ="dialog-header-title">'+window.Server.App.Localization.CopyDatasource+'<\/span><span class="item-name">'+e+"<\/span><\/span>",t,r,n;isCopyItemDialogBinded?(n=document.getElementById("copy_item_dialog").ej2_instances,n[0].header=i,n[0].show()):(t=document.createElement("div"),t.setAttribute("id","copy_item_dialog"),r=document.getElementById("server-app-container"),r.appendChild(t),n=new ejs.popups.Dialog({showOnInit:!1,allowDraggable:!1,enableResize:!1,width:window.innerWidth>460?"436px":window.innerWidth-10,height:"auto",showHeader:!1,animationSettings:{effect:"Zoom"},isModal:!0,enableModal:!0,closeOnEscape:!0,header:i,showCloseIcon:!0,content:document.getElementById("ItemAction")}),n.appendTo(t),isCopyItemDialogBinded=!0);ejs.popups.createSpinner({target:document.getElementById("copy_item_dialog")});ejs.popups.setSpinner({type:"Material"});ejs.popups.showSpinner(document.getElementById("copy_item_dialog"));y(u,f)});$(document).on("click",".favorite-item",function(){$("#items").ejWaitingPopup("show");var n=$("#items").data("ejGrid"),t=$(this).attr("data-itemid"),i=$(this).attr("data-value");$.ajax({type:"POST",url:favoriteItemUrl,data:{itemId:t,favoriteValue:i},success:function(r){var u,f;r.Success?(u=$(".favorite-item").filter("[data-itemid='"+t+"']"),i=="True"?($(u[0]).addClass("favorite"),$(u[0]).attr("data-value","False"),$(u[0]).attr("data-original-title",window.Server.App.Localization.RemoveFavorite)):($(u[0]).removeClass("favorite"),$(u[0]).attr("data-value","True"),$(u[0]).attr("data-original-title",window.Server.App.Localization.MarkFavorite)),$("#item-grid-container").data("gridName")==="dashboards"&&(f=angular.element(document.getElementById("server-items-container")).scope(),n.model.query._params.push({key:"displayCategory",value:f.itemRequestType})),f.itemRequestType=="100"&&(n.model.filterSettings.filteredColumns=[{field:"CategoryName",operator:"equal",value:f.category}]),n.refreshContent()):messageBox("",window.Server.App.Localization.MarkFavoriteError,window.Server.App.Localization.InternalServerError,"success",function(){onCloseMessageBox()})}})});$(window).resize(function(){var t=$("#version-window-container").data("ejDialog"),n,i;return t!=null&&t.isOpened()&&t._dialogPosition(),n=$("#items").data("ejGrid"),n!=null?(window.innerWidth<1041?(n.hideColumns("Description"),n.hideColumns("Last Modified")):(n.showColumns("Description"),n.showColumns("Last Modified")),($("#clear-search").css("display")=="block"||$("#clear-search").css("display")=="inline-block")&&$("#search-items").css("display","block"),$(".item-list-panel").css("height",window.innerHeight-$("#header-area").outerHeight()),$("#create-new-category").css("width",$(".item-list-panel").outerWidth()),i=$(window).height()-($(".item-navigation").outerHeight()+$("#header-area").outerHeight()+$("#category-listing").outerHeight()),n.option({scrollSettings:{height:i}}),$(".su-sidebar-collapse").is(":visible")?($("#item-viewer").css({height:$(window).height()-$("#header-area").outerHeight()-$("#base-footer-div").outerHeight(),width:$(window).width()-$("#main-nav").width()-$(".item-list-panel").width()}),!1):($("#item-viewer").css({height:$(window).height()-$("#header-area").outerHeight()-$("#base-footer-div").outerHeight(),width:$(window).width()-$("#main-nav").width()-$(".su-sidebar-expand.category-collapse").width(),top:$("#header-area").height()}),!1)):void 0});$(window).on("load",function(){refreshScrollerForCategory()});$(document).on("click",".make-public",function(){$("#item_name").html($(this).attr("data-name"));itemUrl=$(this).attr("data-url");var t=$(this).attr("data-item-id"),i=$(this).attr("data-name"),n=$(this).attr("data-itemtype");load();$("#make_item_public").ejDialog("open");$("#make_item_public_wrapper").ejWaitingPopup("show");$.ajax({type:"POST",url:makePublicUrl,data:{itemId:t,itemTypeId:n,itemName:i},success:function(t){$("#make_item_public").html(t);$("#make_item_public_wrapper").ejWaitingPopup("hide");$("#make-public").attr("data-itemtype",n);$("#make-public").attr("data-url",itemUrl)}})});$(document).on("click","#make-public",function(){$("#item_name").html($(this).attr("data-name"));itemUrl=$(this).attr("data-url");var t=$(this).attr("data-item-id"),n=$(this).attr("data-name"),i=$(this).attr("data-itemtype"),r=$(this).attr("data-item-type").trim();$("#make_item_public_wrapper").ejWaitingPopup("show");$.ajax({type:"POST",url:makeItemPublicUrl,data:{itemId:t,itemTypeId:i,itemName:n},success:function(t){t.validation&&t.result?(onMakePublicDialogClose(),onGetLinkDialogOpen(),$(".report-name").html(n),$(".report-name").attr("title",n),$("."+r.toLowerCase()+"-link").show(),$(".private-note").hide(),$(".public-note").show(),ResetGrid()):($("#makepublicitem").hide(),$("#select-area").hide(),$("#close").show(),$(".error-msg").show(),ResetGrid());$("#make_item_public_wrapper").ejWaitingPopup("hide")}})});$(document).on("click",".remove-public",function(){$("#item_name").html($(this).attr("data-name"));itemUrl=$(this).attr("data-url");var t=$(this).attr("data-item-id"),i=$(this).attr("data-name"),n=$(this).attr("data-itemtype");load();$("#remove_item_public").ejDialog("open");$("#remove_item_public_wrapper").ejWaitingPopup("show");$.ajax({type:"POST",url:removePublicUrl,data:{itemId:t,itemTypeId:n,itemName:i},success:function(t){$("#remove_item_public").html(t);$("#remove_item_public_wrapper").ejWaitingPopup("hide");$("#remove-public").attr("data-itemtype",n);$("#remove-public").attr("data-url",itemUrl)}})});$(document).on("click","#remove-public",function(){$("#item_name").html($(this).attr("data-name"));itemUrl=$(this).attr("data-url");var n=$(this).attr("data-item-id"),t=$(this).attr("data-name"),i=$(this).attr("data-itemtype");$("#remove_item_public_wrapper").ejWaitingPopup("show");$.ajax({type:"POST",url:removeItemPublicUrl,data:{itemId:n,itemTypeId:i,itemName:t},success:function(n){n.validation&&n.result?($("#removepublicitem").hide(),$("#remove-select-area").hide(),$("#remove-close").show(),$("#success-msg").show(),ResetGrid()):($("#removepublicitem").hide(),$("#remove-select-area").hide(),$("#success-msg").hide(),$("#remove-close").show(),$("#error-msg").show(),ResetGrid());$("#remove_item_public_wrapper").ejWaitingPopup("hide")}})});$(document).on("click",".get-link",function(){var t;itemUrl=$(this).attr("data-url").trim();t=$(this).attr("data-itemtype").trim();t.toLowerCase()=="2"?$(".dashboard-link").show():t.toLowerCase()=="6"?($(".file-link").show(),$("#compressed-link").prop("checked",!0)):t.toLowerCase()=="8"?$(".widget-link").show():$(".link").show();var i="",e=$(this).attr("data-name"),s=$(this).attr("ispublic"),o=$(this).attr("data-item-id"),r=document.getElementById("dashboard_render_iframe");if(r!=null){var u=r.contentDocument||r.contentWindow.document,h=$(u).find("#favorite_Item").attr("data-item-id"),f=$(u).find("#favorite_Item").attr("data-parent-id"),n="";f!==""&&f!==undefined&&(n="tab="+document.getElementById("dashboard_render_iframe").contentWindow.$("#dashboard").data("ejDashboardViewer").getCurrentTab().tabName.trim());$(u).find("#favorite_Item").length>0&&document.getElementById("dashboard_render_iframe").contentWindow.getcurrentfilters()!==null&&(n+=(n===""?"":"&")+document.getElementById("dashboard_render_iframe").contentWindow.getcurrentfilters().encryptedData);i=(h===o||f===o)&&n!==""?browser.name.toLowerCase()==="msie"?window.location.href.replace(window.location.pathname+window.location.search,"")+itemUrl.trim()+"?"+n:window.location.origin+itemUrl+"?"+n:browser.name.toLowerCase()==="msie"?window.location.href.replace(window.location.pathname+window.location.search,"")+itemUrl.trim():window.location.origin+itemUrl}else i=browser.name.toLowerCase()==="msie"?window.location.href.replace(window.location.pathname+window.location.search,"")+itemUrl.trim():window.location.origin+itemUrl;$("#get_item_link").ejDialog("open");$("#get_item_link").show();$("#get_item_link_wrapper").ejWaitingPopup("show");$(".get_link").show();s=="true"?($(".private-note").hide(),$(".public-note").show()):($(".private-note").show(),$(".public-note").hide());/Safari/.test(navigator.userAgent)&&/Apple Computer/.test(navigator.vendor)?($("#item-link-copy").removeClass("su su-copy"),$("#item-link-copy").hide(),$("#item-link").css({width:"100%",borderRadius:"4px"}),$("#item-link-copy").attr("data-original-title","")):$("#item-link-copy").tooltip({animation:!1});$(".report-name").html(e);$(".report-name").attr("title",e);$("#item-link").val(i);$("#item-link").select();$(".modal-footer .validation-area").css("display","block");$("#get_item_link_wrapper").ejWaitingPopup("hide")});$(document).on("click","#compressed-link",function(){var n=$("#item-link").val().split("?")[0];$(this).prop("checked")==!0&&(n+="?compress=true");$("#item-link").val(n);$(".update-link").css("visibility","visible");timer!=0&&clearTimeout(timer);timer=setTimeout(function(){$(".update-link").css("visibility","hidden");timer=0},7e3)})});$(document).on("click",".category-link",function(n){$(".e-filtericon").removeClass("e-filteredicon e-filternone");n.preventDefault()});$(document).on("click",".item-navigation li:not(:last)",function(n){var r,t,i,u;n.preventDefault();t=$("#items").data("ejGrid");$(this).hasClass("active")==!1&&($(".item-navigation li").removeClass("active"),$(this).addClass("active"));$(this).hasClass("all-items")?$("#category-listing").addClass("category-section"):$("#category-listing").removeClass("category-section");r=$(window).height()-($(".item-navigation").outerHeight()+$("#header-area").outerHeight()+$("#category-listing").outerHeight());t=$("#items").data("ejGrid");t.option({scrollSettings:{height:r}});i=$(this).attr("href");u=window.location.pathname+window.location.search;u!=i&&window.innerWidth>=1041&&history.pushState!=undefined&&$("#item-grid-container").data("gridName")==="dashboards"&&history.pushState({},"",i)});$(document).on("click","#open-dashboard, #open-widget",function(){$(this).attr("id")=="open-dashboard"?$(this).attr("data-href").indexOf("?")==-1?window.open($(this).attr("data-href")+"?showmydashboards=1","_blank"):window.open($(this).attr("data-href")+"&showmydashboards=1","_blank"):window.open($(this).attr("data-href"),"_blank")});$(document).on("click",".search-item",function(n){var t;return n.stopPropagation(),$(".search-area").hasClass("add-background")?($(".search-home-section").val()!==""&&($(".search-home-section").val(""),!$("#category-list").is(":visible")||$("#category-list").length<=0?(gridObj=$("#items").data("ejGrid"),gridObj.model.pageSettings.currentPage=1,gridObj.refreshContent()):$(".category").trigger("click")),$(".search-area").removeClass("add-background"),$(".placeholder, .close-icon").hide(),$(".all-items").hasClass("active")&&!$("#category-list").is(":visible")?setTimeout(function(){$(".search-area").prevAll().show().parent().removeClass("pull-right");$("#category-section-name").show();var n=$("#isMarkItemspublic").val();($("ul.item-navigation li.public-items").hasClass("active")||$("ul.item-navigation li.public-widgets").hasClass("active"))&&$("#items").data("ejGrid")._gridRecordsCount>0&&n=="False"?$(".tool-tip").show():$(".tool-tip").hide()},300):setTimeout(function(){$(".search-area").prevAll(":not(#back-icon)").show().parent().removeClass("pull-right");$("#category-section-name").show();var n=$("#isMarkItemspublic").val();($("ul.item-navigation li.public-items").hasClass("active")||$("ul.item-navigation li.public-widgets").hasClass("active"))&&$("#items").data("ejGrid")._gridRecordsCount>0&&n=="False"?$(".tool-tip").show():$(".tool-tip").hide()},300),setTimeout(function(){$(".search-home-section:visible").removeClass("show")},300)):($(".search-area").addClass("add-background"),$(".placeholder").show(),setTimeout(function(){$(".close-icon").show()},300),$(".all-items").hasClass("active")&&!$("#category-list").is(":visible")?($(".search-area").prevAll().hide().parent().addClass("pull-right"),$("#category-section-name").hide(),t=$("#isMarkItemspublic").val(),($("ul.item-navigation li.public-items").hasClass("active")||$("ul.item-navigation li.public-widgets").hasClass("active"))&&$("#items").data("ejGrid")._gridRecordsCount>0&&t=="False"?$(".tool-tip").show():$(".tool-tip").hide()):($(".search-area").prevAll(":not(#back-icon)").hide().parent().addClass("pull-right"),$("#category-section-name").hide(),t=$("#isMarkItemspublic").val(),($("ul.item-navigation li.public-items").hasClass("active")||$("ul.item-navigation li.public-widgets").hasClass("active"))&&$("#items").data("ejGrid")._gridRecordsCount>0&&t=="False"?$(".tool-tip").show():$(".tool-tip").hide()),$("#search-home-page").focus(),setTimeout(function(){$(".search-home-section:visible").addClass("show")},300)),setTimeout(function(){$(".clear-search").hide()},300),!1});$(document).on("click",".schedule-dashboards",function(){ItemId=$(this).attr("data-item-id");ItemName=$(this).attr("data-itemname");CategoryName=$(this).attr("data-category-name");CategoryId=$(this).attr("data-category-id");ScheduleId="";MultiDashboardName=$(this).attr("data-multidashboard-name");$("#popup-container").ejDialog("open")});$(document).on("click","#create_schedule, .create-schedule",function(){ItemId="";ItemName="";CategoryName="";ScheduleId="";CategoryId="";MultiDashboardName=$(this).attr("data-multidashboard-name");$("#popup-container").ejDialog("open")});$(document).on("click","#item-link-copy",function(){$("#item-link").select();/Safari/.test(navigator.userAgent)&&/Apple Computer/.test(navigator.vendor)?($("#item-link-copy").removeClass("su su-copy"),$("#item-link-copy").attr("data-original-title","")):(document.execCommand("copy"),$("#item-link-copy").attr("data-original-title",window.Server.App.Localization.Copysuccess),$("#item-link-copy").tooltip("hide").attr("data-original-title",window.Server.App.Localization.Copysuccess).tooltip("fixTitle").tooltip("show"),setTimeout(function(){$("#item-link-copy").attr("data-original-title",window.Server.App.Localization.LinkCopy);$("#item-link-copy").tooltip()},3e3))});$(document).on("click",".item-link",function(n){var u,f,t,e,i,r;n.preventDefault();u=$(this).attr("data-isdraft");u.toLowerCase()=="true"?window.open($(this).attr("href"),"_self"):(f=document.getElementById("dashboard_render_iframe"),window.innerWidth<1041||n.target.id=="open-dashboard"||n.target.id=="open-widget"||n.target.id=="context-menu"||$(n.target).hasClass("favorite-item")?n.stopPropagation():(f.contentWindow.location.replace(decodeURI($(this).find("span").attr("data-href"))),$("#item-viewer").ejWaitingPopup("show"),$("#item-viewer").css({height:$(window).height()-$("#header-area").outerHeight()-$("#base-footer-div").outerHeight(),width:$(window).width()-$("#main-nav").width()-$(".item-list-panel").width()}),$("#initial-item-message").css("display","none"),$("#dashboard_render_iframe").css("display","block"),t=$(this).attr("href"),e=window.location.pathname+window.location.search,e!=t&&(i=window.location.search.indexOf("?category=")>-1?"?view=categories":"?view="+$(".item-navigation li.active").attr("data-value"),r=t+(t.indexOf("?")>-1?i.replace("?","&"):i),$("#current-url").attr("data-url",r),history.pushState!=undefined&&$("#item-grid-container").data("gridName")==="dashboards"&&history.pushState({},"",r))),$(this).parents("td").hasClass("active")==!1?($(".item-link").parents("td").removeClass("active"),$(this).parents("td").addClass("active")):window.innerWidth<1041&&($(".item-link").parents("td").removeClass("active"),$(".tooltip").hide()))});$(document).on("click",".category-collapse",function(){var n;return $(".su-sidebar-collapse").is(":visible")?($("#item-viewer").css("width","100%"),$(".item-list-panel, .su-sidebar-collapse").css({display:"none"}),$(".su-sidebar-expand").css({display:"block"}),$("#item-viewer").addClass("expanded"),$("#item-viewer").css({height:$(window).height()-$("#header-area").outerHeight()-$("#base-footer-div").outerHeight(),width:$(window).width()-$("#main-nav").width()-$(".su-sidebar-expand.category-collapse").width(),top:$("#header-area").height()}),n=$("#dashboard_render_iframe").width(),$("#dashboard_render_iframe").contents().find("#dashboard").css("width",n-30),$("#item-viewer").ejWaitingPopup("refresh").css("width",n),!1):($("#dashboard_render_iframe").contents().find("#dashboard-view-toogle").hasClass("dashboard-view-toogle")&&CloseDashboardView(),$("#dashboard_render_iframe").contents().find("#filter-view").hide(),$("#dashboard_render_iframe").contents().find("#commentModuleContainer").addClass("displayNone"),$("#dashboard_render_iframe").contents().find("ul.options").css("right","0px"),$("#item-viewer").css({left:"initial"}),$("#dashboard_render_iframe").contents().find("ul.options li").removeClass("active"),$("#item-viewer").css({width:"70%"}),$(".item-list-panel, .su-sidebar-collapse").css({display:"block"}),$(".su-sidebar-expand").css({display:"none"}),$("#item-viewer").removeClass("expanded"),$("#item-viewer").css({height:$(window).height()-$("#header-area").outerHeight()-$("#base-footer-div").outerHeight(),width:$(window).width()-$("#main-nav").width()-$(".item-list-panel").width()}),n=$("#dashboard_render_iframe").width(),$("#dashboard_render_iframe").contents().find("#dashboard").css("width",n-30),$("#item-viewer").ejWaitingPopup("refresh").css("width",n),!1)});$(document).on("show.bs.dropdown","#listing, #items .e-row",function(){if($(this).find("#context-menu").length>0){var t=$(this).offset().top+$(this).outerHeight(!0)/2-$("#header-area").outerHeight(!0)-$(".item-navigation").outerHeight(!0)-$("#category-listing").outerHeight(!0),i=$(window).height()-$(this).offset().top-$(this).outerHeight(!0)/2,n=$(this).find(".dashboard-options").outerHeight(!0);i<=n&&t>=n&&$(this).find("#context-menu").removeClass("dropdown").addClass("dropup")}$(this).hasClass("e-row")?$(".item-link").each(function(){$(this).removeClass("active-category-setting");$(this).find(".open").length>0&&$(this).addClass("active-category-setting")}):$(".category-section").each(function(){$(this).removeClass("active-category-setting");$(this).find(".open").length>0&&$(this).addClass("active-category-setting")});refreshScrollerForCategory()});$(document).on("hide.bs.dropdown","#listing, #items .e-row",function(){$(this).find("#context-menu").length>0&&$(this).find("#context-menu").removeClass("dropup").addClass("dropdown");$(this).hasClass("e-row")?$(".item-link").removeClass("active-category-setting"):$(".category-section").removeClass("active-category-setting");refreshScrollerForCategory()});$(document).on("shown.bs.dropdown","#scroll-content li, #items .e-row",function(){var n=$("#item-grid-container").attr("data-grid-name");if($("#category-list").is(":visible"))return refreshScrollerForCategory(),!1;(n.toLowerCase()=="dashboards"||n.toLowerCase()=="widgets")&&($(".e-gridcontent").ejScroller(),$(".e-gridcontent").ejScroller("refresh"))});$(document).on("hidden.bs.dropdown","#scroll-content li, #items .e-row",function(){var n=$("#item-grid-container").attr("data-grid-name");if($("#category-list").is(":visible"))return refreshScrollerForCategory(),!1;(n.toLowerCase()=="dashboards"||n.toLowerCase()=="widgets")&&($(".e-gridcontent").ejScroller(),$(".e-gridcontent").ejScroller("refresh"))});$(document).on("mouseenter",".category-section, #items .e-row",function(){$(this).hasClass("e-row")?$(".item-link").each(function(){$(this).removeClass("active-category-setting");$(this).find(".open").length>0&&$(this).addClass("active-category-setting")}):$(".category-section").each(function(){$(this).removeClass("active-category-setting");$(this).find(".open").length>0&&$(this).addClass("active-category-setting")})});$(document).on("mouseleave",".category-section, #items .e-row",function(){$(this).hasClass("e-row")?$(".item-link").each(function(){$(this).removeClass("active-category-setting");$(this).find(".open").length>0&&$(this).addClass("active-category-setting")}):$(".category-section").each(function(){$(this).removeClass("active-category-setting");$(this).find(".open").length>0&&$(this).addClass("active-category-setting")})});$(document).on("mouseenter","#open-dashboard, #open-widget",function(){$(this).parents("a").tooltip("hide")});$(document).on("mouseleave","#open-dashboard, #open-widget",function(){$(this).parents("a").tooltip("show")});$(document).on("mouseenter",".dashboard-views",function(n){if(n.target.className!="view-name"){var u=$(this).find(".views").attr("data-item-id"),f=$(this).find("ul"),r="",t=$(this).find(".views").attr("data-is-childdashboard"),e=$(this).find(".views").attr("data-parent-category-name"),o=$(this).find(".views").attr("data-parent-itemname"),s=$(this).find(".views").attr("data-parent-item-id"),h=t!=undefined&&t.toLowerCase()=="true"?$(this).find(".views").attr("data-child-dashboard-name"):"";isAjaxRequested==!0&&($(".dashboard-views").addClass("views-loader"),isAjaxRequested=!1,$.ajax({type:"POST",url:getViewsByItemIdUrl,data:{itemId:u},success:function(n){if(n!=null&&n.result!=null&&n.result.length>0)if(t!=undefined&&t!=null&&t.toLowerCase()=="true")for(i=0;i<n.result.length;i++)r+="<li><a class='view-name' href='"+dashboards+"/"+s+"/"+e+"/"+o+"?tab="+h+"&viewid="+n.result[i].ViewId+"' target='_blank' data-toggle='tooltip' data-placement='top' data-original-title='"+n.result[i].ViewName+"' data-itemid='"+n.result[i].ItemId+"'>"+n.result[i].ViewName+"<\/a><\/li>";else for(i=0;i<n.result.length;i++)r+="<li><a class='view-name' href='"+dashboards+"/"+u+"/"+n.result[i].CategoryName+"/"+n.result[i].ItemName+"?viewid="+n.result[i].ViewId+"' target='_blank' data-toggle='tooltip' data-placement='top' data-original-title='"+n.result[i].ViewName+"' data-itemid='"+n.result[i].ItemId+"'>"+n.result[i].ViewName+"<\/a><\/li>";else r="<li><span class='view-name' href='javascript:void(0);'><span>"+window.Server.App.Localization.NoViews+"<\/span><\/span><\/li>";f.html(r);$(".dashboard-views").removeClass("views-loader");$(".dashboard-views").addClass("no-loader");$('[data-toggle="tooltip"]').tooltip()}}).always(function(){isAjaxRequested=!0}))}});$(document).on("click",".dashboard-options li > span",function(n){return n.stopPropagation(),!1});$(document).on("click",".download-item",function(){window.location=$(this).attr("href")});$(document).on("click",".open-item",function(){var n=$(this).attr("href")+"?showmydashboards=1";window.open(n,"_blank")});$(document).on("click",".option-click",function(){$(this).closest(".dropdown-menu").prev().dropdown("toggle")});$(document).on("click",".dropdown-backdrop",function(n){return n.stopPropagation(),!1});$(document).on("show.bs.tooltip",function(){$(".tooltip").not(this).hide()});$(document).on("click",".web-designer",function(){window.location.href=$(this).attr("href")});$(document).on("click",".view-schedule",function(){var n=$(this).attr("href");window.open(n,"_blank")});$(document).on("mousedown","#items .e-gridcontent .e-vscrollbar",function(){$("#item-viewer iframe").addClass("pointer-event");var n=navigator.userAgent.indexOf("Edge")!=-1;n&&$("#item-viewer iframe").addClass("display")});$(document).on("mouseup",function(){if($("#item-viewer iframe").hasClass("pointer-event")){$("#item-viewer iframe").removeClass("pointer-event");var n=navigator.userAgent.indexOf("Edge")!=-1;n&&$("#item-viewer iframe").removeClass("display")}});$(document).on("click",".blank-dashboard-link-box, #start-from-templates",function(){$("#CreateDashboard").trigger("click")});isAddCategoryDialogBinded=!1;isAddSampleDialogBinded=!1;$(function(){$("#report_popup").ejDialog({width:"760px",showOnInit:!1,allowDraggable:!1,enableResize:!1,title:window.Server.App.Localization.AddDashboard,enableModal:!0,showHeader:!1,open:"onDashboardDialogOpen"});var n=createLoader("report_popup_wrapper");$("#report_popup_wrapper").ejWaitingPopup({template:$("#"+n)})});$(document).on("click","#create_Category",function(){var i,t,r,n;document.getElementById("AddCategoryPopup").style.display="block";i='<span class="dialog-header-with-icon"><span class ="dialog-header-title"><i class="su su-folder dialog-header-icon"><\/i>&nbsp;&nbsp;'+window.Server.App.Localization.CreateCategory+"<\/span><\/span>";isAddCategoryDialogBinded?(n=document.getElementById("add-category-dialog").ej2_instances,n[0].header=i,n[0].show()):(t=document.createElement("div"),t.setAttribute("id","add-category-dialog"),r=document.getElementById("server-app-container"),r.appendChild(t),n=new ejs.popups.Dialog({showOnInit:!1,allowDraggable:!1,enableResize:!1,width:window.innerWidth>460?"600px":window.innerWidth-10,height:"auto",showHeader:!1,animationSettings:{effect:"Zoom"},isModal:!0,enableModal:!0,closeOnEscape:!0,header:i,showCloseIcon:!0,content:document.getElementById("AddCategoryPopup"),beforeClose:beforeCloseAddItemPopup,buttons:[{click:function(){addItemValidate()},buttonModel:{isPrimary:!0,cssClass:"app-btn-primary",content:window.Server.App.Localization.AddButton}},{click:function(){closeAddItemPopup()},buttonModel:{cssClass:"app-btn-secondary",content:window.Server.App.Localization.CancelButton}}]}),n.appendTo(t),isAddCategoryDialogBinded=!0);ejs.popups.createSpinner({target:document.getElementById("add-category-dialog")});ejs.popups.setSpinner({type:"Material"})});$(document).on("click",".add-sample-button",function(){var n;n=dashboardItemCount!=0?document.getElementById("dashboard-page-container"):document.getElementById("defafult-pages-container");openSampleDashboardDialog(n)});$(document).on("click",".explore",function(){var n=document.getElementById("server-app-container");openSampleDashboardDialog(n)});$(document).on("click",".dashboard-notification .su-close",function(){$(".dashboard-notification").remove()});$(document).ready(function(){$("#create-connection-popup").ejDialog({width:$(window).width(),height:$(window).height(),showOnInit:!1,allowDraggable:!1,enableResize:!1,enableModal:!0,showHeader:!1,close:"onCreateConnectionDialogClose",closeOnEscape:!0,beforeClose:function(){$("#create-connection-popup").ejWaitingPopup("hide");$("#create-connection-popup").addClass("display-none")}});$(document).on("click","#create-datasource-connection, .create-datasource-connection",function(){var n=createLoader("#create-connection-popup");$("#create-connection-popup").ejWaitingPopup({template:$("#"+n)});window.datasourceQueryString!=null&&window.datasourceQueryString!=undefined&&window.datasourceQueryString!=""?$("#create-connection-iframe").attr("src",createDatasourceIframeUrl+"?"+window.datasourceQueryString):$("#create-connection-iframe").attr("src",createDatasourceIframeUrl);$("#connection-header").addClass("display-none");$("#create-connection-popup").removeClass("display-none");$("#create-connection-popup").ejDialog("open");$("#create-connection-popup_wrapper #create-connection-popup #create-connection-iframe").css("height",$(window).height()-44);$("#create-connection-popup").ejWaitingPopup("show")})});isHomePageActionDialogBinded=!1;isDeletePinboardDialogBinded=!1;$(document).ready(function(){function n(n){ShowWaitingProgress("#content-area","show");$.ajax({type:"POST",url:setRemoveDefaultHomepageUrl,data:{homepageItemId:n},success:function(t){t.Success?(window.IsMobile?MobileAlert(n!=null?window.Server.App.Localization.DefaultHomepageAddSuccess:window.Server.App.Localization.DefaultHomepageRemoveSuccess,3e3):successToast(n!=null?window.Server.App.Localization.DefaultHomepageAddSuccess:window.Server.App.Localization.DefaultHomepageRemoveSuccess,7e3),window.location.href=homepageBaseUrl):window.IsMobile?MobileAlert(n!=null?window.Server.App.Localization.DefaultHomepageAddFailure:window.Server.App.Localization.DefaultHomepageRemoveFailure,3e3):warningToast(n!=null?window.Server.App.Localization.DefaultHomepageAddFailure:window.Server.App.Localization.DefaultHomepageRemoveFailure)}});ShowWaitingProgress("#content-area","hide")}function i(n,t){var u,r,e,i;$("#homepage-option-container #homepage-new-name").val(n);$("#homepage-action-popup").removeClass("display-none");u='<span class="dialog-header-with-subtitle"><span class ="dialog-header-title">'+(t.toLowerCase()=="rename"?window.Server.App.Localization.RenameHomepage:window.Server.App.Localization.DuplicateHomepage)+'<\/span><span class="item-name">'+n+"<\/span><\/span>";isHomePageActionDialogBinded?(i=document.getElementById("homepage-action-dialog").ej2_instances,i[0].header=u,i[0].show()):(r=document.createElement("div"),r.setAttribute("id","homepage-action-dialog"),e=document.getElementById("homepage-page-container"),e.appendChild(r),i=new ejs.popups.Dialog({showOnInit:!1,allowDraggable:!1,enableResize:!1,width:window.innerWidth>460?"476px":window.innerWidth-10,height:"auto",showHeader:!1,animationSettings:{effect:"Zoom"},isModal:!0,enableModal:!0,closeOnEscape:!0,header:u,showCloseIcon:!0,content:document.getElementById("homepage-action-popup"),buttons:[{click:function(){f()},buttonModel:{isPrimary:!0,disabled:!0,cssClass:"app-btn-primary save-option-button",content:window.Server.App.Localization.SaveButton}},{click:function(){closeHomepageActionPopup()},buttonModel:{cssClass:"app-btn-secondary",content:window.Server.App.Localization.CancelButton}}]}),i.appendTo(r),isHomePageActionDialogBinded=!0);ejs.popups.createSpinner({target:document.getElementById("homepage-action-dialog")});ejs.popups.setSpinner({type:"Material"});ejs.popups.showSpinner(document.getElementById("homepage-action-dialog"))}function f(){var l=$("#homepage-option-form").valid();if(l){ejs.popups.showSpinner(document.getElementById("homepage-action-dialog"));var i=$("#homepage-option-form").attr("data-homepage-id"),n=$("#homepage-new-name").val().trim(),t=$("#save-button").attr("data-value").trim(),u=$("#makedefault").prop("checked");if(i!=""&&n!=""&&t!="")$.ajax({type:"POST",url:checkHomepageNameExistsUrl,data:{homepageName:n,homepageItemId:t.toLowerCase()=="rename"?i:null},success:function(r){r?($("#homepage-new-name").next("span.validation-errors").html(window.Server.App.Localization.IsHomepageExist).parent().addClass("has-error"),ejs.popups.hideSpinner(document.getElementById("homepage-action-dialog"))):$.ajax({type:"POST",url:t.toLowerCase()=="rename"?renameHomepageUrl:duplicateHomepageUrl,data:{homepageId:i,homepageName:n},success:function(i){var f=t.toLowerCase()=="rename"?window.Server.App.Localization.RenameHomepage:window.Server.App.Localization.DuplicateHomepage,r,u;ejs.popups.hideSpinner(document.getElementById("homepage-action-dialog"));closeHomepageActionPopup();r=t.toLowerCase()=="rename"?i:i.Success;r?(t.toLowerCase()=="rename"&&parent.$("#homepage-name").text(n).attr("data-original-title",n),u=t.toLowerCase()=="rename"?window.Server.App.Localization.RenameHomepageSuccess:window.Server.App.Localization.DuplicateHomepageSuccess,window.location.href=homepageBaseUrl+"/"+n,successToast(u,7e3)):warningToast(window.Server.App.Localization.InternalServerError)}})}});else if(i==""){var e=!1,o=!1,f="",r="",s="",h=!1,c=parent.window.GetDashboardHomepageName;c?(e=!0,r=parent.window.ParentId,f=parent.window.DashboardId,o=$("#keepfilter").prop("checked"),s=o&&dashboardViewerObject!=null?dashboardViewerObject.getCurrentFilters()!=null?dashboardViewerObject.getCurrentFilters().encryptedData:null:null):h=window.screen.availWidth>=1366?!1:!0;$.ajax({type:"POST",url:checkHomepageNameExistsUrl,data:{homepageName:n},success:function(t){t?($("#homepage-new-name").next("span.validation-errors").html(window.Server.App.Localization.IsHomepageExist).parent().addClass("has-error"),parent.ejs.popups.hideSpinner(document.getElementById("homepage-action-dialog"))):$.ajax({type:"POST",url:addHomepageUrl,data:{homepageName:n,checkedStatus:u,isDashboardHomepage:e,isTwoColumn:h},success:function(t){parent.ejs.popups.hideSpinner(document.getElementById("homepage-action-dialog"));closeHomepageActionPopup();t.Success?(i=t.Value,c?$.ajax({type:"POST",url:pinWidgetUrl,data:{homepageId:i,widgetId:null,dashboardId:r!=""||undefined?r:f,tabId:r!=""||undefined?f:null,queryString:s},success:function(t){t.Success?(SuccessAlert(window.Server.App.Localization.PinDashboard,window.Server.App.Localization.PinDashboardSuccess,7e3),parent.closeHomepageAddItemPopup(),window.location.href=u==!0?baseUrl+homepages:homepageBaseUrl+"/"+n):WarningAlert(window.Server.App.Localization.PinDashboard,window.Server.App.Localization.PinDashboardError,7e3)}}):(window.location.href=u==!0?baseUrl+homepages:homepageBaseUrl+"/"+n,SuccessAlert(window.Server.App.Localization.AddNewHomepage,window.Server.App.Localization.HomepageAddSuccess,7e3))):WarningAlert(header,window.Server.App.Localization.HomepageAddFailure,7e3)}})}})}}}var r,t,u;$(document).on("click","a",function(n){hasWidgetLink===!0&&(n.preventDefault(),hasWidgetLink=!1)});allHomepages.length<1?($("#homepage-list").selectpicker("refresh"),$("#homepage-list").next().find(".dropdown-menu > .bs-searchbox").after("<span class='no-result-found'>"+window.Server.App.Localization.NoResult+"<\/span>")):allHomepages.length>=1&&allHomepages.length<=10&&($("#homepage-list").selectpicker("refresh"),$("#homepage-list").next().find(".dropdown-menu > .bs-searchbox").hide());r=navigator.userAgent.indexOf("Safari")!=-1&&navigator.userAgent.indexOf("Chrome")==-1;$("#homepage-list-container").on("click",".bootstrap-select li a",function(){var n=$("#homepage-list").val();location.href=homepageBaseUrl+"/"+n});$(document).on("click","#homepage-list-container .btn-group",function(){var n=$("#homepage-list").val();location.href=homepageBaseUrl+"/"+n});$(document).on("keyup",".bootstrap-select.open input",function(){$(".bootstrap-select.open ul .add-new").remove()});$("#add-item-popup").ejDialog({width:"900px",showOnInit:!1,allowDraggable:!0,enableResize:!1,title:window.Server.App.Localization.Homepage,closeOnEscape:!1,enableModal:!0,showHeader:!1});t=createLoader("add-item-popup_wrapper");$("#add-item-popup_wrapper").ejWaitingPopup({template:$("#"+t)});u=null;$(document).on("click","#layout-items span",function(){var n=$("#widget-container").attr("data-current-layout");$("#widget-container").attr("data-current-layout",$(this).attr("id"));$("#layout-items span").removeClass("active");$(this).addClass("active");switch($(this).attr("id")){case"1":n!="1"&&(changeLayout(1),n=="111"?appendListItem(1,2):(n=="11"||n=="12"||n=="21")&&appendListItem(1,1),setLayout(1));break;case"11":n!="11"&&(changeLayout(11),n=="111"?appendListItem(2,1):n=="1"&&createEmptyList(2,2),setLayout(11));break;case"12":n!="12"&&(changeLayout(12),n=="111"?appendListItem(2,1):n=="1"&&createEmptyList(2,2),setLayout(12));break;case"21":n!="21"&&(changeLayout(21),n=="111"?appendListItem(2,1):n=="1"&&createEmptyList(2,2),setLayout(21));break;case"111":n!="111"&&(changeLayout(111),n=="1"?createEmptyList(2,3):(n=="11"||n=="12"||n=="21")&&createEmptyList(3,3),setLayout(111))}});$(document).on("click","#options li",function(){var f=$("#homepage-name").text().trim(),t=$("#widget-container").attr("data-homepage-id"),s=$("#widget-container").attr("data-virtual-homepage"),e,u,o,r;t==""&&s=="true"&&(t=saveVirtualHomepage(),$("#initial-message").hide(),t!=""&&afterVirtualHomepageSave(t));switch($(this).attr("id")){case"delete":e='<span class="dialog-header-with-subtitle"><span class ="dialog-header-title">'+window.Server.App.Localization.DeleteHomepage+'<\/span><span class="item-name">'+f+"<\/span><\/span>";isDeletePinboardDialogBinded?(r=document.getElementById("delete-pinboard-dialog").ej2_instances,r[0].header=e,r[0].show()):(u=document.createElement("div"),u.setAttribute("id","delete-pinboard-dialog"),o=document.getElementById("homepage-page-container"),o.appendChild(u),r=new ejs.popups.Dialog({showOnInit:!1,allowDraggable:!1,enableResize:!1,width:window.innerWidth>460?"450px":window.innerWidth-10,height:"auto",showHeader:!1,animationSettings:{effect:"Zoom"},isModal:!0,enableModal:!0,closeOnEscape:!0,header:e,showCloseIcon:!0,content:window.Server.App.Localization.DeleteHomepageConfirm,buttons:[{click:function(){deletePinboard(t)},buttonModel:{cssClass:"app-btn-danger",content:window.Server.App.Localization.YesButton}},{click:function(){r.hide()},buttonModel:{cssClass:"app-btn-secondary",content:window.Server.App.Localization.NoButton}}]}),r.appendTo(u),isDeletePinboardDialogBinded=!0);break;case"rename":i(f,"rename");homepageActionPopup("rename");break;case"duplicate":i(f,"duplicate");homepageActionPopup("duplicate");break;case"make-default":n(t);break;case"remove-default":n(null)}});$(document).on("click","#add-homepage-options li",function(){switch($(this).attr("id")){case"add-homepage":$("#homepage-action-popup").ejDialog("open");$("#homepage-action-popup_wrapper").ejWaitingPopup("show");homepageActionPopup("newhomepage");break;case"add-dashboard-homepage":window.IsPinDashboard=!0;$("#add-item-popup").ejDialog("open");$("#add-item-popup_wrapper").ejWaitingPopup("show");$("#add-item-popup-iframe").attr("src",homepageAddItemUrl)}});$(document).on("click","#add-item, span.add-widget",function(){var n=$("#widget-container").attr("data-item-type").toLowerCase();n=="dashboard"?parent.window.IsPinDashboard=!0:n=="widget"&&(parent.window.IsPinWidget=!0,parent.window.PinColumn=$(this).parents(".empty").parent().data("column-id"));$("#add-item-popup").ejDialog("open");$("#add-item-popup_wrapper").ejWaitingPopup("show");$("#add-item-popup-iframe").attr("src",homepageAddItemUrl)});$(document).on("click",".close-div",function(){parent.$("#warning-alert").fadeOut()});$(document).keyup("#add-item-popup_overLay",function(n){n.keyCode==27&&$("#homepage-action-popup_wrapper").css("display")=="none"&&closeHomepageAddItemPopup()});$(document).on("click","#button-container #layout",function(){$("#success-alert, #warning-alert").hide()});$(document).on("click","#wrapper-div, #maximize_container .su-close",function(){$("#maximize_container").contents().remove();$("#maximize").addClass("display-none")});$(document).keyup("#homepage-action-popup_overLay",function(n){n.keyCode==27&&closeHomepageActionPopup()});$(window).resize(function(){var n=$("#widget-container").attr("data-item-type");n!=undefined&&n.toLowerCase()!="dashboard"&&changeListOnWindowResize()});$(document).keyup("#maximize",function(n){n.keyCode==27&&($("#maximize_container").contents().remove(),$("#maximize").addClass("display-none"))});$(document).on("click","#set-default-button",function(){var t=$("#select-default-homepage").val();t!=""&&n(t)});$(document).keyup("#messageBox_overLay",function(n){n.keyCode==27&&onCloseMessageBox()});$(document).on("click","#initial-message #close-icon",function(){$("#initial-message").hide();var n=getCookie("virtualhomepageinitialmessage");n==null&&setCookie("virtualhomepageinitialmessage",!0,30)});$.validator.addMethod("isRequired",function(n){return!isEmptyOrWhitespace(n)},window.Server.App.Localization.HomepageValidator);$("#homepage-option-form").validate({errorElement:"span",onkeyup:function(n,t){t.keyCode!==9&&t.keyCode!==13?$(n).valid():!0},onfocusout:function(n){$(n).valid()},rules:{homepagenewname:{isRequired:!0}},highlight:function(n){$(n).closest("div").addClass("has-error")},unhighlight:function(n){$(n).closest("div").removeClass("has-error");$(n).next("span.validation-errors").html("");$("#default-homepage-section").css("top","0px")},errorPlacement:function(n,t){$(t).next("span.validation-errors").html(n)},messages:{homepagenewname:{isRequired:window.Server.App.Localization.HomepageValidator}}});$(document).on("keyup","#homepage-new-name",function(){$("#homepage-action-dialog .e-primary").removeAttr("disabled")});$(document).on("keydown","#homepage-new-name",function(n){n.keyCode==13&&(n.preventDefault(),$("#homepage-action-dialog .e-primary").trigger("click"))});$(document).on("click","#homepage-action-popup, #homepage-action-popup_overLay",function(n){n.target.id!="filter-info"&&n.target.className!="popover-content"&&$("#filter-info").popover("hide")});$(document).on("click",function(n){n.target.className=="filter-overview"||n.target.id=="filter-info"||n.target.offsetParent==null||n.target.offsetParent.className=="filter-overview"||$(n.target).hasClass("e-vhandle")||$(".filter-overview").addClass("display-none")});$(document).on("click",".filter-overview",function(n){n.preventDefault()});isEmptyOrWhitespace($(".warning-content").text())&&isEmptyOrWhitespace($(".user-warning-content").text())||$("#homepage-header").addClass("header-warning")});hasWidgetLink=!1;$(document).on("click",".unpin-widget",function(n){n.preventDefault();var t=parseInt($(this).closest("ul").attr("data-column-id")),i=$(this).parents("li").index()+1;unPinItem(t,i,event)});$(document).on("click",".view-item",function(){var n=$(this).attr("data-href");embedOpenPage(n)});$('[data-toggle="tooltip"]').tooltip()