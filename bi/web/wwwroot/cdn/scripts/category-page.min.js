/*!
*  filename: category-page.min.js
*  version : unknown version
*  Copyright Syncfusion Inc. 2001 - 2013. All rights reserved.
*  Use of this code is subject to the terms of our license.
*  A copy of the current license can be obtained at any time by e-mailing
*  licensing@syncfusion.com. Any infringement will be prosecuted under
*  applicable laws. 
*/
function onSuccessDeleteItem(){var n=$("#items").data("ejGrid"),i;n.model.sortSettings.sortedColumns=[];n.model.filterSettings.filteredColumns=[];$("#search-items").find("input[type=text]").val("");var r=n.model.pageSettings.currentPage,u=n.model.pageSettings.pageSize,f=n.model.pageSettings.totalRecordsCount,t=n.model.pageSettings.totalRecordsCount%n.model.pageSettings.pageSize;t!=0&&t<=1&&(n.model.pageSettings.currentPage=r-1);$("#item-grid-container").attr("data-grid-name").toLowerCase()==="dashboards"&&(i=parent.angular.element(parent.document.getElementById("server-items-container")).scope(),n.model.query._params.push({key:"displayCategory",value:i.itemRequestType}));n.refreshContent();$("#dashboard_render_iframe").attr("src","");$("#initial-item-message").css("display","block");$("#dashboard_render_iframe").css("display","none")}function onNewFileDialogOpen(){$("#file-popup-iframe").attr("src",addFileIframeUrl)}function onSchedulerDialogClose(){$("#popup-container").find("iframe").contents().find("html").html("")}function onSchedulerDialogOpen(){$("#scheduler-popup-iframe").attr("src",schedulerIframeUrl+"?itemName="+ItemName+"&&itemId="+ItemId+"&&categoryName="+CategoryName+"&&categoryId="+CategoryId+"&&scheduleId="+ScheduleId+"&&multiDashboardName="+MultiDashboardName+"&&actionType=Create");$("#popup-container_wrapper").ejWaitingPopup("show")}function onNewFileDialogClose(){$("#file-popup").find("iframe").contents().find("html").html("");$("#file-popup").ejDialog("close")}function openNewDataSourcePopup(){$("#datasource-popup-iframe").addClass("add-datasource-frame");$("#datasource-popup").ejDialog("open");$("#datasource-popup_wrapper").ejWaitingPopup("show")}function openNewFilePopup(){$("#file-popup").ejDialog("open");$("#file-popup_wrapper").ejWaitingPopup("show")}function onDataSourceDialogOpen(){$("#datasource-popup-iframe").attr("src",addDatasourceIframeUrl).addClass("add-datasource-frame")}function onDataSourceDialogClose(){$("#datasource-popup").find("iframe").contents().find("html").html("");$("#datasource-popup").ejDialog("close")}function onWidgetDialogOpen(){$("#widget_popup_iframe").attr("src",addWidgetUrl)}function onWidgetDialogClose(){$("#widget_popup").find("iframe").contents().find("html").html("");$("#widget_popup").ejDialog("close")}function onReportDialogOpen(){}function openNewWidgetPopup(){$("#widget_popup").ejDialog("open");$("#widget_popup_wrapper").ejWaitingPopup("show")}function openNewCreateDataSourcePopup(){$("#create-datasource-popup").ejDialog("open");$("#create-datasource-popup_wrapper").ejWaitingPopup("show")}function onCreateDataSourceDialogOpen(){$("#create-datasource-iframe").attr("src",createDatasourceUrl)}function onCreateDataSourceDialogClose(){$("#create-datasource-popup").ejDialog("close")}function fnActionBegin(n){var s=createLoader("items"),t,i,f,r,u,e,o;if(this.element.ejWaitingPopup({template:$("#"+s)}),n.requestType!="refresh"||this.initialRender||$("#items").find(".e-gridcontent").css("visibility","hidden"),t=$("#item-grid-container").data("gridName"),(t.toLowerCase()==="dashboards"||t.toLowerCase()==="widgets")&&$("#server-items-container .category-collapse").css("display")=="none"&&$("#item-grid-container").ejWaitingPopup("show"),i="",i=$("#search-home-page").is(":visible")?$("#search-home-page").val():$("#search-items").val(),i!=="Search"&&this.model.query._params.push({key:"searchKey",value:i}),f=[],n.model.filterSettings.filteredColumns.length>0){for(r=0;r<n.model.filterSettings.filteredColumns.length;r++)u=n.model.filterSettings.filteredColumns[r],f.push({PropertyName:u.field,FilterType:u.operator,FilterKey:u.value});this.model.query._params.push({key:"filterCollection",value:f})}(t==="dashboards"||t==="widgets")&&(e=angular.element(document.getElementById("server-items-container")).scope(),n.model.query._params.push({key:"displayCategory",value:e.itemRequestType}));t==="schedules"&&(o=createLoader("scheduleGrid"),this.element.ejWaitingPopup({template:$("#"+o)}),i=$("#search-schedules").val(),n.model.query._params.push({key:"searchKey",value:i}),n.requestType=="sorting"&&n.model.query._sortedColumns.push({Name:n.columnName,Direction:n.columnSortDirection}))}function fnActionFailure(){setTimeout(function(){$("#item-grid-container").ejWaitingPopup("show");$("#item-list-panel > .item-navigation, #item-list-panel > #category-listing").css("visibility","visible")},500)}function fnActionComplete(n){var i,t,f;$("#item-list-panel > .item-navigation, #item-list-panel > #category-listing").css("visibility","visible");$("[data-toggle='tooltip']").tooltip();i=$("#items").data("ejGrid");i._gridRecordsCount==0&&((r=$("#item-grid-container").attr("data-grid-name")=="datasources")?(t="",t=window.Server.App.Localization.NoDataSources):(r=$("#item-grid-container").attr("data-grid-name")=="files")?(t="",t=window.Server.App.Localization.NoFilesToDisplay):(t="",$("ul.item-navigation li.active").attr("data-section").toLowerCase()=="favorite dashboards"?t=window.Server.App.Localization.NoFavoriteDashboards:$("ul.item-navigation li.active").attr("data-section").toLowerCase()=="recent dashboards"?t=window.Server.App.Localization.NoRecentDashboards:$("ul.item-navigation li.active").attr("data-section").toLowerCase()=="public dashboards"?t=window.Server.App.Localization.NoPublicDashboards:$("ul.item-navigation li.active").attr("data-section").toLowerCase()=="all dashboards"?t=window.Server.App.Localization.NoDashboards:$("ul.item-navigation li.active").attr("data-section").toLowerCase()=="all widgets"?t=window.Server.App.Localization.NoWidgets:$("ul.item-navigation li.active").attr("data-section").toLowerCase()=="public widgets"?t=window.Server.App.Localization.NoPublicWidgets:$("ul.item-navigation li.active").attr("data-section").toLowerCase()=="all categories"?t=window.Server.App.Localization.NoDashboards:$("ul.item-navigation li.active").attr("data-section").toLowerCase()=="draft dashboards"&&(t=window.Server.App.Localization.NoDrafts)),this.getContentTable().find("tbody .emptyrecord").html(t));var r=$("#item-grid-container").attr("data-grid-name"),e=$("ul.item-navigation li.public-widgets").hasClass("active"),o=$("ul.item-navigation li.public-items").hasClass("active"),u=$("#isMarkItemspublic").val();(r.toLowerCase()=="dashboards"||r.toLowerCase()=="widgets")&&(navigator.userAgent.match(/Windows Phone/i)||$("[data-toggle='tooltip']").tooltip(),$(".e-content").height()!=$(".e-scrollbar").height()&&$(".e-scrollbar .e-vscroll").css("height",$(".e-content").height()),$("#items .e-gridcontent").data("ejScroller")&&$("#items .e-gridcontent").ejScroller("refresh"),$("ul.item-navigation li.active").length>0&&$("ul.item-navigation li.active").attr("data-section").toLowerCase()=="draft dashboards"?$(".item-link").each(function(){$(this).attr("href",rootUrlAction+"/dashboard-designer/"+$(this).attr("data-itemid")+"/draft/"+$(this).attr("data-name"))}):r.toLowerCase()=="dashboards"&&window.innerWidth>=1041&&$(".item-link").each(function(){$(this).attr("href",rootUrlAction+"/dashboards/"+$(this).attr("data-itemid")+"/"+$(this).attr("data-category-name")+"/"+$(this).attr("data-name"))}),f=$(window).height()-($(".item-navigation").outerHeight()+$("#header-area").outerHeight()+$("#category-listing").outerHeight()),i.option({scrollSettings:{height:f}}),e==!0&&i._gridRecordsCount>0&&u=="False"?$(".tool-tip").show():o==!0&&i._gridRecordsCount>0&&u=="False"?$(".tool-tip").show():$(".tool-tip").hide(),setTimeout(function(){$("#item-grid-container").ejWaitingPopup("hide")},500),$(".tooltip").hide());n.requestType!="refresh"||this.initialRender||$("#items").find(".e-gridcontent").css("visibility","visible");showOrHideGridPager("#items")}function rowBound(){isFirstRequest&&(isFirstRequest=!1,(location.pathname.toLowerCase()==="/"||location.pathname.split("/")[location.pathname.split("/").length-1].toLowerCase()=="dashboards")&&refreshScroller())}function ResetGrid(){var n=$("#items").data("ejGrid");n.model.sortSettings.sortedColumns=[];n.model.filterSettings.filteredColumns=[];$("#search-items").find("input[type=text]").val("");n.refreshContent();$(".e-filtericon").removeClass("e-filteredicon e-filternone")}function onMakePublicDialogClose(){$("#make_item_public").ejDialog("close")}function onMakePublicDialogOpen(){load();$("#make_item_public").ejDialog("open");$("#make_item_public").focus()}function onRemovePublicDialogClose(){$("#remove_item_public").ejDialog("close")}function onRemovePublicDialogOpen(){load();$("#remove_item_public").ejDialog("open");$("#remove_item_public").focus()}function onGetLinkDialogClose(){$("#get_item_link").ejDialog("close")}function onGetLinkDialogOpen(){$("#get_item_link").ejDialog("open");$("#get_item_link").show();$("#get_item_link").focus();$("#item-link").select();$(".get_link").show();browser.name.toLowerCase()=="msie"?$("#item-link").val(window.location.href.replace(window.location.pathname+window.location.search,"")+itemUrl.trim()):$("#item-link").val(window.location.origin+itemUrl.trim());/Safari/.test(navigator.userAgent)&&/Apple Computer/.test(navigator.vendor)&&($("#item-link-copy").removeClass("su su-copy"),$("#item-link-copy").hide(),$("#item-link-copy").attr("data-original-title",""))}function fnAdjustRowHeight(n){var t=$("#item-grid-container").attr("data-grid-name");t=="dashboards"&&n.model.currentViewData.length==0&&rowBound()}function DashboardRender(n,t,i,r,u,f){var o,e,l,s,a,v;n=decodeURI(n);i=decodeURI(i);r=decodeURI(r);f=decodeURI(f);var y=window.location.search.substring(1),h=y.split("&"),c="?";for(o=0;o<h.length;o++)e=h[o].split("="),e[0]!=="category"&&e[0]!=="dashboard"&&e[0]!=="view"&&(c+=o!==h.length-1?e[0]+"="+e[1]+"&":e[0]+"="+e[1]);if(l=document.getElementById("dashboard_render_iframe"),f=f!=""&&f!=null&&f!="null"?"?tab="+f:"",$("#current-url").attr("data-url",n+"/"+t+"/"+i+"/"+r+"?view="+u),$(".item-navigation li[data-value='"+u+"']").hasClass("active")==!1){$(".item-navigation li").removeClass("active");$(".item-navigation li[data-value='"+u+"']").addClass("active");s=parent.angular.element(parent.document.getElementById("server-items-container")).scope();s.onClickDisplayCategory("",u)}return $(".item-navigation li[data-value='"+u+"']").hasClass("all-items")?$("#category-listing").addClass("category-section"):$("#category-listing").removeClass("category-section"),u=="categories"?(s=parent.angular.element(parent.document.getElementById("server-items-container")).scope(),s.getItemsInCategory("",i),$("#search-home-page").focus(),setTimeout(function(){$(".search-home-section:visible").addClass("show")},300),l.contentWindow.location.replace(n+"/"+t+"/"+i+"/"+r+c),$("#item-viewer").ejWaitingPopup("show"),$("#item-viewer").css({height:$(window).height()-$("#header-area").outerHeight()-$("#base-footer-div").outerHeight(),width:$(window).width()-$("#main-nav").width()-$(".item-list-panel").width()}),$("#initial-item-message").css("display","none"),$("#dashboard_render_iframe").css("display","block")):r!=""&&($("#search-home-page").focus(),setTimeout(function(){$(".search-home-section:visible").addClass("show")},300),l.contentWindow.location.replace(n+"/"+t+"/"+i+"/"+r+c),$("#item-viewer").ejWaitingPopup("show"),$("#item-viewer").css({height:$(window).height()-$("#header-area").outerHeight()-$("#base-footer-div").outerHeight(),width:$(window).width()-$("#main-nav").width()-$(".item-list-panel").width()}),$("#initial-item-message").css("display","none"),$("#dashboard_render_iframe").css("display","block")),$(".item-navigation li").hasClass("all-items")?$("#category-listing").addClass("category-section"):$("#category-listing").removeClass("category-section"),a=$(".item-link[data-name='"+r+"']"),a.parents("td").hasClass("active")==!1?($(".item-link").parents("td").removeClass("active"),a.parents("td").addClass("active")):window.innerWidth<1041&&($(".item-link").parents("td").removeClass("active"),$(".tooltip").hide()),$("#server-items-container .category-collapse").css("display")=="block"&&($("#item-viewer").css("width","100%"),$("#item-viewer").addClass("expanded"),$("#item-viewer").css({height:$(window).height()-$("#header-area").outerHeight()-$("#base-footer-div").outerHeight(),width:$(window).width()-$("#main-nav").width()-$(".su-sidebar-expand.category-collapse").width(),top:$("#header-area").height()}),v=$("#dashboard_render_iframe").width(),$("#dashboard_render_iframe").contents().find("#dashboard").css("width",v-30)),!1}function dialogClose(){dashboardItemCount==0&&location.reload();dialog.hide()}function openSampleDashboardDialog(n){var r='<span class="dialog-header-with-icon"><span class ="dialog-header-title">'+window.Server.App.Localization.SampleDashboards+"<\/span><\/span>",i,t;isAddSampleDialogBinded?(t=document.getElementById("sample_item_dialog").ej2_instances,t[0].header=r,t[0].show()):(i=document.createElement("div"),i.setAttribute("id","sample_item_dialog"),n.appendChild(i),t=new ejs.popups.Dialog({showOnInit:!1,allowDraggable:!1,enableResize:!1,width:window.innerWidth>460?"900px":window.innerWidth-10,height:"auto",showHeader:!1,animationSettings:{effect:"Zoom"},isModal:!0,enableModal:!0,closeOnEscape:!0,header:r,showCloseIcon:!0,close:dialogClose,content:document.getElementById("sample-item-container"),buttons:[{click:function(){dashboardItemCount==0&&location.reload();t.hide()},buttonModel:{cssClass:"app-btn-secondary",content:window.Server.App.Localization.CloseButton}}]}),t.appendTo(i),isAddSampleDialogBinded=!0);ejs.popups.createSpinner({target:document.getElementById("sample_item_dialog")});ejs.popups.setSpinner({type:"Material"});beforeOpenSampleDialog()}function beforeOpenSampleDialog(){$("#sample-item-container").show();ejs.popups.showSpinner(document.getElementById("sample_item_dialog"));$.ajax({type:"POST",url:addSampleItemsUrl,data:{},success:function(n){var t=angular.element("[ng-controller=SampleListCtrl]").scope();t.samples=n.categories;t.orderList="Name";t.$root.$$phase!="$apply"&&t.$root.$$phase!="$digest"&&t.$apply();ejs.popups.hideSpinner(document.getElementById("sample_item_dialog"))}})}function openNewDashboardPopup(){$("#report_popup").ejDialog("open");$("#report_popup_wrapper").ejWaitingPopup("show")}function onDashboardDialogOpen(){$("#report_iframe").attr("src",addDashboardIframeUrl)}function onDashboardDialogClose(){$("#report_popup").find("iframe").contents().find("html").html("");window.IsAddDashboard=!1;window.CategoryName=""}function beforeCloseAddItemPopup(){$("#add_category_name").val("");$("#add-category_description").val("");$("#AddCategoryPopup #validate-name").parent("span").parent("td").removeClass("has-error");$("#AddCategoryPopup #validate-name").parent("span").removeClass("has-error");$("#AddCategoryPopup #validate-name").text("");$("#AddCategoryPopup #plugin_validation").html("")}function deleteCategory(n){var r,i,u,t;$(this).parents(".dropdown").removeClass("open");$(this).parents(".dropdown").find(".dropdown-backdrop").remove();$("#delete-item-name").html(n.Name);$("#delete-item").attr("data-item-id",n.Id);document.getElementById("item-delete-confirmation").style.display="block";r='<span class="dialog-header-with-subtitle"><span class ="dialog-header-title">'+window.Server.App.Localization.DeleteCategory+'<\/span><span class="item-name">'+n.Name+"<\/span><\/span>";isItemDeleteDialogBinded?(t=document.getElementById("delete-item-dialog").ej2_instances,t[0].header=r,t[0].show()):(i=document.createElement("div"),i.setAttribute("id","delete-item-dialog"),u=document.getElementById("dashboard-page-container"),u.appendChild(i),t=new ejs.popups.Dialog({showOnInit:!1,allowDraggable:!1,enableResize:!1,width:window.innerWidth>460?"450px":window.innerWidth-10,height:"auto",showHeader:!1,animationSettings:{effect:"Zoom"},isModal:!0,enableModal:!0,closeOnEscape:!0,header:r,showCloseIcon:!0,content:document.getElementById("item-delete-confirmation")}),t.appendTo(i),isItemDeleteDialogBinded=!0);ejs.popups.createSpinner({target:document.getElementById("delete-item-dialog")});ejs.popups.setSpinner({type:"Material"});ejs.popups.showSpinner(document.getElementById("delete-item-dialog"));getDeleteItemDetails(n)}function EditCategory(n,t,i){var f,u,e,r;i=i.replace(new RegExp("&#xA;","g"),"\n");i=$("<div/>").html(i).text();$("#EditCategoryPopup #category_name").val(t);$("#EditCategoryPopup #category_description").val(i);document.getElementById("EditCategoryPopup").style.display="block";f='<span class="dialog-header-with-subtitle"><span class ="dialog-header-title">'+window.Server.App.Localization.UpdateCategory+'<\/span><span class="item-name">'+t+"<\/span><\/span>";isItemUpdateDialogBinded?(r=document.getElementById("edit-category-dialog").ej2_instances,r[0].header=f,r[0].show()):(u=document.createElement("div"),u.setAttribute("id","edit-category-dialog"),e=document.getElementById("dashboard-page-container"),e.appendChild(u),r=new ejs.popups.Dialog({showOnInit:!1,allowDraggable:!1,enableResize:!1,width:window.innerWidth>460?"600px":window.innerWidth-10,height:"auto",showHeader:!1,animationSettings:{effect:"Zoom"},isModal:!0,enableModal:!0,closeOnEscape:!0,header:f,showCloseIcon:!0,content:document.getElementById("EditCategoryPopup"),buttons:[{click:function(){updateCategory()},buttonModel:{isPrimary:!0,disabled:!0,cssClass:"app-btn-primary",content:window.Server.App.Localization.UpdateButton}},{click:function(){closeEditCategoryPopup()},buttonModel:{cssClass:"app-btn-secondary",content:window.Server.App.Localization.CancelButton}}]}),r.appendTo(u),isItemUpdateDialogBinded=!0);ejs.popups.createSpinner({target:document.getElementById("edit-category-dialog")});ejs.popups.setSpinner({type:"Material"});ejs.popups.showSpinner(document.getElementById("edit-category-dialog"));window.isEdited=!1;window.editData={ItemId:n,Name:t,Description:i};ejs.popups.hideSpinner(document.getElementById("edit-category-dialog"))}var itemUrl,browser=ej.browserInfo(),isFirstRequest=!1,isAjaxRequested=!0,isItemDeleteDialogBinded=!1,isCopyItemDialogBinded=!1,isAddCategoryDialogBinded,isAddSampleDialogBinded,isItemUpdateDialogBinded;$(function(){function a(n,t,i,r){$.ajax({type:"POST",url:deleteConfirmationUrl,data:{itemId:n,itemTypeId:t,itemName:i,datasourceType:r},success:function(n){$("#item-delete-confirmation").html(n);ejs.popups.hideSpinner(document.getElementById("delete-item-dialog"));$("#item-delete-confirmation").focus()}})}function v(){ejs.popups.showSpinner(document.getElementById("delete-item-dialog"));var i=$("#delete-item").attr("data-item-id"),n=$("#delete-item").attr("data-itemtype"),t="";n=="Datasource"&&(t=$("#delete-item").attr("data-datasource-type"));$.ajax({type:"POST",url:deleteItemUrl,data:{itemId:i,datasourceType:t},success:function(t){var u,i,r;ejs.popups.hideSpinner(document.getElementById("delete-item-dialog"));t.Success?(u=n=="Category"?window.Server.App.Localization.CategoryDeleted:n=="Dashboard"?window.Server.App.Localization.DashboardDeleted:n=="Datasource"?window.Server.App.Localization.DatasourceDeleted:n+window.Server.App.Localization.Deleted,successToast(window.Server.App.Localization.DeleteSuccess.format($("#delete-item-name").html()),7e3),n=="Category"||$(".all-items").hasClass("active")?$(".all-items").hasClass("active")?$(".all-items").trigger("click"):(i=parent.angular.element(parent.document.getElementById("server-items-container")).scope(),i.refreshCategorySection()):n=="Dashboard"?(onSuccessDeleteItem(),$("#favoriteitemCount").text(t.Value)):n=="Datasource"?t.DatasourceCount>0&&t.DatasourceCount!=undefined?onSuccessDeleteItem():($("#body").ejWaitingPopup("show"),location.reload()):onSuccessDeleteItem()):t.HasPermission==!1?warningToast(window.Server.App.Localization.DeleteItemPermissionMessage+" "+window.Server.App.Localization.ReloadPage):warningToast(window.Server.App.Localization.DeleteFailMessage.format($("#delete-item-name").html()));r=document.getElementById("delete-item-dialog").ej2_instances;r[0].hide()}})}function y(n,t){var i=document.getElementById("copy_item_dialog").ej2_instances;$.ajax({type:"POST",url:copyIframeUrl,data:{itemId:n,itemAction:t},success:function(n){n.status?($("#item_action_form").show(),$("#copy-item-denied").hide(),i[0].buttons=[{click:function(){CopyItem()},buttonModel:{isPrimary:!0,cssClass:"app-btn-primary",content:window.Server.App.Localization.Copy}},{click:function(){i[0].hide();$("#copy_item_name").closest("div").removeClass("has-error");$("#copy_item_name").parent().find(".validation-error").html("")},buttonModel:{cssClass:"app-btn-secondary",content:window.Server.App.Localization.CancelButton}}]):($("#item_action_form").hide(),n.accessDenied!=undefined?$("#copy-item-denied").text(n.accessDenied).show():n.exception!=undefined&&$("#copy-item-denied").text(n.exception).show(),i[0].buttons=[{click:function(){i[0].hide()},buttonModel:{cssClass:"app-btn-secondary",content:window.Server.App.Localization.OKButton}}]);ejs.popups.hideSpinner(document.getElementById("copy_item_dialog"))}})}var n,t,i,r,u,f,e,o,s,h,c,l;addPlacehoder("#input-div");$("#item-viewer").css({height:$(window).height()-$("#header-area").outerHeight()-$("#base-footer-div").outerHeight(),width:$(window).width()-$("#main-nav").width()-$(".item-list-panel").width()});$("#item-viewer #initial-item-message").css("display","block");$("#dashboard_render_iframe").css("display","none");$("#create-new-category").css("width",$(".item-list-panel").outerWidth());$("#input-div").find(".placeholder").hide();n=createLoader("item-grid-container");$("#item-grid-container").ejWaitingPopup({template:$("#"+n)});t=createLoader("item-list-panel");$("#item-list-panel").ejWaitingPopup({template:$("#"+t)});i=createLoader("item-viewer");$("#item-viewer").ejWaitingPopup({template:$("#"+i)});$(".search-area").removeClass("focusdiv");$(".item-list-panel").css("height",window.innerHeight-$("#header-area").outerHeight());$("#datasource-popup").ejDialog({width:"650px",showOnInit:!1,allowDraggable:!1,enableResize:!1,enableModal:!0,showHeader:!1,close:"onDataSourceDialogClose",open:"onDataSourceDialogOpen"});$("#widget_popup").ejDialog({width:"651px",showOnInit:!1,allowDraggable:!1,enableResize:!1,enableModal:!0,showHeader:!1,close:"onWidgetDialogClose",open:"onWidgetDialogOpen"});$("#popup-container").ejDialog({allowDraggable:!1,enableResize:!1,enableModal:!0,showHeader:!1,showOnInit:!1,close:"onSchedulerDialogClose",open:"onSchedulerDialogOpen",width:"1000px"});r=createLoader("popup-container_wrapper");$("#popup-container_wrapper").ejWaitingPopup({template:$("#"+r)});$("#select_datasource_popup").ejDialog({width:"800px",showOnInit:!1,allowDraggable:!0,enableResize:!1,height:"530px",showHeader:!1,enableModal:!0,closeOnEscape:!0,close:"closeNewDataSourcePopup"});$("#file-popup").ejDialog({width:"650px",showOnInit:!1,allowDraggable:!1,enableResize:!1,height:"382px",title:window.Server.App.Localization.AddFile,enableModal:!0,showHeader:!1,open:"onNewFileDialogOpen",close:"onNewFileDialogClose"});$("#permission-popup").ejDialog({showOnInit:!1,allowDraggable:!0,enableResize:!1,width:"900px",title:"",showHeader:!1,enableModal:!0,close:"DialogBoxClose",closeOnEscape:!0});$("#make_item_public").ejDialog({width:window.innerWidth>460?"450px":window.innerWidth-10,showOnInit:!1,allowDraggable:!1,enableResize:!1,height:"auto",title:window.Server.App.Localization.MakePublic,showHeader:!1,enableModal:!0,closeOnEscape:!0,close:"onMakePublicDialogClose",open:"onMakePublicDialogOpen"});$("#remove_item_public").ejDialog({width:window.innerWidth>460?"450px":window.innerWidth-10,showOnInit:!1,allowDraggable:!1,enableResize:!1,height:"auto",title:window.Server.App.Localization.RemovePublic,showHeader:!1,enableModal:!0,closeOnEscape:!0,close:"onRemovePublicDialogClose",open:"onRemovePublicDialogOpen"});$("#create-datasource-popup").ejDialog({width:"650px",height:"auto",showOnInit:!1,allowDraggable:!1,enableResize:!1,enableModal:!0,showHeader:!1,close:"onCreateDataSourceDialogClose",open:"onCreateDataSourceDialogOpen"});u=createLoader("create-datasource-popup_wrapper");$("#create-datasource-popup_wrapper").ejWaitingPopup({template:$("#"+u)});f=createLoader("widget_popup_wrapper");$("#widget_popup_wrapper").ejWaitingPopup({template:$("#"+f)});e=createLoader("select_datasource_popup_wrapper");$("#select_datasource_popup_wrapper").ejWaitingPopup({template:$("#"+e)});o=createLoader("file-popup_wrapper");$("#file-popup_wrapper").ejWaitingPopup({template:$("#"+o)});s=createLoader("datasource-popup_wrapper");$("#datasource-popup_wrapper").ejWaitingPopup({template:$("#"+s)});h=createLoader("permission-popup_wrapper");$("#permission-popup_wrapper").ejWaitingPopup({template:$("#"+h)});c=createLoader("make_item_public_wrapper");$("#make_item_public_wrapper").ejWaitingPopup({template:$("#"+c)});l=createLoader("remove_item_public_wrapper");$("#remove_item_public_wrapper").ejWaitingPopup({template:$("#"+l)});$(document).on("click","#context-menu",function(){refreshScrollerForCategory()});$(document).on("click",".options-area",function(){setTimeout(function(){$(".tooltip").hide()},50)});$("#search-home-page").on("focusin",function(){$(".search-area").addClass("focusdiv")});$("#search-home-page").on("focusout",function(){$(".search-area").removeClass("focusdiv")});$(document).on("click",".item-delete",function(){var i,t,e,n;$("#delete-item-name").html($(this).attr("data-name"));$("#delete-item").attr("data-item-id",$(this).attr("data-item-id"));var o=$(this).attr("data-item-id"),r=$(this).attr("data-name"),u=$(this).attr("data-itemtype"),f="";u=="4"&&(f=$(this).attr("data-datasource-type"));document.getElementById("item-delete-confirmation").style.display="block";i='<span class="dialog-header-with-subtitle"><span class ="dialog-header-title">'+window.Server.App.Localization.DeleteDataSource+'<\/span><span class="item-name">'+r+"<\/span><\/span>";isItemDeleteDialogBinded?(n=document.getElementById("delete-item-dialog").ej2_instances,n[0].header=i,n[0].show()):(t=document.createElement("div"),t.setAttribute("id","delete-item-dialog"),e=document.getElementById("item-grid-container"),e.appendChild(t),n=new ejs.popups.Dialog({showOnInit:!1,allowDraggable:!1,enableResize:!1,width:window.innerWidth>460?"450px":window.innerWidth-10,height:"auto",showHeader:!1,animationSettings:{effect:"Zoom"},isModal:!0,enableModal:!0,closeOnEscape:!0,header:i,showCloseIcon:!0,content:document.getElementById("item-delete-confirmation"),buttons:[{click:function(){v()},buttonModel:{cssClass:"app-btn-danger",content:window.Server.App.Localization.YesButton}},{click:function(){n.hide()},buttonModel:{cssClass:"app-btn-secondary",content:window.Server.App.Localization.NoButton}}]}),n.appendTo(t),isItemDeleteDialogBinded=!0);ejs.popups.createSpinner({target:document.getElementById("delete-item-dialog")});ejs.popups.setSpinner({type:"Material"});ejs.popups.showSpinner(document.getElementById("delete-item-dialog"));a(o,u,r,f)});addPlacehoder("#search-area");$(document).on("click",".version-button",function(){var n=$(this).attr("data-item-id"),f=$(this).attr("data-itemname"),t=$("#grid").data("ejGrid"),i=$("#loggrid").data("ejGrid"),e=$("#version-window-container").data("ejDialog"),r,u;e!=null?$("#version-window-container").ejDialog("open"):$("#version-window-container").ejDialog({showOnInit:!0,allowDraggable:!0,enableResize:!1,width:"864px",title:"",showHeader:!1,enableModal:!0,close:"DialogBoxClose",closeOnEscape:!0});$(".modal-header .modal-title").html(f);$("#version-tab").parent("li").addClass("active");$("#item-log-tab").parent("li").removeClass("active");$("#item-version-container").removeClass("hidden").addClass("show");$("#item-log-container").removeClass("show").addClass("hidden");r=ej.DataManager({url:itemVersionUrl+"?ItemId="+n,adaptor:new ej.UrlAdaptor});t.dataSource(r);t.model.pageSettings.currentPage=1;u=ej.DataManager({url:itemLogsUrl+"?ItemId="+n,adaptor:new ej.UrlAdaptor});i.dataSource(u);i.model.pageSettings.currentPage=1});$(document).on("click",".layout",function(){$("#container iframe").attr("src",window.location.href+"?itemId="+$(this).attr("data-item-id")+"&itemAction="+$(this).attr("data-action"))});$(document).on("click",".moveItem",function(){var n=$(this).attr("data-itemId"),t=$(this).attr("data-action");$("#ItemAction").ejDialog("open");$("#ItemAction_wrapper").ejWaitingPopup("show");$.ajax({type:"POST",url:moveIframeUrl,data:{itemId:n,itemAction:t},success:function(n){$("#ItemAction").html(n);$("#ItemAction_wrapper .e-dialog-scroller").attr("style","overflow:inherit; border:none");$("#ItemAction_wrapper").ejWaitingPopup("hide")}})});$(document).on("click",".item-info",function(){var t=$("#items").data("ejGrid");if(t!=null){var n=t.getSelectedRecords()[0],i=angular.element($("[ng-controller=ItemInfoCtrl]")).scope();n.Description=n.Description.replace(new RegExp("&#xA;","g"),"\n");i.openInfoDialog(n,!1,!1)}});$(document).on("click",".copyItem",function(){var i=$(this).attr("data-itemId"),e=$(this).attr("data-action"),r=$(this).attr("data-itemname"),u='<span class="dialog-header-with-subtitle"><span class ="dialog-header-title">'+window.Server.App.Localization.CopyDatasource+'<\/span><span class="item-name">'+r+"<\/span><\/span>",t,f,n;isCopyItemDialogBinded?(n=document.getElementById("copy_item_dialog").ej2_instances,n[0].header=u,n[0].show()):(t=document.createElement("div"),t.setAttribute("id","copy_item_dialog"),f=document.getElementById("server-app-container"),f.appendChild(t),n=new ejs.popups.Dialog({showOnInit:!1,allowDraggable:!1,enableResize:!1,width:window.innerWidth>460?"436px":window.innerWidth-10,height:"auto",showHeader:!1,animationSettings:{effect:"Zoom"},isModal:!0,enableModal:!0,closeOnEscape:!0,header:u,showCloseIcon:!0,content:document.getElementById("Copy_Item"),buttons:[{click:function(){CopyItem()},buttonModel:{isPrimary:!0,cssClass:"app-btn-primary",content:window.Server.App.Localization.Copy}},{click:function(){n.hide();$("#copy_item_name").closest("div").removeClass("has-error");$("#copy_item_name").parent().find(".validation-error").html("")},buttonModel:{cssClass:"app-btn-secondary",content:window.Server.App.Localization.CancelButton}}]}),n.appendTo(t),isCopyItemDialogBinded=!0);ejs.popups.createSpinner({target:document.getElementById("copy_item_dialog")});ejs.popups.setSpinner({type:"Material"});ejs.popups.showSpinner(document.getElementById("copy_item_dialog"));$("#copy_item_name").val(r);document.getElementById("Copy_Item").style.display="block";$("#CopyItemType").val("Datasource");$("#CopyItemIdHidden").val(i);y(i,e)});$(document).on("click",".favorite-item",function(){$("#items").ejWaitingPopup("show");var n=$("#items").data("ejGrid"),t=$(this).attr("data-itemid"),i=$(this).attr("data-value");$.ajax({type:"POST",url:favoriteItemUrl,data:{itemId:t,favoriteValue:i},success:function(r){var u,f;r.Success?(u=$(".favorite-item").filter("[data-itemid='"+t+"']"),i=="True"?($(u[0]).addClass("favorite"),$(u[0]).attr("data-value","False"),$(u[0]).attr("data-original-title",window.Server.App.Localization.RemoveFavorite)):($(u[0]).removeClass("favorite"),$(u[0]).attr("data-value","True"),$(u[0]).attr("data-original-title",window.Server.App.Localization.MarkFavorite)),$("#item-grid-container").data("gridName")==="dashboards"&&(f=angular.element(document.getElementById("server-items-container")).scope(),n.model.query._params.push({key:"displayCategory",value:f.itemRequestType})),f.itemRequestType=="100"&&(n.model.filterSettings.filteredColumns=[{field:"CategoryName",operator:"equal",value:f.category}]),n.refreshContent()):messageBox("",window.Server.App.Localization.MarkFavoriteError,window.Server.App.Localization.InternalServerError,"success",function(){onCloseMessageBox()})}})});$(window).resize(function(){var t=$("#version-window-container").data("ejDialog"),n,i;return t!=null&&t.isOpened()&&t._dialogPosition(),n=$("#items").data("ejGrid"),n!=null?(window.innerWidth<1041?(n.hideColumns("Description"),n.hideColumns("Last Modified")):(n.showColumns("Description"),n.showColumns("Last Modified")),($("#clear-search").css("display")=="block"||$("#clear-search").css("display")=="inline-block")&&$("#search-items").css("display","block"),$(".item-list-panel").css("height",window.innerHeight-$("#header-area").outerHeight()),$("#create-new-category").css("width",$(".item-list-panel").outerWidth()),i=$(window).height()-($(".item-navigation").outerHeight()+$("#header-area").outerHeight()+$("#category-listing").outerHeight()),n.option({scrollSettings:{height:i}}),$(".su-sidebar-collapse").is(":visible")?($("#item-viewer").css({height:$(window).height()-$("#header-area").outerHeight()-$("#base-footer-div").outerHeight(),width:$(window).width()-$("#main-nav").width()-$(".item-list-panel").width()}),!1):($("#item-viewer").css({height:$(window).height()-$("#header-area").outerHeight()-$("#base-footer-div").outerHeight(),width:$(window).width()-$("#main-nav").width()-$(".su-sidebar-expand.category-collapse").width(),top:$("#header-area").height()}),!1)):void 0});$(window).on("load",function(){refreshScrollerForCategory()});$(document).on("click",".make-public",function(){$("#item_name").html($(this).attr("data-name"));itemUrl=$(this).attr("data-url");var t=$(this).attr("data-item-id"),i=$(this).attr("data-name"),n=$(this).attr("data-itemtype");load();$("#make_item_public").ejDialog("open");$("#make_item_public_wrapper").ejWaitingPopup("show");$.ajax({type:"POST",url:makePublicUrl,data:{itemId:t,itemTypeId:n,itemName:i},success:function(t){$("#make_item_public").html(t);$("#make_item_public_wrapper").ejWaitingPopup("hide");$("#make-public").attr("data-itemtype",n);$("#make-public").attr("data-url",itemUrl)}})});$(document).on("click","#make-public",function(){$("#item_name").html($(this).attr("data-name"));itemUrl=$(this).attr("data-url");var t=$(this).attr("data-item-id"),n=$(this).attr("data-name"),i=$(this).attr("data-itemtype"),r=$(this).attr("data-item-type").trim();$("#make_item_public_wrapper").ejWaitingPopup("show");$.ajax({type:"POST",url:makeItemPublicUrl,data:{itemId:t,itemTypeId:i,itemName:n},success:function(t){t.validation&&t.result?(onMakePublicDialogClose(),onGetLinkDialogOpen(),$(".report-name").html(n),$(".report-name").attr("title",n),$("."+r.toLowerCase()+"-link").show(),$(".private-note").hide(),$(".public-note").show(),ResetGrid()):($("#makepublicitem").hide(),$("#select-area").hide(),$("#close").show(),$(".error-msg").show(),ResetGrid());$("#make_item_public_wrapper").ejWaitingPopup("hide")}})});$(document).on("click",".remove-public",function(){$("#item_name").html($(this).attr("data-name"));itemUrl=$(this).attr("data-url");var t=$(this).attr("data-item-id"),i=$(this).attr("data-name"),n=$(this).attr("data-itemtype");load();$("#remove_item_public").ejDialog("open");$("#remove_item_public_wrapper").ejWaitingPopup("show");$.ajax({type:"POST",url:removePublicUrl,data:{itemId:t,itemTypeId:n,itemName:i},success:function(t){$("#remove_item_public").html(t);$("#remove_item_public_wrapper").ejWaitingPopup("hide");$("#remove-public").attr("data-itemtype",n);$("#remove-public").attr("data-url",itemUrl)}})});$(document).on("click","#remove-public",function(){$("#item_name").html($(this).attr("data-name"));itemUrl=$(this).attr("data-url");var n=$(this).attr("data-item-id"),t=$(this).attr("data-name"),i=$(this).attr("data-itemtype");$("#remove_item_public_wrapper").ejWaitingPopup("show");$.ajax({type:"POST",url:removeItemPublicUrl,data:{itemId:n,itemTypeId:i,itemName:t},success:function(n){n.validation&&n.result?($("#removepublicitem").hide(),$("#remove-select-area").hide(),$("#remove-close").show(),$("#success-msg").show(),ResetGrid()):($("#removepublicitem").hide(),$("#remove-select-area").hide(),$("#success-msg").hide(),$("#remove-close").show(),$("#error-msg").show(),ResetGrid());$("#remove_item_public_wrapper").ejWaitingPopup("hide")}})});$(document).on("click",".get-link",function(){var t;itemUrl=$(this).attr("data-url").trim();t=$(this).attr("data-itemtype").trim();t.toLowerCase()=="2"?$(".dashboard-link").show():t.toLowerCase()=="6"?($(".file-link").show(),$("#compressed-link").prop("checked",!0)):t.toLowerCase()=="8"?$(".widget-link").show():$(".link").show();var i="",e=$(this).attr("data-name"),s=$(this).attr("ispublic"),o=$(this).attr("data-item-id"),r=document.getElementById("dashboard_render_iframe");if(r!=null){var u=r.contentDocument||r.contentWindow.document,h=$(u).find("#favorite_Item").attr("data-item-id"),f=$(u).find("#favorite_Item").attr("data-parent-id"),n="";f!==""&&f!==undefined&&(n="tab="+document.getElementById("dashboard_render_iframe").contentWindow.$("#dashboard").data("ejDashboardViewer").getCurrentTab().tabName.trim());$(u).find("#favorite_Item").length>0&&document.getElementById("dashboard_render_iframe").contentWindow.getcurrentfilters()!==null&&(n+=(n===""?"":"&")+document.getElementById("dashboard_render_iframe").contentWindow.getcurrentfilters().encryptedData);i=(h===o||f===o)&&n!==""?browser.name.toLowerCase()==="msie"?window.location.href.replace(window.location.pathname+window.location.search,"")+itemUrl.trim()+"?"+n:window.location.origin+itemUrl+"?"+n:browser.name.toLowerCase()==="msie"?window.location.href.replace(window.location.pathname+window.location.search,"")+itemUrl.trim():window.location.origin+itemUrl}else i=browser.name.toLowerCase()==="msie"?window.location.href.replace(window.location.pathname+window.location.search,"")+itemUrl.trim():window.location.origin+itemUrl;$("#get_item_link").ejDialog("open");$("#get_item_link").show();$("#get_item_link_wrapper").ejWaitingPopup("show");$(".get_link").show();s=="true"?($(".private-note").hide(),$(".public-note").show()):($(".private-note").show(),$(".public-note").hide());/Safari/.test(navigator.userAgent)&&/Apple Computer/.test(navigator.vendor)?($("#item-link-copy").removeClass("su su-copy"),$("#item-link-copy").hide(),$("#item-link").css({width:"100%",borderRadius:"4px"}),$("#item-link-copy").attr("data-original-title","")):$("#item-link-copy").tooltip({animation:!1});$(".report-name").html(e);$(".report-name").attr("title",e);$("#item-link").val(i);$("#item-link").select();$(".modal-footer .validation-area").css("display","block");$("#get_item_link_wrapper").ejWaitingPopup("hide")});$(document).on("click","#compressed-link",function(){var n=$("#item-link").val().split("?")[0];$(this).prop("checked")==!0&&(n+="?compress=true");$("#item-link").val(n);$(".update-link").css("visibility","visible");timer!=0&&clearTimeout(timer);timer=setTimeout(function(){$(".update-link").css("visibility","hidden");timer=0},7e3)})});$(document).on("click",".category-link",function(n){$(".e-filtericon").removeClass("e-filteredicon e-filternone");n.preventDefault()});$(document).on("click",".item-navigation li:not(:last)",function(n){var r,t,i,u;n.preventDefault();t=$("#items").data("ejGrid");$(this).hasClass("active")==!1&&($(".item-navigation li").removeClass("active"),$(this).addClass("active"));$(this).hasClass("all-items")?$("#category-listing").addClass("category-section"):$("#category-listing").removeClass("category-section");r=$(window).height()-($(".item-navigation").outerHeight()+$("#header-area").outerHeight()+$("#category-listing").outerHeight());t=$("#items").data("ejGrid");t.option({scrollSettings:{height:r}});i=$(this).attr("href");u=window.location.pathname+window.location.search;u!=i&&window.innerWidth>=1041&&history.pushState!=undefined&&$("#item-grid-container").data("gridName")==="dashboards"&&history.pushState({},"",i)});$(document).on("click","#open-dashboard, #open-widget",function(){$(this).attr("id")=="open-dashboard"?$(this).attr("data-href").indexOf("?")==-1?window.open($(this).attr("data-href")+"?showmydashboards=1","_blank"):window.open($(this).attr("data-href")+"&showmydashboards=1","_blank"):window.open($(this).attr("data-href"),"_blank")});$(document).on("click",".search-item",function(n){var t;return n.stopPropagation(),$(".search-area").hasClass("add-background")?($(".search-home-section").val()!==""&&($(".search-home-section").val(""),!$("#category-list").is(":visible")||$("#category-list").length<=0?(gridObj=$("#items").data("ejGrid"),gridObj.model.pageSettings.currentPage=1,gridObj.refreshContent()):$(".category").trigger("click")),$(".search-area").removeClass("add-background"),$(".placeholder, .close-icon").hide(),$(".all-items").hasClass("active")&&!$("#category-list").is(":visible")?setTimeout(function(){$(".search-area").prevAll().show().parent().removeClass("pull-right");$("#category-section-name").show();var n=$("#isMarkItemspublic").val();($("ul.item-navigation li.public-items").hasClass("active")||$("ul.item-navigation li.public-widgets").hasClass("active"))&&$("#items").data("ejGrid")._gridRecordsCount>0&&n=="False"?$(".tool-tip").show():$(".tool-tip").hide()},300):setTimeout(function(){$(".search-area").prevAll(":not(#back-icon)").show().parent().removeClass("pull-right");$("#category-section-name").show();var n=$("#isMarkItemspublic").val();($("ul.item-navigation li.public-items").hasClass("active")||$("ul.item-navigation li.public-widgets").hasClass("active"))&&$("#items").data("ejGrid")._gridRecordsCount>0&&n=="False"?$(".tool-tip").show():$(".tool-tip").hide()},300),setTimeout(function(){$(".search-home-section:visible").removeClass("show")},300)):($(".search-area").addClass("add-background"),$(".placeholder").show(),setTimeout(function(){$(".close-icon").show()},300),$(".all-items").hasClass("active")&&!$("#category-list").is(":visible")?($(".search-area").prevAll().hide().parent().addClass("pull-right"),$("#category-section-name").hide(),t=$("#isMarkItemspublic").val(),($("ul.item-navigation li.public-items").hasClass("active")||$("ul.item-navigation li.public-widgets").hasClass("active"))&&$("#items").data("ejGrid")._gridRecordsCount>0&&t=="False"?$(".tool-tip").show():$(".tool-tip").hide()):($(".search-area").prevAll(":not(#back-icon)").hide().parent().addClass("pull-right"),$("#category-section-name").hide(),t=$("#isMarkItemspublic").val(),($("ul.item-navigation li.public-items").hasClass("active")||$("ul.item-navigation li.public-widgets").hasClass("active"))&&$("#items").data("ejGrid")._gridRecordsCount>0&&t=="False"?$(".tool-tip").show():$(".tool-tip").hide()),$("#search-home-page").focus(),setTimeout(function(){$(".search-home-section:visible").addClass("show")},300)),setTimeout(function(){$(".clear-search").hide()},300),!1});$(document).on("click",".schedule-dashboards",function(){ItemId=$(this).attr("data-item-id");ItemName=$(this).attr("data-itemname");CategoryName=$(this).attr("data-category-name");CategoryId=$(this).attr("data-category-id");ScheduleId="";MultiDashboardName=$(this).attr("data-multidashboard-name");$("#popup-container").ejDialog("open")});$(document).on("click","#create_schedule, .create-schedule",function(){ItemId="";ItemName="";CategoryName="";ScheduleId="";CategoryId="";MultiDashboardName=$(this).attr("data-multidashboard-name");$("#popup-container").ejDialog("open")});$(document).on("click","#item-link-copy",function(){$("#item-link").select();/Safari/.test(navigator.userAgent)&&/Apple Computer/.test(navigator.vendor)?($("#item-link-copy").removeClass("su su-copy"),$("#item-link-copy").attr("data-original-title","")):(document.execCommand("copy"),$("#item-link-copy").attr("data-original-title",window.Server.App.Localization.Copysuccess),$("#item-link-copy").tooltip("hide").attr("data-original-title",window.Server.App.Localization.Copysuccess).tooltip("fixTitle").tooltip("show"),setTimeout(function(){$("#item-link-copy").attr("data-original-title",window.Server.App.Localization.LinkCopy);$("#item-link-copy").tooltip()},3e3))});$(document).on("click",".item-link",function(n){var u,f,t,e,i,r;n.preventDefault();u=$(this).attr("data-isdraft");u.toLowerCase()=="true"?window.open($(this).attr("href"),"_self"):(f=document.getElementById("dashboard_render_iframe"),window.innerWidth<1041||n.target.id=="open-dashboard"||n.target.id=="open-widget"||n.target.id=="context-menu"||$(n.target).hasClass("favorite-item")?n.stopPropagation():(f.contentWindow.location.replace(decodeURI($(this).find("span").attr("data-href"))),$("#item-viewer").ejWaitingPopup("show"),$("#item-viewer").css({height:$(window).height()-$("#header-area").outerHeight()-$("#base-footer-div").outerHeight(),width:$(window).width()-$("#main-nav").width()-$(".item-list-panel").width()}),$("#initial-item-message").css("display","none"),$("#dashboard_render_iframe").css("display","block"),t=$(this).attr("href"),e=window.location.pathname+window.location.search,e!=t&&(i=window.location.search.indexOf("?category=")>-1?"?view=categories":"?view="+$(".item-navigation li.active").attr("data-value"),r=t+(t.indexOf("?")>-1?i.replace("?","&"):i),$("#current-url").attr("data-url",r),history.pushState!=undefined&&$("#item-grid-container").data("gridName")==="dashboards"&&history.pushState({},"",r))),$(this).parents("td").hasClass("active")==!1?($(".item-link").parents("td").removeClass("active"),$(this).parents("td").addClass("active")):window.innerWidth<1041&&($(".item-link").parents("td").removeClass("active"),$(".tooltip").hide()))});$(document).on("click",".category-collapse",function(){var n;return $(".su-sidebar-collapse").is(":visible")?($("#item-viewer").css("width","100%"),$(".item-list-panel, .su-sidebar-collapse").css({display:"none"}),$(".su-sidebar-expand").css({display:"block"}),$("#item-viewer").addClass("expanded"),$("#item-viewer").css({height:$(window).height()-$("#header-area").outerHeight()-$("#base-footer-div").outerHeight(),width:$(window).width()-$("#main-nav").width()-$(".su-sidebar-expand.category-collapse").width(),top:$("#header-area").height()}),n=$("#dashboard_render_iframe").width(),$("#dashboard_render_iframe").contents().find("#dashboard").css("width",n-30),$("#item-viewer").ejWaitingPopup("refresh").css("width",n),!1):($("#dashboard_render_iframe").contents().find("#dashboard-view-toogle").hasClass("dashboard-view-toogle")&&CloseDashboardView(),$("#dashboard_render_iframe").contents().find("#filter-view").hide(),$("#dashboard_render_iframe").contents().find("#commentModuleContainer").addClass("displayNone"),$("#dashboard_render_iframe").contents().find("ul.options").css("right","0px"),$("#item-viewer").css({left:"initial"}),$("#dashboard_render_iframe").contents().find("ul.options li").removeClass("active"),$("#item-viewer").css({width:"70%"}),$(".item-list-panel, .su-sidebar-collapse").css({display:"block"}),$(".su-sidebar-expand").css({display:"none"}),$("#item-viewer").removeClass("expanded"),$("#item-viewer").css({height:$(window).height()-$("#header-area").outerHeight()-$("#base-footer-div").outerHeight(),width:$(window).width()-$("#main-nav").width()-$(".item-list-panel").width()}),n=$("#dashboard_render_iframe").width(),$("#dashboard_render_iframe").contents().find("#dashboard").css("width",n-30),$("#item-viewer").ejWaitingPopup("refresh").css("width",n),!1)});$(document).on("show.bs.dropdown","#listing, #items .e-row",function(){if($(this).find("#context-menu").length>0){var t=$(this).offset().top+$(this).outerHeight(!0)/2-$("#header-area").outerHeight(!0)-$(".item-navigation").outerHeight(!0)-$("#category-listing").outerHeight(!0),i=$(window).height()-$(this).offset().top-$(this).outerHeight(!0)/2,n=$(this).find(".dashboard-options").outerHeight(!0);i<=n&&t>=n&&$(this).find("#context-menu").removeClass("dropdown").addClass("dropup")}$(this).hasClass("e-row")?$(".item-link").each(function(){$(this).removeClass("active-category-setting");$(this).find(".open").length>0&&$(this).addClass("active-category-setting")}):$(".category-section").each(function(){$(this).removeClass("active-category-setting");$(this).find(".open").length>0&&$(this).addClass("active-category-setting")});refreshScrollerForCategory()});$(document).on("hide.bs.dropdown","#listing, #items .e-row",function(){$(this).find("#context-menu").length>0&&$(this).find("#context-menu").removeClass("dropup").addClass("dropdown");$(this).hasClass("e-row")?$(".item-link").removeClass("active-category-setting"):$(".category-section").removeClass("active-category-setting");refreshScrollerForCategory()});$(document).on("shown.bs.dropdown","#scroll-content li, #items .e-row",function(){var n=$("#item-grid-container").attr("data-grid-name");if($("#category-list").is(":visible"))return refreshScrollerForCategory(),!1;(n.toLowerCase()=="dashboards"||n.toLowerCase()=="widgets")&&($(".e-gridcontent").ejScroller(),$(".e-gridcontent").ejScroller("refresh"))});$(document).on("hidden.bs.dropdown","#scroll-content li, #items .e-row",function(){var n=$("#item-grid-container").attr("data-grid-name");if($("#category-list").is(":visible"))return refreshScrollerForCategory(),!1;(n.toLowerCase()=="dashboards"||n.toLowerCase()=="widgets")&&($(".e-gridcontent").ejScroller(),$(".e-gridcontent").ejScroller("refresh"))});$(document).on("mouseenter",".category-section, #items .e-row",function(){$(this).hasClass("e-row")?$(".item-link").each(function(){$(this).removeClass("active-category-setting");$(this).find(".open").length>0&&$(this).addClass("active-category-setting")}):$(".category-section").each(function(){$(this).removeClass("active-category-setting");$(this).find(".open").length>0&&$(this).addClass("active-category-setting")})});$(document).on("mouseleave",".category-section, #items .e-row",function(){$(this).hasClass("e-row")?$(".item-link").each(function(){$(this).removeClass("active-category-setting");$(this).find(".open").length>0&&$(this).addClass("active-category-setting")}):$(".category-section").each(function(){$(this).removeClass("active-category-setting");$(this).find(".open").length>0&&$(this).addClass("active-category-setting")})});$(document).on("mouseenter","#open-dashboard, #open-widget",function(){$(this).parents("a").tooltip("hide")});$(document).on("mouseleave","#open-dashboard, #open-widget",function(){$(this).parents("a").tooltip("show")});$(document).on("mouseenter",".dashboard-views",function(n){if(n.target.className!="view-name"){var u=$(this).find(".views").attr("data-item-id"),f=$(this).find("ul"),r="",t=$(this).find(".views").attr("data-is-childdashboard"),e=$(this).find(".views").attr("data-parent-category-name"),o=$(this).find(".views").attr("data-parent-itemname"),s=$(this).find(".views").attr("data-parent-item-id"),h=t!=undefined&&t.toLowerCase()=="true"?$(this).find(".views").attr("data-child-dashboard-name"):"";isAjaxRequested==!0&&($(".dashboard-views").addClass("views-loader"),isAjaxRequested=!1,$.ajax({type:"POST",url:getViewsByItemIdUrl,data:{itemId:u},success:function(n){if(n!=null&&n.result!=null&&n.result.length>0)if(t!=undefined&&t!=null&&t.toLowerCase()=="true")for(i=0;i<n.result.length;i++)r+="<li><a class='view-name' href='"+dashboards+"/"+s+"/"+e+"/"+o+"?tab="+h+"&viewid="+n.result[i].ViewId+"' target='_blank' data-toggle='tooltip' data-placement='top' data-original-title='"+n.result[i].ViewName+"' data-itemid='"+n.result[i].ItemId+"'>"+n.result[i].ViewName+"<\/a><\/li>";else for(i=0;i<n.result.length;i++)r+="<li><a class='view-name' href='"+dashboards+"/"+u+"/"+n.result[i].CategoryName+"/"+n.result[i].ItemName+"?viewid="+n.result[i].ViewId+"' target='_blank' data-toggle='tooltip' data-placement='top' data-original-title='"+n.result[i].ViewName+"' data-itemid='"+n.result[i].ItemId+"'>"+n.result[i].ViewName+"<\/a><\/li>";else r="<li><span class='view-name' href='javascript:void(0);'><span>"+window.Server.App.Localization.NoViews+"<\/span><\/span><\/li>";f.html(r);$(".dashboard-views").removeClass("views-loader");$(".dashboard-views").addClass("no-loader");$('[data-toggle="tooltip"]').tooltip()}}).always(function(){isAjaxRequested=!0}))}});$(document).on("click",".dashboard-options li > span",function(n){return n.stopPropagation(),!1});$(document).on("click",".download-item",function(){window.location=$(this).attr("href")});$(document).on("click",".open-item",function(){var n=$(this).attr("href")+"?showmydashboards=1";window.open(n,"_blank")});$(document).on("click",".option-click",function(){$(this).closest(".dropdown-menu").prev().dropdown("toggle")});$(document).on("click",".dropdown-backdrop",function(n){return n.stopPropagation(),!1});$(document).on("show.bs.tooltip",function(){$(".tooltip").not(this).hide()});$(document).on("click",".web-designer",function(){window.location.href=$(this).attr("href")});$(document).on("click",".view-schedule",function(){var n=$(this).attr("href");window.open(n,"_blank")});$(document).on("mousedown","#items .e-gridcontent .e-vscrollbar",function(){$("#item-viewer iframe").addClass("pointer-event");var n=navigator.userAgent.indexOf("Edge")!=-1;n&&$("#item-viewer iframe").addClass("display")});$(document).on("mouseup",function(){if($("#item-viewer iframe").hasClass("pointer-event")){$("#item-viewer iframe").removeClass("pointer-event");var n=navigator.userAgent.indexOf("Edge")!=-1;n&&$("#item-viewer iframe").removeClass("display")}});$(document).on("click",".blank-dashboard-link-box, #start-from-templates",function(){$("#CreateDashboard").trigger("click")});isAddCategoryDialogBinded=!1;isAddSampleDialogBinded=!1;$(function(){$("#report_popup").ejDialog({width:"760px",showOnInit:!1,allowDraggable:!1,enableResize:!1,title:window.Server.App.Localization.AddDashboard,enableModal:!0,showHeader:!1,open:"onDashboardDialogOpen"});var n=createLoader("report_popup_wrapper");$("#report_popup_wrapper").ejWaitingPopup({template:$("#"+n)})});$(document).on("click","#create_Category",function(){var i,t,r,n;document.getElementById("AddCategoryPopup").style.display="block";i='<span class="dialog-header-with-icon"><span class ="dialog-header-title"><i class="su su-folder dialog-header-icon"><\/i>&nbsp;&nbsp;'+window.Server.App.Localization.CreateCategory+"<\/span><\/span>";isAddCategoryDialogBinded?(n=document.getElementById("add-category-dialog").ej2_instances,n[0].header=i,n[0].show()):(t=document.createElement("div"),t.setAttribute("id","add-category-dialog"),r=document.getElementById("server-app-container"),r.appendChild(t),n=new ejs.popups.Dialog({showOnInit:!1,allowDraggable:!1,enableResize:!1,width:window.innerWidth>460?"600px":window.innerWidth-10,height:"auto",showHeader:!1,animationSettings:{effect:"Zoom"},isModal:!0,enableModal:!0,closeOnEscape:!0,header:i,showCloseIcon:!0,content:document.getElementById("AddCategoryPopup"),beforeClose:beforeCloseAddItemPopup,buttons:[{click:function(){addItemValidate()},buttonModel:{isPrimary:!0,cssClass:"app-btn-primary",content:window.Server.App.Localization.AddButton}},{click:function(){closeAddItemPopup()},buttonModel:{cssClass:"app-btn-secondary",content:window.Server.App.Localization.CancelButton}}]}),n.appendTo(t),isAddCategoryDialogBinded=!0);ejs.popups.createSpinner({target:document.getElementById("add-category-dialog")});ejs.popups.setSpinner({type:"Material"})});$(document).on("click",".add-sample-button",function(){var n;n=dashboardItemCount!=0?document.getElementById("dashboard-page-container"):document.getElementById("defafult-pages-container");openSampleDashboardDialog(n)});$(document).on("click",".explore",function(){var n=document.getElementById("server-app-container");openSampleDashboardDialog(n)});$(document).on("click",".dashboard-notification .su-close",function(){$(".dashboard-notification").remove()});isItemUpdateDialogBinded=!1