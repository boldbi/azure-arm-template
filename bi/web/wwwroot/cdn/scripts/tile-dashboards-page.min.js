/*!
*  filename: tile-dashboards-page.min.js
*  version : unknown version
*  Copyright Syncfusion Inc. 2001 - 2013. All rights reserved.
*  Use of this code is subject to the terms of our license.
*  A copy of the current license can be obtained at any time by e-mailing
*  licensing@syncfusion.com. Any infringement will be prosecuted under
*  applicable laws. 
*/
function intializeGetLinkDialog(){$.ajax({type:"Get",url:getLinkDialogViewUrl,success:function(n){$("body").append(n);$("#get_item_link").ejDialog({width:window.innerWidth>460?"450px":window.innerWidth-10,showOnInit:!1,allowDraggable:!1,enableResize:!1,height:"auto",title:window.Server.App.LocalizationContent.GetLink,showHeader:!1,enableModal:!0,closeOnEscape:!0,close:"onGetLinkDialogClose"});var t=createLoader("get_item_link_wrapper");$("#get_item_link_wrapper").ejWaitingPopup({template:$("#"+t)})}})}function GetLink(n){var t=n.ItemType,i,r;t==2?$(".dashboard-link").show():t==6?($(".file-link").show(),$("#compressed-link").prop("checked",!0)):t==8?$(".widget-link").show():$(".link").show();i=n.Name;r=n.Id;$("#get_item_link").ejDialog("open");$("#get_item_link").show();$("#get_item_link_wrapper").ejWaitingPopup("show");$(".get_link").show();n.IsPublic?($(".private-note").hide(),$(".public-note").show()):($(".private-note").show(),$(".public-note").hide());/Safari/.test(navigator.userAgent)&&/Apple Computer/.test(navigator.vendor)?($("#item-link-copy").removeClass("su su-copy"),$("#item-link-copy").hide(),$("#item-link").css({width:"100%",borderRadius:"4px"}),$("#item-link-copy").attr("data-original-title","")):$("#item-link-copy").tooltip({animation:!1});$(".report-name").html(i);$(".report-name").attr("title",i);$("#item-link").val(getDashboardShareLink(n.Id,n.CategoryName,n.Name));$("#item-link").select();$(".modal-footer .validation-area").css("display","block");$("#get_item_link_wrapper").ejWaitingPopup("hide")}function onGetLinkDialogClose(){$("#get_item_link").ejDialog("close")}function onGetLinkDialogOpen(){$("#get_item_link").ejDialog("open");$("#get_item_link").show();$("#get_item_link").focus();$("#item-link").select();$(".get_link").show();$("#item-link").val(itemUrl);/Safari/.test(navigator.userAgent)&&/Apple Computer/.test(navigator.vendor)&&($("#item-link-copy").removeClass("su su-copy"),$("#item-link-copy").hide(),$("#item-link-copy").attr("data-original-title",""))}function getDashboardShareLink(n,t,i){var r=baseUrl.split("/");return encodeURI(r[0]+"//"+r[2]+viewDashboardUrlAction+"/"+n+"/"+t+"/"+i)}function makePublic(n){$("#item_name").html(n.Name);var t=getDashboardShareLink(n.Id,n.CategoryName,n.Name);$("#make_item_public").ejDialog("open");$("#make_item_public_wrapper").ejWaitingPopup("show");$.ajax({type:"POST",url:makePublicUrl,data:{itemId:n.Id,itemTypeId:n.ItemType,itemName:n.Name},success:function(i){$("#make_item_public").html(i);$("#make_item_public_wrapper").ejWaitingPopup("hide");$("#make-public").attr("data-itemtype",n.ItemType);$("#make-public").attr("data-url",t)}})}function makePrivate(n){$("#item_name").html(n.Name);$("#remove_item_public").ejDialog("open");$("#remove_item_public_wrapper").ejWaitingPopup("show");$.ajax({type:"POST",url:removePublicUrl,data:{itemId:n.Id,itemTypeId:n.ItemType,itemName:n.Name},success:function(t){$("#remove_item_public").html(t);$("#remove_item_public_wrapper").ejWaitingPopup("hide");$("#remove-public").attr("data-itemtype",n.ItemType)}})}function onMakePublicDialogClose(){$("#make_item_public").ejDialog("close")}function onMakePublicDialogOpen(){load();$("#make_item_public").ejDialog("open");$("#make_item_public").focus()}function onRemovePublicDialogClose(){$("#remove_item_public").ejDialog("close")}function onRemovePublicDialogOpen(){load();$("#remove_item_public").ejDialog("open");$("#remove_item_public").focus()}function DeleteItem(n){$("#delete-item-name").html(n.Name);$("#delete-item").attr("data-item-id",n.Id);var t="";n.ItemType==ItemType.Datasource&&(t=$(this).attr("data-datasource-type"));$("#item-delete-confirmation").ejDialog("open");$("#item-delete-confirmation_wrapper").ejWaitingPopup("show");$.ajax({type:"POST",url:deleteConfirmationUrl,data:{itemId:n.Id,itemTypeId:n.ItemType,itemName:n.Name,datasourceType:t},success:function(n){$("#item-delete-confirmation").html(n);$("#item-delete-confirmation_wrapper").ejWaitingPopup("hide")}})}function onDeleteItemDialogClose(){$("#item-delete-confirmation").ejDialog("close")}function onDeleteItemDialogOpen(){$("#item-delete-confirmation").ejDialog("open");$("#item-delete-confirmation").focus()}function manageAccessCancelBtn(){$('[data-toggle="popover"]').popover("hide");resetToActualScope();enableAutomCompleteControl();enableAutocompleteAccessModeSelection()}function shareDashboardPermission(n,t){var i,u,r;currentItemDetail=n;currentDashboardDetail=t;i=angular.element("#share-permission-content-section").scope();i.currentItemType=n.ItemType;i.isAdmin=isAdmin;t!=null&&(i.isDashboardPublic=t.IsPublic);n.ItemType==ItemType.Category||n.ItemType==ItemType.Datasource?sharePermissionDlgObj.ejDialog({height:241}):n.ItemType==ItemType.Slideshow?sharePermissionDlgObj.ejDialog({height:356}):n.ItemType==ItemType.ItemView?sharePermissionDlgObj.ejDialog({height:418}):isMarkItemsPublic?n.IsMultiDashboard?n.IsPublic?sharePermissionDlgObj.ejDialog({height:407}):sharePermissionDlgObj.ejDialog({height:391}):n.IsPublic?sharePermissionDlgObj.ejDialog({height:434}):sharePermissionDlgObj.ejDialog({height:418}):n.IsMultiDashboard?sharePermissionDlgObj.ejDialog({height:335}):sharePermissionDlgObj.ejDialog({height:362});sharePermissionDlgHeaderItemName.text(n.Name);sharePermissionDlgObj.show();$("#share-permission-popup_wrapper, #user-group-search-input_suggestion").addClass("custom-bootstrap-styles");sharePermissionDlgObj.ejDialog("open");n.ItemType==ItemType.Dashboard||n.ItemType==ItemType.ItemView?n.CreatedById==currentUserId||isAdmin?(isMarkItemsPublic||n.ItemType==ItemType.ItemView?n.IsPublic?showPublicContent():showPrivateContent():showDashboardSettingContent(),addAttributeValueToBtnEle(n)):(hidePublicPrivateContent(),n.IsMultiDashboard?sharePermissionDlgObj.ejDialog({height:312}):sharePermissionDlgObj.ejDialog({height:339})):hidePublicPrivateContent();n.CreatedById==currentUserId||isAdmin?(showShareUserGroupPermissionSection(),getShareItemPermission(n.Id),addAttributeValueToBtnEle(n),addAttributeValueToAutoCompleteEle(n)):hideShareUserGroupPermissionSection();/Safari/.test(navigator.userAgent)&&/Apple Computer/.test(navigator.vendor)?($("#item-url-copy").hide(),$("#item-url").css({width:"100%",borderRadius:"4px"}),$("#item-url-copy").attr("data-original-title","")):$("#item-url-copy").tooltip({animation:!1});switch(n.ItemType){case ItemType.Dashboard:$("#item-url").val(getDashboardShareLink(n.Id,n.CategoryName,n.Name));break;case ItemType.ItemView:u=getDashboardShareLink(t.Id,t.CategoryName,t.Name);$("#item-url").val(u+"?viewid="+n.Id);break;case ItemType.Slideshow:r=baseUrl.split("/");$("#item-url").val(r[0]+"//"+r[2]+slideShowUrl+"/"+n.Id+"/"+n.Name);break;default:$("#item-url").val("")}}function onSharePermissionPopupOpen(){$('[data-toggle="popover"]').popover("hide");sharePermissionDlgWrapperObj.ejWaitingPopup("refresh");showSharePermissionContainer()}function onSharePermissionPopupClose(){currentItemDetail=[];$(".embed-configuration [type='checkbox']").removeAttr("checked");$('[data-toggle="popover"]').popover("hide");showSharePermissionContainer();sharePermissionDlgWrapperObj.ejWaitingPopup("refresh");sharePermissionDlgWrapperObj.ejWaitingPopup("hide");refreshDialogBoxPosition()}function showAccessModeContainer(){sharePermisisonDlgHeader.text(window.Server.App.LocalizationContent.SharePermissionAccessMode);accessModeContainer.show();accessModeChngBtnObj.show();accessModeCancelBtnObj.show();sharePermissionConatiner.hide();manageAccessButton.hide();shareBtnObj.hide();shareDoneBtnObj.hide();refreshDialogBoxPosition()}function showManageAccessContainer(){hidePublicPrivateContent();showSharedUserGroupContainer.hide();shareBtnObj.text(window.Server.App.LocalizationContent.AddPeopleBtn);sharePermisisonDlgHeader.text(window.Server.App.LocalizationContent.ManageAccess);dummyContainer.hide();autoCompleteInstance.getValue()==""&&shareBtnObj.hide();manageAccessBackButton.show();manageUserGroupContainer.show();manageAccessButton.hide();refreshUserGroupScroll();refreshDialogBoxPosition();generateProfileAvatar()}function hideManageAccessContainer(){manageUserGroupContainer.hide();manageAccessSaveBtnObj.hide();manageAccessCancelBtnObj.hide();embedCodeDoneBtnObj.hide();embedCodeBackButton.hide();embedCodeContainer.hide();changeIndicatorBannerObj.css("visibility","hidden");resetPreRequestValues()}function showSharePermissionContainer(){sharePermisisonDlgHeader.text(window.Server.App.LocalizationContent.SharePermissionDefault);dummyContainer.show();shareBtnObj.text(window.Server.App.LocalizationContent.SharePeopleBtn);enableAutocompleteAccessModeSelectionWithoutReset();refreshAutoComplete();sharePermissionConatiner.show();manageAccessButton.show();shareDoneBtnObj.show();manageAccessBackButton.hide();hideManageAccessContainer();accessModeContainer.hide();accessModeChngBtnObj.hide();accessModeCancelBtnObj.hide();displaySharedUserGroupInfo();currentItemDetail.ItemType==ItemType.Dashboard?typeof currentItemDetail.Extension=="undefined"||currentItemDetail.IsMultiDashboard||currentItemDetail.Extension.toLowerCase()!=".sydj"?getEmbedLinkSection.hide():getEmbedLinkSection.show():currentItemDetail.ItemType==ItemType.ItemView&&getEmbedLinkSection.show();embedCodeDoneBtnObj.hide();embedCodeBackButton.hide();sharePermissionDlgHeaderItemName.show();sharePermisisonDlgHeader.css("line-height","");refreshDialogBoxPosition()}function showSharePermissionContainerWithRefresh(){$('[data-toggle="popover"]').popover("hide");resetToActualScope();hideManageAccessContainer();enableAutocompleteAccessModeSelectionWithoutReset();sharePermisisonDlgHeader.text(window.Server.App.LocalizationContent.SharePermissionDefault);displaySharedUserGroupInfo();dummyContainer.show();shareBtnObj.text(window.Server.App.LocalizationContent.SharePeopleBtn);showPublicPrivateContent();sharePermissionConatiner.show();manageAccessButton.show();autoCompleteInstance.getValue()!=""?(shareBtnObj.show(),manageAccessCancelBtnObj.show(),shareDoneBtnObj.hide()):shareDoneBtnObj.show();manageAccessBackButton.hide();accessModeContainer.hide();accessModeChngBtnObj.hide();accessModeCancelBtnObj.hide();refreshDialogBoxPosition()}function showDashboardSettingContent(){sharePermissionPublicSectionObj.hide();sharePermissionPrivateSectionObj.hide();sharePermissionDashboardSettingSectionObj.show()}function showPublicContent(){sharePermissionPublicSectionObj.show();sharePermissionPrivateSectionObj.hide();isItemPublic=!0}function showPrivateContent(){sharePermissionPublicSectionObj.hide();sharePermissionPrivateSectionObj.show();isItemPublic=!1}function showPublicOrPrivateContent(){isItemPublic?showPublicContent():showPrivateContent()}function showShareUserGroupPermissionSection(){sharePermissionUserGroupSectionObj.show()}function hideShareUserGroupPermissionSection(){sharePermissionUserGroupSectionObj.hide()}function hidePublicPrivateContent(){sharePermissionPublicSectionObj.hide();sharePermissionPrivateSectionObj.hide();sharePermissionDashboardSettingSectionObj.hide()}function showPublicPrivateContent(){currentItemDetail.ItemType==ItemType.Dashboard||currentItemDetail.ItemType==ItemType.ItemView?currentItemDetail.CreatedById==currentUserId?isMarkItemsPublic||currentItemDetail.ItemType==ItemType.ItemView?isItemPublic?sharePermissionPublicSectionObj.show():sharePermissionPrivateSectionObj.show():sharePermissionDashboardSettingSectionObj.show():hidePublicPrivateContent():hidePublicPrivateContent()}function changeAccessMode(){manageAccessCancelBtn();sharePermissionDlgWrapperObj.ejWaitingPopup("show");showAccessModeContainer();isItemPublic?publicRadioBtnObj.prop("checked",!0):privateRadioBtnObj.prop("checked",!0);accessModeChngBtnObj.attr("disabled",!0);sharePermissionDlgWrapperObj.ejWaitingPopup("hide")}function getEmbedCode(){$("#embed-code").val(generateEmbedCode(currentItemDetail));embedCodeContainer.show();sharePermisisonDlgHeader.text(window.Server.App.LocalizationContent.EmbedCode);/Safari/.test(navigator.userAgent)&&/Apple Computer/.test(navigator.vendor)&&getEmbedCodeCopyBtnobj.hide();currentItemDetail.IsPublic?($(".private-embed-code-note").hide(),$(".public-embed-code-note").show()):($(".private-embed-code-note").show(),$(".public-embed-code-note").hide());embedCodeDoneBtnObj.show();embedCodeBackButton.show();manageAccessBackButton.hide();manageAccessSaveBtnObj.hide();manageAccessCancelBtnObj.hide();sharePermissionDlgHeaderItemName.hide();sharePermisisonDlgHeader.css("line-height","32px");sharePermissionConatiner.hide();manageAccessButton.hide();shareBtnObj.hide();shareDoneBtnObj.hide();refreshDialogBoxPosition()}function addAttributeValueToBtnEle(n){accessModeChngBtnObj.attr("data-item-id",n.Id);accessModeChngBtnObj.attr("data-name",n.Name);accessModeChngBtnObj.attr("data-itemtype",n.ItemType);shareBtnObj.attr("data-item-id",n.Id);shareBtnObj.attr("data-name",n.Name);shareBtnObj.attr("data-itemtype",n.ItemType)}function addAttributeValueToAutoCompleteEle(n){autoCompleteHiddenEle.attr("data-item-id",n.Id);autoCompleteHiddenEle.attr("data-itemtype",n.ItemType)}function getShareItemPermission(n){sharePermissionDlgWrapperObj.ejWaitingPopup("show");$.ajax({type:"get",url:getShareItemPermissionUrl,data:{itemId:n},contentType:"application/json; charset=utf-8",dataType:"json",success:function(n){if(n.status){var t=angular.element(manageUserGroupBodySection).scope();t.$apply(function(){angular.copy(n.SharedUserGroupList,sharedUserGroupsPreservedList);t.sharedUserGroups=n.SharedUserGroupList});t.$apply(function(){angular.copy(n.AccessModeOptionList,sharedAccessModePreservedList);t.accessModes=n.AccessModeOptionList});currentItemDetail.ItemType==ItemType.ItemView?$("#user-group-search-input_suggestion").removeClass("item-user-input_suggestion"):$("#user-group-search-input_suggestion").addClass("item-user-input_suggestion");$(".change-access-mode-selection").selectpicker("refresh");$(".change-access-mode-selection .selectpicker").removeAttr("title");accessModeSelectionInput.html("");accessModeSelectionInput.append(n.AccessModeList);accessModeSelectionInput.selectpicker("refresh");refreshUserGroupScroll();sharePermissionDlgWrapperObj.ejWaitingPopup("hide");displaySharedUserGroupInfo();isEntireDOMRendered=!0;$('[data-toggle="tooltip"]').tooltip();$('[data-toggle="popover"]').popover()}},error:function(){WarningAlert("",window.Server.App.LocalizationContent.InternalServerError,7e3);sharePermissionDlgWrapperObj.ejWaitingPopup("hide")}})}function displaySharedUserGroupInfo(){var r=angular.element(manageUserGroupBodySection).scope(),n=r.sharedUserGroups,t,i;n!=null&&(n.length>0?(t="",$.each(n,function(i,r){var u="<div class='shared-user-group-name'><span class='shared-user-group-name-label'>";i<3&&(u+=r.TargetUserId>0?r.DisplayName+"<\/span>":r.TargetGroupName+"<\/span>",u+=i!=n.length-1?"<span class='shared-user-group-name-comma'>,<\/span> <\/div>":"<\/div>",t+=u)}),showSharedUserGroupNameSection.html(t),manageUserGroupContainer.is(":visible")||showSharedUserGroupContainer.show()):showSharedUserGroupContainer.hide(),n.length>3?(i=n.length-3,showSharedUserGroupCount.text(i),showSharedUserGroupCountSection.show()):showSharedUserGroupCountSection.hide(),generateProfileAvatar())}function saveItemPermission(){sharePermissionDlgWrapperObj.ejWaitingPopup("show");splitUserGroupList();var t=userEmailList,i=groupIdList,r=accessModeSelectionInput.val(),n=shareBtnObj.attr("data-item-id"),u=shareBtnObj.attr("data-itemtype");$.ajax({type:"POST",url:sharepermissionUrl,data:{permissionList:JSON.stringify({mode:r,itemType:u,UserList:t,GroupList:i}),itemId:n},success:function(t){t.toString().toLowerCase()=="true"?(getShareItemPermission(n),refreshAutoComplete(),refreshAutocompleteAccessModeSelection()):WarningAlert("",window.Server.App.LocalizationContent.InternalServerError,7e3)},error:function(){WarningAlert("",window.Server.App.LocalizationContent.InternalServerError,7e3)}})}function updateBulkItemPermission(){var n=shareBtnObj.attr("data-item-id");$.ajax({type:"POST",url:updateBulkItemPermissionUrl,data:{permissionList:addNewItemPermission,userMarkedForDeletionList:userMarkedForDeletionList,groupMarkedForDeletionList:groupMarkedForDeletionList,itemId:n},success:function(t){t.toString().toLowerCase()=="true"?(getShareItemPermission(n),changeIndicatorBannerObj.css("visibility","hidden"),resetPreRequestValues(),manageAccessSaveBtnObj.hide(),manageAccessCancelBtnObj.hide(),shareDoneBtnObj.show(),enableAutomCompleteControl(),enableAutocompleteAccessModeSelection()):WarningAlert("",window.Server.App.LocalizationContent.InternalServerError,7e3)},error:function(){WarningAlert("",window.Server.App.LocalizationContent.InternalServerError,7e3)}})}function refreshDialogBoxPosition(){sharePermissionDlgObj.ejDialog({height:"auto"});isEntireDOMRendered&&(sharePermissionDlgObj.ejDialog({width:529}),sharePermissionDlgObj.ejDialog({width:530}));sharePermissionDlgWrapperObj.ejWaitingPopup("refresh");sharePermissionDlgObj.ejDialog("refresh");isWidget&&(sharePermissionDlgWrapperObj.ejWaitingPopup("hide"),sharePermisisonDlgHeader.text(window.Server.App.LocalizationContent.EmbedCode),sharePermisisonDlgHeader.css("line-height","32px"),sharePermissionDlgHeaderItemName.hide(),sharePermissionConatiner.hide(),embedCodeContainer.show(),embedConfiguration.hide(),manageAccessButton.hide())}function prepareRequestForAddItemPermission(){if(modifiedItemIndex.length>0){var t=angular.element(manageUserGroupBodySection).scope(),i=t.accessModes,n=t.sharedUserGroups,r=shareBtnObj.attr("data-itemtype");$.each(i,function(i,u){var o=u.Key,f=[],e=[];$.each(modifiedItemIndex,function(i,r){n[r].PermissionAccess!=sharedUserGroupsPreservedList[r].PermissionAccess&&n[r].PermissionAccess==u.Key&&(t.IsUserItem(r)?jQuery.inArray(n[r].Email,f)==-1&&f.push(n[r].Email):t.IsGroupItem(r)&&jQuery.inArray(n[r].TargetGroupId,e)==-1&&e.push(n[r].TargetGroupId))});(f.length>0||e.length>0)&&addNewItemPermission.push(JSON.stringify({mode:o,itemType:r,UserList:f,GroupList:e}))});$.each(modifiedItemIndex,function(i,r){n[r].PermissionAccess!=sharedUserGroupsPreservedList[r].PermissionAccess&&(t.IsUserItem(r)?jQuery.inArray(sharedUserGroupsPreservedList[r].PermissionId,userMarkedForDeletionList)==-1&&userMarkedForDeletionList.push(sharedUserGroupsPreservedList[r].PermissionId):t.IsGroupItem(r)&&jQuery.inArray(sharedUserGroupsPreservedList[r].PermissionId,groupMarkedForDeletionList)==-1&&groupMarkedForDeletionList.push(sharedUserGroupsPreservedList[r].PermissionId))})}}function resetPreRequestValues(){modifiedItemIndex=[];addNewItemPermission=[];userMarkedForDeletionList=[];groupMarkedForDeletionList=[]}function resetToActualScope(){var n=angular.element(manageUserGroupBodySection).scope();n.$apply(function(){angular.copy(sharedUserGroupsPreservedList,n.sharedUserGroups)});n.$apply(function(){angular.copy(sharedAccessModePreservedList,n.accessModes)});$(".change-access-mode-selection").selectpicker("refresh");$(".change-access-mode-selection .selectpicker").removeAttr("title");changeIndicatorBannerObj.css("visibility","hidden");resetPreRequestValues();$('[data-toggle="tooltip"]').tooltip();manageAccessSaveBtnObj.hide();manageAccessCancelBtnObj.hide();shareBtnObj.hide();shareDoneBtnObj.show()}function enableAutocompleteAccessModeSelectionWithoutReset(){autoCompleteControlEle.ejAutocomplete("enable");autoCompleteControlWrapperEle.find(".e-in-wrap.e-box.e-corner").removeClass("disable-autocomplete");accessModeSelectionInput.prop("disabled",!1);$(".selectpicker[data-id='access-mode-selection']").removeClass("disabled");$(".selectpicker[data-id='access-mode-selection']").removeClass("disable-autocomplete-access-mode-selection");accessModeSelectionInput.selectpicker("refresh")}function refreshAutocompleteAccessModeSelection(){accessModeSelectionInput.prop("selectedIndex",0);accessModeSelectionInput.selectpicker("refresh")}function enableAutocompleteAccessModeSelection(){accessModeSelectionInput.prop("disabled",!1);$(".selectpicker[data-id='access-mode-selection']").removeClass("disabled");$(".selectpicker[data-id='access-mode-selection']").removeClass("disable-autocomplete-access-mode-selection");refreshAutocompleteAccessModeSelection()}function disableAutocompleteAccessModeSelection(){accessModeSelectionInput.prop("disabled",!0);$(".selectpicker[data-id='access-mode-selection']").addClass("disabled");$(".selectpicker[data-id='access-mode-selection']").addClass("disable-autocomplete-access-mode-selection");refreshAutocompleteAccessModeSelection()}function onSuggestionListOpen(){manageUserGroupContainer.addClass("disable-element-opacity")}function onSuggestionListClose(){autoCompleteInstance.getValue()==""&&manageUserGroupContainer.removeClass("disable-element-opacity")}function refreshUserGroupScroll(){var n,t;manageUserGroupBodySection.is(":visible")&&($(".tooltip").tooltip("hide"),n=225,manageUserGroupBodySection.ejScroller({height:n,width:"100%",scrollerSize:7,buttonSize:0,enableTouchScroll:!0,scrollOneStepBy:20,scroll:function(){$(".tooltip").tooltip("hide");$('[data-toggle="popover"]').popover("hide")}}),t=manageUserGroupBodySection.ejScroller("instance"),t.model.height=n,t.refresh(),$(".manage-user-group-body-section .e-scrollbar").show())}function generateEmbedCode(n){var t="",i;return currentItemDetail.ItemType==ItemType.ItemView?t=getDashboardShareLink(currentDashboardDetail.Id,currentDashboardDetail.CategoryName,currentDashboardDetail.Name)+"?viewid="+currentItemDetail.Id+"&isembed=true":n.ItemType==ItemType.Widget?(isWidget=!0,i=angular.element("#share-permission-content-section").scope(),i.$apply(function(){i.isDashboardPublic=n.IsPublic;i.currentItemType=n.ItemType}),sharePermissionDlgObj.show(),sharePermissionDlgObj.ejDialog("open"),sharePermissionDlgWrapperObj.ejWaitingPopup("show"),t=getDashboardShareLink(n.Id,n.CategoryName,n.Name)+"?isembed=true&isWidgetMode=true&WidgetId="+n.widgetId):t=getDashboardShareLink(n.Id,n.CategoryName,n.Name)+"?isembed=true",t+=$("#embed-dashboard-comments").is(":checked")?"&dashboard_comments=true":"",t+=$("#embed-widget-comments").is(":checked")?"&widget_comments=true":"",t+=$("#embed-views").is(":checked")?"&views=true":"",t+=$("#embed-export").is(":checked")?"&export=true":"","<iframe src='"+t+"' id='dashboard-frame' width='100%' height='600px' allowfullscreen frameborder='0'><\/iframe>"}function MoveDashboardItem(n,t){$("#ItemAction").ejDialog("open");$("#ItemAction_wrapper").ejWaitingPopup("show");$.ajax({type:"POST",url:moveIframeUrl,data:{itemId:n.Id,itemAction:t},success:function(n){$("#ItemAction").html(n);$("#ItemAction_wrapper .e-dialog-scroller").attr("style","overflow:inherit; border:none");$("#ItemAction_wrapper").ejWaitingPopup("hide")}})}function CopyDashboardItem(n,t){var i=$(this).attr("data-itemId");$("#ItemAction").ejDialog("open");$("#ItemAction_wrapper").ejWaitingPopup("show");$.ajax({type:"POST",url:copyIframeUrl,data:{itemId:n.Id,itemAction:t},success:function(n){$("#ItemAction").html(n);$("#ItemAction_wrapper .e-dialog-scroller").attr("style","overflow:inherit;border:none");$("#ItemAction_wrapper").ejWaitingPopup("hide")}})}function EditDashboard(n){$("#edit-file-popup").ejDialog("open");ShowWaitingProgress("#edit-file-popup_wrapper","show");$("#edit-file-popup-iframe").attr("src",getdashboarddetailsUrl+"?itemId="+n)}function editFilePopup(n,t,i){$("#edit-file-popup").ejDialog("open");var r=$("#EditCategoryPopup_iframe").contents();r.find("#file_name").val(t);r.find("#file_description").val(i)}function OnEditFileDialogClose(){$("#edit-file-popup").find("iframe").contents().find("html").html("");$("#edit-file-popup").ejDialog("close")}function UpdateDashboardDataSource(n){$("#update-data-source-popup").ejDialog("open");ShowWaitingProgress("#update-data-source-popup_wrapper","show");$("#update-data-source-popup-iframe").attr("src",getDataSourceDetailsUrl+"?itemId="+n);$("#update-data-source-popup-iframe").attr("data-item-id",n);parent.window.IsUpdateDashboard=!0}function VersionHistory(n,t,i){var e=$("#grid").data("ejGrid"),o=$("#loggrid").data("ejGrid"),s=$("#version-window-container").data("ejDialog"),u,f,r;s!=null?$("#version-window-container").ejDialog("open"):$("#version-window-container").ejDialog({showOnInit:!0,allowDraggable:!0,enableResize:!1,width:"900px",title:"",showHeader:!1,enableModal:!0,close:"DialogBoxClose",closeOnEscape:!0});$(".modal-header .modal-title").html(t);$("#version-tab").parent("li").addClass("active");$("#item-log-tab").parent("li").removeClass("active");$("#item-version-container").removeClass("hidden").addClass("show");$("#item-log-container").removeClass("show").addClass("hidden");u=ej.DataManager({url:itemVersionUrl+"?ItemId="+n,adaptor:new ej.UrlAdaptor});e.dataSource(u);f=ej.DataManager({url:itemLogsUrl+"?ItemId="+n,adaptor:new ej.UrlAdaptor});o.dataSource(f);r=$("#grid").data("ejGrid");typeof i!="undefined"&&i?r.hideColumns("option"):r.showColumns("option")}function getDashboardViews(n,t){var u=$(t).find("ul"),r="";isAjaxRequested==!0&&($(".dashboard-views").addClass("views-loader"),isAjaxRequested=!1,$.ajax({type:"POST",url:getViewsByItemIdUrl,data:{itemId:n.Id},success:function(t){if(t!=null&&t.result!=null&&t.result.length>0)if(n.IsChildDashboard)for(i=0;i<t.result.length;i++)r+="<li><a class='view-name' href='"+dashboardsUrl+"/"+n.CategoryId+"/"+n.ParentCategoryName+"/"+n.CategoryName+"?tab="+n.Name+"&viewid="+t.result[i].ViewId+"' target='_blank' data-toggle='tooltip' data-placement='top' data-original-title='"+t.result[i].ViewName+"' data-itemid='"+t.result[i].ItemId+"'>"+t.result[i].ViewName+"<\/a><\/li>";else for(i=0;i<t.result.length;i++)r+="<li><a class='view-name' href='"+dashboardsUrl+"/"+n.Id+"/"+t.result[i].CategoryName+"/"+t.result[i].ItemName+"?viewid="+t.result[i].ViewId+"' target='_blank' data-toggle='tooltip' data-placement='top' data-original-title='"+t.result[i].ViewName+"' data-itemid='"+t.result[i].ItemId+"'>"+t.result[i].ViewName+"<\/a><\/li>";else r="<li><span class='view-name' href='javascript:void(0);'><span>"+window.Server.App.LocalizationContent.NoViews+"<\/span><\/span><\/li>";u.html(r);$(".dashboard-views").removeClass("views-loader");$(".dashboard-views").addClass("no-loader");$('[data-toggle="tooltip"]').tooltip()}}).always(function(){isAjaxRequested=!0}))}function openNewCategoryPopup(){$("#AddCategoryPopup").ejDialog("open")}function openNewDashboardPopup(){$("#report_popup").ejDialog("open");$("#report_popup_wrapper").ejWaitingPopup("show")}function onDashboardDialogOpen(){$("#report_iframe").attr("src",addDashboardIframeUrl)}function onDashboardDialogClose(){$("#report_popup").find("iframe").contents().find("html").html("");window.IsAddDashboard=!1;window.CategoryName=""}function ScheduleDashboard(n){ItemId=n.Id;ItemName=n.Name;CategoryName=n.CategoryName;CategoryId=n.CategoryId;ScheduleId="";MultiDashboardName=n.IsMultiDashboard?n.CategoryName:"";$("#popup-container").ejDialog("open")}function onSchedulerDialogClose(){$("#popup-container").find("iframe").contents().find("html").html("")}function onSchedulerDialogOpen(){$("#scheduler-popup-iframe").attr("src",schedulerIframeUrl+"?itemName="+ItemName+"&&itemId="+ItemId+"&&categoryName="+CategoryName+"&&categoryId="+CategoryId+"&&scheduleId="+ScheduleId+"&&multiDashboardName="+MultiDashboardName+"&&actionType=Create");$("#popup-container_wrapper").ejWaitingPopup("show")}function createSchedule(n,t,i,r){t!=""?$(".schedule-popup-title").html(" "+t+" - "+window.Server.App.LocalizationContent.Schedule):$(".schedule-popup-title").html(" "+t+" "+window.Server.App.LocalizationContent.Schedule);$(".schedule-popup-title").attr("title",t);parent.$("#popup-container_wrapper").ejWaitingPopup("hide");reportItemId=n;reportItemName=t;reportCategoryName=i;multiDashboardName=r;childId=n;$("#selected_dashboard").change()}function scheduleNameCheck(n,t){$("#schedule-name-error-container").css("display","none");$("span.loader-gif").remove();$("#schedule-name-error-container").parent().append($("<span class='col-sm-4 no-padding loader-gif'><div class='loader-blue loader-icon' id='schedule-name-validation-loader-icon'><svg class='circular'><circle class='path' cx='27' cy='27' r='13' fill='none' stroke-width='4' stroke-miterlimit='10'><\/circle><\/svg><\/div><\/span>"));$.ajax({type:"POST",url:checkScheduleNameExistUrl,data:{scheduleId:n,scheduleName:t},success:function(n){n.Result?($("span.loader-gif").remove(),$("#schedule-name").closest("div").addClass("has-error"),$("#schedule-name-error-container").css("display","block"),$("#schedule-name-validator").html(window.Server.App.LocalizationContent.IsScheduleExist)):($("#schedule-name").closest("div").removeClass("has-error"),$("span.loader-gif").remove(),$("#schedule-name-error-container").css("display","none"))}})}function addTitleForCategory(){var n,t;for($("#selected_category").selectpicker("refresh"),n=0;n<$(".category-dropdown  .btn-group .dropdown-menu .selectpicker li").length;n++)t=$(".category-dropdown .btn-group .dropdown-menu .selectpicker li").eq(n).find("a .text").text(),$(".category-dropdown .btn-group .dropdown-menu .selectpicker li ").eq(n).find("a").attr("title",t)}function addTitleForDashboard(){var n,t;for($("#selected_dashboard").selectpicker("refresh"),n=0;n<$(".dashboard-dropdown  .btn-group .dropdown-menu .selectpicker li").length;n++)t=$(".dashboard-dropdown .btn-group .dropdown-menu .selectpicker li").eq(n).find("a .text").text(),$(".dashboard-dropdown .btn-group .dropdown-menu .selectpicker li ").eq(n).find("a").attr("title",t)}function addTitleForChildDashboards(){var n,t;for($("#selected_childdashboard").selectpicker("refresh"),n=0;n<$(".childdashboard-dropdown  .btn-group .dropdown-menu .selectpicker li").length;n++)t=$(".childdashboard-dropdown .btn-group .dropdown-menu .selectpicker li").eq(n).find("a .text").text(),$(".childdashboard-dropdown .btn-group .dropdown-menu .selectpicker li ").eq(n).find("a").attr("title",t)}function validateSchedule(n){var e=$("#start-date").data("ejDateTimePicker"),t=$("#schedule-name").val(),f;if($("#schedule-name-error-container").css("display")=="block"||$("body .loader-gif").length||$("#selected_category option:selected").val()==""||$("#selected_dashboard option:selected").val()==""||!t)return $("#selected_category option:selected").val()==""&&$("#category-message").css("display","block"),$("#selected_dashboard option:selected").val()==""&&$("#dashboard-message").css("display","block"),t||($("#schedule-name-error-container").css("display","block"),$("#schedule-name-validator").html(window.Server.App.LocalizationContent.ScheduleValidator)),!1;if(!parent.IsValidName("name",t))return $("#schedule-name-error-container").css("display","block"),$("#schedule-name-validator").html(window.Server.App.LocalizationContent.AvoidSpecialCharactors),!1;if($(n).hasClass("subscribe-body")){switch($("#recurrence-type").val().toString().toLowerCase()){case"weekly":if($('#days-check-box input[type="checkbox"]').is(":checked"))$("#weekly-day-error-container").css("display","none");else return $("#weekly-day-error-container").css("display","block"),$("#weekly-days-validator").html(window.Server.App.LocalizationContent.WeekDaysValidator),!1;break;case"yearly":var o=$("#yearly-month").val().toString(),i=parseInt($("#yearly-day").val()),r=$("#yearly-day").data("ejNumericTextbox");switch(o.toLowerCase()){case"february":i>28&&r.option("value",28);break;case"april":case"june":case"september":case"november":i>30&&r.option("value",30);break;case"january":case"march":case"may":case"july":case"august":case"october":case"december":i>31&&r.option("value",31)}break;case"hourly":if($(".time-width").val()=="")return $(".frequency-error").css("display","inline"),$(".time-width").parent("span").addClass("validation-error"),!1;var s=$(".time-width").val(),u=s.split(":"),h=u[0]*60+u[1];if(h>3)$(".frequency-error").css("display","none"),$(".time-width").parent("span").removeClass("validation-error");else return $(".frequency-error").css("display","inline"),$(".time-width").parent("span").addClass("validation-error"),!1}if(!e.model.dateTimeFormat=="M/d/yyyy h:mm tt")return $("#start-date-error-container").css("display","block"),$("#start-date-validator").html(window.Server.App.LocalizationContent.ScheduleValidator),!1;$("#start-date-error-container").css("display","none");switch($("input[name=end-type]:checked","#schedule-end-type").val().toLowerCase()){case"endby":if(f=$("#end-date").data("ejDateTimePicker"),!f.model.dateTimeFormat=="M/d/yyyy h:mm tt")return $("#end-date-error-container").css("display","block"),$("#end-date-validator").html(window.Server.App.LocalizationContent.ScheduleValidator),!1;$("#end-date-error-container").css("display","none")}return!0}return!0}function closePopupContainer(){parent.$("#popup-container").ejDialog("close");parent.$("#editpopup-container").ejDialog("close")}function validateSchedule(){var n=$("#schedule-name").val();return $("#schedule-name-error-container").css("display")=="block"||$("body .loader-gif").length||$("#selected_category option:selected").val()==""||$("#selected_dashboard option:selected").val()==""||!n?($("#selected_category option:selected").val()==""&&$("#category-message").css("display","block"),$("#selected_dashboard option:selected").val()==""&&$("#dashboard-message").css("display","block"),n||($("#schedule-name-error-container").css("display","block"),$("#schedule-name-validator").html(window.Server.App.LocalizationContent.ScheduleValidator)),!1):parent.IsValidName("name",n)?!0:($("#schedule-name-error-container").css("display","block"),$("#schedule-name-validator").html(window.Server.App.LocalizationContent.AvoidSpecialCharactors),!1)}function enableTimeIntervalOption(){$(".schedule-popup-body").css("display","none");$("#windowCaption").html(window.Server.App.LocalizationContent.RecurrenceIntervalValidator);$(".schedule-dialog .modal-body #time-intervals-div").css("display","inline");$(".schedule-dialog #data-changes-div-container,.schedule-dialog #data-changes-container,.schedule-dialog #email-editor-panel").css("display","none");$(".subscribe-popup-body").css("display","none");$("#next-container").css("display","block");$("#submit-container").css("display","none");$("#dataAlert").css("display","none");$("#schedule-next").hasClass("time-interval-body")&&$("#schedule-next").removeClass("time-interval-body");$("#schedule-next").addClass("subscribe-body");$("#schedule-back").css("display","inline");className="time-intervals-div";$(".schedule-dialog").find("#time-intervals-div").length<=0&&partialPost(url,className)}function enableDataNotificationOption(){$("#windowCaption").html(window.Server.App.LocalizationContent.DataAlertValidator);$(".schedule-popup-body,#email-editor-panel").css("display","none");$(".schedule-dialog #data-changes-div-container,.schedule-dialog #data-changes-container").css("display","inline");$("#data-changes-container_wrapper,#data-changes-container,#data-changes-div-container").css("display","inline");$("#time-intervals-div").css("display","none");$(".subscribe-popup-body").css("display","none");$("#next-container").css("display","block");$("#submit-container").css("display","none");$("#dataAlert").css("display","block");$("#schedule-next").hasClass("subscribe-body")&&$("#schedule-next").removeClass("subscribe-body");$("#schedule-next").addClass("time-interval-body");$("#schedule-back").css("display","inline");className="data-changes-container";$(".schedule-dialog").find("#dataAlert").length<=0&&partialPostDataChanges(url,className)}function enableSubscribeOption(){$("#windowCaption").html(window.Server.App.LocalizationContent.ExportFormatValidator);$(".schedule-popup-body").css("display","none");$(".schedule-dialog .modal-body #email-editor-panel,.schedule-dialog .modal-body #time-intervals-div").css("display","none");$(".schedule-dialog #data-changes-div-container,.schedule-dialog #data-changes-container").css("display","none");$(".subscribe-popup-body").fadeIn();$("#next-container").css("display","none");$("#submit-container").css("display","block");$("#schedule-back").css("display","inline");$("#dataAlert").css("display","none");className="subscribers-panel";$(".schedule-dialog").find("#subscribers-panel").length<=0&&partialPost(url,className)}function enableScheduleOption(){$("#windowCaption").html(window.Server.App.LocalizationContent.TimeBaseSchedule);$(".subscribe-popup-body, #next-container, #submit-container,#time-intervals-div,#data-changes-container, #email-editor-panel").css("display","none");$(".schedule-popup-body").fadeIn();$("#next-container").css("display","block");$("#schedule-back").css("display","none");$("#dataAlert").css("display","none");($("#schedule-next").hasClass("subscribe-body")||$("#schedule-next").hasClass("time-interval-body")||$("#schedule-next").hasClass("email-editor-body"))&&($("#schedule-next").removeClass("subscribe-body"),$("#schedule-next").removeClass("time-interval-body"),$("#schedule-next").removeClass("email-editor-body"))}function enableEmailEditor(){var t,n;if(alertChange!=alertChangeValue&&(alertChangeValue=alertChange,$(".schedule-dialog #email-editor-panel").remove()),alertChange==1?$("#windowCaption").html(window.Server.App.LocalizationContent.ScheduleMessage):$("#windowCaption").html(window.Server.App.LocalizationContent.AlertMessageValidator),$(".schedule-popup-body").css("display","none"),$(".schedule-dialog .modal-body #time-intervals-div,.schedule-dialog .modal-body #subscribers-panel").css("display","none"),$(".schedule-dialog #data-changes-div-container,.schedule-dialog #data-changes-container").css("display","none"),$("#email-editor-panel").css("opacity","1"),$("#email-editor-panel").fadeIn(),$("#next-container").css("display","block"),$("#submit-container").css("display","none"),$("#dataAlert").css("display","none"),($("#schedule-next").hasClass("subscribe-body")||$("#schedule-next").hasClass("time-interval-body"))&&($("#schedule-next").removeClass("subscribe-body"),$("#schedule-next").removeClass("time-interval-body"),$("#schedule-next").addClass("email-editor-body")),$("#schedule-back").css("display","inline"),className="email-editor-panel",$(".schedule-dialog").find("#email-editor-panel").length<=0)partialPost(url,className);else if(alertChange==2){for(t="",n=0;n<filterContent.Filters.length;n++)t+="<option data-id='"+filterContent.Filters[n].FilterName+"'>"+filterContent.Filters[n].DisplayText+"<\/option>";$("#widget-items").html(t).selectpicker("refresh");parent.$("#popup-container_wrapper").ejWaitingPopup("hide")}}function partialPost(n,t){$(".schedule-dialog").hasClass(t)||(parent.$("#popup-container_wrapper").ejWaitingPopup("show"),parent.$("#editpopup-container_wrapper").ejWaitingPopup("show"),$.ajax({type:"POST",url:n,data:{},cache:!1,dataType:"html",success:function(n){$(".modal-body").append(n)}}))}function partialPostDataChanges(n,t){$(".schedule-dialog").hasClass(t)||(parent.$("#popup-container_wrapper").ejWaitingPopup("show"),parent.$("#editpopup-container_wrapper").ejWaitingPopup("show"),$.ajax({type:"POST",url:n,data:{itemId:createdItemId},success:function(n){$("#popup-container").append(n);dataAlertInitailization()}}))}function refreshScheduleGridItem(n){for(var i=$("#scheduleGrid").data("ejGrid"),t=0;t<i.model.currentViewData.length;t++)i.model.currentViewData[t].Id==n&&$("span span[data-scheduleid ="+n+"]").removeClass("loader-gif").addClass("su-play-folder")}function editSchedule(n,t,i,r,u,f){var e,t;u==null||u=="undefined"||u==""?(reportItemId="",reportCategoryName=r,multidashboardName="",t=""):(reportItemId="",reportCategoryName=r,multiDashboardName=u,childId=t);isScheduledDashboardDeleted=f;i!=""?$(".schedule-popup-title").html(" "+i+" - "+window.Server.App.LocalizationContent.Schedule):$(".schedule-popup-title").html(" "+i+" "+window.Server.App.LocalizationContent.Schedule);$(".schedule-popup-title").attr("title",i);scheduleId=n;reportItemName=i;e=[];e.push({PropertyName:"CategoryName",FilterType:"equals",FilterKey:reportCategoryName});var o=undefined,s="";$.ajax({type:"POST",url:getScheduleInfoUrl,data:{scheduleId:n},success:function(n){parent.$("#editpopup-container_wrapper").ejWaitingPopup("hide");item=n.ScheduleItem;condition=n.Condition;itemConditionArray=JSON.parse(condition);recurrence=item.RecurrenceType;endType=item.EndType;endDate=item.EndDateString;endAfter=item.EndAfter;startDate=item.StartDateString;createdItemId=item.ItemId;itemRecurrence=item.Recurrence;recurrence.toLowerCase()=="hourly"&&(frequency=item.Recurrence.HourlySchedule.MinutesInterval);exportType=item.ExportType;subscriberExternalRecipient=n.SubscribedExternalRecipient;subscriberGroup=n.SubscribedGroup;subscriberUser=n.SubscribedUser;itemConditionCategory=item.ConditionCategory;itemWidgetName=item.ItemName;emailContent=item.EmailContent;buttonValue=$("#add-alert-rule").val();scheduleRecurrenceInfo=item.Recurrence;$("#selected-items[value='"+item.ItemName+"']").attr("selected",!0);item.IsDataChanges==!0?($("#data-alerts").prop("checked","checked"),alertChange=2):($("#data-changes-div,#time-intervals-div").css("display","none"),alertChange=1);$("#schedule-name").val(item.Name);item.IsEnabled||$("#enable-schedule").prop("checked","");hideDataAlert(!item.IsDataChanges)}});u!=""&&($.ajax({type:"POST",url:getDashboardUrl,async:!1,data:{searchKey:o,skip:0,take:20,sorted:o,filterCollection:e,displayCategory:"SpecificCategory"},success:function(n){for(var i=n.result,t=0;t<i.length;t++)i[t].Name.toLowerCase()==u.toLowerCase()&&(s+='<option value="'+i[t].Id+'" selected=selected>'+i[t].Name+"<\/option>");$("#selected_dashboard").html("");$("#selected_dashboard").html(s).selectpicker("refresh")}}),$("#selected_childdashboard").attr("disabled",!1));t=$("#selected_dashboard").find("option:selected").val();$.ajax({type:"POST",url:getChildDashboardUrl,data:{parentId:t},async:!1,success:function(n){childDashboards=n.result;childDashboards!=null&&$("#selected_childdashboard").attr("disabled",!1)}})}function refreshConditionCategory(){var n,t;for($(".condition-category-changes").find("select").html(""),$(".condition-category-changes").find("select").append('<option value="5" data-title="'+window.Server.App.LocalizationContent.ValueChange+'" name="ValueChanges" selected="selected">'+window.Server.App.LocalizationContent.ValueChangeOption+'<\/option><option value="1" data-title="'+window.Server.App.LocalizationContent.Increases+'" name="Increases">'+window.Server.App.LocalizationContent.IncreasesOption+'<\/option><option value="2" data-title="'+window.Server.App.LocalizationContent.ContinousIncreases+'" name="ContinousIncreases">'+window.Server.App.LocalizationContent.ContinousIncreasesOption+'<\/option><option value="3" data-title="'+window.Server.App.LocalizationContent.Decreases+'" name="Decreases">'+window.Server.App.LocalizationContent.DecreasesOption+'<\/option><option value="4" data-title="'+window.Server.App.LocalizationContent.ContinousDecreases+'" name="ContinousDecreases">'+window.Server.App.LocalizationContent.ContinousDecreasesOption+"<\/option>").selectpicker("refresh"),$("#selected-option").selectpicker("refresh"),n=0;n<$(".condition-category-changes select option").length;n++)t=$(".condition-category-changes select option").eq(n).attr("data-title"),$(".condition-category-changes .btn-group .dropdown-menu .selectpicker li ").eq(n).find("a").attr({title:t,"data-toggle":"tooltip","data-container":"body","data-placement":"right"});$(".condition-category-changes .btn-group .dropdown-menu .selectpicker li a").tooltip()}function addTitleForWidgets(){var n,t;for($("#selected-items").selectpicker("refresh"),n=0;n<$(".items-dropdown  .btn-group .dropdown-menu .selectpicker li").length;n++)t=$(".items-dropdown .btn-group .dropdown-menu .selectpicker li").eq(n).find("a .text").text(),$(".items-dropdown .btn-group .dropdown-menu .selectpicker li ").eq(n).find("a").attr("title",t)}function addTitleForUsersAndGroups(){var n,t;for($("#user-search").selectpicker("refresh"),n=0;n<$("#user-search-container .btn-group .dropdown-menu .selectpicker li").length;n++)t=$("#user-search-container .btn-group .dropdown-menu .selectpicker li").eq(n).find("a .text").text(),$("#user-search-container .btn-group .dropdown-menu .selectpicker li").eq(n).find("a").attr("title",t);for($("#group-search").selectpicker("refresh"),n=0;n<=$("#group-search-container .btn-group .dropdown-menu  li").length;n++)t=$("#group-search-container .btn-group .dropdown-menu  li").eq(n).find("a .text").text(),$("#group-search-container .btn-group .dropdown-menu li ").eq(n).find("a").attr("title",t)}function addTitleForRecurrenceType(){var n,t;for($("#recurrence-type").selectpicker("refresh"),$("#recurrence-type-container").find(".dropdown-menu").addClass("dropdown-height"),n=0;n<$("#recurrence-type-container .btn-group .dropdown-menu .selectpicker li").length;n++)t=$("#recurrence-type-container .btn-group .dropdown-menu .selectpicker li").eq(n).find("a .text").text(),$("#recurrence-type-container .btn-group .dropdown-menu .selectpicker li ").eq(n).find("a").attr("title",t);for($("#monthly-dow-week").selectpicker("refresh"),n=0;n<$("#monthly-dow-week-container .btn-group .dropdown-menu .selectpicker li").length;n++)t=$("#monthly-dow-week-container .btn-group .dropdown-menu .selectpicker li").eq(n).find("a .text").text(),$("#monthly-dow-week-container .btn-group .dropdown-menu .selectpicker li ").eq(n).find("a").attr("title",t);for($("#monthly-dow-day").selectpicker("refresh"),$("#monthly-dow-day-container").find(".dropdown-menu").addClass("day-dropdown-width"),n=0;n<$("#monthly-dow-day-container .btn-group .dropdown-menu .selectpicker li").length;n++)t=$("#monthly-dow-day-container .btn-group .dropdown-menu .selectpicker li").eq(n).find("a .text").text(),$("#monthly-dow-day-container .btn-group .dropdown-menu .selectpicker li ").eq(n).find("a").attr("title",t);for($("#yearly-dow-week").selectpicker("refresh"),n=0;n<$("#yearly-dow-week-container .btn-group .dropdown-menu .selectpicker li").length;n++)t=$("#yearly-dow-week-container .btn-group .dropdown-menu .selectpicker li").eq(n).find("a .text").text(),$("yearly-dow-week-container .btn-group .dropdown-menu .selectpicker li ").eq(n).find("a").attr("title",t);for($("#yearly-dow-day").selectpicker("refresh"),$("#yearly-dow-day-container").find(".dropdown-menu").addClass("day-dropdown-width"),n=0;n<$("#yearly-dow-day-container .btn-group .dropdown-menu .selectpicker li").length;n++)t=$("#yearly-dow-day-container .btn-group .dropdown-menu .selectpicker li").eq(n).find("a .text").text(),$("#yearly-dow-day-container .btn-group .dropdown-menu .selectpicker li ").eq(n).find("a").attr("title",t);for($("#yearly-dow-month").selectpicker("refresh"),$("#yearly-dow-month-ccontainer").find(".dropdown-menu").addClass("day-dropdown-width"),n=0;n<$("#yearly-dow-month-ccontainer .btn-group .dropdown-menu .selectpicker li").length;n++)t=$("#yearly-dow-month-ccontainer .btn-group .dropdown-menu .selectpicker li").eq(n).find("a .text").text(),$("#yearly-dow-month-ccontainer .btn-group .dropdown-menu .selectpicker li ").eq(n).find("a").attr("title",t);for($("#yearly-month").selectpicker("refresh"),$("#yearly-month").next("div").find(".dropdown-menu").addClass("day-dropdown-width"),n=0;n<$("#yearly-schedule-option .btn-group .dropdown-menu .selectpicker li").length;n++)t=$("#yearly-schedule-option .btn-group .dropdown-menu .selectpicker li").eq(n).find("a .text").text(),$("#yearly-schedule-option .btn-group .dropdown-menu .selectpicker li ").eq(n).find("a").attr("title",t)}function hideDataAlert(n){var t=$("#data-alerts"),i=$(".data-alerts-disabled");n?(t.prop("checked","").prop("disabled","disabled"),i.css("display","block")):(t.prop("disabled",""),i.css("display","none"))}function afterEvaluateDataAlert(n){parent.$("#popup-container_wrapper").ejWaitingPopup("show");filterContent=n;n.IsValidModel?(url=emailEditor,enableEmailEditor()):(parent.$("#popup-container_wrapper").ejWaitingPopup("hide"),parent.$("#editpopup-container_wrapper").ejWaitingPopup("hide"))}function onActionBegin(n){n.eventType=="beforeOpenDaExpressionWindow"&&(isCustomExpressionOpened=!0,$("#windowCaption").html(window.Server.App.LocalizationContent.CustomExpressionValidator),$(".schedule-popup-title").html(" "+window.Server.App.LocalizationContent.Schedule+" - "+window.Server.App.LocalizationContent.CustomExpression),$("#schedule-next, #schedule-next-cancel").hide());n.eventType=="beforeOpenDaRelativeDateDialog"&&($("#schedule-back").prop("disabled",!0),$("#schedule-next").prop("disabled",!0),$("#schedule-next-cancel").prop("disabled",!0))}function onActionComplete(n){n.eventType=="afterCloseDaRelativeDateDialog"&&($("#schedule-back").prop("disabled",!1),$("#schedule-next").prop("disabled",!1),$("#schedule-next-cancel").prop("disabled",!1));parent.$("#popup-container_wrapper").ejWaitingPopup("hide");parent.$("#editpopup-container_wrapper").ejWaitingPopup("hide")}function dataAlertInitailization(){currentTimeFormat=currentTimeFormat.toLowerCase()=="true"?"HH:mm":"hh:mm tt";var n={serviceUrl:designerServiceUrl,dataServiceUrl:dataServiceUrlforDataAlert,serverUrl:dashboardServerUrl,mode:ej.dashboardDesigner.mode.dataalert,itemId:createdItemId,dashboardPath:createdItemId+"/"+version,serviceAuthorizationToken:designerToken,datasources:sharedDataSources,dataAlert:isNullOrWhitespace(item)?null:item.DaJsonString,canEditDashboard:canEdit,actionBegin:"onActionBegin",actionComplete:"onActionComplete",afterEvaluateDataAlert:"afterEvaluateDataAlert",renderDaExpression:"renderDaExpression",localeSettings:{culture:dataLanguage,dateFormat:currentDateFormat,timeFormat:currentTimeFormat},customBrandSettings:{hideHelpLink:isHideHelpLink,customDomain:customHelpLinkDomain,customBrandName:custombrandName}},t=new ejDashboardDesigner($("#dataAlert"),n);$("#dataAlert").css("height",$(".share-popup").innerHeight())}function onCloseCustomExpression(){var n=$("#dataAlert").data("ejDashboardDesigner");n.closeDataAlertExpression();$("#windowCaption").html(window.Server.App.LocalizationContent.DataAlertValidator);isNullOrWhitespace(itemName)?$(".schedule-popup-title").html(" "+$("#selected_dashboard").find("option:selected").html()+" - "+window.Server.App.LocalizationContent.Schedule):$(".schedule-popup-title").html(" "+itemName+" - "+window.Server.App.LocalizationContent.Schedule);$("#schedule-next, #schedule-next-cancel").show();isCustomExpressionOpened=!1}function toggleFavorite(n,t){n.IsFavorite=!n.IsFavorite;t({method:"post",url:favoriteItemUrl,data:$.param({itemId:n.Id,favoriteValue:n.IsFavorite})}).then(function(t){t.data.Success||(n.IsFavorite=!n.IsFavorite,WarningAlert(window.Server.App.LocalizationContent.MarkFavoriteError,window.Server.App.LocalizationContent.InternalServerError,7e3))},function(){WarningAlert(window.Server.App.LocalizationContent.MarkFavoriteError,window.Server.App.LocalizationContent.InternalServerError,7e3)})}function refreshCategoryScroll(){var i,n,t;$(".tooltip").tooltip("hide");i=($("#header-area").is(":visible")?$("#header-area").outerHeight():0)+($(".mobile-header").is(":visible")?$(".mobile-header").outerHeight():0);n=$(window).outerHeight()-(i+$(".category-bar-ul").outerHeight()+$(".category-search-area").outerHeight(!0));$("#parent-category-scroll-element").ejScroller({height:n,width:"100%",scrollerSize:7,buttonSize:0,enableTouchScroll:!0,autoHide:!0,scrollOneStepBy:30,scroll:function(){$(".tooltip").tooltip("hide")}});t=$("#parent-category-scroll-element").ejScroller("instance");t.model.height=n;t.refresh();$("#parent-category-scroll-element .e-scrollbar").show();refreshToolTip("category-list-tooltip")}function refreshDashboardScroll(){var n;$(".tooltip").tooltip("hide");var i=($("#header-area").is(":visible")?$("#header-area").outerHeight():0)+($(".mobile-header").is(":visible")?$(".mobile-header").outerHeight():18),t=$(window).outerHeight()-(i+$(".dashboard-action-container").outerHeight()+$(".dashboard-list-separator").outerHeight(!0)+$(".dashboard-list-header").outerHeight()),r=$(window).innerWidth()-((window.innerWidth<=1040?0:$("#menu-area").outerWidth())+($("#category-panel").is(":visible")?$("#category-panel").outerWidth():0)+31);$("#parent-dashboard-scroll-element").ejScroller({height:t,width:"100%",scrollerSize:7,buttonSize:0,enableTouchScroll:!0,autoHide:!0,scrollOneStepBy:40,scroll:"onDashboardScrolling"});n=$("#parent-dashboard-scroll-element").ejScroller("instance");n.model.height=t;n.model.width=r;n.refresh();$("#parent-dashboard-scroll-element .e-scrollbar").show()}function onDashboardScrolling(n){var i,t;$(".tooltip").tooltip("hide");i=$("#parent-dashboard-scroll-element").ejScroller("instance");i&&(scrollerPositon=n.scrollTop,document.querySelectorAll("#dashboard-scroll-content")[0].scrollHeight-(n.scrollTop+5)<=i.option("height")&&(t=angular.element("[ng-controller=DashboardCtrl]").scope(),t.totalDashboardCount>skipDashboardCount+defaultTakeDashboardCount&&!isVirtualRequested&&(t.isAppendLoading=!0,isVirtualRequested=!0,updateFilterParameter(undefined,skip=skipDashboardCount+defaultTakeDashboardCount,undefined,t.dashboardSearchQuery,undefined,undefined),t.refreshDashboardList(!0))))}function updateFilterParameter(n,t,i,r,u,f){t==undefined&&(t=defaultSkipDashboardCount);i==undefined&&(i=defaultTakeDashboardCount);r==undefined&&(r="");var e=angular.element("[ng-controller=DashboardCtrl]").scope();skipDashboardCount=t;e.filterParameter!=undefined?(n!=undefined&&(e.filterParameter.displayCategory=n),t!=undefined&&(e.filterParameter.skip=t),i!=undefined&&(e.filterParameter.take=i),r!=undefined&&(e.filterParameter.searchKey=r),u!=undefined&&(e.filterParameter.filterCollection=u),f!=undefined&&(e.filterParameter.sorted=f)):(e.filterParameter={displayCategory:n,requiresCounts:!0,skip:t,take:i,searchKey:r},e.filterParameter.filterCollection=u)}function ResetItemList(n){var t=angular.element("[ng-controller=DashboardCtrl]").scope();n==ItemType.Dashboard?t.refreshDashboardList():t.refreshCategoryList()}function RefreshCategorySection(n){var t=angular.element("[ng-controller=DashboardCtrl]").scope();t.refreshCategoryList(n)}function historyPush(){var i=angular.element("[ng-controller=DashboardCtrl]").scope(),n="",r,t,u,f;switch(i.filterParameter.displayCategory){case displayCategory.AllDashboards:n+="view=all";break;case displayCategory.FavouriteItems:n+="view=favorites";break;case displayCategory.PublicItems:n+="view=public";break;case displayCategory.OwnedByMe:n+="view=owned";break;case displayCategory.SharedWithMe:n+="view=shared";break;case displayCategory.DraftItems:n+="view=drafts"}r="";i.filterParameter.filterCollection!=undefined&&i.filterParameter.filterCollection!=0&&i.filterParameter.filterCollection[0].FilterKey!=undefined&&(r+="category="+i.filterParameter.filterCollection[0].FilterKey);t="";isNullOrWhitespace(r)?isNullOrWhitespace(n)||(t+="?"+n):(t+="?"+r,isNullOrWhitespace(n)||(t+="&"+n));isNullOrWhitespace(t)||(u=window.location.pathname+t,f=window.location.pathname+window.location.search,f!=u&&window.innerWidth>=1041&&history.pushState!=undefined&&u!=""&&history.pushState({},"",u))}function applyRouting(){var n=angular.element("[ng-controller=DashboardCtrl]").scope(),i,r,t,u;if(n.activeMenu=displayCategory.AllDashboards,n.activeMenuLabel=window.Server.App.LocalizationContent.AllDashboardInCategory,n.selectedFilter=displayCategory.AllDashboards,n.selectedFilterLabel=window.Server.App.LocalizationContent.All,i=decodeURI(getQueryVariable("view")),!isEmptyOrWhitespace(i)){switch(i.toLowerCase()){case"favorites":n.selectedFilter=displayCategory.FavouriteItems;n.selectedFilterLabel=window.Server.App.LocalizationContent.Favorites;break;case"public":n.selectedFilter=displayCategory.PublicItems;n.selectedFilterLabel=window.Server.App.LocalizationContent.Public;break;case"owned":n.selectedFilter=displayCategory.OwnedByMe;n.selectedFilterLabel=window.Server.App.LocalizationContent.OwnedByMe;break;case"shared":n.selectedFilter=displayCategory.SharedWithMe;n.selectedFilterLabel=window.Server.App.LocalizationContent.SharedWithMe;break;case"drafts":n.activeMenu=displayCategory.DraftItems;n.activeMenuLabel=window.Server.App.LocalizationContent.Drafts;n.selectedFilter=displayCategory.DraftItems;break;case"categories":n.expand=!0}updateFilterParameter(n.selectedFilter,undefined,undefined,n.dashboardSearchQuery,0)}r=decodeURI(getQueryVariable("category"));isEmptyOrWhitespace(r)||(n.expand=!0,n.categoryList!=undefined&&(t=n.categoryList.filter(function(n){return n.Name.toLowerCase()===r.toLowerCase()})[0],t!=undefined&&t.Id!=undefined&&t.Name!=undefined?(n.activeMenu=t.Id,n.activeMenuLabel=t.Name,n.categoryCreatedBy=t.CreatedByDisplayName,u=[{PropertyName:"CategoryName",FilterType:"equal",FilterKey:t.Name}],updateFilterParameter(n.selectedFilter,undefined,undefined,undefined,u)):updateFilterParameter(n.selectedFilter,undefined,undefined,undefined,0)))}function setCategorySection(n){var t=angular.element("[ng-controller=DashboardCtrl]").scope(),i=t.categoryList.filter(function(t){return t.Id==n})[0],r;i!=undefined&&(t.activeMenu=n,t.activeMenuLabel=i.Name,t.categoryCreatedBy=i.CreatedByDisplayName,r=[{PropertyName:"CategoryName",FilterType:"equal",FilterKey:i.Name}],updateFilterParameter(t.selectedFilter,undefined,undefined,undefined,r),t.refreshDashboardList(),t.refreshCategoryScroll())}function refreshCustomUI(){$("#dashboard-rendering-iframe, #dashboard-rendering").css("width",$("#content-area").width()-330)}function deleteCategory(n){$(this).parents(".dropdown").removeClass("open");$(this).parents(".dropdown").find(".dropdown-backdrop").remove();$("#delete-item-name").html(n.Name);$("#delete-item").attr("data-item-id",n.Id);$("#item-delete-confirmation").ejDialog("open");$("#item-delete-confirmation-wrapper").ejWaitingPopup("show");$.ajax({type:"POST",url:deleteConfirmationUrl,data:{itemId:n.Id,itemTypeId:n.ItemType,itemName:n.Name},async:!1,success:function(n){$("#item-delete-confirmation-wrapper").ejWaitingPopup("hide");$("#item-delete-confirmation").html(n)}})}function EditCategory(n,t,i){$("#EditCategoryPopup #category_name").val(t);$("#EditCategoryPopup #category_description").val(i);$("#EditCategoryPopup").ejDialog("open");window.isEdited=!1;window.editData={ItemId:n,Name:t,Description:i}}function result(){isSupported||(window.location=designerUrl)}function launchApplication(n){/edge/i.test(navigator.userAgent)?launchIE(n):/opr/i.test(navigator.userAgent)||"opera"in window?launchOpera(n):/chrome/i.test(navigator.appVersion)?launchChrome(n):/safari/i.test(navigator.userAgent)?launchSafari(n):/firefox/i.test(navigator.userAgent)?launchMozilla(n):/trident/i.test(navigator.userAgent)?launchIE(n):""}function launchIE(n){if(navigator.msLaunchUri)navigator.msLaunchUri(n,msLaunchUriSuccess,msLaunchNoHandler);else{var t=window.open("","","width=0,height=0");t.document.write("<iframe src='"+n+"><\/iframe>");setTimeout(function(){try{t.location.href;isSupported=!0}catch(n){}isSupported?t.setTimeout("window.close()",100):t.close();result()},100)}}function msLaunchUriSuccess(){isSupported=!0;result()}function msLaunchNoHandler(){isSupported=!1;result()}function launchMozilla(n){iFrame=$("#hiddeniframe")[0];isSupported=!1;try{iFrame.contentWindow.location.href=n;isSupported=!0;result()}catch(t){t.name=="NS_ERROR_UNKNOWN_PROTOCOL"&&(isSupported=!1,result())}}function launchChrome(n){var t=$("#applauncherinputhidden")[0];isSupported=!1;t.focus();console.log($($("#applauncherinputhidden")[0]).is(":focus"));t.onblur=function(){isSupported=!0};window.onblur=function(){isSupported=!0;console.log("blur")};location.href=n;setTimeout(function(){console.log($($("#applauncherinputhidden")[0]).is(":focus"));t.onblur=null;window.onblur=null;result()},2e3)}function launchSafari(n){isSupported=!1;var t=$("#hiddeniframe")[0];window.onblur=function(){isSupported=!0;console.log("blur")};t.contentWindow.location.href=n;setTimeout(function(){window.onblur=null;result()},4e3)}function launchOpera(n){var i=$("#hiddeniframe")[0],t=$("#applauncherinputhidden")[0];isSupported=!1;t.focus();t.onblur=function(){isSupported=!0};window.onblur=function(){isSupported=!0;console.log("blur")};i.contentWindow.location.href=n;setTimeout(function(){console.log($($("#applauncherinputhidden")[0]).is(":focus"));t.onblur=null;window.onblur=null;result()},2e3)}function closeUpdateDataSourcePopup(){parent.window.IsUpdateDashboard=!1;parent.$("#update-data-source-popup").ejDialog("close");parent.$("#update-data-source-popup-iframe").contents().find("html").text("")}function refreshSelectPicker(){$("select.update-datasource").selectpicker("refresh");parent.$("#update-data-source-popup-iframe").contents().find("#share-datasource").attr("disabled",!1);parent.$("#update-data-source-popup-iframe").contents().find(".input-value").removeClass("input-value");window.parent.ShowWaitingProgress("#update-data-source-popup_wrapper","hide")}function onCreateConnectionDialogClose(){$("#create-connection-popup").ejDialog("close")}var browser,isAjaxRequested,ScheduleId,ItemId,ItemName,CategoryName,MultiDashboardName,listCategories,isSupported,type;!function(n){"function"==typeof define&&define.amd?define(["jquery"],n):n(jQuery)}(function(n){n.extend(n.fn,{validate:function(t){if(!this.length)return void(t&&t.debug&&window.console&&console.warn("Nothing selected, can't validate, returning nothing."));var i=n.data(this[0],"validator");return i?i:(this.attr("novalidate","novalidate"),i=new n.validator(t,this[0]),n.data(this[0],"validator",i),i.settings.onsubmit&&(this.on("click.validate",":submit",function(t){i.settings.submitHandler&&(i.submitButton=t.target);n(this).hasClass("cancel")&&(i.cancelSubmit=!0);void 0!==n(this).attr("formnovalidate")&&(i.cancelSubmit=!0)}),this.on("submit.validate",function(t){function r(){var u,r;return i.settings.submitHandler?(i.submitButton&&(u=n("<input type='hidden'/>").attr("name",i.submitButton.name).val(n(i.submitButton).val()).appendTo(i.currentForm)),r=i.settings.submitHandler.call(i,i.currentForm,t),i.submitButton&&u.remove(),void 0!==r?r:!1):!0}return i.settings.debug&&t.preventDefault(),i.cancelSubmit?(i.cancelSubmit=!1,r()):i.form()?i.pendingRequest?(i.formSubmitted=!0,!1):r():(i.focusInvalid(),!1)})),i)},valid:function(){var t,i,r;return n(this[0]).is("form")?t=this.validate().form():(r=[],t=!0,i=n(this[0].form).validate(),this.each(function(){t=i.element(this)&&t;r=r.concat(i.errorList)}),i.errorList=r),t},rules:function(t,i){var e,s,f,u,o,h,r=this[0];if(t)switch(e=n.data(r.form,"validator").settings,s=e.rules,f=n.validator.staticRules(r),t){case"add":n.extend(f,n.validator.normalizeRule(i));delete f.messages;s[r.name]=f;i.messages&&(e.messages[r.name]=n.extend(e.messages[r.name],i.messages));break;case"remove":return i?(h={},n.each(i.split(/\s/),function(t,i){h[i]=f[i];delete f[i];"required"===i&&n(r).removeAttr("aria-required")}),h):(delete s[r.name],f)}return u=n.validator.normalizeRules(n.extend({},n.validator.classRules(r),n.validator.attributeRules(r),n.validator.dataRules(r),n.validator.staticRules(r)),r),u.required&&(o=u.required,delete u.required,u=n.extend({required:o},u),n(r).attr("aria-required","true")),u.remote&&(o=u.remote,delete u.remote,u=n.extend(u,{remote:o})),u}});n.extend(n.expr[":"],{blank:function(t){return!n.trim(""+n(t).val())},filled:function(t){return!!n.trim(""+n(t).val())},unchecked:function(t){return!n(t).prop("checked")}});n.validator=function(t,i){this.settings=n.extend(!0,{},n.validator.defaults,t);this.currentForm=i;this.init()};n.validator.format=function(t,i){return 1===arguments.length?function(){var i=n.makeArray(arguments);return i.unshift(t),n.validator.format.apply(this,i)}:(arguments.length>2&&i.constructor!==Array&&(i=n.makeArray(arguments).slice(1)),i.constructor!==Array&&(i=[i]),n.each(i,function(n,i){t=t.replace(new RegExp("\\{"+n+"\\}","g"),function(){return i})}),t)};n.extend(n.validator,{defaults:{messages:{},groups:{},rules:{},errorClass:"error",validClass:"valid",errorElement:"label",focusCleanup:!1,focusInvalid:!0,errorContainer:n([]),errorLabelContainer:n([]),onsubmit:!0,ignore:":hidden",ignoreTitle:!1,onfocusin:function(n){this.lastActive=n;this.settings.focusCleanup&&(this.settings.unhighlight&&this.settings.unhighlight.call(this,n,this.settings.errorClass,this.settings.validClass),this.hideThese(this.errorsFor(n)))},onfocusout:function(n){!this.checkable(n)&&(n.name in this.submitted||!this.optional(n))&&this.element(n)},onkeyup:function(t,i){9===i.which&&""===this.elementValue(t)||-1!==n.inArray(i.keyCode,[16,17,18,20,35,36,37,38,39,40,45,144,225])||(t.name in this.submitted||t===this.lastElement)&&this.element(t)},onclick:function(n){n.name in this.submitted?this.element(n):n.parentNode.name in this.submitted&&this.element(n.parentNode)},highlight:function(t,i,r){"radio"===t.type?this.findByName(t.name).addClass(i).removeClass(r):n(t).addClass(i).removeClass(r)},unhighlight:function(t,i,r){"radio"===t.type?this.findByName(t.name).removeClass(i).addClass(r):n(t).removeClass(i).addClass(r)}},setDefaults:function(t){n.extend(n.validator.defaults,t)},messages:{required:"This field is required.",remote:"Please fix this field.",email:"Please enter a valid email address.",url:"Please enter a valid URL.",date:"Please enter a valid date.",dateISO:"Please enter a valid date ( ISO ).",number:"Please enter a valid number.",digits:"Please enter only digits.",creditcard:"Please enter a valid credit card number.",equalTo:"Please enter the same value again.",maxlength:n.validator.format("Please enter no more than {0} characters."),minlength:n.validator.format("Please enter at least {0} characters."),rangelength:n.validator.format("Please enter a value between {0} and {1} characters long."),range:n.validator.format("Please enter a value between {0} and {1}."),max:n.validator.format("Please enter a value less than or equal to {0}."),min:n.validator.format("Please enter a value greater than or equal to {0}.")},autoCreateRanges:!1,prototype:{init:function(){function i(t){var r=n.data(this.form,"validator"),u="on"+t.type.replace(/^validate/,""),i=r.settings;i[u]&&!n(this).is(i.ignore)&&i[u].call(r,this,t)}this.labelContainer=n(this.settings.errorLabelContainer);this.errorContext=this.labelContainer.length&&this.labelContainer||n(this.currentForm);this.containers=n(this.settings.errorContainer).add(this.settings.errorLabelContainer);this.submitted={};this.valueCache={};this.pendingRequest=0;this.pending={};this.invalid={};this.reset();var t,r=this.groups={};n.each(this.settings.groups,function(t,i){"string"==typeof i&&(i=i.split(/\s/));n.each(i,function(n,i){r[i]=t})});t=this.settings.rules;n.each(t,function(i,r){t[i]=n.validator.normalizeRule(r)});n(this.currentForm).on("focusin.validate focusout.validate keyup.validate",":text, [type='password'], [type='file'], select, textarea, [type='number'], [type='search'], [type='tel'], [type='url'], [type='email'], [type='datetime'], [type='date'], [type='month'], [type='week'], [type='time'], [type='datetime-local'], [type='range'], [type='color'], [type='radio'], [type='checkbox']",i).on("click.validate","select, option, [type='radio'], [type='checkbox']",i);this.settings.invalidHandler&&n(this.currentForm).on("invalid-form.validate",this.settings.invalidHandler);n(this.currentForm).find("[required], [data-rule-required], .required").attr("aria-required","true")},form:function(){return this.checkForm(),n.extend(this.submitted,this.errorMap),this.invalid=n.extend({},this.errorMap),this.valid()||n(this.currentForm).triggerHandler("invalid-form",[this]),this.showErrors(),this.valid()},checkForm:function(){this.prepareForm();for(var n=0,t=this.currentElements=this.elements();t[n];n++)this.check(t[n]);return this.valid()},element:function(t){var u=this.clean(t),i=this.validationTargetFor(u),r=!0;return this.lastElement=i,void 0===i?delete this.invalid[u.name]:(this.prepareElement(i),this.currentElements=n(i),r=this.check(i)!==!1,r?delete this.invalid[i.name]:this.invalid[i.name]=!0),n(t).attr("aria-invalid",!r),this.numberOfInvalids()||(this.toHide=this.toHide.add(this.containers)),this.showErrors(),r},showErrors:function(t){if(t){n.extend(this.errorMap,t);this.errorList=[];for(var i in t)this.errorList.push({message:t[i],element:this.findByName(i)[0]});this.successList=n.grep(this.successList,function(n){return!(n.name in t)})}this.settings.showErrors?this.settings.showErrors.call(this,this.errorMap,this.errorList):this.defaultShowErrors()},resetForm:function(){n.fn.resetForm&&n(this.currentForm).resetForm();this.submitted={};this.lastElement=null;this.prepareForm();this.hideErrors();var t,i=this.elements().removeData("previousValue").removeAttr("aria-invalid");if(this.settings.unhighlight)for(t=0;i[t];t++)this.settings.unhighlight.call(this,i[t],this.settings.errorClass,"");else i.removeClass(this.settings.errorClass)},numberOfInvalids:function(){return this.objectLength(this.invalid)},objectLength:function(n){var i,t=0;for(i in n)t++;return t},hideErrors:function(){this.hideThese(this.toHide)},hideThese:function(n){n.not(this.containers).text("");this.addWrapper(n).hide()},valid:function(){return 0===this.size()},size:function(){return this.errorList.length},focusInvalid:function(){if(this.settings.focusInvalid)try{n(this.findLastActive()||this.errorList.length&&this.errorList[0].element||[]).filter(":visible").focus().trigger("focusin")}catch(t){}},findLastActive:function(){var t=this.lastActive;return t&&1===n.grep(this.errorList,function(n){return n.element.name===t.name}).length&&t},elements:function(){var t=this,i={};return n(this.currentForm).find("input, select, textarea").not(":submit, :reset, :image, :disabled").not(this.settings.ignore).filter(function(){return!this.name&&t.settings.debug&&window.console&&console.error("%o has no name assigned",this),this.name in i||!t.objectLength(n(this).rules())?!1:(i[this.name]=!0,!0)})},clean:function(t){return n(t)[0]},errors:function(){var t=this.settings.errorClass.split(" ").join(".");return n(this.settings.errorElement+"."+t,this.errorContext)},reset:function(){this.successList=[];this.errorList=[];this.errorMap={};this.toShow=n([]);this.toHide=n([]);this.currentElements=n([])},prepareForm:function(){this.reset();this.toHide=this.errors().add(this.containers)},prepareElement:function(n){this.reset();this.toHide=this.errorsFor(n)},elementValue:function(t){var i,u=n(t),r=t.type;return"radio"===r||"checkbox"===r?this.findByName(t.name).filter(":checked").val():"number"===r&&"undefined"!=typeof t.validity?t.validity.badInput?!1:u.val():(i=u.val(),"string"==typeof i?i.replace(/\r/g,""):i)},check:function(t){t=this.validationTargetFor(this.clean(t));var r,u,i,f=n(t).rules(),s=n.map(f,function(n,t){return t}).length,o=!1,h=this.elementValue(t);for(u in f){i={method:u,parameters:f[u]};try{if(r=n.validator.methods[u].call(this,h,t,i.parameters),"dependency-mismatch"===r&&1===s){o=!0;continue}if(o=!1,"pending"===r)return void(this.toHide=this.toHide.not(this.errorsFor(t)));if(!r)return this.formatAndAdd(t,i),!1}catch(e){throw this.settings.debug&&window.console&&console.log("Exception occurred when checking element "+t.id+", check the '"+i.method+"' method.",e),e instanceof TypeError&&(e.message+=".  Exception occurred when checking element "+t.id+", check the '"+i.method+"' method."),e;}}if(!o)return this.objectLength(f)&&this.successList.push(t),!0},customDataMessage:function(t,i){return n(t).data("msg"+i.charAt(0).toUpperCase()+i.substring(1).toLowerCase())||n(t).data("msg")},customMessage:function(n,t){var i=this.settings.messages[n];return i&&(i.constructor===String?i:i[t])},findDefined:function(){for(var n=0;n<arguments.length;n++)if(void 0!==arguments[n])return arguments[n];return void 0},defaultMessage:function(t,i){return this.findDefined(this.customMessage(t.name,i),this.customDataMessage(t,i),!this.settings.ignoreTitle&&t.title||void 0,n.validator.messages[i],"<strong>Warning: No message defined for "+t.name+"<\/strong>")},formatAndAdd:function(t,i){var r=this.defaultMessage(t,i.method),u=/\$?\{(\d+)\}/g;"function"==typeof r?r=r.call(this,i.parameters,t):u.test(r)&&(r=n.validator.format(r.replace(u,"{$1}"),i.parameters));this.errorList.push({message:r,element:t,method:i.method});this.errorMap[t.name]=r;this.submitted[t.name]=r},addWrapper:function(n){return this.settings.wrapper&&(n=n.add(n.parent(this.settings.wrapper))),n},defaultShowErrors:function(){for(var i,t,n=0;this.errorList[n];n++)t=this.errorList[n],this.settings.highlight&&this.settings.highlight.call(this,t.element,this.settings.errorClass,this.settings.validClass),this.showLabel(t.element,t.message);if(this.errorList.length&&(this.toShow=this.toShow.add(this.containers)),this.settings.success)for(n=0;this.successList[n];n++)this.showLabel(this.successList[n]);if(this.settings.unhighlight)for(n=0,i=this.validElements();i[n];n++)this.settings.unhighlight.call(this,i[n],this.settings.errorClass,this.settings.validClass);this.toHide=this.toHide.not(this.toShow);this.hideErrors();this.addWrapper(this.toShow).show()},validElements:function(){return this.currentElements.not(this.invalidElements())},invalidElements:function(){return n(this.errorList).map(function(){return this.element})},showLabel:function(t,i){var u,o,e,r=this.errorsFor(t),s=this.idOrName(t),f=n(t).attr("aria-describedby");r.length?(r.removeClass(this.settings.validClass).addClass(this.settings.errorClass),r.html(i)):(r=n("<"+this.settings.errorElement+">").attr("id",s+"-error").addClass(this.settings.errorClass).html(i||""),u=r,this.settings.wrapper&&(u=r.hide().show().wrap("<"+this.settings.wrapper+"/>").parent()),this.labelContainer.length?this.labelContainer.append(u):this.settings.errorPlacement?this.settings.errorPlacement(u,n(t)):u.insertAfter(t),r.is("label")?r.attr("for",s):0===r.parents("label[for='"+s+"']").length&&(e=r.attr("id").replace(/(:|\.|\[|\]|\$)/g,"\\$1"),f?f.match(new RegExp("\\b"+e+"\\b"))||(f+=" "+e):f=e,n(t).attr("aria-describedby",f),o=this.groups[t.name],o&&n.each(this.groups,function(t,i){i===o&&n("[name='"+t+"']",this.currentForm).attr("aria-describedby",r.attr("id"))})));!i&&this.settings.success&&(r.text(""),"string"==typeof this.settings.success?r.addClass(this.settings.success):this.settings.success(r,t));this.toShow=this.toShow.add(r)},errorsFor:function(t){var r=this.idOrName(t),u=n(t).attr("aria-describedby"),i="label[for='"+r+"'], label[for='"+r+"'] *";return u&&(i=i+", #"+u.replace(/\s+/g,", #")),this.errors().filter(i)},idOrName:function(n){return this.groups[n.name]||(this.checkable(n)?n.name:n.id||n.name)},validationTargetFor:function(t){return this.checkable(t)&&(t=this.findByName(t.name)),n(t).not(this.settings.ignore)[0]},checkable:function(n){return/radio|checkbox/i.test(n.type)},findByName:function(t){return n(this.currentForm).find("[name='"+t+"']")},getLength:function(t,i){switch(i.nodeName.toLowerCase()){case"select":return n("option:selected",i).length;case"input":if(this.checkable(i))return this.findByName(i.name).filter(":checked").length}return t.length},depend:function(n,t){return this.dependTypes[typeof n]?this.dependTypes[typeof n](n,t):!0},dependTypes:{boolean:function(n){return n},string:function(t,i){return!!n(t,i.form).length},"function":function(n,t){return n(t)}},optional:function(t){var i=this.elementValue(t);return!n.validator.methods.required.call(this,i,t)&&"dependency-mismatch"},startRequest:function(n){this.pending[n.name]||(this.pendingRequest++,this.pending[n.name]=!0)},stopRequest:function(t,i){this.pendingRequest--;this.pendingRequest<0&&(this.pendingRequest=0);delete this.pending[t.name];i&&0===this.pendingRequest&&this.formSubmitted&&this.form()?(n(this.currentForm).submit(),this.formSubmitted=!1):!i&&0===this.pendingRequest&&this.formSubmitted&&(n(this.currentForm).triggerHandler("invalid-form",[this]),this.formSubmitted=!1)},previousValue:function(t){return n.data(t,"previousValue")||n.data(t,"previousValue",{old:null,valid:!0,message:this.defaultMessage(t,"remote")})},destroy:function(){this.resetForm();n(this.currentForm).off(".validate").removeData("validator")}},classRuleSettings:{required:{required:!0},email:{email:!0},url:{url:!0},date:{date:!0},dateISO:{dateISO:!0},number:{number:!0},digits:{digits:!0},creditcard:{creditcard:!0}},addClassRules:function(t,i){t.constructor===String?this.classRuleSettings[t]=i:n.extend(this.classRuleSettings,t)},classRules:function(t){var i={},r=n(t).attr("class");return r&&n.each(r.split(" "),function(){this in n.validator.classRuleSettings&&n.extend(i,n.validator.classRuleSettings[this])}),i},normalizeAttributeRule:function(n,t,i,r){/min|max/.test(i)&&(null===t||/number|range|text/.test(t))&&(r=Number(r),isNaN(r)&&(r=void 0));r||0===r?n[i]=r:t===i&&"range"!==t&&(n[i]=!0)},attributeRules:function(t){var r,i,u={},f=n(t),e=t.getAttribute("type");for(r in n.validator.methods)"required"===r?(i=t.getAttribute(r),""===i&&(i=!0),i=!!i):i=f.attr(r),this.normalizeAttributeRule(u,e,r,i);return u.maxlength&&/-1|2147483647|524288/.test(u.maxlength)&&delete u.maxlength,u},dataRules:function(t){var i,r,u={},f=n(t),e=t.getAttribute("type");for(i in n.validator.methods)r=f.data("rule"+i.charAt(0).toUpperCase()+i.substring(1).toLowerCase()),this.normalizeAttributeRule(u,e,i,r);return u},staticRules:function(t){var i={},r=n.data(t.form,"validator");return r.settings.rules&&(i=n.validator.normalizeRule(r.settings.rules[t.name])||{}),i},normalizeRules:function(t,i){return n.each(t,function(r,u){if(u===!1)return void delete t[r];if(u.param||u.depends){var f=!0;switch(typeof u.depends){case"string":f=!!n(u.depends,i.form).length;break;case"function":f=u.depends.call(i,i)}f?t[r]=void 0!==u.param?u.param:!0:delete t[r]}}),n.each(t,function(r,u){t[r]=n.isFunction(u)?u(i):u}),n.each(["minlength","maxlength"],function(){t[this]&&(t[this]=Number(t[this]))}),n.each(["rangelength","range"],function(){var i;t[this]&&(n.isArray(t[this])?t[this]=[Number(t[this][0]),Number(t[this][1])]:"string"==typeof t[this]&&(i=t[this].replace(/[\[\]]/g,"").split(/[\s,]+/),t[this]=[Number(i[0]),Number(i[1])]))}),n.validator.autoCreateRanges&&(null!=t.min&&null!=t.max&&(t.range=[t.min,t.max],delete t.min,delete t.max),null!=t.minlength&&null!=t.maxlength&&(t.rangelength=[t.minlength,t.maxlength],delete t.minlength,delete t.maxlength)),t},normalizeRule:function(t){if("string"==typeof t){var i={};n.each(t.split(/\s/),function(){i[this]=!0});t=i}return t},addMethod:function(t,i,r){n.validator.methods[t]=i;n.validator.messages[t]=void 0!==r?r:n.validator.messages[t];i.length<3&&n.validator.addClassRules(t,n.validator.normalizeRule(t))},methods:{required:function(t,i,r){if(!this.depend(r,i))return"dependency-mismatch";if("select"===i.nodeName.toLowerCase()){var u=n(i).val();return u&&u.length>0}return this.checkable(i)?this.getLength(t,i)>0:t.length>0},email:function(n,t){return this.optional(t)||/^[a-zA-Z0-9.!#$%&'*+\/=?^_`{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/.test(n)},url:function(n,t){return this.optional(t)||/^(?:(?:(?:https?|ftp):)?\/\/)(?:\S+(?::\S*)?@)?(?:(?!(?:10|127)(?:\.\d{1,3}){3})(?!(?:169\.254|192\.168)(?:\.\d{1,3}){2})(?!172\.(?:1[6-9]|2\d|3[0-1])(?:\.\d{1,3}){2})(?:[1-9]\d?|1\d\d|2[01]\d|22[0-3])(?:\.(?:1?\d{1,2}|2[0-4]\d|25[0-5])){2}(?:\.(?:[1-9]\d?|1\d\d|2[0-4]\d|25[0-4]))|(?:(?:[a-z\u00a1-\uffff0-9]-*)*[a-z\u00a1-\uffff0-9]+)(?:\.(?:[a-z\u00a1-\uffff0-9]-*)*[a-z\u00a1-\uffff0-9]+)*(?:\.(?:[a-z\u00a1-\uffff]{2,})).?)(?::\d{2,5})?(?:[/?#]\S*)?$/i.test(n)},date:function(n,t){return this.optional(t)||!/Invalid|NaN/.test(new Date(n).toString())},dateISO:function(n,t){return this.optional(t)||/^\d{4}[\/\-](0?[1-9]|1[012])[\/\-](0?[1-9]|[12][0-9]|3[01])$/.test(n)},number:function(n,t){return this.optional(t)||/^(?:-?\d+|-?\d{1,3}(?:,\d{3})+)?(?:\.\d+)?$/.test(n)},digits:function(n,t){return this.optional(t)||/^\d+$/.test(n)},creditcard:function(n,t){if(this.optional(t))return"dependency-mismatch";if(/[^0-9 \-]+/.test(n))return!1;var i,f,e=0,r=0,u=!1;if(n=n.replace(/\D/g,""),n.length<13||n.length>19)return!1;for(i=n.length-1;i>=0;i--)f=n.charAt(i),r=parseInt(f,10),u&&(r*=2)>9&&(r-=9),e+=r,u=!u;return e%10==0},minlength:function(t,i,r){var u=n.isArray(t)?t.length:this.getLength(t,i);return this.optional(i)||u>=r},maxlength:function(t,i,r){var u=n.isArray(t)?t.length:this.getLength(t,i);return this.optional(i)||r>=u},rangelength:function(t,i,r){var u=n.isArray(t)?t.length:this.getLength(t,i);return this.optional(i)||u>=r[0]&&u<=r[1]},min:function(n,t,i){return this.optional(t)||n>=i},max:function(n,t,i){return this.optional(t)||i>=n},range:function(n,t,i){return this.optional(t)||n>=i[0]&&n<=i[1]},equalTo:function(t,i,r){var u=n(r);return this.settings.onfocusout&&u.off(".validate-equalTo").on("blur.validate-equalTo",function(){n(i).valid()}),t===u.val()},remote:function(t,i,r){if(this.optional(i))return"dependency-mismatch";var u,e,f=this.previousValue(i);return this.settings.messages[i.name]||(this.settings.messages[i.name]={}),f.originalMessage=this.settings.messages[i.name].remote,this.settings.messages[i.name].remote=f.message,r="string"==typeof r&&{url:r}||r,f.old===t?f.valid:(f.old=t,u=this,this.startRequest(i),e={},e[i.name]=t,n.ajax(n.extend(!0,{mode:"abort",port:"validate"+i.name,dataType:"json",data:e,context:u.currentForm,success:function(r){var o,e,h,s=r===!0||"true"===r;u.settings.messages[i.name].remote=f.originalMessage;s?(h=u.formSubmitted,u.prepareElement(i),u.formSubmitted=h,u.successList.push(i),delete u.invalid[i.name],u.showErrors()):(o={},e=r||u.defaultMessage(i,"remote"),o[i.name]=f.message=n.isFunction(e)?e(t):e,u.invalid[i.name]=!0,u.showErrors(o));f.valid=s;u.stopRequest(i,s)}},r)),"pending")}}});var i,t={};n.ajaxPrefilter?n.ajaxPrefilter(function(n,i,r){var u=n.port;"abort"===n.mode&&(t[u]&&t[u].abort(),t[u]=r)}):(i=n.ajax,n.ajax=function(r){var f=("mode"in r?r:n.ajaxSettings).mode,u=("port"in r?r:n.ajaxSettings).port;return"abort"===f?(t[u]&&t[u].abort(),t[u]=i.apply(this,arguments),t[u]):i.apply(this,arguments)})}),function(n,t,i){"use strict";function g(n,t){t&&t.onError&&t.onError(n)===!1||(this.name="JsRender Error",this.message=n||"JsRender error")}function e(n,t){var i;n=n||{};for(i in t)n[i]=t[i];return n}function ut(n,t,i){return(!d.rTag||arguments.length)&&(w=n?n.charAt(0):w,b=n?n.charAt(1):b,s=t?t.charAt(0):s,a=t?t.charAt(1):a,k=i||k,n="\\"+w+"(\\"+k+")?\\"+b,t="\\"+s+"\\"+a,l="(?:(?:(\\w+(?=[\\/\\s\\"+s+"]))|(?:(\\w+)?(:)|(>)|!--((?:[^-]|-(?!-))*)--|(\\*)))\\s*((?:[^\\"+s+"]|\\"+s+"(?!\\"+a+"))*?)",d.rTag=l+")",l=new RegExp(n+l+"(\\/)?|(?:\\/(\\w+)))"+t,"g"),at=new RegExp("<.*>|([^\\\\]|^)[{}]|"+n+".*"+t)),[w,b,s,a,k]}function pt(n,t){t||(t=n,n=i);var e,f,o,u,r=this,s=!t||t==="root";if(n){if(u=r.type===t?r:i,!u)if(e=r.views,r._.useKey){for(f in e)if(u=e[f].get(n,t))break}else for(f=0,o=e.length;!u&&f<o;f++)u=e[f].get(n,t)}else if(s)while(r.parent.parent)u=r=r.parent;else while(r&&!u)u=r.type===t?r:i,r=r.parent;return u}function ft(){var n=this.get("item");return n?n.index:i}function wt(n){var r,u=this,t=(u.ctx||{})[n];return t=t===i?u.getRsc("helpers",n):t,t&&typeof t=="function"&&(r=function(){return t.apply(u,arguments)},e(r,t)),r||t}function bt(n,t,i){var s,u,o,f=+i===i&&i,e=t.linkCtx;return f&&(i=(f=t.tmpl.bnds[f-1])(t.data,t,r)),o=i.args[0],(n||f)&&(u=e&&e.tag||{_:{inline:!e},tagName:n+":",flow:!0,_is:"tag"},u._.bnd=f,e&&(e.tag=u,u.linkCtx=e,i.ctx=h(i.ctx,e.view.ctx)),u.tagCtx=i,i.view=t,u.ctx=i.ctx||{},delete i.ctx,t._.tag=u,n=n!=="true"&&n,n&&((s=t.getRsc("converters",n))||c("Unknown converter: {{"+n+":"))&&(u.depends=s.depends,o=s.apply(u,i.args)),o=f&&t._.onRender?t._.onRender(o,t,f):o),o}function kt(n,t){for(var f=this,u=r[n],e=u&&u[t];e===i&&f;)u=f.tmpl[n],e=u&&u[t],f=f.parent;return e}function dt(n,t,u,o){var ut,s,ft,tt,k,a,it,rt,l,d,b,et,y,p="",g=+o===o&&o,v=t.linkCtx||0,w=t.ctx,ot=u||t.tmpl,st=t._;for(n._is==="tag"&&(s=n,n=s.tagName),g&&(o=(et=ot.bnds[g-1])(t.data,t,r)),it=o.length,s=s||v.tag,a=0;a<it;a++)l=o[a],b=l.tmpl,b=l.content=b&&ot.tmpls[b-1],u=l.props.tmpl,a||u&&s||(y=t.getRsc("tags",n)||c("Unknown tag: {{"+n+"}}")),u=u||!a&&y.template||b,u=""+u===u?t.getRsc("templates",u)||f(u):u,e(l,{tmpl:u,render:nt,index:a,view:t,ctx:h(l.ctx,w)}),s||(y.init?(s=new y.init(l,v,w),s.attr=s.attr||y.attr||i):s={render:y.render},s._={inline:!v},v&&(v.attr=s.attr=v.attr||s.attr,v.tag=s,s.linkCtx=v),(s._.bnd=et||v)&&(s._.arrVws={}),s.tagName=n,s.parent=k=w&&w.tag,s._is="tag"),st.tag=s,l.tag=s,s.tagCtxs=o,s.rendering={},s.flow||(d=l.ctx=l.ctx||{},ft=d.parentTags=w&&h(d.parentTags,w.parentTags)||{},k&&(ft[k.tagName]=k),d.tag=s);for(a=0;a<it;a++)l=s.tagCtx=o[a],s.ctx=l.ctx,(ut=s.render)&&(rt=ut.apply(s,l.args)),p+=rt!==i?rt:l.tmpl?l.render():"";return delete s.rendering,s.tagCtx=s.tagCtxs[0],s.ctx=s.tagCtx.ctx,s._.inline&&(tt=s.attr)&&tt!=="html"&&(p=tt==="text"?yt.html(p):""),p=g&&t._.onRender?t._.onRender(p,t,g):p}function p(n,t,r,u,f,e,o,s){var c,l,a,y=t==="array",v={key:0,useKey:y?0:1,id:""+ai++,onRender:s,bnds:{}},h={data:u,tmpl:f,content:o,views:y?[]:{},parent:r,ctx:n,type:t,get:pt,getIndex:ft,getRsc:kt,hlp:wt,_:v,_is:"view"};return r&&(c=r.views,l=r._,l.useKey?(c[v.key="_"+l.useKey++]=h,a=l.tag,v.bnd=y&&(!a||!!a._.bnd&&a)):c.splice(v.key=h.index=e!==i?e:c.length,0,h),h.ctx=n||r.ctx),h}function gt(n){var t,i,r,u,f;for(t in v)if(u=v[t],(f=u.compile)&&(i=n[t+"s"]))for(r in i)i[r]=f(r,i[r],n,t,u)}function ni(n,t,i){var u,r;return typeof t=="function"?t={depends:t.depends,render:t}:((r=t.template)&&(t.template=""+r===r?f[r]||f(r):r),t.init!==!1&&(u=t.init=t.init||function(){},u.prototype=t,(u.prototype=t).constructor=u)),i&&(t._parentTmpl=i),t}function et(r,u,e,o,s,c){function v(i){if(""+i===i||i.nodeType>0){try{a=i.nodeType>0?i:!at.test(i)&&t&&t(n.document).find(i)[0]}catch(u){}return a&&(i=a.getAttribute(vt),r=r||i,i=f[i],i||(r=r||"_"+li++,a.setAttribute(vt,r),i=f[r]=et(r,a.innerHTML,e,o,s,c))),i}}var l,a;return u=u||"",l=v(u),c=c||(u.markup?u:{}),c.tmplName=r,e&&(c._parentTmpl=e),!l&&u.markup&&(l=v(u.markup))&&l.fn&&(l.debug!==u.debug||l.allowCode!==u.allowCode)&&(l=l.markup),l!==i?(r&&!e&&(rt[r]=function(){return u.render.apply(u,arguments)}),l.fn||u.fn?l.fn&&(u=r&&r!==l.tmplName?h(c,l):l):(u=ot(l,c),st(l,u)),gt(c),u):void 0}function ot(n,t){var i,f=y.wrapMap||{},r=e({markup:n,tmpls:[],links:{},tags:{},bnds:[],_is:"template",render:nt},t);return t.htmlTag||(i=si.exec(n),r.htmlTag=i?i[1].toLowerCase():""),i=f[r.htmlTag],i&&i!==f.div&&(r.markup=u.trim(r.markup),r._elCnt=!0),r}function ti(n,t){function u(e,o,s){var l,h,a,c;if(e&&""+e!==e&&!e.nodeType&&!e.markup){for(a in e)u(a,e[a],o);return r}return c=s?s[f]=s[f]||{}:u,o===i&&(o=e,e=i),h=t.compile,(l=d.onBeforeStoreItem)&&(h=l(c,e,o,h)||h),e?""+e===e&&(o===null?delete c[e]:c[e]=h?o=h(e,o,s,n,t):o):o=h(i,o),o&&(o._is=n),(l=d.onStoreItem)&&l(c,e,o,h),o}var f=n+"s";r[f]=u;v[n]=t}function nt(n,t,e,o,s,l){var b,ut,nt,y,tt,it,rt,k,w,ft,d,et,v,a=this,ot=!a.attr||a.attr==="html",g="";if(o===!0&&(rt=!0,o=0),a.tag?(k=a,a=a.tag,ft=a._,et=a.tagName,v=k.tmpl,t=h(t,a.ctx),w=k.content,k.props.link===!1&&(t=t||{},t.link=!1),e=e||k.view,n=n===i?e:n):v=a.jquery&&(a[0]||c('Unknown template: "'+a.selector+'"'))||a,v&&(!e&&n&&n._is==="view"&&(e=n),e&&(w=w||e.content,l=l||e._.onRender,n===e&&(n=e.data,s=!0),t=h(t,e.ctx)),e&&e.data!==i||((t=t||{}).root=n),v.fn||(v=f[v]||f(v)),v)){if(l=(t&&t.link)!==!1&&ot&&l,d=l,l===!0&&(d=i,l=e._.onRender),u.isArray(n)&&!s)for(y=rt?e:o!==i&&e||p(t,"array",e,n,v,o,w,l),b=0,ut=n.length;b<ut;b++)nt=n[b],tt=p(t,"item",y,nt,v,(o||0)+b,w,l),it=v.fn(nt,tt,r),g+=y._.onRender?y._.onRender(it,tt):it;else y=rt?e:p(t,et||"data",e,n,v,o,w,l),ft&&!a.flow&&(y.tag=a),g+=v.fn(n,y,r);return d?d(g,y):g}return""}function c(n){if(y.debugMode)throw new r.sub.Error(n);}function o(n){c("Syntax error\n"+n)}function st(n,t,i,r){function v(t){t-=f;t&&h.push(n.substr(f,t).replace(it,"\\n"))}function c(t){t&&o('Unmatched or missing tag: "{{/'+t+'}}" in template:\n'+n)}function y(t,e,l,y,w,b,k,d,g,nt,tt,rt){b&&(w=":",y="html");nt=nt||i;var lt,et,ot=e&&[],ft="",ut="",st="",ht=!nt&&!w&&!k;l=l||w;v(rt);f=rt+t.length;d?p&&h.push(["*","\n"+g.replace(ui,"$1")+"\n"]):l?(l==="else"&&(oi.test(g)&&o('for "{{else if expr}}" use "{{else expr}}"'),ot=u[6],u[7]=n.substring(u[7],rt),u=s.pop(),h=u[3],ht=!0),g&&(g=g.replace(it," "),ft=ct(g,ot).replace(ei,function(n,t,i){return t?st+=i+",":ut+=i+",",""})),ut=ut.slice(0,-1),ft=ft.slice(0,-1),lt=ut&&ut.indexOf("noerror:true")+1&&ut||"",a=[l,y||!!r||"",ft,ht&&[],'params:"'+g+'",props:{'+ut+"}"+(st?",ctx:{"+st.slice(0,-1)+"}":""),lt,ot||0],h.push(a),ht&&(s.push(u),u=a,u[7]=f)):tt&&(et=u[0],c(tt!==et&&et!=="else"&&tt),u[7]=n.substring(u[7],rt),u=s.pop());c(!u&&tt);h=u[3]}var a,p=t&&t.allowCode,e=[],f=0,s=[],h=e,u=[,,,e];return n=n.replace(fi,"\\$1"),c(s[0]&&s[0][3].pop()[0]),n.replace(l,y),v(n.length),(f=e[e.length-1])&&c(""+f!==f&&+f[7]===f[7]&&f[0]),ht(e,t||n,i)}function ht(n,i,r){var c,f,e,l,a,p,ct,lt,at,nt,w,s,wt,et,v,tt,b,bt,rt,vt,k,yt,pt,st,ut,d,h=0,u="",g="",ft={},kt=n.length;for(""+i===i?(v=r?'data-link="'+i.replace(it," ").slice(1,-1)+'"':i,i=0):(v=i.tmplName||"unnamed",(bt=i.allowCode)&&(ft.allowCode=!0),i.debug&&(ft.debug=!0),w=i.bnds,et=i.tmpls),c=0;c<kt;c++)if(f=n[c],""+f===f)u+='\nret+="'+f+'";';else if(e=f[0],e==="*")u+=""+f[1];else{if(l=f[1],a=f[2],rt=f[3],p=f[4],g=f[5],vt=f[7],(pt=e==="else")||(h=0,w&&(s=f[6])&&(h=w.push(s))),(st=e===":")?(l&&(e=l==="html"?">":l+e),g&&(ut="prm"+c,g="try{var "+ut+"=["+a+"][0];}catch(e){"+ut+'="";}\n',a=ut)):(rt&&(tt=ot(vt,ft),tt.tmplName=v+"/"+e,ht(rt,tt),et.push(tt)),pt||(b=e,yt=u,u="",wt=c),k=n[c+1],k=k&&k[0]==="else"),p+=",args:["+a+"]}",st&&s||l&&e!==">"){if(d=new Function("data,view,j,u"," // "+v+" "+h+" "+e+"\n"+g+"return {"+p+";"),d.paths=s,d._ctxs=e,r)return d;nt=!0}if(u+=st?"\n"+(s?"":g)+(r?"return ":"ret+=")+(nt?(nt=!0,'c("'+l+'",view,'+(s?(w[h-1]=d,h):"{"+p)+");"):e===">"?(lt=!0,"h("+a+");"):(at=!0,"(v="+a+")!="+(r?"=":"")+'u?v:"";')):(ct=!0,"{tmpl:"+(rt?et.length:"0")+","+p+","),b&&!k){if(u="["+u.slice(0,-1)+"]",(r||s)&&(u=new Function("data,view,j,u"," // "+v+" "+h+" "+b+"\nreturn "+u+";"),s&&((w[h-1]=u).paths=s),u._ctxs=e,r))return u;u=yt+'\nret+=t("'+b+'",view,this,'+(h||u)+");";s=0;b=0}}u="// "+v+"\nvar j=j||"+(t?"jQuery.":"js")+"views"+(at?",v":"")+(ct?",t=j._tag":"")+(nt?",c=j._cnvt":"")+(lt?",h=j.converters.html":"")+(r?";\n":',ret="";\n')+(y.tryCatch?"try{\n":"")+(ft.debug?"debugger;":"")+u+(r?"\n":"\nreturn ret;\n")+(y.tryCatch?"\n}catch(e){return j._err(e);}":"");try{u=new Function("data,view,j,u",u)}catch(dt){o("Compiled template code:\n\n"+u,dt)}return i&&(i.fn=u),u}function ct(n,t){function c(c,l,a,v,y,p,w,b,k,d,g,nt,tt,it,rt,ut,ft,et,ot){function st(n,i,r,u,f,e,o){if(i&&(t&&!s&&t.push(v),i!==".")){var h=(r?'view.hlp("'+r+'")':u?"view":"data")+(o?(f?"."+f:r?"":u?"":"."+i)+(e||""):(o=r?"":u?f||"":i,""));return h=h+(o?"."+o:""),h.slice(0,9)==="view.data"?h.slice(5):h}return n}if(y=y||"",a=a||l||g,v=v||b,t&&rt&&t.push({_jsvOb:ot.slice(h[i-1]+1,et+1)}),k=k||ut||"",p)o(n);else return f?(f=!nt,f?c:'"'):u?(u=!tt,u?c:'"'):(a?(i++,h[i]=et,a):"")+(ft?i?"":e?(e=s=!1,"\b"):",":w?(i&&o(n),e=v,s=v.charAt(0)==="~","\b"+v+":"):v?v.split("^").join(".").replace(ii,st)+(k?(r[++i]=!0,k):y):y?y:it?(r[i--]=!1,it)+(k?(r[++i]=!0,k):""):d?(r[i]||o(n),","):l?"":(f=nt,u=tt,'"'))}var e,s,r={},h={0:-1},i=0,u=!1,f=!1;return(n+" ").replace(ri,c)}function h(n,t){return n&&n!==t?t?e(e({},t),n):n:t&&e({},t)}function lt(n){return vi[n]}if((!t||!t.views)&&!n.jsviews){var u,tt,l,at,w="{",b="{",s="}",a="}",k="^",ii=/^(?:null|true|false|\d[\d.]*|([\w$]+|\.|~([\w$]+)|#(view|([\w$]+))?)([\w$.^]*?)(?:[.[^]([\w$]+)\]?)?)$/g,ri=/(\()(?=\s*\()|(?:([([])\s*)?(?:([#~]?[\w$.^]+)?\s*((\+\+|--)|\+|-|&&|\|\||===|!==|==|!=|<=|>=|[<>%*!:?\/]|(=))\s*|([#~]?[\w$.^]+)([([])?)|(,\s*)|(\(?)\\?(?:(')|("))|(?:\s*((\))(?=\s*\.|\s*\^)|\)|\])([([]?))|(\s+)/g,it=/\s*\n/g,ui=/\\(['"])/g,fi=/([\\'"])/g,ei=/\x08(~)?([^\x08]+)\x08/g,oi=/^if\s/,si=/<(\w+)[>\s]/,hi=/[<"'&]/g,ci=/[><"'&]/g,li=0,ai=0,vi={"&":"&amp;","<":"&lt;",">":"&gt;","\x00":"&#0;","'":"&#39;",'"':"&#34;"},vt="data-jsv-tmpl",pi=[].slice,rt={},v={template:{compile:et},tag:{compile:ni},helper:{},converter:{}},r={jsviews:"v1.0pre",render:rt,View:p,settings:{delimiters:ut,debugMode:!0,tryCatch:!0},sub:{Error:g,tmplFn:st,parse:ct,extend:e,error:c,syntaxError:o},_cnvt:bt,_tag:dt,_err:function(n){return y.debugMode?"Error: "+(n.message||n)+". ":""}};(g.prototype=new Error).constructor=g;ft.depends=function(){return[this.get("item"),"index"]};for(tt in v)ti(tt,v[tt]);var f=r.templates,yt=r.converters,wi=r.helpers,yi=r.tags,d=r.sub,y=r.settings;t?(u=t,u.fn.render=nt):(u=n.jsviews={},u.isArray=Array&&Array.isArray||function(n){return Object.prototype.toString.call(n)==="[object Array]"});u.render=rt;u.views=r;u.templates=f=r.templates;yi({"else":function(){},"if":{render:function(n){var t=this;return t.rendering.done||!n&&(arguments.length||!t.tagCtx.index)?"":(t.rendering.done=!0,t.selected=t.tagCtx.index,t.tagCtx.render())},onUpdate:function(n,t,i){for(var r,u,f=0;(r=this.tagCtxs[f])&&r.args.length;f++)if(r=r.args[0],u=!r!=!i[f].args[0],!!r||u)return u;return!1},flow:!0},"for":{render:function(n){var t=this,f=t.tagCtx,e=!arguments.length,r="",o=e||0;return t.rendering.done||(e?r=i:n!==i&&(r+=f.render(n),o+=u.isArray(n)?n.length:1),(t.rendering.done=o)&&(t.selected=f.index)),r},onUpdate:function(){},onArrayChange:function(n,t){var i,u=this,r=t.change;if(this.tagCtxs[1]&&(r==="insert"&&n.target.length===t.items.length||r==="remove"&&!n.target.length||r==="refresh"&&!t.oldItems.length!=!n.target.length))this.refresh();else for(i in u._.arrVws)i=u._.arrVws[i],i.data===n.target&&i._.onArrayChange.apply(i,arguments);n.done=!0},flow:!0},include:{flow:!0},"*":{render:function(n){return n},flow:!0}});yt({html:function(n){return n!=i?String(n).replace(ci,lt):""},attr:function(n){return n!=i?String(n).replace(hi,lt):n===null?null:""},url:function(n){return n!=i?encodeURI(String(n)):n===null?null:""}});ut()}}(this,this.jQuery);browser=ej.browserInfo();$(document).on("click","#item-link-copy",function(){$("#item-link").select();/Safari/.test(navigator.userAgent)&&/Apple Computer/.test(navigator.vendor)?($("#item-link-copy").removeClass("su su-copy"),$("#item-link-copy").attr("data-original-title","")):(document.execCommand("copy"),$("#item-link-copy").attr("data-original-title",window.Server.App.LocalizationContent.Copysuccess),$("#item-link-copy").tooltip("hide").attr("data-original-title",window.Server.App.LocalizationContent.Copysuccess).tooltip("fixTitle").tooltip("show"),setTimeout(function(){$("#item-link-copy").attr("data-original-title",window.Server.App.LocalizationContent.LinkCopy);$("#item-link-copy").tooltip()},3e3))});$(function(){var n,t;$("#make_item_public").ejDialog({width:window.innerWidth>460?"450px":window.innerWidth-10,showOnInit:!1,allowDraggable:!1,enableResize:!1,height:"auto",title:window.Server.App.LocalizationContent.MakePublic,showHeader:!1,enableModal:!0,closeOnEscape:!0,close:"onMakePublicDialogClose",open:"onMakePublicDialogOpen"});$("#remove_item_public").ejDialog({width:window.innerWidth>460?"450px":window.innerWidth-10,showOnInit:!1,allowDraggable:!1,enableResize:!1,height:"auto",title:window.Server.App.LocalizationContent.RemovePublic,showHeader:!1,enableModal:!0,closeOnEscape:!0,close:"onRemovePublicDialogClose",open:"onRemovePublicDialogOpen"});n=createLoader("make_item_public_wrapper");$("#make_item_public_wrapper").ejWaitingPopup({template:$("#"+n)});t=createLoader("remove_item_public_wrapper");$("#remove_item_public_wrapper").ejWaitingPopup({template:$("#"+t)})});$(document).on("click","#make-public",function(){$("#item_name").html($(this).attr("data-name"));itemUrl=$(this).attr("data-url");var t=$(this).attr("data-item-id"),n=$(this).attr("data-name"),i=$(this).attr("data-itemtype"),r=$(this).attr("data-item-type").trim();$("#make_item_public_wrapper").ejWaitingPopup("show");$.ajax({type:"POST",url:makeItemPublicUrl,data:{itemId:t,itemTypeId:i,itemName:n},success:function(t){t.validation&&t.result?(onMakePublicDialogClose(),onGetLinkDialogOpen(),$(".report-name").html(n),$(".report-name").attr("title",n),$("."+r.toLowerCase()+"-link").show(),$(".private-note").hide(),$(".public-note").show(),ResetItemList(ItemType.Dashboard)):($("#makepublicitem").hide(),$("#select-area").hide(),$("#close").show(),$(".error-msg").show());$("#make_item_public_wrapper").ejWaitingPopup("hide")}})});$(document).on("click","#remove-public",function(){$("#item_name").html($(this).attr("data-name"));var n=$(this).attr("data-item-id"),t=$(this).attr("data-name"),i=$(this).attr("data-itemtype");$("#remove_item_public_wrapper").ejWaitingPopup("show");$.ajax({type:"POST",url:removeItemPublicUrl,data:{itemId:n,itemTypeId:i,itemName:t},success:function(n){n.validation&&n.result?($("#removepublicitem").hide(),$("#remove-select-area").hide(),$("#remove-close").show(),$("#success-msg").show(),ResetItemList(ItemType.Dashboard)):($("#removepublicitem").hide(),$("#remove-select-area").hide(),$("#success-msg").hide(),$("#remove-close").show(),$("#error-msg").show());$("#remove_item_public_wrapper").ejWaitingPopup("hide")}})});$(function(){$("#item-delete-confirmation").ejDialog({width:"450px",showOnInit:!1,allowDraggable:!1,enableResize:!1,height:"auto",title:window.Server.App.LocalizationContent.DeleteItem,showHeader:!1,enableModal:!0,close:"onDeleteItemDialogClose",open:"onDeleteItemDialogOpen"});var n=createLoader("item-delete-confirmation_wrapper");$("#item-delete-confirmation_wrapper").ejWaitingPopup({template:$("#"+n)})});$(document).on("click","#delete-item",function(){var r;$("#item-delete-confirmation_wrapper").ejWaitingPopup("show");var t=$(this).attr("data-item-id"),n=$(this).attr("data-itemtype"),i="";n=="Datasource"&&(i=$(this).attr("data-datasource-type"));r=n=="Category"?window.Server.App.LocalizationContent.Categoy:n=="Dashboard"?window.Server.App.LocalizationContent.Dashboard:n;$.ajax({type:"POST",url:deleteItemUrl,data:{itemId:t,datasourceType:i},success:function(i){if(i.Success)if($("#item-delete-confirmation_wrapper").ejWaitingPopup("hide"),SuccessAlert(r+window.Server.App.LocalizationContent.Deleted,$("#delete-item-name").html()+window.Server.App.LocalizationContent.DeleteSuccess,7e3),n=="Dashboard")if(i.DashboardCount>0&&i.DashboardCount!=undefined){ResetItemList(ItemType.Dashboard);ResetItemList(ItemType.Category);var u=$("#dashboard-rendering-iframe").attr("src");typeof u!="undefined"&&u.contains(t)&&(parent.$("#body").ejWaitingPopup("show"),location.reload())}else parent.$("#body").ejWaitingPopup("show"),location.reload();else n=="Category"&&ResetItemList(ItemType.Category);else i.Permission==!1?($("#item-delete-confirmation_wrapper").ejWaitingPopup("hide"),WarningAlert(window.Server.App.LocalizationContent.DeleteFail,window.Server.App.LocalizationContent.DeletePermissionMessage+$("#delete-item-name").html(),7e3)):($("#item-delete-confirmation_wrapper").ejWaitingPopup("hide"),WarningAlert(window.Server.App.LocalizationContent.DeleteFail,$("#delete-item-name").html()+window.Server.App.LocalizationContent.DeleteFailMessage,7e3));$("#item-delete-confirmation").ejDialog("close")}})});var isWidget=!1,sharePermissionDlgObj="",sharePermissionDlgWrapperObj="",sharePermisisonDlgHeader="",sharePermissionDlgHeaderItemName="",sharePermissionConatiner="",accessModeContainer="",dummyContainer="",embedCodeContainer="",sharePermissionDashboardSettingSectionObj="",sharePermissionPublicSectionObj="",sharePermissionPrivateSectionObj="",sharePermissionUserGroupSectionObj="",manageUserGroupContainer="",manageUserGroupBodySection="",getEmbedLinkSection="",embedConfiguration="",changeIndicatorBannerObj="",shareWithLabelObj="",getLinkInputObj="",getLinkCopyLinkobj="",getEmbedCodeInputObj="",getEmbedCodeCopyBtnobj="",accessModeChangeLink="",manageAccessButton="",manageAccessBackButton="",manageAccessSaveBtnObj="",manageAccessCancelBtnObj="",shareDoneBtnObj="",shareBtnObj="",accessModeChngBtnObj="",accessModeCancelBtnObj="",embedCodeDoneBtnObj="",embedCodeBackButton="",publicRadioBtnObj="",privateRadioBtnObj="",isItemPublic=!1,isEntireDOMRendered=!1,accessModeSelectionInput="",sharedUserGroupsPreservedList=[],sharedAccessModePreservedList=[],markForDeleteBtnObj="",removeMarkForDeleteBtnObj="",toggleMarkForDeletionObj="",modifiedItemIndex=[],addNewItemPermission=[],userMarkedForDeletionList=[],groupMarkedForDeletionList=[],showSharedUserGroupContainer="",showSharedUserGroupNameSection="",showSharedUserGroupName="",showSharedUserGroupCountSection="",showSharedUserGroupCount="",currentItemDetail=[],currentDashboardDetail=[],shareItem=angular.module("serverApp");shareItem.controller("shareItemController",["$scope",function(n){n.currentUserId=window.currentUserId;n.sharedUserGroups=window.sharedUserGroupList;n.accessModes=window.accessModeList;n.showPopover=!1;n.currentItemType=ItemType.Dashboard;n.isAdmin=!1;n.isDashboardPublic=!1;n.formatAccessModeString=function(n){return n.toString()};n.ImageLink=function(n){return idpUrl+"/User/Avatar?id="+n+"&ImageSize=64"};var t=["#4FDFDB","#BDDF4F","#F3DF4C","#FC9C61","#CBA6FF","#77BDFF"];n.GetGroupColor=function(n,i){var r=t[(i+1)%t.length-1];return n!=""?{"background-color":"#dfdfdf"}:{"background-color":"#dfdfdf"}};n.typeOptions=[{Key:2,Value:"Read"}];n.parseInt=function(n){return parseInt(n,10)};n.updateValue=function(t,i){n.CheckForModification(t,i)};n.MarkForDeletion=function(t,i,r){n.AddItemInUserGroupDeletionList(r);n.RemoveFromModified(r);var u=angular.element(t.currentTarget).parents(".shared-user-group-list-section").children();u.find(".action-for-delete-container").hide();u.find(".marked-for-delete-container").show();u.find(".change-indicator").show();n.ShowChangeIndicatorBanner()};n.RemoveMarkForDeletion=function(t,i,r){n.RemoveItemInUserGroupDeletionList(r);var u=angular.element(t.currentTarget).parents(".shared-user-group-list-section").children();u.find(".marked-for-delete-container").hide();u.find(".action-for-delete-container").show();u.find(".change-indicator").hide();n.CheckForModification(i,r)};n.CheckForModification=function(t,i){currentItemDetail.ItemType!=ItemType.ItemView&&(sharedUserGroupsPreservedList[i].PermissionAccess!=t?(n.AddToModified(i),$("#select_"+i).parents(".shared-user-group-list-section").children().find(".change-indicator").show()):sharedUserGroupsPreservedList[i].PermissionAccess==t&&(n.RemoveFromModified(i),$("#select_"+i).parents(".shared-user-group-list-section").children().find(".change-indicator").hide()),n.ShowChangeIndicatorBanner())};n.ShowChangeIndicatorBanner=function(){$(".change-indicator").is(":visible")?(changeIndicatorBannerObj.css("visibility","visible"),manageAccessSaveBtnObj.show(),manageAccessCancelBtnObj.show(),shareDoneBtnObj.hide(),disableAutomCompleteControl(),disableAutocompleteAccessModeSelection()):(changeIndicatorBannerObj.css("visibility","hidden"),resetPreRequestValues(),manageAccessSaveBtnObj.hide(),manageAccessCancelBtnObj.hide(),shareDoneBtnObj.show(),enableAutomCompleteControl(),enableAutocompleteAccessModeSelection())};n.AddItemInUserGroupDeletionList=function(t){n.IsUserItem(t)?jQuery.inArray(sharedUserGroupsPreservedList[t].PermissionId,userMarkedForDeletionList)==-1&&userMarkedForDeletionList.push(sharedUserGroupsPreservedList[t].PermissionId):n.IsGroupItem(t)&&jQuery.inArray(sharedUserGroupsPreservedList[t].PermissionId,groupMarkedForDeletionList)==-1&&groupMarkedForDeletionList.push(sharedUserGroupsPreservedList[t].PermissionId)};n.RemoveItemInUserGroupDeletionList=function(t){n.IsUserItem(t)?jQuery.inArray(sharedUserGroupsPreservedList[t].PermissionId,userMarkedForDeletionList)!=-1&&(userMarkedForDeletionList=jQuery.grep(userMarkedForDeletionList,function(n){return n!=sharedUserGroupsPreservedList[t].PermissionId})):n.IsGroupItem(t)&&jQuery.inArray(sharedUserGroupsPreservedList[t].PermissionId,groupMarkedForDeletionList)!=-1&&(groupMarkedForDeletionList=jQuery.grep(groupMarkedForDeletionList,function(n){return n!=sharedUserGroupsPreservedList[t].PermissionId}))};n.AddToModified=function(n){jQuery.inArray(n,modifiedItemIndex)==-1&&modifiedItemIndex.push(n)};n.RemoveFromModified=function(n){modifiedItemIndex=jQuery.grep(modifiedItemIndex,function(t){return t!=n})};n.IsUserItem=function(n){return sharedUserGroupsPreservedList[n].Email!=null&&sharedUserGroupsPreservedList[n].IsUserPermission&&sharedUserGroupsPreservedList[n].TargetUserId>0};n.IsGroupItem=function(n){return sharedUserGroupsPreservedList[n].Email==null&&!sharedUserGroupsPreservedList[n].IsUserPermission&&sharedUserGroupsPreservedList[n].TargetGroupId>0};n.GetManagePermisisionContent=function(t){var i=window.Server.App.LocalizationContent.AccessPermission,r,u;return n.IsUserItem(t)?(i=i+window.Server.App.LocalizationContent.UserPermission+"<strong>"+sharedUserGroupsPreservedList[t].PermissionEntityDescription+"<\/strong>.<\/br><\/br>",isAdmin?(r=editUserPermissionUrl+"?userId="+sharedUserGroupsPreservedList[t].TargetUserId,i+window.Server.App.LocalizationContent.ManageUserPermission+"<a target='_blank' href='"+r+"'>"+window.Server.App.LocalizationContent.Here+"<\/a >."):i+window.Server.App.LocalizationContent.AccessUserpermission):(i=i+window.Server.App.LocalizationContent.GroupPermission+"<strong>"+sharedUserGroupsPreservedList[t].PermissionEntityDescription+"<\/strong>.<\/br><\/br>",isAdmin?(u=editGroupPermissionUrl+"?groupId="+sharedUserGroupsPreservedList[t].TargetGroupId,i+window.Server.App.LocalizationContent.ManageGroupPermission+"<a target='_blank' href='"+u+"'>"+window.Server.App.LocalizationContent.Here+"<\/a>."):i+window.Server.App.LocalizationContent.AccessGroupPermission)}}]);$(function(){var n,t;sharePermissionDlgObj=$("#share-permission-popup");sharePermisisonDlgHeader=$("#share-permission-dialog-header");sharePermissionDlgHeaderItemName=$(".item-name-container #item-name-header");sharePermissionConatiner=$("#share-permission-container");accessModeContainer=$("#access-mode-container");dummyContainer=$("#dummy-container");embedCodeContainer=$("#get-embed-code-container");sharePermissionDashboardSettingSectionObj=$(".share-permission-dashboard-setting-section");sharePermissionPublicSectionObj=$(".share-permission-public-section");sharePermissionPrivateSectionObj=$(".share-permission-private-section");sharePermissionUserGroupSectionObj=$("#assign-user-group-container");manageUserGroupContainer=$("#manage-user-group-container");manageUserGroupBodySection=$(".manage-user-group-body-section");getEmbedLinkSection=$(".get-item-embed-link-section");embedConfiguration=$(".embed-configuration");changeIndicatorBannerObj=$(".changes-indicator-banner");shareWithLabelObj=$(".share-with-label");getLinkInputObj=$("#item-url");getLinkCopyLinkobj=$("#item-url-copy");getEmbedCodeInputObj=$("#embed-code");getEmbedCodeCopyBtnobj=$("#copy-embed-code");accessModeChangeLink=$("#access-mode-change-link");manageAccessButton=$("#manage-access-button");manageAccessBackButton=$("#manage-access-back-button");manageAccessSaveBtnObj=$("#manage-access-save-button");manageAccessCancelBtnObj=$("#manage-access-cancel-button");shareDoneBtnObj=$("#share-done-popup-button");shareBtnObj=$("#share-permission-button");accessModeChngBtnObj=$("#access-mode-change-button");accessModeCancelBtnObj=$("#access-mode-cancel-button");embedCodeDoneBtnObj=$("#copy-embed-code-done-button");embedCodeBackButton=$("#copy-embed-code-back-button");publicRadioBtnObj=$("#public-access-mode");privateRadioBtnObj=$("#private-access-mode");accessModeSelectionInput=$("#access-mode-selection");markForDeleteBtnObj=$(".mark-for-deletion-icon");removeMarkForDeleteBtnObj=$(".remove-mark-for-deletion-icon");showSharedUserGroupContainer=$("#show-shared-user-group-container");showSharedUserGroupNameSection=$(".shared-user-group-name-section");showSharedUserGroupName=$(".shared-user-group-name");showSharedUserGroupCountSection=$(".shared-user-group-count-section");showSharedUserGroupCount=$(".shared-user-group-count");toggleMarkForDeletionObj=$(".action-for-delete-container, .marked-for-delete-container");$("#permission-popup").ejDialog({showOnInit:!1,allowDraggable:!0,enableResize:!1,width:"900px",title:"",showHeader:!1,enableModal:!0,close:"DialogBoxClose",closeOnEscape:!0});n=createLoader("permission-popup_wrapper");$("#permission-popup_wrapper").ejWaitingPopup({template:$("#"+n)});sharePermissionDlgObj.ejDialog({width:"529px",showOnInit:!1,allowDraggable:!1,enableResize:!1,showHeader:!1,enableModal:!0,closeOnEscape:!1,close:"onSharePermissionPopupClose",open:"onSharePermissionPopupOpen",closeOnEscape:!0});sharePermissionDlgWrapperObj=$("#share-permission-popup_wrapper");t=createLoader("share-permission-popup_wrapper");sharePermissionDlgWrapperObj.ejWaitingPopup({template:$("#"+t)});$("#share-close-popup, #share-done-popup-button").on("click",function(){sharePermissionDlgObj.ejDialog("close");isWidget&&(sharePermissionConatiner.show(),embedCodeContainer.hide(),embedConfiguration.show(),manageAccessButton.hide(),isWidget=!1)});accessModeCancelBtnObj.on("click",function(){showSharePermissionContainer()});manageAccessButton.on("click",function(){showManageAccessContainer()});manageAccessBackButton.on("click",function(){showSharePermissionContainerWithRefresh()});manageAccessSaveBtnObj.on("click",function(){$('[data-toggle="popover"]').popover("hide");sharePermissionDlgWrapperObj.ejWaitingPopup("show");prepareRequestForAddItemPermission();updateBulkItemPermission()});manageAccessCancelBtnObj.on("click",function(){manageAccessCancelBtn()});getLinkCopyLinkobj.on("click",function(){getLinkInputObj.select();/Safari/.test(navigator.userAgent)&&/Apple Computer/.test(navigator.vendor)?getLinkCopyLinkobj.attr("data-original-title",""):(document.execCommand("copy"),getLinkCopyLinkobj.attr("data-original-title",window.Server.App.LocalizationContent.Copysuccess),getLinkCopyLinkobj.tooltip("hide").attr("data-original-title",window.Server.App.LocalizationContent.Copysuccess).tooltip("fixTitle").tooltip("show"),setTimeout(function(){getLinkCopyLinkobj.attr("data-original-title",window.Server.App.LocalizationContent.LinkCopy);getLinkCopyLinkobj.tooltip()},3e3))});getLinkCopyLinkobj.removeClass("focusdiv");getLinkInputObj.on("focusin",function(){getLinkCopyLinkobj.addClass("focusdiv")});getLinkInputObj.on("focusout",function(){getLinkCopyLinkobj.removeClass("focusdiv")});$("input[type=radio][name=access-mode]").on("change",function(){isItemPublic&&privateRadioBtnObj.prop("checked")||!isItemPublic&&publicRadioBtnObj.prop("checked")?accessModeChngBtnObj.removeAttr("disabled"):accessModeChngBtnObj.attr("disabled",!0)});$(document).on("click","#access-mode-change-button",function(){var t=$(this).attr("data-item-id"),i=$(this).attr("data-name"),r=$(this).attr("data-itemtype"),n="";isItemPublic&&privateRadioBtnObj.prop("checked")?n=removeItemPublicUrl:!isItemPublic&&publicRadioBtnObj.prop("checked")&&(n=makeItemPublicUrl);$.ajax({type:"POST",url:n,data:{itemId:t,itemTypeId:r,itemName:i},success:function(n){n.validation&&n.result?(typeof ResetItemList=="function"&&ResetItemList(ItemType.Dashboard),typeof currentItemDetail!="undefined"&&typeof currentItemDetail.IsPublic!="undefined"&&(currentItemDetail.IsPublic=!currentItemDetail.IsPublic)):WarningAlert("",window.Server.App.LocalizationContent.InternalServerError,7e3)},error:function(){WarningAlert("",window.Server.App.LocalizationContent.InternalServerError,7e3)}});isItemPublic&&privateRadioBtnObj.prop("checked")?(showSharePermissionContainer(),showPrivateContent(),isItemPublic=!1):!isItemPublic&&publicRadioBtnObj.prop("checked")&&(showSharePermissionContainer(),showPublicContent(),isItemPublic=!0)});$(document).on("shown.bs.dropdown",".user-group-scroll-content .change-access-mode-select",function(){if($(".tooltip").hide(),$(this).find(".change-access-mode-selection").length>0){var n=manageUserGroupBodySection,i=$(this).offset().top+$(this).outerHeight(!0)/2-n.offset().top,r=n.height()-($(this).offset().top-n.offset().top+$(this).outerHeight(!0)/2),t=$(this).find(".change-access-mode-selection .dropdown-menu").outerHeight(!0);r<=t&&i>=t?$(this).find(".change-access-mode-selection").removeClass("dropdown").addClass("dropup"):refreshUserGroupScroll()}});$.views.helpers({getUserGroupLogo:function(n){return n=="user"?"<img src='' alt='Profile Picture' id='' onerror='' >":"<div class='group-logo' style=''> <i class='su su-group-1'><\/i><\/div >"}});$("body").on("click",function(n){$(n.target).data("toggle")!=="popover"&&$(n.target).parents('[data-toggle="popover"]').length===0&&$(n.target).parents(".popover.in").length===0?$('[data-toggle="popover"]').popover("hide"):$(n.target).data("toggle")=="popover"&&$(".access-info-icon").not(n.target).popover("hide")});getEmbedCodeInputObj.on("click",function(){getEmbedCodeInputObj.select()});getEmbedCodeCopyBtnobj.on("click",function(){getEmbedCodeInputObj.select();document.execCommand("copy");var n=$(".embed-copy-success");n.show();setTimeout(function(){n.fadeOut(3e3)},3e3)});embedCodeDoneBtnObj.on("click",function(){sharePermissionDlgObj.ejDialog("close")});embedCodeBackButton.on("click",function(){showSharePermissionContainerWithRefresh()});$(".embed-configuration [type='checkbox']").on("change",function(){$("#embed-code").val(generateEmbedCode(currentItemDetail))})});$(function(){$("#ItemAction").ejDialog({showOnInit:!1,allowDraggable:!0,enableResize:!1,width:"525px",title:"",showHeader:!1,enableModal:!0,close:"itemActionEmpty",closeOnEscape:!0});var n=createLoader("ItemAction_wrapper");$("#ItemAction_wrapper").ejWaitingPopup({template:$("#"+n)})});$(document).on("ready",function(){$("#edit-file-popup").ejDialog({width:"760px",showOnInit:!1,allowDraggable:!1,enableResize:!1,title:window.Server.App.LocalizationContent.UpdateDashboard,enableModal:!0,showHeader:!1});var n=createLoader("edit-file-popup_wrapper");$("#edit-file-popup_wrapper").ejWaitingPopup({template:$("#"+n)})});$(document).on("ready",function(){$("#update-data-source-popup").ejDialog({width:"760px",showOnInit:!1,allowDraggable:!0,enableResize:!1,title:window.Server.App.LocalizationContent.UpdateDataSource,enableModal:!0,showHeader:!1});var n=createLoader("update-data-source-popup_wrapper");$("#update-data-source-popup_wrapper").ejWaitingPopup({template:$("#"+n)})});$(document).ready(function(){$(parent.window).width()>1400&&$("#version-container").addClass("versions");$(parent.window).width()<1400&&$("#version-container").removeClass("versions");$(document).on("click","#version-tab",function(){$(this).parent("li").addClass("active");$("#item-log-tab").parent("li").removeClass("active");$("#item-version-container").removeClass("hidden").addClass("show");$("#item-log-container").removeClass("show").addClass("hidden")});$(document).on("click","#item-log-tab",function(){$(".down-arrow").css("left","185px");$(this).parent("li").addClass("active");$("#version-tab").parent("li").removeClass("active");$("#item-version-container").removeClass("show").addClass("hidden");$("#item-log-container").removeClass("hidden").addClass("show")});$(document).on("click",".version-popup-close",function(){$("#item-version-controller").css("display","none");eDialog=parent.$("#version-window-container").data("ejDialog");eDialog.close()});$(document).on("click",".item-roll-back",function(){var n=$(this).attr("data-item-version"),t=$(this).attr("data-itemid");doAjaxPost("POST",rollBackUrl,{ItemId:t,versionId:n},function(n,t){var i,r;t.status?(i=$("#grid").data("ejGrid"),i.refreshContent(),r=$("#loggrid").data("ejGrid"),r.refreshContent()):parent.messageBox("su-versions",window.Server.App.LocalizationContent.VersionHistory,t.statusMessage,"success",function(){parent.onCloseMessageBox()});$("#loggrid").ejWaitingPopup("hide")},null,null,null,null,null,!0)})});$(document).on("click","#version-window-container .popup-close, #version-window-container #close-button",function(){$("#grid").ejGrid("option",{dataSource:[]});$("#loggrid").ejGrid("option",{dataSource:[]});window.parent.$("#version-window-container").ejDialog("close")});$(document).keyup(function(n){if(n.keyCode==27){var t=parent.$("#version-window-container").data("ejDialog");t!=undefined&&window.parent.$("#version-window-container").ejDialog("close")}});$(document).ready(function(){$(".dropdown-toggle").tooltip({selector:"[data-toggle=tooltip]"})});isAjaxRequested=!0;$(function(){var n,t,i;$("#AddCategoryPopup").ejDialog({width:"600px",height:"250px",showOnInit:!1,allowDraggable:!1,enableResize:!1,showHeader:!1,enableModal:!0,closeOnEscape:!0});$("#report_popup").ejDialog({width:"760px",showOnInit:!1,allowDraggable:!1,enableResize:!1,title:window.Server.App.LocalizationContent.AddDashboard,enableModal:!0,showHeader:!1,open:"onDashboardDialogOpen"});$("#sample-item-popup").ejDialog({showOnInit:!1,allowDraggable:!0,enableResize:!1,width:"900px",title:"",beforeOpen:function(){$("#sample-item-popup_wrapper").css("z-index","2147483647")},showHeader:!1,enableModal:!0,beforeClose:function(){$("#itemsstring_ddinput_popup_list_wrapper, #items_acString_suggestion, #items_WaitingPopup, #item-grid-container_WaitingPopup, #sample-item-popup_wrapper, #sample-item-popup_wrapper_WaitingPopup").css("z-index","9999")},close:"DialogBoxClose",closeOnEscape:!0});n=createLoader("AddCategoryPopup_wrapper");$("#AddCategoryPopup_wrapper").ejWaitingPopup({template:$("#"+n)});t=createLoader("report_popup_wrapper");$("#report_popup_wrapper").ejWaitingPopup({template:$("#"+t)});i=createLoader("sample-item-popup_wrapper");$("#sample-item-popup_wrapper").ejWaitingPopup({template:$("#"+i)})});$(document).on("click",".add-sample-button",function(){$("#sample-item-popup iframe").attr("src",addSampleItemsUrl);$("#sample-item-popup").ejDialog("open");ShowWaitingProgress("#sample-item-popup_wrapper","show")});$(document).on("click",".explore",function(){$("#sample-item-popup iframe").attr("src",addSampleItemsUrl);$("#sample-item-popup").ejDialog("open");ShowWaitingProgress("#sample-item-popup_wrapper","show")});$(document).on("click",".dashboard-notification .su-close",function(){$(".dashboard-notification").remove()});$(document).ready(function(){$("#popup-container").ejDialog({allowDraggable:!1,enableResize:!1,enableModal:!0,showHeader:!1,showOnInit:!1,close:"onSchedulerDialogClose",open:"onSchedulerDialogOpen",width:"1000px"});var n=createLoader("popup-container_wrapper");$("#popup-container_wrapper").ejWaitingPopup({template:$("#"+n)})});$(document).on("click","#create_schedule, .create-schedule",function(){ItemId="";ItemName="";CategoryName="";ScheduleId="";CategoryId="";MultiDashboardName=$(this).attr("data-multidashboard-name");$("#popup-container").ejDialog("open")});serverApp.controller("ItemInfoCtrl",["$scope","$timeout",function(n,t){n.ItemDetail=null;n.closeItemInfo=function(){$("#item-info-popup").ejDialog("close")};n.openInfoDialog=function(i,r){n.ItemDetail=i;n.showDashboardLinkButton=r;$("#item-info-popup").ejDialog({width:window.innerWidth>480?"480px":window.innerWidth-10+"px",height:"auto",showOnInit:!1,allowDraggable:!1,enableResize:!1,showHeader:!1,enableModal:!0});$("#item-info-popup").ejDialog("open");$("#item-info-popup").ejDialog("refresh");t(function(){n.$apply()},100)};n.viewDashboardUrl=function(n,t,i,r){return r===!0?encodeURI(editDashboardUrl+"/"+n+"/draft/"+i):encodeURI(viewDashboardUrlAction+"/"+n+"/"+t+"/"+i+"?showmydashboards=1")};n.GetInfoButtonText=function(n){return n===!0?window.Server.App.LocalizationContent.EditDashboard:window.Server.App.LocalizationContent.OpenDashboard}}]);typeof angularManualBootstrap!="undefined"&&angularManualBootstrap&&angular.element(document).ready(function(){angular.bootstrap(document,["serverApp"])});var reportItemName="",reportItemId="",reportCategoryName="",multiDashboardName="",childId="",createdItemId="",url="",alertChange=1,dateFormat="",timeFormat="",listDashboards="",childDashboards="",item="",condition="",itemConditionArray="",recurrence="",endType="",endDate="",endAfter="",startDate="",itemRecurrence="",frequency="",exportType="",subscriberExternalRecipient="",subscriberGroup="",subscriberUser="",itemConditionCategory="",itemWidgetName="",emailContent="",buttonValue="",filterContent="",designerServiceUrl="",dashboardServerUrl="",dataServiceUrl="",dataServiceUrlforDataAlert="",isCustomExpressionOpened=!1,scheduleRecurrenceInfo="",alertChangeValue=1,isScheduledDashboardDeleted="";$(document).ready(function(){dateFormat=$("#dateFormat").val();timeFormat=$("#timeFormat").val();designerServiceUrl=$('meta[name="designer_service:url"]').attr("content");dashboardServerUrl=$('meta[name="dashboard_server:url"]').attr("content");dataServiceUrlforDataAlert=$("meta[name='data_service:url']").attr("content");$(".category-dropdown .bootstrap-select .bs-searchbox .input-block-level").attr("placeholder",window.Server.App.LocalizationContent.SearchCategories);$(".dashboard-dropdown .bootstrap-select .bs-searchbox .input-block-level").attr("placeholder",window.Server.App.LocalizationContent.SearchDashboards);$(".childdashboard-dropdown .bootstrap-select .bs-searchbox .input-block-level").attr("placeholder",window.Server.App.LocalizationContent.SearchTabs)});$(document).on("click","#schedule-submit-cancel,#schedule-popup,#schedule-next-cancel",function(){if(isCustomExpressionOpened){onCloseCustomExpression();return}closePopupContainer()});$(document).keyup(function(n){n.keyCode==27&&closePopupContainer()});$(document).on("change","#selected_category",function(){var i,n,t;reportCategoryName="";itemName="";i=$(this).find("option:selected").text();($(this).find("option:selected").val()==""||$(this).find("option:selected").val()!="")&&($(".schedule-popup-title").html(window.Server.App.LocalizationContent.Schedule),$(".schedule-popup-title").attr("title",""));$("#selected_dashboard").attr("disabled",!0);$(".dashboard-dropdown").append($("<span class='no-padding loader-gif'><div class='loader-blue loader-icon' id='selected-category-loader-icon'><svg class='circular'><circle class='path' cx='27' cy='27' r='13' fill='none' stroke-width='4' stroke-miterlimit='10'><\/circle><\/svg><\/div><\/span>"));n=[];n.push({PropertyName:"CategoryName",FilterType:"equals",FilterKey:i});t=undefined;itemId!=null&&(listDashboards="");$.ajax({type:"POST",url:getDashboardUrl,data:{searchKey:t,skip:0,take:20,sorted:t,filterCollection:n,displayCategory:"SpecificCategory",isScheduleRequest:!0},success:function(n){var i,t;for($("#selected_dashboard").attr("disabled",!1),$(".dashboard-dropdown span.loader-gif").remove(),i=n.result,t=0;t<i.length;t++)listDashboards+='<option value="'+i[t].Id+'">'+i[t].Name+"<\/option>";$("#selected_dashboard").html("");$("#selected_dashboard").html('<option value="" selected="selected" class="hide-option" disabled>'+window.Server.App.LocalizationContent.SelectDashboard+"<\/option>"+listDashboards).selectpicker("refresh");$("#selected_childdashboard").attr("disabled",!0);$("#selected_childdashboard").html("");$("#selected_childdashboard").html('<option value="" selected="selected" class="hide-option" disabled="disabled">'+window.Server.App.LocalizationContent.SelectDashboard+"<\/option>").selectpicker("refresh");addTitleForDashboard()}});$("#selected_category option:selected").val()!=""&&$("#category-message").css("display","none")});$(document).on("change","#selected_dashboard",function(){var t,n,r;$("#selected_childdashboard").attr("disabled",!0);t=$(this).find("option:selected").text();n=$(this).find("option:selected").val();isScheduledDashboardDeleted="false";createdItemId=n;$(".childdashboard-dropdown .bootstrap-select").append($("<span class='no-padding loader-gif'><div class='loader-blue loader-icon' id='selected-dashboard-loader-icon'><svg class='circular'><circle class='path' cx='27' cy='27' r='13' fill='none' stroke-width='4' stroke-miterlimit='10'><\/circle><\/svg><\/div><\/span>"));r=[];r.push({PropertyName:"Name",FilterType:"equals",FilterKey:t});var u=undefined,i="";n!=""?($(".schedule-popup-title").html(" "+t+" -"+window.Server.App.LocalizationContent.Schedule),$(".schedule-popup-title").attr("title",t)):($(".schedule-popup-title").html(window.Server.App.LocalizationContent.Schedule),$(".schedule-popup-title").attr("title",""));$(".items-dropdown select").html("");$(".items-dropdown").append($("<span class='no-padding loader-gif'><div class='loader-blue loader-icon' id='selected-dashboard-items-dropdown-loader-icon'><svg class='circular'><circle class='path' cx='27' cy='27' r='13' fill='none' stroke-width='4' stroke-miterlimit='10'><\/circle><\/svg><\/div><\/span>"));$(".items-dropdown").find("select").attr("disabled",!0);n!=""&&($.ajax({type:"POST",url:getChildDashboardUrl,data:{parentId:n},success:function(n){var t,r;if($(".childdashboard-dropdown span.loader-gif").remove(),t=n.result,t!==null)for($("#selected_childdashboard").attr("disabled",!1),r=0;r<t.length;r++)i+=t[r].DashboardId!==childId?"<option data-designerid="+t[r].DesignerId+' value="'+t[r].DashboardId+'">'+t[r].Name+"<\/option>":"<option data-designerid="+t[r].DesignerId+' value="'+t[r].DashboardId+'" selected="selected">'+t[r].Name+"<\/option>";$("#selected_childdashboard").html("");$("#selected_childdashboard").append('<option value="" selected=selected>'+window.Server.App.LocalizationContent.ChildDashboards+"<\/option>"+i).selectpicker("refresh");addTitleForChildDashboards();$("#selected_childdashboard").trigger("change")}}),$(".schedule-dialog").find("#dataAlert").length>0&&$("#dataAlert").remove());$("#data-changes-container").length>0&&$.ajax({type:"POST",url:getwidgetUrl,data:{itemId:n},success:function(n){for(var r,u,t=n,f="",i=0;i<t.data.length;i++)r="",u="",t.isMultiDashboard==!0&&(r=" ("+t.data[i].ParentName+")",u="data-itemid="+t.data[i].ParentId),f+="<option "+u+'  value="'+t.data[i].Name+'">'+t.data[i].Name+" "+r+"<\/option>";$(".items-dropdown select").append('<option disabled class="hide-option" selected="selected" value="">'+window.Server.App.LocalizationContent.SelectWidget+"<\/option>"+f).selectpicker("refresh");addTitleForWidgets();$("#selected-items").change();$("#data-changes-container #condition-div #measure-div,#data-changes-container #condition-div #dimension-div").html("");$("#data-changes-container #condition-div #add-condition,#data-changes-container #add-dimension-condition").css("display","none");refreshConditionCategory();$("span.loader-gif").remove();$(".items-dropdown").find("select").removeAttr("disabled");$(".items-dropdown").find(".bootstrap-select li,.bootstrap-select .btn-default").removeClass("disabled");$(".items-dropdown").find(".dropdown-menu").addClass("alignment-dropdown");$(".items-dropdown").find(".dropdown-menu .inner").addClass("alignment-dropdown-inner");$(".items-dropdown").find(".dropdown-menu li:first").css("height","0px")}});$("#schedule-submit").attr("data-report-id",n);$("#schedule-submit").attr("data-item-id",n);$("#selected_dashboard option:selected").val()!=""&&$("#dashboard-message").css("display","none");hideDataAlert(!1)});$(document).on("change","#selected_childdashboard",function(){var t=$(this).find("option:selected").text(),n=$(this).find("option:selected").val();t=="All"?(n=$("#selected_dashboard").find("option:selected").val(),t=$("#selected_dashboard").find("option:selected").text(),createdItemId=n):(n=$("#selected_childdashboard").find("option:selected").val(),t=$("#selected_childdashboard").find("option:selected").text(),createdItemId=n);n!=""?($(".schedule-popup-title").html(" "+t+" - "+window.Server.App.LocalizationContent.Schedule),$(".schedule-popup-title").attr("title",t)):($(".schedule-popup-title").html(window.Server.App.LocalizationContent.Schedule),$(".schedule-popup-title").attr("title",""));$(".items-dropdown select").html("");$(".items-dropdown").append($("<span class='no-padding loader-gif'><div class='loader-blue loader-icon' id='selected-childdashboard-loader-icon'><svg class='circular'><circle class='path' cx='27' cy='27' r='13' fill='none' stroke-width='4' stroke-miterlimit='10'><\/circle><\/svg><\/div><\/span>"));$(".items-dropdown").find("select").attr("disabled",!0);$("#data-changes-container").length>0&&$.ajax({type:"POST",url:window.getwidgetUrl,data:{itemId:n},success:function(n){for(var r,u,t=n,f="",i=0;i<t.data.length;i++)r="",u="",t.isMultiDashboard==!0&&(r=" ("+t.data[i].ParentName+")",u="data-itemid="+t.data[i].ParentId),f+="<option "+u+'  value="'+t.data[i].Name+'">'+t.data[i].Name+" "+r+"<\/option>";$(".items-dropdown select").append('<option disabled class="hide-option" selected="selected" value="">'+window.Server.App.LocalizationContent.SelectWidget+"<\/option>"+f).selectpicker("refresh");addTitleForWidgets();$("#selected-items").change();$("#data-changes-container #condition-div #measure-div,#data-changes-container #condition-div #dimension-div").html("");$("#data-changes-container #condition-div #add-condition,#data-changes-container  #add-dimension-condition").css("display","none");refreshConditionCategory();$("span.loader-gif").remove();$(".items-dropdown").find("select").removeAttr("disabled");$(".items-dropdown").find(".bootstrap-select li,.bootstrap-select .btn-default").removeClass("disabled");$(".items-dropdown").find(".dropdown-menu").addClass("alignment-dropdown");$(".items-dropdown").find(".dropdown-menu .inner").addClass("alignment-dropdown-inner");$(".items-dropdown").find(".dropdown-menu li:first").css("height","0px")}});$("#schedule-submit").attr("data-report-id",n);$("#schedule-submit").attr("data-item-id",n);$(".childdashboard-dropdown .btn-group .dropdown-menu.open").removeAttr("style");$(".childdashboard-dropdown .btn-group .dropdown-menu.open").css("overflow","hidden")});$(document).on("focusout","#schedule-name",function(){var n=$("#schedule-name").val().trim(),t="";t=actionType=="Create"?$("#schedule-submit").attr("data-schedule-id"):scheduleId;$.trim(n)!=""?($("#schedule-name").closest("div").removeClass("has-error"),$("#schedule-name-error-container").css("display","none"),n?scheduleNameCheck(t,n):$("#schedule-name-error-container").css("display","none")):($("#schedule-name").closest("div").addClass("has-error"),$("#schedule-name-error-container").css("display","block"),$("#schedule-name-validator").html(window.Server.App.LocalizationContent.ScheduleValidator))});$(document).on("keyup","#schedule-name",function(){$.trim($("#schedule-name").val())!=""?($("#schedule-name").closest("div").removeClass("has-error"),$("#schedule-name-error-container").css("display","none")):($("#schedule-name").closest("div").addClass("has-error"),$("#schedule-name-error-container").css("display","block"),$("#schedule-name-validator").html(window.Server.App.LocalizationContent.ScheduleValidator))});$(document).on("click","#schedule-next",function(){var n,t;validateSchedule(this)&&(alertChange==2?$(this).hasClass("time-interval-body")?(n=$("#dataAlert").data("ejDashboardDesigner"),n.getDataAlertModel()):$(this).hasClass("subscribe-body")?validateNextSchedule():$(this).hasClass("email-editor-body")?$("#email-content-validation").text()==""&&($("#email-content-validation").html(""),url=recurrenceType,enableTimeIntervalOption(),$("#schedule-next").removeClass("email-editor-body")):(url=dataAlertUrl,enableDataNotificationOption()):$(this).hasClass("time-interval-body")?(url=recurrenceType,enableTimeIntervalOption()):$(this).hasClass("email-editor-body")?$("#email-content-validation").text()==""&&(t=$("#frequency").css("display"),t=="block"&&($("#recurrence-type option[value='Hourly']").attr("selected","selected"),$("#recurrence-type").selectpicker("refresh")),$("#email-content-validation").html(""),$("#schedule-next").removeClass("email-editor-body"),url=recurrenceType,enableTimeIntervalOption()):$(this).hasClass("subscribe-body")?validateNextSchedule():isScheduledDashboardDeleted!="true"?(url=emailEditor,enableEmailEditor(),$("#schedule-next").addClass("email-editor-body")):(isScheduledDashboardDeleted="false",$("#selected_dashboard").html('<option value="" disabled="disabled" class="hide-option"selected="selected">'+window.Server.App.LocalizationContent.SelectDashboard+"<\/option>").selectpicker("refresh")))});$(document).on("click","#schedule-back",function(){if(isCustomExpressionOpened){onCloseCustomExpression();return}$("#schedule-next").parent("div").css("display")=="none"?enableTimeIntervalOption():$("#schedule-next").hasClass("subscribe-body")?(alertChange==1?enableEmailEditor():alertChange==3?($("#schedule-next").addClass("time-interval-body"),$("#dataAlert").css("display","block")):enableEmailEditor(),$("#schedule-next").removeClass("subscribe-body")):$("#schedule-next").hasClass("time-interval-body")?enableScheduleOption():$("#schedule-next").hasClass("email-editor-body")&&(alertChange==1?enableScheduleOption():enableDataNotificationOption())});$(document).on("click","#data-alerts",function(){var t,n;if($("#data-alerts").prop("checked")==!0){if(alertChange=2,actionType=="Edit"&&$("#selected_childdashboard").find("option").length<=1&&$("#selected_childdashboard").attr("disabled")!="disabled"&&childDashboards.length>1){for(t="",n=0;n<childDashboards.length;n++)t+=childDashboards[n].Name.toLowerCase()==itemName.toLowerCase()?"<option data-designerid="+childDashboards[n].DesignerId+' value="'+childDashboards[n].DashboardId+'" selected="selected">'+childDashboards[n].Name+"<\/option>":"<option data-designerid="+childDashboards[n].DesignerId+' value="'+childDashboards[n].DashboardId+'">'+childDashboards[n].Name+"<\/option>";$("#selected_childdashboard").html("");$("#selected_childdashboard").append('<option value="">'+window.Server.App.LocalizationContent.ChildDashboards+"<\/option>"+t).selectpicker("refresh")}}else alertChange=1;($("#schedule-next").hasClass("subscribe-body")||$("#schedule-next").hasClass("time-interval-body"))&&($("#schedule-next").removeClass("subscribe-body"),$("#schedule-next").removeClass("time-interval-body"))});$("#scheduleSearch_global").on("keyup","#scheduleSearch_formfield",function(){var n=$(this).val();n.length>2?$("#scheduleGrid").data("ejGrid").search(n):$("#scheduleGrid").data("ejGrid").search("")});listCategories="";$(document).on("show.bs.dropdown",".category-dropdown",function(){var n,t;$(".category-dropdown").find(".open,.bootstrap-select").removeClass("dropdown-alignment");listCategories==""&&($(".category-dropdown .bootstrap-select").append($("<span class='no-padding loader-gif'><div class='loader-blue loader-icon' id='category-dropdown-loader-icon'><svg class='circular'><circle class='path' cx='27' cy='27' r='13' fill='none' stroke-width='4' stroke-miterlimit='10'><\/circle><\/svg><\/div><\/span>")),$(".category-dropdown .bootstrap-select .open").hide(),n=[],n.push({PropertyName:"CategoryName",FilterType:"equals",FilterKey:reportCategoryName}),t=undefined,$.ajax({type:"POST",url:getCategoryUrl,success:function(n){for(var i=n,t=0;t<i.data.length;t++)listCategories+=i.data[t].Name==reportCategoryName?'<option value="'+i.data[t].Id+'" selected= "selected">'+i.data[t].Name+"<\/option>":'<option value="'+i.data[t].Id+'">'+i.data[t].Name+"<\/option>";$("#selected_category").html("");reportItemId==""?$("#selected_category").html('<option value="" disabled="disabled" class="hide-option" selected="selected">'+window.Server.App.LocalizationContent.SelectCategory+"<\/option>"+listCategories).selectpicker("refresh"):$("#selected_category").html(listCategories).selectpicker("refresh");addTitleForCategory();$(".category-dropdown .bootstrap-select ul li").each(function(){$(this).hasClass("selected")&&$(this).addClass("active")});listCategories!=""&&$(".category-dropdown .bootstrap-select .open").show();$(".category-dropdown span.loader-gif").remove()}}));$(".category-dropdown").find(".open").addClass("dropdown-alignment")});$(document).on("show.bs.dropdown",".dashboard-dropdown",function(){var n;if($(".dashboard-dropdown").find(".open,.bootstrap-select").removeClass("dropdown-alignment"),$("#selected_category").find("option:selected").val()==""&&multiDashboardName==null)$("#category-message").css("display","block"),$("#selected_dashboard").attr("disabled",!1);else if(listDashboards==""){$(".dashboard-dropdown .bootstrap-select").append($("<span class='no-padding loader-gif'><div class='loader-blue loader-icon' id='dashboard-dropdown-loader-icon'><svg class='circular'><circle class='path' cx='27' cy='27' r='13' fill='none' stroke-width='4' stroke-miterlimit='10'><\/circle><\/svg><\/div><\/span>"));$(".dashboard-dropdown .bootstrap-select .open").hide();n=[];n.push({PropertyName:"CategoryName",FilterType:"equals",FilterKey:reportCategoryName});var t=undefined;(reportItemId==""||reportItemId!="")&&itemName!=""&&reportCategoryName!=""?$.ajax({type:"POST",url:getDashboardUrl,data:{searchKey:t,skip:0,take:20,sorted:t,filterCollection:n,displayCategory:"SpecificCategory"},success:function(n){for(var i=n.result,t=0;t<i.length;t++)listDashboards+=multiDashboardName==null||multiDashboardName=="undefined"||multiDashboardName==""?i[t].Name.toLowerCase()==itemName.toLowerCase()?'<option value="'+i[t].Id+'" selected=selected>'+i[t].Name+"<\/option>":'<option value="'+i[t].Id+'">'+i[t].Name+"<\/option>":i[t].Name.toLowerCase()==multiDashboardName.toLowerCase()?'<option value="'+i[t].Id+'" selected=selected>'+i[t].Name+"<\/option>":'<option value="'+i[t].Id+'">'+i[t].Name+"<\/option>";$("#selected_dashboard").html("");reportItemId==""?$("#selected_dashboard").html("<option value='' disabled='disabled' class='hide-option' selected='selected'>"+window.Server.App.LocalizationContent.SelectDashboard+"<\/option>"+listDashboards).selectpicker("refresh"):$("#selected_dashboard").html(listDashboards).selectpicker("refresh");addTitleForDashboard();$(".dashboard-dropdown ul li").each(function(){$(this).hasClass("selected")&&$(this).addClass("active")});listDashboards!=""&&$(".dashboard-dropdown .bootstrap-select .open").show();$(".dashboard-dropdown span.loader-gif").remove()}}):($("#selected_dashboard").html('<option value="" disabled="disabled" class="hide-option"selected="selected">'+window.Server.App.LocalizationContent.SelectDashboard+"<\/option>").selectpicker("refresh"),$(".dashboard-dropdown .bootstrap-select .open").show(),$(".dashboard-dropdown .btn-group .dropdown-menu.open").removeAttr("style"),$(".dashboard-dropdown .btn-group .dropdown-menu.open").css("overflow","hidden"),$(".dashboard-dropdown span.loader-gif").remove())}$(".dashboard-dropdown").find(".open").addClass("dropdown-alignment")});$(document).on("show.bs.dropdown",".childdashboard-dropdown",function(){var i,t,n;if(actionType=="Edit"&&$("#selected_childdashboard").find("option").length<=1){for($(".childdashboard-dropdown .bootstrap-select").append($("<span class='no-padding loader-gif'><div class='loader-blue loader-icon' id='childdashboard-dropdown-loader-icon'><svg class='circular'><circle class='path' cx='27' cy='27' r='13' fill='none' stroke-width='4' stroke-miterlimit='10'><\/circle><\/svg><\/div><\/span>")),$(".childdashboard-dropdown .bootstrap-select .open").hide(),i=$("#selected_dashboard").find("option:selected").val(),t="",n=0;n<childDashboards.length;n++)t+=childDashboards[n].Name.toLowerCase()==itemName.toLowerCase()?"<option data-designerid="+childDashboards[n].DesignerId+' value="'+childDashboards[n].DashboardId+'" selected="selected">'+childDashboards[n].Name+"<\/option>":"<option data-designerid="+childDashboards[n].DesignerId+' value="'+childDashboards[n].DashboardId+'">'+childDashboards[n].Name+"<\/option>";$("#selected_childdashboard").html("");$("#selected_childdashboard").append('<option value="">'+window.Server.App.LocalizationContent.ChildDashboards+"<\/option>"+t).selectpicker("refresh");addTitleForChildDashboards();$(".childdashboard-dropdown ul li").each(function(){$(this).hasClass("selected")&&$(this).addClass("active")});$(".childdashboard-dropdown span.loader-gif").remove();t!=""&&$(".childdashboard-dropdown .bootstrap-select .open").show()}});if("undefined"==typeof jQuery)throw new Error("Bootstrap's JavaScript requires jQuery");+function(n){"use strict";function t(){var i=document.createElement("bootstrap"),n={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd otransitionend",transition:"transitionend"};for(var t in n)if(void 0!==i.style[t])return{end:n[t]};return!1}n.fn.emulateTransitionEnd=function(t){var i=!1,u=this,r;n(this).one("bsTransitionEnd",function(){i=!0});return r=function(){i||n(u).trigger(n.support.transition.end)},setTimeout(r,t),this};n(function(){n.support.transition=t();n.support.transition&&(n.event.special.bsTransitionEnd={bindType:n.support.transition.end,delegateType:n.support.transition.end,handle:function(t){if(n(t.target).is(this))return t.handleObj.handler.apply(this,arguments)}})})}(jQuery);+function(n){"use strict";function u(i){return this.each(function(){var r=n(this),u=r.data("bs.alert");u||r.data("bs.alert",u=new t(this));"string"==typeof i&&u[i].call(r)})}var i='[data-dismiss="alert"]',t=function(t){n(t).on("click",i,this.close)},r;t.VERSION="3.2.0";t.prototype.close=function(t){function f(){i.detach().trigger("closed.bs.alert").remove()}var u=n(this),r=u.attr("data-target"),i;r||(r=u.attr("href"),r=r&&r.replace(/.*(?=#[^\s]*$)/,""));i=n(r);t&&t.preventDefault();i.length||(i=u.hasClass("alert")?u:u.parent());i.trigger(t=n.Event("close.bs.alert"));t.isDefaultPrevented()||(i.removeClass("in"),n.support.transition&&i.hasClass("fade")?i.one("bsTransitionEnd",f).emulateTransitionEnd(150):f())};r=n.fn.alert;n.fn.alert=u;n.fn.alert.Constructor=t;n.fn.alert.noConflict=function(){return n.fn.alert=r,this};n(document).on("click.bs.alert.data-api",i,t.prototype.close)}(jQuery);+function(n){"use strict";function i(i){return this.each(function(){var u=n(this),r=u.data("bs.button"),f="object"==typeof i&&i;r||u.data("bs.button",r=new t(this,f));"toggle"==i?r.toggle():i&&r.setState(i)})}var t=function(i,r){this.$element=n(i);this.options=n.extend({},t.DEFAULTS,r);this.isLoading=!1},r;t.VERSION="3.2.0";t.DEFAULTS={loadingText:"loading..."};t.prototype.setState=function(t){var r="disabled",i=this.$element,f=i.is("input")?"val":"html",u=i.data();t+="Text";null==u.resetText&&i.data("resetText",i[f]());i[f](null==u[t]?this.options[t]:u[t]);setTimeout(n.proxy(function(){"loadingText"==t?(this.isLoading=!0,i.addClass(r).attr(r,r)):this.isLoading&&(this.isLoading=!1,i.removeClass(r).removeAttr(r))},this),0)};t.prototype.toggle=function(){var t=!0,i=this.$element.closest('[data-toggle="buttons"]'),n;i.length&&(n=this.$element.find("input"),"radio"==n.prop("type")&&(n.prop("checked")&&this.$element.hasClass("active")?t=!1:i.find(".active").removeClass("active")),t&&n.prop("checked",!this.$element.hasClass("active")).trigger("change"));t&&this.$element.toggleClass("active")};r=n.fn.button;n.fn.button=i;n.fn.button.Constructor=t;n.fn.button.noConflict=function(){return n.fn.button=r,this};n(document).on("click.bs.button.data-api",'[data-toggle^="button"]',function(t){var r=n(t.target);r.hasClass("btn")||(r=r.closest(".btn"));i.call(r,"toggle");t.preventDefault()})}(jQuery);+function(n){"use strict";function i(i){return this.each(function(){var u=n(this),r=u.data("bs.carousel"),f=n.extend({},t.DEFAULTS,u.data(),"object"==typeof i&&i),e="string"==typeof i?i:f.slide;r||u.data("bs.carousel",r=new t(this,f));"number"==typeof i?r.to(i):e?r[e]():f.interval&&r.pause().cycle()})}var t=function(t,i){this.$element=n(t).on("keydown.bs.carousel",n.proxy(this.keydown,this));this.$indicators=this.$element.find(".carousel-indicators");this.options=i;this.paused=this.sliding=this.interval=this.$active=this.$items=null;"hover"==this.options.pause&&this.$element.on("mouseenter.bs.carousel",n.proxy(this.pause,this)).on("mouseleave.bs.carousel",n.proxy(this.cycle,this))},r;t.VERSION="3.2.0";t.DEFAULTS={interval:5e3,pause:"hover",wrap:!0};t.prototype.keydown=function(n){switch(n.which){case 37:this.prev();break;case 39:this.next();break;default:return}n.preventDefault()};t.prototype.cycle=function(t){return t||(this.paused=!1),this.interval&&clearInterval(this.interval),this.options.interval&&!this.paused&&(this.interval=setInterval(n.proxy(this.next,this),this.options.interval)),this};t.prototype.getItemIndex=function(n){return this.$items=n.parent().children(".item"),this.$items.index(n||this.$active)};t.prototype.to=function(t){var r=this,i=this.getItemIndex(this.$active=this.$element.find(".item.active"));if(!(t>this.$items.length-1)&&!(0>t))return this.sliding?this.$element.one("slid.bs.carousel",function(){r.to(t)}):i==t?this.pause().cycle():this.slide(t>i?"next":"prev",n(this.$items[t]))};t.prototype.pause=function(t){return t||(this.paused=!0),this.$element.find(".next, .prev").length&&n.support.transition&&(this.$element.trigger(n.support.transition.end),this.cycle(!0)),this.interval=clearInterval(this.interval),this};t.prototype.next=function(){if(!this.sliding)return this.slide("next")};t.prototype.prev=function(){if(!this.sliding)return this.slide("prev")};t.prototype.slide=function(t,i){var u=this.$element.find(".item.active"),r=i||u[t](),c=this.interval,f="next"==t?"left":"right",a="next"==t?"first":"last",l=this,e,o,s,h;if(!r.length){if(!this.options.wrap)return;r=this.$element.find(".item")[a]()}return r.hasClass("active")?this.sliding=!1:(e=r[0],o=n.Event("slide.bs.carousel",{relatedTarget:e,direction:f}),(this.$element.trigger(o),!o.isDefaultPrevented())?((this.sliding=!0,c&&this.pause(),this.$indicators.length)&&(this.$indicators.find(".active").removeClass("active"),s=n(this.$indicators.children()[this.getItemIndex(r)]),s&&s.addClass("active")),h=n.Event("slid.bs.carousel",{relatedTarget:e,direction:f}),n.support.transition&&this.$element.hasClass("slide")?(r.addClass(t),r[0].offsetWidth,u.addClass(f),r.addClass(f),u.one("bsTransitionEnd",function(){r.removeClass([t,f].join(" ")).addClass("active");u.removeClass(["active",f].join(" "));l.sliding=!1;setTimeout(function(){l.$element.trigger(h)},0)}).emulateTransitionEnd(1e3*u.css("transition-duration").slice(0,-1))):(u.removeClass("active"),r.addClass("active"),this.sliding=!1,this.$element.trigger(h)),c&&this.cycle(),this):void 0)};r=n.fn.carousel;n.fn.carousel=i;n.fn.carousel.Constructor=t;n.fn.carousel.noConflict=function(){return n.fn.carousel=r,this};n(document).on("click.bs.carousel.data-api","[data-slide], [data-slide-to]",function(t){var o,r=n(this),u=n(r.attr("data-target")||(o=r.attr("href"))&&o.replace(/.*(?=#[^\s]+$)/,"")),e,f;u.hasClass("carousel")&&(e=n.extend({},u.data(),r.data()),f=r.attr("data-slide-to"),f&&(e.interval=!1),i.call(u,e),f&&u.data("bs.carousel").to(f),t.preventDefault())});n(window).on("load",function(){n('[data-ride="carousel"]').each(function(){var t=n(this);i.call(t,t.data())})})}(jQuery);+function(n){"use strict";function i(i){return this.each(function(){var u=n(this),r=u.data("bs.collapse"),f=n.extend({},t.DEFAULTS,u.data(),"object"==typeof i&&i);!r&&f.toggle&&"show"==i&&(i=!i);r||u.data("bs.collapse",r=new t(this,f));"string"==typeof i&&r[i]()})}var t=function(i,r){this.$element=n(i);this.options=n.extend({},t.DEFAULTS,r);this.transitioning=null;this.options.parent&&(this.$parent=n(this.options.parent));this.options.toggle&&this.toggle()},r;t.VERSION="3.2.0";t.DEFAULTS={toggle:!0};t.prototype.dimension=function(){var n=this.$element.hasClass("width");return n?"width":"height"};t.prototype.show=function(){var f,t,u,r,e,o;if(!this.transitioning&&!this.$element.hasClass("in")&&(f=n.Event("show.bs.collapse"),this.$element.trigger(f),!f.isDefaultPrevented())){if(t=this.$parent&&this.$parent.find("> .panel > .in"),t&&t.length){if(u=t.data("bs.collapse"),u&&u.transitioning)return;i.call(t,"hide");u||t.data("bs.collapse",null)}if(r=this.dimension(),this.$element.removeClass("collapse").addClass("collapsing")[r](0),this.transitioning=1,e=function(){this.$element.removeClass("collapsing").addClass("collapse in")[r]("");this.transitioning=0;this.$element.trigger("shown.bs.collapse")},!n.support.transition)return e.call(this);o=n.camelCase(["scroll",r].join("-"));this.$element.one("bsTransitionEnd",n.proxy(e,this)).emulateTransitionEnd(350)[r](this.$element[0][o])}};t.prototype.hide=function(){var i,t,r;if(!this.transitioning&&this.$element.hasClass("in")&&(i=n.Event("hide.bs.collapse"),this.$element.trigger(i),!i.isDefaultPrevented()))return t=this.dimension(),this.$element[t](this.$element[t]())[0].offsetHeight,this.$element.addClass("collapsing").removeClass("collapse").removeClass("in"),this.transitioning=1,r=function(){this.transitioning=0;this.$element.trigger("hidden.bs.collapse").removeClass("collapsing").addClass("collapse")},n.support.transition?void this.$element[t](0).one("bsTransitionEnd",n.proxy(r,this)).emulateTransitionEnd(350):r.call(this)};t.prototype.toggle=function(){this[this.$element.hasClass("in")?"hide":"show"]()};r=n.fn.collapse;n.fn.collapse=i;n.fn.collapse.Constructor=t;n.fn.collapse.noConflict=function(){return n.fn.collapse=r,this};n(document).on("click.bs.collapse.data-api",'[data-toggle="collapse"]',function(t){var o,r=n(this),h=r.attr("data-target")||t.preventDefault()||(o=r.attr("href"))&&o.replace(/.*(?=#[^\s]+$)/,""),u=n(h),f=u.data("bs.collapse"),c=f?"toggle":r.data(),e=r.attr("data-parent"),s=e&&n(e);f&&f.transitioning||(s&&s.find('[data-toggle="collapse"][data-parent="'+e+'"]').not(r).addClass("collapsed"),r[u.hasClass("in")?"addClass":"removeClass"]("collapsed"));i.call(u,c)})}(jQuery);+function(n){"use strict";function r(t){t&&3===t.which||(n(o).remove(),n(i).each(function(){var i=u(n(this)),r={relatedTarget:this};i.hasClass("open")&&(i.trigger(t=n.Event("hide.bs.dropdown",r)),t.isDefaultPrevented()||i.removeClass("open").trigger("hidden.bs.dropdown",r))}))}function u(t){var i=t.attr("data-target"),r;return i||(i=t.attr("href"),i=i&&/#[A-Za-z]/.test(i)&&i.replace(/.*(?=#[^\s]*$)/,"")),r=i&&n(i),r&&r.length?r:t.parent()}function e(i){return this.each(function(){var r=n(this),u=r.data("bs.dropdown");u||r.data("bs.dropdown",u=new t(this));"string"==typeof i&&u[i].call(r)})}var o=".dropdown-backdrop",i='[data-toggle="dropdown"]',t=function(t){n(t).on("click.bs.dropdown",this.toggle)},f;t.VERSION="3.2.0";t.prototype.toggle=function(t){var f=n(this),i,o,e;if(!f.is(".disabled, :disabled")){if(i=u(f),o=i.hasClass("open"),r(),!o){if("ontouchstart"in document.documentElement&&!i.closest(".navbar-nav").length&&n('<div class="dropdown-backdrop"/>').insertAfter(n(this)).on("click",r),e={relatedTarget:this},i.trigger(t=n.Event("show.bs.dropdown",e)),t.isDefaultPrevented())return;f.trigger("focus");i.toggleClass("open").trigger("shown.bs.dropdown",e)}return!1}};t.prototype.keydown=function(t){var e,o,s,h,f,r;if(/(38|40|27)/.test(t.keyCode)&&(e=n(this),t.preventDefault(),t.stopPropagation(),!e.is(".disabled, :disabled"))){if(o=u(e),s=o.hasClass("open"),!s||s&&27==t.keyCode)return 27==t.which&&o.find(i).trigger("focus"),e.trigger("click");h=" li:not(.divider):visible a";f=o.find('[role="menu"]'+h+', [role="listbox"]'+h);f.length&&(r=f.index(f.filter(":focus")),38==t.keyCode&&r>0&&r--,40==t.keyCode&&r<f.length-1&&r++,~r||(r=0),f.eq(r).trigger("focus"))}};f=n.fn.dropdown;n.fn.dropdown=e;n.fn.dropdown.Constructor=t;n.fn.dropdown.noConflict=function(){return n.fn.dropdown=f,this};n(document).on("click.bs.dropdown.data-api",r).on("click.bs.dropdown.data-api",".dropdown form",function(n){n.stopPropagation()}).on("click.bs.dropdown.data-api",i,t.prototype.toggle).on("keydown.bs.dropdown.data-api",i+', [role="menu"], [role="listbox"]',t.prototype.keydown)}(jQuery);+function(n){"use strict";function i(i,r){return this.each(function(){var f=n(this),u=f.data("bs.modal"),e=n.extend({},t.DEFAULTS,f.data(),"object"==typeof i&&i);u||f.data("bs.modal",u=new t(this,e));"string"==typeof i?u[i](r):e.show&&u.show(r)})}var t=function(t,i){this.options=i;this.$body=n(document.body);this.$element=n(t);this.$backdrop=this.isShown=null;this.scrollbarWidth=0;this.options.remote&&this.$element.find(".modal-content").load(this.options.remote,n.proxy(function(){this.$element.trigger("loaded.bs.modal")},this))},r;t.VERSION="3.2.0";t.DEFAULTS={backdrop:!0,keyboard:!0,show:!0};t.prototype.toggle=function(n){return this.isShown?this.hide():this.show(n)};t.prototype.show=function(t){var i=this,r=n.Event("show.bs.modal",{relatedTarget:t});this.$element.trigger(r);this.isShown||r.isDefaultPrevented()||(this.isShown=!0,this.checkScrollbar(),this.$body.addClass("modal-open"),this.setScrollbar(),this.escape(),this.$element.on("click.dismiss.bs.modal",'[data-dismiss="modal"]',n.proxy(this.hide,this)),this.backdrop(function(){var u=n.support.transition&&i.$element.hasClass("fade"),r;i.$element.parent().length||i.$element.appendTo(i.$body);i.$element.show().scrollTop(0);u&&i.$element[0].offsetWidth;i.$element.addClass("in").attr("aria-hidden",!1);i.enforceFocus();r=n.Event("shown.bs.modal",{relatedTarget:t});u?i.$element.find(".modal-dialog").one("bsTransitionEnd",function(){i.$element.trigger("focus").trigger(r)}).emulateTransitionEnd(300):i.$element.trigger("focus").trigger(r)}))};t.prototype.hide=function(t){t&&t.preventDefault();t=n.Event("hide.bs.modal");this.$element.trigger(t);this.isShown&&!t.isDefaultPrevented()&&(this.isShown=!1,this.$body.removeClass("modal-open"),this.resetScrollbar(),this.escape(),n(document).off("focusin.bs.modal"),this.$element.removeClass("in").attr("aria-hidden",!0).off("click.dismiss.bs.modal"),n.support.transition&&this.$element.hasClass("fade")?this.$element.one("bsTransitionEnd",n.proxy(this.hideModal,this)).emulateTransitionEnd(300):this.hideModal())};t.prototype.enforceFocus=function(){n(document).off("focusin.bs.modal").on("focusin.bs.modal",n.proxy(function(n){this.$element[0]===n.target||this.$element.has(n.target).length||this.$element.trigger("focus")},this))};t.prototype.escape=function(){this.isShown&&this.options.keyboard?this.$element.on("keyup.dismiss.bs.modal",n.proxy(function(n){27==n.which&&this.hide()},this)):this.isShown||this.$element.off("keyup.dismiss.bs.modal")};t.prototype.hideModal=function(){var n=this;this.$element.hide();this.backdrop(function(){n.$element.trigger("hidden.bs.modal")})};t.prototype.removeBackdrop=function(){this.$backdrop&&this.$backdrop.remove();this.$backdrop=null};t.prototype.backdrop=function(t){var f=this,u=this.$element.hasClass("fade")?"fade":"",i,r;if(this.isShown&&this.options.backdrop){if(i=n.support.transition&&u,this.$backdrop=n('<div class="modal-backdrop '+u+'" />').appendTo(this.$body),this.$element.on("click.dismiss.bs.modal",n.proxy(function(n){n.target===n.currentTarget&&("static"==this.options.backdrop?this.$element[0].focus.call(this.$element[0]):this.hide.call(this))},this)),i&&this.$backdrop[0].offsetWidth,this.$backdrop.addClass("in"),!t)return;i?this.$backdrop.one("bsTransitionEnd",t).emulateTransitionEnd(150):t()}else!this.isShown&&this.$backdrop?(this.$backdrop.removeClass("in"),r=function(){f.removeBackdrop();t&&t()},n.support.transition&&this.$element.hasClass("fade")?this.$backdrop.one("bsTransitionEnd",r).emulateTransitionEnd(150):r()):t&&t()};t.prototype.checkScrollbar=function(){document.body.clientWidth>=window.innerWidth||(this.scrollbarWidth=this.scrollbarWidth||this.measureScrollbar())};t.prototype.setScrollbar=function(){var n=parseInt(this.$body.css("padding-right")||0,10);this.scrollbarWidth&&this.$body.css("padding-right",n+this.scrollbarWidth)};t.prototype.resetScrollbar=function(){this.$body.css("padding-right","")};t.prototype.measureScrollbar=function(){var n=document.createElement("div"),t;return n.className="modal-scrollbar-measure",this.$body.append(n),t=n.offsetWidth-n.clientWidth,this.$body[0].removeChild(n),t};r=n.fn.modal;n.fn.modal=i;n.fn.modal.Constructor=t;n.fn.modal.noConflict=function(){return n.fn.modal=r,this};n(document).on("click.bs.modal.data-api",'[data-toggle="modal"]',function(t){var r=n(this),f=r.attr("href"),u=n(r.attr("data-target")||f&&f.replace(/.*(?=#[^\s]+$)/,"")),e=u.data("bs.modal")?"toggle":n.extend({remote:!/#/.test(f)&&f},u.data(),r.data());r.is("a")&&t.preventDefault();u.one("show.bs.modal",function(n){n.isDefaultPrevented()||u.one("hidden.bs.modal",function(){r.is(":visible")&&r.trigger("focus")})});i.call(u,e,this)})}(jQuery);+function(n){"use strict";function r(i){return this.each(function(){var u=n(this),r=u.data("bs.tooltip"),f="object"==typeof i&&i;(r||"destroy"!=i)&&(r||u.data("bs.tooltip",r=new t(this,f)),"string"==typeof i&&r[i]())})}var t=function(n,t){this.type=this.options=this.enabled=this.timeout=this.hoverState=this.$element=null;this.init("tooltip",n,t)},i;t.VERSION="3.2.0";t.DEFAULTS={animation:!0,placement:"top",selector:!1,template:'<div class="tooltip" role="tooltip"><div class="tooltip-arrow"><\/div><div class="tooltip-inner"><\/div><\/div>',trigger:"hover focus",title:"",delay:0,html:!1,container:!1,viewport:{selector:"body",padding:0}};t.prototype.init=function(t,i,r){var f,e,u,o,s;for(this.enabled=!0,this.type=t,this.$element=n(i),this.options=this.getOptions(r),this.$viewport=this.options.viewport&&n(this.options.viewport.selector||this.options.viewport),f=this.options.trigger.split(" "),e=f.length;e--;)if(u=f[e],"click"==u)this.$element.on("click."+this.type,this.options.selector,n.proxy(this.toggle,this));else"manual"!=u&&(o="hover"==u?"mouseenter":"focusin",s="hover"==u?"mouseleave":"focusout",this.$element.on(o+"."+this.type,this.options.selector,n.proxy(this.enter,this)),this.$element.on(s+"."+this.type,this.options.selector,n.proxy(this.leave,this)));this.options.selector?this._options=n.extend({},this.options,{trigger:"manual",selector:""}):this.fixTitle()};t.prototype.getDefaults=function(){return t.DEFAULTS};t.prototype.getOptions=function(t){return t=n.extend({},this.getDefaults(),this.$element.data(),t),t.delay&&"number"==typeof t.delay&&(t.delay={show:t.delay,hide:t.delay}),t};t.prototype.getDelegateOptions=function(){var t={},i=this.getDefaults();return this._options&&n.each(this._options,function(n,r){i[n]!=r&&(t[n]=r)}),t};t.prototype.enter=function(t){var i=t instanceof this.constructor?t:n(t.currentTarget).data("bs."+this.type);return i||(i=new this.constructor(t.currentTarget,this.getDelegateOptions()),n(t.currentTarget).data("bs."+this.type,i)),clearTimeout(i.timeout),i.hoverState="in",i.options.delay&&i.options.delay.show?void(i.timeout=setTimeout(function(){"in"==i.hoverState&&i.show()},i.options.delay.show)):i.show()};t.prototype.leave=function(t){var i=t instanceof this.constructor?t:n(t.currentTarget).data("bs."+this.type);return i||(i=new this.constructor(t.currentTarget,this.getDelegateOptions()),n(t.currentTarget).data("bs."+this.type,i)),clearTimeout(i.timeout),i.hoverState="out",i.options.delay&&i.options.delay.hide?void(i.timeout=setTimeout(function(){"out"==i.hoverState&&i.hide()},i.options.delay.hide)):i.hide()};t.prototype.show=function(){var h=n.Event("show.bs."+this.type),c,y,s;if(this.hasContent()&&this.enabled){if(this.$element.trigger(h),c=n.contains(document.documentElement,this.$element[0]),h.isDefaultPrevented()||!c)return;var f=this,i=this.tip(),l=this.getUID(this.type);this.setContent();i.attr("id",l);this.$element.attr("aria-describedby",l);this.options.animation&&i.addClass("fade");var t="function"==typeof this.options.placement?this.options.placement.call(this,i[0],this.$element[0]):this.options.placement,a=/\s?auto?\s?/i,v=a.test(t);v&&(t=t.replace(a,"")||"top");i.detach().css({top:0,left:0,display:"block"}).addClass(t).data("bs."+this.type,this);this.options.container?i.appendTo(this.options.container):i.insertAfter(this.$element);var r=this.getPosition(),e=i[0].offsetWidth,o=i[0].offsetHeight;if(v){var p=t,w=this.$element.parent(),u=this.getPosition(w);t="bottom"==t&&r.top+r.height+o-u.scroll>u.height?"top":"top"==t&&r.top-u.scroll-o<0?"bottom":"right"==t&&r.right+e>u.width?"left":"left"==t&&r.left-e<u.left?"right":t;i.removeClass(p).addClass(t)}y=this.getCalculatedOffset(t,r,e,o);this.applyPlacement(y,t);s=function(){f.$element.trigger("shown.bs."+f.type);f.hoverState=null};n.support.transition&&this.$tip.hasClass("fade")?i.one("bsTransitionEnd",s).emulateTransitionEnd(150):s()}};t.prototype.applyPlacement=function(t,i){var r=this.tip(),c=r[0].offsetWidth,e=r[0].offsetHeight,o=parseInt(r.css("margin-top"),10),s=parseInt(r.css("margin-left"),10),h,f,u;isNaN(o)&&(o=0);isNaN(s)&&(s=0);t.top=t.top+o;t.left=t.left+s;n.offset.setOffset(r[0],n.extend({using:function(n){r.css({top:Math.round(n.top),left:Math.round(n.left)})}},t),0);r.addClass("in");h=r[0].offsetWidth;f=r[0].offsetHeight;"top"==i&&f!=e&&(t.top=t.top+e-f);u=this.getViewportAdjustedDelta(i,t,h,f);u.left?t.left+=u.left:t.top+=u.top;var l=u.left?2*u.left-c+h:2*u.top-e+f,a=u.left?"left":"top",v=u.left?"offsetWidth":"offsetHeight";r.offset(t);this.replaceArrow(l,r[0][v],a)};t.prototype.replaceArrow=function(n,t,i){this.arrow().css(i,n?50*(1-n/t)+"%":"")};t.prototype.setContent=function(){var n=this.tip(),t=this.getTitle();n.find(".tooltip-inner")[this.options.html?"html":"text"](t);n.removeClass("fade in top bottom left right")};t.prototype.hide=function(){function r(){"in"!=t.hoverState&&i.detach();t.$element.trigger("hidden.bs."+t.type)}var t=this,i=this.tip(),u=n.Event("hide.bs."+this.type);return this.$element.removeAttr("aria-describedby"),this.$element.trigger(u),u.isDefaultPrevented()?void 0:(i.removeClass("in"),n.support.transition&&this.$tip.hasClass("fade")?i.one("bsTransitionEnd",r).emulateTransitionEnd(150):r(),this.hoverState=null,this)};t.prototype.fixTitle=function(){var n=this.$element;(n.attr("title")||"string"!=typeof n.attr("data-original-title"))&&n.attr("data-original-title",n.attr("title")||"").attr("title","")};t.prototype.hasContent=function(){return this.getTitle()};t.prototype.getPosition=function(t){t=t||this.$element;var r=t[0],i="BODY"==r.tagName;return n.extend({},"function"==typeof r.getBoundingClientRect?r.getBoundingClientRect():null,{scroll:i?document.documentElement.scrollTop||document.body.scrollTop:t.scrollTop(),width:i?n(window).width():t.outerWidth(),height:i?n(window).height():t.outerHeight()},i?{top:0,left:0}:t.offset())};t.prototype.getCalculatedOffset=function(n,t,i,r){return"bottom"==n?{top:t.top+t.height,left:t.left+t.width/2-i/2}:"top"==n?{top:t.top-r,left:t.left+t.width/2-i/2}:"left"==n?{top:t.top+t.height/2-r/2,left:t.left-i}:{top:t.top+t.height/2-r/2,left:t.left+t.width}};t.prototype.getViewportAdjustedDelta=function(n,t,i,r){var f={top:0,left:0},e,u,o,s,h,c;return this.$viewport?(e=this.options.viewport&&this.options.viewport.padding||0,u=this.getPosition(this.$viewport),/right|left/.test(n)?(o=t.top-e-u.scroll,s=t.top+e-u.scroll+r,o<u.top?f.top=u.top-o:s>u.top+u.height&&(f.top=u.top+u.height-s)):(h=t.left-e,c=t.left+e+i,h<u.left?f.left=u.left-h:c>u.width&&(f.left=u.left+u.width-c)),f):f};t.prototype.getTitle=function(){var t=this.$element,n=this.options;return t.attr("data-original-title")||("function"==typeof n.title?n.title.call(t[0]):n.title)};t.prototype.getUID=function(n){do n+=~~(1e6*Math.random());while(document.getElementById(n));return n};t.prototype.tip=function(){return this.$tip=this.$tip||n(this.options.template)};t.prototype.arrow=function(){return this.$arrow=this.$arrow||this.tip().find(".tooltip-arrow")};t.prototype.validate=function(){this.$element[0].parentNode||(this.hide(),this.$element=null,this.options=null)};t.prototype.enable=function(){this.enabled=!0};t.prototype.disable=function(){this.enabled=!1};t.prototype.toggleEnabled=function(){this.enabled=!this.enabled};t.prototype.toggle=function(t){var i=this;t&&(i=n(t.currentTarget).data("bs."+this.type),i||(i=new this.constructor(t.currentTarget,this.getDelegateOptions()),n(t.currentTarget).data("bs."+this.type,i)));i.tip().hasClass("in")?i.leave(i):i.enter(i)};t.prototype.destroy=function(){clearTimeout(this.timeout);this.hide().$element.off("."+this.type).removeData("bs."+this.type)};i=n.fn.tooltip;n.fn.tooltip=r;n.fn.tooltip.Constructor=t;n.fn.tooltip.noConflict=function(){return n.fn.tooltip=i,this}}(jQuery);+function(n){"use strict";function r(i){return this.each(function(){var u=n(this),r=u.data("bs.popover"),f="object"==typeof i&&i;(r||"destroy"!=i)&&(r||u.data("bs.popover",r=new t(this,f)),"string"==typeof i&&r[i]())})}var t=function(n,t){this.init("popover",n,t)},i;if(!n.fn.tooltip)throw new Error("Popover requires tooltip.js");t.VERSION="3.2.0";t.DEFAULTS=n.extend({},n.fn.tooltip.Constructor.DEFAULTS,{placement:"right",trigger:"click",content:"",template:'<div class="popover" role="tooltip"><div class="arrow"><\/div><h3 class="popover-title"><\/h3><div class="popover-content"><\/div><\/div>'});t.prototype=n.extend({},n.fn.tooltip.Constructor.prototype);t.prototype.constructor=t;t.prototype.getDefaults=function(){return t.DEFAULTS};t.prototype.setContent=function(){var n=this.tip(),i=this.getTitle(),t=this.getContent();n.find(".popover-title")[this.options.html?"html":"text"](i);n.find(".popover-content").empty()[this.options.html?"string"==typeof t?"html":"append":"text"](t);n.removeClass("fade top bottom left right in");n.find(".popover-title").html()||n.find(".popover-title").hide()};t.prototype.hasContent=function(){return this.getTitle()||this.getContent()};t.prototype.getContent=function(){var t=this.$element,n=this.options;return t.attr("data-content")||("function"==typeof n.content?n.content.call(t[0]):n.content)};t.prototype.arrow=function(){return this.$arrow=this.$arrow||this.tip().find(".arrow")};t.prototype.tip=function(){return this.$tip||(this.$tip=n(this.options.template)),this.$tip};i=n.fn.popover;n.fn.popover=r;n.fn.popover.Constructor=t;n.fn.popover.noConflict=function(){return n.fn.popover=i,this}}(jQuery);+function(n){"use strict";function t(i,r){var u=n.proxy(this.process,this);this.$body=n("body");this.$scrollElement=n(n(i).is("body")?window:i);this.options=n.extend({},t.DEFAULTS,r);this.selector=(this.options.target||"")+" .nav li > a";this.offsets=[];this.targets=[];this.activeTarget=null;this.scrollHeight=0;this.$scrollElement.on("scroll.bs.scrollspy",u);this.refresh();this.process()}function i(i){return this.each(function(){var u=n(this),r=u.data("bs.scrollspy"),f="object"==typeof i&&i;r||u.data("bs.scrollspy",r=new t(this,f));"string"==typeof i&&r[i]()})}t.VERSION="3.2.0";t.DEFAULTS={offset:10};t.prototype.getScrollHeight=function(){return this.$scrollElement[0].scrollHeight||Math.max(this.$body[0].scrollHeight,document.documentElement.scrollHeight)};t.prototype.refresh=function(){var i="offset",r=0,t;n.isWindow(this.$scrollElement[0])||(i="position",r=this.$scrollElement.scrollTop());this.offsets=[];this.targets=[];this.scrollHeight=this.getScrollHeight();t=this;this.$body.find(this.selector).map(function(){var f=n(this),u=f.data("target")||f.attr("href"),t=/^#./.test(u)&&n(u);return t&&t.length&&t.is(":visible")&&[[t[i]().top+r,u]]||null}).sort(function(n,t){return n[0]-t[0]}).each(function(){t.offsets.push(this[0]);t.targets.push(this[1])})};t.prototype.process=function(){var n,r=this.$scrollElement.scrollTop()+this.options.offset,f=this.getScrollHeight(),e=this.options.offset+f-this.$scrollElement.height(),t=this.offsets,i=this.targets,u=this.activeTarget;if(this.scrollHeight!=f&&this.refresh(),r>=e)return u!=(n=i[i.length-1])&&this.activate(n);if(u&&r<=t[0])return u!=(n=i[0])&&this.activate(n);for(n=t.length;n--;)u!=i[n]&&r>=t[n]&&(!t[n+1]||r<=t[n+1])&&this.activate(i[n])};t.prototype.activate=function(t){this.activeTarget=t;n(this.selector).parentsUntil(this.options.target,".active").removeClass("active");var r=this.selector+'[data-target="'+t+'"],'+this.selector+'[href="'+t+'"]',i=n(r).parents("li").addClass("active");i.parent(".dropdown-menu").length&&(i=i.closest("li.dropdown").addClass("active"));i.trigger("activate.bs.scrollspy")};var r=n.fn.scrollspy;n.fn.scrollspy=i;n.fn.scrollspy.Constructor=t;n.fn.scrollspy.noConflict=function(){return n.fn.scrollspy=r,this};n(window).on("load.bs.scrollspy.data-api",function(){n('[data-spy="scroll"]').each(function(){var t=n(this);i.call(t,t.data())})})}(jQuery);+function(n){"use strict";function i(i){return this.each(function(){var u=n(this),r=u.data("bs.tab");r||u.data("bs.tab",r=new t(this));"string"==typeof i&&r[i]()})}var t=function(t){this.element=n(t)},r;t.VERSION="3.2.0";t.prototype.show=function(){var t=this.element,e=t.closest("ul:not(.dropdown-menu)"),i=t.data("target"),r,u,f;(i||(i=t.attr("href"),i=i&&i.replace(/.*(?=#[^\s]*$)/,"")),t.parent("li").hasClass("active"))||(r=e.find(".active:last a")[0],u=n.Event("show.bs.tab",{relatedTarget:r}),(t.trigger(u),u.isDefaultPrevented())||(f=n(i),this.activate(t.closest("li"),e),this.activate(f,f.parent(),function(){t.trigger({type:"shown.bs.tab",relatedTarget:r})})))};t.prototype.activate=function(t,i,r){function f(){u.removeClass("active").find("> .dropdown-menu > .active").removeClass("active");t.addClass("active");e?(t[0].offsetWidth,t.addClass("in")):t.removeClass("fade");t.parent(".dropdown-menu")&&t.closest("li.dropdown").addClass("active");r&&r()}var u=i.find("> .active"),e=r&&n.support.transition&&u.hasClass("fade");e?u.one("bsTransitionEnd",f).emulateTransitionEnd(150):f();u.removeClass("in")};r=n.fn.tab;n.fn.tab=i;n.fn.tab.Constructor=t;n.fn.tab.noConflict=function(){return n.fn.tab=r,this};n(document).on("click.bs.tab.data-api",'[data-toggle="tab"], [data-toggle="pill"]',function(t){t.preventDefault();i.call(n(this),"show")})}(jQuery);+function(n){"use strict";function i(i){return this.each(function(){var u=n(this),r=u.data("bs.affix"),f="object"==typeof i&&i;r||u.data("bs.affix",r=new t(this,f));"string"==typeof i&&r[i]()})}var t=function(i,r){this.options=n.extend({},t.DEFAULTS,r);this.$target=n(this.options.target).on("scroll.bs.affix.data-api",n.proxy(this.checkPosition,this)).on("click.bs.affix.data-api",n.proxy(this.checkPositionWithEventLoop,this));this.$element=n(i);this.affixed=this.unpin=this.pinnedOffset=null;this.checkPosition()},r;t.VERSION="3.2.0";t.RESET="affix affix-top affix-bottom";t.DEFAULTS={offset:0,target:window};t.prototype.getPinnedOffset=function(){if(this.pinnedOffset)return this.pinnedOffset;this.$element.removeClass(t.RESET).addClass("affix");var n=this.$target.scrollTop(),i=this.$element.offset();return this.pinnedOffset=i.top-n};t.prototype.checkPositionWithEventLoop=function(){setTimeout(n.proxy(this.checkPosition,this),1)};t.prototype.checkPosition=function(){var i,e,o;if(this.$element.is(":visible")){var s=n(document).height(),h=this.$target.scrollTop(),c=this.$element.offset(),r=this.options.offset,f=r.top,u=r.bottom;"object"!=typeof r&&(u=f=r);"function"==typeof f&&(f=r.top(this.$element));"function"==typeof u&&(u=r.bottom(this.$element));i=null!=this.unpin&&h+this.unpin<=c.top?!1:null!=u&&c.top+this.$element.height()>=s-u?"bottom":null!=f&&f>=h?"top":!1;this.affixed!==i&&(null!=this.unpin&&this.$element.css("top",""),e="affix"+(i?"-"+i:""),o=n.Event(e+".bs.affix"),this.$element.trigger(o),o.isDefaultPrevented()||(this.affixed=i,this.unpin="bottom"==i?this.getPinnedOffset():null,this.$element.removeClass(t.RESET).addClass(e).trigger(n.Event(e.replace("affix","affixed"))),"bottom"==i&&this.$element.offset({top:s-this.$element.height()-u})))}};r=n.fn.affix;n.fn.affix=i;n.fn.affix.Constructor=t;n.fn.affix.noConflict=function(){return n.fn.affix=r,this};n(window).on("load",function(){n('[data-spy="affix"]').each(function(){var r=n(this),t=r.data();t.offset=t.offset||{};t.offsetBottom&&(t.offset.bottom=t.offsetBottom);t.offsetTop&&(t.offset.top=t.offsetTop);i.call(r,t)})})}(jQuery);!function(n){"use strict";function u(n,t){return n.toUpperCase().indexOf(t.toUpperCase())>-1}function i(t){return n.each([{re:/[\xC0-\xC6]/g,ch:"A"},{re:/[\xE0-\xE6]/g,ch:"a"},{re:/[\xC8-\xCB]/g,ch:"E"},{re:/[\xE8-\xEB]/g,ch:"e"},{re:/[\xCC-\xCF]/g,ch:"I"},{re:/[\xEC-\xEF]/g,ch:"i"},{re:/[\xD2-\xD6]/g,ch:"O"},{re:/[\xF2-\xF6]/g,ch:"o"},{re:/[\xD9-\xDC]/g,ch:"U"},{re:/[\xF9-\xFC]/g,ch:"u"},{re:/[\xC7-\xE7]/g,ch:"c"},{re:/[\xD1]/g,ch:"N"},{re:/[\xF1]/g,ch:"n"}],function(){t=t.replace(this.re,this.ch)}),t}function r(n){var i={"&":"&","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"},r="(?:"+Object.keys(i).join("|")+")",u=new RegExp(r),f=new RegExp(r,"g"),t=null==n?"":""+n;return u.test(t)?t.replace(f,function(n){return i[n]}):t}function f(i,r){var u=arguments,o=i,i=u[0],r=u[1],f,e;return[].shift.apply(u),"undefined"==typeof i&&(i=o),e=this.each(function(){var s=n(this),e,o,h,c;if(s.is("select")){if(e=s.data("selectpicker"),o="object"==typeof i&&i,e){if(o)for(h in o)o.hasOwnProperty(h)&&(e.options[h]=o[h])}else c=n.extend({},t.DEFAULTS,n.fn.selectpicker.defaults||{},s.data(),o),s.data("selectpicker",e=new t(this,c,r));"string"==typeof i&&(f=e[i]instanceof Function?e[i].apply(e,u):e.options[i])}}),"undefined"!=typeof f?f:e}var t,e;Object.keys||(Object.keys=function(n,t,i){i=[];for(t in n)i.hasOwnProperty.call(n,t)&&i.push(t);return i});n.expr[":"].icontains=function(t,i,r){return u(n(t).text(),r[3])};n.expr[":"].aicontains=function(t,i,r){return u(n(t).data("normalizedText")||n(t).text(),r[3])};t=function(i,r,u){u&&(u.stopPropagation(),u.preventDefault());this.$element=n(i);this.$newElement=null;this.$button=null;this.$menu=null;this.$lis=null;this.options=r;null===this.options.title&&(this.options.title=this.$element.attr("title"));this.val=t.prototype.val;this.render=t.prototype.render;this.refresh=t.prototype.refresh;this.setStyle=t.prototype.setStyle;this.selectAll=t.prototype.selectAll;this.deselectAll=t.prototype.deselectAll;this.destroy=t.prototype.remove;this.remove=t.prototype.remove;this.show=t.prototype.show;this.hide=t.prototype.hide;this.init()};t.VERSION="1.6.3";t.DEFAULTS={noneSelectedText:"Nothing selected",noneResultsText:"No results match",countSelectedText:function(n){return 1==n?"{0} item selected":"{0} items selected"},maxOptionsText:function(n,t){var i=[];return i[0]=1==n?"Limit reached ({n} item max)":"Limit reached ({n} items max)",i[1]=1==t?"Group limit reached ({n} item max)":"Group limit reached ({n} items max)",i},selectAllText:"Select All",deselectAllText:"Deselect All",multipleSeparator:", ",style:"btn-default",size:"auto",title:null,selectedTextFormat:"values",width:!1,container:!1,hideDisabled:!1,showSubtext:!1,showIcon:!0,showContent:!0,dropupAuto:!0,header:!1,liveSearch:!1,actionsBox:!1,iconBase:"glyphicon",tickIcon:"glyphicon-ok",maxOptions:!1,mobile:!1,selectOnTab:!1,dropdownAlignRight:!1,searchAccentInsensitive:!1};t.prototype={constructor:t,init:function(){var i=this,t=this.$element.attr("id");this.$element.hide();this.multiple=this.$element.prop("multiple");this.autofocus=this.$element.prop("autofocus");this.$newElement=this.createView();this.$element.after(this.$newElement);this.$menu=this.$newElement.find("> .dropdown-menu");this.$button=this.$newElement.find("> button");this.$searchbox=this.$newElement.find("input");this.options.dropdownAlignRight&&this.$menu.addClass("dropdown-menu-right");"undefined"!=typeof t&&(this.$button.attr("data-id",t),n('label[for="'+t+'"]').click(function(n){n.preventDefault();i.$button.focus()}));this.checkDisabled();this.clickListener();this.options.liveSearch&&this.liveSearchListener();this.render();this.liHeight();this.setStyle();this.setWidth();this.options.container&&this.selectPosition();this.$menu.data("this",this);this.$newElement.data("this",this);this.options.mobile&&this.mobile()},createDropdown:function(){var t=this.multiple?" show-tick":"",i=this.$element.parent().hasClass("input-group")?" input-group-btn":"",r=this.autofocus?" autofocus":"",u=this.$element.parents().hasClass("form-group-lg")?" btn-lg":this.$element.parents().hasClass("form-group-sm")?" btn-sm":"",f=this.options.header?'<div class="popover-title"><button type="button" class="close" aria-hidden="true">&times;<\/button>'+this.options.header+"<\/div>":"",e=this.options.liveSearch?'<div class="bs-searchbox"><input type="text" class="input-block-level form-control" autocomplete="off" /><\/div>':"",o=this.options.actionsBox?'<div class="bs-actionsbox"><div class="btn-group btn-block"><button class="actions-btn bs-select-all btn btn-sm btn-default">'+this.options.selectAllText+'<\/button><button class="actions-btn bs-deselect-all btn btn-sm btn-default">'+this.options.deselectAllText+"<\/button><\/div><\/div>":"",s='<div class="btn-group bootstrap-select'+t+i+'"><button type="button" class="btn dropdown-toggle selectpicker'+u+'" data-toggle="dropdown"'+r+'><span class="filter-option pull-left"><\/span>&nbsp;<span class="caret"><\/span><\/button><div class="dropdown-menu open">'+f+e+o+'<ul class="dropdown-menu inner selectpicker" role="menu"><\/ul><\/div><\/div>';return n(s)},createView:function(){var n=this.createDropdown(),t=this.createLi();return n.find("ul").append(t),n},reloadLi:function(){this.destroyLi();var n=this.createLi();this.$menu.find("ul").append(n)},destroyLi:function(){this.$menu.find("li").remove()},createLi:function(){var f=this,t=[],o=0,u=function(n,t,i){return"<li"+("undefined"!=typeof i?' class="'+i+'"':"")+("undefined"!=typeof t|null===t?' data-original-index="'+t+'"':"")+">"+n+"<\/li>"},e=function(n,t,u,e){var o=i(r(n));return'<a tabindex="0"'+("undefined"!=typeof t?' class="'+t+'"':"")+("undefined"!=typeof u?' style="'+u+'"':"")+("undefined"!=typeof e?'data-optgroup="'+e+'"':"")+' data-normalized-text="'+o+'">'+n+'<span class="'+f.options.iconBase+" "+f.options.tickIcon+' check-mark"><\/span><\/a>'};return this.$element.find("option").each(function(){var i=n(this),c=i.attr("class")||"",l=i.attr("style"),r=i.data("content")?i.data("content"):i.html(),y="undefined"!=typeof i.data("subtext")?'<small class="muted text-muted">'+i.data("subtext")+"<\/small>":"",h="undefined"!=typeof i.data("icon")?'<span class="'+f.options.iconBase+" "+i.data("icon")+'"><\/span> ':"",v=i.is(":disabled")||i.parent().is(":disabled"),s=i[0].index;if(""!==h&&v&&(h="<span>"+h+"<\/span>"),i.data("content")||(r=h+'<span class="text">'+r+y+"<\/span>"),!f.options.hideDisabled||!v)if(i.parent().is("optgroup")&&i.data("divider")!==!0){if(0===i.index()){o+=1;var a=i.parent().attr("label"),p="undefined"!=typeof i.parent().data("subtext")?'<small class="muted text-muted">'+i.parent().data("subtext")+"<\/small>":"",w=i.parent().data("icon")?'<span class="'+f.options.iconBase+" "+i.parent().data("icon")+'"><\/span> ':"";a=w+'<span class="text">'+a+p+"<\/span>";0!==s&&t.length>0&&t.push(u("",null,"divider"));t.push(u(a,null,"dropdown-header"))}t.push(u(e(r,"opt "+c,l,o),s))}else t.push(i.data("divider")===!0?u("",s,"divider"):i.data("hidden")===!0?u(e(r,c,l),s,"hide is-hidden"):u(e(r,c,l),s))}),this.multiple||0!==this.$element.find("option:selected").length||this.options.title||this.$element.find("option").eq(0).prop("selected",!0).attr("selected","selected"),n(t.join(""))},findLis:function(){return null==this.$lis&&(this.$lis=this.$menu.find("li")),this.$lis},render:function(t){var i=this,e,s,h;t!==!1&&this.$element.find("option").each(function(t){i.setDisabled(t,n(this).is(":disabled")||n(this).parent().is(":disabled"));i.setSelected(t,n(this).is(":selected"))});this.tabIndex();var o=this.options.hideDisabled?":not([disabled])":"",u=this.$element.find("option:selected"+o).map(function(){var r,t=n(this),u=t.data("icon")&&i.options.showIcon?'<i class="'+i.options.iconBase+" "+t.data("icon")+'"><\/i> ':"";return r=i.options.showSubtext&&t.attr("data-subtext")&&!i.multiple?' <small class="muted text-muted">'+t.data("subtext")+"<\/small>":"",t.data("content")&&i.options.showContent?t.data("content"):"undefined"!=typeof t.attr("title")?t.attr("title"):u+t.html()+r}).toArray(),f=this.multiple?u.join(this.options.multipleSeparator):u[0];this.multiple&&this.options.selectedTextFormat.indexOf("count")>-1&&(e=this.options.selectedTextFormat.split(">"),(e.length>1&&u.length>e[1]||1==e.length&&u.length>=2)&&(o=this.options.hideDisabled?", [disabled]":"",s=this.$element.find("option").not('[data-divider="true"], [data-hidden="true"]'+o).length,h="function"==typeof this.options.countSelectedText?this.options.countSelectedText(u.length,s):this.options.countSelectedText,f=h.replace("{0}",u.length.toString()).replace("{1}",s.toString())));this.options.title=this.$element.attr("title");"static"==this.options.selectedTextFormat&&(f=this.options.title);f||(f="undefined"!=typeof this.options.title?this.options.title:this.options.noneSelectedText);this.$button.attr("title",r(f));this.$newElement.find(".filter-option").html(f)},setStyle:function(n,t){this.$element.attr("class")&&this.$newElement.addClass(this.$element.attr("class").replace(/selectpicker|mobile-device|validate\[.*\]/gi,""));var i=n?n:this.options.style;"add"==t?this.$button.addClass(i):"remove"==t?this.$button.removeClass(i):(this.$button.removeClass(this.options.style),this.$button.addClass(i))},liHeight:function(){if(this.options.size!==!1){var t=this.$menu.parent().clone().find("> .dropdown-toggle").prop("autofocus",!1).end().appendTo("body"),n=t.addClass("open").find("> .dropdown-menu"),i=n.find("li").not(".divider").not(".dropdown-header").filter(":visible").children("a").outerHeight(),r=this.options.header?n.find(".popover-title").outerHeight():0,u=this.options.liveSearch?n.find(".bs-searchbox").outerHeight():0,f=this.options.actionsBox?n.find(".bs-actionsbox").outerHeight():0;t.remove();this.$newElement.data("liHeight",i).data("headerHeight",r).data("searchHeight",u).data("actionsHeight",f)}},setSize:function(){var e,b,k;this.findLis();var i,u,o,r=this,t=this.$menu,a=t.find(".inner"),d=this.$newElement.outerHeight(),v=this.$newElement.data("liHeight"),h=this.$newElement.data("headerHeight"),c=this.$newElement.data("searchHeight"),l=this.$newElement.data("actionsHeight"),g=this.$lis.filter(".divider").outerHeight(!0),f=parseInt(t.css("padding-top"))+parseInt(t.css("padding-bottom"))+parseInt(t.css("border-top-width"))+parseInt(t.css("border-bottom-width")),y=this.options.hideDisabled?", .disabled":"",p=n(window),s=f+parseInt(t.css("margin-top"))+parseInt(t.css("margin-bottom"))+2,w=function(){u=r.$newElement.offset().top-p.scrollTop();o=p.height()-u-d};(w(),this.options.header&&t.css("padding-top",0),"auto"==this.options.size)?(e=function(){var n,e=r.$lis.not(".hide");w();i=o-s;r.options.dropupAuto&&r.$newElement.toggleClass("dropup",u>o&&i-s<t.height());r.$newElement.hasClass("dropup")&&(i=u-s);n=e.length+e.filter(".dropdown-header").length>3?3*v+s-2:0;t.css({"max-height":i+"px",overflow:"hidden","min-height":n+h+c+l+"px"});a.css({"max-height":i-h-c-l-f+"px","overflow-y":"auto","min-height":Math.max(n-f,0)+"px"})},e(),this.$searchbox.off("input.getSize propertychange.getSize").on("input.getSize propertychange.getSize",e),n(window).off("resize.getSize").on("resize.getSize",e),n(window).off("scroll.getSize").on("scroll.getSize",e)):this.options.size&&"auto"!=this.options.size&&t.find("li"+y).length>this.options.size&&(b=this.$lis.not(".divider"+y).find(" > *").slice(0,this.options.size).last().parent().index(),k=this.$lis.slice(0,b+1).filter(".divider").length,i=v*this.options.size+k*g+f,r.options.dropupAuto&&this.$newElement.toggleClass("dropup",u>o&&i<t.height()),t.css({"max-height":i+h+c+l+"px",overflow:"hidden"}),a.css({"max-height":i-f+"px","overflow-y":"auto"}))},setWidth:function(){if("auto"==this.options.width){this.$menu.css("min-width","0");var n=this.$newElement.clone().appendTo("body"),t=n.find("> .dropdown-menu").css("width"),i=n.css("width","auto").find("> button").css("width");n.remove();this.$newElement.css("width",Math.max(parseInt(t),parseInt(i))+"px")}else"fit"==this.options.width?(this.$menu.css("min-width",""),this.$newElement.css("width","").addClass("fit-width")):this.options.width?(this.$menu.css("min-width",""),this.$newElement.css("width",this.options.width)):(this.$menu.css("min-width",""),this.$newElement.css("width",""));this.$newElement.hasClass("fit-width")&&"fit"!==this.options.width&&this.$newElement.removeClass("fit-width")},selectPosition:function(){var r,f,t=this,i=n("<div />"),u=function(n){i.addClass(n.attr("class").replace(/form-control/gi,"")).toggleClass("dropup",n.hasClass("dropup"));r=n.offset();f=n.hasClass("dropup")?0:n[0].offsetHeight;i.css({top:r.top+f,left:r.left,width:n[0].offsetWidth,position:"absolute"})};this.$newElement.on("click",function(){t.isDisabled()||(u(n(this)),i.appendTo(t.options.container),i.toggleClass("open",!n(this).hasClass("open")),i.append(t.$menu))});n(window).resize(function(){u(t.$newElement)});n(window).on("scroll",function(){u(t.$newElement)});n("html").on("click",function(r){n(r.target).closest(t.$newElement).length<1&&i.removeClass("open")})},setSelected:function(n,t){this.findLis();this.$lis.filter('[data-original-index="'+n+'"]').toggleClass("selected",t)},setDisabled:function(n,t){this.findLis();t?this.$lis.filter('[data-original-index="'+n+'"]').addClass("disabled").find("a").attr("href","#").attr("tabindex",-1):this.$lis.filter('[data-original-index="'+n+'"]').removeClass("disabled").find("a").removeAttr("href").attr("tabindex",0)},isDisabled:function(){return this.$element.is(":disabled")},checkDisabled:function(){var n=this;this.isDisabled()?this.$button.addClass("disabled").attr("tabindex",-1):(this.$button.hasClass("disabled")&&this.$button.removeClass("disabled"),-1==this.$button.attr("tabindex")&&(this.$element.data("tabindex")||this.$button.removeAttr("tabindex")));this.$button.click(function(){return!n.isDisabled()})},tabIndex:function(){this.$element.is("[tabindex]")&&(this.$element.data("tabindex",this.$element.attr("tabindex")),this.$button.attr("tabindex",this.$element.data("tabindex")))},clickListener:function(){var t=this;this.$newElement.on("touchstart.dropdown",".dropdown-menu",function(n){n.stopPropagation()});this.$newElement.on("click",function(){t.setSize();t.options.liveSearch||t.multiple||setTimeout(function(){t.$menu.find(".selected a").focus()},10)});this.$menu.on("click","li a",function(i){var s=n(this),e=s.parent().data("originalIndex"),k=t.$element.val(),d=t.$element.prop("selectedIndex"),a,v,b;if(i.preventDefault(),!t.isDisabled()&&!s.parent().hasClass("disabled")){var h=t.$element.find("option"),f=h.eq(e),w=f.prop("selected"),l=f.parent("optgroup"),r=t.options.maxOptions,u=l.data("maxOptions")||!1;if(t.multiple){if((f.prop("selected",!w),t.setSelected(e,!w),s.blur(),r!==!1||u!==!1)&&(a=r<h.filter(":selected").length,v=u<l.find("option:selected").length,r&&a||u&&v))if(r&&1==r)h.prop("selected",!1),f.prop("selected",!0),t.$menu.find(".selected").removeClass("selected"),t.setSelected(e,!0);else if(u&&1==u)l.find("option:selected").prop("selected",!1),f.prop("selected",!0),b=s.data("optgroup"),t.$menu.find(".selected").has('a[data-optgroup="'+b+'"]').removeClass("selected"),t.setSelected(e,!0);else{var o="function"==typeof t.options.maxOptionsText?t.options.maxOptionsText(r,u):t.options.maxOptionsText,y=o[0].replace("{n}",r),p=o[1].replace("{n}",u),c=n('<div class="notify"><\/div>');o[2]&&(y=y.replace("{var}",o[2][r>1?0:1]),p=p.replace("{var}",o[2][u>1?0:1]));f.prop("selected",!1);t.$menu.append(c);r&&a&&(c.append(n("<div>"+y+"<\/div>")),t.$element.trigger("maxReached.bs.select"));u&&v&&(c.append(n("<div>"+p+"<\/div>")),t.$element.trigger("maxReachedGrp.bs.select"));setTimeout(function(){t.setSelected(e,!1)},10);c.delay(750).fadeOut(300,function(){n(this).remove()})}}else h.prop("selected",!1),f.prop("selected",!0),t.$menu.find(".selected").removeClass("selected"),t.setSelected(e,!0);t.multiple?t.options.liveSearch&&t.$searchbox.focus():t.$button.focus();(k!=t.$element.val()&&t.multiple||d!=t.$element.prop("selectedIndex")&&!t.multiple)&&t.$element.change()}});this.$menu.on("click","li.disabled a, .popover-title, .popover-title :not(.close)",function(n){n.target==this&&(n.preventDefault(),n.stopPropagation(),t.options.liveSearch?t.$searchbox.focus():t.$button.focus())});this.$menu.on("click","li.divider, li.dropdown-header",function(n){n.preventDefault();n.stopPropagation();t.options.liveSearch?t.$searchbox.focus():t.$button.focus()});this.$menu.on("click",".popover-title .close",function(){t.$button.focus()});this.$searchbox.on("click",function(n){n.stopPropagation()});this.$menu.on("click",".actions-btn",function(i){t.options.liveSearch?t.$searchbox.focus():t.$button.focus();i.preventDefault();i.stopPropagation();n(this).is(".bs-select-all")?t.selectAll():t.deselectAll();t.$element.change()});this.$element.change(function(){t.render(!1)})},liveSearchListener:function(){var t=this,u=n('<li class="no-results"><\/li>');this.$newElement.on("click.dropdown.data-api touchstart.dropdown.data-api",function(){t.$menu.find(".active").removeClass("active");t.$searchbox.val()&&(t.$searchbox.val(""),t.$lis.not(".is-hidden").removeClass("hide"),u.parent().length&&u.remove());t.multiple||t.$menu.find(".selected").addClass("active");setTimeout(function(){t.$searchbox.focus()},10)});this.$searchbox.on("click.dropdown.data-api focus.dropdown.data-api touchend.dropdown.data-api",function(n){n.stopPropagation()});this.$searchbox.on("input propertychange change keyup copy paste cut click mouseup",function(){var f=t.$searchbox.val();f?(t.options.searchAccentInsensitive?t.$lis.not(".is-hidden").removeClass("hide").find("a").not(":aicontains("+i(t.$searchbox.val())+")").parent().addClass("hide"):t.$lis.not(".is-hidden").removeClass("hide").find("a").not(":icontains("+t.$searchbox.val()+")").parent().addClass("hide"),t.$menu.find("li").filter(":visible:not(.no-results)").length?u.parent().length&&u.remove():(u.parent().length&&u.remove(),u.html(t.options.noneResultsText+' "'+r(t.$searchbox.val())+'"').show(),t.$menu.find("li").last().after(u))):(t.$lis.not(".is-hidden").removeClass("hide"),u.parent().length&&u.remove());t.$menu.find("li.active").removeClass("active");t.$menu.find("li").filter(":visible:not(.divider)").eq(0).addClass("active").find("a").focus();n(this).focus();""!==f&&setTimeout(function(){var n=t.$searchbox.val();""===n&&t.$searchbox.trigger("propertychange")},0)})},val:function(n){return"undefined"!=typeof n?(this.$element.val(n),this.render(),this.$element):this.$element.val()},selectAll:function(){this.findLis();this.$lis.not(".divider").not(".disabled").not(".selected").filter(":visible").find("a").click()},deselectAll:function(){this.findLis();this.$lis.not(".divider").not(".disabled").filter(".selected").filter(":visible").find("a").click()},keydown:function(t){var f,r,h,c,l,y,p,b,s,e=n(this),a=e.is("input")?e.parent().parent():e.parent(),u=a.data("this"),w={32:" ",48:"0",49:"1",50:"2",51:"3",52:"4",53:"5",54:"6",55:"7",56:"8",57:"9",59:";",65:"a",66:"b",67:"c",68:"d",69:"e",70:"f",71:"g",72:"h",73:"i",74:"j",75:"k",76:"l",77:"m",78:"n",79:"o",80:"p",81:"q",82:"r",83:"s",84:"t",85:"u",86:"v",87:"w",88:"x",89:"y",90:"z",96:"0",97:"1",98:"2",99:"3",100:"4",101:"5",102:"6",103:"7",104:"8",105:"9"},o,k,v;(u.options.liveSearch&&(a=e.parent().parent()),u.options.container&&(a=u.$menu),f=n("[role=menu] li a",a),s=u.$menu.parent().hasClass("open"),!s&&/([0-9]|[A-z])/.test(String.fromCharCode(t.keyCode))&&(u.options.container?u.$newElement.trigger("click"):(u.setSize(),u.$menu.parent().addClass("open"),s=!0),u.$searchbox.focus()),u.options.liveSearch&&(/(^9$|27)/.test(t.keyCode.toString(10))&&s&&0===u.$menu.find(".active").length&&(t.preventDefault(),u.$menu.parent().removeClass("open"),u.$button.focus()),f=n("[role=menu] li:not(.divider):not(.dropdown-header):visible",a),e.val()||/(38|40)/.test(t.keyCode.toString(10))||0===f.filter(".active").length&&(f=u.$newElement.find("li").filter(u.options.searchAccentInsensitive?":aicontains("+i(w[t.keyCode])+")":":icontains("+w[t.keyCode]+")"))),f.length)&&(/(38|40)/.test(t.keyCode.toString(10))?(r=f.index(f.filter(":focus")),c=f.parent(":not(.disabled):visible").first().index(),l=f.parent(":not(.disabled):visible").last().index(),h=f.eq(r).parent().nextAll(":not(.disabled):visible").eq(0).index(),y=f.eq(r).parent().prevAll(":not(.disabled):visible").eq(0).index(),p=f.eq(h).parent().prevAll(":not(.disabled):visible").eq(0).index(),u.options.liveSearch&&(f.each(function(t){n(this).is(":not(.disabled)")&&n(this).data("index",t)}),r=f.index(f.filter(".active")),c=f.filter(":not(.disabled):visible").first().data("index"),l=f.filter(":not(.disabled):visible").last().data("index"),h=f.eq(r).nextAll(":not(.disabled):visible").eq(0).data("index"),y=f.eq(r).prevAll(":not(.disabled):visible").eq(0).data("index"),p=f.eq(h).prevAll(":not(.disabled):visible").eq(0).data("index")),b=e.data("prevIndex"),38==t.keyCode&&(u.options.liveSearch&&(r-=1),r!=p&&r>y&&(r=y),c>r&&(r=c),r==b&&(r=l)),40==t.keyCode&&(u.options.liveSearch&&(r+=1),-1==r&&(r=0),r!=p&&h>r&&(r=h),r>l&&(r=l),r==b&&(r=c)),e.data("prevIndex",r),u.options.liveSearch?(t.preventDefault(),e.is(".dropdown-toggle")||(f.removeClass("active"),f.eq(r).addClass("active").find("a").focus(),e.focus())):f.eq(r).focus()):e.is("input")||(v=[],f.each(function(){n(this).parent().is(":not(.disabled)")&&n.trim(n(this).text().toLowerCase()).substring(0,1)==w[t.keyCode]&&v.push(n(this).parent().index())}),o=n(document).data("keycount"),o++,n(document).data("keycount",o),k=n.trim(n(":focus").text().toLowerCase()).substring(0,1),k!=w[t.keyCode]?(o=1,n(document).data("keycount",o)):o>=v.length&&(n(document).data("keycount",0),o>v.length&&(o=1)),f.eq(v[o-1]).focus()),(/(13|32)/.test(t.keyCode.toString(10))||/(^9$)/.test(t.keyCode.toString(10))&&u.options.selectOnTab)&&s&&(/(32)/.test(t.keyCode.toString(10))||t.preventDefault(),u.options.liveSearch?/(32)/.test(t.keyCode.toString(10))||(u.$menu.find(".active a").click(),e.focus()):n(":focus").click(),n(document).data("keycount",0)),(/(^9$|27)/.test(t.keyCode.toString(10))&&s&&(u.multiple||u.options.liveSearch)||/(27)/.test(t.keyCode.toString(10))&&!s)&&(u.$menu.parent().removeClass("open"),u.$button.focus()))},mobile:function(){this.$element.addClass("mobile-device").appendTo(this.$newElement);this.options.container&&this.$menu.hide()},refresh:function(){this.$lis=null;this.reloadLi();this.render();this.setWidth();this.setStyle();this.checkDisabled();this.liHeight()},update:function(){this.reloadLi();this.setWidth();this.setStyle();this.checkDisabled();this.liHeight()},hide:function(){this.$newElement.hide()},show:function(){this.$newElement.show()},remove:function(){this.$newElement.remove();this.$element.remove()}};e=n.fn.selectpicker;n.fn.selectpicker=f;n.fn.selectpicker.Constructor=t;n.fn.selectpicker.noConflict=function(){return n.fn.selectpicker=e,this};n(document).data("keycount",0).on("keydown",".bootstrap-select [data-toggle=dropdown], .bootstrap-select [role=menu], .bs-searchbox input",t.prototype.keydown).on("focusin.modal",".bootstrap-select [data-toggle=dropdown], .bootstrap-select [role=menu], .bs-searchbox input",function(n){n.stopPropagation()});n(window).on("load.bs.select.data-api",function(){n(".selectpicker").each(function(){var t=n(this);f.call(t,t.data())})})}(jQuery);var displayCategory={AllCategory:1,FavouriteItems:2,PublicItems:3,RecentItems:4,AllDashboards:5,PublicWidgets:6,AllWidgets:7,AllReports:8,DraftItems:9,OwnedByMe:10,SharedWithMe:11,SpecificCategory:100},defaultSkipDashboardCount=0,defaultTakeDashboardCount=50,skipDashboardCount=defaultSkipDashboardCount,isVirtualRequested=!1,searchValue="";$(document).on("touchend","[data-toggle='dashboard-list-tooltip']",function(){(navigator.userAgent.match(/iPhone/i)||navigator.userAgent.match(/iPod/i)||navigator.userAgent.match(/iPad/i))&&$(this).click()});$(document).ready(function(){intializeGetLinkDialog();parseInt(dashboardItemCount)===0&&$(".preloader-wrap").fadeOut();$(window).resize(function(){window.innerWidth<768?$("#menu-area").addClass("collapse"):$("#menu-area").removeClass("collapse")})});serverApp.controller("DashboardCtrl",["$scope","$http","$timeout","$window","ajaxService",function(n,t,i,r,u){n.activeMenu=displayCategory.AllDashboards;n.activeMenuLabel=window.Server.App.LocalizationContent.AllDashboardInCategory;n.selectedSort="ModifiedDate";n.sortDirection="descending";searchKey!=""&&(searchValue="datasource:"+searchKey,$("#dashboard-search-items").val(searchValue));n.dashboardSearchQuery=searchValue!=""?searchValue:"";n.selectedSortLabel=window.Server.App.LocalizationContent.RecentlyUpdated;n.selectedFilter=displayCategory.AllDashboards;n.selectedFilterLabel=window.Server.App.LocalizationContent.All;n.canCreateDashboard=typeof canCreateDashboard!="undefined"?canCreateDashboard:!1;n.currentUserId=currentUserId;n.isAdmin=isAdmin;n.isMarkItemsPublic=isMarkItemsPublic;n.isMaster=isMaster;n.isSelfHosted=isSelfHosted;n.isAppendLoading=!1;n.isUserBasedMenu=isUserBasedMenu;n.hasScheduleCreatePermission=userPermissionItem.Schedule;n.scheduleItemExist=allItemsCount.Schedule>0;n.expandCatSec=!1;updateFilterParameter(n.selectedFilter,undefined,undefined,n.dashboardSearchQuery,0);n.isTablet=window.innerWidth<=1040;n.isMobile=window.innerWidth<=768;n.samePagePreview=samePagePreview;n.schemesDetails=schemesDetails;n.setActive=function(t,i,r){if(r.preventDefault(),n.dashboardSearchQuery="",n.selectedFilter=n.selectedFilter!=displayCategory.DraftItems?n.selectedFilter:displayCategory.AllDashboards,n.expandCatSec=!1,$(this)[0].categoryItem!=undefined){if($(r.target).hasClass("category-name")||$(r.target).hasClass("category-count")){n.activeMenu=t;n.activeMenuLabel=i;n.categoryCreatedBy=$(this)[0].categoryItem.CreatedByDisplayName;var u=[{PropertyName:"CategoryName",FilterType:"equal",FilterKey:$(this)[0].categoryItem.Name}];updateFilterParameter(n.selectedFilter,undefined,undefined,undefined,u);n.refreshDashboardList()}}else n.activeMenu=t,n.activeMenuLabel=i,n.categoryCreatedBy="",t==displayCategory.DraftItems?updateFilterParameter(displayCategory.DraftItems,undefined,undefined,undefined,0):updateFilterParameter(n.selectedFilter,undefined,undefined,undefined,0),n.refreshDashboardList(),$(".preloader-wrap").fadeOut();historyPush()};n.setSelectedSort=function(t,i,r){n.selectedSort=i;n.sortDirection=r;n.selectedSortLabel=t.target.textContent;var u=[{Name:i,Direction:n.sortDirection}];updateFilterParameter(undefined,undefined,undefined,n.dashboardSearchQuery,undefined,u);n.refreshDashboardList()};n.setSelectedFilter=function(t,i){n.selectedFilter=i;n.selectedFilterLabel=t.target.textContent;updateFilterParameter(i,undefined,undefined,n.dashboardSearchQuery,undefined,undefined);n.refreshDashboardList();historyPush()};n.dashboardDataBindComplete=!1;n.doDashboardComplete=function(){if(n.dashboardDataBindComplete=!0,n.isAppendLoading=!1,i(function(){refreshToolTip("dashboard-list-tooltip");refreshDashboardScroll()},100),typeof $("#dashboard-rendering-iframe").attr("src")=="undefined"&&!$(this)[0].dashboardItem.IsDraft&&!n.isMobile){$("#dashboard-rendering").show();var t=viewDashboardUrlAction+"/"+$(this)[0].dashboardList[0].Id+"/"+$(this)[0].dashboardList[0].CategoryName+"/"+$(this)[0].dashboardList[0].Name;$("#dashboard-rendering-iframe, #dashboard-rendering").css("width",$("#content-area").width()-330);$("#dashboard-rendering-iframe").attr("src",encodeURI(t));$(".dashboard-list-section li:first-child").addClass("active")}$(".preloader-wrap").fadeOut()};n.categoryDataBindComplete=!1;n.doCategoryComplete=function(){n.categoryDataBindComplete=!0;i(function(){refreshToolTip("category-list-tooltip");n.refreshCategoryScroll()},100)};n.toggleFavorite=function(){var n=$(this)[0].dashboardItem;toggleFavorite(n,t)};n.preventDefault=function(t){if(n.samePagePreview&&!n.isMobile){t.preventDefault();var i=viewDashboardUrlAction+"/"+$(this)[0].dashboardItem.Id+"/"+$(this)[0].dashboardItem.CategoryName+"/"+$(this)[0].dashboardItem.Name;$("#dashboard-rendering-iframe").attr("src",encodeURI(i))}};n.expandCategoryList=function(){n.expand=!n.expand;n.refreshCategoryScroll()};n.viewDashboardUrl=function(n,t,i){var r=$("#dashboard-rendering-iframe").attr("src");return typeof r!="undefined"&&r.contains("/"+n+"/")&&!$(this)[0].dashboardItem.IsDraft&&$(".dashboard-tile").eq($(this)[0].$index).addClass("active"),encodeURI(viewDashboardUrlAction+"/"+n+"/"+t+"/"+i+"?showmydashboards=1")};n.editDraftDashboardUrl=function(n,t){return encodeURI(editDashboardUrl+"/"+n+"/draft/"+t)};n.doDashboardSearch=function(){updateFilterParameter(undefined,defaultSkipDashboardCount,defaultTakeDashboardCount,n.dashboardSearchQuery,undefined,undefined);n.dashboardDataBindComplete=!1;n.totalDashboardCount=n.totalDashboardCount==0?1:n.totalDashboardCount;u.getData(getItemUrl,$.param(n.filterParameter)).then(function(t){t.count!=undefined?(n.dashboardList=t.result,n.totalDashboardCount=t.count):WarningAlert(window.Server.App.LocalizationContent.Error,window.Server.App.LocalizationContent.ErrorGettingDashboard,7e3)})};n.onDashboardSearchClear=function(){n.dashboardSearchQuery="";n.doDashboardSearch();i(function(){$("#dashboard-search-items").focus()},100)};n.onCategorySearchClear=function(){n.categorySearchQuery="";n.refreshCategoryScroll();i(function(){$(".category-search-box").focus()},100)};n.refreshDashboardList=function(t){n.dashboardDataBindComplete=t;n.totalDashboardCount=n.totalDashboardCount==0?1:n.totalDashboardCount;t&&i(function(){refreshDashboardScroll()},1e3);u.getData(getItemUrl,$.param(n.filterParameter)).then(function(i){i.count!=undefined?(n.dashboardList=t?n.dashboardList.concat(i.result):i.result,n.totalDashboardCount=i.count,isVirtualRequested=!1):WarningAlert(window.Server.App.LocalizationContent.Error,window.Server.App.LocalizationContent.ErrorGettingDashboard,0);n.totalDashboardCount==0&&$(".preloader-wrap").fadeOut()})};n.refreshCategoryList=function(i){t({method:"post",url:getCategories,data:""}).then(function(t){n.categoryList=t.data;i!==null&&i!==undefined&&setCategorySection(i)},function(){WarningAlert(window.Server.App.LocalizationContent.Error,window.Server.App.LocalizationContent.ErrorGettingCategory,0)})};categoryList!=""&&categoryList.length!=0?n.categoryList=categoryList:n.refreshCategoryList();n.setWidthForDashboardName=function(){return n.activeMenu==displayCategory.AllDashboards?n.isTablet?n.isMobile?"col-xs-12":"col-xs-9":"col-xs-6":n.isTablet?"col-xs-12":"col-xs-8"};applyRouting();n.refreshDashboardList();angular.element(r).bind("resize",function(){n.isTablet=window.innerWidth<=1040;n.isMobile=window.innerWidth<=768;n.$apply();refreshCategoryScroll();refreshDashboardScroll();refreshCustomUI()});n.refreshCategoryScroll=function(){i(function(){refreshCategoryScroll()},1e3)};n.onMobileSearchClicked=function(){n.showSearch=!0;i(function(){$("#dashboard-search-items").focus()},100)};n.onSearchFocusOut=function(){n.isFocus=!1;(n.isTablet||n.samePagePreview)&&n.dashboardSearchQuery==""&&(n.showSearch=!1)};n.getItemSettingsDialog=function(){var n=$(this)[0].dashboardItem;$itemSettings=openItemSettingsDialog(n)};n.getPublishSiteDetailDialog=function(){var n=$(this)[0].dashboardItem;publishSiteDetailDialog(n)};n.openInfo=function(){var n=angular.element("[ng-controller=ItemInfoCtrl]").scope();n.openInfoDialog($(this)[0].dashboardItem,!0)};n.openDashboard=function(n){if(($(n.target.parentElement).hasClass("open-link")||$(n.target).hasClass("open-link"))&&!($(n.target.parentElement).hasClass("context-menu")||$(n.target).hasClass("context-menu"))){var t=$(this)[0].dashboardItem,i=viewDashboardUrlAction+"/"+t.Id+"/"+t.CategoryName+"/"+t.Name;window.open(i,"_blank")}};n.editDashboard=function(){var n=$(this)[0].dashboardItem,t;n.IsMultiDashboard?geteditSlideshowDetail(n.Id,!0):(t=editDashboardUrl+"/"+n.Id+"/"+n.CategoryName+"/"+n.Name,window.open(t,"_blank"))};n.editDraftDashboard=function(){var n=$(this)[0].dashboardItem,t=editDashboardUrl+"/"+n.Id+"/draft/"+n.Name;window.open(t,"_blank")};n.makePublic=function(){makePublic($(this)[0].dashboardItem)};n.makePrivate=function(){makePrivate($(this)[0].dashboardItem)};n.getItemLink=function(){GetLink($(this)[0].dashboardItem)};n.getEmbedCode=function(){EmbedCode($(this)[0].dashboardItem)};n.getDashboardViews=function(n){getDashboardViews($(this)[0].dashboardItem,n.currentTarget.parentElement)};n.viewSchedules=function(){var n=$(this)[0].dashboardItem,t=viewSchedulesUrl+"?dashboard="+n.Name;window.open(t,"_blank")};n.copyDashboard=function(){isMultiTab=!1;CopyDashboardItem($(this)[0].dashboardItem,"Copy")};n.cloneDashboard=function(){isMultiTab=!1;CopyDashboardItem($(this)[0].dashboardItem,"Clone")};n.moveDashboard=function(){isMultiTab=!1;MoveDashboardItem($(this)[0].dashboardItem,"Move")};n.scheduleDashboard=function(){ScheduleDashboard($(this)[0].dashboardItem)};n.shareDashboardPermission=function(){shareDashboardPermission($(this)[0].dashboardItem)};n.sharePermission=function(){shareDashboardPermission($(this)[0].categoryItem)};n.versionHistory=function(){var n=$(this)[0].dashboardItem;VersionHistory(n.Id,n.Name,n.IsMultiDashboard)};n.updateDashboard=function(){EditDashboard($(this)[0].dashboardItem.Id)};n.updateDashboardDataSource=function(){UpdateDashboardDataSource($(this)[0].dashboardItem.Id)};n.deleteItem=function(){DeleteItem($(this)[0].dashboardItem)};n.editCategory=function(){EditCategory($(this)[0].categoryItem.Id,$(this)[0].categoryItem.Name,$(this)[0].categoryItem.Description)};n.deleteCategory=function(){deleteCategory($(this)[0].categoryItem)};n.expandCategorySection=function(){n.expandCatSec=!n.expandCatSec;n.refreshCategoryScroll()}}]);serverApp.directive("myPostRepeatDirective",function(){return function(n){n.$last&&n.$eval("doDashboardComplete()")}});serverApp.directive("categoryRepeatDirective",function(){return function(n){n.$last&&n.$eval("doCategoryComplete()")}});serverApp.animation(".category-slide",function(){var n="ng-hide";return{beforeAddClass:function(t,i,r){i===n&&t.slideUp(r)},removeClass:function(t,i,r){i===n&&t.hide().slideDown(r)}}});serverApp.controller("MobileViewSortCtrl",["$scope",function(n){n.selectedSort="ModifiedDate";n.sortDirection="descending";n.updateSortSelection=function(t,i,r){n.selectedSort=i;n.sortDirection=r};n.onSortApplyClicked=function(){var t=angular.element("[ng-controller=DashboardCtrl]").scope(),i;t.selectedSort=n.selectedSort;t.sortDirection=n.sortDirection;i=[{Name:t.selectedSort,Direction:t.sortDirection}];updateFilterParameter(undefined,undefined,undefined,t.dashboardSearchQuery,undefined,i);t.refreshDashboardList()}}]);$(document).on("shown.bs.dropdown","#dashboard-scroll-content .dashboard-tile",function(){if($(".tooltip").hide(),$(this).find(".context-menu").length>0){var t=$(this).offset().top+$(this).outerHeight(!0)/2-$("#parent-dashboard-scroll-element").offset().top,i=$("#dashboard-scroll-content").height()-$(this).offset().top-$(this).outerHeight(!0)/2,n=$(this).find(".dashboard-options").outerHeight(!0);i<=n&&t>=n?$(this).find(".context-menu").removeClass("dropdown").addClass("dropup"):refreshDashboardScroll()}});$(document).on("hidden.bs.dropdown","#dashboard-scroll-content .dashboard-tile",function(){refreshDashboardScroll()});$(document).on("shown.bs.dropdown","#category-scroll-content .category-item",function(){if($(".tooltip").hide(),$(this).find(".category-context-menu").length>0){var n=$("#parent-category-scroll-element"),i=$(this).offset().top+$(this).outerHeight(!0)/2-n.offset().top,r=n.height()-($(this).offset().top-n.offset().top+$(this).outerHeight(!0)/2),t=$(this).find(".category-context-menu .dropdown-menu").outerHeight(!0);r<=t&&i>=t?$(this).find(".category-context-menu").removeClass("dropdown").addClass("dropup"):refreshCategoryScroll()}});$(document).on("hidden.bs.dropdown","#dashboard-scroll-content .dashboard-tile",function(){refreshCategoryScroll()});window.onpopstate=function(){applyRouting();ResetItemList(ItemType.Dashboard)};$(document).on("mousedown touchstart","#parent-dashboard-scroll-element .e-scrollbar, #parent-category-scroll-element .e-scrollbar",function(){$(this).addClass("active")});$(document).on("mouseup touchend mouseleave","#server-app-container",function(){$("#parent-dashboard-scroll-element .e-scrollbar, #parent-category-scroll-element .e-scrollbar").removeClass("active")});$(document).on("click",".dashboard-tile",function(){$(".dashboard-list-section li").removeClass("active");$(this).addClass("active")});$(function(){$("#EditCategoryPopup").ejDialog({width:"600px",height:"250px",showOnInit:!1,allowDraggable:!1,enableResize:!1,showHeader:!1,enableModal:!0,closeOnEscape:!0});var n=createLoader("EditCategoryPopup_wrapper");$("#EditCategoryPopup_wrapper").ejWaitingPopup({template:$("#"+n)})});isSupported=!1;type="";$(document).on("click","#launcher",function(n){if(i_am_ie9)n.preventDefault(),messageBox("su-info",window.Server.App.LocalizationContent.Information,window.Server.App.LocalizationContent.UnableToLaunchdesigner+" <a href='"+designerInstallationHelpUrl+"'>"+window.Server.App.LocalizationContent.LinkContent+"<\/a> "+window.Server.App.LocalizationContent.OpenDashboardDesigner,"success",function(){onCloseMessageBox()});else{var t=$(this).children("#designerArgument").html(),i=$("#DesignerName").val()+":"+t;launchApplication(i)}});$(function(){$(parent.window).width()>1400?$("#datasource-update").addClass("iframe-content-height"):$("#datasource-update").removeClass("iframe-content-height");parent.$("#update-data-source-popup-iframe").contents().find("#share-datasource").attr("disabled",!0);window.parent.ShowWaitingProgress("#update-data-source-popup_wrapper","hide");$(document).on("click",".bootstrap-select ul li.add-new",function(){$(this).parent().prev().addClass("input-value");parent.$("#update-data-source-popup-iframe").contents().find(".bootstrap-select ul").find(".select-data-source").show();parent.$("#update-data-source-popup-iframe").contents().find(".bootstrap-select ul").find(".divider").show();parent.$("#datasource-popup").ejDialog("open");parent.$("#datasource-popup_wrapper").ejWaitingPopup("show")});$(document).on("click","#add-new-datasource",function(){parent.$("#update-data-source-popup-iframe").contents().find("select").removeClass("current-select");$(this).parent().prev().children().find("select").addClass("current-select");parent.$("#update-data-source-popup-iframe").contents().find(".bootstrap-select ul").find(".select-data-source").show();parent.$("#update-data-source-popup-iframe").contents().find(".bootstrap-select ul").find(".divider").show();parent.$("#datasource-popup").ejDialog("open");parent.$("#datasource-popup_wrapper").ejWaitingPopup("show")});$(document).on("click","#update-data-source-popup-iframe .dropdown-toggle",function(){parent.$("#update-data-source-popup-iframe").contents().find("select").removeClass("current-select");$(".bootstrap-select.open ul .add-new").remove();$(this).parent().prev().addClass("current-select");parent.$("#update-data-source-popup-iframe").contents().find(".bootstrap-select ul").find(".select-data-source").show();parent.$("#update-data-source-popup-iframe").contents().find(".bootstrap-select ul").find(".divider").show()});$(document).on("keyup",".update-datasource.bootstrap-select.open input",function(){var i=[],n,t,r;$(".bootstrap-select.open ul .add-new").remove();n=$(this).val();t=n.toLowerCase();n==""?($(".select-data-source").show(),$(".divider").show()):($(".select-data-source").hide(),$(".divider").hide());$(".bootstrap-select.open").find("ul li").each(function(){$(this).children("a").children("span.text").text()!=""&&i.push($(this).children("a").children("span.text").text().toLowerCase())});r=$.inArray(t,i);t!=""&&(r==-1?$(".bootstrap-select.open").find("li:not('.hide')").length>2?($(".bootstrap-select.open ul .divider").show(),$(".bootstrap-select.open ul li").hasClass("no-results")&&($(".bootstrap-select.open ul .no-results").hide(),$(".bootstrap-select.open ul .divider").hide())):$(".bootstrap-select.open ul .divider").hide():($(".bootstrap-select.open ul .add-new").remove(),$(".bootstrap-select.open ul .divider").hide()))});$(document).on("click","#share-datasource",function(){window.parent.ShowWaitingProgress("#update-data-source-popup_wrapper","show");var i=$(this).attr("data-item-id"),r=parent.$("#update-data-source-popup-iframe").contents().find("select"),n=[],t;$(r).each(function(){$(this).attr("data-original-value")!=$(this).val()&&(t={DataSourceId:this.value,Name:$(this).attr("name")},n.push(t))});$.ajax({type:"POST",url:updatedatasource,data:{itemId:i,updatedDataSources:n},success:function(n){n.Success?(closeUpdateDataSourcePopup(),parent.messageBox("su-update-data-source",window.Server.App.LocalizationContent.UpdatedataSources,window.Server.App.LocalizationContent.UpdateDataSourcesSuccess,"success",function(){var n=parent.window.CategoryId,t,i,r;typeof n!="undefined"&&n!=""&&(t=parent.angular.element(parent.document.getElementById("server-items-container")).scope(),i=window.parent.$("#item-grid-container").attr("data-grid-name"),i=="dashboards"&&t.refreshCategorySection(n),parent.window.CategoryId="");parent.onCloseMessageBox();r=parent.angular.element("[ng-controller=DashboardCtrl]").scope();r.refreshDashboardList()})):parent.messageBox("su-update-data-source",window.Server.App.LocalizationContent.UpdateDataSourcesError,window.Server.App.LocalizationContent.InternalServerError,"success",function(){parent.onCloseMessageBox()})}});window.parent.ShowWaitingProgress("#update-data-source-popup_wrapper","hide")});$(document).on("change",".update-datasource",function(){var n=[],t=[],i=parent.$("#update-data-source-popup-iframe").contents().find("select");$(i).each(function(){n.push($(this).attr("data-original-value"));t.push($(this).val())});n.toString()==t.toString()?parent.$("#update-data-source-popup-iframe").contents().find("#share-datasource").attr("disabled",!0):parent.$("#update-data-source-popup-iframe").contents().find("#share-datasource").attr("disabled",!1)})});$(document).ready(function(){$("#create-connection-popup").ejDialog({width:$(window).width(),height:$(window).height(),showOnInit:!1,allowDraggable:!1,enableResize:!1,enableModal:!0,showHeader:!1,close:"onCreateConnectionDialogClose",closeOnEscape:!0,beforeClose:function(){parent.$("#create-connection-popup").ejWaitingPopup("hide");$("#create-connection-popup").addClass("display-none")}});$(document).on("click","#create-datasource-connection, .create-datasource-connection",function(){var n=createLoader("#create-connection-popup");$("#create-connection-popup").ejWaitingPopup({template:$("#"+n)});window.datasourceQueryString!=null&&window.datasourceQueryString!=undefined&&window.datasourceQueryString!=""?$("#create-connection-iframe").attr("src",createDatasourceIframeUrl+"?"+window.datasourceQueryString):$("#create-connection-iframe").attr("src",createDatasourceIframeUrl);$("#connection-header").addClass("display-none");$("#create-connection-popup").removeClass("display-none");$("#create-connection-popup").ejDialog("open");$("#create-connection-popup_wrapper #create-connection-popup #create-connection-iframe").css("height",$(window).height()-44);$("#create-connection-popup").ejWaitingPopup("show")})})