var isCutomDomainDeleteDialogBinded=!1;function ResetCustomDomainDialog(){$("#custom-domain-name").val(""),$("#custom-domain-name").removeAttr("disabled"),$(".validate-custom-domain-div").show(),$("#custom-domain-footer").show(),$(".charge-custom-domain-div").show(),$(".domain-registration-success").hide(),$("#custom-domain-popup").ejDialog({width:440}),$("#custom-domain-popup").ejDialog("refresh")}function OnCustomDomainOpen(){$("#custom-domain-name").focus()}function OnCustomDomainClose(){ResetCustomDomainDialog()}function IsValidDomainName(o){return new RegExp(/^((?:(?:(?:\w[\.\-\+]?)*)\w)+)\.((?:(?:(?:\w[\.\-\+]?){0,62})\w)+)\.(\w{2,6})$/).test(o)}function refreshCustomDomainDialogBoxPosition(){var o=$("#custom-domain-popup");o.ejDialog({width:441}),o.ejDialog({width:440}),o.ejDialog("refresh")}function deleteCustomDomainConfirmation(){ejs.popups.showSpinner(document.getElementById("delete-custom-domain-dialog"));var e=document.getElementById("delete-custom-domain-dialog").ej2_instances;$.ajax({type:"POST",url:deleteCustomDomainUrl,contentType:!1,processData:!1,success:function(o){ejs.popups.hideSpinner(document.getElementById("delete-custom-domain-dialog")),e[0].hide(),o.Status?(successToast(window.Server.App.Localization.DeleteCustomDomainSuccess,7e3),window.location.href=o.Data):warningToast(window.Server.App.Localization.DeleteCustomDomainWarning)}})}$(document).ready(function(o){$("#custom-domain-popup").ejDialog({width:"440px",height:"auto",showOnInit:!1,allowDraggable:!1,enableResize:!1,showHeader:!1,enableModal:!0,open:"OnCustomDomainOpen",close:"OnCustomDomainClose"});var e=createLoader("custom-domain-popup_wrapper");$("#custom-domain-popup_wrapper").ejWaitingPopup({template:$("#"+e)}),$(document).on("click","#card-pay-now-button",function(o){o.preventDefault(),$("#card-pay-now-button").is(":visible")&&buyCustomDomain()}),$(document).on("click","#custom-domain-element",OnDeleteCustomDomainClose),$(document).on("click","#custom-domain-link",function(){setSelectionRange(0,this.value.length)}),$(document).on("click","#delete-custom-domain-confirmation-option",OnDeleteCustomDomainClose)}),$(document).on("click","#add-custom-domain",function(o){$("#custom-domain-popup").show(),$("#custom-domain-popup").ejDialog("open"),$("#update-custom-domain").attr("disabled",!0)}),$(document).on("click",".close-custom-domain",function(o){$(".custom-domain-input").removeClass("has-error"),$("#domain-validation-message").text(""),$("#custom-domain-popup").ejDialog("close")}),$(document).on("click",".registration-success-close",function(o){$("#custom-domain-popup").ejDialog("close"),showWaitingPopup("server-app-container"),location.reload()}),$(document).on("click",".custom-domain-link-copy",function(o){var e=$(".custom-domain-link-copy");$(".custom-domain-link").select(),/Safari/.test(navigator.userAgent)&&/Apple Computer/.test(navigator.vendor)?e.removeClass("su su-copy").attr("data-original-title",""):(document.execCommand("copy"),e.tooltip("hide").attr("data-original-title",window.Server.App.Localization.Copysuccess).tooltip("fixTitle").tooltip("show"),setTimeout(function(){e.attr("data-original-title",window.Server.App.Localization.LinkCopy),e.tooltip()},7e3))}),$(document).on("keyup","#custom-domain-name",function(o){this.value=this.value.toLowerCase();var e=$("#custom-domain-name").val().trim();0<e.length&&IsValidDomainName(e)?($(".custom-domain-input").removeClass("has-error"),$("#update-custom-domain").removeAttr("disabled"),$("#domain-validation-message").text(""),13==o.which&&$("#update-custom-domain").click()):($("#update-custom-domain").attr("disabled",!0),$("#domain-validation-message").text(window.Server.App.Localization.DomainValidationError))}),$(document).on("click","#update-custom-domain",function(){$("#custom-domain-name, #update-custom-domain").attr("disabled",!0),$("#domain-validation-message").text("");var e=$("#custom-domain-name").val().trim();0<e.length&&IsValidDomainName(e)?($("#custom-domain-popup_wrapper").ejWaitingPopup("show"),$.ajax({type:"POST",url:addCustomDomainUrl,data:{customHostName:e},success:function(o){$("#custom-domain-name").removeAttr("disabled"),$("#custom-domain-popup_wrapper").ejWaitingPopup("hide"),o.Status?($(".validate-custom-domain-div").hide(),$("#custom-domain-footer").hide(),$(".upload-ssl-certificate-div").hide(),$(".custom-domain-address").text(e),$(".custom-domain-address").attr("href","https://"+e),$(".domain-registration-success").show()):($(".custom-domain-input").addClass("has-error"),$("#domain-validation-message").text(o.StatusMessage),$("#custom-domain-name").focus())},error:function(){$("#custom-domain-name").removeAttr("disabled")}})):($(".custom-domain-input").addClass("has-error"),$("#domain-validation-message").text(window.Server.App.Localization.DomainValidationError),$("#custom-domain-name").focus())}),$(document).on("click","#delete-custom-domain",function(){var o,e,t=$("#default-domain-id").val(),t="<div id='delete-domain-content'>"+window.Server.App.Localization.DeleteCutomDomainConfirm+"</div><li class='col-12'>"+window.Server.App.Localization.DeleteCutomDomainCheck1.format(t)+"</li><li class='col-12'>"+window.Server.App.Localization.DeleteCutomDomainCheck2+"</li><li class='col-12'>"+window.Server.App.Localization.DeleteCutomDomainCheck3+"</li><li class='col-12'>"+window.Server.App.Localization.DeleteCutomDomainCheck4+"</li>",i='<span class="dialog-header-with-icon"><span class ="dialog-header-title"><i class="su su-delete dialog-header-icon"></i>&nbsp;&nbsp;'+window.Server.App.Localization.DeleteCustomDomain+"</span></span>";isCutomDomainDeleteDialogBinded?((e=document.getElementById("delete-custom-domain-dialog").ej2_instances)[0].header=i,e[0].show()):((o=document.createElement("div")).setAttribute("id","delete-custom-domain-dialog"),document.getElementById("server-app-container").appendChild(o),(e=new ejs.popups.Dialog({showOnInit:!1,allowDraggable:!1,enableResize:!1,width:460<window.innerWidth?"500px":window.innerWidth-10,height:"auto",showHeader:!1,animationSettings:{effect:"Zoom"},isModal:!0,enableModal:!0,closeOnEscape:!0,header:i,showCloseIcon:!0,content:t,buttons:[{click:function(o){deleteCustomDomainConfirmation()},buttonModel:{cssClass:"app-btn-danger",content:window.Server.App.Localization.YesButton}},{click:function(){e.hide()},buttonModel:{cssClass:"app-btn-secondary",content:window.Server.App.Localization.NoButton}}]})).appendTo(o),isCutomDomainDeleteDialogBinded=!0),ejs.popups.createSpinner({target:document.getElementById("delete-custom-domain-dialog")}),ejs.popups.setSpinner({type:"Material"})});