/*!
*  filename: multitab-dashboard-options.min.js
*  version : unknown version
*  Copyright Syncfusion Inc. 2001 - 2013. All rights reserved.
*  Use of this code is subject to the terms of our license.
*  A copy of the current license can be obtained at any time by e-mailing
*  licensing@syncfusion.com. Any infringement will be prosecuted under
*  applicable laws. 
*/
function CloseDashboardView(){var t,n;$("#dashboard").length!=0?(containSaveFilter&&$("#saved-filter").show(),$("#dashboard").toggleClass("dashboard"),$(".view-heading").toggle(),$("#dashboard-views").toggle(),$("#dashboard-view-toogle").toggleClass("dashboard-view-toogle"),$("#dashboard-view-toogle #close-container a").css("display","none"),$("#is_mobile").val()=="false"&&(setDashboardWidth(),t=$("#dashboard").data("BoldBIDashboardDesigner"),t.resizeDashboard())):isMultiTab&&$("#"+$(".e-content .e-active").attr("data-designer-id")).length!=0?(containSaveFilter&&$("#saved-filter").show(),$("#saved-list .saved-list-content-div").remove(),$("#"+$(".e-content .e-active").attr("data-designer-id")).toggleClass("dashboard"),$(".view-heading").toggle(),$("#dashboard-views").toggle(),$("#dashboard-view-toogle").toggleClass("dashboard-view-toogle"),$("#dashboard-view-toogle #close-container a").css("display","none"),$("#is_mobile").val()=="false"&&(setDashboardWidth(),dashboardviewerObj=getDashboardInstance(),typeof dashboardviewerObj!="undefined"&&dashboardviewerObj.resizeDashboard())):(n=$("#dashboard_render_iframe"),containSaveFilter&&n.contents().find("#saved-filter").show(),n.contents().find("#dashboard").toggleClass("dashboard"),n.contents().find(".view-heading").toggle(),n.contents().find("#dashboard-views").toggle(),n.contents().find("#dashboard-view-toogle").toggleClass("dashboard-view-toogle"),n.contents().find("#dashboard-view-toogle #close-container a").css("display","none"))}function filterView(){var n=getcurrentfilters();n!=""&&n!=null&&n.masterData!=null&&n.masterData.length>0?(SavedViewHeight(),(viewId==null||viewId=="")&&$("#saved-filter-Saveas").css("display")=="none"&&$("#saved-filter-update").css("display")=="none"&&($("#new-save").show(),enableComment.toString().toLowerCase()=="true"&&($("#new-save").removeClass("pointer-events"),$("#new-save").css("opacity",1)),$("#nofilters").css("display","none"))):($("#new-save").addClass("pointer-events"),$("#new-save").css("opacity",.5),$("#nofilters").css("display","block"));unsavedFilters();GetSavedFilter();refreshScroller()}function GetSavedFilter(){var t=getDashboardInstance(),n;item_Id=t.model.itemId;userName=typeof userName!="undefined"?userName:name;userId=typeof userId!="undefined"?userId:id;pageurl=typeof pageurl!="undefined"?isMultiTab?multiTabUrl:pageurl:viewUrl;n={itemId:item_Id,userId:userId,userName:userName,isMultiDashboard:isMultiTab,parentDashboardId:multiTabId!=""?multiTabId:null,itemType:dashboardItemDetail.ItemType};ajaxPostCall("POST",getSavedViewUrl,n,null,getViewsResult,errorViewResult,null)}function errorViewResult(){resetViewPanel();SavedViewHeight();refreshScroller();typeof dashboardViewPanelObj!="undefined"&&dashboardViewPanelObj!=""&&dashboardViewPanelObj.BoldBIDashboardWaitingPopup("hide")}function getViewsResult(n){var s=n.IsItemOwner,f=isMultiTab?dashboardItemDetail.Name:"",e,i,o,t;if($("#saved-filter").length>0?$("#saved-filter").html(""):parent.$("#saved-filter").html(""),e='<div id="saved-list" style="display: block"><div class="saved-list-content-div" style="float: left">',i=embedConfig.IsEmbedCode?n.ResponseContent:jQuery.parseJSON(n.Result),i=i.ResponseContent,i.length>0){for(containSaveFilter=!0,$("#saved-filter").length>0?$("#saved-filter").show():parent.$("#saved-filter").show(),t=0;t<i.length;t++){var r=i[t].ViewId,h=i[t].ViewName,u="";userName==""?u='<div class="saved-opt"><span class="dropdown viewoptions"><\/span>':embedConfig.IsEmbedDashboard||(u=i[t].IsDefault?'<div class="saved-opt"><span class="dropdown viewoptions"><span class="dropdown-toggle" title="Actions" data-placement="top" data-toggle="dropdown"><span class="opt" viewid="'+r+'" itemId="'+item_Id+'" viewname="'+i[t].ViewName+'"><span  viewid = "'+r+'" itemId="'+item_Id+'" viewname="'+i[t].ViewName+'" class ="set-default su su-remove-default cursor-pointer" data-original-title="'+window.Server.App.Localization.RemoveAsDefaultView+'" data-toggle="dropdown" data-placement="top" title=""><\/span><\/span><\/span><ul class="dropdown-menu"><li class="remove-default cursor-pointer option-click"><span>'+window.Server.App.Localization.RemoveAsDefaultTitle+" <\/span><\/li><\/ul><\/span>":'<div class="saved-opt"><span class="dropdown viewoptions"><span class="dropdown-toggle" title="Actions" data-placement="top" data-toggle="dropdown"><span class="opt" viewid="'+r+'" itemId="'+item_Id+'" viewname="'+i[t].ViewName+'"><span  viewid = "'+r+'" itemId="'+item_Id+'" viewname="'+i[t].ViewName+'" class ="set-default su su-set-default cursor-pointer" data-original-title="'+window.Server.App.Localization.MarkAsDefault+'" data-toggle="dropdown" data-placement="top" title=""><\/span><\/span><\/span><ul class="dropdown-menu"><li class="mark-default cursor-pointer option-click"><span>'+window.Server.App.Localization.SetAsDefaultTitle+"<\/span><\/li><\/ul><\/span>");u+=i[t].CanDelete&&i[t].CanShare&&!embedConfig.IsEmbedCode&&!isMultiTab?'<span class="opt" viewid="'+r+'" itemId="'+item_Id+'" viewname="'+i[t].ViewName+'"><span viewid="'+r+'" itemId="'+item_Id+'" viewname="'+i[t].ViewName+'"  class = "delete su su-delete cursor-pointer" data-toggle="tooltip" data-original-title="'+window.Server.App.Localization.Delete+'" ><\/span><\/span><span class="opt" viewid="'+r+'" itemId="'+item_Id+'" viewname="'+i[t].ViewName+'"><span  viewid="'+r+'" itemId="'+item_Id+'" viewname="'+i[t].ViewName+'" class = "share su su-share  cursor-pointer" data-toggle="tooltip" data-original-title="'+window.Server.App.Localization.Share+'"><\/span><\/span><span class="opt" viewid="'+r+'" itemId="'+item_Id+'" viewname="'+i[t].ViewName+'"><span  viewid="'+r+'" itemId="'+item_Id+'" viewname="'+i[t].ViewName+'" class ="su su-link View-link-copy cursor-pointer" data-original-title="'+window.Server.App.Localization.LinkCopy+'" data-toggle="tooltip" data-placement="top" title=""><\/span><\/span><\/div>':i[t].CanDelete?'<span class="opt" viewid="'+r+'" itemId="'+item_Id+'" viewname="'+i[t].ViewName+'"><span viewid="'+r+'" itemId="'+item_Id+'" viewname="'+i[t].ViewName+'"  class = "delete su su-delete cursor-pointer" data-toggle="tooltip" data-original-title="'+window.Server.App.Localization.Delete+'" ><\/span><\/span><span class="opt" viewid="'+r+'" itemId="'+item_Id+'" viewname="'+i[t].ViewName+'"><span  viewid="'+r+'" itemId="'+item_Id+'" viewname="'+i[t].ViewName+'" class = "su su-link View-link-copy cursor-pointer" data-original-title="'+window.Server.App.Localization.LinkCopy+'" data-toggle="tooltip" data-placement="top" title=""><\/span><\/span><\/div>':i[t].CanShare&&!embedConfig.IsEmbedCode?'<span class="opt" viewid="'+r+'" itemId="'+item_Id+'" viewname="'+i[t].ViewName+'"><span  viewid="'+r+'" itemId="'+item_Id+'" viewname="'+i[t].ViewName+'" class = "share su su-share  cursor-pointer" data-toggle="tooltip" data-original-title="'+window.Server.App.Localization.Share+'"><\/span><\/span><span class="opt" viewid="'+r+'" itemId="'+item_Id+'" viewname="'+i[t].ViewName+'"><span  viewid="'+r+'" itemId="'+item_Id+'" viewname="'+i[t].ViewName+'" class = "su su-link View-link-copy cursor-pointer" data-original-title="'+window.Server.App.Localization.LinkCopy+'" data-toggle="tooltip" data-placement="top" title=""><\/span><\/span><\/div>':'<span class="opt" viewid="'+r+'" itemId="'+item_Id+'" viewname="'+i[t].ViewName+'"><span  viewid="'+r+'" itemId="'+item_Id+'" viewname="'+i[t].ViewName+'" class = "su su-link View-link-copy cursor-pointer" data-original-title="'+window.Server.App.Localization.LinkCopy+'" data-toggle="tooltip" data-placement="top" title=""><\/span><\/span><\/div>';pageurl=pageurl.indexOf("/embed/")>-1?pageurl.replace("/embed/","/"):pageurl;e+=f!=""?i[t].IsDefault?'<li class="saved-view" viewid="'+r+'">'+u+'<label class="saved-filter txt-overflow" viewid="'+r+'" itemId="'+item_Id+'"><a class="view-link txt-overflow saved-filter-anchor"  href="'+pageurl+"?tab="+f+"&viewid="+r+'" data-url="'+pageurl+"?tab="+f+"&viewid="+r+'" target="_blank" data-toggle="tooltip" data-original-title="'+i[t].ViewName+'">'+i[t].ViewName+'<\/a><a class="view-default">('+window.Server.App.Localization.Default+")<\/a ><\/label ><\/li > ":'<li class="saved-view" viewid="'+r+'">'+u+'<label class="saved-filter txt-overflow" viewid="'+r+'" itemId="'+item_Id+'"><a class="view-link txt-overflow saved-filter-anchor"  href="'+pageurl+"?tab="+f+"&viewid="+r+'" data-url="'+pageurl+"?tab="+f+"&viewid="+r+'" target="_blank" data-toggle="tooltip" data-original-title="'+i[t].ViewName+'">'+i[t].ViewName+"<\/a><\/label><\/li>":i[t].IsDefault?'<li class="saved-view" viewid="'+r+'">'+u+'<label class="saved-filter txt-overflow" viewid="'+r+'" itemId="'+item_Id+'"><a class="view-link txt-overflow saved-filter-anchor"  href="'+pageurl+"?viewid="+r+'" data-url="'+pageurl+"?viewid="+r+'" target="_blank" data-toggle="tooltip" data-original-title="'+i[t].ViewName+'">'+i[t].ViewName+'<\/a><a class="view-default">('+window.Server.App.Localization.Default+")<\/a><\/label><\/li>":'<li class="saved-view" viewid="'+r+'">'+u+'<label class="saved-filter txt-overflow" viewid="'+r+'" itemId="'+item_Id+'"><a class="view-link txt-overflow saved-filter-anchor"  href="'+pageurl+"?viewid="+r+'" data-url="'+pageurl+"?viewid="+r+'" target="_blank" data-toggle="tooltip" data-original-title="'+i[t].ViewName+'">'+i[t].ViewName+"<\/a><\/label><\/li>"}if($("#saved-filter").length>0?$("#saved-filter").append(e+"<\/div><\/div>"):parent.$("#saved-filter").append(e+"<\/div><\/div>"),$("#saved-filter").length==0)for(o=parent.$(".view-link").attr("data-url"),t=0;t<o.length;t++)parent.$(".view-link").eq(t).attr("href",parent.$(".view-link").eq(t).attr("data-url"));else for(o=$(".view-link").attr("data-url"),t=0;t<o.length;t++)$(".view-link").eq(t).attr("href",$(".view-link").eq(t).attr("data-url"));$(".dropdown-toggle").dropdown();$("#dashboard-view-toogle").length>0?$("#dashboard-view-toogle").find("#saved-list").length==0?$("#dashboard-view-toogle").find("#no-filters").css("display","block"):$("#dashboard-view-toogle").find("#no-filters").css("display","none"):parent.$("#dashboard-view-toogle").find("#saved-list").length==0?parent.$("#dashboard-view-toogle").find("#no-filters").css("display","block"):parent.$("#dashboard-view-toogle").find("#no-filters").css("display","none");/Safari/.test(navigator.userAgent)&&/Apple Computer/.test(navigator.vendor)&&($(".View-link-copy").removeClass("su su-link"),$(".View-link-copy").attr("data-original-title",""));$("#dashboard-view-toogle").length>0?$("#dashboard-view-toogle").show():parent.$("#dashboard-view-toogle").show();$('[data-toggle="tooltip"]').tooltip()}else containSaveFilter=!1,$("#saved-filter").length>0?$("#saved-filter").hide():parent.$("#saved-filter").hide(),dashboardviewerObj=getDashboardInstance();embedConfig.IsEmbedCode&&$(".su-link").hide();refreshScroller();typeof dashboardViewPanelObj!="undefined"&&dashboardViewPanelObj!=""&&dashboardViewPanelObj.BoldBIDashboardWaitingPopup("hide")}function onDeleteItemDialogOpen(){var f=getDashboardInstance(),r,i,t,u,n;f.closeAllWindows();r=$(".delete").attr("viewname");document.getElementById("delete-div").style.display="block";i='<span class="dialog-header-with-subtitle"><span class ="dialog-header-title">'+window.Server.App.Localization.DeleteView+'<\/span><span class="item-name">'+r+"<\/span><\/span>";isDeleteViewDialogBinded?(n=document.getElementById("view-delete-dialog").ej2_instances,n[0].header=i,n[0].show()):(t=document.createElement("div"),t.setAttribute("id","view-delete-dialog"),u=isMultiTab?document.getElementById("multi-tab-dashboard"):document.getElementById("dashboard"),u.appendChild(t),n=new ejs.popups.Dialog({showOnInit:!1,allowDraggable:!1,enableResize:!1,width:window.innerWidth>460?"450px":window.innerWidth-10,height:"auto",showHeader:!1,animationSettings:{effect:"Zoom"},isModal:!0,enableModal:!0,closeOnEscape:!0,header:i,showCloseIcon:!0,content:document.getElementById("delete-div"),buttons:[{click:function(){deleteItem()},buttonModel:{cssClass:"app-btn-danger",content:window.Server.App.Localization.YesButton}},{click:function(){n.hide()},buttonModel:{cssClass:"app-btn-secondary",content:window.Server.App.Localization.NoButton}}]}),n.appendTo(t),isDeleteViewDialogBinded=!0);ejs.popups.createSpinner({target:document.getElementById("view-delete-dialog")});ejs.popups.setSpinner({type:"Material"});$("#delete-msg").show();$("#delete-div").focus()}function resetViewPanel(){typeof isSlideshow!="undefined"&&isSlideshow||typeof embedConfig!="undefined"&&typeof embedConfig.IsEmbedDashboard!="undefined"||($("#save-lable-section label").html(""),$("#entire-label-section label").html(window.Server.App.Localization.UnsavedView),$("#new-save").css("display","block"),$("#saved-filter-update").css("display","none"),$("#saved-filter-Saveas").css("display","none"),$("#saved-filter").html(""),$("#no-filters").css("display","block"),unsavedFilters())}function deleteItem(){var n=document.getElementById("dashboard-views"),t;(n.style.display=="block"||n.style.display=="")&&ejs.popups.showSpinner(document.getElementById("view-delete-dialog"));t={itemViewName:$("#filter_name").val(),itemId:item_Id,itemViewId:$("#delete_item").attr("viewid"),userId:userId,userName:userName,isMultiDashboard:isMultiTab,parentDashboardId:isMultiTab?multiTabId:null,itemType:dashboardItemDetail.ItemType};ajaxPostCall("POST",deleteViewUrl,t,null,deleteViewResult,deleteViewErrorResult,null)}function deleteViewResult(n){var r=document.getElementById("view-delete-dialog").ej2_instances,i,t;r[0].hide();ejs.popups.hideSpinner(document.getElementById("view-delete-dialog"));(embedConfig.IsEmbedCode?n.Status:n.Result.Status)?(i=$("#delete_item").attr("viewId"),successToast(window.Server.App.Localization.DeleteViewSuccess,7e3),t=getDashboardInstance(),i!=t.model.filterOverviewSettings.viewId||embedConfig.IsEmbedCode||isMultiTab||(window.location.href=window.location.href.replace(window.location.search,"")),GetSavedFilter(t),i==t.model.filterOverviewSettings.viewId&&(t.clearAllFilters(),t._updateFilterOverview(window.Server.App.Localization.UnsavedView,""),t.model.filterOverviewSettings.viewName=null,t.model.filterOverviewSettings.viewId=null,t.filterOverviewObj.enableSaveIcon=!0,t.filterOverviewObj.enableSaveAsIcon=!1)):warningToast(window.Server.App.Localization.InternalServerError)}function deleteViewErrorResult(){ejs.popups.hideSpinner(document.getElementById("view-delete-dialog"));warningToast(window.Server.App.Localization.InternalServerError)}function getViewsLink(n){var t=baseUrl.split("/");return encodeURI(t[0]+"//"+t[2]+n)}function SavedViewHeight(){if($("#saved-list").css("display")!="none"){var u=$("#header-pane"),f=$("#entire-label-section"),n=$("#unsaved-filter"),t=$("#unsaved-filter-title"),i=$("#nofilters"),e=$(window).height(),r=e-u.outerHeight()-f.outerHeight()-(i.css("display")!="none"?i.outerHeight():0)-(n.css("display")!="none"?n.outerHeight():0)-(t.css("display")!="none"?t.outerHeight():0);return $("#saved-list").css("height",r),r}}function getFnObj(n){return typeof n=="function"?n:typeof n=="string"&&window[n]?n:void 0}function refreshScroller(){var f,e,n,t;if((typeof isSlideshow=="undefined"||!isSlideshow)&&(typeof embedConfig=="undefined"||typeof embedConfig.IsEmbedDashboard=="undefined"||!embedConfig.IsEmbedDashboard)){var r="",u=500,i="";$("#unsaved-filter-parameter").children().length&&(r=$("#unsaved-filter-parameter").height()>=230?230:$("#unsaved-filter-parameter").height()+20,$("#unsaved-filter").BoldBIDashboardScroller({height:r,width:u,scrollerSize:7,buttonSize:0,enableTouchScroll:!1}),f=$("#unsaved-filter").BoldBIDashboardScroller("instance"),f.model.height=r,f.refresh(),$("#unsaved-filter .e-vhandle").length&&(n=$("#unsaved-filter .e-vhandle"),n.css("display")=="none"||(t=n.height()+29,n.css("height",t))));i=SavedViewHeight()-10;$("#saved-list").length?($("#saved-list").BoldBIDashboardScroller({height:i,width:u,scrollerSize:9,buttonSize:0,enableTouchScroll:iframeUrl==parentUrl?(sameOrigin?$("#is_mobile").val():$("#is_mobile").val())!="false":$("#is_mobile").val()!="false"}),e=$("#saved-list").BoldBIDashboardScroller("instance"),e.model.height=i,e.refresh(),$("#saved-filter .e-vhandle").length&&(n=$("#saved-filter .e-vhandle"),n.css("display")=="none"||(t=n.height()+29,n.css("height",t)))):iframeUrl==parentUrl&&((sameOrigin?$("#saved-list"):$("#saved-list")).BoldBIDashboardScroller({height:i,width:u,scrollerSize:9,buttonSize:0,enableTouchScroll:iframeUrl==parentUrl?$("#is_mobile").val()!="false":$("#is_mobile").val()!="false"}),(sameOrigin?$("#saved-filter .e-vhandle"):$("#saved-filter .e-vhandle")).length&&(n=sameOrigin?$("#saved-filter .e-vhandle"):$("#saved-filter .e-vhandle"),n.css("display")=="none"||(t=n.height()+29,n.css("height",t))))}}function getcurrentfilters(){var n=getDashboardInstance(),t="",i;return isMultiTab?t=n.getCurrentFilters():(i=$("#dashboard"),t=iframeUrl==parentUrl?(sameOrigin?parent.$("#dashboard").length:i.length)>0?sameOrigin?parent.$("#dashboard").data("BoldBIDashboardDesigner").getCurrentFilters():n.getCurrentFilters():n.getCurrentFilters():i.length>0?n.getCurrentFilters():n.getCurrentFilters()),t}function clearAllFilters(){var n=$("#dashboard").data("BoldBIDashboardDesigner");viewId!=null&&viewId!=""||clearStatus?(n.model.filterParameters=initialQueryString,n.redrawDashboard()):$("#dashboard-view-toogle").BoldBIDashboardWaitingPopup("hide")}function getWidgetTitle(n){return $("#dashboard").data("BoldBIDashboardDesigner").getWidgetTitle(n)}function clearWidgetFilter(n,t){$("#dashboard").data("BoldBIDashboardDesigner").clearWidgetFilter(n,t)}function onFilterOverviewUpdated(n){unsavedFilters(n);$('[data-toggle="tooltip"]').tooltip();refreshScroller()}function unsavedFilters(n){var t=getcurrentfilters(),c,r,u,h,e;t!=""&&t!="undefined"&&t!=null&&n!=""&&n!="undefined"&&n!=null&&(c=n.currentFilterData,updateInitialQueryStringParameter=c,queryStringStatus&&(queryStringStatus=!1,initialQueryString=t.encryptedData,initialQueryStringParameter=JSON.stringify(c)));$("#unsaved-filter-parameter").html("");var o="",l="",a="",v="",s="",f="",i="";if(t!=""&&t!="undefined"&&t!=null&&t.masterData!=null&&t.masterData.length>0){if(i=t.masterData,i.length>0){for($("#unsaved-filter-parameter").show(),r=0;r<i.length;r++){if(u="",h="",s=i[r].Control,l=getWidgetTitle(s),a=l.title,v=l.type,f=i[r].Data,o+=r!=i.length-1?'<div class="cursor-default border-division"><div class="unsaved-opt"style="float: right;"><span class="opt"><span class="su su-close clear-filter cursor-pointer" data-toggle="tooltip" data-placement="left" data-original-title="'+window.Server.App.Localization.ClearFilter+'" widgetId ="'+s+'"widgetType ="'+v+'" style="float:right"><\/span><\/span><\/div><label class="cursor-default txt-overflow unsaved-filter-head">'+a+"<\/label>":'<div class="cursor-default border-division-last"><div class="unsaved-opt"style="float: right;"><span class="opt"><span class="su su-close clear-filter cursor-pointer" data-toggle="tooltip" data-placement="left" data-original-title="'+window.Server.App.Localization.ClearFilter+'" widgetId ="'+s+'"widgetType ="'+v+'" style="float:right"><\/span><\/span><\/div><label class="cursor-default txt-overflow unsaved-filter-head">'+a+"<\/label>",f.length)for(e=0;e<f.length;e++)u=u+f[e]+",",h=h+f[e]+"<br>";u=u.slice(0,-1);o+='<div id="sub-item"><label class="cursor-default txt-overflow unsavedfilter-font-content" rel="tooltip" data-placement="left" data-original-title="'+h+'">'+u+"<\/label><\/div>";o+='<br style="clear: both"><\/div>'}$("#unsaved-filter,#unsaved-filter-title").css("display","block");$("#unsaved-filter-parameter").append(o);refreshScroller();enableComment.toString().toLowerCase()=="true"?$("#new-save,#saved-filter-update,#saved-filter-Saveas,#save-filter,#filter_name").removeClass("pointer-events").css("opacity",1):$("#new-save,#saved-filter-update,#saved-filter-Saveas,#save-filter,#filter_name").addClass("pointer-events").css("opacity",.5);$("#nofilters").css("display","none");$("[rel=tooltip]").tooltip({html:!0})}}else $("#new-save,#saved-filter-update,#saved-filter-Saveas,#save-filter,#filter_name").addClass("pointer-events").css("opacity",.5),$("#nofilters").css("display","block"),$("#unsaved-filter,#unsaved-filter-title").css("display","none")}function setDashboardWidth(){isMultiTab?($(".e-content.e-lib.e-touch").css("width",$(window).width()),$(".e-content.e-lib.e-touch").css("height",$(window).height()-40)):$("#dashboard").css("width",$(window).width()+"px")}function saveFilter(n){var t,i,r;currentQueryString=n.data.encryptedData;t=n.model.itemId;i="";i=isMultiTab?$("#multi-tab-content"):$("#dashboard");currentItemObject=getDashboardInstance();n.viewId==null||n.viewId==""||n.viewId==emptyGuid?($("#save-view-popup").BoldBIDashboardDialog("open"),$("#save-view-popup_wrapper").BoldBIDashboardWaitingPopup("show"),$("#save-view-popup-iframe").attr("src",saveViewPopup+"?itemId="+t+"&isMultidashboardId="+isMultiTab+"&parentId="+multiTabId+"&userId="+userId+"&userName="+userName+"&viewer=v2")):(i.BoldBIDashboardWaitingPopup("show"),r={itemId:t,queryString:currentQueryString,itemViewId:n.viewId,userId:userId,userName:userName,isMultiDashboard:isMultiTab,parentDashboardId:isMultiTab?multiTabId:null,itemType:dashboardItemDetail.ItemType},ajaxPostCall("POST",updateViewUrl,r,null,saveUpdateView,errorSaveUpdateView,null),GetSavedFilter(n),refreshScroller())}function saveUpdateView(n){var t,i;(embedConfig.IsEmbedCode?n.Status:n.Result.Status)?(t="",t=isMultiTab?$("#multi-tab-content"):$("#dashboard"),i=getDashboardInstance(),initialQueryStringParameter=JSON.stringify(updateInitialQueryStringParameter),i.model.filterParameters=currentQueryString,t.BoldBIDashboardWaitingPopup("hide"),parent.successToast(window.Server.App.Localization.UpdateViewSuccess,1e4)):($("#save-section").hide(),t.BoldBIDashboardWaitingPopup("hide"),parent.warningToast(window.Server.App.Localization.InternalServerError))}function errorSaveUpdateView(){var n="";n=isMultiTab?$("#multi-tab-content"):$("#dashboard");n.BoldBIDashboardWaitingPopup("hide");messageBox("su-filter",window.Server.App.Localization.UpdateView,window.Server.App.Localization.InternalServerError,"success",function(){onCloseMessageBox()})}function saveAsFilter(n){currentQueryString=n.data.encryptedData;var t=n.model.itemId;currentItemObject=getDashboardInstance();$("#save-view-popup").BoldBIDashboardDialog("open");$("#save-view-popup_wrapper").BoldBIDashboardWaitingPopup("show");$("#save-view-popup-iframe").attr("src",saveViewPopup+"?itemId="+t+"&isMultidashboardId="+isMultiTab+"&parentId="+multiTabId+"&userId="+userId+"&userName="+name+"&viewer=v2")}function openViewSection(){$("#dashboard-view").trigger("click")}function switchFullscreenMode(){var n=getDashboardInstance(),t,i;document.fullscreenElement||document.mozFullScreenElement||document.webkitFullscreenElement||document.msFullscreenElement?(typeof n!="undefined"&&(n.model.filterOverviewSettings.showViewSavedFilterIcon=!0),document.exitFullscreen?document.exitFullscreen():document.msExitFullscreen?document.msExitFullscreen():document.mozCancelFullScreen?document.mozCancelFullScreen():document.webkitExitFullscreen&&document.webkitExitFullscreen()):(typeof n!="undefined"&&(n.model.filterOverviewSettings.showViewSavedFilterIcon=!1),isMultiTab?(t=document.querySelector("#"+$(".e-content .e-active").attr("data-designer-id")),t.requestFullscreen()):document.documentElement.requestFullscreen?document.documentElement.requestFullscreen():document.documentElement.msRequestFullscreen?document.documentElement.msRequestFullscreen():document.documentElement.mozRequestFullScreen?document.documentElement.mozRequestFullScreen():document.documentElement.webkitRequestFullscreen?document.documentElement.webkitRequestFullscreen(Element.ALLOW_KEYBOARD_INPUT):"ActiveXObject"in window&&(i=new ActiveXObject("Wscript.shell"),i.SendKeys("{F11}"),setTimeout(function(){(screen.availHeight||screen.height-30)<=window.innerHeight?($("body").addClass("hide-dashboard-icons"),$("#dashboard-fullscreen").removeClass("su-maximize-1").addClass("su-minimize").attr("data-tooltip",window.Server.App.Localization.ExitFullscreen)):($("body").removeClass("hide-dashboard-icons"),$("#dashboard-fullscreen").addClass("su-maximize-1").removeClass("su-minimize").attr("data-tooltip",window.Server.App.Localization.Fullscreen));setTimeout(function(){var n=isNullOrWhitespace(embedConfig.HideHeaderTools)?"":embedConfig.HideHeaderTools.split(",");n.includes("rf")&&(isMultiTab?($(".e-content.e-lib.e-touch").find(".e-active").find("#dashboard-refresh").removeAttr("style"),$(".e-content.e-lib.e-touch").find(".e-active").find("#dashboard-refresh").attr("style","font-size: 14px; display: none !important")):($("#dashboard-refresh").removeAttr("style"),$("#dashboard-refresh").attr("style","font-size: 14px; display: none !important")))},400)},400)))}function fullscreenExitHandler(){var i=$(".e-content .e-active").attr("data-designer-id"),n=isMultiTab?"#"+i+" #dashboard-fullscreen":"#dashboard-fullscreen",t;document.webkitIsFullScreen||document.mozFullScreen||document.msFullscreenElement?($("body").addClass("hide-dashboard-icons"),$(n).removeClass("su-maximize-1").addClass("su-minimize").attr("data-tooltip",window.Server.App.Localization.ExitFullscreen)):($("body").removeClass("hide-dashboard-icons"),$(n).addClass("su-maximize-1").removeClass("su-minimize").attr("data-tooltip",window.Server.App.Localization.Fullscreen));setTimeout(function(){var n=isNullOrWhitespace(embedConfig.HideHeaderTools)?"":embedConfig.HideHeaderTools.split(",");n.includes("rf")&&(isMultiTab?($(".e-content.e-lib.e-touch").find(".e-active").find("#dashboard-refresh").removeAttr("style"),$(".e-content.e-lib.e-touch").find(".e-active").find("#dashboard-refresh").attr("style","font-size: 14px; display: none !important")):($("#dashboard-refresh").removeAttr("style"),$("#dashboard-refresh").attr("style","font-size: 14px; display: none !important")))},400);t=getDashboardInstance();t.resizeDashboard()}function PreloadResources(n,t){setTimeout(function(){for(var i,u=navigator.userAgent.indexOf("Safari")!=-1&&navigator.userAgent.indexOf("Chrome")==-1||navigator.userAgent.indexOf("Edge")!=-1,r=0;r<n.length;r++)i=document.createElement("link"),i.href=n[r],i.rel=u?"preload":"prefetch",i.as=t,document.head.appendChild(i)})}function ShareView(n){var i=$(window).width(),r=$(window).height(),u=$("#viewShare_popup").width(),f=$("#viewShare_popup").height(),e=(parseInt(i)-parseInt(u))/2,t=(parseInt(r)-parseInt(f))/2;t<0&&(t=0);$("#viewShare_popup").css({left:e,top:t});$("#viewShare_popup,.ViewShare_popup_shadow").css("display","block");$("#sharepopup_wrapper_WaitingPopup").css("display","block");$("#viewShare_popup_iframe").attr("src",itemViewShareIframeUrl+"?itemId="+n.viewId)}function onCloseMessageBox(){$("#messageBox").BoldBIDashboardDialog("close")}function onMessageDialogClose(){$("#messageBox").find(".message-content").text("");$(".message-box-btn-holder").html("");$(".message-box-close").html("");$("#messageBox_wrapper").removeClass("remove-default-view")}function messageBox(n,t,i,r,u,f,e,o,s,h){var a,l,c,v,y;if($("#messageBox").find(".message-content").text(""),t===window.Server.App.Localization.DeleteComment&&$("#messageBox_wrapper").addClass("delete-comment"),t===window.Server.App.Localization.RemoveAsDefaultView&&$("#messageBox_wrapper").addClass("remove-default-view"),t===window.Server.App.Localization.SetAsDefaultView&&$("#messageBox_wrapper").addClass("set-default-view"),$(".message-box-btn-holder").html(""),$(".message-box-close").html(""),$("#messageBox").find(".message-header").html("<span class='su "+n+"'><\/span> <span class='modal-title' data-toggle='tooltip' data-placement='bottom' data-container='body' title='"+t+"'  >"+t+"<\/h2>"),$("#messageBox").find(".message-content").html(i),r=="error")u!=undefined&&(l=$("<input type='button' class='delete-save-confirmation app-button app-critical-action-button app-btn-danger pull-right' value='"+window.Server.App.Localization.YesButton+"'><\/input>"),l.bind("click",$.proxy(getFnObj(u),window))),f!=undefined?(a=$("<input type='button' class='delete-cancel-confirmation app-button app-secondary-button app-btn-secondary pull-right' value='"+window.Server.App.Localization.NoButton+"'><\/input>"),a.bind("click",$.proxy(getFnObj(f),window)),c=$('<span class="su su-close"><\/span>'),c.bind("click",$.proxy(getFnObj(f),window))):(a=$("<input type='button' class='delete-cancel-confirmation app-button app-secondary-button app-btn-secondary pull-right' value='"+window.Server.App.Localization.NoButton+"'><\/input>"),c=$('<span class="su su-close"><\/span>'),a.click(function(){onCloseMessageBox()}),c.click(function(){onCloseMessageBox()})),$(".message-box-close").html(c),$(".message-box-btn-holder").append(a,l),$("#messageBox").unbind("keydown");else{u!=undefined?(l=$("<input type='button' class='app-button app-secondary-button app-btn-secondary' value='"+window.Server.App.Localization.OKButton+"'><\/input>"),l.bind("click",$.proxy(getFnObj(u),window)),c=$('<span class="su su-close"><\/span>'),c.bind("click",$.proxy(getFnObj(u),window))):(l=$("<input type='button' class='app-button app-secondary-button app-btn-secondary' value='"+window.Server.App.Localization.OKButton+"'><\/input>"),c=$('<span class="su su-close"><\/span>'),l.click(function(){onCloseMessageBox()}),c.click(function(){onCloseMessageBox()}));$(".message-box-close").html(c);$(".message-box-btn-holder").append(l);$("#messageBox").on("keydown",function(n){switch(n.keyCode){case 13:case 27:l.click()}})}$('[data-toggle="tooltip"]').tooltip();$("#messageBox").BoldBIDashboardDialog("open");$("#messageBox").focus();v=$("#messageBox").data("BoldBIDashboardDialog");setTimeout(function(){e!=undefined&&v.option("width",e);window.innerWidth>1040&&o==undefined&&(o=$("#messageBox").find(".modal-content").height()+135+"px");v.option("height",o);s!=undefined&&v.option("maxHeight",s)},50);h!=null&&h!=undefined&&v.option("cssClass",h);y=$(".message-header").outerHeight(!0)+$(".message-content.text-center").outerHeight(!0)+$(".message-box-btn-holder").outerHeight(!0)+5;$("#messageBox").height(y+"px");$("#messageBox_wrapper .e-dialog-scroller.e-scroller.e-js.e-widget").height($("#messageBox").outerHeight(!0)+"px")}function beforeSendSaveView(n){var t=parent.$("#dashboard").data("BoldBIDashboardDesigner");n.setRequestHeader("BoldBIDashboardAuthenticationToken",t._authenticationToken)}function removeAsDefault(n){var t=document.getElementById("remove-defaultview-dialog").ej2_instances,i=n.attr("viewid"),r=n.attr("itemid");$.ajax({url:updateDefaultValueUrl,data:{viewId:i,defaultValue:!1,itemId:r,userId:userId},type:"POST",success:function(n){$(".server-dashboard-view").BoldBIDashboardWaitingPopup("hide");t[0].hide();n.toString().toLowerCase()=="true"?(hasDefaultView=!1,successToast(window.Server.App.Localization.RemoveAsDefaultViewSuccess,7e3),GetSavedFilter(),refreshScroller()):warningToast(window.Server.App.Localization.SetAsDefaultViewError)}})}function removeURLParameter(n,t){var u=n.split("?"),f,i,r;if(u.length>=2){for(f=encodeURIComponent(t)+"=",i=u[1].split(/[&;]/g),r=i.length;r-->0;)i[r].lastIndexOf(f,0)!==-1&&i.splice(r,1);return u[0]+(i.length>0?"?"+i.join("&"):"")}return n}var parentUrl,filtered_Values,dashboardviewerObj;!function(n){"function"==typeof define&&define.amd?define(["jquery"],n):n(jQuery)}(function(n){n.extend(n.fn,{validate:function(t){if(!this.length)return void(t&&t.debug&&window.console&&console.warn("Nothing selected, can't validate, returning nothing."));var i=n.data(this[0],"validator");return i?i:(this.attr("novalidate","novalidate"),i=new n.validator(t,this[0]),n.data(this[0],"validator",i),i.settings.onsubmit&&(this.on("click.validate",":submit",function(t){i.settings.submitHandler&&(i.submitButton=t.target);n(this).hasClass("cancel")&&(i.cancelSubmit=!0);void 0!==n(this).attr("formnovalidate")&&(i.cancelSubmit=!0)}),this.on("submit.validate",function(t){function r(){var u,r;return i.settings.submitHandler?(i.submitButton&&(u=n("<input type='hidden'/>").attr("name",i.submitButton.name).val(n(i.submitButton).val()).appendTo(i.currentForm)),r=i.settings.submitHandler.call(i,i.currentForm,t),i.submitButton&&u.remove(),void 0!==r?r:!1):!0}return i.settings.debug&&t.preventDefault(),i.cancelSubmit?(i.cancelSubmit=!1,r()):i.form()?i.pendingRequest?(i.formSubmitted=!0,!1):r():(i.focusInvalid(),!1)})),i)},valid:function(){var t,i,r;return n(this[0]).is("form")?t=this.validate().form():(r=[],t=!0,i=n(this[0].form).validate(),this.each(function(){t=i.element(this)&&t;r=r.concat(i.errorList)}),i.errorList=r),t},rules:function(t,i){var e,s,f,u,o,h,r=this[0];if(t)switch(e=n.data(r.form,"validator").settings,s=e.rules,f=n.validator.staticRules(r),t){case"add":n.extend(f,n.validator.normalizeRule(i));delete f.messages;s[r.name]=f;i.messages&&(e.messages[r.name]=n.extend(e.messages[r.name],i.messages));break;case"remove":return i?(h={},n.each(i.split(/\s/),function(t,i){h[i]=f[i];delete f[i];"required"===i&&n(r).removeAttr("aria-required")}),h):(delete s[r.name],f)}return u=n.validator.normalizeRules(n.extend({},n.validator.classRules(r),n.validator.attributeRules(r),n.validator.dataRules(r),n.validator.staticRules(r)),r),u.required&&(o=u.required,delete u.required,u=n.extend({required:o},u),n(r).attr("aria-required","true")),u.remote&&(o=u.remote,delete u.remote,u=n.extend(u,{remote:o})),u}});n.extend(n.expr[":"],{blank:function(t){return!n.trim(""+n(t).val())},filled:function(t){return!!n.trim(""+n(t).val())},unchecked:function(t){return!n(t).prop("checked")}});n.validator=function(t,i){this.settings=n.extend(!0,{},n.validator.defaults,t);this.currentForm=i;this.init()};n.validator.format=function(t,i){return 1===arguments.length?function(){var i=n.makeArray(arguments);return i.unshift(t),n.validator.format.apply(this,i)}:(arguments.length>2&&i.constructor!==Array&&(i=n.makeArray(arguments).slice(1)),i.constructor!==Array&&(i=[i]),n.each(i,function(n,i){t=t.replace(new RegExp("\\{"+n+"\\}","g"),function(){return i})}),t)};n.extend(n.validator,{defaults:{messages:{},groups:{},rules:{},errorClass:"error",validClass:"valid",errorElement:"label",focusCleanup:!1,focusInvalid:!0,errorContainer:n([]),errorLabelContainer:n([]),onsubmit:!0,ignore:":hidden",ignoreTitle:!1,onfocusin:function(n){this.lastActive=n;this.settings.focusCleanup&&(this.settings.unhighlight&&this.settings.unhighlight.call(this,n,this.settings.errorClass,this.settings.validClass),this.hideThese(this.errorsFor(n)))},onfocusout:function(n){!this.checkable(n)&&(n.name in this.submitted||!this.optional(n))&&this.element(n)},onkeyup:function(t,i){9===i.which&&""===this.elementValue(t)||-1!==n.inArray(i.keyCode,[16,17,18,20,35,36,37,38,39,40,45,144,225])||(t.name in this.submitted||t===this.lastElement)&&this.element(t)},onclick:function(n){n.name in this.submitted?this.element(n):n.parentNode.name in this.submitted&&this.element(n.parentNode)},highlight:function(t,i,r){"radio"===t.type?this.findByName(t.name).addClass(i).removeClass(r):n(t).addClass(i).removeClass(r)},unhighlight:function(t,i,r){"radio"===t.type?this.findByName(t.name).removeClass(i).addClass(r):n(t).removeClass(i).addClass(r)}},setDefaults:function(t){n.extend(n.validator.defaults,t)},messages:{required:"This field is required.",remote:"Please fix this field.",email:"Please enter a valid email address.",url:"Please enter a valid URL.",date:"Please enter a valid date.",dateISO:"Please enter a valid date ( ISO ).",number:"Please enter a valid number.",digits:"Please enter only digits.",creditcard:"Please enter a valid credit card number.",equalTo:"Please enter the same value again.",maxlength:n.validator.format("Please enter no more than {0} characters."),minlength:n.validator.format("Please enter at least {0} characters."),rangelength:n.validator.format("Please enter a value between {0} and {1} characters long."),range:n.validator.format("Please enter a value between {0} and {1}."),max:n.validator.format("Please enter a value less than or equal to {0}."),min:n.validator.format("Please enter a value greater than or equal to {0}.")},autoCreateRanges:!1,prototype:{init:function(){function i(t){var r=n.data(this.form,"validator"),u="on"+t.type.replace(/^validate/,""),i=r.settings;i[u]&&!n(this).is(i.ignore)&&i[u].call(r,this,t)}this.labelContainer=n(this.settings.errorLabelContainer);this.errorContext=this.labelContainer.length&&this.labelContainer||n(this.currentForm);this.containers=n(this.settings.errorContainer).add(this.settings.errorLabelContainer);this.submitted={};this.valueCache={};this.pendingRequest=0;this.pending={};this.invalid={};this.reset();var t,r=this.groups={};n.each(this.settings.groups,function(t,i){"string"==typeof i&&(i=i.split(/\s/));n.each(i,function(n,i){r[i]=t})});t=this.settings.rules;n.each(t,function(i,r){t[i]=n.validator.normalizeRule(r)});n(this.currentForm).on("focusin.validate focusout.validate keyup.validate",":text, [type='password'], [type='file'], select, textarea, [type='number'], [type='search'], [type='tel'], [type='url'], [type='email'], [type='datetime'], [type='date'], [type='month'], [type='week'], [type='time'], [type='datetime-local'], [type='range'], [type='color'], [type='radio'], [type='checkbox']",i).on("click.validate","select, option, [type='radio'], [type='checkbox']",i);this.settings.invalidHandler&&n(this.currentForm).on("invalid-form.validate",this.settings.invalidHandler);n(this.currentForm).find("[required], [data-rule-required], .required").attr("aria-required","true")},form:function(){return this.checkForm(),n.extend(this.submitted,this.errorMap),this.invalid=n.extend({},this.errorMap),this.valid()||n(this.currentForm).triggerHandler("invalid-form",[this]),this.showErrors(),this.valid()},checkForm:function(){this.prepareForm();for(var n=0,t=this.currentElements=this.elements();t[n];n++)this.check(t[n]);return this.valid()},element:function(t){var u=this.clean(t),i=this.validationTargetFor(u),r=!0;return this.lastElement=i,void 0===i?delete this.invalid[u.name]:(this.prepareElement(i),this.currentElements=n(i),r=this.check(i)!==!1,r?delete this.invalid[i.name]:this.invalid[i.name]=!0),n(t).attr("aria-invalid",!r),this.numberOfInvalids()||(this.toHide=this.toHide.add(this.containers)),this.showErrors(),r},showErrors:function(t){if(t){n.extend(this.errorMap,t);this.errorList=[];for(var i in t)this.errorList.push({message:t[i],element:this.findByName(i)[0]});this.successList=n.grep(this.successList,function(n){return!(n.name in t)})}this.settings.showErrors?this.settings.showErrors.call(this,this.errorMap,this.errorList):this.defaultShowErrors()},resetForm:function(){n.fn.resetForm&&n(this.currentForm).resetForm();this.submitted={};this.lastElement=null;this.prepareForm();this.hideErrors();var t,i=this.elements().removeData("previousValue").removeAttr("aria-invalid");if(this.settings.unhighlight)for(t=0;i[t];t++)this.settings.unhighlight.call(this,i[t],this.settings.errorClass,"");else i.removeClass(this.settings.errorClass)},numberOfInvalids:function(){return this.objectLength(this.invalid)},objectLength:function(n){var i,t=0;for(i in n)t++;return t},hideErrors:function(){this.hideThese(this.toHide)},hideThese:function(n){n.not(this.containers).text("");this.addWrapper(n).hide()},valid:function(){return 0===this.size()},size:function(){return this.errorList.length},focusInvalid:function(){if(this.settings.focusInvalid)try{n(this.findLastActive()||this.errorList.length&&this.errorList[0].element||[]).filter(":visible").focus().trigger("focusin")}catch(t){}},findLastActive:function(){var t=this.lastActive;return t&&1===n.grep(this.errorList,function(n){return n.element.name===t.name}).length&&t},elements:function(){var t=this,i={};return n(this.currentForm).find("input, select, textarea").not(":submit, :reset, :image, :disabled").not(this.settings.ignore).filter(function(){return!this.name&&t.settings.debug&&window.console&&console.error("%o has no name assigned",this),this.name in i||!t.objectLength(n(this).rules())?!1:(i[this.name]=!0,!0)})},clean:function(t){return n(t)[0]},errors:function(){var t=this.settings.errorClass.split(" ").join(".");return n(this.settings.errorElement+"."+t,this.errorContext)},reset:function(){this.successList=[];this.errorList=[];this.errorMap={};this.toShow=n([]);this.toHide=n([]);this.currentElements=n([])},prepareForm:function(){this.reset();this.toHide=this.errors().add(this.containers)},prepareElement:function(n){this.reset();this.toHide=this.errorsFor(n)},elementValue:function(t){var i,u=n(t),r=t.type;return"radio"===r||"checkbox"===r?this.findByName(t.name).filter(":checked").val():"number"===r&&"undefined"!=typeof t.validity?t.validity.badInput?!1:u.val():(i=u.val(),"string"==typeof i?i.replace(/\r/g,""):i)},check:function(t){t=this.validationTargetFor(this.clean(t));var r,u,i,f=n(t).rules(),s=n.map(f,function(n,t){return t}).length,o=!1,h=this.elementValue(t);for(u in f){i={method:u,parameters:f[u]};try{if(r=n.validator.methods[u].call(this,h,t,i.parameters),"dependency-mismatch"===r&&1===s){o=!0;continue}if(o=!1,"pending"===r)return void(this.toHide=this.toHide.not(this.errorsFor(t)));if(!r)return this.formatAndAdd(t,i),!1}catch(e){throw this.settings.debug&&window.console&&console.log("Exception occurred when checking element "+t.id+", check the '"+i.method+"' method.",e),e instanceof TypeError&&(e.message+=".  Exception occurred when checking element "+t.id+", check the '"+i.method+"' method."),e;}}if(!o)return this.objectLength(f)&&this.successList.push(t),!0},customDataMessage:function(t,i){return n(t).data("msg"+i.charAt(0).toUpperCase()+i.substring(1).toLowerCase())||n(t).data("msg")},customMessage:function(n,t){var i=this.settings.messages[n];return i&&(i.constructor===String?i:i[t])},findDefined:function(){for(var n=0;n<arguments.length;n++)if(void 0!==arguments[n])return arguments[n];return void 0},defaultMessage:function(t,i){return this.findDefined(this.customMessage(t.name,i),this.customDataMessage(t,i),!this.settings.ignoreTitle&&t.title||void 0,n.validator.messages[i],"<strong>Warning: No message defined for "+t.name+"<\/strong>")},formatAndAdd:function(t,i){var r=this.defaultMessage(t,i.method),u=/\$?\{(\d+)\}/g;"function"==typeof r?r=r.call(this,i.parameters,t):u.test(r)&&(r=n.validator.format(r.replace(u,"{$1}"),i.parameters));this.errorList.push({message:r,element:t,method:i.method});this.errorMap[t.name]=r;this.submitted[t.name]=r},addWrapper:function(n){return this.settings.wrapper&&(n=n.add(n.parent(this.settings.wrapper))),n},defaultShowErrors:function(){for(var i,t,n=0;this.errorList[n];n++)t=this.errorList[n],this.settings.highlight&&this.settings.highlight.call(this,t.element,this.settings.errorClass,this.settings.validClass),this.showLabel(t.element,t.message);if(this.errorList.length&&(this.toShow=this.toShow.add(this.containers)),this.settings.success)for(n=0;this.successList[n];n++)this.showLabel(this.successList[n]);if(this.settings.unhighlight)for(n=0,i=this.validElements();i[n];n++)this.settings.unhighlight.call(this,i[n],this.settings.errorClass,this.settings.validClass);this.toHide=this.toHide.not(this.toShow);this.hideErrors();this.addWrapper(this.toShow).show()},validElements:function(){return this.currentElements.not(this.invalidElements())},invalidElements:function(){return n(this.errorList).map(function(){return this.element})},showLabel:function(t,i){var u,o,e,r=this.errorsFor(t),s=this.idOrName(t),f=n(t).attr("aria-describedby");r.length?(r.removeClass(this.settings.validClass).addClass(this.settings.errorClass),r.html(i)):(r=n("<"+this.settings.errorElement+">").attr("id",s+"-error").addClass(this.settings.errorClass).html(i||""),u=r,this.settings.wrapper&&(u=r.hide().show().wrap("<"+this.settings.wrapper+"/>").parent()),this.labelContainer.length?this.labelContainer.append(u):this.settings.errorPlacement?this.settings.errorPlacement(u,n(t)):u.insertAfter(t),r.is("label")?r.attr("for",s):0===r.parents("label[for='"+s+"']").length&&(e=r.attr("id").replace(/(:|\.|\[|\]|\$)/g,"\\$1"),f?f.match(new RegExp("\\b"+e+"\\b"))||(f+=" "+e):f=e,n(t).attr("aria-describedby",f),o=this.groups[t.name],o&&n.each(this.groups,function(t,i){i===o&&n("[name='"+t+"']",this.currentForm).attr("aria-describedby",r.attr("id"))})));!i&&this.settings.success&&(r.text(""),"string"==typeof this.settings.success?r.addClass(this.settings.success):this.settings.success(r,t));this.toShow=this.toShow.add(r)},errorsFor:function(t){var r=this.idOrName(t),u=n(t).attr("aria-describedby"),i="label[for='"+r+"'], label[for='"+r+"'] *";return u&&(i=i+", #"+u.replace(/\s+/g,", #")),this.errors().filter(i)},idOrName:function(n){return this.groups[n.name]||(this.checkable(n)?n.name:n.id||n.name)},validationTargetFor:function(t){return this.checkable(t)&&(t=this.findByName(t.name)),n(t).not(this.settings.ignore)[0]},checkable:function(n){return/radio|checkbox/i.test(n.type)},findByName:function(t){return n(this.currentForm).find("[name='"+t+"']")},getLength:function(t,i){switch(i.nodeName.toLowerCase()){case"select":return n("option:selected",i).length;case"input":if(this.checkable(i))return this.findByName(i.name).filter(":checked").length}return t.length},depend:function(n,t){return this.dependTypes[typeof n]?this.dependTypes[typeof n](n,t):!0},dependTypes:{boolean:function(n){return n},string:function(t,i){return!!n(t,i.form).length},"function":function(n,t){return n(t)}},optional:function(t){var i=this.elementValue(t);return!n.validator.methods.required.call(this,i,t)&&"dependency-mismatch"},startRequest:function(n){this.pending[n.name]||(this.pendingRequest++,this.pending[n.name]=!0)},stopRequest:function(t,i){this.pendingRequest--;this.pendingRequest<0&&(this.pendingRequest=0);delete this.pending[t.name];i&&0===this.pendingRequest&&this.formSubmitted&&this.form()?(n(this.currentForm).submit(),this.formSubmitted=!1):!i&&0===this.pendingRequest&&this.formSubmitted&&(n(this.currentForm).triggerHandler("invalid-form",[this]),this.formSubmitted=!1)},previousValue:function(t){return n.data(t,"previousValue")||n.data(t,"previousValue",{old:null,valid:!0,message:this.defaultMessage(t,"remote")})},destroy:function(){this.resetForm();n(this.currentForm).off(".validate").removeData("validator")}},classRuleSettings:{required:{required:!0},email:{email:!0},url:{url:!0},date:{date:!0},dateISO:{dateISO:!0},number:{number:!0},digits:{digits:!0},creditcard:{creditcard:!0}},addClassRules:function(t,i){t.constructor===String?this.classRuleSettings[t]=i:n.extend(this.classRuleSettings,t)},classRules:function(t){var i={},r=n(t).attr("class");return r&&n.each(r.split(" "),function(){this in n.validator.classRuleSettings&&n.extend(i,n.validator.classRuleSettings[this])}),i},normalizeAttributeRule:function(n,t,i,r){/min|max/.test(i)&&(null===t||/number|range|text/.test(t))&&(r=Number(r),isNaN(r)&&(r=void 0));r||0===r?n[i]=r:t===i&&"range"!==t&&(n[i]=!0)},attributeRules:function(t){var r,i,u={},f=n(t),e=t.getAttribute("type");for(r in n.validator.methods)"required"===r?(i=t.getAttribute(r),""===i&&(i=!0),i=!!i):i=f.attr(r),this.normalizeAttributeRule(u,e,r,i);return u.maxlength&&/-1|2147483647|524288/.test(u.maxlength)&&delete u.maxlength,u},dataRules:function(t){var i,r,u={},f=n(t),e=t.getAttribute("type");for(i in n.validator.methods)r=f.data("rule"+i.charAt(0).toUpperCase()+i.substring(1).toLowerCase()),this.normalizeAttributeRule(u,e,i,r);return u},staticRules:function(t){var i={},r=n.data(t.form,"validator");return r.settings.rules&&(i=n.validator.normalizeRule(r.settings.rules[t.name])||{}),i},normalizeRules:function(t,i){return n.each(t,function(r,u){if(u===!1)return void delete t[r];if(u.param||u.depends){var f=!0;switch(typeof u.depends){case"string":f=!!n(u.depends,i.form).length;break;case"function":f=u.depends.call(i,i)}f?t[r]=void 0!==u.param?u.param:!0:delete t[r]}}),n.each(t,function(r,u){t[r]=n.isFunction(u)?u(i):u}),n.each(["minlength","maxlength"],function(){t[this]&&(t[this]=Number(t[this]))}),n.each(["rangelength","range"],function(){var i;t[this]&&(n.isArray(t[this])?t[this]=[Number(t[this][0]),Number(t[this][1])]:"string"==typeof t[this]&&(i=t[this].replace(/[\[\]]/g,"").split(/[\s,]+/),t[this]=[Number(i[0]),Number(i[1])]))}),n.validator.autoCreateRanges&&(null!=t.min&&null!=t.max&&(t.range=[t.min,t.max],delete t.min,delete t.max),null!=t.minlength&&null!=t.maxlength&&(t.rangelength=[t.minlength,t.maxlength],delete t.minlength,delete t.maxlength)),t},normalizeRule:function(t){if("string"==typeof t){var i={};n.each(t.split(/\s/),function(){i[this]=!0});t=i}return t},addMethod:function(t,i,r){n.validator.methods[t]=i;n.validator.messages[t]=void 0!==r?r:n.validator.messages[t];i.length<3&&n.validator.addClassRules(t,n.validator.normalizeRule(t))},methods:{required:function(t,i,r){if(!this.depend(r,i))return"dependency-mismatch";if("select"===i.nodeName.toLowerCase()){var u=n(i).val();return u&&u.length>0}return this.checkable(i)?this.getLength(t,i)>0:t.length>0},email:function(n,t){return this.optional(t)||/^[a-zA-Z0-9.!#$%&'*+\/=?^_`{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/.test(n)},url:function(n,t){return this.optional(t)||/^(?:(?:(?:https?|ftp):)?\/\/)(?:\S+(?::\S*)?@)?(?:(?!(?:10|127)(?:\.\d{1,3}){3})(?!(?:169\.254|192\.168)(?:\.\d{1,3}){2})(?!172\.(?:1[6-9]|2\d|3[0-1])(?:\.\d{1,3}){2})(?:[1-9]\d?|1\d\d|2[01]\d|22[0-3])(?:\.(?:1?\d{1,2}|2[0-4]\d|25[0-5])){2}(?:\.(?:[1-9]\d?|1\d\d|2[0-4]\d|25[0-4]))|(?:(?:[a-z\u00a1-\uffff0-9]-*)*[a-z\u00a1-\uffff0-9]+)(?:\.(?:[a-z\u00a1-\uffff0-9]-*)*[a-z\u00a1-\uffff0-9]+)*(?:\.(?:[a-z\u00a1-\uffff]{2,})).?)(?::\d{2,5})?(?:[/?#]\S*)?$/i.test(n)},date:function(n,t){return this.optional(t)||!/Invalid|NaN/.test(new Date(n).toString())},dateISO:function(n,t){return this.optional(t)||/^\d{4}[\/\-](0?[1-9]|1[012])[\/\-](0?[1-9]|[12][0-9]|3[01])$/.test(n)},number:function(n,t){return this.optional(t)||/^(?:-?\d+|-?\d{1,3}(?:,\d{3})+)?(?:\.\d+)?$/.test(n)},digits:function(n,t){return this.optional(t)||/^\d+$/.test(n)},creditcard:function(n,t){if(this.optional(t))return"dependency-mismatch";if(/[^0-9 \-]+/.test(n))return!1;var i,f,e=0,r=0,u=!1;if(n=n.replace(/\D/g,""),n.length<13||n.length>19)return!1;for(i=n.length-1;i>=0;i--)f=n.charAt(i),r=parseInt(f,10),u&&(r*=2)>9&&(r-=9),e+=r,u=!u;return e%10==0},minlength:function(t,i,r){var u=n.isArray(t)?t.length:this.getLength(t,i);return this.optional(i)||u>=r},maxlength:function(t,i,r){var u=n.isArray(t)?t.length:this.getLength(t,i);return this.optional(i)||r>=u},rangelength:function(t,i,r){var u=n.isArray(t)?t.length:this.getLength(t,i);return this.optional(i)||u>=r[0]&&u<=r[1]},min:function(n,t,i){return this.optional(t)||n>=i},max:function(n,t,i){return this.optional(t)||i>=n},range:function(n,t,i){return this.optional(t)||n>=i[0]&&n<=i[1]},equalTo:function(t,i,r){var u=n(r);return this.settings.onfocusout&&u.off(".validate-equalTo").on("blur.validate-equalTo",function(){n(i).valid()}),t===u.val()},remote:function(t,i,r){if(this.optional(i))return"dependency-mismatch";var u,e,f=this.previousValue(i);return this.settings.messages[i.name]||(this.settings.messages[i.name]={}),f.originalMessage=this.settings.messages[i.name].remote,this.settings.messages[i.name].remote=f.message,r="string"==typeof r&&{url:r}||r,f.old===t?f.valid:(f.old=t,u=this,this.startRequest(i),e={},e[i.name]=t,n.ajax(n.extend(!0,{mode:"abort",port:"validate"+i.name,dataType:"json",data:e,context:u.currentForm,success:function(r){var o,e,h,s=r===!0||"true"===r;u.settings.messages[i.name].remote=f.originalMessage;s?(h=u.formSubmitted,u.prepareElement(i),u.formSubmitted=h,u.successList.push(i),delete u.invalid[i.name],u.showErrors()):(o={},e=r||u.defaultMessage(i,"remote"),o[i.name]=f.message=n.isFunction(e)?e(t):e,u.invalid[i.name]=!0,u.showErrors(o));f.valid=s;u.stopRequest(i,s)}},r)),"pending")}}});var i,t={};n.ajaxPrefilter?n.ajaxPrefilter(function(n,i,r){var u=n.port;"abort"===n.mode&&(t[u]&&t[u].abort(),t[u]=r)}):(i=n.ajax,n.ajax=function(r){var f=("mode"in r?r:n.ajaxSettings).mode,u=("port"in r?r:n.ajaxSettings).port;return"abort"===f?(t[u]&&t[u].abort(),t[u]=i.apply(this,arguments),t[u]):i.apply(this,arguments)})});var containSaveFilter=!1,queryStringStatus=!0,clearStatus=!1,saveFilterName="",list,currentQueryString="",updateInitialQueryStringParameter="",parentRefUrl=window.location!=window.parent.location?document.referrer:document.location.href.replace(document.location.pathname+document.location.search,"");parentUrl=parentRefUrl==""?"":parentRefUrl.match(/:\/\/(.[^/]+)/)[1];var iframeRefUrl=window.location.href,iframeUrl=iframeRefUrl.match(/:\/\/(.[^/]+)/)[1],currentItemObject="",isRemoveAsDefaultDialogBinded=!1,isDeleteViewDialogBinded=!1;$(document).ready(function(){var u=$("#viewShare_popup").height(),n,t,i,r;$("#sharepopup_wrapper_WaitingPopup .loader-icon").css("top",parseInt(parseInt(u)/2)-30);isMultiTab?(n=createLoader("multi-tab-content"),$("#multi-tab-content").BoldBIDashboardWaitingPopup({template:$("#"+n)})):(n=createLoader("dashboard"),$("#dashboard").BoldBIDashboardWaitingPopup({template:$("#"+n)}));t=createLoader("dashboard-view-toogle");$("#dashboard-view-toogle").BoldBIDashboardWaitingPopup({template:$("#"+t)});$("#messageBox").BoldBIDashboardDialog({width:window.innerWidth>460?"450px":window.innerWidth-10,height:"200px",showOnInit:!1,allowDraggable:!0,enableResize:!1,showHeader:!1,enableModal:!0,close:"onMessageDialogClose"});i=createLoader("delete-div_wrapper");$("#delete-div_wrapper").BoldBIDashboardWaitingPopup({template:$("#"+i)});$("#save-view-popup").BoldBIDashboardDialog({width:"600px",height:"209px",showOnInit:!1,allowDraggable:!0,enableResize:!1,title:window.Server.App.Localization.SaveView,enableModal:!0,showHeader:!1});r=createLoader("save-view-popup_wrapper");$("#save-view-popup_wrapper").BoldBIDashboardWaitingPopup({template:$("#"+r)});$("#dashboard-view-toogle").mouseover(function(){var t=document.getElementById("dashboard-views"),n=$("#dashboard-view-toogle");t==null||t.style.display=="block"||t.style.display==""?(n.addClass("cursor-default"),n.removeClass("cursor-pointer")):(n.addClass("cursor-pointer"),n.removeClass("cursor-default"))});$("#filter_name").keypress(function(n){$("#filter-name-input").removeClass("has-error");n.which==13&&$("#save-filter").click()});$('[data-toggle="tooltip"]').tooltip();document.addEventListener&&(document.addEventListener("webkitfullscreenchange",fullscreenExitHandler,!1),document.addEventListener("mozfullscreenchange",fullscreenExitHandler,!1),document.addEventListener("fullscreenchange",fullscreenExitHandler,!1),document.addEventListener("MSFullscreenChange",fullscreenExitHandler,!1));isMultiTab||intializeGetShareLink();$("#is_mobile").val()!="false"&&isMultiTab||(typeof isSlideshow!="undefined"&&(isSlideshow||isUsageAnalytics)||filterView(),resetViewPanel());isOptionsBundleLoaded=!0;isViewNotFound&&(warningToast(window.Server.App.Localization.ViewNotFound,null,(new Date).getTime(),null),window.top.history.replaceState({},document.title,removeURLParameter(window.location.href,"viewid")));isCommentNotFound&&(warningToast(window.Server.App.Localization.CommentNotFound,null,(new Date).getTime(),null),window.top.history.replaceState({},document.title,removeURLParameter(window.location.href,"comment")))});$(document).on("click","#close-container,#close-filter,#close-comment",function(n){var i,t,r;if($("#is_mobile").val()=="true"){$("#server-mobile-navbar .su-nav-dashboard").addClass("active");return}i=document.getElementById("dashboard-views");i!=null&&(i.style.display=="block"||i.style.display=="")&&n.target.className.toLowerCase()!="su-view"&&n.target.className.toLowerCase()!="options"&&n.target.id.toLowerCase()!="views"?(t=$(n.target),(t.parents().andSelf().is("#dashboard-view-toogle")||t.parents().andSelf().is("#PopupContainerDelete")||t.parents().andSelf().is("#messageBox"))&&!t.parents().andSelf().is("#close-container")||CloseDashboardView(),$("#dashboard-view").removeClass("highlight-icon")):n.target.id=="dashboard-view-toogle"&&(containSaveFilter&&$("#saved-filter").show(),$("#dashboard").toggleClass("dashboard"),$(".view-heading").toggle(),$("#dashboard-views").toggle(),$("#dashboard-view-toogle").addClass("cursor-default").removeClass("cursor-pointer").toggleClass("dashboard-view-toogle"),refreshScroller());$("#commentModuleContainer").hasClass("displayNone")||n.target.id.toLowerCase()=="comments"||n.target.classList.contains("su-with-comment")||n.target.classList.contains("su-without-comment")||n.target.className.toLowerCase()=="options"||isMultiTab||(enableComment=="true"?closeDashboardComment():$("#close-filter a").css("display","none"),setDashboardWidth(),r=$("#dashboard").data("BoldBIDashboardDesigner"),r.resizeDashboard());$('[data-toggle="tooltip"]').tooltip()});$(document).on("mouseenter",".border-division,.border-division-last",function(){$(this).children(".unsaved-opt").css("display","block")}).on("mouseleave",".border-division,.border-division-last",function(){$(this).children(".unsaved-opt").css("display","none")});filtered_Values="";dashboardviewerObj=null;$(document).on("click","#clear",function(){dashboardviewerObj=getDashboardInstance();dashboardviewerObj.refresh()});$(document).on("click",".view",function(){var n=$(this).attr("viewid");isMultiTab?window.open(multiTabUrl+"?viewid="+n,"_blank"):window.open(window.location.pathname+"?viewid="+n,"_blank")});$(document).on("click",".share",function(){var n=$(this).attr("viewid");$("#dashboard-view-toogle").css("z-index","999");$.ajax({type:"POST",url:itemViewShareIframeUrl,data:{itemViewId:n,itemId:item_Id},success:function(n){n.itemViewDetail!=null&&n.itemDetail!=null&&shareDashboardPermission(n.itemViewDetail,n.itemDetail)}})});$(document).on("click","#save-as-view",function(){$("#view-name").hide();$("#filter_name").val("");$("#save-lable-section").hide();$("#save-section").show()});$(document).on("click",".clear",function(){$("#dashboard-view-toogle").BoldBIDashboardWaitingPopup("show");$("#filter_name").val("");clearAllFilters();$("#view-name").show();$("#save-section").hide();$("#unsaved-filter,#unsaved-filter-title").show();$("#save-lable-section").show()});$(document).on("click","#clear-txt",function(){$("#filter_name").val("");$("#save-lable-section").show();$("#save-section").hide()});$(document).on("click",".clear-filter",function(n){var i=n.target.attributes.widgetid.value,r=n.target.attributes.widgettype.value,t;clearWidgetFilter(i,r);t=getcurrentfilters();(t==""||t=="undefined"||t==null||t.masterData==null)&&($("#filter_name").val(""),$("#save-lable-section").show(),$("#save-section").hide())});$(document).on("click",".delete",function(){onDeleteItemDialogOpen();var n=$(this).attr("viewid"),t=$(this).attr("viewname");$("#delete_item").attr("viewid",n);$("#delete_item_name").html(t);$("#delete-content").show();$("#delete-error").hide()});$(document).on("click","#save-view",function(){$("#save-section").show();$("#save-lable-section").hide();$("#filter_name").val("");$("#filter_name").focus()});$(document).on("click",".View-link-copy",function(n){var u=BoldBIDashboard.browserInfo(),i,t,r;$(n.target).parents().closest("li").length&&(i=$(n.target).parents().closest("li"),i.find(".view-link").length&&(t=document.createElement("textarea"),t.id="copyTextArea",t.innerText=getViewsLink(i.find(".view-link").attr("href")),document.querySelector("body").appendChild(t),r=document.getElementById("copyTextArea"),r.select(),/Safari/.test(navigator.userAgent)&&/Apple Computer/.test(navigator.vendor)?($(this).removeClass("su su-link"),$(this).attr("data-original-title","")):(document.execCommand("copy"),$(this).attr("data-original-title",window.Server.App.Localization.Copysuccess).tooltip("show"),setTimeout(function(){$(".View-link-copy").attr("data-original-title",window.Server.App.Localization.LinkCopy);$(".View-link-copy").tooltip()},3e3)),document.querySelector("body").removeChild(t)))});$(document).on("click",".saved-view",function(n){var t,i;(n.target.className=="saved-view"||n.target.className=="saved-opt"||n.target.className=="saved-filter txt-overflow")&&(t=$(this),$(t).find(".applied-filters").length==0&&(i=$(this).attr("viewid").trim(),$(".saved-list-content-div").find(".applied-filters").length>0&&$(".applied-filters").remove(),$(".saved-view").removeClass("opened-view-section"),$(".saved-list-content-div").find(".saved-view").css("background-color","initial").css("border-top","0"),$(t).append($("<span class='col-sm-4 no-padding loader-gif' style='display:inline; background-image:url("+dashboardServerResourceUrl+"/cdn/images/waitingpopup.gif); background-size:cover; position:absolute; height:25px; width:25px;'><\/span>")),$.ajax({url:getViewParameterUrl,data:{itemId:item_Id,UserId:userId,UserName:userName,IsMultiDashboard:isMultiTab,ViewId:i,parentDashboardId:multiTabId},type:"POST",success:function(n){var u="",i,r,f,e;if(u=isUserAuthenticated!=="false"||embedConfig.IsEmbedCode||embedConfig.IsEmbedDashboard?JSON.parse(n.viewDetails):n.viewDetails,i=getDashboardInstance(),i&&(r=i._parseParameterQuery(u.QueryString),r!=null&&r.length>0))for((embedConfig.IsEmbedDashboard||embedConfig.IsEmbedCode)&&(i.clearAllFilters(),i.model.filterOverviewSettings.viewName=u.ViewName,i.model.filterOverviewSettings.viewId=u.ViewId,i.model.filterParameters=u.QueryString,i.model.filterOverviewSettings.showSaveIcon=u.CanEdit&&embedConfig.IsEmbedCode&&embedConfig.CanSaveView?!0:!1,i.redrawDashboard()),f=0;f<r.length;f++){for(list="<div class='applied-filters'><label class='list-items'>"+r[f].ColumnName+"<\/label><br />",e=0;e<r[f].Data.length;e++)list+="<label class='list-items'>"+r[f].Data[e]+"<\/label><br />";list+="<\/div>";t.find(".applied-filters").length==0?t.append(list):$(".applied-filters").last().after(list)}$(t).addClass("opened-view-section");$("span.loader-gif").remove()}})))});$(document).on("click",".view-link",function(n){(embedConfig.IsEmbedDashboard||embedConfig.IsEmbedCode)&&(n.preventDefault(),$(this).parent().parent().click())});$(document).on("keydown","#view-name",function(n){n.keyCode==13&&(n.preventDefault(),$("#save-button").trigger("click"))});if(function(n){n.fn.swipeDetector=function(t){function h(n){(!t.useOnlyTouch||n.originalEvent.touches)&&(n.originalEvent.touches&&(n=n.originalEvent.touches[0]),i===0&&(i=1,e=n.clientX,o=n.clientY))}function c(){i===2&&(i=0,Math.abs(u)>Math.abs(f)&&Math.abs(u)>t.swipeThreshold?u<0?r.trigger(n.Event("swipeLeft.sd")):r.trigger(n.Event("swipeRight.sd")):Math.abs(f)>t.swipeThreshold&&(f<0?r.trigger(n.Event("swipeUp.sd")):r.trigger(n.Event("swipeDown.sd"))))}function l(n){if(i===1){n.originalEvent.touches&&(n=n.originalEvent.touches[0]);var r=n.clientX-e,s=n.clientY-o;(Math.abs(r)>t.swipeThreshold||Math.abs(s)>t.swipeThreshold)&&(i=2,u=r,f=s)}}var i=0,e=0,o=0,u=0,f=0,r=this,s={swipeThreshold:70,useOnlyTouch:!1};return function(){t=n.extend(s,t);r.on("mousedown touchstart",h);n("html").on("mouseup touchend",c);n("html").on("mousemove touchmove",l)}(),r}}(jQuery),typeof isSlideshow!="undefined"&&isSlideshow)$("#dashboard").swipeDetector().on("swipeLeft.sd swipeRight.sd swipeUp.sd swipeDown.sd",function(n){var t=new CustomEvent("onSwipeDetected",{detail:n});window.parent.document.dispatchEvent(t)});$(document).on("click",".mark-default",function(){var n=$(this).parent().parent().parent().find("span .opt"),t=n.attr("viewid"),i=n.attr("itemid"),u=n.attr("viewname"),f="<br><strong style='float:left;padding-top:15px;width:100%' class='note'>"+window.Server.App.Localization.Note+"<\/strong><div>"+window.Server.App.Localization.DefaultView+"<\/div>",r;$(".server-dashboard-view").BoldBIDashboardWaitingPopup("show");isDefaultView?hasDefaultView?($(".server-dashboard-view").BoldBIDashboardWaitingPopup("hide"),messageBox("su-set-default",window.Server.App.Localization.SetAsDefaultView,window.Server.App.Localization.SetAsDefaultConfirmation.format("<span style='color: #0565ff;font-style: italic'>"+u+"<\/span>")+f,"error",function(){$(".server-dashboard-view").BoldBIDashboardWaitingPopup("show");$.ajax({url:updateDefaultValueUrl,data:{viewId:t,defaultValue:!0,itemId:i,userId:userId},type:"POST",success:function(n){n.toString().toLowerCase()=="true"?(onCloseMessageBox(),$(".server-dashboard-view").BoldBIDashboardWaitingPopup("hide"),$(".mark-default").text(window.Server.App.Localization.RemoveAsDefaultTitle),successToast(window.Server.App.Localization.SetAsDefaultViewSuccess,7e3),GetSavedFilter(),refreshScroller()):warningToast(window.Server.App.Localization.SetAsDefaultViewError)}});$(".server-dashboard-view").BoldBIDashboardWaitingPopup("hide")}),GetSavedFilter(),refreshScroller()):hasDefaultView||$.ajax({url:updateDefaultValueUrl,data:{viewId:t,defaultValue:!0,itemId:i,userId:userId},type:"POST",success:function(n){onCloseMessageBox();$(".server-dashboard-view").BoldBIDashboardWaitingPopup("hide");n.toString().toLowerCase()=="true"?(hasDefaultView=!0,$(".mark-default").text(window.Server.App.Localization.RemoveAsDefaultTitle),successToast(window.Server.App.Localization.SetAsDefaultViewSuccess,7e3),GetSavedFilter(),refreshScroller()):warningToast(window.Server.App.Localization.SetAsDefaultViewError)}}):isAdmin?($(".server-dashboard-view").BoldBIDashboardWaitingPopup("hide"),r=window.Server.App.Localization.DashboardDisable.format("<a href='"+dashboardSettingsUrl+"' target='_blank' >","<\/a>"),messageBox("su-set-default",window.Server.App.Localization.SetAsDefaultView,r,"success",function(){onCloseMessageBox()})):($(".server-dashboard-view").BoldBIDashboardWaitingPopup("hide"),messageBox("su-set-default",window.Server.App.Localization.SetAsDefaultView,window.Server.App.Localization.EnableDefaultView,"success",function(){onCloseMessageBox()}))});$(document).on("click","#mark-as-default-confirmed",function(){$(".server-dashboard-view").BoldBIDashboardWaitingPopup("show");$.ajax({url:updateDefaultValueUrl,data:{viewId:viewId,defaultValue:!0,itemId:itemId},type:"POST",success:function(n){n.toString().toLowerCase()=="true"?(onCloseMessageBox(),isDefaultView=!0,$(".server-dashboard-view").BoldBIDashboardWaitingPopup("hide"),$(".mark-default").text(window.Server.App.Localization.RemoveAsDefaultTitle),SuccessAlert(window.Server.App.Localization.SetAsDefaultView,window.Server.App.Localization.SetAsDefaultViewSuccess,5e3),GetSavedFilter(),refreshScroller()):WarningAlert(window.Server.App.Localization.SetAsDefaultView,window.Server.App.Localization.SetAsDefaultViewError,5e3)}})});$(document).on("click",".remove-default",function(){var i=$(this).parent().parent().parent().find("span .opt"),f=i.attr("viewname"),r='<span class="dialog-header-with-icon"><span class ="dialog-header-title"><i class="su su-remove-default dialog-header-icon"><\/i>&nbsp;&nbsp;'+window.Server.App.Localization.RemoveAsDefaultView+"<\/span><\/span>",t,u,n;isRemoveAsDefaultDialogBinded?(n=document.getElementById("remove-defaultview-dialog").ej2_instances,n[0].header=r,n[0].show()):(t=document.createElement("div"),t.setAttribute("id","remove-defaultview-dialog"),u=isMultiTab?document.getElementById("multi-tab-dashboard"):document.getElementById("dashboard"),u.appendChild(t),n=new ejs.popups.Dialog({showOnInit:!1,allowDraggable:!1,enableResize:!1,width:window.innerWidth>460?"450px":window.innerWidth-10,height:"auto",showHeader:!1,animationSettings:{effect:"Zoom"},isModal:!0,enableModal:!0,closeOnEscape:!0,header:r,showCloseIcon:!0,content:window.Server.App.Localization.RemoveAsDefaultConfirmation.format("<span style='color: #0565ff;font-style: italic'>"+f+"<\/span>")+"<br><strong style='float:left; padding-top:15px; width: 100%' class='note'>"+window.Server.App.Localization.Note+"<\/strong><span> "+window.Server.App.Localization.RemoveAsDefaultMessage+"<\/span>",buttons:[{click:function(){removeAsDefault(i)},buttonModel:{cssClass:"app-btn-danger",content:window.Server.App.Localization.YesButton}},{click:function(){n.hide()},buttonModel:{cssClass:"app-btn-secondary",content:window.Server.App.Localization.NoButton}}]}),n.appendTo(t),isRemoveAsDefaultDialogBinded=!0);ejs.popups.createSpinner({target:document.getElementById("remove-defaultview-dialog")});ejs.popups.setSpinner({type:"Material"})});serverApp.controller("ItemInfoCtrl",["$scope","$timeout",function(n,t){n.ItemDetail=null;n.closeItemInfo=function(){typeof BoldBIDashboard!="undefined"?$("#item-info-popup").BoldBIDashboardDialog("close"):$("#item-info-popup").ejDialog("close")};n.openInfoDialog=function(i,r,u){var f=$("<div/>").html(i.Description).text();n.ItemDetail=i;n.showDashboardLinkButton=r;n.isUsageAnalytics=u;typeof BoldBIDashboard!="undefined"?($("#item-info-popup").BoldBIDashboardDialog({width:window.innerWidth>480?"480px":window.innerWidth-10+"px",height:"auto",showOnInit:!1,allowDraggable:!1,enableResize:!1,showHeader:!1,enableModal:!0}),$("#item-info-popup").BoldBIDashboardDialog("open"),$("#item-info-popup").BoldBIDashboardDialog("refresh")):($("#item-info-popup").ejDialog({width:window.innerWidth>480?"480px":window.innerWidth-10+"px",height:"auto",showOnInit:!1,allowDraggable:!1,enableResize:!1,showHeader:!1,enableModal:!0}),$("#item-info-popup").ejDialog("open"),$("#item-info-popup").ejDialog("refresh"));t(function(){n.$apply()},100);$(".item-info-description").text(f)};n.viewDashboardUrl=function(n,t,i,r){return r===!0?encodeURI(editDashboardUrl+"/"+n+"/draft/"+i):encodeURI(viewDashboardUrlAction+"/"+n+"/"+t+"/"+i+"?showmydashboards=1")};n.GetInfoButtonText=function(n){return n===!0?window.Server.App.Localization.EditDashboard:window.Server.App.Localization.OpenDashboard}}]);typeof angularManualBootstrap!="undefined"&&angularManualBootstrap&&angular.element(document).ready(function(){angular.bootstrap(document,["serverApp"])})