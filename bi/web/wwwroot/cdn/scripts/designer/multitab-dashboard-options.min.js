!function(e){"function"==typeof define&&define.amd?define(["jquery"],e):"object"==typeof module&&module.exports?module.exports=e(require("jquery")):e(jQuery)}(function(u){u.extend(u.fn,{validate:function(e){var i;if(this.length)return(i=u.data(this[0],"validator"))||(this.attr("novalidate","novalidate"),i=new u.validator(e,this[0]),u.data(this[0],"validator",i),i.settings.onsubmit&&(this.on("click.validate",":submit",function(e){i.submitButton=e.currentTarget,u(this).hasClass("cancel")&&(i.cancelSubmit=!0),void 0!==u(this).attr("formnovalidate")&&(i.cancelSubmit=!0)}),this.on("submit.validate",function(a){function e(){var e,t;return i.submitButton&&(i.settings.submitHandler||i.formSubmitted)&&(e=u("<input type='hidden'/>").attr("name",i.submitButton.name).val(u(i.submitButton).val()).appendTo(i.currentForm)),!(i.settings.submitHandler&&!i.settings.debug)||(t=i.settings.submitHandler.call(i,i.currentForm,a),e&&e.remove(),void 0!==t&&t)}return i.settings.debug&&a.preventDefault(),i.cancelSubmit?(i.cancelSubmit=!1,e()):i.form()?i.pendingRequest?!(i.formSubmitted=!0):e():(i.focusInvalid(),!1)})),i);e&&e.debug&&window.console&&console.warn("Nothing selected, can't validate, returning nothing.")},valid:function(){var e,t,a;return u(this[0]).is("form")?e=this.validate().form():(a=[],e=!0,t=u(this[0].form).validate(),this.each(function(){(e=t.element(this)&&e)||(a=a.concat(t.errorList))}),t.errorList=a),e},rules:function(e,t){var a,i,s,n,o,r=this[0],l=void 0!==this.attr("contenteditable")&&"false"!==this.attr("contenteditable");if(null!=r&&(!r.form&&l&&(r.form=this.closest("form")[0],r.name=this.attr("name")),null!=r.form)){if(e)switch(a=u.data(r.form,"validator").settings,i=a.rules,s=u.validator.staticRules(r),e){case"add":u.extend(s,u.validator.normalizeRule(t)),delete s.messages,i[r.name]=s,t.messages&&(a.messages[r.name]=u.extend(a.messages[r.name],t.messages));break;case"remove":return t?(o={},u.each(t.split(/\s/),function(e,t){o[t]=s[t],delete s[t]}),o):(delete i[r.name],s)}return(l=u.validator.normalizeRules(u.extend({},u.validator.classRules(r),u.validator.attributeRules(r),u.validator.dataRules(r),u.validator.staticRules(r)),r)).required&&(n=l.required,delete l.required,l=u.extend({required:n},l)),l.remote&&(n=l.remote,delete l.remote,l=u.extend(l,{remote:n})),l}}});function t(e){return e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"")}var a;u.extend(u.expr.pseudos||u.expr[":"],{blank:function(e){return!t(""+u(e).val())},filled:function(e){e=u(e).val();return null!==e&&!!t(""+e)},unchecked:function(e){return!u(e).prop("checked")}}),u.validator=function(e,t){this.settings=u.extend(!0,{},u.validator.defaults,e),this.currentForm=t,this.init()},u.validator.format=function(a,e){return 1===arguments.length?function(){var e=u.makeArray(arguments);return e.unshift(a),u.validator.format.apply(this,e)}:(void 0===e||((e=2<arguments.length&&e.constructor!==Array?u.makeArray(arguments).slice(1):e).constructor!==Array&&(e=[e]),u.each(e,function(e,t){a=a.replace(new RegExp("\\{"+e+"\\}","g"),function(){return t})})),a)},u.extend(u.validator,{defaults:{messages:{},groups:{},rules:{},errorClass:"error",pendingClass:"pending",validClass:"valid",errorElement:"label",focusCleanup:!1,focusInvalid:!0,errorContainer:u([]),errorLabelContainer:u([]),onsubmit:!0,ignore:":hidden",ignoreTitle:!1,customElements:[],onfocusin:function(e){this.lastActive=e,this.settings.focusCleanup&&(this.settings.unhighlight&&this.settings.unhighlight.call(this,e,this.settings.errorClass,this.settings.validClass),this.hideThese(this.errorsFor(e)))},onfocusout:function(e){this.checkable(e)||!(e.name in this.submitted)&&this.optional(e)||this.element(e)},onkeyup:function(e,t){9===t.which&&""===this.elementValue(e)||-1!==u.inArray(t.keyCode,[16,17,18,20,35,36,37,38,39,40,45,144,225])||(e.name in this.submitted||e.name in this.invalid)&&this.element(e)},onclick:function(e){e.name in this.submitted?this.element(e):e.parentNode.name in this.submitted&&this.element(e.parentNode)},highlight:function(e,t,a){("radio"===e.type?this.findByName(e.name):u(e)).addClass(t).removeClass(a)},unhighlight:function(e,t,a){("radio"===e.type?this.findByName(e.name):u(e)).removeClass(t).addClass(a)}},setDefaults:function(e){u.extend(u.validator.defaults,e)},messages:{required:"This field is required.",remote:"Please fix this field.",email:"Please enter a valid email address.",url:"Please enter a valid URL.",date:"Please enter a valid date.",dateISO:"Please enter a valid date (ISO).",number:"Please enter a valid number.",digits:"Please enter only digits.",equalTo:"Please enter the same value again.",maxlength:u.validator.format("Please enter no more than {0} characters."),minlength:u.validator.format("Please enter at least {0} characters."),rangelength:u.validator.format("Please enter a value between {0} and {1} characters long."),range:u.validator.format("Please enter a value between {0} and {1}."),max:u.validator.format("Please enter a value less than or equal to {0}."),min:u.validator.format("Please enter a value greater than or equal to {0}."),step:u.validator.format("Please enter a multiple of {0}.")},autoCreateRanges:!1,prototype:{init:function(){function e(e){var t,a,i=void 0!==u(this).attr("contenteditable")&&"false"!==u(this).attr("contenteditable");!this.form&&i&&(this.form=u(this).closest("form")[0],this.name=u(this).attr("name")),s===this.form&&(i=u.data(this.form,"validator"),t="on"+e.type.replace(/^validate/,""),(a=i.settings)[t])&&!u(this).is(a.ignore)&&a[t].call(i,this,e)}this.labelContainer=u(this.settings.errorLabelContainer),this.errorContext=this.labelContainer.length&&this.labelContainer||u(this.currentForm),this.containers=u(this.settings.errorContainer).add(this.settings.errorLabelContainer),this.submitted={},this.valueCache={},this.pendingRequest=0,this.pending={},this.invalid={},this.reset();var a,s=this.currentForm,i=this.groups={};u.each(this.settings.groups,function(a,e){"string"==typeof e&&(e=e.split(/\s/)),u.each(e,function(e,t){i[t]=a})}),a=this.settings.rules,u.each(a,function(e,t){a[e]=u.validator.normalizeRule(t)});u(this.currentForm).on("focusin.validate focusout.validate keyup.validate",[":text","[type='password']","[type='file']","select","textarea","[type='number']","[type='search']","[type='tel']","[type='url']","[type='email']","[type='datetime']","[type='date']","[type='month']","[type='week']","[type='time']","[type='datetime-local']","[type='range']","[type='color']","[type='radio']","[type='checkbox']","[contenteditable]","[type='button']"].concat(this.settings.customElements).join(", "),e).on("click.validate",["select","option","[type='radio']","[type='checkbox']"].concat(this.settings.customElements).join(", "),e),this.settings.invalidHandler&&u(this.currentForm).on("invalid-form.validate",this.settings.invalidHandler)},form:function(){return this.checkForm(),u.extend(this.submitted,this.errorMap),this.invalid=u.extend({},this.errorMap),this.valid()||u(this.currentForm).triggerHandler("invalid-form",[this]),this.showErrors(),this.valid()},checkForm:function(){this.prepareForm();for(var e=0,t=this.currentElements=this.elements();t[e];e++)this.check(t[e]);return this.valid()},element:function(e){var t,a,i=this.clean(e),s=this.validationTargetFor(i),n=this,o=!0;return void 0===s?delete this.invalid[i.name]:(this.prepareElement(s),this.currentElements=u(s),(a=this.groups[s.name])&&u.each(this.groups,function(e,t){t===a&&e!==s.name&&(i=n.validationTargetFor(n.clean(n.findByName(e))))&&i.name in n.invalid&&(n.currentElements.push(i),o=n.check(i)&&o)}),t=!1!==this.check(s),o=o&&t,this.invalid[s.name]=!t,this.numberOfInvalids()||(this.toHide=this.toHide.add(this.containers)),this.showErrors(),u(e).attr("aria-invalid",!t)),o},showErrors:function(t){var a;t&&(u.extend((a=this).errorMap,t),this.errorList=u.map(this.errorMap,function(e,t){return{message:e,element:a.findByName(t)[0]}}),this.successList=u.grep(this.successList,function(e){return!(e.name in t)})),this.settings.showErrors?this.settings.showErrors.call(this,this.errorMap,this.errorList):this.defaultShowErrors()},resetForm:function(){u.fn.resetForm&&u(this.currentForm).resetForm(),this.invalid={},this.submitted={},this.prepareForm(),this.hideErrors();var e=this.elements().removeData("previousValue").removeAttr("aria-invalid");this.resetElements(e)},resetElements:function(e){var t;if(this.settings.unhighlight)for(t=0;e[t];t++)this.settings.unhighlight.call(this,e[t],this.settings.errorClass,""),this.findByName(e[t].name).removeClass(this.settings.validClass);else e.removeClass(this.settings.errorClass).removeClass(this.settings.validClass)},numberOfInvalids:function(){return this.objectLength(this.invalid)},objectLength:function(e){var t,a=0;for(t in e)void 0!==e[t]&&null!==e[t]&&!1!==e[t]&&a++;return a},hideErrors:function(){this.hideThese(this.toHide)},hideThese:function(e){e.not(this.containers).text(""),this.addWrapper(e).hide()},valid:function(){return 0===this.size()},size:function(){return this.errorList.length},focusInvalid:function(){if(this.settings.focusInvalid)try{u(this.findLastActive()||this.errorList.length&&this.errorList[0].element||[]).filter(":visible").trigger("focus").trigger("focusin")}catch(e){}},findLastActive:function(){var t=this.lastActive;return t&&1===u.grep(this.errorList,function(e){return e.element.name===t.name}).length&&t},elements:function(){var a=this,i={};return u(this.currentForm).find(["input","select","textarea","[contenteditable]"].concat(this.settings.customElements).join(", ")).not(":submit, :reset, :image, :disabled").not(this.settings.ignore).filter(function(){var e=this.name||u(this).attr("name"),t=void 0!==u(this).attr("contenteditable")&&"false"!==u(this).attr("contenteditable");return!e&&a.settings.debug&&window.console&&console.error("%o has no name assigned",this),t&&(this.form=u(this).closest("form")[0],this.name=e),!(this.form!==a.currentForm||e in i||!a.objectLength(u(this).rules())||(i[e]=!0,0))})},clean:function(e){return u(e)[0]},errors:function(){var e=this.settings.errorClass.split(" ").join(".");return u(this.settings.errorElement+"."+e,this.errorContext)},resetInternals:function(){this.successList=[],this.errorList=[],this.errorMap={},this.toShow=u([]),this.toHide=u([])},reset:function(){this.resetInternals(),this.currentElements=u([])},prepareForm:function(){this.reset(),this.toHide=this.errors().add(this.containers)},prepareElement:function(e){this.reset(),this.toHide=this.errorsFor(e)},elementValue:function(e){var t=u(e),a=e.type,i=void 0!==t.attr("contenteditable")&&"false"!==t.attr("contenteditable");return"radio"===a||"checkbox"===a?this.findByName(e.name).filter(":checked").val():"number"===a&&void 0!==e.validity?e.validity.badInput?"NaN":t.val():(e=i?t.text():t.val(),"file"===a?"C:\\fakepath\\"===e.substr(0,12)?e.substr(12):0<=(i=e.lastIndexOf("/"))||0<=(i=e.lastIndexOf("\\"))?e.substr(i+1):e:"string"==typeof e?e.replace(/\r/g,""):e)},check:function(t){t=this.validationTargetFor(this.clean(t));var e,a,i,s,n=u(t).rules(),o=u.map(n,function(e,t){return t}).length,r=!1,l=this.elementValue(t);for(a in this.abortRequest(t),"function"==typeof n.normalizer?s=n.normalizer:"function"==typeof this.settings.normalizer&&(s=this.settings.normalizer),s&&(l=s.call(t,l),delete n.normalizer),n){i={method:a,parameters:n[a]};try{if("dependency-mismatch"===(e=u.validator.methods[a].call(this,l,t,i.parameters))&&1===o)r=!0;else{if(r=!1,"pending"===e)return void(this.toHide=this.toHide.not(this.errorsFor(t)));if(!e)return this.formatAndAdd(t,i),!1}}catch(e){throw this.settings.debug&&window.console&&console.log("Exception occurred when checking element "+t.id+", check the '"+i.method+"' method.",e),e instanceof TypeError&&(e.message+=".  Exception occurred when checking element "+t.id+", check the '"+i.method+"' method."),e}}if(!r)return this.objectLength(n)&&this.successList.push(t),!0},customDataMessage:function(e,t){return u(e).data("msg"+t.charAt(0).toUpperCase()+t.substring(1).toLowerCase())||u(e).data("msg")},customMessage:function(e,t){e=this.settings.messages[e];return e&&(e.constructor===String?e:e[t])},findDefined:function(){for(var e=0;e<arguments.length;e++)if(void 0!==arguments[e])return arguments[e]},defaultMessage:function(e,t){var a=this.findDefined(this.customMessage(e.name,(t="string"==typeof t?{method:t}:t).method),this.customDataMessage(e,t.method),!this.settings.ignoreTitle&&e.title||void 0,u.validator.messages[t.method],"<strong>Warning: No message defined for "+e.name+"</strong>"),i=/\$?\{(\d+)\}/g;return"function"==typeof a?a=a.call(this,t.parameters,e):i.test(a)&&(a=u.validator.format(a.replace(i,"{$1}"),t.parameters)),a},formatAndAdd:function(e,t){var a=this.defaultMessage(e,t);this.errorList.push({message:a,element:e,method:t.method}),this.errorMap[e.name]=a,this.submitted[e.name]=a},addWrapper:function(e){return e=this.settings.wrapper?e.add(e.parent(this.settings.wrapper)):e},defaultShowErrors:function(){for(var e,t,a=0;this.errorList[a];a++)t=this.errorList[a],this.settings.highlight&&this.settings.highlight.call(this,t.element,this.settings.errorClass,this.settings.validClass),this.showLabel(t.element,t.message);if(this.errorList.length&&(this.toShow=this.toShow.add(this.containers)),this.settings.success)for(a=0;this.successList[a];a++)this.showLabel(this.successList[a]);if(this.settings.unhighlight)for(a=0,e=this.validElements();e[a];a++)this.settings.unhighlight.call(this,e[a],this.settings.errorClass,this.settings.validClass);this.toHide=this.toHide.not(this.toShow),this.hideErrors(),this.addWrapper(this.toShow).show()},validElements:function(){return this.currentElements.not(this.invalidElements())},invalidElements:function(){return u(this.errorList).map(function(){return this.element})},showLabel:function(e,t){var a,i,s,n=this.errorsFor(e),o=this.idOrName(e),r=u(e).attr("aria-describedby");n.length?(n.removeClass(this.settings.validClass).addClass(this.settings.errorClass),this.settings&&this.settings.escapeHtml?n.text(t||""):n.html(t||"")):(n=u("<"+this.settings.errorElement+">").attr("id",o+"-error").addClass(this.settings.errorClass),this.settings&&this.settings.escapeHtml?n.text(t||""):n.html(t||""),i=n,this.settings.wrapper&&(i=n.hide().show().wrap("<"+this.settings.wrapper+"/>").parent()),this.labelContainer.length?this.labelContainer.append(i):this.settings.errorPlacement?this.settings.errorPlacement.call(this,i,u(e)):i.insertAfter(e),n.is("label")?n.attr("for",o):0===n.parents("label[for='"+this.escapeCssMeta(o)+"']").length&&(i=n.attr("id"),r?r.match(new RegExp("\\b"+this.escapeCssMeta(i)+"\\b"))||(r+=" "+i):r=i,u(e).attr("aria-describedby",r),a=this.groups[e.name])&&u.each((s=this).groups,function(e,t){t===a&&u("[name='"+s.escapeCssMeta(e)+"']",s.currentForm).attr("aria-describedby",n.attr("id"))})),!t&&this.settings.success&&(n.text(""),"string"==typeof this.settings.success?n.addClass(this.settings.success):this.settings.success(n,e)),this.toShow=this.toShow.add(n)},errorsFor:function(e){var t=this.escapeCssMeta(this.idOrName(e)),e=u(e).attr("aria-describedby"),t="label[for='"+t+"'], label[for='"+t+"'] *";return e&&(t=t+", #"+this.escapeCssMeta(e).replace(/\s+/g,", #")),this.errors().filter(t)},escapeCssMeta:function(e){return void 0===e?"":e.replace(/([\\!"#$%&'()*+,./:;<=>?@\[\]^`{|}~])/g,"\\$1")},idOrName:function(e){return this.groups[e.name]||!this.checkable(e)&&e.id||e.name},validationTargetFor:function(e){return this.checkable(e)&&(e=this.findByName(e.name)),u(e).not(this.settings.ignore)[0]},checkable:function(e){return/radio|checkbox/i.test(e.type)},findByName:function(e){return u(this.currentForm).find("[name='"+this.escapeCssMeta(e)+"']")},getLength:function(e,t){switch(t.nodeName.toLowerCase()){case"select":return u("option:selected",t).length;case"input":if(this.checkable(t))return this.findByName(t.name).filter(":checked").length}return e.length},depend:function(e,t){return!this.dependTypes[typeof e]||this.dependTypes[typeof e](e,t)},dependTypes:{boolean:function(e){return e},string:function(e,t){return!!u(e,t.form).length},function:function(e,t){return e(t)}},optional:function(e){var t=this.elementValue(e);return!u.validator.methods.required.call(this,t,e)&&"dependency-mismatch"},elementAjaxPort:function(e){return"validate"+e.name},startRequest:function(e){this.pending[e.name]||(this.pendingRequest++,u(e).addClass(this.settings.pendingClass),this.pending[e.name]=!0)},stopRequest:function(e,t){this.pendingRequest--,this.pendingRequest<0&&(this.pendingRequest=0),delete this.pending[e.name],u(e).removeClass(this.settings.pendingClass),t&&0===this.pendingRequest&&this.formSubmitted&&this.form()&&0===this.pendingRequest?(u(this.currentForm).trigger("submit"),this.submitButton&&u("input:hidden[name='"+this.submitButton.name+"']",this.currentForm).remove(),this.formSubmitted=!1):!t&&0===this.pendingRequest&&this.formSubmitted&&(u(this.currentForm).triggerHandler("invalid-form",[this]),this.formSubmitted=!1)},abortRequest:function(e){var t;this.pending[e.name]&&(t=this.elementAjaxPort(e),u.ajaxAbort(t),this.pendingRequest--,this.pendingRequest<0&&(this.pendingRequest=0),delete this.pending[e.name],u(e).removeClass(this.settings.pendingClass))},previousValue:function(e,t){return t="string"==typeof t&&t||"remote",u.data(e,"previousValue")||u.data(e,"previousValue",{old:null,valid:!0,message:this.defaultMessage(e,{method:t})})},destroy:function(){this.resetForm(),u(this.currentForm).off(".validate").removeData("validator").find(".validate-equalTo-blur").off(".validate-equalTo").removeClass("validate-equalTo-blur").find(".validate-lessThan-blur").off(".validate-lessThan").removeClass("validate-lessThan-blur").find(".validate-lessThanEqual-blur").off(".validate-lessThanEqual").removeClass("validate-lessThanEqual-blur").find(".validate-greaterThanEqual-blur").off(".validate-greaterThanEqual").removeClass("validate-greaterThanEqual-blur").find(".validate-greaterThan-blur").off(".validate-greaterThan").removeClass("validate-greaterThan-blur")}},classRuleSettings:{required:{required:!0},email:{email:!0},url:{url:!0},date:{date:!0},dateISO:{dateISO:!0},number:{number:!0},digits:{digits:!0},creditcard:{creditcard:!0}},addClassRules:function(e,t){e.constructor===String?this.classRuleSettings[e]=t:u.extend(this.classRuleSettings,e)},classRules:function(e){var t={},e=u(e).attr("class");return e&&u.each(e.split(" "),function(){this in u.validator.classRuleSettings&&u.extend(t,u.validator.classRuleSettings[this])}),t},normalizeAttributeRule:function(e,t,a,i){(i=/min|max|step/.test(a)&&(null===t||/number|range|text/.test(t))&&(i=Number(i),isNaN(i))?void 0:i)||0===i?e[a]=i:t===a&&"range"!==t&&(e["date"===t?"dateISO":a]=!0)},attributeRules:function(e){var t,a,i={},s=u(e),n=e.getAttribute("type");for(t in u.validator.methods)a="required"===t?(a=e.getAttribute(t),""===a&&(a=!0),!!a):s.attr(t),this.normalizeAttributeRule(i,n,t,a);return i.maxlength&&/-1|2147483647|524288/.test(i.maxlength)&&delete i.maxlength,i},dataRules:function(e){var t,a,i={},s=u(e),n=e.getAttribute("type");for(t in u.validator.methods)a=s.data("rule"+t.charAt(0).toUpperCase()+t.substring(1).toLowerCase()),""===a&&(a=!0),this.normalizeAttributeRule(i,n,t,a);return i},staticRules:function(e){var t={},a=u.data(e.form,"validator");return t=a.settings.rules?u.validator.normalizeRule(a.settings.rules[e.name])||{}:t},normalizeRules:function(i,s){return u.each(i,function(e,t){if(!1===t)delete i[e];else if(t.param||t.depends){var a=!0;switch(typeof t.depends){case"string":a=!!u(t.depends,s.form).length;break;case"function":a=t.depends.call(s,s)}a?i[e]=void 0===t.param||t.param:(u.data(s.form,"validator").resetElements(u(s)),delete i[e])}}),u.each(i,function(e,t){i[e]="function"==typeof t&&"normalizer"!==e?t(s):t}),u.each(["minlength","maxlength"],function(){i[this]&&(i[this]=Number(i[this]))}),u.each(["rangelength","range"],function(){var e;i[this]&&(Array.isArray(i[this])?i[this]=[Number(i[this][0]),Number(i[this][1])]:"string"==typeof i[this]&&(e=i[this].replace(/[\[\]]/g,"").split(/[\s,]+/),i[this]=[Number(e[0]),Number(e[1])]))}),u.validator.autoCreateRanges&&(null!=i.min&&null!=i.max&&(i.range=[i.min,i.max],delete i.min,delete i.max),null!=i.minlength)&&null!=i.maxlength&&(i.rangelength=[i.minlength,i.maxlength],delete i.minlength,delete i.maxlength),i},normalizeRule:function(e){var t;return"string"==typeof e&&(t={},u.each(e.split(/\s/),function(){t[this]=!0}),e=t),e},addMethod:function(e,t,a){u.validator.methods[e]=t,u.validator.messages[e]=void 0!==a?a:u.validator.messages[e],t.length<3&&u.validator.addClassRules(e,u.validator.normalizeRule(e))},methods:{required:function(e,t,a){return this.depend(a,t)?"select"===t.nodeName.toLowerCase()?(a=u(t).val())&&0<a.length:this.checkable(t)?0<this.getLength(e,t):null!=e&&0<e.length:"dependency-mismatch"},email:function(e,t){return this.optional(t)||/^[a-zA-Z0-9.!#$%&'*+\/=?^_`{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/.test(e)},url:function(e,t){return this.optional(t)||/^(?:(?:(?:https?|ftp):)?\/\/)(?:(?:[^\]\[?\/<~#`!@$^&*()+=}|:";',>{ ]|%[0-9A-Fa-f]{2})+(?::(?:[^\]\[?\/<~#`!@$^&*()+=}|:";',>{ ]|%[0-9A-Fa-f]{2})*)?@)?(?:(?!(?:10|127)(?:\.\d{1,3}){3})(?!(?:169\.254|192\.168)(?:\.\d{1,3}){2})(?!172\.(?:1[6-9]|2\d|3[0-1])(?:\.\d{1,3}){2})(?:[1-9]\d?|1\d\d|2[01]\d|22[0-3])(?:\.(?:1?\d{1,2}|2[0-4]\d|25[0-5])){2}(?:\.(?:[1-9]\d?|1\d\d|2[0-4]\d|25[0-4]))|(?:(?:[a-z0-9\u00a1-\uffff][a-z0-9\u00a1-\uffff_-]{0,62})?[a-z0-9\u00a1-\uffff]\.)+(?:[a-z\u00a1-\uffff]{2,}\.?))(?::\d{2,5})?(?:[/?#]\S*)?$/i.test(e)},date:(a=!1,function(e,t){return a||(a=!0,this.settings.debug&&window.console&&console.warn("The `date` method is deprecated and will be removed in version '2.0.0'.\nPlease don't use it, since it relies on the Date constructor, which\nbehaves very differently across browsers and locales. Use `dateISO`\ninstead or one of the locale specific methods in `localizations/`\nand `additional-methods.js`.")),this.optional(t)||!/Invalid|NaN/.test(new Date(e).toString())}),dateISO:function(e,t){return this.optional(t)||/^\d{4}[\/\-](0?[1-9]|1[012])[\/\-](0?[1-9]|[12][0-9]|3[01])$/.test(e)},number:function(e,t){return this.optional(t)||/^(?:-?\d+|-?\d{1,3}(?:,\d{3})+)?(?:-?\.\d+)?$/.test(e)},digits:function(e,t){return this.optional(t)||/^\d+$/.test(e)},minlength:function(e,t,a){e=Array.isArray(e)?e.length:this.getLength(e,t);return this.optional(t)||a<=e},maxlength:function(e,t,a){e=Array.isArray(e)?e.length:this.getLength(e,t);return this.optional(t)||e<=a},rangelength:function(e,t,a){e=Array.isArray(e)?e.length:this.getLength(e,t);return this.optional(t)||e>=a[0]&&e<=a[1]},min:function(e,t,a){return this.optional(t)||a<=e},max:function(e,t,a){return this.optional(t)||e<=a},range:function(e,t,a){return this.optional(t)||e>=a[0]&&e<=a[1]},step:function(e,t,a){function i(e){return(e=(""+e).match(/(?:\.(\d+))?$/))&&e[1]?e[1].length:0}function s(e){return Math.round(e*Math.pow(10,n))}var n,o=u(t).attr("type"),r="Step attribute on input type "+o+" is not supported.",l=new RegExp("\\b"+o+"\\b"),d=!0;if(o&&!l.test(["text","number","range"].join()))throw new Error(r);return n=i(a),(i(e)>n||s(e)%s(a)!=0)&&(d=!1),this.optional(t)||d},equalTo:function(e,t,a){a=u(a);return this.settings.onfocusout&&a.not(".validate-equalTo-blur").length&&a.addClass("validate-equalTo-blur").on("blur.validate-equalTo",function(){u(t).valid()}),e===a.val()},remote:function(i,s,e,n){if(this.optional(s))return"dependency-mismatch";n="string"==typeof n&&n||"remote";var o,t,r=this.previousValue(s,n);return this.settings.messages[s.name]||(this.settings.messages[s.name]={}),r.originalMessage=r.originalMessage||this.settings.messages[s.name][n],this.settings.messages[s.name][n]=r.message,t=u.param(u.extend({data:i},(e="string"==typeof e?{url:e}:e).data)),null!==r.valid&&r.old===t?r.valid:(r.old=t,r.valid=null,(o=this).startRequest(s),(t={})[s.name]=i,u.ajax(u.extend(!0,{mode:"abort",port:this.elementAjaxPort(s),dataType:"json",data:t,context:o.currentForm,success:function(e){var t,a=!0===e||"true"===e;o.settings.messages[s.name][n]=r.originalMessage,a?(t=o.formSubmitted,o.toHide=o.errorsFor(s),o.formSubmitted=t,o.successList.push(s),o.invalid[s.name]=!1,o.showErrors()):(t={},e=e||o.defaultMessage(s,{method:n,parameters:i}),t[s.name]=r.message=e,o.invalid[s.name]=!0,o.showErrors(t)),r.valid=a,o.stopRequest(s,a)}},e)),"pending")}}});var i,s={};return u.ajaxPrefilter?u.ajaxPrefilter(function(e,t,a){var i=e.port;"abort"===e.mode&&(u.ajaxAbort(i),s[i]=a)}):(i=u.ajax,u.ajax=function(e){var t=("mode"in e?e:u.ajaxSettings).mode,a=("port"in e?e:u.ajaxSettings).port;return"abort"===t?(u.ajaxAbort(a),s[a]=i.apply(this,arguments),s[a]):i.apply(this,arguments)}),u.ajaxAbort=function(e){s[e]&&(s[e].abort(),delete s[e])},u});var list,parentUrl,containSaveFilter=!1,queryStringStatus=!0,clearStatus=!1,isDeleteViewClicked=!1,saveFilterName="",currentQueryString="",updateInitialQueryStringParameter="",categoryId="",categoryName="",itemName="",view="",viewIds="",dataArgument="",parentRefUrl=window.location!=window.parent.location?document.referrer:document.location.href.replace(document.location.pathname+document.location.search,""),iframeRefUrl=(parentUrl=""==parentRefUrl?"":parentRefUrl.match(/:\/\/(.[^/]+)/)[1],window.location.href),iframeUrl=iframeRefUrl.match(/:\/\/(.[^/]+)/)[1],currentItemObject="",isRemoveAsDefaultDialogBinded=!1,isDeleteViewDialogBinded=!1,filtered_Values=($(document).ready(function(){var e=$("#viewShare_popup").height(),e=($("#sharepopup_wrapper_WaitingPopup .loader-icon").css("top",parseInt(parseInt(e)/2)-30),(isMultiTab?(t=createLoader("multi-tab-content"),$("#multi-tab-content")):(t=createLoader("dashboard"),$("#dashboard"))).BoldBIDashboardWaitingPopup({template:$("#"+t)}),$('[id^="e-item-multi-tab-dashboard_"]').hover(function(){var e=$(this).find(".e-tab-text").text();$(this).attr({title:e,"data-toggle":"tooltip"})}),createLoader("dashboard-view-toogle")),t=($("#dashboard-view-toogle").BoldBIDashboardWaitingPopup({template:$("#"+e)}),$("#messageBox").BoldBIDashboardDialog({width:460<window.innerWidth?"450px":window.innerWidth-10,height:"200px",showOnInit:!1,allowDraggable:!0,enableResize:!1,showHeader:!1,enableModal:!0,close:"onMessageDialogClose"}),createLoader("delete-div_wrapper")),e=($("#delete-div_wrapper").BoldBIDashboardWaitingPopup({template:$("#"+t)}),$("#save-view-popup").BoldBIDashboardDialog({width:"600px",height:"209px",showOnInit:!1,allowDraggable:!0,enableResize:!1,title:window.Server.App.Localization.SaveView,enableModal:!0,showHeader:!1,cssClass:"server-dialog"}),createLoader("save-view-popup_wrapper"));$("#save-view-popup_wrapper").BoldBIDashboardWaitingPopup({template:$("#"+e)}),$("#dashboard-view-toogle").mouseover(function(){var e=document.getElementById("dashboard-views"),t=$("#dashboard-view-toogle");null!=e&&"block"!=e.style.display&&""!=e.style.display?(t.addClass("cursor-pointer"),t.removeClass("cursor-default")):(t.addClass("cursor-default"),t.removeClass("cursor-pointer"))}),$("#filter_name").keypress(function(e){$("#filter-name-input").removeClass("has-error"),13==e.which&&$("#save-filter").click()}),$.fn.tooltip=function(e){return this.each(function(){new bootstrap.Tooltip(this,e)})},$('[data-bs-toggle="tooltip"]').tooltip(),document.addEventListener&&(document.addEventListener("webkitfullscreenchange",fullscreenExitHandler,!1),document.addEventListener("mozfullscreenchange",fullscreenExitHandler,!1),document.addEventListener("fullscreenchange",fullscreenExitHandler,!1),document.addEventListener("MSFullscreenChange",fullscreenExitHandler,!1)),isMultiTab||intializeGetShareLink(),"false"!=$("#is_mobile").val()&&isMultiTab||("undefined"!=typeof isSlideshow&&(isSlideshow||isUsageAnalytics)||filterView(),resetViewPanel()),isOptionsBundleLoaded=!0,isViewNotFound&&(warningToast(window.Server.App.Localization.ViewNotFound,null,(new Date).getTime(),null),window.top.history.replaceState({},document.title,removeURLParameter(window.location.href,"viewid"))),(isCommentNotFound||isInvalidComment)&&(warningToast(window.Server.App.Localization.CommentNotFound,null,(new Date).getTime(),null),window.top.history.replaceState({},document.title,removeURLParameter(window.location.href,"comment")))}),$(document).on("click","#close-container,#close-filter,#close-comment",function(e){var t;"true"==$("#is_mobile").val()?$("#server-mobile-navbar .su-nav-dashboard").addClass("active"):(null==(t=document.getElementById("dashboard-views"))||"block"!=t.style.display&&""!=t.style.display||"su-view"==e.target.className.toLowerCase()||"options"==e.target.className.toLowerCase()||"views"==e.target.id.toLowerCase()?"dashboard-view-toogle"==e.target.id&&(containSaveFilter&&$("#saved-filter").show(),$("#dashboard").toggleClass("dashboard"),$(".view-heading").toggle(),$("#dashboard-views").toggle(),$("#dashboard-view-toogle").addClass("cursor-default").removeClass("cursor-pointer").toggleClass("dashboard-view-toogle"),refreshScroller()):(((t=$(e.target)).parents().andSelf().is("#dashboard-view-toogle")||t.parents().andSelf().is("#PopupContainerDelete")||t.parents().andSelf().is("#messageBox"))&&!t.parents().andSelf().is("#close-container")||CloseDashboardView(),$("#dashboard-view").removeClass("highlight-icon")),$("#commentModuleContainer").hasClass("displayNone")||"comments"==e.target.id.toLowerCase()||e.target.classList.contains("su-with-comment")||e.target.classList.contains("su-without-comment")||"options"==e.target.className.toLowerCase()||isMultiTab||("true"==enableComment?closeDashboardComment():$("#close-filter a").css("display","none"),setDashboardWidth(),$("#dashboard").data("BoldBIDashboardDesigner").resizeDashboard()),$('[data-bs-toggle="tooltip"]').tooltip())}),$(document).on("mouseenter",".border-division,.border-division-last",function(){$(this).children(".unsaved-opt").css("display","block")}).on("mouseleave",".border-division,.border-division-last",function(){$(this).children(".unsaved-opt").css("display","none")}),""),dashboardviewerObj=null;function CloseDashboardView(){var e;0!=$("#dashboard").length?(containSaveFilter&&$("#saved-filter").show(),$("#dashboard").toggleClass("dashboard"),$(".view-heading").toggle(),$("#dashboard-views").toggle(),$("#dashboard-view-toogle").toggleClass("dashboard-view-toogle"),$("#dashboard-view-toogle #close-container a").css("display","none"),"false"==$("#is_mobile").val()&&(setDashboardWidth(),$("#dashboard").data("BoldBIDashboardDesigner").resizeDashboard())):isMultiTab&&0!=$("#"+$(".e-content .e-active").attr("data-designer-id")).length?(containSaveFilter&&$("#saved-filter").show(),$("#saved-list .saved-list-content-div").remove(),$("#"+$(".e-content .e-active").attr("data-designer-id")).toggleClass("dashboard"),$(".view-heading").toggle(),$("#dashboard-views").toggle(),$("#dashboard-view-toogle").toggleClass("dashboard-view-toogle"),$("#dashboard-view-toogle #close-container a").css("display","none"),"false"==$("#is_mobile").val()&&(setDashboardWidth(),void 0!==(dashboardviewerObj=getDashboardInstance()))&&dashboardviewerObj.resizeDashboard()):(e=$("#dashboard_render_iframe"),containSaveFilter&&e.contents().find("#saved-filter").show(),e.contents().find("#dashboard").toggleClass("dashboard"),e.contents().find(".view-heading").toggle(),e.contents().find("#dashboard-views").toggle(),e.contents().find("#dashboard-view-toogle").toggleClass("dashboard-view-toogle"),e.contents().find("#dashboard-view-toogle #close-container a").css("display","none"))}function filterView(){var e=getcurrentfilters();""!=e&&null!=e&&null!=e.masterData&&0<e.masterData.length?(SavedViewHeight(),null!=viewId&&""!=viewId||"none"==$("#saved-filter-Saveas").css("display")&&"none"==$("#saved-filter-update").css("display")&&($("#new-save").show(),"true"==enableComment.toString().toLowerCase()&&($("#new-save").removeClass("pointer-events"),$("#new-save").css("opacity",1)),$("#nofilters").css("display","none"))):($("#new-save").addClass("pointer-events"),$("#new-save").css("opacity",.5),$("#nofilters").css("display","block")),unsavedFilters(),GetSavedFilter(),refreshScroller()}function GetSavedFilter(e){var t=getDashboardInstance(),t=(item_Id=t.model.itemId,userName="undefined"!=typeof userName?userName:name,userId="undefined"!=typeof userId?userId:id,pageurl="undefined"!=typeof pageurl?isMultiTab?multiTabUrl:pageurl:viewUrl,{itemId:item_Id,userId:userId,userName:userName,isMultiDashboard:isMultiTab,parentDashboardId:""!=multiTabId?multiTabId:null,itemType:dashboardItemDetail.ItemType});ajaxPostCall("POST",getSavedViewUrl,t,null,getViewsResult,errorViewResult,null)}function GetscheduleFilter(t,a){isEmbedCode?(view=a,ajaxPostCall("POST",userSchedulePermissionUrl,{},null,getSchedule,null,null),viewIds=(dataArgument=t).model.filterOverviewSettings.viewId):$.ajax({type:"POST",url:resourceLimitationCountUrl,data:{itemType:ItemType.Schedule},success:function(e){e?warningToast(window.Server.App.Localization.ResourceLimitExceed.format(window.Server.App.Localization.ScheduleLimited,window.Server.App.Localization.ScheduleLimited)):(view=a,ajaxPostCall("POST",userSchedulePermissionUrl,{},null,getSchedule,null,null),viewIds=(dataArgument=t).model.filterOverviewSettings.viewId)}})}function getSchedule(e){e=e.CanCreateSchedule;saveView(view,e,viewIds,dataArgument)}function errorViewResult(){resetViewPanel(),SavedViewHeight(),refreshScroller(),"undefined"!=typeof dashboardViewPanelObj&&""!=dashboardViewPanelObj&&dashboardViewPanelObj.BoldBIDashboardWaitingPopup("hide")}function getViewsResult(e){e.IsItemOwner;var t,a=isMultiTab?dashboardItemDetail.Name:"",i=(categoryId=dashboardItemDetail.CategoryId,categoryName=dashboardItemDetail.CategoryName,itemName=dashboardItemDetail.Name,(0<$("#saved-filter").length?$("#saved-filter"):parent.$("#saved-filter")).html(""),'<div id="saved-list" style="display: block"><div class="saved-list-content-div" style="float: left">');if(0<(t=(embedConfig.IsEmbedCode?e.ResponseContent:jQuery.parseJSON(e.Result)).ResponseContent).length){containSaveFilter=!0,(0<$("#saved-filter").length?$("#saved-filter"):parent.$("#saved-filter")).show();for(var s=0;s<t.length;s++){var n=t[s].ViewId,o=(t[s].ViewName,"");""==userName?o='<div class="saved-opt"><span class="dropdown viewoptions"></span>':embedConfig.IsEmbedDashboard||(o=t[s].IsDefault?'<div class="saved-opt"><span class="dropdown viewoptions"><span class="dropdown-toggle" title="Actions" data-placement="top" data-bs-toggle="dropdown"><span class="opt" viewid="'+n+'" itemId="'+item_Id+'" viewname="'+t[s].ViewName+'"><span  viewid = "'+n+'" itemId="'+item_Id+'" viewname="'+t[s].ViewName+'" class ="set-default su su-remove-default cursor-pointer" data-original-title="'+window.Server.App.Localization.RemoveAsDefaultView+'" data-bs-toggle="dropdown" data-placement="top" title=""></span></span></span><ul class="dropdown-menu"><li class="remove-default cursor-pointer option-click"><span>'+window.Server.App.Localization.RemoveAsDefaultTitle+" </span></li></ul></span>":'<div class="saved-opt"><span class="dropdown viewoptions"><span class="dropdown-toggle" title="Actions" data-placement="top" data-bs-toggle="dropdown"><span class="opt" viewid="'+n+'" itemId="'+item_Id+'" viewname="'+t[s].ViewName+'"><span  viewid = "'+n+'" itemId="'+item_Id+'" viewname="'+t[s].ViewName+'" class ="set-default su su-set-default cursor-pointer" data-original-title="'+window.Server.App.Localization.MarkAsDefault+'" data-bs-toggle="dropdown" data-placement="top" title=""></span></span></span><ul class="dropdown-menu"><li class="mark-default cursor-pointer option-click"><span>'+window.Server.App.Localization.SetAsDefaultTitle+"</span></li></ul></span>"),canHideCommentIcon&&t[s].CanDelete&&!embedConfig.IsEmbedCode&&!isMultiTab?o+='<span class="opt" viewid="'+n+'" itemId="'+item_Id+'" viewname="'+t[s].ViewName+'"><span viewid="'+n+'" itemId="'+item_Id+'" viewname="'+t[s].ViewName+'"  class = "delete su su-delete cursor-pointer" data-bs-toggle="tooltip" data-original-title="'+window.Server.App.Localization.Delete+'" ></span></span><span class="opt" viewid="'+n+'" itemId="'+item_Id+'" viewname="'+t[s].ViewName+'"><span  viewid="'+n+'" itemId="'+item_Id+'" viewname="'+t[s].ViewName+'" class ="su su-link View-link-copy cursor-pointer" data-original-title="'+window.Server.App.Localization.LinkCopy+'" data-bs-toggle="tooltip" data-placement="top" title=""></span></span></div>':t[s].CanDelete&&t[s].CanShare&&!embedConfig.IsEmbedCode&&!isMultiTab?o+='<span class="opt" viewid="'+n+'" itemId="'+item_Id+'" viewname="'+t[s].ViewName+'"><span viewid="'+n+'" itemId="'+item_Id+'" viewname="'+t[s].ViewName+'"  class = "delete su su-delete cursor-pointer" data-bs-toggle="tooltip" data-original-title="'+window.Server.App.Localization.Delete+'" ></span></span><span class="opt" viewid="'+n+'" itemId="'+item_Id+'" viewname="'+t[s].ViewName+'"><span  viewid="'+n+'" itemId="'+item_Id+'" viewname="'+t[s].ViewName+'" class = "share su su-share  cursor-pointer" data-bs-toggle="tooltip" data-original-title="'+window.Server.App.Localization.Share+'"></span></span><span class="opt" viewid="'+n+'" itemId="'+item_Id+'" viewname="'+t[s].ViewName+'"><span  viewid="'+n+'" itemId="'+item_Id+'" viewname="'+t[s].ViewName+'" class ="su su-link View-link-copy cursor-pointer" data-original-title="'+window.Server.App.Localization.LinkCopy+'" data-bs-toggle="tooltip" data-placement="top" title=""></span></span></div>':t[s].CanDelete?o+='<span class="opt" viewid="'+n+'" itemId="'+item_Id+'" viewname="'+t[s].ViewName+'"><span viewid="'+n+'" itemId="'+item_Id+'" viewname="'+t[s].ViewName+'"  class = "delete su su-delete cursor-pointer" data-bs-toggle="tooltip" data-original-title="'+window.Server.App.Localization.Delete+'" ></span></span><span class="opt" viewid="'+n+'" itemId="'+item_Id+'" viewname="'+t[s].ViewName+'"><span  viewid="'+n+'" itemId="'+item_Id+'" viewname="'+t[s].ViewName+'" class = "su su-link View-link-copy cursor-pointer" data-original-title="'+window.Server.App.Localization.LinkCopy+'" data-bs-toggle="tooltip" data-placement="top" title=""></span></span></div>':t[s].CanShare&&!embedConfig.IsEmbedCode?o+='<span class="opt" viewid="'+n+'" itemId="'+item_Id+'" viewname="'+t[s].ViewName+'"><span  viewid="'+n+'" itemId="'+item_Id+'" viewname="'+t[s].ViewName+'" class = "share su su-share  cursor-pointer" data-bs-toggle="tooltip" data-original-title="'+window.Server.App.Localization.Share+'"></span></span><span class="opt" viewid="'+n+'" itemId="'+item_Id+'" viewname="'+t[s].ViewName+'"><span  viewid="'+n+'" itemId="'+item_Id+'" viewname="'+t[s].ViewName+'" class = "su su-link View-link-copy cursor-pointer" data-original-title="'+window.Server.App.Localization.LinkCopy+'" data-bs-toggle="tooltip" data-placement="top" title=""></span></span></div>':o+='<span class="opt" viewid="'+n+'" itemId="'+item_Id+'" viewname="'+t[s].ViewName+'"><span  viewid="'+n+'" itemId="'+item_Id+'" viewname="'+t[s].ViewName+'" class = "su su-link View-link-copy cursor-pointer" data-original-title="'+window.Server.App.Localization.LinkCopy+'" data-bs-toggle="tooltip" data-placement="top" title=""></span></span></div>',-1<pageurl.indexOf("/embed/")?pageurl=pageurl.replace("/embed/","/"):pageurl,""!=a?t[s].IsDefault?i+='<li class="saved-view" viewid="'+n+'">'+o+'<label class="saved-filter txt-overflow" viewid="'+n+'" itemId="'+item_Id+'"><a class="view-link txt-overflow saved-filter-anchor"  href="'+pageurl+"?viewid="+n+"&tab="+a+'&showmydashboards=1" data-url="'+pageurl+"?viewid="+n+"&tab="+a+'&showmydashboards=1" target="_blank" data-bs-toggle="tooltip" data-original-title="'+t[s].ViewName+'">'+t[s].ViewName+'</a><a class="view-default">('+window.Server.App.Localization.Default+")</a ></label ></li > ":i+='<li class="saved-view" viewid="'+n+'">'+o+'<label class="saved-filter txt-overflow" viewid="'+n+'" itemId="'+item_Id+'"><a class="view-link txt-overflow saved-filter-anchor"  href="'+pageurl+"?viewid="+n+"&tab="+a+'&showmydashboards=1" data-url="'+pageurl+"?viewid="+n+"&tab="+a+'&showmydashboards=1" target="_blank" data-bs-toggle="tooltip" data-original-title="'+t[s].ViewName+'">'+t[s].ViewName+"</a></label></li>":t[s].IsDefault?i+='<li class="saved-view" viewid="'+n+'">'+o+'<label class="saved-filter txt-overflow" viewid="'+n+'" itemId="'+item_Id+'"><a class="view-link txt-overflow saved-filter-anchor"  href="'+pageurl+"?viewid="+n+'&showmydashboards=1" data-url="'+pageurl+"?viewid="+n+'&showmydashboards=1" target="_blank" data-bs-toggle="tooltip" data-original-title="'+t[s].ViewName+'">'+t[s].ViewName+'</a><a class="view-default">('+window.Server.App.Localization.Default+")</a></label></li>":i+='<li class="saved-view" viewid="'+n+'">'+o+'<label class="saved-filter txt-overflow" viewid="'+n+'" itemId="'+item_Id+'"><a class="view-link txt-overflow saved-filter-anchor"  href="'+pageurl+"?viewid="+n+'&showmydashboards=1" data-url="'+pageurl+"?viewid="+n+'&showmydashboards=1" target="_blank" data-bs-toggle="tooltip" data-original-title="'+t[s].ViewName+'">'+t[s].ViewName+"</a></label></li>"}if((0<$("#saved-filter").length?$("#saved-filter"):parent.$("#saved-filter")).append(i+"</div></div>"),0==$("#saved-filter").length)for(var r=parent.$(".view-link").attr("data-url"),s=0;s<r.length;s++)parent.$(".view-link").eq(s).attr("href",parent.$(".view-link").eq(s).attr("data-url"));else for(r=$(".view-link").attr("data-url"),s=0;s<r.length;s++)$(".view-link").eq(s).attr("href",$(".view-link").eq(s).attr("data-url"));$(".dropdown-toggle").dropdown(),0<$("#dashboard-view-toogle").length?0==$("#dashboard-view-toogle").find("#saved-list").length?$("#dashboard-view-toogle").find("#no-filters").css("display","block"):$("#dashboard-view-toogle").find("#no-filters").css("display","none"):0==parent.$("#dashboard-view-toogle").find("#saved-list").length?parent.$("#dashboard-view-toogle").find("#no-filters").css("display","block"):parent.$("#dashboard-view-toogle").find("#no-filters").css("display","none"),/Safari/.test(navigator.userAgent)&&/Apple Computer/.test(navigator.vendor)&&($(".View-link-copy").removeClass("su su-link"),$(".View-link-copy").attr("data-original-title","")),(0<$("#dashboard-view-toogle").length?$("#dashboard-view-toogle"):parent.$("#dashboard-view-toogle")).show(),$('[data-bs-toggle="tooltip"]').tooltip()}else containSaveFilter=!1,(0<$("#saved-filter").length?$("#saved-filter"):parent.$("#saved-filter")).hide(),dashboardviewerObj=getDashboardInstance();embedConfig.IsEmbedCode&&$(".su-link").hide(),refreshScroller(),"undefined"!=typeof dashboardViewPanelObj&&""!=dashboardViewPanelObj&&dashboardViewPanelObj.BoldBIDashboardWaitingPopup("hide")}$(document).on("click","#clear",function(){(dashboardviewerObj=getDashboardInstance()).refresh()}),$("#popup-container").BoldBIDashboardDialog({allowDraggable:!1,enableResize:!1,enableModal:!0,showHeader:!1,showOnInit:!1,close:"onSchedulerDialogClose",width:"1000px"});var popupContainerWaitingPopupTemplateId=createLoader("popup-container_wrapper");function onSchedulerDialogClose(){$("#popup-container").find("iframe").contents().find("html").html("")}function onDeleteItemDialogOpen(e){getDashboardInstance().closeAllWindows();var t,a,i=(ejdashboard||ejs).popups,e=(document.getElementById("delete-div").style.display="block",'<span class="dialog-header-with-subtitle"><span class ="dialog-header-title">'+window.Server.App.Localization.DeleteView+'</span><span class="item-name">'+e+"</span></span>");isDeleteViewDialogBinded?((a=document.getElementById("view-delete-dialog").ej2_instances)[0].header=e,a[0].show()):((t=document.createElement("div")).setAttribute("id","view-delete-dialog"),(isMultiTab?document.getElementById("multi-tab-dashboard"):document.getElementById("dashboard")).appendChild(t),(a=new i.Dialog({showOnInit:!1,allowDraggable:!1,enableResize:!1,width:460<window.innerWidth?"450px":window.innerWidth-10,height:"auto",showHeader:!1,animationSettings:{effect:"Zoom"},isModal:!0,enableModal:!0,closeOnEscape:!0,header:e,showCloseIcon:!0,content:document.getElementById("delete-div"),buttons:[{click:function(e){deleteItem()},buttonModel:{cssClass:"app-btn-danger",content:window.Server.App.Localization.YesButton}},{click:function(){a.hide()},buttonModel:{cssClass:"app-btn-secondary",content:window.Server.App.Localization.NoButton}}]})).appendTo(t),isDeleteViewDialogBinded=!0),$(".e-dlg-container.e-dlg-center-center").wrap('<div class="bi-dashboard"></div>'),i.createSpinner({target:document.getElementById("view-delete-dialog")}),i.setSpinner({type:"Material"}),$("#delete-msg").show(),$("#delete-div").focus()}function resetViewPanel(){"undefined"!=typeof isSlideshow&&isSlideshow||"undefined"!=typeof embedConfig&&void 0!==embedConfig.IsEmbedDashboard||($("#save-lable-section label").html(""),$("#entire-label-section label").html(window.Server.App.Localization.UnsavedView),$("#new-save").css("display","block"),$("#saved-filter-update").css("display","none"),$("#saved-filter-Saveas").css("display","none"),$("#saved-filter").html(""),$("#no-filters").css("display","block"),unsavedFilters())}function deleteItem(){var e,t;isDeleteViewClicked||(isDeleteViewClicked=!0,e=(ejdashboard||ejs).popups,"block"!=(t=document.getElementById("dashboard-views")).style.display&&""!=t.style.display||e.showSpinner(document.getElementById("view-delete-dialog")),t={itemViewName:$("#filter_name").val(),itemId:item_Id,itemViewId:$("#delete_item").attr("viewid"),userId:userId,userName:userName,isMultiDashboard:isMultiTab,parentDashboardId:isMultiTab?multiTabId:null,itemType:dashboardItemDetail.ItemType},ajaxPostCall("POST",deleteViewUrl,t,null,deleteViewResult,deleteViewErrorResult,null))}function deleteViewResult(e){var t=(ejdashboard||ejs).popups;document.getElementById("view-delete-dialog").ej2_instances[0].hide(),t.hideSpinner(document.getElementById("view-delete-dialog")),(embedConfig.IsEmbedCode?e:e.Result).Status?(t=$("#delete_item").attr("viewId"),isDeleteViewClicked=!1,successToast(window.Server.App.Localization.DeleteViewSuccess,7e3),t!=(e=getDashboardInstance()).model.filterOverviewSettings.viewId||embedConfig.IsEmbedCode||isMultiTab||(window.location.href=window.location.href.replace(window.location.search,"")+"?showmydashboards=1"),GetSavedFilter(e),t==e.model.filterOverviewSettings.viewId&&(e.clearAllFilters(),e._updateFilterOverview(window.Server.App.Localization.UnsavedView,""),e.model.filterOverviewSettings.viewName=null,e.model.filterOverviewSettings.viewId=null,e.filterOverviewObj.enableSaveIcon=!0,e.filterOverviewObj.enableSaveAsIcon=!1)):(isDeleteViewClicked=!1,warningToast(window.Server.App.Localization.InternalServerError))}function deleteViewErrorResult(){(ejdashboard||ejs).popups.hideSpinner(document.getElementById("view-delete-dialog")),warningToast(window.Server.App.Localization.InternalServerError)}function getViewsLink(e){var t=baseUrl.split("/");return encodeURI(t[0]+"//"+t[2]+e)}function SavedViewHeight(){var e,t,a,i,s;if("none"!=$("#saved-list").css("display"))return s=$("#header-pane"),e=$("#entire-label-section"),t=$("#unsaved-filter"),a=$("#unsaved-filter-title"),i=$("#nofilters"),s=$(window).height()-s.outerHeight()-e.outerHeight()-("none"!=i.css("display")?i.outerHeight():0)-("none"!=t.css("display")?t.outerHeight():0)-("none"!=a.css("display")?a.outerHeight():0),$("#saved-list").css("height",s),s}function getFnObj(e){return"function"==typeof e||"string"==typeof e&&window[e]?e:void 0}function refreshScroller(){var e,t,a,i,s;"undefined"!=typeof isSlideshow&&isSlideshow||"undefined"!=typeof embedConfig&&void 0!==embedConfig.IsEmbedDashboard&&embedConfig.IsEmbedDashboard||(e=a="",$("#unsaved-filter-parameter").children().length&&(a=230<=$("#unsaved-filter-parameter").height()?230:$("#unsaved-filter-parameter").height()+20,$("#unsaved-filter").BoldBIDashboardScroller({height:a,width:500,scrollerSize:7,buttonSize:0,enableTouchScroll:!1}),(t=$("#unsaved-filter").BoldBIDashboardScroller("instance")).model.height=a,t.refresh(),$("#unsaved-filter .e-vhandle").length)&&"none"!=(i=$("#unsaved-filter .e-vhandle")).css("display")&&(s=i.height()+29,i.css("height",s)),e=SavedViewHeight()-10,$("#saved-list").length?($("#saved-list").BoldBIDashboardScroller({height:e,width:500,scrollerSize:9,buttonSize:0,enableTouchScroll:iframeUrl==parentUrl?"false"!=(sameOrigin,$("#is_mobile").val()):"false"!=$("#is_mobile").val()}),(a=$("#saved-list").BoldBIDashboardScroller("instance")).model.height=e,a.refresh(),$("#saved-filter .e-vhandle").length&&"none"!=(i=$("#saved-filter .e-vhandle")).css("display")&&(s=i.height()+29,i.css("height",s))):iframeUrl==parentUrl&&(sameOrigin,$("#saved-list").BoldBIDashboardScroller({height:e,width:500,scrollerSize:9,buttonSize:0,enableTouchScroll:"false"!=$("#is_mobile").val()}),sameOrigin,$("#saved-filter .e-vhandle").length)&&(sameOrigin,"none"!=(i=$("#saved-filter .e-vhandle")).css("display"))&&(s=i.height()+29,i.css("height",s)))}function getcurrentfilters(){var e,t=getDashboardInstance();return(isMultiTab?t:(e=$("#dashboard"),iframeUrl==parentUrl?0<(sameOrigin?parent.$("#dashboard"):e).length&&sameOrigin?parent.$("#dashboard").data("BoldBIDashboardDesigner"):t:(e.length,t))).getCurrentFilters()}function clearAllFilters(){var e=$("#dashboard").data("BoldBIDashboardDesigner");null!=viewId&&""!=viewId||clearStatus?(e.model.filterParameters=initialQueryString,e.redrawDashboard()):$("#dashboard-view-toogle").BoldBIDashboardWaitingPopup("hide")}function getWidgetTitle(e){return $("#dashboard").data("BoldBIDashboardDesigner").getWidgetTitle(e)}function clearWidgetFilter(e,t){$("#dashboard").data("BoldBIDashboardDesigner").clearWidgetFilter(e,t)}function onFilterOverviewUpdated(e){unsavedFilters(e),$('[data-bs-toggle="tooltip"]').tooltip(),refreshScroller()}function unsavedFilters(e){var t,a=getcurrentfilters(),i=(""!=a&&"undefined"!=a&&null!=a&&""!=e&&"undefined"!=e&&null!=e&&(e=e.currentFilterData,updateInitialQueryStringParameter=e,queryStringStatus)&&(queryStringStatus=!1,initialQueryString=a.encryptedData,initialQueryStringParameter=JSON.stringify(e)),$("#unsaved-filter-parameter").html(""),"");if(""!=a&&"undefined"!=a&&null!=a&&null!=a.masterData&&0<a.masterData.length){if(0<(t=a.masterData).length){$("#unsaved-filter-parameter").show();for(var s=0;s<t.length;s++){var n,o="",r="",l=(d=getWidgetTitle(n=t[s].Control)).title,d=d.type,u=t[s].Data;if(s!=t.length-1?i+='<div class="cursor-default border-division"><div class="unsaved-opt"style="float: right;"><span class="opt"><span class="su su-close clear-filter cursor-pointer" data-bs-toggle="tooltip" data-placement="left" data-original-title="'+window.Server.App.Localization.ClearFilter+'" widgetId ="'+n+'"widgetType ="'+d+'" style="float:right"></span></span></div><label class="cursor-default txt-overflow unsaved-filter-head">'+l+"</label>":i+='<div class="cursor-default border-division-last"><div class="unsaved-opt"style="float: right;"><span class="opt"><span class="su su-close clear-filter cursor-pointer" data-bs-toggle="tooltip" data-placement="left" data-original-title="'+window.Server.App.Localization.ClearFilter+'" widgetId ="'+n+'"widgetType ="'+d+'" style="float:right"></span></span></div><label class="cursor-default txt-overflow unsaved-filter-head">'+l+"</label>",u.length)for(var c=0;c<u.length;c++)o=o+u[c]+",",r=r+u[c]+"<br>";i=i+('<div id="sub-item"><label class="cursor-default txt-overflow unsavedfilter-font-content" rel="tooltip" data-placement="left" data-original-title="'+r+'">'+(o=o.slice(0,-1))+"</label></div>")+'<br style="clear: both"></div>'}$("#unsaved-filter,#unsaved-filter-title").css("display","block"),$("#unsaved-filter-parameter").append(i),refreshScroller(),"true"==enableComment.toString().toLowerCase()?$("#new-save,#saved-filter-update,#saved-filter-Saveas,#save-filter,#filter_name").removeClass("pointer-events").css("opacity",1):$("#new-save,#saved-filter-update,#saved-filter-Saveas,#save-filter,#filter_name").addClass("pointer-events").css("opacity",.5),$("#nofilters").css("display","none"),$("[rel=tooltip]").tooltip({html:!0})}}else $("#new-save,#saved-filter-update,#saved-filter-Saveas,#save-filter,#filter_name").addClass("pointer-events").css("opacity",.5),$("#nofilters").css("display","block"),$("#unsaved-filter,#unsaved-filter-title").css("display","none")}function setDashboardWidth(){isMultiTab?($(".e-content.e-lib.e-touch").css("width",$(window).width()),$(".e-content.e-lib.e-touch").css("height",$(window).height()-40)):$("#dashboard").css("width",$(window).width()+"px")}function saveFilter(e){currentQueryString=e.data.encryptedData;var t=e.model.itemId,a="",a=isMultiTab?$("#multi-tab-content"):$("#dashboard");currentItemObject=getDashboardInstance(),null==e.viewId||""==e.viewId||e.viewId==emptyGuid?($("#save-view-popup").BoldBIDashboardDialog("open"),$("#save-view-popup_wrapper").BoldBIDashboardWaitingPopup("show"),$("#save-view-popup-iframe").attr("src",saveViewPopup+"?itemId="+t+"&isMultidashboardId="+isMultiTab+"&parentId="+multiTabId+"&userId="+userId+"&userName="+userName+"&viewer=v2")):(a.BoldBIDashboardWaitingPopup("show"),a={itemId:t,queryString:currentQueryString,itemViewId:e.viewId,userId:userId,userName:userName,isMultiDashboard:isMultiTab,parentDashboardId:isMultiTab?multiTabId:null,itemType:dashboardItemDetail.ItemType},ajaxPostCall("POST",updateViewUrl,a,null,saveUpdateView,errorSaveUpdateView,null),GetSavedFilter(e),refreshScroller())}function saveUpdateView(e){var t;(embedConfig.IsEmbedCode?e:e.Result).Status?(t="",t=isMultiTab?$("#multi-tab-content"):$("#dashboard"),e=getDashboardInstance(),initialQueryStringParameter=JSON.stringify(updateInitialQueryStringParameter),e.model.filterParameters=currentQueryString,t.BoldBIDashboardWaitingPopup("hide"),embedConfig.IsEmbedDashboard||embedConfig.IsEmbedCode?successToast(window.Server.App.Localization.UpdateViewSuccess,1e4):parent.successToast(window.Server.App.Localization.UpdateViewSuccess,1e4)):($("#save-section").hide(),t.BoldBIDashboardWaitingPopup("hide"),parent.warningToast(window.Server.App.Localization.InternalServerError))}function errorSaveUpdateView(){(isMultiTab?$("#multi-tab-content"):$("#dashboard")).BoldBIDashboardWaitingPopup("hide"),messageBox("su-filter",window.Server.App.Localization.UpdateView,window.Server.App.Localization.InternalServerError,"success",function(){onCloseMessageBox()})}function saveAsFilter(e){currentQueryString=e.data.encryptedData;e=e.model.itemId;currentItemObject=getDashboardInstance(),$("#save-view-popup").BoldBIDashboardDialog("open"),$("#save-view-popup_wrapper").BoldBIDashboardWaitingPopup("show"),$("#save-view-popup-iframe").attr("src",saveViewPopup+"?itemId="+e+"&isMultidashboardId="+isMultiTab+"&parentId="+multiTabId+"&userId="+userId+"&userName="+name+"&viewer=v2")}function openViewSection(){$("#dashboard-view").trigger("click")}function switchFullscreenMode(){var e=getDashboardInstance();document.fullscreenElement||document.mozFullScreenElement||document.webkitFullscreenElement||document.msFullscreenElement?(void 0!==e&&(e.model.filterOverviewSettings.showViewSavedFilterIcon=!0),document.exitFullscreen?document.exitFullscreen():document.msExitFullscreen?document.msExitFullscreen():document.mozCancelFullScreen?document.mozCancelFullScreen():document.webkitExitFullscreen&&document.webkitExitFullscreen()):(void 0!==e&&(e.model.filterOverviewSettings.showViewSavedFilterIcon=!1),document.documentElement.requestFullscreen?(document.documentElement.requestFullscreen(),isMultiTab&&setTimeout(function(){$("#multi-tab-dashboard").find(".e-tab-header").attr("style","display: none")},500)):document.documentElement.msRequestFullscreen?document.documentElement.msRequestFullscreen():document.documentElement.mozRequestFullScreen?document.documentElement.mozRequestFullScreen():document.documentElement.webkitRequestFullscreen?document.documentElement.webkitRequestFullscreen(Element.ALLOW_KEYBOARD_INPUT):"ActiveXObject"in window&&(new ActiveXObject("Wscript.shell").SendKeys("{F11}"),setTimeout(function(){(screen.availHeight||screen.height-30)<=window.innerHeight?($("body").addClass("hide-dashboard-icons"),$("#dashboard-fullscreen").removeClass("su-maximize-1").addClass("su-minimize").attr("data-tooltip",window.Server.App.Localization.ExitFullscreen)):($("body").removeClass("hide-dashboard-icons"),$("#dashboard-fullscreen").addClass("su-maximize-1").removeClass("su-minimize").attr("data-tooltip",window.Server.App.Localization.Fullscreen)),setTimeout(function(){(isNullOrWhitespace(embedConfig.HideHeaderTools)?"":embedConfig.HideHeaderTools.split(",")).includes("rf")&&(isMultiTab?($(".e-content.e-lib.e-touch").find(".e-active").find("#dashboard-refresh").removeAttr("style"),$(".e-content.e-lib.e-touch").find(".e-active").find("#dashboard-refresh")):($("#dashboard-refresh").removeAttr("style"),$("#dashboard-refresh"))).attr("style","font-size: 14px; display: none !important")},400)},400)))}function fullscreenExitHandler(){var e=$(".e-content .e-active").attr("data-designer-id"),e=isMultiTab?"#"+e+" #dashboard-fullscreen":"#dashboard-fullscreen";document.webkitIsFullScreen||document.mozFullScreen||document.msFullscreenElement?($("body").addClass("hide-dashboard-icons"),$(e).removeClass("su-maximize-1").addClass("su-minimize").attr("data-tooltip",window.Server.App.Localization.ExitFullscreen)):($("body").removeClass("hide-dashboard-icons"),$(e).addClass("su-maximize-1").removeClass("su-minimize").attr("data-tooltip",window.Server.App.Localization.Fullscreen)),setTimeout(function(){(isNullOrWhitespace(embedConfig.HideHeaderTools)?"":embedConfig.HideHeaderTools.split(",")).includes("rf")&&(isMultiTab?($(".e-content.e-lib.e-touch").find(".e-active").find("#dashboard-refresh").removeAttr("style"),$(".e-content.e-lib.e-touch").find(".e-active").find("#dashboard-refresh")):($("#dashboard-refresh").removeAttr("style"),$("#dashboard-refresh"))).attr("style","font-size: 14px; display: none !important")},400),getDashboardInstance().resizeDashboard()}function PreloadResources(i,s){setTimeout(function(){for(var e=-1!=navigator.userAgent.indexOf("Safari")&&-1==navigator.userAgent.indexOf("Chrome")||-1!=navigator.userAgent.indexOf("Edge"),t=0;t<i.length;t++){var a=document.createElement("link");a.href=i[t],a.rel=e?"preload":"prefetch",a.as=s,document.head.appendChild(a)}})}function ShareView(e){var t=$(window).width(),a=$(window).height(),i=$("#viewShare_popup").width(),s=$("#viewShare_popup").height(),t=(parseInt(t)-parseInt(i))/2,i=(parseInt(a)-parseInt(s))/2;i<0&&(i=0),$("#viewShare_popup").css({left:t,top:i}),$("#viewShare_popup,.ViewShare_popup_shadow").css("display","block"),$("#sharepopup_wrapper_WaitingPopup").css("display","block"),$("#viewShare_popup_iframe").attr("src",itemViewShareIframeUrl+"?itemId="+e.viewId)}function onCloseMessageBox(){$("#messageBox").BoldBIDashboardDialog("close")}function onMessageDialogClose(){$("#messageBox").find(".message-content").text(""),$(".message-box-btn-holder").html(""),$(".message-box-close").html(""),$("#messageBox_wrapper").removeClass("remove-default-view")}function messageBox(e,t,a,i,s,n,o,r,l,d){$("#messageBox").find(".message-content").text(""),t===window.Server.App.Localization.DeleteComment&&$("#messageBox_wrapper").addClass("delete-comment"),t===window.Server.App.Localization.RemoveAsDefaultView&&$("#messageBox_wrapper").addClass("remove-default-view"),t===window.Server.App.Localization.SetAsDefaultView&&$("#messageBox_wrapper").addClass("set-default-view server-dialog"),$(".message-box-btn-holder").html(""),$(".message-box-close").html(""),$("#messageBox").find(".message-header").html("<span class='su "+e+"'></span> <span class='modal-title' data-bs-toggle='tooltip' data-placement='bottom' data-container='body' title='"+t+"'  >"+t+"</h2>"),$("#messageBox").find(".message-content").html(a),"error"==i?(null!=s&&(c=$("<input type='button' class='delete-save-confirmation app-button app-critical-action-button app-btn-danger pull-right' value='"+window.Server.App.Localization.YesButton+"'></input>")).bind("click",$.proxy(getFnObj(s),window)),null!=n?((u=$("<input type='button' class='delete-cancel-confirmation app-button app-secondary-button app-btn-secondary pull-right' value='"+window.Server.App.Localization.NoButton+"'></input>")).bind("click",$.proxy(getFnObj(n),window)),(h=$('<span class="su su-close"></span>')).bind("click",$.proxy(getFnObj(n),window))):(u=$("<input type='button' class='delete-cancel-confirmation app-button app-secondary-button app-btn-secondary pull-right' value='"+window.Server.App.Localization.NoButton+"'></input>"),h=$('<span class="su su-close"></span>'),u.click(function(){onCloseMessageBox()}),h.click(function(){onCloseMessageBox()})),$(".message-box-close").html(h),$(".message-box-btn-holder").append(u,c),$("#messageBox").unbind("keydown")):(null!=s?((c=$("<input type='button' class='app-button app-secondary-button app-btn-secondary' value='"+window.Server.App.Localization.OKButton+"'></input>")).bind("click",$.proxy(getFnObj(s),window)),(h=$('<span class="su su-close"></span>')).bind("click",$.proxy(getFnObj(s),window))):(c=$("<input type='button' class='app-button app-secondary-button app-btn-secondary' value='"+window.Server.App.Localization.OKButton+"'></input>"),h=$('<span class="su su-close"></span>'),c.click(function(){onCloseMessageBox()}),h.click(function(){onCloseMessageBox()})),$(".message-box-close").html(h),$(".message-box-btn-holder").append(c),$("#messageBox").on("keydown",function(e){switch(e.keyCode){case 13:case 27:c.click()}})),$('[data-bs-toggle="tooltip"]').tooltip(),$("#messageBox").BoldBIDashboardDialog("open"),$("#messageBox").focus();var u,c,h,p=$("#messageBox").data("BoldBIDashboardDialog"),e=(setTimeout(function(){null!=o&&p.option("width",o),1040<window.innerWidth&&null==r&&(r=$("#messageBox").find(".modal-content").height()+135+"px"),p.option("height",r),null!=l&&p.option("maxHeight",l)},50),null!=d&&p.option("cssClass",d),$(".message-header").outerHeight(!0)+$(".message-content.text-center").outerHeight(!0)+$(".message-box-btn-holder").outerHeight(!0)+5);$("#messageBox").height(e+"px"),$("#messageBox_wrapper .e-dialog-scroller.e-scroller.e-js.e-widget").height($("#messageBox").outerHeight(!0)+"px")}function beforeSendSaveView(e){var t=parent.$("#dashboard").data("BoldBIDashboardDesigner");e.setRequestHeader("BoldBIDashboardAuthenticationToken",t._authenticationToken)}function removeAsDefault(e){var t=document.getElementById("remove-defaultview-dialog").ej2_instances,a=e.attr("viewid"),e=e.attr("itemid");$.ajax({url:updateDefaultValueUrl,data:{viewId:a,defaultValue:!1,itemId:e,userId:userId},type:"POST",success:function(e){$(".server-dashboard-view").BoldBIDashboardWaitingPopup("hide"),t[0].hide(),"true"==e.toString().toLowerCase()?(hasDefaultView=!1,successToast(window.Server.App.Localization.RemoveAsDefaultViewSuccess,7e3),GetSavedFilter(),refreshScroller()):warningToast(window.Server.App.Localization.SetAsDefaultViewError)}})}function removeURLParameter(e,t){var a=e.split("?");if(2<=a.length){for(var i=encodeURIComponent(t)+"=",s=a[1].split(/[&;]/g),n=s.length;0<n--;)-1!==s[n].lastIndexOf(i,0)&&s.splice(n,1);return a[0]+(0<s.length?"?"+s.join("&"):"")}return e}$("#popup-container_wrapper").BoldBIDashboardWaitingPopup({template:$("#"+popupContainerWaitingPopupTemplateId)}),$(document).on("click",".view",function(){var e=$(this).attr("viewid");isMultiTab?window.open(multiTabUrl+"?viewid="+e,"_blank"):window.open(window.location.pathname+"?viewid="+e,"_blank")}),$(document).on("click",".share",function(){var e=$(this).attr("viewid");$("#dashboard-view-toogle").css("z-index","999"),$.ajax({type:"POST",url:itemViewShareIframeUrl,data:{itemViewId:e,itemId:item_Id},success:function(e){null!=e.itemViewDetail&&null!=e.itemDetail&&shareDashboardPermission(e.itemViewDetail,e.itemDetail)}})}),$(document).on("click","#save-as-view",function(){$("#view-name").hide(),$("#filter_name").val(""),$("#save-lable-section").hide(),$("#save-section").show()}),$(document).on("click",".clear",function(){$("#dashboard-view-toogle").BoldBIDashboardWaitingPopup("show"),$("#filter_name").val(""),clearAllFilters(),$("#view-name").show(),$("#save-section").hide(),$("#unsaved-filter,#unsaved-filter-title").show(),$("#save-lable-section").show()}),$(document).on("click","#clear-txt",function(){$("#filter_name").val(""),$("#save-lable-section").show(),$("#save-section").hide()}),$(document).on("click",".clear-filter",function(e){clearWidgetFilter(e.target.attributes.widgetid.value,e.target.attributes.widgettype.value);e=getcurrentfilters();""!=e&&"undefined"!=e&&null!=e&&null!=e.masterData||($("#filter_name").val(""),$("#save-lable-section").show(),$("#save-section").hide())}),$(document).on("click",".delete",function(e){var t=$(this).attr("viewid"),a=$(this).attr("viewname");onDeleteItemDialogOpen(a),$("#delete_item").attr("viewid",t),$("#delete_item_name").html(a),$("#delete-content").show(),$("#delete-error").hide()}),$(document).on("click","#save-view",function(){$("#save-section").show(),$("#save-lable-section").hide(),$("#filter_name").val(""),$("#filter_name").focus()}),$(document).on("click",".View-link-copy",function(e){var t;BoldBIDashboard.browserInfo();$(e.target).parents().closest("li").length&&(e=$(e.target).parents().closest("li")).find(".view-link").length&&((t=document.createElement("textarea")).id="copyTextArea",t.innerText=getViewsLink(e.find(".view-link").attr("href")),document.querySelector("body").appendChild(t),document.getElementById("copyTextArea").select(),/Safari/.test(navigator.userAgent)&&/Apple Computer/.test(navigator.vendor)?($(this).removeClass("su su-link"),$(this).attr("data-original-title","")):(document.execCommand("copy"),$(this).attr("data-original-title",window.Server.App.Localization.Copysuccess).tooltip("show"),setTimeout(function(){$(".View-link-copy").attr("data-original-title",window.Server.App.Localization.LinkCopy),$(".View-link-copy").tooltip()},3e3)),document.querySelector("body").removeChild(t))}),$(document).on("click",".saved-opt .set-default",function(e){$(".saved-opt .set-default").closest(".dropdown.viewoptions").hasClass("open")||"true"==$(".saved-opt .set-default").attr("aria-expanded")?$(this).closest(".dropdown.viewoptions").removeClass("open"):$(this).closest(".dropdown.viewoptions").addClass("open")}),$(document).on("click",".saved-view",function(e){var n;"saved-view"!=e.target.className&&"saved-opt"!=e.target.className&&"saved-filter txt-overflow"!=e.target.className||(n=$(this),0==$(n).find(".applied-filters").length&&(e=$(this).attr("viewid").trim(),0<$(".saved-list-content-div").find(".applied-filters").length&&$(".applied-filters").remove(),$(".saved-view").removeClass("opened-view-section"),$(".saved-list-content-div").find(".saved-view").css("background-color","initial").css("border-top","0"),$(n).append($("<span class='col-sm-4 no-padding loader-gif' style='display:inline; background-image:url("+dashboardServerResourceUrl+"/cdn/images/waitingpopup.gif); background-size:cover; position:absolute; height:25px; width:25px;'></span>")),$.ajax({url:getViewParameterUrl,data:{itemId:item_Id,UserId:userId,UserName:userName,IsMultiDashboard:isMultiTab,ViewId:e,parentDashboardId:multiTabId},type:"POST",success:function(e){var t="",t="false"!==isUserAuthenticated||embedConfig.IsEmbedCode||embedConfig.IsEmbedDashboard?JSON.parse(e.viewDetails):e.viewDetails,e=getDashboardInstance();if(e){var a=e._parseParameterQuery(t.QueryString);if(null!=a&&0<a.length){(embedConfig.IsEmbedDashboard||embedConfig.IsEmbedCode)&&(e.clearAllFilters(),e.model.filterOverviewSettings.viewName=t.ViewName,e.model.filterOverviewSettings.viewId=t.ViewId,e.model.filterParameters=t.QueryString,t.CanEdit&&embedConfig.IsEmbedCode&&embedConfig.CanSaveView?e.model.filterOverviewSettings.showSaveIcon=!0:e.model.filterOverviewSettings.showSaveIcon=!1,e.redrawDashboard());for(var i=0;i<a.length;i++){list="<div class='applied-filters'><label class='list-items'>"+a[i].ColumnName+"</label><br />";for(var s=0;s<a[i].Data.length;s++)list+="<label class='list-items'>"+a[i].Data[s]+"</label><br />";list+="</div>",0==n.find(".applied-filters").length?n.append(list):$(".applied-filters").last().after(list)}}}$(n).addClass("opened-view-section"),$("span.loader-gif").remove()}})))}),$(document).on("click",".view-link",function(e){(embedConfig.IsEmbedDashboard||embedConfig.IsEmbedCode)&&(e.preventDefault(),$(this).parent().parent().click())}),$(document).on("keydown","#view-name",function(e){13==e.keyCode&&(e.preventDefault(),$("#save-button").trigger("click"))}),function(u){u.fn.swipeDetector=function(a){var i=0,s=0,n=0,o=0,r=0,t=this;function e(e){a.useOnlyTouch&&!e.originalEvent.touches||(e.originalEvent.touches&&(e=e.originalEvent.touches[0]),0===i&&(i=1,s=e.clientX,n=e.clientY))}function l(e){2===i&&(i=0,Math.abs(o)>Math.abs(r)&&Math.abs(o)>a.swipeThreshold?o<0?t.trigger(u.Event("swipeLeft.sd")):t.trigger(u.Event("swipeRight.sd")):Math.abs(r)>a.swipeThreshold&&(r<0?t.trigger(u.Event("swipeUp.sd")):t.trigger(u.Event("swipeDown.sd"))))}function d(e){var t;1===i&&(t=(e=e.originalEvent.touches?e.originalEvent.touches[0]:e).clientX-s,e=e.clientY-n,Math.abs(t)>a.swipeThreshold||Math.abs(e)>a.swipeThreshold)&&(i=2,o=t,r=e)}return a=u.extend({swipeThreshold:70,useOnlyTouch:!1},a),t.on("mousedown touchstart",e),u("html").on("mouseup touchend",l),u("html").on("mousemove touchmove",d),t}}(jQuery),"undefined"!=typeof isSlideshow&&isSlideshow&&$("#dashboard").swipeDetector().on("swipeLeft.sd swipeRight.sd swipeUp.sd swipeDown.sd",function(e){e=new CustomEvent("onSwipeDetected",{detail:e});window.parent.document.dispatchEvent(e)}),$(document).on("click",".mark-default",function(e){var t=$(this).parent().parent().parent().find("span .opt"),a=t.attr("viewid"),i=t.attr("itemid"),t=t.attr("viewname"),s="<br><strong style='float:left;padding-top:15px;width:100%' class='note'>"+window.Server.App.Localization.Note+"</strong><div>"+window.Server.App.Localization.DefaultView+"</div>";$(".server-dashboard-view").BoldBIDashboardWaitingPopup("show"),isDefaultView?hasDefaultView?($(".server-dashboard-view").BoldBIDashboardWaitingPopup("hide"),messageBox("su-set-default",window.Server.App.Localization.SetAsDefaultView,window.Server.App.Localization.SetAsDefaultConfirmation.format("<span style='color: #0565ff;font-style: italic'>"+t+"</span>")+s,"error",function(){$(".server-dashboard-view").BoldBIDashboardWaitingPopup("show"),$.ajax({url:updateDefaultValueUrl,data:{viewId:a,defaultValue:!0,itemId:i,userId:userId},type:"POST",success:function(e){"true"==e.toString().toLowerCase()?(onCloseMessageBox(),$(".server-dashboard-view").BoldBIDashboardWaitingPopup("hide"),$(".mark-default").text(window.Server.App.Localization.RemoveAsDefaultTitle),successToast(window.Server.App.Localization.SetAsDefaultViewSuccess,7e3),GetSavedFilter(),refreshScroller(),window.location.href=window.location.href):warningToast(window.Server.App.Localization.SetAsDefaultViewError)}}),$(".server-dashboard-view").BoldBIDashboardWaitingPopup("hide")}),GetSavedFilter(),refreshScroller()):hasDefaultView||$.ajax({url:updateDefaultValueUrl,data:{viewId:a,defaultValue:!0,itemId:i,userId:userId},type:"POST",success:function(e){onCloseMessageBox(),$(".server-dashboard-view").BoldBIDashboardWaitingPopup("hide"),"true"==e.toString().toLowerCase()?(hasDefaultView=!0,$(".mark-default").text(window.Server.App.Localization.RemoveAsDefaultTitle),successToast(window.Server.App.Localization.SetAsDefaultViewSuccess,7e3),GetSavedFilter(),refreshScroller(),window.location.href=window.location.href):warningToast(window.Server.App.Localization.SetAsDefaultViewError)}}):isAdmin?($(".server-dashboard-view").BoldBIDashboardWaitingPopup("hide"),t=window.Server.App.Localization.DashboardDisable.format("<a href='"+dashboardSettingsUrl+"' target='_blank' >","</a>"),messageBox("su-set-default",window.Server.App.Localization.SetAsDefaultView,t,"success",function(){onCloseMessageBox()})):($(".server-dashboard-view").BoldBIDashboardWaitingPopup("hide"),messageBox("su-set-default",window.Server.App.Localization.SetAsDefaultView,window.Server.App.Localization.EnableDefaultView,"success",function(){onCloseMessageBox()}))}),$(document).on("click","#mark-as-default-confirmed",function(){$(".server-dashboard-view").BoldBIDashboardWaitingPopup("show"),$.ajax({url:updateDefaultValueUrl,data:{viewId:viewId,defaultValue:!0,itemId:itemId},type:"POST",success:function(e){"true"==e.toString().toLowerCase()?(onCloseMessageBox(),isDefaultView=!0,$(".server-dashboard-view").BoldBIDashboardWaitingPopup("hide"),$(".mark-default").text(window.Server.App.Localization.RemoveAsDefaultTitle),SuccessAlert(window.Server.App.Localization.SetAsDefaultView,window.Server.App.Localization.SetAsDefaultViewSuccess,5e3),GetSavedFilter(),refreshScroller()):WarningAlert(window.Server.App.Localization.SetAsDefaultView,window.Server.App.Localization.SetAsDefaultViewError,5e3)}})}),$(document).on("click",".remove-default",function(e){var t,a,i=$(this).parent().parent().parent().find("span .opt"),s=i.attr("viewname"),n=(ejdashboard||ejs).popups,o='<span class="dialog-header-with-icon"><span class ="dialog-header-title"><i class="su su-remove-default dialog-header-icon"></i>&nbsp;&nbsp;'+window.Server.App.Localization.RemoveAsDefaultView+"</span></span>";isRemoveAsDefaultDialogBinded?((a=document.getElementById("remove-defaultview-dialog").ej2_instances)[0].header=o,a[0].show()):((t=document.createElement("div")).setAttribute("id","remove-defaultview-dialog"),(isMultiTab?document.getElementById("multi-tab-dashboard"):document.getElementById("dashboard")).appendChild(t),(a=new n.Dialog({showOnInit:!1,allowDraggable:!1,enableResize:!1,width:460<window.innerWidth?"450px":window.innerWidth-10,height:"auto",showHeader:!1,animationSettings:{effect:"Zoom"},isModal:!0,enableModal:!0,closeOnEscape:!0,header:o,showCloseIcon:!0,content:window.Server.App.Localization.RemoveAsDefaultConfirmation.format("<span style='font-style: italic' class='view-name'>"+s+"</span>")+"<br><strong style='float:left; padding-top:15px; width: 100%' class='note'>"+window.Server.App.Localization.Note+"</strong><span> "+window.Server.App.Localization.RemoveAsDefaultMessage+"</span>",buttons:[{click:function(e){removeAsDefault(i)},buttonModel:{cssClass:"app-btn-danger",content:window.Server.App.Localization.YesButton}},{click:function(){a.hide()},buttonModel:{cssClass:"app-btn-secondary",content:window.Server.App.Localization.NoButton}}]})).appendTo(t),isRemoveAsDefaultDialogBinded=!0),$(".e-dlg-container.e-dlg-center-center").wrap('<div class="bi-dashboard"></div>'),n.createSpinner({target:document.getElementById("remove-defaultview-dialog")}),n.setSpinner({type:"Material"})}),serverApp.controller("ItemInfoCtrl",["$scope","$timeout",function(s,n){s.ItemDetail=null,s.closeItemInfo=function(){"undefined"!=typeof BoldBIDashboard?$("#item-info-popup").BoldBIDashboardDialog("close"):$("#item-info-popup").ejDialog("close")},s.getWidgetEmbedCode="undefined"!=typeof getWidgetEmbedCode&&getWidgetEmbedCode,s.openInfoDialog=function(e,t,a){var i=$("<div/>").html(e.Description).text();s.ItemDetail=e,s.showDashboardLinkButton=t,s.isUsageAnalytics=a,"undefined"!=typeof BoldBIDashboard?($("#item-info-popup").BoldBIDashboardDialog({width:480<window.innerWidth?"480px":window.innerWidth-10+"px",height:"auto",showOnInit:!1,allowDraggable:!1,enableResize:!1,showHeader:!1,enableModal:!0,cssClass:"server-dialog"}),$("#item-info-popup").BoldBIDashboardDialog("open"),$("#item-info-popup").BoldBIDashboardDialog("refresh")):($("#item-info-popup").ejDialog({width:480<window.innerWidth?"480px":window.innerWidth-10+"px",height:"auto",showOnInit:!1,allowDraggable:!1,enableResize:!1,showHeader:!1,enableModal:!0}),$("#item-info-popup").ejDialog("open"),$("#item-info-popup").ejDialog("refresh")),n(function(){s.$apply()},100),$(".item-info-description").text(i)},s.viewDashboardUrl=function(e,t,a,i){return!0===i?encodeURI(editDashboardUrl+"/"+e+"/draft/"+a):encodeURI(viewDashboardUrlAction+"/"+e+"/"+t+"/"+a+"?showmydashboards=1")},s.GetInfoButtonText=function(e){return!0===e?window.Server.App.Localization.EditDashboard:window.Server.App.Localization.OpenDashboard},s.openUploadDashboardDialog=function(e){s.closeItemInfo();var t=[];t.push(e),onUploadDialogOpen(t)}}]),"undefined"!=typeof angularManualBootstrap&&angularManualBootstrap&&angular.element(document).ready(function(){angular.bootstrap(document,["serverApp"])});