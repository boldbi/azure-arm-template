!function(e){"function"==typeof define&&define.amd?define(["jquery"],e):e(jQuery)}(function(l){l.extend(l.fn,{validate:function(e){var a;if(this.length)return(a=l.data(this[0],"validator"))||(this.attr("novalidate","novalidate"),a=new l.validator(e,this[0]),l.data(this[0],"validator",a),a.settings.onsubmit&&(this.on("click.validate",":submit",function(e){a.settings.submitHandler&&(a.submitButton=e.target),l(this).hasClass("cancel")&&(a.cancelSubmit=!0),void 0!==l(this).attr("formnovalidate")&&(a.cancelSubmit=!0)}),this.on("submit.validate",function(i){function e(){var e,t;return!a.settings.submitHandler||(a.submitButton&&(e=l("<input type='hidden'/>").attr("name",a.submitButton.name).val(l(a.submitButton).val()).appendTo(a.currentForm)),t=a.settings.submitHandler.call(a,a.currentForm,i),a.submitButton&&e.remove(),void 0!==t&&t)}return a.settings.debug&&i.preventDefault(),a.cancelSubmit?(a.cancelSubmit=!1,e()):a.form()?a.pendingRequest?!(a.formSubmitted=!0):e():(a.focusInvalid(),!1)})),a);e&&e.debug&&window.console&&console.warn("Nothing selected, can't validate, returning nothing.")},valid:function(){var e,t,i;return l(this[0]).is("form")?e=this.validate().form():(i=[],e=!0,t=l(this[0].form).validate(),this.each(function(){e=t.element(this)&&e,i=i.concat(t.errorList)}),t.errorList=i),e},rules:function(e,t){var i,a,s,n,o,r=this[0];if(e)switch(i=l.data(r.form,"validator").settings,a=i.rules,s=l.validator.staticRules(r),e){case"add":l.extend(s,l.validator.normalizeRule(t)),delete s.messages,a[r.name]=s,t.messages&&(i.messages[r.name]=l.extend(i.messages[r.name],t.messages));break;case"remove":return t?(o={},l.each(t.split(/\s/),function(e,t){o[t]=s[t],delete s[t],"required"===t&&l(r).removeAttr("aria-required")}),o):(delete a[r.name],s)}return(e=l.validator.normalizeRules(l.extend({},l.validator.classRules(r),l.validator.attributeRules(r),l.validator.dataRules(r),l.validator.staticRules(r)),r)).required&&(n=e.required,delete e.required,e=l.extend({required:n},e),l(r).attr("aria-required","true")),e.remote&&(n=e.remote,delete e.remote,e=l.extend(e,{remote:n})),e}}),l.extend(l.expr[":"],{blank:function(e){return!l.trim(""+l(e).val())},filled:function(e){return!!l.trim(""+l(e).val())},unchecked:function(e){return!l(e).prop("checked")}}),l.validator=function(e,t){this.settings=l.extend(!0,{},l.validator.defaults,e),this.currentForm=t,this.init()},l.validator.format=function(i,e){return 1===arguments.length?function(){var e=l.makeArray(arguments);return e.unshift(i),l.validator.format.apply(this,e)}:((e=2<arguments.length&&e.constructor!==Array?l.makeArray(arguments).slice(1):e).constructor!==Array&&(e=[e]),l.each(e,function(e,t){i=i.replace(new RegExp("\\{"+e+"\\}","g"),function(){return t})}),i)},l.extend(l.validator,{defaults:{messages:{},groups:{},rules:{},errorClass:"error",validClass:"valid",errorElement:"label",focusCleanup:!1,focusInvalid:!0,errorContainer:l([]),errorLabelContainer:l([]),onsubmit:!0,ignore:":hidden",ignoreTitle:!1,onfocusin:function(e){this.lastActive=e,this.settings.focusCleanup&&(this.settings.unhighlight&&this.settings.unhighlight.call(this,e,this.settings.errorClass,this.settings.validClass),this.hideThese(this.errorsFor(e)))},onfocusout:function(e){this.checkable(e)||!(e.name in this.submitted)&&this.optional(e)||this.element(e)},onkeyup:function(e,t){9===t.which&&""===this.elementValue(e)||-1!==l.inArray(t.keyCode,[16,17,18,20,35,36,37,38,39,40,45,144,225])||(e.name in this.submitted||e===this.lastElement)&&this.element(e)},onclick:function(e){e.name in this.submitted?this.element(e):e.parentNode.name in this.submitted&&this.element(e.parentNode)},highlight:function(e,t,i){("radio"===e.type?this.findByName(e.name):l(e)).addClass(t).removeClass(i)},unhighlight:function(e,t,i){("radio"===e.type?this.findByName(e.name):l(e)).removeClass(t).addClass(i)}},setDefaults:function(e){l.extend(l.validator.defaults,e)},messages:{required:"This field is required.",remote:"Please fix this field.",email:"Please enter a valid email address.",url:"Please enter a valid URL.",date:"Please enter a valid date.",dateISO:"Please enter a valid date ( ISO ).",number:"Please enter a valid number.",digits:"Please enter only digits.",creditcard:"Please enter a valid credit card number.",equalTo:"Please enter the same value again.",maxlength:l.validator.format("Please enter no more than {0} characters."),minlength:l.validator.format("Please enter at least {0} characters."),rangelength:l.validator.format("Please enter a value between {0} and {1} characters long."),range:l.validator.format("Please enter a value between {0} and {1}."),max:l.validator.format("Please enter a value less than or equal to {0}."),min:l.validator.format("Please enter a value greater than or equal to {0}.")},autoCreateRanges:!1,prototype:{init:function(){function e(e){var t=l.data(this.form,"validator"),i="on"+e.type.replace(/^validate/,""),a=t.settings;a[i]&&!l(this).is(a.ignore)&&a[i].call(t,this,e)}this.labelContainer=l(this.settings.errorLabelContainer),this.errorContext=this.labelContainer.length&&this.labelContainer||l(this.currentForm),this.containers=l(this.settings.errorContainer).add(this.settings.errorLabelContainer),this.submitted={},this.valueCache={},this.pendingRequest=0,this.pending={},this.invalid={},this.reset();var i,a=this.groups={};l.each(this.settings.groups,function(i,e){"string"==typeof e&&(e=e.split(/\s/)),l.each(e,function(e,t){a[t]=i})}),i=this.settings.rules,l.each(i,function(e,t){i[e]=l.validator.normalizeRule(t)}),l(this.currentForm).on("focusin.validate focusout.validate keyup.validate",":text, [type='password'], [type='file'], select, textarea, [type='number'], [type='search'], [type='tel'], [type='url'], [type='email'], [type='datetime'], [type='date'], [type='month'], [type='week'], [type='time'], [type='datetime-local'], [type='range'], [type='color'], [type='radio'], [type='checkbox']",e).on("click.validate","select, option, [type='radio'], [type='checkbox']",e),this.settings.invalidHandler&&l(this.currentForm).on("invalid-form.validate",this.settings.invalidHandler),l(this.currentForm).find("[required], [data-rule-required], .required").attr("aria-required","true")},form:function(){return this.checkForm(),l.extend(this.submitted,this.errorMap),this.invalid=l.extend({},this.errorMap),this.valid()||l(this.currentForm).triggerHandler("invalid-form",[this]),this.showErrors(),this.valid()},checkForm:function(){this.prepareForm();for(var e=0,t=this.currentElements=this.elements();t[e];e++)this.check(t[e]);return this.valid()},element:function(e){var t=this.clean(e),i=this.validationTargetFor(t),a=!0;return void 0===(this.lastElement=i)?delete this.invalid[t.name]:(this.prepareElement(i),this.currentElements=l(i),(a=!1!==this.check(i))?delete this.invalid[i.name]:this.invalid[i.name]=!0),l(e).attr("aria-invalid",!a),this.numberOfInvalids()||(this.toHide=this.toHide.add(this.containers)),this.showErrors(),a},showErrors:function(t){if(t){for(var e in l.extend(this.errorMap,t),this.errorList=[],t)this.errorList.push({message:t[e],element:this.findByName(e)[0]});this.successList=l.grep(this.successList,function(e){return!(e.name in t)})}this.settings.showErrors?this.settings.showErrors.call(this,this.errorMap,this.errorList):this.defaultShowErrors()},resetForm:function(){l.fn.resetForm&&l(this.currentForm).resetForm(),this.submitted={},this.lastElement=null,this.prepareForm(),this.hideErrors();var e,t=this.elements().removeData("previousValue").removeAttr("aria-invalid");if(this.settings.unhighlight)for(e=0;t[e];e++)this.settings.unhighlight.call(this,t[e],this.settings.errorClass,"");else t.removeClass(this.settings.errorClass)},numberOfInvalids:function(){return this.objectLength(this.invalid)},objectLength:function(e){var t,i=0;for(t in e)i++;return i},hideErrors:function(){this.hideThese(this.toHide)},hideThese:function(e){e.not(this.containers).text(""),this.addWrapper(e).hide()},valid:function(){return 0===this.size()},size:function(){return this.errorList.length},focusInvalid:function(){if(this.settings.focusInvalid)try{l(this.findLastActive()||this.errorList.length&&this.errorList[0].element||[]).filter(":visible").focus().trigger("focusin")}catch(e){}},findLastActive:function(){var t=this.lastActive;return t&&1===l.grep(this.errorList,function(e){return e.element.name===t.name}).length&&t},elements:function(){var e=this,t={};return l(this.currentForm).find("input, select, textarea").not(":submit, :reset, :image, :disabled").not(this.settings.ignore).filter(function(){return!this.name&&e.settings.debug&&window.console&&console.error("%o has no name assigned",this),!(this.name in t||!e.objectLength(l(this).rules())||(t[this.name]=!0,0))})},clean:function(e){return l(e)[0]},errors:function(){var e=this.settings.errorClass.split(" ").join(".");return l(this.settings.errorElement+"."+e,this.errorContext)},reset:function(){this.successList=[],this.errorList=[],this.errorMap={},this.toShow=l([]),this.toHide=l([]),this.currentElements=l([])},prepareForm:function(){this.reset(),this.toHide=this.errors().add(this.containers)},prepareElement:function(e){this.reset(),this.toHide=this.errorsFor(e)},elementValue:function(e){var t=l(e),i=e.type;return"radio"===i||"checkbox"===i?this.findByName(e.name).filter(":checked").val():"number"===i&&void 0!==e.validity?!e.validity.badInput&&t.val():"string"==typeof(i=t.val())?i.replace(/\r/g,""):i},check:function(t){t=this.validationTargetFor(this.clean(t));var e,i,a,s=l(t).rules(),n=l.map(s,function(e,t){return t}).length,o=!1,r=this.elementValue(t);for(i in s){a={method:i,parameters:s[i]};try{if("dependency-mismatch"===(e=l.validator.methods[i].call(this,r,t,a.parameters))&&1===n)o=!0;else{if(o=!1,"pending"===e)return void(this.toHide=this.toHide.not(this.errorsFor(t)));if(!e)return this.formatAndAdd(t,a),!1}}catch(e){throw this.settings.debug&&window.console&&console.log("Exception occurred when checking element "+t.id+", check the '"+a.method+"' method.",e),e instanceof TypeError&&(e.message+=".  Exception occurred when checking element "+t.id+", check the '"+a.method+"' method."),e}}if(!o)return this.objectLength(s)&&this.successList.push(t),!0},customDataMessage:function(e,t){return l(e).data("msg"+t.charAt(0).toUpperCase()+t.substring(1).toLowerCase())||l(e).data("msg")},customMessage:function(e,t){e=this.settings.messages[e];return e&&(e.constructor===String?e:e[t])},findDefined:function(){for(var e=0;e<arguments.length;e++)if(void 0!==arguments[e])return arguments[e]},defaultMessage:function(e,t){return this.findDefined(this.customMessage(e.name,t),this.customDataMessage(e,t),!this.settings.ignoreTitle&&e.title||void 0,l.validator.messages[t],"<strong>Warning: No message defined for "+e.name+"</strong>")},formatAndAdd:function(e,t){var i=this.defaultMessage(e,t.method),a=/\$?\{(\d+)\}/g;"function"==typeof i?i=i.call(this,t.parameters,e):a.test(i)&&(i=l.validator.format(i.replace(a,"{$1}"),t.parameters)),this.errorList.push({message:i,element:e,method:t.method}),this.errorMap[e.name]=i,this.submitted[e.name]=i},addWrapper:function(e){return e=this.settings.wrapper?e.add(e.parent(this.settings.wrapper)):e},defaultShowErrors:function(){for(var e,t,i=0;this.errorList[i];i++)t=this.errorList[i],this.settings.highlight&&this.settings.highlight.call(this,t.element,this.settings.errorClass,this.settings.validClass),this.showLabel(t.element,t.message);if(this.errorList.length&&(this.toShow=this.toShow.add(this.containers)),this.settings.success)for(i=0;this.successList[i];i++)this.showLabel(this.successList[i]);if(this.settings.unhighlight)for(i=0,e=this.validElements();e[i];i++)this.settings.unhighlight.call(this,e[i],this.settings.errorClass,this.settings.validClass);this.toHide=this.toHide.not(this.toShow),this.hideErrors(),this.addWrapper(this.toShow).show()},validElements:function(){return this.currentElements.not(this.invalidElements())},invalidElements:function(){return l(this.errorList).map(function(){return this.element})},showLabel:function(e,t){var i,a,s=this.errorsFor(e),n=this.idOrName(e),o=l(e).attr("aria-describedby");s.length?(s.removeClass(this.settings.validClass).addClass(this.settings.errorClass),s.html(t)):(a=s=l("<"+this.settings.errorElement+">").attr("id",n+"-error").addClass(this.settings.errorClass).html(t||""),this.settings.wrapper&&(a=s.hide().show().wrap("<"+this.settings.wrapper+"/>").parent()),this.labelContainer.length?this.labelContainer.append(a):this.settings.errorPlacement?this.settings.errorPlacement(a,l(e)):a.insertAfter(e),s.is("label")?s.attr("for",n):0===s.parents("label[for='"+n+"']").length&&(a=s.attr("id").replace(/(:|\.|\[|\]|\$)/g,"\\$1"),o?o.match(new RegExp("\\b"+a+"\\b"))||(o+=" "+a):o=a,l(e).attr("aria-describedby",o),i=this.groups[e.name])&&l.each(this.groups,function(e,t){t===i&&l("[name='"+e+"']",this.currentForm).attr("aria-describedby",s.attr("id"))})),!t&&this.settings.success&&(s.text(""),"string"==typeof this.settings.success?s.addClass(this.settings.success):this.settings.success(s,e)),this.toShow=this.toShow.add(s)},errorsFor:function(e){var t=this.idOrName(e),e=l(e).attr("aria-describedby"),t="label[for='"+t+"'], label[for='"+t+"'] *";return e&&(t=t+", #"+e.replace(/\s+/g,", #")),this.errors().filter(t)},idOrName:function(e){return this.groups[e.name]||!this.checkable(e)&&e.id||e.name},validationTargetFor:function(e){return this.checkable(e)&&(e=this.findByName(e.name)),l(e).not(this.settings.ignore)[0]},checkable:function(e){return/radio|checkbox/i.test(e.type)},findByName:function(e){return l(this.currentForm).find("[name='"+e+"']")},getLength:function(e,t){switch(t.nodeName.toLowerCase()){case"select":return l("option:selected",t).length;case"input":if(this.checkable(t))return this.findByName(t.name).filter(":checked").length}return e.length},depend:function(e,t){return!this.dependTypes[typeof e]||this.dependTypes[typeof e](e,t)},dependTypes:{boolean:function(e){return e},string:function(e,t){return!!l(e,t.form).length},function:function(e,t){return e(t)}},optional:function(e){var t=this.elementValue(e);return!l.validator.methods.required.call(this,t,e)&&"dependency-mismatch"},startRequest:function(e){this.pending[e.name]||(this.pendingRequest++,this.pending[e.name]=!0)},stopRequest:function(e,t){this.pendingRequest--,this.pendingRequest<0&&(this.pendingRequest=0),delete this.pending[e.name],t&&0===this.pendingRequest&&this.formSubmitted&&this.form()?(l(this.currentForm).submit(),this.formSubmitted=!1):!t&&0===this.pendingRequest&&this.formSubmitted&&(l(this.currentForm).triggerHandler("invalid-form",[this]),this.formSubmitted=!1)},previousValue:function(e){return l.data(e,"previousValue")||l.data(e,"previousValue",{old:null,valid:!0,message:this.defaultMessage(e,"remote")})},destroy:function(){this.resetForm(),l(this.currentForm).off(".validate").removeData("validator")}},classRuleSettings:{required:{required:!0},email:{email:!0},url:{url:!0},date:{date:!0},dateISO:{dateISO:!0},number:{number:!0},digits:{digits:!0},creditcard:{creditcard:!0}},addClassRules:function(e,t){e.constructor===String?this.classRuleSettings[e]=t:l.extend(this.classRuleSettings,e)},classRules:function(e){var t={},e=l(e).attr("class");return e&&l.each(e.split(" "),function(){this in l.validator.classRuleSettings&&l.extend(t,l.validator.classRuleSettings[this])}),t},normalizeAttributeRule:function(e,t,i,a){(a=/min|max/.test(i)&&(null===t||/number|range|text/.test(t))&&(a=Number(a),isNaN(a))?void 0:a)||0===a?e[i]=a:t===i&&"range"!==t&&(e[i]=!0)},attributeRules:function(e){var t,i,a={},s=l(e),n=e.getAttribute("type");for(t in l.validator.methods)i="required"===t?(i=e.getAttribute(t),""===i&&(i=!0),!!i):s.attr(t),this.normalizeAttributeRule(a,n,t,i);return a.maxlength&&/-1|2147483647|524288/.test(a.maxlength)&&delete a.maxlength,a},dataRules:function(e){var t,i,a={},s=l(e),n=e.getAttribute("type");for(t in l.validator.methods)i=s.data("rule"+t.charAt(0).toUpperCase()+t.substring(1).toLowerCase()),this.normalizeAttributeRule(a,n,t,i);return a},staticRules:function(e){var t={},i=l.data(e.form,"validator");return t=i.settings.rules?l.validator.normalizeRule(i.settings.rules[e.name])||{}:t},normalizeRules:function(a,s){return l.each(a,function(e,t){if(!1===t)delete a[e];else if(t.param||t.depends){var i=!0;switch(typeof t.depends){case"string":i=!!l(t.depends,s.form).length;break;case"function":i=t.depends.call(s,s)}i?a[e]=void 0===t.param||t.param:delete a[e]}}),l.each(a,function(e,t){a[e]=l.isFunction(t)?t(s):t}),l.each(["minlength","maxlength"],function(){a[this]&&(a[this]=Number(a[this]))}),l.each(["rangelength","range"],function(){var e;a[this]&&(l.isArray(a[this])?a[this]=[Number(a[this][0]),Number(a[this][1])]:"string"==typeof a[this]&&(e=a[this].replace(/[\[\]]/g,"").split(/[\s,]+/),a[this]=[Number(e[0]),Number(e[1])]))}),l.validator.autoCreateRanges&&(null!=a.min&&null!=a.max&&(a.range=[a.min,a.max],delete a.min,delete a.max),null!=a.minlength)&&null!=a.maxlength&&(a.rangelength=[a.minlength,a.maxlength],delete a.minlength,delete a.maxlength),a},normalizeRule:function(e){var t;return"string"==typeof e&&(t={},l.each(e.split(/\s/),function(){t[this]=!0}),e=t),e},addMethod:function(e,t,i){l.validator.methods[e]=t,l.validator.messages[e]=void 0!==i?i:l.validator.messages[e],t.length<3&&l.validator.addClassRules(e,l.validator.normalizeRule(e))},methods:{required:function(e,t,i){return this.depend(i,t)?"select"===t.nodeName.toLowerCase()?(i=l(t).val())&&0<i.length:this.checkable(t)?0<this.getLength(e,t):0<e.length:"dependency-mismatch"},email:function(e,t){return this.optional(t)||/^[a-zA-Z0-9.!#$%&'*+\/=?^_`{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/.test(e)},url:function(e,t){return this.optional(t)||/^(?:(?:(?:https?|ftp):)?\/\/)(?:\S+(?::\S*)?@)?(?:(?!(?:10|127)(?:\.\d{1,3}){3})(?!(?:169\.254|192\.168)(?:\.\d{1,3}){2})(?!172\.(?:1[6-9]|2\d|3[0-1])(?:\.\d{1,3}){2})(?:[1-9]\d?|1\d\d|2[01]\d|22[0-3])(?:\.(?:1?\d{1,2}|2[0-4]\d|25[0-5])){2}(?:\.(?:[1-9]\d?|1\d\d|2[0-4]\d|25[0-4]))|(?:(?:[a-z\u00a1-\uffff0-9]-*)*[a-z\u00a1-\uffff0-9]+)(?:\.(?:[a-z\u00a1-\uffff0-9]-*)*[a-z\u00a1-\uffff0-9]+)*(?:\.(?:[a-z\u00a1-\uffff]{2,})).?)(?::\d{2,5})?(?:[/?#]\S*)?$/i.test(e)},date:function(e,t){return this.optional(t)||!/Invalid|NaN/.test(new Date(e).toString())},dateISO:function(e,t){return this.optional(t)||/^\d{4}[\/\-](0?[1-9]|1[012])[\/\-](0?[1-9]|[12][0-9]|3[01])$/.test(e)},number:function(e,t){return this.optional(t)||/^(?:-?\d+|-?\d{1,3}(?:,\d{3})+)?(?:\.\d+)?$/.test(e)},digits:function(e,t){return this.optional(t)||/^\d+$/.test(e)},creditcard:function(e,t){if(this.optional(t))return"dependency-mismatch";if(/[^0-9 \-]+/.test(e))return!1;var i,a,s=0,n=0,o=!1;if((e=e.replace(/\D/g,"")).length<13||19<e.length)return!1;for(i=e.length-1;0<=i;i--)a=e.charAt(i),n=parseInt(a,10),o&&9<(n*=2)&&(n-=9),s+=n,o=!o;return s%10==0},minlength:function(e,t,i){e=l.isArray(e)?e.length:this.getLength(e,t);return this.optional(t)||i<=e},maxlength:function(e,t,i){e=l.isArray(e)?e.length:this.getLength(e,t);return this.optional(t)||e<=i},rangelength:function(e,t,i){e=l.isArray(e)?e.length:this.getLength(e,t);return this.optional(t)||e>=i[0]&&e<=i[1]},min:function(e,t,i){return this.optional(t)||i<=e},max:function(e,t,i){return this.optional(t)||e<=i},range:function(e,t,i){return this.optional(t)||e>=i[0]&&e<=i[1]},equalTo:function(e,t,i){i=l(i);return this.settings.onfocusout&&i.off(".validate-equalTo").on("blur.validate-equalTo",function(){l(t).valid()}),e===i.val()},remote:function(a,s,e){var n,t,o;return this.optional(s)?"dependency-mismatch":(o=this.previousValue(s),this.settings.messages[s.name]||(this.settings.messages[s.name]={}),o.originalMessage=this.settings.messages[s.name].remote,this.settings.messages[s.name].remote=o.message,e="string"==typeof e?{url:e}:e,o.old===a?o.valid:(o.old=a,(n=this).startRequest(s),(t={})[s.name]=a,l.ajax(l.extend(!0,{mode:"abort",port:"validate"+s.name,dataType:"json",data:t,context:n.currentForm,success:function(e){var t,i=!0===e||"true"===e;n.settings.messages[s.name].remote=o.originalMessage,i?(t=n.formSubmitted,n.prepareElement(s),n.formSubmitted=t,n.successList.push(s),delete n.invalid[s.name],n.showErrors()):(t={},e=e||n.defaultMessage(s,"remote"),t[s.name]=o.message=l.isFunction(e)?e(a):e,n.invalid[s.name]=!0,n.showErrors(t)),o.valid=i,n.stopRequest(s,i)}},e)),"pending"))}}});var i,s={};l.ajaxPrefilter?l.ajaxPrefilter(function(e,t,i){var a=e.port;"abort"===e.mode&&(s[a]&&s[a].abort(),s[a]=i)}):(i=l.ajax,l.ajax=function(e){var t=("mode"in e?e:l.ajaxSettings).mode,e=("port"in e?e:l.ajaxSettings).port;return"abort"===t?(s[e]&&s[e].abort(),s[e]=i.apply(this,arguments),s[e]):i.apply(this,arguments)})});var itemUrl,browser=BoldBIDashboard.browserInfo(),isRenderDashboardGetLinkDialogBinded=!1;function intializeGetShareLink(){0==$("#get_item_link").length&&$.ajax({type:"Get",url:getLinkDialogViewUrl,success:function(e){$("body").append(e)}}),("undefined"!=typeof ejdashboard?ejdashboard:ejs).popups.hideSpinner(document.getElementById("render_dashboard_get_item_link_dialog"))}var dashboardViewerInstance=getDashboardInstance();function onDashboardGetLinkDialogOpen(){var t,e=$("#get_item_link"),i=(ejdashboard||ejs).popups,a=(document.getElementById("get_item_link").style.display="block",'<span class="dialog-header-with-subtitle"><span class ="dialog-header-title">'+window.Server.App.Localization.GetLink+'</span><span class="item-name">'+dashboardViewerInstance.model.dashboardName+"</span></span>"),a=(isRenderDashboardGetLinkDialogBinded?((t=document.getElementById("render_dashboard_get_item_link_dialog").ej2_instances)[0].header=a,t[0].show()):((s=document.createElement("div")).setAttribute("id","render_dashboard_get_item_link_dialog"),document.getElementById("dashboard").appendChild(s),(t=new i.Dialog({showOnInit:!1,allowDraggable:!1,enableResize:!1,width:460<window.innerWidth?"450px":window.innerWidth-10,height:"auto",showHeader:!1,animationSettings:{effect:"Zoom"},isModal:!0,enableModal:!0,closeOnEscape:!0,showCloseIcon:!0,header:a,content:document.getElementById("get_item_link"),buttons:[{click:function(e){t.hide()},buttonModel:{cssClass:"app-btn-secondary",content:window.Server.App.Localization.OKButton}}]})).appendTo(s),isRenderDashboardGetLinkDialogBinded=!0),i.createSpinner({target:document.getElementById("render_dashboard_get_item_link_dialog")}),i.setSpinner({type:"Material"}),i.showSpinner(document.getElementById("render_dashboard_get_item_link_dialog")),intializeGetShareLink(),e.focus(),$(".get_link").show(),$("#item-link")),s=window.location.href.replace(window.location.search,""),n="?",i=("true"===isMultiDashboard.toLocaleLowerCase()&&(n+="tab="+$("#dashboard").data("ejDashboardViewer").getCurrentTab().tabName.trim()+"&"),location.search.substring(1)),i=(""!=i&&(e=getQueryVariable(i),$.each(e,function(e,t){"filterQuery"!==e&&"tab"!==e&&"viewid"!==e&&"isembed"!==e&&"dashboard_comments"!==e&&"widget_comments"!==e&&"views"!==e&&"export"!==e&&(n+=e+"="+t+"&")})),s+=n,getcurrentfilters());null==i||null==i.isInitialFilter||i.isInitialFilter?s=s.slice(0,-1):s+=i.encryptedData,s=removeURLParameter(s,"externallogin"),a.val(s),/Safari/.test(navigator.userAgent)&&/Apple Computer/.test(navigator.vendor)?($("#item-link-copy").removeClass("su su-copy").attr("data-original-title","").hide(),a.css({width:"100%",borderRadius:"4px"})):$("#item-link-copy").tooltip({animation:!1}),document.getElementById("item-link").setSelectionRange(0,itemUrl.length)}function getQueryVariable(e){for(var t,i={},a=e.split("&"),s=0,n=a.length;s<n;s++)i[(t=a[s].split("="))[0]]=t[1];return i}function fnOnDashboardBegin(e){var t;"getLinkDialogOpen"===e.eventType&&(t=$("#get_item_link"),$(".dashboard-link, .private-note").show(),e.source.data.handled=!0,itemUrl=e.source.data.url,t.find(".report-name").html(e.model.reportName).attr("title",e.model.reportName),t.BoldBIDashboardDialog("open"))}function removeURLParameter(e,t){var i=e.split("?");if(2<=i.length){for(var a=encodeURIComponent(t)+"=",s=i[1].split(/[&;]/g),n=s.length;0<n--;)-1!==s[n].lastIndexOf(a,0)&&s.splice(n,1);return i[0]+(0<s.length?"?"+s.join("&"):"")}return e}$(document).on("click","#item-link-copy",function(){$("#item-link").select();var e=$("#item-link-copy");/Safari/.test(navigator.userAgent)&&/Apple Computer/.test(navigator.vendor)?e.removeClass("su su-copy").attr("data-original-title",""):(document.execCommand("copy"),e.tooltip("hide").attr("data-original-title",window.Server.App.Localization.Copysuccess).tooltip("fixTitle").tooltip("show"),setTimeout(function(){e.attr("data-original-title",window.Server.App.Localization.LinkCopy),e.tooltip()},3e3))});var list,parentUrl,containSaveFilter=!1,queryStringStatus=!0,clearStatus=!1,isDeleteViewClicked=!1,saveFilterName="",currentQueryString="",updateInitialQueryStringParameter="",categoryId="",categoryName="",itemName="",view="",viewIds="",parentRefUrl=window.location!=window.parent.location?document.referrer:document.location.href.replace(document.location.pathname+document.location.search,""),iframeRefUrl=(parentUrl=""==parentRefUrl?"":parentRefUrl.match(/:\/\/(.[^/]+)/)[1],window.location.href),iframeUrl=iframeRefUrl.match(/:\/\/(.[^/]+)/)[1],currentItemObject="",isRemoveAsDefaultDialogBinded=!1,isDeleteViewDialogBinded=!1,filtered_Values=($(document).ready(function(){var e=$("#viewShare_popup").height(),e=($("#sharepopup_wrapper_WaitingPopup .loader-icon").css("top",parseInt(parseInt(e)/2)-30),(isMultiTab?(t=createLoader("multi-tab-content"),$("#multi-tab-content")):(t=createLoader("dashboard"),$("#dashboard"))).BoldBIDashboardWaitingPopup({template:$("#"+t)}),createLoader("dashboard-view-toogle")),t=($("#dashboard-view-toogle").BoldBIDashboardWaitingPopup({template:$("#"+e)}),$("#messageBox").BoldBIDashboardDialog({width:460<window.innerWidth?"450px":window.innerWidth-10,height:"200px",showOnInit:!1,allowDraggable:!0,enableResize:!1,showHeader:!1,enableModal:!0,close:"onMessageDialogClose"}),createLoader("delete-div_wrapper")),e=($("#delete-div_wrapper").BoldBIDashboardWaitingPopup({template:$("#"+t)}),$("#save-view-popup").BoldBIDashboardDialog({width:"600px",height:"209px",showOnInit:!1,allowDraggable:!0,enableResize:!1,title:window.Server.App.Localization.SaveView,enableModal:!0,showHeader:!1,cssClass:"server-dialog"}),createLoader("save-view-popup_wrapper"));$("#save-view-popup_wrapper").BoldBIDashboardWaitingPopup({template:$("#"+e)}),$("#dashboard-view-toogle").mouseover(function(){var e=document.getElementById("dashboard-views"),t=$("#dashboard-view-toogle");null!=e&&"block"!=e.style.display&&""!=e.style.display?(t.addClass("cursor-pointer"),t.removeClass("cursor-default")):(t.addClass("cursor-default"),t.removeClass("cursor-pointer"))}),$("#filter_name").keypress(function(e){$("#filter-name-input").removeClass("has-error"),13==e.which&&$("#save-filter").click()}),$('[data-toggle="tooltip"]').tooltip(),document.addEventListener&&(document.addEventListener("webkitfullscreenchange",fullscreenExitHandler,!1),document.addEventListener("mozfullscreenchange",fullscreenExitHandler,!1),document.addEventListener("fullscreenchange",fullscreenExitHandler,!1),document.addEventListener("MSFullscreenChange",fullscreenExitHandler,!1)),isMultiTab||intializeGetShareLink(),"false"!=$("#is_mobile").val()&&isMultiTab||("undefined"!=typeof isSlideshow&&(isSlideshow||isUsageAnalytics)||filterView(),resetViewPanel()),isOptionsBundleLoaded=!0,isViewNotFound&&(warningToast(window.Server.App.Localization.ViewNotFound,null,(new Date).getTime(),null),window.top.history.replaceState({},document.title,removeURLParameter(window.location.href,"viewid"))),(isCommentNotFound||isInvalidComment)&&(warningToast(window.Server.App.Localization.CommentNotFound,null,(new Date).getTime(),null),window.top.history.replaceState({},document.title,removeURLParameter(window.location.href,"comment")))}),$(document).on("click","#close-container,#close-filter,#close-comment",function(e){var t;"true"==$("#is_mobile").val()?$("#server-mobile-navbar .su-nav-dashboard").addClass("active"):(null==(t=document.getElementById("dashboard-views"))||"block"!=t.style.display&&""!=t.style.display||"su-view"==e.target.className.toLowerCase()||"options"==e.target.className.toLowerCase()||"views"==e.target.id.toLowerCase()?"dashboard-view-toogle"==e.target.id&&(containSaveFilter&&$("#saved-filter").show(),$("#dashboard").toggleClass("dashboard"),$(".view-heading").toggle(),$("#dashboard-views").toggle(),$("#dashboard-view-toogle").addClass("cursor-default").removeClass("cursor-pointer").toggleClass("dashboard-view-toogle"),refreshScroller()):(((t=$(e.target)).parents().andSelf().is("#dashboard-view-toogle")||t.parents().andSelf().is("#PopupContainerDelete")||t.parents().andSelf().is("#messageBox"))&&!t.parents().andSelf().is("#close-container")||CloseDashboardView(),$("#dashboard-view").removeClass("highlight-icon")),$("#commentModuleContainer").hasClass("displayNone")||"comments"==e.target.id.toLowerCase()||e.target.classList.contains("su-with-comment")||e.target.classList.contains("su-without-comment")||"options"==e.target.className.toLowerCase()||isMultiTab||("true"==enableComment?closeDashboardComment():$("#close-filter a").css("display","none"),setDashboardWidth(),$("#dashboard").data("BoldBIDashboardDesigner").resizeDashboard()),$('[data-toggle="tooltip"]').tooltip())}),$(document).on("mouseenter",".border-division,.border-division-last",function(){$(this).children(".unsaved-opt").css("display","block")}).on("mouseleave",".border-division,.border-division-last",function(){$(this).children(".unsaved-opt").css("display","none")}),""),dashboardviewerObj=null;function CloseDashboardView(){var e;0!=$("#dashboard").length?(containSaveFilter&&$("#saved-filter").show(),$("#dashboard").toggleClass("dashboard"),$(".view-heading").toggle(),$("#dashboard-views").toggle(),$("#dashboard-view-toogle").toggleClass("dashboard-view-toogle"),$("#dashboard-view-toogle #close-container a").css("display","none"),"false"==$("#is_mobile").val()&&(setDashboardWidth(),$("#dashboard").data("BoldBIDashboardDesigner").resizeDashboard())):isMultiTab&&0!=$("#"+$(".e-content .e-active").attr("data-designer-id")).length?(containSaveFilter&&$("#saved-filter").show(),$("#saved-list .saved-list-content-div").remove(),$("#"+$(".e-content .e-active").attr("data-designer-id")).toggleClass("dashboard"),$(".view-heading").toggle(),$("#dashboard-views").toggle(),$("#dashboard-view-toogle").toggleClass("dashboard-view-toogle"),$("#dashboard-view-toogle #close-container a").css("display","none"),"false"==$("#is_mobile").val()&&(setDashboardWidth(),void 0!==(dashboardviewerObj=getDashboardInstance()))&&dashboardviewerObj.resizeDashboard()):(e=$("#dashboard_render_iframe"),containSaveFilter&&e.contents().find("#saved-filter").show(),e.contents().find("#dashboard").toggleClass("dashboard"),e.contents().find(".view-heading").toggle(),e.contents().find("#dashboard-views").toggle(),e.contents().find("#dashboard-view-toogle").toggleClass("dashboard-view-toogle"),e.contents().find("#dashboard-view-toogle #close-container a").css("display","none"))}function filterView(){var e=getcurrentfilters();""!=e&&null!=e&&null!=e.masterData&&0<e.masterData.length?(SavedViewHeight(),null!=viewId&&""!=viewId||"none"==$("#saved-filter-Saveas").css("display")&&"none"==$("#saved-filter-update").css("display")&&($("#new-save").show(),"true"==enableComment.toString().toLowerCase()&&($("#new-save").removeClass("pointer-events"),$("#new-save").css("opacity",1)),$("#nofilters").css("display","none"))):($("#new-save").addClass("pointer-events"),$("#new-save").css("opacity",.5),$("#nofilters").css("display","block")),unsavedFilters(),GetSavedFilter(),refreshScroller()}function GetSavedFilter(e){var t=getDashboardInstance(),t=(item_Id=t.model.itemId,userName="undefined"!=typeof userName?userName:name,userId="undefined"!=typeof userId?userId:id,pageurl="undefined"!=typeof pageurl?isMultiTab?multiTabUrl:pageurl:viewUrl,{itemId:item_Id,userId:userId,userName:userName,isMultiDashboard:isMultiTab,parentDashboardId:""!=multiTabId?multiTabId:null,itemType:dashboardItemDetail.ItemType});ajaxPostCall("POST",getSavedViewUrl,t,null,getViewsResult,errorViewResult,null)}function GetscheduleFilter(t,i){isEmbedCode?(view=i,ajaxPostCall("POST",userSchedulePermissionUrl,{},null,getSchedule,null,null),viewIds=t.model.filterOverviewSettings.viewId):$.ajax({type:"POST",url:resourceLimitationCountUrl,data:{itemType:ItemType.Schedule},success:function(e){e?warningToast(window.Server.App.Localization.ResourceLimitExceed.format(window.Server.App.Localization.ScheduleLimited,window.Server.App.Localization.ScheduleLimited)):(view=i,ajaxPostCall("POST",userSchedulePermissionUrl,{},null,getSchedule,null,null),viewIds=t.model.filterOverviewSettings.viewId)}})}function getSchedule(e){e=e.CanCreateSchedule;saveView(view,e,viewIds)}function errorViewResult(){resetViewPanel(),SavedViewHeight(),refreshScroller(),"undefined"!=typeof dashboardViewPanelObj&&""!=dashboardViewPanelObj&&dashboardViewPanelObj.BoldBIDashboardWaitingPopup("hide")}function getViewsResult(e){e.IsItemOwner;var t,i=isMultiTab?dashboardItemDetail.Name:"",a=(categoryId=dashboardItemDetail.CategoryId,categoryName=dashboardItemDetail.CategoryName,itemName=dashboardItemDetail.Name,(0<$("#saved-filter").length?$("#saved-filter"):parent.$("#saved-filter")).html(""),'<div id="saved-list" style="display: block"><div class="saved-list-content-div" style="float: left">');if(0<(t=(embedConfig.IsEmbedCode?e.ResponseContent:jQuery.parseJSON(e.Result)).ResponseContent).length){containSaveFilter=!0,(0<$("#saved-filter").length?$("#saved-filter"):parent.$("#saved-filter")).show();for(var s=0;s<t.length;s++){var n=t[s].ViewId,o=(t[s].ViewName,"");""==userName?o='<div class="saved-opt"><span class="dropdown viewoptions"></span>':embedConfig.IsEmbedDashboard||(o=t[s].IsDefault?'<div class="saved-opt"><span class="dropdown viewoptions"><span class="dropdown-toggle" title="Actions" data-placement="top" data-toggle="dropdown"><span class="opt" viewid="'+n+'" itemId="'+item_Id+'" viewname="'+t[s].ViewName+'"><span  viewid = "'+n+'" itemId="'+item_Id+'" viewname="'+t[s].ViewName+'" class ="set-default su su-remove-default cursor-pointer" data-original-title="'+window.Server.App.Localization.RemoveAsDefaultView+'" data-toggle="dropdown" data-placement="top" title=""></span></span></span><ul class="dropdown-menu"><li class="remove-default cursor-pointer option-click"><span>'+window.Server.App.Localization.RemoveAsDefaultTitle+" </span></li></ul></span>":'<div class="saved-opt"><span class="dropdown viewoptions"><span class="dropdown-toggle" title="Actions" data-placement="top" data-toggle="dropdown"><span class="opt" viewid="'+n+'" itemId="'+item_Id+'" viewname="'+t[s].ViewName+'"><span  viewid = "'+n+'" itemId="'+item_Id+'" viewname="'+t[s].ViewName+'" class ="set-default su su-set-default cursor-pointer" data-original-title="'+window.Server.App.Localization.MarkAsDefault+'" data-toggle="dropdown" data-placement="top" title=""></span></span></span><ul class="dropdown-menu"><li class="mark-default cursor-pointer option-click"><span>'+window.Server.App.Localization.SetAsDefaultTitle+"</span></li></ul></span>"),canHideCommentIcon&&t[s].CanDelete&&!embedConfig.IsEmbedCode&&!isMultiTab?o+='<span class="opt" viewid="'+n+'" itemId="'+item_Id+'" viewname="'+t[s].ViewName+'"><span viewid="'+n+'" itemId="'+item_Id+'" viewname="'+t[s].ViewName+'"  class = "delete su su-delete cursor-pointer" data-toggle="tooltip" data-original-title="'+window.Server.App.Localization.Delete+'" ></span></span><span class="opt" viewid="'+n+'" itemId="'+item_Id+'" viewname="'+t[s].ViewName+'"><span  viewid="'+n+'" itemId="'+item_Id+'" viewname="'+t[s].ViewName+'" class ="su su-link View-link-copy cursor-pointer" data-original-title="'+window.Server.App.Localization.LinkCopy+'" data-toggle="tooltip" data-placement="top" title=""></span></span></div>':t[s].CanDelete&&t[s].CanShare&&!embedConfig.IsEmbedCode&&!isMultiTab?o+='<span class="opt" viewid="'+n+'" itemId="'+item_Id+'" viewname="'+t[s].ViewName+'"><span viewid="'+n+'" itemId="'+item_Id+'" viewname="'+t[s].ViewName+'"  class = "delete su su-delete cursor-pointer" data-toggle="tooltip" data-original-title="'+window.Server.App.Localization.Delete+'" ></span></span><span class="opt" viewid="'+n+'" itemId="'+item_Id+'" viewname="'+t[s].ViewName+'"><span  viewid="'+n+'" itemId="'+item_Id+'" viewname="'+t[s].ViewName+'" class = "share su su-share  cursor-pointer" data-toggle="tooltip" data-original-title="'+window.Server.App.Localization.Share+'"></span></span><span class="opt" viewid="'+n+'" itemId="'+item_Id+'" viewname="'+t[s].ViewName+'"><span  viewid="'+n+'" itemId="'+item_Id+'" viewname="'+t[s].ViewName+'" class ="su su-link View-link-copy cursor-pointer" data-original-title="'+window.Server.App.Localization.LinkCopy+'" data-toggle="tooltip" data-placement="top" title=""></span></span></div>':t[s].CanDelete?o+='<span class="opt" viewid="'+n+'" itemId="'+item_Id+'" viewname="'+t[s].ViewName+'"><span viewid="'+n+'" itemId="'+item_Id+'" viewname="'+t[s].ViewName+'"  class = "delete su su-delete cursor-pointer" data-toggle="tooltip" data-original-title="'+window.Server.App.Localization.Delete+'" ></span></span><span class="opt" viewid="'+n+'" itemId="'+item_Id+'" viewname="'+t[s].ViewName+'"><span  viewid="'+n+'" itemId="'+item_Id+'" viewname="'+t[s].ViewName+'" class = "su su-link View-link-copy cursor-pointer" data-original-title="'+window.Server.App.Localization.LinkCopy+'" data-toggle="tooltip" data-placement="top" title=""></span></span></div>':t[s].CanShare&&!embedConfig.IsEmbedCode?o+='<span class="opt" viewid="'+n+'" itemId="'+item_Id+'" viewname="'+t[s].ViewName+'"><span  viewid="'+n+'" itemId="'+item_Id+'" viewname="'+t[s].ViewName+'" class = "share su su-share  cursor-pointer" data-toggle="tooltip" data-original-title="'+window.Server.App.Localization.Share+'"></span></span><span class="opt" viewid="'+n+'" itemId="'+item_Id+'" viewname="'+t[s].ViewName+'"><span  viewid="'+n+'" itemId="'+item_Id+'" viewname="'+t[s].ViewName+'" class = "su su-link View-link-copy cursor-pointer" data-original-title="'+window.Server.App.Localization.LinkCopy+'" data-toggle="tooltip" data-placement="top" title=""></span></span></div>':o+='<span class="opt" viewid="'+n+'" itemId="'+item_Id+'" viewname="'+t[s].ViewName+'"><span  viewid="'+n+'" itemId="'+item_Id+'" viewname="'+t[s].ViewName+'" class = "su su-link View-link-copy cursor-pointer" data-original-title="'+window.Server.App.Localization.LinkCopy+'" data-toggle="tooltip" data-placement="top" title=""></span></span></div>',-1<pageurl.indexOf("/embed/")?pageurl=pageurl.replace("/embed/","/"):pageurl,""!=i?t[s].IsDefault?a+='<li class="saved-view" viewid="'+n+'">'+o+'<label class="saved-filter txt-overflow" viewid="'+n+'" itemId="'+item_Id+'"><a class="view-link txt-overflow saved-filter-anchor"  href="'+pageurl+"?viewid="+n+"&tab="+i+'&showmydashboards=1" data-url="'+pageurl+"?viewid="+n+"&tab="+i+'&showmydashboards=1" target="_blank" data-toggle="tooltip" data-original-title="'+t[s].ViewName+'">'+t[s].ViewName+'</a><a class="view-default">('+window.Server.App.Localization.Default+")</a ></label ></li > ":a+='<li class="saved-view" viewid="'+n+'">'+o+'<label class="saved-filter txt-overflow" viewid="'+n+'" itemId="'+item_Id+'"><a class="view-link txt-overflow saved-filter-anchor"  href="'+pageurl+"?viewid="+n+"&tab="+i+'&showmydashboards=1" data-url="'+pageurl+"?viewid="+n+"&tab="+i+'&showmydashboards=1" target="_blank" data-toggle="tooltip" data-original-title="'+t[s].ViewName+'">'+t[s].ViewName+"</a></label></li>":t[s].IsDefault?a+='<li class="saved-view" viewid="'+n+'">'+o+'<label class="saved-filter txt-overflow" viewid="'+n+'" itemId="'+item_Id+'"><a class="view-link txt-overflow saved-filter-anchor"  href="'+pageurl+"?viewid="+n+'&showmydashboards=1" data-url="'+pageurl+"?viewid="+n+'&showmydashboards=1" target="_blank" data-toggle="tooltip" data-original-title="'+t[s].ViewName+'">'+t[s].ViewName+'</a><a class="view-default">('+window.Server.App.Localization.Default+")</a></label></li>":a+='<li class="saved-view" viewid="'+n+'">'+o+'<label class="saved-filter txt-overflow" viewid="'+n+'" itemId="'+item_Id+'"><a class="view-link txt-overflow saved-filter-anchor"  href="'+pageurl+"?viewid="+n+'&showmydashboards=1" data-url="'+pageurl+"?viewid="+n+'&showmydashboards=1" target="_blank" data-toggle="tooltip" data-original-title="'+t[s].ViewName+'">'+t[s].ViewName+"</a></label></li>"}if((0<$("#saved-filter").length?$("#saved-filter"):parent.$("#saved-filter")).append(a+"</div></div>"),0==$("#saved-filter").length)for(var r=parent.$(".view-link").attr("data-url"),s=0;s<r.length;s++)parent.$(".view-link").eq(s).attr("href",parent.$(".view-link").eq(s).attr("data-url"));else for(r=$(".view-link").attr("data-url"),s=0;s<r.length;s++)$(".view-link").eq(s).attr("href",$(".view-link").eq(s).attr("data-url"));$(".dropdown-toggle").dropdown(),0<$("#dashboard-view-toogle").length?0==$("#dashboard-view-toogle").find("#saved-list").length?$("#dashboard-view-toogle").find("#no-filters").css("display","block"):$("#dashboard-view-toogle").find("#no-filters").css("display","none"):0==parent.$("#dashboard-view-toogle").find("#saved-list").length?parent.$("#dashboard-view-toogle").find("#no-filters").css("display","block"):parent.$("#dashboard-view-toogle").find("#no-filters").css("display","none"),/Safari/.test(navigator.userAgent)&&/Apple Computer/.test(navigator.vendor)&&($(".View-link-copy").removeClass("su su-link"),$(".View-link-copy").attr("data-original-title","")),(0<$("#dashboard-view-toogle").length?$("#dashboard-view-toogle"):parent.$("#dashboard-view-toogle")).show(),$('[data-toggle="tooltip"]').tooltip()}else containSaveFilter=!1,(0<$("#saved-filter").length?$("#saved-filter"):parent.$("#saved-filter")).hide(),dashboardviewerObj=getDashboardInstance();embedConfig.IsEmbedCode&&$(".su-link").hide(),refreshScroller(),"undefined"!=typeof dashboardViewPanelObj&&""!=dashboardViewPanelObj&&dashboardViewPanelObj.BoldBIDashboardWaitingPopup("hide")}$(document).on("click","#clear",function(){(dashboardviewerObj=getDashboardInstance()).refresh()}),$("#popup-container").BoldBIDashboardDialog({allowDraggable:!1,enableResize:!1,enableModal:!0,showHeader:!1,showOnInit:!1,close:"onSchedulerDialogClose",width:"1000px"});var popupContainerWaitingPopupTemplateId=createLoader("popup-container_wrapper");function onSchedulerDialogClose(){$("#popup-container").find("iframe").contents().find("html").html("")}function onDeleteItemDialogOpen(e){getDashboardInstance().closeAllWindows();var t,i,a=(ejdashboard||ejs).popups,e=(document.getElementById("delete-div").style.display="block",'<span class="dialog-header-with-subtitle"><span class ="dialog-header-title">'+window.Server.App.Localization.DeleteView+'</span><span class="item-name">'+e+"</span></span>");isDeleteViewDialogBinded?((i=document.getElementById("view-delete-dialog").ej2_instances)[0].header=e,i[0].show()):((t=document.createElement("div")).setAttribute("id","view-delete-dialog"),(isMultiTab?document.getElementById("multi-tab-dashboard"):document.getElementById("dashboard")).appendChild(t),(i=new a.Dialog({showOnInit:!1,allowDraggable:!1,enableResize:!1,width:460<window.innerWidth?"450px":window.innerWidth-10,height:"auto",showHeader:!1,animationSettings:{effect:"Zoom"},isModal:!0,enableModal:!0,closeOnEscape:!0,header:e,showCloseIcon:!0,content:document.getElementById("delete-div"),buttons:[{click:function(e){deleteItem()},buttonModel:{cssClass:"app-btn-danger",content:window.Server.App.Localization.YesButton}},{click:function(){i.hide()},buttonModel:{cssClass:"app-btn-secondary",content:window.Server.App.Localization.NoButton}}]})).appendTo(t),isDeleteViewDialogBinded=!0),a.createSpinner({target:document.getElementById("view-delete-dialog")}),a.setSpinner({type:"Material"}),$("#delete-msg").show(),$("#delete-div").focus()}function resetViewPanel(){"undefined"!=typeof isSlideshow&&isSlideshow||"undefined"!=typeof embedConfig&&void 0!==embedConfig.IsEmbedDashboard||($("#save-lable-section label").html(""),$("#entire-label-section label").html(window.Server.App.Localization.UnsavedView),$("#new-save").css("display","block"),$("#saved-filter-update").css("display","none"),$("#saved-filter-Saveas").css("display","none"),$("#saved-filter").html(""),$("#no-filters").css("display","block"),unsavedFilters())}function deleteItem(){var e,t;isDeleteViewClicked||(isDeleteViewClicked=!0,e=(ejdashboard||ejs).popups,"block"!=(t=document.getElementById("dashboard-views")).style.display&&""!=t.style.display||e.showSpinner(document.getElementById("view-delete-dialog")),t={itemViewName:$("#filter_name").val(),itemId:item_Id,itemViewId:$("#delete_item").attr("viewid"),userId:userId,userName:userName,isMultiDashboard:isMultiTab,parentDashboardId:isMultiTab?multiTabId:null,itemType:dashboardItemDetail.ItemType},ajaxPostCall("POST",deleteViewUrl,t,null,deleteViewResult,deleteViewErrorResult,null))}function deleteViewResult(e){var t=(ejdashboard||ejs).popups;document.getElementById("view-delete-dialog").ej2_instances[0].hide(),t.hideSpinner(document.getElementById("view-delete-dialog")),(embedConfig.IsEmbedCode?e:e.Result).Status?(t=$("#delete_item").attr("viewId"),isDeleteViewClicked=!1,successToast(window.Server.App.Localization.DeleteViewSuccess,7e3),t!=(e=getDashboardInstance()).model.filterOverviewSettings.viewId||embedConfig.IsEmbedCode||isMultiTab||(window.location.href=window.location.href.replace(window.location.search,"")+"?showmydashboards=1"),GetSavedFilter(e),t==e.model.filterOverviewSettings.viewId&&(e.clearAllFilters(),e._updateFilterOverview(window.Server.App.Localization.UnsavedView,""),e.model.filterOverviewSettings.viewName=null,e.model.filterOverviewSettings.viewId=null,e.filterOverviewObj.enableSaveIcon=!0,e.filterOverviewObj.enableSaveAsIcon=!1)):(isDeleteViewClicked=!1,warningToast(window.Server.App.Localization.InternalServerError))}function deleteViewErrorResult(){(ejdashboard||ejs).popups.hideSpinner(document.getElementById("view-delete-dialog")),warningToast(window.Server.App.Localization.InternalServerError)}function getViewsLink(e){var t=baseUrl.split("/");return encodeURI(t[0]+"//"+t[2]+e)}function SavedViewHeight(){var e,t,i,a,s;if("none"!=$("#saved-list").css("display"))return s=$("#header-pane"),e=$("#entire-label-section"),t=$("#unsaved-filter"),i=$("#unsaved-filter-title"),a=$("#nofilters"),s=$(window).height()-s.outerHeight()-e.outerHeight()-("none"!=a.css("display")?a.outerHeight():0)-("none"!=t.css("display")?t.outerHeight():0)-("none"!=i.css("display")?i.outerHeight():0),$("#saved-list").css("height",s),s}function getFnObj(e){return"function"==typeof e||"string"==typeof e&&window[e]?e:void 0}function refreshScroller(){var e,t,i,a,s;"undefined"!=typeof isSlideshow&&isSlideshow||"undefined"!=typeof embedConfig&&void 0!==embedConfig.IsEmbedDashboard&&embedConfig.IsEmbedDashboard||(e=i="",$("#unsaved-filter-parameter").children().length&&(i=230<=$("#unsaved-filter-parameter").height()?230:$("#unsaved-filter-parameter").height()+20,$("#unsaved-filter").BoldBIDashboardScroller({height:i,width:500,scrollerSize:7,buttonSize:0,enableTouchScroll:!1}),(t=$("#unsaved-filter").BoldBIDashboardScroller("instance")).model.height=i,t.refresh(),$("#unsaved-filter .e-vhandle").length)&&"none"!=(a=$("#unsaved-filter .e-vhandle")).css("display")&&(s=a.height()+29,a.css("height",s)),e=SavedViewHeight()-10,$("#saved-list").length?($("#saved-list").BoldBIDashboardScroller({height:e,width:500,scrollerSize:9,buttonSize:0,enableTouchScroll:iframeUrl==parentUrl?"false"!=(sameOrigin,$("#is_mobile").val()):"false"!=$("#is_mobile").val()}),(i=$("#saved-list").BoldBIDashboardScroller("instance")).model.height=e,i.refresh(),$("#saved-filter .e-vhandle").length&&"none"!=(a=$("#saved-filter .e-vhandle")).css("display")&&(s=a.height()+29,a.css("height",s))):iframeUrl==parentUrl&&(sameOrigin,$("#saved-list").BoldBIDashboardScroller({height:e,width:500,scrollerSize:9,buttonSize:0,enableTouchScroll:"false"!=$("#is_mobile").val()}),sameOrigin,$("#saved-filter .e-vhandle").length)&&(sameOrigin,"none"!=(a=$("#saved-filter .e-vhandle")).css("display"))&&(s=a.height()+29,a.css("height",s)))}function getcurrentfilters(){var e,t=getDashboardInstance();return(isMultiTab?t:(e=$("#dashboard"),iframeUrl==parentUrl?0<(sameOrigin?parent.$("#dashboard"):e).length&&sameOrigin?parent.$("#dashboard").data("BoldBIDashboardDesigner"):t:(e.length,t))).getCurrentFilters()}function clearAllFilters(){var e=$("#dashboard").data("BoldBIDashboardDesigner");null!=viewId&&""!=viewId||clearStatus?(e.model.filterParameters=initialQueryString,e.redrawDashboard()):$("#dashboard-view-toogle").BoldBIDashboardWaitingPopup("hide")}function getWidgetTitle(e){return $("#dashboard").data("BoldBIDashboardDesigner").getWidgetTitle(e)}function clearWidgetFilter(e,t){$("#dashboard").data("BoldBIDashboardDesigner").clearWidgetFilter(e,t)}function onFilterOverviewUpdated(e){unsavedFilters(e),$('[data-toggle="tooltip"]').tooltip(),refreshScroller()}function unsavedFilters(e){var t,i=getcurrentfilters(),a=(""!=i&&"undefined"!=i&&null!=i&&""!=e&&"undefined"!=e&&null!=e&&(e=e.currentFilterData,updateInitialQueryStringParameter=e,queryStringStatus)&&(queryStringStatus=!1,initialQueryString=i.encryptedData,initialQueryStringParameter=JSON.stringify(e)),$("#unsaved-filter-parameter").html(""),"");if(""!=i&&"undefined"!=i&&null!=i&&null!=i.masterData&&0<i.masterData.length){if(0<(t=i.masterData).length){$("#unsaved-filter-parameter").show();for(var s=0;s<t.length;s++){var n,o="",r="",l=(d=getWidgetTitle(n=t[s].Control)).title,d=d.type,u=t[s].Data;if(s!=t.length-1?a+='<div class="cursor-default border-division"><div class="unsaved-opt"style="float: right;"><span class="opt"><span class="su su-close clear-filter cursor-pointer" data-toggle="tooltip" data-placement="left" data-original-title="'+window.Server.App.Localization.ClearFilter+'" widgetId ="'+n+'"widgetType ="'+d+'" style="float:right"></span></span></div><label class="cursor-default txt-overflow unsaved-filter-head">'+l+"</label>":a+='<div class="cursor-default border-division-last"><div class="unsaved-opt"style="float: right;"><span class="opt"><span class="su su-close clear-filter cursor-pointer" data-toggle="tooltip" data-placement="left" data-original-title="'+window.Server.App.Localization.ClearFilter+'" widgetId ="'+n+'"widgetType ="'+d+'" style="float:right"></span></span></div><label class="cursor-default txt-overflow unsaved-filter-head">'+l+"</label>",u.length)for(var c=0;c<u.length;c++)o=o+u[c]+",",r=r+u[c]+"<br>";a=a+('<div id="sub-item"><label class="cursor-default txt-overflow unsavedfilter-font-content" rel="tooltip" data-placement="left" data-original-title="'+r+'">'+(o=o.slice(0,-1))+"</label></div>")+'<br style="clear: both"></div>'}$("#unsaved-filter,#unsaved-filter-title").css("display","block"),$("#unsaved-filter-parameter").append(a),refreshScroller(),"true"==enableComment.toString().toLowerCase()?$("#new-save,#saved-filter-update,#saved-filter-Saveas,#save-filter,#filter_name").removeClass("pointer-events").css("opacity",1):$("#new-save,#saved-filter-update,#saved-filter-Saveas,#save-filter,#filter_name").addClass("pointer-events").css("opacity",.5),$("#nofilters").css("display","none"),$("[rel=tooltip]").tooltip({html:!0})}}else $("#new-save,#saved-filter-update,#saved-filter-Saveas,#save-filter,#filter_name").addClass("pointer-events").css("opacity",.5),$("#nofilters").css("display","block"),$("#unsaved-filter,#unsaved-filter-title").css("display","none")}function setDashboardWidth(){isMultiTab?($(".e-content.e-lib.e-touch").css("width",$(window).width()),$(".e-content.e-lib.e-touch").css("height",$(window).height()-40)):$("#dashboard").css("width",$(window).width()+"px")}function saveFilter(e){currentQueryString=e.data.encryptedData;var t=e.model.itemId,i="",i=isMultiTab?$("#multi-tab-content"):$("#dashboard");currentItemObject=getDashboardInstance(),null==e.viewId||""==e.viewId||e.viewId==emptyGuid?($("#save-view-popup").BoldBIDashboardDialog("open"),$("#save-view-popup_wrapper").BoldBIDashboardWaitingPopup("show"),$("#save-view-popup-iframe").attr("src",saveViewPopup+"?itemId="+t+"&isMultidashboardId="+isMultiTab+"&parentId="+multiTabId+"&userId="+userId+"&userName="+userName+"&viewer=v2")):(i.BoldBIDashboardWaitingPopup("show"),i={itemId:t,queryString:currentQueryString,itemViewId:e.viewId,userId:userId,userName:userName,isMultiDashboard:isMultiTab,parentDashboardId:isMultiTab?multiTabId:null,itemType:dashboardItemDetail.ItemType},ajaxPostCall("POST",updateViewUrl,i,null,saveUpdateView,errorSaveUpdateView,null),GetSavedFilter(e),refreshScroller())}function saveUpdateView(e){var t;(embedConfig.IsEmbedCode?e:e.Result).Status?(t="",t=isMultiTab?$("#multi-tab-content"):$("#dashboard"),e=getDashboardInstance(),initialQueryStringParameter=JSON.stringify(updateInitialQueryStringParameter),e.model.filterParameters=currentQueryString,t.BoldBIDashboardWaitingPopup("hide"),embedConfig.IsEmbedDashboard||embedConfig.IsEmbedCode?successToast(window.Server.App.Localization.UpdateViewSuccess,1e4):parent.successToast(window.Server.App.Localization.UpdateViewSuccess,1e4)):($("#save-section").hide(),t.BoldBIDashboardWaitingPopup("hide"),parent.warningToast(window.Server.App.Localization.InternalServerError))}function errorSaveUpdateView(){(isMultiTab?$("#multi-tab-content"):$("#dashboard")).BoldBIDashboardWaitingPopup("hide"),messageBox("su-filter",window.Server.App.Localization.UpdateView,window.Server.App.Localization.InternalServerError,"success",function(){onCloseMessageBox()})}function saveAsFilter(e){currentQueryString=e.data.encryptedData;e=e.model.itemId;currentItemObject=getDashboardInstance(),$("#save-view-popup").BoldBIDashboardDialog("open"),$("#save-view-popup_wrapper").BoldBIDashboardWaitingPopup("show"),$("#save-view-popup-iframe").attr("src",saveViewPopup+"?itemId="+e+"&isMultidashboardId="+isMultiTab+"&parentId="+multiTabId+"&userId="+userId+"&userName="+name+"&viewer=v2")}function openViewSection(){$("#dashboard-view").trigger("click")}function switchFullscreenMode(){var e=getDashboardInstance();document.fullscreenElement||document.mozFullScreenElement||document.webkitFullscreenElement||document.msFullscreenElement?(void 0!==e&&(e.model.filterOverviewSettings.showViewSavedFilterIcon=!0),document.exitFullscreen?document.exitFullscreen():document.msExitFullscreen?document.msExitFullscreen():document.mozCancelFullScreen?document.mozCancelFullScreen():document.webkitExitFullscreen&&document.webkitExitFullscreen()):(void 0!==e&&(e.model.filterOverviewSettings.showViewSavedFilterIcon=!1),document.documentElement.requestFullscreen?(document.documentElement.requestFullscreen(),isMultiTab&&setTimeout(function(){$("#multi-tab-dashboard").find(".e-tab-header").attr("style","display: none")},500)):document.documentElement.msRequestFullscreen?document.documentElement.msRequestFullscreen():document.documentElement.mozRequestFullScreen?document.documentElement.mozRequestFullScreen():document.documentElement.webkitRequestFullscreen?document.documentElement.webkitRequestFullscreen(Element.ALLOW_KEYBOARD_INPUT):"ActiveXObject"in window&&(new ActiveXObject("Wscript.shell").SendKeys("{F11}"),setTimeout(function(){(screen.availHeight||screen.height-30)<=window.innerHeight?($("body").addClass("hide-dashboard-icons"),$("#dashboard-fullscreen").removeClass("su-maximize-1").addClass("su-minimize").attr("data-tooltip",window.Server.App.Localization.ExitFullscreen)):($("body").removeClass("hide-dashboard-icons"),$("#dashboard-fullscreen").addClass("su-maximize-1").removeClass("su-minimize").attr("data-tooltip",window.Server.App.Localization.Fullscreen)),setTimeout(function(){(isNullOrWhitespace(embedConfig.HideHeaderTools)?"":embedConfig.HideHeaderTools.split(",")).includes("rf")&&(isMultiTab?($(".e-content.e-lib.e-touch").find(".e-active").find("#dashboard-refresh").removeAttr("style"),$(".e-content.e-lib.e-touch").find(".e-active").find("#dashboard-refresh")):($("#dashboard-refresh").removeAttr("style"),$("#dashboard-refresh"))).attr("style","font-size: 14px; display: none !important")},400)},400)))}function fullscreenExitHandler(){var e=$(".e-content .e-active").attr("data-designer-id"),e=isMultiTab?"#"+e+" #dashboard-fullscreen":"#dashboard-fullscreen";document.webkitIsFullScreen||document.mozFullScreen||document.msFullscreenElement?($("body").addClass("hide-dashboard-icons"),$(e).removeClass("su-maximize-1").addClass("su-minimize").attr("data-tooltip",window.Server.App.Localization.ExitFullscreen)):($("body").removeClass("hide-dashboard-icons"),$(e).addClass("su-maximize-1").removeClass("su-minimize").attr("data-tooltip",window.Server.App.Localization.Fullscreen)),setTimeout(function(){(isNullOrWhitespace(embedConfig.HideHeaderTools)?"":embedConfig.HideHeaderTools.split(",")).includes("rf")&&(isMultiTab?($(".e-content.e-lib.e-touch").find(".e-active").find("#dashboard-refresh").removeAttr("style"),$(".e-content.e-lib.e-touch").find(".e-active").find("#dashboard-refresh")):($("#dashboard-refresh").removeAttr("style"),$("#dashboard-refresh"))).attr("style","font-size: 14px; display: none !important")},400),getDashboardInstance().resizeDashboard()}function PreloadResources(a,s){setTimeout(function(){for(var e=-1!=navigator.userAgent.indexOf("Safari")&&-1==navigator.userAgent.indexOf("Chrome")||-1!=navigator.userAgent.indexOf("Edge"),t=0;t<a.length;t++){var i=document.createElement("link");i.href=a[t],i.rel=e?"preload":"prefetch",i.as=s,document.head.appendChild(i)}})}function ShareView(e){var t=$(window).width(),i=$(window).height(),a=$("#viewShare_popup").width(),s=$("#viewShare_popup").height(),t=(parseInt(t)-parseInt(a))/2,a=(parseInt(i)-parseInt(s))/2;a<0&&(a=0),$("#viewShare_popup").css({left:t,top:a}),$("#viewShare_popup,.ViewShare_popup_shadow").css("display","block"),$("#sharepopup_wrapper_WaitingPopup").css("display","block"),$("#viewShare_popup_iframe").attr("src",itemViewShareIframeUrl+"?itemId="+e.viewId)}function onCloseMessageBox(){$("#messageBox").BoldBIDashboardDialog("close")}function onMessageDialogClose(){$("#messageBox").find(".message-content").text(""),$(".message-box-btn-holder").html(""),$(".message-box-close").html(""),$("#messageBox_wrapper").removeClass("remove-default-view")}function messageBox(e,t,i,a,s,n,o,r,l,d){$("#messageBox").find(".message-content").text(""),t===window.Server.App.Localization.DeleteComment&&$("#messageBox_wrapper").addClass("delete-comment"),t===window.Server.App.Localization.RemoveAsDefaultView&&$("#messageBox_wrapper").addClass("remove-default-view"),t===window.Server.App.Localization.SetAsDefaultView&&$("#messageBox_wrapper").addClass("set-default-view server-dialog"),$(".message-box-btn-holder").html(""),$(".message-box-close").html(""),$("#messageBox").find(".message-header").html("<span class='su "+e+"'></span> <span class='modal-title' data-toggle='tooltip' data-placement='bottom' data-container='body' title='"+t+"'  >"+t+"</h2>"),$("#messageBox").find(".message-content").html(i),"error"==a?(null!=s&&(c=$("<input type='button' class='delete-save-confirmation app-button app-critical-action-button app-btn-danger pull-right' value='"+window.Server.App.Localization.YesButton+"'></input>")).bind("click",$.proxy(getFnObj(s),window)),null!=n?((u=$("<input type='button' class='delete-cancel-confirmation app-button app-secondary-button app-btn-secondary pull-right' value='"+window.Server.App.Localization.NoButton+"'></input>")).bind("click",$.proxy(getFnObj(n),window)),(h=$('<span class="su su-close"></span>')).bind("click",$.proxy(getFnObj(n),window))):(u=$("<input type='button' class='delete-cancel-confirmation app-button app-secondary-button app-btn-secondary pull-right' value='"+window.Server.App.Localization.NoButton+"'></input>"),h=$('<span class="su su-close"></span>'),u.click(function(){onCloseMessageBox()}),h.click(function(){onCloseMessageBox()})),$(".message-box-close").html(h),$(".message-box-btn-holder").append(u,c),$("#messageBox").unbind("keydown")):(null!=s?((c=$("<input type='button' class='app-button app-secondary-button app-btn-secondary' value='"+window.Server.App.Localization.OKButton+"'></input>")).bind("click",$.proxy(getFnObj(s),window)),(h=$('<span class="su su-close"></span>')).bind("click",$.proxy(getFnObj(s),window))):(c=$("<input type='button' class='app-button app-secondary-button app-btn-secondary' value='"+window.Server.App.Localization.OKButton+"'></input>"),h=$('<span class="su su-close"></span>'),c.click(function(){onCloseMessageBox()}),h.click(function(){onCloseMessageBox()})),$(".message-box-close").html(h),$(".message-box-btn-holder").append(c),$("#messageBox").on("keydown",function(e){switch(e.keyCode){case 13:case 27:c.click()}})),$('[data-toggle="tooltip"]').tooltip(),$("#messageBox").BoldBIDashboardDialog("open"),$("#messageBox").focus();var u,c,h,p=$("#messageBox").data("BoldBIDashboardDialog"),e=(setTimeout(function(){null!=o&&p.option("width",o),1040<window.innerWidth&&null==r&&(r=$("#messageBox").find(".modal-content").height()+135+"px"),p.option("height",r),null!=l&&p.option("maxHeight",l)},50),null!=d&&p.option("cssClass",d),$(".message-header").outerHeight(!0)+$(".message-content.text-center").outerHeight(!0)+$(".message-box-btn-holder").outerHeight(!0)+5);$("#messageBox").height(e+"px"),$("#messageBox_wrapper .e-dialog-scroller.e-scroller.e-js.e-widget").height($("#messageBox").outerHeight(!0)+"px")}function beforeSendSaveView(e){var t=parent.$("#dashboard").data("BoldBIDashboardDesigner");e.setRequestHeader("BoldBIDashboardAuthenticationToken",t._authenticationToken)}function removeAsDefault(e){var t=document.getElementById("remove-defaultview-dialog").ej2_instances,i=e.attr("viewid"),e=e.attr("itemid");$.ajax({url:updateDefaultValueUrl,data:{viewId:i,defaultValue:!1,itemId:e,userId:userId},type:"POST",success:function(e){$(".server-dashboard-view").BoldBIDashboardWaitingPopup("hide"),t[0].hide(),"true"==e.toString().toLowerCase()?(hasDefaultView=!1,successToast(window.Server.App.Localization.RemoveAsDefaultViewSuccess,7e3),GetSavedFilter(),refreshScroller()):warningToast(window.Server.App.Localization.SetAsDefaultViewError)}})}function removeURLParameter(e,t){var i=e.split("?");if(2<=i.length){for(var a=encodeURIComponent(t)+"=",s=i[1].split(/[&;]/g),n=s.length;0<n--;)-1!==s[n].lastIndexOf(a,0)&&s.splice(n,1);return i[0]+(0<s.length?"?"+s.join("&"):"")}return e}$("#popup-container_wrapper").BoldBIDashboardWaitingPopup({template:$("#"+popupContainerWaitingPopupTemplateId)}),$(document).on("click",".view",function(){var e=$(this).attr("viewid");isMultiTab?window.open(multiTabUrl+"?viewid="+e,"_blank"):window.open(window.location.pathname+"?viewid="+e,"_blank")}),$(document).on("click",".share",function(){var e=$(this).attr("viewid");$("#dashboard-view-toogle").css("z-index","999"),$.ajax({type:"POST",url:itemViewShareIframeUrl,data:{itemViewId:e,itemId:item_Id},success:function(e){null!=e.itemViewDetail&&null!=e.itemDetail&&shareDashboardPermission(e.itemViewDetail,e.itemDetail)}})}),$(document).on("click","#save-as-view",function(){$("#view-name").hide(),$("#filter_name").val(""),$("#save-lable-section").hide(),$("#save-section").show()}),$(document).on("click",".clear",function(){$("#dashboard-view-toogle").BoldBIDashboardWaitingPopup("show"),$("#filter_name").val(""),clearAllFilters(),$("#view-name").show(),$("#save-section").hide(),$("#unsaved-filter,#unsaved-filter-title").show(),$("#save-lable-section").show()}),$(document).on("click","#clear-txt",function(){$("#filter_name").val(""),$("#save-lable-section").show(),$("#save-section").hide()}),$(document).on("click",".clear-filter",function(e){clearWidgetFilter(e.target.attributes.widgetid.value,e.target.attributes.widgettype.value);e=getcurrentfilters();""!=e&&"undefined"!=e&&null!=e&&null!=e.masterData||($("#filter_name").val(""),$("#save-lable-section").show(),$("#save-section").hide())}),$(document).on("click",".delete",function(e){var t=$(this).attr("viewid"),i=$(this).attr("viewname");onDeleteItemDialogOpen(i),$("#delete_item").attr("viewid",t),$("#delete_item_name").html(i),$("#delete-content").show(),$("#delete-error").hide()}),$(document).on("click","#save-view",function(){$("#save-section").show(),$("#save-lable-section").hide(),$("#filter_name").val(""),$("#filter_name").focus()}),$(document).on("click",".View-link-copy",function(e){var t;BoldBIDashboard.browserInfo();$(e.target).parents().closest("li").length&&(e=$(e.target).parents().closest("li")).find(".view-link").length&&((t=document.createElement("textarea")).id="copyTextArea",t.innerText=getViewsLink(e.find(".view-link").attr("href")),document.querySelector("body").appendChild(t),document.getElementById("copyTextArea").select(),/Safari/.test(navigator.userAgent)&&/Apple Computer/.test(navigator.vendor)?($(this).removeClass("su su-link"),$(this).attr("data-original-title","")):(document.execCommand("copy"),$(this).attr("data-original-title",window.Server.App.Localization.Copysuccess).tooltip("show"),setTimeout(function(){$(".View-link-copy").attr("data-original-title",window.Server.App.Localization.LinkCopy),$(".View-link-copy").tooltip()},3e3)),document.querySelector("body").removeChild(t))}),$(document).on("click",".saved-view",function(e){var n;"saved-view"!=e.target.className&&"saved-opt"!=e.target.className&&"saved-filter txt-overflow"!=e.target.className||(n=$(this),0==$(n).find(".applied-filters").length&&(e=$(this).attr("viewid").trim(),0<$(".saved-list-content-div").find(".applied-filters").length&&$(".applied-filters").remove(),$(".saved-view").removeClass("opened-view-section"),$(".saved-list-content-div").find(".saved-view").css("background-color","initial").css("border-top","0"),$(n).append($("<span class='col-sm-4 no-padding loader-gif' style='display:inline; background-image:url("+dashboardServerResourceUrl+"/cdn/images/waitingpopup.gif); background-size:cover; position:absolute; height:25px; width:25px;'></span>")),$.ajax({url:getViewParameterUrl,data:{itemId:item_Id,UserId:userId,UserName:userName,IsMultiDashboard:isMultiTab,ViewId:e,parentDashboardId:multiTabId},type:"POST",success:function(e){var t="",t="false"!==isUserAuthenticated||embedConfig.IsEmbedCode||embedConfig.IsEmbedDashboard?JSON.parse(e.viewDetails):e.viewDetails,e=getDashboardInstance();if(e){var i=e._parseParameterQuery(t.QueryString);if(null!=i&&0<i.length){(embedConfig.IsEmbedDashboard||embedConfig.IsEmbedCode)&&(e.clearAllFilters(),e.model.filterOverviewSettings.viewName=t.ViewName,e.model.filterOverviewSettings.viewId=t.ViewId,e.model.filterParameters=t.QueryString,t.CanEdit&&embedConfig.IsEmbedCode&&embedConfig.CanSaveView?e.model.filterOverviewSettings.showSaveIcon=!0:e.model.filterOverviewSettings.showSaveIcon=!1,e.redrawDashboard());for(var a=0;a<i.length;a++){list="<div class='applied-filters'><label class='list-items'>"+i[a].ColumnName+"</label><br />";for(var s=0;s<i[a].Data.length;s++)list+="<label class='list-items'>"+i[a].Data[s]+"</label><br />";list+="</div>",0==n.find(".applied-filters").length?n.append(list):$(".applied-filters").last().after(list)}}}$(n).addClass("opened-view-section"),$("span.loader-gif").remove()}})))}),$(document).on("click",".view-link",function(e){(embedConfig.IsEmbedDashboard||embedConfig.IsEmbedCode)&&(e.preventDefault(),$(this).parent().parent().click())}),$(document).on("keydown","#view-name",function(e){13==e.keyCode&&(e.preventDefault(),$("#save-button").trigger("click"))}),function(u){u.fn.swipeDetector=function(i){var a=0,s=0,n=0,o=0,r=0,t=this;function e(e){i.useOnlyTouch&&!e.originalEvent.touches||(e.originalEvent.touches&&(e=e.originalEvent.touches[0]),0===a&&(a=1,s=e.clientX,n=e.clientY))}function l(e){2===a&&(a=0,Math.abs(o)>Math.abs(r)&&Math.abs(o)>i.swipeThreshold?o<0?t.trigger(u.Event("swipeLeft.sd")):t.trigger(u.Event("swipeRight.sd")):Math.abs(r)>i.swipeThreshold&&(r<0?t.trigger(u.Event("swipeUp.sd")):t.trigger(u.Event("swipeDown.sd"))))}function d(e){var t;1===a&&(t=(e=e.originalEvent.touches?e.originalEvent.touches[0]:e).clientX-s,e=e.clientY-n,Math.abs(t)>i.swipeThreshold||Math.abs(e)>i.swipeThreshold)&&(a=2,o=t,r=e)}return i=u.extend({swipeThreshold:70,useOnlyTouch:!1},i),t.on("mousedown touchstart",e),u("html").on("mouseup touchend",l),u("html").on("mousemove touchmove",d),t}}(jQuery),"undefined"!=typeof isSlideshow&&isSlideshow&&$("#dashboard").swipeDetector().on("swipeLeft.sd swipeRight.sd swipeUp.sd swipeDown.sd",function(e){e=new CustomEvent("onSwipeDetected",{detail:e});window.parent.document.dispatchEvent(e)}),$(document).on("click",".mark-default",function(e){var t=$(this).parent().parent().parent().find("span .opt"),i=t.attr("viewid"),a=t.attr("itemid"),t=t.attr("viewname"),s="<br><strong style='float:left;padding-top:15px;width:100%' class='note'>"+window.Server.App.Localization.Note+"</strong><div>"+window.Server.App.Localization.DefaultView+"</div>";$(".server-dashboard-view").BoldBIDashboardWaitingPopup("show"),isDefaultView?hasDefaultView?($(".server-dashboard-view").BoldBIDashboardWaitingPopup("hide"),messageBox("su-set-default",window.Server.App.Localization.SetAsDefaultView,window.Server.App.Localization.SetAsDefaultConfirmation.format("<span style='color: #0565ff;font-style: italic'>"+t+"</span>")+s,"error",function(){$(".server-dashboard-view").BoldBIDashboardWaitingPopup("show"),$.ajax({url:updateDefaultValueUrl,data:{viewId:i,defaultValue:!0,itemId:a,userId:userId},type:"POST",success:function(e){"true"==e.toString().toLowerCase()?(onCloseMessageBox(),$(".server-dashboard-view").BoldBIDashboardWaitingPopup("hide"),$(".mark-default").text(window.Server.App.Localization.RemoveAsDefaultTitle),successToast(window.Server.App.Localization.SetAsDefaultViewSuccess,7e3),GetSavedFilter(),refreshScroller(),window.location.href=window.location.href):warningToast(window.Server.App.Localization.SetAsDefaultViewError)}}),$(".server-dashboard-view").BoldBIDashboardWaitingPopup("hide")}),GetSavedFilter(),refreshScroller()):hasDefaultView||$.ajax({url:updateDefaultValueUrl,data:{viewId:i,defaultValue:!0,itemId:a,userId:userId},type:"POST",success:function(e){onCloseMessageBox(),$(".server-dashboard-view").BoldBIDashboardWaitingPopup("hide"),"true"==e.toString().toLowerCase()?(hasDefaultView=!0,$(".mark-default").text(window.Server.App.Localization.RemoveAsDefaultTitle),successToast(window.Server.App.Localization.SetAsDefaultViewSuccess,7e3),GetSavedFilter(),refreshScroller(),window.location.href=window.location.href):warningToast(window.Server.App.Localization.SetAsDefaultViewError)}}):isAdmin?($(".server-dashboard-view").BoldBIDashboardWaitingPopup("hide"),t=window.Server.App.Localization.DashboardDisable.format("<a href='"+dashboardSettingsUrl+"' target='_blank' >","</a>"),messageBox("su-set-default",window.Server.App.Localization.SetAsDefaultView,t,"success",function(){onCloseMessageBox()})):($(".server-dashboard-view").BoldBIDashboardWaitingPopup("hide"),messageBox("su-set-default",window.Server.App.Localization.SetAsDefaultView,window.Server.App.Localization.EnableDefaultView,"success",function(){onCloseMessageBox()}))}),$(document).on("click","#mark-as-default-confirmed",function(){$(".server-dashboard-view").BoldBIDashboardWaitingPopup("show"),$.ajax({url:updateDefaultValueUrl,data:{viewId:viewId,defaultValue:!0,itemId:itemId},type:"POST",success:function(e){"true"==e.toString().toLowerCase()?(onCloseMessageBox(),isDefaultView=!0,$(".server-dashboard-view").BoldBIDashboardWaitingPopup("hide"),$(".mark-default").text(window.Server.App.Localization.RemoveAsDefaultTitle),SuccessAlert(window.Server.App.Localization.SetAsDefaultView,window.Server.App.Localization.SetAsDefaultViewSuccess,5e3),GetSavedFilter(),refreshScroller()):WarningAlert(window.Server.App.Localization.SetAsDefaultView,window.Server.App.Localization.SetAsDefaultViewError,5e3)}})}),$(document).on("click",".remove-default",function(e){var t,i,a=$(this).parent().parent().parent().find("span .opt"),s=a.attr("viewname"),n=(ejdashboard||ejs).popups,o='<span class="dialog-header-with-icon"><span class ="dialog-header-title"><i class="su su-remove-default dialog-header-icon"></i>&nbsp;&nbsp;'+window.Server.App.Localization.RemoveAsDefaultView+"</span></span>";isRemoveAsDefaultDialogBinded?((i=document.getElementById("remove-defaultview-dialog").ej2_instances)[0].header=o,i[0].show()):((t=document.createElement("div")).setAttribute("id","remove-defaultview-dialog"),(isMultiTab?document.getElementById("multi-tab-dashboard"):document.getElementById("dashboard")).appendChild(t),(i=new n.Dialog({showOnInit:!1,allowDraggable:!1,enableResize:!1,width:460<window.innerWidth?"450px":window.innerWidth-10,height:"auto",showHeader:!1,animationSettings:{effect:"Zoom"},isModal:!0,enableModal:!0,closeOnEscape:!0,header:o,showCloseIcon:!0,content:window.Server.App.Localization.RemoveAsDefaultConfirmation.format("<span style='font-style: italic' class='view-name'>"+s+"</span>")+"<br><strong style='float:left; padding-top:15px; width: 100%' class='note'>"+window.Server.App.Localization.Note+"</strong><span> "+window.Server.App.Localization.RemoveAsDefaultMessage+"</span>",buttons:[{click:function(e){removeAsDefault(a)},buttonModel:{cssClass:"app-btn-danger",content:window.Server.App.Localization.YesButton}},{click:function(){i.hide()},buttonModel:{cssClass:"app-btn-secondary",content:window.Server.App.Localization.NoButton}}]})).appendTo(t),isRemoveAsDefaultDialogBinded=!0),n.createSpinner({target:document.getElementById("remove-defaultview-dialog")}),n.setSpinner({type:"Material"})}),serverApp.controller("ItemInfoCtrl",["$scope","$timeout",function(s,n){s.ItemDetail=null,s.closeItemInfo=function(){"undefined"!=typeof BoldBIDashboard?$("#item-info-popup").BoldBIDashboardDialog("close"):$("#item-info-popup").ejDialog("close")},s.getWidgetEmbedCode="undefined"!=typeof getWidgetEmbedCode&&getWidgetEmbedCode,s.openInfoDialog=function(e,t,i){var a=$("<div/>").html(e.Description).text();s.ItemDetail=e,s.showDashboardLinkButton=t,s.isUsageAnalytics=i,"undefined"!=typeof BoldBIDashboard?($("#item-info-popup").BoldBIDashboardDialog({width:480<window.innerWidth?"480px":window.innerWidth-10+"px",height:"auto",showOnInit:!1,allowDraggable:!1,enableResize:!1,showHeader:!1,enableModal:!0,cssClass:"server-dialog"}),$("#item-info-popup").BoldBIDashboardDialog("open"),$("#item-info-popup").BoldBIDashboardDialog("refresh")):($("#item-info-popup").ejDialog({width:480<window.innerWidth?"480px":window.innerWidth-10+"px",height:"auto",showOnInit:!1,allowDraggable:!1,enableResize:!1,showHeader:!1,enableModal:!0}),$("#item-info-popup").ejDialog("open"),$("#item-info-popup").ejDialog("refresh")),n(function(){s.$apply()},100),$(".item-info-description").text(a)},s.viewDashboardUrl=function(e,t,i,a){return!0===a?encodeURI(editDashboardUrl+"/"+e+"/draft/"+i):encodeURI(viewDashboardUrlAction+"/"+e+"/"+t+"/"+i+"?showmydashboards=1")},s.GetInfoButtonText=function(e){return!0===e?window.Server.App.Localization.EditDashboard:window.Server.App.Localization.OpenDashboard},s.openUploadDashboardDialog=function(e){s.closeItemInfo();var t=[];t.push(e),onUploadDialogOpen(t)}}]),"undefined"!=typeof angularManualBootstrap&&angularManualBootstrap&&angular.element(document).ready(function(){angular.bootstrap(document,["serverApp"])});