/*!
*  filename: bbi-data-alert.min.js
*  version : unknown version
*  Copyright Syncfusion Inc. 2001 - 2013. All rights reserved.
*  Use of this code is subject to the terms of our license.
*  A copy of the current license can be obtained at any time by e-mailing
*  licensing@syncfusion.com. Any infringement will be prosecuted under
*  applicable laws. 
*/
var Environment,AutoRefreshMode,HelpDocumentLinkInfo,FilterType,DashboardMode,GridUrlType,LinkEnableMode,ViewerEvent,ViewerEventType,ParameterSupportedTypes,BoldBIDashboardDesigner,CopyType,ControlType,CommandAction,InternalDataSet,PanelList,InternalParameter,BasicUserBasedFilter,AdvancedUserBasedFilter,AdvancedFilterMode,IdentityType,FiscalYearValue,SecondaryPoPType,FieldContainerType,FieldType,ColorColumnType,InitialFilterType,DateTimeFormat,DateBucketDateTimeFormat,DateTimeFormatForFilter,TextAlignment,BarRange,BarDirectoin,DataValueFormat,NegativeValueFormats,NumberFormat,RankType,FilterRange,NumberFilterOption,SortingOrder,TextFilterOption,OperatorType,FilterColumnAction,PreviewFeatureName,ActivityLogEvents,ActivityLogItemType,ActivityLogItemSubTypes,KpiInformation,KpiColumnInfo,IndicationType,DisplayType,KpiCalculationType,InitialDimensionFilterCondition,InitialMeasureFilterCondition,InitialDateFilterCondition,InitialDateFilterType,LinkVisibility,DateInstance,ParameterDateInstance,RelativeDateFormat,ParameterRelativeDateFormat,DynamicParameterDataType,ParameterMode,ParameterReturnType,SelectionType,DateRange,BasicUserFilterMode,BasicUserFilterBasedOn,NoDataImageType,ImageType,CMeasureConditionType,CDimensionConditionType,Format,ColorFieldsInfo,ColorSetColorPickers,InternalReportUtil,AlertType,IconType,DialogType,shortenEnum,lengthenEnum,ValueAliasPair,UrlLinkingWidgetInfo,WidgetAction,InternalDashboardParser,CommandMode,BoldBIDashboardQueryDesigner,Join,Operator,DataTypes,ColumnActions,helpDocumentLink,WidgetHeaderFontSizeFactor,ListGridAction,FetchType,ParamInfo,ParameterViewerAction,ActionInfo,DatesettingsValue,MeasureCondition,Visibility,AjaxRequest,InternalDataCache,InternalDataAlertPanel,InternalDataAlertExpressions,InternalDateRangePopup,DateFormatOption,TileType,LegendAlignment,LabelIntersectAction,UrlLink,ColumnUrl,LinkType,UrlLinkType,WidgetLink,LinkedWidgetList,WidgetLinkType,DimensionConditionType,ConditionalFormatType,MeasureFormatType,ColorType,PoPProperties,RangeSliderProperties,RangeSliderType,RangeSliderOrientation,ListBoxProperties,GaugeSettings,GaugeTypes,RangeValueType,GaugeRangeSettings,GaugeDirection,ValuePointers,TargetPointers,TicksPosition,ValueLabelPosition,ScaleLabelPosition,RangeWidth,LabelType,PrimaryValueType,SparkLineSettings,SparkLineType,RadarPolarType,ChartColumnSettinng,ValueLabelRotations,ValueLabelPlacement,EmptyPointMode,LegendPositions,ChartSeriesShape,LegendTextOverFlow,ColorMappingType,LegendShape,SortSetting,ChartTypes,LabelOverFlowMode,DataLabel,CustomLegendType,ImageProperties,PaddingSettings,ImageMode,DataSource,ImgSource,ImageRotations,LinkProperties,LinkSetting,WidgetType,DefaultFormatType,ValueType,InternalFilterConfiguration,InternalMasterSlaveFilterSerializationHelper,InternalLabelParameter,InternalCacheManager,__extends,BoldBIDashboard,InternalQueryExpression,ExpAction,InternalExpressionParsor;String.prototype.replaceAll=function(n,t){for(var i=this,r=1,u=this.split(n).length-r;u>0;)i=i.replace(n,t),u-=r;return i};__extends=this&&this.__extends||function(){var n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,t){n.__proto__=t}||function(n,t){for(var i in t)t.hasOwnProperty(i)&&(n[i]=t[i])};return function(t,i){function r(){this.constructor=t}n(t,i);t.prototype=i===null?Object.create(i):(r.prototype=i.prototype,new r)}}(),function(n){var t;(function(n){var t,i;(function(n){n[n.design="design"]="design";n[n.readonly="readonly"]="readonly";n[n.datasource="datasource"]="datasource";n[n.connection="connection"]="connection";n[n.view="view"]="view";n[n.designpreview="design-preview"]="designpreview";n[n.datapreview="data-preview"]="datapreview";n[n.mergedatasource="merge-datasource"]="mergedatasource";n[n.dataalert="data-alert"]="dataalert"})(t=n.mode||(n.mode={})),function(n){n[n.light="light"]="light";n[n.dark="dark"]="dark";n[n.off="off"]="off"}(i=n.theme||(n.theme={}))})(t=n.Designer||(n.Designer={}))}(BoldBIDashboard||(BoldBIDashboard={})),function(n){n[n.cloud=0]="cloud";n[n.onpremise=1]="onpremise"}(Environment||(Environment={})),function(n){n[n.Hourly=0]="Hourly"}(AutoRefreshMode||(AutoRefreshMode={}));HelpDocumentLinkInfo=function(){function n(){}return n}(),function(n){n[n.String=0]="String";n[n.Date=1]="Date";n[n.Number=2]="Number"}(FilterType||(FilterType={})),function(n){n[n.Local=0]="Local";n[n.Server=1]="Server"}(DashboardMode||(DashboardMode={})),function(n){n[n.Row=0]="Row";n[n.Column=1]="Column"}(GridUrlType||(GridUrlType={})),function(n){n[n.Row=0]="Row";n[n.Column=1]="Column";n[n.Both=2]="Both"}(LinkEnableMode||(LinkEnableMode={})),function(n){n.actionBegin="actionBegin";n.actionComplete="actionComplete";n.beforeDesignerToolbarButtonsRendered="beforeDesignerToolbarButtonsRendered"}(ViewerEvent||(ViewerEvent={})),function(n){n.renderLayout="renderLayout";n.renderDashboard="renderDashboard";n.renderWidget="renderWidget";n.resizeDashboard="resizeDashboard";n.exportDialogOpen="exportDialogOpen";n.exportDialogClose="exportDialogClose";n.maximizeDialogOpen="maximizeDialogOpen";n.maximizeDialogClose="maximizeDialogClose";n.filterOverViewOpen="filterOverViewOpen";n.filterOverViewClose="filterOverViewClose";n.clearFilter="clearFilter";n.layoutRendered="layoutRendered";n.dashboardRendered="dashboardRendered";n.viewDataDialogOpen="viewDataDialogOpen";n.viewDataDialogClose="viewDataDialogClose";n.informationOpen="informationOpen";n.informationClose="informationClose";n.getLinkDialogOpen="getLinkDialogOpen";n.getLinkDialogClose="getLinkDialogClose";n.exporting="exporting";n.exportCompleted="exportCompleted";n.clearAllFilter="clearAllFilter";n.clearIndividualFilter="clearIndividualFilter";n.interactionCompleted="interactionCompleted"}(ViewerEventType||(ViewerEventType={}));ParameterSupportedTypes=function(){function n(){this.isSupportText=!0;this.isSupportNumeric=!0;this.isSupportDate=!0;this.isSupportBool=!0}return n}();BoldBIDashboardDesigner=function(n){function t(i,r){var u=n.call(this)||this;return u.rootCss="bbi-designer",u.setFirst=!1,u.tooltipTimer=null,u._modules=null,u.pluginName="BoldBIDashboardDesigner",u.jQueryValue=function(){var n=$;return window.bb$!==undefined&&(n=window.bb$),t.bbdesignerstatic$=n,n},u.bbdesigner$=u.jQueryValue(),u._id=u.bbdesigner$(u.element).attr("id"),u.id=null,u.model=null,u.defaults={serviceUrl:null,dashboardPath:null,dashboardName:null,dashboardDescription:null,serviceAuthorizationToken:"",toolbarSettings:{items:32767,showToolbar:!0,templateId:null},assignDataSettings:{enableFieldContainerInfo:!0},dataServiceUrl:null,enableTheme:!0,theme:"Light",itemId:null,widgetId:null,mode:BoldBIDashboard.Designer.mode.design,datasource:null,reportOpened:null,reportSaved:null,reportModified:null,toolbarRendering:null,toolbarClick:null,openReportClick:null,saveReportClick:null,ajaxBeforeLoad:null,ajaxSuccess:null,ajaxError:null,queryDesignerRendered:null,actionComplete:null,beforeNavigateToDashboard:null,isDraft:!1,IsEmbed:!1,IsProxy:!1,isHideHeader:!1,isPinWidget:!1,isAllowUserToCreateDatasource:!0,localeSettings:{culture:"en-US",dateFormat:"M/d/yyyy",timeFormat:"HH:mm"},_favoriteSettings:{enabled:!1,isFavorite:!1},_onFavoriteStateChange:null,beforeBannerIconRender:null,afterEvaluateDataAlert:null,beforeOtherOptionContextMenuRender:null,beforeDesignerToolbarButtonsRendered:null,onBannerIconClick:null,enableFilterOverview:!0,filterOverviewSettings:{viewName:null,viewId:null,showSaveIcon:!1,showSaveAsIcon:!1,showViewSavedFilterIcon:!1},_onSaveFilter:null,_onSaveAsFilter:null,_onViewSavedFilters:null,filterParameters:null,showGetLinkIcon:!1,dashboardFromData:{loadFromData:!1,layoutData:null,widgetData:null,isExportImage:!1,isExportPdf:!1,isControl:!1,isWidgetSpecific:!1,reportName:null,showAppliedFilters:!0,filterInfo:[],customWidgetData:null,exportParameters:null,isScheduling:!1},beforeWidgetIconRendered:null,beforeNavigateUrlLinking:null,onWidgetIconClick:null,enableAutoRefresh:!1,autoRefreshSettings:null,clientSideCacheSettings:{timer:5,enable:!0},"export":{Image:!0,Pdf:!0,Excel:!0},widgets:[{id:"",filters:{type:FilterType.String,values:[]}}],dashboardExport:{Image:!0,Pdf:!0,Excel:!0},dashboardExportMenuSettings:{showPDF:!0,showImage:!0,showExcel:!0},widgetExportMenuSettings:{showPDF:!0,showImage:!0,showExcel:!0,showCSV:!0},userSettings:{hidePreviewAs:!1},intermediateDbStatus:!0,connectionList:"",environment:"cloud",schedule:{endPoint:"",summaryText:""},dataPreviewId:null,enablePublicDashboardSetting:!0,predefinedWidgets:{dashboardId:"",categoryName:""},customBrandSettings:{hideHelpLink:!1,customDomain:"",customBrandName:""},widgetContainerSettings:{margin:null,boxShadow:null},designCanvasSettings:{margin:null},disableAutoRecover:!1,disableDashboardResize:!1,designerSettings:{widgetsPanel:{defaultPanelDisplayText:"",existingPanelDisplayText:"",hideDefaultWidgets:!1,hideExistingWidgets:!1,dragAndDropSettings:{rowSpan:null,columnSpan:null,isWidgetMode:!1},existingDashboards:[],defaultPanelSearchPlaceholder:"",existingPanelSearchPlaceholder:""},dataSourceConfig:{hideDataSourceConfig:!1}},viewDataSettings:{checkShowAllColumns:!1}},u.designerPanel=null,u.dashboardMode=DashboardMode.Server,u.exportPanel=null,u.maximize=null,u.itemPanel=null,u.dragDropHelper=null,u.rdlParser=null,u.isHeight=!1,u.isWidth=!1,u.isPercentWidth=-1,u.isPercentHeight=-1,u.dataConfigurationPanel=null,u.itemPanelWidth=240,u.dataPanelWidth=36,u.isOpenServerRpt=!1,u.isNewServerRpt=!1,u.isNewRpt=!1,u.resizeTO=null,u.lastConfigSize=null,u.loadFromCache=!1,u.revertInteractionList=[],u.scrollerSize={scrollSize:5,buttonSize:0},u.cacheManager=null,u.viewDataPanel=null,u.isItemDrag=!1,u.serverCategory=null,u.reportFileName="Untitled Dashboard",u.dashboardDescription="",u.zoomValue=1,u.copiedItem=null,u.authenticationToken=null,u.reportServerInfo=null,u.resizeObj={isDesigner:!0,isPreview:!0,isQueryDesigner:!0},u.filterOverviewObj={enableSaveIcon:!0,enableSaveAsIcon:!1,isModified:!1},u.refreshSetting=null,u.cacheSettings=null,u.autoRefreshTimer=null,u.isExecute=!1,u.previewFeaturesJson=null,u.colorCustomIconStore=[],u.clearmasterFilter=!1,u.initialFilterData=null,u.isOriginalView=!1,u.widgetCacheCollection=null,u.currentFilterData=[],u.isQueryDesignerMode=!1,u.rptToolbar=null,u.clearAllFilterClicked=!1,u.designCanvasSettings=null,u.i18nLocale=null,u.designerRequests=null,u.labelParamRegex=/{{:(.*?)}}/,u.paramRegex=/@{{:(.*?)}}/,i&&(i.jquery||(i=u.bbdesigner$("#"+i)),i.length&&(BoldBIDashboard.isNullOrUndefined(r)||(u.bbdesigner$(i).addClass("boldbi-dashboarddesigner"),u.bbdesigner$(i).BoldBIDashboardDesigner(r).data(u.pluginName)))),u}return __extends(t,n),Object.defineProperty(t.prototype,"modules",{get:function(){return BoldBIDashboard.isNullOrUndefined(this._modules)&&(this._modules=new BoldBIDashboard.Modules(this)),this._modules},enumerable:!0,configurable:!0}),t.prototype.ImportDataSource=function(n){if(n.ApiStatus){var i=this.bbdesigner$.parseJSON(n.Data),t=this.modules.dataSource;this.rdlParser.addDataSetToRdlJsonObj(i);this.rdlParser.rdlJsonObj.DataSources=this.rdlParser.rdlJsonObj.DataSources.concat(i.DataSources);t.isLoaded()?t.pouplateDataSources():t.updateDataSourceJSON();this.modules.dataSet.isLoaded()?this.modules.dataSet.pouplateDataSets():this.modules.dataSet.updateDataSetJSON()}else this.modules.util.alertDialog(this.i18nLocale.alertDialogTitle.dashboardDesigner,this.i18nLocale.errorMessage.dataFetchingError,IconType.errors,AlertType.Alert,!0,n.Message)},Object.defineProperty(t,"ServerDateTimeFormat",{get:function(){return"yyyy-MM-dd HH:mm:ss"},enumerable:!0,configurable:!0}),Object.defineProperty(t,"ServerDateFormat",{get:function(){return"yyyyMMdd"},enumerable:!0,configurable:!0}),Object.defineProperty(t,"DateFormat",{get:function(){return"M/d/yyyy"},enumerable:!0,configurable:!0}),Object.defineProperty(t,"StdDateTimeFormat",{get:function(){return"MM/dd/yyyy hh:mm:ss tt"},enumerable:!0,configurable:!0}),Object.defineProperty(t,"StdDateFormat",{get:function(){return"MM/dd/yyyy"},enumerable:!0,configurable:!0}),t.prototype.updateLoadData=function(){if(!BoldBIDashboard.isNullOrUndefined(this.model.dashboardFromData)&&this.model.dashboardFromData.loadFromData){var n=JSON.parse(this.model.dashboardFromData.layoutData),t=JSON.parse(this.model.dashboardFromData.widgetData);this.model.dashboardFromData.widgetData=t;this.model.dashboardFromData.layoutData=n}},t.prototype._init=function(){var u,t,i,f,r;if(this.updateLoadData(),this.updateServiceUrl(),this.setModes(),this.loadCultureScripts(),this.loadSettingsJsonFromCDN(),this.setCustomIdentity(this.model.customIdentity),this.i18nLocale=this.getLocalizationContent(),this.modules.util,u=!1,this.modules.themeHelper.currentTheme=this.modules.themeHelper.lightMode,this.model.localeSettings.timeZoneOffset=BoldBIDashboard.isNullOrUndefined(this.model.localeSettings.dynamicTimeZoneOffset)||this.model.localeSettings.dynamicTimeZoneOffset===""?(new Date).getTimezoneOffset().toString():this.model.localeSettings.dynamicTimeZoneOffset,this.isViewMode()&&(this.element&&this.element.length>0&&!this.element.hasClass("boldbi-dashboarddesigner")&&this.element.addClass("boldbi-dashboarddesigner"),this.isJsonString(this.model.theme)&&(this.modules.themeHelper.currentTheme=JSON.parse(this.model.theme),this.model.theme=this.modules.themeHelper.currentTheme.name,this.modules.themeHelper.themesCollection.push({key:this.modules.themeHelper.currentTheme.name,value:JSON.stringify(this.modules.themeHelper.currentTheme)}),this.applyThemeOnExport()),this.canApplyTheme()&&this.getDashbordThemesCollection()),!this.isDataPreviewMode()&&this.model.mode!==BoldBIDashboard.Designer.mode.mergedatasource&&this.model.mode!==BoldBIDashboard.Designer.mode.dataalert){if(this.createTooltipContainer(),this.initUnhandledExceptionHandler(),new BoldBIDashboard.DashboardDesignerUtility.Serialization(this),this.authenticationToken=this.getAuthenticationToken(this._id),!this.validateRequiredApis())return;if(this.designCanvasSettings=new DesignCanvasSettings,(this.isViewMode()||this.isDesignMode())&&(this.exportPanel=this.modules.exportPanel,this.viewDataPanel=this.modules.viewDataDialog),this.renderDesignerContainer(),this.isViewMode()&&(this.model.filterParameters=location.hash===""?BoldBIDashboard.isNullOrUndefined(this.model.filterParameters)?location.search.substr(1):this.model.filterParameters:BoldBIDashboard.isNullOrUndefined(this.model.filterParameters)?location.search.substr(1)+"#"+location.hash.substr(1):this.model.filterParameters,this.initializeFilterParameters(this.model.filterParameters),this.initializeMessageListener(),this.initialFilterData=this.currentFilterData),this.fetchCustomConnectors(),!this.element.hasClass("boldbi-embed-dbrd")&&this.model.IsEmbed&&this.element.addClass("boldbi-embed-dbrd"),this.modules.Mode.previewDashboard(),!BoldBIDashboard.isNullOrUndefined(this.model.dashboardFromData)&&this.model.dashboardFromData.loadFromData){var n=this.model.dashboardFromData.layoutData,e=this.model.dashboardFromData.widgetData,o=this.model.dashboardFromData.labelParameterData;if(!BoldBIDashboard.isNullOrUndefined(n)&&!BoldBIDashboard.isNullOrUndefined(e)){BoldBIDashboard.isNullOrUndefined(n.rdlJsonObj)||BoldBIDashboard.isNullOrUndefined(n.rdlJsonObj.WidgetData)||n.rdlJsonObj.WidgetData.length===0?(this.rdlParser=new BoldBIDashboard.DashboardDesignerUtility.DashboardParser(this),this.rdlParser.deserialize(n)):this.rdlParser=n;this.updateDashboardTitleandDescription();BoldBIDashboard.Dashboard.Resource.addImage(null,null,this.model.dashboardFromData.imageData);this.designerPanel.updateRowLengthForExport(this.rdlParser);this.paramCollection=this.model.dashboardFromData.paramData;this.modules.Mode.renderCellsForExport();this.model.mode!==BoldBIDashboard.Designer.mode.view||BoldBIDashboard.isNullOrUndefined(this.model.cdnPath)?(BoldBIDashboard.isNullOrUndefined(this.model.dashboardFromData.customWidgetData)||new BoldBIDashboard.DashboardDesignerUtility.CustomWidgetItem(this).loadCustomWidgets(this.model.dashboardFromData.customWidgetData),this.modules.dataConfiguration.moveDataToLiveWebAndRenderDesign(this.rdlParser)):this.modules.dataConfiguration.moveDataToLiveWebAndRenderView(this.rdlParser);this.widgetCacheCollection=this.modules.widgetCache;this.widgetCacheCollection=JSON.parse(e);this.loadFromCache=!0;this.renderFromWidgetData();t=this.model.dashboardFromData.isControl&&!BoldBIDashboard.isNullOrUndefined(this.model.dashboardFromData.filterInfo)?this.model.dashboardFromData.filterInfo:this.designerPanel.banner.filterConfiguration.getAllWidgetSelectedValues();t.length>0&&this.model.dashboardFromData.showAppliedFilters&&(i=this.designerPanel.banner.getAppliedFilter(this.modules.Mode.designPanelTag.height(),t),this.designerPanel.designPanel.prepend(i),f=this.designerPanel.designPanel.height()-i.height(),this.designerPanel.designPanel.height(f),this.designerPanel.updateDesignPanelSize(),this.designerPanel.updateItemsAfterSizeChange());this.modules.Mode.updateSizeForScrollExport();r=this.modules.labelParameter;r.labelWidgetsData=o.labelWidgetsData;r.bindLableParameterValues(o.LabelParameterData);this.modules.containerTypeWidgetHelper.updateContainerWidgetsOnRender();this.modules.Mode.resizeCombineWidgetForWidgetExport();return}}u||this.initializeDesigner();this.previewFeaturesJson=null;this.refreshSetting={enableClientCaching:!1,enableAutoRefresh:!1,isRefreshWidget:!1,interval:"00:00:30",isRefreshRowCount:!1,widgetCollection:[],removeLoader:!1};this.isExecute=!1}this.modules.Mode.postRender()},t.prototype.setModes=function(){switch(this.model.mode){case BoldBIDashboard.Designer.mode.design:this.modules.Mode=new BoldBIDashboard.DesignMode(this._id,this.element,this);break;case BoldBIDashboard.Designer.mode.view:this.modules.Mode=new BoldBIDashboard.ViewMode(this._id,this.element,this);break;case BoldBIDashboard.Designer.mode.connection:this.modules.Mode=new BoldBIDashboard.ConnectionMode(this._id,this.element,this);break;case BoldBIDashboard.Designer.mode.dataalert:this.modules.Mode=new BoldBIDashboard.DataAlertMode(this._id,this.element,this);break;case BoldBIDashboard.Designer.mode.datapreview:this.modules.Mode=new BoldBIDashboard.DataPreviewMode(this._id,this.element,this);break;case BoldBIDashboard.Designer.mode.datasource:this.modules.Mode=new BoldBIDashboard.DataSourceMode(this._id,this.element,this);break;case BoldBIDashboard.Designer.mode.mergedatasource:this.modules.Mode=new BoldBIDashboard.MergeDataSourceMode(this._id,this.element,this)}},t.prototype.isFetchCustomConnector=function(){return this.isDesignMode()||this.model.mode===BoldBIDashboard.Designer.mode.connection||this.model.mode===BoldBIDashboard.Designer.mode.datasource},t.prototype.fetchCustomConnectors=function(){this.isFetchCustomConnector()&&this.modules.util.doAjaxPost("POST",this.model.serviceUrl+BoldBIDashboard.Dashboard.ServiceAPI.loadCustomConnector,{action:BoldBIDashboard.DashboardUtil.DesignerAction.LoadCustomConnector},{fnction:this.bbdesigner$.proxy(this.updateCustomConnector,this),indicator:[this.bbdesigner$.proxy(this.showWaitingPopupConnectionMode,this),this.bbdesigner$.proxy(this.hideWaitingPopupConnectionMode,this)]},!0,!0)},t.prototype.updateCustomConnector=function(n){!n.Status||BoldBIDashboard.isNullOrUndefined(n.Data)||BoldBIDashboard.isNullOrUndefined(n.Data.CustomConnectors)||(this.model.customConnectors=JSON.parse(n.Data.CustomConnectors));this.registerCustomConnectors();this.renderConnecionModePanel()},t.prototype.registerCustomConnectors=function(){if(!BoldBIDashboard.isNullOrUndefined(this.model.customConnectors)&&this.model.customConnectors.length>0){var n=InternalWebDatasource.GetNewConnectors(this.model.customConnectors);BoldBIDashboard.DashboardDesignerUtility.DataSourceTypes.registerConnection(n)}},t.prototype.renderConnecionModePanel=function(){var n=this,t;this.model.mode===BoldBIDashboard.Designer.mode.connection&&this.element.find("#"+this._id+"_designerConfigurationPanel")!=null&&(t=this.element.find("#"+this._id+"_designerConfigurationPanel"),setTimeout(function(){var r=n.modules.connectionDialog,i;r.renderConnectionDialog(t);i=n.modules.dataSet;i.isLoaded()||n.modules.dataSet.renderContainer(r.contentWrap);i.switchPanel(PanelList.DataType)},!BoldBIDashboard.isNullOrUndefined(this.model.configuration)&&this.model.configuration.trim()!==""?300:200))},t.prototype.isJsonString=function(n){try{JSON.parse(n)}catch(t){return!1}return!0},t.prototype.triggerDashboardRenderedEventForViewer=function(n){var t,i,r,u;this.model.mode===BoldBIDashboard.Designer.mode.view&&(t=this.modules.dataConfiguration,this.modules.serialization.getWidgetJsonString().length>0?this.widgetHelper.getAllWidgets().length>0?(i=!0,r=6e4,BoldBIDashboard.isNullOrUndefined(n)||BoldBIDashboard.isNullOrUndefined(this.refreshSetting)||!this.refreshSetting.enableAutoRefresh||(r=n.getRefreshTimerFromHMSToSec(this.refreshSetting.interval)*1e3),u=setInterval(function(){i=t.triggerDashboardRenderEvent();i&&(t.dashboardRenderedTriggered(),clearTimeout(u),r=0)},2e3),setTimeout(function(){i||(t.dashboardRenderedTriggered(),clearTimeout(u))},r)):t.dashboardRenderedTriggered():t.dashboardRenderedTriggered())},t.prototype.renderQueryDesigner=function(n){if(n.ApiStatus){var r=this.modules.dataSource,i=this.modules.dataSet,t=this.bbdesigner$.parseJSON(n.Data);BoldBIDashboard.isNullOrUndefined(this.rdlParser)&&(this.rdlParser=new BoldBIDashboard.DashboardDesignerUtility.DashboardParser(this),this.rdlParser.newJsonReport());this.rdlParser.addDataSetToRdlJsonObj(t);this.rdlParser.rdlJsonObj.DataSources=this.rdlParser.rdlJsonObj.DataSources.concat(t.DataSources);this.rdlParser.rdlJsonObj.DataSets=this.rdlParser.rdlJsonObj.DataSets.concat(t.DataSets);r.pouplateDataSources();i.pouplateDataSets();i.datasourceSelection(this.rdlParser.rdlJsonObj.DataSources[0].Id,this.rdlParser.rdlJsonObj.DataSources[0])}else this.modules.util.alertDialog(this.i18nLocale.alertDialogTitle.dashboardDesigner,this.i18nLocale.errorMessage.dataFetchingError,IconType.errors,AlertType.Alert,!0,n.Message)},t.prototype._setModel=function(n){for(var t in n)switch(t){case"locale":this.setCultureInfo(n.locale);break;case"toolbarSettings":this.rptToolbar.updateToolbar();break;case"dashboardName":this.updateDashboardName();break;case"description":this.updateDescription();break;case"filterParameters":this.initializeFilterParameters(n.filterParameters);this.setFilterDataInWidget();this.updateDashboard()}},t.prototype.setFilterDataInWidget=function(){for(var t,i=this.modules.masterSlaveFilter.GetAllWidgetInstanceFromContainer(),n=0;n<i.length;n++)t=this.designerPanel.setcurrentFilterDataInWidget(i[n].getJson()),t||this.designerPanel.banner.toggleFilterOverview(!0)},t.prototype.loadReport=function(){this.newReportJSON();this.model.mode!==BoldBIDashboard.Designer.mode.view||(BoldBIDashboard.isNullOrUndefined(this.model.dashboardPath)||BoldBIDashboard.DashboardUtil.isEmptyString(this.model.dashboardPath))&&!this.model.IsProxy||BoldBIDashboard.isNullOrUndefined(this.model.serviceUrl)?this.model.mode!==BoldBIDashboard.Designer.mode.connection&&this.model.mode!==BoldBIDashboard.Designer.mode.datasource&&this.checkdraft():this.openReport()},t.prototype.initializeDesigner=function(){BoldBIDashboard.isNullOrUndefined(this.model.dashboardPath)||BoldBIDashboard.DashboardUtil.isEmptyString(this.model.dashboardPath)||BoldBIDashboard.isNullOrUndefined(this.model.itemId)||BoldBIDashboard.DashboardUtil.isEmptyString(this.model.itemId)||(this.publishedId=this.model.itemId);this.GetPreviewFeaturesJson()},t.prototype.initializeDesignerElement=function(){this.loadReport();this.wiredEvents();BoldBIDashboard.isNullOrUndefined(t.editManager)||t.editManager.updateToolbar();this.isDesignMode()&&this.rptToolbar.updateToolbar()},t.prototype.renderDesignerContainer=function(){var u,n,f,t;this.triggerViewerEvent(ViewerEvent.actionBegin,ViewerEventType.renderLayout);this.modules.isEmbed&&this.model.mode!==BoldBIDashboard.Designer.mode.view&&this._trigger(ViewerEvent.actionBegin,{eventType:ViewerEventType.renderLayout,source:{element:null,data:null}});var e=this.element.height(),r=this.element.width(),i=BoldBIDashboard.browserInfo();this.element[0].style.height||this.element[0].parentElement.clientHeight===0||(this.isHeight=!0);this.element[0].style.width||this.element[0].parentElement.clientWidth===0||(this.isWidth=!0);e===0&&this.element[0].parentElement.clientHeight!==0?(this.element.height(this.element[0].parentElement.clientHeight),e=this.element.height()):i.name==="msie"&&i.version==="8.0"&&this.element[0].style.height.indexOf("%")!==-1&&(u=parseFloat(this.element[0].style.height),n=this.element[0].parentElement.clientHeight,n=n/100*u,this.element.height(n));r===0&&this.element[0].parentElement.clientWidth!==0?(this.element.width(this.element[0].parentElement.clientWidth),r=this.element.width()):i.name==="msie"&&i.version==="8.0"&&this.element[0].style.width.indexOf("%")!==-1&&(f=parseFloat(this.element[0].style.width),t=this.element[0].parentElement.clientWidth,t=t/100*f,this.element.width(t));this.modules.Mode.render(r);this.modules.Mode.wireEvents();this.renderDesignPanel(this.modules.Mode.designPanelTag);this.model.mode===BoldBIDashboard.Designer.mode.connection||BoldBIDashboard.isNullOrUndefined(this.modules.Mode.designAreaTag)||this.modules.Mode.designAreaTag.BoldBIDashboardWaitingPopup({showOnInit:!1,appendTo:"#"+this._id,cssClass:"e-designer-waitingpopup "+this._id+"_designer_waiting_popup bbi-designer-loader-designer"});this.modules.util.renderErrorToolTip(this._id);this.triggerViewerEvent(ViewerEvent.actionComplete,ViewerEventType.renderLayout,this.modules.Mode.designAreaTag)},t.prototype.newReportJSON=function(){this.isNewServerRpt=this.isOpenServerRpt=!1;this.isLoadedFromDraft=!0;BoldBIDashboard.isNullOrUndefined(this.rdlParser)&&(this.rdlParser=new BoldBIDashboard.DashboardDesignerUtility.DashboardParser(this));this.rdlParser.newJsonReport();this.designerPanel.updateRptToolbarActions();this.designerPanel.updateDefaultProperties();BoldBIDashboard.isNullOrUndefined(t.editManager)||t.editManager.reset();this.copiedItem=null;var n=this.modules.dataSource,i=this.modules.dataSet,r=this.modules.parameter;n.isLoaded()?n.pouplateDataSources():n.updateDataSourceJSON();i.isLoaded()?i.pouplateDataSets():i.updateDataSetJSON();r.isLoaded()?r.populateReportParameters():r.updateParameterJSON();this.isNewRpt=!0},t.prototype.openRdlJSON=function(n,i){var r=this,c=!1,a=t.widgetItems.length,u,f,e,l;if(n&&n.indexOf("Sf_Exception")!==-1)this.modules.util.alertDialog(this.i18nLocale.alertDialogTitle.report,this.i18nLocale.errorMessage.failedToOpenDashboard,IconType.errors,AlertType.Alert,!0,n);else{if(this.isOpenServerRpt=this.isNewServerRpt=this.isNewRpt=!1,this.rdlParser.deserialize(n),this.updateDashboardTitleandDescription(),this.isViewMode()){for(u="",f=0;f<this.rdlParser.rdlJsonObj.WidgetData.length;f++)this.rdlParser.rdlJsonObj.WidgetData[f].__type.indexOf("CustomWidget")!==-1&&(u+=this.rdlParser.rdlJsonObj.WidgetData[f].GUID+",");u!==""&&(c=!0,this.showDesignIndicator(""),new BoldBIDashboard.DashboardDesignerUtility.CustomWidgetItem(this).getCustomWidgetsJson(u.slice(0,u.length-1)))}this.designerPanel.reset();var o=this.modules.dataSource,s=this.modules.dataSet,h=this.modules.parameter;this.designerPanel.banner.bannerPanelIcons();this.designerPanel.banner.toggleFilterOverview(!1);this.designerPanel.banner.updateFilterOverviewByLayout();this.isViewMode()&&(e=JSON.parse(n),BoldBIDashboard.isNullOrUndefined(e)||BoldBIDashboard.isNullOrUndefined(e.DashboardParamList)?this.designerPanel.updateDashboardParameterIcon():this.designerPanel.parameterCollectionInfo(this.isMobileLayout(),e.DashboardParamList.paramList));BoldBIDashboard.DashboardDesignerUtility.LayoutDialog.addRowsForViewer(this.designerPanel,this);this.modules.Mode.renderCells();this.modules.layoutDialog.renderScrollUIContainers();o.isLoaded()?o.pouplateDataSources():o.updateDataSourceJSON();s.isLoaded()?s.pouplateDataSets():s.updateDataSetJSON();h.isLoaded()?h.populateReportParameters():h.updateParameterJSON();this.model.mode!==BoldBIDashboard.Designer.mode.view?(this.rptToolbar.updateDataSample(this.modules.serialization.dashboardPropertyJson.IsDataSampleEnabled),this.rptToolbar.isDataSampleEnabled=this.modules.serialization.dashboardPropertyJson.IsDataSampleEnabled,this.modules.dataConfiguration.moveDataToLiveWebAndRenderDesign(this.rdlParser),this.modules.containerTypeWidgetHelper.updateContainerWidgetsOnRender()):c?l=setInterval(function(){a<t.widgetItems.length&&(BoldBIDashboard.isNullOrUndefined(r.model.cdnPath)?r.modules.dataConfiguration.moveDataToLiveWebAndRenderDesign(r.rdlParser):r.modules.dataConfiguration.moveDataToLiveWebAndRenderView(r.rdlParser),r.modules.containerTypeWidgetHelper.updateContainerWidgetsOnRender(),clearTimeout(l),r.hideDesignIndicator())},10):(BoldBIDashboard.isNullOrUndefined(this.model.cdnPath)?this.modules.dataConfiguration.moveDataToLiveWebAndRenderDesign(this.rdlParser):this.modules.dataConfiguration.moveDataToLiveWebAndRenderView(this.rdlParser),this.modules.containerTypeWidgetHelper.updateContainerWidgetsOnRender());this.designerPanel.updateRptToolbarActions();BoldBIDashboard.isNullOrUndefined(t.editManager)?!BoldBIDashboard.isNullOrUndefined(this.modules.autoRefresh)&&!BoldBIDashboard.isNullOrUndefined(this.refreshSetting)&&this.refreshSetting.enableAutoRefresh&&this.refreshSetting.isRefreshRowCount&&this.modules.autoRefresh.getRowCountOfDS():t.editManager.reset();this.triggerDashboardRenderedEventForViewer(this.modules.autoRefresh);this.loadDatasourcesFromAPI();this.triggerEvents("reportOpened",{isServerReport:i?!0:!1,reportName:this.reportFileName});this.triggerEvents("reportModified",{reportAction:"Opened"})}},t.prototype.loadDatasourcesFromAPI=function(){var t,n;if(this.model.mode===BoldBIDashboard.Designer.mode.design)if(BoldBIDashboard.isNullOrUndefined(this.model.datasource)){if(!BoldBIDashboard.isNullOrUndefined(this.model.datasources)&&this.model.datasources.length>0){for(t=[],n=0;n<this.model.datasources.length;n++)t.push(this.model.datasources[n].id);this.modules.util.doAjaxPost("POST",this.model.serviceUrl+BoldBIDashboard.Dashboard.ServiceAPI.importdatasources,{action:BoldBIDashboard.DashboardUtil.DesignerAction.ImportDatasources,data:JSON.stringify(t)},{fnction:this.bbdesigner$.proxy(this.ImportDataSource,this),indicator:[this.bbdesigner$.proxy(this.showDesignIndicator,this),this.bbdesigner$.proxy(this.hideDesignIndicator,this)]},!1,!0)}}else this.modules.util.doAjaxPost("POST",this.model.serviceUrl+BoldBIDashboard.Dashboard.ServiceAPI.importconnection+this.model.datasource,{action:BoldBIDashboard.DashboardUtil.DesignerAction.Datasource},{fnction:this.bbdesigner$.proxy(this.ImportDataSource,this),indicator:[this.bbdesigner$.proxy(this.showDesignIndicator,this),this.bbdesigner$.proxy(this.hideDesignIndicator,this)]},!1,!0)},t.prototype.filterQueryValidation=function(n,t){for(var i=t,u=function(r){for(var f,u=0;u<n.length;u++)BoldBIDashboard.isNullOrUndefined(n[u].DataGroupInfo)||(f=n[u].DataGroupInfo.FieldContainers.filter(function(n){for(var i=0;i<n.FieldInfos.length;i++)if(n.FieldInfos[i].Id===t[r].FieldId)return n.FieldInfos[i]}),n[u].Name!==t[r].ReportName||BoldBIDashboard.isNullOrUndefined(f)||f.length!==0||(i=i.splice(r+1,1)))},r=0;r<t.length;r++)u(r);return i},t.prototype.updateWidgetFilterValues=function(n){var u,f,e,t,i,r;if(!BoldBIDashboard.isNullOrUndefined(n)&&(u=this.modules.widgetHelper.getAllWidgets(),f=[],u.forEach(function(n){f.push(n.getJson())}),e=this.designerPanel.findWidgetExistence(f,n),e&&(t=this.configureWidgetFilterData(u,n),t.length>0)))for(i=0;i<t.length;i++)r=t[i].getJson(),r.SelectedFilterValues.length>0&&!BoldBIDashboard.isNullOrUndefined(r.SelectedFilterValues[0].IsParameterField)&&!r.SelectedFilterValues[0].IsParameterField&&this.modules.masterSlaveFilter.doInteraction(t[i].getJson().UniqueName),r.SelectedFilterValues.length>0&&t[i].updateInitialSelection()},t.prototype.configureWidgetFilterData=function(n,t){for(var u,i,f=[],r=0;r<t.length;r++)if(!BoldBIDashboard.isNullOrUndefined(t[r].filters)&&!BoldBIDashboard.isNullOrUndefined(t[r].filters.values)&&t[r].filters.values.length>0)for(u=0;u<n.length;u++)if(i=n[u].getJson(),t[r].id===i.UniqueId)if(i.FilterSettings.ActAsMasterWidget)if(i.SelectedFilterValues.length>0&&(i.SelectedFilterValues=[]),t[r].filters.values.length===1||t[r].filters.values.length>1&&!BoldBIDashboard.isNullOrUndefined(i.EnableMultiSelection)&&i.EnableMultiSelection||n[u].Type==="HeatMap"){this.widgetHelper.applyWidgetFilterValuesFromAPI(t[r],n[u]);f.push(n[u]);break}else console.error('Please enable Multiselect option for "'+i.ContainerSettings.Title+'" Widget');else console.error('Please enable Act as master option for "'+i.ContainerSettings.Title+'" and apply filter!');return f},t.prototype.openRdlReport=function(n){var r,t,i;this.hideDesignIndicator();n&&n.Status===!1?(r=this.modules.util,n.IsOldReport===!0?(r.alertDialog(this.i18nLocale.alertDialogTitle.dashboardDesigner,n.Message,IconType.information,AlertType.Alert,!1,""),this.renderCellsAndContainer(null)):(r.alertDialog(this.i18nLocale.alertDialogTitle.dashboardDesigner,this.i18nLocale.errorMessage.failedToOpenDashboard,IconType.errors,AlertType.Alert,!0,n.Message),this.renderCellsAndContainer(null))):(t=JSON.parse(n),i=JSON.parse(t.DashboardData),this.updateDashboardItemInfo(i),BoldBIDashboard.isNullOrUndefined(i)||BoldBIDashboard.isNullOrUndefined(i.DashboardParamList)||this.updateParamCollection(i.DashboardParamList),this.getExportSettings(t.Export),this.updateLocalSettings(t.Localization),t.PreviewFeatures!=="No Data"&&this.FillPreviewFeaturesJson(JSON.parse(t.PreviewFeatures)),this.setCurrentTheme(t.CurrentTheme),this.openRdlJSON(t.DashboardData,!0),this.isOpenServerRpt=!0,this.isNewServerRpt=this.isNewRpt=!1,this.model.mode!==BoldBIDashboard.Designer.mode.design||this.modules.layoutDialog.getCookie()||(this.modules.layoutDialog.renderScrollUIContainers(),this.modules.layoutDialog.toggleScrollableDbrdUI(!0)))},t.prototype.updateDataAfterFetch=function(n){this.getExportSettings(n.Export);this.updateLocalSettings(n.Localization);this.FillPreviewFeaturesJson(JSON.parse(n.PreviewFeatures))},t.prototype.getDataForNewReport=function(){this.modules.designerRequests.push(this.modules.util.doAjaxPost("GET",this.model.serviceUrl+BoldBIDashboard.Dashboard.ServiceAPI.dependencysettings.replace("{environment}",this.model.environment),{action:BoldBIDashboard.DashboardUtil.DesignerAction.PreviewFeatures},{fnction:this.bbdesigner$.proxy(this.setDataForNewReport,this)},!0,!0))},t.prototype.setDataForNewReport=function(n){n.Status&&(BoldBIDashboard.isNullOrUndefined(n.Data)||this.updateDataAfterFetch(JSON.parse(n.Data)))},t.prototype.updateDashboardItemInfo=function(n){this.model.IsProxy&&!BoldBIDashboard.isNullOrUndefined(n)&&(BoldBIDashboard.DashboardUtil.IsStringNullorWhiteSpace(this.model.itemId)&&!BoldBIDashboard.DashboardUtil.IsStringNullorWhiteSpace(n.DashboardId)&&(this.model.itemId=n.DashboardId),BoldBIDashboard.DashboardUtil.IsStringNullorWhiteSpace(this.model.dashboardPath)&&!BoldBIDashboard.DashboardUtil.IsStringNullorWhiteSpace(n.DashboardPath)&&(this.model.dashboardPath=n.DashboardPath),BoldBIDashboard.isNullOrUndefined(this.model.dashboardPath)||BoldBIDashboard.DashboardUtil.isEmptyString(this.model.dashboardPath)||BoldBIDashboard.isNullOrUndefined(this.model.itemId)||BoldBIDashboard.DashboardUtil.isEmptyString(this.model.itemId)||(this.publishedId=this.model.itemId))},t.prototype.updateDashboardTitleandDescription=function(){var n=this.designerPanel.getDesignProperty("Dashboard"),t=this.designerPanel.banner.bannerPanel.find("#"+this._id+"_title");t.text(n.Header).css("display","block");this.designerPanel.banner.showDescription(n.Description)},t.prototype.renderCellsAndContainer=function(){this.modules.Mode.renderCells();this.modules.layoutDialog.renderScrollUIContainers()},t.prototype.checkdraft=function(){var n={};n.itemId=this.model.itemId;this.modules.designerRequests.push(this.modules.util.doAjaxPost("POST",this.model.serviceUrl+BoldBIDashboard.Dashboard.ServiceAPI.checkdraft,{action:BoldBIDashboard.DashboardUtil.DesignerAction.CheckDraft,data:JSON.stringify(n)},{fnction:this.bbdesigner$.proxy(this.promptfordraft,this)},!0))},t.prototype.promptfordraft=function(n){if(this.model.mode!==BoldBIDashboard.Designer.mode.connection&&this.model.mode!==BoldBIDashboard.Designer.mode.datasource)if(BoldBIDashboard.isNullOrUndefined(this.model.dashboardPath)||BoldBIDashboard.DashboardUtil.isEmptyString(this.model.dashboardPath)||BoldBIDashboard.isNullOrUndefined(this.model.serviceUrl))if(n)this.openDraft();else{this.getDataForNewReport();this.hideDesignIndicator();this.loadDatasourcesFromAPI();this.isLoadedFromDraft=!0;var t=this.modules.layoutDialog;this.modules.Mode.renderCells();t.renderScrollUIContainers();t.toggleScrollableDbrdUI(!0);this.designerPanel.banner.bannerPanelIcons()}else n?this.model.IsEmbed&&this.model.disableAutoRecover?this.openReport():this.modules.util.alertDialog(this.i18nLocale.alertDialogTitle.AutoRecover,this.i18nLocale.alertWindowMesages.draftMessage,IconType.question,AlertType.Confirm,!1,"",{dataInfo:{},instance:this,method:"confirmtoOpenDraft"}):this.openReport()},t.prototype.openDraft=function(){this.isLoadedFromDraft=!0;this.updateLoadingIndicatorLabel(this.i18nLocale.loadingIndicatorMessage.loadDraftText);var n={};n.itemId=this.model.itemId;n.environment=this.model.environment;this.modules.designerRequests.push(this.modules.util.doAjaxPost("POST",this.model.serviceUrl+BoldBIDashboard.Dashboard.ServiceAPI.loaddraft,{action:BoldBIDashboard.DashboardUtil.DesignerAction.openServerReport,data:JSON.stringify(n)},{fnction:this.bbdesigner$.proxy(this.openRdlReport,this)},!0))},t.prototype.GetPreviewFeaturesJson=function(){var n=this.model.isPinWidget?this.i18nLocale.loadingIndicatorMessage.loadWidgetText:this.i18nLocale.loadingIndicatorMessage.loadDashboardText,t=this.model.mode===BoldBIDashboard.Designer.mode.view&&(!BoldBIDashboard.isNullOrUndefined(this.model.dashboardPath)&&!BoldBIDashboard.DashboardUtil.isEmptyString(this.model.dashboardPath)||this.model.IsProxy)&&!BoldBIDashboard.isNullOrUndefined(this.model.serviceUrl)?this.bbdesigner$.proxy(this.showDesignIndicator,this,n):this.bbdesigner$.proxy(this.showDesignIndicator,this,""),i=this.model.mode!==BoldBIDashboard.Designer.mode.connection&&this.model.mode!==BoldBIDashboard.Designer.mode.datasource;i&&BoldBIDashboard.DashboardUtil.invokeCallBack(t,{});this.model.mode!==BoldBIDashboard.Designer.mode.datasource&&this.initializeDesignerElement()},t.prototype.GetLocalizationFormat=function(){this.modules.designerRequests.push(this.modules.util.doAjaxPost("POST",this.model.serviceUrl+BoldBIDashboard.Dashboard.ServiceAPI.getLocalizationFormat,{action:BoldBIDashboard.DashboardUtil.DesignerAction.GetLocalizationFormat},{fnction:this.bbdesigner$.proxy(this.FillDateAndTimeFormat,this)},!0,!0))},t.prototype.getDashbordThemesCollection=function(){this.modules.designerRequests.push(this.modules.util.doAjaxPost("POST",this.model.serviceUrl+BoldBIDashboard.Dashboard.ServiceAPI.getalldashboardthemes,{action:BoldBIDashboard.DashboardUtil.DesignerAction.GetAllDashboardThemes,data:JSON.stringify("dark")},{fnction:this.bbdesigner$.proxy(this.updateDashbordThemesCollection,this)},!0,!0))},t.prototype.updateDashbordThemesCollection=function(n){n.Status&&this.setDashboardCollection(n.Data)},t.prototype.setDashboardCollection=function(n){var t,i;if(!BoldBIDashboard.isNullOrUndefined(n)&&(t=Object.keys(n),t.length))for(i=0;i<t.length;i++)this.modules.themeHelper.themesCollection.push({key:t[i],value:n[t[i]]})},t.prototype.setCurrentTheme=function(n){BoldBIDashboard.isNullOrUndefined(n)||(this.modules.themeHelper.currentTheme=JSON.parse(n),this.applyLayoutTheme(this.isDarkTypeTheme()))},t.prototype.FillPreviewFeaturesJson=function(n){this.previewFeaturesJson=n;for(var t=0;t<n.length;t++)if(n[t].FeatureName==="Widget"&&this.model.mode===BoldBIDashboard.Designer.mode.design){this.itemPanel.updateWidgetItemVisibility(n[t]);break}this.model.mode===BoldBIDashboard.Designer.mode.design&&(new BoldBIDashboard.DashboardDesignerUtility.CustomWidgetItem(this).getCustomWidgetsJson(),this.itemPanel.fetchPredefindedWidgets());this.model.mode!==BoldBIDashboard.Designer.mode.design||BoldBIDashboard.isNullOrUndefined(this.itemPanel)||this.model.designerSettings.widgetsPanel.hideDefaultWidgets||this.itemPanel.renderGroup()},t.prototype.FillDateAndTimeFormat=function(n){n.Status&&this.updateLocalSettings(n.Data)},t.prototype.updateLocalSettings=function(n){n.culture=n.culture===n.DisplayCulture?n.culture:n.DisplayCulture;this.model.localeSettings.culture=n.culture;this.model.localeSettings.dateFormat=n.DateSettings.DateFormat;this.model.localeSettings.timeFormat=n.DateSettings.TimeFormat},t.prototype.confirmtoOpenDraft=function(n){n?this.openDraft():this.openReport()},t.prototype.newServerRDL=function(n,t){this.newReportJSON();t&&(this.model.serviceUrl=t);n&&n.length>0&&(this.isNewServerRpt=!0,this.isNewRpt=!1,this.reportFileName=n)},t.prototype.newRDLReport=function(n){this.reportFileName=n&&n.length>0?n:"Untitled Dashboard";this.isNewServerRpt=this.isOpenServerRpt=!1;this.newReportJSON();this.isNewRpt=!0},t.prototype.newSharedDataSet=function(n,t,i){var r=this;this.modules.util.doAjaxPost("POST",this.model.serviceUrl+BoldBIDashboard.Dashboard.ServiceAPI.processdata,{action:BoldBIDashboard.DashboardUtil.DesignerAction.sharedDataSet,data:JSON.stringify({designerAction:BoldBIDashboard.DashboardUtil.DesignerAction.sharedDataSet,reportInfo:{dataSetRefer:t}})},{fnction:this.bbdesigner$.proxy(function(u){var e,f,s,o,h;if(u&&typeof u=="string"&&u.indexOf("Sf_Exception")!==-1)r.modules.util.alertDialog(r.i18nLocale.alertDialogTitle.report,r.i18nLocale.errorMessage.failedToCreateDataSet,IconType.errors,AlertType.Alert,!0,u);else{if(e=r.modules.dataSet,i?r.newServerRDL(n):r.newRDLReport(n),f=BoldBIDashboardQueryDesigner.createDataSet(),s={__type:"Syncfusion.RDL.DOM.SharedDataSet",SharedDataSetReference:"",QueryParameters:[]},f.Name=e.getAvailableName(),f.Query=null,u.Fields.length>0)for(f.Fields=[],o=0;o<u.Fields.length;o++)h=u.Fields[o],h.__type="Syncfusion.RDL.DOM.Field",f.Fields.push(h);s.SharedDataSetReference=t;f.SharedDataSet=s;r.rdlParser.rdlJsonObj.DataSets.push(f);e.isLoaded()?(r.rdlParser.rdlJsonObj.DataSets.push(f),e.pouplateDataSets()):e.updateDataSetJSON()}},this),indicator:[this.bbdesigner$.proxy(this.showDesignIndicator,this),this.bbdesigner$.proxy(this.hideDesignIndicator,this)]})},t.prototype.saveDashboardToServer=function(n){this.serverCategory=n;this.createServerReport(n)},t.prototype.createServerReport=function(n){var i,t,r;!BoldBIDashboard.isNullOrUndefined(this.rdlParser)&&n&&(i=BoldBIDashboard.isNullOrUndefined(this.model.itemId)?"":this.model.itemId,t=this.modules.masterSlaveFilter,t.RefreshFilterSettings(),t.RefreshMasterSlaveTitle(),t.masterSlaveFilterSerializer(t.getFilterConfigurationInfoInstance().FilterConfigurationModel.MastersCollection,!0),r=!BoldBIDashboard.isNullOrUndefined(this.model.serverSettings)&&!BoldBIDashboard.isNullOrUndefined(this.model.serverSettings.enableMarkAsPublic)?BoldBIDashboard.isNullOrUndefined(n)?BoldBIDashboard.isNullOrUndefined(this.model.serverSettings.isPublic)?!1:this.model.serverSettings.isPublic:n.isPublic:!1,this.modules.util.doAjaxPost("POST",this.model.serviceUrl+BoldBIDashboard.Dashboard.ServiceAPI.savetoserver,{action:BoldBIDashboard.DashboardUtil.DesignerAction.SaveToServer,data:JSON.stringify({id:!BoldBIDashboard.isNullOrUndefined(n.id)&&!BoldBIDashboard.DashboardUtil.isEmptyString(n.id)?n.id:BoldBIDashboard.isNullOrUndefined(this.publishedId)||BoldBIDashboard.DashboardUtil.isEmptyString(this.publishedId)?i:"",name:n.name,description:n.description,categoryId:n.categoryId,categoryName:n.category,widgetData:this.modules.serialization.getWidgetJsonString(),isPublic:r,filterInfo:t.masterSlaveFilterSerializer(t.getFilterConfigurationInfoInstance().FilterConfigurationModel.MastersCollection,!1)})},{fnction:this.bbdesigner$.proxy(this.saveRdlReport,this,n.eventType),indicator:[this.bbdesigner$.proxy(this.showDesignIndicator,this),this.bbdesigner$.proxy(this.hideDesignIndicator,this)]}))},t.prototype.editServerReport=function(n){var t=this.modules.masterSlaveFilter,i,r;t.RefreshFilterSettings();t.RefreshMasterSlaveTitle();t.masterSlaveFilterSerializer(t.getFilterConfigurationInfoInstance().FilterConfigurationModel.MastersCollection,!0);i=this.modules.serialization.dashboardPropertyJson.Name;r=this.modules.serialization.dashboardPropertyJson.Description;this.modules.util.doAjaxPost("POST",this.model.serviceUrl+BoldBIDashboard.Dashboard.ServiceAPI.savetoserver,{action:BoldBIDashboard.DashboardUtil.DesignerAction.saveServerReport,data:JSON.stringify({id:this.publishedId||this.model.itemId,name:i,description:r,categoryId:BoldBIDashboard.isNullOrUndefined(this.serverCategory)?"":this.serverCategory.categoryId,dashboardPath:n,widgetData:this.modules.serialization.getWidgetJsonString(),isPublic:this.model.serverSettings.isPublic||!1,filterInfo:t.masterSlaveFilterSerializer(t.getFilterConfigurationInfoInstance().FilterConfigurationModel.MastersCollection,!1),colorSetJson:this.modules.resource.colorCodeInfo})},{fnction:this.bbdesigner$.proxy(this.saveRdlReport,this,BoldBIDashboard.DashboardDesignerEvent.Save),indicator:[this.bbdesigner$.proxy(this.showDesignIndicator,this),this.bbdesigner$.proxy(this.hideDesignIndicator,this)]})},t.prototype.getDataSourceMap=function(){var i=[],n=this.modules.dataSource.datasources,t;if(n&&n.length>0)for(t=0;t<n.length;t++)n[t].DataSourceReference&&n[t].DataSourceReference.length>0&&i.push({Name:n[t].Name,DataSourceId:n[t].DataSourceReference});return i&&i.length>0?i:null},t.prototype.getDataSetMap=function(){var i=[],n=this.modules.dataSet.datasets,t;if(n&&n.length>0)for(t=0;t<n.length;t++)n[t].SharedDataSet&&n[t].SharedDataSet.SharedDataSetReference&&n[t].SharedDataSet.SharedDataSetReference.length>0&&i.push({Name:n[t].Name,DataSetId:n[t].SharedDataSet.SharedDataSetReference});return i&&i.length>0?i:null},t.prototype.saveServerReport=function(){this.createServerReport(this.serverCategory)},t.prototype.saveAsReport=function(n){!this.isOpenServerRpt||BoldBIDashboard.isNullOrUndefined(this.publishedId)||BoldBIDashboard.DashboardUtil.isEmptyString(this.publishedId)?this.isNewServerRpt?this.rptToolbar.saveServerClick(n):(this.rptToolbar.saveServerClick(n),this.modules.undoManager.saveActionIndex()):this.editServerReport(this.model.dashboardPath)},t.prototype.saveRdlReport=function(n,t){var r=this.modules.fileBrowse,e=this.rptToolbar,i,u;e.updateDashboardTitleText(this.modules.serialization.dashboardPropertyJson.Name);i=!BoldBIDashboard.isNullOrUndefined(this.serverCategory);t&&t.Status===!1?(r.dashboardSaveErr(t),this.model.dashboardPath="",this.isNewServerRpt=this.isNewRpt=!0):(r.closeDialog(),r.saveDashboardInfo(),u=this.triggerEvents("beforeNavigateToDashboard",{CategoryName:i?this.serverCategory.category:"",CategoryId:i?this.serverCategory.categoryId:"",PublishName:i?this.serverCategory.name:"",PublishId:t.ItemId}),u||this.modules.isEmbed||this.modules.util.alertDialog(this.i18nLocale.alertDialogTitle.DashboardSaved,this.i18nLocale.alertWindowMesages.saveSuccess,IconType.success,AlertType.Confirm,!1,"",{method:"navigateToDashboard",instance:this,dataInfo:{id:t.ItemId}}),this.isNewServerRpt=this.isNewRpt=!1,this.isOpenServerRpt=!0,this.publishedId=t.ItemId,this.modules.undoManager.saveActionIndex(),this.triggerEvents("reportSaved",{reportAction:"Saved"}),this.triggerEvents("reportModified",{reportAction:"Saved"}));this.designerPanel.updateReportProperties();var f=this.modules.serialization,o=f.dashboardPropertyJson.Name,s=f.dashboardPropertyJson.Description,h={categoryId:i?this.serverCategory.categoryId:"",categoryName:i?this.serverCategory.category:"",dashboardName:o,description:s,dashboardId:!BoldBIDashboard.isNullOrUndefined(t.ItemId)&&t.ItemId!==""?t.ItemId:this.publishedId,version:t.Version,isPublic:!BoldBIDashboard.isNullOrUndefined(this.model.serverSettings)&&!BoldBIDashboard.isNullOrUndefined(this.model.serverSettings.isPublic)?this.model.serverSettings.isPublic:!1};this._trigger("actionComplete",{eventType:n,data:h})},t.prototype.navigateToDashboard=function(n,t){if(n&&t){for(var i=0;i<this.modules.dataSource.datasources.length;i++)if(this.modules.dataSource.datasources[i].IsLiveWebMode){this.modules.dataConfiguration.removeLiveWebConnectionData(!0);break}this.modules.util.isEnvironmentOnPremise()?BoldBIDashboard.isNullOrUndefined(this.model.siteUrl)||(document.location.href=this.model.IsEmbed?this.model.siteUrl+"/dashboards/"+t.id+"?showmydashboards=1&isEmbed=true":this.model.siteUrl+"/dashboards/"+t.id+"?showmydashboards=1"):document.location.href=this.model.IsEmbed?"/bi/dashboards/"+t.id+"?showmydashboards=1&isEmbed=true":document.location.href="/bi/dashboards/"+t.id+"?showmydashboards=1"}},t.prototype.downloadReport=function(){var n=this.saveJSONData(),t=this.reportFileName.indexOf(".rdl")===-1?this.reportFileName+".rdl":this.reportFileName;BoldBIDashboard.isNullOrUndefined(this.rdlParser)||(this.modules.util.doPostBack(this.model.serviceUrl+BoldBIDashboard.Dashboard.ServiceAPI.processdata,{reportPath:t,reportData:n},this),this.triggerEvents("reportSaved",{reportAction:"Download"}))},t.prototype.saveJSONData=function(){return this.rdlParser.serialize(!1)},t.prototype.renderDesignPanel=function(n){this.designerPanel=new BoldBIDashboard.DashboardDesignerUtility.DesignPanel(this,n)},t.prototype.updateFileStatus=function(n){var t={name:this.reportFileName,isModified:n};this.triggerEvents("reportModified",t)},t.prototype.showDesignReport=function(){var n=this;this.showDesignIndicator("");this.model.mode=BoldBIDashboard.Designer.mode.design;this.bbdesigner$("#"+this._id+"_reportviewer_toolbarContainer_target").length>0&&this.bbdesigner$("#"+this._id+"_reportviewer_toolbarContainer_hiddenlist").is(":visible")&&this.bbdesigner$("#"+this._id+"_reportviewer_toolbarContainer_target").mousedown();setTimeout(function(){var t,i,r;n.modules.Mode.itemPanelTag.show();n.modules.Mode.scrollUIItem.show();n.modules.Mode.dataPanelTag.find(".bbi-dashboard-designer-configuration").hide();n.modules.Mode.dataPanelTag.find(".bbi-designer-itempanel-wrapper.bbi-dashboarddesigner-collapsable-item").hide();t=n;n.modules.Mode.dataPanelTag.css("width","36px");n.paramCollection=n.previewParamCollection;n.previewParamCollection=null;t.updateDesignPanel();n.modules.Mode.dataPanelTag.show();n.rptToolbar.showToolBar(!0);BoldBIDashboard.isNullOrUndefined(n.toolbarTag)||n.showToolbar(!0);n.modules.Mode.designAreaTag.find(".bbi-dbrd-maximizeContainer").length===1&&t.maximize.hideOnClosePreview();n.modules.Mode.designPanelTag.width(n.element.width()-n.itemPanelWidth-n.dataPanelWidth-1+"px").removeClass("viewer bbi-dbrd-viewer");n.designerPanel.showMenuIcon(!1);n.designerPanel.updateScrollBar();i=n.designerPanel.getDesignProperty("Dashboard");n.designerPanel.banner.toggleBanner(!1,i);n.setContainerSize();n.updateDesignerSize();n.resizeObj.isDesigner&&(n.resizeObj.isDesigner=!1);r=n.modules.dynamicParameterPanel;r.removeParameterCollection();setTimeout(function(){n.revertInteractionForDesigner();n.applyDashboardTheme("Light");n.hideDesignIndicator()},100);n.removeNoWidgetToPreviewInfo()},0)},t.prototype.resizeDashboard=function(){this.designerResize(this)},t.prototype._toggleFavoriteIcon=function(){if(this.model._favoriteSettings.enabled){var n=this.element.find(".bbi-dashboard-banner-favorite"),t=this.element.find(".bbi-dashboard-banner-unfavorite");n.length>0?n.removeClass("bbi-dashboard-banner-favorite").addClass("bbi-dashboard-banner-unfavorite").attr({"data-tooltip":this.i18nLocale.banerPanel.markFavoriteTooltip}):t.removeClass("bbi-dashboard-banner-unfavorite").addClass("bbi-dashboard-banner-favorite").attr({"data-tooltip":this.i18nLocale.banerPanel.markUnFavorieTooltip})}},t.prototype.setAsUnFavorite=function(n){this._trigger("_onFavoriteStateChange",{event:n,isFavorite:!1});this.model._favoriteSettings.isFavorite=!1},t.prototype.setAsFavorite=function(n){this._trigger("_onFavoriteStateChange",{event:n,isFavorite:!0});this.model._favoriteSettings.isFavorite=!0},t.prototype.getCurrentFilters=function(){var u=this.modules.masterSlaveFilter,i=u.getAllWidgetSelectedValues(),t=this.designerPanel.getFilterStateParameter(),n,r;return i.length===0?t.isInitialFilterModified?{encryptedData:'filterQuery=""',isInitialFilter:!1}:{encryptedData:null,isInitialFilter:null}:(n=JSON.parse(JSON.stringify(i)),n=BoldBIDashboard.DashboardUtil.escapeSelectedFilterDataforURLFilter(n),n=BoldBIDashboard.DashboardUtil.shortenSelectedFilterInfo(n),r="filterQuery="+encodeURI(JSON.stringify(n)),{encryptedData:r,isInitialFilter:t.isInitialFilter&&!t.isInitialFilterModified})},t.prototype._updateFilterOverview=function(n,t){var i=this.modules.Mode.designPanelTag.find(".bbi-dashboarddesigner-bannerPanel");new BoldBIDashboard.DashboardDesignerUtility.FilterOverview(i,this,null).filterOverviewUpdated(n,t)},t.prototype.getWidgetTitle=function(n){var t=this.modules.util.getWidgetInstanceByGuid(n),i;return!BoldBIDashboard.isNullOrUndefined(t)&&(i=t.getJson(),!BoldBIDashboard.isNullOrUndefined(i.ContainerSettings))?{type:t.controlType,title:i.ContainerSettings.Title}:null},t.prototype.clearWidgetFilter=function(n){var t=this.modules.util.getWidgetInstanceByGuid(n);BoldBIDashboard.isNullOrUndefined(t)||t.clearFilter()},t.prototype.getFilterDataUsingQuery=function(){return this.currentFilterData},t.prototype.setFilterData=function(n){this.currentFilterData=n},t.prototype.initializeFilterParameters=function(n){var u,f,i,t,o,r,e;if(!BoldBIDashboard.isNullOrUndefined(n)&&this.isViewMode())try{for(u=decodeURI(n).replace(/~&~/g,String.fromCharCode(251)+String.fromCharCode(251)).replace(/~=~/g,String.fromCharCode(250)+String.fromCharCode(250)).replace(/~[?]~/g,String.fromCharCode(253)+String.fromCharCode(253)).replace(/~[/]~/g,String.fromCharCode(254)+String.fromCharCode(254)).replace(/&&/g,"&").replace(/&/g,"|,|").replace(/=/g,"|:|").replace(/~,~/g,String.fromCharCode(252)+String.fromCharCode(252)),f=u.split("|,|"),i=0;i<f.length;i++){if(t=f[i].split("|:|"),t.length>=2&&t[0].trim().toUpperCase()==="FILTERQUERY"){o=t[1];this.designerPanel.initialFilterIfModified(!0);r=this.bbdesigner$.parseJSON(o);r!==""&&r.length!==0&&(e=BoldBIDashboard.DashboardUtil.lengthensSelectedFilterInfo(r),BoldBIDashboard.DashboardUtil.unEscapeSelectedFilterDataforURLFilter(e.masterData),this.isOriginalView||(this.currentFilterData=e.masterData));continue}else t.length>1&&t[0].trim().toUpperCase()==="ISEMBED"&&(this.model.IsEmbed=t[1].trim().toUpperCase()==="TRUE");this.model.mode===BoldBIDashboard.Designer.mode.view&&(this.urlParameter=u)}}catch(s){this.designerPanel.logError({Source:this.model.filterParameters,Error:s,Type:s.name})}},t.prototype._parseParameterQuery=function(n){var u,o,r;this.initializeFilterParameters(n);var c=BoldBIDashboard.isNullOrUndefined(this.currentFilterData)?0:this.currentFilterData.length,f=[],l=this.modules.masterSlaveFilter,s=l.getWidgetList();for(u=0;u<c;u++){var e=[],t=this.currentFilterData[u],i=new ViewSavedFilterValue,h=0;for(r=0;r<f.length;r++)f[r].Control===t.ReportName&&(h=r);if(h===0){for(this.getFilteredDataList(t,e),o=void 0,r=0;r<s.length;r++)if(t.ReportName===s[r].ID){o=s[r];break}i.Control=t.ReportName;i.UniqueColumnName=t.UniqueColumnName;i.FieldId=t.FieldId;i.ColumnName=i.DisplayName=BoldBIDashboard.isNullOrUndefined(t.ColumnName)||t.ColumnName===""?this.modules.util.getColumnNameByUniqueColumnName(t.ReportName,t.UniqueColumnName):t.ColumnName;t.InitialDimensionFilter.DimesnionFilterCondition==="Exclude"?i.ColumnName=i.ColumnName+"("+t.InitialDimensionFilter.DimesnionFilterCondition+")":t.InitialDateFilter.DateFilterCondition==="Exclude"?i.ColumnName=i.ColumnName+"("+t.InitialDateFilter.DateFilterCondition+")":t.InitialMeasureFilter.MeasureFilterCondition==="Exclude"&&(i.ColumnName=i.ColumnName+"("+t.InitialMeasureFilter.MeasureFilterCondition+")");i.ControlTitle=o;i.Data=e[0]}else this.getFilteredDataList(t,e),i.Data.push(e[0]);f.push(i)}return f},t.prototype.getFilteredDataList=function(n,t){!BoldBIDashboard.isNullOrUndefined(n.InitialDateFilter)&&n.InitialDateFilter.DateFilterList.length>0&&t.push(n.InitialDateFilter.DateFilterList);!BoldBIDashboard.isNullOrUndefined(n.InitialDimensionFilter)&&n.InitialDimensionFilter.Text.length>0&&t.push(n.InitialDimensionFilter.Text);!BoldBIDashboard.isNullOrUndefined(n.InitialMeasureFilter)&&n.InitialMeasureFilter.Values.length>0&&t.push(n.InitialMeasureFilter.Values)},t.prototype.PreviewDashboard=function(){var i=this,n,t;this.element.find("#"+this._id+"_toolBar_target").length>0&&this.bbdesigner$("#"+this._id+"_toolBar_hiddenlist").is(":visible")&&this.element.find("#"+this._id+"_toolBar_target").mousedown();this.showDesignIndicator("");n=0;t=null;this.model.mode!==BoldBIDashboard.Designer.mode.view&&(t=this.modules.dataConfigurationPanel,t.showConfigurationPanel(!1,"Properties"));this.modules.Mode.designPanelTag.find(".e-widget-selectionbox").css("display","none");this.model.mode===BoldBIDashboard.Designer.mode.design||this.model.mode===BoldBIDashboard.Designer.mode.readonly?(this.modules.containerTypeWidgetHelper.updateCacheForContainerWidgets(),this.model.mode=BoldBIDashboard.Designer.mode.designpreview,this.previewParamCollection=this.bbdesigner$.extend(!0,[],this.paramCollection),this.designerPanel.banner.ShowBackButton(),this.modules.Mode.designerContainer.find(".bbi-dbrditem").length===n?this.showNoWidgetToPreviewInfo():this.removeNoWidgetToPreviewInfo(),setTimeout(function(){i.updatePreviewDashboard()},n)):this.model.mode===BoldBIDashboard.Designer.mode.view&&(this.resizeDashboard(),this.updatePreviewDashboard())},t.prototype.updatePreviewDashboard=function(){var u=this.modules.masterSlaveFilter,n,r,i;if(u.RefreshFilterSettings(),u.RefreshMasterSlaveTitle(),this.model.mode!==BoldBIDashboard.Designer.mode.view&&(this.modules.Mode.itemPanelTag.hide(),this.modules.Mode.dataPanelTag.hide(),this.rptToolbar.showToolBar(!1),this.modules.Mode.scrollUIItem.hide()),this.model.isHideHeader=this.model.isPinWidget?!0:this.model.isHideHeader,this.modules.Mode.designPanelTag.width(this.element.width()).addClass("viewer bbi-dbrd-viewer"),this.designerPanel.showMenuIcon(!0),n=this.designerPanel.getDesignProperty("Dashboard"),!BoldBIDashboard.isNullOrUndefined(this.model.dashboardFromData)&&this.model.dashboardFromData.loadFromData&&this.model.dashboardFromData.reportName&&(n.Header=this.model.dashboardFromData.reportName),this.model.isHideHeader&&this.isViewMode()?this.designerPanel.banner.toggleBanner(!1,n):this.designerPanel.banner.toggleBanner(!this.model.dashboardFromData.isControl,n),this.isViewMode()||this.designerPanel.updateDashboardParameterIcon(),this.designerPanel.updateScrollBar(),BoldBIDashboard.isNullOrUndefined(t.editManager)||t.editManager.reset(),this.designerPanel.updatePanelSize(),this.modules.Mode.designCanvas.find(".bbi-dbrditem").length===0)this.hideDesignIndicator();else for(r=this.widgetHelper.getAllWidgets().filter(function(n){return BoldBIDashboard.Dashboard.WidgetHelper.isContainerWidget(n)===!0}),i=0;i<r.length;i++)r[i].getBackgroundForControlContainer();this.designerPanel.removeWidgetSelection();this.doInteractionForViewer()},t.prototype.showNoWidgetToPreviewInfo=function(){var t=BoldBIDashboard.buildTag("div.bbi-higher-popup","",{},{id:this._id+"_noWidgetToPreiview"}),n=BoldBIDashboard.buildTag("div.bbi-nowidget-container","",{},{id:this._id+"_noWidgetCenterDiv"}),r=BoldBIDashboard.buildTag("div.bbi-widget-error-icon","",{},{}),u=BoldBIDashboard.buildTag("div.bbi-higher-error-message",this.i18nLocale.designPanel.noWidgetToPreview,{},{}),i;n.append(r);n.append(u);t.append(n);i=this.modules.Mode.designPanelTag.find(".bbi-dashboarddesigner-designPanel");i.append(t)},t.prototype.removeNoWidgetToPreviewInfo=function(){this.modules.Mode.designerContainer.find("#"+this._id+"_noWidgetToPreiview").remove()},t.prototype.doInteractionForViewer=function(){for(var r,t,s,h,n,c,a,f=this.modules.dataConfiguration,e=this.modules.masterSlaveFilter,i={selectedInfo:e.getAllWidgetSelectedValues()},u=[],l=[],o=0;o<i.selectedInfo.length;o++)for(l.push(i.selectedInfo[o].ReportName),r=e.GetSlaveListOfMasterWidget(i.selectedInfo[o].ReportName),t=0;t<r.length;t++)u.indexOf(r[t])===-1&&(u.push(r[t]),l.push(r[t]));if(u.length>0&&!(!BoldBIDashboard.isNullOrUndefined(this.rptToolbar)&&this.rptToolbar.isDataSampleEnabled||this.modules.serialization.dashboardPropertyJson.IsDataSampleEnabled))f.fetchDataForWidgets(u,!1,i.selectedInfo,!1,null,null,!1,null,!1,f.datasourceCallerId);else if(!BoldBIDashboard.isNullOrUndefined(this.rptToolbar)&&this.rptToolbar.isDataSampleEnabled||this.modules.serialization.dashboardPropertyJson.IsDataSampleEnabled){for(s=e.GetAllWidgetInstanceFromContainer(),h=[],n=0;n<s.length;n++)h.push(s[n].Name);f.fetchDataForWidgets(h,!1,i.selectedInfo,!1,null,null,!1,null,!1,f.datasourceCallerId)}for(this.model.mode!==BoldBIDashboard.Designer.mode.view&&u.length===0&&this.modules.labelParameter.getDataForLabelParameter(i.selectedInfo,this._id,!1,"",null,!1,!0),this.addToRevertInteractionList(l),n=0;n<this.modules.widgetCache.length;n++)c=e.GetWidgetElementByReportName(this.modules.widgetCache[n].Name),BoldBIDashboard.isNullOrUndefined(c)||(a=BoldBIDashboard.Dashboard.WidgetHelper.getWidgetInstance(c),this.modules.widgetCache[n].SelectedFilterValue=JSON.parse(JSON.stringify(a.getJson().SelectedFilterValues)))},t.prototype.addToRevertInteractionList=function(n){for(var t=0;t<n.length;t++)this.revertInteractionList.indexOf(n[t])===-1&&this.revertInteractionList.push(n[t])},t.prototype.removeFromRevertInteractionList=function(n){var t=this.revertInteractionList.indexOf(n,0);t>-1&&this.revertInteractionList.splice(t,1)},t.prototype.revertInteractionForDesigner=function(){var o=this.modules.masterSlaveFilter,f,t,u,r;if(BoldBIDashboard.isNullOrUndefined(this.designerPanel.banner.PreviewAsInstance)||this.designerPanel.banner.PreviewAsInstance.reset(),f=this.impersonateAccount!=null,this.impersonateAccount=null,this.modules.widgetCache.length>0)for(t=0;t<this.modules.widgetCache.length;t++){var s=o.GetWidgetElementByReportName(this.modules.widgetCache[t].Name),n=BoldBIDashboard.Dashboard.WidgetHelper.getWidgetInstance(s),i=this.modules.widgetCache[t].DesignTimeCache;if(!BoldBIDashboard.isNullOrUndefined(this.modules.widgetCache[t].Name)&&(BoldBIDashboard.Dashboard.WidgetHelper.isDataWidget(n)||n.isDefaultDataWidget())){!BoldBIDashboard.isNullOrUndefined(this.modules.widgetCache[t].SelectedFilterValue)&&this.revertInteractionList.indexOf(this.modules.widgetCache[t].Name)>-1&&(n.getJson().SelectedFilterValues=this.modules.widgetCache[t].SelectedFilterValue);try{BoldBIDashboard.Dashboard.WidgetHelper.isDataWidget(n)&&(!BoldBIDashboard.isNullOrUndefined(n)&&!BoldBIDashboard.isNullOrUndefined(n.DrillLevelInfo)&&n.DrillLevelInfo.length>0&&n.removeAllDrillElements(),BoldBIDashboard.Dashboard.WidgetContainerHelper.showControlContainer(n),this.modules.util.updateWidgetInstanceForDatebucket(n,i),n.update(BoldBIDashboard.isNullOrUndefined(i)?{}:i),n.isDefaultDataWidget()||(r=BoldBIDashboard.DashboardUtil.getColumnBindings(n),n.updateDataColumnBindings(BoldBIDashboard.isNullOrUndefined(r)?{}:r)))}catch(e){this.designerPanel.showControlError(n.ContentContainer,e,n.CellInfo)}u=n.getJson();u.FilterSettings.ActAsMasterWidget&&u.SelectedFilterValues.length>0||this.removeFromRevertInteractionList(this.modules.widgetCache[t].Name)}else if(!BoldBIDashboard.isNullOrUndefined(n)&&!BoldBIDashboard.isNullOrUndefined(n.DrillLevelInfo)&&n.DrillLevelInfo.length>0||f)try{n.removeAllDrillElements();n.update(BoldBIDashboard.isNullOrUndefined(i)?{}:i);r=BoldBIDashboard.DashboardUtil.getColumnBindings(n);n.updateDataColumnBindings(BoldBIDashboard.isNullOrUndefined(r)?{}:r)}catch(e){this.designerPanel.showControlError(n.ContentContainer,e,n.CellInfo)}n.isDefaultDataWidget()&&n.update(BoldBIDashboard.isNullOrUndefined(i)?{}:i);BoldBIDashboard.Dashboard.WidgetHelper.isContainerWidget(n)&&this.modules.containerTypeWidgetHelper.getWidgetAsContainerWidget(n).revertInteractionForDesigner(i)}},t.prototype.addToWidgetCacheCollection=function(n,t,i){for(var r=0;r<this.modules.widgetCache.length;r++)if(this.modules.widgetCache[r].Name===n){if(i){this.modules.widgetCache[r].DesignTimeCache=t;return}if(!i){this.modules.widgetCache[r].ViewerTimeCache=t;return}}i?this.modules.widgetCache.push({Name:n,DesignTimeCache:t,ViewerTimeCache:null,SelectedFilterValue:null}):this.modules.widgetCache.push({Name:n,DesignTimeCache:null,ViewerTimeCache:t,SelectedFilterValue:null})},t.prototype.clearAllFilters=function(){var n,e,u,f;this.clearAllFilterClicked=!0;var i=[],r=this.modules.masterSlaveFilter,t={selectedInfo:r.getAllWidgetSelectedValues()};for(n=0;n<t.selectedInfo.length;n++)e=r.GetWidgetElementByReportName(t.selectedInfo[n].ReportName),u=BoldBIDashboard.Dashboard.WidgetHelper.getWidgetInstance(e),i=this.getUniqueList(i,r.GetSlaveListOfMasterWidget(t.selectedInfo[n].ReportName)),u.isClearFilter=!0,u.clearFilter(!1),t.selectedInfo[n].IsPoPWidget&&(t.selectedInfo[n]=r.getAllWidgetSelectedValues()[0]);f=this.modules.dataConfiguration;i.length>0&&f.fetchDataForWidgets(i,!1,t.selectedInfo.filter(function(n){return n.IsPoPWidget===!0}),!0,null,null,!1,null,!1,f.datasourceCallerId);this.clearAllFilterClicked=!1},t.prototype.getUniqueList=function(n,t){for(var i=0;i<t.length;i++)n.indexOf(t[i])===-1&&n.push(t[i]);return n},t.prototype.updateDashboard=function(n){var t;this.model.mode===BoldBIDashboard.Designer.mode.view&&this.model.clientSideCacheSettings.enable&&(this.cacheManager.isRefresh=!0,this.cacheManager.clearAllFromCache());var i=this.modules.masterSlaveFilter,r=this.modules.dataConfiguration,u={selectedInfo:i.getAllWidgetSelectedValues()},f=i.GetAllWidgetInstanceFromContainer(),e=[];for(t=0;t<f.length;t++)e.push(f[t].Name);r.fetchDataForWidgets(e,!1,u.selectedInfo,null,null,null,null,null,n);this.modules.labelParameter.getDataForLabelParameter(u.selectedInfo,this.id,!1,null,null,!0,r.datasourceCallerId);this.modules.containerTypeWidgetHelper.refreshContainerWidgets()},t.prototype.getLocalizationContent=function(){return window.Designer.App.LocalizationContent},t.getLocale=function(){return window.Designer.App.LocalizationContent},t.prototype.applyDashboardTheme=function(n){if(n.toUpperCase()!==this.modules.themeHelper.currentTheme.name.toUpperCase()){this.setDashboardTheme(n);var t=this.isDarkTypeTheme();BoldBIDashboard.DashboardUtil.defaultColorPalette=this.modules.themeHelper.currentTheme.dataColorPalette;this.modules.resource.updateGlobalColorCodePalette();this.applyLayoutTheme(t);this.applyAllWidgetsTheme(t)}},t.prototype.applyAllWidgetsTheme=function(n){var u=this.widgetHelper.getAllWidgets(),i,t,r;if(u.length>0)for(i=0;i<u.length;i++)t=u[i],t.applyWidgetTheme(n),r=t.getJson().ContainerSettings.BackgroundSettings,BoldBIDashboard.isNullOrUndefined(r)?t.ControlContainer.find(">.bbi-dbrd-control-background").css("background-color",this.modules.themeHelper.getWidgetTileBackground()):(this.modules.containerPropertyItem.updateBackgroundTransparency(n&&r.Transparency!==0?1:r.Transparency,u[i],!1),r.Color==="#ffffff"&&t.isBackgroundInfoNeeded&&t.ControlContainer.find(">.bbi-dbrd-control-background").css("background-color",this.modules.themeHelper.getWidgetTileBackground()))},t.prototype.updateWidgetHeaderHeightOnTheme=function(n){var t=0,i,r;BoldBIDashboard.isNullOrUndefined(n.ControlHeader)||(i=n.ControlHeader.find(".bbi-dbrd-control-title .e-title-text").css("font-size"),n.ControlHeader.css("height",BoldBIDashboard.isNullOrUndefined(i)?"":parseFloat(i)+WidgetHeaderFontSizeFactor.title+"px"),t=n.ControlHeader.height());BoldBIDashboard.isNullOrUndefined(n.ControlSubHeader)||(r=n.ControlSubHeader.find(".bbi-dbrd-control-sub-title .e-title-text").css("font-size"),n.ControlSubHeader.css("height",BoldBIDashboard.isNullOrUndefined(r)?"":parseFloat(r)+WidgetHeaderFontSizeFactor.subTitle+"px"),t=n.ControlSubHeader.css("display")!=="none"?t+n.ControlSubHeader.outerHeight():t);n.ContentContainer.css("height","calc(100% - "+t+"px)")},t.prototype.setDashboardTheme=function(n){this.model.theme=n;this.modules.themeHelper.currentTheme=JSON.parse(this.modules.themeHelper.getJsonTheme(n))},t.prototype.isDarkTypeTheme=function(){return this.model.enableTheme&&this.modules.themeHelper.currentTheme.type===BoldBIDashboard.Designer.theme.dark},t.prototype.applyLayoutTheme=function(n){this.modules.themeHelper.fetchThemeFontSrc();this.applyWidgetTileTheme(n);this.applySurfaceContainerTheme(n);this.applyBannerPanelTheme();this.applyToolTipTheme();this.applyMenuTheme(n);this.modules.themeHelper.applyAlertDialogTheme(n,this._id+"_alertDialogStyle");this.modules.themeHelper.applyErrorContainerTheme(this._id+"_errorContainerStyle");this.applyFilterOverviewTheme();this.modules.themeHelper.createandAppendFontSource()},t.prototype.applyThemeOnExport=function(){!BoldBIDashboard.isNullOrUndefined(this.model.dashboardFromData)&&(this.model.dashboardFromData.isExportImage||this.model.dashboardFromData.isExportPdf)&&(this.applyFilterOverViewOnExport(),this.applyLayoutTheme(this.isDarkTypeTheme()))},t.prototype.applyFilterOverviewTheme=function(){var n,i=[],t="#"+this._id+" .bbi-dbrd-filterListMenuPopUp",r;n=[];n.push(t+" .bbi-dbrd-titletext.e-dbrd-filter-title",t+" .e-dbrd-switch-original-view",t+" .bbi-dbrd-cleardiv .bbi-dbrd-clearAllFilters",t+" .bbi-dbrd-filter-nameList",t+" .bbi-dbrd-view-saved .bbi-dbrd-viewtext");i.push({key:n+"",value:this.modules.themeHelper.getFilterOverviewTitleFont()});n=[];n.push(t+" .bbi-dbrd-saveAs-filterData.bbi-dbrd-filterOverview-disableSaveAs",t+" .bbi-dbrd-save-filterData.bbi-dbrd-filterOverview-enableSave",t+" .bbi-dbrd-clearfilterclosetext .bbi-dbrd-clearfilters.e-dbrd-icon-effect",t+" .bbi-dbrd-view-saved .bbi-dbrd-icon-views");i.push({key:n+"",value:this.modules.themeHelper.getFilterOverviewIconFont()});n=[];n.push(t+" .e-dbrd-filterListscollection .bbi-brd-overview-widget-title");i.push({key:n+"",value:this.modules.themeHelper.getFilterOverviewWidgetFont()});n=[];n.push(t+" .e-dbrd-filterListscollection .bbi-dbrd-lists");i.push({key:n+"",value:this.modules.themeHelper.getFilterOverviewColumnFont()});n=[];n.push(t+" .e-dbrd-filterListscollection .bbi-dbrd-list");i.push({key:n+"",value:this.modules.themeHelper.getFilterOverviewValueFont()});r=this._id+"_FilterOverviewFontStyle";this.modules.themeHelper.createandAppendCustomStyle(r,i)},t.prototype.applyFilterOverViewOnExport=function(){var n,i=[],t,r=this.modules.themeHelper.getFilterOverviewTextColor(),u;n=[];n.push("#"+this._id+" .bbi-dbrd-applied-filter .bbi-dbrd-applied-filter-title");t="\tcolor:"+r+" !important;\n"+this.modules.themeHelper.getFilterOverviewWidgetFont();i.push({key:n+"",value:t});n=[];n.push("#"+this._id+" .bbi-dbrd-applied-filter .bbi-dbrd-filter-value>b");t="\tcolor:"+r+" !important;\n"+this.modules.themeHelper.getFilterOverviewColumnFont();i.push({key:n+"",value:t});n=[];n.push("#"+this._id+" .bbi-dbrd-applied-filter .bbi-dbrd-filter-value");t="\tcolor:"+r+" !important;\n"+this.modules.themeHelper.getFilterOverviewValueFont();i.push({key:n+"",value:t});u=this._id+"_FilterOverviewExportFontStyle";this.modules.themeHelper.createandAppendCustomStyle(u,i)},t.prototype.applyWidgetTileTheme=function(n){var e=this.modules.themeHelper.getWidgetTileBackground(),o=this.modules.themeHelper.getWidgetContainerBorder(n),s=this.modules.themeHelper.getWidgetTileTextColor(),h=this.modules.themeHelper.getWidgetIconColor(),t,r,i=[],u="#"+this._id,f;this.element.find(".bbi-dbrd-control-container").css("background",e);this.element.find(".bbi-dbrd-control-container").css("borderColor",o);t=[];t.push(u+" .bbi-dbrd-control-sub-title .e-title-text");r="\tcolor:"+s+" !important;"+this.modules.themeHelper.getWidgetSubTitleFontText();i.push({key:t+"",value:r});t=[];t.push(u+" .bbi-dbrd-control-header .bbi-dbrd-control-title .e-title-text");i.push({key:t+"",value:this.modules.themeHelper.getWidgetTitleFontText()});f=this._id+"_WidgetTitleStyle";this.modules.themeHelper.createandAppendCustomStyle(f,i);this.applyWidgetTileIconsTheme(h)},t.prototype.applySurfaceContainerTheme=function(n){this.element.find(".bbi-dashboarddesigner-surfaceContainer").css("background",this.modules.themeHelper.getSurfaceContainerBackground());this.element.find(".bbi-dbrd-designcanvas-container").css("background",this.modules.themeHelper.getSurfaceContainerBackground());var t=n?"#181e2b":"#c8c8c8";this.element.find(".bbi-dashboarddesigner-surfaceContainer").css("borderColor",t);this.element.find("#"+this._id+"_designAreaContainer").css("borderColor",t);this.element.find("#"+this._id+"_scrollContentDesignPanel").css("borderColor",t);this.element.find(".bbi-background-waiting-popup").css("background-color",this.modules.themeHelper.getWaitingPopupBackground())},t.prototype.applyBannerPanelTheme=function(){var u=this.modules.themeHelper.getBannerBackground(),f=this.modules.themeHelper.getBannerTextColor(),n,t,r,i,e;this.element.find(".bbi-dashboarddesigner-bannerPanel").css("background",u);this.element.find(".bbi-dashboarddesigner-designPanel .bbi-dashboarddesigner-bannerpanel-box-shadow").css("background",u);r=[];i="#"+this._id;n=[];n.push(i+" .bbi-dashboarddesigner-designPanel .bbi-dashboarddesigner-bannerPanel .bbi-dashboard-banner-title>p");t="\tcolor:"+f+" !important;"+this.modules.themeHelper.getFontStyleCssValue(this.modules.themeHelper.getBannerFontSize(),this.modules.themeHelper.getBannerFontWeight(),this.modules.themeHelper.getBannerFontFamily());r.push({key:n+"",value:t});n=[];n.push(i+" .bbi-dynamic-title-display",i+" .bbi-text-before-content");t="\tcolor:"+f+" !important;"+this.modules.themeHelper.getFontStyleCssValue(this.modules.themeHelper.getBannerIconFontSize(),this.modules.themeHelper.getBannerIconFontWeight())+this.modules.themeHelper.getBannerIconTextFontFamily();r.push({key:n+"",value:t});n=[];n.push(i+" .bbi-dynamic-title-display:hover",i+" .bbi-text-before-content:hover");t=this.modules.themeHelper.getFontStyleCssValue(this.modules.themeHelper.getBannerIconHoverFontSize(),this.modules.themeHelper.getBannerIconHoverFontWeight())+this.modules.themeHelper.getBannerIconTextHoverFontFamily();r.push({key:n+"",value:t});e=this._id+"_BannerTileStyle";this.modules.themeHelper.createandAppendCustomStyle(e,r);this.applyBannerPanelIconTheme()},t.prototype.applyToolTipTheme=function(){var n=this.element.find(".bbi-dbrd-designer-tooltip").attr("style"),t=this.modules.themeHelper.currentTheme.tooltip,i=this.modules.themeHelper.getToolTipFontText(),r=this.modules.themeHelper.getFontStyleCssValue(i.size,i.weight,i.family),u="background-color:"+t.background+"!important; color:"+t.font.color+"!important; borderColor:"+t.border+"!important; "+r;n=this.modules.themeHelper.getStyleString(n,u);this.element.find(".bbi-dbrd-designer-tooltip").attr("style",n)},t.prototype.applyMenuTheme=function(n){this.bbdesigner$(".e-menu").addClass("e-menu-dbrd-theme");this.modules.themeHelper.applyMenuTheme(n,this._id+"_menuStyle")},t.prototype.applyWidgetTileIconsTheme=function(){var t,i,r=[],n="#"+this._id,u;t=[];t.push(n+" .bbi-dbrd-control-description.e-icon-dbrd-theme",n+" .su-pin.e-icon-dbrd-theme",n+" .su-without-comment.e-icon-dbrd-theme",n+" .bbi-dbrd-maxim.e-icon-dbrd-theme",n+" .bbi-remove-control-filter.e-icon-dbrd-theme",n+" .bbi-dbrd-control-menu-icon.e-icon-dbrd-theme",n+" .bbi-dashboard-widget-menu.e-icon-dbrd-theme",n+" .bbi-dbrd-maxim-close.e-icon-dbrd-theme");i="\tcolor:"+this.modules.themeHelper.getWidgetIconColor()+" !important;\tbackground-color: transparent !important;"+this.modules.themeHelper.getWidgetIconFontText();r.push({key:t+"",value:i});t=[];t.push(n+" .boldbi-dashboarddesigner .bbi-dbrd-controlIcon-container .bbi-dbrd-control-description.e-icon-dbrd-theme:hover",n+" .boldbi-dashboarddesigner .bbi-dbrd-controlIcon-container .bbi-dashboard-widget-menu.su-pin.e-icon-dbrd-theme:hover",n+" .boldbi-dashboarddesigner .bbi-dbrd-controlIcon-container .bbi-dashboard-widget-menu.su-without-comment.e-icon-dbrd-theme:hover",n+" .boldbi-dashboarddesigner .bbi-dbrd-controlIcon-container .bbi-dbrd-maxim.e-icon-dbrd-theme:hover",n+" .boldbi-dashboarddesigner .bbi-dbrd-controlIcon-container .bbi-remove-control-filter.e-icon-dbrd-theme:hover",n+" .boldbi-dashboarddesigner .bbi-dbrd-controlIcon-container .bbi-dbrd-control-menu-icon.e-icon-dbrd-theme:hover",n+" .boldbi-dashboarddesigner .bbi-dbrd-controlIcon-container .e-icon-dbrd-theme:hover",n+" .boldbi-dashboarddesigner .bbi-dbrd-controlIcon-container .bbi-dbrd-control-description.e-icon-dbrd-theme:hover:before",n+" .boldbi-dashboarddesigner .bbi-dbrd-controlIcon-container .su-pin.e-icon-dbrd-theme:hover:before",n+" .boldbi-dashboarddesigner .bbi-dbrd-controlIcon-container .su-without-comment.e-icon-dbrd-theme:hover:before",n+" .boldbi-dashboarddesigner .bbi-dbrd-controlIcon-container .bbi-dbrd-maxim.e-icon-dbrd-theme:hover:before",n+" .boldbi-dashboarddesigner .bbi-dbrd-controlIcon-container .bbi-remove-control-filter.e-icon-dbrd-theme:hover:before",n+" .boldbi-dashboarddesigner .bbi-dbrd-controlIcon-container .bbi-dbrd-control-menu-icon.e-icon-dbrd-theme:hover:before",n+" .boldbi-dashboarddesigner .bbi-dbrd-controlIcon-container .e-icon-dbrd-theme:hover:before",n+" .boldbi-dashboarddesigner .bbi-dbrd-controlIcon-container .bbi-dbrd-maxim-close.e-icon-dbrd-theme:hover:before",n+" .boldbi-dashboarddesigner .widget-control-icon-wrapper.bbi-dbrd-icon-background-theme:hover:not([disabled])",n+" .boldbi-dashboarddesigner .bbi-dbrd-icon-background-theme:not([disabled])>.bbi-dbrd-icon-theme:hover");i="\tcolor:"+this.modules.themeHelper.getWidgetIconHoverTextColor()+" !important;\tbackground-color:"+this.modules.themeHelper.getWidgetIconHoverBackground()+" !important;"+this.modules.themeHelper.getWidgetIconHoverText();r.push({key:t+"",value:i});u=this._id+"_WidgetTileIconStyle";this.modules.themeHelper.createandAppendCustomStyle(u,r);this.element.find(".bbi-dbrd-control-description").addClass("e-icon-dbrd-theme");this.element.find(".su-pin").addClass("e-icon-dbrd-theme");this.element.find(".su-without-comment").addClass("e-icon-dbrd-theme");this.element.find(".su-with-comment").addClass("e-icon-dbrd-theme");this.element.find(".bbi-dbrd-maxim").addClass("e-icon-dbrd-theme");this.element.find(".bbi-remove-control-filter").addClass("e-icon-dbrd-theme");this.element.find(".bbi-dbrd-control-menu-icon").addClass("e-icon-dbrd-theme");this.element.find(".bbi-dashboard-widget-menu").addClass("e-icon-dbrd-theme");this.element.find(".bbi-dbrd-maxim-close").addClass("e-icon-dbrd-theme")},t.prototype.applyBannerPanelIconTheme=function(){var i,o,c,l,a;this.element.find(".e-dashboard-banner-icon").addClass("e-icon-dbrd-theme");var t=[],u=[],v=[],y=[],r=[],h=this.modules.themeHelper.getBannerIconColor(),p=this.modules.themeHelper.getBannerBackground(),f=this.modules.themeHelper.getBannerIconHoverTextColor(),w=this.modules.themeHelper.getBannerIconHoverBackground(),s=this.modules.themeHelper.getFontStyleCssValue(this.modules.themeHelper.getBannerIconFontSize(),this.modules.themeHelper.getBannerIconFontWeight()),e=this.modules.themeHelper.getFontStyleCssValue(this.modules.themeHelper.getBannerIconHoverFontSize(),this.modules.themeHelper.getBannerIconHoverFontWeight()),n="#"+this._id;t.push(n+" .bbi-dashboarddesigner-dashboard-parameters.e-icon-dbrd-theme",n+" .bbi-dashboarddesigner-bannerpanel-box-shadow.bbi-dashboard-dark",n+" .e-dashboard-banner-smallMenu.e-icon-dbrd-theme",n+" .bbi-dynamic-filterdroparrow.e-icon-dbrd-theme");i="\tcolor:"+h+" !important;"+s;r.push({key:t+"",value:i});t=[];t.push(n+" .bbi-dashboarddesigner-designPanel .bbi-dashboarddesigner-bannerPanel .e-dashboard-banner-icon:before",n+" .bbi-dashboarddesigner-designPanel .bbi-dashboarddesigner-bannerPanel .e-dashboard-banner-icon");i="\tcolor:"+h+" !important;"+s;r.push({key:t+"",value:i});t=[];t.push(n+" .bbi-dashboarddesigner-designPanel .bbi-dashboarddesigner-bannerPanel .e-dashboard-banner-icon:hover:before");i="\tcolor:"+f+" !important;"+e;r.push({key:t+"",value:i});t=[];t.push(n+" .bbi-dashboarddesigner-designPanel .bbi-dbrd-filterListMenuPopUp.bbi-dbrd-theme-dark .bbi-dbrd-viewtext",n+" .bbi-dashboarddesigner-designPanel .bbi-dbrd-filterListMenuPopUp.bbi-dbrd-theme-dark .bbi-dbrd-saveviewed-filters",n+" .bbi-dashboarddesigner-designPanel .bbi-dbrd-titlediv",n+" .bbi-dashboarddesigner-designPanel .bbi-brd-overview-widget-title",n+" .bbi-dashboarddesigner-designPanel .bbi-dbrd-list",n+" .bbi-dashboarddesigner-designPanel .bbi-dbrd-lists",n+" .bbi-dashboarddesigner-designPanel .bbi-dbrd-titletext");i="\tcolor:"+this.modules.themeHelper.getFilterOverviewTextColor()+" !important;";r.push({key:t+"",value:i});t=[];t.push(n+" .bbi-dashboarddesigner-designPanel .bbi-dashboarddesigner-bannerPanel .e-dashboard-banner-icon .icon-with-label",n+" .bbi-dashboarddesigner-designPanel .bbi-dashboarddesigner-bannerPanel .e-dashboard-banner-icon .bbi-dashboard-banner-theme-content");i="\tcolor:"+this.modules.themeHelper.getBannerTextColor()+" !important;"+s+this.modules.themeHelper.getBannerIconTextFontFamily();r.push({key:t+"",value:i});t=[];t.push(n+" .bbi-dashboarddesigner-designPanel .bbi-dashboarddesigner-bannerPanel .e-dashboard-banner-icon:hover .icon-with-label",n+" .bbi-dashboarddesigner-designPanel .bbi-dashboarddesigner-bannerPanel .e-dashboard-banner-icon:hover .bbi-dashboard-banner-theme-content");i="\tcolor:"+f+" !important;"+e+this.modules.themeHelper.getBannerIconTextHoverFontFamily();r.push({key:t+"",value:i});u.push(n+" .bbi-dashboard-banner-optionmenu.e-icon-dbrd-theme:before",n+" .e-dashboard-banner-backButton.e-icon-dbrd-theme:before",n+" .bbi-dashboard-banner-unfavorite.e-icon-dbrd-theme:before",n+" .bbi-dashboard-banner-description.e-icon-dbrd-theme::before");o="\tbackground:"+p+" !important;\n\tcolor:"+h+" !important;"+s;r.push({key:u+"",value:o});v.push(n+" .server-banner-icon.e-icon-dbrd-theme:hover",n+" .bbi-dashboard-banner-unfavorite.e-icon-dbrd-theme:hover:before",n+" .bbi-dashboarddesigner-designPanel .bbi-dashboarddesigner-bannerPanel .bbi-dashboarddesigner-active .bbi-dynamic-filterdroparrow.e-icon-dbrd-theme",n+" .bbi-dashboarddesigner-designPanel .bbi-dashboarddesigner-bannerPanel .bbi-dbrd-filterListMenu:hover .bbi-dynamic-filterdroparrow.e-icon-dbrd-theme",n+" .bbi-dbrd-filterListMenu:hover .bbi-dynamic-filterdroparrow.e-icon-dbrd-theme",n+" .bbi-dashboarddesigner-active .bbi-dynamic-filterdroparrow.e-icon-dbrd-theme",n+" .bbi-dashboarddesigner-active.bbi-dashboard-banner-optionmenu.e-icon-dbrd-theme:before",n+" .bbi-dashboarddesigner-active.bbi-dashboard-banner-optionmenu.e-icon-dbrd-theme",n+" .boldbi-dashboarddesigner .bbi-dbrd-background-theme:hover:not([disabled])",n+" .boldbi-dashboarddesigner .bbi-dashboarddesigner-bannerPanel .bbi-dbrd-icon-background-theme:hover:not([disabled])",n+" .bbi-dashboarddesigner-active");c="\tbackground:"+w+" !important;\n\tcolor:"+f+" !important;"+e;r.push({key:v+"",value:c});y.push(n+" .bbi-dashboard-banner-optionmenu.e-icon-dbrd-theme:hover:before",n+" .e-dashboard-banner-backButton.e-icon-dbrd-theme:hover:before");l="\tbackground:"+w+" !important;\n\tcolor:"+f+" !important;"+e;r.push({key:y+"",value:l});u=[];u.push(n+" .bbi-dashboard-banner-description.e-icon-dbrd-theme:hover::before");o="\tbackground:"+p+" !important;\n\tcolor:"+f+" !important;"+e;r.push({key:u+"",value:o});a=this._id+"_BannerPanelIconStyle";this.modules.themeHelper.createandAppendCustomStyle(a,r);this.element.find(".e-dashboard-banner-backButton").addClass("e-icon-dbrd-theme");this.element.find(".bbi-dashboard-banner-unfavorite").addClass("e-icon-dbrd-theme");this.element.find(".bbi-dashboard-banner-description").addClass("e-icon-dbrd-theme");this.element.find(".bbi-dynamic-filterdroparrow").addClass("e-icon-dbrd-theme");this.element.find(".server-banner-icon").addClass("e-icon-dbrd-theme");this.element.find(".bbi-dashboarddesigner-dashboard-parameters").addClass("e-icon-dbrd-theme");this.element.find(".bbi-dashboard-banner-optionmenu").addClass("e-icon-dbrd-theme");this.element.find(".e-dashboard-banner-smallMenu").addClass("e-icon-dbrd-theme")},t.prototype.deleteWidgetfromCollection=function(n){if(this.modules.widgetCache.length>0)for(var t=0;t<this.modules.widgetCache.length;t++)if(this.modules.widgetCache[t].Name===n){this.modules.widgetCache.splice(t,1);break}},t.prototype.viewerAjaxLoad=function(n){if(n.inVokemethod==="_reportLoaded"){var i=[],t={headers:i,data:null,reportDesignerToken:this.authenticationToken,serviceAuthorizationToken:this.model.serviceAuthorizationToken};this.triggerEvents("ajaxBeforeLoad",t);n.data=t.data;n.serviceAuthorizationToken=t.serviceAuthorizationToken;i.push({Key:"reportDesignerToken",Value:t.reportDesignerToken});n.headers=i}},t.prototype.updateDescription=function(){this.dashboardDescription=this.modules.serialization.dashboardPropertyJson.Description=this.model.dashboardDescription},t.prototype.updateDashboardName=function(){this.reportFileName=this.modules.serialization.dashboardPropertyJson.Name=this.model.dashboardName},t.prototype.setCultureInfo=function(n){this.model.localeSettings.culture=n;this.updateCulture(n);this.itemPanel.updateCulture();this.rptToolbar.updateCulture(n);this.modules.propertyPanel.updateCulture(n);this.modules.dataSource.updateCulture(n);this.modules.dataSet.updateCulture(n)},t.prototype.updateCulture=function(){var n=this._id,t=this.i18nLocale.menuBar;this.element.find("#"+n+"_previewButton").text(t.previewText);this.element.find("#"+n+"_Label_newMenuItem").text(t.newMenu);this.element.find("#"+n+"_Label_openMenuItem").html(t.openMenu);this.element.find("#"+n+"_Label_saveMenuItem").html(t.saveMenu);this.element.find("#"+n+"_createFileContainer").html(t.createReport);this.element.find("#"+n+"_openFileContainer").html(t.openReport);this.element.find("#"+n+"_CreateButton").html(t.createButtonText);this.element.find("#"+n+"_designButton").html(t.designButtonText)},t.prototype._destroy=function(){this.abortPendingRequests();BoldBIDashboard.destroyWidgets(this.element);BoldBIDashboard.DashboardUtil.destroyEjToolbarObject(this.element);BoldBIDashboard.DashboardUtil.destroyEjObjects(this.element);this.unwiredEvents();this.designerPanel&&this.designerPanel.destroy();this.modules.Mode&&this.modules.Mode.unwireEvents();this.destroyEjMenu();this.destroyResponsiveTollbar();this.resetInstance();this.element.html("")},t.prototype.abortPendingRequests=function(){if(this.modules.dataConfiguration.abortPendingWidgetDataRequest(),this.modules.designerRequests.length>0){for(var n=0;n<this.modules.designerRequests.length;n++)this.modules.designerRequests[n].readyState!==4&&this.modules.designerRequests[n].abort();this.designerRequests=this.modules.designerRequests;this.designerRequests=null}},t.prototype.resetAutoRefreshTimer=function(){this.modules.autoRefresh&&this.modules.autoRefresh.clearAutoRefreshTimer()},t.prototype.resetInstance=function(){clearInterval(this.modules.propertyPanel.groupInterval);this.resetAutoRefreshTimer();this.modules.resetInsatnce();this.resetDesignerObject();this._modules=null},t.prototype.resetDesignerObject=function(){this.authenticationToken=null;this.cacheManager=null;this.copiedItem=null;this.dashboardDescription="";this.dataConfigurationPanel=null;this.designCanvasSettings=null;this.designerPanel=null;this.dragDropHelper=null;this.isExecute=!1;this.isHeight=!1;this.isNewRpt=!1;this.isNewServerRpt=!1;this.isOpenServerRpt=!1;this.isWidth=!1;this.itemPanel=null;this.previewFeaturesJson=null;this.publishedId="";this.rdlParser=null;this.refreshSetting=null;this.reportFileName="Untitled Dashboard";this.rptToolbar=null;this.toolbarTag=null;this.viewDataPanel=null;this.widgetCacheCollection=null;this.designerRequests=null;this.currentFilterData.length=0;this.colorCustomIconStore.length=0;this.revertInteractionList.length=0;this.model.dashboardFromData.filterInfo.length=0;this.widgetHelper=null;t.editManager=null},t.prototype.destroyEjMenu=function(){for(var t=this.bbdesigner$(".bbi-designer-menu"),n=0;n<t.length;n++)this.destroyEjBodyElements(this.bbdesigner$(t[n]))},t.prototype.destroyResponsiveTollbar=function(){this.destroyEjBodyElements(this.bbdesigner$(".bbi-designer-toolbarcontainer.e-toolbar"));this.bbdesigner$("#"+this._id+"_toolBar_hiddenlist").remove();this.modules.queryDesigner&&(this.destroyEjBodyElements(this.bbdesigner$(".bbi-querydesigner-toolbarcontainer.e-toolbar")),this.bbdesigner$("#"+this.id+"_div_designerTool_hiddenlist").remove())},t.prototype.destroyEjBodyElements=function(n){var r=n.data(),t,i;if(!BoldBIDashboard.isNullOrUndefined(r)&&(t=r.ejWidgets,t&&t.length))for(i=t.length-1;i>=0;i--)r[t[i]]&&r[t[i]].destroy&&r[t[i]].destroy()},t.prototype.showItemPopup=function(n){this.element.append(n)},t.prototype.getParamListInInputElement=function(n,t,i,r){r===void 0&&(r=new ParameterSupportedTypes);this.getListParam(n,t,i,r)},t.prototype.getListParam=function(n,t,i,r){var e;if(i.key!=="Shift"){var o=this.bbdesigner$(i.target).val(),f=this.element.find(".e-dbrd-paramlist-popup-container"),s=f.css("display")==="block"?!0:!1,u=BoldBIDashboard.isNullOrUndefined(t)?i.target.selectionStart:i.type==="keydown"?i.target.selectionStart:i.target.selectionStart-1;i.key==="@"?(f.length>0&&f.remove(),this.renderParamListDialog(this.bbdesigner$(i.target),n,r,this.isQueryDesignerMode),this.showDialog(this.bbdesigner$(i.target),n,"",u,t,r,this.isQueryDesignerMode)):s&&u>-1?(e=o.substring(o.slice(0,u).lastIndexOf("@")+1,u)+i.key,this.showDialog(this.bbdesigner$(i.target),n,e,u,t,r),this.applyFilterValues(n,e.toLowerCase())):f.css({display:"none"})}},t.prototype.showDialog=function(n,t,i,r,u,f,e){var c=this.getParamListDataSource([],null,BoldBIDashboard.isNullOrUndefined(this._modules.queryDesigner)?null:this._modules.queryDesigner.queryParamCollection,f,e),s=this.element.find("#"+t+"_param_list_popup_container"),h;if(c.length>0){var o=n.offset(),a=o.left,l=s.height(),v=window.innerHeight-(o.top+n.height()),y=v>l,p=y?o.top+n.height()+2:o.top-l-4;s.css({left:a,top:p-this.element.offset().top+2,display:"block","z-index":BoldBIDashboard.getMaxZindex()+1,width:n.parent().width()+"px"});h=this.element.find("#"+t+"_popup_container_list_Box");h.BoldBIDashboardListBox({dataSource:c,fields:{text:"displayText",value:"text"},select:this.bbdesigner$.proxy(this.updateParamSelect,this,n,"@"+i,r,u)});h.data("BoldBIDashboardListBox")._refreshScroller()}else s.css({display:"none"})},t.prototype.applyFilterValues=function(n,t){var i=this.element.find("#"+n+"_popup_container_list_Box").data("BoldBIDashboardListBox"),r=[],u;i.model.dataSource.filter(function(n){n.text.toString().toLowerCase().search(t)>-1&&r.push(n.text)});r.length>0?(i.hideAllItems(),i.showItemsByValues(r)):(u=this.element.find(".e-dbrd-paramlist-popup-container"),u.css({display:"none"}));i._refreshScroller()},t.prototype.renderParamListDialog=function(n,t,i,r){i===void 0&&(i=new ParameterSupportedTypes);var e=BoldBIDashboard.buildTag("div.e-dbrd-paramlist-popup-container boldbi-dashboarddesigner e-ddl-popup e-popup","",{height:"150px",position:"absolute",border:"1px solid #dddddd","background-color":"white","border-radius":"3px",display:"none","z-index":"10100"},{id:t+"_param_list_popup_container"}),u=BoldBIDashboard.buildTag("div.e-multiselect-waiting-popup","",{height:"150px","background-color":"white","box-sizing":"border-box","-moz-box-sizing":"border-box","-webkit-box-sizing":"border-box","z-index":"1010"},{id:t+"_popup_container_list_Box_div"}),f=BoldBIDashboard.buildTag("ul.e-dbrd-popup-param-list","",{},{id:t+"_popup_container_list_Box"});u.append(f);e.append(u);this.element.append(e);f.BoldBIDashboardListBox({dataSource:this.getParamListDataSource([],null,BoldBIDashboard.isNullOrUndefined(this._modules.queryDesigner)?null:this._modules.queryDesigner.queryParamCollection,i,r),fields:{id:"text",text:"displayText",value:"text"},showCheckbox:!1,width:"100%",height:"100%",cssClass:"bbi-dbrd-control"});f.BoldBIDashboardListBox("refresh",!0);u.BoldBIDashboardWaitingPopup({showOnInit:!1,cssClass:"e-designer-waitingpopup "+this.id+"_designer_waiting_popup bbi-designer-loader"})},t.prototype.updateParamSelect=function(n,t,i,r,u){var f=n.val(),e=f.slice(0,i-t.length+1),o=e+(n.hasClass("e-designer-param-list")||n.hasClass("e-maskedit")?"@":"")+u.value+f.slice(i+1),s=(e+u.value).length+1,h,c;this.bbdesigner$(n).val(o);n.focus();h=n[0];h.setSelectionRange(s,s);c=this.element.find(".e-dbrd-paramlist-popup-container");c.css({display:"none"});!BoldBIDashboard.isNullOrUndefined(r)&&r.fnction&&BoldBIDashboard.DashboardUtil.invokeCallBack(r.fnction,o)},t.prototype.getParamListDataSource=function(n,t,i,r,u){var h=this,c;r===void 0&&(r=new ParameterSupportedTypes);var e=!1,f=null,o=[],s=null,l=this.rdlParser.rdlJsonObj.DataSets;return l.length>0&&l.forEach(function(t){n.filter(function(n){return n.Id===t.Id}).length===0&&n.push(h.bbdesigner$.extend(!0,{},t))}),u&&(s=this._modules.queryDesigner._datasourceInfo,(n.length===0&&i.length>0||n.length>0&&n.filter(function(n){return n.Id===s.Id}).length===0)&&(c={Name:s.Name,Query:{DashboardParameters:i}},n.push(this.bbdesigner$.extend(!0,{},c)))),n.forEach(function(n){BoldBIDashboard.isNullOrUndefined(n)||BoldBIDashboard.isNullOrUndefined(n.Query)||BoldBIDashboard.isNullOrUndefined(n.Query.DashboardParameters)||(f=n.Name,e=BoldBIDashboard.isNullOrUndefined(t)?!1:n.Id===t,n.Query.DashboardParameters=e||!BoldBIDashboard.isNullOrUndefined(s)&&s.Id===n.Query.DataSourceId?i:n.Query.DashboardParameters,n.Query.DashboardParameters.forEach(function(n){var t,i,c,u,s;if(h.isValidParameterType(n,r)){t=n.ParameterName;switch(n.Mode){case ParameterMode.Literal:i=n.LiteralModeInfo;c=!BoldBIDashboard.isNullOrUndefined(i.StartValue)&&!BoldBIDashboard.isNullOrUndefined(i.EndValue)||!BoldBIDashboard.isNullOrUndefined(i.RangeStartDate)&&!BoldBIDashboard.isNullOrUndefined(i.RangeEndDate)||!BoldBIDashboard.isNullOrUndefined(i.RelativeDateItems);c?(u=t+".START",s=t+".END",o.push(e?{text:"{{:"+u+"}}",displayText:u}:{text:"{{:"+f+"."+u+"}}",displayText:u+" ("+f+")"}),o.push(e?{text:"{{:"+s+"}}",displayText:s}:{text:"{{:"+f+"."+s+"}}",displayText:s+" ("+f+")"})):o.push(e?{text:"{{:"+t+"}}",displayText:t}:{text:"{{:"+f+"."+t+"}}",displayText:t+" ("+f+")"});break;case ParameterMode.List:o.push(e?{text:"{{:"+t+"}}",displayText:t}:{text:"{{:"+f+"."+t+"}}",displayText:t+" ("+f+")"})}}}))}),o.push({displayText:this.i18nLocale.userParameter.fullName,text:"{{:CURRENTUSER.FULLNAME}}"},{displayText:this.i18nLocale.userParameter.email,text:"{{:CURRENTUSER.EMAIL}}"}),o},t.prototype.isValidParameterType=function(n,t){return n.DataType===DynamicParameterDataType.Boolean&&t.isSupportBool||n.DataType===DynamicParameterDataType.Date&&t.isSupportDate||n.DataType===DynamicParameterDataType.String&&t.isSupportText||n.DataType===DynamicParameterDataType.Number&&t.isSupportNumeric?!0:!1},t.prototype.wiredEvents=function(){this._on(this.element,"mousedown",".bbi-itempanel-report",this.hideItemPanelToolTip);this._on(this.element,"keydown",this.designerKeyDown);this._on(this.element,"mousedown",this.designerMouseDown);this._on(this.bbdesigner$(window),"resize",this.designerResize);this._on(this.element,"mouseover",".bbi-dbrd-designer-hoverable",this.showTooltip);this._on(this.element,"mouseleave",".bbi-dbrd-designer-hoverable",this.hideTooltip);this.isMobileLayout()&&(this._on(this.element,"tap",".bbi-dbrd-designer-hoverable",this.showTooltip),this._on(this.element,"tap",".bbi-dbrd-designer-hoverable",this.hideTooltip));this._on(this.bbdesigner$(document),"keypress",".bbi-designer-dialog",this.keyEvent);this._on(this.bbdesigner$(document),"keypress",".bbi-designer-alertbox",this.alertKeyEvent);this._on(this.element,"click",".bbi-dashboard-banner-unfavorite",this.setAsFavorite);this._on(this.element,"click",".bbi-dashboard-banner-favorite",this.setAsUnFavorite);this._on(this.element,"click",".bbi-dbrd-controlIcon-container",this.toolBarMethods);this._on(this.bbdesigner$("body"),"mouseover",".e-ddl-popup, .e-atc-popup, .e-time-popup",BoldBIDashboard.DashboardUtil.showDDLPopupMouseOverEvent);this._on(this.bbdesigner$("body"),"mouseleave",".e-ddl-popup, .e-atc-popup, .e-time-popup ",BoldBIDashboard.DashboardUtil.hideDDLPopupMouseLeaveEvent);this._on(this.bbdesigner$("body"),"touchmove",".bbi-dashboard-designer.boldbi-dashboarddesigner",BoldBIDashboard.DashboardUtil.hidePopup);this._on(this.bbdesigner$("body"),"touchmove",".e-griditem.e-dbrd-widget.bbi-dbrd-control",BoldBIDashboard.DashboardUtil.showGridScrollBar);this._on(this.element,"click",".bbi-dbrd-scroll-plus-icon",this.designerPanel.toggleScrollUI);this._on(this.bbdesigner$("body"),"keydown",".e-designer-param-list",this.bbdesigner$.proxy(this.getListParam,this,this._id,null))},t.prototype.unwiredEvents=function(){this._off(this.element,"mousedown",".bbi-itempanel-report",this.hideItemPanelToolTip);this._off(this.element,"keydown",this.designerKeyDown);this._off(this.bbdesigner$(window),"resize",this.designerResize);this._off(this.element,"mousedown",this.designerMouseDown);this._off(this.element,"mouseover",".bbi-dbrd-designer-hoverable",this.showTooltip);this._off(this.element,"mouseleave",".bbi-dbrd-designer-hoverable",this.hideTooltip);this._off(this.element,"tap",".bbi-dbrd-designer-hoverable",this.showTooltip);this._off(this.element,"tap",".bbi-dbrd-designer-hoverable",this.hideTooltip);this._off(this.bbdesigner$(document),"keypress",".bbi-designer-dialog",this.keyEvent);this._off(this.bbdesigner$(document),"keypress",".bbi-designer-alertbox",this.alertKeyEvent);this._off(this.element,"click",".bbi-dashboard-banner-unfavorite",this.setAsFavorite);this._off(this.element,"click",".bbi-dashboard-banner-favorite",this.setAsUnFavorite);this._off(this.element,"click",".bbi-dbrd-controlIcon-container",this.toolBarMethods);this._off(this.bbdesigner$("body"),"mouseover",".e-ddl-popup, .e-atc-popup, .e-time-popup",BoldBIDashboard.DashboardUtil.showDDLPopupMouseOverEvent);this._off(this.bbdesigner$("body"),"mouseleave",".e-ddl-popup, .e-atc-popup, .e-time-popup ",BoldBIDashboard.DashboardUtil.hideDDLPopupMouseLeaveEvent);this._off(this.bbdesigner$("body"),"touchmove",".bbi-dashboard-designer.boldbi-dashboarddesigner",BoldBIDashboard.DashboardUtil.hidePopup);this._off(this.bbdesigner$("body"),"touchmove",".e-griditem.e-dbrd-widget.bbi-dbrd-control",BoldBIDashboard.DashboardUtil.showGridScrollBar);BoldBIDashboard.isNullOrUndefined(this.designerPanel)||this._off(this.element,"click",".bbi-dbrd-scroll-plus-icon",this.designerPanel.toggleScrollUI)},t.prototype.updateDSEvents=function(){this._off(this.element,"mouseover",".bbi-dbrd-designer-hoverable",this.showTooltip);this._off(this.element,"mouseleave",".bbi-dbrd-designer-hoverable",this.hideTooltip);this._off(this.element,"tap",".bbi-dbrd-designer-hoverable",this.showTooltip);this._off(this.element,"tap",".bbi-dbrd-designer-hoverable",this.hideTooltip);this._on(this.element,"mouseover",".bbi-dbrd-designer-hoverable",this.showTooltip);this._on(this.element,"mouseleave",".bbi-dbrd-designer-hoverable",this.hideTooltip);this.isMobileLayout()&&(this._on(this.element,"tap",".bbi-dbrd-designer-hoverable",this.showTooltip),this._on(this.element,"tap",".bbi-dbrd-designer-hoverable",this.hideTooltip))},t.prototype.toolBarMethods=function(n){var u,f;if(!BoldBIDashboard.isNullOrUndefined(n)){var t=this.bbdesigner$(n.target),e=t.attr("data-name"),o=this.bbdesigner$(n.currentTarget).parents(".bbi-dbrditem"),i=BoldBIDashboard.Dashboard.WidgetHelper.getWidgetInstance(o),r=i.getJson();this._trigger("onWidgetIconClick",{target:t,event:n,name:e,serviceUrl:this.model.serviceUrl,dashboardPath:this.model.dashboardPath,widgetId:BoldBIDashboard.isNullOrUndefined(r.UniqueId)?null:r.UniqueId,widgettype:i.Type,dataWidgetId:i.Name,headertext:BoldBIDashboard.isNullOrUndefined(r.ContainerSettings)?null:r.ContainerSettings.Title});u=this.modules.maximize;switch(e){case"menu":this.exportPanel.exportMenuClick(t.attr("id"),n);break;case"export":if(this.isMobileLayout()){f={ID:"image"};this.exportPanel.onExportMenuClick(!0,i.Name,f)}else this.exportPanel.exportMenuClick(t.attr("id"),n);break;case"maximize":u.showMaximizeContiner(n);break;case"maximize_close":u.hideMaximizeContainer(n);break;case"filter":this.clearMasterFilter(n)}}},t.prototype.hideItemPanelToolTip=function(n){var i=this.bbdesigner$(n.currentTarget),t=i.data("BoldBIDashboardTooltip");BoldBIDashboard.isNullOrUndefined(t)||t.hide()},t.prototype.keyEvent=function(n){var t,r,i,u;if(n.keyCode===13&&!this.bbdesigner$(n.currentTarget).find(".bbi-designer-okbtn").hasClass("e-disable")){for(t=!1,r=this.bbdesigner$(n.currentTarget).find(".e-dropdownlist"),i=0;i<r.length;i++)if(u=this.bbdesigner$(r[i]).data("BoldBIDashboardDropDownList"),t=!BoldBIDashboard.isNullOrUndefined(u)&&this.bbdesigner$(u.popupListWrapper[0]).css("display")==="block",t)break;t||this.bbdesigner$(n.currentTarget).find(".bbi-designer-okbtn").click()}},t.prototype.alertKeyEvent=function(n){n.keyCode===13&&this.bbdesigner$(n.currentTarget).find(".bbi-designer-alert-okbtn").click()},t.prototype.clearMasterFilter=function(n){var t=this.bbdesigner$(n.target),u=t.closest(".bbi-dbrditem"),i=BoldBIDashboard.Dashboard.WidgetHelper.getWidgetInstance(u),r;if(t.hasClass("bbi-remove-control-filter-enable")||t.hasClass("e-dbrd-pop-reset")){if(this.isDesignPreviewMode()||this.isViewMode()){if(r=this.triggerActionBeginForClearWidgetFilter(i),r)return;this.clearmasterFilter=!0;i.isClearFilter=!0}i.clearFilter()}},t.prototype.triggerActionBeginForClearWidgetFilter=function(n){if(!BoldBIDashboard.isNullOrUndefined(n)){var t=n.getJson();return this._trigger("actionBegin",{eventType:"clearWidgetFilter",source:{element:n.ControlContainer,data:{widgetName:t.ContainerSettings.Title,widgetProperties:t,selectedFilterValues:t.SelectedFilterValues}}})}},t.prototype.triggerActionCompleteForClearWidgetFilter=function(n){if(!BoldBIDashboard.isNullOrUndefined(n)&&(this.isViewMode()||this.isDesignPreviewMode())){var t=n.getJson();this._trigger("actionComplete",{eventType:"clearWidgetFilter",source:{element:n.ControlContainer,data:{widgetName:t.ContainerSettings.Title,widgetProperties:t,selectedFilterValues:t.SelectedFilterValues}}})}},t.prototype.triggerActionBeginForWidgetFilterInteraction=function(n){if(!BoldBIDashboard.isNullOrUndefined(n)&&(this.isViewMode()||this.isDesignPreviewMode())){var t=n.getJson();return this._trigger("actionBegin",{eventType:"filterInteraction",source:{element:n.ControlContainer,data:{widgetName:t.ContainerSettings.Title,widgetProperties:t,selectedFilterValues:n.isDefaultDataWidget()?t.selectedValue:t.SelectedFilterValues}}})}},t.prototype.triggerActionCompleteForWidgetFilterInteraction=function(n){if(!BoldBIDashboard.isNullOrUndefined(n)&&(this.isViewMode()||this.isDesignPreviewMode())){var t=n.getJson();this._trigger("actionComplete",{eventType:"filterInteraction",source:{element:n.ControlContainer,data:{widgetName:t.ContainerSettings.Title,widgetProperties:t,selectedFilterValues:n.isDefaultDataWidget()?t.selectedValue:t.SelectedFilterValues}}})}},t.prototype.designerResize=function(){var i=this,t,n;this.model.disableDashboardResize||(t=BoldBIDashboard.browserInfo(),n=this,this.resizeTO&&clearTimeout(this.resizeTO),this.resizeTO=setTimeout(function(){var o,s,c,l,e,r,h;n.triggerViewerEvent(ViewerEvent.actionBegin,ViewerEventType.resizeDashboard);var a=n.isWidth?n.element[0].parentElement.style.width:n.element[0].style.width,v=n.isHeight?n.element[0].parentElement.style.height:n.element[0].style.height,u=n.bbdesigner$(n.element).height(),f=n.bbdesigner$(n.element).width();v.indexOf("%")!==-1?(n.isPercentHeight=parseFloat(v),o=n.isHeight?n.bbdesigner$(n.element).parent().height():u,u=n.isHeight?o:o/100*n.isPercentHeight):n.element[0].parentElement.clientHeight!==0&&n.isPercentHeight!==-1?u=n.isHeight?n.element[0].parentElement.clientHeight:n.element[0].parentElement.clientHeight/100*n.isPercentHeight:n.isHeight&&n.element[0].parentElement.clientHeight!==0?u=n.element[0].parentElement.clientHeight:t.name==="msie"&&t.version==="8.0"&&n.element[0].parentElement.clientHeight!==0&&(u=n.element[0].parentElement.clientHeight);n.element.height(u);a.indexOf("%")!==-1?(n.isPercentWidth=parseFloat(a),s=n.isWidth?n.bbdesigner$(n.element).parent().width():f,f=n.isWidth?s:s/100*n.isPercentWidth):n.element[0].parentElement.clientWidth!==0&&n.isPercentWidth!==-1?f=n.isWidth?n.element[0].parentElement.clientWidth:n.element[0].parentElement.clientWidth/100*n.isPercentWidth:n.isWidth&&n.element[0].parentElement.clientWidth!==0?f=n.element[0].parentElement.clientWidth:t.name==="msie"&&t.version==="8.0"&&n.element[0].parentElement.clientWidth!==0&&(f=n.element[0].parentElement.clientWidth);n.element.width(f);n.modules.Mode.designAreaTag.find(".bbi-dbrd-maximizeContainer").length===1?n.designerPanel.maximize.reSize():(n.updateSize(),n.designerPanel.updateDesignPanelSize(),n.designerPanel.updateItemsAfterSizeChange());BoldBIDashboard.DashboardUtil.refreshIndicator(n.element);n.hideAllPopup();c=i.modules.viewDataDialog;c.resize();n.triggerViewerEvent(ViewerEvent.actionComplete,ViewerEventType.resizeDashboard);l=i.modules.connectionDialog;l.resize();n.model.mode===BoldBIDashboard.Designer.mode.design&&(e=i.modules.layoutDialog,e.getCookie()||e.updatePosition(),e.closeDlg());BoldBIDashboard.isNullOrUndefined(n.model.dashboardFromData)||!n.model.dashboardFromData.loadFromData||n.model.dashboardFromData.isControl||(r=n.model.dashboardFromData,!BoldBIDashboard.isNullOrUndefined(r.layoutData)&&r.loadFromData&&(r.isExportPdf||r.isExportImage)&&(h=JSON.parse(r.layoutData),BoldBIDashboard.isNullOrUndefined(h.DesignCanvasSettings)||h.DesignCanvasSettings.NumberOfRows===n.designerPanel.singlePageRowLength||n.designerPanel.rowsLength===n.designerPanel.singlePageRowLength||(n.designerPanel.designPanel.css("height","auto"),n.element.css("height","auto"))))},200))},t.prototype.updateSize=function(){this.setContainerSize();this.designerPanel.isMobileView=(this.model.mode===BoldBIDashboard.Designer.mode.view||this.model.mode===BoldBIDashboard.Designer.mode.designpreview)&&this.isMobileLayout();this.designerPanel.designPanel.removeClass("bbi-mobile-view");this.designerPanel.isMobileView&&this.designerPanel.designPanel.addClass("bbi-mobile-view");this.model.mode===BoldBIDashboard.Designer.mode.view||this.model.mode===BoldBIDashboard.Designer.mode.designpreview?(this.resizeObj.isQueryDesigner=!0,this.resizeObj.isDesigner=!0,this.resizeObj.isPreview=!1,this.designerPanel.banner.resizeForBannerPanelTag(),this.designerPanel.updatePanelSize()):this.modules.Mode.designerContainer.is(":visible")&&this.element.find("#"+this._id+"_queryDesigner").is(":visible")?(this.rptToolbar.updateSize(),this.updateQueryDesigner(),this.resizeObj.isPreview=this.resizeObj.isDesigner=!0,this.resizeObj.isQueryDesigner=!1):(this.resizeObj.isQueryDesigner=!0,this.resizeObj.isDesigner=!1,this.updateDesignerSize(),this.resizeObj.isPreview=!0)},t.prototype.updateDesignerSize=function(){this.rptToolbar.updateSize();this.rptToolbar.updateResponsiveMenuIcon();this.rptToolbar.updateSaveStatusLabel();this.itemPanel.updateSize();this.designerPanel.updatePanelSize();this.modules.dataConfigurationPanel.updateSize()},t.prototype.updateConfigPanel=function(n){var t=this.element.find("#"+this._id+"_designerConfigurationPanel"),f;if(n){this.lastConfigSize={panelSize:this.modules.Mode.dataPanelTag.width(),containerSize:t.width()};var i=parseFloat(this.modules.Mode.designAreaTag.css("border-left-width")),r=parseFloat(this.modules.Mode.designAreaTag.css("border-right-width")),u=this.element.width();BoldBIDashboard.isNullOrUndefined(this.modules.Mode.itemPanelTag)||this.modules.Mode.itemPanelTag.css("display","none");BoldBIDashboard.isNullOrUndefined(this.modules.Mode.designPanelTag)||this.modules.Mode.designPanelTag.css("display","none");this.element.find("#"+this._id+"_configurationHeaderPanel").css("display","none");this.element.find("#"+this._id+"_collapse_wrapper").css("display","none");this.modules.Mode.dataPanelTag.width(u-(i+r));t.width(u-(i+r))}else if(this.lastConfigSize){var i=parseFloat(this.modules.Mode.designAreaTag.css("border-left-width")),r=parseFloat(this.modules.Mode.designAreaTag.css("border-right-width")),u=this.element.width();this.modules.Mode.itemPanelTag.css("display","block");this.modules.Mode.designPanelTag.css("display","block");this.element.find("#"+this._id+"_configurationHeaderPanel").css("display","block");this.element.find("#"+this._id+"_collapse_wrapper").css("display","block");this.modules.Mode.dataPanelTag.width(this.lastConfigSize.panelSize);t.width(this.lastConfigSize.containerSize);this.lastConfigSize=null;f=u-(this.modules.Mode.itemPanelTag.width()+this.modules.Mode.dataPanelTag.width());this.modules.Mode.designPanelTag.css({width:f-(i+r)+"px"})}},t.prototype.updateDesignPanel=function(){var t=this.element.width(),i=parseFloat(this.modules.Mode.designAreaTag.css("border-left-width")),r=parseFloat(this.modules.Mode.designAreaTag.css("border-right-width")),u=t-(this.modules.Mode.itemPanelTag.width()+this.modules.Mode.dataPanelTag.width()),n;this.modules.Mode.designPanelTag.css({width:u-(i+r)+"px"});n=this.modules.labelParameter;n.resetTooltipForLabelParameters(this.modules.Mode.designCanvas.find(".bbi-dbrd-control-title"));n.resetTooltipForLabelParameters(this.modules.Mode.designCanvas.find(".bbi-dbrd-control-sub-title"))},t.prototype.updateQueryDesigner=function(){var o=this.element.height(),n=this.element.width(),t=0,i=0,r=0;BoldBIDashboard.isNullOrUndefined(this.toolbarTag)||(t=this.toolbarTag.height(),i=parseFloat(this.toolbarTag.css("border-top-width")),r=parseFloat(this.toolbarTag.css("border-bottom-width")));var s=parseFloat(this.modules.Mode.designAreaTag.css("border-top-width")),h=parseFloat(this.modules.Mode.designAreaTag.css("border-bottom-width")),u=o-t-(i+r)+1,c=u-(h+s),f=parseFloat(this.modules.Mode.designAreaTag.css("border-left-width")),e=parseFloat(this.modules.Mode.designAreaTag.css("border-right-width"));this.modules.Mode.designAreaTag.css({height:this.model.mode===BoldBIDashboard.Designer.mode.datasource?"100%":u+"px",width:n+"px"});this.element.find("#"+this._id+"_queryDesigner").css({width:n+"px",height:this.model.mode===BoldBIDashboard.Designer.mode.datasource?"100%":c+"px"});this.modules.Mode.dataPanelTag.width(n-(f+e));this.element.find("#"+this._id+"_designerConfigurationPanel").width(n-(f+e));this.modules.queryDesigner.updateSize()},t.prototype.updateQueryDesignerSize=function(){this.resizeObj.isQueryDesigner&&(this.updateQueryDesigner(),this.resizeObj.isQueryDesigner=!1)},t.prototype.setContainerSize=function(){var e=this.element.height(),n=this.element.width(),i=0,r=0,u=0;BoldBIDashboard.isNullOrUndefined(this.toolbarTag)||(i=this.toolbarTag.height(),r=parseFloat(this.toolbarTag.css("border-top-width")),u=parseFloat(this.toolbarTag.css("border-bottom-width")));var o=parseFloat(this.modules.Mode.designAreaTag.css("border-top-width")),s=parseFloat(this.modules.Mode.designAreaTag.css("border-bottom-width")),h=parseFloat(this.modules.Mode.designAreaTag.css("border-left-width")),c=parseFloat(this.modules.Mode.designAreaTag.css("border-right-width")),f=e-i-(r+u),t=f-(s+o),l=BoldBIDashboard.isNullOrUndefined(this.modules.Mode.itemPanelTag)?0:this.modules.Mode.itemPanelTag.width(),a=BoldBIDashboard.isNullOrUndefined(this.modules.Mode.dataPanelTag)?0:this.modules.Mode.dataPanelTag.width(),v=n-(l+a);this.modules.Mode.designAreaTag.css({height:this.model.mode===BoldBIDashboard.Designer.mode.datasource?"100%":f+"px",width:n+"px"});BoldBIDashboard.isNullOrUndefined(this.modules.Mode.itemPanelTag)||this.modules.Mode.itemPanelTag.height(t);BoldBIDashboard.isNullOrUndefined(this.modules.Mode.dataPanelTag)||this.model.mode===BoldBIDashboard.Designer.mode.datasource||this.modules.Mode.dataPanelTag.height(t);this.modules.Mode.designPanelTag.css({height:this.model.mode===BoldBIDashboard.Designer.mode.datasource?"100%":t+"px",width:this.model.mode===BoldBIDashboard.Designer.mode.view||this.model.mode===BoldBIDashboard.Designer.mode.designpreview?n+"px":v-(h+c)+"px"})},t.prototype.showToolbar=function(n){var t=this.element.find("#"+this._id+"_publishButton").data("BoldBIDashboardSplitButton");n?(this.toolbarTag.data("BoldBIDashboardToolbar").enable(),BoldBIDashboard.DashboardUtil.buttonEnable(this.element.find("#"+this._id+"_previewButton"),!0),BoldBIDashboard.DashboardUtil.buttonEnable(this.element.find("#"+this._id+"_toolbar_title"),!0),this.element.find("#"+this._id+"_div_publish_btn").removeClass("bbi-disable-publishbtn"),BoldBIDashboard.isNullOrUndefined(t)||t.enable()):(this.toolbarTag.data("BoldBIDashboardToolbar").disable(),BoldBIDashboard.DashboardUtil.buttonEnable(this.element.find("#"+this._id+"_previewButton"),!1),BoldBIDashboard.DashboardUtil.buttonEnable(this.element.find("#"+this._id+"_toolbar_title"),!1),BoldBIDashboard.isNullOrUndefined(t)||t.disable(),this.element.find("#"+this._id+"_div_publish_btn").addClass("bbi-disable-publishbtn"))},t.prototype.designerMouseDown=function(n){var t,e,s,r,u,f,h,i,c,o;this.hideTooltip();t=this.bbdesigner$(n.target);e=t.parents("ul.bbi-designer-menu");e.length>0?(s=this.element.find(".bbi-designer-menu:visible").not(e),s.hide()):t.hasClass("bbi-designer-click")?(r=t.attr("e-target"),this.hideMenuExceptItem(r),this.element.find(".e-designer-tooltip:visible").css("display","none")):t.closest(".bbi-designer-click").length>0?(r=t.closest(".bbi-designer-click").attr("e-target"),this.hideMenuExceptItem(r),this.element.find(".e-designer-tooltip:visible").css("display","none")):this.element.find(".e-multiselect-popup-container-visible").length>0?(i=this.element.find(".e-multiselect-popup-container-visible"),!t.is(i)&&!t.is(this.element.find(".bbi-multiselect-dropdown-item"))&&t.closest(".bbi-multiselect-dropdown-item").length<1&&t.closest(".e-multiselect-popup-container").length<1&&(new BoldBIDashboard.DashboardDesignerUtility.MultiSelectionComboBox(this).hidePopups(),i.css("display","none"),this.element.find(".bbi-multiselect-dropdown-item").find(".bbi-designer-ejwidgets-updown").removeClass("e-arrow-sans-up").addClass("e-arrow-sans-down"),this.element.find(".bbi-multiselect-dropdown-item").removeClass("e-focus").removeClass("bbi-dbrd-filter-dropdown"),i.removeClass("e-multiselect-popup-container-visible"))):this.element.find(".e-dbrd-paramlist-popup-container").length>0?(i=this.element.find(".e-dbrd-paramlist-popup-container"),!t.is(i)&&t.closest(".e-dbrd-paramlist-popup-container").length<1&&i.css({display:"none"})):this.element.find(".bbi-daterange-popup").length>0?this.isHideDateRangePopup(t)&&(this.element.find(".bbi-daterange-popup").css("display","none"),this.element.find(".bbi-popup-button").removeClass("e-focus"),this.element.find(".bbi-popup-button").find(".bbi-designer-ejwidgets-updown").removeClass("e-arrow-sans-up").addClass("e-arrow-sans-down")):this.element.find(".e-designer-tooltip:visible").css("display","none");u=this.bbdesigner$(".bbi-designer-menu:visible");t.closest(".bbi-designer-menu").length===0&&u&&(this.element.find(".bbi-dbrd-controlIcon-container").removeClass("e-contextmenu-open"),f=u.find(".e-haschild"),f.length>0&&(f.removeClass("e-active e-mfocused"),f.find("ul").hide()),u.hide());t.hasClass("bbi-dbrd-file-info-container")||t.hasClass("bbi-dbrd-file-info-container-title")||t.hasClass("bbi-dbrd-designer-refresh-ds")||t.hasClass("bbi-dbsize")||t.hasClass("e-dbrd-file-icon-container")||t.parents(".bbi-dbrd-file-info-container").length!==0||(this.element.find("#"+this._id+"_fileInfoContainer").css("display","none"),this.element.find("#"+this._id+"_fileIconContainer").removeClass("e-active"));t.closest(".bbi-dbrd-filterListMenuPopUp").length===0&&t.closest(".bbi-dbrd-filterListMenu").length!==1&&(BoldBIDashboard.isNullOrUndefined(this.modules.Mode.designPanelTag)||!this.modules.Mode.designPanelTag.find(".bbi-dbrd-filterListMenuPopUp").is(":visible")||t.hasClass("bbi-dbrd-clearfilters")||this.modules.Mode.designPanelTag.find(".bbi-dbrd-filterListMenuPopUp").remove());t.hasClass("bbi-dashboard-banner-optionmenu")||t.parents().hasClass("bbi-dashboard-banner-optionmenu-popup")||this.element.find(".bbi-dashboard-banner-optionmenu").removeClass("bbi-dashboarddesigner-active");t.hasClass("bbi-dashboard-banner-theme")||t.parents().hasClass("bbi-dashboard-banner-thememenu-popup")||this.element.find(".bbi-dashboard-banner-theme").removeClass("bbi-dashboarddesigner-active");t.hasClass("e-dashboard-banner-smallMenu")||this.element.find(".e-dashboard-banner-smallMenu").removeClass("bbi-dashboarddesigner-active");t.parents(".bbi-dbrd-filterListMenu").length!==0||t.hasClass("bbi-dbrd-filterListMenu")||t.parents(".bbi-dbrd-filterListMenuPopUp").length!==0||t.hasClass("bbi-dbrd-filterListMenuPopUp")||this.element.find(".bbi-dbrd-filterListMenu").removeClass("bbi-dashboarddesigner-active");t.hasClass("bbi-dbrd-scroll-plus-icon")||t.closest(".bbi-dbrd-scroll-UI-container-wrap").length>0||this.model.mode!==BoldBIDashboard.Designer.mode.design&&(this.model.mode!==BoldBIDashboard.Designer.mode.designpreview||t[0].id!==this._id+"_closePreviewButton")||(h=this.modules.layoutDialog,h.validatePreviewEvent(t));(!t.hasClass("bbi-dbrd-uf-float")||t.closest(".e-dbrd-uf-float").is(":visible"))&&(this.element.find(".bbi-dbrd-uf-icon-wrapper").css("background-color","transparent"),this.element.find(".bbi-dbrd-uf-listbox-element li").css("background-color","transparent"),this.element.find(".bbi-dbrd-uf-listbox-element li .e-chk-act,.bbi-dbrd-uf-listbox-element li .e-chk-inact").css("background-color","transparent"),this.element.find(".bbi-dbrd-uf-float").css({color:"#4d4d4d",visibility:"hidden"}));t.hasClass("bbi-designer-dataset-filter")||this.element.find(".bbi-designer-dataset-filter").parent().removeClass("bbi-dashboarddesigner-active");this.element.find(".e-list-multiselect-popup-container-visible").length>0&&(i=this.element.find(".e-list-multiselect-popup-container-visible"),c=t.parents(".bbi-dbrd-parameter-element-container").attr("id")+"_element_popup_container",!t.is(i)&&!t.is(this.element.find(".bbi-multiselect-dropdown-item"))&&!this.element.find(".e-list-multiselect-popup-container-visible[id="+c+"]").is(":visible")&&t.closest(".e-multiselect-popup-container").length<1&&(i.find(".e-multiselect-waiting-popup").data("BoldBIDashboardWaitingPopup").hide(),i.css("display","none"),this.element.find(".bbi-multiselect-dropdown-item").find(".bbi-designer-ejwidgets-updown").removeClass("e-arrow-sans-up").addClass("e-arrow-sans-down"),this.element.find(".bbi-multiselect-dropdown-item").removeClass("e-focus").removeClass("bbi-dbrd-filter-dropdown"),i.removeClass("e-multiselect-popup-container-visible")));this.element.find(".bbi-dbrd-queryvalue-container").length>0&&(o=this.element.find(".bbi-dbrd-queryvalue-container").find(".CodeMirror"),t.is(o)||o.css("border-color",""));!t.parents().hasClass("bbi-combine-item")&&this.element.find(".bbi-combine-selected").length>0&&this.element.find(".bbi-combine-selected").removeClass("bbi-combine-selected bbi-widget-selected");this.designerPanel.addFocusClass(t.closest(".bbi-dashboarddesigner-designcanvas").length>0,!0)},t.prototype.isHideDateRangePopup=function(n){var t=this.bbdesigner$(".bbi-daterange-popup-visible");return n.not(t)&&n.not(this.element.find(".bbi-popup-button"))&&n.closest(".bbi-popup-button").length<1&&n.closest(".bbi-daterange-popup").length<1&&n.closest(".e-popup-container").length<1&&n.closest(".e-datepicker-days").length<1&&n.closest(".e-datepicker-months").length<1&&n.closest(".e-datepicker-years").length<1&&n.closest(".e-datepicker-allyears").length<1},t.prototype.hideMenuExceptItem=function(n){if(!BoldBIDashboard.isNullOrUndefined(n)&&n.length>0){var t=void 0;t=n==="e-exp-menu"?this.bbdesigner$(".e-exp-menu:visible"):n==="e-aggr-menu"?this.bbdesigner$(".e-aggr-menu:visible"):this.bbdesigner$("#"+n);this.bbdesigner$(".bbi-designer-menu:visible").not(t).hide()}else this.bbdesigner$(".bbi-designer-menu:visible").hide()},t.prototype.hideAllPopup=function(){var n=this.element.find(".e-multiselect-popup-container-visible"),i=this.element.find(".bbi-daterange-popup:visible"),t;this.element.find(".e-designer-tooltip:visible").css("display","none");this.element.find(".bbi-dbrd-control").find(".e-dbrd-canvas.bbi-dbrd-control").is(":visible")&&this.element.find(".bbi-dbrd-control").find(".e-dbrd-canvas.bbi-dbrd-control").css("display","none");this.bbdesigner$(".bbi-designer-menu").is(":visible")&&this.bbdesigner$(".bbi-designer-menu:visible").hide();n.length>0&&n.is(":visible")&&(n.css("display","none"),t=this.element.find(".bbi-multiselect-dropdown-item").find(".e-arrow-sans-up"),t.removeClass("e-arrow-sans-up").addClass("e-arrow-sans-down"),n.removeClass("e-multiselect-popup-container-visible"));i.length>0&&(i.css("display","none"),t=this.element.find(".bbi-popup-button").find(".e-arrow-sans-up"),t.removeClass("e-arrow-sans-up").addClass("e-arrow-sans-down"))},t.prototype.updateLoadingIndicatorLabel=function(n){if(!BoldBIDashboard.isNullOrUndefined(n)){var t=this.modules.Mode.designAreaTag.data("BoldBIDashboardWaitingPopup");t.option("text",n)}},t.prototype.showDesignIndicator=function(n){var t=this.modules.Mode.designAreaTag.data("BoldBIDashboardWaitingPopup");BoldBIDashboard.isNullOrUndefined(t)||(t.option("text",BoldBIDashboard.isNullOrUndefined(n)?"":n),t.show());BoldBIDashboard.isNullOrUndefined(this.toolbarTag)||this.showToolbar(!1)},t.prototype.hideDesignIndicator=function(){var n=this.modules.Mode.designAreaTag.data("BoldBIDashboardWaitingPopup");BoldBIDashboard.isNullOrUndefined(n)||(n.option("text",""),n.hide());BoldBIDashboard.isNullOrUndefined(this.toolbarTag)||!BoldBIDashboard.isNullOrUndefined(this.isQueryDesignerMode)&&this.isQueryDesignerMode||this.showToolbar(!0)},t.prototype.isTextfocused=function(){var n=this.bbdesigner$(document.activeElement);return n.prop("type")==="text"||n.prop("type")==="textarea"||n.prop("contenteditable")==="true"||n.prop("type")==="password"||n.prop("type")==="search"},t.prototype.designerKeyDown=function(n){var t,i,c,r,l,a,e,o,v,y;if(this.isDesignMode()){var u=this.element.find("#"+this._id+"_designCanvas"),f=this.isWindowOpened(),s=this.isTextfocused();if(n.keyCode!==9){if(t=this.element.find("#"+this._id+"_div_designerTool"),this.modules.Mode.designPanelTag.is(":visible")){if(!s&&!f)if(i=this.modules.undoManager,(n.ctrlKey&&n.keyCode===90||n.altKey&&n.keyCode===90)&&i.isUndo())n.preventDefault(),i.undo(),this.designerPanel.updateReportProperties();else if((n.ctrlKey&&n.keyCode===89||n.altKey&&n.keyCode===89)&&i.isRedo())n.preventDefault(),i.redo(),this.designerPanel.updateReportProperties();else if(n.ctrlKey&&n.keyCode===88)this.designerPanel.cutItem();else if(n.ctrlKey&&n.keyCode===67)this.designerPanel.copyItem();else if(n.ctrlKey&&n.keyCode===86)this.designerPanel.pasteItem();else if(n.keyCode===46)this.designerPanel.removeItem();else if(n.ctrlKey&&n.keyCode===83)this.saveAsReport(),n.preventDefault();else if(n.ctrlKey&&n.keyCode===79)this.rptToolbar.browseDiskReport();else if(n.ctrlKey&&n.keyCode===70)n.preventDefault(),this.rptToolbar.openFilterActionWindow();else if(n.altKey&&n.keyCode===116)n.preventDefault(),this.PreviewDashboard();else if(n.keyCode===115){n.preventDefault();c=this.dataConfigurationPanel.getPanelItem("Properties");this.dataConfigurationPanel.onGroupItemsClick(c)}else n.ctrlKey&&n.shiftKey&&n.keyCode===68?(n.preventDefault(),this.modules.dataConfiguration.createNewDataSource(null)):n.ctrlKey&&n.shiftKey&&n.keyCode===82?(n.preventDefault(),this.rptToolbar.openRefreshSettings()):n.ctrlKey&&(n.keyCode===80||n.keyCode===68)&&this.element.find("#"+this._id+"_propertyPanel").is(":visible")?(n.preventDefault(),r=this.modules.propertyPanel,l=r.getPropertyTab(),n.ctrlKey&&n.keyCode===80?r.setPropertyTabIndex(0):n.ctrlKey&&n.keyCode===68&&l.model.hiddenItemIndex.length===0&&r.setPropertyTabIndex(1)):n.keyCode>=37&&n.keyCode<=40&&(u.is(":focus")||u.hasClass("bbi-designer-canvas-focus"))&&this.modules.Mode.designPanelTag.is(":visible")&&!f&&(a=this.isKeyValidatation(n),a||(n.preventDefault(),n.shiftKey&&n.keyCode===37?this.panelKeyDown("width","left"):n.shiftKey&&n.keyCode===39?this.panelKeyDown("width","right"):n.shiftKey&&n.keyCode===38?this.panelKeyDown("height","top"):n.shiftKey&&n.keyCode===40?this.panelKeyDown("height","bottom"):n.keyCode===37?this.panelKeyDown("left","left"):n.keyCode===39?this.panelKeyDown("left","right"):n.keyCode===38?this.panelKeyDown("top","top"):n.keyCode===40&&this.panelKeyDown("top","bottom")))}else if(this.element.find("#"+this._id+"_queryDesigner").is(":visible")&&t.length>0&&!s&&!f){n.preventDefault();var h=this.modules.queryDesigner,p=t.find("#"+this._id+"_dataset_tool_join"),w=t.find("#"+this._id+"_dataset_tool_filter"),b=t.find("#"+this._id+"_dataset_tool_exp");n.ctrlKey&&n.keyCode===74&&p.length>0&&!p.hasClass("e-disable")?h.openJoinEditor():n.ctrlKey&&n.keyCode===73&&w.length>0&&!w.hasClass("e-disable")?h.openInitialFilter():n.ctrlKey&&n.keyCode===69&&b.length>0&&!b.hasClass("e-disable")&&h.openQueryExpression()}}else(u.is(":focus")||u.hasClass("bbi-designer-canvas-focus"))&&this.modules.Mode.designPanelTag.is(":visible")&&!f&&(n.shiftKey&&n.keyCode===9?this.designerPanel.previousWidgetItem(n):n.keyCode===9&&this.designerPanel.nextWidgetItem(n));e=this.element.find(".e-query-expression");e.is(":visible")&&(s||(n.preventDefault(),o=this.modules.queryExpression,n.ctrlKey&&n.keyCode===73?o.addExpression(null):n.ctrlKey&&n.keyCode===68&&(v=e.find("#"+this._id+"_query_exp_li_container"),y=v.find(".e-list-text.bbi-expression-user-selection-active").text(),o.removeExpression(y))))}else n.keyCode===27&&this.destroyPopups(n)},t.prototype.isDesignMode=function(){return this.model.mode===BoldBIDashboard.Designer.mode.design},t.prototype.isViewMode=function(){return this.model.mode===BoldBIDashboard.Designer.mode.view},t.prototype.canApplyTheme=function(){return this.isViewMode()&&this.model.enableTheme},t.prototype.isDataPreviewMode=function(){return this.model.mode===BoldBIDashboard.Designer.mode.datapreview},t.prototype.isDesignPreviewMode=function(){return this.model.mode===BoldBIDashboard.Designer.mode.designpreview},t.prototype.destroyPopups=function(){BoldBIDashboard.isNullOrUndefined(this.maximize)||this.maximize.hideActiveMaximizeContainer()},t.prototype.panelKeyDown=function(n,t){if(this.designerPanel.selectedReportItems.length>0)switch(n){case"left":this.designerPanel.updateElementLeft(t);break;case"top":this.designerPanel.updateElementTop(t);break;case"width":this.designerPanel.updateElementWidth(t);break;case"height":this.designerPanel.updateElementHeight(t)}},t.prototype.isKeyValidatation=function(n){var r=this,t=!1,u=this.bbdesigner$(n.target).closest(".bbi-dbrd-content-container").length>0,i;return u&&(i=this.bbdesigner$(n.target).closest(".bbi-dbrditem"),i.hasClass("e-combobox-item")?t=!0:i.hasClass("e-rangeslider-item")?t=!0:i.hasClass("e-grid-item")&&(t=!0)),this.element.find(".e-dashboarddatepicker.e-dashboarddatepicker-popup-wrapper").each(function(n,i){r.bbdesigner$(i).css("display")==="block"&&(t=!0)}),t},t.prototype.isWindowOpened=function(){return this.element.find(".bbi-designer-dialog:visible").length>0||this.element.find(".bbi-designer-ejdialog:visible").length>0},t.prototype.triggerEvents=function(n,t){var i,r=t;switch(n){case"ajaxBeforeLoad":i=this._trigger(n,r);break;case"ajaxSuccess":i=this._trigger(n,r);break;case"ajaxError":i=this._trigger(n,r);break;case"toolbarClick":i=this._trigger(n,r);break;case"openReportClick":i=this._trigger(n,r);break;case"saveReportClick":i=this._trigger(n,r);break;case"toolbarRendering":i=this._trigger(n,r);break;case"reportModified":i=this._trigger(n,r);break;case"reportOpened":i=this._trigger(n,r);break;case"reportSaved":i=this._trigger(n,r);break;case"queryDesignerRendered":i=this._trigger(n,r);break;case"beforeNavigateToDashboard":i=this._trigger(n,r)}return i},t.prototype.hideWaitingPopup=function(n){if(n&&n.length>0){var t=n.data("BoldBIDashboardWaitingPopup");t&&t.hide()}else this.element.find("."+this._id+"_designer_waiting_popup:visible").hide()},t.prototype.isReportServerLogin=function(){return this.reportServerInfo&&this.reportServerInfo.token?!0:!1},t.prototype.getAuthenticationToken=function(n){return BoldBIDashboard.getGuid(n+"_")},t.prototype.showDataSourcetip=function(){var t=this.element.find("#"+this._id+"_designer_right_tooltip"),r=this.element.find("#"+this._id+"_Datasource_wrapper"),n;if(t.length===0){n=BoldBIDashboard.buildTag("div.bbi-designer-right-tip e-tooltip-wrap e-widget e-designer-tooltip","",{},{id:this._id+"_designer_right_tooltip"});this.element.append(n);var u=BoldBIDashboard.buildTag("div.e-arrowTip","",{}),o=BoldBIDashboard.buildTag("div.e-arrowTipOuter","",{}),s=BoldBIDashboard.buildTag("div.e-arrowTipInner","",{}),i=BoldBIDashboard.buildTag("div.e-tipContainer"),h=BoldBIDashboard.buildTag("div","We should create the Datasource to create new Dataset.",{},{}),c=BoldBIDashboard.buildTag("div","",{height:"1px",border:"0px Solid","border-top-width":"0.5px","border-color":"white",margin:"9px 3px 3px 3px"},{}),f=BoldBIDashboard.buildTag("div","",{width:"100%","text-align":"center",padding:"4px 0px"}),e=BoldBIDashboard.buildTag("button.bbi-designer-content bbi-dbrd-designer-hand-cursor","Add DataSource",{"background-color":"#0C8BE2","border-color":"#0C8BE2",color:"white"},{id:this._id+"_newDataSourceButton",type:"button"});u.append(o).append(s);i.append(h);i.append(c);i.append(f);f.append(e);n.append(i);n.append(u);t=n;e.BoldBIDashboardButton({width:"142px",height:"25px",showRoundedCorner:!0,contentType:BoldBIDashboard.ContentType.TextAndImage,prefixIcon:"e-icon e-plus",size:"small",click:this.bbdesigner$.proxy(this.newDataSource,this)})}t.css({display:"block",top:r.offset().top,left:r.offset().left-(t.width()+20)})},t.prototype.newDataSource=function(){var n=this.modules.dataSet;this.modules.dataConfigurationPanel.showConfigurationPanel(!0,"DataSet",n);n.switchPanel(PanelList.DataType)},t.prototype.undo=function(){this.modules.undoManager.undo()},t.prototype.canUndo=function(){return this.modules.undoManager.isUndo()},t.prototype.redo=function(){this.modules.undoManager.redo()},t.prototype.canRedo=function(){return this.modules.undoManager.isRedo()},t.prototype.cut=function(){this.designerPanel.cutItem()},t.prototype.canCut=function(){return this.designerPanel.canCut()},t.prototype.copy=function(){this.designerPanel.copyItem()},t.prototype.canCopy=function(){return this.designerPanel.canCopy()},t.prototype.delete=function(){this.designerPanel.copyItem()},t.prototype.canDelete=function(){return this.designerPanel.canCopy()},t.prototype.paste=function(){this.designerPanel.pasteItem()},t.prototype.canPaste=function(){return this.designerPanel.canCopy()},t.prototype.showPreview=function(){this.PreviewDashboard()},t.prototype.showDesign=function(){this.showDesignReport({})},t.prototype.hasReportChanges=function(){var n=!1;return BoldBIDashboard.isNullOrUndefined(t.editManager)||(n=t.editManager.isExportAction?!1:t.editManager.hasItemChanges(),t.editManager.isExportAction=!1),n},t.prototype.isServerReport=function(){return this.isNewServerRpt||this.isOpenServerRpt},t.prototype.isNewReport=function(){return this.isNewServerRpt||this.isNewRpt},t.prototype.isNewServerReport=function(){return this.isNewServerRpt},t.prototype.saveToDevice=function(){this.downloadReport()},t.prototype.newReport=function(n,t){BoldBIDashboard.isNullOrUndefined(n)||n&&n.length===0?this.rptToolbar.newReportClick():n&&t&&t.length>0?this.newSharedDataSet(n,t,!1):this.newRDLReport(n)},t.prototype.newServerReport=function(n,t){var i=this;BoldBIDashboard.isNullOrUndefined(n)||n&&n.length===0?this.rptToolbar.openNewDialog(function(n){i.newServerRDL(n.name)}):n&&t&&t.length>0?this.newSharedDataSet(n,t,!0):this.newServerRDL(n)},t.prototype.showOpenSaveReportDialog=function(n,t,i){var r=this.modules.fileBrowse;r.openDialog(n,t,i&&i.length?i:this.reportFileName)},t.prototype.openServerReportDialog=function(){this.rptToolbar.openServerClick()},t.prototype.saveServerReportDialog=function(){this.rptToolbar.saveServerClick()},t.prototype.showNewReportDialog=function(n){var t=this.rptToolbar;t.openNewDialog(n)},t.prototype.openReportFromDevice=function(){this.rptToolbar.browseDiskReport()},t.prototype.saveReport=function(n,t){if(!BoldBIDashboard.isNullOrUndefined(n)&&n.length>0){var i=!BoldBIDashboard.isNullOrUndefined(t)&&t;this.saveServerReport(n,i)}else this.saveAsReport()},t.prototype.openReport=function(n,t){this.updateLoadingIndicatorLabel(this.model.isPinWidget?this.i18nLocale.loadingIndicatorMessage.loadWidgetText:this.i18nLocale.loadingIndicatorMessage.loadDashboardText);var i={};(this.isLoadedFromDraft=!1,t?(i.reportServerUrl=t,this.model.serviceUrl=t):i.reportServerUrl=this.model.serviceUrl,n?(i.reportPath=n,this.model.dashboardPath=n):i.reportPath=this.model.dashboardPath,this.model.IsProxy||!BoldBIDashboard.isNullOrUndefined(i.reportPath))&&(BoldBIDashboard.isNullOrUndefined(this.rdlParser)&&(this.rdlParser=new BoldBIDashboard.DashboardDesignerUtility.DashboardParser(this)),this.reportFileName=BoldBIDashboard.DashboardUtil.IsStringNullorWhiteSpace(this.model.dashboardPath)?"":BoldBIDashboard.DashboardUtil.getFileName(this.model.dashboardPath),this.isOpenServerRpt=!0,this.modules.designerRequests.push(this.modules.util.doAjaxPost("POST",this.model.serviceUrl+BoldBIDashboard.Dashboard.ServiceAPI.loaddashboard,{action:BoldBIDashboard.DashboardUtil.DesignerAction.openServerReport,data:JSON.stringify({path:i.reportPath,datasources:this.model.datasources||null,environment:this.model.environment,themeName:this.getCurrentDashboardThemeIfAny()})},{fnction:this.bbdesigner$.proxy(this.openRdlReport,this)})))},t.prototype.getCurrentDashboardThemeIfAny=function(){return this.isViewMode()?!BoldBIDashboard.isNullOrUndefined(this.model.theme)&&!this.isJsonString(this.model.theme)?this.model.theme:"":""},t.prototype.getReportCategory=function(n){var i=n.substr(n.lastIndexOf("/")+1),t=n.substr(0,n.lastIndexOf("/"));return t.length>0&&t.charAt(0)==="/"&&(t=t.substr(1)),{name:i,category:t}},t.prototype.initUnhandledExceptionHandler=function(){var n=this;window.onerror=function(t,i,r,u,f){if(i&&i.indexOf("BoldBIDashboard.dashboarddesigner")!==-1||f&&f.stack&&f.stack.indexOf("BoldBIDashboard.dashboarddesigner")!==-1)return n.designerPanel.logError({Type:f.name,LineNo:r,ColumnNo:u,Error:f}),!1}},t.prototype.showTooltip=function(n){var r=this,i=this.bbdesigner$(n.currentTarget).attr("data-tooltip"),u=this.findHighestZIndex(),t;BoldBIDashboard.isNullOrUndefined(i)||i===""||(t=this,this.tooltipTimer&&clearTimeout(this.tooltipTimer),this.tooltipTimer=setTimeout(function(n,f){var e=t.bbdesigner$(f),o=t.element.find("#"+t._id+"_tooltip"),c,s;if(n.bubbles=!1,t.bbdesigner$.isFunction(n.stopPropogation)&&n.stopPropagation(),c=e.hasClass("bbi-dbrd-filterOverview-disableSaveAs")||e.hasClass("bbi-dbrd-filterOverview-disableSave"),!c){if(s=t.measureText(i,null,{size:"12",fontStyle:"Normal",fontFamily:"'Heebo', 'Roboto'"}).width+40,e.attr("data-val-txt-len")==="true"&&s<=e.width())return;o.text(e.attr("data-tooltip"));var h=n.pageX-(t.element.offset().left+s)>t.element.width()?n.pageX-t.element.offset().left-s<0?0:n.pageX-t.element.offset().left-s:n.pageX-(t.element.offset().left-t.element.scrollLeft()),l=t.element.width()-h>o.outerWidth()?h:h-o.outerWidth()<0?0:h-o.outerWidth(),a=n.pageY-t.element.offset().top+15;o.css({display:"block",top:a,left:l,"z-index":u+1,visibility:r.isItemDrag?"hidden":"visible"})}},400,n,n.currentTarget))},t.prototype.findHighestZIndex=function(){var t=this,i=this.element.context.querySelectorAll("*"),r=Object.keys(i).map(function(n){return i[n]}),n=0;return r.forEach(function(i){var e=document.defaultView.getComputedStyle(i),r=e.getPropertyValue("z-index"),u=i.style.zIndex,f;r=t.isNumeric(r)?parseInt(r,10):0;u=t.isNumeric(u)?parseInt(u,10):0;f=r>u?r:u;f>n&&(n=f)}),n},t.prototype.isNumeric=function(n){return!isNaN(parseFloat(n))&&isFinite(n)},t.prototype.measureText=function(n,t,i){var e=this.element.find("#"+this._id+"_measuretext"),r,u,o;e.length===0?(r=document.createElement("text"),this.bbdesigner$(r).attr({id:this._id+"_measuretext"}),this.element.append(r)):r=e[0];var s="",f="",h="";return r.innerHTML=n,typeof i!="undefined"&&typeof i.size=="undefined"&&(u=i,u=u.split(" "),s=u[0],f=u[1],h=u[2]),i!==null&&(r.style.fontSize=i.size>0?i.size+"px":i.size?i.size:f.indexOf("px")===-1||f.indexOf("%")===-1?f+"px":f,r.style.fontStyle=i.fontStyle?i.fontStyle:s,r.style.fontFamily=i.fontFamily?i.fontFamily:h),r.style.backgroundColor="white",r.style.position="absolute",r.style.top="-100px",r.style.left="0px",r.style.visibility="hidden",t&&(r.style.maxWidth=t+"px"),o={width:r.offsetWidth,height:r.offsetHeight},BoldBIDashboard.browserInfo().name==="msie"||BoldBIDashboard.browserInfo().name==="webkit"?r.parentNode.removeChild(r):r.remove(),o},t.prototype.validateRequiredApis=function(){if(BoldBIDashboard.isNullOrUndefined(this.model.serviceUrl)||this.model.serviceUrl.trim()==="")return this.renderAPIValidationError(this.i18nLocale.errorMessage.serviceURLEmpty),!1;if(this.validateModeAPI()){if(!this.validateViewModeAPI())return this.renderAPIValidationError(this.i18nLocale.errorMessage.dashboardPathEmpty),!1}else return this.renderAPIValidationError(this.i18nLocale.errorMessage.invalidDesignerMode),!1;return!0},t.prototype.validateModeAPI=function(){switch(this.model.mode){case BoldBIDashboard.Designer.mode.connection:case BoldBIDashboard.Designer.mode.datasource:case BoldBIDashboard.Designer.mode.design:case BoldBIDashboard.Designer.mode.designpreview:case BoldBIDashboard.Designer.mode.view:case BoldBIDashboard.Designer.mode.readonly:case BoldBIDashboard.Designer.mode.datapreview:return!0;default:return!1}},t.prototype.validateViewModeAPI=function(){return this.model.IsProxy?!0:this.model.mode===BoldBIDashboard.Designer.mode.view?!BoldBIDashboard.isNullOrUndefined(this.model.dashboardPath)&&this.model.dashboardPath.trim()!=="":!0},t.prototype.renderAPIValidationError=function(n){var t="<div id='"+this._id+"_api_error' class='bbi-dbrd-api-error-wrapper'><div class='bbi-dbrd-api-error-container'><div class='bbi-dbrd-api-error-header'>Invalid Configuration<\/div><p class='bbi-dbrd-api-error-text'>"+(n||"")+"<\/p><\/div><\/div>";this.element.html(t)},t.prototype.hideTooltip=function(n){var t=this;BoldBIDashboard.isNullOrUndefined(n)||(n.bubbles=!1,this.bbdesigner$.isFunction(n.stopPropagation)&&n.stopPropagation());this.tooltipTimer&&clearTimeout(this.tooltipTimer);this.tooltipTimer=setTimeout(function(){t.element.find("#"+t._id+"_tooltip").hide()},50,n)},t.prototype.createTooltipContainer=function(){var n=BoldBIDashboard.buildTag("div.bbi-dbrd-designer-tooltip","",{},{id:this._id+"_tooltip"});this.element.append(n)},t.prototype.loadSettingsJsonFromCDN=function(){if(!BoldBIDashboard.isNullOrUndefined(this.model.configuration)&&this.model.configuration.trim()!==""&&BoldBIDashboard.isNullOrUndefined(BoldBIDashboard.Designer.settings)){var n=document.createElement("script");n.src=this.model.configuration;n.onerror=function(n){console.warn("An error occured while getting the settings file for the site.Some settings will not work properly.",n)};document.head.appendChild(n)}},t.prototype.loadCultureScripts=function(){var n,i,t;BoldBIDashboard.isNullOrUndefined(this.model.serviceUrl)||this.model.serviceUrl.trim()===""||this.model.IsProxy||(n=document.createElement("script"),i="4.3.67",BoldBIDashboard.isNullOrUndefined(this.model.cdnPath)||(t=this.model.cdnPath.match(/\d/g),!BoldBIDashboard.isNullOrUndefined(t)&&t.length>0&&(i=t.join(""))),n.src=this.model.serviceUrl+"cultures/boldbi.cultures.min.js?version="+i,n.setAttribute("importance","high"),n.setAttribute("rel","preload"),n.onerror=function(n){console.warn("An error occured while getting the Cultures file for the site.Some settings will not work properly.",n)},document.head.appendChild(n))},t.prototype.getInvalidNameAlertTitle=function(n,t){var i="",r=t?this.i18nLocale.nameValidationMessages.invalid:this.i18nLocale.nameValidationMessages.invalidCharText;switch(n){case"dashboardName":i=r+this.i18nLocale.nameValidationMessages.dashboardName;break;case"categoryName":i=r+this.i18nLocale.nameValidationMessages.categoryName;break;case"datasourceName":i=r+this.i18nLocale.nameValidationMessages.datasourceName}return t||(i=i+this.i18nLocale.nameValidationMessages.notSupportedChar),i},t.prototype.nameValidation=function(n){var t=new RegExp(/[*\[\\\]\|\/\:\<\>\%\+\#\?\'\"\;\,]/);return!t.test(n)},t.prototype.showWaitingPopupConnectionMode=function(){var n=this.element.find("#"+this._id+"_designerConfigurationPanel").data("BoldBIDashboardWaitingPopup");BoldBIDashboard.isNullOrUndefined(n)||n.show()},t.prototype.hideWaitingPopupConnectionMode=function(){var n=this.element.find("#"+this._id+"_designerConfigurationPanel").data("BoldBIDashboardWaitingPopup");BoldBIDashboard.isNullOrUndefined(n)||n.hide()},t.prototype.renderFromWidgetData=function(){for(var t,i=this.modules.masterSlaveFilter,r=this.modules.dataConfiguration,n=0;n<this.modules.widgetCache.length;n++)t=BoldBIDashboard.isNullOrUndefined(this.modules.widgetCache[n].ViewerTimeCache)?this.modules.widgetCache[n].DesignTimeCache:this.modules.widgetCache[n].ViewerTimeCache,r.bindData(i.GetWidgetElementByReportName(this.modules.widgetCache[n].Name),!1,t)},t.prototype.triggerViewerEvent=function(n,t,i,r){BoldBIDashboard.isNullOrUndefined(this.model)||this.model.mode!==BoldBIDashboard.Designer.mode.view||this._trigger(n.toString(),{eventType:t,source:{element:i,data:r}})},t.prototype.isMobileLayout=function(){return!this.model.dashboardFromData.isExportImage&&!this.model.dashboardFromData.isExportPdf&&!BoldBIDashboard.isNullOrUndefined(this.modules.Mode.designPanelTag)&&this.modules.Mode.designPanelTag.outerWidth(!0)<=768},t.prototype.closeAllWindows=function(){this.exportPanel.dialogClose();this.element.find(".bbi-dbrd-filterListMenuPopUp").length>0&&this.element.find(".bbi-dbrd-filterListMenuPopUp").remove();BoldBIDashboard.isNullOrUndefined(this.maximize)||this.maximize.hideActiveMaximizeContainer()},t.prototype.redrawDashboard=function(){this._destroy();this.clearWidgetCacheCollection();this._init()},t.prototype.switchToOriginalView=function(){this.isOriginalView=!0;this.currentFilterData=[];this.redrawDashboard()},t.prototype.onScheduleDialogRenderingComplete=function(n){if(n.Status){var i=this.modules.dataSource,t=i.dataSourceScheduleContainer.data("BoldBIDashboardWaitingPopup");BoldBIDashboard.isNullOrUndefined(t)||t.hide()}},t.prototype.onScheduleSubmitClick=function(n){var t,i;!BoldBIDashboard.isNullOrUndefined(n.Data)&&n.Status&&(t=this.modules.dataSource,t.scheduleJson=n.Data,this.isQueryDesignerMode||(BoldBIDashboard.isNullOrUndefined(t.currentDatasource)?(i=t.getDSInstance(),n.Data.IsEnabled===!0?i.scheduleMessage.html(n.ScheduleMessage):this.modules.dataSource.resetScheduleElementValues(i.scheduleMessage)):t.currentDatasource.scheduleMessage.html(n.ScheduleMessage)),this.closeScheduleDialog(t))},t.prototype.onScheduleCancelClick=function(n){if(n.Status){var t=this.modules.dataSource;this.closeScheduleDialog(t)}},t.prototype.closeScheduleDialog=function(n){var t=n.dataSourceScheduleContainer.data("BoldBIDashboardDialog");t&&t.close()},t.prototype.initializeMessageListener=function(){if(this.isViewMode()&&this.model.IsEmbed&&window.self!==window.top)this.bbdesigner$(window).on("message",this.bbdesigner$.proxy(this.onIdentityDataReceive,this))},t.prototype.onIdentityDataReceive=function(n){var t,i;try{BoldBIDashboard.isNullOrUndefined(n.originalEvent.data)||BoldBIDashboard.DashboardUtil.IsStringNullorWhiteSpace(n.originalEvent.data)||(t=n.originalEvent.data,t[0]==="{"&&t[t.length-1]==="}"&&(i=JSON.parse(t),BoldBIDashboard.isNullOrUndefined(i)||BoldBIDashboard.isNullOrUndefined(i.identity)||(this.customIdentity=i.identity)))}catch(r){console.info("Unable to parse the identity data.");console.info(r)}},t.prototype.getCustomIdentity=function(){return BoldBIDashboard.isNullOrUndefined(this.customIdentity)?null:this.customIdentity},t.prototype.setCustomIdentity=function(n){this.isViewMode()&&!BoldBIDashboard.isNullOrUndefined(n)&&n.trim()!==""&&(this.customIdentity=n)},t.prototype.getExportSettings=function(n){BoldBIDashboard.isNullOrUndefined(this.model.environment)||this.model.environment!=="cloud"?this.updateExportSettings(n):(this.model.export.Excel=!0,this.model.export.Image=!0,this.model.export.Pdf=!0)},t.prototype.updateExportSettings=function(n){BoldBIDashboard.isNullOrUndefined(n)||(this.model.export.Excel=n.Excel,this.model.export.Image=n.Image,this.model.export.Pdf=n.Pdf)},t.prototype.clearWidgetCacheCollection=function(){this.widgetCacheCollection=null},t.prototype.updateServiceUrl=function(){var n=this.model.serviceUrl.trim();n.endsWith("/")||(this.model.serviceUrl=n+"/")},t.prototype.getDataAlertModel=function(){var n=this.modules.dataAlertDialog;n.saveDataAlertFilter()},t.prototype.closeDataAlertExpression=function(){var n=this.modules.dataAlertDialog;n.customExpressionInstance.closeExpression()},t.prototype.isHelpLinkHidden=function(){return!BoldBIDashboard.isNullOrUndefined(this.model.customBrandSettings)&&!BoldBIDashboard.isNullOrUndefined(this.model.customBrandSettings.hideHelpLink)&&this.model.customBrandSettings.hideHelpLink},t.prototype.getHelpDocLink=function(n){var t=helpDocumentLink.filter(function(t){return t.name===n});return t.length>0&&!BoldBIDashboard.isNullOrUndefined(t[0])?!BoldBIDashboard.isNullOrUndefined(this.model.customBrandSettings)&&!BoldBIDashboard.isNullOrUndefined(this.model.customBrandSettings.customDomain)&&!BoldBIDashboard.DashboardUtil.IsStringNullorWhiteSpace(this.model.customBrandSettings.customDomain)?this.getCustomDocLink(t[0]):BoldBIDashboard.isNullOrUndefined(t[0].reDirectionId)?"":"https://redirect.boldbi.com/?id="+t[0].reDirectionId:""},t.prototype.getCustomDocLink=function(n){if(BoldBIDashboard.isNullOrUndefined(n.url))return"";var t=this.model.customBrandSettings.customDomain,i=t.charAt(t.length-1)==="/"?t.substr(0,t.length-1):t;return i+n.url},t.prototype.updateStylesForDesignerElements=function(n,t){this.modules.Mode.designPanelTag.css(n,t);this.modules.Mode.designAreaTag.css(n,t)},t.prototype.hideAllPopupsForDashboard=function(){var n=this,t=[],i;t.push(this._id+"_designAreaContainer");i=this.widgetHelper.getAllWidgets();i.forEach(function(i){var r=n.element.find("#"+n._id+"_"+i.name);r.length>0&&t.push(n.bbdesigner$(r.find(".e-dbrd-widget.bbi-dbrd-control")).attr("id"))});this.hideIndicators(t)},t.prototype.hideIndicators=function(n){var t=this;n.forEach(function(n){var i=t.bbdesigner$("#"+n).data("BoldBIDashboardWaitingPopup");BoldBIDashboard.isNullOrUndefined(i)||i.hide()})},t.prototype.exportAsPdf=function(n,t,i,r){n=BoldBIDashboard.DashboardUtil.IsStringNullorWhiteSpace(n)?this.modules.serialization.dashboardPropertyJson.Name:n;t=BoldBIDashboard.DashboardUtil.IsStringNullorWhiteSpace(t)?"A4":t;i=BoldBIDashboard.DashboardUtil.IsStringNullorWhiteSpace(i)?this.i18nLocale.exportPanel.landscape:i;this.modules.exportPanel.processExportDashboardAsPdf(n,t,i,r)},t.prototype.exportWidgetAsPdf=function(n,t,i,r,u){t=BoldBIDashboard.DashboardUtil.IsStringNullorWhiteSpace(t)?n:t;i=BoldBIDashboard.DashboardUtil.IsStringNullorWhiteSpace(i)?"A4":i;r=BoldBIDashboard.DashboardUtil.IsStringNullorWhiteSpace(r)?this.i18nLocale.exportPanel.landscape:r;this.modules.exportPanel.processExportWidgetAsPdf(n,t,i,r,u)},t.prototype.exportAsImage=function(n,t,i,r){n=BoldBIDashboard.DashboardUtil.IsStringNullorWhiteSpace(n)?this.modules.serialization.dashboardPropertyJson.Name:n;t=BoldBIDashboard.DashboardUtil.IsStringNullorWhiteSpace(t)?"jpg":t;i=BoldBIDashboard.isNullOrUndefined(i)?96:i;i=i<=96?96:i;this.modules.exportPanel.processExportDashboardAsImage(n,t,i,r)},t.prototype.exportWidgetAsImage=function(n,t,i,r,u){t=BoldBIDashboard.DashboardUtil.IsStringNullorWhiteSpace(t)?n:t;i=BoldBIDashboard.DashboardUtil.IsStringNullorWhiteSpace(i)?"jpg":i;r=BoldBIDashboard.isNullOrUndefined(r)?96:r;r=r<96?96:r;this.modules.exportPanel.processExportWidgetAsImage(n,t,i,r,u)},t.prototype.exportAsExcel=function(n,t){n=BoldBIDashboard.DashboardUtil.IsStringNullorWhiteSpace(n)?this.modules.serialization.dashboardPropertyJson.Name:n;t=!BoldBIDashboard.DashboardUtil.IsStringNullorWhiteSpace(t)&&t.toLowerCase()!=="xlsx"?"xls":"xlsx";this.modules.exportPanel.processExportDashboardAsExcel(n,t)},t.prototype.exportWidgetAsExcel=function(n,t,i){t=BoldBIDashboard.DashboardUtil.IsStringNullorWhiteSpace(t)?n:t;i=!BoldBIDashboard.DashboardUtil.IsStringNullorWhiteSpace(i)&&i.toLowerCase()!=="xlsx"?"xls":"xlsx";this.modules.exportPanel.processExportWidgetAsExcel(n,t,i)},t.prototype.checkAndUpdateParameterValue=function(n,t,i,r){return i===void 0&&(i=!1),!BoldBIDashboard.isNullOrUndefined(n)&&this.paramRegex.test(n)&&(n=this.getParamValue(n,t,i,r)),n},t.prototype.getParamValue=function(n,t,i,r){var f,u,c,s;if(i===void 0&&(i=!1),r===void 0&&(r=null),f=n,u=this.paramRegex.exec(n)[1].split("."),!BoldBIDashboard.isNullOrUndefined(this.paramCollection)&&u.length>0){var o=u.length>1&&(u[u.length-1]==="START"||u[u.length-1]==="END"),h=o&&u.length>2||!o&&u.length>1,e=h?u[0]:t,l=[];l.push(h?u[0]:t);BoldBIDashboard.isNullOrUndefined(this.paramCollection[e])&&this.model.mode===BoldBIDashboard.Designer.mode.design&&!i?(c={fnction:this.bbdesigner$.proxy(this.updateParamCollection,this)},this.getParameterForDashboard(BoldBIDashboard.isNullOrUndefined(r)?c:r,l)):BoldBIDashboard.isNullOrUndefined(this.paramCollection[e])||(s=BoldBIDashboard.isNullOrUndefined(this.paramCollection[e])?f:o?this.paramCollection[e][u[u.length-2]+"."+u[u.length-1]]:this.paramCollection[e][u[u.length-1]],f=BoldBIDashboard.isNullOrUndefined(s)?f:f.replace("@{{:"+(h?e+".":"")+(o?u[u.length-2]+"."+u[u.length-1]:u[u.length-1])+"}}",s));BoldBIDashboard.isNullOrUndefined(r)||BoldBIDashboard.DashboardUtil.invokeCallBack(r.fnction,null)}return f},t.prototype.getParameterForDashboard=function(n,t,i,r){t===void 0&&(t=null);i===void 0&&(i=null);r===void 0&&(r=!1);this.modules.util.doAjaxPost("POST",this.model.serviceUrl+BoldBIDashboard.Dashboard.ServiceAPI.processdata,{action:BoldBIDashboard.DashboardUtil.DesignerAction.GetParameterForFormattingText,data:JSON.stringify({className:BoldBIDashboard.DashboardUtil.DesignerAction.DataDesignViewAction,designerAction:BoldBIDashboard.DashboardUtil.DesignerAction.GetParameterForFormattingText,dataSetName:t,filterParameters:BoldBIDashboard.isNullOrUndefined(this.urlParameter)?"":this.urlParameter,datasetId:i,isLiveMode:r})},n)},t.prototype.updateParamCollection=function(n){BoldBIDashboard.isNullOrUndefined(n)||BoldBIDashboard.isNullOrUndefined(n.data)||(this.paramCollection=n.data)},t.prototype.exportWidgetAsCsv=function(n,t){t=BoldBIDashboard.DashboardUtil.IsStringNullorWhiteSpace(t)?n:t;this.modules.exportPanel.processExportWidgetAsCsv(n,t)},t.prototype.getWidgetData=function(n,t){var r,i,u;if(!BoldBIDashboard.isNullOrUndefined(n))for(r=this.widgetHelper.getAllWidgets(),i=0;i<r.length;i++)if(u=r[i],u.getJson().ContainerSettings.Title.toLowerCase()===n.toLowerCase())return this.modules.dataConfiguration.getWidgetSpecificData(u,t),"Request sent for data fetching";return"Widget details not found"},t.prototype.refreshWidget=function(n,t){var i,f,o,e,r,u,s;if(!BoldBIDashboard.isNullOrUndefined(n)&&n.length>0){for(i=[],f=0;f<n.length;f++)for(o=this.widgetHelper.getAllWidgets(),e=0;e<o.length;e++)if(r=o[e],!BoldBIDashboard.isNullOrUndefined(r)&&(u=r.getJson(),!BoldBIDashboard.isNullOrUndefined(u)&&u.ContainerSettings.Title.toLocaleLowerCase().trim()===n[f].toLocaleLowerCase().trim()&&i.indexOf(u.UniqueName)===-1)){i.push(u.UniqueName);BoldBIDashboard.Dashboard.WidgetHelper.isContainerWidget(r)&&(i=this.modules.containerTypeWidgetHelper.includeChildWidgetsForRefresh(this.modules.containerTypeWidgetHelper.getWidgetAsContainerWidget(r),i));break}if(i.length>0)return s=BoldBIDashboard.isNullOrUndefined(t)?!1:t,this.modules.dataConfiguration.requestRefreshForWidgets(i,s),"Request sent to update widget."}return"Widget details not found"},t.prototype.beforeSendRequestForUploadbox=function(n,t,i){var f=n,r={headers:[],serviceAuthorizationToken:f.model.serviceAuthorizationToken,actionType:t},u;if(f.triggerEvents("ajaxBeforeLoad",r),n.modules.util.clientId!==""&&i.xhr.setRequestHeader("ClientID",n.modules.util.clientId),BoldBIDashboard.isNullOrUndefined(n.model.serverUrl)||n.model.serverUrl.trim()===""||i.xhr.setRequestHeader("Caller",n.model.serverUrl),BoldBIDashboard.isNullOrUndefined(n.model.serviceAuthorizationToken)||i.xhr.setRequestHeader("Authorization",n.model.serviceAuthorizationToken),r&&r.headers&&r.headers.length>0)for(u=0;u<r.headers.length;u++)i.xhr.setRequestHeader(r.headers[u].Key,r.headers[u].Value)},t.prototype.beforeSendRequestForDataManager=function(n,t){var i=this,r={headers:[],serviceAuthorizationToken:i.model.serviceAuthorizationToken,actionType:n};i.triggerEvents("ajaxBeforeLoad",r);this.modules.util.beforeSend(null,r,this,t)},t.prototype.GetDashboardCategories=function(n){return this.modules.util.doAjaxPost("POST",this.model.serviceUrl+BoldBIDashboard.Dashboard.ServiceAPI.getcategories,{action:BoldBIDashboard.DashboardUtil.DesignerAction.categoryCatalog,data:JSON.stringify("test")},{fnction:this.bbdesigner$.proxy(this.callbackfnManager,this,n,"GetCategoryInfo")},!1,!0),"Request sent for data fetching"},t.prototype.CreateDashboardCategory=function(n,t,i){if(!BoldBIDashboard.DashboardUtil.IsStringNullorWhiteSpace(n)){var r=BoldBIDashboard.DashboardUtil.IsStringNullorWhiteSpace(t)?"":t;return this.modules.util.doAjaxPost("POST",this.model.serviceUrl+BoldBIDashboard.Dashboard.ServiceAPI.createcategory,{action:"",data:JSON.stringify({name:n,description:r})},{fnction:this.bbdesigner$.proxy(this.callbackfnManager,this,i,"CreateCategory")},!0,!0),"Request sent for creating new category."}return"Categoy name is empty. "},t.prototype.callbackfnManager=function(n,t,i){var r;switch(t){case"GetCategoryInfo":r=this.getCategoryInfo(i);break;case"CreateCategory":r=this.createCategoryInfo(i)}BoldBIDashboard.DashboardUtil.invokeCallBack(n,r)},t.prototype.getCategoryInfo=function(n){var r=null,t="",i;return n&&n.ApiStatus?(i=n.Status,n.Status&&!BoldBIDashboard.isNullOrUndefined(n.Data)?(r=JSON.parse(n.Data),t="Category details were fetched successfully."):t=n.StatusCode==="2042"?this.i18nLocale.browseDialogMessages.createCategory:n.Message):(i=!1,t="Request has been failed"),{CategoryInfo:r,Status:i,StatusMessage:t}},t.prototype.createCategoryInfo=function(n){var t="",i,r=null;return!BoldBIDashboard.isNullOrUndefined(n)&&n.ApiStatus?(i=n.Status,n.Status?(t=n.StatusMessage,r=n.Data):t=n.Message):(i=!1,t="Request has been failed"),{Status:i,StatusMessage:t,CategoryId:r}},t.widgetItems=[],t.editManager=null,t}(BoldBIDashboard.WidgetBase);window.BoldBIDashboard.widget("BoldBIDashboardDesigner","BoldBIDashboard.DashboardDesigner",new BoldBIDashboardDesigner),function(n){var t;(function(n){var t;(function(n){n.processdata="v1.0/design/PostDesignerAction/";n.dagetmeasurefields="v1.0/dataalert/getmeasurefields";n.daevaluatecondition="v1.0/dataalert/evaluatedataalertmodel";n.updatedataalertmodel="v1.0/dataalert/updatedataalertmodel";n.dagetexpressioncolumninfo="v1.0/dataalert/getexpressioncolumninfo";n.dagetdatasourcefields="v1.0/dataalert/getdatasourcefields";n.dagetallwidgets="v1.0/dataalert/getallwidgets";n.dagetvaluesforselectedcolumn="v1.0/dataalert/getvaluesforselectedcolumn";n.getdbrdresource="v1.0/design/getdashboardresources/";n.downloadmapshape="v1.0/design/mapshape/";n.uploadimage="v1.0/design/uploadimage/";n.formurlpattern="v1.0/design/formUrlpattern/";n.assignimage="v1.0/design/assignimage/";n.deleteimage="v1.0/design/deleteimage";n.getcolorparameter="v1.0/design/GetColorParameters/";n.sharedtables="v1.0/design/sharedtables/";n.deletedatasource="v1.0/design/deletedatasource/";n.getnewguid="v1.0/design/getnewguid/";n.addActivityLog="v1.0/design/addactivitylog/";n.initialize="v1.0/design/Initialize/";n.loaddashboard="v1.0/design/loaddashboard/";n.savetoserver="v1.0/design/savetoserver/";n.getalldashboardthemes="v1.0/design/getdashboardthemenames/";n.loaddraft="v1.0/design/loaddraft/";n.checkdraft="v1.0/design/checkdraft/";n.importconnection="v1.0/design/importconnection/";n.importdatasources="v1.0/design/importdatasources/";n.getrowscount="v1.0/design/getrowscount/";n.sampledatasource="v1.0/design/sampledatasource/";n.shareddatasources="v1.0/design/shareddatasources";n.importdatasource="v1.0/design/importdatasource/";n.trackerrors="v1.0/design/trackerrors";n.notifypropertychange="v1.0/design/notifypropertychange";n.getpreviewdata="v1.0/design/getpreviewdata/";n.processfiledata="v1.0/design/processfiledata/";n.postextractdesigneraction="v1.0/design/postextractdesigneraction/";n.oauthauthenticate="v1.0/oauth/authenticate";n.oauthreauthorize="v1.0/oauth/re-authorize";n.oauthconfstatus="v1.0/design/oauthconf-status/";n.linkedaccounts="v1.0/design/linked-accounts/";n.hubhelper="helper";n.getculturescripts="v1.0/design/getculturescript/";n.downloadimage="v1.0/design/download/image/";n.downloadpdf="v1.0/design/download/pdf/";n.downloadcsv="v1.0/design/download/csv/";n.downloadexcel="v1.0/design/download/excel/";n.exportimage="v1.0/design/export/image/";n.exportpdf="v1.0/design/export/pdf/";n.exportcsv="v1.0/design/export/csv/";n.exportexcel="v1.0/design/export/excel/";n.validateconnection="v1.0/design/validateconnection/";n.readdatafromdb="v1.0/design/read-api-data/";n.readdataforflexiblevariable="v1.0/design/read-flexible-data/";n.drivefile="v1.0/design/drive-file/";n.drivefilesize="v1.0/design/get-file-size";n.listdrivefiles="v1.0/design/list-drive-files/";n.listsites="v1.0/design/list-sites/";n.validatedsname="v1.0/design/datasource/validate-name/";n.savedatasource="v1.0/design/savedatasource/";n.shareddashboard="v1.0/dashboard/get-shared-dashboards";n.sharedwidgets="v1.0/dashboard/get-shared-dashboard-widgets";n.createcategory="v1.0/design/createcategory/";n.getcategories="v1.0/design/getcategories/";n.rowcountperdatasourceguid="v1.0/design/rowcount-perdatasource-guid/";n.listsmartsheetfiles="v1.0/design/list-smartsheet-files/";n.smartsheetgethomeitems="v1.0/design/get-home-items/";n.salesforcereportslist="v1.0/design/salesforce-reports-list/";n.salesforceobjectslist="v1.0/design/salesforce-objects-list/";n.salesforcefieldslist="v1.0/design/salesforce-fields-list/";n.ravendbdatabases="v1.0/design/ravendb-databases/";n.zohocrmmoduleslist="v1.0/design/zohocrm-modules/";n.zohoinvoicedomainname="v1.0/design/zohoinvoice-domainlist/";n.linkedinorglist="v1.0/design/linkedin-organizations/";n.azurestoragetables="v1.0/design/azure-storage-tables/";n.facebookpagelist="v1.0/design/facebook-page-list/";n.facebookadslist="v1.0/design/facebook-ads-list/";n.instagramaccountlist="v1.0/design/instagram-account-list/";n.instgrammedialist="v1.0/design/instagram-media-list/";n.fileupload="v1.0/datahandler/upload/";n.certificateupload="v1.0/datahandler/certificateUpload/";n.connectionsettings="v1.0/configuration/connectionsetting/";n.uploadReport="v1.0/design/UploadReportAction";n.validateDynamicConnection="v1.0/design/validate-dynamic-connection-api/";n.viewData="v1.0/design/viewdata/";n.fetchGAMetricsDimensionsList="v1.0/design/ga-metrics-dimensions/";n.getGAAccountsList="v1.0/design/ga-accounts-list/";n.getExistingWidgetInfo="v1.0/dashboard/add-widget/";n.getCustomWidgets="v1.0/design/customwidget/get-widgets/";n.downloadCustomWidgetFile="v1.0/design/customwidget/download-dependency/";n.publishMergeDatasource="v1.0/design/publish-mergeds-schema/";n.saveUserFilter="v1.0/userfilter/save-filter/";n.getUsersAndGroups="v1.0/userfilter/usergroups";n.getUsersInGroup="v1.0/userfilter/{groupid}/users";n.getColumnDetails="v1.0/userfilter/advanced/get-mapping-columns";n.getPreviewData="v1.0/userfilter/advanced/validate";n.getXeroOrganizationData="v1.0/design/xero-organization-list/";n.getSalesforceHostName="v1.0/design/get-salesforce-hostname/";n.getLocalizationFormat="v1.0/design/getlocalizationformat/";n.getQuickbaseTables="v1.0/design/quickbase-table-list/";n.uploadCustomConnectorJson="v1.0/datasource/uploadjson";n.saveCustomConnector="v1.0/datasource/save-custom-connector";n.deleteCustomConnector="v1.0/datasource/delete-custom-connector";n.loadCustomConnector="v1.0/datasource/load-custom-connector";n.customConnectorDelete="v1.0/datasource/custom-connector";n.customConnectorEdit="v1.0/datasource/edit-custom-connector";n.redirectFlexibleExternalUrl="v1.0/datasource/get-flexible-variable";n.getCustomWidgetsList="v1.0/custom-widget";n.deleteCustomWidget="v1.0/custom-widget";n.uploadCustomWidget="v1.0/custom-widget/uploadCustomWidgets";n.saveCustomWidget="v1.0/custom-widget/saveCustomWidgets";n.saveCustomWidgetGuids="v1.0/custom-widget/saveCustomWidgetGuids";n.widgetsettings="v1.0/custom-widget/widgetsetting/";n.dependencysettings="v1.0/design/dependency-settings/{environment}"})(t=n.ServiceAPI||(n.ServiceAPI={}))})(t=n.Dashboard||(n.Dashboard={}))}(BoldBIDashboard||(BoldBIDashboard={}));BoldBIDashboard.Designer.ToolbarItems={New:1,Open:2,Save:4,Cut:8,Copy:16,Paste:32,Delete:64,Undo:128,Redo:256,Zoom:512,Preview:1024,GridLine:2048,Header:4096,Footer:8192,EditDesign:16384,All:32767};BoldBIDashboard.Designer.Locale={},function(n){n[n.ReportItem=0]="ReportItem";n[n.Text=1]="Text"}(CopyType||(CopyType={})),function(n){n[n.None="None"]="None";n[n.Chart="Chart"]="Chart";n[n.Grid="Grid"]="Grid";n[n.ComboBox="ComboBox"]="ComboBox";n[n.ListBox="ListBox"]="ListBox";n[n.RangeSlider="RangeSlider"]="RangeSlider";n[n.DatePicker="DatePicker"]="DatePicker";n[n.RadialGauge="RadialGauge"]="RadialGauge";n[n.BubbleMap="BubbleMap"]="BubbleMap";n[n.ChoroplethMap="ChoroplethMap"]="ChoroplethMap";n[n.Map="Map"]="Map";n[n.TreeMap="TreeMap"]="TreeMap";n[n.Card="Card"]="Card";n[n.Label="Label"]="Label";n[n.Image="Image"]="Image";n[n.HeatMap="HeatMap"]="HeatMap";n[n.PivotGrid="PivotGrid"]="PivotGrid";n[n.ComboChart="ComboChart"]="ComboChart";n[n.KPICard="KPICard"]="KPICard";n[n.RangeNavigator="RangeNavigator"]="RangeNavigator";n[n.NumberCard="NumberCard"]="NumberCard";n[n.BingMap="BingMap"]="BingMap";n[n.RichTextEditor="RichTextEditor"]="RichTextEditor"}(ControlType||(ControlType={})),function(n){n[n.ItemAdd=0]="ItemAdd";n[n.ItemDelete=1]="ItemDelete";n[n.ItemMove=2]="ItemMove";n[n.ItemResize=3]="ItemResize";n[n.ItemPropertyChanged=4]="ItemPropertyChanged";n[n.ContainerPropertyChanged=5]="ContainerPropertyChanged";n[n.DesignAreaResize=6]="DesignAreaResize";n[n.ReportPropertyChanged=7]="ReportPropertyChanged";n[n.HeaderFooterAdd=8]="HeaderFooterAdd";n[n.DataSourceAdd=9]="DataSourceAdd";n[n.DataSourceEdit=10]="DataSourceEdit";n[n.DataSourceDelete=11]="DataSourceDelete";n[n.DataAssignAdd=12]="DataAssignAdd";n[n.DataAssignReplace=13]="DataAssignReplace";n[n.DataAssignDelete=14]="DataAssignDelete";n[n.DataSetAdd=15]="DataSetAdd";n[n.DataSetEdit=16]="DataSetEdit";n[n.DataSetDelete=17]="DataSetDelete";n[n.DataFieldDelete=18]="DataFieldDelete";n[n.DataAssignUpdate=19]="DataAssignUpdate";n[n.UpdateGroup=20]="UpdateGroup";n[n.UpdateSort=21]="UpdateSort";n[n.UpdateFilter=22]="UpdateFilter";n[n.ItemCollectionChanged=23]="ItemCollectionChanged";n[n.ParameterAdd=24]="ParameterAdd";n[n.ParameterEdit=25]="ParameterEdit";n[n.ParameterDelete=26]="ParameterDelete";n[n.ParametersAdd=27]="ParametersAdd";n[n.ParametersDelete=28]="ParametersDelete";n[n.ImageAdd=29]="ImageAdd";n[n.ImageDelete=30]="ImageDelete";n[n.DeleteImages=31]="DeleteImages";n[n.AddImages=32]="AddImages";n[n.TextBoxContentUpdate=33]="TextBoxContentUpdate"}(CommandAction||(CommandAction={}));InternalDataSet=function(){function n(n){this.queryDesigner=null;this.newDatasource=null;this.locale=null;this.isEdit=!1;this.resizeObj={isListPanel:!0,isTypePanel:!0,isConfigPanel:!0,isSharedPanel:!0,isDataPanel:!0};this.targetContainer=null;this.dataSetLiTag=null;this.dataList=null;this.designUI=null;this.sharedDsTag=null;this.designConfigPanel=null;this.dashboardDesigner=n;this.bbdesigner$=this.dashboardDesigner.bbdesigner$;this.locale=n.getLocalizationContent();this.rdlParser=this.dashboardDesigner.rdlParser;this.datasets=BoldBIDashboard.isNullOrUndefined(this.rdlParser)?[]:this.rdlParser.rdlJsonObj.DataSets;this.id=this.dashboardDesigner._id;this.designConfigPanel=this.dashboardDesigner.element.find("#"+this.id+"_designerConfigurationPanel");this.dataSource=this.dashboardDesigner.modules.dataSource;this.dashboardDesigner.model.mode!==BoldBIDashboard.Designer.mode.view&&(this.sharedDs=this.dashboardDesigner.modules.sharedDataSource,this.sharedDs.fncDataList=this.bbdesigner$.proxy(this.switchPanel,this));this.dataSource.fncPanelSwitcher=this.bbdesigner$.proxy(this.switchPanel,this);this.browserInfo=BoldBIDashboard.browserInfo()}return n.prototype.updateDataSetJSON=function(){this.datasets=this.dashboardDesigner.rdlParser.rdlJsonObj.DataSets},n.prototype.pouplateDataSets=function(){var n,t;if(!BoldBIDashboard.isNullOrUndefined(this.dataSetLiTag)){if(this.dataSetLiTag.empty(),this.datasets=BoldBIDashboard.isNullOrUndefined(this.dashboardDesigner.rdlParser)?[]:this.dashboardDesigner.rdlParser.rdlJsonObj.DataSets,!BoldBIDashboard.isNullOrUndefined(this.datasets)&&this.datasets.length>0)for(n=0;n<this.datasets.length;n++)t=this.getCanEditStatusOfDataSource(this.datasets[n]),this.appendItem(this.datasets[n],null,t);this.showDatasetHint()}},n.prototype.getCanEditStatusOfDataSource=function(n){var r,u,i,t;if(this.dashboardDesigner.isDesignMode())if(BoldBIDashboard.isNullOrUndefined(this.dashboardDesigner.model.datasources)){for(i=this.rdlParser.rdlJsonObj.DataSources,t=0;t<i.length;t++)if(i[t].Id===n.Id&&!BoldBIDashboard.isNullOrUndefined(i[t].Permission))return i[t].Permission.CanWrite}else{for(t=0;t<this.dashboardDesigner.model.datasources.length;t++)if(this.dashboardDesigner.model.datasources[t].id===n.PublishId)return BoldBIDashboard.isNullOrUndefined(this.dashboardDesigner.model.datasources[t].name)||this.dashboardDesigner.model.datasources[t].name.trim()===""||(n.Name=this.dashboardDesigner.model.datasources[t].name,n.Description=this.dashboardDesigner.model.datasources[t].description),BoldBIDashboard.isNullOrUndefined(this.dashboardDesigner.model.datasources[t].canEdit)?(r=this.rdlParser.rdlJsonObj.DataSources.filter(function(t){return t.PublishId===n.PublishId})[0],BoldBIDashboard.isNullOrUndefined(r)?!1:r.Permission.CanWrite):this.dashboardDesigner.model.datasources[t].canEdit;return u=this.rdlParser.rdlJsonObj.DataSources.filter(function(t){return t.Id===n.Id&&!BoldBIDashboard.isNullOrUndefined(t.Permission)})[0],BoldBIDashboard.isNullOrUndefined(u)?!1:u.Permission.CanWrite}return!1},n.prototype.getCanDeleteStatusOfDataSource=function(n){if(this.dashboardDesigner.isDesignMode()&&!BoldBIDashboard.isNullOrUndefined(this.dashboardDesigner.model.datasources)){BoldBIDashboard.isNullOrUndefined(this.datasets.filter(function(t){return t.Id===n})[0].PublishId)||(n=this.datasets.filter(function(t){return t.Id===n})[0].PublishId);var t=this.dashboardDesigner.model.datasources.filter(function(t){return t.id===n});if(t.length>0)return this.dashboardDesigner.model.datasources.filter(function(t){return t.id===n})[0].canDelete}return!0},n.prototype.updateDataSet=function(n,t){if(!BoldBIDashboard.isNullOrUndefined(this.datasets)&&this.datasets.length>0){for(var i=0;i<this.datasets.length;i++)if(this.datasets[i].Id===n.Id){this.datasets[i]=t;break}this.editTagItem(n,t);BoldBIDashboardDesigner.editManager.addCmdAction(CommandAction.DataSetEdit,"updateDataSet","DataSet","",[t,n],[n,t])}},n.prototype.insertDataSet=function(n,t){t===0?this.datasets.unshift(n):this.datasets.splice(t,0,n);this.appendItem(n,t);this.showDatasetHint()},n.prototype.addDataSet=function(n){this.datasets.push(n);this.appendItem(n);BoldBIDashboardDesigner.editManager.addCmdAction(CommandAction.DataSetAdd,"removeDataSet","DataSet","",[n,this.datasets.length-1],[n.Name]);this.showDatasetHint()},n.prototype.removeDataSet=function(n){var t,i;if(this.dashboardDesigner.element.find("#"+this.id+"_tree_"+n).remove(),!BoldBIDashboard.isNullOrUndefined(this.datasets)&&this.datasets.length>0)for(t=0;t<this.datasets.length;t++)if(this.datasets[t].Id===n){this.dashboardDesigner.modules.dataConfiguration.updateDataset(this.datasets[t].Id,!0);i=this.bbdesigner$.extend(!0,{},this.datasets[t]);BoldBIDashboardDesigner.editManager.addCmdAction(CommandAction.DataSetDelete,"insertDataSet","DataSet","",[this.datasets[t].Id],[i,t]);this.datasets.splice(t,1);break}this.showDatasetHint()},n.prototype.addDataSetField=function(n,t,i){for(var u,r=0;r<this.datasets.length;r++)if(this.datasets[r].Id===n){u=this.getNodeTag(t.DataField,n,!0,t.Id);i===0?(this.datasets[r].Fields.unshift(t),this.dashboardDesigner.element.find("#"+this.id+"_tree_"+n+">ul").prepend(u)):(this.datasets[r].Fields.splice(i,0,t),this.dashboardDesigner.element.find("#"+this.id+"_tree_"+n+">ul>li:nth-child("+i+")").after(u));break}},n.prototype.removeDataSetField=function(n,t){var i,r;if(this.dashboardDesigner.element.find("#"+this.id+"_tree_"+n+t).remove(),!BoldBIDashboard.isNullOrUndefined(this.datasets)&&this.datasets.length>0)for(i=0;i<this.datasets.length;i++)if(this.datasets[i].Id===n){for(r=0;r<this.datasets[i].Fields.length;r++)if(this.datasets[i].Fields[r].Id===t){BoldBIDashboardDesigner.editManager.addCmdAction(CommandAction.DataFieldDelete,"addDataSetField","DataSet","",[n,t],[n,this.bbdesigner$.extend(!0,{},this.datasets[i].Fields[r]),r]);this.datasets[i].Fields.splice(r,1);break}break}},n.prototype.isLoaded=function(){return!BoldBIDashboard.isNullOrUndefined(this.targetContainer)&&this.targetContainer.length>0},n.prototype.getFieldInfo=function(n,t){var i,r;if(!BoldBIDashboard.isNullOrUndefined(this.datasets)&&this.datasets.length>0)for(i=0;i<this.datasets.length;i++)if(this.datasets[i].Name===n)for(r=0;r<this.datasets[i].Fields.length;r++)if(this.datasets[i].Fields[r].Name===t)return this.datasets[i].Fields[r]},n.prototype.isDataSourceWiz=function(){return this.dataSource.isDataPanel},n.prototype.isConfigWizard=function(){return this.dataSource.dsConfigTag.is(":visible")?!0:!1},n.prototype.showDataSet=function(n,t){this.targetContainer.css("display",n?"block":"none");this.dataList.css("display","block");n&&(this.designUI.is(":visible")||this.sharedDsTag.is(":visible")||this.dataSource.dsTypeTag.is(":visible")||this.dataSource.dsConfigTag.is(":visible")||this.dataSource.isWebTemplatesVisible())&&this.switchPanel(this.dataSource.isDataPanel?PanelList.DataPanel:PanelList.DataList);t.isDataSet&&(this.resizeObj.isListPanel=this.resizeObj.isTypePanel=this.resizeObj.isConfigPanel=this.resizeObj.isSharedPanel=this.resizeObj.isDataPanel=!0,this.updateSize(),t.isDataSet=!1)},n.prototype.renderContainer=function(n){var t=this.targetContainer=BoldBIDashboard.buildTag("div","",{width:"100%",height:"100%","background-color":"white"},{id:this.id+"_datasetContainer","class":"bbi-userselect bbi-dbrd-dataset-container"}),i=this.dataList=BoldBIDashboard.buildTag("div","",{width:"100%",height:"100%",display:"block",position:"relative"},{id:this.id+"_datasetSourceTag"}),r=this.sharedDsTag=BoldBIDashboard.buildTag("div","",{width:"100%",height:"100%",display:"none"},{id:this.id+"_sharedDsConfigTag"}),u=this.designUI=BoldBIDashboard.buildTag("div","",{width:"100%",height:"100%",display:"none"},{id:this.id+"_queryDesigner"});t.append(i);t.append(r);t.append(u);n.append(t);this.renderDataSetPanel(i);this.sharedDs.renderConfiguration(r);this.dataSource.renderContainer(t);this.updateSize();this.wiredEvents();this.pouplateDataSets()},n.prototype.renderDataSetPanel=function(n){var r=BoldBIDashboard.buildTag("div","",{width:"100%",height:"35px",display:"block",overflow:"hidden"},{id:this.id+"_datasetHeaderContainer"}),t=BoldBIDashboard.buildTag("div.bbi-dbrd-designer-body-container-wrapper","",{},{id:this.id+"_datasetBodyContainer_Wrapper"}),u=BoldBIDashboard.buildTag("div.e-lv e-js e-parentlv bbi-dbrd-designer-scroller bbi-dbrd-control bbi-dbrd-designer-scroll-style-3","",{width:"100%",display:"block","margin-bottom":"3px"},{id:this.id+"_datasetBodyContainer"}),c=BoldBIDashboard.buildTag("div","",{}),f=BoldBIDashboard.buildTag("div","",{width:"100%",height:"63px",display:"block",overflow:"hidden",margin:"0 auto","text-align":"center"},{id:this.id+"_datasetFooterContainer"}),nt=BoldBIDashboard.buildTag("span.bbi-designer-header bbi-designer-cursor",this.locale.dataSource.headerDataSourcesText,{overflow:"hidden",display:"inline-block",padding:"8.5px 7px 7px 0px"},{id:this.id+"_dataSetHeaderText"}),tt=BoldBIDashboard.buildTag("span.bbi-designer-header-icon bbi-designer-configuration-dataset bbi-designer-cursor","",{display:"inline-block",float:"left",padding:"7px 11px"},{}),l,e,a,v,y;r.append(tt);r.append(nt);l=BoldBIDashboard.buildTag("div.bbi-designer-new-btn-footer","",{margin:"8px","margin-bottom":"12px"},{id:this.id+"_datasetFooterSeperator"});f.append(l);var p=BoldBIDashboard.buildTag("div.bbi-designer-treeView","",{padding:"0px 3px"},{id:this.id+"_div_datasetList"}),it=this.dataSetLiTag=BoldBIDashboard.buildTag("ul.bbi-designer-nodeTag","",{margin:"0px"},{id:this.id+"_div_datasetUl"}),w=BoldBIDashboard.buildTag("div.bbi-dbrd-designer-datasource-welcometext-content","",{"text-align":"center"},{id:this.id+"welcomettext_content"}),rt=BoldBIDashboard.buildTag("span.bbi-dbrd-designer-iconemptystate","",{display:"inline-block",padding:"4px"},{id:this.id+"_empty_stateimage"}),i=BoldBIDashboard.buildTag("div.bbi-dbrd-designer-sample-datasource-container","",{},{id:this.id+"sample_datasource_container"}),o=BoldBIDashboard.buildTag("div.bbi-dbrd-designer-sample-datasource-header bbi-dbrd-designer-hoverable","",{},{id:this.id+"sample_datasource_container_header","data-tooltip":this.locale.dataConfigurationPanel.collapse}),ut=BoldBIDashboard.buildTag("div.bbi-dbrd-designer-arrowicon bbi-dbrd-designer-uparrow-icon bbi-dbrd-designer-hoverable","",{},{id:this.id+"sample_datasource_container_updown_arrowicon","data-tooltip":this.locale.dataConfigurationPanel.collapse}),b=BoldBIDashboard.buildTag("div.bbi-dbrd-designer-sample-datasource-content","",{},{id:this.id+"sample_datasource_container_content"}),k=BoldBIDashboard.buildTag("div.bbi-dbrd-designer-sample-datasource-footer","",{},{id:this.id+"sample_datasource_container_footer"}),d=BoldBIDashboard.buildTag("span.e-split e-drop e-widget","",{display:"inline-block","margin-left":"10px"},{}),s=BoldBIDashboard.buildTag("button.bbi-dbrd-btn-primary",this.locale.dataSource.useExistingText,{width:"160px"},{id:this.id+"_btn_import_ds",type:"button"}),g=BoldBIDashboard.buildTag("span.e-split e-drop e-widget","",{display:"inline-block"},{}),h=BoldBIDashboard.buildTag("button.bbi-dbrd-btn-primary",this.locale.dataSource.createNewText,{width:"160px"},{id:this.id+"_btn_newDataSet",type:"button",disabled:!this.dashboardDesigner.model.isAllowUserToCreateDatasource});p.append(it);e="<p><b>"+this.locale.dataSource.welcomeContent+"<\/b><\/p>";e+="<p style='padding-left:15px; padding-right:15px;'>"+this.locale.dataSource.welcomeBodyContent+"<\/p>";w.append(rt,e);a="<span>"+this.locale.dataSource.sampleDataSources+"<\/span>";o.append(a,ut);i.append(o);v="<span>"+this.locale.dataSource.sampleDataSourceContent+"<\/span>";b.append(v);i.append(b);y="<span class=bbi-dbrd-designer-sample-datasource-footer-span><u style='cursor:pointer'>"+this.locale.dataSource.exploreSamples+"<\/u><\/span>";k.append(y);i.append(k);t.append(u);t.append(w);t.append(i);c.append(p);u.append(c);n.append(r);n.append(t);d.append(s);g.append(h);f.append(g,d);n.append(f);s.off("click",this.bbdesigner$.proxy(this.onSharedDsBtnClick,this));s.on("click",this.bbdesigner$.proxy(this.onSharedDsBtnClick,this));h.off("click",this.bbdesigner$.proxy(this.showContextMenu,this));h.on("click",this.bbdesigner$.proxy(this.showContextMenu,this));o.on("click",this.bbdesigner$.proxy(this.popupWindowPanel,this));u.BoldBIDashboardScroller({scrollerSize:this.dashboardDesigner.scrollerSize.scrollSize,enableTouchScroll:!0,autoHide:!0,buttonSize:this.dashboardDesigner.scrollerSize.buttonSize,scroll:this.bbdesigner$.proxy(this.onDataFieldScroll,this)})},n.prototype.headerMenuClick=function(n){n.text==="Datasources"&&this.switchPanel(PanelList.DataPanel)},n.prototype.renderSpliBtContextMenu=function(n,t){var i=BoldBIDashboard.buildTag("ul.bbi-designer-menu","",{"border-radius":"4px",width:t},{id:this.id+"_ul_newDataSet"}),r=this.bbdesigner$("<li><span>Shared<\/span><\/li>"),u=this.bbdesigner$("<li><span>Create New<\/span><\/li>");i.append(r);i.append(u);n.append(i);i.BoldBIDashboardMenu({menuType:BoldBIDashboard.MenuType.ContextMenu,animationType:BoldBIDashboard.AnimationType.None,openOnClick:!1,showArrow:!0,click:this.bbdesigner$.proxy(this.datasetType,this)})},n.prototype.datasetType=function(n){n.text==="Shared"?this.switchPanel(PanelList.SharedData):n.text==="Create New"&&this.switchPanel(PanelList.DataType)},n.prototype.getOffset=function(n){var t=n.offset(),i;return this.bbdesigner$("body").css("position")!=="static"&&(i=this.bbdesigner$("body").offset(),t.left-=i.left,t.top-=i.top),t},n.prototype.getXYpos=function(n,t){var i,u,f,r,e=1;return i=this.getOffset(n),u=i.left,r=i.top-t.outerHeight()+1-e,f=r<0?i.top+n.outerHeight()-e:r,{left:u,top:f}},n.prototype.showContextMenu=function(){this.switchPanel(PanelList.DataType)},n.prototype.popupWindowPanel=function(){var n=this.dataList.find("#"+this.id+"_datasetBodyContainer_Wrapper"),i=n.find("#"+this.id+"_datasetBodyContainer").css("display")!=="none",t;n.find("#"+this.id+"sample_datasource_container_updown_arrowicon").hasClass("bbi-dbrd-designer-uparrow-icon")?(t=n.height()-45,n.find("#"+this.id+"sample_datasource_container").animate({height:"45px"},500),this.updateBodyHeight(t,i,n),n.find("#"+this.id+"sample_datasource_container_updown_arrowicon").addClass("bbi-dbrd-designer-downarrow-icon bbi-dbrd-designer-hoverable").removeClass("bbi-dbrd-designer-uparrow-icon").attr("data-tooltip",this.locale.dataConfigurationPanel.expand),n.find("#"+this.id+"sample_datasource_container_header").addClass("bbi-dbrd-designer-hoverable").attr("data-tooltip",this.locale.dataConfigurationPanel.expand)):(t=n.height()-135,n.find("#"+this.id+"sample_datasource_container").animate({height:"135px"},500),this.updateBodyHeight(t,i,n),n.find("#"+this.id+"sample_datasource_container_updown_arrowicon").addClass("bbi-dbrd-designer-uparrow-icon bbi-dbrd-designer-hoverable").removeClass("bbi-dbrd-designer-downarrow-icon").attr("data-tooltip",this.locale.dataConfigurationPanel.collapse),n.find("#"+this.id+"sample_datasource_container_header").addClass("bbi-dbrd-designer-hoverable").attr("data-tooltip",this.locale.dataConfigurationPanel.collapse))},n.prototype.updateBodyHeight=function(n,t,i){var u=this,r=null;t?(r=i.find("#"+this.id+"_datasetBodyContainer"),i.find("#"+this.id+"welcomettext_content").height(n)):(r=i.find("#"+this.id+"welcomettext_content"),i.find("#"+this.id+"_datasetBodyContainer").height(n));r.animate({height:n},500,function(){u.updateScrollerHeight(n)})},n.prototype.updateScrollerHeight=function(n){var i=this.dataList.find("#"+this.id+"_datasetBodyContainer_Wrapper"),t=i.find("#"+this.id+"_datasetBodyContainer");t.data("BoldBIDashboardScroller").setModel({height:n});t.data("BoldBIDashboardScroller").refresh()},n.prototype.editDataSetClick=function(n){for(var i=null,t=0;t<this.datasets.length;t++)if(this.datasets[t].Id===n.dataset){i=this.bbdesigner$.extend(!0,{},this.datasets[t]);break}this.isEdit=!0;this.dashboardDesigner.isQueryDesignerMode=!0;i.SharedDataSet?this.switchPanel(PanelList.SharedData):this.showQueryDesigner(i)},n.prototype.datasourceSelection=function(n,t){this.newDatasource=null;this.showQueryDesigner(null,n,t)},n.prototype.deleteDataSetClick=function(n){n.column?this.dashboardDesigner.modules.util.alertDialog(this.locale.alertDialogTitle.dataSet,this.locale.dataSource.deleteDataField+n.datasetName+this.locale.dataSource.questionmark,IconType.warning,AlertType.Confirm,!1,"",{dataInfo:{dataset:n.dataset,field:n.column},instance:this,method:"deletConfirmationField"}):this.dashboardDesigner.modules.util.alertDialog(this.locale.alertDialogTitle.DeleteDataSource,this.locale.alertDialogTitle.dataSources+"&nbsp"+n.datasetName+"&nbsp"+this.locale.alertWindowMesages.doYouWant+this.locale.dataSource.questionmark,IconType.warning,AlertType.Confirm,!1,"",{dataInfo:{dataset:n.dataset},instance:this,method:"deletConfirmationData"})},n.prototype.deletConfirmationData=function(n,t){var r=null,i;n&&!BoldBIDashboard.isNullOrUndefined(t)&&(i=this.datasets.filter(function(n){return n.Id===t.dataset}),i.length>0&&(r=i[0].Id),this.deleteDataSource(r))},n.prototype.deleteDataSource=function(n){this.dashboardDesigner.modules.util.doAjaxPost("POST",this.dashboardDesigner.model.serviceUrl+BoldBIDashboard.Dashboard.ServiceAPI.processdata,{action:BoldBIDashboard.DashboardUtil.DesignerAction.deleteDataSet,data:JSON.stringify({className:BoldBIDashboard.DashboardUtil.DesignerAction.DataSetAction,designerAction:BoldBIDashboard.DashboardUtil.DesignerAction.deleteDataSet,dataSetId:n,isQueryDesignerMode:this.dashboardDesigner.isQueryDesignerMode})},{fnction:this.bbdesigner$.proxy(this.removeDataSetItem,this,n)})},n.prototype.removeDataSetItem=function(n){var t,i;if(!BoldBIDashboard.isNullOrUndefined(n)&&n!==""){var r=this.dashboardDesigner.modules.dataSet,f=this.dashboardDesigner.modules.dataSource,e=this.dashboardDesigner.rptToolbar;e.removeFilterCondition(n);t=null;i=r.datasets.filter(function(t){return t.Id===n});i.length>0&&(t=i[0].PublishId);r.removeDataSet(n);var u=r.dataSource.datasources.filter(function(t){return t.Id===n})[0],o=BoldBIDashboard.isNullOrUndefined(u.ProviderType)?u.ConnectionProperties.DataProvider:u.ProviderType,s=!BoldBIDashboard.isNullOrUndefined(t)&&t!==""?t:null;this.dashboardDesigner.modules.util.AddActivityLog(ActivityLogEvents.Deleted,ActivityLogItemType.Datasource,f.getDatasourceSubTypes(o),s)}},n.prototype.deletConfirmationField=function(n,t){n&&!BoldBIDashboard.isNullOrUndefined(t)&&this.removeDataSetField(t.dataset,t.column)},n.prototype.editTagItem=function(n,t){var u=this.dashboardDesigner.element.find("#"+this.id+"_tree_"+n.Id),r=this.getNodeTag(t.Name,"",!1,t.Id),i;u.replaceWith(r);i=BoldBIDashboard.buildTag("ul.bbi-designer-nodeTag","",{"padding-left":"26px",display:"none"});r.append(i);this.addTreeViewItem(i,t)},n.prototype.addTreeViewItem=function(n,t){var i,u,e,f;if(BoldBIDashboard.isNullOrUndefined(t.TreeViewData))for(i=0;i<t.Fields.length;i++)n.append(this.getNodeTag(t.Fields[i].DataField,t.Id,!0,t.Fields[i].Id,t.Fields[i].TypeName));else{u=new BoldBIDashboard.Dashboard.HierachialModel;u.ShowDataTypeIcon=!0;e=new BoldBIDashboard.Dashboard.HierachicalSchemaView(this.dashboardDesigner,u);f=BoldBIDashboard.buildTag("div.bbi-dbrd-treeview","",{},{});n.append(f);var o=JSON.parse(t.TreeViewData),r=!BoldBIDashboard.isNullOrUndefined(this.dashboardDesigner)&&!BoldBIDashboard.isNullOrUndefined(this.dashboardDesigner.rdlParser)&&!BoldBIDashboard.isNullOrUndefined(this.dashboardDesigner.rdlParser.rdlJsonObj)&&!BoldBIDashboard.isNullOrUndefined(this.dashboardDesigner.rdlParser.rdlJsonObj.DataSources)?this.dashboardDesigner.rdlParser.rdlJsonObj.DataSources.filter(function(n){return n.Id===t.Id})[0]:null,s=!BoldBIDashboard.isNullOrUndefined(r)&&!BoldBIDashboard.isNullOrUndefined(r.ConnectionProperties)&&!BoldBIDashboard.isNullOrUndefined(r.ConnectionProperties.DataProvider)&&r.ConnectionProperties.DataProvider.toUpperCase()==="SSAS"?!0:!1;e.render(f,o.Measure.concat(o.Dimension),this.dashboardDesigner.element.find("#"+this.id+"_datasetBodyContainer"),null,null,s)}},n.prototype.appendItem=function(n,t,i){var f=this.dashboardDesigner.element.find("#"+this.id+"_datasetBodyContainer"),r=this.getNodeTag(n.Name,"",!1,n.Id),e,u,o;BoldBIDashboard.isNullOrUndefined(t)?this.dataSetLiTag.append(r):t===0?this.dataSetLiTag.prepend(r):this.dashboardDesigner.element.find("#"+this.id+"_div_datasetUl>li:nth-child("+t+")").after(r);e=BoldBIDashboard.buildTag("ul.bbi-designer-nodeTag","",{"padding-left":"26px",display:"none"});r.append(e);this.addTreeViewItem(e,n);f.height()>f.find(".bbi-designer-treeView").height()?f.find(".e-content").removeClass("e-content"):this.scrollerRefresh(f);BoldBIDashboard.isNullOrUndefined(i)||(u=r.find("#"+this.id+"_edit_"+n.Id),i?(u.parent(".bbi-designer-edit-wrapper").attr("data-tooltip",""),u.removeClass("disablededitbutton")):(o=this.locale.saveDatasourceDialog.noEditPermissionText,u.parent(".bbi-designer-edit-wrapper").attr("data-tooltip",o).addClass("bbi-dbrd-designer-hoverable"),u.addClass("disablededitbutton")))},n.prototype.treeNodeClick=function(n,t){t.stopPropagation();var i=this.dashboardDesigner.element.find("#"+this.id+"_icon_"+n.dataset),u=this.dashboardDesigner.element.find("#"+this.id+"_tree_"+n.dataset),r=u.children("ul");i.hasClass("bbi-designer-rightarrow")?(i.addClass("bbi-designer-dropdown").removeClass("bbi-designer-rightarrow"),r.find(".bbi-designer-treeRow").css("display","block")):(i.removeClass("bbi-designer-dropdown").addClass("bbi-designer-rightarrow"),r.find(".bbi-designer-treeRow").css("display","none"));r.slideToggle("slow",this.bbdesigner$.proxy(this.scrollerRefresh,this,this.dashboardDesigner.element.find("#"+this.id+"_datasetBodyContainer")))},n.prototype.getNodeTag=function(n,t,i,r,u){var a="",h="",g={DataType:u,IsPrimaryKey:!1},w=this.designConfigPanel.width(),y,f,c,l,e,b,k;t?(a=t,h=n):a=n;y=!1;this.dashboardDesigner.rptToolbar.isDataSampleEnabled&&(f=this.datasets.filter(function(n){return n.Name===a})[0],f!=null&&f.Query!=null&&f.Query.QueryDesignerState!=null&&f.Query.QueryDesignerState.DataSample!=null&&(y=f.Query.QueryDesignerState.DataSample.DataSampling));var v=BoldBIDashboard.buildTag("li.bbi-designer-nodeTag","",{},{id:this.id+"_tree_"+r+h}),o=BoldBIDashboard.buildTag("div.bbi-designer-nodeContent bbi-treerow bbi-datafield","",{width:"100%",display:this.browserInfo.name==="mozilla"?"inline-flex":"block",height:"36px"},{id:this.id+"_text_"+t+r,name:n,"e-dataset":t}),d=BoldBIDashboard.buildTag("div.bbi-designer-content-icon bbi-designer-treeIcon "+(i?"":"bbi-designer-rightarrow"),"",{padding:"4px","padding-top":"6px","font-size":"12px"},{id:this.id+"_icon_"+r}),nt=BoldBIDashboard.buildTag("div.bbi-designer-content-icon bbi-designer-treeIcon bbi-designer-datasourcelist bbi-designer-cursor","",{padding:"4px"},{}),s=BoldBIDashboard.buildTag("a.bbi-designer-treeText bbi-designer-content bbi-designer-li-text",n,{width:w-163+"px",padding:i?"9px 0px":"10px 0px"},{}),p=BoldBIDashboard.buildTag("a.bbi-tree-settings","",{display:"block","margin-right":this.browserInfo.name==="mozilla"?"0px":"20px","margin-left":this.browserInfo.name==="mozilla"?"5px":"0px","margin-top":"9px",float:"right"}),tt=BoldBIDashboard.buildTag("span.e-icon e-close_01 e-chk-image e-lv-checkdiv","",{float:"right","margin-right":"8px","margin-top":"-2px"},{});if(i)k=BoldBIDashboard.buildTag("span.bbi-designer-content-icon bbi-designer-cursor "+BoldBIDashboard.DashboardUtil.getDataTypeStyle(g),"",{display:"inline-block",padding:"7px 4px","margin-left":"15px","font-size":"18px"},{}),v.css({"border-bottom":"0px solid #dddddd"}),s.css({width:w-126+"px"}),o.append(k).append(s);else{v.css({"border-bottom":"0.5px solid #dddddd"});o.append(d).append(nt).append(s);c=BoldBIDashboard.buildTag("span.bbi-designer-content-icon bbi-designer-toolbar-delete e-tooltip bbi-designer-click bbi-dbrd-designer-hoverable","",{float:"right","margin-right":"0px","margin-left":"12px"},{id:this.id+"_delete_"+r,"e-target":this.id+"_datasetConfigMenu","data-tooltip":this.locale.dataSource.deleteContextMenu});p.append(c);l=BoldBIDashboard.buildTag("div.bbi-designer-edit-wrapper","",{},{});e=BoldBIDashboard.buildTag("span.bbi-designer-content-icon bbi-designer-parameter-edit e-tooltip bbi-designer-click bbi-dbrd-designer-hoverable bb-editbutton","",{float:"right","margin-right":"2px","margin-left":"0px"},{id:this.id+"_edit_"+r,"e-target":this.id+"_datasetConfigMenu","data-tooltip":this.locale.dataSource.editContextMenu});l.append(e);b=BoldBIDashboard.buildTag("span.bbi-designer-content-icon bbi-designer-toolbar-datasample e-tooltip e-designer-click bbi-dbrd-designer-hoverable","",{float:"left","margin-right":"18px","margin-left":"12px","margin-top":"2px"},{id:this.id+"_delete_"+r,"e-target":this.id+"_datasetConfigMenu","data-tooltip":this.locale.dataSource.dataSampleContextMenu});y&&this.dashboardDesigner.rptToolbar.isDataSampleEnabled?l.append(b).append(e):l.append(e);p.append(l);o.bind(BoldBIDashboard.isTouchDevice()?"doubletap":"dblclick",this.bbdesigner$.proxy(this.treeNodeClick,this,{dataset:r}));d.bind("click",this.bbdesigner$.proxy(this.treeNodeClick,this,{dataset:r}));e.off("click",this.bbdesigner$.proxy(this.editDataSet,this,{dataset:r,datasetName:n}));e.on("click",this.bbdesigner$.proxy(this.editDataSet,this,{dataset:r,datasetName:n}));c.off("click",this.bbdesigner$.proxy(this.deleteDataset,this,{dataset:r,datasetName:n}));c.on("click",this.bbdesigner$.proxy(this.deleteDataset,this,{dataset:r,datasetName:n}));BoldBIDashboard.isNullOrUndefined(this.getCanDeleteStatusOfDataSource(r))||this.getCanDeleteStatusOfDataSource(r)||c.addClass("e-disable bbi-disable-dsitem")}return s.addClass(BoldBIDashboard.DashboardUtil.isExistTextWidth(s)?"e-title-tip bbi-dbrd-designer-hoverable":"bbi-dbrd-designer-hoverable"),v.append(o),o.append(p),i||o.addClass("bbi-datasource-title"),s.attr("data-tooltip",h===""?a:h),tt.bind("click",this.bbdesigner$.proxy(this.deleteDataSetClick,this,{dataset:r,column:h,datasetName:n})),v},n.prototype.getDragElement=function(n,t){var i=BoldBIDashboard.buildTag("div","",{border:"0.5px solid #EDF1F4",background:"#EDF1F4",margin:"6px",height:"25px","border-radius":"1px","z-index":"50","white-space":"nowrap",overflow:"hidden"},{id:this.id+"_"+n+"_div"}),u=BoldBIDashboard.buildTag("div","",{"margin-right":"3px","margin-left":"15px","margin-top":"3px",float:"left","font-size":"18px"},{id:this.id+"_dataseticon","class":t}),r=BoldBIDashboard.buildTag("span.bbi-designer-fontfamily","",{overflow:"hidden","font-size":"12px",display:"inline-block","white-space":"nowrap","text-overflow":"ellipsis","margin-left":"2px","margin-top":"2px",width:"120px","vertical-align":"middle"},{id:this.id+"_"+n+"_text"});return r.text(n),i.append(u),i.append(r),i},n.prototype.deleteDataset=function(n){var t={dataset:n.dataset,column:"",datasetName:n.datasetName};this.deleteDataSetClick(t,null)},n.prototype.editDataSet=function(n){var t={dataset:n.dataset,column:"",datasetName:n.datasetName};this.editDataSetClick(t,null)},n.prototype.scrollerRefresh=function(n){n.data("BoldBIDashboardScroller")&&n.data("BoldBIDashboardScroller").refresh(!0)},n.prototype.showQueryDesigner=function(n,t,i){var r=this.dashboardDesigner.modules.parameter;BoldBIDashboard.isNullOrUndefined(this.dashboardDesigner.toolbarTag)||this.dashboardDesigner.showToolbar(!1);BoldBIDashboard.isNullOrUndefined(this.dashboardDesigner.toolbarTag)||BoldBIDashboard.isNullOrUndefined(this.dashboardDesigner.rptToolbar)||this.dashboardDesigner.rptToolbar.ShowDataSample(!1);this.dashboardDesigner.modules.dataConfigurationPanel.resizeConfigurationPanel(!0);this.designConfigPanel.css("border-left-style","none");this.switchPanel(PanelList.QueryBuilder);BoldBIDashboard.isNullOrUndefined(this.queryDesigner)&&(this.designUI.BoldBIDashboardQueryDesigner({id:this.id,create:this.bbdesigner$.proxy(this.queryDesignerLoaded,this),toolbarSettings:{items:BoldBIDashboard.QueryDesigner.ToolbarItems.All&~BoldBIDashboard.QueryDesigner.ToolbarItems.SelectDataSource},serviceAuthorizationToken:this.dashboardDesigner.model.serviceAuthorizationToken,serviceUrl:this.dashboardDesigner.model.serviceUrl,mode:this.dashboardDesigner.model.mode,designerInstance:this.dashboardDesigner}),this.queryDesigner=this.designUI.data("BoldBIDashboardQueryDesigner"));this.queryDesigner.callBackfn=this.bbdesigner$.proxy(this.queryDesignerResult,this);this.queryDesigner.credentials=this.dataSource.credential;this.queryDesigner.model.serviceUrl=this.dashboardDesigner.model.serviceUrl;this.queryDesigner.model.dataSources=this.bbdesigner$.extend(!0,[],this.dataSource.datasources);i&&i.Name&&(this.queryDesigner.model.dataSources.push(i),this.newDatasource=i);this.queryDesigner.model.parameters=this.bbdesigner$.extend(!0,{},r.parameters);this.queryDesigner.model.validateNames=this.getAvilableNames();this.dashboardDesigner.isQueryDesignerMode=!0;n?(this.isEdit=!0,this.queryDesigner.editDataSet(n)):t?(this.isEdit=!1,this.queryDesigner.dataset=BoldBIDashboardQueryDesigner.createDataSet(),this.queryDesigner.dataset.Id=BoldBIDashboard.isNullOrUndefined(i)?BoldBIDashboard.getGuid("Datasource_"):i.Id,this.queryDesigner.dataset.PublishId=BoldBIDashboard.isNullOrUndefined(i)?"":i.PublishId,this.queryDesigner.newDataSet(t),this.queryDesigner.showTableHint(!1)):(this.isEdit=!1,this.queryDesigner.newDataSet(null));this.queryDesigner.showEditConnectionBtn()},n.prototype.queryDesignerLoaded=function(){var n={BoldBIDashboardQueryDesigner:this.designUI.data("BoldBIDashboardQueryDesigner")};this.dashboardDesigner.triggerEvents("queryDesignerRendered",n)},n.prototype.queryDesignerResult=function(n){this.designConfigPanel.css("border-left-style","solid");n.isCancel?this.cancelDataSet():this.saveDataSet(n.oldDataSet,n.newDataSet,n.parameters);this.dashboardDesigner.resizeObj.isDesigner?(this.dashboardDesigner.itemPanel.updateSize(),this.dashboardDesigner.designerPanel.updatePanelSize(),this.dashboardDesigner.modules.dataConfigurationPanel.updateSize(),this.dashboardDesigner.resizeObj.isDesigner=!1):this.scrollerRefresh(this.dashboardDesigner.element.find("#"+this.id+"_datasetBodyContainer"))},n.prototype.cancelDataSet=function(){this.newDatasource=null;this.isEdit=!1;this.dashboardDesigner.isQueryDesignerMode=!1;BoldBIDashboard.isNullOrUndefined(this.dashboardDesigner.toolbarTag)||this.dashboardDesigner.showToolbar(!0);BoldBIDashboard.isNullOrUndefined(this.dashboardDesigner.toolbarTag)||BoldBIDashboard.isNullOrUndefined(this.dashboardDesigner.rptToolbar)||this.dashboardDesigner.rptToolbar.ShowDataSample(!0);this.dashboardDesigner.modules.dataConfigurationPanel.resizeConfigurationPanel(!1);this.dataSource.isDataPanel?this.switchPanel(PanelList.DataPanel):this.switchPanel(PanelList.DataList)},n.prototype.saveDataSet=function(n,t,i){this.dashboardDesigner.modules.dataConfigurationPanel.resizeConfigurationPanel(!1);BoldBIDashboard.isNullOrUndefined(this.dashboardDesigner.toolbarTag)||this.dashboardDesigner.showToolbar(!0);BoldBIDashboard.isNullOrUndefined(this.dashboardDesigner.toolbarTag)||BoldBIDashboard.isNullOrUndefined(this.dashboardDesigner.rptToolbar)||this.dashboardDesigner.rptToolbar.ShowDataSample(!0);BoldBIDashboardDesigner.editManager.setMergeAction(!0);this.isEdit?this.updateDataSet(n,t):(this.newDatasource&&this.newDatasource.Name&&this.dataSource.addDataSource(this.newDatasource),this.addDataSet(t));i&&i.length>0&&this.dashboardDesigner.modules.parameter.addParameters(i);BoldBIDashboardDesigner.editManager.setMergeAction(!1);this.switchPanel(PanelList.DataList);this.isEdit=!1;this.dashboardDesigner.isQueryDesignerMode=!1;this.newDatasource=null},n.prototype.getAvilableNames=function(){var n=[],t=this.dashboardDesigner.element.find("#"+this.id+"_div_datasetUl>li>div>.bbi-designer-treeText"),i=this.bbdesigner$;return t.each(function(t,r){n.push(i(r).text())}),n},n.prototype.getAvailableName=function(){var t="DataSet",r=this.getAvilableNames(),n=0,i;do n++,i=r.indexOf(t+n);while(i!==-1);return t+n},n.prototype.showDatasetHint=function(){BoldBIDashboard.isNullOrUndefined(this.dataList)||(this.dataList.find("#"+this.id+"_div_datasetList li").length>0?(this.dataList.find("#"+this.id+"welcomettext_content").hide(),this.dataList.find("#"+this.id+"_datasetBodyContainer").css("display","block")):(this.dataList.find("#"+this.id+"welcomettext_content").show(),this.dataList.find("#"+this.id+"_datasetBodyContainer").css("display","none")))},n.prototype.onDataFieldScroll=function(n){n.cancel=this.dashboardDesigner.isItemDrag},n.prototype.updateDataListSize=function(){var u=this.targetContainer.height(),f=this.dataList.find("#"+this.id+"_datasetBodyContainer_Wrapper"),n=this.dataList.find("#"+this.id+"_datasetBodyContainer"),e=this.dataList.find("#"+this.id+"_datasetHeaderContainer").height(),o=this.dataList.find("#"+this.id+"sample_datasource_container").height(),s=this.dataList.find("#"+this.id+"_datasetFooterContainer").height(),i=u-(e+s),t=i-o,r;f.height(i);n.height(t);r=this.dataList.find("#"+this.id+"welcomettext_content");r.height(t);n.data("BoldBIDashboardScroller")&&(n.data("BoldBIDashboardScroller").setModel({height:t+"px"}),n.data("BoldBIDashboardScroller").refresh())},n.prototype.updateSharedDataSize=function(){this.sharedDs.resize(this.targetContainer.height())},n.prototype.switchPanel=function(n){var t;this.dataSource.isEdit=!1;this.dataSource.hideChildPanels();switch(n){case PanelList.DataList:this.dataSource.datasourceItem=null;this.dataSource.isDataPanel=!1;this.isEdit=!1;this.dataList.css("display","block");this.sharedDsTag.css("display","none");this.dataSource.dsTypeTag.css("display","none");this.dataSource.dsConfigTag.css("display","none");this.dataSource.dsListTag.css("display","none");this.designUI.css("display","none");break;case PanelList.SharedData:this.dataSource.datasourceItem=null;this.dataSource.isDataPanel=!1;this.updateSharedDataSize();this.dataList.css("display","none");this.sharedDsTag.css("display","block");this.dataSource.dsTypeTag.css("display","none");this.dataSource.dsConfigTag.css("display","none");this.dataSource.dsListTag.css("display","none");this.designUI.css("display","none");this.sharedDs.fetchDatasourceList(!1);break;case PanelList.DataType:this.dataSource.datasourceItem=null;this.dataList.css("display","none");this.sharedDsTag.css("display","none");this.dataSource.dsTypeTag.css("display","block");this.dataSource.dsConfigTag.css("display","none");this.dataSource.dsListTag.css("display","none");this.designUI.css("display","none");this.dataSource.resetDataSourceList();this.dataSource.enableDataChooser();this.dataSource.isConnectionMode()&&(t=this.dataSource.getConnectionDlgInstance(),t.connectionModeContainer.removeClass("bbi-dbrd-configuration"),t.updateBreadCrumbState(0),t.scrollerRefresh());break;case PanelList.ConfigPanel:this.dataList.css("display","none");this.sharedDsTag.css("display","none");this.dataSource.dsTypeTag.css("display","none");this.dataSource.dsConfigTag.css("display","block");this.dataSource.dsListTag.css("display","none");this.designUI.css("display","none");this.dataSource.isConnectionMode()&&(t=this.dataSource.getConnectionDlgInstance(),t.connectionModeContainer.addClass("bbi-dbrd-configuration"),t.updateBreadCrumbState(1),t.scrollerRefresh(),this.resizeObj.isConfigPanel=!0);break;case PanelList.DataPanel:this.dataSource.datasourceItem=null;this.dataList.css("display","none");this.sharedDsTag.css("display","none");this.dataSource.dsTypeTag.css("display","none");this.dataSource.dsConfigTag.css("display","none");this.dataSource.dsListTag.css("display","block");this.designUI.css("display","none");break;case PanelList.QueryBuilder:this.dataSource.datasourceItem=null;BoldBIDashboard.isNullOrUndefined(this.dataList)||this.dataList.css("display","none");BoldBIDashboard.isNullOrUndefined(this.sharedDsTag)||this.sharedDsTag.css("display","none");BoldBIDashboard.isNullOrUndefined(this.dataSource.dsTypeTag)||this.dataSource.dsTypeTag.css("display","none");BoldBIDashboard.isNullOrUndefined(this.dataSource.dsConfigTag)||this.dataSource.dsConfigTag.css("display","none");BoldBIDashboard.isNullOrUndefined(this.dataSource.dsListTag)||this.dataSource.dsListTag.css("display","none");this.designUI.css("display","block");break;case PanelList.TemplatesPanel:this.dataList.css("display","none");this.sharedDsTag.css("display","none");this.dataSource.dsTypeTag.css("display","none");this.dataSource.dsConfigTag.css("display","none");this.dataSource.dsListTag.css("display","none");this.designUI.css("display","none");break;case PanelList.SampleData:this.dataSource.datasourceItem=null;this.dataList.css("display","none");this.updateSharedDataSize();this.sharedDsTag.css("display","block");this.dataSource.dsTypeTag.css("display","none");this.dataSource.dsConfigTag.css("display","none");this.dataSource.dsListTag.css("display","none");this.designUI.css("display","none");this.sharedDs.fetchDatasourceList(!0)}this.updatePanelSize()},n.prototype.showsampledatasources=function(n){n.preventDefault();this.switchPanel(PanelList.SampleData)},n.prototype.updatePanelSize=function(){if(this.resizeObj.isListPanel&&this.dataList.is(":visible"))this.resizeObj.isListPanel=!1,this.updateDataListSize();else if(this.resizeObj.isSharedPanel&&this.sharedDsTag.is(":visible"))this.resizeObj.isSharedPanel=!1,this.updateSharedDataSize();else if(this.resizeObj.isConfigPanel&&this.dataSource.dsConfigTag.is(":visible"))this.resizeObj.isConfigPanel=!1,this.dataSource.updateDSConfigContainer();else if(this.resizeObj.isTypePanel&&this.dataSource.dsTypeTag.is(":visible")){if(this.resizeObj.isTypePanel=!1,this.dataSource.updateDSTypeContainer(),this.dashboardDesigner.model.mode===BoldBIDashboard.Designer.mode.connection){var n=this.dashboardDesigner.modules.connectionDialog;n.connectionModeContainer.removeClass("bbi-dbrd-configuration");n.updateBreadCrumbState(0);n.createScroller()}}else this.resizeObj.isDataPanel&&this.dataSource.dsListTag.is(":visible")?(this.resizeObj.isDataPanel=!1,this.dataSource.updateDSListContainer()):this.queryDesigner&&this.queryDesigner.isRendered()&&this.designUI.is(":visible")&&this.dashboardDesigner.resizeObj.isQueryDesigner&&(this.designUI.width(this.targetContainer.width()),this.dashboardDesigner.resizeObj.isQueryDesigner=!1)},n.prototype.updateSize=function(){this.isLoaded()&&(this.resizeObj.isListPanel=this.resizeObj.isTypePanel=this.resizeObj.isConfigPanel=this.resizeObj.isSharedPanel=this.resizeObj.isDataPanel=!0,this.dashboardDesigner.model.mode===BoldBIDashboard.Designer.mode.datasource?this.targetContainer.css("height","100%"):this.targetContainer.height(this.designConfigPanel.height()),this.designUI.height(this.targetContainer.height()),this.dataList.is(":visible")?(this.updateDataListSize(),this.resizeObj.isListPanel=!1):this.sharedDsTag.is(":visible")?(this.updateSharedDataSize(),this.resizeObj.isSharedPanel=!1):this.dataSource.dsTypeTag.is(":visible")?(this.dataSource.updateDSTypeContainer(),this.resizeObj.isTypePanel=!1):this.dataSource.dsConfigTag.is(":visible")||this.dataSource.isWebTemplatesVisible()?(this.dataSource.updateDSConfigContainer(),this.resizeObj.isConfigPanel=!1):this.dataSource.dsListTag.is(":visible")&&(this.dataSource.updateDSListContainer(),this.resizeObj.isDataPanel=!1),this.queryDesigner&&this.queryDesigner.isRendered()&&this.designUI.is(":visible")&&this.dashboardDesigner.resizeObj.isQueryDesigner&&(this.dashboardDesigner.resizeObj.isQueryDesigner=!1))},n.prototype.wiredEvents=function(){this.dataList.on("click",".bbi-dbrd-designer-sample-datasource-footer-span",this.bbdesigner$.proxy(this.showsampledatasources,this))},n.prototype.updateCulture=function(){},n.prototype.unWiredEvents=function(){this.dataList.off("click",".bbi-dbrd-designer-sample-datasource-footer-span",this.bbdesigner$.proxy(this.showsampledatasources,this))},n.prototype.onSharedDsBtnClick=function(){this.switchPanel(PanelList.SharedData)},n}();window.BoldBIDashboard.createObject("BoldBIDashboard.DashboardDesignerUtility.DataSet",InternalDataSet,window),function(n){n[n.DataList=0]="DataList";n[n.DataPanel=1]="DataPanel";n[n.SharedData=2]="SharedData";n[n.DataType=3]="DataType";n[n.ConfigPanel=4]="ConfigPanel";n[n.QueryBuilder=5]="QueryBuilder";n[n.TemplatesPanel=6]="TemplatesPanel";n[n.SampleData=7]="SampleData"}(PanelList||(PanelList={}));InternalParameter=function(){function n(n){this.id=null;this.cultureFormat="en-US";this.parameters=[];this.isEdit=!1;this.paramUlTag=null;this.creationUI=null;this.designerTag=null;this.configMenuTag=null;this.availParamTag=null;this.defParamTag=null;this.drpDwnDtType=null;this.drpDwnVisible=null;this.listContainer=null;this.bodyContainer=null;this.newParamContainer=null;this.nullTag=null;this.multiValTag=null;this.allowBlank=null;this.assignDialog=null;this.locale=null;this.dashboardDesigner=n;this.bbdesigner$=this.dashboardDesigner.bbdesigner$;this.locale=n.getLocalizationContent();this.id=this.dashboardDesigner._id;this.rdlParser=this.dashboardDesigner.rdlParser;this.parameters=this.rdlParser.rdlJsonObj.ReportParameters}return n.prototype.isLoaded=function(){return!BoldBIDashboard.isNullOrUndefined(this.targetTag)},n.prototype.updateParameterJSON=function(){this.parameters=this.rdlParser.rdlJsonObj.ReportParameters},n.prototype.renderContainer=function(n){this.targetTag=n;var t=BoldBIDashboard.buildTag("div.bbi-dashboard-designer-configuration","",{width:"100%",height:"100%"},{id:this.id+"_param_Container"});this.targetTag.append(t);this.renderParameterPanel(t)},n.prototype.isConfigWizard=function(){return this.designerTag.is(":visible")?!0:!1},n.prototype.showParameter=function(n,t){this.bbdesigner$("#"+this.id+"_param_Container").css("display",n?"block":"none");n&&this.designerTag.is(":visible")&&(this.creationUI.css("display","block"),this.designerTag.css("display","none"));t.isParameter&&(this.updateSize(),t.isParameter=!1)},n.prototype.renderParameterPanel=function(n){var t=this.creationUI=BoldBIDashboard.buildTag("div.bbi-dashboard-designer-configuration bbi-userselect","",{width:"100%",height:"100%",display:"block",position:"relative","background-color":"white"},{id:this.id+"_parameterList"}),i=this.designerTag=BoldBIDashboard.buildTag("div","",{width:"100%",height:"100%",display:"none","background-color":"white"},{id:this.id+"_createParameter"});n.append(t);n.append(i);this.renderParameterList(t);this.renderNewParameter(i);this.populateReportParameters();this.updateSize()},n.prototype.renderParameterList=function(n){var i=BoldBIDashboard.buildTag("div","",{width:"100%",height:"35px",display:"block",overflow:"hidden"},{id:this.id+"_param_Hdr_Container"}),t=this.bodyContainer=BoldBIDashboard.buildTag("div.e-lv e-js e-parentlv bbi-designer-hint-newparameter bbi-dbrd-designer-scroller bbi-dbrd-control bbi-dbrd-designer-scroll-style-3","",{width:"100%",display:"block","margin-left":"1px","background-color":"white"},{id:this.id+"_paramBdy_Container"}),r=BoldBIDashboard.buildTag("div","",{width:"100%",height:"63px",display:"block",overflow:"hidden",margin:"0 auto","text-align":"center"},{id:this.id+"_param_Footr_Container"}),o=BoldBIDashboard.buildTag("span.bbi-designer-header bbi-designer-cursor","PARAMETERS",{padding:"8.5px 7px 7px 0px",overflow:"hidden",display:"inline-block"}),s=BoldBIDashboard.buildTag("span.bbi-designer-header-icon bbi-designer-configuration-parameters bbi-designer-cursor","",{display:"inline-block",float:"left",padding:"7px 11px"},{}),u=BoldBIDashboard.buildTag("div","",{},{}),f=this.listContainer=BoldBIDashboard.buildTag("div.bbi-list-container e-js e-widget bbi-designer-dataset","",{"border-top-width":"1px",padding:"0px 3px"},{id:this.id+"_div_paramList"}),h=this.paramUlTag=BoldBIDashboard.buildTag("ul.e-list-hdr e-clearall","",{width:"auto",height:"auto"}),c=BoldBIDashboard.buildTag("div.bbi-designer-new-btn-footer","",{margin:"8px","margin-bottom":"12px"}),e=BoldBIDashboard.buildTag("button.bbi-designer-newparam-btn bbi-designer-button bbi-dbrd-designer-hand-cursor","NEW PARAMETER",{"padding-right":"3px"},{id:this.id+"_btn_New_Param",type:"button"});i.append(o);i.append(s);r.append(c);f.append(h);u.append(f);t.append(u);r.append(e);n.append(i);n.append(t);n.append(r);e.BoldBIDashboardButton({showRoundedCorner:!1,contentType:BoldBIDashboard.ContentType.TextAndImage,prefixIcon:"e-icon e-plus",size:"small",click:this.bbdesigner$.proxy(this.parameterSelection,this,"New")});t.BoldBIDashboardScroller({scrollerSize:this.dashboardDesigner.scrollerSize.scrollSize,enableTouchScroll:!0,autoHide:!0,buttonSize:this.dashboardDesigner.scrollerSize.buttonSize});this.renderContextMenu(t)},n.prototype.renderContextMenu=function(n){var t=this.configMenuTag=BoldBIDashboard.buildTag("ul.bbi-designer-menu","",{},{id:this.id+"_param_dsConfigMenu"});t.append("<li><a class='bbi-designer-menu-list'>Edit<\/a><\/li>");t.append("<li><a class='bbi-designer-menu-list'>Delete<\/a><\/li>");n.append(t);t.BoldBIDashboardMenu({menuType:BoldBIDashboard.MenuType.ContextMenu,openOnClick:!1,ontextMenuTarget:this.creationUI,width:100,click:this.bbdesigner$.proxy(this.contextMenuClick,this)})},n.prototype.renderNewParameter=function(n){var i=BoldBIDashboard.buildTag("div","",{width:"100%",height:"30px",display:"block",overflow:"hidden","background-color":"white"},{id:this.id+"_create_Hdr_Container"}),r=this.newParamContainer=BoldBIDashboard.buildTag("div.bbi-dbrd-designer-scroller bbi-dbrd-control bbi-dbrd-designer-scroll-style-3","",{width:"100%",display:"block","background-color":"white"},{id:this.id+"_createParam_Bdy_Container"}),u=BoldBIDashboard.buildTag("div","",{},{}),t=BoldBIDashboard.buildTag("div","",{width:"100%",height:"63px",display:"block",overflow:"hidden",margin:"0 auto","text-align":"center"},{id:this.id+"_create_param_Footr"}),h=BoldBIDashboard.buildTag("span.bbi-designer-header bbi-designer-cursor","NEW PARAMETER",{overflow:"hidden",display:"inline-block",padding:"8.5px 7px 7px 0px"},{id:this.id+"_span_text_header"}),c=BoldBIDashboard.buildTag("span.bbi-designer-header-icon bbi-designer-configuration-parameters bbi-designer-cursor","",{display:"inline-block",float:"left",padding:"7px 11px",cursor:"auto"},{}),l=BoldBIDashboard.buildTag("div.bbi-designer-new-btn-footer","",{margin:"8px","margin-bottom":"9px"}),f=BoldBIDashboard.buildTag("div","",{width:"50%",height:"100%",display:"block",overflow:"none",float:"left"},{}),e=BoldBIDashboard.buildTag("div","",{width:"50%",height:"100%",display:"block",overflow:"none",float:"left"},{}),o=BoldBIDashboard.buildTag("button.bbi-designer-content bbi-designer-button bbi-designer-connect-btn bbi-designer-savebtn bbi-dbrd-designer-hand-cursor","Save",{},{id:this.id+"_param_btn_Save",type:"button"}),s=BoldBIDashboard.buildTag("button.bbi-designer-content bbi-designer-button bbi-designer-back-btn bbi-designer-savebtn bbi-dbrd-designer-hand-cursor","Cancel",{},{id:this.id+"_param_btn_cancel",type:"button"});i.append(h);i.append(c);t.append(l);r.append(u);t.append(f);t.append(e);f.append(o);e.append(s);n.append(i);n.append(r);n.append(t);this.populateNewParameter(u);o.BoldBIDashboardButton({showRoundedCorner:!1,contentType:BoldBIDashboard.ContentType.TextAndImage,prefixIcon:"e-shrink",size:"small",click:this.bbdesigner$.proxy(this.onSaveParameter,this)});s.BoldBIDashboardButton({showRoundedCorner:!1,contentType:BoldBIDashboard.ContentType.TextAndImage,prefixIcon:"e-reply",size:"small",click:this.bbdesigner$.proxy(this.onCancelParameter,this,!0)});r.BoldBIDashboardScroller({scrollerSize:this.dashboardDesigner.scrollerSize.scrollSize,enableTouchScroll:!0,autoHide:!0,buttonSize:this.dashboardDesigner.scrollerSize.buttonSize})},n.prototype.populateNewParameter=function(n){var i=BoldBIDashboard.buildTag("div","",{width:"100%",display:"inline-block",height:"auto"},{id:this.id+"_basic_panel_div"}),t=BoldBIDashboard.buildTag("table.bbi-designer-param-table","",{"margin-left":"7px","margin-bottom":"6px",width:"100%"},{unselectable:"on",id:this.id+"_basic_panel_table"});this.renderTextBoxItem("Name",this.id+"_param_name",t,this.getValidParameter());this.renderTextBoxItem("Prompt",this.id+"_param_prompt",t,this.getValidParameter());this.renderDropDownList("Data Type",this.id+"_param_dataType",t,[{name:"String"},{name:"Boolean"},{name:"DateTime"},{name:"Integer"},{name:"Float"}],0);this.renderCheckboxItem("Allow blank value ('')",this.id+"_param_blnkVal",t,"3px 0px 5px 5px");this.renderCheckboxItem("Allow null value",this.id+"_param_nullVal",t,"5px 0px 5px 5px");this.renderCheckboxItem("Allow multiple values",this.id+"_param_multVal",t,"5px 0px 5px 5px");this.renderDropDownList("Visibility",this.id+"_param_visibilty",t,[{name:"Visible"},{name:"Hidden"},{name:"Internal"}],0);var r=BoldBIDashboard.buildTag("tr","",{},{}),u=BoldBIDashboard.buildTag("td","",{"padding-top":"10px"},{}),f=BoldBIDashboard.buildTag("a.bbi-designer-fontfamily","Assign Value >>",{"font-size":"12px","font-weight":"600",margin:"3px","margin-top":"4px","margin-left":"5px",color:"#3a99fb"},{href:"javascript:void(0);",color:"#0B0080",id:this.id+"_param_assign_values"});n.append(i);i.append(t);t.append(r);r.append(u);u.append(f);f.bind("click",this.bbdesigner$.proxy(this.openAssignDialog,this));this.drpDwnDtType=this.bbdesigner$("#"+this.id+"_param_dataType");this.drpDwnVisible=this.bbdesigner$("#"+this.id+"_param_visibilty");this.nullTag=this.bbdesigner$("#"+this.id+"_param_nullVal");this.allowBlank=this.bbdesigner$("#"+this.id+"_param_blnkVal");this.multiValTag=this.bbdesigner$("#"+this.id+"_param_multVal");this.drpDwnDtType.data("BoldBIDashboardDropDownList").setModel({change:this.bbdesigner$.proxy(this.onDropDownChange,this)})},n.prototype.getLabelCaption=function(n,t){var i=BoldBIDashboard.buildTag("tr","",{}),u=BoldBIDashboard.buildTag("td","",{}),f=BoldBIDashboard.buildTag("label.editLabel bbi-designer-title-label",n,{}),r;return u.append(f),i.append(u),r=BoldBIDashboard.buildTag("td","",{"padding-right":"18px"},{id:t+"_error_icon_td"}),this.dashboardDesigner.modules.util.renderErrIndictor(r,this.id),i.append(r),i},n.prototype.renderTextBoxItem=function(n,t,i,r){var o=BoldBIDashboard.buildTag("tr","",{},{id:t+"_tr"}),s=BoldBIDashboard.buildTag("td","",{}),u,f,e,h;o.append(s);i.append(o);u=BoldBIDashboard.buildTag("table","",{width:"100%"},{unselectable:"on"});s.append(u);u.append(this.getLabelCaption(n,t));f=BoldBIDashboard.buildTag("tr","",{});e=BoldBIDashboard.buildTag("td","",{},{colspan:"2",id:t+"_td"});u.append(f);f.append(e);h=BoldBIDashboard.buildTag("input.e-textbox bbi-designer-textbox-border bbi-designer-content-label","",{height:"25px",width:"216px"},{edittype:"stringedit",id:t,type:"text",value:r});e.append(h)},n.prototype.renderDropDownList=function(n,t,i,r,u){var c=BoldBIDashboard.buildTag("tr","",{},{id:t+"_tr"}),l=BoldBIDashboard.buildTag("td","",{}),f,e,o,s,h;c.append(l);i.append(c);f=BoldBIDashboard.buildTag("table","",{width:"100%"},{unselectable:"on"});l.append(f);f.append(this.getLabelCaption(n,t));e=BoldBIDashboard.buildTag("tr","",{});o=BoldBIDashboard.buildTag("td","",{"padding-bottom":"5px"},{colspan:"2",id:t+"_td"});f.append(e);e.append(o);s=BoldBIDashboard.buildTag("div","",{float:"left",margin:"1px","margin-top":"0px"},{id:t+"_parameter_li"});h=BoldBIDashboard.buildTag("input","",{},{id:t});s.append(h);o.append(s);h.BoldBIDashboardDropDownList({dataSource:r,fields:{text:"name"},selectedIndex:u,width:"228px",height:"28px",showRoundedCorner:!0,cssClass:"bbi-designer-dataset-selection  bbi-designer-param-assign bbi-designer-border bbi-designer-ejwidgets bbi-dbrd-control"})},n.prototype.renderCheckboxItem=function(n,t,i,r){var f=BoldBIDashboard.buildTag("tr","",{id:t+"_tr"}),e=BoldBIDashboard.buildTag("td","",{align:"left",padding:r},{}),u;f.append(e);i.append(f);u=BoldBIDashboard.buildTag("input","",{},{type:"checkbox",id:t});e.append(u);u.BoldBIDashboardCheckBox({cssClass:"bbi-designer-param-assign bbi-designer-param-checktxt",text:n})},n.prototype.renderRadioItem=function(n,t,i,r,u){var f=BoldBIDashboard.buildTag("td","",{}),e;f.css("width","119px");u.append(f);e=BoldBIDashboard.buildTag("input","",{},{type:"radio",name:i,id:t});f.append(e);e.BoldBIDashboardRadioButton({checked:r,change:this.bbdesigner$.proxy(this.changeOptions,this,n),text:n})},n.prototype.renderAvailableParameters=function(){var r=this.bbdesigner$("#"+this.id+"_assign_parent_div"),n=this.availParamTag=BoldBIDashboard.buildTag("div.bbi-dashboard-designer-parameters","",{width:"100%",display:"block"},{id:this.id+"_availParameters"}),i=BoldBIDashboard.buildTag("table.bbi-designer-param-table","",{"margin-top":"6px","margin-left":"6px"},{unselectable:"on"}),t;n.append(i);t=BoldBIDashboard.buildTag("tr","",{});i.append(t);this.renderRadioItem("None",this.id+"_avail_none","avail",!0,t);this.renderRadioItem("Specify Value",this.id+"_avail_specify","avail",!1,t);this.renderRadioItem("Query Value",this.id+"_avail_qury","avail",!1,t);this.renderNoneFields(n,this.id+"_avail_none_container","avail");this.renderSetValuePanel(n,this.id+"_avail_val_container","avail");this.renderQueryPanel(n,this.id+"_avail_qury_container","avail");r.append(n)},n.prototype.renderQueryPanel=function(n,t,i){for(var y,r,p,u,c,f,w=this.dashboardDesigner.modules.dataSet.datasets,b=[],ot=i==="avail"?"available":"default",l=0;l<w.length;l++)b.push({name:w[l].Name});var a=BoldBIDashboard.buildTag("div","",{width:"auto",height:"100%",display:"none",overflow:"auto","margin-left":"8px"},{id:t}),k=BoldBIDashboard.buildTag("div","",{},{}),d=BoldBIDashboard.buildTag("table.bbi-designer-param-table","",{width:"100%"},{unselectable:"on"}),g=BoldBIDashboard.buildTag("tr","",{"padding-top":"10px"},{}),nt=BoldBIDashboard.buildTag("td","",{},{}),st=BoldBIDashboard.buildTag("Label.bbi-designer-add-label","Choose the dataSet and fields for the "+ot+" values :",{},{type:"label"}),tt=BoldBIDashboard.buildTag("div","",{height:"250px",width:"581px",overflow:"auto"},{}),it=BoldBIDashboard.buildTag("div","",{}),v=BoldBIDashboard.buildTag("table.bbi-designer-param-table","",{width:"100%"},{}),o=BoldBIDashboard.buildTag("tr","",{},{}),s=BoldBIDashboard.buildTag("td","",{},{});i==="avail"?s.css({width:"52px"}):s.css({width:"25px"});y=BoldBIDashboard.buildTag("Label.bbi-designer-fontfamily","Dataset",{"font-size":"12px","font-color":"#303541","font-weight":"600"},{type:"label"});r=BoldBIDashboard.buildTag("td","",{"padding-left":"19px"},{});i==="avail"?r.css({width:"52px"}):r.css({width:"66px"});p=BoldBIDashboard.buildTag("Label.bbi-designer-fontfamily","Value Field",{"font-size":"12px","font-color":"#303541","font-weight":"600"},{type:"label"});u=BoldBIDashboard.buildTag("td","",{},{});i==="avail"?u.css({width:"46px","padding-left":"20px"}):u.css({width:"46px","padding-left":"15px"});var ht=BoldBIDashboard.buildTag("Label.bbi-designer-fontfamily","Label Field",{"font-size":"12px","font-color":"#303541","font-weight":"600"},{type:"label"}),e=BoldBIDashboard.buildTag("tr","",{},{}),h=BoldBIDashboard.buildTag("td","",{},{});i==="avail"?h.css("width","20px"):h.css("width","6px");c=BoldBIDashboard.buildTag("input","",{},{type:"text",id:this.id+"_"+i+"_qury_dtset"});f=BoldBIDashboard.buildTag("td","",{"padding-left":"19px"},{});i==="avail"?f.css({width:"20px"}):f.css({width:"290px"});var rt=BoldBIDashboard.buildTag("input","",{},{type:"text",id:this.id+"_"+i+"_qury_dtsetVal"}),ut=BoldBIDashboard.buildTag("td","",{"padding-left":"19px"},{}),ft=BoldBIDashboard.buildTag("input","",{},{type:"text",id:this.id+"_"+i+"_qury_dtsetLbl"}),et=BoldBIDashboard.buildTag("td","",{"padding-top":"1px"},{id:this.id+"_"+i+"_param_query_td"});this.dashboardDesigner.modules.util.renderErrIndictor(et,this.id);n.append(a);a.append(k);k.append(d);d.append(g);g.append(nt);nt.append(st);a.append(tt);tt.append(it);it.append(v);v.append(o);o.append(s);s.append(y);o.append(r);r.append(p);v.append(e);e.append(h);h.append(c);e.append(f);f.append(rt);i.toLowerCase()==="avail"&&(o.append(u),u.append(ht),e.append(ut),ut.append(ft));e.append(et);c.BoldBIDashboardDropDownList({dataSource:b,fields:{text:"name"},enabled:!0,width:"162px",height:"26px",change:this.bbdesigner$.proxy(this.onValueChange,this,i),cssClass:"bbi-designer-dataset-selection bbi-designer-param-assign bbi-designer-border bbi-designer-ejwidgets bbi-dbrd-control",watermarkText:"Choose Dataset Value",showRoundedCorner:!0});rt.BoldBIDashboardDropDownList({dataSource:[],fields:{text:"name"},enabled:!1,width:"162px",height:"26px",showRoundedCorner:!0,cssClass:"bbi-designer-dataset-selection bbi-designer-param-assign bbi-designer-border bbi-designer-ejwidgets bbi-dbrd-control",watermarkText:"Choose Value"});ft.BoldBIDashboardDropDownList({dataSource:[],fields:{text:"name"},enabled:!1,width:"162px",height:"26px",showRoundedCorner:!0,cssClass:"bbi-designer-dataset-selection bbi-designer-param-assign bbi-designer-border bbi-designer-ejwidgets bbi-dbrd-control",watermarkText:"Choose Label"})},n.prototype.renderSetValuePanel=function(n,t,i){var l=i==="avail"?"available":"default",u=BoldBIDashboard.buildTag("div","",{width:"auto",height:"100%",display:"none","margin-top":"0px",overflow:"auto","margin-left":"12px"},{id:t}),o=BoldBIDashboard.buildTag("div","",{},{}),s=BoldBIDashboard.buildTag("table","",{},{}),f=BoldBIDashboard.buildTag("tr","",{"padding-top":"10px"},{}),h=BoldBIDashboard.buildTag("td","",{width:"520px"},{}),a=BoldBIDashboard.buildTag("Label.bbi-designer-add-label","Add the "+l+" values for parameters:",{},{type:"label"}),r=BoldBIDashboard.buildTag("div","",{cursor:"pointer",float:"right"},{}),c=BoldBIDashboard.buildTag("td","",{},{}),v=BoldBIDashboard.buildTag("span.e-chk-image e-icon e-plus bbi-designer-add-icon","",{},{id:this.id+"_"+i+"_add_span"}),y=BoldBIDashboard.buildTag("span.e-btntxt bbi-designer-add-btn ","ADD",{},{}),e=BoldBIDashboard.buildTag("div.bbi-dbrd-designer-scroller bbi-dbrd-control bbi-designer-border-dialog bbi-dbrd-designer-scroll-style-3","",{margin:"0px 0px 4px 0px",height:"250px",width:"571px",padding:"5px 0px"},{id:this.id+"_"+i+"_val_parent"}),p=BoldBIDashboard.buildTag("div.e-items","",{},{id:this.id+"_"+i+"_container_div"});n.append(u);u.append(o);o.append(s);s.append(f);f.append(h);h.append(a);f.append(c);c.append(r);r.append(v);r.append(y);u.append(e);e.append(p);e.BoldBIDashboardScroller({height:"250px",scrollerSize:this.dashboardDesigner.scrollerSize.scrollSize,enableTouchScroll:!0,autoHide:!0,buttonSize:this.dashboardDesigner.scrollerSize.buttonSize});r.bind("click",this.bbdesigner$.proxy(this.renderSetValueFields,this,i))},n.prototype.renderSetValueFields=function(n){var k=this.bbdesigner$("#"+this.id+"_"+n+"_container_div"),u=this.bbdesigner$("#"+this.id+"_"+n+"_val_parent"),d="e-reportdesigner-parameter-"+n+"-row",t=BoldBIDashboard.getGuid(this.id+"_row_"),g=this.dashboardDesigner.dragDropHelper,f=BoldBIDashboard.buildTag("div","",{padding:"4px"},{id:t,rowId:t,"class":d+" e-drag-row"}),h,e,c,a;k.append(f);var v=BoldBIDashboard.buildTag("table.bbi-designer-table-dialog","",{width:"100%"},{}),i=BoldBIDashboard.buildTag("tr","",{height:"36px"},{}),y=BoldBIDashboard.buildTag("td","",{width:"12px"},{}),p=BoldBIDashboard.buildTag("div.bbi-widgeticons bbi-designer-fieldcontainer-double-drag e-draggable e-js e-pinch e-assign-value bbi-designer-fieldcontainer-double-drag","",{display:"inline-block","line-height":"2"},{id:t+"_"+n+"_iconspan"}),o=BoldBIDashboard.buildTag("td","",{width:"60px"},{id:t+"_"+n+"_lbl_txtCol"}),r=BoldBIDashboard.buildTag("input.e-textbox bbi-designer-textbox-border bbi-designer-border ","",{height:"20px"},{type:"text",id:t+"_"+n+"_lbl_txt"}),l=BoldBIDashboard.buildTag("td","",{width:"20px","padding-left":"14px"},{});n.toLowerCase()==="avail"?BoldBIDashboard.DashboardUtil.txtWaterMark(r,"Label"):BoldBIDashboard.DashboardUtil.txtWaterMark(r,"Choose Default Value");n.toLowerCase()==="avail"?r.css("width","167px"):r.css("width","200px");n.toLowerCase()==="avail"?o.css("width","60px"):o.css("width","20px");n.toLowerCase()==="avail"?l.css("padding-right","0px"):l.css("padding-right","241px");f.append(v);v.append(i);i.append(y);y.append(p);i.append(o);o.append(r);i.append(l);var w=BoldBIDashboard.buildTag("td","",{width:"60px","padding-right":"5px"},{}),b=BoldBIDashboard.buildTag("span.e-chk-image e-icon e-cross-circle bbi-designer-delete-icon","",{cursor:"default","padding-top":"4px"},{id:t+"_"+n+"_del_icon"}),s=BoldBIDashboard.buildTag("td","",{},{});return n.toLowerCase()==="avail"?s.css({width:"60px","padding-left":"4px"}):s.css({width:"60px","padding-left":"28px"}),h=BoldBIDashboard.buildTag("input.e-textbox bbi-designer-textbox-border bbi-designer-border","",{height:"20px",width:"167px"},{type:"text",id:t+"_"+n+"_value_txt"}),BoldBIDashboard.DashboardUtil.txtWaterMark(h,"Value"),e=BoldBIDashboard.buildTag("td.bbi-designer-fieldcontainer-box-sizing","",{width:"20px",display:"none","padding-left":"14px","padding-right":"47px","margin-top":"1px"},{id:t+"_"+n+"_txtCol_exp"}),c=BoldBIDashboard.buildTag("td","",{"padding-top":"1px",width:"50px"},{id:t+"_param_error_td"}),this.dashboardDesigner.modules.util.renderErrIndictor(c,this.id),n.toLowerCase()==="avail"&&(i.append(s),s.append(h),i.append(e)),n.toLowerCase()==="avail"?e.css({display:"inline-block"}):e.css({display:"none"}),i.append(c),i.append(w),w.append(b),b.bind("click",this.bbdesigner$.proxy(this.deleteRow,this,f,u)),g.initializeSortable(p,f,this.id+"_assign_dialog",this.id+"_"+n+"_val_parent"),a=this.bbdesigner$("#"+this.id+"_"+n+"_container_div").height(),u.height()>a?u.find(".e-content").removeClass("e-content"):this.scrollerRefresh(u),t},n.prototype.renderNoneFields=function(n,t){var i=BoldBIDashboard.buildTag("div","",{border:"1px solid white","border-radius":"2px",margin:"0px 0px 0px 12px",height:"274px",width:"584px",padding:"5px 0px",display:"block"},{id:t});n.append(i)},n.prototype.renderDefaultParameters=function(){var r=this.bbdesigner$("#"+this.id+"_assign_parent_div"),n=this.defParamTag=BoldBIDashboard.buildTag("div.bbi-dashboard-designer-parameters","",{width:"auto",display:"none"},{id:this.id+"_defParameters"}),i=BoldBIDashboard.buildTag("table.bbi-designer-param-table","",{"margin-top":"6px","margin-left":"6px"},{unselectable:"on"}),t;n.append(i);t=BoldBIDashboard.buildTag("tr","",{});i.append(t);this.renderRadioItem("None",this.id+"_def_none","def",!0,t);this.renderRadioItem("Specify Value",this.id+"_def_specify","def",!1,t);this.renderRadioItem("Query Value",this.id+"_def_qury","def",!1,t);this.renderNoneFields(n,this.id+"_def_none_container","def");this.renderSetValuePanel(n,this.id+"_def_val_container","def");this.renderQueryPanel(n,this.id+"_def_qury_container","def");r.append(n)},n.prototype.renderAssignDialog=function(){var i=this.assignDialog=BoldBIDashboard.buildTag("div.bbi-dashboard-designer-configuration bbi-userselect","",{height:"auto"},{title:"Parameter",id:this.id+"_assign_dialog"}),r=BoldBIDashboard.buildTag("div","",{width:"100%"},{id:this.id+"_assign_parent_div"}),n=BoldBIDashboard.buildTag("ul","",{},{}),t=BoldBIDashboard.buildTag("li","",{width:"127px",height:"30px","list-style":"none"},{}),h=BoldBIDashboard.buildTag("a.bbi-designer-param-assign bbi-designer-param-tab","Available Value",{},{href:"#"+this.id+"_assign_parent_div"}),f=BoldBIDashboard.buildTag("li","",{height:"30px","list-style":"none"},{}),c=BoldBIDashboard.buildTag("a.bbi-designer-param-assign bbi-designer-param-tab","Default Value",{},{href:"#"+this.id+"_assign_parent_div"}),e=BoldBIDashboard.buildTag("button.bbi-designer-cancelbtn bbi-dbrd-designer-hand-cursor","",{float:"right"},{id:this.id+"_assign_btn_cancel",type:"button"}),o=BoldBIDashboard.buildTag("button.bbi-designer-okbtn bbi-dbrd-designer-hand-cursor","",{float:"right"},{id:this.id+"_param_btn_ok",type:"button"}),s,u;i.append(r);r.append(n);n.append(t);t.append(h);n.append(f);f.append(c);this.bbdesigner$(document.body).append(i);i.BoldBIDashboardDialog({width:"auto",minWidth:600,height:"auto",minHeight:410,enableResize:!1,showOnInit:!1,showHeader:!0,enableModal:!0,containment:"#"+this.dashboardDesigner._id,target:"#"+this.dashboardDesigner._id,cssClass:"bbi-designer-dialog e-flat-mode boldbi-dashboarddesigner",showFooter:!0,close:this.bbdesigner$.proxy(BoldBIDashboard.DashboardUtil.closeDialog,this),closeIconTooltip:this.locale.dialogOptions.closeButtonText});r.BoldBIDashboardTab({itemActive:this.bbdesigner$.proxy(this.onTabActive,this)});s=this.bbdesigner$("#"+this.id+"_assign_dialog_foot");s.append(e).append(o);u=this.locale.dialogOptions;o.BoldBIDashboardButton({showRoundedCorner:!1,size:"mini",text:u.okButtonText,click:this.bbdesigner$.proxy(this.saveDialogValues,this,!0)});e.BoldBIDashboardButton({showRoundedCorner:!1,size:"mini",text:u.cancelButtonText,click:this.bbdesigner$.proxy(this.closeDialog,this,!0)});this.renderAvailableParameters();this.renderDefaultParameters();n.css("height",t.height()+parseInt(t.css("border-bottom-width"),10))},n.prototype.contextMenuClick=function(n){var t=this.configMenuTag.attr("parameter");switch(n.text){case"Edit":this.editParameter(t);break;case"Delete":this.dashboardDesigner.modules.util.alertDialog(this.locale.alertDialogTitle.parameter,this.locale.dataSource.deleteReportParam+t+this.locale.dataSource.questionmark,IconType.information,AlertType.Alert,!1,"",{dataInfo:{name:t},instance:this,method:"deletConfirmation"})}},n.prototype.deletConfirmation=function(n,t){n&&!BoldBIDashboard.isNullOrUndefined(t)&&this.removeParameter(t.name)},n.prototype.onValueChange=function(n,t){var u=this.dashboardDesigner.modules.dataSet.datasets,r,f,i;for(n.toLowerCase()==="avail"?(r=this.bbdesigner$("#"+this.id+"_avail_qury_dtsetVal").data("BoldBIDashboardDropDownList"),f=this.bbdesigner$("#"+this.id+"_avail_qury_dtsetLbl").data("BoldBIDashboardDropDownList")):n.toLowerCase()==="def"&&(r=this.bbdesigner$("#"+this.id+"_def_qury_dtsetVal").data("BoldBIDashboardDropDownList")),i=0;i<u.length;i++)if(u[i].Name===t.selectedText){BoldBIDashboard.isNullOrUndefined(r)||(r.setModel({fields:{id:"Name",text:"Name",value:"Name"}}),r.setModel({dataSource:u[i].Fields,enabled:!0}));BoldBIDashboard.isNullOrUndefined(f)||(f.setModel({fields:{id:"Name",text:"Name",value:"Name"}}),f.setModel({dataSource:u[i].Fields,enabled:!0}));break}},n.prototype.parameterSelection=function(){this.resetParamUI();this.bbdesigner$("#"+this.id+"_span_text_header").text("NEW PARAMETER");this.creationUI.css("display","none");this.designerTag.css("display","block");this.bbdesigner$("#"+this.id+"_param_name").val(this.getValidParameter());this.bbdesigner$("#"+this.id+"_param_prompt").val(this.getValidParameter());this.parameter=this.createParameter();this.scrollerRefresh(this.newParamContainer);this.updateControlSize()},n.prototype.onDropDownChange=function(n){var t=this.drpDwnDtType.data("BoldBIDashboardDropDownList").getSelectedValue();n.isInteraction&&((BoldBIDashboard.isNullOrUndefined(this.parameter)||BoldBIDashboard.isNullOrUndefined(this.parameter.DefaultValue))&&BoldBIDashboard.isNullOrUndefined(this.parameter.ValidValues)||t!==this.getDataType(this.parameter.DataType)&&this.dashboardDesigner.modules.util.alertDialog(this.locale.alertDialogTitle.parameter,this.locale.parameterMessages.changeParameter,IconType.warning,AlertType.Confirm,!1,"",{instance:this,method:"discardValue"}));t==="String"?this.allowBlank.data("BoldBIDashboardCheckBox").enable():this.allowBlank.data("BoldBIDashboardCheckBox").disable()},n.prototype.discardValue=function(n){if(n){var t=this.drpDwnDtType.data("BoldBIDashboardDropDownList").getSelectedValue();this.parameter.ValidValues=null;this.parameter.DefaultValue=null;this.parameter.DataType=this.getDataTypeVal(t)}else this.drpDwnDtType.data("BoldBIDashboardDropDownList").selectItemByText(this.getDataType(this.parameter.DataType))},n.prototype.changeSelection=function(n,t){n&&(t.toLowerCase()==="allownull"?this.nullTag.data("BoldBIDashboardCheckBox").setModel({checked:this.parameter.Nullable}):this.allowBlank.data("BoldBIDashboardCheckBox").setModel({checked:this.parameter.AllowBlank}),this.onSaveParameter())},n.prototype.resetParamUI=function(){this.bbdesigner$("#"+this.id+"_param_name").val("");this.bbdesigner$("#"+this.id+"_param_prompt").val("");this.parameterItem=this.isEdit?this.parameterItem:null;this.isEdit?this.drpDwnDtType.data("BoldBIDashboardDropDownList").setModel({selectedIndex:-1}):this.drpDwnDtType.data("BoldBIDashboardDropDownList").setModel({selectedIndex:0});this.drpDwnVisible.data("BoldBIDashboardDropDownList").setModel({selectedIndex:0});this.allowBlank.data("BoldBIDashboardCheckBox").setModel({checked:!1});this.nullTag.data("BoldBIDashboardCheckBox").setModel({checked:!1});this.multiValTag.data("BoldBIDashboardCheckBox").setModel({checked:!1});this.hideValidationMsg();!BoldBIDashboard.isNullOrUndefined(this.assignDialog)&&this.assignDialog.data("BoldBIDashboardDialog")&&this.resetDialogValues()},n.prototype.hideValidationMsg=function(){this.renderValidation(this.id+"_param_name",!1);this.renderValidation(this.id+"_param_prompt",!1)},n.prototype.onSaveParameter=function(){if(this.validateParamFields()){this.parameter.Name=this.bbdesigner$("#"+this.id+"_param_name").val();this.parameter.Prompt=this.bbdesigner$("#"+this.id+"_param_prompt").val();var t=this.drpDwnDtType.data("BoldBIDashboardDropDownList").option("itemValue"),n=this.drpDwnVisible.data("BoldBIDashboardDropDownList").model.value;this.parameter.DataType=this.getDataTypeVal(t);this.parameter.AllowBlank=t.toLowerCase()==="string"?this.allowBlank.data("BoldBIDashboardCheckBox").model.checked:!1;n==="Hidden"?this.parameter.Hidden=!0:n==="Visible"?this.parameter.Hidden=!1:n==="Internal"&&(this.parameter.Hidden=!0,this.parameter.Prompt=null);this.parameter.Nullable=this.nullTag.data("BoldBIDashboardCheckBox").model.checked;this.parameter.MultiValue=this.multiValTag.data("BoldBIDashboardCheckBox").model.checked;this.creationUI.css("display","block");this.designerTag.css("display","none");this.scrollerRefresh(this.bodyContainer);this.scrollerRefresh(this.newParamContainer);this.isEdit?this.updateParameter(this.parameterItem,this.parameter):this.addParameter(this.parameter);this.isEdit=!1}else return},n.prototype.onCancelParameter=function(){this.creationUI.css("display","block");this.designerTag.css("display","none");this.closeDialog();this.isEdit=!1},n.prototype.updateSize=function(){if(this.isLoaded()){this.bbdesigner$("#"+this.id+"_param_Container").height(this.bbdesigner$("#"+this.id+"_designerConfigurationPanel").height());var n=this.bbdesigner$("#"+this.id+"_param_Container").height()-(this.bbdesigner$("#"+this.id+"_param_Hdr_Container").height()+this.bbdesigner$("#"+this.id+"_param_Footr_Container").height()),t=this.bbdesigner$("#"+this.id+"_param_Container").height()-(this.bbdesigner$("#"+this.id+"_create_Hdr_Container").height()+this.bbdesigner$("#"+this.id+"_create_param_Footr").height());this.bodyContainer.height(n);this.newParamContainer.height(t);this.bodyContainer.data("BoldBIDashboardScroller")&&(this.bodyContainer.data("BoldBIDashboardScroller").setModel({height:n+"px"}),this.bodyContainer.data("BoldBIDashboardScroller").refresh());this.newParamContainer.data("BoldBIDashboardScroller")&&(this.newParamContainer.data("BoldBIDashboardScroller").setModel({height:t+"px"}),this.newParamContainer.data("BoldBIDashboardScroller").refresh());this.updateControlSize()}},n.prototype.updateControlSize=function(){this.bbdesigner$("#"+this.id+"_basic_panel_div").height()>this.newParamContainer.height()?(this.bbdesigner$("#"+this.id+"_param_name").css("width","208px"),this.bbdesigner$("#"+this.id+"_param_prompt").css("width","208px"),this.drpDwnDtType.data("BoldBIDashboardDropDownList").setModel({width:"218px"}),this.drpDwnVisible.data("BoldBIDashboardDropDownList").setModel({width:"218px"})):(this.bbdesigner$("#"+this.id+"_param_name").css("width","216px"),this.bbdesigner$("#"+this.id+"_param_prompt").css("width","216px"),this.drpDwnDtType.data("BoldBIDashboardDropDownList").setModel({width:"228px"}),this.drpDwnVisible.data("BoldBIDashboardDropDownList").setModel({width:"228px"}))},n.prototype.changeOptions=function(n){var t=this.bbdesigner$("#"+this.id+"_avail_val_container"),i=this.bbdesigner$("#"+this.id+"_avail_qury_container"),r=this.bbdesigner$("#"+this.id+"_def_val_container"),u=this.bbdesigner$("#"+this.id+"_def_qury_container"),f=this.bbdesigner$("#"+this.id+"_def_none_container"),e=this.bbdesigner$("#"+this.id+"_avail_none_container");n.toLowerCase()==="specify value"&&this.bbdesigner$("#"+this.id+"_avail_specify").data("BoldBIDashboardRadioButton").model.checked?(t.css("display","block"),i.css("display","none"),e.css("display","none")):n.toLowerCase()==="query value"&&this.bbdesigner$("#"+this.id+"_avail_qury").data("BoldBIDashboardRadioButton").model.checked?(i.css("display","block"),t.css("display","none"),e.css("display","none")):n.toLowerCase()==="none"&&this.bbdesigner$("#"+this.id+"_avail_none").data("BoldBIDashboardRadioButton").model.checked&&(t.css("display","none"),i.css("display","none"),e.css("display","block"));n.toLowerCase()==="specify value"&&this.bbdesigner$("#"+this.id+"_def_specify").data("BoldBIDashboardRadioButton").model.checked?(r.css("display","block"),u.css("display","none"),f.css("display","none")):n.toLowerCase()==="query value"&&this.bbdesigner$("#"+this.id+"_def_qury").data("BoldBIDashboardRadioButton").model.checked?(u.css("display","block"),r.css("display","none"),f.css("display","none")):n.toLowerCase()==="none"&&this.bbdesigner$("#"+this.id+"_def_none").data("BoldBIDashboardRadioButton").model.checked&&(r.css("display","none"),u.css("display","none"),f.css("display","block"))},n.prototype.onTabActive=function(n){var t,i;n.activeHeader.innerText==="Available Value"?(this.availParamTag.css("display","block"),this.defParamTag.css("display","none"),t=this.bbdesigner$("#"+this.id+"_avail_val_parent"),i=this.bbdesigner$("#"+this.id+"_avail_container_div").height()):n.activeHeader.innerText==="Default Value"&&(this.availParamTag.css("display","none"),this.defParamTag.css("display","block"),t=this.bbdesigner$("#"+this.id+"_def_val_parent"),i=this.bbdesigner$("#"+this.id+"_def_container_div").height());t.height()>i?t.find(".e-content").removeClass("e-content"):this.scrollerRefresh(t)},n.prototype.validateParameter=function(n){for(var t=0;t<this.parameters.length;t++)if(this.parameters[t].Name===n)return!1;return!0},n.prototype.getValidParameter=function(){for(var t="ReportParameter",i="ReportParameter1",n=0;n<=this.parameters.length;n++)if(this.validateParameter(t+(n+1))){i=t+(n+1);break}return i},n.prototype.validateParamFields=function(){var n=this.bbdesigner$("#"+this.id+"_param_name").val(),t=this.bbdesigner$("#"+this.id+"_param_prompt").val(),i=this.bbdesigner$("#"+this.id+"_def_container_div .e-reportdesigner-parameter-def-row"),r=this.drpDwnVisible.data("BoldBIDashboardDropDownList").model.value,u=this.nullTag.data("BoldBIDashboardCheckBox").model.checked,f=this.parameter.Nullable,e=this.allowBlank.data("BoldBIDashboardCheckBox").model.checked,o=this.parameter.AllowBlank;if(n.length===0||t.length===0)return this.renderValidation(this.id+"_param_name",n.length===0,"Please enter the name"),r!=="Internal"?(this.renderValidation(this.id+"_param_prompt",t.length===0,"Please enter the value"),!1):(this.renderValidation(this.id+"_param_prompt",!1),!0);if(this.validateParameter(n)||this.isEdit)if(/^[a-zA-Z0-9-_]*$/.test(n)){if(this.nullTag.data("BoldBIDashboardCheckBox").isChecked()&&this.multiValTag.data("BoldBIDashboardCheckBox").isChecked())return this.dashboardDesigner.modules.util.alertDialog(this.locale.alertDialogTitle.parameter,this.locale.parameterMessages.multilevelCannotIncludeNull,IconType.warning,AlertType.Alert,!1,""),!1;if(i.length>1&&!this.bbdesigner$("#"+this.id+"_param_multVal").data("BoldBIDashboardCheckBox").model.checked)return this.dashboardDesigner.modules.util.alertDialog(this.locale.alertDialogTitle.parameter,this.locale.parameterMessages.multipleValues,IconType.warning,AlertType.Alert,!1,""),!1;if(this.parameter.Nullable&&u!==f&&!BoldBIDashboard.isNullOrUndefined(this.parameter.ValidValues)&&BoldBIDashboard.isNullOrUndefined(this.parameter.DefaultValue))return this.dashboardDesigner.modules.util.alertDialog(this.locale.alertDialogTitle.parameter,this.locale.parameterMessages.nullCheck,IconType.warning,AlertType.Confirm,!1,"",{method:"changeSelection",instance:this,dataInfo:"allownull"}),!1;if(this.parameter.AllowBlank&&e!==o&&!(BoldBIDashboard.isNullOrUndefined(this.parameter.ValidValues)||!BoldBIDashboard.isNullOrUndefined(this.parameter.DefaultValue)))return this.dashboardDesigner.modules.util.alertDialog("Parameter",this.locale.parameterMessages.blankCheck,IconType.warning,AlertType.Confirm,!1,"",{method:"changeSelection",instance:this,dataInfo:"allowblank"}),!1}else return this.renderValidation(this.id+"_param_name",!0,this.locale.parameterMessages.nameHasSpecialChar),!1;else return this.renderValidation(this.id+"_param_name",!0,"The name "+n+" already exists"),!1;return!0},n.prototype.validateExpValue=function(n){if(BoldBIDashboard.DashboardUtil.contains(n,"[",!0)||BoldBIDashboard.DashboardUtil.contains(n,"]",!0)){if(/^-?\[(?=.*[a-zA-Z])[a-zA-Z0-9@]{1,1000}\]$/.test(n)){if(BoldBIDashboard.DashboardUtil.contains(n,"@",!0)&&n.indexOf("@")!==1)return!1}else return!1;return!0}},n.prototype.validateQueryValues=function(n,t){var i="",r=this.bbdesigner$("#"+this.id+"_"+t+"_qury_dtset_container"),u=this.bbdesigner$("#"+this.id+"_"+t+"_qury_dtsetVal_container");return BoldBIDashboard.isNullOrUndefined(n)||(BoldBIDashboard.isNullOrUndefined(n.dataSetName)?(i+="Dataset field is required. ",this.updateHighlighter(r,!0)):this.updateHighlighter(r,!1),!BoldBIDashboard.isNullOrUndefined(n.dataSetName)&&BoldBIDashboard.isNullOrUndefined(n.valueFieldName)?(i+="Value field is required. ",this.updateHighlighter(u,!0)):this.updateHighlighter(u,!1)),i},n.prototype.validateParamValues=function(n,t,i,r){var f=this.drpDwnDtType.data("BoldBIDashboardDropDownList").option("itemValue"),o=this.nullTag.data("BoldBIDashboardCheckBox").isChecked(),u="",e;return BoldBIDashboard.isNullOrUndefined(n)||(n==="\\"?u+="The entered value in the "+t+" field is not a valid token syntax.":BoldBIDashboard.DashboardUtil.contains(n,"[",!0)||BoldBIDashboard.DashboardUtil.contains(n,"]",!0)?this.validateExpValue(n)||(u+="The entered value in the "+t+" field is not a valid token syntax."):t.toLowerCase()==="value"&&(n==="(Null)"&&o===!1&&(u+="In "+t+" field, A null value was specified. The parameter does not allow null values."),f.toLowerCase()==="string"?n!==""||this.allowBlank.data("BoldBIDashboardCheckBox").isChecked()||(u+="The "+t+" field is blank. The parameter does not allow blank values."):f.toLowerCase()==="boolean"?u+=n.toLowerCase()==="true"||n.toLowerCase()==="false"?"":"Value is not a boolean value. ":f.toLowerCase()==="integer"?(e=/^-?[0-9]*[1-9][0-9]*$/,e.test(n)||(u+="Value is not an integer. ")):f.toLowerCase()==="float"?(e=/^[0-9]+(\.)?[0-9]*$/,e.test(n)||(u+="Value is not a float. ")):f.toLowerCase()==="datetime"&&(u+=n.toLowerCase()==="invalid format"?"Value is an invalid date format.":"")),BoldBIDashboard.isNullOrUndefined(u)||u.length!==0?(r.removeClass("bbi-designer-textbox-border").addClass("bbi-designer-border"),this.updateHighlighter(r,!0)):(this.updateHighlighter(r,!1),r.addClass("bbi-designer-textbox-border").addClass("bbi-designer-border"))),u},n.prototype.updateHighlighter=function(n,t){t?n.addClass("bbi-designer-error").addClass("bbi-designer-error-radius"):n.removeClass("bbi-designer-error").removeClass("bbi-designer-error-radius")},n.prototype.getDateValue=function(n){for(var i=["dd/MM/yyyy","M/d/yyyy","M/d/yy","MM/dd/yy","MM/dd/yyyy","yyyy-MM-dd","dd-MMM-yy","dddd,MMMM d,yyyy","MMMM d,yyyy","dddd,d MMMM,yyyy","d MMMM,yyyy","d MMMM yyyy","MMMM dd yyyy","dd-MMM-yyyy","MMM dd yyyy","dd-MM-yyyy","ddd MMM d yyyy","d/M/yy"],t=0;t<i.length;t++)if(BoldBIDashboard.parseDate(n,i[t],this.cultureFormat))return BoldBIDashboard.parseDate(n,i[t],this.cultureFormat).toDateString();return"Invalid format"},n.prototype.populateReportParameters=function(){if(this.paramUlTag.empty(),this.parameters=this.rdlParser.rdlJsonObj.ReportParameters,!BoldBIDashboard.isNullOrUndefined(this.parameters)&&this.parameters.length>0)for(var n=0;n<this.parameters.length;n++)this.getAppendItem(this.parameters[n].Name,this.getDataType(this.parameters[n].DataType));this.showParameterHint()},n.prototype.updateParameter=function(n,t){if(this.updateItem(n,t),!BoldBIDashboard.isNullOrUndefined(this.parameters)&&this.parameters.length>0)for(var i=0;i<this.parameters.length;i++)if(this.parameters[i].Name===n.Name){this.parameters[i]=t;break}BoldBIDashboardDesigner.editManager.addCmdAction(CommandAction.ParameterEdit,"updateParameter","Parameter","",[t,n],[n,t])},n.prototype.updateItem=function(n,t){var i=n.Name,r=t.Name,u,f,e;n.DataType!==t.DataType&&(u=this.getDataTypeStyle(this.getDataType(n.DataType)),f=this.getDataTypeStyle(this.getDataType(t.DataType)),this.bbdesigner$("#"+this.id+"_li_param"+i).find(".bbi-designer-datatype-icon").removeClass(u),this.bbdesigner$("#"+this.id+"_li_param"+r).find(".bbi-designer-datatype-icon").addClass(f));e=this.bbdesigner$("#"+this.id+"_designerConfigurationPanel").width()-84;this.bbdesigner$("#"+this.id+"_li_param"+i).unbind(BoldBIDashboard.DashboardUtil.MouseEvent.mouseOver,this.bbdesigner$.proxy(this.enableEdit,this,i));this.bbdesigner$("#"+this.id+"_li_param"+i).unbind(BoldBIDashboard.DashboardUtil.MouseEvent.mouseLeave,this.bbdesigner$.proxy(this.disableEdit,this,i));this.bbdesigner$("#"+this.id+"_li_param"+i).find(".e-title-tip").unbind(BoldBIDashboard.DashboardUtil.MouseEvent.mouseOver,this.bbdesigner$.proxy(this.dashboardDesigner.modules.util.tagOverTip,this,i));this.bbdesigner$("#"+this.id+"_li_param"+i).find(".e-title-tip").unbind(BoldBIDashboard.DashboardUtil.MouseEvent.mouseLeave,this.bbdesigner$.proxy(this.dashboardDesigner.modules.util.tagOutTip,this,i));this.bbdesigner$("#"+this.id+"_li_param"+i+" .e-chk-image").unbind("click",this.bbdesigner$.proxy(this.editParameterItem,this,i));this.bbdesigner$("#"+this.id+"_li_param"+i+" .e-list-text").text(r);this.bbdesigner$("#"+this.id+"_param_"+i).unbind("click",this.bbdesigner$.proxy(this.editParameterItem,this,i));this.bbdesigner$("#"+this.id+"_li_param"+i).attr("name",r);this.bbdesigner$("#"+this.id+"_li_param"+i).attr("id",this.id+"_li_param"+r);this.bbdesigner$("#"+this.id+"_param_"+i).attr("id",this.id+"_param_"+r);this.bbdesigner$("#"+this.id+"_li_param"+r).bind(BoldBIDashboard.DashboardUtil.MouseEvent.mouseOver,this.bbdesigner$.proxy(this.enableEdit,this,r));this.bbdesigner$("#"+this.id+"_li_param"+r).bind(BoldBIDashboard.DashboardUtil.MouseEvent.mouseLeave,this.bbdesigner$.proxy(this.disableEdit,this,r));this.bbdesigner$("#"+this.id+"_li_param"+r+" .e-chk-image").bind("click",this.bbdesigner$.proxy(this.editParameterItem,this,r));this.bbdesigner$("#"+this.id+"_param_"+r).bind("click",this.bbdesigner$.proxy(this.editParameterItem,this,r));BoldBIDashboard.DashboardUtil.textWidth(r,"Heebo 12px")>=e?this.bbdesigner$("#"+this.id+"_li_param"+r).find(".bbi-designer-param-text").addClass("e-title-tip"):this.bbdesigner$("#"+this.id+"_li_param"+r).find(".bbi-designer-param-text").removeClass("e-title-tip")},n.prototype.addParameters=function(n){for(var t,r,i=0;i<n.length;i++)if(this.isExistParameter(n[i]))for(t=0;t<n.length;t++)for(r=0;r<this.parameters.length;r++)this.parameters[r].Name===n[t].Name&&this.updateParameter(this.parameters[t],n[t]);else this.parameters.push(n[i]),this.isLoaded()&&(this.getAppendItem(n[i].Name,this.getDataType(n[i].DataType)),this.updateContainerBorder(),this.showParameterHint()),BoldBIDashboardDesigner.editManager.addCmdAction(CommandAction.ParametersAdd,"removeParameters","Parameter","",[n,n.length-1],[n])},n.prototype.removeParameters=function(n){var r=[],i,t;if(!BoldBIDashboard.isNullOrUndefined(n)&&n.length>0)for(i=0;i<n.length;i++)if(!BoldBIDashboard.isNullOrUndefined(this.parameters)&&this.parameters.length>0)for(t=this.parameters.length-1;t>=0;t--)if(this.parameters[t].Name===n[i].Name){r.push(this.parameters[t]);this.isLoaded()&&(this.paramUlTag.find("#"+this.id+"_li_param"+this.parameters[t].Name).remove(),this.updateContainerBorder(),this.scrollerRefresh(this.bodyContainer),this.showParameterHint());this.parameters.splice(t,1);break}BoldBIDashboardDesigner.editManager.addCmdAction(CommandAction.ParametersDelete,"addParameters","Parameter","",[n],[r])},n.prototype.isExistParameter=function(n){for(var t=0;t<this.parameters.length;t++)if(this.parameters[t].Name===n.Name)return!0;return!1},n.prototype.addParameter=function(n){this.parameters.push(n);this.getAppendItem(n.Name,this.getDataType(n.DataType));this.updateContainerBorder();BoldBIDashboardDesigner.editManager.addCmdAction(CommandAction.ParameterAdd,"removeParameter","Parameter","",[n,this.parameters.length-1],[n.Name]);this.showParameterHint()},n.prototype.editParameter=function(n){this.bbdesigner$("#"+this.id+"_span_text_header").text("EDIT PARAMETER");for(var t=0;t<this.parameters.length;t++)if(this.parameters[t].Name===n){this.isEdit=!0;this.resetParamUI();this.parameterItem=this.bbdesigner$.extend(!0,{},this.parameters[t]);this.parameter=this.bbdesigner$.extend(!0,{},this.parameters[t]);this.setParamValues(this.parameter);break}},n.prototype.setParamValues=function(n){this.creationUI.css("display","none");this.designerTag.css("display","block");this.scrollerRefresh(this.newParamContainer);this.updateControlSize();this.bbdesigner$("#"+this.id+"_param_name").val(n.Name);this.bbdesigner$("#"+this.id+"_param_prompt").val(n.Prompt);this.drpDwnDtType.data("BoldBIDashboardDropDownList").setModel({selectedIndex:n.DataType});n.Hidden===!1?this.drpDwnVisible.data("BoldBIDashboardDropDownList").selectItemByText("Visible"):n.Hidden===!0&&n.Prompt===null?this.drpDwnVisible.data("BoldBIDashboardDropDownList").selectItemByText("Internal"):this.drpDwnVisible.data("BoldBIDashboardDropDownList").selectItemByText("Hidden");this.allowBlank.data("BoldBIDashboardCheckBox").setModel({checked:n.AllowBlank});this.nullTag.data("BoldBIDashboardCheckBox").setModel({checked:n.Nullable});this.multiValTag.data("BoldBIDashboardCheckBox").setModel({checked:n.MultiValue})},n.prototype.insertParameter=function(n,t){t===0?this.parameters.unshift(n):this.parameters.splice(t,0,n);this.getAppendItem(n.Name,this.getDataType(this.parameters[t].DataType),t);this.showParameterHint()},n.prototype.removeParameter=function(n){var t,i;if(this.bbdesigner$("#"+this.id+"_li_param"+n).remove(),this.updateContainerBorder(),!BoldBIDashboard.isNullOrUndefined(this.parameters)&&this.parameters.length>0)for(t=0;t<this.parameters.length;t++)if(this.parameters[t].Name===n){i=this.bbdesigner$.extend(!0,{},this.parameters[t]);BoldBIDashboardDesigner.editManager.addCmdAction(CommandAction.ParameterDelete,"insertParameter","Parameter","",[this.parameters[t].Name],[i,t]);this.parameters.splice(t,1);break}this.scrollerRefresh(this.bodyContainer);this.showParameterHint()},n.prototype.enableEdit=function(n){this.paramUlTag.find("#"+this.id+"_param_"+n).css("display","block")},n.prototype.disableEdit=function(n){this.paramUlTag.find("#"+this.id+"_param_"+n).css("display","none")},n.prototype.editParameterItem=function(n){var i=this.bbdesigner$("#"+this.id+"_param_"+n),r=i.offset(),t=this.configMenuTag.data("BoldBIDashboardMenu");t.element.attr("parameter",n);t.element.is(":visible")?t.hide():t.show(r.left-this.configMenuTag.width(),r.top+i.height(),this.creationUI,n)},n.prototype.populateDialogValues=function(n){var u,t;if(!BoldBIDashboard.isNullOrUndefined(n.DefaultValue)){var r=n.DefaultValue.DataSetReference,f=this.bbdesigner$("#"+this.id+"_def_qury_dtset").data("BoldBIDashboardDropDownList"),e=this.bbdesigner$("#"+this.id+"_def_qury_dtsetVal").data("BoldBIDashboardDropDownList"),i=n.DefaultValue.Values;if(!BoldBIDashboard.isNullOrUndefined(r)){for(this.bbdesigner$("#"+this.id+"_def_qury").data("BoldBIDashboardRadioButton").setModel({checked:!0}),t=0;t<f.model.dataSource.length;t++)if(r.DataSetName===f.model.dataSource[t].name){f.setModel({selectedIndex:t});break}for(t=0;t<e.model.dataSource.length;t++)if(r.ValueField===e.model.dataSource[t].Name){e.setModel({selectedIndex:t});break}}if(!BoldBIDashboard.isNullOrUndefined(i)&&i.length>0)for(this.bbdesigner$("#"+this.id+"_def_specify").data("BoldBIDashboardRadioButton").setModel({checked:!0}),t=0;t<i.length;t++)u=this.renderSetValueFields("def"),this.updateValues(u,i[t],"Defaultvalues")}if(!BoldBIDashboard.isNullOrUndefined(n.ValidValues)){var r=n.ValidValues.DataSetReference,i=n.ValidValues.ParameterValues,o=this.bbdesigner$("#"+this.id+"_avail_qury_dtset").data("BoldBIDashboardDropDownList"),s=this.bbdesigner$("#"+this.id+"_avail_qury_dtsetVal").data("BoldBIDashboardDropDownList"),h=this.bbdesigner$("#"+this.id+"_avail_qury_dtsetLbl").data("BoldBIDashboardDropDownList");if(!BoldBIDashboard.isNullOrUndefined(i)&&i.length>0)for(this.bbdesigner$("#"+this.id+"_avail_specify").data("BoldBIDashboardRadioButton").setModel({checked:!0}),t=0;t<i.length;t++)u=this.renderSetValueFields("avail"),this.updateValues(u,i[t],"Availablevalues");if(!BoldBIDashboard.isNullOrUndefined(r)){for(this.bbdesigner$("#"+this.id+"_avail_qury").data("BoldBIDashboardRadioButton").setModel({checked:!0}),t=0;t<o.model.dataSource.length;t++)if(r.DataSetName===o.model.dataSource[t].name){o.setModel({selectedIndex:t});break}for(t=0;t<s.model.dataSource.length;t++)if(r.ValueField===s.model.dataSource[t].Name){s.setModel({selectedIndex:t});break}for(t=0;t<h.model.dataSource.length;t++)if(r.LabelField===h.model.dataSource[t].Name){h.setModel({selectedIndex:t});break}}}},n.prototype.updateTextFieldVal=function(n,t,i,r,u,f){var e=!0,o="white";!n.isExp&&t?(u.val(n.exp),u.attr("e-filter-exp",i),o="white",e=!0):i.startsWith("=")&&n.isExp?(u.attr("e-param-exp",i),o="black",e=!1):(u.val(i),o="white",e=!0);e?u.removeAttr("disabled"):u.attr("disabled","true");f.css("background-color",o)},n.prototype.updateValues=function(n,t,i){var r,u,f;i.toLowerCase()==="availablevalues"&&(r=this.bbdesigner$("#"+n+"_avail_lbl_txt"),u=this.bbdesigner$("#"+n+"_avail_value_txt"),r.removeClass("bbi-designer-txtmark"),u.removeClass("bbi-designer-txtmark"));i.toLowerCase()==="defaultvalues"&&(f=this.bbdesigner$("#"+n+"_def_lbl_txt"),f.removeClass("bbi-designer-txtmark"))},n.prototype.renderValidation=function(n,t,i){var r=this.bbdesigner$("#"+n+"_error_icon_td"),u=this.bbdesigner$("#"+n+"_td").find(".bbi-designer-content-label");t?(BoldBIDashboard.DashboardUtil.showErrIndictor(r,!0,i),u.addClass("bbi-designer-error")):(BoldBIDashboard.DashboardUtil.showErrIndictor(r,!1),u.removeClass("bbi-designer-error"));this.bbdesigner$("#"+this.id+"_createParam_Bdy_Container").data("BoldBIDashboardScroller")&&this.bbdesigner$("#"+this.id+"_createParam_Bdy_Container").data("BoldBIDashboardScroller").refresh()},n.prototype.getAppendItem=function(n,t,i){var o=this.bbdesigner$("#"+this.id+"_designerConfigurationPanel").width()-84,r=BoldBIDashboard.buildTag("li.e-user-select e-list e-state-default e-list-check e-draggable e-parameter e-reportdesigner-tree-list bbi-dashboarddesigner-param-list","",{padding:"0px","list-style":"none",height:"35px"},{id:this.id+"_li_param"+n,name:n}),s=BoldBIDashboard.buildTag("span.bbi-widgeticons bbi-designer-fieldcontainer-double-drag e-draggable e-js e-pinch bbi-designer-dragabble-icon","",{padding:"6.5px 5px",display:"inline-block",float:"left"},{id:this.id+"_drag_"+n}),h=BoldBIDashboard.buildTag("span.bbi-query-datatype bbi-designer-datatype-icon bbi-designer-cursor "+this.getDataTypeStyle(t),"",{display:"inline-block",float:"left",padding:"3px 2px"},{id:this.id+"_type_"+n,datatype:this.getDataTypeStyle(t)}),u=BoldBIDashboard.buildTag("a.e-chevron-right_01 bbi-remove-shadow","",{padding:"5px 0px"}),f,e;r.bind(BoldBIDashboard.DashboardUtil.MouseEvent.mouseOver,this.bbdesigner$.proxy(this.enableEdit,this,n));r.bind(BoldBIDashboard.DashboardUtil.MouseEvent.mouseLeave,this.bbdesigner$.proxy(this.disableEdit,this,n));f=BoldBIDashboard.buildTag("span.e-list-text e-rel bbi-designer-param-text bbi-designer-li-text "+(BoldBIDashboard.DashboardUtil.textWidth(n,"Heebo 12px")>=o?"e-title-tip":""),n,{width:o+"px","padding-left":"5px",margin:"4px 0px"},{name:n});u.append(s);u.append(h);u.append(f);f.bind(BoldBIDashboard.DashboardUtil.MouseEvent.mouseOver,this.bbdesigner$.proxy(this.enableEdit,this,n));f.bind(BoldBIDashboard.DashboardUtil.MouseEvent.mouseLeave,this.bbdesigner$.proxy(this.disableEdit,this,n));e=BoldBIDashboard.buildTag("span.bbi-designer-content-icon bbi-designer-single-drag bbi-designer-click","",{display:"none",float:"right","margin-right":"5px","padding-top":"5px"},{id:this.id+"_param_"+n,"e-target":this.id+"_param_dsConfigMenu"});u.append(e);r.append(u);e.bind("click",this.bbdesigner$.proxy(this.editParameterItem,this,n));BoldBIDashboard.isNullOrUndefined(i)?this.paramUlTag.append(r):i===0?(this.paramUlTag.prepend(r),r.css({"border-bottom":"1px solid #DBDBDB"})):this.listContainer.find("ul>li:nth-child("+i+")").after(r);this.dashboardDesigner.dragDropHelper.initializeParameterDraggable(r);this.updateContainerBorder();this.bodyContainer.height()>this.listContainer.height()?this.bodyContainer.find(".e-content").removeClass("e-content"):this.scrollerRefresh(this.bodyContainer)},n.prototype.getDragElement=function(n,t){var i=BoldBIDashboard.buildTag("div","",{border:"0.5px solid #EDF1F4",background:"#EDF1F4",margin:"6px",height:"25px","border-radius":"1px","z-index":"50","white-space":"nowrap",overflow:"hidden"},{id:this.id+"_"+n+"_div"}),u=BoldBIDashboard.buildTag("div","",{"margin-right":"3px","margin-left":"15px","margin-top":"2.5px","margin-bottom":"2.5px",float:"left"},{id:this.id+"_dataseticon","class":t}),r=BoldBIDashboard.buildTag("span.bbi-designer-fontfamily","",{overflow:"hidden","font-size":"12px",display:"inline-block","white-space":"nowrap","text-overflow":"ellipsis","margin-left":"2px","margin-top":"3px",width:"120px","vertical-align":"middle"},{id:this.id+"_"+n+"_text"});return r.text(n),i.append(u),i.append(r),i},n.prototype.updateContainerBorder=function(){this.listContainer.css("border-top-width",this.listContainer.find(" li").length===0?"0px":"1px")},n.prototype.getDataTypeStyle=function(n){var t="bbi-designer-dataset-misc";return n.toLowerCase()==="datetime"?t="bbi-designer-dataset-datetime":n.toLowerCase()==="time"?t="bbi-designer-dataset-time":n.toLowerCase()==="integer"||n.toLowerCase()==="float"?t="bbi-designer-dataset-number":n.toLowerCase()==="boolean"?t="bbi-designer-dataset-boolean":n.toLowerCase()==="string"&&(t="bbi-designer-dataset-string"),t},n.prototype.getValues=function(n){var t=n.val(),i,r,u,f;return n.hasClass("bbi-designer-txtmark")?i="":this.validateExpValue(t)?(r=t.indexOf("@"),u=t.indexOf("]"),r!==-1&&u!==-1&&(f=t.substring(r+1,u),t=f,i="=Parameters!"+t+".Value")):i=t,i},n.prototype.saveDialogValues=function(){var i=this,e={},f={},t="",n,o=!1,s=!1,l,u,h,c;if(n=this.bbdesigner$.extend(!0,{},this.parameter),n.Name=this.bbdesigner$("#"+this.id+"_param_name").val(),n.Prompt=this.bbdesigner$("#"+this.id+"_param_prompt").val(),n.DataType=this.getDataTypeVal(this.drpDwnDtType.data("BoldBIDashboardDropDownList").getSelectedValue()),n.Nullable=this.nullTag.data("BoldBIDashboardCheckBox").model.checked,n.AllowBlank=this.allowBlank.data("BoldBIDashboardCheckBox").model.checked,this.bbdesigner$("#"+this.id+"_avail_specify").data("BoldBIDashboardRadioButton").model.checked){var w=this.bbdesigner$("#"+this.id+"_avail_container_div .e-reportdesigner-parameter-avail-row"),a=[],r=this.bbdesigner$;w.each(function(n,u){var s=r(u).attr("id"),l=r("#"+s+"_avail_lbl_txt"),v=r("#"+s+"_avail_value_txt"),c,e={},h,f;e.__type="Syncfusion.RDL.DOM.ParameterValue";e.Label=i.getValues(l);c=i.getValues(v);h=l.attr("e-param-exp");e.Label=!BoldBIDashboard.isNullOrUndefined(h)&&h.length>0?h:i.getValues(l);c=i.getValues(v);f=v.attr("e-param-exp");e.Value=i.drpDwnDtType.data("BoldBIDashboardDropDownList").getSelectedValue().toLowerCase()==="datetime"?!BoldBIDashboard.isNullOrUndefined(f)&&f.length>0?f:i.getDateValue(c):!BoldBIDashboard.isNullOrUndefined(f)&&f.length>0?f:c;a.push(e);(BoldBIDashboard.isNullOrUndefined(h)||h.length===0)&&(t+=i.validateParamValues(e.Label,"label","(Available)",r("#"+s+"_avail_lbl_txt")));(BoldBIDashboard.isNullOrUndefined(f)||f.length===0)&&(t+=i.validateParamValues(e.Value,"value","(Available)",r("#"+s+"_avail_value_txt")));BoldBIDashboard.isNullOrUndefined(t)||t.length===0?BoldBIDashboard.DashboardUtil.showErrIndictor(r("#"+s+"_param_error_td"),!1,t):(BoldBIDashboard.DashboardUtil.showErrIndictor(r("#"+s+"_param_error_td"),!0,t),t="",o=!0)});n.ValidValues=this.createValidValues();n.ValidValues.DataSetReference=null;n.ValidValues.ParameterValues=a}else if(this.bbdesigner$("#"+this.id+"_avail_qury").data("BoldBIDashboardRadioButton").model.checked){var v=this.bbdesigner$("#"+this.id+"_avail_qury_dtset").data("BoldBIDashboardDropDownList").model.value,y=this.bbdesigner$("#"+this.id+"_avail_qury_dtsetVal").data("BoldBIDashboardDropDownList").model.value,p=this.bbdesigner$("#"+this.id+"_avail_qury_dtsetLbl").data("BoldBIDashboardDropDownList").model.value;n.ValidValues=this.createValidValues();n.ValidValues.ParameterValues=[];n.ValidValues.DataSetReference.DataSetName=v;n.ValidValues.DataSetReference.ValueField=y;n.ValidValues.DataSetReference.LabelField=p;f.dataSetName=v;f.valueFieldName=y;f.labelFieldName=p;t+=this.validateQueryValues(f,"avail");BoldBIDashboard.isNullOrUndefined(t)||t.length===0?BoldBIDashboard.DashboardUtil.showErrIndictor(this.bbdesigner$("#"+this.id+"_avail_param_query_td"),!1,t):(BoldBIDashboard.DashboardUtil.showErrIndictor(this.bbdesigner$("#"+this.id+"_avail_param_query_td"),!0,t),t="",o=!0)}else this.bbdesigner$("#"+this.id+"_avail_none").data("BoldBIDashboardRadioButton").model.checked&&(n.ValidValues=null);this.bbdesigner$("#"+this.id+"_def_specify").data("BoldBIDashboardRadioButton").model.checked?(l=this.bbdesigner$("#"+this.id+"_def_container_div .e-reportdesigner-parameter-def-row"),n.DefaultValue=this.createDefaultValues(),n.DefaultValue.DataSetReference=null,u=this.bbdesigner$,l.each(function(r,f){var o=u(f).attr("id"),l=u("#"+o+"_def_lbl_txt"),c=i.getValues(l),e=l.attr("e-param-exp"),h;i.drpDwnDtType.data("BoldBIDashboardDropDownList").getSelectedValue().toLowerCase()==="datetime"?(h=i.getDateValue(c),n.DefaultValue.Values.push(!BoldBIDashboard.isNullOrUndefined(e)&&e.length>0?e:h)):(h=c,n.DefaultValue.Values.push(!BoldBIDashboard.isNullOrUndefined(e)&&e.length>0?e:c));(BoldBIDashboard.isNullOrUndefined(e)||e.length===0)&&(t+=i.validateParamValues(h,"value","(Default)",u("#"+o+"_def_lbl_txt")));BoldBIDashboard.isNullOrUndefined(t)||t.length===0?BoldBIDashboard.DashboardUtil.showErrIndictor(u("#"+o+"_param_error_td"),!1,t):(BoldBIDashboard.DashboardUtil.showErrIndictor(u("#"+o+"_param_error_td"),!0,t),t="",s=!0)})):this.bbdesigner$("#"+this.id+"_def_qury").data("BoldBIDashboardRadioButton").model.checked?(h=this.bbdesigner$("#"+this.id+"_def_qury_dtsetVal").data("BoldBIDashboardDropDownList").model.value,c=this.bbdesigner$("#"+this.id+"_def_qury_dtset").data("BoldBIDashboardDropDownList").model.value,n.DefaultValue=this.createDefaultValues(),n.DefaultValue.ParameterValues=[],n.DefaultValue.DataSetReference.DataSetName=c,n.DefaultValue.DataSetReference.ValueField=h,e.dataSetName=c,e.valueFieldName=h,t+=this.validateQueryValues(e,"def"),BoldBIDashboard.isNullOrUndefined(t)||t.length===0?BoldBIDashboard.DashboardUtil.showErrIndictor(this.bbdesigner$("#"+this.id+"_def_param_query_td"),!1,t):(BoldBIDashboard.DashboardUtil.showErrIndictor(this.bbdesigner$("#"+this.id+"_def_param_query_td"),!0,t),t="",s=!0)):this.bbdesigner$("#"+this.id+"_def_none").data("BoldBIDashboardRadioButton").model.checked&&(n.DefaultValue=null);o||s||(this.parameter=n,n={},this.closeDialog())},n.prototype.updateAvailableDataset=function(){var t=this.dashboardDesigner.modules.dataSet.datasets,i=[],n;if(t.length===0)this.bbdesigner$("#"+this.id+"_avail_qury").data("BoldBIDashboardRadioButton").disable(),this.bbdesigner$("#"+this.id+"_def_qury").data("BoldBIDashboardRadioButton").disable();else{for(n=0;n<t.length;n++)i.push({name:t[n].Name});this.bbdesigner$("#"+this.id+"_avail_qury").data("BoldBIDashboardRadioButton").enable();this.bbdesigner$("#"+this.id+"_def_qury").data("BoldBIDashboardRadioButton").enable();this.bbdesigner$("#"+this.id+"_avail_qury_dtset").data("BoldBIDashboardDropDownList").setModel({dataSource:i});this.bbdesigner$("#"+this.id+"_def_qury_dtset").data("BoldBIDashboardDropDownList").setModel({dataSource:i})}},n.prototype.openAssignDialog=function(){BoldBIDashboard.isNullOrUndefined(this.assignDialog)&&this.bbdesigner$("#"+this.id+"_assign_dialog").length===0&&this.renderAssignDialog();this.resetDialogValues();this.updateAvailableDataset();this.assignDialog.data("BoldBIDashboardDialog").open();this.populateDialogValues(this.parameter)},n.prototype.closeDialog=function(){this.bbdesigner$("#"+this.id+"_avail_val_container").css("display","none");this.bbdesigner$("#"+this.id+"_avail_qury_container").css("display","none");this.bbdesigner$("#"+this.id+"_def_val_container").css("display","none");this.bbdesigner$("#"+this.id+"_def_qury_container").css("display","none");BoldBIDashboard.isNullOrUndefined(this.assignDialog)||this.bbdesigner$("#"+this.id+"_assign_dialog").length===0||this.assignDialog.data("BoldBIDashboardDialog").close()},n.prototype.resetDialogValues=function(){var n=this.bbdesigner$("#"+this.id+"_assign_parent_div").data("BoldBIDashboardTab");this.bbdesigner$("#"+this.id+"_avail_container_div").empty();this.bbdesigner$("#"+this.id+"_def_container_div").empty();this.bbdesigner$("#"+this.id+"_def_qury_dtset").data("BoldBIDashboardDropDownList").setModel({selectedIndex:-1});this.bbdesigner$("#"+this.id+"_def_qury_dtsetVal").data("BoldBIDashboardDropDownList").setModel({selectedIndex:-1});this.bbdesigner$("#"+this.id+"_avail_qury_dtset").data("BoldBIDashboardDropDownList").setModel({selectedIndex:-1});this.bbdesigner$("#"+this.id+"_avail_qury_dtsetVal").data("BoldBIDashboardDropDownList").setModel({selectedIndex:-1});this.bbdesigner$("#"+this.id+"_avail_qury_dtsetLbl").data("BoldBIDashboardDropDownList").setModel({selectedIndex:-1});this.bbdesigner$("#"+this.id+"_avail_none").data("BoldBIDashboardRadioButton").setModel({checked:!0});this.bbdesigner$("#"+this.id+"_def_none").data("BoldBIDashboardRadioButton").setModel({checked:!0});BoldBIDashboard.isNullOrUndefined(n)||(n.option("enabledItemIndex",[1]),n.option("selectedItemIndex")===1&&n.option("selectedItemIndex",0));this.updateHighlighter(this.bbdesigner$("#"+this.id+"_avail_qury_dtset_container"),!1);this.updateHighlighter(this.bbdesigner$("#"+this.id+"_avail_qury_dtsetVal_container"),!1);this.updateHighlighter(this.bbdesigner$("#"+this.id+"_def_qury_dtset_container"),!1);this.updateHighlighter(this.bbdesigner$("#"+this.id+"_def_qury_dtsetVal_container"),!1);BoldBIDashboard.DashboardUtil.showErrIndictor(this.bbdesigner$("#"+this.id+"_avail_param_query_td"),!1);BoldBIDashboard.DashboardUtil.showErrIndictor(this.bbdesigner$("#"+this.id+"_def_param_query_td"),!1);this.scrollerRefresh(this.bbdesigner$("#"+this.id+"_avail_val_parent"));this.scrollerRefresh(this.bbdesigner$("#"+this.id+"_def_val_parent"))},n.prototype.deleteRow=function(n,t){n.remove();this.scrollerRefresh(t)},n.prototype.showParameterHint=function(){this.listContainer.find("li").length>0?this.bodyContainer.removeClass("bbi-designer-hint-newparameter"):this.bodyContainer.addClass("bbi-designer-hint-newparameter")},n.prototype.getDataType=function(n){return n===0?"String":n===1?"Boolean":n===2?"DateTime":n===3?"Integer":n===4?"Float":void 0},n.prototype.getDataTypeVal=function(n){return n.toLowerCase()==="string"?DataTypes.String:n.toLowerCase()==="boolean"?DataTypes.Boolean:n.toLowerCase()==="datetime"?DataTypes.DateTime:n.toLowerCase()==="integer"?DataTypes.Integer:n.toLowerCase()==="float"?DataTypes.Float:void 0},n.prototype.scrollerRefresh=function(n){n.data("BoldBIDashboardScroller")&&n.data("BoldBIDashboardScroller").refresh()},n.prototype.createParameter=function(){return{__type:"Syncfusion.RDL.DOM.ReportParameter",Name:"",Prompt:"",DataType:0,Hidden:!1,AllowBlank:!1,Nullable:!1,MultiValue:!1,ValidValues:null,DefaultValue:null,UsedInQuery:0}},n.prototype.createValidValues=function(){return{__type:"Syncfusion.RDL.DOM.ValidValues",ParameterValues:[],DataSetReference:{__type:"Syncfusion.RDL.DOM.DataSetReference",DataSetName:null,ValueField:null,LabelField:null}}},n.prototype.createDefaultValues=function(){return{__type:"Syncfusion.RDL.DOM.DefaultValue",Values:[],DataSetReference:{__type:"Syncfusion.RDL.DOM.DataSetReference",DataSetName:null,ValueField:null}}},n}();window.BoldBIDashboard.createObject("BoldBIDashboard.DashboardDesignerUtility.Parameter",InternalParameter,window),function(n){var t;(function(n){var t=function(){function n(){this.isClickOnAxisLabel=!1}return n}();n.DrillLevelInfoSettings=t})(t=n.Dashboard||(n.Dashboard={}))}(BoldBIDashboard||(BoldBIDashboard={}));var __extends=this&&this.__extends||function(){var n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,t){n.__proto__=t}||function(n,t){for(var i in t)t.hasOwnProperty(i)&&(n[i]=t[i])};return function(t,i){function r(){this.constructor=t}n(t,i);t.prototype=i===null?Object.create(i):(r.prototype=i.prototype,new r)}}(),ContainerSettings=function(){function n(){this.__type="Syncfusion.Dashboard.Web.Serialization.Model.DOM.Common.ContainerSettings";this.Title="";this.Description="";this.Bounds=new WidgetBounds;this.TextAlignment=TextAlignment.Left;this.TextColor="#686262";this.ShowBorder=!1;this.CornerRadius=4;this.ShowMaximize=!0;this.EnableCsvExport=!0;this.EnableExcelExport=!0;this.EnableImageExport=!0;this.EnablePdfExport=!0;this.EnableComment=!0;this.ShowLinkIcon=!1;this.SubTitle="";this.ShowHeader=!0;this.ShowSubtitle=!0;this.ViewData=!0;this.PinWidget=!0;this.CombineWidgetId="";this.BackgroundSettings=new WidgetBackgroundSettings;this.WidgetTitleFontInfo=new FontSettingStyles;this.WidgetSubTitleFontInfo=new FontSettingStyles;this.WidgetTitleFontInfo.AutoFontSize=!0;this.WidgetTitleFontInfo.FontSize=22;this.WidgetSubTitleFontInfo.AutoFontSize=!0;this.WidgetSubTitleFontInfo.FontSize=16;this.ShowShadow=!0;this.NoDataContainerSettings=new NoDataContainerSettings;this.WidgetPaddingInfo=new WidgetPaddingInfo;this.WidgetPaddingInfo.AutoPadding=!0;this.WidgetPaddingInfo.Padding=-1}return n}(),ColorSets=function(){function n(){this.__type="Syncfusion.Dashboard.Web.Serialization.DOM.Model.DOM.Common.ColorSets";this.ColorSettingsList=[];this.IsMeasure=!1;this.SelectedDatasource=""}return n}(),CustomColorType;(function(n){n[n.Basic=0]="Basic";n[n.Advance=1]="Advance"})(CustomColorType||(CustomColorType={}));var CustomColorSettings=function(){function n(){this.SelectedColumn=new ColumnType;this.DefaultSettings=new DefaultColorSettings}return n}(),ColumnType=function(){function n(){this.UniqueColumnName="";this.Key="";this.SelectedColumnType=ColorColumnType.Measure;this.SummaryType=SummaryType.SUM}return n}(),DefaultColorSettings=function(){function n(){this.DefaultColors=[]}return n}(),DefaultColorSet=function(){function n(){this.Name="";this.Color="";this.IsEdited=!1}return n}(),FilterSettings=function(){function n(){this.__type="Syncfusion.Dashboard.Web.Serialization.Model.DOM.Common.FilterSettings";this.ActAsMasterWidget=!1;this.IgnoreFilterActions=!1;this.HierarchicalFilter=!0}return n}(),DataSampleInfo=function(){function n(){this.__type="Syncfusion.Dashboard.Web.Serialization.DOM.Model.DataSources.Common.DataSampleInfo";this.__type="Syncfusion.Dashboard.Web.Serialization.DOM.Model.DataSources.Common.DataSampleInfo"}return n}(),CacheSettings=function(){function n(){this.__type="Syncfusion.Dashboard.Web.Serialization.DOM.Model.Cache.CacheSettingInfo";this.__type="Syncfusion.Dashboard.Web.Serialization.DOM.Model.Cache.CacheSettingInfo"}return n}(),DashboardProperties=function(){function n(){this.Name="Untitled";this.SubTitle=null;this.Description=null;this.EnableComments=!0;this.ParameterColumns=[];this.DashboardFontInfo=new DashboardFont;this.WidgetFontInfo=new WidgetFont;this.DashboardExport=new DashboardExport;this.IsDataSampleEnabled=!0}return n}(),DashboardFont=function(){function n(){this.Headers=new FontSettingStyles;this.Headers.FontSize=20;this.Headers.AutoFontSize=!0}return n}(),DashboardExport=function(){function n(){this.EnablePdf=!0;this.EnableImage=!0;this.EnableExcel=!0}return n}(),WidgetFont=function(){function n(){this.Title=new FontSettingStyles;this.Subtitle=new FontSettingStyles;this.Title.FontSize=22;this.Subtitle.FontSize=16;this.Subtitle.AutoFontSize=!0;this.Title.AutoFontSize=!0}return n}(),FontSettingStyles=function(){function n(){this.AutoFontSize=!0;this.FontSize=null}return n}(),NoDataContainerSettings=function(){function n(){this.HideDefaultIcon=!1;this.CustomMsg="";this.ImageInfo=new NoDataImageInfo;this.FontColor="#000000"}return n}(),NoDataImageInfo=function(){function n(){this.ShowImage=!1;this.Type=NoDataImageType.Default;this.Transparency=1;this.ImagePath=""}return n}(),WidgetPaddingInfo=function(){function n(){this.AutoPadding=!0;this.Padding=-1}return n}(),DesignCanvasSettings=function(){function n(){}return n}(),ParameterColumnItem=function(){function n(){}return n}(),ParameterColumn=function(){function n(){}return n}(),LabelParameterInfo=function(){function n(){this.__type="Syncfusion.Dashboard.Web.Serialization.Model.DataSources.Common.LabelParameterInfo"}return n}(),LabelParameterColumnCollection=function(){function n(){this.__type="Syncfusion.Dashboard.Web.Serialization.Model.DataSources.Common.LabelParameterCollection"}return n}(),WidgetBounds=function(){function n(){this.__type="Syncfusion.Dashboard.Web.Serialization.Model.DOM.Common.Bounds";this.Row=0;this.RowSpan=0;this.Column=0;this.ColumnSpan=0}return n}(),DataConfiguration=function(){function n(){this.__type="Syncfusion.Dashboard.Web.Serialization.Model.DataSources.Common.DataConfiguration";this.Containers=[]}return n}(),WidgetProperties=function(){function n(n){this.__type="Syncfusion.Dashboard.Web.Serialization.Model.DOM.Common.WidgetProperties";this.ContainerSettings=new ContainerSettings;this.Data=new DataConfiguration;this.FilterSettings=new FilterSettings;this.SelectedFilterValues=[];this.DatebucketFilterValues=[];this.ColorSets=new ColorSets;this.UniqueId=n.modules.util.generateGuid();this.UrlLink=new UrlLink;this.IsColorSerializedWithOpacity=!0;this.WidgetLink=null}return n}(),TableWidgetProperties=function(n){function t(t){return n.call(this,t)||this}return __extends(t,n),t}(WidgetProperties),VisualWidgetProperties=function(n){function t(t){var i=n.call(this,t)||this;return i.EnableColorSettings=!1,i}return __extends(t,n),t}(WidgetProperties),FieldContainer=function(){function n(){this.__type="Syncfusion.Dashboard.Web.Serialization.Model.DataSources.Common.FieldContainer";this.FieldInfos=[]}return n}(),Separator=function(){function n(){this.__type="Syncfusion.Dashboard.Web.Serialization.Model.DataSources.Common.Separator";this.AliasValue="";this.CurrentValue=""}return n}(),FieldInfo=function(){function n(){this.__type="Syncfusion.Dashboard.Web.Serialization.Model.DataSources.Common.FieldInfo";this.SummaryType=SummaryType.NONE;this.DateTimeFormat=DateTimeFormat.None}return n}(),HierarchicalFieldInfo=function(n){function t(){var t=n.call(this)||this;return t.DefaultHierarchyLevel="",t.DefaultHierarchyName="",t}return __extends(t,n),t}(FieldInfo),MeasureFormatting=function(){function n(){this.__type="Syncfusion.Dashboard.Web.Serialization.Model.DataSources.Common.MeasureFormatting";this.Culture="auto";this.DecimalPoints=2;this.FormatType=DataValueFormat.Number;this.DecimalSeparator=new Separator;this.DecimalSeparator.AliasValue=this.DecimalSeparator.CurrentValue=".";this.GroupSeparator=new Separator;this.GroupSeparator.AliasValue=this.GroupSeparator.CurrentValue=",";this.Prefix="";this.Suffix="";this.Unit=NumberFormat.Auto;this.EnableLakhsAndCroreRep=!1}return n}(),Customsort=function(){function n(){this.__type="Syncfusion.Dashboard.Web.Serialization.Model.CustomSort";this.CustomSortType="";this.CustomSortOrder="";this.FieldName="";this.FieldId="";this.SummaryType=SummaryType.SUM}return n}(),FilterInfo=function(){function n(){this.__type="Syncfusion.Dashboard.Web.Serialization.Model.DataSources.FilterInfos.FilterInfo";this.DimensionFilterInfo=null;this.MeasureFilterInfo=null;this.RelativeDateFilterInfo=null;this.RelativeDateOptions=null;this.CustomDateSettingsInfo=null}return n}(),RelativeDateFilterOptions=function(){function n(){this.DisplayText=null;this.Filter=new RelativeDateFilterInfo;this.IsCustomRange=!1}return n}(),RelativeDateFilterInfo=function(){function n(){this.__type="Syncfusion.Dashboard.Web.Serialization.Model.DataSources.FilterInfos.RelativeDateFilter";this.RelativeDateFormat=RelativeDateFormat.Year;this.DateInstance=DateInstance.Current;this.AnchorDate="";this.StartDate="";this.EndDate="";this.Range=1;this.ColumnId="";this.ColumnName="";this.UniqueColumnName="";this.UseAnchorDate=!1}return n}(),DimensionFilterInfo=function(){function n(){this.__type="Syncfusion.Dashboard.Web.Serialization.Model.DataSources.FilterInfos.DimensionFilterInfo";this.IsAllowFilteringApplied=!1;this.IsConditionFilteringApplied=!1;this.IsTopNFilteringApplied=!1;this.AllowFilterInfo=null;this.ConditionFilterInfo=null;this.TopNFilterInfo=null}return n}(),AllowFilteringInfo=function(){function n(){this.__type="Syncfusion.Dashboard.Web.Serialization.Model.DataSources.FilterInfos.AllowFilteringInfo";this.IsCheckAll=!1;this.IsInclude=!1;this.FilterValues=[];this.DateFilterInfo=null;this.Conditions="";this.CheckAllState=!0}return n}(),ConditionFilteringInfo=function(){function n(){this.__type="Syncfusion.Dashboard.Web.Serialization.Model.DataSources.FilterInfos.ConditionFilteringInfo";this.ColumnName="";this.ColumnId="";this.SummaryType=SummaryType.NONE;this.ConditionSummaryType=NumberFilterOption.Equals;this.Values=[]}return n}(),TopNFilteringInfo=function(){function n(){this.__type="Syncfusion.Dashboard.Web.Serialization.Model.DataSources.FilterInfos.TopNFilteringInfo";this.ColumnId="";this.ColumnName="";this.DateFormat=DateTimeFormatForFilter.Date;this.IsBasedOnDateAndTimeField=!1;this.NoOfRecords=5;this.SummaryType=SummaryType.NONE;this.Mode=RankType.Top;this.IsHierarchicalFilter=!0;this.__type="Syncfusion.Dashboard.Web.Serialization.Model.DataSources.FilterInfos.TopNFilteringInfo"}return n}(),UserInfo=function(){function n(){this.IsGroup=!1;this.IsCheckAll=!1;this.SelectedValues=[];this.IncludeFutureValues=!1}return n}(),ExpressionModel=function(){function n(){this.__type="Syncfusion.Dashboard.Web.Serialization.Model.DOM.Data.Expression";this.Name="";this.QueryExp=""}return n}(),UserBasedFilterInfo=function(){function n(){this.Mode=UserBasedFilterMode.Basic;this.BasicFilters=[]}return n}(),UserBasedFilterMode;(function(n){n[n.Basic=0]="Basic";n[n.Advanced=1]="Advanced"})(UserBasedFilterMode||(UserBasedFilterMode={}));BasicUserBasedFilter=function(){function n(){this.BasedOn=BasicUserFilterBasedOn.None;this.Mode=BasicUserFilterMode.Manual;this.UserInfo=[];this.ShowRecordsToUnmappedUsers=!1}return n}();AdvancedUserBasedFilter=function(){function n(){this.DataSourceId="";this.Mode=AdvancedFilterMode.Table;this.CustomQuery="";this.Type=IdentityType.Email;this.IdentityFieldName="";this.SelectedFields=[];this.ShowRecordsToUnmappedUsers=!1}return n}(),function(n){n[n.CustomQuery=0]="CustomQuery";n[n.Table=1]="Table"}(AdvancedFilterMode||(AdvancedFilterMode={})),function(n){n[n.Email=0]="Email";n[n.Name=1]="Name";n[n.GroupName=2]="GroupName"}(IdentityType||(IdentityType={}));var SelectedField=function(){function n(){this.Name="";this.MappedColumnName="";this.MappedColumnId=""}return n}(),ImpersonateAccount=function(){function n(){this.Name="";this.Email="";this.UserId="";this.IsGroup=!1}return n}(),InitialFilterInfo=function(){function n(){this.__type="Syncfusion.Dashboard.Web.Serialization.Model.DataSources.FilterInfos.InitialFilterSchemaInfo";this.__type="Syncfusion.Dashboard.Web.Serialization.Model.DataSources.FilterInfos.InitialFilterSchemaInfo"}return n}(),MeasureFilterInfo=function(){function n(){this.__type="Syncfusion.Dashboard.Web.Serialization.Model.DataSources.FilterInfos.MeasureCondition";this.Conditions=NumberFilterOption.Equals;this.Values=[];this.__type="Syncfusion.Dashboard.Web.Serialization.Model.DataSources.FilterInfos.MeasureCondition"}return n}(),InitialMeasureFilterInfo=function(){function n(){this.__type="Syncfusion.Dashboard.Web.Serialization.Model.DataSources.FilterInfos.MeasureCondition";this.__type="Syncfusion.Dashboard.Web.Serialization.Model.DataSources.FilterInfos.MeasureCondition"}return n}(),DateSettingsInfo=function(){function n(){this.__type="Syncfusion.Dashboard.Web.Serialization.Model.DataSources.FilterInfos.DateSettingsInfo";this.Format=FormatDropDownValue.FullYear;this.CustomFormat="";this.FiscalYear=FiscalYearValue.Jan}return n}(),FormatDropDownValue;(function(n){n[n.DateTime="5/20/2017  12:00 AM"]="DateTime";n[n.Custom="Custom"]="Custom";n[n.Date="5/20/2017"]="Date";n[n.FullYear="2016, 2017, ..."]="FullYear";n[n.HalfYear="16, 17, ..."]="HalfYear";n[n.FullQuarter="Quarter 1, Quarter 2"]="FullQuarter";n[n.HalfQuarter="Q1, Q2, Q3, Q4"]="HalfQuarter";n[n.QuarterNumber="1, 2, 3, 4"]="QuarterNumber";n[n.HalfMonth="Jan, Feb, Mar"]="HalfMonth";n[n.FullMonth="January, February"]="FullMonth";n[n.MonthWithoutZero="1, 2, 3, ...12"]="MonthWithoutZero";n[n.MonthWithZero="01, 02, 03, ...12"]="MonthWithZero";n[n.DayWithZero="01, 02, 03, ...31"]="DayWithZero";n[n.DayWithoutZero="1, 2, 3, ...31"]="DayWithoutZero";n[n.Time="00:00:00"]="Time";n[n.HourWithZero="00, 01, 02, 03, ..."]="HourWithZero";n[n.HourWithAMPM="1 AM, 2 PM"]="HourWithAMPM";n[n.HourWithoutZero="0, 1, 2, 3, ..."]="HourWithoutZero";n[n.MinuteWithZero="00, 01, 02, 03, ..."]="MinuteWithZero";n[n.MinuteWithoutZero="0, 1, 2, 3, ..."]="MinuteWithoutZero";n[n.SecondWithZero="00, 01, 02, 03, ..."]="SecondWithZero";n[n.SecondWithoutZero="0, 1, 2, 3, ..."]="SecondWithoutZero";n[n.QuarterYear="Quarter 1 2017"]="QuarterYear";n[n.MonthYear="Jan 2016, May 2017"]="MonthYear";n[n.WeekYear="Week 01 2017, Week 32 2017"]="WeekYear";n[n.DateHour="23/07/2017 00"]="DateHour";n[n.FullDayOfWeek="Sunday, Monday"]="FullDayOfWeek";n[n.HalfDayOfWeek="Sun, Mon, Tue"]="HalfDayOfWeek";n[n.SingleDayOfWeek="S, M, T, W"]="SingleDayOfWeek";n[n.DayOfWeekNumber="1, 2, 3, ...7"]="DayOfWeekNumber";n[n.WeekOfYearNumber="00, 01, 02, 03, ..."]="WeekOfYearNumber";n[n.WeekOfYearWithoutZero="Week 0, Week 1, Week 2, ..."]="WeekOfYearWithoutZero";n[n.WeekOfYearWithZero="Week 00, Week 01, Week 02, ..."]="WeekOfYearWithZero";n[n.DayMonthYear="24/07/1994"]="DayMonthYear";n[n.MonthDayYear="07/24/1994"]="MonthDayYear"})(FormatDropDownValue||(FormatDropDownValue={})),function(n){n[n.Jan="Jan"]="Jan";n[n.Feb="Feb"]="Feb";n[n.Mar="Mar"]="Mar";n[n.Apr="Apr"]="Apr";n[n.May="May"]="May";n[n.Jun="Jun"]="Jun";n[n.Jul="Jul"]="Jul";n[n.Aug="Aug"]="Aug";n[n.Sep="Sep"]="Sep";n[n.Oct="Oct"]="Oct";n[n.Nov="Nov"]="Nov";n[n.Dec="Dec"]="Dec"}(FiscalYearValue||(FiscalYearValue={}));var InitialDimentionFilterInfo=function(){function n(){this.__type="Syncfusion.Dashboard.Web.Serialization.Model.DataSources.FilterInfos.DimensionInitialFilterInfo";this.__type="Syncfusion.Dashboard.Web.Serialization.Model.DataSources.FilterInfos.DimensionInitialFilterInfo";this.TopNFilterConditionInfo=new TopNFilteringInfo}return n}(),DateFilterInfo=function(){function n(){this.__type="Syncfusion.Dashboard.Web.Serialization.Model.DataSources.FilterInfos.DateCondition";this.__type="Syncfusion.Dashboard.Web.Serialization.Model.DataSources.FilterInfos.DateCondition";this.TopNFilterConditionInfo=new TopNFilteringInfo;this.DateFormatInfo=new DateRangeFilterInfo}return n}(),DateRangeFilterInfo=function(){function n(){this.__type="Syncfusion.Dashboard.Web.Serialization.Model.DataSources.FilterInfos.DateFormatInfo";this.__type="Syncfusion.Dashboard.Web.Serialization.Model.DataSources.FilterInfos.DateFormatInfo"}return n}(),BooleanFilterSchemaInfo=function(){function n(){this.__type="Syncfusion.Dashboard.Web.Serialization.Model.DataSources.FilterInfos.BooleanFilterSchemaInfo";this.__type="Syncfusion.Dashboard.Web.Serialization.Model.DataSources.FilterInfos.BooleanFilterSchemaInfo";this.TopNFilterConditionInfo=new TopNFilteringInfo}return n}(),SelectedParameterValue=function(){function n(){this.__type="Syncfusion.Dashboard.Web.Serialization.DOM.Model.DynamicParameter";this.SelectedValue=[];this.ParameterId="";this.DataSourceName="";this.HasDateRangeSelectedValues=!1}return n}(),SelectedFilterValue=function(){function n(){this.__type="Syncfusion.Dashboard.Web.Serialization.Model.DOM.SelectedFilterValue";this.UniqueColumnName="";this.ReportName="";this.FieldId="";this.ColumnName="";this.IsStdDateTime=!1;this.IsMultiSelection=!1;this.IsRange=!1;this.IsGroupBarFilter=!1;this.IsPoPWidget=!1;this.IsParameterField=!1;this.InitialDimensionFilter=new InitialDimensionFilter;this.InitialDateFilter=new InitialDateFilter;this.InitialMeasureFilter=new InitialMeasureFilter;this.PoPFilter=new PoPFilterInfo}return n}(),PoPFilterInfo=function(){function n(){this.__type="Syncfusion.Dashboard.Web.Serialization.Model.DOM.PoPFilterInfo";this.DateFieldId="";this.PrimaryType=PrimaryPoPType.ThisMonth;this.SecondaryType=SecondaryPoPType.PreviousPeriod;this.PrimaryCustomRange=new PoPCustomRange;this.SecondaryCustomRange=[new PoPCustomRange]}return n}(),PoPCustomRange=function(){function n(){this.__type="Syncfusion.Dashboard.Web.Serialization.Model.DOM.PoPCustomRange";this.StartRange="";this.EndRange=""}return n}(),PrimaryPoPType;(function(n){n[n.Today="Today"]="Today";n[n.ThisWeek="ThisWeek"]="ThisWeek";n[n.ThisMonth="ThisMonth"]="ThisMonth";n[n.ThisYear="ThisYear"]="ThisYear";n[n.Custom="Custom"]="Custom"})(PrimaryPoPType||(PrimaryPoPType={})),function(n){n[n.PreviousPeriod="PreviousPeriod"]="PreviousPeriod";n[n.PreviousYear="PreviousYear"]="PreviousYear";n[n.Custom="Custom"]="Custom"}(SecondaryPoPType||(SecondaryPoPType={}));var InitialDimensionFilter=function(){function n(){this.__type="Syncfusion.Dashboard.Web.Serialization.Model.DOM.InitialDimensionFilter";this.DimesnionFilterCondition=BoldBIDashboard.DashboardDesignerUtility.Serialization.enumToString(InitialDimensionFilterCondition,InitialDimensionFilterCondition.Contains);this.Text=[]}return n}(),InitialDateFilter=function(){function n(){this.__type="Syncfusion.Dashboard.Web.Serialization.Model.DOM.InitialDateFilter";this.DateFilterCondition=BoldBIDashboard.DashboardDesignerUtility.Serialization.enumToString(InitialDateFilterCondition,InitialDateFilterCondition.Include);this.DateFilterList=[];this.DisplayDateFilterList=[];this.DateFilterType=BoldBIDashboard.DashboardDesignerUtility.Serialization.enumToString(InitialDateFilterType,InitialDateFilterType.Basic);this.DateFormat=BoldBIDashboard.DashboardDesignerUtility.Serialization.enumToString(DateTimeFormat,DateTimeFormat.None);this.SelectedRangeforRelativeFilter=null}return n}(),InitialMeasureFilter=function(){function n(){this.__type="Syncfusion.Dashboard.Web.Serialization.Model.DOM.InitialMeasureFilter";this.MeasureFilterCondition=BoldBIDashboard.DashboardDesignerUtility.Serialization.enumToString(InitialMeasureFilterCondition,InitialMeasureFilterCondition.Equals);this.Values=[]}return n}(),ViewSavedFilterValue=function(){function n(){this.Control="";this.UniqueColumnName="";this.Data=[];this.DisplayName="";this.ControlTitle=new WidgetInfo;this.ColumnName="";this.FieldId=""}return n}(),ActivityLog=function(){function n(){}return n}(),SharedTableDSMenu=function(){function n(){}return n}(),SummaryType;(function(n){n[n.NONE="NONE"]="NONE";n[n.SUM="SUM"]="SUM";n[n.AVG="AVG"]="AVG";n[n.COUNT="COUNT"]="COUNT";n[n.MIN="MIN"]="MIN";n[n.MAX="MAX"]="MAX";n[n.COUNTD="COUNTD"]="COUNTD";n[n.STDEV="STDEV"]="STDEV";n[n.VAR="VAR"]="VAR";n[n.CUSTOM="CUSTOM"]="CUSTOM";n[n.MEDIAN="MEDIAN"]="MEDIAN"})(SummaryType||(SummaryType={})),function(n){n[n.Numeric=0]="Numeric";n[n.Non_Numeric=1]="Non_Numeric";n[n.None=2]="None"}(FieldContainerType||(FieldContainerType={})),function(n){n[n.Measures=0]="Measures";n[n.Dimensions=1]="Dimensions";n[n.DateTime=2]="DateTime";n[n.Parameters=3]="Parameters"}(FieldType||(FieldType={})),function(n){n[n.Measure=0]="Measure";n[n.Dimension=1]="Dimension";n[n.DateTime=2]="DateTime"}(ColorColumnType||(ColorColumnType={})),function(n){n[n.Measure=0]="Measure";n[n.Dimension=1]="Dimension";n[n.Boolean=2]="Boolean";n[n.Date=3]="Date"}(InitialFilterType||(InitialFilterType={})),function(n){n[n.None="None"]="None";n[n.Year="Year"]="Year";n[n.Default="Default"]="Default";n[n.Month="Month"]="Month";n[n.Day="Day"]="Day";n[n.Quarter="Quarter"]="Quarter";n[n.MonthYear="MonthYear"]="MonthYear";n[n.QuarterYear="QuarterYear"]="QuarterYear";n[n.DayMonthYear="DayMonthYear"]="DayMonthYear";n[n.DateHour="DateHour"]="DateHour";n[n.DayOfYear="DayOfYear"]="DayOfYear";n[n.DayOfWeek="DayOfWeek"]="DayOfWeek";n[n.Hour="Hour"]="Hour";n[n.Minute="Minute"]="Minute";n[n.Second="Second"]="Second";n[n.WeekOfYear="WeekOfYear"]="WeekOfYear";n[n.WeekOfMonth="WeekOfMonth"]="WeekOfMonth";n[n.RangeDate="RangeDate"]="RangeDate";n[n.RelativeDate="RelativeDate"]="RelativeDate";n[n.DefaultTime="DefaultTime"]="DefaultTime";n[n.WeekYear="WeekYear"]="WeekYear";n[n.MonthDayYear="MonthDayYear"]="MonthDayYear";n[n.Time="Time"]="Time";n[n.Date="Date"]="Date";n[n.WeekofYear="WeekofYear"]="WeekofYear";n[n.WeekofMonth="WeekofMonth"]="WeekofMonth";n[n.DateTime="DateTime"]="DateTime"}(DateTimeFormat||(DateTimeFormat={})),function(n){n[n.Date="Date"]="Date";n[n.Year="Year"]="Year";n[n.Month="Month"]="Month";n[n.QuarterYear="QuarterYear"]="QuarterYear";n[n.MonthYear="MonthYear"]="MonthYear";n[n.WeekYear="WeekYear"]="WeekYear";n[n.DayOfWeek="DayOfWeek"]="DayOfWeek";n[n.WeekOfYear="WeekOfYear"]="WeekOfYear"}(DateBucketDateTimeFormat||(DateBucketDateTimeFormat={})),function(n){n[n.DateTime="Date Time"]="DateTime";n[n.Date="Date"]="Date";n[n.Year="Year"]="Year";n[n.Quarter="Quarter"]="Quarter";n[n.Month="Month"]="Month";n[n.QuarterYear="Quarter Year"]="QuarterYear";n[n.MonthYear="Month Year"]="MonthYear";n[n.WeekYear="Week Year"]="WeekYear";n[n.DayOfWeek="Day Of Week"]="DayOfWeek";n[n.WeekOfYear="Week Of Year"]="WeekOfYear";n[n.Day="Day"]="Day";n[n.Hour="Hours"]="Hour";n[n.Minute="Minutes"]="Minute";n[n.Second="Seconds"]="Second";n[n.Time="Time"]="Time"}(DateTimeFormatForFilter||(DateTimeFormatForFilter={})),function(n){n[n.Left=0]="Left";n[n.Center=1]="Center";n[n.Right=2]="Right"}(TextAlignment||(TextAlignment={})),function(n){n[n.LowestValue=0]="LowestValue";n[n.HighestValue=1]="HighestValue";n[n.Custom=2]="Custom"}(BarRange||(BarRange={})),function(n){n[n.LeftToRight=0]="LeftToRight";n[n.RightToLeft=1]="RightToLeft"}(BarDirectoin||(BarDirectoin={})),function(n){n.Default="Default";n.Number="Number";n.Currency="Currency";n.Percentage="Percentage"}(DataValueFormat||(DataValueFormat={})),function(n){n[n.Default=0]="Default";n[n.NoNegativeSignWithBracket=1]="NoNegativeSignWithBracket";n[n.NegativeSignInSuffix=2]="NegativeSignInSuffix"}(NegativeValueFormats||(NegativeValueFormats={})),function(n){n.Auto="Auto";n.Ones="Ones";n.Thousands="Thousands";n.Millions="Millions";n.Billions="Billions";n.Crores="Crores";n.Lakhs="Lakhs"}(NumberFormat||(NumberFormat={})),function(n){n[n.Top="Top"]="Top";n[n.Bottom="Bottom"]="Bottom"}(RankType||(RankType={})),function(n){n[n.Top=0]="Top";n[n.Bottom=1]="Bottom"}(FilterRange||(FilterRange={})),function(n){n[n.Equals="Equals"]="Equals";n[n.NotEquals="NotEquals"]="NotEquals";n[n.LessThan="LessThan"]="LessThan";n[n.GreaterThan="GreaterThan"]="GreaterThan";n[n.LessThanOrEquals="LessThanOrEquals"]="LessThanOrEquals";n[n.GreaterThanOrEquals="GreaterThanOrEquals"]="GreaterThanOrEquals";n[n.IsBetween="IsBetween"]="IsBetween";n[n.IsNotBetween="IsNotBetween"]="IsNotBetween"}(NumberFilterOption||(NumberFilterOption={})),function(n){n[n.Ascending=0]="Ascending";n[n.Descending=1]="Descending";n[n.None=2]="None"}(SortingOrder||(SortingOrder={})),function(n){n[n.Contains="Contains"]="Contains";n[n.StartsWith="StartsWith"]="StartsWith";n[n.EndsWith="EndsWith"]="EndsWith";n[n.NotContains="NotContains"]="NotContains";n[n.Include="Include"]="Include";n[n.Exclude="Exclude"]="Exclude";n[n.IsNull="IsNull"]="IsNull";n[n.IsNotNull="IsNotNull"]="IsNotNull";n[n.IsEmpty="IsEmpty"]="IsEmpty";n[n.IsNotEmpty="IsNotEmpty"]="IsNotEmpty";n[n.Equals="Equals"]="Equals"}(TextFilterOption||(TextFilterOption={})),function(n){n[n.And="And"]="And";n[n.Or="Or"]="Or";n[n.AndNot="AndNot"]="AndNot";n[n.OrNot="OrNot"]="OrNot"}(OperatorType||(OperatorType={})),function(n){n[n.Include="Include"]="Include";n[n.Exclude="Exclude"]="Exclude";n[n.Single="Single"]="Single";n[n.Range="Range"]="Range";n[n.Like="Like"]="Like"}(FilterColumnAction||(FilterColumnAction={})),function(n){n.RefreshSettings="Refresh settings";n.AzureBoardItems="Boards"}(PreviewFeatureName||(PreviewFeatureName={})),function(n){n[n.Saved=0]="Saved";n[n.Created=1]="Created";n[n.Deleted=2]="Deleted";n[n.Updated=3]="Updated";n[n.Cancelled=4]="Cancelled";n[n.Selected=5]="Selected";n[n.Imported=6]="Imported";n[n.CustomValue=7]="CustomValue"}(ActivityLogEvents||(ActivityLogEvents={})),function(n){n[n.Dashboard=0]="Dashboard";n[n.Datasource=1]="Datasource";n[n.Widget=2]="Widget"}(ActivityLogItemType||(ActivityLogItemType={})),function(n){n[n.Unknown=0]="Unknown";n[n.ColumnChart=1]="ColumnChart";n[n.BarChart=2]="BarChart";n[n.StackedColumnChart=3]="StackedColumnChart";n[n.StackedBarChart=4]="StackedBarChart";n[n.PercentageStackedColumnChart=5]="PercentageStackedColumnChart";n[n.PercentageStackedBarChart=6]="PercentageStackedBarChart";n[n.Grid=7]="Grid";n[n.BubbleMap=8]="BubbleMap";n[n.ChoroplethMap=9]="ChoroplethMap";n[n.Map=10]="Map";n[n.TreeMap=11]="TreeMap";n[n.Card=12]="Card";n[n.KPICard=13]="KPICard";n[n.NumberCard=14]="NumberCard";n[n.PieChart=15]="PieChart";n[n.DoughnutChart=16]="DoughnutChart";n[n.PyramidChart=17]="PyramidChart";n[n.FunnelChart=18]="FunnelChart";n[n.AreaChart=19]="AreaChart";n[n.StackedAreaChart=20]="StackedAreaChart";n[n.PercentageStackedAreaChart=21]="PercentageStackedAreaChart";n[n.LineChart=22]="LineChart";n[n.SplineChart=23]="SplineChart";n[n.SplineAreaChart=24]="SplineAreaChart";n[n.BubbleChart=25]="BubbleChart";n[n.ScatterChart=26]="ScatterChart";n[n.BubbleScatterChart=27]="BubbleScatterChart";n[n.ComboChart=28]="ComboChart";n[n.ComboBox=29]="ComboBox";n[n.ListBox=30]="ListBox";n[n.TextFilter=31]="TextFilter";n[n.DatePicker=32]="DatePicker";n[n.PeriodOverPeriod=33]="PeriodOverPeriod";n[n.RangeSlider=34]="RangeSlider";n[n.Image=35]="Image";n[n.Label=36]="Label";n[n.RichTextEditor=37]="RichTextEditor";n[n.Line=38]="Line";n[n.HeatMap=39]="HeatMap";n[n.PivotView=40]="PivotView";n[n.CustomWidget=41]="CustomWidget";n[n.MicrosoftDynamicsSales=42]="MicrosoftDynamicsSales";n[n.MicrosoftDynamicsService=43]="MicrosoftDynamicsService";n[n.RadialGauge=44]="RadialGauge";n[n.DateBucket=45]="DateBucket";n[n.File=46]="File";n[n.Excel=47]="Excel";n[n.Csv=48]="Csv";n[n.EDI=49]="EDI";n[n.Json=50]="Json";n[n.MySQL=51]="MySQL";n[n.Oracle=52]="Oracle";n[n.PostgresSql=53]="PostgresSql";n[n.Jira=54]="Jira";n[n.Twilio=55]="Twilio";n[n.Redshift=56]="Redshift";n[n.MariaDB=57]="MariaDB";n[n.SingleStore=58]="SingleStore";n[n.CDATA=59]="CDATA";n[n.AmazonAthena=60]="AmazonAthena";n[n.AmazonAurora=61]="AmazonAurora";n[n.AmazonRDS=62]="AmazonRDS";n[n.GoogleCloud=63]="GoogleCloud";n[n.AmazonAuroraMySQL=64]="AmazonAuroraMySQL";n[n.AmazonAuroraPostgreSQL=65]="AmazonAuroraPostgreSQL";n[n.GoogleCloudMySQL=66]="GoogleCloudMySQL";n[n.GoogleCloudPostgreSQL=67]="GoogleCloudPostgreSQL";n[n.AskNicely=68]="AskNicely";n[n.CallRail=69]="CallRail";n[n.CampaignMonitor=70]="CampaignMonitor";n[n.Chargify=71]="Chargify";n[n.ChartMogul=72]="ChartMogul";n[n.ChartBeat=73]="ChartBeat";n[n.Flurry=74]="Flurry";n[n.FreshDesk=75]="FreshDesk";n[n.Fusebill=76]="Fusebill";n[n.GoSquared=77]="GoSquared";n[n.Harvest=78]="Harvest";n[n.HelpScout=79]="HelpScout";n[n.Insightly=80]="Insightly";n[n.Intervals=81]="Intervals";n[n.KeenIo=82]="KeenIo";n[n.Kissmetrics=83]="Kissmetrics";n[n.Wistia=84]="Wistia";n[n.Gitlab=85]="Gitlab";n[n.LiveAgent=86]="LiveAgent";n[n.Mailchimp=87]="Mailchimp";n[n.Nicereply=88]="Nicereply";n[n.PipelineDeals=89]="PipelineDeals";n[n.ProsperWorks=90]="ProsperWorks";n[n.SendGrid=91]="SendGrid";n[n.NewRelic=92]="NewRelic";n[n.Gmail=93]="Gmail";n[n.GoogleAnalytics=94]="GoogleAnalytics";n[n.GoogleAds=95]="GoogleAds";n[n.YouTube=96]="YouTube";n[n.Bitly=97]="Bitly";n[n.GooglePlus=98]="GooglePlus";n[n.GoogleDrive=99]="GoogleDrive";n[n.GoogleSheets=100]="GoogleSheets";n[n.MicrosoftOneDrive=101]="MicrosoftOneDrive";n[n.MicrosoftSharePoint=102]="MicrosoftSharePoint";n[n.MicrosoftOutlookCalendar=103]="MicrosoftOutlookCalendar";n[n.Box=104]="Box";n[n.Buffer=105]="Buffer";n[n.Salesforce=106]="Salesforce";n[n.WebDataSource=107]="WebDataSource";n[n.Mixpanel=108]="Mixpanel";n[n.Stripe=109]="Stripe";n[n.Smartsheet=110]="Smartsheet";n[n.ZohoCRM=111]="ZohoCRM";n[n.FortyTwomatters=112]="FortyTwomatters";n[n.Zendesk=113]="Zendesk";n[n.SurveyGizmo=114]="SurveyGizmo";n[n.BaseCrm=115]="BaseCrm";n[n.Pipedrive=116]="Pipedrive";n[n.Sendible=117]="Sendible";n[n.GitHub=118]="GitHub";n[n.Intercom=119]="Intercom";n[n.Toggl=120]="Toggl";n[n.Basecamp3=121]="Basecamp3";n[n.Lighthouse=122]="Lighthouse";n[n.ActiveCampaign=123]="ActiveCampaign";n[n.Todoist=124]="Todoist";n[n.Freshsales=125]="Freshsales";n[n.Freshservice=126]="Freshservice";n[n.QuickBooksOnline=127]="QuickBooksOnline";n[n.QuickBooksPayments=128]="QuickBooksPayments";n[n.Dropbox=129]="Dropbox";n[n.LinkedIn=130]="LinkedIn";n[n.GoogleAdsense=131]="GoogleAdsense";n[n.SurveyMonkey=132]="SurveyMonkey";n[n.ServiceNow=133]="ServiceNow";n[n.FreshBooks=134]="FreshBooks";n[n.Basecamp2=135]="Basecamp2";n[n.Infusionsoft=136]="Infusionsoft";n[n.ClubReady=137]="ClubReady";n[n.Twitter=138]="Twitter";n[n.Slack=139]="Slack";n[n.Pinterest=140]="Pinterest";n[n.AppFolio=141]="AppFolio";n[n.GenesysPureCloud=142]="GenesysPureCloud";n[n.SparkPost=143]="SparkPost";n[n.SEOmonitor=144]="SEOmonitor";n[n.GoogleCalendar=145]="GoogleCalendar";n[n.EventBrite=146]="EventBrite";n[n.Hubspot=147]="Hubspot";n[n.Xml=148]="Xml";n[n.Recurly=149]="Recurly";n[n.RSSFeeds=150]="RSSFeeds";n[n.AppAnnie=151]="AppAnnie";n[n.Asana=152]="Asana";n[n.AzureDevOps=153]="AzureDevOps";n[n.REDCap=154]="REDCap";n[n.Podio=155]="Podio";n[n.Vimeo=156]="Vimeo";n[n.MicrosoftKaizala=157]="MicrosoftKaizala";n[n.ApplicationInsights=158]="ApplicationInsights";n[n.AzureSearch=159]="AzureSearch";n[n.RavenDB=160]="RavenDB";n[n.AzureTables=161]="AzureTables";n[n.ElasticSearch=162]="ElasticSearch";n[n.Prometheus=163]="Prometheus";n[n.zohoInvoice=164]="zohoInvoice";n[n.zendeskSunshine=165]="zendeskSunshine";n[n.commvault=166]="commvault";n[n.SQL=167]="SQL";n[n.AzureSynapseAnalytics=168]="AzureSynapseAnalytics";n[n.InfluxDB=169]="InfluxDB";n[n.MSSQLServerAnalysisServices=170]="MSSQLServerAnalysisServices";n[n.MongoDB=171]="MongoDB";n[n.SQLCe=172]="SQLCe";n[n.OLEDB=173]="OLEDB";n[n.OData=174]="OData";n[n.MSSSQLServerAnalysisServices=175]="MSSSQLServerAnalysisServices";n[n.Facebook=176]="Facebook";n[n.FacebookAds=177]="FacebookAds";n[n.Instagram=178]="Instagram";n[n.WordPress=179]="WordPress";n[n.Optimizely=180]="Optimizely";n[n.GoogleSearchConsole=181]="GoogleSearchConsole";n[n.ChargeBee=182]="ChargeBee";n[n.SalesforceReports=183]="SalesforceReports";n[n.Projectplace=184]="Projectplace";n[n.RadarPolarChart=185]="RadarPolarChart";n[n.Presto=186]="Presto";n[n.ODBC=187]="ODBC";n[n.Snowflake=188]="Snowflake";n[n.Vertica=189]="Vertica";n[n.SparkSQL=190]="SparkSQL";n[n.SQLite=191]="SQLite";n[n.RangeNaviator=192]="RangeNaviator";n[n.GoogleBigQuery=193]="GoogleBigQuery";n[n.ProofHub=194]="ProofHub";n[n.MarkupTrace=195]="MarkupTrace";n[n.Shopify=196]="Shopify";n[n.AmazonMWS=197]="AmazonMWS";n[n.Lessonly=198]="Lessonly";n[n.Xero=199]="Xero";n[n.Zoom=200]="Zoom";n[n.GravityForms=201]="GravityForms";n[n.Nutshell=202]="Nutshell";n[n.SquareUp=203]="SquareUp";n[n.Yelp=204]="Yelp";n[n.Avochato=205]="Avochato";n[n.Fitbit=206]="Fitbit";n[n.Quickbase=207]="Quickbase";n[n.Zuora=208]="Zuora";n[n.ClickHouse=209]="ClickHouse";n[n.BoldDesk=210]="BoldDesk";n[n.AmazonRDSMySQL=211]="AmazonRDSMySQL";n[n.AmazonRDSSqlServer=212]="AmazonRDSSqlServer";n[n.AmazonRDSPostgreSQL=213]="AmazonRDSPostgreSQL";n[n.AmazonRDSAmazonAuroraPostgreSQL=214]="AmazonRDSAmazonAuroraPostgreSQL";n[n.AmazonRDSAmazonAuroraMySQL=215]="AmazonRDSAmazonAuroraMySQL";n[n.AmazonRDSMariaDB=216]="AmazonRDSMariaDB";n[n.AmazonRDSOracle=217]="AmazonRDSOracle";n[n.DesicionLens=218]="DesicionLens";n[n.Origami=219]="Origami";n[n.Trello=220]="Trello";n[n.AzureBlob=221]="AzureBlob"}(ActivityLogItemSubTypes||(ActivityLogItemSubTypes={}));KpiInformation=function(){function n(){this.__type="Syncfusion.Dashboard.Web.Serialization.Model.DataSources.KpiInfo.KpiInformation";this.ActualColumn=new KpiColumnInfo;this.TargetColumn=new KpiColumnInfo}return n}();KpiColumnInfo=function(){function n(){this.__type="Syncfusion.Dashboard.Web.Serialization.Model.DataSources.KpiInfo.KpiColumnInfo"}return n}(),function(n){n.GreaterIsGood="Greater Is Good";n.LessIsGood="Less Is Good"}(IndicationType||(IndicationType={})),function(n){n[n.Value="Value"]="Value";n[n.Bar="Bar"]="Bar";n[n.ConditionalFormatting="ConditionalFormatting"]="ConditionalFormatting"}(DisplayType||(DisplayType={})),function(n){n.AbsoluteVariation="Actual Variation";n.ActualValue="Actual Value";n.PercentageVariation="Percentage of Variation";n.PercentageOfTarget="Percentage of Target";n.ValueAndPercentage="Value and Percentage"}(KpiCalculationType||(KpiCalculationType={})),function(n){n[n.Contains=0]="Contains";n[n.Include=1]="Include";n[n.Exclude=2]="Exclude";n[n.StartsWith=3]="StartsWith";n[n.EndsWith=4]="EndsWith";n[n.NotContains=5]="NotContains"}(InitialDimensionFilterCondition||(InitialDimensionFilterCondition={})),function(n){n[n.Equals=0]="Equals";n[n.IsBetween=1]="IsBetween";n[n.GreaterThan=2]="GreaterThan";n[n.NotEquals=3]="NotEquals";n[n.LessThan=4]="LessThan";n[n.LessThanOrEquals=5]="LessThanOrEquals";n[n.GreaterThanOrEquals=6]="GreaterThanOrEquals";n[n.IsNotBetween=7]="IsNotBetween"}(InitialMeasureFilterCondition||(InitialMeasureFilterCondition={})),function(n){n[n.Include=0]="Include";n[n.Exclude=1]="Exclude";n[n.Range=2]="Range"}(InitialDateFilterCondition||(InitialDateFilterCondition={})),function(n){n[n.Basic=0]="Basic";n[n.Exact=1]="Exact"}(InitialDateFilterType||(InitialDateFilterType={})),function(n){n[n.URLText=1]="URLText";n[n.URLPreview=2]="URLPreview";n[n.AppendColumn=4]="AppendColumn"}(LinkVisibility||(LinkVisibility={})),function(n){n[n.Current="Current"]="Current";n[n.Previous="Previous"]="Previous";n[n.Last="Last"]="Last";n[n.Next="Next"]="Next";n[n.Past="Past"]="Past";n[n.Upcoming="Upcoming"]="Upcoming";n[n.ToDate="ToDate"]="ToDate";n[n.Succeeding="Succeeding"]="Succeeding";n[n.TillNow="TillNow"]="TillNow";n[n.Custom="Custom"]="Custom"}(DateInstance||(DateInstance={})),function(n){n[n.Previous=0]="Previous";n[n.Current=1]="Current";n[n.Succeeding=2]="Succeeding";n[n.Last=3]="Last";n[n.Past=4]="Past";n[n.Next=5]="Next";n[n.Upcoming=6]="Upcoming";n[n.ToDate=7]="ToDate";n[n.TillNow=8]="TillNow";n[n.Custom=9]="Custom"}(ParameterDateInstance||(ParameterDateInstance={})),function(n){n[n.Year="Year"]="Year";n[n.Quarter="Quarter"]="Quarter";n[n.Month="Month"]="Month";n[n.Week="Week"]="Week";n[n.Day="Day"]="Day";n[n.Hour="Hour"]="Hour";n[n.Minute="Minute"]="Minute"}(RelativeDateFormat||(RelativeDateFormat={})),function(n){n[n.Year=0]="Year";n[n.Quarter=1]="Quarter";n[n.Month=2]="Month";n[n.Week=3]="Week";n[n.Day=4]="Day";n[n.Hour=5]="Hour";n[n.Minute=6]="Minute"}(ParameterRelativeDateFormat||(ParameterRelativeDateFormat={})),function(n){n[n.String=0]="String";n[n.Number=1]="Number";n[n.Date=2]="Date";n[n.Boolean=3]="Boolean"}(DynamicParameterDataType||(DynamicParameterDataType={})),function(n){n[n.Literal=0]="Literal";n[n.List=1]="List";n[n.Range=2]="Range"}(ParameterMode||(ParameterMode={})),function(n){n[n.Single=0]="Single";n[n.Iterative=1]="Iterative"}(ParameterReturnType||(ParameterReturnType={})),function(n){n[n.Single=0]="Single";n[n.Range=1]="Range"}(SelectionType||(SelectionType={})),function(n){n[n.Custom=0]="Custom";n[n.AddRelativeDate=1]="AddRelativeDate"}(DateRange||(DateRange={})),function(n){n[n.Auto=0]="Auto";n[n.Manual=1]="Manual"}(BasicUserFilterMode||(BasicUserFilterMode={})),function(n){n[n.None=0]="None";n[n.Email=1]="Email";n[n.FullName=2]="FullName";n[n.GroupName=3]="GroupName"}(BasicUserFilterBasedOn||(BasicUserFilterBasedOn={})),function(n){n[n.Default=0]="Default";n[n.Custom=1]="Custom"}(NoDataImageType||(NoDataImageType={}));var AdvancedSettings=function(){function n(){this.Ranges=[];this.MeasureFormatSettings=new MeasureFormatting}return n}(),ColorRangeSettings=function(){function n(){this.StartRange=0;this.EndRange=0;this.IsCaseSensitive=!0;this.RangeLabel="";this.DimensionConditionalValue=[];this.MeasureCondition=CMeasureConditionType.CEquals;this.DimensionCondition=CDimensionConditionType.Startswith;this.PropertyColorPair=[]}return n}(),PropertyColorPair=function(){function n(){}return n}(),RangeColor=function(){function n(){this.StartColor="";this.EndColor="";this.IsGradient=!1}return n}(),ImageSettings=function(){function n(){this.ImageColor="";this.ImageType=ImageType.Default;this.ImageURL="";this.ImageAlignment="Left"}return n}(),FontSettings=function(){function n(){}return n}(),WidgetProperty;(function(n){n[n.FillColor=0]="FillColor";n[n.BackgroundColor=1]="BackgroundColor";n[n.PrimaryValueColor=2]="PrimaryValueColor";n[n.BorderColor=3]="BorderColor";n[n.TitleColor=4]="TitleColor";n[n.Icon=5]="Icon";n[n.Font=6]="Font";n[n.Image=7]="Image";n[n.BackgroundImage=8]="BackgroundImage";n[n.RangePointerColor=9]="RangePointerColor";n[n.NeedlePointerColor=10]="NeedlePointerColor";n[n.TargetPointerColor=11]="TargetPointerColor";n[n.ActualValueColor=12]="ActualValueColor";n[n.MarkerCustomize=13]="MarkerCustomize";n[n.MarkerSize=14]="MarkerSize"})(WidgetProperty||(WidgetProperty={})),function(n){n[n.URL=0]="URL";n[n.Default=1]="Default";n[n.Embedded=2]="Embedded"}(ImageType||(ImageType={})),function(n){n[n.CGreaterThan=0]="CGreaterThan";n[n.CGreaterThanOrEqualTo=1]="CGreaterThanOrEqualTo";n[n.CLessThan=2]="CLessThan";n[n.CLessThanOrEqalTo=3]="CLessThanOrEqalTo";n[n.CEquals=4]="CEquals";n[n.CNotEquals=5]="CNotEquals";n[n.CBetween=6]="CBetween";n[n.CNotBetween=7]="CNotBetween"}(CMeasureConditionType||(CMeasureConditionType={})),function(n){n[n.Startswith=0]="Startswith";n[n.Endswith=1]="Endswith";n[n.Contains=2]="Contains";n[n.NotContains=3]="NotContains";n[n.Equals=4]="Equals";n[n.NotEquals=5]="NotEquals";n[n.Inclusion=6]="Inclusion"}(CDimensionConditionType||(CDimensionConditionType={})),function(n){n[n.Value=0]="Value";n[n.Percent=1]="Percent"}(Format||(Format={}));ColorFieldsInfo=function(){function n(){this.Name=WidgetProperty.BackgroundColor;this.DisplayName="";this.ColorPicker=ColorSetColorPickers.GradientColorPicker;this.IncludeIconAlignment=!0}return n}(),function(n){n[n.GradientColorPicker=0]="GradientColorPicker";n[n.NormalColorPicker=1]="NormalColorPicker";n[n.IconColorPicker=2]="IconColorPicker"}(ColorSetColorPickers||(ColorSetColorPickers={}));var ExportSettings=function(){function n(){this.isDashboardSelected=!0;this.widgetJson=[]}return n}(),ColorValue=function(){function n(n,t,i){this.r=n;this.g=t;this.b=i}return n}(),ColorCodeInfo=function(){function n(){this.__type="Syncfusion.Dashboard.Web.Serialization.DOM.ColorCodeInfo"}return n}(),ValueColorCode=function(){function n(){this.__type="Syncfusion.Dashboard.Web.Serialization.DOM.ValueColorCode"}return n}(),WidgetBackgroundSettings=function(){function n(){this._type="Syncfusion.Dashboard.Web.Serialization.Model.DOM.Common.WidgetBackgroundSettings";this.Color="#ffffff";this.Image=new BackgroundImageSettings;this.Transparency=.5}return n}(),BackgroundImageSettings=function(){function n(){this._type="Syncfusion.Dashboard.Web.Serialization.Model.DOM.Common.BackgroundImageSettings";this.ImageMode="Uniform";this.ImageUrl="";this.ImageSource="Local";this.Visibility=!1;this.FilePath="";this.ImageName=""}return n}(),BackgroundInfo=function(){function n(){this.Mode="Uniform";this.Image=null;this.ShowImage=!1;this.Color="#ffffff";this.Opacity=.5}return n}(),InternalSerializationHelper=function(){function n(n){this.dashboardPropertyJson=new DashboardProperties;this.dashboardDesigner=n;this.bbdesigner$=this.dashboardDesigner.bbdesigner$}return n.stringtoEnum=function(n,t){return n[t]||n[n[0]]},n.enumToString=function(n,t){return n[t]||n[0]},n.prototype.updateFilterColumn=function(n){if(n.Data.Containers.length>0){var t=n.Data.Containers.filter(function(n){return n.Name==="FilterColumn"})[0];BoldBIDashboard.isNullOrUndefined(t)||BoldBIDashboard.isNullOrUndefined(t.FieldInfos)||t.FieldInfos.forEach(function(n){n.IsVisible=!1;n.IsFilterColumn=!0})}return n},n.prototype.getWidgetJsonString=function(){var t,i,n,r;try{var u=[],o=this.dashboardDesigner.modules.Mode.designCanvas,f=o.find(".bbi-dbrditem");for(t=0;t<f.length;t++)i=BoldBIDashboard.Dashboard.WidgetHelper.getWidgetInstance(f.eq(t)),BoldBIDashboard.isNullOrUndefined(i)||(n=i.getJson(),n=this.updateFilterColumn(n),(BoldBIDashboard.isNullOrUndefined(n.UniqueId)||n.UniqueId==="")&&(n.UniqueId=this.dashboardDesigner.modules.util.generateGuid()),BoldBIDashboard.isNullOrUndefined(n.SelectedFilterValues)&&(n.SelectedFilterValues=[]),u.push(n));return u}catch(e){return r=this.dashboardDesigner.designerPanel,BoldBIDashboard.isNullOrUndefined(r)||r.logError({Source:"getWidgetJsonString",Error:e,Type:e.name}),[]}},n.prototype.notifyChange=function(){var n=this;this.dashboardDesigner.model.mode!==BoldBIDashboard.Designer.mode.view&&this.dashboardDesigner.model.mode!==BoldBIDashboard.Designer.mode.designpreview&&(this.dashboardDesigner.element.find("#"+this.dashboardDesigner._id+"_auto_save_status_icon").removeClass("bbi-ddr-draft-status-success bbi-ddr-draft-status-error").addClass("bbi-ddr-draft-status-progress"),this.dashboardDesigner.element.find("#"+this.dashboardDesigner._id+"_auto_save_status_label").text("Saving draft..."),this.dashboardDesigner.modules.util.doAjaxPost("POST",this.dashboardDesigner.model.serviceUrl+BoldBIDashboard.Dashboard.ServiceAPI.notifypropertychange,{action:BoldBIDashboard.DashboardUtil.DesignerAction.NotifyPropertyChange,data:JSON.stringify({dashboardJson:this.dashboardDesigner.modules.serialization.dashboardPropertyJson,widgetJson:this.dashboardDesigner.modules.serialization.getWidgetJsonString(),colorSetJson:this.dashboardDesigner.modules.resource.colorCodeInfo})},{fnction:this.bbdesigner$.proxy(function(t){n.dashboardDesigner.rptToolbar.updateAutoSavedTime(t.Status);t.Status||console.info(t.Message)},this),errfnction:this.bbdesigner$.proxy(function(){n.dashboardDesigner.rptToolbar.updateAutoSavedTime(!1)},this)},!0))},n.prototype.updateWidgetData=function(n,t){var u,i,r,f;try{for(u=this.dashboardDesigner.modules.serialization,i=new DataConfiguration,i.Id=t.DataSourceID,i.DataSetName=t.DataSourceName,r=0;r<t.FieldContainers.length;r++)u.validateAndAddContainer(i,t.FieldContainers[r],u);n.Data=i}catch(e){f=this.dashboardDesigner.designerPanel;f.logError({Source:"Widget Data serialization",Error:e,Type:e.name})}},n.prototype.syncScriptErrors=function(){var n=this.dashboardDesigner.designerPanel,t=n.dbrdErrors;n.dbrdErrors=[];this.dashboardDesigner.modules.util.doAjaxPost("POST",this.dashboardDesigner.model.serviceUrl+BoldBIDashboard.Dashboard.ServiceAPI.trackerrors,{action:BoldBIDashboard.DashboardUtil.DesignerAction.TrackErrors,data:JSON.stringify(t)},{fnction:this.bbdesigner$.proxy(function(i){i===0&&(n.dbrdErrors=n.dbrdErrors.concat(t))},this)},!0)},n.prototype.validateAndAddContainer=function(n,t,i){var r=i.createDataContainer(t.FieldInfos,i);r!=null&&(r.Id=t.Id,r.Name=t.Name,r.ContainerType=t.ContainerType,BoldBIDashboard.isNullOrUndefined(t.QueryOrder)||(r.QueryOrder=t.QueryOrder),n.Containers.push(r))},n.prototype.createDataContainer=function(n){var r=new FieldContainer,t,i;if(!BoldBIDashboard.isNullOrUndefined(n)&&n.length!==0){for(t=0;t<n.length;t++)i=new FieldInfo,i.Id=n[t].Id,i.Name=n[t].Name,i.DisplayName=n[t].DisplayName,i.IsDisplayNameEdited=n[t].IsDisplayNameEdited,i.FieldType=n[t].FieldType,i.SummaryType=n[t].SummaryType,i.MeasureFormatting=n[t].MeasureFormatting||null,i.FilterInfo=n[t].FilterInfo||null,i.CustomSorting=n[t].CustomSorting||null,i.DateTimeFormat=n[t].DateTimeFormat,i.IsKPIColumn=n[t].IsKPIColumn||!1,i.KPIColumnInfo=n[t].KPIColumnInfo||null,i.UniqueColumnName=n[t].UniqueColumnName,i.IsExpression=n[t].IsExpression,i.IsAggregatedExpression=n[t].IsAggregatedExpression,i.Sorting=n[t].Sorting,i.FieldActualType=n[t].FieldActualType,i.ParentUsualId=n[t].ParentUsualId,i.ParentId=n[t].ParentId,i.IsParentField=n[t].IsParentField,i.ParentName=n[t].ParentName,i.DateBucketInfo=n[t].DateBucketInfo||null,i.IsParameterField=n[t].IsParameterField,i.ParameterMode=n[t].ParameterMode,r.FieldInfos.push(i);return r}return r},n.prototype.getFieldType=function(n){switch(n){case"Measures":return FieldType.Measures;case"Dimensions":return FieldType.Dimensions;case"DateTime":return FieldType.DateTime;case"Parameter":return FieldType.Parameters;default:return FieldType.Measures}},n.getSummaryType=function(n){switch(n){case SummaryType.SUM:return SummaryType[SummaryType.SUM];case SummaryType.COUNT:return SummaryType[SummaryType.COUNT];case SummaryType.COUNTD:return SummaryType[SummaryType.COUNTD];case SummaryType.AVG:return SummaryType[SummaryType.AVG];case SummaryType.MAX:return SummaryType[SummaryType.MAX];case SummaryType.MIN:return SummaryType[SummaryType.MIN];case SummaryType.VAR:return SummaryType[SummaryType.VAR];case SummaryType.STDEV:return SummaryType[SummaryType.STDEV];case SummaryType.NONE:return SummaryType[SummaryType.NONE];default:return SummaryType[SummaryType.NONE]}},n.getDataValueFormat=function(n){switch(n){case 2:return"Currency";case 3:return"Percentage";case 0:case 1:return"Number";default:return"Number"}},n.getNegativeValueFormats=function(n){switch(n){case 1:return"NoNegativeSignWithBracket";case 2:return"NegativeSignInSuffix";case 0:return"Default";default:return"Default"}},n.getNumberFormat=function(n){switch(n){case 1:return"Ones";case 2:return"Thousands";case 3:return"Millions";case 4:return"Billions";case 5:return"Lakhs";case 6:return"Crores";case 0:return"Auto";default:return"Auto"}},n.getDisplayType=function(n){switch(n){case 0:return DisplayType.Value;case 1:return DisplayType.Bar;case 2:return DisplayType.ConditionalFormatting;default:return DisplayType.Value}},n}();BoldBIDashboard.createObject("BoldBIDashboard.DashboardDesignerUtility.Serialization",InternalSerializationHelper,window);InternalReportUtil=function(){function n(n,t,i){i===void 0&&(i=!1);this.clientId="";this.locale=null;this.ejInstance=n;i||(this.dashboardDesigner=n,this.locale=this.dashboardDesigner.getLocalizationContent());this.clientId=t||null;BoldBIDashboard.isNullOrUndefined(this.dashboardDesigner)||this.dashboardDesigner.model.IsProxy||BoldBIDashboard.DashboardUtil.IsStringNullorWhiteSpace(this.dashboardDesigner.model.dashboardPath)&&this.InitializeClient(t);BoldBIDashboard.isNullOrUndefined(this.dashboardDesigner)||BoldBIDashboard.isNullOrUndefined(this.dashboardDesigner.model)||BoldBIDashboard.isNullOrUndefined(this.dashboardDesigner.model.localeSettings)||BoldBIDashboard.isNullOrUndefined(this.dashboardDesigner.model.localeSettings.culture)||this.getAutoCultureDisplayName(this.dashboardDesigner.model.localeSettings.culture)}return n.prototype.getAutoCultureDisplayName=function(n){var i,t;if(n.length>0)for(i=BoldBIDashboard.DashboardUtil.getCultures(),t=0;t<i.length;t++)if(n.toLowerCase()===i[t].Name.toLowerCase()){BoldBIDashboard.DashboardUtil.autoformatdisplayText="Auto ("+i[t].DisplayName+")";break}},n.prototype.getSourceData=function(n,t,i,r,u){var c,l,a,s,o,f,e,v;if(i===void 0&&(i=!1),r===void 0&&(r=!1),u===void 0&&(u=!1),c=[],a=this.dashboardDesigner.widgetHelper.getCurrentWidgetInstance(),BoldBIDashboard.isNullOrUndefined(a)||(u=a.Type==="NumberCard"||a.Type==="KPICard"),l=u?n.FieldContainers:n.FieldContainers.filter(function(n){return n.Name!=="Tooltip"}),!BoldBIDashboard.isNullOrUndefined(l)&&l.length>0)for(s=l,o=0;o<s.length;o++)if(s[o].Name.toLowerCase()!=="hiddencolumn"||r)for(f=0;f<s[o].FieldInfos.length;f++)if(e=s[o].FieldInfos,v=i?i:this.isDuplicate(c,e[f].Name)?!1:!0,v&&(!t||e[f].FieldType===FieldType.Dimensions)){var y=e[f].SummaryType,p=e[f].DateTimeFormat,h=p!==DateTimeFormat.None?p:y!==SummaryType.NONE?y:"",w=e[f].Name+(h!==""?"("+h+")":""),b=h+(h.length>1?"(":"")+e[f].Name+(h.length>1?")":"");c.push({Name:w,Value:b,Id:e[f].UniqueColumnName,FieldName:e[f].Name,ValueInfoId:s[o].Name,CanUseInLinking:s[o].canUseInLinking})}return c},n.prototype.hideLoadingIndicator=function(n){this.dashboardDesigner.designerPanel.hideLoadingIndicator(n);n.removeAttr("data-prevent-loading-indicator");n.hasClass("bbi-dbrd-control-container")&&(n.find(".bbi-loader-background").is(":visible")||n.parents(".bbi-container-widget").length>0)&&n.find(".bbi-loader-background").remove()},n.getConfiguredColumns=function(n){var i=[],t;if(!BoldBIDashboard.isNullOrUndefined(n.FieldContainers))for(t=0;t<n.FieldContainers.length;t++)n.FieldContainers[t].FieldInfos.length>0&&i.push(n.FieldContainers[t].FieldInfos);return i},n.prototype.isDuplicate=function(n,t){for(var i=0;i<n.length;i++)if(n[i].Name===t)return!0;return!1},n.prototype.addhttp=function(n){return/^(f|ht)tps?:\/\//i.test(n)||(n="http://"+n),n},n.prototype.getColumnNameByUniqueColumnName=function(n,t){var e=t,o=this.dashboardDesigner.modules.masterSlaveFilter,i=BoldBIDashboard.Dashboard.WidgetHelper.getWidgetInstance(o.GetWidgetElementByReportName(n)),r,u,f;if(!BoldBIDashboard.isNullOrUndefined(i.DataGroupInfo)&&!BoldBIDashboard.isNullOrUndefined(i.DataGroupInfo.FieldContainers)&&!i.isDefaultDataWidget())for(r=0;r<i.DataGroupInfo.FieldContainers.length;r++)if(!BoldBIDashboard.isNullOrUndefined(i.DataGroupInfo.FieldContainers[r].FieldInfos))for(u=0;u<i.DataGroupInfo.FieldContainers[r].FieldInfos.length;u++)if(f=i.DataGroupInfo.FieldContainers[r].FieldInfos[u].UniqueColumnName,t.toLowerCase()===f.toLowerCase())return i.DataGroupInfo.FieldContainers[r].FieldInfos[u].Name;return e},n.prototype.resetUrlLink=function(n){n.UrlLink.EnableLink=!1;n.UrlLink.ColumnUrlDetails=[];n.UrlLink.PassingParameters=[];n.UrlLink.UrlPath="";n.UrlLink.LinkType=LinkType.Url;n.UrlLink.GridUrlType=UrlLinkType.Row},Object.defineProperty(n,"MouseEvent",{get:function(){return BoldBIDashboard.isNullOrUndefined(this.eventAction)&&(this.eventAction={mouseDown:"mousedown touchstart",mouseUp:"mouseup touchend",mouseMove:"mousemove touchmove",mouseOver:"mouseover",mouseLeave:"mouseleave touchleave"}),this.eventAction},enumerable:!0,configurable:!0}),Object.defineProperty(n,"DesignerAction",{get:function(){return BoldBIDashboard.isNullOrUndefined(this.designerAction)&&(this.designerAction={openReport:"OpenReport",testConnection:"TestConnection",dataBases:"DataBases",serverInstance:"ServerInstance",databaseSchema:"databaseSchema",executeQuery:"executeQuery",querySchema:"querySchema",openServerReport:"openServerReport",saveServerReport:"saveServerReport",createServerReport:"createServerReport",dataBaseLoad:"DataBaseLoad",rsGenerateToken:"RSGenerateToken",dataSourceCatalog:"DataSourceCatalog",sharedDataSource:"SharedDataSource",dataSetCatalog:"DataSetCatalog",categoryCatalog:"CategoryCatalog",sharedDataSet:"SharedDataSet",loadODBCDrivers:"LoadODBCDrivers",getOBDCDriver:"GetODBCDriver",GetDsnName:"GetDsnName",previewReport:"PreviewReport",reportParameters:"ReportParameters",fetchData:"FetchData",codeView:"CodeView",cancelDataSetEdit:"CancelDataSetEdit",getData:"GetData",editDataSet:"EditDataSet",masterSlaveFilter:"MasterSlaveFilter",addNewTable:"AddNewTable",initialFilterAction:"InitialFilterAction",columnFormatting:"ColumnFormatting",deleteDataSet:"DeleteDataSet",editJoin:"EditJoin",refreshsettings:"refreshsettings",switchtoDesignView:"SwitchtoDesignView",editDataSetName:"EditDataSetName",getTableFields:"GetTableFields",cancelJoin:"CancelJoin",getColumnData:"GetColumnData",getDateRange:"GetDateRange",ReconnectDatabase:"ReconnectDatabase",RetainSchema:"RetainSchema",GetChildList:"GetChildList",getColumnValues:"GetColumnValues",GetMinMax:"GetMinMax",CustomHierarchyAction:"CustomHierarchyAction",removeChildHierarchyFields:"RemoveChildHierarchyFields",renameCustomHierarchyFields:"RenameCustomHierarchyFields",fetchWidgetData:"FetchWidgetData",exportAsExcel:"ExportAsExcel",exportAsCsv:"ExportAsCsv",getRowCount:"GetRowCount",FetchDatabaseAction:"FetchDatabaseAction",ConnectAndReconnectAction:"ConnectAndReconnectAction",DataDesignViewAction:"DataDesignViewAction",CodeViewAction:"CodeViewAction",FilterAction:"FilterAction",WidgetAction:"WidgetAction",DataSetAction:"DataSetAction",getLabelParameterData:"GetLabelParameterData",validateTableJoiner:"ValidateTableJoiner",ParameterAction:"ParameterAction",GetUrlParameterEncryptionText:"GetUrlParameterEncryptionText",SaveParameter:"SaveParameter",GetParameterRangeValue:"GetParameterRangeValue",UpdateParameter:"UpdateParameter",DeleteParameter:"DeleteParameter",designCanvasSettings:"DesignCanvasSettings",updatePreviewData:"UpdatePreviewData",getCubeList:"GetCubeList",prepareDataSources:"PrepareDataSources",refreshGoogleBigQueryAccessToken:"RefreshGoogleBigQueryAccessToken",databaseSchemaLazyLoad:"DatabaseSchemaLazyLoad",ValidateDynamicParameter:"ValidateDynamicParameter",ListDatasourceAction:"ListDatasourceAction",DataPreviewAction:"DataPreviewAction",GetDatasourceList:"GetDatasourceList",GetPreviewData:"GetPreviewData",GetDataColumnDisplayText:"GetDataColumnDisplayText",ValidateDateFormat:"ValidateDateFormat",ColumnMappingAction:"ColumnMappingAction",GetRegionInfo:"GetRegionInfo",ViewTableSchema:"ViewTableSchema",GetDataLimit:"GetDataLimit",GetDataCache:"GetDataCache",DataSampleCheck:"DataSampleCheck",MoveLiveWebConnectionData:"MoveLiveWebConnectionData",RemoveLiveWebconnectionData:"RemoveLiveWebConnectionData",GetParameterForFormattingText:"GetParameterForFormattingText",DataCacheAction:"DataCacheAction",PublishMergeDatasource:"PublishMergeDatasource",FetchImage:"FetchImage",CreateCatogory:"CreateCatogory",DataAlertModel:"DataAlertModel",GetExpressionColumnInfo:"GetExpressionColumnInfo",SaveDatasource:"SaveDatasource",DroppedWidget:"DroppedWidget",ValidateDynamicConnection:"ValidateDynamicConnection",ExportAsPdf:"ExportAsPdf",ExportAsImage:"ExportAsImage",SharedDashboard:"SharedDashboard",SharedWidget:"SharedWidget",NotifyPropertyChange:"NotifyPropertyChange",ExtractDesignerAction:"ExtractDesignerAction",TrackErrors:"TrackErrors",LoadCustomConnector:"LoadCustomConnector",Datasource:"Datasource",ImportDatasources:"ImportDatasources",CheckDraft:"CheckDraft",PreviewFeatures:"PreviewFeatures",GetLocalizationFormat:"GetLocalizationFormat",GetAllDashboardThemes:"GetAllDashboardThemes",GetSelectedDashboardTheme:"GetSelectedDashboardTheme",SaveToServer:"SaveToServer",ExportSettings:"ExportSettings",Initialize:"Initialize",AddActivityLog:"AddActivityLog",ViewData:"ViewData",GetNewGuid:"GetNewGuid",SaveUserFilter:"SaveUserFilter",FetchAccountInfo:"FetchAccountInfo",GetUsersAndGroups:"GetUsersAndGroups",GetDashboardResource:"GetDashboardResource",DeleteImage:"DeleteImage",GetCustomWidgets:"GetCustomWidgets",GetConnectionInfo:"GetConnectionInfo",SaveConnectionInfo:"SaveConnectionInfo",DeleteCustomConnector:"DeleteCustomConnector",EditCustomConnector:"EditCustomConnector",SaveCustomConnector:"SaveCustomConnector"}),this.designerAction},enumerable:!0,configurable:!0}),n.getPixelVal=function(n){var i=n.substr(n.length-2,2),t=n.substr(0,n.length-2);switch(i.toLowerCase()){case"in":return parseFloat(t)*96;case"pt":return parseFloat(t)*96/72;case"cm":return parseFloat(t)*96/2.54;case"mm":return parseFloat(t)*96/25.4;case"pc":return parseFloat(t)*16}return parseFloat(t)},n.destroyEjToolbarObject=function(n){var i=n.find(".bbi-designer-toolbarcontainer"),t=i.data("BoldBIDashboardToolbar");BoldBIDashboard.isNullOrUndefined(t)||t.destroy()},n.destroyEjObjects=function(n,t){for(var u,i,r,e=t?BoldBIDashboardDesigner.bbdesignerstatic$(n):BoldBIDashboardDesigner.bbdesignerstatic$(n).find(".e-js"),f=0;f<e.length;f++)if(u=e.eq(f).data(),e.eq(f).children().length>0&&this.destroyEjObjects(e.eq(f)),i=u.ejWidgets,i&&i.length)for(r=i.length-1;r>=0;r--)u[i[r]]&&u[i[r]].destroy&&u[i[r]].destroy()},n.refreshIndicator=function(n){var t=n.find(".e-waitingpopup.e-js");t.each(function(n,t){var i=BoldBIDashboardDesigner.bbdesignerstatic$(t).data("BoldBIDashboardWaitingPopup");i&&i.model.showOnInit&&i.refresh()})},n.prototype.updateAction=function(n,t,i){var f=this.dashboardDesigner.modules.propertyPanel,e=this.dashboardDesigner.designerPanel;if(e.selectedReportItems.length>0){var r=this.dashboardDesigner.widgetHelper.getCurrentWidgetInstance(),o=f.getPropertyElement(r.getPropertyPanelItems(),t,i,-1),u=this.dashboardDesigner.bbdesigner$.extend(!0,{},o);u.categoryName=i;r.urlLinkingAction(null,n+"_"+i,u)}},n.prototype.getHyperlinkUrl=function(n,t,i,r){var e,o,s,u,f;if(t=String(t),r&&(e=new RegExp(/&/g),BoldBIDashboard.isNullOrUndefined(t.match(e))||(t=t.replace(e,"~&~")),o=new RegExp(/,/g),BoldBIDashboard.isNullOrUndefined(t.match(o))||(t=t.replace(o,"~,~"))),s=new RegExp(/{{:(.*?)}}/igm),u=n.match(s),!BoldBIDashboard.isNullOrUndefined(u))for(f=0;f<u.length;f++)if(u[f].indexOf(i)!==-1&&!BoldBIDashboard.isNullOrUndefined(t)){n=n.replaceAll(u[f],t);break}return n},n.prototype.loadNavigation=function(n,t){var i=JSON.parse(JSON.stringify(n)),u=i.url,f=i.urlLinkInfo,e=f.TargetTypeInfo,r,s,h,c,l,o,a,v;if(!BoldBIDashboard.isNullOrUndefined(this.dashboardDesigner.model.dashboardSettings)&&this.dashboardDesigner.model.dashboardSettings.isMultiTab&&(r=[],u.indexOf("?")!==-1&&(r=u.split("?"),r[1].indexOf("&&")!==-1?r=r[1].split("&&"):r[1].indexOf("&")!==-1?r=r[1].split("&"):r.splice(0,1),r[0].indexOf("showmydashboards")!==-1&&r.splice(0,1)),r.length>0)){for(s=[],h=0;h<r.length;h++)s.push(r[h].replace("{{:","").replace("}}",""));n.parameterDetails.forEach(function(n){for(var t,r=0;r<s.length;r++)t=[],t=s[r].split("="),t[1].indexOf(n.parameter)!==-1&&(i.urlParameter=r===0?t[0]+"="+t[1].replace(n.parameter,n.value):i.urlParameter+"&"+t[0]+"="+t[1].replace(n.parameter,n.value))})}if(this.dashboardDesigner.model.mode===BoldBIDashboard.Designer.mode.view){c={targetInfo:e};l=this.dashboardDesigner._trigger("beforeNavigateUrlLinking",{linkInfo:i,option:c,widgetId:t.widgetId,widgetName:t.widgetName});e=c.targetInfo;u=i.url;switch(e){case"_popup":i.urlLinkInfo.Title=BoldBIDashboard.isNullOrUndefined(i.urlLinkInfo.Title)?"":i.urlLinkInfo.Title;break;case"_newwindow":i.urlLinkInfo.Height=i.urlLinkInfo.Height===0?500:i.urlLinkInfo.Height;i.urlLinkInfo.Width=i.urlLinkInfo.Width===0?500:i.urlLinkInfo.Width}if(l)return}for(f=i.urlLinkInfo,o=0;o<n.parameterDetails.length;o++)u=this.getHyperlinkUrl(u,n.parameterDetails[o].value,n.parameterDetails[o].parameter,f.EscapeSpecialCharacter);!BoldBIDashboard.isNullOrUndefined(i.urlLinkInfo.EnableParameterEncryption)&&i.urlLinkInfo.EnableParameterEncryption?(a=u.substring(u.indexOf("?")+1),v=u.substring(0,u.indexOf("?")),this.doAjaxPost("POST",this.dashboardDesigner.model.serviceUrl+BoldBIDashboard.Dashboard.ServiceAPI.processdata,{action:BoldBIDashboard.DashboardUtil.DesignerAction.GetUrlParameterEncryptionText,data:JSON.stringify({className:BoldBIDashboard.DashboardUtil.DesignerAction.DataDesignViewAction,designerAction:BoldBIDashboard.DashboardUtil.DesignerAction.GetUrlParameterEncryptionText,filterParameters:a})},{fnction:this.dashboardDesigner.bbdesigner$.proxy(this.getEncryptedUrl,this,v,f,e)})):this.renderLink(u,f,e)},n.prototype.getEncryptedUrl=function(n,t,i,r){n=!BoldBIDashboard.isNullOrUndefined(r)&&!BoldBIDashboard.isNullOrUndefined(r.data)?n+"?LinkParameter="+r.data:n;this.renderLink(n,t,i)},n.prototype.renderLink=function(n,t,i){t.TargetTypeInfo!=="_popup"&&t.TargetTypeInfo!=="_newwindow"?window.open(this.addhttp(n),i):t.TargetTypeInfo==="_popup"?this.renderPopupDialog(n,t.Title):this.renderWindow(n,t.Height,t.Width)},n.prototype.renderPopupDialog=function(n,t){var i,r;BoldBIDashboard.isNullOrUndefined(i)?(r=BoldBIDashboard.buildTag("div","",{},{id:this.dashboardDesigner._id+"_viewurl_content"}),i=BoldBIDashboard.buildTag("iframe","",{border:"0",height:"400px",width:"700px"},{id:this.dashboardDesigner._id+"_iframe",src:n}),r.append(i),this.dashboardDesigner.element.append(i),i.BoldBIDashboardDialog({width:this.dashboardDesigner.element.width()-200,height:this.dashboardDesigner.element.height()-100,minWidth:400,minHeight:235,enableResize:!1,showOnInit:!1,enableModal:!0,showFooter:!1,allowDraggable:!1,containment:"#"+this.dashboardDesigner._id,target:"#"+this.dashboardDesigner._id,cssClass:"boldbi-dashboarddesigner bbi-designer-dialog e-flat-mode bbi-viewdata-dialog",closeOnEscape:!0,title:t,closeIconTooltip:this.locale.dialogOptions.closeButtonText}),i.data("BoldBIDashboardDialog").open()):(i.attr("src",n),i.data("BoldBIDashboardDialog").open())},n.prototype.renderWindow=function(n,t,i){var r=window.open(n,"UrlLinking","width="+i+", height = "+t+", scrollbars = yes")},n.prototype.getJsonData=function(n){var t,i;return(this.dashboardDesigner.model.mode===BoldBIDashboard.Designer.mode.view||this.dashboardDesigner.model.mode===BoldBIDashboard.Designer.mode.design||this.dashboardDesigner.model.mode===BoldBIDashboard.Designer.mode.datasource||this.dashboardDesigner.model.mode===BoldBIDashboard.Designer.mode.designpreview)&&(t=this.dashboardDesigner.modules.dynamicParameterPanel.getParameterCollection(),!BoldBIDashboard.isNullOrUndefined(t)&&t.length>0&&!BoldBIDashboard.isNullOrUndefined(n)&&n.length>0&&(i=JSON.parse(n),i.paramCollection=t,n=JSON.stringify(i))),n},n.prototype.doAjaxPost=function(n,t,i,r,u,f,e,o){var s=this,h,c,l,v,a;return u===void 0&&(u=!1),f===void 0&&(f=!1),o===void 0&&(o=!0),BoldBIDashboard.isNullOrUndefined(this.dashboardDesigner.model.dashboardFromData)||!this.dashboardDesigner.model.dashboardFromData.loadFromData?(c=this.ejInstance,l={headers:[],data:null,serviceAuthorizationToken:c.model.serviceAuthorizationToken,actionType:i.action},c.triggerEvents("ajaxBeforeLoad",l),!BoldBIDashboard.isNullOrUndefined(l.cancel)&&l.cancel)?void 0:(l.data&&(v="customData",a=jQuery.parseJSON(i.data),a[v]=l.data,i.data=JSON.stringify(a)),this.dashboardDesigner.bbdesigner$.ajax({type:n,url:t,async:o,crossDomain:!0,contentType:"application/json; charset=utf-8",dataType:"json",data:this.getJsonData(i.data),beforeSend:this.dashboardDesigner.bbdesigner$.proxy(this.beforeSend,this,r,l,this.dashboardDesigner),success:function(n,t,o){(BoldBIDashboard.isNullOrUndefined(s.clientId)||s.clientId==="")&&o.getResponseHeader("ClientID")!==null&&(s.clientId=o.getResponseHeader("ClientID"));h=n;n&&!BoldBIDashboard.isNullOrUndefined(n.Data)&&(h=n.Data);var a="";BoldBIDashboard.isNullOrUndefined(h)||BoldBIDashboard.isNullOrUndefined(h.Request)||(a=h.Request);r&&(r.indicator&&r.indicator.length>0&&(typeof r.indicator[1]=="string"&&typeof r.instance=="object"?BoldBIDashboard.DashboardUtil.invokeMethod(r.instance,r.indicator[1]):BoldBIDashboard.DashboardUtil.invokeCallBack(r.indicator[1],{})),n.HasError&&n.IsCodeView&&!u?s.alertDialog(s.locale.alertDialogTitle.InvalidQueryStatement,s.locale.errorMessage.dataFetchingError,IconType.errors,AlertType.Alert,!0,n.Message):h&&h.isDataHigh&&!BoldBIDashboard.isNullOrUndefined(e)?s.alertDialog(s.locale.alertDialogTitle.dashboardDesigner,s.locale.alertWindowMesages.highDataUsageMessage,IconType.question,AlertType.Confirm,!1,"",{method:"largeDataWarnAction",instance:s,dataInfo:e},!0):h&&h.Error&&a!==AjaxRequest.Widget&&!u?(i.action===BoldBIDashboard.DashboardUtil.DesignerAction.fetchWidgetData&&BoldBIDashboard.DashboardUtil.buttonEnable(s.dashboardDesigner.element.find(".close-preview"),!0),s.alertDialog(s.locale.alertDialogTitle.dashboardDesigner,s.locale.errorMessage.dataFetchingError,IconType.errors,AlertType.Alert,!0,h.StatusMessage)):n&&n.Status===!1&&!u?n.IsOldReport||n.IsMultiTabbed?s.alertDialog(s.locale.alertDialogTitle.dashboardDesigner,n.Message,IconType.warning,AlertType.Alert,!1,""):s.alertDialog(s.locale.alertDialogTitle.dashboardDesigner,s.locale.errorMessage.dataFetchingError,IconType.errors,AlertType.Alert,!0,n.Message):r.instance&&r.method?BoldBIDashboard.DashboardUtil.invokeMethod(r.instance,r.method,[f?n:h]):r.fnction&&(BoldBIDashboard.DashboardUtil.invokeCallBack(r.fnction,f?n:h),BoldBIDashboard.isNullOrUndefined(c.cacheManager)||BoldBIDashboard.isNullOrUndefined(c.model)||c.cacheManager.processResponse(r,h,n,i,c.model.mode,f,e)));BoldBIDashboard.isNullOrUndefined(c.model)||c.triggerEvents("ajaxSuccess",l)},error:function(n,t,i){r&&r.indicator&&r.indicator.length>0&&(typeof r.indicator[1]=="string"&&typeof r.instance=="object"?BoldBIDashboard.DashboardUtil.invokeMethod(r.instance,r.indicator[1]):BoldBIDashboard.DashboardUtil.invokeCallBack(r.indicator[1],{}));u||i==="abort"||(n.status===401&&n.statusText.startsWith("/10000/")?s.alertDialog(s.locale.alertDialogTitle.AccessDenied,s.locale.errorMessage.AccessDeniedText,IconType.errors,AlertType.Alert,!0,n.statusText.replace("/10000/","")):n.status===401?s.alertDialog(s.locale.alertDialogTitle.InvalidSession,s.locale.errorMessage.authenticationFailed,IconType.errors,AlertType.Alert,!0,s.locale.errorMessage.invalidSession):n.readyState!==0||n.responseText?s.alertDialog(s.locale.alertDialogTitle.dashboardDesigner,s.locale.errorMessage.dataFetchingError,IconType.errors,AlertType.Alert,!0,n.responseText):s.alertDialog(s.locale.alertDialogTitle.dashboardDesigner,s.locale.errorMessage.connectionRefused,IconType.errors,AlertType.Alert,!1,""));r.errfnction&&BoldBIDashboard.DashboardUtil.invokeCallBack(r.errfnction,n);c.triggerEvents("ajaxError",l)},complete:function(n){(BoldBIDashboard.isNullOrUndefined(s.clientId)||s.clientId==="")&&n.getResponseHeader("ClientID")!==null&&(s.clientId=n.getResponseHeader("ClientID"));r&&r.completefnction&&BoldBIDashboard.DashboardUtil.invokeCallBack(r.completefnction,e)}})):void 0},n.prototype.largeDataWarnAction=function(n,t,i){var h=this.dashboardDesigner.modules.dataConfiguration,u,f,e,c,r;if(n){var o=this.dashboardDesigner.widgetHelper.getCurrentWidgetInstance(),s=[],l={};for(u=0;u<o.DataGroupInfo.FieldContainers.length;u++)if(o.DataGroupInfo.FieldContainers[u].RestrictLargeData){s=o.DataGroupInfo.FieldContainers[u].FieldInfos;break}for(f=0;f<s.length;f++)if(s[f].UniqueColumnName===t.UniqueColumnName){l={grpInfo:s[f],item:t};break}e=l.grpInfo;c=!BoldBIDashboard.isNullOrUndefined(e)&&!BoldBIDashboard.isNullOrUndefined(e.FilterInfo)?e.FilterInfo.DimensionFilterInfo:null;this.dashboardDesigner.modules.dimensionFilter.openDimensionFilterWindow(new BoldBIDashboard.Dashboard.FieldMenuHandler(this.dashboardDesigner),"dimensionFilterAction",e,c,o,!0)}else n||BoldBIDashboard.isNullOrUndefined(i)||!i?(BoldBIDashboard.DashboardUtil.invokeMethod(h,"postDraggedFields",[]),r=this.dashboardDesigner.element.find("#"+this.dashboardDesigner._id+"_designer_alert").data("BoldBIDashboardDialog"),r&&r.close()):(BoldBIDashboard.DashboardUtil.invokeMethod(h,"removeItem",[t,!1,!0]),r=this.dashboardDesigner.element.find("#"+this.dashboardDesigner._id+"_designer_alert").data("BoldBIDashboardDialog"),r&&r.close())},n.prototype.beforeSend=function(n,t,i,r){if(BoldBIDashboard.isNullOrUndefined(i.model.dashboardPath)||i.model.dashboardPath.trim()===""||r.setRequestHeader("DashboardPath",i.model.dashboardPath),BoldBIDashboard.isNullOrUndefined(this.clientId)||this.clientId===""||r.setRequestHeader("ClientID",this.clientId),BoldBIDashboard.isNullOrUndefined(i.model.localeSettings)||r.setRequestHeader("LocaleSettings",JSON.stringify(i.model.localeSettings)),BoldBIDashboard.isNullOrUndefined(i.model.serverUrl)||i.model.serverUrl.trim()===""||r.setRequestHeader("Caller",i.model.serverUrl),BoldBIDashboard.isNullOrUndefined(i.model.serviceAuthorizationToken)||i.model.serviceAuthorizationToken.trim()===""||r.setRequestHeader("Authorization",i.model.serviceAuthorizationToken),BoldBIDashboard.isNullOrUndefined(i.urlParameter)||r.setRequestHeader("UrlParameter",encodeURI(i.urlParameter)),BoldBIDashboard.isNullOrUndefined(i.impersonateAccount)||r.setRequestHeader("Impersonate-account",JSON.stringify(i.impersonateAccount)),i.isViewMode()&&i.getCustomIdentity()!==null&&r.setRequestHeader("customIdentity",i.getCustomIdentity()),BoldBIDashboard.isNullOrUndefined(i.model.IsEmbed)||r.setRequestHeader("isembed",String(i.model.IsEmbed)),r.setRequestHeader("Mode",BoldBIDashboard.Designer.mode[i.model.mode]),BoldBIDashboard.isNullOrUndefined(i.model.dashboardPath)||i.model.dashboardPath.trim()===""||r.setRequestHeader("DashboardPath",i.model.dashboardPath),r.setRequestHeader("IsPublic",String(i.model._isPublic)),r.setRequestHeader("IsPinWidget",String(i.model.isPinWidget)),i.model.isPinWidget&&r.setRequestHeader("WidgetId",i.model.widgetId),n&&n.indicator&&n.indicator.length>0&&(typeof n.indicator[0]=="string"&&typeof n.instance=="object"?BoldBIDashboard.DashboardUtil.invokeMethod(n.instance,n.indicator[0]):BoldBIDashboard.DashboardUtil.invokeCallBack(n.indicator[0],{})),t&&t.headers&&t.headers.length>0)for(var u=0;u<t.headers.length;u++)r.setRequestHeader(t.headers[u].Key,t.headers[u].Value);i.isViewMode()&&!BoldBIDashboard.isNullOrUndefined(i.model.dashboardSettings)&&(BoldBIDashboard.isNullOrUndefined(i.model.dashboardSettings.isMultiTab)||r.setRequestHeader("ismultitab",String(i.model.dashboardSettings.isMultiTab)),BoldBIDashboard.isNullOrUndefined(i.model.dashboardSettings.parentId)||r.setRequestHeader("parentid",i.model.dashboardSettings.parentId));BoldBIDashboard.isNullOrUndefined(this.dashboardDesigner.modules.dataConfiguration.datasourceCallerId)||this.dashboardDesigner.modules.dataConfiguration.datasourceCallerId===""||r.setRequestHeader("datasourceCallerId",this.dashboardDesigner.modules.dataConfiguration.datasourceCallerId)},n.prototype.InitializeClient=function(n){var t=this;BoldBIDashboard.isNullOrUndefined(n)||n===""?this.doAjaxPost("POST",this.dashboardDesigner.model.serviceUrl+BoldBIDashboard.Dashboard.ServiceAPI.initialize,{action:BoldBIDashboard.DashboardUtil.DesignerAction.Initialize,data:{}},{fnction:function(n){t.clientId=n.toString()}},!0):this.clientId=n},n.prototype.doPostBack=function(n,t,i){var s=this,r={headers:[],serviceAuthorizationToken:i.model.serviceAuthorizationToken},e,f,o,u;i.triggerEvents("ajaxBeforeLoad",r);e=this.dashboardDesigner.bbdesigner$("<form>").attr({action:n,method:"POST",name:"export"});f=function(n,t){s.dashboardDesigner.bbdesigner$("<input type='hidden' title='params'>").attr({id:n,name:n,value:t}).appendTo(e)};for(o in t)f(o,t[o]);if(r.headers&&r.headers.length>0)for(u=0;u<r.headers.length;u++)f(r.headers[u].Key,r.headers[u].Value);r.serviceAuthorizationToken.length>0&&f("serviceAuthorizationToken",r.serviceAuthorizationToken);e.appendTo(document.body).submit().remove()},n.prototype.showTitleTip=function(n,t){var i=this.dashboardDesigner.bbdesigner$("#"+this.ejInstance._id+"_designer_com_tooltip"),u=n.text(),r;if(i.length===0){r=BoldBIDashboard.buildTag("div.bbi-designer-bottom-tip e-tooltip-wrap e-widget e-designer-tooltip","",{},{id:this.ejInstance._id+"_designer_com_tooltip"});this.dashboardDesigner.element.append(r);var f=BoldBIDashboard.buildTag("div.e-arrowTip","",{}),o=BoldBIDashboard.buildTag("div.e-arrowTipOuter","",{}),s=BoldBIDashboard.buildTag("div.e-arrowTipInner","",{}),e=BoldBIDashboard.buildTag("div.e-tipContainer"),h=BoldBIDashboard.buildTag("div",u,{},{});f.append(o).append(s);e.append(h);r.append(e);r.append(f);i=r}i.find(".e-tipContainer>div").text(u);i.css({display:t?"block":"none",top:n.offset().top-(i.height()+20),left:n.offset().left-10})},n.prototype.tagOverTip=function(n){this.showTitleTip(this.dashboardDesigner.bbdesigner$(n.currentTarget),!0)},n.prototype.tagOutTip=function(n){this.showTitleTip(this.dashboardDesigner.bbdesigner$(n.currentTarget),!1)},n.txtWaterMark=function(n,t,i){n.val()===""&&n.val(t).addClass("bbi-designer-txtmark");n.bind("focus",BoldBIDashboardDesigner.bbdesignerstatic$.proxy(BoldBIDashboard.DashboardUtil.txtfocus,this,t));n.bind("blur",BoldBIDashboardDesigner.bbdesignerstatic$.proxy(BoldBIDashboard.DashboardUtil.txtblur,this,t));n.bind("change keyup paste",BoldBIDashboardDesigner.bbdesignerstatic$.proxy(BoldBIDashboard.DashboardUtil.txtchange,this,t,i))},n.txtfocus=function(n,t){BoldBIDashboardDesigner.bbdesignerstatic$(t.target).val()===n&&BoldBIDashboardDesigner.bbdesignerstatic$(t.target).val("").removeClass("bbi-designer-txtmark")},n.txtblur=function(n,t){BoldBIDashboardDesigner.bbdesignerstatic$(t.target).val()===""&&BoldBIDashboardDesigner.bbdesignerstatic$(t.target).val(n).addClass("bbi-designer-txtmark")},n.txtchange=function(n,t,i){!BoldBIDashboard.isNullOrUndefined(t)&&t&&BoldBIDashboardDesigner.bbdesignerstatic$(i.target).attr("type",BoldBIDashboardDesigner.bbdesignerstatic$(i.target).val().length>0?"password":"text")},n.invokeMethod=function(n,t,i){return i&&i.length>0,n[t].apply(n,i)},n.invokeCallBack=function(n,t){var i;n&&(typeof n=="function"?n(t):typeof n=="string"&&window[n]?(i=n,window[i](t)):typeof n=="string"&&this[n]&&(i=n,this[i](t)))},n.udapteBorderStyle=function(n,t,i){n&&(n.Color&&(i["border"+t+"-color"]=n.Color),n.Style&&(i["border"+t+"-style"]=n.Style),n.Width&&n.Width.size&&(i["border"+t+"-width"]=n.Width.size))},n.isGuid=function(n){return n&&n.length>0?(n[0]==="{"&&(n=n.substring(1,n.length-1)),/^(\{){0,1}[0-9a-fA-F]{8}\-[0-9a-fA-F]{4}\-[0-9a-fA-F]{4}\-[0-9a-fA-F]{4}\-[0-9a-fA-F]{12}(\}){0,1}$/gi.test(n)):!1},n.prototype.generateGuid=function(){var n="xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(n){var t=Math.random()*16|0,i=n==="x"?t:t&3|8;return i.toString(16)});return BoldBIDashboard.isNullOrUndefined(this.getWidgetInstanceByGuid(n))?n:this.generateGuid()},n.prototype.getWidgetInstanceByGuid=function(n){var r,u,i,t,f;if(!BoldBIDashboard.isNullOrUndefined(n)&&n!==""&&(r=this.dashboardDesigner,!BoldBIDashboard.isNullOrUndefined(r.designerPanel)))for(u=r.modules.Mode.designCanvas.find(".bbi-dbrditem"),i=0;i<u.length;i++)if(t=BoldBIDashboard.Dashboard.WidgetHelper.getWidgetInstance(this.dashboardDesigner.bbdesigner$(u[i])),!BoldBIDashboard.isNullOrUndefined(t)&&(f=t.getJson(),!BoldBIDashboard.isNullOrUndefined(f.UniqueId)&&BoldBIDashboard.DashboardUtil.isGuid(n)&&f.UniqueId===n||n===t.Name))return t;return null},n.isNull=function(n){return n===null},n.isEmptyString=function(n){return typeof n=="string"&&!n.trim()||n===""},n.toLowerCase=function(n){return n?n.toLowerCase?n.toLowerCase():n.toString().toLowerCase():n===0||n===!1?n.toString():""},n.contains=function(n,t,i){return i?!this.isNull(n)&&!this.isNull(t)&&this.toLowerCase(n).indexOf(this.toLowerCase(t))!==-1:!this.isNull(n)&&!this.isNull(t)&&n.toString().indexOf(t)!==-1},n.getFileName=function(n){var t=n.lastIndexOf("/");return t!==-1?n.substr(t+1):n},n.isEqualObj=function(n,t){if(n===null||n===undefined||t===null||t===undefined)return n===t;if(n.constructor!==t.constructor)return!1;if(n instanceof Function||n instanceof RegExp)return n===t;if(n===t||n.valueOf()===t.valueOf())return!0;if(Array.isArray(n)&&n.length!==t.length||n instanceof Date||!(n instanceof Object)||!(t instanceof Object))return!1;var i=Object.keys(n);return Object.keys(t).every(function(n){return i.indexOf(n)!==-1})&&i.every(function(i){return BoldBIDashboard.DashboardUtil.isEqualObj(n[i],t[i])})},n.getCacheFolder=function(n){return"../Cache/"+n+"/"},n.encryptData=function(n){return n},n.decryptData=function(n){return n},n.textWidth=function(n,t){var i=BoldBIDashboardDesigner.bbdesignerstatic$("<span>").hide().appendTo(document.body),r;return i.text(n).css("font",t),r=i.width(),i.remove(),r},n.textHeight=function(n,t){var i=BoldBIDashboardDesigner.bbdesignerstatic$("<span>").hide().appendTo(document.body),r;return i.text(n).css(t),r=i.height(),i.remove(),r},n.isExistTextWidth=function(n,t){var i=n.clone().css({display:"inline",width:"auto",visibility:"hidden"}).appendTo(document.body),r=i.width();return i.remove(),!BoldBIDashboard.isNullOrUndefined(t)&&t?r>=parseInt(n.css("max-width"),10):BoldBIDashboardDesigner.bbdesignerstatic$(n).prop("scrollWidth")>0?BoldBIDashboardDesigner.bbdesignerstatic$(n).prop("scrollWidth")>BoldBIDashboardDesigner.bbdesignerstatic$(n).prop("offsetWidth"):r>n.width()},n.parseQuery=function(n){var r=/(?:^|\W)@(\w+)(?!\w)/g,i=[],t;do t=r.exec(n),t&&i.push("@"+t[1]);while(t);return i},n.rplSpecialChar=function(n){return n.replace(/([ #$%&()*+,./:;<=>?@\[\\\]^\{|}~])/g,"_")},n.escapeSelector=function(n){var t={"&":"__amp__","<":"__lt__",">":"__gt__","\\":"__34__","'":"__39__","(":"__oparen__",")":"__cparen__","{":"__obraces__","}":"__cbraces__","[":"__obrackets__","]":"__cbrackets__","*":"__star__",$:"__dollar__","%":"__percen__","+":"__plus__",",":"__comma__",".":"__dot__"," ":"__space__",":":"__col__",";":"__semmi__","=":"__equal__","?":"__quest__","~":"__delta__","^":"__power__","#":"__hash__",'"':"__dquotes__","160":"__space__"};return n.replace(/([ #$%&()*+,./:;<=>?@\[\\\]^\{|}~\'"\s])/g,function(n){return t[n]||t[n.charCodeAt(0).toString()]})},n.getDataTypeStyle=function(n,t){var r="bbi-designer-dataset-misc",i=BoldBIDashboard.isNullOrUndefined(t)?n.DataType?n.DataType.toLowerCase():"":t.toLowerCase();return!BoldBIDashboard.isNullOrUndefined(n.IsPrimaryKey)&&n.IsPrimaryKey?r="bbi-designer-dataset-primarykey e-number":i==="datetime"||i==="smalldatetime"||i==="system.datetime"||i==="system.timespan"||i==="date"?r="bbi-designer-dataset-datetime":i==="System.Time"||i.toLowerCase()==="time"?r="bbi-designer-dataset-time":i==="tinyint"||i==="smallint"||i==="int"||i==="bigint"||i==="smallmoney"||i==="money"||i==="numeric"||i==="decimal"||i==="real"||i==="float"||i==="system.double"||i==="system.single"||i==="system.decimal"||i==="system.byte"||i==="system.int16"||i==="system.int32"||i==="system.int64"||i==="integer"?r="bbi-designer-dataset-number":i==="bit"||i==="system.boolean"||i==="boolean"?r="bbi-designer-dataset-boolean":i==="varchar"||i==="nvarchar"||i==="nchar"||i.indexOf("char")!==-1?r="bbi-designer-dataset-char":(i==="text"||i==="ntext"||i==="string")&&(r="bbi-designer-dataset-string"),r},n.getCurrentField=function(n,t,i){for(var r,u={},f=[],e=0;e<n.length;e++)if(n[e].Id===t){u=n[e];break}if(i){for(r=0;r<u.Fields.length;r++)u.Fields[r].IsExpression&&(u.Fields[r].TypeName==="Real"||u.Fields[r].TypeName==="Integer")&&f.push(u.Fields[r]);for(r=0;r<u.Fields.length;r++)BoldBIDashboard.isNullOrUndefined(u.Fields[r].ChildFields)?u.Query.IsCodeView&&(u.Fields[r].TypeName==="Real"||u.Fields[r].TypeName==="Integer")&&f.push(u.Fields[r]):u.Fields[r].ChildFields.filter(function(n){(n.TypeName==="Real"||n.TypeName==="Integer")&&f.push(n)})}else f=u.Fields;return f},n.getFieldUsingTableType=function(n){for(var i,r=[],t=0;t<n.length;t++)!BoldBIDashboard.isNullOrUndefined(n[t].ChildFields)&&n[t].ChildFields.length>0?n[t].ChildFields.filter(function(n){var t=n.DataType||n.TypeName;(t==="Real"||t==="Integer"||t==="String"||t==="Date")&&r.push(n)}):(n[t].IsExpression||n[t].IsParameterField)&&(i=n[t].DataType||n[t].TypeName,(i==="Real"||i==="Integer"||i==="String"||i==="Date")&&r.push(n[t]));return r},n.getDatasetTypeIcon=function(n){return n==="System.Int32"||n==="System.UInt32"||n==="System.Decimal"||n==="System.Double"||n==="System.Single"||n==="System.Int64"||n==="System.UInt64"||n==="System.Int16"||n==="System.UInt16"||n.toLowerCase()==="integer"||n.toLowerCase()==="real"?"bbi-designer-dataset-number":n==="System.String"||n.toLowerCase()==="string"?"bbi-designer-dataset-string":n==="System.Char"?"bbi-designer-dataset-char":n==="System.DateTime"||n.toLowerCase()==="date"?"bbi-designer-dataset-datetime":n==="System.Time"||n.toLowerCase()==="time"?"bbi-designer-dataset-time":n==="System.Boolean"||n.toLowerCase()==="boolean"?"bbi-designer-dataset-boolean":"bbi-designer-dataset-misc"},n.isForecastSupportedDatatype=function(n){return n.FieldActualType==="bbi-designer-dataset-number"?!0:n.FieldActualType==="bbi-designer-dataset-datetime"||n.FieldActualType==="bbi-designer-dataset-time"?n.DateTimeFormat===BoldBIDashboard.DateAndTimeFormat.Year||n.DateTimeFormat===BoldBIDashboard.DateAndTimeFormat.Day||n.DateTimeFormat===BoldBIDashboard.DateAndTimeFormat.Date||n.DateTimeFormat===BoldBIDashboard.DateAndTimeFormat.MonthYear||n.DateTimeFormat===BoldBIDashboard.DateAndTimeFormat.DayMonthYear||n.DateTimeFormat===BoldBIDashboard.DateAndTimeFormat.QuarterYear||n.DateTimeFormat===BoldBIDashboard.DateAndTimeFormat.WeekYear||n.DateTimeFormat===BoldBIDashboard.DateAndTimeFormat.MonthDayYear||n.DateTimeFormat===BoldBIDashboard.DateAndTimeFormat.DayOfWeek||n.DateTimeFormat===BoldBIDashboard.DateAndTimeFormat.WeekOfYear:!1},n.prototype.renderErrIndictor=function(n,t,i){var r=BoldBIDashboard.buildTag("span.bbi-designer-error-icon bbi-designer-errorinfo e-error-tip","",{float:"right",display:"none"},{"e-errormsg":i});n.append(r);r.bind(BoldBIDashboard.DashboardUtil.MouseEvent.mouseOver+" "+BoldBIDashboard.DashboardUtil.MouseEvent.mouseDown,this.dashboardDesigner.bbdesigner$.proxy(this.showErrTip,this,t));r.bind(BoldBIDashboard.DashboardUtil.MouseEvent.mouseLeave,this.dashboardDesigner.bbdesigner$.proxy(BoldBIDashboard.DashboardUtil.hideErrTip,this,t,this.dashboardDesigner))},n.showErrIndictor=function(n,t,i){var r=n.find(".e-error-tip");r.attr("e-errormsg",i).css("display",t?"block":"none")},n.prototype.showErrTip=function(n,t){var i,r,u,h;t.preventDefault();var e=this.dashboardDesigner.bbdesigner$(t.currentTarget),c=e.attr("e-errormsg"),f=this.dashboardDesigner.element.find("#"+n+"_error_tooltip"),o=1e3,s=e.closest(".e-dialog.e-widget");s&&s.length>0&&(o=parseInt(s.css("zIndex"),10)+1);i=this.dashboardDesigner;r=i.measureText(c,100,{size:"12",fontStyle:"Normal",fontFamily:"'Heebo', 'Roboto'"}).width+12;f.html(e.attr("e-errormsg")).css({display:"block"});u=t.pageX-(i.element.offset().left+r)>i.element.width()?t.pageX-i.element.offset().left-r<0?0:t.pageX-i.element.offset().left-r:t.pageX-(i.element.offset().left-i.element.scrollLeft());h=t.pageY-i.element.offset().top+15;f.css({top:h,left:i.element.width()-u>f.outerWidth()?u:u-f.outerWidth(),display:"block",zIndex:isNaN(o)?1e3:o,"max-width":"400px"})},n.hideErrTip=function(n,t){t.element.find("#"+n+"_error_tooltip").css("display","none")},n.prototype.renderErrorToolTip=function(n){if(this.dashboardDesigner.element.find("#"+n+"_error_tooltip").length===0){var t=BoldBIDashboard.buildTag("div.bbi-dbrd-designer-tooltip","",{display:"none"},{id:n+"_error_tooltip"}),i=BoldBIDashboard.buildTag("div.e-tipContainer"),r=BoldBIDashboard.buildTag("div","",{},{id:n+"_error_tooltip_content"});this.dashboardDesigner.element.append(t);t.append(i);i.append(r)}},n.prototype.getIcon=function(n,t,i){var r=null,e=BoldBIDashboard.buildTag("td.e-alert-icon","",{width:"45px","vertical-align":"middle"},{id:i+"_icon_cell"}),u=BoldBIDashboard.buildTag("div","",{display:"inline-block",float:"left",width:"40px",height:"40px","vertical-align":"middle","text-align":"center","line-height":"1"}),o=BoldBIDashboard.buildTag("div","",{width:"100%"},{id:i+"_icon"}),f=BoldBIDashboard.buildTag("div.bbi-designer-cursor bbi-widgeticon "+t,"",{display:"table-cell"},{id:n}),s=BoldBIDashboard.buildTag("span","",{},{"class":t,display:"inline-block","padding-bottom":"4px"});return f.append(s),r=e,r.append(u),u.append(o).append(f),r},n.prototype.loadDatasourceDescriptionSiteName=function(n){var t;return BoldBIDashboard.isNullOrUndefined(n)?null:(t=BoldBIDashboard.isNullOrUndefined(this.dashboardDesigner.model.customBrandSettings)||BoldBIDashboard.isNullOrUndefined(this.dashboardDesigner.model.customBrandSettings.customBrandName)||BoldBIDashboard.DashboardUtil.IsStringNullorWhiteSpace(this.dashboardDesigner.model.customBrandSettings.customBrandName)?BoldBIDashboard.isNullOrUndefined(window.BoldBIDashboard.Designer.settings)?"SyncfusionBoldBIDashboard":window.BoldBIDashboard.Designer.settings.siteName||"SyncfusionBoldBIDashboard":this.dashboardDesigner.model.customBrandSettings.customBrandName,n.replace("{{:siteName}}",t))},n.prototype.actionBeginEventForAlertDialogRender=function(n,t,i,r,u,f,e,o,s,h,c){var l=new AlertDialogInfo,v,a;return l.dialogType=DialogType[i],l.dialogTitle=n,l.message=t,l.showMessageDetails=u,l.detailContent=f,l.alertType=r,l.alertEventConfig=e,l.enableCancelButton=o,l.targetElementId=s,l.localeOptions=h,l.targetElement=c,v=this.dashboardDesigner._trigger("actionBegin",{eventType:"alertDialogRender",source:{data:l}}),a=new AlertDialogEventInfo,a.isCancel=v,a.alertDialogInfo=l,a},n.prototype.alertDialog=function(n,t,i,r,u,f,e,o,s,h,c,l){var a=BoldBIDashboard.isNullOrUndefined(this.dashboardDesigner)?s:this.dashboardDesigner._id,p=BoldBIDashboard.isNullOrUndefined(this.dashboardDesigner)?h:this.locale,d=BoldBIDashboard.isNullOrUndefined(this.dashboardDesigner)?c:this.dashboardDesigner.element,g=this.actionBeginEventForAlertDialogRender(n,t,i,r,u,f,e,o,a,p,d),v,y,w,b,nt,k,tt;if(!BoldBIDashboard.isNullOrUndefined(g)){if(g.isCancel)return;v=new AlertDialogInfo;v=g.alertDialogInfo;i=v.dialogType===DialogType["bbi-dashboarddesigner-error-icon"]?IconType.errors:IconType[v.dialogType];n=v.dialogTitle;t=v.message;u=v.showMessageDetails;f=v.detailContent;r=v.alertType;e=v.alertEventConfig;o=v.enableCancelButton;a=v.targetElementId;p=v.localeOptions;d=v.targetElement}y=this.dashboardDesigner.element.find("#"+a+"_designer_alert");y.length>0&&(this.dashboardDesigner.element.find("#"+a+"_designer_alert_foot button").off(),w=y.data("BoldBIDashboardDialog"),w&&w.isOpen()&&w.close());y=BoldBIDashboard.buildTag("div","",{height:"auto"},{id:a+"_designer_alert"});y.html("");d.append(y);var it=BoldBIDashboard.buildTag("div","",{height:"auto",display:"block"}),ot=BoldBIDashboard.buildTag("div","",{display:"block",width:"100%",height:"auto"},{}),st=BoldBIDashboard.buildTag("table.bbi-designer-exp-table","",{width:"100%"}),rt=BoldBIDashboard.buildTag("tr.e-designer-exp-row","",{}),ut=BoldBIDashboard.buildTag("td","",{"max-width":"310px"},{}),ht=BoldBIDashboard.buildTag("div.bbi-designer-cursor bbi-designer-error-area","",{}),ct=BoldBIDashboard.buildTag("span.bbi-designer-fontfamily",t,{"font-size":"13px"},{});if(this.alertIconType(i,rt,ut,a),y.append(it),it.append(ot),ot.append(st),st.append(rt),rt.append(ut),ut.append(ht),ht.append(ct),u&&this.alertWindowContentDetail(it,a,p),y.BoldBIDashboardDialog({enableModal:!0,enableResize:!1,showRoundedCorner:!1,cssClass:"e-fe-dialog bbi-designer-alertbox e-alertbox-dbrd-theme boldbi-dashboarddesigner",title:n,minWidth:"400",minHeight:"auto",height:"auto",width:u?"519":"400",showOnInit:!1,showFooter:!0,target:BoldBIDashboard.isNullOrUndefined(c)?"#"+a:null,containment:BoldBIDashboard.isNullOrUndefined(c)?"#"+a:null,closeOnEscape:r!==AlertType.Confirm,close:r!==AlertType.Confirm?this.dashboardDesigner.bbdesigner$.proxy(this.onFooterOkClick,this.ejInstance,e,a):this.dashboardDesigner.bbdesigner$.proxy(BoldBIDashboard.DashboardUtil.closeDialog,this),closeIconTooltip:this.locale.dialogOptions.closeButtonText}),b=this.dashboardDesigner.element.find("#"+a+"_designer_alert_foot").css("border","0px"),this.alertWindowFooter(r,a,p,b,e,o,l),u){y.find("#"+a+"_detail_content").html(f);nt=y.find("#"+a+"_alert_link_detail");k=BoldBIDashboard.buildTag("button.bbi-dbrd-btn-secondary bbi-designer-alert-cancelbtn",p.alertWindow.copyToClipboardBtnText,{float:"left",visibility:"hidden"},{id:a+"_alert_footerCopy",type:"button"});b.append(k);k.off("click",this.dashboardDesigner.bbdesigner$.proxy(this.copyDetailContent,this,a));nt.off("click",this.dashboardDesigner.bbdesigner$.proxy(this.alertShowDetails,this,a,p));k.on("click",this.dashboardDesigner.bbdesigner$.proxy(this.copyDetailContent,this,a));nt.on("click",this.dashboardDesigner.bbdesigner$.proxy(this.alertShowDetails,this,a,p))}tt=this.dashboardDesigner.element.find("#"+a+"_designer_alert_closebutton");tt.off("click",this.dashboardDesigner.bbdesigner$.proxy(this.onFooterCancelClick,this.ejInstance));tt.on("click",this.dashboardDesigner.bbdesigner$.proxy(this.onFooterCancelClick,this.ejInstance,e,a,o));var ft=y.data("BoldBIDashboardDialog"),lt=this.dashboardDesigner.element.find("#"+a+"_designer_alert_title"),at=this.dashboardDesigner.element.find("#"+a+"_designer_alert_wrapper"),et=ft.scroller;et&&(et.setModel({height:at.height()-(b.height()+lt.height())-83}),et.refresh());!BoldBIDashboard.isNullOrUndefined(this.dashboardDesigner)&&this.dashboardDesigner.isMobileLayout()&&ft.option("cssClass","e-fe-dialog bbi-designer-alertbox e-alertbox-dbrd-theme boldbi-dashboarddesigner bbi-dashboard-mobile-dialog");ft.open()},n.prototype.alertIconType=function(n,t,i,r){if(n!==""){var u=null;switch(n){case IconType.warning:u=this.getIcon(r+"_warn_icon",IconType.warning,r);break;case IconType.errors:u=this.getIcon(r+"_errors_icon",IconType.errors,r);break;case IconType.information:u=this.getIcon(r+"_information_icon",IconType.information,r);break;case IconType.success:u=this.getIcon(r+"_success_icon",IconType.success,r);break;case IconType.question:u=this.getIcon(r+"_question_icon",IconType.question,r)}t.append(u).append(i)}else t.append(i)},n.prototype.alertWindowContentDetail=function(n,t,i){var u=BoldBIDashboard.buildTag("div","",{display:"block",width:"100%",height:"100%"},{id:t+"_alert_link_div"}),f=BoldBIDashboard.buildTag("a.bbi-designer-fontfamily bbi-show-hide-err-content-link",i.alertWindow.showDetailsText,{},{href:"javascript:void(0);",color:"#0B0080",id:t+"_alert_link_detail"}),r=BoldBIDashboard.buildTag("div.bbi-dbrd-designer-scroller bbi-dbrd-control bbi-dbrd-designer-scroll-style-3","",{"word-wrap":"break-word","overflow-x":"hidden",height:"100px",width:!BoldBIDashboard.isNullOrUndefined(this.dashboardDesigner)&&this.dashboardDesigner.isMobileLayout()?"calc(100% - 10px)":"475px",margin:!BoldBIDashboard.isNullOrUndefined(this.dashboardDesigner)&&this.dashboardDesigner.isMobileLayout()?"24px 0px 0px 0px":"24px 0px 0px 5px",border:this.dashboardDesigner.isDarkTypeTheme()?"1px solid #666666":"1px solid #c8c8c8",display:"none","border-radius":"2px",position:"relative"},{id:t+"_msg_container"}),e=BoldBIDashboard.buildTag("span.bbi-designer-error-content","",{width:"100%"},{id:t+"_detail_content"});return n.append(u),u.append(f),n.append(r),r.append(e),r.BoldBIDashboardScroller({autoHide:!0,height:"100px",scrollerSize:BoldBIDashboard.isNullOrUndefined(this.dashboardDesigner)?5:this.dashboardDesigner.scrollerSize.scrollSize,buttonSize:BoldBIDashboard.isNullOrUndefined(this.dashboardDesigner)?0:this.dashboardDesigner.scrollerSize.buttonSize}),n},n.prototype.alertWindowFooter=function(n,t,i,r,u,f,e){var s,c,l,a,v;switch(n){case AlertType.Alert:s=r.find("#"+t+"_alert_footerOk");s.length===0&&(s=BoldBIDashboard.buildTag("button.bbi-dbrd-btn-primary bbi-dbrd-btn-small",i.alertWindow.okBtnText,{float:"right","margin-right":"0px"},{id:t+"_alert_footerOk",type:"button"}),r.append(s));s.off("click",this.dashboardDesigner.bbdesigner$.proxy(this.onFooterCancelClick,this.ejInstance));s.on("click",this.dashboardDesigner.bbdesigner$.proxy(this.onFooterCancelClick,this.ejInstance,u,t,!1));if(!BoldBIDashboard.isNullOrUndefined(e)&&!BoldBIDashboard.isNullOrUndefined(e.PageData)&&BoldBIDashboard.isNullOrUndefined(e.PageData.Abort)){s.hide();c=r.find("#"+t+"_alert_footerRetry");c.length===0&&(c=BoldBIDashboard.buildTag("button.bbi-dbrd-btn-primary bbi-dbrd-btn-small",i.alertWindow.retryButtonText,{float:"right","margin-right":"0px"},{id:t+"_alert_footerRetry",type:"button"}),r.append(c));c.off("click",this.dashboardDesigner.bbdesigner$.proxy(this.onFooterRetryClick,this.ejInstance));c.on("click",this.dashboardDesigner.bbdesigner$.proxy(this.onFooterRetryClick,this.ejInstance,u,t,e,"Retry"));l=r.find("#"+t+"_alert_footerContinue");l.length===0&&(l=BoldBIDashboard.buildTag("button.bbi-dbrd-btn-primary bbi-dbrd-btn-small",i.alertWindow.continueButtonText,{float:"right","margin-right":"15px"},{id:t+"_alert_footerContinue",type:"button"}),r.append(l));l.off("click",this.dashboardDesigner.bbdesigner$.proxy(this.onFooterRetryClick,this.ejInstance));l.on("click",this.dashboardDesigner.bbdesigner$.proxy(this.onFooterRetryClick,this.ejInstance,u,t,e,"Continue"));a=r.find("#"+t+"_alert_footerAbort");a.length===0&&(a=BoldBIDashboard.buildTag("button.bbi-dbrd-btn-primary bbi-dbrd-btn-small",i.alertWindow.abortButtonText,{float:"right","margin-right":"15px"},{id:t+"_alert_footerAbort",type:"button"}),r.append(a));a.off("click",this.dashboardDesigner.bbdesigner$.proxy(this.onFooterRetryClick,this.ejInstance));a.on("click",this.dashboardDesigner.bbdesigner$.proxy(this.onFooterRetryClick,this.ejInstance,u,t,e,"Abort"))}break;case AlertType.Confirm:var h=this.dashboardDesigner.element.find("#"+t+"_alert_footerYes"),o=this.dashboardDesigner.element.find("#"+t+"_alert_footerNo"),y=this.dashboardDesigner.element.find("#"+t+"_alert_footerCancel");y.length!==0||BoldBIDashboard.isNullOrUndefined(f)||(y=BoldBIDashboard.buildTag("button.bbi-dbrd-btn-secondary bbi-dbrd-btn-small",i.alertWindow.cancelBtnText,{float:"right"},{id:t+"_alert_footerCancel",type:"button"}),r.append(y));h.length===0&&o.length===0&&(h=BoldBIDashboard.buildTag("button.bbi-dbrd-btn-primary bbi-dbrd-btn-small",i.alertWindow.yesBtnText,{float:"right"},{id:t+"_alert_footerYes",type:"button"}),o=BoldBIDashboard.buildTag("button.bbi-dbrd-btn-secondary bbi-dbrd-btn-small",i.alertWindow.noBtnText,{float:"right"},{id:t+"_alert_footerNo",type:"button"}),r.append(o,h));o.text(i.alertWindow.noBtnText);h.text(i.alertWindow.yesBtnText);h.css("margin-right","10px");o.css("display","block");h.off("click",this.dashboardDesigner.bbdesigner$.proxy(this.onFooterOkClick,this.ejInstance));o.off("click",this.dashboardDesigner.bbdesigner$.proxy(this.onFooterNoClick,this.ejInstance));h.on("click",this.dashboardDesigner.bbdesigner$.proxy(this.onFooterOkClick,this.ejInstance,u,t));o.on("click",this.dashboardDesigner.bbdesigner$.proxy(this.onFooterNoClick,this.ejInstance,u,t));if(!BoldBIDashboard.isNullOrUndefined(f)){o.css("margin-right","10px");y.text(i.alertWindow.cancelBtnText).css("display","block");y.off("click",this.dashboardDesigner.bbdesigner$.proxy(this.onFooterCancelClick,this.ejInstance));y.on("click",this.dashboardDesigner.bbdesigner$.proxy(this.onFooterCancelClick,this.ejInstance,u,t,f))}break;case AlertType.Abort:v=r.find("#"+t+"_alert_footerAbortOk");v.length===0&&(v=BoldBIDashboard.buildTag("button.bbi-dbrd-btn-primary bbi-dbrd-btn-small",i.alertWindow.okBtnText,{float:"right","margin-right":"0px"},{id:t+"_alert_footerAbortOk",type:"button"}),r.append(v));v.off("click",this.dashboardDesigner.bbdesigner$.proxy(this.onFooterOkClickJira,this.ejInstance));v.on("click",this.dashboardDesigner.bbdesigner$.proxy(this.onFooterOkClickJira,this.ejInstance,u,t,!1))}return r},n.prototype.alertShowDetails=function(n,t){var i=this.dashboardDesigner.element.find("#"+n+"_msg_container"),r;i.is(":visible")?(i.css("display","none"),this.dashboardDesigner.element.find("#"+n+"_alert_link_detail").text(t.alertWindow.showDetailsText),this.dashboardDesigner.element.find("#"+n+"_alert_footerCopy").css("visibility","hidden"),r=this.dashboardDesigner.element.find("#"+n+"_designer_alert").data("BoldBIDashboardDialog"),r.setModel({Width:400})):(this.dashboardDesigner.element.find("#"+n+"_designer_alert_wrapper").children(".e-dialog-scroller").css("height","auto"),this.dashboardDesigner.element.find("#"+n+"_designer_alert").css("height","auto"),i.css("display","block"),i.data("BoldBIDashboardScroller").refresh(),this.dashboardDesigner.element.find("#"+n+"_alert_link_detail").text(t.alertWindow.hideDetailsText),this.dashboardDesigner.element.find("#"+n+"_alert_footerCopy").css("visibility","visible"))},n.prototype.copyDetailContent=function(n){BoldBIDashboard.DashboardUtil.copyToClipboard(this.dashboardDesigner.element.find("#"+n+"_detail_content"))},n.prototype.onFooterOkClick=function(n,t){var r=this,i=r.element.find("#"+t+"_designer_alert").data("BoldBIDashboardDialog");i&&i.close();n&&n.instance&&n.method&&BoldBIDashboard.DashboardUtil.invokeMethod(n.instance,n.method,[!0,n.dataInfo])},n.prototype.onFooterOkClickJira=function(n,t){var r=this,u=r.element.find("#"+t+"_designer_alert").data("BoldBIDashboardDialog"),i;u&&u.close();i=r.element.find("#"+t+"_table_selector_dialog").data("BoldBIDashboardDialog");i&&i.close()},n.prototype.onFooterNoClick=function(n,t){var r=this,i=r.element.find("#"+t+"_designer_alert").data("BoldBIDashboardDialog");i&&i.close();n&&n.instance&&n.method&&BoldBIDashboard.DashboardUtil.invokeMethod(n.instance,n.method,[!1,n.dataInfo])},n.prototype.onFooterCancelClick=function(n,t,i){var u=this,r=u.element.find("#"+t+"_designer_alert").data("BoldBIDashboardDialog");r&&r.close();n&&n.instance&&n.method&&BoldBIDashboard.DashboardUtil.invokeMethod(n.instance,n.method,[!1,n.dataInfo,i])},n.prototype.onFooterRetryClick=function(n,t,i,r){r===void 0&&(r="");var f=this,u=f.element.find("#"+t+"_designer_alert").data("BoldBIDashboardDialog");u&&u.close();BoldBIDashboard.isNullOrUndefined(i.PageData)||(i.PageData.Text=r);n&&n.instance&&n.method&&BoldBIDashboard.DashboardUtil.invokeMethod(n.instance,n.method,[n.dataInfo,i])},n.copyToClipboard=function(n){var t=BoldBIDashboardDesigner.bbdesignerstatic$("<input>");t.appendTo(document.body);t.val(n.text()).select();document.execCommand("copy",!1,null);t.remove()},n.prototype.GetPreviewFeatureValue=function(n,t){var r=null,i,u;if(!BoldBIDashboard.isNullOrUndefined(n)){for(i=0;i<n.length;i++)if(!BoldBIDashboard.isNullOrUndefined(n[i].FeatureName)&&n[i].FeatureName.toLowerCase()===t.toLowerCase()&&!BoldBIDashboard.isNullOrUndefined(n[i].Value)){r=JSON.parse(n[i].Value);BoldBIDashboard.isNullOrUndefined(r.find(function(n){return n.id==="never"}))&&(u=[],u.push({id:"never",text:"Never",value:"Never"}),r=u.concat(r));break}return r}return null},n.createDataSource=function(){return{__type:"Syncfusion.Dashboard.Web.Serialization.Model.DataSources.DataSource",Name:"",Description:"",Id:"",SiteId:"",Transaction:!1,DataSourceReference:null,SecurityType:"DataBase",ServerName:"",DynamicConnectionStringInfo:null,ConnectionProperties:{__type:"Syncfusion.Dashboard.Web.Serialization.Model.Connection.ConnectionProperties",ConnectString:"",EmbedCredentials:!1,DataProvider:"",IsDesignState:!1,IntegratedSecurity:!1,UserName:"",PassWord:"",Prompt:"",DSNName:"",Service:"",Port:"",Database:"",ServerName:"",ImportQuery:""},Permission:{CanWrite:!0},IsUsageAnalyticsDatasource:!1}},n.getColorCode=function(n){if(!BoldBIDashboard.isNullOrUndefined(n)){var t=n.toLowerCase(),i={aliceblue:"#f0f8ff",antiquewhite:"#faebd7",aqua:"#00ffff",aquamarine:"#7fffd4",azure:"#f0ffff",beige:"#f5f5dc",bisque:"#ffe4c4",black:"#000000",blanchedalmond:"#ffebcd",blue:"#0000ff",blueviolet:"#8a2be2",brown:"#a52a2a",burlywood:"#deb887",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",cornflowerblue:"#6495ed",cornsilk:"#fff8dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkgray:"#a9a9a9",darkgreen:"#006400",darkkhaki:"#bdb76b",darkmagenta:"#8b008b",darkolivegreen:"#556b2f",darkorange:"#ff8c00",darkorchid:"#9932cc",darkred:"#8b0000",darksalmon:"#e9967a",darkseagreen:"#8fbc8f",darkslateblue:"#483d8b",darkslategray:"#2f4f4f",darkturquoise:"#00ced1",darkviolet:"#9400d3",deeppink:"#ff1493",deepskyblue:"#00bfff",dimgray:"#696969",dodgerblue:"#1e90ff",firebrick:"#b22222",floralwhite:"#fffaf0",forestgreen:"#228b22",fuchsia:"#ff00ff",gainsboro:"#dcdcdc",ghostwhite:"#f8f8ff",gold:"#ffd700",goldenrod:"#daa520",gray:"#808080",green:"#008000",greenyellow:"#adff2f",honeydew:"#f0fff0",hotpink:"#ff69b4","indianred ":"#cd5c5c",indigo:"#4b0082",ivory:"#fffff0",khaki:"#f0e68c",lavender:"#e6e6fa",lavenderblush:"#fff0f5",lawngreen:"#7cfc00",lemonchiffon:"#fffacd",lightblue:"#add8e6",lightcoral:"#f08080",lightcyan:"#e0ffff",lightgoldenrodyellow:"#fafad2",lightgrey:"#d3d3d3",lightgreen:"#90ee90",lightpink:"#ffb6c1",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",lightskyblue:"#87cefa",lightslategray:"#778899",lightsteelblue:"#b0c4de",lightyellow:"#ffffe0",lime:"#00ff00",limegreen:"#32cd32",linen:"#faf0e6",magenta:"#ff00ff",maroon:"#800000",mediumaquamarine:"#66cdaa",mediumblue:"#0000cd",mediumorchid:"#ba55d3",mediumpurple:"#9370d8",mediumseagreen:"#3cb371",mediumslateblue:"#7b68ee",mediumspringgreen:"#00fa9a",mediumturquoise:"#48d1cc",mediumvioletred:"#c71585",midnightblue:"#191970",mintcream:"#f5fffa",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",navajowhite:"#ffdead",navy:"#000080",oldlace:"#fdf5e6",olive:"#808000",olivedrab:"#6b8e23",orange:"#ffa500",orangered:"#ff4500",orchid:"#da70d6",palegoldenrod:"#eee8aa",palegreen:"#98fb98",paleturquoise:"#afeeee",palevioletred:"#d87093",papayawhip:"#ffefd5",peachpuff:"#ffdab9",peru:"#cd853f",pink:"#ffc0cb",plum:"#dda0dd",powderblue:"#b0e0e6",purple:"#800080",red:"#ff0000",rosybrown:"#bc8f8f",royalblue:"#4169e1",saddlebrown:"#8b4513",salmon:"#fa8072",sandybrown:"#f4a460",seagreen:"#2e8b57",seashell:"#fff5ee",sienna:"#a0522d",silver:"#c0c0c0",skyblue:"#87ceeb",slateblue:"#6a5acd",slategray:"#708090",snow:"#fffafa",springgreen:"#00ff7f",steelblue:"#4682b4",tan:"#d2b48c",teal:"#008080",thistle:"#d8bfd8",tomato:"#ff6347",turquoise:"#40e0d0",violet:"#ee82ee",wheat:"#f5deb3",white:"#ffffff",whitesmoke:"#f5f5f5",yellow:"#ffff00",yellowgreen:"#9acd32"};if(BoldBIDashboard.isNullOrUndefined(i[t])){if(t==="transparent"||t==="#00ffffff")return""}else return i[t];return n}},n.prototype.getDialogOutput=function(n,t){if(BoldBIDashboard.isNullOrUndefined(t.eventObj.type)){if(!BoldBIDashboard.isNullOrUndefined(t.eventObj.name)&&t.eventObj.name==="nodeDragStop"){var i=this.dashboardDesigner.bbdesigner$(t.eventObj.draggedNode).data("fieldInfo"),r=new BoldBIDashboard.Dashboard.HierarchicalConfigurationView(this.dashboardDesigner);r.dragdrop(t.droppedItem,i,t.eventObj,n)}}else this.dashboardDesigner.dragDropHelper.dragStop(t.eventObj,n,t.droppedItem)},n.formattedText=function(n,t,i,r,u,f,e,o,s,h,c,l,a){var p,it,et,w,ot;if(t==="auto"&&(t=BoldBIDashboard.isNullOrUndefined(c)?a:c.model.localeSettings.culture),BoldBIDashboard.isNullOrUndefined(n)||n==="(Blanks)"||n==="null"||isNaN(n))return"";if(h==="false")return n;var v=n,y="",st=1,rt=Math.pow(10,3),k=Math.pow(10,6),d=Math.pow(10,9),ut=Math.pow(10,5),g=Math.pow(10,7);if(r!==DataValueFormat.Percentage)switch(s){case NumberFormat.Auto:(n>=rt&&n<k||n<=-rt&&n>-k)&&(v=n/rt,y="K");this.isRequiredCulture(t)&&l?n>=ut&&n<g||n<=-ut&&n>-g?(v=n/ut,y="L"):(n>=g||n<=-g)&&(v=n/g,y="Cr"):n>=k&&n<d||n<=-k&&n>-d?(v=n/k,y="M"):(n>=d||n<=-d)&&(v=n/d,y="B");break;case NumberFormat.Ones:v=n/st;break;case NumberFormat.Thousands:v=n/rt;y="K";break;case NumberFormat.Millions:v=n/k;y="M";break;case NumberFormat.Billions:v=n/d;y="B";break;case NumberFormat.Lakhs:v=n/ut;y="L";break;case NumberFormat.Crores:v=n/g;y="Cr"}else v=n/st;if(p="",h!=null){s===NumberFormat.Auto&&(i=2);switch(r){case DataValueFormat.Currency:p="C"+i;break;case DataValueFormat.Number:p="N"+i;break;case DataValueFormat.Percentage:p="P"+i;break;default:p=""}s===NumberFormat.Auto&&i!==0&&(v===0||v===parseInt(v.toString(),10)||v%i==0)&&r!==DataValueFormat.Percentage&&(p=p.replace(i,"0"))}if(it=BoldBIDashboard.globalize.format(v,p,t),r!==DataValueFormat.Percentage){var nt=void 0,b=void 0,tt=void 0,ft=void 0;BoldBIDashboard.isNullOrUndefined(u.AliasValue)?(nt=BoldBIDashboard.findCulture(t).numberFormat["."],b=BoldBIDashboard.findCulture(t).numberFormat[","],tt=u,ft=f):(nt=u.CurrentValue,b=f.CurrentValue,tt=u.AliasValue,ft=f.AliasValue);et=nt!==tt||b!==ft;nt!==null&&b!==null&&et&&(w=it.split(nt),ot=b==="."?b:new RegExp(b,"g"),w[0]=w[0].replace(ot,ft),it=w.length>1?w[0]+tt+w[1]:i!==0?w[0]+tt:w[0])}return e=e==="null"||e===null?"":BoldBIDashboard.DashboardUtil.encodeText(e),o=o==="null"||o===null?"":BoldBIDashboard.DashboardUtil.encodeText(o),e+it+y+o},n.formattedValue=function(n,t,i,r,u){var w=t.Culture,p=w,o,a,s,b;if(p!=="auto"||BoldBIDashboard.isNullOrUndefined(u)||(p=u.model.localeSettings.culture),o=t.DecimalPoints,a=t.FormatType,BoldBIDashboard.isNullOrUndefined(n)||n==="(Blanks)"||n==="null")return"";if(r==="false")return n;var f=n,e="",k=1,v=Math.pow(10,3),h=Math.pow(10,6),c=Math.pow(10,9),y=Math.pow(10,5),l=Math.pow(10,7);if(a!==DataValueFormat.Percentage)switch(i){case NumberFormat.Auto:(n>=v&&n<h||n<=-v&&n>-h)&&(f=n/v,e="K");this.isRequiredCulture(p)&&t.EnableLakhsAndCroreRep?n>=y&&n<l||n<=-y&&n>-l?(f=n/y,e="L"):(n>=l||n<=-l)&&(f=n/l,e="Cr"):n>=h&&n<c||n<=-h&&n>-c?(f=n/h,e="M"):(n>=c||n<=-c)&&(f=n/c,e="B");break;case NumberFormat.Ones:f=n/k;break;case NumberFormat.Thousands:f=n/v;e="K";break;case NumberFormat.Millions:f=n/h;e="M";break;case NumberFormat.Billions:f=n/c;e="B";break;case NumberFormat.Lakhs:f=n/y;e="L";break;case NumberFormat.Crores:f=n/l;e="Cr"}else f=n/k;if(s="",r!=null){i===NumberFormat.Auto&&(o=2);switch(a){case DataValueFormat.Currency:s="C"+o;break;case DataValueFormat.Number:s="N"+o;break;case DataValueFormat.Percentage:s="P"+o;break;default:s=""}i===NumberFormat.Auto&&o!==0&&(f===0||f===parseInt(f.toString(),10)||f%o==0)&&a!==DataValueFormat.Percentage&&(s=s.replace(o,"0"))}return b=BoldBIDashboard.globalize.format(f,s,w),{formattedText:b+e,formattedValue:f,numberFormat:e}},n.isRequiredCulture=function(n){return["en-IN","as-IN","bn-BD","bn-IN","gu-IN","hi-IN","kn-IN","kok-IN","ml-IN","mr-IN","ne-NP","or-IN","pa-IN","pa-Arab-PK","sa-IN","sd-Arab-PK","ta-IN","ur-PK"].filter(function(t){return t===n}).length>0},n.getFormattedValue=function(n,t){var i=0,r=Math.pow(10,3),u=Math.pow(10,6),f=Math.pow(10,9),e=Math.pow(10,5),o=Math.pow(10,7),s=Math.pow(10,12);switch(t){case"K":i=n/r;break;case"L":i=n/e;break;case"M":i=n/u;break;case"C":i=n/o;break;case"B":i=n/f;break;case"T":i=n/s;break;default:i=n/1}return i},n.prototype.AddActivityLog=function(n,t,i,r){var f,u;(r===void 0&&(r=null),f=this.dashboardDesigner,f.isViewMode()||this.isEnvironmentOnPremise())||(u=new ActivityLog,u.Action=BoldBIDashboard.DashboardDesignerUtility.Serialization.enumToString(ActivityLogEvents,n),u.ItemId=!BoldBIDashboard.isNullOrUndefined(r)&&r!==""?r:f.model.itemId,u.ItemSubType=BoldBIDashboard.DashboardDesignerUtility.Serialization.enumToString(ActivityLogItemSubTypes,i),u.ItemType=BoldBIDashboard.DashboardDesignerUtility.Serialization.enumToString(ActivityLogItemType,t),this.doAjaxPost("POST",f.model.serviceUrl+BoldBIDashboard.Dashboard.ServiceAPI.addActivityLog,{action:BoldBIDashboard.DashboardUtil.DesignerAction.AddActivityLog,data:JSON.stringify({activityLog:u})},{},!0))},n.getFontNames=function(){return["Andale Mono","Arial","Arial Black","Arial Narrow","Bodoni MT","Book Antiqua","Brush Script MT","Calibri","Calisto MT","Cambria","Candara","Century Gothic","Consolas","Copperplate","Courier New","Didot","Garamond","Georgia","Goudy Old Style","Helvetica","Impact","Lucida Bright","Lucida Console","Lucida Sans Typewriter","Papyrus","Perpetua","Roboto","Rockwell","Segoe UI","Tahoma","Times New Roman","Trebuchet MS","Verdana"]},n.getCultures=function(){return[{Name:"auto",DisplayName:BoldBIDashboard.DashboardUtil.autoformatdisplayText,CurrencySymbol:"#",CurrencyCode:"#"},{Name:"af-ZA",DisplayName:"Afrikaans (South Africa)",CurrencySymbol:"R",CurrencyCode:"ZAR"},{Name:"sq-AL",DisplayName:"Albanian (Albania)",CurrencySymbol:"Lek",CurrencyCode:"ALL"},{Name:"gsw-FR",DisplayName:"Alsatian (France)",CurrencySymbol:"",CurrencyCode:"EUR"},{Name:"am-ET",DisplayName:"Amharic (Ethiopia)",CurrencySymbol:"",CurrencyCode:"AMD"},{Name:"ar-AE",DisplayName:"Arabic (U.A.E.)",CurrencySymbol:"..",CurrencyCode:"AED"},{Name:"hy-AM",DisplayName:"Armenian (Armenia)",CurrencySymbol:"",CurrencyCode:"AMD"},{Name:"ar-BH",DisplayName:"Arabic (Bahrain)",CurrencySymbol:"..",CurrencyCode:"BHD"},{Name:"ar-DZ",DisplayName:"Arabic (Algeria)",CurrencySymbol:"..",CurrencyCode:"DZD"},{Name:"ar-EG",DisplayName:"Arabic (Egypt)",CurrencySymbol:"..",CurrencyCode:"EGP"},{Name:"ar-IQ",DisplayName:"Arabic (Iraq)",CurrencySymbol:"..",CurrencyCode:"IQD"},{Name:"ar-JO",DisplayName:"Arabic (Jordan)",CurrencySymbol:"..",CurrencyCode:"JOD"},{Name:"ar-KW",DisplayName:"Arabic (Kuwait)",CurrencySymbol:"..",CurrencyCode:"KWD"},{Name:"ar-LB",DisplayName:"Arabic (Lebanon)",CurrencySymbol:"..",CurrencyCode:"LBP"},{Name:"ar-LY",DisplayName:"Arabic (Libya)",CurrencySymbol:"..",CurrencyCode:"LYD"},{Name:"ar-MA",DisplayName:"Arabic (Morocco)",CurrencySymbol:"..",CurrencyCode:"MAD"},{Name:"ar-OM",DisplayName:"Arabic (Oman)",CurrencySymbol:"..",CurrencyCode:"OMR"},{Name:"ar-QA",DisplayName:"Arabic (Qatar)",CurrencySymbol:"..",CurrencyCode:"QAR"},{Name:"ar-SA",DisplayName:"Arabic (Saudi Arabia)",CurrencySymbol:"..",CurrencyCode:"SAR"},{Name:"ar-SY",DisplayName:"Arabic (Syria)",CurrencySymbol:"..",CurrencyCode:"SYP"},{Name:"ar-TN",DisplayName:"Arabic (Tunisia)",CurrencySymbol:"..",CurrencyCode:"TND"},{Name:"ar-YE",DisplayName:"Arabic (Yemen)",CurrencySymbol:"..",CurrencyCode:"YER"},{Name:"as-IN",DisplayName:"Assamese (India)",CurrencySymbol:"",CurrencyCode:"INR"},{Name:"az-Cyrl-AZ",DisplayName:"Azerbaijani (Cyrillic, Azerbaijan)",CurrencySymbol:"",CurrencyCode:"AZN"},{Name:"az-Latn-AZ",DisplayName:"Azerbaijani (Latin, Azerbaijan)",CurrencySymbol:"",CurrencyCode:"AZN"},{Name:"bn-BD",DisplayName:"Bangla (Bangladesh)",CurrencySymbol:"",CurrencyCode:"BDT"},{Name:"eu-ES",DisplayName:"Basque (Basque)",CurrencySymbol:"",CurrencyCode:"EUR"},{Name:"bn-IN",DisplayName:"Bangla (India)",CurrencySymbol:"",CurrencyCode:"INR"},{Name:"ba-RU",DisplayName:"Bashkir (Russia)",CurrencySymbol:"",CurrencyCode:"RUB"},{Name:"be-BY",DisplayName:"Belarusian (Belarus)",CurrencySymbol:"Br",CurrencyCode:"BYN"},{Name:"bs-Cyrl-BA",DisplayName:"Bosnian (Cyrillic, Bosnia and Herzegovina)",CurrencySymbol:"",CurrencyCode:"BAM"},{Name:"bs-Latn-BA",DisplayName:"Bosnian (Latin, Bosnia and Herzegovina)",CurrencySymbol:"KM",CurrencyCode:"BAM"},{Name:"br-FR",DisplayName:"Breton (France)",CurrencySymbol:"",CurrencyCode:"EUR"},{Name:"bg-BG",DisplayName:"Bulgarian (Bulgaria)",CurrencySymbol:".",CurrencyCode:"BGN"},{Name:"tzm-Tfng-MA",DisplayName:"Central Atlas Tamazight (Tifinagh, Morocco)",CurrencySymbol:"??",CurrencyCode:"MAD"},{Name:"ku-Arab-IQ",DisplayName:"Central Kurdish (Iraq)",CurrencySymbol:"..",CurrencyCode:"IQD"},{Name:"zh-TW",DisplayName:"Chinese (Traditional, Taiwan)",CurrencySymbol:"NT$",CurrencyCode:"TWD"},{Name:"zh-SG",DisplayName:"Chinese (Simplified, Singapore)",CurrencySymbol:"$",CurrencyCode:"SGD"},{Name:"zh-MO",DisplayName:"Chinese (Traditional, Macao S.A.R.)",CurrencySymbol:"MOP",CurrencyCode:"MOP"},{Name:"zh-HK",DisplayName:"Chinese (Traditional, Hong Kong S.A.R.)",CurrencySymbol:"HK$",CurrencyCode:"HKD"},{Name:"zh-Hans-HK",DisplayName:"Chinese (Simplified Han, Hong Kong SAR)",CurrencySymbol:"$",CurrencyCode:"HKD"},{Name:"zh-CN",DisplayName:"Chinese (Simplified, PRC)",CurrencySymbol:"",CurrencyCode:"CNY"},{Name:"zh-Hans-MO",DisplayName:"Chinese (Simplified Han, Macao SAR)",CurrencySymbol:"MOP$",CurrencyCode:"MOP"},{Name:"chr-Cher-US",DisplayName:"Cherokee (Cherokee)",CurrencySymbol:"$",CurrencyCode:"USD"},{Name:"co-FR",DisplayName:"Corsican (France)",CurrencySymbol:"",CurrencyCode:"EUR"},{Name:"hr-HR",DisplayName:"Croatian (Croatia)",CurrencySymbol:"kn",CurrencyCode:"HRK"},{Name:"hr-BA",DisplayName:"Croatian (Latin, Bosnia and Herzegovina)",CurrencySymbol:"KM",CurrencyCode:"BAM"},{Name:"cs-CZ",DisplayName:"Czech (Czech Republic)",CurrencySymbol:"K",CurrencyCode:"CZK"},{Name:"da-DK",DisplayName:"Danish (Denmark)",CurrencySymbol:"kr.",CurrencyCode:"DKK"},{Name:"prs-AF",DisplayName:"Dari (Afghanistan)",CurrencySymbol:"",CurrencyCode:"AFN"},{Name:"dv-MV",DisplayName:"Divehi (Maldives)",CurrencySymbol:".",CurrencyCode:"MVR"},{Name:"nl-BE",DisplayName:"Dutch (Belgium)",CurrencySymbol:"",CurrencyCode:"EUR"},{Name:"nl-NL",DisplayName:"Dutch (Netherlands)",CurrencySymbol:"",CurrencyCode:"EUR"},{Name:"en-029",DisplayName:"English (Caribbean)",CurrencySymbol:"EC$",CurrencyCode:"XCD"},{Name:"en-AU",DisplayName:"English (Australia)",CurrencySymbol:"$",CurrencyCode:"AUD"},{Name:"en-BZ",DisplayName:"English (Belize)",CurrencySymbol:"$",CurrencyCode:"BZD"},{Name:"en-CA",DisplayName:"English (Canada)",CurrencySymbol:"$",CurrencyCode:"CAD"},{Name:"en-GB",DisplayName:"English (United Kingdom)",CurrencySymbol:"",CurrencyCode:"GBP"},{Name:"en-IE",DisplayName:"English (Ireland)",CurrencySymbol:"",CurrencyCode:"EUR"},{Name:"en-IN",DisplayName:"English (India)",CurrencySymbol:"",CurrencyCode:"INR"},{Name:"en-JM",DisplayName:"English (Jamaica)",CurrencySymbol:"$",CurrencyCode:"JMD"},{Name:"en-MY",DisplayName:"English (Malaysia)",CurrencySymbol:"RM",CurrencyCode:"MYR"},{Name:"en-NZ",DisplayName:"English (New Zealand)",CurrencySymbol:"$",CurrencyCode:"NZD"},{Name:"en-PH",DisplayName:"English (Republic of the Philippines)",CurrencySymbol:"",CurrencyCode:"PHP"},{Name:"en-SG",DisplayName:"English (Singapore)",CurrencySymbol:"$",CurrencyCode:"SGD"},{Name:"en-TT",DisplayName:"English (Trinidad and Tobago)",CurrencySymbol:"$",CurrencyCode:"TTD"},{Name:"en-US",DisplayName:"English (United States)",CurrencySymbol:"$",CurrencyCode:"USD"},{Name:"en-ZA",DisplayName:"English (South Africa)",CurrencySymbol:"R",CurrencyCode:"ZAR"},{Name:"en-ZW",DisplayName:"English (Zimbabwe)",CurrencySymbol:"US$",CurrencyCode:"USD"},{Name:"et-EE",DisplayName:"Estonian (Estonia)",CurrencySymbol:"",CurrencyCode:"EUR"},{Name:"fo-FO",DisplayName:"Faroese (Faroe Islands)",CurrencySymbol:"kr",CurrencyCode:"DKK"},{Name:"fil-PH",DisplayName:"Filipino (Philippines)",CurrencySymbol:"PhP",CurrencyCode:"PHP"},{Name:"fi-FI",DisplayName:"Finnish (Finland)",CurrencySymbol:"",CurrencyCode:"EUR"},{Name:"fr-BE",DisplayName:"French (Belgium)",CurrencySymbol:"",CurrencyCode:"EUR"},{Name:"fr-CA",DisplayName:"French (Canada)",CurrencySymbol:"$",CurrencyCode:"CAD"},{Name:"fr-CH",DisplayName:"French (Switzerland)",CurrencySymbol:"CHF",CurrencyCode:"CHF"},{Name:"fr-FR",DisplayName:"French (France)",CurrencySymbol:"",CurrencyCode:"EUR"},{Name:"fr-LU",DisplayName:"French (Luxembourg)",CurrencySymbol:"",CurrencyCode:"EUR"},{Name:"fr-MC",DisplayName:"French (Monaco)",CurrencySymbol:"",CurrencyCode:"EUR"},{Name:"fy-NL",DisplayName:"Frisian (Netherlands)",CurrencySymbol:"",CurrencyCode:"EUR"},{Name:"ff-Latn-SN",DisplayName:"Fulah (Latin, Senegal)",CurrencySymbol:"CFA",CurrencyCode:"XOF"},{Name:"gl-ES",DisplayName:"Galician (Galician)",CurrencySymbol:"",CurrencyCode:"EUR"},{Name:"de-AT",DisplayName:"German (Austria)",CurrencySymbol:"",CurrencyCode:"EUR"},{Name:"de-CH",DisplayName:"German (Switzerland)",CurrencySymbol:"CHF",CurrencyCode:"CHF"},{Name:"de-DE",DisplayName:"German (Germany)",CurrencySymbol:"",CurrencyCode:"EUR"},{Name:"de-LI",DisplayName:"German (Liechtenstein)",CurrencySymbol:"CHF",CurrencyCode:"CHF"},{Name:"de-LU",DisplayName:"German (Luxembourg)",CurrencySymbol:"",CurrencyCode:"EUR"},{Name:"de-LI",DisplayName:"German (Liechtenstein)",CurrencySymbol:"CHF",CurrencyCode:"CHF"},{Name:"de-LU",DisplayName:"German (Luxembourg)",CurrencySymbol:"",CurrencyCode:"EUR"},{Name:"el-GR",DisplayName:"Greek (Greece)",CurrencySymbol:"",CurrencyCode:"EUR"},{Name:"ka-GE",DisplayName:"Georgian (Georgia)",CurrencySymbol:"",CurrencyCode:"GEL"},{Name:"kl-GL",DisplayName:"Greenlandic (Greenland)",CurrencySymbol:"kr.",CurrencyCode:"DKK"},{Name:"gu-IN",DisplayName:"Gujarati (India)",CurrencySymbol:"",CurrencyCode:"INR"},{Name:"ha-Latn-NG",DisplayName:"Hausa (Latin, Nigeria)",CurrencySymbol:"",CurrencyCode:"NGN"},{Name:"haw-US",DisplayName:"Hawaiian (United States)",CurrencySymbol:"$",CurrencyCode:"USD"},{Name:"he-IL",DisplayName:"Hebrew (Israel)",CurrencySymbol:"",CurrencyCode:"ILS"},{Name:"hi-IN",DisplayName:"Hindi (India)",CurrencySymbol:"",CurrencyCode:"INR"},{Name:"hu-HU",DisplayName:"Hungarian (Hungary)",CurrencySymbol:"Ft",CurrencyCode:"HUF"},{Name:"is-IS",DisplayName:"Icelandic (Iceland)",CurrencySymbol:"ISK",CurrencyCode:"ISK"},{Name:"id-ID",DisplayName:"Indonesian (Indonesia)",CurrencySymbol:"Rp",CurrencyCode:"IDR"},{Name:"ig-NG",DisplayName:"Igbo (Nigeria)",CurrencySymbol:"",CurrencyCode:"NGN"},{Name:"xh-ZA",DisplayName:"isiXhosa (South Africa)",CurrencySymbol:"R",CurrencyCode:"ZAR"},{Name:"zu-ZA",DisplayName:"isiZulu (South Africa)",CurrencySymbol:"R",CurrencyCode:"ZAR"},{Name:"iu-Latn-CA",DisplayName:"Inuktitut (Latin, Canada)",CurrencySymbol:"$",CurrencyCode:"CAD"},{Name:"iu-Cans-CA",DisplayName:"Inuktitut (Syllabics, Canada)",CurrencySymbol:"$",CurrencyCode:"CAD"},{Name:"ga-IE",DisplayName:"Irish (Ireland)",CurrencySymbol:"",CurrencyCode:"EUR"},{Name:"it-IT",DisplayName:"Italian (Italy)",CurrencySymbol:"",CurrencyCode:"EUR"},{Name:"ja-JP",DisplayName:"Japanese (Japan)",CurrencySymbol:"",CurrencyCode:"JPY"},{Name:"kn-IN",DisplayName:"Kannada (India)",CurrencySymbol:"",CurrencyCode:"INR"},{Name:"kk-KZ",DisplayName:"Kazakh (Kazakhstan)",CurrencySymbol:"",CurrencyCode:"KZT"},{Name:"km-KH",DisplayName:"Khmer (Cambodia)",CurrencySymbol:"",CurrencyCode:"KHR"},{Name:"rw-RW",DisplayName:"Kinyarwanda (Rwanda)",CurrencySymbol:"RF",CurrencyCode:"RWF"},{Name:"sw-KE",DisplayName:"Kiswahili (Kenya)",CurrencySymbol:"Ksh",CurrencyCode:"KES"},{Name:"kok-IN",DisplayName:"Konkani (India)",CurrencySymbol:"",CurrencyCode:"INR"},{Name:"ko-KR",DisplayName:"Korean (Korea)",CurrencySymbol:"",CurrencyCode:"KRW"},{Name:"ko-KP",DisplayName:"Korean (North Korea)",CurrencySymbol:"",CurrencyCode:"KPW"},{Name:"ky-KG",DisplayName:"Kyrgyz (Kyrgyzstan)",CurrencySymbol:"",CurrencyCode:"KGS"},{Name:"mi-NZ",DisplayName:"Maori (New Zealand)",CurrencySymbol:"$",CurrencyCode:"NZD"},{Name:"mk-MK",DisplayName:"Macedonian (Former Yugoslav Republic of Macedonia)",CurrencySymbol:"",CurrencyCode:"MKD"},{Name:"lo-LA",DisplayName:"Lao (Lao P.D.R.)",CurrencySymbol:"",CurrencyCode:"LAK"},{Name:"lv-LV",DisplayName:"Latvian (Latvia)",CurrencySymbol:"",CurrencyCode:"EUR"},{Name:"lt-LT",DisplayName:"Lithuanian (Lithuania)",CurrencySymbol:"",CurrencyCode:"EUR"},{Name:"dsb-DE",DisplayName:"Lower Sorbian (Germany)",CurrencySymbol:"",CurrencyCode:"EUR"},{Name:"lb-LU",DisplayName:"Luxembourgish (Luxembourg)",CurrencySymbol:"",CurrencyCode:"EUR"},{Name:"ml-IN",DisplayName:"Malayalam (India)",CurrencySymbol:"",CurrencyCode:"INR"},{Name:"mn-Mong-CN",DisplayName:"Mongolian (Traditional Mongolian, PRC)",CurrencySymbol:"",CurrencyCode:"MNT"},{Name:"mgo-CM",DisplayName:"Meta' (Cameroon)",CurrencySymbol:"FCFA",CurrencyCode:"XAF"},{Name:"mr-IN",DisplayName:"Marathi (India)",CurrencySymbol:"",CurrencyCode:"INR"},{Name:"ms-BN",DisplayName:"Malay (Brunei Darussalam)",CurrencySymbol:"$",CurrencyCode:"BND"},{Name:"ms-MY",DisplayName:"Malay (Malaysia)",CurrencySymbol:"RM",CurrencyCode:"MYR"},{Name:"mt-MT",DisplayName:"Maltese (Malta)",CurrencySymbol:"",CurrencyCode:"EUR"},{Name:"arn-CL",DisplayName:"Mapudungun (Chile)",CurrencySymbol:"$",CurrencyCode:"CLP"},{Name:"ne-NP",DisplayName:"Nepali (Nepal)",CurrencySymbol:"",CurrencyCode:"NPR"},{Name:"nn-NO",DisplayName:"Norwegian, Nynorsk (Norway)",CurrencySymbol:"kr",CurrencyCode:"NOK"},{Name:"nb-NO",DisplayName:"Norwegian, Bokml (Norway)",CurrencySymbol:"kr",CurrencyCode:"NOK"},{Name:"or-IN",DisplayName:"Odia (India)",CurrencySymbol:"",CurrencyCode:"INR"},{Name:"oc-FR",DisplayName:"Occitan (France)",CurrencySymbol:"",CurrencyCode:"EUR"},{Name:"ps-AF",DisplayName:"Pashto (Afghanistan)",CurrencySymbol:"",CurrencyCode:"AFN"},{Name:"fa-IR",DisplayName:"Persian (Iran)",CurrencySymbol:"",CurrencyCode:"IRR"},{Name:"pt-BR",DisplayName:"Portuguese (Brazil)",CurrencySymbol:"R$",CurrencyCode:"BRL"},{Name:"pt-PT",DisplayName:"Portuguese (Portugal)",CurrencySymbol:"",CurrencyCode:"EUR"},{Name:"pl-PL",DisplayName:"Polish (Poland)",CurrencySymbol:"z",CurrencyCode:"PLN"},{Name:"pa-IN",DisplayName:"Punjabi (India)",CurrencySymbol:"",CurrencyCode:"INR"},{Name:"pa-Arab-PK",DisplayName:"Punjabi (Islamic Republic of Pakistan)",CurrencySymbol:"Rs",CurrencyCode:"PKR"},{Name:"quz-BO",DisplayName:"Quechua (Bolivia)",CurrencySymbol:"Bs.",CurrencyCode:"BOB"},{Name:"quz-EC",DisplayName:"Quechua (Ecuador)",CurrencySymbol:"$",CurrencyCode:"USD"},{Name:"quz-PE",DisplayName:"Quechua (Peru)",CurrencySymbol:"S/.",CurrencyCode:"PEN"},{Name:"ro-RO",DisplayName:"Romanian (Romania)",CurrencySymbol:"RON",CurrencyCode:"RON"},{Name:"rm-CH",DisplayName:"Romansh (Switzerland)",CurrencySymbol:"CHF",CurrencyCode:"CHF"},{Name:"ru-RU",DisplayName:"Russian (Russia)",CurrencySymbol:"",CurrencyCode:"RUB"},{Name:"sah-RU",DisplayName:"Sakha (Russia)",CurrencySymbol:"",CurrencyCode:"RUB"},{Name:"smn-FI",DisplayName:"Sami, Inari (Finland)",CurrencySymbol:"",CurrencyCode:"EUR"},{Name:"smj-NO",DisplayName:"Sami, Lule (Norway)",CurrencySymbol:"kr",CurrencyCode:"NOK"},{Name:"smj-SE",DisplayName:"Sami, Lule (Sweden)",CurrencySymbol:"kr",CurrencyCode:"SEK"},{Name:"se-FI",DisplayName:"Sami, Northern (Finland)",CurrencySymbol:"",CurrencyCode:"EUR"},{Name:"se-NO",DisplayName:"Sami, Northern (Norway)",CurrencySymbol:"kr",CurrencyCode:"NOK"},{Name:"se-SE",DisplayName:"Sami, Northern (Sweden)",CurrencySymbol:"kr",CurrencyCode:"SEK"},{Name:"sms-FI",DisplayName:"Sami, Skolt (Finland)",CurrencySymbol:"",CurrencyCode:"EUR"},{Name:"sma-NO",DisplayName:"Sami, Southern (Norway)",CurrencySymbol:"kr",CurrencyCode:"NOK"},{Name:"sma-SE",DisplayName:"Sami, Southern (Sweden)",CurrencySymbol:"kr",CurrencyCode:"SEK"},{Name:"sa-IN",DisplayName:"Sanskrit (India)",CurrencySymbol:"",CurrencyCode:"INR"},{Name:"nso-ZA",DisplayName:"Sesotho sa Leboa (South Africa)",CurrencySymbol:"R",CurrencyCode:"ZAR"},{Name:"gd-GB",DisplayName:"Scottish Gaelic (United Kingdom)",CurrencySymbol:"",CurrencyCode:"GBP"},{Name:"sr-Cyrl-BA",DisplayName:"Serbian (Cyrillic, Bosnia and Herzegovina)",CurrencySymbol:"??",CurrencyCode:"BAM"},{Name:"sr-Cyrl-ME",DisplayName:"Serbian (Cyrillic, Montenegro)",CurrencySymbol:"",CurrencyCode:"EUR"},{Name:"sr-Cyrl-RS",DisplayName:"Serbian (Cyrillic, Serbia)",CurrencySymbol:"???.",CurrencyCode:"RSD"},{Name:"sr-Latn-BA",DisplayName:"Serbian (Latin, Bosnia and Herzegovina)",CurrencySymbol:"KM",CurrencyCode:"BAM"},{Name:"sr-Latn-ME",DisplayName:"Serbian (Latin, Montenegro)",CurrencySymbol:"",CurrencyCode:"EUR"},{Name:"sr-Latn-RS",DisplayName:"Serbian (Latin, Serbia)",CurrencySymbol:"RSD",CurrencyCode:"RSD"},{Name:"tn-ZA",DisplayName:"Setswana (South Africa)",CurrencySymbol:"R",CurrencyCode:"ZAR"},{Name:"tn-BW",DisplayName:"Setswana (Botswana)",CurrencySymbol:"P",CurrencyCode:"BWP"},{Name:"sd-Arab-PK",DisplayName:"Sindhi (Islamic Republic of Pakistan)",CurrencySymbol:"Rs",CurrencyCode:"PKR"},{Name:"si-LK",DisplayName:"Sinhala (Sri Lanka)",CurrencySymbol:".",CurrencyCode:"LKR"},{Name:"sk-SK",DisplayName:"Slovak (Slovakia)",CurrencySymbol:"",CurrencyCode:"EUR"},{Name:"sl-SI",DisplayName:"Slovenian (Slovenia)",CurrencySymbol:"",CurrencyCode:"EUR"},{Name:"es-AR",DisplayName:"Spanish (Argentina)",CurrencySymbol:"$",CurrencyCode:"ARS"},{Name:"es-VE",DisplayName:"Spanish (Bolivarian Republic of Venezuela)",CurrencySymbol:"Bs.",CurrencyCode:"VEF"},{Name:"es-BO",DisplayName:"Spanish (Bolivia)",CurrencySymbol:"Bs",CurrencyCode:"BOB"},{Name:"es-CL",DisplayName:"Spanish (Chile)",CurrencySymbol:"$",CurrencyCode:"CLP"},{Name:"es-CO",DisplayName:"Spanish (Colombia)",CurrencySymbol:"$",CurrencyCode:"COP"},{Name:"es-CR",DisplayName:"Spanish (Costa Rica)",CurrencySymbol:"",CurrencyCode:"CRC"},{Name:"es-DO",DisplayName:"Spanish (Dominican Republic)",CurrencySymbol:"$",CurrencyCode:"DOP"},{Name:"es-EC",DisplayName:"Spanish (Ecuador)",CurrencySymbol:"$",CurrencyCode:"USD"},{Name:"es-SV",DisplayName:"Spanish (El Salvador)",CurrencySymbol:"$",CurrencyCode:"USD"},{Name:"es-GT",DisplayName:"Spanish (Guatemala)",CurrencySymbol:"Q",CurrencyCode:"GTQ"},{Name:"es-HN",DisplayName:"Spanish (Honduras)",CurrencySymbol:"L",CurrencyCode:"HNL"},{Name:"es-MX",DisplayName:"Spanish (Mexico)",CurrencySymbol:"$",CurrencyCode:"MXN"},{Name:"es-NI",DisplayName:"Spanish (Nicaragua)",CurrencySymbol:"C$",CurrencyCode:"NIO"},{Name:"es-PA",DisplayName:"Spanish (Panama)",CurrencySymbol:"B/.",CurrencyCode:"PAB"},{Name:"es-PY",DisplayName:"Spanish (Paraguay)",CurrencySymbol:"",CurrencyCode:"PYG"},{Name:"es-PE",DisplayName:"Spanish (Peru)",CurrencySymbol:"S/.",CurrencyCode:"PEN"},{Name:"es-PR",DisplayName:"Spanish (Puerto Rico)",CurrencySymbol:"$",CurrencyCode:"USD"},{Name:"es-ES",DisplayName:"Spanish (Spain)",CurrencySymbol:"",CurrencyCode:"EUR"},{Name:"es-US",DisplayName:"Spanish (United States)",CurrencySymbol:"$",CurrencyCode:"USD"},{Name:"es-UY",DisplayName:"Spanish (Uruguay)",CurrencySymbol:"$",CurrencyCode:"UYU"},{Name:"sv-SE",DisplayName:"Swedish (Sweden)",CurrencySymbol:"kr",CurrencyCode:"SEK"},{Name:"sv-FI",DisplayName:"Swedish (Finland)",CurrencySymbol:"",CurrencyCode:"EUR"},{Name:"syr-SY",DisplayName:"Syriac (Syria)",CurrencySymbol:"?.?.?",CurrencyCode:"SYP"},{Name:"tg-Cyrl-TJ",DisplayName:"Tajik (Cyrillic, Tajikistan)",CurrencySymbol:"???",CurrencyCode:"TJS"},{Name:"tzm-Latn-DZ",DisplayName:"Tamazight (Latin, Algeria)",CurrencySymbol:"DA",CurrencyCode:"DZD"},{Name:"ta-IN",DisplayName:"Tamil (India)",CurrencySymbol:"?",CurrencyCode:"INR"},{Name:"ta-LK",DisplayName:"Tamil (Sri Lanka)",CurrencySymbol:"Rs.",CurrencyCode:"LKR"},{Name:"tt-RU",DisplayName:"Tatar (Russia)",CurrencySymbol:"?",CurrencyCode:"RUB"},{Name:"th-TH",DisplayName:"Thai (Thailand)",CurrencySymbol:"?",CurrencyCode:"THB"},{Name:"bo-CN",DisplayName:"Tibetan (PRC)",CurrencySymbol:"",CurrencyCode:"CNY"},{Name:"ti-ET",DisplayName:"Tigrinya (Ethiopia)",CurrencySymbol:"Br",CurrencyCode:"ETB"},{Name:"ti-ER",DisplayName:"Tigrinya (Eritrea)",CurrencySymbol:"Nfk",CurrencyCode:"ERN"},{Name:"tk-TM",DisplayName:"Turkmen (Turkmenistan)",CurrencySymbol:"m.",CurrencyCode:"TMT"},{Name:"tr-TR",DisplayName:"Turkish (Turkey)",CurrencySymbol:"?",CurrencyCode:"TRY"},{Name:"uk-UA",DisplayName:"Ukrainian (Ukraine)",CurrencySymbol:"?",CurrencyCode:"UAH"},{Name:"hsb-DE",DisplayName:"Upper Sorbian (Germany)",CurrencySymbol:"",CurrencyCode:"EUR"},{Name:"ur-PK",DisplayName:"Urdu (Islamic Republic of Pakistan)",CurrencySymbol:"Rs",CurrencyCode:"PKR"},{Name:"uz-Latn-UZ",DisplayName:"Uzbek (Latin, Uzbekistan)",CurrencySymbol:"so?m",CurrencyCode:"UZS"},{Name:"uz-Cyrl-UZ",DisplayName:"Uzbek (Cyrillic, Uzbekistan)",CurrencySymbol:"???",CurrencyCode:"UZS"},{Name:"vi-VN",DisplayName:"Vietnamese (Vietnam)",CurrencySymbol:"?",CurrencyCode:"VND"},{Name:"ii-CN",DisplayName:"Yi (PRC)",CurrencySymbol:"",CurrencyCode:"CNY"},{Name:"yo-NG",DisplayName:"Yoruba (Nigeria)",CurrencySymbol:"?",CurrencyCode:"NGN"},{Name:"cy-GB",DisplayName:"Welsh (United Kingdom)",CurrencySymbol:"",CurrencyCode:"GBP"},{Name:"wo-SN",DisplayName:"Wolof (Senegal)",CurrencySymbol:"CFA",CurrencyCode:"XOF"}]},n.ConvertEnumasKeyValuePairArray=function(n){for(var r=Object.keys(n),f=Object.keys(n).map(function(t){return n[t]}),t,u=[],i=0;i<r.length;i++)t=new ValueAliasPair,t.value=r[i],t.text=f[i],u.push(t);return u},n.closeDialog=function(n){n.model.position={X:0,Y:0}},n.buttonEnable=function(n,t){if(!BoldBIDashboard.isNullOrUndefined(n)){var i=n.data("BoldBIDashboardButton");BoldBIDashboard.isNullOrUndefined(i)?t?n.removeAttr("disabled"):n.attr("disabled","disabled"):t?(n.data("BoldBIDashboardButton").enable(),n.addClass("bbi-dbrd-designer-hand-cursor"),n.removeClass("bbi-designer-btn-disabled")):(n.data("BoldBIDashboardButton").disable(),n.removeClass("bbi-dbrd-designer-hand-cursor"),n.addClass("bbi-designer-btn-disabled"))}},n.shortenSelectedFilterInfo=function(n){for(var i,t,r,f=[],u=0;u<n.length;u++)i={},t=n[u],i[shortenEnum.UniqueColumnName]=t[lengthenEnum.UniqueColumnName],i[shortenEnum.ColumnName]=t[lengthenEnum.ColumnName],i[shortenEnum.ReportName]=t[lengthenEnum.ReportName],BoldBIDashboard.isNullOrUndefined(t[lengthenEnum.IsStdDateTime])||this.isDefaultValue(t,lengthenEnum.IsStdDateTime,!1,!1)||(i[shortenEnum.IsStdDateTime]=t[lengthenEnum.IsStdDateTime]),BoldBIDashboard.isNullOrUndefined(t[lengthenEnum.IsRange])||(i[shortenEnum.IsRange]=t[lengthenEnum.IsRange]),BoldBIDashboard.isNullOrUndefined(t[lengthenEnum.IsGroupBarFilter])||(i[shortenEnum.IsGroupBarFilter]=t[lengthenEnum.IsGroupBarFilter]),BoldBIDashboard.isNullOrUndefined(t[lengthenEnum.IsMultiSelection])||(i[shortenEnum.IsMultiSelection]=t[lengthenEnum.IsMultiSelection]),BoldBIDashboard.isNullOrUndefined(t[lengthenEnum.FieldId])||(i[shortenEnum.FieldId]=t[lengthenEnum.FieldId]),BoldBIDashboard.isNullOrUndefined(t[lengthenEnum.IsPoPWidget])||(i[shortenEnum.IsPoPWidget]=t[lengthenEnum.IsPoPWidget]),BoldBIDashboard.isNullOrUndefined(t.InitialDateFilter.DateFilterList)||t.InitialDateFilter.DateFilterList.length===0||(i[shortenEnum.InitialDateFilter]={},i[shortenEnum.InitialDateFilter][shortenEnum.DateFilterList]=t.InitialDateFilter[lengthenEnum.DateFilterList],this.isDefaultValue(t.InitialDateFilter,lengthenEnum.DateFilterCondition,"Include",!1)||(i[shortenEnum.InitialDateFilter][shortenEnum.DateFilterCondition]=t.InitialDateFilter[lengthenEnum.DateFilterCondition]),this.isDefaultValue(t.InitialDateFilter,lengthenEnum.DateFilterType,"Basic",!1)||(i[shortenEnum.InitialDateFilter][shortenEnum.DateFilterType]=t.InitialDateFilter[lengthenEnum.DateFilterType]),this.isDefaultValue(t.InitialDateFilter,lengthenEnum.DateFormat,"None",!1)||(i[shortenEnum.InitialDateFilter][shortenEnum.DateFormat]=t.InitialDateFilter[lengthenEnum.DateFormat]),this.isDefaultValue(t.InitialDateFilter,lengthenEnum.DisplayDateFilterList,0,!0)||(i[shortenEnum.InitialDateFilter][shortenEnum.DisplayDateFilterList]=t.InitialDateFilter[lengthenEnum.DisplayDateFilterList]),this.isDefaultValue(t.InitialDateFilter,lengthenEnum.SelectedRangeforRelativeFilter,null,!1)||(i[shortenEnum.InitialDateFilter][shortenEnum.SelectedRangeforRelativeFilter]=t.InitialDateFilter[lengthenEnum.SelectedRangeforRelativeFilter])),BoldBIDashboard.isNullOrUndefined(t.InitialDimensionFilter.Text)||t.InitialDimensionFilter.Text.length===0||(i[shortenEnum.InitialDimensionFilter]={},this.isDefaultValue(t.InitialDimensionFilter,lengthenEnum.DimesnionFilterCondition,"Contains",!1)||(i[shortenEnum.InitialDimensionFilter][shortenEnum.DimesnionFilterCondition]=t.InitialDimensionFilter[lengthenEnum.DimesnionFilterCondition]),this.isDefaultValue(t.InitialDimensionFilter,lengthenEnum.Text,0,!0)||(i[shortenEnum.InitialDimensionFilter][shortenEnum.Text]=t.InitialDimensionFilter[lengthenEnum.Text])),BoldBIDashboard.isNullOrUndefined(t.InitialMeasureFilter.Values)||t.InitialMeasureFilter.Values.length===0||(i[shortenEnum.InitialMeasureFilter]={},this.isDefaultValue(t.InitialMeasureFilter,lengthenEnum.MeasureFilterCondition,"Equals",!1)||(i[shortenEnum.InitialMeasureFilter][shortenEnum.MeasureFilterCondition]=t.InitialMeasureFilter[lengthenEnum.MeasureFilterCondition]),this.isDefaultValue(t.InitialMeasureFilter,lengthenEnum.Values,0,!0)||(i[shortenEnum.InitialMeasureFilter][shortenEnum.Values]=t.InitialMeasureFilter[lengthenEnum.Values])),t.IsPoPWidget&&!BoldBIDashboard.isNullOrUndefined(t.PoPFilter)&&(i[shortenEnum.PoPFilter]={},i[shortenEnum.PoPFilter][shortenEnum.DateFieldId]=t.PoPFilter[lengthenEnum.DateFieldId],i[shortenEnum.PoPFilter][shortenEnum.PrimaryType]=t.PoPFilter[lengthenEnum.PrimaryType],i[shortenEnum.PoPFilter][shortenEnum.SecondaryType]=t.PoPFilter[lengthenEnum.SecondaryType],i[shortenEnum.PoPFilter][shortenEnum.PrimaryCustomRange]={},i[shortenEnum.PoPFilter][shortenEnum.PrimaryCustomRange][shortenEnum.StartRange]=t.PoPFilter[lengthenEnum.PrimaryCustomRange][lengthenEnum.StartRange],i[shortenEnum.PoPFilter][shortenEnum.PrimaryCustomRange][shortenEnum.EndRange]=t.PoPFilter[lengthenEnum.PrimaryCustomRange][lengthenEnum.EndRange],i[shortenEnum.PoPFilter][shortenEnum.SecondaryCustomRange]=[],r={},t.PoPFilter[lengthenEnum.SecondaryCustomRange].length>0&&(r[shortenEnum.StartRange]=t.PoPFilter[lengthenEnum.SecondaryCustomRange][0][lengthenEnum.StartRange],r[shortenEnum.EndRange]=t.PoPFilter[lengthenEnum.SecondaryCustomRange][0][lengthenEnum.EndRange],i[shortenEnum.PoPFilter][shortenEnum.SecondaryCustomRange].push(r))),BoldBIDashboard.isNullOrUndefined(i[shortenEnum.UniqueColumnName])||BoldBIDashboard.isNullOrUndefined(i[shortenEnum.ReportName])||f.push(i);return f},n.prototype.RefreshScrollforEditConnectionWindow=function(n){if(n==="_editConnection"){var t=this.dashboardDesigner.modules.editConnection;t.divContainer.data("BoldBIDashboardScroller").refresh()}},n.prototype.getHeightBasedOnResolution=function(n){var t=0;switch(!0){case window.innerHeight<=900:t=n==="filedrive"?window.innerHeight<=500?75:53:73;break;case window.innerHeight>900&&window.innerHeight<=1200:t=n==="filedrive"?42:54;break;case window.innerHeight>1200&&window.innerHeight<=1800:t=n==="filedrive"?37:46;break;case window.innerHeight>1800:t=n==="filedrive"?22:33;break;default:t=n==="filedrive"?75:80}return window.innerHeight*t/100},n.lengthensSelectedFilterInfo=function(n){for(var t,i,u=[],f=n.length,r=0;r<f;r++)t=n[r],i=new SelectedFilterValue,this.hasValue(t,shortenEnum.UniqueColumnName)&&(i[lengthenEnum.UniqueColumnName]=t[shortenEnum.UniqueColumnName]),this.hasValue(t,shortenEnum.ReportName)&&(i[lengthenEnum.ReportName]=t[shortenEnum.ReportName]),this.hasValue(t,shortenEnum.IsStdDateTime)&&(i[lengthenEnum.IsStdDateTime]=t[shortenEnum.IsStdDateTime]),this.hasValue(t,shortenEnum.IsRange)&&(i[lengthenEnum.IsRange]=t[shortenEnum.IsRange]),this.hasValue(t,shortenEnum.IsGroupBarFilter)&&(i[lengthenEnum.IsGroupBarFilter]=t[shortenEnum.IsGroupBarFilter]),this.hasValue(t,shortenEnum.IsMultiSelection)&&(i[lengthenEnum.IsMultiSelection]=t[shortenEnum.IsMultiSelection]),this.hasValue(t,shortenEnum.ColumnName)&&(i[lengthenEnum.ColumnName]=t[shortenEnum.ColumnName]),this.hasValue(t,shortenEnum.FieldId)&&(i[lengthenEnum.FieldId]=t[shortenEnum.FieldId]),this.hasValue(t,shortenEnum.IsPoPWidget)&&(i[lengthenEnum.IsPoPWidget]=t[shortenEnum.IsPoPWidget]),this.hasValue(t,shortenEnum.InitialDateFilter)&&(this.hasValue(t[shortenEnum.InitialDateFilter],shortenEnum.DateFilterCondition)&&(i.InitialDateFilter[lengthenEnum.DateFilterCondition]=t[shortenEnum.InitialDateFilter][shortenEnum.DateFilterCondition]),this.hasValue(t[shortenEnum.InitialDateFilter],shortenEnum.DateFilterList)&&(i.InitialDateFilter[lengthenEnum.DateFilterList]=t[shortenEnum.InitialDateFilter][shortenEnum.DateFilterList]),this.hasValue(t[shortenEnum.InitialDateFilter],shortenEnum.DateFilterType)&&(i.InitialDateFilter[lengthenEnum.DateFilterType]=t[shortenEnum.InitialDateFilter][shortenEnum.DateFilterType]),this.hasValue(t[shortenEnum.InitialDateFilter],shortenEnum.DisplayDateFilterList)&&(i.InitialDateFilter[lengthenEnum.DisplayDateFilterList]=t[shortenEnum.InitialDateFilter][shortenEnum.DisplayDateFilterList]),this.hasValue(t[shortenEnum.InitialDateFilter],shortenEnum.DateFormat)&&(i.InitialDateFilter[lengthenEnum.DateFormat]=t[shortenEnum.InitialDateFilter][shortenEnum.DateFormat]),this.hasValue(t[shortenEnum.InitialDateFilter],shortenEnum.SelectedRangeforRelativeFilter)&&(i.InitialDateFilter[lengthenEnum.SelectedRangeforRelativeFilter]=t[shortenEnum.InitialDateFilter][shortenEnum.SelectedRangeforRelativeFilter])),this.hasValue(t,shortenEnum.InitialDimensionFilter)&&(this.hasValue(t[shortenEnum.InitialDimensionFilter],shortenEnum.DimesnionFilterCondition)&&(i.InitialDimensionFilter[lengthenEnum.DimesnionFilterCondition]=t[shortenEnum.InitialDimensionFilter][shortenEnum.DimesnionFilterCondition]),this.hasValue(t[shortenEnum.InitialDimensionFilter],shortenEnum.Text)&&(i.InitialDimensionFilter[lengthenEnum.Text]=t[shortenEnum.InitialDimensionFilter][shortenEnum.Text])),this.hasValue(t,shortenEnum.InitialMeasureFilter)&&(this.hasValue(t[shortenEnum.InitialMeasureFilter],shortenEnum.MeasureFilterCondition)&&(i.InitialMeasureFilter[lengthenEnum.MeasureFilterCondition]=t[shortenEnum.InitialMeasureFilter][shortenEnum.MeasureFilterCondition]),this.hasValue(t[shortenEnum.InitialMeasureFilter],shortenEnum.Values)&&(i.InitialMeasureFilter[lengthenEnum.Values]=t[shortenEnum.InitialMeasureFilter][shortenEnum.Values])),this.hasValue(t,shortenEnum.PoPFilter)&&(this.hasValue(t[shortenEnum.PoPFilter],shortenEnum.DateFieldId)&&(i.PoPFilter[lengthenEnum.DateFieldId]=t[shortenEnum.PoPFilter][shortenEnum.DateFieldId]),this.hasValue(t[shortenEnum.PoPFilter],shortenEnum.PrimaryType)&&(i.PoPFilter[lengthenEnum.PrimaryType]=t[shortenEnum.PoPFilter][shortenEnum.PrimaryType]),this.hasValue(t[shortenEnum.PoPFilter],shortenEnum.SecondaryType)&&(i.PoPFilter[lengthenEnum.SecondaryType]=t[shortenEnum.PoPFilter][shortenEnum.SecondaryType]),this.hasValue(t[shortenEnum.PoPFilter],shortenEnum.PrimaryCustomRange)&&(i.PoPFilter[lengthenEnum.PrimaryCustomRange][lengthenEnum.StartRange]=t[shortenEnum.PoPFilter][shortenEnum.PrimaryCustomRange][shortenEnum.StartRange],i.PoPFilter[lengthenEnum.PrimaryCustomRange][lengthenEnum.EndRange]=t[shortenEnum.PoPFilter][shortenEnum.PrimaryCustomRange][shortenEnum.EndRange]),this.hasValue(t[shortenEnum.PoPFilter],shortenEnum.SecondaryCustomRange)&&t[shortenEnum.PoPFilter][shortenEnum.SecondaryCustomRange].length>0&&(i.PoPFilter[lengthenEnum.SecondaryCustomRange][0][lengthenEnum.StartRange]=t[shortenEnum.PoPFilter][shortenEnum.SecondaryCustomRange][0][shortenEnum.StartRange],i.PoPFilter[lengthenEnum.SecondaryCustomRange][0][lengthenEnum.EndRange]=t[shortenEnum.PoPFilter][shortenEnum.SecondaryCustomRange][0][shortenEnum.EndRange])),this.hasValue(i,lengthenEnum.UniqueColumnName)&&this.hasValue(i,lengthenEnum.ReportName)&&u.push(i);return{masterData:u}},n.isDefaultValue=function(n,t,i,r){return r?BoldBIDashboard.isNullOrUndefined(n[t])?!1:n[t].length===i:n[t]===i},n.hasValue=function(n,t){return!BoldBIDashboard.isNullOrUndefined(n)&&!BoldBIDashboard.isNullOrUndefined(n[t])},n.showDDLPopupMouseOverEvent=function(){var t=event.target,i=BoldBIDashboardDesigner.bbdesignerstatic$(t).closest(".e-ddl-popup, .e-atc-popup, .e-time-popup"),n=BoldBIDashboardDesigner.bbdesignerstatic$(i).attr("id");BoldBIDashboardDesigner.bbdesignerstatic$("#"+n).find(".e-scrollbar").removeClass("mouseleave");BoldBIDashboardDesigner.bbdesignerstatic$("#"+n).find(".e-scrollbar").addClass("mouseover");BoldBIDashboardDesigner.bbdesignerstatic$("#"+n).find(".e-scrollbar").css("display","block")},n.hideDDLPopupMouseLeaveEvent=function(){var t=event.target,i=BoldBIDashboardDesigner.bbdesignerstatic$(t).closest(".e-ddl-popup, .e-atc-popup, .e-time-popup"),n=BoldBIDashboardDesigner.bbdesignerstatic$(i).attr("id");BoldBIDashboardDesigner.bbdesignerstatic$("#"+n).find(".e-scrollbar").removeClass("mouseover");BoldBIDashboardDesigner.bbdesignerstatic$("#"+n).find(".e-scrollbar").addClass("mouseleave")},n.updateScrollerVisibility=function(n){BoldBIDashboardDesigner.bbdesignerstatic$("#"+n).find(".e-scrollbar").hasClass("mouseover")?BoldBIDashboardDesigner.bbdesignerstatic$("#"+n).find(".e-scrollbar").css("display","block"):BoldBIDashboardDesigner.bbdesignerstatic$("#"+n).find(".e-scrollbar").hasClass("mouseleave")&&BoldBIDashboardDesigner.bbdesignerstatic$("#"+n).find(".e-scrollbar").css("display","none")},n.hidePopup=function(){BoldBIDashboardDesigner.bbdesignerstatic$(".e-ddl-popup.bbi-dbrd-control.e-combobox-control").hide();BoldBIDashboardDesigner.bbdesignerstatic$(".e-dashboarddatepicker.e-dashboarddatepicker-popup-wrapper.bbi-dbrd-control").hide()},n.showGridScrollBar=function(){var n=event.target,t=BoldBIDashboardDesigner.bbdesignerstatic$(n).closest(".e-gridcontent"),i=BoldBIDashboardDesigner.bbdesignerstatic$(t).find(".e-scrollbar");i.css("display","block")},n.getPriority=function(n,t,i){return n.IsEnableDrillDown||n.EnableDrilldown?WidgetAction.DrillDown:n.FilterSettings.ActAsMasterWidget?WidgetAction.Filter:t?WidgetAction.Linking:i?WidgetAction.WidgetLinking:n.ContainerSettings.ViewData?WidgetAction.ViewData:null},n.getToggleButton=function(n,t,i,r,u){var f=BoldBIDashboard.buildTag("div.bbi-querydesigner-switcher-wrap","",{},{id:n+"_design_switcher"}),s=BoldBIDashboard.buildTag("span.bbi-designer-label",i,{}),e=BoldBIDashboard.buildTag("label.bbi-designer-switch","",{},{id:n+"_code_switcher"}),o=BoldBIDashboardDesigner.bbdesignerstatic$("<input class = 'bbi-switcher-check' type='checkbox' id="+n+"_chck_on>");e.append(o);e.append("<div class='bbi-designer-slider round'/>");f.append(s);f.append(e);o.prop("checked",t);f.off("change",".bbi-switcher-check",BoldBIDashboardDesigner.bbdesignerstatic$.proxy(u[r],u));f.on("change",".bbi-switcher-check",BoldBIDashboardDesigner.bbdesignerstatic$.proxy(u[r],u));return f},n.getSeperator=function(){return BoldBIDashboard.buildTag("div.bbi-toolbar-seperator","",{},{})},n.prototype.showRefreshInfoIcon=function(n,t){var i=BoldBIDashboard.buildTag("span .bbi-dbrd-info-icon","",{cursor:"pointer"},{}),u=n.find("label"),f=this.dashboardDesigner,r=f.model.serverUrl;!(!BoldBIDashboard.isNullOrUndefined(window.BoldBIDashboard.Designer.settings)&&window.BoldBIDashboard.Designer.settings.siteName==="Bold BI"||t.length>0&&t[1].value==="OneHours")||BoldBIDashboard.isNullOrUndefined(r)||this.isEnvironmentOnPremise()?(i.css("display","none"),i.BoldBIDashboardTooltip({content:""})):i.BoldBIDashboardTooltip({content:"<span><a target='_blank' href='"+r+"administration/subscription?upgrade_plan=true'>"+this.locale.dataSource.upgrade+"<\/a>"+this.locale.dataSource.refreshSettingsTooltipInfo+"<\/span>",cssClass:"bbi-defaultIndex-template",isBalloon:!0,collision:BoldBIDashboard.Tooltip.Collision.FlipFit,trigger:BoldBIDashboard.Tooltip.Trigger.Click,showRoundedCorner:!0,showShadow:!0});u.append(i)},n.prototype.isDataSourceNameExist=function(n,t){if(t===""||t.length===0)this.showValidationMsg(n,!0,this.locale.dataSource.specifyDataSourceName);else if(this.dashboardDesigner.nameValidation(t)){if(t!=null)return!0}else{var i=this.locale.nameValidationMessages.invalidDatasourceName+this.locale.nameValidationMessages.notSupportedCharDatasourceName;this.showValidationMsg(n,!0,i)}return!1},n.prototype.onDataSourceNameExistSuccess=function(n,t,i,r){var u=this.locale.saveDatasourceDialog;if(t)if(i)this.showValidationMsg(n,!0,u.datasourceAlreadyExistsText);else return this.showValidationMsg(n,!1),!0;else this.showValidationMsg(n,!0,r);return!1},n.prototype.onDataSourceNameExistError=function(n,t){var i=this.locale.errorMessage;t.status===401?this.showValidationMsg(n,!0,i.authenticationFailed):t.readyState!==0||t.responseText?this.showValidationMsg(n,!0,i.dataFetchingError):this.showValidationMsg(n,!0,i.connectionRefused)},n.prototype.showDataSourceLoadingIndicator=function(n,t){n.find("#"+t+"_indicator_div>div").css("display","block")},n.prototype.hideDataSourceLoadingIndicator=function(n,t){n.find("#"+t+"_indicator_div>div").css("display","none")},n.prototype.showValidationMsg=function(n,t,i){var r=this.dashboardDesigner.element.find("#"+n+"_error_icon_td"),u=this.dashboardDesigner.element.find("#"+n+"_td .e-designer-datasource-textbox"),f=this.dashboardDesigner.element.find("#"+n+"_td .bbi-designer-content-label");t?(BoldBIDashboard.DashboardUtil.showErrIndictor(r,!0,i),f.addClass("bbi-designer-error"),u.addClass("bbi-designer-error")):(BoldBIDashboard.DashboardUtil.showErrIndictor(r,!1),f.removeClass("bbi-designer-error"),u.removeClass("bbi-designer-error"))},n.prototype.isEnvironmentOnPremise=function(){return this.dashboardDesigner.model.environment===BoldBIDashboard.DashboardDesignerUtility.Serialization.enumToString(Environment,Environment.onpremise)},n.prototype.getIconClassName=function(n){switch(n){case this.locale.colorCustomAdvanceLocale.circleSquareText:return"e-color-icon-circle-square";case this.locale.colorCustomAdvanceLocale.upText:return"e-icon-arrow2_up";case this.locale.colorCustomAdvanceLocale.circleSquareCutText:return"e-color-icon-circle-square-cut";case this.locale.colorCustomAdvanceLocale.warning:return"e-icon-arrow2_warning";case this.locale.colorCustomAdvanceLocale.circleTickText:return"e-color-icon-circle-tick";case this.locale.colorCustomAdvanceLocale.round:return"e-icon-arrow2_round";case this.locale.colorCustomAdvanceLocale.circleThreeQuarterText:return"e-color-icon-circle-three-quarter";case this.locale.colorCustomAdvanceLocale.triangleText:return"e-color-icon-triangle";case this.locale.colorCustomAdvanceLocale.tickText:return"e-icon-arrow2_tick";case this.locale.colorCustomAdvanceLocale.circleHalfText:return"e-color-icon-circle-half";case this.locale.colorCustomAdvanceLocale.circleQuarterText:return"e-color-icon-circle-quarter";case this.locale.colorCustomAdvanceLocale.diamondText:return"e-color-icon-diamond";case this.locale.colorCustomAdvanceLocale.downText:return"e-icon-arrow2_down";case this.locale.colorCustomAdvanceLocale.rightDownArrowText:return"e-color-icon-right-down-arrow";case this.locale.colorCustomAdvanceLocale.circleExclamatoryText:return"e-color-icon-circle-exclamatory";case this.locale.colorCustomAdvanceLocale.rightTopArrowText:return"e-color-icon-right-top-arrow";case this.locale.colorCustomAdvanceLocale.closeText:return"e-icon-arrow2_close";case this.locale.colorCustomAdvanceLocale.miunsText:return"e-icon-arrow2_minus";case this.locale.colorCustomAdvanceLocale.pointerUpText:return"e-icon-arrow2_pointer_up";case this.locale.colorCustomAdvanceLocale.pointerDownText:return"e-icon-arrow2_pointer_down";case this.locale.colorCustomAdvanceLocale.rightText:return"e-icon-arrow2_right";case this.locale.colorCustomAdvanceLocale.circleCloseText:return"e-color-icon-circle-close";case this.locale.colorCustomAdvanceLocale.flagText:return"e-color-icon-flag";case this.locale.colorCustomAdvanceLocale.polygon:return"e-icon-arrow2_polygon";case this.locale.colorCustomAdvanceLocale.star:return"e-icon-arrow2_star";default:return"e-color-icon-circle-square"}},n.prototype.getDropDownContentForIcon=function(n){var t=n?"":"<input type='button' id = 'customButton' class='bbi-dbrd-btn-small bbi-dbrd-btn-secondary e-custom-icon-button' data-icon-id='custom' value = '"+this.locale.colorCustomAdvanceLocale.customBtnText+"'/>";return"<ul class=\"e-icon-color-list\"><li class='e-icon-color-list-item' data-icon-id="+this.locale.colorCustomAdvanceLocale.circleSquareText+"><div class=\"e-icon-collection e-color-custom-icon e-color-icon-circle-square\" > <\/div><\/li > <li class='e-icon-color-list-item' data-icon-id="+this.locale.colorCustomAdvanceLocale.upText+"><div class=\"e-icon-collection e-color-custom-icon e-icon-arrow2_up\" > <\/div><\/li > <li class='e-icon-color-list-item' data-icon-id="+this.locale.colorCustomAdvanceLocale.circleSquareCutText+"><div class=\"e-icon-collection e-color-custom-icon e-color-icon-circle-square-cut\" > <\/div><\/li > <li class='e-icon-color-list-item' data-icon-id="+this.locale.colorCustomAdvanceLocale.warning+"><div class=\"e-icon-collection e-color-custom-icon e-icon-arrow2_warning\"> <\/div><\/li><li class='e-icon-color-list-item' data-icon-id="+this.locale.colorCustomAdvanceLocale.circleTickText+"><div class=\"e-icon-collection e-color-custom-icon e-color-icon-circle-tick\" > <\/div><\/li > <li class='e-icon-color-list-item' data-icon-id="+this.locale.colorCustomAdvanceLocale.round+"><div class=\"e-icon-collection e-color-custom-icon e-icon-arrow2_round\"> <\/div><\/li><li class='e-icon-color-list-item' data-icon-id="+this.locale.colorCustomAdvanceLocale.circleThreeQuarterText+"><div class=\"e-icon-collection e-color-custom-icon e-color-icon-circle-three-quarter\" > <\/div><\/li > <li class='e-icon-color-list-item' data-icon-id="+this.locale.colorCustomAdvanceLocale.triangleText+"><div class=\"e-icon-collection e-color-custom-icon e-color-icon-triangle\" > <\/div><\/li > <li class='e-icon-color-list-item' data-icon-id="+this.locale.colorCustomAdvanceLocale.tickText+"><div class=\"e-icon-collection e-color-custom-icon e-icon-arrow2_tick\"> <\/div><\/li><li class='e-icon-color-list-item' data-icon-id="+this.locale.colorCustomAdvanceLocale.circleHalfText+"><div class=\"e-icon-collection e-color-custom-icon e-color-icon-circle-half\" > <\/div><\/li > <li class='e-icon-color-list-item' data-icon-id="+this.locale.colorCustomAdvanceLocale.circleQuarterText+"><div class=\"e-icon-collection e-color-custom-icon e-color-icon-circle-quarter\" > <\/div><\/li > <li class='e-icon-color-list-item' data-icon-id="+this.locale.colorCustomAdvanceLocale.diamondText+"><div class=\"e-icon-collection e-color-custom-icon e-color-icon-diamond\" > <\/div><\/li > <li class='e-icon-color-list-item' data-icon-id="+this.locale.colorCustomAdvanceLocale.downText+"><div class=\"e-icon-collection e-color-custom-icon e-icon-arrow2_down\"> <\/div><\/li><li class='e-icon-color-list-item' data-icon-id="+this.locale.colorCustomAdvanceLocale.rightDownArrowText+"><div class=\"e-icon-collection e-color-custom-icon e-color-icon-right-down-arrow\" > <\/div><\/li > <li class='e-icon-color-list-item' data-icon-id="+this.locale.colorCustomAdvanceLocale.circleExclamatoryText+"><div class=\"e-icon-collection e-color-custom-icon e-color-icon-circle-exclamatory\" > <\/div><\/li > <li class='e-icon-color-list-item' data-icon-id="+this.locale.colorCustomAdvanceLocale.rightTopArrowText+"><div class=\"e-icon-collection e-color-custom-icon e-color-icon-right-top-arrow\" > <\/div><\/li > <li class='e-icon-color-list-item' data-icon-id="+this.locale.colorCustomAdvanceLocale.closeText+"><div class=\"e-icon-collection e-color-custom-icon e-icon-arrow2_close\"> <\/div><\/li><li class='e-icon-color-list-item' data-icon-id="+this.locale.colorCustomAdvanceLocale.miunsText+"><div class=\"e-icon-collection e-color-custom-icon e-icon-arrow2_minus\" > <\/div><\/li > <li class='e-icon-color-list-item' data-icon-id="+this.locale.colorCustomAdvanceLocale.pointerUpText+"><div class=\"e-icon-collection e-color-custom-icon e-icon-arrow2_pointer_up\" > <\/div><\/li > <li class='e-icon-color-list-item' data-icon-id="+this.locale.colorCustomAdvanceLocale.pointerDownText+"><div class=\"e-icon-collection e-color-custom-icon e-icon-arrow2_pointer_down\"> <\/div><\/li><li class='e-icon-color-list-item' data-icon-id="+this.locale.colorCustomAdvanceLocale.rightText+"><div class=\"e-icon-collection e-color-custom-icon e-icon-arrow2_right\"> <\/div><\/li><li class='e-icon-color-list-item' data-icon-id="+this.locale.colorCustomAdvanceLocale.circleCloseText+"><div class=\"e-icon-collection e-color-custom-icon e-color-icon-circle-close\" > <\/div><\/li > <li class='e-icon-color-list-item' data-icon-id="+this.locale.colorCustomAdvanceLocale.flagText+"><div class=\"e-icon-collection e-color-custom-icon e-color-icon-flag\" > <\/div><\/li > <li class='e-icon-color-list-item' data-icon-id="+this.locale.colorCustomAdvanceLocale.star+"><div class=\"e-icon-collection e-color-custom-icon e-icon-arrow2_star\" > <\/div><\/li > <li class='e-icon-color-list-item' data-icon-id="+this.locale.colorCustomAdvanceLocale.polygon+'><div class="e-icon-collection e-color-custom-icon e-icon-arrow2_polygon" style="padding-top:3px;"> <\/div><\/li>'+t+"<\/ul>"},n.prototype.getSummaryTypeLocalizedText=function(n){switch(n){case SummaryType.SUM:return this.locale.dataconfiguration.summary.sum;case SummaryType.COUNT:return this.locale.dataconfiguration.summary.count;case SummaryType.COUNTD:return this.locale.dataconfiguration.summary.countd;case SummaryType.AVG:return this.locale.dataconfiguration.summary.avg;case SummaryType.MAX:return this.locale.dataconfiguration.summary.max;case SummaryType.MIN:return this.locale.dataconfiguration.summary.min;case SummaryType.VAR:return this.locale.dataconfiguration.summary.var;case SummaryType.STDEV:return this.locale.dataconfiguration.summary.stdev;case SummaryType.MEDIAN:return this.locale.dataconfiguration.summary.median;default:return this.locale.dataconfiguration.summary.none}},n.escapeSelectedFilterDataforURLFilter=function(n){for(var t,i,r=0;r<n.length;r++)if(t=n[r],!BoldBIDashboard.isNullOrUndefined(t.InitialDimensionFilter.Text)&&t.InitialDimensionFilter.Text.length!==0&&!this.isDefaultValue(t.InitialDimensionFilter,lengthenEnum.Text,0,!0))for(i=0;i<t.InitialDimensionFilter.Text.length;i++)t.InitialDimensionFilter.Text[i]=t.InitialDimensionFilter.Text[i].toString().replaceAll("&","~&~").replaceAll(",","~,~").replaceAll("?","~?~").replaceAll("/","~/~");return n},n.prototype.getDisplayName=function(n){var i=BoldBIDashboard.Dashboard.ConnectionHelper.getConnectionInsFromDSId(this.dashboardDesigner,n.DatasourceID),t=BoldBIDashboard.Dashboard.ConnectionHelper.isHierarchicalConnection(i);return this.validateCategoryInfo(n)?n.DateTimeFormat===DateTimeFormat.None||t?n.FieldType===FieldType.Dimensions&&n.SummaryType===SummaryType.NONE||n.SummaryType===SummaryType.NONE&&n.DateTimeFormat===DateTimeFormat.None?n.Name:n.SummaryType===SummaryType.CUSTOM?n.Name:BoldBIDashboard.DashboardUtil.getSummaryText(n)+n.Name:BoldBIDashboard.DashboardDesignerUtility.Serialization.enumToString(DateTimeFormat,n.DateTimeFormat)+"("+n.Name+")":t?n.Name:n.DateTimeFormat!==DateTimeFormat.None?BoldBIDashboard.DashboardDesignerUtility.Serialization.enumToString(DateTimeFormat,n.DateTimeFormat)+"("+n.Name+")":n.Name},n.prototype.validateCategoryInfo=function(n){return n.ContainerType===FieldContainerType.Numeric||n.ContainerType===FieldContainerType.None},n.getSummaryText=function(n){var t=n.SummaryType;switch(t){case SummaryType.SUM:return"Sum of ";case SummaryType.COUNT:return"Count of ";case SummaryType.AVG:return"Average of ";case SummaryType.MAX:return"Max of ";case SummaryType.MIN:return"Min of ";case SummaryType.VAR:return"Variation of ";case SummaryType.COUNTD:return"Distinct Count of ";case SummaryType.MEDIAN:return"Median of ";default:return""}},n.getFieldBasedonUniqueColumnName=function(n,t){var i,r;if(!BoldBIDashboard.isNullOrUndefined(t)&&!BoldBIDashboard.DashboardUtil.IsStringNullorWhiteSpace(n))for(i=0;i<t.FieldContainers.length;i++)for(r=0;r<t.FieldContainers[i].FieldInfos.length;r++)if(t.FieldContainers[i].FieldInfos[r].UniqueColumnName===n)return t.FieldContainers[i].FieldInfos[r];return null},n.getColumnBindings=function(n){var r={},t,i,u,f;if(!BoldBIDashboard.isNullOrUndefined(n)&&!BoldBIDashboard.isNullOrUndefined(n.DataGroupInfo)&&!BoldBIDashboard.isNullOrUndefined(n.DataGroupInfo.FieldContainers))for(t=0;t<n.DataGroupInfo.FieldContainers.length;t++)for(i=0;i<n.DataGroupInfo.FieldContainers[t].FieldInfos.length;i++)u=BoldBIDashboard.DashboardUtil.IsStringNullorWhiteSpace(n.DataGroupInfo.FieldContainers[t].FieldInfos[i].UniqueColumnName)?n.DataGroupInfo.FieldContainers[t].FieldInfos[i].Name:n.DataGroupInfo.FieldContainers[t].FieldInfos[i].UniqueColumnName,f=BoldBIDashboard.DashboardUtil.IsStringNullorWhiteSpace(n.DataGroupInfo.FieldContainers[t].FieldInfos[i].DisplayName)?n.DataGroupInfo.FieldContainers[t].FieldInfos[i].Name:n.DataGroupInfo.FieldContainers[t].FieldInfos[i].DisplayName,BoldBIDashboard.isNullOrUndefined(r[u])&&(r[u]=f);return r},n.IsColumnBindingsEmpty=function(n){return BoldBIDashboard.isNullOrUndefined(n)||JSON.stringify(n)==="{}"?!0:!1},n.prototype.updateWidgetInstanceForDatebucket=function(n,t){var i,r,f,u,e;if(!BoldBIDashboard.isNullOrUndefined(n)&&!BoldBIDashboard.isNullOrUndefined(n.DataGroupInfo)&&!BoldBIDashboard.isNullOrUndefined(n.DataGroupInfo.FieldContainers))for(i=0;i<n.DataGroupInfo.FieldContainers.length;i++)for(r=0;r<n.DataGroupInfo.FieldContainers[i].FieldInfos.length;r++)f=n.DataGroupInfo.FieldContainers[i].FieldInfos[r].DateTimeFormat!==DateTimeFormat.None&&!n.DataGroupInfo.FieldContainers[i].FieldInfos[r].IsDisplayNameEdited,u=n.DataGroupInfo.FieldContainers[i].FieldInfos[r].UniqueColumnName,!f||BoldBIDashboard.isNullOrUndefined(t)||BoldBIDashboard.isNullOrUndefined(t.columnNameInfo)||BoldBIDashboard.isNullOrUndefined(t.columnNameInfo[u])||(e=t.columnNameInfo[u],n.DataGroupInfo.FieldContainers[i].FieldInfos[r].DisplayName=e);return n},n.IsStringNullorWhiteSpace=function(n){return BoldBIDashboard.isNullOrUndefined(n)?!0:n.toString().trim()===""?!0:!1},n.getToolTipFieldsDefaultContainer=function(){var n=new BoldBIDashboard.Dashboard.FieldContainerForUI;return n.Name="Tooltip",n.DisplayName="Tooltip",n.ContainerType=FieldContainerType.Numeric,n},n.getToolTipFieldInfos=function(n){var t=BoldBIDashboard.DashboardUtil.getToolTipFieldsContainer(n);return BoldBIDashboard.isNullOrUndefined(t)?null:t.FieldInfos},n.getToolTipFieldsContainer=function(n){return BoldBIDashboard.isNullOrUndefined(n.DataGroupInfo)?null:BoldBIDashboard.Dashboard.WidgetContainerHelper.getFieldContainer(n.DataGroupInfo,"Tooltip")},n.hideRenameMenuOption=function(n){return n.filter(function(n){return n.Name==="Rename"})[0].IsVisible=!1,n},n.unEscapeSelectedFilterDataforURLFilter=function(n){for(var t,i,r=0;r<n.length;r++)if(t=n[r],!BoldBIDashboard.isNullOrUndefined(t.InitialDimensionFilter.Text)&&t.InitialDimensionFilter.Text.length!==0&&!this.isDefaultValue(t.InitialDimensionFilter,lengthenEnum.Text,0,!0))for(i=0;i<t.InitialDimensionFilter.Text.length;i++)t.InitialDimensionFilter.Text[i]=t.InitialDimensionFilter.Text[i].toString().replaceAll(String.fromCharCode(252)+String.fromCharCode(252),",").replaceAll(String.fromCharCode(251)+String.fromCharCode(251),"&").replaceAll(String.fromCharCode(250)+String.fromCharCode(250),"=").replaceAll(String.fromCharCode(253)+String.fromCharCode(253),"?").replaceAll(String.fromCharCode(254)+String.fromCharCode(254),"/");return n},n.setCookie=function(n,t){document.cookie=location.protocol==="https:"?n+"="+t+"; SameSite=None; Secure; expires=18 Dec 9999 12:00:00 UTC; path=/":n+"="+t+"; expires=18 Dec 9999 12:00:00 UTC; path=/"},n.getCookie=function(n){for(var i=document.cookie.split(";"),t=0;t<i.length;t++)if(i[t].trim().indexOf(n+"=")===0)return i[t].substring((n+"=").length,i[t].length);return""},n.updateDSFields=function(n,t){var i=new BoldBIDashboard.Dashboard.DSField,r;if(i.Name=t.Name,i.DataField=t.Name,i.TableId=t.TableId,i.TableName=t.TableName,i.TypeName=t.DataType,i.Id=t.ID,i.IsExpression=t.IsExpression,i.IsAggregatedExpression=t.IsAggregatedExpression,i.DefaultHierarchyName=t.DefaultHierarchyName,i.DefaultLevelName=t.DefaultLevelName,i.IsParameterField=t.IsParameterField,i.ParameterMode=t.ParameterMode,n.push(i.Name),!BoldBIDashboard.isNullOrUndefined(t.ChildFields)&&t.ChildFields.length>0)for(r=0;r<t.ChildFields.length;r++)i.ChildFields.push(this.updateDSFields(n,t.ChildFields[r]));return i},n.sanitizeHTML=function(n){return n.replace(/[^\w. ]/gi,function(n){return"&#"+n.charCodeAt(0)+";"})},n.encodeText=function(n){return BoldBIDashboardDesigner.bbdesignerstatic$("<span />").text(n).html()},n.defaultColorPalette=["#826AF9","#2D99FF","#2CD9C5","#FF6C40","#FFE700","#F29D38","#FF4085","#6f53f8","#4ca8ff","#67e3d5","#ff754c","#ffee4c","#f4ac57","#ff4c8c","#2206ab"],n.autoformatdisplayText=BoldBIDashboardDesigner.getLocale().measureFormatting.autoText,n}();window.BoldBIDashboard.createObject("BoldBIDashboard.DashboardUtil",InternalReportUtil,window),function(n){n.Alert="alert";n.Confirm="confirm";n.Abort="abort"}(AlertType||(AlertType={})),function(n){n.warning="bbi-dashboarddesigner-warn-icon";n.errors="bbi-dashboarddesigner-error-icon";n.success="bbi-dashboarddesigner-success-icon";n.question="bbi-dashboarddesigner-question-icon";n.information="bbi-dashboarddesigner-information-icon"}(IconType||(IconType={})),function(n){n["bbi-dashboarddesigner-warn-icon"]="warning";n["bbi-dashboarddesigner-error-icon"]="error";n["bbi-dashboarddesigner-success-icon"]="success";n["bbi-dashboarddesigner-question-icon"]="question";n["bbi-dashboarddesigner-information-icon"]="information"}(DialogType||(DialogType={})),function(n){n.UniqueColumnName="ucn";n.ReportName="rn";n.InitialDateFilter="idf";n.InitialDimensionFilter="dimfi";n.InitialMeasureFilter="mfi";n.IsStdDateTime="isdt";n.Value="v";n.DateFilterCondition="a";n.DateFilterList="dfl";n.DateFilterType="dft";n.DisplayDateFilterList="ddfl";n.SelectedRangeforRelativeFilter="srrf";n.DateFormat="n";n.DimesnionFilterCondition="c";n.MeasureFilterCondition="c";n.IsMultiSelection="ims";n.IsRange="ir";n.Text="t";n.Values="vs";n.ColumnName="cn";n.FieldId="fi";n.IsGroupBarFilter="igbf";n.IsPoPWidget="ipw";n.PoPFilter="pf";n.DateFieldId="dfi";n.PrimaryType="ppt";n.SecondaryType="spt";n.PrimaryCustomRange="pcr";n.SecondaryCustomRange="scr";n.StartRange="sr";n.EndRange="er"}(shortenEnum||(shortenEnum={})),function(n){n.UniqueColumnName="UniqueColumnName";n.ReportName="ReportName";n.InitialDateFilter="InitialDateFilter";n.InitialDimensionFilter="InitialDimensionFilter";n.InitialMeasureFilter="InitialMeasureFilter";n.IsStdDateTime="IsStdDateTime";n.Value="Value";n.DateFilterCondition="DateFilterCondition";n.DateFilterList="DateFilterList";n.DateFilterType="DateFilterType";n.DisplayDateFilterList="DisplayDateFilterList";n.SelectedRangeforRelativeFilter="SelectedRangeforRelativeFilter";n.DateFormat="DateFormat";n.DimesnionFilterCondition="DimesnionFilterCondition";n.MeasureFilterCondition="MeasureFilterCondition";n.IsMultiSelection="IsMultiSelection";n.IsRange="IsRange";n.Text="Text";n.Values="Values";n.ColumnName="ColumnName";n.FieldId="FieldId";n.IsGroupBarFilter="IsGroupBarFilter";n.IsPoPWidget="IsPoPWidget";n.PoPFilter="PoPFilter";n.DateFieldId="DateFieldId";n.PrimaryType="PrimaryType";n.SecondaryType="SecondaryType";n.PrimaryCustomRange="PrimaryCustomRange";n.SecondaryCustomRange="SecondaryCustomRange";n.StartRange="StartRange";n.EndRange="EndRange"}(lengthenEnum||(lengthenEnum={}));ValueAliasPair=function(){function n(){this.text="";this.value=""}return n}();UrlLinkingWidgetInfo=function(){function n(){this.widgetId="";this.widgetName=""}return n}(),function(n){n.DrillDown="drillDown";n.Filter="filter";n.Linking="linking";n.ViewData="viewData";n.WidgetLinking="widgetLinking"}(WidgetAction||(WidgetAction={}));var AlertDialogInfo=function(){function n(){}return n}(),AlertDialogEventInfo=function(){function n(){this.isCancel=!1;this.alertDialogInfo=new AlertDialogInfo}return n}(),InternalDesignPanel=function(){function n(n,t){var i,u,f,e,o,r,s;for(this.rdlParser=null,this.propertyTimeOut=null,this.errorLoggerTimer=null,this.forwardTabIndex=0,this.reverseTabIndex=0,this.isWidgetFilterConfigNeeded=!1,this.selectedReportItems=[],this.selectedItems=[],this.isSelectedPropertyPanel=!1,this.dbrdErrors=[],this.rowsOccupied=0,this.rowsLength=24,this.columnsLength=48,this.minimumCellSize=20,this.cellHeightFactor=8,this.cellMargin=4,this.cellVerticalMargin=0,this.cellHorizontalMargin=0,this.minimumSpan=1,this.itemRestrictedColor="rgba(250, 199, 199, 0.6)",this.itemPlacingColor="rgba(210, 239, 247, 0.6)",this.selectedItemBounds={left:0,top:0,width:0,height:0},this.filterState={isInitialFilter:!1,isInitialFilterModified:!1},this.isDragStarted=!1,this.isResizeStarted=!1,this.isSettingIconClick=!1,this.isUpdateLabel=!1,this.resizePosition="",this.isWidgetItemRestricted=!1,this.dataConfigurationInstance=null,this.filterObject=null,this.isPasteAction=!1,this.banner=null,this.maximize=null,this.isIntialRender=!0,this.labelParameter=null,this.isExistingWidget=!1,this.timers=[],this.isMobileView=!1,this.isInitialLoad=!1,this.locale=null,this.combineWidgetJsonCollection=[],this.dashboardDesigner=n,this.bbdesigner$=this.dashboardDesigner.bbdesigner$,this.locale=n.getLocalizationContent(),this.dashboardDesigner.model.mode===BoldBIDashboard.Designer.mode.design&&(this.propertyPanel=this.dashboardDesigner.modules.propertyPanel),(this.dashboardDesigner.isViewMode()||this.dashboardDesigner.isDesignMode()||this.dashboardDesigner.isDesignPreviewMode())&&(this.dataConfigurationInstance=this.dashboardDesigner.modules.dataConfiguration),this.designId=this.dashboardDesigner._id,this.targetTag=t,i=this.getDesignProperty("Dashboard"),r=0;r<i.Actions.Items.length;r++)i.Actions.Items[r].name==="Pdf"?u=i.Actions.Items[r].value:i.Actions.Items[r].name==="Image"?f=i.Actions.Items[r].value:i.Actions.Items[r].name==="Excel"?e=i.Actions.Items[r].value:i.Actions.Items[r].name==="Comment"&&(o=i.Actions.Items[r].value);s={title:i.Header,description:i.Description,designId:this.designId,enableComment:o,enablePdf:u,enableImage:f,enableExcel:e};this.banner=new BoldBIDashboard.DashboardDesignerUtility.Banner(s,this.dashboardDesigner);this.minimumCellSize=this.dashboardDesigner.model.isPinWidget?1:this.minimumCellSize;this.singlePageRowLength=this.rowsLength;this.renderDesignCanvas();this.designPanel.bind(BoldBIDashboard.DashboardUtil.MouseEvent.mouseDown,this.bbdesigner$.proxy(this.designerMouseDown,this));(this.dashboardDesigner.isViewMode()||this.dashboardDesigner.isDesignMode()||this.dashboardDesigner.isDesignPreviewMode())&&(this.filterObject=this.dashboardDesigner.modules.masterSlaveFilter,this.labelParameter=this.dashboardDesigner.modules.labelParameter,this.widgetHelper=this.dashboardDesigner.modules.widgetHelper);this.isMobileView=(this.dashboardDesigner.model.mode===BoldBIDashboard.Designer.mode.view||this.dashboardDesigner.model.mode===BoldBIDashboard.Designer.mode.designpreview)&&this.dashboardDesigner.isMobileLayout()}return n.prototype.renderDesignCanvas=function(){if(this.designPanel=BoldBIDashboard.buildTag("div.bbi-dashboarddesigner-designPanel","",{display:"block",width:"100%",height:"100%"},{id:this.designId+"_designPanel"}),this.banner.createBanner(this.designPanel),BoldBIDashboard.isNullOrUndefined(this.targetTag)||this.targetTag.append(this.designPanel),this.dashboardDesigner.modules.Mode.renderCanvas(),this.designPanel.append(this.dashboardDesigner.modules.Mode.canvasContainer),!BoldBIDashboard.isNullOrUndefined(this.dashboardDesigner.modules.Mode.canvasContainer)){this.dashboardDesigner.modules.Mode.canvasContainer.off("scroll",this.bbdesigner$.proxy(this.canvasScroll,this));this.dashboardDesigner.modules.Mode.canvasContainer.on("scroll",this.bbdesigner$.proxy(this.canvasScroll,this))}this.banner.updateFilterOverviewByLayout()},n.prototype.renderCellItems=function(n,t,i){var u,f,r,e;for(i===void 0&&(i=!1),u="",f=!BoldBIDashboard.isNullOrUndefined(this.dashboardDesigner.model.widgetContainerSettings.margin)&&!this.dashboardDesigner.isDesignMode()?this.cellHorizontalMargin+"px "+this.cellVerticalMargin+"px":this.cellHorizontalMargin===0&&this.cellVerticalMargin===0?this.cellMargin+"px":this.cellHorizontalMargin+"px "+this.cellVerticalMargin+"px",r=n;r<t;r++)e="<div id='"+this.designId+"cellitem"+r+"' class = 'bbi-dashboarddesigner-cellitem' row ="+Math.floor(r/this.columnsLength)+" column="+r%this.columnsLength+"  style ='width:"+this.cellWidth+"px;height:"+this.cellHeight+"px;margin:"+f+";'><\/div>",u+=e;i?this.dashboardDesigner.modules.Mode.designCanvas.find(".bbi-dashboarddesigner-cellitem").last().after(u):this.dashboardDesigner.modules.Mode.designCanvas.append(u)},n.prototype.updateRowLengthForExport=function(n){var t=this.dashboardDesigner.model.dashboardFromData,i,r,u,f;!BoldBIDashboard.isNullOrUndefined(t.layoutData)&&t.loadFromData&&(i=JSON.parse(t.layoutData),!BoldBIDashboard.isNullOrUndefined(i.DesignCanvasSettings)&&(t.isExportImage||t.isExportPdf)&&!t.isControl&&i.DesignCanvasSettings.NumberOfRows>0&&i.DesignCanvasSettings.NumberOfRows!==this.singlePageRowLength&&(r=n.rdlJsonObj.WidgetData,r.length>0&&(u=[],r.forEach(function(n){u.push(n.ContainerSettings.Bounds.RowSpan+n.ContainerSettings.Bounds.Row)}),f=Math.max.apply(Math,u),f>this.singlePageRowLength&&(this.rowsLength=f))))},n.prototype.updateScrollBar=function(){if(!BoldBIDashboard.isNullOrUndefined(this.dashboardDesigner.modules.Mode.canvasContainer)&&(this.dashboardDesigner.model.mode===BoldBIDashboard.Designer.mode.design&&this.updateScrollbarSizeInCanvas(),this.selectedReportItems.length>0)){var i=this.dashboardDesigner.element.find("#"+this.designId+"_designerConfigurationPanel"),n=this.dashboardDesigner.modules.Mode.designCanvas.find(".bbi-selected-item"),t=n.position().left+n.width()+15;t>this.designPanel.width()&&i.css("display")==="block"&&this.dashboardDesigner.modules.Mode.canvasContainer.scrollLeft(t-this.designPanel.width())}},n.prototype.showMenuIcon=function(n){for(var i=this.dashboardDesigner.modules.Mode.designCanvas.find(".bbi-dbrditem"),o=0,t=0;t<i.length;t++){var f=this.bbdesigner$(i[t]).find(".bbi-dbrd-controlIcon-container"),u=BoldBIDashboard.Dashboard.WidgetHelper.getWidgetInstance(this.bbdesigner$(i[t])),r=u.getContainerSettings(),e=this.bbdesigner$(i[t]).find(".bbi-dbrd-control-menu-icon");n?((r.EnableImageExport||r.EnablePdfExport||r.EnableExcelExport||r.EnableCsvExport)&&e.first().css("display","block"),this.bbdesigner$(i[t]).find(".bbi-dbrd-maxim").css("display",r.ShowMaximize?r.Bounds.ColumnSpan<5?"none":"block":"none"),r.Bounds.ColumnSpan<5?(e.css({transform:"rotate(90deg)",padding:"2px"}),this.bbdesigner$(i[t]).find(".bbi-remove-control-filter").css("display","none")):(u.getJson().FilterSettings.ActAsMasterWidget&&(BoldBIDashboard.isNullOrUndefined(u.getJson().Data.Containers[0])||BoldBIDashboard.isNullOrUndefined(u.getJson().Data.Containers[0].FieldInfos[0])||!u.getJson().Data.Containers[0].FieldInfos[0].IsParameterField?this.bbdesigner$(i[t]).find(".bbi-remove-control-filter").css("display","block"):this.bbdesigner$(i[t]).find(".bbi-remove-control-filter").css("display","none")),this.bbdesigner$(i[t]).find(".bbi-dbrd-control-menu-icon").css({transform:"",padding:""})),e.parent().css("margin-right",r.ShowHeader?"0px":"8px")):(this.bbdesigner$(i[t]).find(".bbi-dbrd-control-menu-icon").css("display","none"),this.bbdesigner$(i[t]).find(".bbi-dbrd-maxim").css("display","none"));f.css("display")==="block"&&(o=f.outerWidth(!0)+10);this.dashboardDesigner.model.mode===BoldBIDashboard.Designer.mode.designpreview&&(this.bbdesigner$(i[t]).find(".bbi-dbrd-control-title-wrapper").css({width:"calc(100%)"}),BoldBIDashboard.Dashboard.WidgetContainerHelper.setControlIconAlignment(this.bbdesigner$(i[t]).find(".bbi-dbrd-control-description"),this.bbdesigner$(i[t]).find(".bbi-dbrd-control-title-wrapper"),f,this.bbdesigner$(i[t]).find(".bbi-dbrd-control-title")))}},n.prototype.getMenuWithSubMenuItems=function(n){var i=[],t;return i.push({id:"export",text:this.locale.banerPanel.exportTooltip,"class":"bbi-dashboard-banner-menu",items:this.dashboardDesigner.exportPanel.getExportMenuItems(!0,n.getContainerSettings())}),t=n.getJson(),BoldBIDashboard.isNullOrUndefined(t)||BoldBIDashboard.isNullOrUndefined(t.ContainerSettings)||!t.ContainerSettings.ViewData||i.push({id:"viewData",text:this.locale.viewData.viewData,"class":"bbi-dashboard-viewData-menu"}),i},n.prototype.updateDesignPanelSize=function(){var t,r,n,i;this.dashboardDesigner.model.mode===BoldBIDashboard.Designer.mode.view||this.dashboardDesigner.model.mode===BoldBIDashboard.Designer.mode.designpreview?(t=this.designPanel.closest("#"+this.designId+"_designerContainer").find("#"+this.designId+"_toolBar"),t.length>0&&!t.is(":visible")&&(r=t.height(),n=this.designPanel.closest("#"+this.designId+"_designAreaContainer"),n.length>0&&(n.css("height",n.height()+r),i=n.find("#"+this.designId+"_designSurfaceContainer"),i.length>0&&i.css("height",i.height()+r))),this.updatePreviewCanvasSize()):this.updateDesignCanvasSize()},n.prototype.updateTopPadding=function(n){if(this.dashboardDesigner.modules.Mode.canvasContainer.height()>n){var t=(this.dashboardDesigner.modules.Mode.canvasContainer.height()-(n+32))/2;this.dashboardDesigner.modules.Mode.canvasContainer.css("padding-top",t+24);this.dashboardDesigner.modules.Mode.canvasContainer.css("padding-bottom",t+24)}},n.prototype.updateCellSize=function(n,t){for(var i,r=t;r<n;r++)i=this.dashboardDesigner.modules.Mode.designCanvas.find("#"+this.designId+"cellitem"+r)[0],BoldBIDashboard.isNullOrUndefined(i)||(i.style.width=this.cellWidth+"px",i.style.height=this.cellHeight+"px",i.style.margin=!BoldBIDashboard.isNullOrUndefined(this.dashboardDesigner.model.widgetContainerSettings.margin)&&!this.dashboardDesigner.isDesignMode()?this.cellHorizontalMargin+"px "+this.cellVerticalMargin+"px":this.cellHorizontalMargin===0&&this.cellVerticalMargin===0?this.cellMargin+"px":this.cellHorizontalMargin+"px "+this.cellVerticalMargin+"px")},n.prototype.updatePreviewCanvasSize=function(){var h,u,r,i,c,f,e,o;this.dashboardDesigner.model.mode!==BoldBIDashboard.Designer.mode.view||this.dashboardDesigner.model.dashboardFromData.isExportImage||this.dashboardDesigner.model.dashboardFromData.isExportPdf||!this.dashboardDesigner.model.IsEmbed||(this.dashboardDesigner.updateStylesForDesignerElements("border","none"),this.dashboardDesigner.modules.Mode.canvasContainer.css("border","none"));BoldBIDashboard.isNullOrUndefined(this.dashboardDesigner.modules.Mode.scrollUIItem)||this.dashboardDesigner.modules.Mode.scrollUIItem.css("display","none");this.dashboardDesigner.model.dashboardFromData&&(this.dashboardDesigner.model.dashboardFromData.isExportPdf||this.dashboardDesigner.model.dashboardFromData.isExportImage)&&!this.dashboardDesigner.model.dashboardFromData.isControl&&this.rowsLength!==this.singlePageRowLength?this.dashboardDesigner.modules.Mode.canvasContainer.scrollTop(0).scrollLeft(0).css({padding:"0px",position:"relative",top:this.banner.bannerPanel.height()+2}):this.dashboardDesigner.modules.Mode.canvasContainer.scrollTop(0).scrollLeft(0).css({padding:"0px",position:"absolute",top:this.getCanvasTop(),height:this.designPanel.height()});h=this.dashboardDesigner.modules.Mode.canvasContainer.width();u=this.dashboardDesigner.modules.Mode.canvasContainer.height();this.cellMargin=5;var n=h,t=u,s=0;this.dashboardDesigner.isMobileLayout()?this.dashboardDesigner.isMobileLayout()&&this.dashboardDesigner.model.isPinWidget?(this.dashboardDesigner.modules.Mode.designCanvas.addClass("bbi-dashboarddesigner-designcanvas-pinwidget"),t=t-this.cellMargin):(r=this.dashboardDesigner.modules.Mode.designCanvas.css("padding"),r=r===""?"0":r,n=n-parseInt(r,10)-this.getBrowserScrollBarSize(),t=t-parseInt(r,10)):(!this.dashboardDesigner.model.dashboardFromData||this.dashboardDesigner.model.dashboardFromData.isExportPdf||this.dashboardDesigner.model.dashboardFromData.isExportImage||(n=this.rowsLength>this.singlePageRowLength?n-this.getBrowserScrollBarSize():n),s=this.minimumCellSize*this.singlePageRowLength+this.cellMargin*2,t=u>s?u:s);i=3;c=BoldBIDashboard.browserInfo();c.name==="mozilla"&&(i=2);this.dashboardDesigner.model.dashboardFromData&&(this.dashboardDesigner.model.dashboardFromData.isExportPdf||this.dashboardDesigner.model.dashboardFromData.isExportImage)&&(this.dashboardDesigner.model.designCanvasSettings.margin=!BoldBIDashboard.isNullOrUndefined(this.dashboardDesigner.model.designCanvasSettings.margin)&&!BoldBIDashboard.DashboardUtil.IsStringNullorWhiteSpace(this.dashboardDesigner.model.designCanvasSettings.margin.toString())?parseFloat(this.dashboardDesigner.model.designCanvasSettings.margin.toString()):null,this.dashboardDesigner.model.widgetContainerSettings.margin=!BoldBIDashboard.isNullOrUndefined(this.dashboardDesigner.model.widgetContainerSettings.margin)&&!BoldBIDashboard.DashboardUtil.IsStringNullorWhiteSpace(this.dashboardDesigner.model.widgetContainerSettings.margin.toString())?parseFloat(this.dashboardDesigner.model.widgetContainerSettings.margin.toString()):null);BoldBIDashboard.isNullOrUndefined(this.dashboardDesigner.model.designCanvasSettings.margin)||(n=n-this.dashboardDesigner.model.designCanvasSettings.margin*2,t=t-this.dashboardDesigner.model.designCanvasSettings.margin*2);f=BoldBIDashboard.isNullOrUndefined(this.dashboardDesigner.model.designCanvasSettings.margin)?this.dashboardDesigner.isMobileLayout()?0:1:0;this.cellWidth=n/(this.columnsLength*2+f);this.cellHeight=t/(this.singlePageRowLength*2+f);this.cellWidth=this.toFixedDown(this.cellWidth,i);this.cellHeight=this.toFixedDown(this.cellHeight,i);this.cellVerticalMargin=this.cellWidth/2;this.cellHorizontalMargin=this.cellHeight/2;this.cellVerticalMargin=this.toFixedDown(this.cellVerticalMargin,i);this.cellHorizontalMargin=this.toFixedDown(this.cellHorizontalMargin,i);e=this.cellVerticalMargin;o=this.cellHorizontalMargin;BoldBIDashboard.isNullOrUndefined(this.dashboardDesigner.model.widgetContainerSettings.margin)||(BoldBIDashboard.isNullOrUndefined(this.dashboardDesigner.model.designCanvasSettings.margin)&&(n=n-o*2,t=t-e*2),this.cellWidth=n/this.columnsLength-this.dashboardDesigner.model.widgetContainerSettings.margin*2,this.cellHeight=t/this.singlePageRowLength-this.dashboardDesigner.model.widgetContainerSettings.margin*2,this.cellWidth=this.toFixedDown(this.cellWidth,i),this.cellHeight=this.toFixedDown(this.cellHeight,i),this.cellHorizontalMargin=this.cellVerticalMargin=this.dashboardDesigner.model.widgetContainerSettings.margin,this.cellVerticalMargin=this.toFixedDown(this.cellVerticalMargin,i),this.cellHorizontalMargin=this.toFixedDown(this.cellHorizontalMargin,i));n=this.cellWidth*this.columnsLength+this.cellVerticalMargin*2*this.columnsLength;t=this.cellHeight*this.rowsLength+this.cellHorizontalMargin*2*this.rowsLength;this.dashboardDesigner.modules.Mode.designCanvas.css({width:n+"px",height:t+"px",padding:"0px",margin:this.dashboardDesigner.isMobileLayout()?"0 auto":BoldBIDashboard.isNullOrUndefined(this.dashboardDesigner.model.designCanvasSettings.margin)?o+"px "+e+"px":this.dashboardDesigner.model.designCanvasSettings.margin+"px "+this.dashboardDesigner.model.designCanvasSettings.margin+"px"});this.dashboardDesigner.model.dashboardFromData&&(this.dashboardDesigner.model.dashboardFromData.isExportPdf||this.dashboardDesigner.model.dashboardFromData.isExportImage)&&(this.rowsLength===this.singlePageRowLength?this.dashboardDesigner.modules.Mode.canvasContainer.css({height:"100%",overflow:"hidden"}):this.dashboardDesigner.modules.Mode.designCanvas.css({height:this.dashboardDesigner.modules.Mode.designCanvas.height()+this.banner.bannerPanel.height()+2}))},n.prototype.updateDesignCanvasSize=function(){this.dashboardDesigner.modules.Mode.canvasContainer.css({padding:"30px",position:"relative",top:"0px",height:this.designPanel.height()});this.cellMargin=5;this.cellVerticalMargin=0;this.cellHorizontalMargin=0;var i=this.dashboardDesigner.element.find("#"+this.designId+"_designerConfigurationPanel"),r=i.css("display")==="block"?this.dashboardDesigner.modules.Mode.canvasContainer.width()+i.width():this.dashboardDesigner.modules.Mode.canvasContainer.width(),u=this.dashboardDesigner.modules.Mode.canvasContainer.height()-this.dashboardDesigner.modules.Mode.scrollUIItem.outerHeight(!0),f=this.minimumCellSize*this.columnsLength+this.cellMargin*2,e=this.minimumCellSize*this.rowsLength+this.cellMargin*2,n=0,t=0;n=Math.max(f,r);t=Math.max(e,u);this.dashboardDesigner.modules.Mode.designCanvas.css({width:n+"px",height:t+"px"});this.calculateCellSize(n,t);this.setCanvasSize()},n.prototype.setCanvasSize=function(n){var t=this.cellWidth*this.columnsLength+this.cellMargin*2*this.columnsLength,i=this.cellHeight*this.rowsLength+this.cellMargin*2*this.rowsLength;this.dashboardDesigner.modules.Mode.designCanvas.css({width:t+"px",height:i+"px",margin:"0 auto"});this.updateTopPadding(i);this.dashboardDesigner.modules.Mode.scrollUIItem.css("width",t+"px");n||this.updateContainerPadding(t,i)},n.prototype.updateContainerPadding=function(n){var i=this.dashboardDesigner.modules.Mode.designCanvas.width(),r,t;i>n&&(r=parseFloat(this.dashboardDesigner.modules.Mode.canvasContainer.css("padding-left")),t=r+(i-n)/2,this.dashboardDesigner.modules.Mode.canvasContainer.css({"padding-left":t+"px","padding-right":t+"px"}))},n.prototype.calculateCellSize=function(n,t){var r=3,f=BoldBIDashboard.browserInfo(),u;f.name==="mozilla"&&(r=2);var e=n/(this.columnsLength*2),o=t/(this.singlePageRowLength*2),i=Math.min(e,o);i=this.toFixedDown(i,r);u=i/2;this.cellMargin=this.toFixedDown(u,r);this.cellWidth=this.cellHeight=i},n.prototype.updateScrollbarSizeInCanvas=function(){var n=!1;if((this.dashboardDesigner.modules.Mode.canvasContainer.width()<this.dashboardDesigner.modules.Mode.designCanvas.outerWidth()||this.dashboardDesigner.modules.Mode.canvasContainer.height()<this.dashboardDesigner.modules.Mode.designCanvas.outerHeight())&&(n=!0),!n){var i=this.dashboardDesigner.modules.Mode.designCanvas.outerWidth(),r=this.dashboardDesigner.modules.Mode.designCanvas.outerHeight(),u=parseInt(this.dashboardDesigner.modules.Mode.designCanvas.css("padding-top"),10),f=parseInt(this.dashboardDesigner.modules.Mode.designCanvas.css("padding-left"),10),t=this.getBrowserScrollBarSize();this.dashboardDesigner.modules.Mode.canvasContainer.width()<this.dashboardDesigner.modules.Mode.designCanvas.outerWidth()&&(r=r-t,u=u-t/2,n=!0);this.dashboardDesigner.modules.Mode.canvasContainer.height()<this.dashboardDesigner.modules.Mode.designCanvas.outerHeight()&&(i=i-t,f=f-t/2,n=!0);n&&this.setDesignCanvasSize(i,r,u,f)}},n.prototype.setDesignCanvasSize=function(n,t,i,r){this.dashboardDesigner.modules.Mode.designCanvas.css({width:n+"px",height:t+"px",padding:i+"px "+r+"px"})},n.prototype.getBrowserScrollBarSize=function(){var r=this.dashboardDesigner.element.parent(),n=BoldBIDashboard.buildTag("div","",{visibility:"hidden",overflow:"scroll",msOverflowStyle:"scrollbar"},{}),t=BoldBIDashboard.buildTag("div","",{},{}),i;return n.append(t),r.append(n),i=n.outerWidth(!0)-t.outerWidth(!0),n.remove(),i},n.prototype.updateCanvasItemSize=function(){var n=BoldBIDashboard.isNullOrUndefined(this.dashboardDesigner.modules.Mode.placingItem)?null:this.getCellItem(Number(this.dashboardDesigner.modules.Mode.placingItem.attr("row")),Number(this.dashboardDesigner.modules.Mode.placingItem.attr("column"))),r,i;BoldBIDashboard.isNullOrUndefined(n)||(r=n.position(),this.dashboardDesigner.modules.Mode.placingItem.css({left:r.left+this.cellMargin,top:r.top+this.cellMargin,width:n.width()+2,height:n.height()+2}));n=null;var u=this.dashboardDesigner.modules.Mode.designCanvas.find(".bbi-dbrditem"),t=this,f=function(i){var s=e.bbdesigner$(u[i]),r=BoldBIDashboard.Dashboard.WidgetHelper.getWidgetInstance(s),f=r.CellInfo;if(n=t.getCellItem(f.Row,f.Column),!BoldBIDashboard.isNullOrUndefined(n))try{setTimeout(function(){if(!r.ControlContainer.hasClass("bbi-dbrd-maximizeContainer")&&(t.updateContainerSize(r),BoldBIDashboard.Dashboard.WidgetContainerHelper.updateWidgetNotConfiguredPanel(r),t.updateNoDataContainerSize(r),r.designerInstance.hideDesignIndicator(),t.isMobileView&&!BoldBIDashboard.DashboardUtil.IsStringNullorWhiteSpace(r.getContainerSettings().CombineWidgetId))){var n=t.dashboardDesigner.modules.containerTypeWidgetHelper.getContainerWidget(r);n.updateChildForMobileMode(r);r.updateSize()}},0)}catch(o){t.logError({Source:r.Name,Error:o,Type:o.name})}},e=this;for(i=0;i<u.length;i++)f(i)},n.prototype.getCellItem=function(n,t){var r=this,u=this.dashboardDesigner.modules.Mode.designCanvas.find("[row="+n+"][column="+t+"]"),i=null;return u.each(function(n,t){var u=r.bbdesigner$(t);if(u.hasClass("bbi-dashboarddesigner-cellitem"))return i=u,!1}),i},n.prototype.getCellItemBounds=function(n,t,i,r){var f=this.getCellItem(n,t),u=f.position();return{left:u.left+this.cellMargin,top:u.top+this.cellMargin,width:this.getWidgetItemWidth(r),height:this.getWidgetItemHeight(i)}},n.prototype.getWidgetItemPosition=function(n,t){var i=this.getCellItem(n,t).position();return{left:i.left+(!BoldBIDashboard.isNullOrUndefined(this.dashboardDesigner.model.widgetContainerSettings.margin)&&!this.dashboardDesigner.isDesignMode()?this.cellVerticalMargin:this.cellVerticalMargin===0?this.cellMargin:this.cellVerticalMargin),top:i.top+(!BoldBIDashboard.isNullOrUndefined(this.dashboardDesigner.model.widgetContainerSettings.margin)&&!this.dashboardDesigner.isDesignMode()?this.cellHorizontalMargin:this.cellHorizontalMargin===0?this.cellMargin:this.cellHorizontalMargin)}},n.prototype.getWidgetItemWidth=function(n){var t=!BoldBIDashboard.isNullOrUndefined(this.dashboardDesigner.model.widgetContainerSettings.margin)&&!this.dashboardDesigner.isDesignMode()?this.cellVerticalMargin:this.cellVerticalMargin===0?this.cellMargin:this.cellVerticalMargin;return n*this.cellWidth+(n-1)*t*2},n.prototype.getWidgetItemHeight=function(n){var t=!BoldBIDashboard.isNullOrUndefined(this.dashboardDesigner.model.widgetContainerSettings.margin)&&!this.dashboardDesigner.isDesignMode()?this.cellHorizontalMargin:this.cellHorizontalMargin===0?this.cellMargin:this.cellHorizontalMargin;return n*this.cellHeight+(n-1)*t*2},n.prototype.getCanvasTop=function(){var n=0,r,i,t;return this.banner.bannerPanel.is(":visible")&&(r=2,n=this.banner.bannerPanel.height()+r),!BoldBIDashboard.isNullOrUndefined(this.dashboardDesigner.model.dashboardFromData)&&this.dashboardDesigner.model.dashboardFromData.loadFromData&&(i=this.designPanel.find(".bbi-dbrd-applied-filter"),i.length>0&&(n=n+i.height())),this.dashboardDesigner.isMobileLayout()&&(t=this.designPanel.find(".bbi-dashboarddesigner-overview-panel"),!BoldBIDashboard.isNullOrUndefined(t)&&t.is(":visible")&&(n=n+t.height())),n},n.prototype.updateWidgetItem=function(n,t,i,r,u,f){var e=BoldBIDashboard.Dashboard.WidgetHelper.getWidgetInstance(t.closest(".bbi-dbrditem")),l=!1,s="",w=!1,o="",b,a,v,h,c,y,p;if(this.dashboardDesigner.model.dashboardFromData.isControl)BoldBIDashboard.isNullOrUndefined(i.ContainerSettings.CombineWidgetId)&&i.ContainerSettings.CombineWidgetId===""||this.updateCombineWidgetsPosition(e);else if(this.isDragStarted&&r!==3&&(o=e.getContainerSettings().CombineWidgetId,this.dashboardDesigner.modules.containerTypeWidgetHelper.isDraggedIntoContainerWidget(e,n)?(n=this.dashboardDesigner.modules.containerTypeWidgetHelper.getContainerWidget(e).updateChildWidgetOnDrop(e,n),(BoldBIDashboard.isNullOrUndefined(o)||o===""||o!==e.getContainerSettings().CombineWidgetId)&&(l=!0),s=e.getContainerSettings().CombineWidgetId,this.updateFilterConfigurationForCombine(e),w=!0,this.dashboardDesigner.modules.containerPropertyItem.updateCombineWidgetBackground(e),BoldBIDashboard.DashboardUtil.IsStringNullorWhiteSpace(o)||BoldBIDashboard.DashboardUtil.IsStringNullorWhiteSpace(e.getContainerSettings().CombineWidgetId)||!l||(b=this.dashboardDesigner.modules.containerTypeWidgetHelper.getWidgetAsContainerWidget(this.widgetHelper.getAllWidgets().filter(function(n){return n.getJson().UniqueId===o})[0]),b.updateDraggedWidgetList(e,!1,!0))):(BoldBIDashboard.Dashboard.WidgetHelper.isContainerWidget(e)||e.ControlContainer.css("background-color","#ffffff"),BoldBIDashboard.isNullOrUndefined(e.getContainerSettings().CombineWidgetId)||e.getContainerSettings().CombineWidgetId===""||(l=!0,s=e.getContainerSettings().CombineWidgetId,this.dashboardDesigner.modules.containerTypeWidgetHelper.updateWidgetOnDraggedOutOfContainerWidget(e),this.updateFilterConfigurationForCombine(e))),this.invokePropertyPanel()),this.dashboardDesigner.model.isPinWidget&&(!this.dashboardDesigner.model.isPinWidget||BoldBIDashboard.Dashboard.WidgetHelper.isContainerWidget(e)))BoldBIDashboard.isNullOrUndefined(i.ContainerSettings.CombineWidgetId)&&i.ContainerSettings.CombineWidgetId===""||this.updateCombineWidgetsPosition(e);else{if(a=this.getWidgetItemPosition(n.Row,n.Column),BoldBIDashboard.isNullOrUndefined(e.getContainerSettings().CombineWidgetId)||e.getContainerSettings().CombineWidgetId==="")t.css({left:a.left,top:a.top});else{var k=this.dashboardDesigner.modules.containerTypeWidgetHelper.getContainerWidget(e),d=!BoldBIDashboard.isNullOrUndefined(this.dashboardDesigner.model.widgetContainerSettings.margin)&&!this.dashboardDesigner.isDesignMode()?this.cellVerticalMargin:this.cellVerticalMargin===0?this.cellMargin:this.cellVerticalMargin,g=!BoldBIDashboard.isNullOrUndefined(this.dashboardDesigner.model.widgetContainerSettings.margin)&&!this.dashboardDesigner.isDesignMode()?this.cellHorizontalMargin:this.cellHorizontalMargin===0?this.cellMargin:this.cellHorizontalMargin;k.positionChildWidget(e,a,d,g)}u!=="updatePosition"&&(v=this.isMobileView&&this.dashboardDesigner.model.isPinWidget?this.getWidgetItemHeight(n.RowSpan)+this.cellMargin:this.getWidgetItemHeight(n.RowSpan),this.isMobileView&&!this.dashboardDesigner.model.isPinWidget&&(v=e.getMobileViewHeight()),t.css({width:this.getWidgetItemWidth(n.ColumnSpan),height:v}),this.updateWidgetSelectionBox(t),BoldBIDashboard.Dashboard.WidgetContainerHelper.controlTitleResponsiveness(e,!1));this.dashboardDesigner.model.isPinWidget&&(!BoldBIDashboard.isNullOrUndefined(i.ContainerSettings.CombineWidgetId)||i.ContainerSettings.CombineWidgetId!=="")&&this.updateCombineWidgetsPosition(e)}h=[{Row:i.ContainerSettings.Bounds.Row,Column:i.ContainerSettings.Bounds.Column,RowSpan:i.ContainerSettings.Bounds.RowSpan,ColumnSpan:i.ContainerSettings.Bounds.ColumnSpan}];c=[{Row:n.Row,Column:n.Column,RowSpan:n.RowSpan,ColumnSpan:n.ColumnSpan}];e.updateWidgetBounds(n);BoldBIDashboard.isNullOrUndefined(BoldBIDashboardDesigner.editManager)||(l?w?BoldBIDashboard.isNullOrUndefined(o)||o===""||o===e.getContainerSettings().CombineWidgetId?(y=[],y.push(i),p=this.dashboardDesigner.modules.containerTypeWidgetHelper.getContainerIdsForChildWidgets(y,this.dashboardDesigner.modules.containerTypeWidgetHelper.getContainerWidgetWithId(s).getJson()),BoldBIDashboardDesigner.editManager.addCmdAction(r,u+"WithinContainerWidget",f,this.dashboardDesigner._id+"_"+i.UniqueName,[h],[c,s,p.length>0?p[0]:null])):BoldBIDashboardDesigner.editManager.addCmdAction(r,u+"WithinContainerWidget",f,this.dashboardDesigner._id+"_"+i.UniqueName,[h,o],[c,s]):BoldBIDashboardDesigner.editManager.addCmdAction(r,u+"WithinContainerWidget",f,this.dashboardDesigner._id+"_"+i.UniqueName,[h,s],c):BoldBIDashboardDesigner.editManager.addCmdAction(r,u,f,this.dashboardDesigner._id+"_"+i.UniqueName,h,c))},n.prototype.updateFilterConfigurationForCombine=function(n){var t=n.getJson();BoldBIDashboard.isNullOrUndefined(t)||BoldBIDashboard.isNullOrUndefined(t.FilterSettings)||(t.FilterSettings.ActAsMasterWidget&&(this.filterObject.RemoveSelectedWidgetFromFilterObject(),this.filterObject.ActAsMasterPropertyChangeInFilterConfigInfo(!0)),this.filterObject.IgnoreFilterActionPropertyChange(t.FilterSettings.IgnoreFilterActions));(n.IsPoPWidget||n.IsPoPSupportedWidget)&&!BoldBIDashboard.isNullOrUndefined(this.filterObject.FilterConfigurationModel)&&this.filterObject.updatePoPSettings()},n.prototype.designerMouseDown=function(n){var o,i,t,r,u,f,e;if(this.dashboardDesigner.model.mode!==BoldBIDashboard.Designer.mode.view&&this.dashboardDesigner.model.mode!==BoldBIDashboard.Designer.mode.designpreview&&(o=this.isScroller(n),!o)){if(this.wireDesignerEvents(),this.mouseDownTarget=this.bbdesigner$(n.target),this.startPoint=this.getMousePosition(n),this.initialScrollPosition=this.getPanelScrollPosition(),this.mouseDownTarget.hasClass("bbi-dashboarddesigner-cellitem")||this.dashboardDesigner.modules.Mode.placingItem.css({display:"none","background-color":this.itemPlacingColor}),i=this.mouseDownTarget.closest(".bbi-dbrditem"),t=BoldBIDashboard.Dashboard.WidgetHelper.getWidgetInstance(i),this.validateHelperIconClick(this.mouseDownTarget),BoldBIDashboard.isNullOrUndefined(t))this.enableorDisablePropIcon(!1);else{r={handled:!1,currentTarget:this.mouseDownTarget};t.onWidgetSettingsIconClick(r);!r.handled&&this.isSettingIconClick&&this.performWidgetSettingOption()}this.isResizeStarted?(this.resizePosition=this.getResizePosition(this.mouseDownTarget),u=this.getCursor(this.resizePosition),this.setDragItem(u),this.dashboardDesigner.element.find("#"+this.designId+"_designAreaContainer").css("cursor",u)):this.mouseDownTarget.hasClass("bbi-dashboarddesigner-cellitem")?(this.removeWidgetSelection(),f=this.mouseDownTarget.position(),this.dashboardDesigner.modules.Mode.placingItem.attr({row:this.mouseDownTarget.attr("row"),column:this.mouseDownTarget.attr("column")}),this.dashboardDesigner.modules.Mode.placingItem.css({display:"block","background-color":"transparent",left:f.left+this.cellMargin,top:f.top+this.cellMargin,width:this.mouseDownTarget.width(),height:this.mouseDownTarget.height()}),this.setPropertyPanelItem()):(e=this.selectedReportItems.length>0&&i.length>0?this.widgetHelper.getCurrentWidgetInstance()!==t:!0,e&&!BoldBIDashboard.isNullOrUndefined(t)?(this.removeWidgetSelection(),this.widgetSelection(t.ControlContainer),this.invokePropertyPanel()):e&&(this.removeWidgetSelection(),this.setPropertyPanelItem()))}},n.prototype.designCanvasMouseMove=function(n){this.dashboardDesigner.model.mode!==BoldBIDashboard.Designer.mode.view&&this.dashboardDesigner.model.mode!==BoldBIDashboard.Designer.mode.designpreview&&(this.endPoint=this.getMousePosition(n),this.validateItemMove(),this.endScrollPosition=this.getPanelScrollPosition(),this.isDragStarted&&this.selectedReportItems.length>0?(this.scrollPanel(n),this.performItemMove(!1)):this.isResizeStarted&&this.performItemResize(!1))},n.prototype.validateItemMove=function(){if(this.selectedReportItems.length>0&&!this.isResizeStarted&&!this.isDragStarted&&(Math.abs(this.endPoint.x-this.startPoint.x)>0||Math.abs(this.endPoint.y-this.startPoint.y)>0)&&this.isAllowItemMove()){this.isDragStarted=!0;var n=this.selectedReportItems[0];n.hasClass("e-combobox-item")?this.bbdesigner$("#"+this.designId+"comboBoxElement"+n.attr("id")+"_popup_list_wrapper").css("display","none"):n.hasClass("e-datepicker-item")&&this.bbdesigner$("#"+this.designId+"Element"+n.attr("id")+"_popup_wrapper").css("display","none");this.setDragItem("move")}},n.prototype.isAllowItemMove=function(){var n=!0,t,i;return this.mouseDownTarget.closest(".e-scrollbar").length>0?n=!1:this.selectedReportItems[0].hasClass("e-label-item")?(t=this.selectedReportItems[0].find(".bbi-label-element"),n=t.length>0&&!t.hasClass("e-editable-area")):this.selectedReportItems[0].hasClass("e-rte-item")?(i=this.selectedReportItems[0].find(".e-rteContent"),n=i.length>0&&!i.hasClass("e-editable-area")):this.selectedReportItems[0].hasClass("e-rangeslider-item")&&this.mouseDownTarget.closest(".e-slider-wrap").length>0?n=!1:this.selectedReportItems[0].hasClass("e-rangenavigator-item")&&(this.mouseDownTarget.closest("#"+this.bbdesigner$(this.selectedReportItems[0]).find(".e-rangenavigatoritem").children().attr("id")+"_LeftSlider_ThumpGrip").length>0||this.mouseDownTarget.closest("#"+this.bbdesigner$(this.selectedReportItems[0]).find(".e-rangenavigatoritem").children().attr("id")+"_RightSlider_ThumpGrip").length>0||this.mouseDownTarget.closest("#"+this.bbdesigner$(this.selectedReportItems[0]).find(".e-rangenavigatoritem").children().attr("id")+"_LeftSlider_ThumpSymbol").length>0||this.mouseDownTarget.closest("#"+this.bbdesigner$(this.selectedReportItems[0]).find(".e-rangenavigatoritem").children().attr("id")+"_RightSlider_ThumpSymbol").length>0||this.mouseDownTarget.closest("#"+this.bbdesigner$(this.selectedReportItems[0]).find(".e-rangenavigatoritem").children().attr("id")+"_SelectedArea").length>0)&&(n=!1),n},n.prototype.designCanvasMouseUp=function(n){var t=BoldBIDashboard.Dashboard.WidgetHelper.getWidgetInstance(this.bbdesigner$(n.currentTarget.activeElement).closest(".bbi-dbrditem")),i;(BoldBIDashboard.isNullOrUndefined(t)||(i=BoldBIDashboard.Dashboard.WidgetHelper.designerEventHandler(t,BoldBIDashboard.Dashboard.Module.designPanel,BoldBIDashboard.Dashboard.EventType.mouseUp,n),!i))&&(this.endPoint=this.getMousePosition(n),this.endScrollPosition=this.getPanelScrollPosition(),this.selectedReportItems.length>0&&(this.isDragStarted?(this.performItemMove(!0),this.showWidgetSelectionBox()):this.isResizeStarted&&(this.performItemResize(!0),this.showWidgetSelectionBox()),this.selectedReportItems[0].find(".e-widget-selectionbox").css("z-index",999)),this.isSettingIconClick=!1,this.isUpdateLabel=!1,this.isResizeStarted=!1,this.isDragStarted=!1,this.resizePosition="",this.dashboardDesigner.modules.Mode.helperItem.css("display","none"),this.dashboardDesigner.modules.Mode.placingItem.css("border-color","#179bd7"),this.mouseDownTarget.hasClass("bbi-dashboarddesigner-cellitem")||this.dashboardDesigner.modules.Mode.placingItem.css("display","none"),this.dashboardDesigner.element.find("#"+this.designId+"_designAreaContainer").css("cursor","auto"),this.unWiredDesignerEvents())},n.prototype.getPanelScrollPosition=function(){return{x:this.dashboardDesigner.modules.Mode.canvasContainer.scrollLeft(),y:this.dashboardDesigner.modules.Mode.canvasContainer.scrollTop()}},n.prototype.getCanvasPadding=function(){return{left:parseFloat(this.dashboardDesigner.modules.Mode.designCanvas.css("padding-left")),top:parseFloat(this.dashboardDesigner.modules.Mode.designCanvas.css("padding-top")),right:parseFloat(this.dashboardDesigner.modules.Mode.designCanvas.css("padding-right")),bottom:parseFloat(this.dashboardDesigner.modules.Mode.designCanvas.css("padding-bottom"))}},n.prototype.scrollPanel=function(n){var e=this.getPosition("pageX",n),o=this.getPosition("pageY",n),i=10,r=this.designPanel.offset(),t=this.getCanvasPadding(),u,f;this.designPanel.width()<=e-r.left+this.cellWidth?(u=r.left+this.dashboardDesigner.modules.Mode.designCanvas.width()+t.left+t.right,u>=this.endScrollPosition.x+this.designPanel.width()+t.left&&this.dashboardDesigner.modules.Mode.canvasContainer.scrollLeft(this.endScrollPosition.x+i)):r.left>=e-t.left-this.cellWidth&&(f=this.endScrollPosition.x-i>0?this.endScrollPosition.x-i:0,this.dashboardDesigner.modules.Mode.canvasContainer.scrollLeft(f));this.designPanel.height()<=o-r.top+this.cellWidth?(u=r.top+this.dashboardDesigner.modules.Mode.designCanvas.height()+t.top+t.bottom,u>=this.endScrollPosition.y+this.designPanel.height()+t.top&&this.dashboardDesigner.modules.Mode.canvasContainer.scrollTop(this.endScrollPosition.y+i)):r.top>=o-t.top-this.cellWidth&&(f=this.endScrollPosition.y-i>0?this.endScrollPosition.y-i:0,this.dashboardDesigner.modules.Mode.canvasContainer.scrollTop(f))},n.prototype.isScroller=function(n){return!BoldBIDashboard.isNullOrUndefined(this.bbdesigner$(n.target))&&!BoldBIDashboard.isNullOrUndefined(this.bbdesigner$(n.target).parents(".e-canvas-scrollbar"))&&this.bbdesigner$(n.target).parents(".e-canvas-scrollbar").length>0?!0:!1},n.prototype.getPosition=function(n,t){var i=0;return t[n]?i=t[n]:t.originalEvent&&t.originalEvent.targetTouches&&t.originalEvent.targetTouches.length>0?i=t.originalEvent.targetTouches[0][n]:t.originalEvent&&t.originalEvent.changedTouches&&t.originalEvent.changedTouches.length>0&&(i=t.originalEvent.changedTouches[0][n]),i},n.prototype.updateSelectedItemBounds=function(n){if(!BoldBIDashboard.isNullOrUndefined(n.getContainerSettings().CombineWidgetId)&&n.getContainerSettings().CombineWidgetId!==""){var r=this.dashboardDesigner.modules.containerTypeWidgetHelper.getContainerWidget(n),t=r.getChildWidgetPosition(n),i=this.getWidgetItemPosition(t.Row,t.Column);this.selectedItemBounds.left=i.left;this.selectedItemBounds.top=i.top}},n.prototype.performItemMove=function(n){var s,t,h,c,r,u;this.selectedReportItems[0].find(".e-widget-selectionbox").css("z-index",999);this.hideWidgetSelectionBox();s=this.getOffsetPosition(this.dashboardDesigner.modules.Mode.designCanvas.offset());t=this.widgetHelper.getCurrentWidgetInstance();this.updateSelectedItemBounds(t);var e=this.selectedItemBounds.left+(this.endPoint.x+this.endScrollPosition.x-(this.startPoint.x+this.initialScrollPosition.x)),o=this.selectedItemBounds.top+(this.endPoint.y+this.endScrollPosition.y-(this.startPoint.y+this.initialScrollPosition.y)),v={x:s.left+e+this.cellMargin,y:s.top+o+this.cellMargin,width:this.selectedItemBounds.width,height:this.selectedItemBounds.height},f=this.getTargetElement(v),l=parseFloat(this.dashboardDesigner.modules.Mode.designCanvas.css("padding-left")),a=parseFloat(this.dashboardDesigner.modules.Mode.designCanvas.css("padding-top")),i=e<0+l||o<0+a;!BoldBIDashboard.isNullOrUndefined(f)&&f.hasClass("bbi-dashboarddesigner-cellitem")?(this.dashboardDesigner.modules.Mode.placingItem.css("display","block"),u=this.dashboardDesigner.modules.Mode.placingItem.position(),(u.left+this.dashboardDesigner.modules.Mode.placingItem.width()+this.cellMargin-l>this.dashboardDesigner.modules.Mode.designCanvas.width()||u.top+this.dashboardDesigner.modules.Mode.placingItem.height()+this.cellMargin-a>this.dashboardDesigner.modules.Mode.designCanvas.height())&&(i=!0)):(h=this.dashboardDesigner.modules.Mode.helperItem.position(),c=2,(h.top+this.dashboardDesigner.modules.Mode.helperItem.height()+this.cellMargin+c>this.dashboardDesigner.modules.Mode.designCanvas.height()+a||h.left+this.dashboardDesigner.modules.Mode.helperItem.width()+this.cellMargin+c>this.dashboardDesigner.modules.Mode.designCanvas.width()+l)&&(i=!0,this.dashboardDesigner.modules.Mode.placingItem.css("display","none")));this.dashboardDesigner.modules.Mode.helperItem.css({display:"block","background-color":i?this.itemRestrictedColor:"transparent","border-color":i?"#f13232":"#cccccc",left:e+this.dashboardDesigner.modules.Mode.helperItem.width()>this.dashboardDesigner.modules.Mode.designCanvas.width()?this.dashboardDesigner.modules.Mode.designCanvas.width()-this.dashboardDesigner.modules.Mode.helperItem.width():e,top:o+this.dashboardDesigner.modules.Mode.helperItem.height()>this.dashboardDesigner.modules.Mode.designCanvas.height()?this.dashboardDesigner.modules.Mode.designCanvas.height()-this.dashboardDesigner.modules.Mode.helperItem.height():o});BoldBIDashboard.isNullOrUndefined(f)||(r={Row:Number(f.attr("row")),Column:Number(f.attr("column")),RowSpan:t.CellInfo.RowSpan,ColumnSpan:t.CellInfo.ColumnSpan},this.dashboardDesigner.modules.Mode.placingItem.attr({row:r.Row,column:r.Column,rowSpan:r.RowSpan,colSpan:r.ColumnSpan}),this.isWidgetItemRestricted=this.isItemRestricted(r),u=f.position(),this.dashboardDesigner.modules.Mode.placingItem.css({"z-index":1001,"background-color":this.isWidgetItemRestricted?this.itemRestrictedColor:this.itemPlacingColor,"border-color":this.isWidgetItemRestricted?"#f13232":"#179bd7",left:this.cellMargin+u.left,top:this.cellMargin+u.top}));this.dashboardDesigner.modules.Mode.placingItem.css("display",i?"none":"block");!n||this.isWidgetItemRestricted||i||(t.CellInfo.Row=Number(this.dashboardDesigner.modules.Mode.placingItem.attr("row")),t.CellInfo.Column=Number(this.dashboardDesigner.modules.Mode.placingItem.attr("column")),t.updatePosition(t.CellInfo),this.dashboardDesigner.modules.serialization.notifyChange());i&&!this.isWidgetItemRestricted&&this.dashboardDesigner.modules.Mode.placingItem.css("display","none")},n.prototype.performItemResize=function(n){this.selectedReportItems[0].find(".e-widget-selectionbox").css("z-index",999);this.hideWidgetSelectionBox();switch(this.resizePosition){case"LeftTop":this.performLeftTop(n);break;case"LeftCenter":this.performLeftCenter(n);break;case"LeftBottom":this.performLeftBottom(n);break;case"CenterTop":this.performCenterTop(n);break;case"CenterBottom":this.performCenterBottom(n);break;case"RightCenter":this.performRightCenter(n);break;case"RightBottom":this.performRightBottom(n)}n&&this.updateWidgetSelectionBox(this.selectedReportItems[0])},n.prototype.updateNoDataContainerSize=function(n){var r=n.ContentContainer.height()-59,t=n.ContentContainer.height(),i=n.ContentContainer.width();setTimeout(function(){t<40?(n.NoDataDispalyContainer.find(".bbi-widget-info-icon").css("display","none"),n.NoDataDispalyContainer.find(".e-nodata").css("display","none")):t>=40&&t<65||t<=65&&i<190||t<95&&i<90||t<120&&i<65||t<145&&i<40||t<200&&i<15?(n.NoDataDispalyContainer.find(".e-nodata").css("display","none"),n.NoDataDispalyContainer.find(".bbi-widget-info-icon").css("display","block")):(n.NoDataDispalyContainer.find(".bbi-widget-info-icon").css("display","block"),n.NoDataDispalyContainer.find(".e-nodata").css("display","block"));i<40?(n.NoDataDispalyContainer.find(".bbi-widget-info-icon").css({width:i,overflow:"hidden"}),n.NoDataDispalyContainer.find(".e-nodata").css({width:i,overflow:"hidden"})):(n.NoDataDispalyContainer.find(".bbi-widget-info-icon").css({width:"",overflow:"auto"}),n.NoDataDispalyContainer.find(".e-nodata").css({width:"",overflow:"auto"}));r>0&&n.NoDataDispalyContainer.find(".bbi-dbrd-control-nodatainfo.e-info-div.bbi-align-center").css({"margin-top":r/2})},0)},n.prototype.updateContainerSize=function(n){BoldBIDashboard.Dashboard.WidgetContainerHelper.updateMinMobileViewHeight(n,n.designerInstance);n.updateContainerPadding();n.updateControlContainerPadding();n.updateSubTitleForContainer();n.getBackgroundForControlContainer();BoldBIDashboard.Dashboard.WidgetHelper.isDataWidget(n)?(n.isNecessaryDataConfigured()?n.updateSize(n.CellInfo):(BoldBIDashboard.isNullOrUndefined(n.CellInfo)||this.updateWidgetItem(n.CellInfo,n.ControlContainer,n.getJson(),CommandAction.ItemResize,"updateSize",n.RootCss),BoldBIDashboard.Dashboard.WidgetContainerHelper.updateNoNecessaryDataContainerSize(n.ContentContainer)),this.updateFontSizeForTitle(n)):n.updateSize(n.CellInfo)},n.prototype.performLeftTop=function(n){var t=this.widgetHelper.getCurrentWidgetInstance(),u,i,f,e,r,v,y;this.updateSelectedItemBounds(t);var l=this.selectedItemBounds.left-(this.startPoint.x-this.endPoint.x),a=this.selectedItemBounds.top-(this.startPoint.y-this.endPoint.y),o=l>this.selectedItemBounds.left+this.selectedItemBounds.width||l<0||a>this.selectedItemBounds.top+this.selectedItemBounds.height||a<0;if(this.dashboardDesigner.modules.Mode.helperItem.css({display:o?"none":"block","background-color":o?this.itemRestrictedColor:"transparent","border-color":o?"#f13232":"#cccccc",left:l,top:a,width:this.selectedItemBounds.width+(this.startPoint.x-this.endPoint.x),height:this.selectedItemBounds.height+(this.startPoint.y-this.endPoint.y)}),u=this.getTargetElement({x:this.endPoint.x,y:this.endPoint.y,width:1,height:1}),BoldBIDashboard.isNullOrUndefined(u))this.dashboardDesigner.modules.Mode.placingItem.css({display:"block","z-index":1003,"background-color":"transparent"});else{i=u.position();i={left:i.left+this.cellMargin,top:i.top+this.cellMargin};var p=this.selectedItemBounds.left-i.left+this.selectedItemBounds.width,w=this.selectedItemBounds.top-i.top+this.selectedItemBounds.height,s=t.CellInfo.Row+t.CellInfo.RowSpan-this.minimumSpan;BoldBIDashboard.isNullOrUndefined(t.getContainerSettings().CombineWidgetId)||t.getContainerSettings().CombineWidgetId===""||(f=this.dashboardDesigner.modules.containerTypeWidgetHelper.getContainerWidget(t),e=f.getChildWidgetPosition(f),s=s+e.Row);var b=t.CellInfo.Column+t.CellInfo.ColumnSpan-this.minimumSpan,h=Number(u.attr("row"))>s?s:Number(u.attr("row")),c=Number(u.attr("column"))>b?b:Number(u.attr("column"));BoldBIDashboard.isNullOrUndefined(t.getContainerSettings().CombineWidgetId)||t.getContainerSettings().CombineWidgetId===""||(f=this.dashboardDesigner.modules.containerTypeWidgetHelper.getContainerWidget(t),e=f.getChildWidgetPosition(f),c=c-e.Column,h=h-e.Row);r={Row:h,Column:c,RowSpan:t.CellInfo.Row+t.CellInfo.RowSpan-h,ColumnSpan:t.CellInfo.Column+t.CellInfo.ColumnSpan-c};this.dashboardDesigner.modules.Mode.placingItem.attr({row:r.Row,column:r.Column,rowSpan:r.RowSpan,colSpan:r.ColumnSpan});this.isWidgetItemRestricted=this.isItemRestricted(r);BoldBIDashboard.isNullOrUndefined(t.getContainerSettings().CombineWidgetId)||t.getContainerSettings().CombineWidgetId===""||this.isWidgetRestrictedInsideCombineWidget(r,t);BoldBIDashboard.Dashboard.WidgetHelper.isContainerWidget(t)&&this.isCombineItemRestricted(r,t,t.ControlContainer);this.dashboardDesigner.modules.Mode.placingItem.css({display:"block","z-index":1003,"background-color":"transparent","border-color":this.isWidgetItemRestricted?"#f13232":"#179bd7",left:o?this.dashboardDesigner.modules.Mode.placingItem.position().left:i.left,top:o?this.dashboardDesigner.modules.Mode.placingItem.position().top:i.top,width:p>this.cellWidth?p:this.cellWidth,height:w>this.cellHeight?w:this.cellHeight})}n&&!this.isWidgetItemRestricted&&(v=JSON.parse(JSON.stringify(t.CellInfo)),t.CellInfo.Row=Number(this.dashboardDesigner.modules.Mode.placingItem.attr("row")),t.CellInfo.Column=Number(this.dashboardDesigner.modules.Mode.placingItem.attr("column")),t.CellInfo.RowSpan=Number(this.dashboardDesigner.modules.Mode.placingItem.attr("rowSpan")),t.CellInfo.ColumnSpan=Number(this.dashboardDesigner.modules.Mode.placingItem.attr("colSpan")),this.updateContainerSize(t),y=JSON.parse(JSON.stringify(t.CellInfo)),this.updateWidgetOnResize(v,y,t),this.dashboardDesigner.modules.serialization.notifyChange())},n.prototype.performLeftCenter=function(n){var t=this.widgetHelper.getCurrentWidgetInstance(),o,u,f,e,r,s,i,c,l;if(this.updateSelectedItemBounds(t),o=this.selectedItemBounds.left-(this.startPoint.x-this.endPoint.x),u=o>this.selectedItemBounds.left+this.selectedItemBounds.width||o<0,this.dashboardDesigner.modules.Mode.helperItem.css({display:u?"none":"block","background-color":u?this.itemRestrictedColor:"transparent","border-color":u?"#f13232":"#cccccc",left:o,top:this.selectedItemBounds.top,width:this.selectedItemBounds.width+(this.startPoint.x-this.endPoint.x)}),f=this.getTargetElement({x:this.endPoint.x,y:this.endPoint.y,width:1,height:1},!0,!0),BoldBIDashboard.isNullOrUndefined(f))this.dashboardDesigner.modules.Mode.placingItem.css({display:"block","z-index":1003,"background-color":"transparent"});else{var a=f.position().left+this.cellMargin,v=this.selectedItemBounds.left-a+this.selectedItemBounds.width,h=t.CellInfo.Column+t.CellInfo.ColumnSpan-this.minimumSpan;BoldBIDashboard.isNullOrUndefined(t.getContainerSettings().CombineWidgetId)||t.getContainerSettings().CombineWidgetId===""||(r=this.dashboardDesigner.modules.containerTypeWidgetHelper.getContainerWidget(t),s=r.getChildWidgetPosition(r),h=h+s.Column);e=Number(f.attr("column"))>h?h:Number(f.attr("column"));BoldBIDashboard.isNullOrUndefined(t.getContainerSettings().CombineWidgetId)||t.getContainerSettings().CombineWidgetId===""||(r=this.dashboardDesigner.modules.containerTypeWidgetHelper.getContainerWidget(t),s=r.getChildWidgetPosition(r),e=e-s.Column);i={Row:t.CellInfo.Row,Column:e,RowSpan:t.CellInfo.RowSpan,ColumnSpan:t.CellInfo.Column+t.CellInfo.ColumnSpan-e};this.dashboardDesigner.modules.Mode.placingItem.attr({row:i.Row,column:i.Column,rowSpan:i.RowSpan,colSpan:i.ColumnSpan});this.isWidgetItemRestricted=this.isItemRestricted(i);BoldBIDashboard.isNullOrUndefined(t.getContainerSettings().CombineWidgetId)||t.getContainerSettings().CombineWidgetId===""||this.isWidgetRestrictedInsideCombineWidget(i,t);BoldBIDashboard.Dashboard.WidgetHelper.isContainerWidget(t)&&this.isCombineItemRestricted(i,t,t.ControlContainer);this.dashboardDesigner.modules.Mode.placingItem.css({display:"block","z-index":1003,"background-color":"transparent","border-color":this.isWidgetItemRestricted?"#f13232":"#179bd7",left:u?this.dashboardDesigner.modules.Mode.placingItem.position().left:a,top:this.selectedItemBounds.top,width:v>this.cellWidth?v:this.cellWidth})}n&&!this.isWidgetItemRestricted&&(c=JSON.parse(JSON.stringify(t.CellInfo)),t.CellInfo.Column=Number(this.dashboardDesigner.modules.Mode.placingItem.attr("column")),t.CellInfo.ColumnSpan=Number(this.dashboardDesigner.modules.Mode.placingItem.attr("colSpan")),this.updateContainerSize(t),l=JSON.parse(JSON.stringify(t.CellInfo)),this.updateWidgetOnResize(c,l,t),this.dashboardDesigner.modules.serialization.notifyChange())},n.prototype.performLeftBottom=function(n){var t=this.widgetHelper.getCurrentWidgetInstance(),i,u,s,r,a,f,v;this.updateSelectedItemBounds(t);var h=this.selectedItemBounds.left-(this.startPoint.x-this.endPoint.x),c=this.selectedItemBounds.height+(this.endPoint.y-this.startPoint.y),e=h>this.selectedItemBounds.left+this.selectedItemBounds.width||h<0||c<0||this.selectedItemBounds.top+c>this.dashboardDesigner.modules.Mode.designCanvas.height();if(this.dashboardDesigner.modules.Mode.helperItem.css({display:e?"none":"block","background-color":e?this.itemRestrictedColor:"transparent","border-color":e?"#f13232":"#cccccc",left:h,top:this.selectedItemBounds.top,height:c,width:this.selectedItemBounds.width+(this.startPoint.x-this.endPoint.x)}),i=this.getTargetElement({x:this.endPoint.x,y:this.endPoint.y,width:1,height:1}),BoldBIDashboard.isNullOrUndefined(i))this.dashboardDesigner.modules.Mode.placingItem.css({display:"block","z-index":1003,"background-color":"transparent"});else{u=i.position();u={left:u.left+this.cellMargin,top:u.top+this.cellMargin};var y=this.selectedItemBounds.left-u.left+this.selectedItemBounds.width,p=u.top+i.height()+2-this.selectedItemBounds.top,l=Number(i.attr("row"))<t.CellInfo.Row?t.CellInfo.Row:Number(i.attr("row")),w=t.CellInfo.Column+t.CellInfo.ColumnSpan-this.minimumSpan,o=Number(i.attr("column"))>w?w:Number(i.attr("column"));BoldBIDashboard.isNullOrUndefined(t.getContainerSettings().CombineWidgetId)||t.getContainerSettings().CombineWidgetId===""||(f=this.dashboardDesigner.modules.containerTypeWidgetHelper.getContainerWidget(t),s=this.dashboardDesigner.modules.containerTypeWidgetHelper.getRootPosition(f),o=o-s.Column,l=Math.abs(l-s.Row));r={Row:t.CellInfo.Row,Column:o,RowSpan:l-t.CellInfo.Row+this.minimumSpan,ColumnSpan:t.CellInfo.Column+t.CellInfo.ColumnSpan-o};this.dashboardDesigner.modules.Mode.placingItem.attr({row:r.Row,column:r.Column,rowSpan:r.RowSpan,colSpan:r.ColumnSpan});this.isWidgetItemRestricted=this.isItemRestricted(r);BoldBIDashboard.isNullOrUndefined(t.getContainerSettings().CombineWidgetId)||t.getContainerSettings().CombineWidgetId===""||this.isWidgetRestrictedInsideCombineWidget(r,t);BoldBIDashboard.Dashboard.WidgetHelper.isContainerWidget(t)&&this.isCombineItemRestricted(r,t,t.ControlContainer);this.dashboardDesigner.modules.Mode.placingItem.css({display:"block","z-index":1003,"background-color":"transparent","border-color":this.isWidgetItemRestricted?"#f13232":"#179bd7",left:e?this.dashboardDesigner.modules.Mode.placingItem.position().left:u.left,top:this.selectedItemBounds.top,height:p>this.cellHeight?p:this.cellHeight,width:y>this.cellWidth?y:this.cellWidth})}n&&!this.isWidgetItemRestricted&&(a=JSON.parse(JSON.stringify(t.CellInfo)),t.CellInfo.Column=Number(this.dashboardDesigner.modules.Mode.placingItem.attr("column")),t.CellInfo.RowSpan=Number(this.dashboardDesigner.modules.Mode.placingItem.attr("rowSpan")),t.CellInfo.ColumnSpan=Number(this.dashboardDesigner.modules.Mode.placingItem.attr("colSpan")),BoldBIDashboard.isNullOrUndefined(t.getContainerSettings().CombineWidgetId)||t.getContainerSettings().CombineWidgetId===""||(f=this.dashboardDesigner.modules.containerTypeWidgetHelper.getContainerWidget(t),t.CellInfo=f.updateCellForBottomResize(t.CellInfo)),this.updateContainerSize(t),v=JSON.parse(JSON.stringify(t.CellInfo)),this.updateWidgetOnResize(a,v,t),this.dashboardDesigner.modules.serialization.notifyChange())},n.prototype.performCenterTop=function(n){var t=this.widgetHelper.getCurrentWidgetInstance(),o,u,f,e,r,s,i,c,l;if(this.updateSelectedItemBounds(t),o=this.selectedItemBounds.top-(this.startPoint.y-this.endPoint.y),u=o>this.selectedItemBounds.top+this.selectedItemBounds.height||o<0,this.dashboardDesigner.modules.Mode.helperItem.css({display:u?"none":"block","background-color":u?this.itemRestrictedColor:"transparent","border-color":u?"#f13232":"#cccccc",left:this.selectedItemBounds.left,top:o,height:this.selectedItemBounds.height+(this.startPoint.y-this.endPoint.y)}),f=this.getTargetElement({x:this.endPoint.x,y:this.endPoint.y,width:1,height:1},!0),BoldBIDashboard.isNullOrUndefined(f))this.dashboardDesigner.modules.Mode.placingItem.css({display:"block","z-index":1003,"background-color":"transparent"});else{var a=f.position().top+this.cellMargin,v=this.selectedItemBounds.top-a+this.selectedItemBounds.height,h=t.CellInfo.Row+t.CellInfo.RowSpan-this.minimumSpan;BoldBIDashboard.isNullOrUndefined(t.getContainerSettings().CombineWidgetId)||t.getContainerSettings().CombineWidgetId===""||(r=this.dashboardDesigner.modules.containerTypeWidgetHelper.getContainerWidget(t),s=r.getChildWidgetPosition(r),h=h+s.Row);e=Number(f.attr("row"))>h?h:Number(f.attr("row"));BoldBIDashboard.isNullOrUndefined(t.getContainerSettings().CombineWidgetId)||t.getContainerSettings().CombineWidgetId===""||(r=this.dashboardDesigner.modules.containerTypeWidgetHelper.getContainerWidget(t),s=r.getChildWidgetPosition(r),e=e-s.Row);i={Row:e,Column:t.CellInfo.Column,RowSpan:t.CellInfo.Row+t.CellInfo.RowSpan-e,ColumnSpan:t.CellInfo.ColumnSpan};this.dashboardDesigner.modules.Mode.placingItem.attr({row:i.Row,column:i.Column,rowSpan:i.RowSpan,colSpan:i.ColumnSpan});this.isWidgetItemRestricted=this.isItemRestricted(i);BoldBIDashboard.isNullOrUndefined(t.getContainerSettings().CombineWidgetId)||t.getContainerSettings().CombineWidgetId===""||this.isWidgetRestrictedInsideCombineWidget(i,t);BoldBIDashboard.Dashboard.WidgetHelper.isContainerWidget(t)&&this.isCombineItemRestricted(i,t,t.ControlContainer);this.dashboardDesigner.modules.Mode.placingItem.css({display:"block","z-index":1003,"background-color":"transparent","border-color":this.isWidgetItemRestricted?"#f13232":"#179bd7",left:this.selectedItemBounds.left,top:u?this.dashboardDesigner.modules.Mode.placingItem.position().top:a,height:v>this.cellHeight?v:this.cellHeight})}n&&!this.isWidgetItemRestricted&&(c=JSON.parse(JSON.stringify(t.CellInfo)),t.CellInfo.Row=Number(this.dashboardDesigner.modules.Mode.placingItem.attr("row")),t.CellInfo.RowSpan=Number(this.dashboardDesigner.modules.Mode.placingItem.attr("rowSpan")),l=JSON.parse(JSON.stringify(t.CellInfo)),this.updateWidgetOnResize(c,l,t),this.updateContainerSize(t),this.dashboardDesigner.modules.serialization.notifyChange())},n.prototype.performCenterBottom=function(n){var t=this.widgetHelper.getCurrentWidgetInstance(),u,f,r,h,e,c,i,s,o;this.updateSelectedItemBounds(t);u=this.selectedItemBounds.height+(this.endPoint.y-this.startPoint.y);f=u<0||this.selectedItemBounds.top+u>this.dashboardDesigner.modules.Mode.designCanvas.height();this.dashboardDesigner.modules.Mode.helperItem.css({display:f?"none":"block","background-color":f?this.itemRestrictedColor:"transparent","border-color":f?"#f13232":"#cccccc",left:this.selectedItemBounds.left,top:this.selectedItemBounds.top,height:u});r=this.getTargetElement({x:this.endPoint.x,y:this.endPoint.y,width:1,height:1},!0);BoldBIDashboard.isNullOrUndefined(r)?this.dashboardDesigner.modules.Mode.placingItem.css({display:"block","z-index":1003,"background-color":"transparent"}):(h=r.position().top+this.cellMargin,e=Number(r.attr("row"))<t.CellInfo.Row?t.CellInfo.Row:Number(r.attr("row")),BoldBIDashboard.isNullOrUndefined(t.getContainerSettings().CombineWidgetId)||t.getContainerSettings().CombineWidgetId===""||(o=this.dashboardDesigner.modules.containerTypeWidgetHelper.getContainerWidget(t),c=this.dashboardDesigner.modules.containerTypeWidgetHelper.getRootPosition(o),e=Math.abs(e-c.Row)),i={Row:t.CellInfo.Row,Column:t.CellInfo.Column,RowSpan:e-t.CellInfo.Row+this.minimumSpan,ColumnSpan:t.CellInfo.ColumnSpan},this.dashboardDesigner.modules.Mode.placingItem.attr({row:i.Row,column:i.Column,rowSpan:i.RowSpan,colSpan:i.ColumnSpan}),this.isWidgetItemRestricted=this.isItemRestricted(i),BoldBIDashboard.isNullOrUndefined(t.getContainerSettings().CombineWidgetId)||t.getContainerSettings().CombineWidgetId===""||this.isWidgetRestrictedInsideCombineWidget(i,t),BoldBIDashboard.Dashboard.WidgetHelper.isContainerWidget(t)&&this.isCombineItemRestricted(i,t,t.ControlContainer),s=h+r.height()+2-this.selectedItemBounds.top,this.dashboardDesigner.modules.Mode.placingItem.css({display:"block","z-index":1003,"background-color":"transparent","border-color":this.isWidgetItemRestricted?"#f13232":"#179bd7",left:this.selectedItemBounds.left,top:this.selectedItemBounds.top,height:s>this.cellHeight?s:this.cellHeight}));n&&!this.isWidgetItemRestricted&&(t.CellInfo.RowSpan=Number(this.dashboardDesigner.modules.Mode.placingItem.attr("rowSpan")),BoldBIDashboard.isNullOrUndefined(t.getContainerSettings().CombineWidgetId)||t.getContainerSettings().CombineWidgetId===""||(o=this.dashboardDesigner.modules.containerTypeWidgetHelper.getContainerWidget(t),t.CellInfo=o.updateCellForBottomResize(t.CellInfo)),this.updateContainerSize(t),this.dashboardDesigner.modules.serialization.notifyChange())},n.prototype.performRightCenter=function(n){var t=this.widgetHelper.getCurrentWidgetInstance(),u,f,r,h,e,o,c,i,s;this.updateSelectedItemBounds(t);u=this.selectedItemBounds.width+(this.endPoint.x-this.startPoint.x);f=u<0||this.selectedItemBounds.left+u>this.dashboardDesigner.modules.Mode.designCanvas.width();this.dashboardDesigner.modules.Mode.helperItem.css({display:f?"none":"block","background-color":f?this.itemRestrictedColor:"transparent","border-color":f?"#f13232":"#cccccc",left:this.selectedItemBounds.left,top:this.selectedItemBounds.top,width:u});r=this.getTargetElement({x:this.endPoint.x,y:this.endPoint.y,width:1,height:1},!0,!0);BoldBIDashboard.isNullOrUndefined(r)?this.dashboardDesigner.modules.Mode.placingItem.css({display:"block","z-index":1003,"background-color":"transparent"}):(h=r.position().left+this.cellMargin,e=Number(r.attr("column"))<t.CellInfo.Column?t.CellInfo.Column:Number(r.attr("column")),BoldBIDashboard.isNullOrUndefined(t.getContainerSettings().CombineWidgetId)||t.getContainerSettings().CombineWidgetId===""||(o=this.dashboardDesigner.modules.containerTypeWidgetHelper.getContainerWidget(t),c=o.getChildWidgetPosition(o),e=Math.abs(e-c.Column)),i={Row:t.CellInfo.Row,Column:t.CellInfo.Column,RowSpan:t.CellInfo.RowSpan,ColumnSpan:e-t.CellInfo.Column+this.minimumSpan},this.dashboardDesigner.modules.Mode.placingItem.attr({row:i.Row,column:i.Column,rowSpan:i.RowSpan,colSpan:i.ColumnSpan}),this.isWidgetItemRestricted=this.isItemRestricted(i),BoldBIDashboard.isNullOrUndefined(t.getContainerSettings().CombineWidgetId)||t.getContainerSettings().CombineWidgetId===""||this.isWidgetRestrictedInsideCombineWidget(i,t),BoldBIDashboard.Dashboard.WidgetHelper.isContainerWidget(t)&&this.isCombineItemRestricted(i,t,t.ControlContainer),s=h+r.width()+2-this.selectedItemBounds.left,this.dashboardDesigner.modules.Mode.placingItem.css({display:"block","z-index":1003,"background-color":"transparent","border-color":this.isWidgetItemRestricted?"#f13232":"#179bd7",left:this.selectedItemBounds.left,top:this.selectedItemBounds.top,width:s>this.cellWidth?s:this.cellWidth}));n&&!this.isWidgetItemRestricted&&(t.CellInfo.ColumnSpan=Number(this.dashboardDesigner.modules.Mode.placingItem.attr("colSpan")),this.updateContainerSize(t),this.dashboardDesigner.modules.serialization.notifyChange())},n.prototype.performRightBottom=function(n){var t=this.widgetHelper.getCurrentWidgetInstance(),i,f,r,e,o,u;this.updateSelectedItemBounds(t);var s=this.selectedItemBounds.width+(this.endPoint.x-this.startPoint.x),h=this.selectedItemBounds.height+(this.endPoint.y-this.startPoint.y),c=s<0||this.selectedItemBounds.left+s>this.dashboardDesigner.modules.Mode.designCanvas.width()||h<0||this.selectedItemBounds.top+h>this.dashboardDesigner.modules.Mode.designCanvas.height();if(this.dashboardDesigner.modules.Mode.helperItem.css({display:c?"none":"block","background-color":c?this.itemRestrictedColor:"transparent","border-color":c?"#f13232":"#cccccc",left:this.selectedItemBounds.left,top:this.selectedItemBounds.top,width:s,height:h}),i=this.getTargetElement({x:this.endPoint.x,y:this.endPoint.y,width:1,height:1}),BoldBIDashboard.isNullOrUndefined(i))this.dashboardDesigner.modules.Mode.placingItem.css({display:"block","z-index":1003,"background-color":"transparent"});else{var v=i.position(),l=Number(i.attr("row"))<t.CellInfo.Row?t.CellInfo.Row:Number(i.attr("row")),a=Number(i.attr("column"))<t.CellInfo.Column?t.CellInfo.Column:Number(i.attr("column"));BoldBIDashboard.isNullOrUndefined(t.getContainerSettings().CombineWidgetId)||t.getContainerSettings().CombineWidgetId===""||(u=this.dashboardDesigner.modules.containerTypeWidgetHelper.getContainerWidget(t),f=this.dashboardDesigner.modules.containerTypeWidgetHelper.getRootPosition(u),a=Math.abs(a-f.Column),l=Math.abs(l-f.Row));r={Row:t.CellInfo.Row,Column:t.CellInfo.Column,RowSpan:l-t.CellInfo.Row+this.minimumSpan,ColumnSpan:a-t.CellInfo.Column+this.minimumSpan};this.dashboardDesigner.modules.Mode.placingItem.attr({row:r.Row,column:r.Column,rowSpan:r.RowSpan,colSpan:r.ColumnSpan});this.isWidgetItemRestricted=this.isItemRestricted(r);BoldBIDashboard.isNullOrUndefined(t.getContainerSettings().CombineWidgetId)||t.getContainerSettings().CombineWidgetId===""||this.isWidgetRestrictedInsideCombineWidget(r,t);BoldBIDashboard.Dashboard.WidgetHelper.isContainerWidget(t)&&this.isCombineItemRestricted(r,t,t.ControlContainer);e=v.left+this.cellMargin+i.width()+2-this.selectedItemBounds.left;o=v.top+this.cellMargin+i.height()+2-this.selectedItemBounds.top;this.dashboardDesigner.modules.Mode.placingItem.css({display:"block","z-index":1003,"background-color":"transparent","border-color":this.isWidgetItemRestricted?"#f13232":"#179bd7",left:this.selectedItemBounds.left,top:this.selectedItemBounds.top,width:e>this.cellWidth?e:this.cellWidth,height:o>this.cellHeight?o:this.cellHeight})}n&&!this.isWidgetItemRestricted&&(t.CellInfo.RowSpan=Number(this.dashboardDesigner.modules.Mode.placingItem.attr("rowSpan")),t.CellInfo.ColumnSpan=Number(this.dashboardDesigner.modules.Mode.placingItem.attr("colSpan")),BoldBIDashboard.isNullOrUndefined(t.getContainerSettings().CombineWidgetId)||t.getContainerSettings().CombineWidgetId===""||(u=this.dashboardDesigner.modules.containerTypeWidgetHelper.getContainerWidget(t),t.CellInfo=u.updateCellForBottomResize(t.CellInfo)),this.updateContainerSize(t),this.dashboardDesigner.modules.serialization.notifyChange())},n.prototype.isItemRestricted=function(n,t,i){var u=this,o,f,r,e;return i===void 0&&(i=!1),this.isWidgetItemRestricted=!1,f=this.dashboardDesigner.modules.Mode.designCanvas,o=BoldBIDashboard.isNullOrUndefined(t)||t?f.find(".bbi-dbrditem").not(this.selectedReportItems[0]):f.find(".bbi-dbrditem"),r=!1,e=this.widgetHelper.getCurrentWidgetInstance(),o.each(function(f,o){var s=BoldBIDashboard.Dashboard.WidgetHelper.getWidgetInstance(u.bbdesigner$(o)),h=JSON.parse(JSON.stringify(s.CellInfo)),l,c;return(BoldBIDashboard.isNullOrUndefined(s.getContainerSettings().CombineWidgetId)||s.getContainerSettings().CombineWidgetId===""||(c=u.dashboardDesigner.modules.containerTypeWidgetHelper.getContainerWidget(s),l=c.getChildWidgetPosition(s),h.Row=l.Row,h.Column=l.Column),(h.Row>=n.Row||h.Row+h.RowSpan>n.Row)&&h.Row<n.Row+n.RowSpan&&(h.Column>=n.Column||h.Column+h.ColumnSpan>n.Column)&&h.Column<n.Column+n.ColumnSpan&&(BoldBIDashboard.isNullOrUndefined(s.getContainerSettings().CombineWidgetId)||s.getContainerSettings().CombineWidgetId===""?r=!0:(c=u.dashboardDesigner.modules.containerTypeWidgetHelper.getContainerWidget(s),r=c.isWidgetWithinContainerWidget(s,e)),BoldBIDashboard.Dashboard.WidgetHelper.isContainerWidget(s)&&!i&&(c=u.dashboardDesigner.modules.containerTypeWidgetHelper.getWidgetAsContainerWidget(s),r=c.isWidgetItemRestricted(h,n,s,e,t),r)))?!1:r?!1:void 0}),(n.Row+n.RowSpan>this.rowsLength||n.Column+n.ColumnSpan>this.columnsLength)&&(r=!0),r},n.prototype.isCombineItemRestricted=function(n,t,i){var u=this,r;r=i.find(".bbi-dbrditem").not(this.selectedReportItems[0]);r.length>0&&r.each(function(i,r){var o=BoldBIDashboard.Dashboard.WidgetHelper.getWidgetInstance(u.bbdesigner$(r)),f=o.CellInfo,e=t.CellInfo;if(f.Row+e.Row<n.Row&&f.Row+f.RowSpan+e.Row>n.Row||f.Row+e.Row+f.RowSpan>n.Row+n.RowSpan||f.Column+e.Column<n.Column&&f.Column+f.ColumnSpan+e.Column>n.Column||f.Column+e.Column+f.ColumnSpan>n.Column+n.ColumnSpan)return u.isWidgetItemRestricted=!0,!1})},n.prototype.isWidgetRestrictedInsideCombineWidget=function(n,t){var r=this.dashboardDesigner.modules.containerTypeWidgetHelper.getContainerWidget(t),i=r.getChildWidgetPosition(r);this.isWidgetItemRestricted=n.Row+i.Row<i.Row||n.Row+n.RowSpan+i.Row>i.Row+i.RowSpan||n.Column+i.Column<i.Column||n.Column+n.ColumnSpan+i.Column>i.Column+i.ColumnSpan?!0:!1},n.prototype.updateWidgetOnResize=function(n,t,i){var r=0,u=0;BoldBIDashboard.Dashboard.WidgetHelper.isContainerWidget(i)&&(n.Row!==t.Row&&(r=n.Row-t.Row),n.Column!==t.Column&&(u=n.Column-t.Column));this.updateWidgetsPosition(i,r,u)},n.prototype.updateWidgetsPosition=function(n,t,i){var r=this,u;u=n.ControlContainer.find(".bbi-dbrditem");u.length>0&&u.each(function(n,u){var f=BoldBIDashboard.Dashboard.WidgetHelper.getWidgetInstance(r.bbdesigner$(u)),e;f.CellInfo.Row+=t;f.CellInfo.Column+=i;e=r.getWidgetItemPosition(f.CellInfo.Row,f.CellInfo.Column);f.ControlContainer.css({left:e.left-r.cellMargin,top:e.top-r.cellMargin});f.updateWidgetBounds(f.CellInfo)})},n.prototype.updateElementLeft=function(n){var u=this.selectedReportItems[0],t=BoldBIDashboard.Dashboard.WidgetHelper.getWidgetInstance(u),f,e;this.selectedItemBounds=this.getItemBounds(this.bbdesigner$(u));var i=this.dashboardDesigner.modules.containerTypeWidgetHelper.getChildWidgetCell(t,!1),o=i.Column+(n==="left"?-1:1),r=this.getCellItem(i.Row,o);o+i.ColumnSpan-1<this.columnsLength&&!BoldBIDashboard.isNullOrUndefined(r)&&r.length>0&&(f={Row:Number(r.attr("row")),Column:Number(r.attr("column")),RowSpan:i.RowSpan,ColumnSpan:i.ColumnSpan},this.isWidgetItemRestricted=this.isItemRestricted(f),this.isWidgetItemRestricted||(e=BoldBIDashboard.DashboardUtil.IsStringNullorWhiteSpace(t.getContainerSettings().CombineWidgetId)?0:this.dashboardDesigner.modules.containerTypeWidgetHelper.getChildWidgetCell(t,!0).Column,t.CellInfo.Column=Number(r.attr("column"))-e,t.updatePosition(t.CellInfo),this.dashboardDesigner.modules.serialization.notifyChange()))},n.prototype.updateElementTop=function(n){var u=this.selectedReportItems[0],t=BoldBIDashboard.Dashboard.WidgetHelper.getWidgetInstance(u),f,e;this.selectedItemBounds=this.getItemBounds(this.bbdesigner$(u));var i=this.dashboardDesigner.modules.containerTypeWidgetHelper.getChildWidgetCell(t,!1),o=i.Row+(n==="top"?-1:1),r=this.getCellItem(o,i.Column);o+i.RowSpan-1<this.rowsLength&&!BoldBIDashboard.isNullOrUndefined(r)&&r.length>0&&(f={Row:Number(r.attr("row")),Column:Number(r.attr("column")),RowSpan:i.RowSpan,ColumnSpan:i.ColumnSpan},this.isWidgetItemRestricted=this.isItemRestricted(f),this.isWidgetItemRestricted||(e=BoldBIDashboard.DashboardUtil.IsStringNullorWhiteSpace(t.getContainerSettings().CombineWidgetId)?0:this.dashboardDesigner.modules.containerTypeWidgetHelper.getChildWidgetCell(t,!0).Row,t.CellInfo.Row=Number(r.attr("row"))-e,t.updatePosition(t.CellInfo),this.dashboardDesigner.modules.serialization.notifyChange()))},n.prototype.updateElementWidth=function(n){var f=this.selectedReportItems[0],r=BoldBIDashboard.Dashboard.WidgetHelper.getWidgetInstance(f),t,i,e,o,u;this.selectedItemBounds=this.getItemBounds(this.bbdesigner$(f));t=this.dashboardDesigner.modules.containerTypeWidgetHelper.getChildWidgetCell(r,!1);i=t.ColumnSpan+(n==="left"?-1:1);i>0&&i<=this.columnsLength&&(e={Row:t.Row,Column:t.Column,RowSpan:t.RowSpan,ColumnSpan:i},this.isWidgetItemRestricted=this.isItemRestricted(e),o=t.Column+i-1,u=this.getCellItem(t.Row,o),!this.isWidgetItemRestricted&&!BoldBIDashboard.isNullOrUndefined(u)&&u.length>0&&(r.CellInfo.ColumnSpan=i,r.updateSize(r.CellInfo),this.dashboardDesigner.modules.serialization.notifyChange()))},n.prototype.updateElementHeight=function(n){var f=this.selectedReportItems[0],r=BoldBIDashboard.Dashboard.WidgetHelper.getWidgetInstance(f),t,i,e,o,u;this.selectedItemBounds=this.getItemBounds(this.bbdesigner$(f));t=this.dashboardDesigner.modules.containerTypeWidgetHelper.getChildWidgetCell(r,!1);i=t.RowSpan+(n==="top"?-1:1);i>0&&i<=this.rowsLength&&(e={Row:t.Row,Column:t.Column,RowSpan:i,ColumnSpan:t.ColumnSpan},this.isWidgetItemRestricted=this.isItemRestricted(e),o=t.Row+i-1,u=this.getCellItem(o,t.Column),!this.isWidgetItemRestricted&&!BoldBIDashboard.isNullOrUndefined(u)&&u.length>0&&(r.CellInfo.RowSpan=i,r.updateSize(r.CellInfo),this.dashboardDesigner.modules.serialization.notifyChange()))},n.prototype.nextWidgetItem=function(n){var i=this.dashboardDesigner.modules.Mode.designCanvas.find(".bbi-dbrditem"),r=i.length,t,u;if(this.dashboardDesigner.modules.Mode.placingItem.is(":visible")&&(this.dashboardDesigner.modules.Mode.placingItem.css("display","none"),this.forwardTabIndex=-1),this.forwardTabIndex!==r)for(n.preventDefault(),t=0;t<r;t++){if(u=this.bbdesigner$(i[t]),this.selectedReportItems.length>0&&u.attr("id")===this.selectedReportItems[0].attr("id")){this.performItemSelection(t===r-1?this.bbdesigner$(i[0]):this.bbdesigner$(i[t+1]));this.addFocusClass(!0);this.forwardTabIndex++;break}if(this.selectedReportItems.length<1){this.performItemSelection(this.bbdesigner$(i[0]));this.addFocusClass(!0);this.forwardTabIndex++;break}}else this.forwardTabIndex=0,this.addFocusClass(!1),this.dashboardDesigner.element.find("#"+this.designId+"_dataPanelContainer").focus();n.stopPropagation()},n.prototype.previousWidgetItem=function(n){var i=this.dashboardDesigner.modules.Mode.designCanvas.find(".bbi-dbrditem"),r=i.length,t,u;if(this.dashboardDesigner.modules.Mode.placingItem.is(":visible")&&(this.dashboardDesigner.modules.Mode.placingItem.css("display","none"),this.reverseTabIndex=-1),this.reverseTabIndex!==r)for(n.preventDefault(),t=r-1;t>=0;t--){if(u=this.bbdesigner$(i[t]),this.selectedReportItems.length>0&&u.attr("id")===this.selectedReportItems[0].attr("id")){this.performItemSelection(t===0?this.bbdesigner$(i[r-1]):this.bbdesigner$(i[t-1]));this.reverseTabIndex++;this.addFocusClass(!0);break}if(this.selectedReportItems.length<1){this.performItemSelection(this.bbdesigner$(i[0]));this.reverseTabIndex++;this.addFocusClass(!0);break}}else this.reverseTabIndex=0,this.addFocusClass(!1),this.dashboardDesigner.element.find("#"+this.designId+"_designerConfigurationPanel").is(":visible")&&this.dashboardDesigner.element.find("#"+this.designId+"_itemPanelContainer").focus(),n.stopPropagation()},n.prototype.addFocusClass=function(n,t){BoldBIDashboard.isNullOrUndefined(this.dashboardDesigner.modules.Mode.designCanvas)||(this.dashboardDesigner.modules.Mode.designCanvas.removeClass("bbi-designer-canvas-focus"),n&&this.dashboardDesigner.modules.Mode.designCanvas.addClass("bbi-designer-canvas-focus"));!BoldBIDashboard.isNullOrUndefined(t)&&n&&(this.forwardTabIndex=0,this.reverseTabIndex=0)},n.prototype.setDragItem=function(n){this.selectedItemBounds=this.getItemBounds(this.bbdesigner$(this.selectedReportItems[0]));this.dashboardDesigner.modules.Mode.helperItem.css({width:this.selectedItemBounds.width,height:this.selectedItemBounds.height,cursor:n});this.dashboardDesigner.modules.Mode.placingItem.css({left:this.selectedItemBounds.left,top:this.selectedItemBounds.top,width:this.selectedItemBounds.width,height:this.selectedItemBounds.height})},n.prototype.getResizePosition=function(n){var t="";return n.hasClass("bbi-designer-selection-drag")||(n=n.parent()),n.hasClass("e-lefttop")?t="LeftTop":n.hasClass("e-leftcenter")?t="LeftCenter":n.hasClass("e-leftbottom")?t="LeftBottom":n.hasClass("e-centertop")?t="CenterTop":n.hasClass("e-centerbottom")?t="CenterBottom":n.hasClass("e-rightcenter")?t="RightCenter":n.hasClass("e-rightbottom")&&(t="RightBottom"),t},n.prototype.getCursor=function(n){var t="";switch(n){case"LeftTop":t="nw-resize";break;case"LeftCenter":t="w-resize";break;case"LeftBottom":t="sw-resize";break;case"CenterTop":t="n-resize";break;case"CenterBottom":t="s-resize";break;case"RightCenter":t="e-resize";break;case"RightBottom":t="se-resize";break;default:t="auto"}return t},n.prototype.getItemBounds=function(n){var t=n.position();return{left:t.left,top:t.top,width:n.width(),height:n.height()}},n.prototype.validateHelperIconClick=function(n){(n.hasClass("bbi-designer-selection-move")||n.parent()&&n.parent().hasClass("bbi-designer-selection-move"))&&(this.isSettingIconClick=!0);(n.hasClass("bbi-designer-selection-drag")||n.parent()&&n.parent().hasClass("bbi-designer-selection-drag"))&&(this.isResizeStarted=!0)},n.prototype.performWidgetSettingOption=function(){this.invokePropertyPanel();this.propertyPanel.showProperty(!0)},n.prototype.updatePreviousSelectedItem=function(){if(BoldBIDashboard.isNullOrUndefined(this.propertyPanel.ActiveProperty)||(this.propertyPanel.itemNameChange(null,!1),this.propertyPanel.itemDescriptionChange(null,!1),this.propertyPanel.itemSubTitleChange(null,!1)),!BoldBIDashboard.isNullOrUndefined(this.propertyPanel.labelLastModifiedInfo)){var n=this.propertyPanel.EjMaskEditObj[this.designId+"_"+this.propertyPanel.labelLastModifiedInfo.elementType+"_"+this.propertyPanel.labelLastModifiedInfo.categoryName+"_"+this.propertyPanel.labelLastModifiedInfo.item.name].val();this.propertyPanel.onValueChange(this.propertyPanel.labelLastModifiedInfo.item,this.propertyPanel.labelLastModifiedInfo.categoryName,this.propertyPanel.labelLastModifiedInfo.elementType,{value:n},!1);this.propertyPanel.labelLastModifiedInfo=null}this.dashboardDesigner.modules.serialization.notifyChange()},n.prototype.performItemSelection=function(n){n.length>0&&(this.removeWidgetSelection(),this.widgetSelection(n),this.invokePropertyPanel());this.dashboardDesigner.modules.Mode.placingItem.is(":visible")&&this.dashboardDesigner.modules.Mode.placingItem.css("display","none")},n.prototype.removeWidgetSelection=function(){if(this.selectedReportItems.length>0){this.updatePreviousSelectedItem();this.selectedReportItems[0].find(".e-widget-selectionbox").remove();this.selectedReportItems[0].removeClass("bbi-selected-item");var n=this.widgetHelper.getCurrentWidgetInstance();BoldBIDashboard.isNullOrUndefined(n)||n.onWidgetUnSelect();this.selectedReportItems=[];this.updateRptToolbarActions()}},n.prototype.widgetSelection=function(n){var t,i;n.length>0&&(t=BoldBIDashboard.Dashboard.WidgetHelper.getWidgetInstance(n),BoldBIDashboard.isNullOrUndefined(t)||(i=t.getSettingsButtonIcon(),this.createWidgetSelectionBox(n,i.className,i.pathLength),this.enableorDisablePropIcon(!t.isPropertyPanelRequired)),n.hasClass("bbi-selected-item")||(n.addClass("bbi-selected-item"),this.selectedReportItems=[n]),this.updateRptToolbarActions())},n.prototype.enableorDisablePropIcon=function(n){var t=this.dashboardDesigner.modules.Mode.dataPanelTag.find("#"+this.designId+"_Properties_wrapper");n?t.addClass("bbi-disable-data-property-icon"):t.hasClass("bbi-disable-data-property-icon")&&t.removeClass("bbi-disable-data-property-icon")},n.prototype.createWidgetSelectionBox=function(n,t,i){var r=BoldBIDashboard.buildTag("div.e-widget-selectionbox","",{left:"0px",top:"0px",height:"100%",width:"100%",border:"1px solid #05b2ed",position:"absolute",display:"block",cursor:"move","pointer-events":"none","box-sizing":"border-box","-moz-box-sizing":"border-box","-webkit-box-sizing":"border-box","z-index":999});r.append(this.generateHelperItem("bbi-designer-selection-drag e-lefttop bbi-widgeticons",2)).append(this.generateHelperItem("bbi-designer-selection-drag e-leftcenter bbi-widgeticons",2)).append(this.generateHelperItem("bbi-designer-selection-drag e-leftbottom bbi-widgeticons",2)).append(this.generateHelperItem("bbi-designer-selection-drag e-centertop bbi-widgeticons",2)).append(this.generateHelperItem("bbi-designer-selection-drag e-centerbottom bbi-widgeticons",2)).append(this.generateHelperItem("bbi-designer-selection-drag e-rightcenter bbi-widgeticons",2)).append(this.generateHelperItem("bbi-designer-selection-drag e-rightbottom bbi-widgeticons",2));r.append(this.generateHelperItem(t,i));n.append(r);this.updateWidgetSelectionBox(n)},n.prototype.generateHelperItem=function(n,t){var i={},u=null,f,r,e;switch(n){case"bbi-designer-selection-drag e-lefttop bbi-widgeticons":i={cursor:"nw-resize"};break;case"bbi-designer-selection-drag e-leftcenter bbi-widgeticons":i={cursor:"w-resize"};break;case"bbi-designer-selection-drag e-leftbottom bbi-widgeticons":i={cursor:"sw-resize"};break;case"bbi-designer-selection-drag e-centertop bbi-widgeticons":i={cursor:"n-resize"};break;case"bbi-designer-selection-drag e-centerbottom bbi-widgeticons":i={cursor:"s-resize"};break;case"bbi-designer-selection-drag e-rightcenter bbi-widgeticons":i={cursor:"e-resize"};break;case"bbi-designer-selection-drag e-rightbottom bbi-widgeticons":i={cursor:"se-resize"};break;case"bbi-designer-selection-move e-moveicon bbi-toolbarfonticonbasic":i={cursor:"pointer","font-size":"25px"};u="Widget Settings"}for(f=BoldBIDashboard.buildTag("div.bbi-dbrd-designer-hoverable","",{cursor:i.cursor,position:"absolute","font-size":BoldBIDashboard.isNullOrUndefined(i["font-size"])?"":i["font-size"],"pointer-events":"auto","box-sizing":"border-box","-moz-box-sizing":"border-box","-webkit-box-sizing":"border-box"},{"class":n,"data-tooltip":BoldBIDashboard.isNullOrUndefined(u)?"":u}),r=0;r<t;r++)e=BoldBIDashboard.buildTag("span","",{},{"class":"path"+(r+1).toString()}),f.append(e);return f[0]},n.prototype.updateWidgetSelectionBox=function(n){var t=n.find(".e-widget-selectionbox"),i=t.width(),r=t.height(),u;setTimeout(function(){t.find(".e-lefttop").css({left:"-4px",top:"-4px"});t.find(".e-leftcenter").css({left:"-4px",top:r/2-4+"px"});t.find(".e-leftbottom").css({left:"-4px",top:r-4+"px"});t.find(".e-centertop").css({left:i/2-4+"px",top:"-4px"});t.find(".e-centerbottom").css({left:i/2-4+"px",top:r-4+"px"});t.find(".e-rightcenter").css({left:i-3+"px",top:r/2-4+"px"});t.find(".e-rightbottom").css({left:i-3+"px",top:r-4+"px"});t.find(".e-moveicon").css({left:i-11+"px",top:"-13px"})},0);u=BoldBIDashboard.isNullOrUndefined(this.selectedReportItems)?null:this.widgetHelper.getCurrentWidgetInstance();BoldBIDashboard.isNullOrUndefined(u)||this.updateNoDataContainerSize(u);this.labelParameter.adjustParameterColumn(n.find(".bbi-dbrd-control-title-wrapper"));this.labelParameter.adjustParameterColumn(n.find(".bbi-dbrd-control-sub-header"))},n.prototype.showWidgetSelectionBox=function(){this.selectedReportItems[0].find(".e-widget-selectionbox").css("display","block")},n.prototype.hideWidgetSelectionBox=function(){this.selectedReportItems[0].find(".e-widget-selectionbox").css("display","none")},n.prototype.validateTargetElement=function(n,t){var i=this.cellMargin*2,r={x:n.x+i,y:n.y,height:1,width:1},u={x:n.x,y:n.y+i,height:1,width:1},f={x:n.x+i,y:n.y+i,height:1,width:1};return this.isIntersectDesignerSection(n,t)||this.isIntersectDesignerSection(r,t)||this.isIntersectDesignerSection(u,t)||this.isIntersectDesignerSection(f,t)?!1:!0},n.prototype.getTargetElement=function(n,t,i){var r=this,e=this.dashboardDesigner.modules.Mode.designCanvas.find(".bbi-dashboarddesigner-cellitem"),u=this,f=null,o=this.bbdesigner$;return e.each(function(e,s){var l=o(s),v=u.getOffsetPosition(l.offset()),a=u.getSelectionBounds(v,l),h,c;return!BoldBIDashboard.isNullOrUndefined(t)&&t?(c={x:i?n.x:n.x+r.cellMargin,y:i?n.y+r.cellMargin:n.y,width:n.width,height:n.height},h=r.validateTargetElement(c,a),h&&(c.x=i?n.x:n.x-r.cellMargin,c.y=i?n.y-r.cellMargin:n.y,h=r.validateTargetElement(c,a))):h=r.validateTargetElement(n,a),h||(f=l),h}),f},n.prototype.isIntersectDesignerSection=function(n,t){return n.x>=t.x1&&n.x<=t.x2&&n.y>=t.y1&&n.y<=t.y2},n.prototype.isDesignerSections=function(n){return n.hasClass("bbi-dashboarddesigner-cellitem")||n.hasClass("bbi-placing-cell")||n.hasClass("bbi-dashboarddesigner-designcanvas")?!0:n.parents(".bbi-dbrditem").hasClass("bbi-container-widget")?!0:!1},n.prototype.wireDesignerEvents=function(){this.bbdesigner$(document).bind(BoldBIDashboard.DashboardUtil.MouseEvent.mouseMove,this.bbdesigner$.proxy(this.designCanvasMouseMove,this));this.bbdesigner$(document).bind(BoldBIDashboard.DashboardUtil.MouseEvent.mouseUp,this.bbdesigner$.proxy(this.designCanvasMouseUp,this))},n.prototype.unWiredDesignerEvents=function(){this.bbdesigner$(document).unbind(BoldBIDashboard.DashboardUtil.MouseEvent.mouseMove,this.bbdesigner$.proxy(this.designCanvasMouseMove,this));this.bbdesigner$(document).unbind(BoldBIDashboard.DashboardUtil.MouseEvent.mouseUp,this.bbdesigner$.proxy(this.designCanvasMouseUp,this))},n.prototype.canvasScroll=function(){if(this.dashboardDesigner.isDesignMode()){var n=this.dashboardDesigner.modules.layoutDialog;n.closeDlg()}},n.prototype.toggleScrollUI=function(){var n=this,t;!BoldBIDashboard.isNullOrUndefined(n)&&n.isDesignMode&&(t=n.modules.layoutDialog,t.toggleScrollableDbrdUI(!1))},n.prototype.isLoaded=function(){return!BoldBIDashboard.isNullOrUndefined(this.targetTag)&&this.targetTag.length>0},n.prototype.updatePanelSize=function(){var n,t;this.isLoaded()&&(n=this.dashboardDesigner.model.dashboardFromData.isControl?this.targetTag.height():this.banner.updateDesignPanelHeight(this.targetTag.height()),!BoldBIDashboard.isNullOrUndefined(this.dashboardDesigner.model.dashboardFromData)&&this.dashboardDesigner.model.dashboardFromData.loadFromData&&(t=this.designPanel.find(".bbi-dbrd-applied-filter"),t.length>0&&(n=n-t.height())),this.designPanel.css("height",n+"px"));this.updateDesignPanelSize();this.updateItemsAfterSizeChange();this.banner.updateFilterOverviewByLayout();this.dashboardDesigner.exportPanel.updateExportDialog()},n.prototype.updateItemsAfterSizeChange=function(){this.updateCellSize(this.columnsLength*this.rowsLength,0);this.updateCanvasItemSize();this.updateScrollBar()},n.prototype.getItemWidth=function(n){return n.width()+parseFloat(n.css("border-left-width"))+parseFloat(n.css("border-right-width"))},n.prototype.getItemHeight=function(n){return n.height()+parseFloat(n.css("border-top-width"))+parseFloat(n.css("border-bottom-width"))},n.prototype.updateControlSize=function(n){if(n.attr("hasHeader")){var t=n.find(".e-dbrd-widget"),i=n.find(".bbi-dbrd-control-header").height(),r=n.height();t.css("height",r-i+"px")}},n.prototype.getSelectionBounds=function(n,t){return{x1:n.left,x2:n.left+this.getItemWidth(t),y1:n.top,y2:n.top+this.getItemHeight(t)}},n.prototype.getMousePosition=function(n){var t=n.pageX,i=n.pageY,r,u;return n.pageX||n.pageY?(t=n.pageX,i=n.pageY):n.originalEvent&&n.originalEvent.targetTouches&&n.originalEvent.targetTouches.length>0?(t=n.originalEvent.targetTouches[0].pageX,i=n.originalEvent.targetTouches[0].pageY):n.originalEvent&&n.originalEvent.changedTouches&&n.originalEvent.changedTouches.length>0&&(t=n.originalEvent.changedTouches[0].pageX,i=n.originalEvent.changedTouches[0].pageY),r=this.bbdesigner$(document).scrollLeft(),u=this.bbdesigner$(document).scrollTop(),{x:Math.round(t+r),y:Math.round(i+u)}},n.prototype.getOffsetPosition=function(n){var t=this.dashboardDesigner.modules.Mode.designCanvas.offset(),i={left:0,top:0};return BoldBIDashboard.isNullOrUndefined(n)||(i={left:t.left+(n.left-t.left),top:t.top+(n.top-t.top)}),i},n.prototype.reset=function(){this.selectedReportItems=[];this.dbrdErrors=[];BoldBIDashboard.DashboardUtil.destroyEjObjects(this.dashboardDesigner.modules.Mode.designCanvas.find(".e-js"))},n.prototype.logError=function(n){var t=this;n.Error={Message:n.Error.message,Stack:n.Error.stack};this.dbrdErrors.push(n);this.errorLoggerTimer&&(clearTimeout(this.errorLoggerTimer),this.errorLoggerTimer=null);this.errorLoggerTimer=setTimeout(this.bbdesigner$.proxy(function(){t.dashboardDesigner.modules.serialization.syncScriptErrors();clearTimeout(t.errorLoggerTimer);t.errorLoggerTimer=null},this),1e3)},n.prototype.updateDefaultProperties=function(n){BoldBIDashboard.isNullOrUndefined(this.propertyPanel)||this.propertyPanel.showProperty(!1);this.removeWidgetSelection();this.updateReportProperties(n)},n.prototype.renderItem=function(n,t,i,r,u){var l,e,a,c,o,s,v;u===void 0&&(u="");var h=JSON.parse(JSON.stringify(r)),f=this.widgetHelper.createWidgetInstance(n),y=this.widgetHelper.getWidgetObj(n);BoldBIDashboard.isNullOrUndefined(f)||(l=null,e={subType:t,guid:u},BoldBIDashboard.isNullOrUndefined(y)||(e.data=y.customData),f.CellInfo=r,a=this.getCellItemBounds(r.Row,r.Column,r.RowSpan,r.ColumnSpan),f.updateWidgetBounds(r),BoldBIDashboard.Dashboard.WidgetHelper.createWidgetContainer(f,this.dashboardDesigner,a,"",e),f.ContentContainer.find(".bbi-loader-background").css("display")==="block"&&f.ContentContainer.find(".bbi-loader-background").css("display","none"),this.hideLoadingIndicator(f.ControlContainer),f.init(JSON.stringify(e),l),BoldBIDashboard.Dashboard.WidgetContainerHelper.hideControlContainer(f),this.removeWidgetSelection(),this.widgetSelection(f.ControlContainer),this.invokePropertyPanel(),this.dashboardDesigner.modules.Mode.placingItem.is(":visible")&&this.dashboardDesigner.modules.Mode.placingItem.css("display","none"),this.dashboardDesigner.modules.containerTypeWidgetHelper.isDraggedIntoContainerWidget(f,f.CellInfo)&&(c=this.dashboardDesigner.modules.containerTypeWidgetHelper.getContainerWidget(f),f.CellInfo=c.updateChildWidgetOnDrop(f,f.CellInfo),f.updateWidgetBounds(r),o=this.getWidgetItemPosition(r.Row,r.Column),BoldBIDashboard.isNullOrUndefined(f.getContainerSettings().CombineWidgetId)||f.getContainerSettings().CombineWidgetId===""?f.ControlContainer.css({left:o.left,top:o.top}):c.positionChildWidget(f,o,this.cellMargin,this.cellMargin),this.dashboardDesigner.modules.containerPropertyItem.updateCombineWidgetBackground(f)),f.getJson().FilterSettings.ActAsMasterWidget&&this.filterObject.ActAsMasterPropertyChangeInFilterConfigInfo(!0),s=f.getJson(),BoldBIDashboard.isNullOrUndefined(s)||BoldBIDashboard.isNullOrUndefined(s.FilterSettings)?this.filterObject.IgnoreFilterActionPropertyChange(!1):this.filterObject.IgnoreFilterActionPropertyChange(s.FilterSettings.IgnoreFilterActions),v=[n,t,i,{Row:h.Row,Column:h.Column,RowSpan:h.RowSpan,ColumnSpan:h.ColumnSpan}],BoldBIDashboard.isNullOrUndefined(BoldBIDashboardDesigner.editManager)||BoldBIDashboardDesigner.editManager.addCmdAction(CommandAction.ItemAdd,"renderItem","DesignPanel",this.dashboardDesigner._id+"_"+f.Name,null,v))},n.prototype.containerCreation=function(n,t,i){var r,o,u,f,e;t=n.rootCss;r=n.getJson();n.controlContainer=BoldBIDashboard.buildTag("div.bbi-dbrditem bbi-dbrd-control-container","",{left:i.left,top:i.top,width:i.width,height:this.isMobileView&&!this.dashboardDesigner.model.isPinWidget?n.getMobileViewHeight():i.height,position:"absolute","box-sizing":"content-box","-moz-box-sizing":"content-box","-webkit-box-sizing":"content-box"},{id:this.dashboardDesigner._id+"_"+n.reportName,Name:n.reportName,hasHeader:r.ContainerSettings.ShowHeader,type:n.controlType,"data-widget-id":r.UniqueId,controlType:BoldBIDashboard.DashboardDesignerUtility.Serialization.enumToString(WidgetType,n.isMasterByDefault?WidgetType.Filter:WidgetType.NonFilter)});n.controlContainer.addClass(t);this.dashboardDesigner.modules.Mode.designCanvas.append(n.controlContainer);o=r.ContainerSettings.ShowHeader?{controlTitle:r.ContainerSettings.Title,controlId:n.reportName,isControlMenuVisible:n.isControlMenuVisible,isMaximizeEnable:!1,isFilterIconEnable:r.FilterSettings.ActAsMasterWidget,controlType:BoldBIDashboard.DashboardDesignerUtility.Serialization.enumToString(WidgetType,n.isMasterByDefault?WidgetType.Filter:WidgetType.NonFilter)}:{};Object.keys(o).length>0&&(this.getControlHeader(o,n),this.getControlSubHeader(n));this.createContentContainer(n);this.createNoDataContainer(n);this.createWidgetNotConfiguredContainer(n);var s=this.bbdesigner$(n.controlContainer).find(".bbi-dbrd-control-title"),l=this.bbdesigner$(n.controlContainer).find(".bbi-dbrd-control-description"),h=r.ContainerSettings.Title,c=r.ContainerSettings.Description;l.css({display:!BoldBIDashboard.isNullOrUndefined(c)&&c.trim().length>0?"block":"none"});h=this.labelParameter.getResultantParameterString(h,r.Data.Id);s.html(h);s.attr("data-tooltip",s.text());this.labelParameter.adjustParameterColumn(this.bbdesigner$(n.controlContainer).find(".bbi-dbrd-control-title-wrapper"));u=this.dashboardDesigner.modules.containerPropertyItem;this.bbdesigner$(n.controlContainer).find(".bbi-dbrd-control-title-wrapper").css({"justify-content":u.getContainerTitleAlignmentValue(BoldBIDashboard.DashboardDesignerUtility.Serialization.enumToString(TextAlignment,r.ContainerSettings.TextAlignment))});this.bbdesigner$(n.controlContainer).find(".bbi-dbrd-control-sub-title").css({"justify-content":u.getContainerTitleAlignmentValue(BoldBIDashboard.DashboardDesignerUtility.Serialization.enumToString(TextAlignment,r.ContainerSettings.TextAlignment))});n.getJson().ContainerSettings.SubTitle!==" "&&(f=n.getJson().ContainerSettings.SubTitle,e=this.bbdesigner$(n.controlContainer).find(".bbi-dbrd-control-sub-title"),f=this.labelParameter.getResultantParameterString(f,r.Data.Id),e.html(f),e.attr("data-tooltip",e.text()),this.labelParameter.adjustParameterColumn(this.bbdesigner$(n.controlContainer).find(".bbi-dbrd-control-sub-header")));this.bbdesigner$(n.controlContainer).find(".bbi-dbrd-control-title").css({color:r.ContainerSettings.TextColor});r.ContainerSettings.ShowBorder&&(this.bbdesigner$(n.controlContainer).find(".bbi-dbrd-control-sub-title").css({"justify-content":u.getContainerTitleAlignmentValue(BoldBIDashboard.DashboardDesignerUtility.Serialization.enumToString(TextAlignment,r.ContainerSettings.TextAlignment))}),this.bbdesigner$(n.controlContainer).find(".bbi-dbrd-control-title").css({color:r.ContainerSettings.TextColor}),n.getJson().ContainerSettings.ShowBorder?this.bbdesigner$(n.controlContainer).css({border:this.dashboardDesigner.modules.themeHelper.getWidgetContainerBorder(this.dashboardDesigner.isDarkTypeTheme())}):this.bbdesigner$(n.controlContainer).css({border:"0px"}),this.bbdesigner$(n.controlContainer).css("border-radius",r.ContainerSettings.CornerRadius),this.bbdesigner$(n.controlContainer).find(".bbi-dbrd-content-container").css("border-radius",r.ContainerSettings.CornerRadius),this.bbdesigner$(n.controlContainer).find(".bbi-dbrd-control-nodatainfo").css("border-radius",r.ContainerSettings.CornerRadius),this.bbdesigner$(n.controlContainer).find(".bbi-widget-not-configured-text").css("border-radius",r.ContainerSettings.CornerRadius),this.bbdesigner$(n.controlContainer).find(".bbi-loader-background").css("border-radius",r.ContainerSettings.CornerRadius));this.isMobileView&&this.updateScrollBar()},n.prototype.createContentContainer=function(n){var i=n.getJson().ContainerSettings.SubTitle,t=10,r;n.isHeaderVisible&&(t=n.controlHeader.outerHeight(!0),!BoldBIDashboard.isNullOrUndefined(i)&&i.trim().length>0?(t+=n.controlSubHeader.outerHeight(!0),this.bbdesigner$(n.controlContainer).find(".bbi-dbrd-control-sub-header").css("display","block")):this.bbdesigner$(n.controlContainer).find(".bbi-dbrd-control-sub-header").css("display","none"));r=n.isHeaderVisible?"calc(100% - "+t+"px)":n.controlType==="Card"&&!BoldBIDashboard.isNullOrUndefined(n.controlHeader)?"calc(100% - "+n.controlHeader.outerHeight(!0)+"px)":"100%";n.contentContainer=BoldBIDashboard.buildTag("div.bbi-dbrd-content-container e-dashboardviewer","",{width:"100%",height:r,"box-sizing":"border-box","-moz-box-sizing":"border-box","-webkit-box-sizing":"border-box",padding:n.isHeaderVisible?"0px 3px 3px 3px":"3px","background-color":"#ffffff"},{});n.contentContainer.find(".bbi-background-waiting-popup").length===0&&this.appendSpinningWidget(n.contentContainer);n.controlContainer.append(n.contentContainer)},n.prototype.appendSpinningWidget=function(n){var i="http://www.w3.org/2000/svg",r=BoldBIDashboard.buildTag("div.bbi-background-waiting-popup","",{display:"none",top:"0px",position:"absolute",width:"100%",height:"100%","background-color":this.dashboardDesigner.modules.themeHelper.getWaitingPopupBackground(),"z-index":"150"}),u=BoldBIDashboard.buildTag("div.bbi-dashboard-spinning","",{}),t=document.createElementNS(i,"svg"),f=document.createElementNS(i,"circle"),e=document.createElementNS(i,"circle");BoldBIDashboard.Dashboard.WidgetContainerHelper.setAttributes(t,{"class":"bbi-dashboard-circular",viewBox:"25 25 50 50"});BoldBIDashboard.Dashboard.WidgetContainerHelper.setAttributes(f,{"class":"path-outline",cx:"50",cy:"50",r:"10",fill:"none","stroke-width":"2","stroke-miterlimit":"20"});BoldBIDashboard.Dashboard.WidgetContainerHelper.setAttributes(e,{"class":"path",cx:"50",cy:"50",r:"10",fill:"none","stroke-width":"2","stroke-miterlimit":"20"});t.appendChild(f);t.appendChild(e);u.append(t);r.append(u);n.append(r)},n.prototype.createNoDataContainer=function(n){n.nodataDispalyContainer=BoldBIDashboard.buildTag("div.bbi-dbrd-control-nodatainfo bbi-nodata-container","",{padding:n.isHeaderVisible?"0px 3px 3px 3px":"3px"},{});var t=BoldBIDashboard.buildTag("div.bbi-dbrd-control-nodatainfo e-info-div bbi-align-center","",{display:"inline-block"},{}),r=BoldBIDashboard.buildTag("div.bbi-widget-info-icon","",{display:"inline-block"},{}),i=BoldBIDashboard.buildTag("div.e-nodata","",{"font-size":"12px","font-style":"italic","font-family":"'Heebo', 'Roboto'"},{});i.html(BoldBIDashboardDesigner.getLocale().designPanel.noDataToBeDisplay);t.append(r);t.append(i);n.nodataDispalyContainer.append(t);this.updateNoDataContainerSize(n);n.contentContainer.append(n.nodataDispalyContainer)},n.prototype.createWidgetNotConfiguredContainer=function(n){var t=BoldBIDashboard.buildTag("div.bbi-widget-not-configured-text","",{},{}),r=BoldBIDashboard.buildTag("div.bbi-loader-background","",{},{}),i=BoldBIDashboard.buildTag("div.bbi-widget-not-configured-header","",{},{}),u=BoldBIDashboard.buildTag("div.bbi-widget-not-configured-icon bbi-dbrd-designer-hoverable","",{},{"data-tooltip":this.locale.designPanel.widgetNotConfigured}),f=BoldBIDashboard.buildTag("div.bbi-widget-not-configured-content",this.locale.designPanel.widgetNotConfigured,{},{});i.append(u,f);t.append(i);n.contentContainer.append(t,r);n.contentContainer.closest(".bbi-dbrd-control-container").hasClass("e-label-item")&&n.contentContainer.closest(".bbi-dbrd-control-container").hasClass("e-rte-item")||BoldBIDashboard.Dashboard.WidgetContainerHelper.addWidgetNotConfiguredClass(n)},n.prototype.showControlError=function(n,t,i){var u=n,e=BoldBIDashboard.Dashboard.WidgetHelper.getWidgetInstance(u.parents(".bbi-dbrditem")),f,o,s,r,h;e.IsRendered=!0;f=e.getJson().ContainerSettings;o=f.ShowBorder?f.CornerRadius:0;u.children(".bbi-dbrd-control").css({display:"none"});u.find(".bbi-dbrd-control-error").length>0&&u.find(".bbi-dbrd-control-error").remove();s=this.dashboardDesigner.modules.masterSlaveFilter;r=this.bbdesigner$("<div>").addClass("bbi-dbrd-control-error e-container-dbrd-theme bbi-align-center").css({"z-index":"100",position:"relative","border-radius":o+"px"});r.append(this.bbdesigner$("<div>").addClass("bbi-widget-error-icon").attr({"data-tooltip":this.locale.errorMessage.dataRetrievalError}).addClass("e-dbrd-hoverable"),this.bbdesigner$("<div>").addClass("e-dbrd-controlError-msg").html(this.locale.errorMessage.dataRetrievalError),this.bbdesigner$("<div class='bbi-dbrd-link-btn'>").html(this.locale.errorMessage.knowMore));u.css({display:"table"});r.append(this.bbdesigner$("<button type='button' class='reload-retrievalerror-icon bbi-reload-button e-container-dbrd-theme bbi-dbrd-designer-hand-cursor'><span style = 'padding-left:6px'>Reload<\/span><\/button>").addClass("bbi-dbrd-refresh-link-btn").css({"font-size":"13px"}).data({control:u}));u.append(r);this.bbdesigner$(n).on("click",".bbi-dbrd-link-btn",this.bbdesigner$.proxy(this.dashboardDesigner.modules.util.alertDialog,this.dashboardDesigner.modules.util,this.locale.alertDialogTitle.dashboardDesigner,this.locale.errorMessage.dataFetchingError,IconType.errors,AlertType.Alert,!0,BoldBIDashboard.isNullOrUndefined(t.Message)?this.locale.errorMessage.widgetDataUpdateFailed:t.Message));h=this;r.find(".reload-retrievalerror-icon").bind("click",function(){h.dataConfigurationInstance.postDraggedFields(u.parents(".bbi-dbrditem"),!1,s.getSelectedValuesForWidgetRequest())});i.rowSpan===1&&i.colSpan===1?(r.find(".bbi-widget-error-icon").remove(),r.prepend(this.bbdesigner$("<div>").addClass("widget-error-icon-single").attr({"data-tooltip":this.locale.errorMessage.dataRetrievalError}).addClass("e-dbrd-hoverable").css({"font-size":"18px"})),r.find(".e-dbrd-controlError-msg").remove(),r.find(".bbi-dbrd-link-btn").css({"font-size":"7px"}),r.find(".bbi-dbrd-refresh-link-btn").css({border:"none","font-size":"7px",color:"#3b99fc",height:"15px","margin-top":"0px"})):i.rowSpan===1&&(r.find(".bbi-widget-error-icon").addClass("e-dbrd-iocn-single"),r.find(".e-dbrd-controlError-msg").remove(),r.find(".bbi-dbrd-refresh-link-btn").addClass("e-dbrd-refresh-single"))},n.prototype.canRemove=function(){return this.dashboardDesigner.modules.Mode.designCanvas.find(".bbi-selected-item").length>0},n.prototype.removeItem=function(){var n=this;BoldBIDashboardDesigner.editManager.setMergeAction(!0);var u=this.dashboardDesigner.modules.Mode.designCanvas.find(".bbi-selected-item"),i=this,t=null,r=!1;u.each(function(u,f){var e=BoldBIDashboard.Dashboard.WidgetHelper.getWidgetInstance(n.bbdesigner$(f));if(!BoldBIDashboard.isNullOrUndefined(e)){if(i.filterObject.RemoveSelectedWidgetFromFilterObject(),t=i.selectNextItem(n.bbdesigner$(f)),BoldBIDashboard.Dashboard.WidgetHelper.isContainerWidget(e)){n.dashboardDesigner.deleteWidgetfromCollection(e.Name);n.dashboardDesigner.modules.containerTypeWidgetHelper.getWidgetAsContainerWidget(e).showAlert([],!0,t);r=!0;return}n.removeDateBucketConfiguration(e.Name);e.dispose();n.dashboardDesigner.deleteWidgetfromCollection(e.Name)}});r||this.updateWidgetOnRemove(t)},n.prototype.removeDateBucketConfiguration=function(n){var t=this.widgetHelper.getAllDatebucketWidgets();t.forEach(function(t){t.getDateBucketProperties().ConfiguredWidgetList.filter(function(t){return t.WidgetName===n}).length>0&&t.removeConfiguration(n)})},n.prototype.updateWidgetOnRemove=function(n){BoldBIDashboardDesigner.editManager.setMergeAction(!1);this.updateSelectedItems();BoldBIDashboard.isNullOrUndefined(n)?this.updateReportProperties():this.performItemSelection(n);this.updateRptToolbarActions();this.dashboardDesigner.modules.serialization.notifyChange()},n.prototype.selectNextItem=function(n){for(var r,u=null,i=this.dashboardDesigner.modules.Mode.designCanvas.find(".bbi-dbrditem"),f=i.length,t=0;t<f;t++)r=this.bbdesigner$(i[t]),n.attr("id")===r.attr("id")&&(u=t===f-1?this.bbdesigner$(i[0]):this.bbdesigner$(i[t+1]));return u},n.prototype.canCopy=function(){return this.dashboardDesigner.modules.Mode.designCanvas.find(".bbi-selected-item").length>0},n.prototype.canCut=function(){return this.dashboardDesigner.modules.Mode.designCanvas.find(".bbi-selected-item").length>0},n.prototype.canPaste=function(){return this.dashboardDesigner.copiedItem&&this.dashboardDesigner.copiedItem.items&&this.dashboardDesigner.copiedItem.items.length>0},n.prototype.copyItem=function(){var i=this,n=[],t;BoldBIDashboardDesigner.editManager.setMergeAction(!0);t=this.bbdesigner$;this.dashboardDesigner.modules.Mode.designCanvas.find(".bbi-selected-item").each(function(i,r){var u=BoldBIDashboard.Dashboard.WidgetHelper.getWidgetInstance(t(r)),f=u.getJson();n.push({item:JSON.parse(JSON.stringify(f))})});BoldBIDashboard.Dashboard.WidgetHelper.isContainerWidget(this.widgetHelper.getCurrentWidgetInstance())&&this.widgetHelper.getAllWidgets().filter(function(t){BoldBIDashboard.isNullOrUndefined(t.getContainerSettings().CombineWidgetId)||t.getContainerSettings().CombineWidgetId===""||t.getContainerSettings().CombineWidgetId===i.widgetHelper.getCurrentWidgetInstance().getJson().UniqueId&&n.push({item:JSON.parse(JSON.stringify(t.getJson()))})});n&&n.length>0&&(this.dashboardDesigner.copiedItem={actionType:CopyType.ReportItem,items:n,action:"copy"},this.dashboardDesigner.rptToolbar.showPaste(!0));BoldBIDashboardDesigner.editManager.setMergeAction(!1)},n.prototype.cutItem=function(){var n=[],t=this.dashboardDesigner.modules.Mode.designCanvas.find(".bbi-selected-item"),r=this,u=t.length,i;BoldBIDashboardDesigner.editManager.setMergeAction(!0);i=this.bbdesigner$;t.each(function(t,u){var f=BoldBIDashboard.Dashboard.WidgetHelper.getWidgetInstance(i(u)),e;BoldBIDashboard.isNullOrUndefined(f)||(r.filterObject.RemoveSelectedWidgetFromFilterObject(),e=f.getJson(),n.push({item:JSON.parse(JSON.stringify(e))}),f.dispose())});n.length>0&&(this.dashboardDesigner.copiedItem={actionType:CopyType.ReportItem,items:n,action:"cut"},this.dashboardDesigner.rptToolbar.showCopy(!1),this.dashboardDesigner.rptToolbar.showCut(!1),this.dashboardDesigner.rptToolbar.showPaste(!0));this.updateSelectedItems();u>0&&this.updateReportProperties();BoldBIDashboardDesigner.editManager.setMergeAction(!1)},n.prototype.pasteItem=function(){var t;if(!BoldBIDashboard.isNullOrUndefined(this.dashboardDesigner.copiedItem)&&this.dashboardDesigner.modules.Mode.designCanvas.find(".bbi-selected-item").length===0){var n=this.dashboardDesigner.copiedItem.items,i=Number(this.dashboardDesigner.modules.Mode.placingItem.attr("row")),r=Number(this.dashboardDesigner.modules.Mode.placingItem.attr("column"));this.dashboardDesigner.copiedItem.actionType===CopyType.ReportItem&&(t=this.validatePasteOperation(i,r),n&&n.length>0&&t&&this.pasteWidgets(n))}},n.prototype.pasteWidgets=function(n){var t,i;for(BoldBIDashboardDesigner.editManager.setMergeAction(!0),t=0;t<n.length;t++){if(i=this.bbdesigner$.extend(!0,{},n[t].item),BoldBIDashboard.Dashboard.WidgetHelper.isContainerWidget(this.getWidgetInstanceFromPropNameSpace(i.__type))&&this.restrictCombineWidget(i)){this.dashboardDesigner.modules.util.alertDialog(this.locale.alertDialogTitle.dashboardDesigner,this.locale.combineWidget.pasteRestrictAlertMsg,IconType.information,AlertType.Alert,!1,"");return}this.pasteWidgetElement(i)}BoldBIDashboardDesigner.editManager.setMergeAction(!1)},n.prototype.validatePasteOperation=function(n,t){for(var i,u=this.dashboardDesigner.modules.Mode.designCanvas.find(".bbi-dbrditem"),r=0;r<u.length;r++)if(i=BoldBIDashboard.Dashboard.WidgetHelper.getWidgetInstance(this.bbdesigner$(u[r])),i.CellInfo.Row===n&&i.CellInfo.Column===t)return!1;return!0},n.prototype.validateCellInfo=function(n,t){for(var i,r,f=this.dashboardDesigner.modules.Mode.designCanvas.find(".bbi-dbrditem"),u=0;u<f.length;u++)if(i=BoldBIDashboard.Dashboard.WidgetHelper.getWidgetInstance(this.bbdesigner$(f[u])),BoldBIDashboard.isNullOrUndefined(i.getContainerSettings().CombineWidgetId)||i.getContainerSettings().CombineWidgetId===""){if(n>=i.CellInfo.Row&&n<i.CellInfo.RowSpan+i.CellInfo.Row&&t>=i.CellInfo.Column&&t<i.CellInfo.ColumnSpan+i.CellInfo.Column)return!1}else if(r=this.dashboardDesigner.modules.containerTypeWidgetHelper.getContainerWidget(i),n>=i.CellInfo.Row+r.CellInfo.Row&&n<i.CellInfo.RowSpan+i.CellInfo.Row+r.CellInfo.Row&&t>=i.CellInfo.Column+r.CellInfo.Column&&t<i.CellInfo.ColumnSpan+i.CellInfo.Column+r.CellInfo.Column)return!1;return!0},n.prototype.getCalculatedInfo=function(n){for(var e,f,r,i,u=1,o=1,t=0;t<n.ColumnSpan;t++)i=this.getCellItem(n.Row,n.Column+t),!BoldBIDashboard.isNullOrUndefined(i)&&i.length>0&&this.validateCellInfo(n.Row,n.Column+t)&&(e=Number(i.attr("column"))-Number(n.Column)+1,e>u&&(u=t+1));for(t=0;t<n.RowSpan;t++){for(f=!1,r=0;r<u;r++)if(i=this.getCellItem(n.Row+t,n.Column),!BoldBIDashboard.isNullOrUndefined(i)&&i.length>0&&!this.validateCellInfo(n.Row+t,n.Column+r)){f=!0;break}if(f)break;else n.Row+t<this.rowsLength&&(o=t+1)}return n.RowSpan=o,n.ColumnSpan=u,n},n.prototype.pasteWidgetElement=function(n){var f,e,o,s,i,r,t,h,u;if(this.isPasteAction=!0,f={Row:Number(this.dashboardDesigner.modules.Mode.placingItem.attr("row")),Column:Number(this.dashboardDesigner.modules.Mode.placingItem.attr("column")),RowSpan:n.ContainerSettings.Bounds.RowSpan,ColumnSpan:n.ContainerSettings.Bounds.ColumnSpan},e=this.getCalculatedInfo(f),BoldBIDashboard.isNullOrUndefined(n.ContainerSettings.CombineWidgetId)||n.ContainerSettings.CombineWidgetId===""||this.dashboardDesigner.modules.containerTypeWidgetHelper.isDraggedIntoContainerWidget(this.getWidgetInstanceFromPropNameSpace(n.__type),f,!0)||(n.ContainerSettings.CombineWidgetId=""),BoldBIDashboard.isNullOrUndefined(n.ContainerSettings.CombineWidgetId)||n.ContainerSettings.CombineWidgetId===""||(e=n.ContainerSettings.Bounds),n.ContainerSettings.Bounds=e,o=n.UniqueId,this.dashboardDesigner.copiedItem.action==="copy"&&(n.UniqueId=this.dashboardDesigner.modules.util.generateGuid()),s=this.renderWidgetOnCmdAction(n),this.performItemSelection(s),this.dashboardDesigner.copiedItem.items.length===1)BoldBIDashboardDesigner.editManager.addCmdAction(CommandAction.ItemAdd,"renderWidgetOnCmdAction","DesignPanel",this.dashboardDesigner._id+"_"+n.UniqueName,null,[n]);else if(this.combineWidgetJsonCollection.push(n),this.combineWidgetJsonCollection.length===this.dashboardDesigner.copiedItem.items.length){for(i=0,r=0;r<this.combineWidgetJsonCollection.length;r++)if(BoldBIDashboard.Dashboard.WidgetHelper.isContainerWidget(this.getWidgetInstanceFromPropNameSpace(this.combineWidgetJsonCollection[r].__type))){i=r;break}u=this.dashboardDesigner.modules.containerTypeWidgetHelper.getContainerIdsForChildWidgets(this.combineWidgetJsonCollection,this.combineWidgetJsonCollection[i]);BoldBIDashboardDesigner.editManager.addCmdAction(CommandAction.ItemAdd,"renderCombineWidgetOnUndoAction","Designpanel",this.dashboardDesigner._id+"_"+this.combineWidgetJsonCollection[i].UniqueName,null,[this.combineWidgetJsonCollection,this.combineWidgetJsonCollection[i].UniqueId,u]);this.combineWidgetJsonCollection=[]}this.dashboardDesigner.modules.Mode.placingItem.css("display","none");this.isPasteAction=!1;this.dashboardDesigner.modules.serialization.notifyChange();t=this.widgetHelper.getCurrentWidgetInstance();BoldBIDashboard.Dashboard.WidgetHelper.isContainerWidget(t)&&(this.updateCombineWidgetId(t.getJson().UniqueId),this.dashboardDesigner.modules.containerTypeWidgetHelper.getWidgetAsContainerWidget(t).clearWidgetList());h=t.getContainerSettings().CombineWidgetId;BoldBIDashboard.DashboardUtil.IsStringNullorWhiteSpace(h)||(u=this.dashboardDesigner.modules.containerTypeWidgetHelper.getContainerIdFromCopiedItems(this.dashboardDesigner.copiedItem.items,o),this.dashboardDesigner.modules.containerTypeWidgetHelper.updateWidgetsInContainer(t,!1,u));this.updateFilterConfiguration(n);this.dashboardDesigner.modules.containerPropertyItem.updateBackgroundInfo(t)},n.prototype.restrictCombineWidget=function(n){var i={Row:Number(this.dashboardDesigner.modules.Mode.placingItem.attr("row")),Column:Number(this.dashboardDesigner.modules.Mode.placingItem.attr("column")),RowSpan:n.ContainerSettings.Bounds.RowSpan,ColumnSpan:n.ContainerSettings.Bounds.ColumnSpan},t=this.getCalculatedInfo(i);return t.ColumnSpan!==n.ContainerSettings.Bounds.ColumnSpan||t.RowSpan!==n.ContainerSettings.Bounds.RowSpan?!0:!1},n.prototype.updateCombineWidgetId=function(n){for(var r,i,u=this.dashboardDesigner.copiedItem.items,t=0;t<u.length;t++)r=this.bbdesigner$.extend(!0,{},u[t].item),i=r.ContainerSettings.CombineWidgetId,BoldBIDashboard.isNullOrUndefined(i)||i===""||(this.dashboardDesigner.copiedItem.items[t].item.ContainerSettings.CombineWidgetId=n)},n.prototype.updateFilterConfiguration=function(n){n.FilterSettings.ActAsMasterWidget&&this.filterObject.ActAsMasterPropertyChangeInFilterConfigInfo(!0);n.FilterSettings.IgnoreFilterActions||this.filterObject.IgnoreFilterActionPropertyChange(!1)},n.prototype.renderViewModeReport=function(n){var r,t,i,f,u;if(this.rdlParser=n,r=[],this.updateDashboardTitleFont(),this.dashboardDesigner.triggerViewerEvent(ViewerEvent.actionBegin,ViewerEventType.renderDashboard,undefined,this.dashboardDesigner.designerPanel),this.updateDashboardLevelWidgetFont(),n.rdlJsonObj&&n.rdlJsonObj.WidgetData)for(!BoldBIDashboard.isNullOrUndefined(this.dashboardDesigner.model.widgets)&&this.dashboardDesigner.model.widgets.length>0&&this.dashboardDesigner.model.widgets[0].id!==""&&(this.isWidgetFilterConfigNeeded=this.findWidgetExistence(this.rdlParser.rdlJsonObj.WidgetData,this.dashboardDesigner.model.widgets)),this.rdlParser.rdlJsonObj.WidgetData=n.rdlJsonObj.WidgetData.sort(this.compareWidgetPostion),this.rdlParser=this.dashboardDesigner.modules.containerTypeWidgetHelper.updateRdlParserForContainerWidget(this.rdlParser),t=this,i=this.updateWidgetsBasedOnPages(),this.getRequiredScripts(i),f=function(n){for(var u=[],f=4,e=0;e<i[n].length;e=e+4)setTimeout(function(n,i,f,e){for(var h,o,l,c,s=n;s<f;s++){try{if(h=e[i][s],o=t.renderWidgetContainer(h,!0),!BoldBIDashboard.isNullOrUndefined(t.dashboardDesigner.model.dashboardFromData)&&t.dashboardDesigner.model.dashboardFromData.loadFromData&&t.dashboardDesigner.model.dashboardFromData.isControl){if(l=t.dashboardDesigner.model.dashboardFromData.reportName,l===h.UniqueName)for(u.push(o.ControlContainer),r.push(o.getRequiredScripts()),t.loadRequiredScripts(r),c=i;c<t.rdlParser.rdlJsonObj.WidgetData.length;c++)clearTimeout(t.timers.pop())}else u.push(o.ControlContainer),r.push(o.getRequiredScripts());t.updateWidgetLevelFontForViewer(o);t.dashboardDesigner.modules.containerTypeWidgetHelper.updateCurrentChildToParentContainer(u)}catch(a){t.logError({Source:"Deserialization",Error:a,Type:a.name})}s===e[i].length-1&&t.updateWidgetsAfterRender(t,i,e,u)}},0,e,n,f,i),f=f+4>i[n].length?i[n].length:f+4},u=0;u<i.length;u++)f(u)},n.prototype.updateWidgetsAfterRender=function(n,t,i,r){var e,f,o,s,u,h;if(n.updateWidgetSizeForCombineWidget(r),t===i.length-1)for(n.dashboardDesigner.applyLayoutTheme(n.dashboardDesigner.isDarkTypeTheme()),e=this.widgetHelper.getAllWidgets(),f=0;f<e.length;f++)this.dashboardDesigner.modules.containerPropertyItem.updateBackgroundInfo(e[f]),BoldBIDashboard.DashboardUtil.IsStringNullorWhiteSpace(e[f].getContainerSettings().CombineWidgetId)||this.dashboardDesigner.modules.containerPropertyItem.updateCombineWidgetBackground(e[f]);n.initializeAndLoadWidget(r,t,i);n.updateDefaultProperties(!0);n.dashboardDesigner.model.mode===BoldBIDashboard.Designer.mode.view&&t===i.length-1&&(n.showMenuIcon(!0),o=n.dashboardDesigner.modules.masterSlaveFilter,s=n.dashboardDesigner.filterQueryValidation(o.GetAllWidgetInstanceFromContainer(),o.getAllWidgetSelectedValues()),n.banner.toggleFilterOverview(s.length>0),u=n.dashboardDesigner.modules.autoRefresh,n.dashboardDesigner.modules.labelParameter.getDataForLabelParameter(s,n.dashboardDesigner._id),BoldBIDashboard.isNullOrUndefined(u)||!n.dashboardDesigner.model.enableAutoRefresh||BoldBIDashboard.isNullOrUndefined(n.dashboardDesigner.model.autoRefreshSettings)?!BoldBIDashboard.isNullOrUndefined(u)&&!BoldBIDashboard.isNullOrUndefined(this.dashboardDesigner.modules.autoRefresh.refreshSetting)&&this.dashboardDesigner.modules.autoRefresh.refreshSetting.enableAutoRefresh&&this.dashboardDesigner.modules.autoRefresh.refreshSetting.isRefreshRowCount&&u.getRowCountOfDS():(u.updateRefreshInfoFromAutoRefreshAPI(),u.refreshSetting=n.dashboardDesigner.refreshSetting,u.getRowCountOfDS(),h=n.dashboardDesigner.modules.autoRefresh,h.initializeAutoRefresh(n.dashboardDesigner.refreshSetting)));t===i.length-1&&(n.dashboardDesigner.triggerViewerEvent(ViewerEvent.actionComplete,ViewerEventType.layoutRendered,n.dashboardDesigner.element),n.dashboardDesigner.triggerDashboardRenderedEventForViewer())},n.prototype.updateDashboardTitleFont=function(){var n=this.dashboardDesigner.modules.serialization.dashboardPropertyJson.DashboardFontInfo,t=BoldBIDashboard.isNullOrUndefined(n)?!0:n.Headers.AutoFontSize;t||this.dashboardDesigner.element.find(".bbi-dashboard-designer .bbi-dashboarddesigner-bannerPanel .bbi-dashboard-banner-title >p").css("font-size",n.Headers.FontSize)},n.prototype.updateDashboardLevelWidgetFont=function(){var n=this.dashboardDesigner.modules.serialization.dashboardPropertyJson.WidgetFontInfo,t=BoldBIDashboard.isNullOrUndefined(n)?!0:n.Title.AutoFontSize,i=BoldBIDashboard.isNullOrUndefined(n)?!0:n.Subtitle.AutoFontSize;t||this.dashboardDesigner.element.find(".bbi-dbrd-control-container .bbi-dbrd-control-header .bbi-dbrd-control-title .e-title-text").css("font-size",n.Title.FontSize);i||this.dashboardDesigner.element.find(".bbi-dbrd-control-container .bbi-dbrd-control-sub-header .bbi-dbrd-control-sub-title .e-title-text").css("font-size",n.Subtitle.FontSize)},n.prototype.updateWidgetLevelFontForDesigner=function(n){for(var t,i=0;i<n.length;i++)t=BoldBIDashboard.Dashboard.WidgetHelper.getWidgetInstance(n[i]),this.updateWidgetLevelFont(t.getJson().ContainerSettings.WidgetTitleFontInfo,t.getJson().ContainerSettings.WidgetSubTitleFontInfo,t)},n.prototype.updateWidgetLevelFontForViewer=function(n){this.updateWidgetLevelFont(n.getJson().ContainerSettings.WidgetTitleFontInfo,n.getJson().ContainerSettings.WidgetSubTitleFontInfo,n)},n.prototype.updateWidgetLevelFont=function(n,t,i){var r=BoldBIDashboard.isNullOrUndefined(n)?!0:n.AutoFontSize,u=BoldBIDashboard.isNullOrUndefined(t)?!0:t.AutoFontSize;r||BoldBIDashboard.isNullOrUndefined(i.ControlHeader)||i.ControlHeader.find(".bbi-dbrd-control-title .e-title-text").css("font-size",n.FontSize);u||BoldBIDashboard.isNullOrUndefined(i.ControlSubHeader)||i.ControlSubHeader.find(".bbi-dbrd-control-sub-title .e-title-text").css("font-size",t.FontSize)},n.prototype.findWidgetExistence=function(n,t){for(var f,u,r=t,e=!1,i=0;i<r.length;i++)if(BoldBIDashboard.isNullOrUndefined(r[i].id)||r[i].id==="")console.error("Please enter widget ID to apply the Filters!");else{for(f=!1,u=0;u<n.length;u++)if(r[i].id===n[u].UniqueId){f=!0;e=!0;break}f||console.error("Entered widgetID ("+r[i].id+") not found on this dashboard")}return e},n.prototype.renderWidgetContainerForExport=function(){var n=[],t,i,r;for(this.rdlParser=this.dashboardDesigner.modules.containerTypeWidgetHelper.updateRdlParserForContainerWidget(this.rdlParser),t=0;t<this.rdlParser.rdlJsonObj.WidgetData.length;t++)if(i=this.rdlParser.rdlJsonObj.WidgetData[t],this.dashboardDesigner.model.dashboardFromData.isControl){if(r=this.dashboardDesigner.model.dashboardFromData.reportName,r===i.UniqueName){n.push(this.renderWidget(i,!0));this.addCombineWidgetsToCollection(n,i);this.dashboardDesigner.modules.containerTypeWidgetHelper.updateCurrentChildToParentContainer(n);break}}else n.push(this.renderWidget(i,!0)),t===this.rdlParser.rdlJsonObj.WidgetData.length-1&&this.dashboardDesigner.modules.containerTypeWidgetHelper.updateCurrentChildToParentContainer(n);this.updateWidgets(n,this)},n.prototype.renderDesignModeReport=function(n){var r=this,t,u,i;if(this.rdlParser=n,this.dashboardDesigner.triggerViewerEvent(ViewerEvent.actionBegin,ViewerEventType.renderDashboard,undefined,this.dashboardDesigner.designerPanel),this.updateDashboardTitleFont(),n.rdlJsonObj&&n.rdlJsonObj.WidgetData)if(!BoldBIDashboard.isNullOrUndefined(this.dashboardDesigner.model.widgets)&&this.dashboardDesigner.model.widgets.length>0&&this.dashboardDesigner.model.widgets[0].id!==""&&(this.isWidgetFilterConfigNeeded=this.findWidgetExistence(this.rdlParser.rdlJsonObj.WidgetData,this.dashboardDesigner.model.widgets)),this.dashboardDesigner.model.isPinWidget||(this.rdlParser.rdlJsonObj.WidgetData=n.rdlJsonObj.WidgetData.sort(this.compareWidgetPostion)),this.rdlParser=this.dashboardDesigner.modules.containerTypeWidgetHelper.updateRdlParserForContainerWidget(this.rdlParser),!BoldBIDashboard.isNullOrUndefined(this.dashboardDesigner.model.dashboardFromData)&&this.dashboardDesigner.model.dashboardFromData.loadFromData)this.renderWidgetContainerForExport();else for(t=this.updateWidgetsBasedOnPages(),u=function(n){for(var f=[],i=t[n].length>=4?4:t[n].length,u=0;u<t[n].length;u=u+4)setTimeout(function(n,t,i,u){for(var s,e,o=n;o<i;o++)try{s=u[t][o];e=r;setTimeout(function(n,t){BoldBIDashboard.isNullOrUndefined(t.dashboardDesigner.model)||(f.push(t.renderWidget(n,!0)),r.dashboardDesigner.modules.containerTypeWidgetHelper.updateCurrentChildToParentContainer(f))},0,s,e,n,t);o===u[t].length-1&&(e.isInitialLoad=!0,e.dashboardDesigner.modules.containerTypeWidgetHelper.updateContainerWidgetsOnRender(),e.updateWidgetsAfterRenderDesign(f,t,u))}catch(h){r.logError({Source:"Deserialization",Error:h,Type:h.name})}},0,u,n,i,t),i=i+4>t[n].length?t[n].length:i+4},i=0;i<t.length;i++)u(i)},n.prototype.updateWidgetsAfterRenderDesign=function(n,t,i){if(!BoldBIDashboard.isNullOrUndefined(this.dashboardDesigner.model.dashboardFromData)&&this.dashboardDesigner.model.dashboardFromData.loadFromData)n.length>0&&this.updateWidgets(n,this,t,i);else{var r=this;setTimeout(function(n,t,i,u){r.updateWidgets(n,t,i,u)},0,n,r,t,i)}},n.prototype.updateWidgetsBasedOnPages=function(){for(var o=[],i=[],r=24,t=0,f=24,e=0,n=0;n<this.rdlParser.rdlJsonObj.WidgetData.length;n++)try{var u=this.rdlParser.rdlJsonObj.WidgetData[n],c=t===0?t:t+1,s=this.rowFactorToParentContainer(u,this.rdlParser.rdlJsonObj.WidgetData);if(u.ContainerSettings.Bounds.Row+s>=c&&u.ContainerSettings.Bounds.Row+s<=f&&(i.push(u),e+=1),n===this.rdlParser.rdlJsonObj.WidgetData.length-1&&i.length===0)if(e===this.rdlParser.rdlJsonObj.WidgetData.length)break;else{t+=r;f+=r;n=0;continue}if(n===this.rdlParser.rdlJsonObj.WidgetData.length-1)if(o.push(i),i=[],e===this.rdlParser.rdlJsonObj.WidgetData.length)break;else{t+=r;f+=r;n=0;continue}}catch(h){this.logError({Source:"Deserialization",Error:h,Type:h.name})}return o},n.prototype.rowFactorToParentContainer=function(n,t){var r=0,u=n.ContainerSettings.CombineWidgetId,i;return BoldBIDashboard.DashboardUtil.IsStringNullorWhiteSpace(u)||(i=t.filter(function(n){return n.UniqueId===u})[0],BoldBIDashboard.isNullOrUndefined(i)||(r=i.ContainerSettings.Bounds.Row)),r},n.prototype.updateWidgets=function(n,t,i,r){var e,f,o,s,h,u,c;if(i===void 0&&(i=null),r===void 0&&(r=null),!BoldBIDashboard.isNullOrUndefined(t.dashboardDesigner.model)){if(t.dashboardDesigner.triggerViewerEvent(ViewerEvent.actionComplete,ViewerEventType.layoutRendered,t.dashboardDesigner.element),t.rdlParser.rdlJsonObj.WidgetData.length>0)for(BoldBIDashboard.isNullOrUndefined(t.dashboardDesigner.model.dashboardFromData)||t.dashboardDesigner.model.dashboardFromData.loadFromData||(BoldBIDashboard.isNullOrUndefined(i)||!BoldBIDashboard.isNullOrUndefined(i)&&i===0)&&BoldBIDashboard.Dashboard.Resource.getAllImageResource(t.dashboardDesigner),t.updateDashboardLevelWidgetFont(),t.updateWidgetLevelFontForDesigner(n),!BoldBIDashboard.isNullOrUndefined(t.dashboardDesigner.model.widgets)&&t.dashboardDesigner.model.widgets.length>0&&t.dashboardDesigner.model.widgets[0].id!==""&&this.isWidgetFilterConfigNeeded&&(e=[],n.forEach(function(n){e.push(BoldBIDashboard.Dashboard.WidgetHelper.getWidgetInstance(n))}),t.dashboardDesigner.configureWidgetFilterData(e,t.dashboardDesigner.model.widgets)),t.dataConfigurationInstance.fetchDataForWidgets(n,!0,t.filterObject.getSelectedValuesForWidgetRequest(),null,null,null,null,null,null,null,null,i,r,this.isInitialLoad,!0),t.dashboardDesigner.removeNoWidgetToPreviewInfo(),f=0;f<n.length;f++)o=BoldBIDashboard.Dashboard.WidgetHelper.getWidgetInstance(n[f]),!BoldBIDashboard.isNullOrUndefined(t.dashboardDesigner.model.dashboardFromData)&&t.dashboardDesigner.model.dashboardFromData.loadFromData&&t.dashboardDesigner.modules.containerPropertyItem.updateBackgroundInfo(o),o.updateSubTitleForContainer();else t.dashboardDesigner.model.mode===BoldBIDashboard.Designer.mode.view&&t.dashboardDesigner.showNoWidgetToPreviewInfo();t.updateDefaultProperties(!0);t.dashboardDesigner.model.mode===BoldBIDashboard.Designer.mode.view&&(t.showMenuIcon(!0),s=t.dashboardDesigner.modules.masterSlaveFilter,h=t.dashboardDesigner.filterQueryValidation(s.GetAllWidgetInstanceFromContainer(),s.getAllWidgetSelectedValues()),t.banner.toggleFilterOverview(h.length>0),u=t.dashboardDesigner.modules.autoRefresh,t.dashboardDesigner.modules.labelParameter.getDataForLabelParameter(h,t.dashboardDesigner._id),BoldBIDashboard.isNullOrUndefined(u)||!t.dashboardDesigner.model.enableAutoRefresh||BoldBIDashboard.isNullOrUndefined(t.dashboardDesigner.model.autoRefreshSettings)||(u.updateRefreshInfoFromAutoRefreshAPI(),u.refreshSetting=t.dashboardDesigner.refreshSetting,u.getRowCountOfDS(),c=t.dashboardDesigner.modules.autoRefresh,c.initializeAutoRefresh(t.dashboardDesigner.refreshSetting)));BoldBIDashboard.isNullOrUndefined(i)||BoldBIDashboard.isNullOrUndefined(r)?t.dashboardDesigner.triggerDashboardRenderedEventForViewer(t.dashboardDesigner.modules.autoRefresh):i===r.length-1&&t.dashboardDesigner.triggerDashboardRenderedEventForViewer(t.dashboardDesigner.modules.autoRefresh)}},n.prototype.addCombineWidgetsToCollection=function(n,t){var i=this;(t.__type==="Syncfusion.Dashboard.Web.Serialization.Model.DOM.CombineProperties"||t.__type==="Syncfusion.Dashboard.Web.Serialization.Model.DOM.TabbedProperties")&&this.rdlParser.rdlJsonObj.WidgetData.filter(function(r){BoldBIDashboard.isNullOrUndefined(r.ContainerSettings.CombineWidgetId)||r.ContainerSettings.CombineWidgetId===""||r.ContainerSettings.CombineWidgetId===t.UniqueId&&n.push(i.renderWidget(r,!0))})},n.prototype.initializeAndLoadWidget=function(n,t,i){if(this.rdlParser.rdlJsonObj.WidgetData.length>0){if(BoldBIDashboard.isNullOrUndefined(this.dashboardDesigner.model.dashboardFromData)||this.dashboardDesigner.model.dashboardFromData.loadFromData||(BoldBIDashboard.isNullOrUndefined(t)||!BoldBIDashboard.isNullOrUndefined(t)&&t===0)&&BoldBIDashboard.Dashboard.Resource.getAllImageResource(this.dashboardDesigner),!BoldBIDashboard.isNullOrUndefined(this.dashboardDesigner.model.widgets)&&this.dashboardDesigner.model.widgets.length>0&&this.dashboardDesigner.model.widgets[0].id!==""&&this.isWidgetFilterConfigNeeded){var r=[];n.forEach(function(n){r.push(BoldBIDashboard.Dashboard.WidgetHelper.getWidgetInstance(n))});this.dashboardDesigner.configureWidgetFilterData(r,this.dashboardDesigner.model.widgets)}this.dataConfigurationInstance.fetchDataForViewModeWidgets(n,!0,this.filterObject.getSelectedValuesForWidgetRequest(),this.dataConfigurationInstance.datasourceCallerId,t,i);this.dashboardDesigner.removeNoWidgetToPreviewInfo()}else this.dashboardDesigner.model.mode===BoldBIDashboard.Designer.mode.view&&this.dashboardDesigner.showNoWidgetToPreviewInfo()},n.prototype.loadRequiredScripts=function(n){for(var u,f,r,t=[],e=this.dashboardDesigner.model.cdnPath,o=function(i){for(var u=function(r){var u=n[i].DependentScripts[r];t.filter(function(n){return n.ScriptName===u.ScriptName}).length===0&&t.push(u)},r=0;r<n[i].DependentScripts.length;r++)u(r);BoldBIDashboard.isNullOrUndefined(n[i].MainScript)||t.filter(function(t){return t.ScriptName===n[i].MainScript.ScriptName}).length!==0||t.push(n[i].MainScript)},i=0;i<n.length;i++)o(i);for(t.filter(function(n){return n.ScriptName==="ej1.grid.all.min.js"}).length===0&&(u={ScriptName:"ej1.grid.all.min.js",NameSpace:"BoldBIDashboard.Grid"},t.push(u)),i=0;i<t.length;i++)BoldBIDashboard.isNullOrUndefined(this.getControlInstance(t[i].NameSpace))&&(f=e+t[i].ScriptName,r=document.createElement("script"),r.type="text/javascript",r.src=f+"?version=v4.2",document.head.appendChild(r))},n.prototype.getRequiredScripts=function(n){for(var t,r=[],i=0;i<n.length;i++)for(t=0;t<n[i].length;t++)r.push(this.getWidgetInstanceFromPropNameSpace(n[i][t].__type).getRequiredScripts());this.loadRequiredScripts(r)},n.prototype.getControlInstance=function(n){var r=n.split("."),t=window[r[0]],i;if(!BoldBIDashboard.isNullOrUndefined(t))for(i=1;i<r.length;i++){if(BoldBIDashboard.isNullOrUndefined(t))return null;t=t[r[i]]}return t},n.prototype.renderWidgetContainer=function(n){var r,t,i;return this.dashboardDesigner.triggerViewerEvent(ViewerEvent.actionBegin,ViewerEventType.renderWidget,undefined,n),r=this.getWidgetBounds(n),this.setcurrentFilterDataInWidget(n),!BoldBIDashboard.isNullOrUndefined(n.SelectedFilterValues)&&n.SelectedFilterValues.length>0&&(this.filterState.isInitialFilter=!0),t=this.getWidgetInstanceFromPropNameSpace(n.__type),t.setJson(n),i=t.getContainerSettings(),t.updateWidgetCellInfo(i.Bounds),BoldBIDashboard.Dashboard.WidgetHelper.createWidgetContainer(t,this.dashboardDesigner,r,i.Title),BoldBIDashboard.Dashboard.WidgetHelper.isDataWidget(t)?this.updateDataGroupInfo(t,n.Data):t.init("",n),!BoldBIDashboard.isNullOrUndefined(this.dashboardDesigner.model.dashboardFromData)&&this.dashboardDesigner.model.dashboardFromData.loadFromData?this.loadingIndicatorForContainerWidgets(t,!1):this.loadingIndicatorForContainerWidgets(t,!0),t.ControlContainer.data("widgetInstance",t),t},n.prototype.compareWidgetPostion=function(n,t){return n.ContainerSettings.Bounds.Row===t.ContainerSettings.Bounds.Row?n.ContainerSettings.Bounds.Column-t.ContainerSettings.Bounds.Column:n.ContainerSettings.Bounds.Row-t.ContainerSettings.Bounds.Row},n.prototype.initialFilterIfModified=function(n){this.filterState.isInitialFilterModified=n},n.prototype.getFilterStateParameter=function(){return this.filterState},n.prototype.renderReportItem=function(n,t){var r,u;this.dashboardDesigner.triggerViewerEvent(ViewerEvent.actionBegin,ViewerEventType.renderWidget,undefined,n);var i=null,f=this.getCellItem(n.ContainerSettings.Bounds.Row,n.ContainerSettings.Bounds.Column).position(),e={};return e=this.dashboardDesigner.model.dashboardFromData.isControl&&this.dashboardDesigner.model.mode===BoldBIDashboard.Designer.mode.view?{left:"0%",top:"0%",width:"100%",height:"100%"}:{left:f.left+this.cellMargin,top:f.top+this.cellMargin,width:n.ContainerSettings.Bounds.ColumnSpan*this.cellWidth+(n.ContainerSettings.Bounds.ColumnSpan-1)*this.cellMargin*2,height:n.ContainerSettings.Bounds.RowSpan*this.cellHeight+(n.ContainerSettings.Bounds.RowSpan-1)*this.cellMargin*2},this.setcurrentFilterDataInWidget(n),!BoldBIDashboard.isNullOrUndefined(n.SelectedFilterValues)&&n.SelectedFilterValues.length>0&&(this.filterState.isInitialFilter=!0),r=BoldBIDashboard.Dashboard.WidgetHelper.getWidgetInstance(i),u=this.isDataConfigured(r),!u||!1||t||this.dataConfigurationInstance.postDraggedFields(i,!0),!BoldBIDashboard.isNullOrUndefined(BoldBIDashboardDesigner.editManager)&&BoldBIDashboardDesigner.editManager.isPerformAction&&this.updateFilterConfiguration(n),i},n.prototype.setcurrentFilterDataInWidget=function(n){var u=!0,i=this.dashboardDesigner.getFilterDataUsingQuery(),t,r;if(n.FilterSettings.ActAsMasterWidget&&i.length>0)for(t=0;t<i.length;t++)if(r=i[t],r.ReportName===n.UniqueName){u=!1;n.SelectedFilterValues=t===0?[]:n.SelectedFilterValues;this.columnNameValidation(n,i[t].ColumnName)&&n.SelectedFilterValues.push(r);break}else this.dashboardDesigner.model.mode===BoldBIDashboard.Designer.mode.view&&!BoldBIDashboard.isNullOrUndefined(this.dashboardDesigner.model.filterParameters)&&this.dashboardDesigner.model.filterParameters.trim().length>0&&this.dashboardDesigner.getFilterDataUsingQuery().length>0&&(n.SelectedFilterValues=[]);return u},n.prototype.columnNameValidation=function(n,t){for(var i,r=0;r<n.Data.Containers.length;r++)for(i=0;i<n.Data.Containers[r].FieldInfos.length;i++)if(n.Data.Containers[r].FieldInfos[i].Name===t)return!0;return!1},n.prototype.updateDataGroupInfo=function(n,t){var e=this.getDataSet(t.Id),f,r,i,u;if(e!==null)for(n.DataGroupInfo.DataSourceID=t.Id,n.DataGroupInfo.DataSourceName=t.DataSetName,f=n.getFieldContainer(),r=0;r<f.length;r++)i=f[r],u=this.getRequiredFieldContainer(i.Name,t.Containers),BoldBIDashboard.isNullOrUndefined(u)||(u.ContainerType=i.ContainerType,i.FieldInfos=this.createFieldInfos(u,e,n)),n.DataGroupInfo.FieldContainers.push(i),this.dashboardDesigner.modules.serialization.updateWidgetData(n.getJson(),n.DataGroupInfo)},n.prototype.getRequiredFieldContainer=function(n,t){if(!BoldBIDashboard.isNullOrUndefined(t)&&t.length!==0)for(var i=0;i<t.length;i++)if(t[i].Name===n)return t[i];return null},n.prototype.createFieldInfos=function(n,t,i,r){var s=n.FieldInfos,f=n.ContainerType,h=[],c=[],a,e=!1,v=null,l=JSON.parse(JSON.stringify(s)),y,u,o;for(c=this.populateHierarchyChildFields(l),c.length>0&&this.dataConfigurationInstance.populateHeiarchyFieldsInItemFields(l,c),y=function(o){var y=s[o],c,b,k,w,p,d,g,nt;if(y.ContainerName=n.Name,c=new BoldBIDashboard.Dashboard.FieldInfoForUI,c=y,y.IsKPIColumn)c.DatasourceID=t.Id,c.Name=y.KPIColumnInfo.DisplayColumnName,c.IsExpression=y.IsExpression,c.IsAggregatedExpression=y.IsAggregatedExpression,c.IsParameterField=y.IsParameterField,c.ParameterMode=y.ParameterMode,c.FieldActualType="bbi-designer-dataset-number",c.MeasureFormatting=u.applyMeasureFormatting(y),c.FilterInfo=u.getFilterInfo(y.FilterInfo,t.Id),c.IsKPIColumn=y.IsKPIColumn,c.KPIColumnInfo=y.KPIColumnInfo,c.UniqueColumnName=y.UniqueColumnName,h.push(c);else if(b=u.getFieldFromDataSet(y,t),k=void 0,BoldBIDashboard.isNullOrUndefined(c.ParentId)||BoldBIDashboard.isNullOrUndefined(y.FieldActualType)||(w=l.filter(function(n){return n.Id===c.ParentId&&!BoldBIDashboard.isNullOrUndefined(n.ChildHierarchicalFields)}),a=w[0].Id,w[0].Id=w[0].ParentUsualId,w.length>0&&w[0].FieldActualType!==BoldBIDashboard.DashboardUtil.getDatasetTypeIcon(u.getFieldFromDataSet(w[0],t).TypeName)&&(v!==c.ParentId?(v=c.ParentId,c=u.removeAutoHierarchy(c)):c=undefined),w[0].Id=a),b!==null&&b.Id===y.Id&&!BoldBIDashboard.isNullOrUndefined(c)){if(c.DatasourceID=t.Id,c.Name=b.Name,c.Id=b.Id,c.UniqueId="LabelData"+o,c.ContainerType=f,p=BoldBIDashboard.DashboardUtil.getDatasetTypeIcon(b.TypeName),BoldBIDashboard.isNullOrUndefined(y.FieldActualType)||(e=p!==y.FieldActualType),e&&(d=BoldBIDashboard.Dashboard.ConnectionHelper.getConnectionInsFromDSId(u.dashboardDesigner,c.DatasourceID),g=BoldBIDashboard.Dashboard.ConnectionHelper.isHierarchicalConnection(d),c.FieldType=p==="bbi-designer-dataset-boolean"||p==="bbi-designer-dataset-string"||p==="bbi-designer-dataset-datetime"||p==="bbi-designer-dataset-time"?FieldType.Dimensions:FieldType.Measures,c.DateTimeFormat=g&&(p==="bbi-designer-dataset-datetime"||p==="bbi-designer-dataset-time")?DateTimeFormat.Date:p==="bbi-designer-dataset-datetime"?f===FieldContainerType.Numeric?DateTimeFormat.None:DateTimeFormat.Year:p==="bbi-designer-dataset-time"?DateTimeFormat.Default:DateTimeFormat.None,c.SummaryType=c.FieldType===FieldType.Dimensions?p==="bbi-designer-dataset-boolean"||p==="bbi-designer-dataset-string"||p==="bbi-designer-dataset-datetime"||p==="bbi-designer-dataset-time"?f===FieldContainerType.None||f===FieldContainerType.Non_Numeric?SummaryType.NONE:SummaryType.COUNT:SummaryType.NONE:f===FieldContainerType.Non_Numeric?SummaryType.NONE:SummaryType.SUM,c.FieldType===FieldType.Dimensions&&f===FieldContainerType.Numeric?c.FieldType=FieldType.Measures:c.FieldType===FieldType.Measures&&f===FieldContainerType.Non_Numeric&&(c.FieldType=FieldType.Dimensions),y.FilterInfo=null),c.FieldActualType=p,c.DateTimeFormat=isNaN(y.DateTimeFormat)?y.DateTimeFormat:u.getEnumText(y.DateTimeFormat,DateTimeFormat),BoldBIDashboard.isNullOrUndefined(y.DateBucketInfo)||(c.DateBucketInfo.DateBucketFormat=isNaN(c.DateBucketInfo.DateBucketFormat)?y.DateBucketInfo.DateBucketFormat:u.getEnumText(y.DateBucketInfo.DateBucketFormat,DateTimeFormat)),y.MeasureFormatting==null||e){if(e&&c.FieldType===FieldType.Measures)switch(c.FieldActualType){case"bbi-designer-dataset-datetime":case"bbi-designer-dataset-time":case"bbi-designer-dataset-string":c.MeasureFormatting=c.SummaryType===SummaryType.NONE?null:i.getDefaultMeasureFormat();break;default:c.MeasureFormatting=i.getDefaultMeasureFormat()}}else c.MeasureFormatting=k=r?y.MeasureFormatting:u.applyMeasureFormatting(y);nt=!BoldBIDashboard.isNullOrUndefined(y.CustomSorting)&&u.getSortInfo(y.CustomSorting,t.Id);BoldBIDashboard.isNullOrUndefined(y.CustomSorting)||nt||(c.CustomSorting=y.CustomSorting=null);c.FilterInfo=BoldBIDashboard.isNullOrUndefined(y.FilterInfo)?null:u.getFilterInfo(y.FilterInfo,t.Id);c.IsDisplayNameEdited||(c.DisplayName=u.dashboardDesigner.modules.util.getDisplayName(c));h.push(c)}},u=this,o=0;o<s.length;o++)y(o);return h},n.prototype.removeAutoHierarchy=function(n,t){return t===void 0&&(t=!1),n.FieldActualType==="bbi-designer-dataset-datetime"?(delete n.TreeNode,delete n.ParentId,delete n.ParentName,delete n.HasChild,n.DateTimeFormat=DateTimeFormat.Year,n.IsDisplayNameEdited=!1,n):(this.dashboardDesigner.modules.util.alertDialog(this.dashboardDesigner.getLocalizationContent().customHierarchy.titleText,"Due to data type changes, hierarchy columns might be removed from widgets.",IconType.information,AlertType.Alert,!0,""),undefined)},n.prototype.populateHierarchyChildFields=function(n){var t=[];return n.forEach(function(n){BoldBIDashboard.isNullOrUndefined(n.ParentId)||t.push(n)}),t},n.prototype.getEnumText=function(n,t){if(!isNaN(parseInt(n,10))){var i=Object.keys(t);if(!BoldBIDashboard.isNullOrUndefined(i[n]))return i[n]}return n},n.prototype.applyMeasureFormatting=function(n){var t=new MeasureFormatting;return BoldBIDashboard.isNullOrUndefined(n)||BoldBIDashboard.isNullOrUndefined(n.MeasureFormatting)||(t.Culture=n.MeasureFormatting.Culture,t.DecimalPoints=n.MeasureFormatting.DecimalPoints,t.DecimalSeparator=n.MeasureFormatting.DecimalSeparator,t.GroupSeparator=n.MeasureFormatting.GroupSeparator,t.Prefix=n.MeasureFormatting.Prefix,t.Suffix=n.MeasureFormatting.Suffix,t.FormatType=isNaN(parseInt(n.MeasureFormatting.FormatType,10))?n.MeasureFormatting.FormatType:this.getEnumText(n.MeasureFormatting.FormatType,DataValueFormat),t.Unit=isNaN(parseInt(n.MeasureFormatting.Unit,10))?n.MeasureFormatting.Unit:this.getEnumText(n.MeasureFormatting.Unit,NumberFormat),t.EnableLakhsAndCroreRep=n.MeasureFormatting.EnableLakhsAndCroreRep),t},n.prototype.getFilterInfo=function(n,t){var i=n,r;return BoldBIDashboard.isNullOrUndefined(i)||(i.__type&&delete i.__type,i.DimensionFilterInfo&&(i.DimensionFilterInfo.__type&&delete i.DimensionFilterInfo.__type,BoldBIDashboard.isNullOrUndefined(i.DimensionFilterInfo.ConditionFilterInfo)||(r=this.getExpressionInfo(i.DimensionFilterInfo.ConditionFilterInfo,t),r||(i.DimensionFilterInfo.ConditionFilterInfo=null,i.DimensionFilterInfo.IsConditionFilteringApplied=!1)),BoldBIDashboard.isNullOrUndefined(i.DimensionFilterInfo.TopNFilterInfo)||(r=this.getExpressionInfo(i.DimensionFilterInfo.TopNFilterInfo,t),r||(i.DimensionFilterInfo.TopNFilterInfo=null,i.DimensionFilterInfo.IsTopNFilteringApplied=!1)),i.DimensionFilterInfo.ConditionFilterInfo&&i.DimensionFilterInfo.ConditionFilterInfo.__type&&delete i.DimensionFilterInfo.ConditionFilterInfo.__type,i.DimensionFilterInfo.TopNFilterInfo&&i.DimensionFilterInfo.TopNFilterInfo.__type&&delete i.DimensionFilterInfo.TopNFilterInfo.__type,i.DimensionFilterInfo.AllowFilterInfo&&i.DimensionFilterInfo.AllowFilterInfo.__type&&delete i.DimensionFilterInfo.AllowFilterInfo.__type,i.DimensionFilterInfo.ConditionFilterInfo===null&&i.DimensionFilterInfo.TopNFilterInfo===null&&i.DimensionFilterInfo.AllowFilterInfo===null&&(i.DimensionFilterInfo=null)),i.MeasureFilterInfo&&i.MeasureFilterInfo.__type&&delete i.MeasureFilterInfo.__type,i.RelativeDateFilterInfo&&i.RelativeDateFilterInfo.__type&&delete i.RelativeDateFilterInfo.__type),i},n.prototype.getExpressionInfo=function(n,t){for(var u,r=this.getDataSet(t),i=0;i<r.Fields.length;i++){if(r.Fields[i].Id===n.ColumnId)return!0;if(!BoldBIDashboard.isNullOrUndefined(r.Fields[i].ChildFields)&&r.Fields[i].ChildFields.length>0&&(u=this.getFieldInfoFromChild(n.ColumnId,r.Fields[i].ChildFields,!1),u))return u}return!1},n.prototype.getFieldInfoFromChild=function(n,t,i){for(var r=0;r<t.length;r++){if(t[r].Id===n)return!0;!BoldBIDashboard.isNullOrUndefined(t[r].ChildFields)&&t[r].ChildFields.length>0&&(i=this.getFieldFromChild(n,t[r].ChildFields,i))}return i},n.prototype.getSortInfo=function(n,t){var i;if(!BoldBIDashboard.isNullOrUndefined(n.CustomSortType)&&n.CustomSortType==="Field"){var f=BoldBIDashboard.Dashboard.ConnectionHelper.getConnectionInsFromDSId(this.dashboardDesigner,t),e=BoldBIDashboard.Dashboard.ConnectionHelper.isHierarchicalConnection(f),r=this.getDataSet(t),u=e?BoldBIDashboard.DashboardUtil.getFieldUsingTableType(r.Fields):r.Fields;for(i=0;i<u.length;i++)if(u[i].Id===n.FieldId)return!0}return!BoldBIDashboard.isNullOrUndefined(n.CustomSortType)&&n.CustomSortType==="Alphabetic"||n.CustomSortType==="DataSource"},n.prototype.getDataSet=function(n){for(var t,r=this.dashboardDesigner.modules.dataSet.datasets,i=0;i<r.length;i++)if(t=r[i],t.Id===n)return t;return null},n.prototype.fieldFromDataSet=function(n,t){if(t!==null)for(var i=0;i<t.Fields.length;i++)if(t.Fields[i].Name===n)return t.Fields[i];return null},n.prototype.getFieldFromDataSet=function(n,t){var r,i,u;if(t!==null)for(r=BoldBIDashboard.isNullOrUndefined(n.Id)?n.DataId:n.Id,i=0;i<t.Fields.length;i++){if(t.Fields[i].Id===r)return t.Fields[i];if(!BoldBIDashboard.isNullOrUndefined(t.Fields[i].ChildFields)&&t.Fields[i].ChildFields.length>0&&(u=this.getFieldFromChild(r,t.Fields[i].ChildFields,null),u!=null))return u}return null},n.prototype.getFieldFromChild=function(n,t,i){for(var r=0;r<t.length;r++){if(t[r].Id===n)return t[r];!BoldBIDashboard.isNullOrUndefined(t[r].ChildFields)&&t[r].ChildFields.length>0&&(i=this.getFieldFromChild(n,t[r].ChildFields,i))}return i},n.prototype.invokePropertyPanel=function(){var n=this;this.propertyTimeOut&&clearTimeout(this.propertyTimeOut);this.propertyTimeOut=setTimeout(function(){n.setPropertyPanelItem()},500)},n.prototype.setPropertyPanelItem=function(){this.selectedReportItems.length>1?this.propertyPanel.showProperty(!1):this.selectedReportItems.length>0?this.propertyPanel.isVisible()?this.propertyPanel.setPropertyElement(this.selectedReportItems):this.propertyPanel.targetItems=this.selectedReportItems:this.selectedItems.length>0&&this.updateReportProperties()},n.prototype.showLoadingIndicator=function(n){var t=n||this.designPanel.selectedReportItems[0];t.find(".bbi-background-waiting-popup").show()},n.prototype.hideLoadingIndicator=function(n){var t=n||this.designPanel.selectedReportItems[0];t.find(".bbi-background-waiting-popup").hide()},n.prototype.updateReportProperties=function(n){var t=this.getDesignProperty("Dashboard"),r,u,i;if((BoldBIDashboard.isNullOrUndefined(this.selectedReportItems)||this.selectedReportItems.length<1)&&(this.selectedItems=[this.designPanel],r=null,this.dashboardDesigner.model.mode===BoldBIDashboard.Designer.mode.design&&(r=this.dashboardDesigner.modules.dataConfigurationPanel),u=BoldBIDashboard.isNullOrUndefined(r)?null:r.selectedItem,BoldBIDashboard.isNullOrUndefined(u)||u.GroupName!=="Properties"||this.propertyPanel.isVisible()&&(this.propertyPanel.targetDesignArea="Dashboard",this.propertyPanel.showDesignAreaProperty(t,"Dashboard"))),this.dashboardDesigner.model.mode===BoldBIDashboard.Designer.mode.design)if(this.dashboardDesigner.modules.propertyPanel.showPropertyItem(t,"Dashboard"),i=this.dashboardDesigner.rptToolbar,BoldBIDashboard.isNullOrUndefined(i)||i.getDashboardTitleText()!==""&&i.getDashboardTitleText()!=="Untitled"){if(this.propertyPanel.targetDesignArea=this.locale.exportPanel.dashboardOption,t.Header!==this.dashboardDesigner.model.dashboardName&&(BoldBIDashboard.isNullOrUndefined(n)||!n))this.propertyPanel.onValueChange({name:"Name",value:t.Header},"General",this.locale.exportPanel.dashboardOption,!1,!0)}else i.updateDashboardTitleText(t.Header)},n.prototype.updateRptToolbarActions=function(){var n=this.selectedReportItems&&this.selectedReportItems.length>0;BoldBIDashboard.isNullOrUndefined(this.dashboardDesigner.rptToolbar)||(this.dashboardDesigner.rptToolbar.showPaste(this.canPaste()),this.dashboardDesigner.rptToolbar.showCopy(n),this.dashboardDesigner.rptToolbar.showCut(n),this.dashboardDesigner.rptToolbar.showDelete(n))},n.prototype.updateSelectedItems=function(){this.selectedReportItems=[]},n.prototype.getControlHeader=function(n,t){var i,e,r,u,o,f;t.controlHeader=BoldBIDashboard.buildTag("div.bbi-dbrd-control-header","",{"data-widget-id":n.controlId});t.controlContainer.prepend(t.controlHeader);i=this.getControlHeaderIcons(n,t);t.controlHeader.append(i);e=10;i.css("display")==="block"&&(e=i.outerWidth(!0)+10);r=BoldBIDashboard.buildTag("div.bbi-dbrd-control-title-wrapper","",{width:"calc(100%)"});t.controlHeader.prepend(r);u=this.getControlDescriptionIcon(t.getJson());r.append(u);o=u.css("display")==="block"?u.width():0;f=BoldBIDashboard.buildTag("div.bbi-dbrd-control-title bbi-dbrd-designer-hoverable","",{"max-width":"calc(100% - "+o+"px)"},{"data-tooltip":n.controlTitle});f.append(n.controlTitle);r.prepend(f)},n.prototype.getControlIconContainer=function(n,t){var r=n.iconList,f=n.controlObj,e=n.headerProperties,o=f.getJson(),i,u,s;for(this.dashboardDesigner.model.mode===BoldBIDashboard.Designer.mode.view&&this.dashboardDesigner._trigger("beforeWidgetIconRendered",{iconsinformation:r,widgetInformation:f,isFilterWidget:!n.isSingleCard&&!BoldBIDashboard.isNullOrUndefined(e)&&e.isFilterIconEnable,enableComment:o.ContainerSettings.EnableComment,enablePinWidget:o.ContainerSettings.PinWidget}),i=0;i<r.length;i++)u=BoldBIDashboard.buildTag("div.widget-control-icon-wrapper bbi-dbrd-icon-background-theme","","",{}),r[i].class==="bbi-remove-control-filter bbi-remove-control-filter-disable"&&u.removeClass("bbi-dbrd-icon-background-theme"),s=BoldBIDashboard.buildTag("div.bbi-dbrd-designer-hoverable e-icon-dbrd-theme "+r[i].class,"","",{id:r[i].id,"data-name":r[i].name,"data-tooltip":r[i].tooltip}),u.append(s),t.append(u);return t},n.prototype.getControlHeaderIcons=function(n,t){var i=BoldBIDashboard.buildTag("div.bbi-dbrd-controlIcon-container","","",{id:n.controlId+"_controlIcon_container"}),f=[{"class":"bbi-dbrd-maxim-close e-dbrd-maximClose-toggle bbi-dbrd-icon-theme bbi-dbrd-designer-hoverable",name:"maximize_close",id:n.controlId+"_maxCloseButton",tooltip:this.locale.maximize.close},{"class":"bbi-dbrd-control-menu-icon bbi-dbrd-icon-theme bbi-dbrd-designer-hoverable",name:"menu",id:n.controlId,tooltip:this.locale.exportPanel.moreOptions},{name:"export","class":"bbi-dashboard-widget-menu bbi-dbrd-icon-theme bbi-dbrd-designer-hoverable",id:n.controlId,tooltip:this.locale.banerPanel.exportTooltip},{"class":"bbi-remove-control-filter bbi-remove-control-filter-disable",name:"filter",id:n.controlId+"_clearFilter_icon"},{"class":"bbi-dbrd-maxim bbi-dbrd-maxim-toggle bbi-dbrd-icon-theme bbi-dbrd-designer-hoverable",name:"maximize",id:n.controlId+"_maximize",tooltip:this.locale.maximize.maximize}],e={iconList:f,controlObj:t,headerProperties:n,isSingleCard:!1};i=this.getControlIconContainer(e,i);var o=i.find(".bbi-dbrd-control-menu-icon"),s=i.find(".bbi-remove-control-filter"),u=i.find(".bbi-dbrd-maxim"),h=i.find(".bbi-dbrd-maxim-close"),c=i.find(".bbi-dashboard-widget-menu"),r=t.getContainerSettings(),l=(r.EnableImageExport||r.EnablePdfExport||r.EnableExcelExport||r.EnableCsvExport)&&(this.dashboardDesigner.model.mode===BoldBIDashboard.Designer.mode.view||this.dashboardDesigner.model.mode===BoldBIDashboard.Designer.mode.designpreview),a=t.getContainerSettings().ShowMaximize;return h.css("display","none"),u.css("display","none"),c.css("display","none"),l||o.css("display","none"),n.isFilterIconEnable||s.css("display","none"),a&&this.dashboardDesigner.model.mode!==BoldBIDashboard.Designer.mode.design&&(u.css("display","block"),this.maximize=new BoldBIDashboard.DashboardDesignerUtility.Maximize(this.dashboardDesigner)),i},n.prototype.mobileViewMenuItems=function(){return[{id:"export",text:this.locale.banerPanel.exportTooltip,"class":"bbi-dashboard-banner-menu"}]},n.prototype.getControlSubHeader=function(n){var t=n.getJson().ContainerSettings.SubTitle,i;n.controlSubHeader=BoldBIDashboard.buildTag("div.bbi-dbrd-control-sub-header","",{display:!BoldBIDashboard.isNullOrUndefined(t)&&t.trim().length>0?"block":"none"});i=BoldBIDashboard.buildTag("div.bbi-dbrd-control-sub-title bbi-dbrd-designer-hoverable",t,{width:"calc(100% - 10px)"},{"data-tooltip":t});n.controlSubHeader.prepend(i);this.bbdesigner$(n.controlContainer).find(".bbi-dbrd-control-header").after(n.controlSubHeader)},n.prototype.getControlDescriptionIcon=function(n){var t=BoldBIDashboard.buildTag("div .bbi-dbrd-control-description e-icon-dbrd-theme bbi-dbrd-designer-hoverable"),i=n.ContainerSettings.Description;return!BoldBIDashboard.isNullOrUndefined(i)&&i.length>0?(t.css("display","block"),t.attr("data-tooltip",i)):(t.css("display","none"),t.attr("data-tooltip","")),t},n.prototype.getDesignProperty=function(){var n=null;return this.assigndashboardNameAndDescription(),n="Dashboard",{Header:this.dashboardDesigner.modules.serialization.dashboardPropertyJson.Name,Type:n,SubTitle:this.dashboardDesigner.modules.serialization.dashboardPropertyJson.SubTitle,Description:this.dashboardDesigner.modules.serialization.dashboardPropertyJson.Description,Actions:{CategoryName:"Actions",DisplayName:this.locale.propertyPanel.containerActions.actionText,Items:[{name:"Comment",displayName:this.locale.banerPanel.enableCommentDisplayText,value:this.dashboardDesigner.modules.serialization.dashboardPropertyJson.EnableComments,itemType:"bool"},{name:"Excel",isVisible:!0,displayName:this.locale.banerPanel.exportExcelDisplayText,value:this.dashboardDesigner.modules.serialization.dashboardPropertyJson.DashboardExport.EnableExcel,itemType:"bool"},{name:"Pdf",isVisible:this.dashboardDesigner.model.export.Pdf,displayName:this.locale.banerPanel.exportPdfDisplayText,value:this.dashboardDesigner.modules.serialization.dashboardPropertyJson.DashboardExport.EnablePdf,itemType:"bool"},{name:"Image",isVisible:this.dashboardDesigner.model.export.Image,displayName:this.locale.banerPanel.exportImageDisplayText,value:this.dashboardDesigner.modules.serialization.dashboardPropertyJson.DashboardExport.EnableImage,itemType:"bool"}]},DashboardFonts:{CategoryName:"FontSettings",DisplayName:this.locale.propertyPanel.fontSettings.categoryDisplayName,Items:[{name:"dashboardTitle",displayName:this.locale.propertyPanel.fontSettings.dashboardTitle,itemType:"fontSettings",autoFontSettingsInfo:{name:"DasboardHeaderAutoFontSize",displayName:this.locale.propertyPanel.basicSettings.autoFontSize,value:this.dashboardDesigner.modules.serialization.dashboardPropertyJson.DashboardFontInfo.Headers.AutoFontSize},fontSizeInfo:{name:"DasboardHeaderFontSize",isVisible:!0,isDisable:this.dashboardDesigner.modules.serialization.dashboardPropertyJson.DashboardFontInfo.Headers.AutoFontSize,displayName:this.locale.propertyPanel.basicSettings.fontSize,value:this.dashboardDesigner.modules.serialization.dashboardPropertyJson.DashboardFontInfo.Headers.AutoFontSize?20:this.dashboardDesigner.modules.serialization.dashboardPropertyJson.DashboardFontInfo.Headers.FontSize,itemType:"float",decimalPlaces:0,minimum:10,maximum:MaximumFontValues.dashboardTitle,unitType:"px"}},{name:"widgetTitleFont",displayName:this.locale.propertyPanel.fontSettings.widgetTitle,itemType:"fontSettings",autoFontSettingsInfo:{name:"WidgetTitleAutoFontSize",displayName:this.locale.propertyPanel.basicSettings.autoFontSize,value:this.dashboardDesigner.modules.serialization.dashboardPropertyJson.WidgetFontInfo.Title.AutoFontSize},fontSizeInfo:{name:"WidgetTitleFontSize",isVisible:!0,isDisable:this.dashboardDesigner.modules.serialization.dashboardPropertyJson.WidgetFontInfo.Title.AutoFontSize,displayName:this.locale.propertyPanel.basicSettings.fontSize,value:this.dashboardDesigner.modules.serialization.dashboardPropertyJson.WidgetFontInfo.Title.AutoFontSize?22:this.dashboardDesigner.modules.serialization.dashboardPropertyJson.WidgetFontInfo.Title.FontSize,itemType:"float",decimalPlaces:0,minimum:10,maximum:MaximumFontValues.widgetTitle,unitType:"px"}},{name:"widgetSubtitleFont",displayName:this.locale.propertyPanel.fontSettings.widgetSubTitle,itemType:"fontSettings",autoFontSettingsInfo:{name:"WidgetSubTitleAutoFontSize",displayName:this.locale.propertyPanel.basicSettings.autoFontSize,value:this.dashboardDesigner.modules.serialization.dashboardPropertyJson.WidgetFontInfo.Subtitle.AutoFontSize},fontSizeInfo:{name:"WidgetSubTitleFontSize",isVisible:!0,isDisable:this.dashboardDesigner.modules.serialization.dashboardPropertyJson.WidgetFontInfo.Subtitle.AutoFontSize,displayName:this.locale.propertyPanel.basicSettings.fontSize,value:this.dashboardDesigner.modules.serialization.dashboardPropertyJson.WidgetFontInfo.Subtitle.AutoFontSize?16:this.dashboardDesigner.modules.serialization.dashboardPropertyJson.WidgetFontInfo.Subtitle.FontSize,itemType:"float",decimalPlaces:0,minimum:10,maximum:MaximumFontValues.widgetSubTitle,unitType:"px"}}]}}},n.prototype.assigndashboardNameAndDescription=function(){this.dashboardDesigner.reportFileName=this.dashboardDesigner.model.mode!==BoldBIDashboard.Designer.mode.view&&!BoldBIDashboard.DashboardUtil.IsStringNullorWhiteSpace(this.dashboardDesigner.model.dashboardPath)&&this.dashboardDesigner.isLoadedFromDraft?this.dashboardDesigner.modules.serialization.dashboardPropertyJson.Name:!BoldBIDashboard.isNullOrUndefined(this.dashboardDesigner.model.dashboardName)&&this.dashboardDesigner.model.dashboardName!==""?this.dashboardDesigner.model.dashboardName:this.dashboardDesigner.modules.serialization.dashboardPropertyJson.Name;this.dashboardDesigner.dashboardDescription=this.dashboardDesigner.model.mode!==BoldBIDashboard.Designer.mode.view&&!BoldBIDashboard.DashboardUtil.IsStringNullorWhiteSpace(this.dashboardDesigner.model.dashboardPath)&&this.dashboardDesigner.isLoadedFromDraft?this.dashboardDesigner.modules.serialization.dashboardPropertyJson.Description:BoldBIDashboard.isNullOrUndefined(this.dashboardDesigner.model.dashboardDescription)?this.dashboardDesigner.modules.serialization.dashboardPropertyJson.Description:this.dashboardDesigner.model.dashboardDescription;this.dashboardDesigner.model.mode!==BoldBIDashboard.Designer.mode.view&&(BoldBIDashboard.isNullOrUndefined(this.dashboardDesigner.isLoadedFromDraft)||this.dashboardDesigner.model.mode===BoldBIDashboard.Designer.mode.view)||(this.dashboardDesigner.modules.serialization.dashboardPropertyJson.Name=this.dashboardDesigner.reportFileName,this.dashboardDesigner.modules.serialization.dashboardPropertyJson.Description=this.dashboardDesigner.dashboardDescription)},n.prototype.updateTitleName=function(n){var t=this.widgetHelper.getCurrentWidgetInstance().getJson();t.ContainerSettings.Title=n;this.propertyPanel.setTitle(t)},n.prototype.updatePropertyChange=function(n,t,i,r){switch(n){case"Name":var u=this.dashboardDesigner.nameValidation(r);u?this.dashboardDesigner.modules.serialization.dashboardPropertyJson.Name=this.dashboardDesigner.model.dashboardName=r:(this.setPropertyPanelItem(),this.dashboardDesigner.modules.util.alertDialog(this.dashboardDesigner.getInvalidNameAlertTitle("dashboardName",!0),this.dashboardDesigner.getInvalidNameAlertTitle("dashboardName",!1),IconType.errors,AlertType.Alert,!1,""));break;case"Description":this.dashboardDesigner.modules.serialization.dashboardPropertyJson.Description=this.dashboardDesigner.model.dashboardDescription=r;break;case"Comment":this.dashboardDesigner.modules.serialization.dashboardPropertyJson.EnableComments=r;break;case"DasboardHeaderAutoFontSize":this.dashboardDesigner.modules.serialization.dashboardPropertyJson.DashboardFontInfo.Headers.AutoFontSize=r;this.propertyPanel.updateItemDisable("float","Dashboard","FontSettings","DasboardHeaderFontSize",r);this.updateDashboardTitleFontSize(r?null:this.dashboardDesigner.modules.serialization.dashboardPropertyJson.DashboardFontInfo.Headers.FontSize);break;case"DasboardHeaderFontSize":this.dashboardDesigner.modules.serialization.dashboardPropertyJson.DashboardFontInfo.Headers.FontSize=r;this.updateDashboardTitleFontSize(r);break;case"WidgetTitleAutoFontSize":this.dashboardDesigner.modules.serialization.dashboardPropertyJson.WidgetFontInfo.Title.AutoFontSize=r;this.propertyPanel.updateItemDisable("float","Dashboard","FontSettings","WidgetTitleFontSize",r);this.updateWidgetTitleFontSize(r?null:this.dashboardDesigner.modules.serialization.dashboardPropertyJson.WidgetFontInfo.Title.FontSize);break;case"WidgetSubTitleAutoFontSize":this.dashboardDesigner.modules.serialization.dashboardPropertyJson.WidgetFontInfo.Subtitle.AutoFontSize=r;this.propertyPanel.updateItemDisable("float","Dashboard","FontSettings","WidgetSubTitleFontSize",r);this.updateWidgetSubTitleFontSize(r?null:this.dashboardDesigner.modules.serialization.dashboardPropertyJson.WidgetFontInfo.Subtitle.FontSize);break;case"WidgetTitleFontSize":this.updateWidgetTitleFontSize(r);break;case"WidgetSubTitleFontSize":this.updateWidgetSubTitleFontSize(r);break;case"Pdf":this.dashboardDesigner.modules.serialization.dashboardPropertyJson.DashboardExport.EnablePdf=r;this.dashboardDesigner.model.dashboardExport.Pdf=r;break;case"Image":this.dashboardDesigner.modules.serialization.dashboardPropertyJson.DashboardExport.EnableImage=r;this.dashboardDesigner.model.dashboardExport.Image=r;break;case"Excel":this.dashboardDesigner.modules.serialization.dashboardPropertyJson.DashboardExport.EnableExcel=r;this.dashboardDesigner.model.dashboardExport.Excel=r}},n.prototype.updateDashboardTitleFontSize=function(n){var t="";BoldBIDashboard.isNullOrUndefined(n)||(t=n+"px",this.dashboardDesigner.modules.serialization.dashboardPropertyJson.DashboardFontInfo.Headers.FontSize=n);this.dashboardDesigner.element.find(".bbi-dashboard-banner-title >p").css("font-size",t)},n.prototype.updateWidgetTitleFontSize=function(n){var u="",r,t,i;for(BoldBIDashboard.isNullOrUndefined(n)||this.dashboardDesigner.modules.serialization.dashboardPropertyJson.WidgetFontInfo.Title.AutoFontSize||(u=n+"px",this.dashboardDesigner.modules.serialization.dashboardPropertyJson.WidgetFontInfo.Title.FontSize=n),r=this.widgetHelper.getAllWidgets(),t=0;t<r.length;t++)i=r[t],this.widgetHelper.updateConditionBasedWidgetTitleFont(i.getJson().ContainerSettings.WidgetTitleFontInfo.AutoFontSize,i.getJson().ContainerSettings.WidgetTitleFontInfo.FontSize,i)},n.prototype.updateWidgetSubTitleFontSize=function(n){var u="",r,t,i;for(BoldBIDashboard.isNullOrUndefined(n)||this.dashboardDesigner.modules.serialization.dashboardPropertyJson.WidgetFontInfo.Subtitle.AutoFontSize||(u=n+"px",this.dashboardDesigner.modules.serialization.dashboardPropertyJson.WidgetFontInfo.Subtitle.FontSize=n),r=this.widgetHelper.getAllWidgets(),t=0;t<r.length;t++)i=r[t],this.widgetHelper.updateConditionBasedWidgetSubTitleFont(i.getJson().ContainerSettings.WidgetSubTitleFontInfo.AutoFontSize,i.getJson().ContainerSettings.WidgetSubTitleFontInfo.FontSize,i)},n.prototype.updateFontSettings=function(n){BoldBIDashboard.isNullOrUndefined(n)||n.autoFontSettingsInfo.value||(n.name==="dashboardTitle"?(this.dashboardDesigner.modules.serialization.dashboardPropertyJson.DashboardFontInfo.Headers.AutoFontSize=n.autoFontSettingsInfo.value,this.dashboardDesigner.modules.serialization.dashboardPropertyJson.DashboardFontInfo.Headers.FontSize=n.fontSizeInfo.value,this.updateDashboardTitleFontSize(n.fontSizeInfo.value)):n.name==="widgetTitleFont"?(this.dashboardDesigner.modules.serialization.dashboardPropertyJson.WidgetFontInfo.Title.AutoFontSize=n.autoFontSettingsInfo.value,this.dashboardDesigner.modules.serialization.dashboardPropertyJson.WidgetFontInfo.Title.FontSize=n.fontSizeInfo.value,this.updateWidgetTitleFontSize(n.fontSizeInfo.value)):n.name==="widgetSubtitleFont"&&(this.dashboardDesigner.modules.serialization.dashboardPropertyJson.WidgetFontInfo.Subtitle.AutoFontSize=n.autoFontSettingsInfo.value,this.dashboardDesigner.modules.serialization.dashboardPropertyJson.WidgetFontInfo.Subtitle.FontSize=n.fontSizeInfo.value,this.updateWidgetSubTitleFontSize(n.fontSizeInfo.value)))},n.prototype.destroy=function(){!BoldBIDashboard.isNullOrUndefined(this.designPanel)&&this.designPanel.length>0&&(this.banner.destroy(),BoldBIDashboard.DashboardUtil.destroyEjObjects(this.designPanel),this.unWiredDesignerEvents(),this.designPanel.remove())},n.prototype.droppedWidget=function(n,t,i,r){this.dashboardDesigner.modules.util.doAjaxPost("POST",this.dashboardDesigner.model.serviceUrl+BoldBIDashboard.Dashboard.ServiceAPI.getExistingWidgetInfo+n+"/"+t+"/"+i,{action:BoldBIDashboard.DashboardUtil.DesignerAction.DroppedWidget},{fnction:this.bbdesigner$.proxy(this.onDroppedWidget,this,r)},!1,!0)},n.prototype.onDroppedWidget=function(n,t){var i,s,h,c,l,r,f,e,u,o,a,v;if(!BoldBIDashboard.isNullOrUndefined(t)&&t.Status){if(i=JSON.parse(t.Data),BoldBIDashboard.isNullOrUndefined(i.Widgets)){this.dashboardDesigner.modules.util.alertDialog(this.locale.alertDialogTitle.dashboardDesigner,this.locale.itemPanel.noWidgetMessage,IconType.information,AlertType.Alert,!1,"");return}if(BoldBIDashboard.isNullOrUndefined(this.rdlParser)&&(this.rdlParser=this.dashboardDesigner.rdlParser),!BoldBIDashboard.isNullOrUndefined(i.DataSources)&&!BoldBIDashboard.isNullOrUndefined(i.DataSets)&&i.DataSets.length>0){for(this.rdlParser.addDataSetToRdlJsonObj(i),s=[],r=0;r<i.DataSources.length;r++)h=this.canAddDatasrc(i.DataSources[r]),h||(this.rdlParser.rdlJsonObj.DataSources=this.rdlParser.rdlJsonObj.DataSources.concat(i.DataSources[r]),c=this.dashboardDesigner.modules.dataSource,c.pouplateDataSources(),s.push(i.DataSources[r].Name),l={fnction:this.bbdesigner$.proxy(this.dashboardDesigner.updateParamCollection,this)},this.dashboardDesigner.getParameterForDashboard(l,i.DataSources[r].Name));this.dashboardDesigner.modules.dataSet.pouplateDataSets();BoldBIDashboard.isNullOrUndefined(i)||BoldBIDashboard.isNullOrUndefined(i.DashboardParamList)||this.dashboardDesigner.updateParamCollection(i.DashboardParamList)}if(!BoldBIDashboard.isNullOrUndefined(i.Resources)&&i.Resources.length>0)for(r=0;r<i.Resources.length;r++)BoldBIDashboard.Dashboard.Resource.addImage(i.Resources[r].Name,i.Resources[r].Content);for(f="",e=0;e<i.Widgets.length;e++){if(u=i.Widgets[e],o=this.getWidgetInstanceFromPropNameSpace(u.__type),BoldBIDashboard.Dashboard.WidgetHelper.isContainerWidget(o)&&this.restrictCombineWidget(u)){this.dashboardDesigner.modules.util.alertDialog(this.locale.alertDialogTitle.dashboardDesigner,this.locale.combineWidget.renderRestrictAlertMsg,IconType.information,AlertType.Alert,!1,"");return}a=u.UniqueId;this.renderExistingWidget(u,n,BoldBIDashboard.Dashboard.WidgetHelper.isContainerWidget(o));BoldBIDashboard.Dashboard.WidgetHelper.isContainerWidget(o)&&(f=u.UniqueId);BoldBIDashboard.DashboardUtil.IsStringNullorWhiteSpace(u.ContainerSettings.CombineWidgetId)||f===""||(u.ContainerSettings.CombineWidgetId=f,v=this.dashboardDesigner.modules.containerTypeWidgetHelper.getContainerWidgetWithId(f),v.updateWidgetsInCombineWidget(a,u));this.isExistingWidget=!1}f!==""&&this.dashboardDesigner.modules.containerTypeWidgetHelper.updateContainerWidgetsOnRender()}else this.dashboardDesigner.modules.util.alertDialog(this.locale.alertDialogTitle.dashboardDesigner,t.Message,IconType.information,AlertType.Alert,!1,"")},n.prototype.renderExistingWidget=function(n,t,i){var f,r,u;n.UniqueId=this.dashboardDesigner.modules.util.generateGuid();i?(n.ContainerSettings.Bounds.Row=t.Row,n.ContainerSettings.Bounds.Column=t.Column):(BoldBIDashboard.isNullOrUndefined(n.ContainerSettings.CombineWidgetId)||n.ContainerSettings.CombineWidgetId==="")&&this.updateBoundsFromCellInfo(n.ContainerSettings.Bounds,t);this.isExistingWidget=!0;f=this.renderWidget(n);this.performItemSelection(f);this.removeDateBucketConfigurationInExistingWidget(n);r=BoldBIDashboard.Dashboard.WidgetHelper.getWidgetInstance(f);BoldBIDashboard.Dashboard.WidgetHelper.isDataWidget(r)&&this.dataConfigurationInstance.postDraggedFields(f);(BoldBIDashboard.isNullOrUndefined(n.ContainerSettings.CombineWidgetId)||n.ContainerSettings.CombineWidgetId==="")&&this.dashboardDesigner.modules.containerTypeWidgetHelper.isDraggedIntoContainerWidget(r,r.CellInfo)&&(r.CellInfo=this.dashboardDesigner.modules.containerTypeWidgetHelper.getContainerWidget(r).updateChildWidgetOnDrop(r,r.CellInfo),u=this.getWidgetItemPosition(r.CellInfo.Row,r.CellInfo.Column),BoldBIDashboard.isNullOrUndefined(r.getContainerSettings().CombineWidgetId)||r.getContainerSettings().CombineWidgetId===""?r.ControlContainer.css({left:u.left,top:u.top}):r.ControlContainer.css({left:u.left-this.cellMargin,top:u.top-this.cellMargin}));this.dashboardDesigner.modules.containerPropertyItem.updateBackgroundInfo(r);this.updateFilterConfiguration(n)},n.prototype.removeDateBucketConfigurationInExistingWidget=function(n){!BoldBIDashboard.isNullOrUndefined(n)&&!BoldBIDashboard.isNullOrUndefined(n.Data)&&!BoldBIDashboard.isNullOrUndefined(n.Data.Containers)&&n.Data.Containers.length>0&&n.Data.Containers.forEach(function(n){n.FieldInfos.length>0&&n.FieldInfos.forEach(function(n){n.DateBucketInfo=null})})},n.prototype.updateBoundsFromCellInfo=function(n,t){n.Column=t.Column;n.Row=t.Row;n.ColumnSpan=t.ColumnSpan;n.RowSpan=t.RowSpan},n.prototype.canAddDatasrc=function(n){var t=!1;return this.rdlParser.rdlJsonObj.DataSources.filter(function(i){if(i.Id===n.Id){t=!0;return}}),t},n.prototype.isValidateDataset=function(n){var t=!1;return BoldBIDashboard.isNullOrUndefined(this.rdlParser)&&(this.rdlParser=this.dashboardDesigner.rdlParser),this.rdlParser.rdlJsonObj.DataSets.filter(function(i){if(i.Id===n.Id){t=!0;return}}),t},n.prototype.renderWidget=function(n){var e,t,i,r,u,f;return this.dashboardDesigner.triggerViewerEvent(ViewerEvent.actionBegin,ViewerEventType.renderWidget,undefined,n),e=this.getWidgetBounds(n),this.setcurrentFilterDataInWidget(n),!BoldBIDashboard.isNullOrUndefined(n.SelectedFilterValues)&&n.SelectedFilterValues.length>0&&(this.filterState.isInitialFilter=!0),t=this.getWidgetInstanceFromPropNameSpace(n.__type),t.setJson(n),t.getContainerSettings().CombineWidgetId=n.ContainerSettings.CombineWidgetId,i=t.getContainerSettings(),t.updateWidgetCellInfo(i.Bounds),BoldBIDashboard.Dashboard.WidgetHelper.createWidgetContainer(t,this.dashboardDesigner,e,i.Title),r=[],r=this.dashboardDesigner.model.mode===BoldBIDashboard.Designer.mode.design?this.dashboardDesigner.itemPanel.widgetItems:BoldBIDashboardDesigner.widgetItems,u=this.widgetHelper.getWidgetObj(n.__type,r),f={},BoldBIDashboard.isNullOrUndefined(u)||(f.data=u.customData),t.init(JSON.stringify(f),n),BoldBIDashboard.Dashboard.WidgetHelper.isDataWidget(t)&&this.updateDataGroupInfo(t,n.Data),!BoldBIDashboard.isNullOrUndefined(this.dashboardDesigner.model.dashboardFromData)&&this.dashboardDesigner.model.dashboardFromData.loadFromData?(this.hideLoadingIndicator(t.ContentContainer),this.loadingIndicatorForContainerWidgets(t,!1)):(BoldBIDashboard.Dashboard.WidgetHelper.isDataWidget(t)&&t.isNecessaryDataConfigured()?this.showLoadingIndicator(t.ContentContainer):this.hideLoadingIndicator(t.ContentContainer),this.loadingIndicatorForContainerWidgets(t,!0)),t.ControlContainer},n.prototype.loadingIndicatorForContainerWidgets=function(n,t){if(BoldBIDashboard.Dashboard.WidgetHelper.isContainerWidget(n)){var i=this.dashboardDesigner.modules.containerTypeWidgetHelper.getWidgetAsContainerWidget(n);t?i.showLoadingIndicator():i.hideLoadingIndicator()}},n.prototype.renderWidgetOnCmdAction=function(n){var t=this.renderWidget(n),i=BoldBIDashboard.Dashboard.WidgetHelper.getWidgetInstance(t);return BoldBIDashboard.Dashboard.WidgetHelper.isDataWidget(i)&&this.dataConfigurationInstance.postDraggedFields(t),t},n.prototype.renderWidgetOnUndoAction=function(n){var t=this.renderWidgetOnCmdAction(n);return this.updateDateBucketConfiguration(n),this.updateFilterConfiguration(n),t},n.prototype.updateDateBucketConfiguration=function(n){var t=this;n.Data.Containers.length>0&&n.Data.Containers.forEach(function(i){i.FieldInfos.forEach(function(i){if(!BoldBIDashboard.isNullOrUndefined(i.DateBucketInfo)){var r=t.widgetHelper.getAllDatebucketWidgets().filter(function(n){return n.widgetJson.UniqueId===i.DateBucketInfo.DatebucketId})[0],u={WidgetName:n.UniqueName,WidgetId:n.UniqueId,FieldId:i.Id};r.updateConfiguredWidgetsInfoList(i,u)}})})},n.prototype.renderCombineWidgetOnUndoAction=function(n,t,i){for(var f,r,e,o,s=[],u=0;u<n.length;u++)f=this.renderWidgetOnUndoAction(n[u]),r=BoldBIDashboard.Dashboard.WidgetHelper.getWidgetInstance(f),s.push(r),BoldBIDashboard.Dashboard.WidgetHelper.isContainerWidget(r)||(r.getContainerSettings().CombineWidgetId=t,e=BoldBIDashboard.isNullOrUndefined(i)?null:i[u-1],this.dashboardDesigner.modules.containerTypeWidgetHelper.updateChildWidgetPosition(r,r.CellInfo,t,e),o=this.dashboardDesigner.modules.containerTypeWidgetHelper.getContainerWidget(r),o.positionChildWidgetsOnUndo(r))},n.prototype.isDataConfigured=function(n){for(var t=!1,i=0;i<n.DataGroupInfo.FieldContainers.length;i++)if(t=n.DataGroupInfo.FieldContainers[i].FieldInfos.length>0,t)return t;return t},n.prototype.isConfiguredDashboardParameters=function(){var t,n;if(!BoldBIDashboard.isNullOrUndefined(this.dashboardDesigner.rdlParser)&&!BoldBIDashboard.isNullOrUndefined(this.dashboardDesigner.rdlParser.rdlJsonObj))for(t=this.dashboardDesigner.rdlParser.rdlJsonObj.DataSets,n=0;n<t.length;n++)if(!BoldBIDashboard.isNullOrUndefined(t[n].Query.DashboardParameters)&&t[n].Query.DashboardParameters.length>0)return!0;return!1},n.prototype.updateDashboardParameterIcon=function(){if(!this.dashboardDesigner.isMobileLayout()){var n=this.dashboardDesigner.model.serviceUrl;this.getParameterCollectionInfo(n,!1)}},n.prototype.hasMobileviewParameterIcon=function(n){return this.getParameterCollectionInfo(n,!0),!0},n.prototype.getParameterCollectionInfo=function(n,t){this.dashboardDesigner.modules.designerRequests.push(this.dashboardDesigner.modules.util.doAjaxPost("POST",n+BoldBIDashboard.Dashboard.ServiceAPI.processdata,{action:BoldBIDashboard.DashboardUtil.DesignerAction.ParameterAction,data:JSON.stringify({className:BoldBIDashboard.DashboardUtil.DesignerAction.DataDesignViewAction,designerAction:BoldBIDashboard.DashboardUtil.DesignerAction.ParameterAction,FetchDynamicParams:!0})},{fnction:this.bbdesigner$.proxy(this.parameterCollectionInfo,this,t)}))},n.prototype.parameterCollectionInfo=function(n,t){var u=BoldBIDashboard.isNullOrUndefined(t)?t:JSON.parse(t.jsonData),f=BoldBIDashboard.isNullOrUndefined(u)?!1:u.length>0?!0:!1,i,r,e;n?f||(e=this.bbdesigner$("#dashboardparameters"),e.hide()):BoldBIDashboard.isNullOrUndefined(this.banner)||(i=this.banner.bannerPanel.find(".bbi-dashboarddesigner-dashboard-parameters"),r=i.next(".e-banner-verticalsplitline"),this.dashboardDesigner.isMobileLayout()||!f?(i.css({display:"none"}),r.css({display:"none"})):(i.css({display:"block"}),r.css({display:"block"}),this.banner.updateFilterGroupSplitLine(r)))},n.prototype.getWidgetBounds=function(n){var t={},i=this.getWidgetInstanceFromPropNameSpace(n.__type);return t=this.dashboardDesigner.model.dashboardFromData.isControl&&this.dashboardDesigner.model.mode===BoldBIDashboard.Designer.mode.view?BoldBIDashboard.isNullOrUndefined(n.ContainerSettings.CombineWidgetId)||n.ContainerSettings.CombineWidgetId===""?{left:"0%",top:"0%",width:"100%",height:"100%"}:BoldBIDashboard.isNullOrUndefined(this.dashboardDesigner.modules.containerTypeWidgetHelper.getContainerWidget(i))?{left:"0%",top:"0%",width:"100%",height:"100%"}:this.currentWidgetItemBounds(n):this.currentWidgetItemBounds(n),this.dashboardDesigner.model.isPinWidget&&BoldBIDashboard.Dashboard.WidgetHelper.isContainerWidget(i)&&(t={left:"0%",top:"0%",width:"100%",height:"100%"}),t},n.prototype.currentWidgetItemBounds=function(n){var t=this.getCellItem(n.ContainerSettings.Bounds.Row,n.ContainerSettings.Bounds.Column).position(),i=!BoldBIDashboard.isNullOrUndefined(this.dashboardDesigner.model.widgetContainerSettings.margin)&&!this.dashboardDesigner.isDesignMode()?this.cellVerticalMargin:this.cellVerticalMargin===0?this.cellMargin:this.cellVerticalMargin,r=!BoldBIDashboard.isNullOrUndefined(this.dashboardDesigner.model.widgetContainerSettings.margin)&&!this.dashboardDesigner.isDesignMode()?this.cellHorizontalMargin:this.cellHorizontalMargin===0?this.cellMargin:this.cellHorizontalMargin;return{left:t.left+i,top:t.top+r,width:n.ContainerSettings.Bounds.ColumnSpan*this.cellWidth+(n.ContainerSettings.Bounds.ColumnSpan-1)*i*2,height:n.ContainerSettings.Bounds.RowSpan*this.cellHeight+(n.ContainerSettings.Bounds.RowSpan-1)*r*2}},n.prototype.getWidgetInstanceFromPropNameSpace=function(n){var i=[],t;return(i=this.dashboardDesigner.model.mode===BoldBIDashboard.Designer.mode.design?this.dashboardDesigner.itemPanel.widgetItems:BoldBIDashboardDesigner.widgetItems,t=this.getWidgetClassName(n,i),t!==null)?this.widgetHelper.createWidgetInstance(t):null},n.prototype.getWidgetClassName=function(n,t){for(var i,r=0;r<t.length;r++)for(i=0;i<t[r].Items.length;i++)if(t[r].Items[i].serializationNameSpace===n)return t[r].Items[i].widgetNameSpace;return null},n.prototype.updateCombineWidgetsPosition=function(n){var t=this.dashboardDesigner.modules.containerTypeWidgetHelper.getContainerWidget(n);BoldBIDashboard.isNullOrUndefined(t)||t.updateContainerPosition(n)},n.prototype.updateFontSizeForTitle=function(n){var t,i;this.dashboardDesigner.modules.serialization.dashboardPropertyJson.WidgetFontInfo.Title.AutoFontSize&&(t=n.ControlContainer.find(".bbi-dbrd-control-title"),t.css({"font-size":n.getJson().ContainerSettings.WidgetTitleFontInfo.AutoFontSize?n.getFontSizeBasedOnResolution(n.getJson().ContainerSettings.Title):n.getJson().ContainerSettings.WidgetTitleFontInfo.FontSize+"px"}));this.dashboardDesigner.modules.serialization.dashboardPropertyJson.WidgetFontInfo.Subtitle.AutoFontSize&&(i=n.ControlContainer.find(".bbi-dbrd-control-sub-title"),i.css({"font-size":n.getJson().ContainerSettings.WidgetSubTitleFontInfo.AutoFontSize?n.getFontSizeBasedOnResolution():n.getJson().ContainerSettings.WidgetSubTitleFontInfo.FontSize+"px"}))},n.prototype.updateWidgetSizeForCombineWidget=function(n){var r=this,i,t;if(this.dashboardDesigner.model.isPinWidget&&this.rdlParser.rdlJsonObj.WidgetData.length>1)for(i=function(t){var i=BoldBIDashboard.Dashboard.WidgetHelper.getWidgetInstance(n[t]);setTimeout(function(){r.updateContainerSize(i)},0)},t=0;t<n.length;t++)i(t)},n.prototype.toFixedDown=function(n,t){var i,e=new RegExp("(\\d+\\.\\d{"+t+"})(\\d)"),u=n.toString().match(e),f,r;return i=u?parseFloat(u[1]):n.valueOf(),f=BoldBIDashboard.browserInfo(),f.name==="mozilla"&&(r=i*100%10,i=r<=5?i-r/100:i-(r/100-.05)),i},n}();window.BoldBIDashboard.createObject("BoldBIDashboard.DashboardDesignerUtility.DesignPanel",InternalDesignPanel,window),function(n){var t=function(){function t(n){this.dashboardDesigner=n;this.connections={}}return t.prototype.connectionInstance=function(t,i,r){var u=t+"."+(i?"EditInstance":"Instance");return n.isNullOrUndefined(this.connections[u])&&(this.connections[u]=new r(this.dashboardDesigner,i)),this.connections[u]||null},t.prototype.resetInsatnce=function(){this._propertySource=null;this._undoManager=null;this._dataSource=null;this._dataSet=null;this._dataPanel=null;this._dataConfigSource=null;this._sortInstance=null;this._sharedDataSource=null;this._sharedDataSet=null;this._credentialDialog=null;this._queryJoiner=null;this._storeParameter=null;this._queryFilter=null;this._queryParameter=null;this._editor=null;this._parameter=null;this._reportAction=null;this._format=null;this._queryExpression=null;this._filterConfiguration=null;this._dimensionFilter=null;this._measureFilter=null;this._containerPropertyItem=null;this._datesettings=null;this._conditionalFormat=null;this._kPIWindow=null;this._masterSlaveFilter=null;this._filterConfigurationInfo=null;this._customLegendSettings=null;this._customValueLabelSettings=null;this._editFieldSettings=null;this._chartSeriesType=null;this._editColumnNames=null;this._refresh=null;this._colorPalette=null;this._dateRangePopup=null;this._rangeFilterDialog=null;this._relativeDateFilter=null;this._relativeDates=null;this._editConnection=null;this._ajaxpoll=null;this._trendLineWindow=null;this._sharedDSMenu=null;this._colorCustomization=null;this._colorCustomizationAdvanceSettings=null;this._colorCustomizationCustomDialog=null;this._colorPicker=null;this._colorCustomizationInclusionSelection=null;this._colorCustomizationBasicSettings=null;this._exportPanel=null;this._maximize=null;this._labelParameter=null;this._connectionDialog=null;this._viewDataInstance=null;this._layoutDialog=null;this._dynamicConnectionStringDialog=null;this._dataPreviewDialog=null;this._queryDesigner=null;this._oAuthHelper=null;this._serialization=null;this._advancedColorCustomization=null;this._autoRefresh=null;this._axisRangeSettings=null;this._fileBrowse=null;this._hierarchicalMainFilterDialog=null;this._dynamicParameterPanel=null;this._widgetHelper=null;this._widgetContainerHelper=null;this._resource=null;this.dashboardDesigner=null;this.connections=null;this.dashboardUtil=null;this._dataSample=null;this._dataCache=null;this._noDataContainerAppearance=null;this._interWidgetLink=null},Object.defineProperty(t.prototype,"advancedColorCustomization",{get:function(){return n.isNullOrUndefined(this._advancedColorCustomization)&&(this._advancedColorCustomization=new n.DashboardDesignerUtility.AdvancedColorCustomization(this.dashboardDesigner)),this._advancedColorCustomization},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"propertyPanel",{get:function(){return n.isNullOrUndefined(this._propertySource)&&(this._propertySource=new n.DashboardDesignerUtility.PropertyPanel(this.dashboardDesigner)),this._propertySource},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"undoManager",{get:function(){return n.isNullOrUndefined(this._undoManager)&&(this._undoManager=new n.DashboardDesignerUtility.UndoManager(this.dashboardDesigner)),this._undoManager},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"dataSource",{get:function(){return n.isNullOrUndefined(this._dataSource)&&(this._dataSource=new n.DashboardDesignerUtility.DataSource(this.dashboardDesigner)),this._dataSource},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"dataSet",{get:function(){return n.isNullOrUndefined(this._dataSet)&&(this._dataSet=new n.DashboardDesignerUtility.DataSet(this.dashboardDesigner)),this._dataSet},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"dataConfigurationPanel",{get:function(){return n.isNullOrUndefined(this._dataPanel)&&(this._dataPanel=new n.DashboardDesignerUtility.DataConfigurationPanel(this.dashboardDesigner,this.dashboardDesigner.modules.Mode.dataPanelTag)),this._dataPanel},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"dataConfiguration",{get:function(){return n.isNullOrUndefined(this._dataConfigSource)&&(this._dataConfigSource=new n.DashboardDesignerUtility.DataConfiguration(this.dashboardDesigner)),this._dataConfigSource},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"sortDialog",{get:function(){return n.isNullOrUndefined(this._sortInstance)&&(this._sortInstance=new n.DashboardDesignerUtility.SortDialog(this.dashboardDesigner)),this._sortInstance},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"sharedDataSource",{get:function(){return n.isNullOrUndefined(this._sharedDataSource)&&(this._sharedDataSource=new n.DashboardDesignerUtility.SharedDataSource(this.dashboardDesigner)),this._sharedDataSource},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"sharedDataSet",{get:function(){return n.isNullOrUndefined(this._sharedDataSet)&&(this._sharedDataSet=new n.DashboardDesignerUtility.SharedDataSet(this.dashboardDesigner)),this._sharedDataSet},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"credentialDialog",{get:function(){return n.isNullOrUndefined(this._credentialDialog)&&(this._credentialDialog=new n.DashboardDesignerUtility.CredentialDialog(this.dashboardDesigner)),this._credentialDialog},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"queryJoiner",{get:function(){return n.isNullOrUndefined(this._queryJoiner)&&(this._queryJoiner=new n.DashboardDesignerUtility.QueryJoiner(this.dashboardDesigner)),this._queryJoiner},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"storeParameter",{get:function(){return n.isNullOrUndefined(this._storeParameter)&&(this._storeParameter=new n.DashboardDesignerUtility.StoreParameter(this.dashboardDesigner)),this._storeParameter},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"queryFilter",{get:function(){return n.isNullOrUndefined(this._queryFilter)&&(this._queryFilter=new n.DashboardDesignerUtility.QueryFilter(this.dashboardDesigner)),this._queryFilter},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"queryParameter",{get:function(){return n.isNullOrUndefined(this._queryParameter)&&(this._queryParameter=new n.DashboardDesignerUtility.QueryParameter(this.dashboardDesigner)),this._queryParameter},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"sqlEditor",{get:function(){return n.isNullOrUndefined(this._editor)&&(this._editor=new n.DashboardDesignerUtility.SqlEditor(this.dashboardDesigner)),this._editor},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"parameter",{get:function(){return n.isNullOrUndefined(this._parameter)&&(this._parameter=new n.DashboardDesignerUtility.Parameter(this.dashboardDesigner)),this._parameter},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"reportAction",{get:function(){return n.isNullOrUndefined(this._reportAction)&&(this._reportAction=new n.DashboardDesignerUtility.ReportAction(this.dashboardDesigner)),this._reportAction},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"formatDialog",{get:function(){return n.isNullOrUndefined(this._format)&&(this._format=new n.DashboardDesignerUtility.FormatDialog(this.dashboardDesigner)),this._format},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"queryExpression",{get:function(){return n.isNullOrUndefined(this._queryExpression)&&(this._queryExpression=new n.DashboardDesignerUtility.QueryExpression(this.dashboardDesigner)),this._queryExpression},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"filterConfiguration",{get:function(){return n.isNullOrUndefined(this._filterConfiguration)&&(this._filterConfiguration=new n.DashboardDesignerUtility.FilterConfiguration(this.dashboardDesigner)),this._filterConfiguration},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"dimensionFilter",{get:function(){return n.isNullOrUndefined(this._dimensionFilter)&&(this._dimensionFilter=new n.DashboardDesignerUtility.DimensionFilter(this.dashboardDesigner)),this._dimensionFilter},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"measureFilter",{get:function(){return n.isNullOrUndefined(this._measureFilter)&&(this._measureFilter=new n.DashboardDesignerUtility.MeasureFilter(this.dashboardDesigner)),this._measureFilter},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"dateinfo",{get:function(){return n.isNullOrUndefined(this._datesettings)&&(this._datesettings=new n.DashboardDesignerUtility.DateSettingsCust(this.dashboardDesigner)),this._datesettings},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"containerPropertyItem",{get:function(){return n.isNullOrUndefined(this._containerPropertyItem)&&(this._containerPropertyItem=new n.DashboardDesignerUtility.ContainerPropertyItem(this.dashboardDesigner)),this._containerPropertyItem},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"conditionalFormat",{get:function(){return n.isNullOrUndefined(this._conditionalFormat)&&(this._conditionalFormat=new n.DashboardDesignerUtility.ConditionalFormat(this.dashboardDesigner)),this._conditionalFormat},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"kPIWindow",{get:function(){return n.isNullOrUndefined(this._kPIWindow)&&(this._kPIWindow=new n.DashboardDesignerUtility.KPIWindow(this.dashboardDesigner)),this._kPIWindow},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"masterSlaveFilter",{get:function(){return n.isNullOrUndefined(this._masterSlaveFilter)&&(this._masterSlaveFilter=new n.DashboardDesignerUtility.MasterSlaveFilterConfiguration(this.dashboardDesigner)),this._masterSlaveFilter},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"filterConfigurationInfo",{get:function(){return n.isNullOrUndefined(this._filterConfigurationInfo)&&(this._filterConfigurationInfo=new n.DashboardDesignerUtility.FilterConfigurationInfo),this._filterConfigurationInfo},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"customLegendSettings",{get:function(){return n.isNullOrUndefined(this._customLegendSettings)&&(this._customLegendSettings=new n.DashboardDesignerUtility.CustomLegendSettings(this.dashboardDesigner)),this._customLegendSettings},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"customValueLabelSettings",{get:function(){return n.isNullOrUndefined(this._customValueLabelSettings)&&(this._customValueLabelSettings=new n.DashboardDesignerUtility.CustomValueLabels(this.dashboardDesigner)),this._customValueLabelSettings},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"editFieldSettings",{get:function(){return n.isNullOrUndefined(this._editFieldSettings)&&(this._editFieldSettings=new n.DashboardDesignerUtility.EditFieldSettings(this.dashboardDesigner)),this._editFieldSettings},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"chartSeriesType",{get:function(){return n.isNullOrUndefined(this._chartSeriesType)&&(this._chartSeriesType=new n.DashboardDesignerUtility.ChartSeriesType(this.dashboardDesigner)),this._chartSeriesType},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"editColumnNames",{get:function(){return n.isNullOrUndefined(this._editColumnNames)&&(this._editColumnNames=new n.DashboardDesignerUtility.EditColumnNames(this.dashboardDesigner)),this._editColumnNames},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"dataCache",{get:function(){return n.isNullOrUndefined(this._dataCache)&&(this._dataCache=new n.DashboardDesignerUtility.DataCache(this.dashboardDesigner)),this._dataCache},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"refreshDialog",{get:function(){return n.isNullOrUndefined(this._refresh)&&(this._refresh=new n.DashboardDesignerUtility.RefreshDialog(this.dashboardDesigner)),this._refresh},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"colorPalette",{get:function(){return n.isNullOrUndefined(this._colorPalette)&&(this._colorPalette=new n.DashboardDesignerUtility.ColorPalette(this.dashboardDesigner)),this._colorPalette},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"dateRangePopup",{get:function(){return n.isNullOrUndefined(this._dateRangePopup)&&(this._dateRangePopup=new n.DashboardDesignerUtility.DateRangePopup(this.dashboardDesigner)),this._dateRangePopup},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"rangeFilterDialog",{get:function(){return n.isNullOrUndefined(this._rangeFilterDialog)&&(this._rangeFilterDialog=new n.DashboardDesignerUtility.RangeFilterDialog(this.dashboardDesigner)),this._rangeFilterDialog},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"relativeDateFilter",{get:function(){return n.isNullOrUndefined(this._relativeDateFilter)&&(this._relativeDateFilter=new n.DashboardDesignerUtility.RelativeDateFilter(this.dashboardDesigner)),this._relativeDateFilter},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"relativeDates",{get:function(){return n.isNullOrUndefined(this._relativeDates)&&(this._relativeDates=new n.DashboardDesignerUtility.RelativeDates(this.dashboardDesigner)),this._relativeDates},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"editConnection",{get:function(){return n.isNullOrUndefined(this._editConnection)&&(this._editConnection=new n.DashboardDesignerUtility.EditConnection(this.dashboardDesigner)),this._editConnection},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"ajaxPoll",{get:function(){return n.isNullOrUndefined(this._ajaxpoll)&&(this._ajaxpoll=new n.DashboardDesignerUtility.AjaxPoll(this.dashboardDesigner)),this._ajaxpoll},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"trendLineWindow",{get:function(){return n.isNullOrUndefined(this._trendLineWindow)&&(this._trendLineWindow=new n.DashboardDesignerUtility.TrendLineWindow(this.dashboardDesigner)),this._trendLineWindow},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"sharedDSMenu",{get:function(){return n.isNullOrUndefined(this._sharedDSMenu)&&(this._sharedDSMenu=new n.DashboardDesignerUtility.SharedDSMenu(this.dashboardDesigner)),this._sharedDSMenu},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"colorCustomization",{get:function(){return n.isNullOrUndefined(this._colorCustomization)&&(this._colorCustomization=new n.DashboardDesignerUtility.ColorCustomization(this.dashboardDesigner)),this._colorCustomization},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"colorCustomizationAdvanceSettings",{get:function(){return n.isNullOrUndefined(this._colorCustomizationAdvanceSettings)&&(this._colorCustomizationAdvanceSettings=new n.DashboardDesignerUtility.ColorCustomizationAdvanceSettings(this.dashboardDesigner)),this._colorCustomizationAdvanceSettings},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"colorCustomizationCustomDialog",{get:function(){return n.isNullOrUndefined(this._colorCustomizationCustomDialog)&&(this._colorCustomizationCustomDialog=new n.DashboardDesignerUtility.ColorCustomizationCustomDialog(this.dashboardDesigner)),this._colorCustomizationCustomDialog},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"colorPicker",{get:function(){return n.isNullOrUndefined(this._colorPicker)&&(this._colorPicker=new n.DashboardDesignerUtility.ColorPicker(this.dashboardDesigner)),this._colorPicker},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"colorCustomizationInclusionSelection",{get:function(){return n.isNullOrUndefined(this._colorCustomizationInclusionSelection)&&(this._colorCustomizationInclusionSelection=new n.DashboardDesignerUtility.ColorCustomizationInclusionSelection(this.dashboardDesigner)),this._colorCustomizationInclusionSelection},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"colorCustomizationBasicSettings",{get:function(){return n.isNullOrUndefined(this._colorCustomizationBasicSettings)&&(this._colorCustomizationBasicSettings=new n.DashboardDesignerUtility.ColorCustomizationBasicSettings(this.dashboardDesigner)),this._colorCustomizationBasicSettings},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"exportPanel",{get:function(){return n.isNullOrUndefined(this._exportPanel)&&(this._exportPanel=new n.DashboardDesignerUtility.Export(this.dashboardDesigner)),this._exportPanel},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"maximize",{get:function(){return n.isNullOrUndefined(this._maximize)&&(this._maximize=new n.DashboardDesignerUtility.Maximize(this.dashboardDesigner)),this._maximize},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"axisRangeSettings",{get:function(){return n.isNullOrUndefined(this._axisRangeSettings)&&(this._axisRangeSettings=new n.DashboardDesignerUtility.AxisRangeSettings(this.dashboardDesigner)),this._axisRangeSettings},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"autoRefresh",{get:function(){return n.isNullOrUndefined(this._autoRefresh)&&(this._autoRefresh=new n.DashboardDesignerUtility.AutoRefresh(this.dashboardDesigner)),this._autoRefresh},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"labelParameter",{get:function(){return n.isNullOrUndefined(this._labelParameter)&&(this._labelParameter=new n.DashboardDesignerUtility.LabelParameter(this.dashboardDesigner)),this._labelParameter},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"connectionDialog",{get:function(){return n.isNullOrUndefined(this._connectionDialog)&&(this._connectionDialog=new n.DashboardDesignerUtility.ConnectionDialog(this.dashboardDesigner)),this._connectionDialog},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"dynamicParameterPanel",{get:function(){return n.isNullOrUndefined(this._dynamicParameterPanel)&&(this._dynamicParameterPanel=new n.DashboardDesignerUtility.DynamicParameter(this.dashboardDesigner)),this._dynamicParameterPanel},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"columnMappingDialog",{get:function(){return n.isNullOrUndefined(this._columnMappingDialog)&&(this._columnMappingDialog=new n.DashboardDesignerUtility.ColumnMapping(this.dashboardDesigner)),this._columnMappingDialog},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"viewDataDialog",{get:function(){return n.isNullOrUndefined(this._viewDataInstance)&&(this._viewDataInstance=new n.DashboardDesignerUtility.ViewDataDialog(this.dashboardDesigner)),this._viewDataInstance},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"layoutDialog",{get:function(){return n.isNullOrUndefined(this._layoutDialog)&&(this._layoutDialog=new n.DashboardDesignerUtility.LayoutDialog(this.dashboardDesigner)),this._layoutDialog},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"dynamicConnectionStringDialog",{get:function(){return n.isNullOrUndefined(this._dynamicConnectionStringDialog)&&(this._dynamicConnectionStringDialog=new n.DashboardDesignerUtility.DynamicConnectionStringDialog(this.dashboardDesigner)),this._dynamicConnectionStringDialog},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"dataPreviewDialog",{get:function(){return n.isNullOrUndefined(this._dataPreviewDialog)&&(this._dataPreviewDialog=new n.DashboardDesignerUtility.DataPreviewDialog(this.dashboardDesigner)),this._dataPreviewDialog},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"dataAlertDialog",{get:function(){return n.isNullOrUndefined(this._dataAlertPanel)&&(this._dataAlertPanel=new n.DashboardDesignerUtility.DataAlert(this.dashboardDesigner)),this._dataAlertPanel},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"hierarchicalMainFilterDialog",{get:function(){return n.isNullOrUndefined(this._hierarchicalMainFilterDialog)&&(this._hierarchicalMainFilterDialog=new n.Dashboard.HierarchicalMainFilterDialog(this.dashboardDesigner)),this._hierarchicalMainFilterDialog},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"fileBrowse",{get:function(){return n.isNullOrUndefined(this._fileBrowse)&&(this._fileBrowse=new n.DashboardDesignerUtility.BrowseDialog(this.dashboardDesigner)),this._fileBrowse},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"queryDesigner",{get:function(){if(n.isNullOrUndefined(this._queryDesigner)){var t=this.dashboardDesigner.element.find(BoldBIDashboardDesigner.bbdesignerstatic$("#"+this.dashboardDesigner._id+"_queryDesigner"));t.length>0&&(this._queryDesigner=t.data("BoldBIDashboardQueryDesigner"))}return this._queryDesigner},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"oAuthHelper",{get:function(){return n.isNullOrUndefined(this._oAuthHelper)&&(this._oAuthHelper=new n.DashboardDesignerUtility.OAuthHelper(this.dashboardDesigner)),this._oAuthHelper},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"serialization",{get:function(){return n.isNullOrUndefined(this._serialization)&&(this._serialization=new n.DashboardDesignerUtility.Serialization(this.dashboardDesigner)),this._serialization},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"util",{get:function(){return n.isNullOrUndefined(this.dashboardUtil)&&(this.dashboardUtil=new n.DashboardUtil(this.dashboardDesigner,this.dashboardDesigner.model.itemId)),this.dashboardUtil},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"widgetHelper",{get:function(){return n.isNullOrUndefined(this._widgetHelper)&&(this._widgetHelper=new n.Dashboard.WidgetHelper(this.dashboardDesigner)),this._widgetHelper},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"themeHelper",{get:function(){return n.isNullOrUndefined(this._themeHelper)&&(this._themeHelper=new n.Dashboard.ThemeHelper(this.dashboardDesigner)),this._themeHelper},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"dataSample",{get:function(){return n.isNullOrUndefined(this._dataSample)&&(this._dataSample=new n.DashboardDesignerUtility.DataSample(this.dashboardDesigner)),this._dataSample},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"widgetContainerHelper",{get:function(){return n.isNullOrUndefined(this._widgetContainerHelper)&&(this._widgetContainerHelper=new n.Dashboard.WidgetContainerHelper(this.dashboardDesigner)),this._widgetContainerHelper},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"containerTypeWidgetHelper",{get:function(){return n.isNullOrUndefined(this._containerTypeWidgetHelper)&&(this._containerTypeWidgetHelper=new n.ContainerWidgetHelper(this.dashboardDesigner)),this._containerTypeWidgetHelper},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"resource",{get:function(){return n.isNullOrUndefined(this._resource)&&(this._resource=new n.Dashboard.Resource(this.dashboardDesigner)),this._resource},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"EmptyContainerAppearence",{get:function(){return n.isNullOrUndefined(this._noDataContainerAppearance)&&(this._noDataContainerAppearance=new n.NoDataContainerAppearence(this.dashboardDesigner)),this._noDataContainerAppearance},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"isEmbed",{get:function(){return this.dashboardDesigner.model.IsEmbed},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"Mode",{get:function(){return this._mode},set:function(n){this._mode=n},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"interWidgetLinkInstance",{get:function(){return n.isNullOrUndefined(this._interWidgetLink)&&(this._interWidgetLink=new n.InterWidgetLink(this.dashboardDesigner)),this._interWidgetLink},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"widgetCache",{get:function(){return n.isNullOrUndefined(this.dashboardDesigner.widgetCacheCollection)&&(this.dashboardDesigner.widgetCacheCollection=[]),this.dashboardDesigner.widgetCacheCollection},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"designerRequests",{get:function(){return n.isNullOrUndefined(this.dashboardDesigner.designerRequests)&&(this.dashboardDesigner.designerRequests=[]),this.dashboardDesigner.designerRequests},enumerable:!0,configurable:!0}),t}();n.Modules=t}(BoldBIDashboard||(BoldBIDashboard={}));InternalDashboardParser=function(){function n(n){this.rdlJsonObj=null;this.dashboardDesigner=null;this.locale=null;this.dashboardDesigner=n;this.locale=n.getLocalizationContent()}return n.prototype.serialize=function(n){var t="";return this.rdlJsonObj.DataSources=this.getDataSources(n),this.rdlJsonObj.DataSets=this.dashboardDesigner.modules.dataSet.datasets,this.rdlJsonObj.ReportParameters=this.dashboardDesigner.modules.parameter.parameters,t=JSON.stringify(this.rdlJsonObj),this.resetDataSource(),t},n.prototype.getDataSources=function(n){var t=this.dashboardDesigner.modules.dataSource.datasources,i;if(n&&t&&t.length>0)for(i=0;i<t.length;i++)t[i].ConnectionProperties&&(t[i].ConnectionProperties.EmbedCredentials=!0);return t},n.prototype.resetDataSource=function(){var n=this.dashboardDesigner.modules.dataSource.datasources,t;if(n&&n.length>0)for(t=0;t<n.length;t++)n[t].ConnectionProperties&&(n[t].ConnectionProperties.EmbedCredentials=!1)},n.prototype.addDataSetToRdlJsonObj=function(n){for(var i,t,r=0;r<n.DataSets.length;r++)this.dashboardDesigner.designerPanel.isValidateDataset(n.DataSets[r])||(i=BoldBIDashboardQueryDesigner.createDataSet(),t=n.DataSets[r],i.CustomHierarchyFields=t.CustomHierarchyFields,i.Fields=t.Fields,i.Name=t.Name,i.Description=t.Description,i.Id=t.Id,i.PublishId=t.PublishId,i.IsUnion=t.IsUnion,i.IsUsageAnalyticsDatasource=t.IsUsageAnalyticsDatasource,i.InitialFilterInfo=t.InitialFilterInfo,i.UserBasedFilterInfo=t.UserBasedFilterInfo,BoldBIDashboard.isNullOrUndefined(t.TreeViewData)||(i.TreeViewData=t.TreeViewData),this.populateDataSetTables(i,t),i.Query.QueryDesignerState.Expressions=t.Expressions,i.Query.QueryDesignerState.DataSample=t.DataSamplingInfo,t.IsCodeView||(i.Query.DataSourceId=t.Id,i.Query.QueryDesignerState.Filters=t.InitialFilterInfo,i.Query.QueryDesignerState.Joins=t.Join,i.Query.QueryParameters=!BoldBIDashboard.isNullOrUndefined(t.Tables)&&!BoldBIDashboard.isNullOrUndefined(t.Tables[0])&&t.Tables[0].Parameters!=null?t.Tables[0].Parameters:[]),i.Query.DashboardParameters=BoldBIDashboard.isNullOrUndefined(t.QueryParameters)?[]:t.QueryParameters,this.rdlJsonObj.DataSets.push(i))},n.prototype.deserialize=function(n){var t=JSON.parse(n),r,u,f,i;for(this.newJsonReport(),r=t.Widgets||[],u=0;u<r.length;u++)BoldBIDashboard.isNullOrUndefined(r[u].UrlLink)||(r[u].UrlLink.GridUrlType=UrlLinkType[r[u].UrlLink.GridUrlType],r[u].UrlLink.LinkType=LinkType[r[u].UrlLink.LinkType]);for(this.rdlJsonObj.WidgetData=r,this.rdlJsonObj.ColorSets=t.ColorSets||[],this.dashboardDesigner.modules.resource.colorCodeInfo=this.rdlJsonObj.ColorSets,this.addDataSetToRdlJsonObj(t),i=0;i<t.DataSources.length;i++)this.rdlJsonObj.DataSources.push(t.DataSources[i]);this.rdlJsonObj.MasterFilterAction=t.MasterFilterInfo;var s=this.dashboardDesigner.modules.masterSlaveFilter,e=s.MasterSlaveFilterDeSerializer(t),o=this.dashboardDesigner.modules.filterConfigurationInfo;if(BoldBIDashboard.isNullOrUndefined(e)||(o.setFilterConfiguration(e.filterConfigurationModel),o.setDatebucketConfigurationModel(e.datebucketConfigurationModel)),BoldBIDashboard.isNullOrUndefined(e)||this.updateFilterInformation(e.filterConfigurationModel),this.rdlJsonObj.AutoRefresh=t.RefreshSettingInfo,t.RefreshSettingInfo!==null&&(this.dashboardDesigner.refreshSetting=t.RefreshSettingInfo),this.rdlJsonObj.CacheSettingInfo=t.cacheSettingInfo,t.cacheSettingInfo!==null&&(this.dashboardDesigner.cacheSettings=t.cacheSettingInfo),!BoldBIDashboard.isNullOrUndefined(t.RemovedDataSources)&&t.RemovedDataSources.length!==0){for(f="<ul>",i=0;i<t.RemovedDataSources.length;i++)f+="<li>"+t.RemovedDataSources[i]+"<\/li>";f+="<\/ul>";this.dashboardDesigner.modules.util.alertDialog(this.locale.alertDialogTitle.dashboardDesigner,this.locale.errorMessage.dataSourcesRemoved,IconType.information,AlertType.Alert,!0,f)}if(t.UnSupportedElements&&t.UnSupportedElements.length!==0){for(f="<ul>",i=0;i<t.UnSupportedElements.length;i++)f+="<li>"+t.UnSupportedElements[i].Type+"<\/li>";f+="<\/ul>";this.dashboardDesigner.modules.util.alertDialog(this.locale.alertDialogTitle.UnsupportedElements,this.locale.errorMessage.missedFeaturesErr,IconType.information,AlertType.Alert,!0,f)}this.rdlJsonObj.DesignCanvasSettings=t.DesignCanvasSettings;BoldBIDashboard.isNullOrUndefined(t.DesignCanvasSettings)||(this.dashboardDesigner.designCanvasSettings=t.DesignCanvasSettings);!BoldBIDashboard.isNullOrUndefined(t.DashboardProperties)&&t.DashboardProperties.length>=1&&(this.dashboardDesigner.modules.serialization.dashboardPropertyJson.Name=t.DashboardProperties[0].Name,this.dashboardDesigner.modules.serialization.dashboardPropertyJson.Description=t.DashboardProperties[0].Description,this.dashboardDesigner.modules.serialization.dashboardPropertyJson.EnableComments=t.DashboardProperties[0].EnableComments,this.dashboardDesigner.modules.serialization.dashboardPropertyJson.DashboardExport.EnablePdf=t.DashboardProperties[0].DashboardExport.EnablePdf,this.dashboardDesigner.modules.serialization.dashboardPropertyJson.DashboardExport.EnableImage=t.DashboardProperties[0].DashboardExport.EnableImage,this.dashboardDesigner.modules.serialization.dashboardPropertyJson.DashboardExport.EnableExcel=t.DashboardProperties[0].DashboardExport.EnableExcel,this.dashboardDesigner.model.dashboardExport.Pdf=t.DashboardProperties[0].DashboardExport.EnablePdf,this.dashboardDesigner.model.dashboardExport.Image=t.DashboardProperties[0].DashboardExport.EnableImage,this.dashboardDesigner.model.dashboardExport.Excel=t.DashboardProperties[0].DashboardExport.EnableExcel,this.dashboardDesigner.modules.serialization.dashboardPropertyJson.IsDataSampleEnabled=t.DashboardProperties[0].IsDataSampleEnabled,BoldBIDashboard.isNullOrUndefined(t.DashboardProperties[0].DashboardFontInfo)||(this.dashboardDesigner.modules.serialization.dashboardPropertyJson.DashboardFontInfo.Headers.AutoFontSize=t.DashboardProperties[0].DashboardFontInfo.Headers.AutoFontSize,this.dashboardDesigner.modules.serialization.dashboardPropertyJson.DashboardFontInfo.Headers.FontSize=t.DashboardProperties[0].DashboardFontInfo.Headers.FontSize),BoldBIDashboard.isNullOrUndefined(t.DashboardProperties[0].WidgetFontInfo)||(this.dashboardDesigner.modules.serialization.dashboardPropertyJson.WidgetFontInfo.Title.AutoFontSize=t.DashboardProperties[0].WidgetFontInfo.Title.AutoFontSize,this.dashboardDesigner.modules.serialization.dashboardPropertyJson.WidgetFontInfo.Title.FontSize=t.DashboardProperties[0].WidgetFontInfo.Title.FontSize,this.dashboardDesigner.modules.serialization.dashboardPropertyJson.WidgetFontInfo.Subtitle.AutoFontSize=t.DashboardProperties[0].WidgetFontInfo.Subtitle.AutoFontSize,this.dashboardDesigner.modules.serialization.dashboardPropertyJson.WidgetFontInfo.Subtitle.FontSize=t.DashboardProperties[0].WidgetFontInfo.Subtitle.FontSize))},n.prototype.updateFilterInformation=function(n){var r,t,i;if(!BoldBIDashboard.isNullOrUndefined(n)&&n.MastersCollection.length>0)for(r=this.rdlJsonObj.WidgetData,t=0;t<n.MastersCollection.length;t++){var e=n.MastersCollection[t],u=e.ProfileManager[0],f=[],o=function(n){var t=u.WidgetInfo[n];!BoldBIDashboard.isNullOrUndefined(t.UniqueId)&&r.filter(function(n){return n.UniqueId===t.UniqueId}).length>0&&f.push(t)};for(i=0;i<u.WidgetInfo.length;i++)o(i);n.MastersCollection[t].ProfileManager[0].WidgetInfo=f}},n.prototype.populateDataSetTables=function(n,t){if(n.Query.DataSourceId=n.Id,n.Query.QueryDesignerState=BoldBIDashboardQueryDesigner.createQueryDesigner(),t.IsCodeView)this.dashboardDesigner.isExecute=t.IsCodeView,n.Query.CommandText=t.QueryText,n.Query.IsCodeView=!0;else{if(n.Query.QueryDesignerState.Tables=[],!BoldBIDashboard.isNullOrUndefined(t.Tables))for(var i=0;i<t.Tables.length;i++)t.Tables[i].Parameters!==null?n.Query.QueryDesignerState.StoredProcedure=t.Tables[i]:n.Query.QueryDesignerState.Tables.push(t.Tables[i]);n.Query.IsCodeView=!1}n.Query.DataSourceName=n.Name},n.prototype.newJsonReport=function(){this.rdlJsonObj={__type:"Syncfusion.Dashboard.Web.Serialization.Model.DOM.Data.DashboardInfo",Description:null,Author:null,AutoRefresh:0,DataSources:[],DataSets:[],Body:null,ReportParameters:[],CustomProperties:[],Code:null,Width:null,Page:null,EmbeddedImages:[],Language:null,CodeModules:[],Classes:[],Variables:[],DeferVariableEvaluation:!1,ConsumeContainerWhitespace:!1,DataTransform:null,DataSchema:null,DataElementName:null,InitialPageName:null,DataElementStyle:0,WidgetData:null,MasterFilterAction:null,ColorSets:null,CacheSettingInfo:null}},n}();window.BoldBIDashboard.createObject("BoldBIDashboard.DashboardDesignerUtility.DashboardParser",InternalDashboardParser,window);__extends=this&&this.__extends||function(){var n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,t){n.__proto__=t}||function(n,t){for(var i in t)t.hasOwnProperty(i)&&(n[i]=t[i])};return function(t,i){function r(){this.constructor=t}n(t,i);t.prototype=i===null?Object.create(i):(r.prototype=i.prototype,new r)}}(),function(n){n[n.Text="Text"]="Text";n[n.Procedure="Procedure"]="Procedure"}(CommandMode||(CommandMode={}));BoldBIDashboardQueryDesigner=function(n){function t(t,i){var r=n.call(this)||this;return(r.rootCss="bbi-querydesigner",r.setFirst=!1,r.pluginName="BoldBIDashboardQueryDesigner",r._id=BoldBIDashboardDesigner.bbdesignerstatic$(r.element).attr("id"),r.model=null,r.defaults={serviceUrl:null,serviceAuthorizationToken:"",toolbarSettings:{items:511,showToolbar:!0},id:null,dataSources:[],parameters:[],dataSet:null,selectDataSource:null,validateNames:[],locale:"en-US"},r.waterMarkText="Search",r.procedureObj={},r.commandMode=CommandMode.Text,r.schemaIcons=null,r.isKeyDown=!1,r.selectedItems={},r.tableItems={},r.dragging=null,r.dragX=0,r.dragY=0,r.queryParameters=[],r.isHeight=!1,r.isWidth=!1,r.isPercentWidth=-1,r.isPercentHeight=-1,r.resizeTO=null,r.previewTO=null,r.editColVal=null,r.renameColVal=null,r.referenceParam=[],r.codeEditor=null,r.typeCast={},r.dashboardDesigner=null,r.storedParameter=null,r.editConnection=null,r.fileSchema=null,r.isTreeMouseDown=!1,r.pageNumber=1,r.sharedTablesList=[],r.scroll=!1,r.newRequest=!1,r.hasError=!1,r.nextRequest=!1,r.firstRequest=!1,r.remainingTableJoins=[],r.isMouseDown=!1,r.isTableClose=!1,r._datasourceInfo=null,r.dataSample=null,r.mergedTableList=null,r.sharedDataMapping=null,r.credentials=null,r.dbSchema=null,r.sharedDbSchema=null,r.queryJoiner=[],r.queryFilter=[],r.queryExp=[],r.queryParamCollection=[],r.userBasedFilterInfo=null,r.locale=null,r.dataSampleInfo=[],r.isEdit=!1,r.isEditMode=!1,r.isInitialFilterApplied=!1,r.queryInputVals=[],r.isNewTableAdded=!1,r.addedTableNames=[],r.isJoin=!1,r.columnList=[],r.tableList=[],r.editDataSource=!1,r.dragSurfaceTag=null,r.tableContainer=null,r.isExpressionWindowClose=!1,r.isEditconnection=!1,r.schemaTree=null,r.designToolbar=null,r.queryEditorTag=null,r.previewHeader=null,r.schemaHeader=null,r.noRecordSpan=null,r.schemaDiv=null,r.previewGrid=null,r.designSwitcher=null,r.codeChkSwitcher=null,r.schemaSearch=null,r.dropdwnData=null,r.btnSaveTag=null,r.bodySchemaTag=null,r.sharedSchemaTag=null,r.isCodeView=!1,r.defaultQuery=null,r.btnEditConnection=null,r.btnEditSchedule=null,r.btnDataSample=null,r.ajaxPostCollection=[],r.btnContinueToDashboardTag=null,r.errorMsgDiv=null,r.errorContent=null,r.descriptionDialog=null,r.btnUpdateTag=null,r.previewSwitcherChkBxTag=null,r.previewSwitcherTag=null,r.previewSwitcherSliderTag=null,r.ejPreviewGrid=null,r.ejSchemaTree=null,r.ejSharedSchemaTree=null,r.ejSchemaScroller=null,r.ejQueryTool=null,r.ejSurfaceSplitter=null,r.ejPreviewSplitter=null,r.ejDrpdwnData=null,r.sharedTableScroller=null,r.sharedTableSplitter=null,r.collapseIcon=null,r.shareTableSearch=null,r.schemaAreaPaneSize=null,r.isContinueToDashboardbtn=null,r.draggedColumnName=null,r.isColumnDragged=!1,r.ejViewSchemaGrid=null,r.tableName=null,r.ejSchemaTreeForSearch=null,r.ejSharedSchemaTreeForSearch=null,r.isSearchClose=!1,r.isSharedSearchClose=!1,t&&(t.jquery||(t=BoldBIDashboardDesigner.bbdesignerstatic$("#"+t)),t.length))?(BoldBIDashboardDesigner.bbdesignerstatic$(t).addClass("bbi-querydesigner"),BoldBIDashboardDesigner.bbdesignerstatic$(t).BoldBIDashboardQueryDesigner(i).data(r.pluginName)):r}return __extends(t,n),Object.defineProperty(t.prototype,"DatasourceInfo",{get:function(){return this._datasourceInfo},set:function(n){this._datasourceInfo=n;var t=BoldBIDashboard.Dashboard.ConnectionHelper.getConnectionInfoFromDSInfo(this.dashboardDesigner,n);this.connectionInstance=BoldBIDashboard.Dashboard.ConnectionHelper.getConnectionInstance(this.dashboardDesigner,t,!0);BoldBIDashboard.isNullOrUndefined(this.connectionInstance)||this.connectionInstance.updateConnectionIfRequired(n,t);this.updateNameDescription();this.updateConnectionSpecificUI()},enumerable:!0,configurable:!0}),t.prototype.updateNameDescription=function(){this.setDataSetName();this.setDataSetDescription()},Object.defineProperty(t.prototype,"userFilterDlg",{get:function(){return BoldBIDashboard.isNullOrUndefined(this._userFilterDlg)&&(this._userFilterDlg=new BoldBIDashboard.Dashboard.UserBasedFilterDialog(this.dashboardDesigner,this)),this._userFilterDlg},enumerable:!0,configurable:!0}),t.prototype._destroy=function(){BoldBIDashboard.destroyWidgets(this.element);this.unWiredEvents()},t.prototype._setModel=function(n){for(var t in n)switch(t){}},t.prototype._init=function(){this.id=this._id;this.dashboardDesigner=this.model.designerInstance;this.bbdesigner$=this.dashboardDesigner.bbdesigner$;this.locale=this.dashboardDesigner.getLocalizationContent();this.storedParameter=this.dashboardDesigner.modules.storeParameter;this.datasource=this.dashboardDesigner.modules.dataSource;this.widgetHelper=this.dashboardDesigner.modules.widgetHelper;this.renderDatasetDescriptionDialog();this.model.id?this.id=this.model.id:(this._on(this.bbdesigner$(document),"click",this.designerClick),this._on(this.bbdesigner$(window),"resize",this.designerResize));this.element&&this.element.length&&this.element.addClass("bbi-querydesigner");this.browserInfo=BoldBIDashboard.browserInfo();this.updateElementSize();this.initializeControl();this.initializeDesigner();this.updateToolbar();this.loadControl();this.renderViewSchema()},t.prototype.initializeControl=function(){this.queryJoiner=[];this.queryFilter=[];this.queryParamCollection=[];this.userBasedFilterInfo=null;this.queryExp=[];this.dataSampleInfo=[];this.procedureObj={};this.sqlEditor=this.dashboardDesigner.modules.sqlEditor;this.credentialWin=this.dashboardDesigner.modules.credentialDialog;this.schemaIcons={schema:"bbi-designer-content-icon bbi-designer-dataset-folder",tables:"bbi-designer-content-icon bbi-designer-dataset-schema-column",views:"bbi-designer-content-icon bbi-designer-dataset-schema-column",procedures:"bbi-designer-content-icon bbi-designer-dataset-schema-column",table:"bbi-designer-content-icon bbi-designer-dataset-schema",view:"bbi-designer-content-icon bbi-designer-dataset-schema",procedure:"bbi-designer-content-icon bbi-designer-dataset-schema"};this.typeCast={integer:"Number",date:"DateTime",text:"Text",dNumber:"Default(Integer)",dText:"Default(String)",dDate:"Default(DateTime)",dBool:"Default(Boolean)"}},t.prototype.loadControl=function(){this.model.dataSources&&this.model.dataSources.length>0&&(this.model.selectDataSource?this.datasourceSelection(this.model.selectDataSource):this.model.dataSet?(this.isEdit=!0,this.editDataSetItem(this.model.dataSet.Id)):this.newQueryDesigner())},t.prototype.initializeDesigner=function(){this.renderDesignerArea(this.element);this.unWiredEvents();this.wiredEvents()},t.prototype.isRendered=function(){return this.element.find("#"+this.id+"_div_designerTool").length>0},t.prototype.renderDesignerArea=function(n){var v=this.designToolbar=BoldBIDashboard.buildTag("div.bbi-userselect bbi-querydesigner-toolbarcontainer","",{width:this.element.width(),height:"40px"},{id:this.id+"_div_designerTool"}),o=BoldBIDashboard.buildTag("div.bbi-userselect","",{display:"block",width:"100%",height:this.element.height()-this.designToolbar.height()+"px"},{id:this.id+"_div_designerArea"}),t=BoldBIDashboard.buildTag("div.bbi-designer-surface","",{display:"block",width:"100%",height:"100%"},{id:this.id+"_div_target_designArea"}),y=BoldBIDashboard.buildTag("div.bbi-designer-table-schemaarea","",{display:"block",width:"232px",height:"100%",float:"left","box-sizing":"border-box","border-top":"0px none"},{id:this.id+"_table_schemaArea"}),i=BoldBIDashboard.buildTag("div","",{display:"block","border-right-width":"0px",width:"100%",height:"100%",float:"left","box-sizing":"border-box"},{id:this.id+"_div_draggableArea"}),f=BoldBIDashboard.buildTag("div","",{display:"block","border-style":"none !important",overflow:"hidden",width:"100%",height:"100%"},{id:this.id+"_div_queryDesigner"}),s=this.dragSurfaceTag=BoldBIDashboard.buildTag("div.bbi-drag-surface bbi-designer-hint-newtable","",{display:"block",overflow:"auto",position:"relative",width:"100%",height:"100%","background-color":"#ececec"},{id:this.id+"_div_dragSurface"}),p=this.queryEditorTag=BoldBIDashboard.buildTag("div.e-query-editor","",{display:"none",overflow:"auto",width:"100%",height:"100%"},{id:this.id+"_div_queryEditor"}),r=BoldBIDashboard.buildTag("div","",{display:"block",overflow:"hidden",width:"100%",height:"100%"},{id:this.id+"_div_previewArea"}),u=this.previewHeader=BoldBIDashboard.buildTag("div","",{"border-bottom":"1px Solid #c8c8c8",height:"32px",display:"table","box-sizing":"border-box",width:this.element.width()-this.element.find("#"+this.id+"_table_schemaArea").width()-6,"background-color":"#f4f4f4"},{id:this.id+"_div_previewHeader"}),w=BoldBIDashboard.buildTag("div","",{width:"100%",display:"table-cell","vertical-align":"middle"},{}),b=BoldBIDashboard.buildTag("div","",{width:"auto",display:"table-cell","vertical-align":"middle"},{}),e=BoldBIDashboard.buildTag("div","",{color:"white"},{id:this.id+"_div_previewData"}),h=this.noRecordSpan=BoldBIDashboard.buildTag("div.bbi-designer-dataset-noRecordMsg","",{"vertical-align":"middle","text-align":"center",display:"none",width:this.element.width()-this.element.find("#"+this.id+"_table_schemaArea").width()-6},{id:this.id+"_div_no_records"}),g=BoldBIDashboard.buildTag("span.bbi-designer-dataset-noRecordMsg","No records to display",{},{id:this.id+"_span_no_records"}),c=this.previewGrid=BoldBIDashboard.buildTag("div.bbi-designer-preview-grid bbi-dbrd-control","",{border:"none"},{id:this.id+"_div_previewGrid"}),nt=BoldBIDashboard.buildTag("span.bbi-designer-dataset-dataHeader",this.locale.dataSource.dataPreviewText,{"padding-top":"3px"},{}),l,k,a;this.btnUpdateTag=BoldBIDashboard.buildTag("button.bbi-dbrd-btn-secondary bbi-dashboarddesigner-update-btn bbi-dashboard-designer-preview-update-btn","",{},{id:this.id+"_update_preview_grid_btn",type:"button"});var d=BoldBIDashboard.buildTag("span.e-split-btn-div","",{position:"absolute",height:"100%","margin-left":"-20px"}),tt=BoldBIDashboard.buildTag("span.e-split-btn-div",this.locale.queryDesigner.updateButton,{"margin-right":"-20px"}),it=BoldBIDashboard.buildTag("span.bbi-designer-browse-reload bbi-dashboarddesigner-preview-update-btn","",{});d.append(it);this.btnUpdateTag.append(d,tt);l=BoldBIDashboard.buildTag("div","",{display:this.browserInfo.name==="mozilla"?"-moz-inline-box":"block"},{id:this.id+"_div_part_record"});k=BoldBIDashboard.buildTag("span.bbi-designer-dataset-dataContent","",{"white-space":"nowrap","margin-right":"5px","vertical-align":"middle"},{id:this.id+"_record_count"});l.append(k);b.append(l);u.append(w);u.append(b);w.append(nt,this.getPreviewSwitcher(),this.btnUpdateTag);f.append(p);f.append(s);r.append(u);h.append(g);e.append(h);e.append(c);r.append(e);i.append(f);i.append(r);t.append(y);t.append(i);o.append(t);n.append(v);n.append(o);this.renderToolbarItem(v);this.renderSchemaArea(y);i.BoldBIDashboardSplitter({orientation:BoldBIDashboard.Orientation.Vertical,properties:[{paneSize:"70%",collapsible:!1,expandable:!1},{paneSize:"200px",minSize:"200px",collapsible:!1}],enableAutoResize:!0,resize:this.bbdesigner$.proxy(this.splitterResize,this)});t.BoldBIDashboardWaitingPopup({showOnInit:!1,cssClass:"e-designer-waitingpopup "+this.id+"_designer_waiting_popup bbi-designer-loader"});t.BoldBIDashboardSplitter({orientation:BoldBIDashboard.Orientation.Horizontal,height:"100%",width:"100%",cssClass:"bbi-designer-h-splitter",properties:[{paneSize:"280px",collapsible:!1,minSize:"280px",expandable:!1},{paneSize:"70%",collapsible:!1}],enableAutoResize:!0,resize:this.bbdesigner$.proxy(this.horizontalResize,this)});e.BoldBIDashboardWaitingPopup({showOnInit:!1,cssClass:"e-designer-waitingpopup "+this.id+"_designer_waiting_popup e-designer-loader"});this.ejPreviewGrid=new ejdashboard.grids.Grid({gridLines:"Both",allowResizing:!0,allowSelection:!1,columns:[{field:"Preview",headerText:"Preview",clipMode:"EllipsisWithTooltip",width:80}]});this.ejPreviewGrid.appendTo(c[0]);o.BoldBIDashboardWaitingPopup({showOnInit:!1,cssClass:"e-designer-waitingpopup "+this.id+"_designer_waiting_popup bbi-designer-loader"});f.BoldBIDashboardWaitingPopup({showOnInit:!1,cssClass:"e-designer-waitingpopup "+this.id+"_designer_waiting_popup bbi-designer-loader"});this.renderContextMenu(s);c.hide();this.ejSurfaceSplitter=t.data("BoldBIDashboardSplitter");this.ejPreviewSplitter=i.data("BoldBIDashboardSplitter");this.renderTooltip();this.renderQueryEditor(p);a=this.getSurfaceAreaWidth();u.width(a);h.css({height:r.height()-this.previewHeader.height(),width:u.width});this.ejPreviewGrid.height=r.height()-this.previewHeader.height()+40;this.ejPreviewGrid.width=a;s.BoldBIDashboardWaitingPopup({showOnInit:!1,cssClass:"e-designer-waitingpopup bbi-designer-loader"});BoldBIDashboard.DashboardUtil.buttonEnable(this.btnUpdateTag,!1);this.btnUpdateTag.css("display","none");this.previewSwitcherTag.css("display","none");this.showNoRecord(!0);this.showLoadRecordMsg(!0)},t.prototype.getPreviewSwitcher=function(){var t=this.previewSwitcherTag=BoldBIDashboard.buildTag("div.bbi-dbrd-designer-toggle-switch-div","",{},{id:this.id+"_preview_switcher_div"}),n=BoldBIDashboard.buildTag("label.bbi-dbrd-designer-switch-small","",{},{id:this.id+"_preview_chk_switcher_lbl"}),i;return this.previewSwitcherChkBxTag=BoldBIDashboard.buildTag("input","",{},{type:"checkbox",id:this.id+"_preview_chck_on checked"}),n.append(this.previewSwitcherChkBxTag),i=this.previewSwitcherSliderTag=BoldBIDashboard.buildTag("span.bbi-dbrd-designer-slider-span bbi-dbrd-designer-slider-small round bbi-dbrd-designer-hoverable","",{},{"data-tooltip":this.locale.queryDesigner.liveDataPreviewEnableToolTipText}),n.append(i),this.previewSwitcherChkBxTag.prop("checked",!1),t.append(n),this.previewSwitcherChkBxTag.bind("change",this.bbdesigner$.proxy(this.onPreviewSwitcherChange,this)),t},t.prototype.onPreviewSwitcherChange=function(){BoldBIDashboard.isNullOrUndefined(this.previewSwitcherChkBxTag)||(this.previewSwitcherChkBxTag.is(":checked")?this.previewSwitcherSliderTag.attr("data-tooltip",this.locale.queryDesigner.liveDataPreviewDisableToolTipText):this.previewSwitcherSliderTag.attr("data-tooltip",this.locale.queryDesigner.liveDataPreviewEnableToolTipText));BoldBIDashboard.isNullOrUndefined(this.previewSwitcherTag)||this.previewSwitcherTag.css("display")==="none"||BoldBIDashboard.isNullOrUndefined(this.previewSwitcherChkBxTag)||!this.previewSwitcherChkBxTag.is(":checked")?this.btnUpdateTag.css("display","inline-block"):(this.btnUpdateTag.css("display","none"),this.updatePreviewGrid())},t.prototype.renderQueryEditor=function(n){window.CodeMirror?(this.codeEditor=window.CodeMirror(n[0],{mode:"text/x-sql",indentWithTabs:!0,smartIndent:!0,lineNumbers:!0,matchBrackets:!0,autofocus:!0,extraKeys:{"Ctrl-Space":"autocomplete","Shift-2":"parameterAutocomplete"},hintOptions:{}}),this.codeEditor.setSize("100%","100%"),this.codeEditor.refresh(),window.CodeMirror.commands.parameterAutocomplete=function(n){var t=[],u=this.bbdesigner$(n.display.wrapper.offsetParent).parents(".bbi-querydesigner"),r=this.bbdesigner$(u).data("BoldBIDashboardQueryDesigner"),i;if(BoldBIDashboard.isNullOrUndefined(r)||(t=r.getParameterList()),t.length===0)return window.CodeMirror.Pass;n.replaceSelection("");i=n.getCursor();n.replaceRange("@",n.getCursor());n.setCursor({line:i.line,ch:i.ch+1});window.CodeMirror.showHint(n,window.CodeMirror.hint.parameter,{tables:t,disableKeywords:!0})},window.CodeMirror.registerHelper("hint","parameter",function(n,t){var h=this.bbdesigner$(n.display.wrapper.offsetParent).parents(".bbi-querydesigner"),s=this.bbdesigner$(h).data("BoldBIDashboardQueryDesigner"),c=t.tables,r=n.getCursor(),u=[],i=n.getTokenAt(r),f,e,o;return i.string=i.string.replace(/^@/,""),i.string.match(/^[.`"\w@]\w*$/)?(o=i.string.slice(0,i.string.length),f=i.start+1,e=i.end):(f=e=r.ch,o=""),BoldBIDashboard.isNullOrUndefined(s)||(u=s.matchedParameterResult(u,o,c)),u.length===0?window.CodeMirror.Pass:{list:u,from:window.CodeMirror.Pos(r.line,f),to:window.CodeMirror.Pos(r.line,e)}})):this.sqlEditor.renderQueryEditor(n)},t.prototype.renderToolbarItem=function(n){var f=BoldBIDashboard.buildTag("ul.bbi-designer-toolbarul","",{display:"none"}),i,r,t,u,e,h,o,c,s;n.append(f);this.renderDataSourceSelection(f);f.css("height",this.calculateToolbarItemHeight(f));i=BoldBIDashboard.buildTag("ul.bbi-designer-toolbarul","",{});n.append(i,BoldBIDashboard.DashboardUtil.getSeperator());this.renderDataSetName(i);i.css("height",this.calculateToolbarItemHeight(i));r=BoldBIDashboard.buildTag("ul.bbi-designer-toolbarul","",{});n.append(r,BoldBIDashboard.DashboardUtil.getSeperator());this.renderDatasetDescription(r);r.css("height",this.calculateToolbarItemHeight(r));t=BoldBIDashboard.buildTag("ul.bbi-designer-toolbarul","",{});n.append(t,BoldBIDashboard.DashboardUtil.getSeperator());this.appendToolbarItems(t,this.id+"_dataset_tool_run",this.locale.dataSource.runText,"bbi-designer-dataset-preview bbi-designer-toolbar-run bbi-dbrd-designer-hand-cursor","");t=BoldBIDashboard.buildTag("ul.bbi-designer-toolbarul","",{});this.appendToolbarItems(t,this.id+"_dataset_tool_join",this.locale.dataSource.joinText,"bbi-designer-dataset-join bbi-designer-toolbar-join bbi-dbrd-designer-hand-cursor","");this.appendToolbarItems(t,this.id+"_dataset_tool_exp",this.locale.dataSource.dsExpressionText,"bbi-designer-expression bbi-designer-toolbar-expression bbi-dbrd-designer-hand-cursor","");this.appendToolbarItems(t,this.id+"_dataset_tool_filter",this.locale.initialFilter.menuItemText,"bbi-designer-dataset-filter bbi-designer-query-filter bbi-dbrd-designer-hand-cursor","");this.appendToolbarItems(t,this.id+"_dataset_tool_userbasedfilter",this.locale.userFilterLocale.menuItemText,"bbi-designer-toolbar-userbased-filter bbi-dbrd-designer-hand-cursor","");this.appendToolbarItems(t,this.id+"_dataset_tool_parameter",this.locale.dataSource.parameterHeaderText,"bbi-designer-toolbar-dashboard-parameter bbi-dbrd-designer-hand-cursor","");this.appendToolbarItems(t,this.id+"_dataset_tool_datasampling",this.locale.dataSource.dataSamplingHeaderText,"bbi-designer-toolbar-datasample bbi-dbrd-designer-hand-cursor","");n.append(t,BoldBIDashboard.DashboardUtil.getSeperator());u=BoldBIDashboard.buildTag("ul.bbi-querydesigner-code-view-ul bbi-designer-toolbarul","",{});n.append(u,BoldBIDashboard.DashboardUtil.getSeperator());u.append(BoldBIDashboard.DashboardUtil.getToggleButton(this.id,!1,this.locale.dataSource.codeText,"switcherChanged",this));this.designSwitcher=u.find(".e-designe-switcher-wrap");this.codeChkSwitcher=u.find(".bbi-switcher-check");e=BoldBIDashboard.buildTag("ul.bbi-designer-toolbarul","",{});n.append(e);this.renderEditConnectionBtn(e);h=BoldBIDashboard.buildTag("ul.bbi-designer-toolbarul","",{});n.append(h);o=BoldBIDashboard.buildTag("ul.bbi-designer-toolbarul","",{});n.append(o);c=BoldBIDashboard.buildTag("ul.bbi-designer-toolbarul","",{});n.append(c);this.renderScheduleBtn(o);s=BoldBIDashboard.buildTag("ul.bbi-designer-toolbarul","",{float:"right"});n.append(s);this.renderActionBtn(s);this.triggerEvents("toolbarRendering",{target:this.designToolbar});n.BoldBIDashboardToolbar({isResponsive:!0,enableSeparator:!1,height:n.height(),cssClass:"bbi-designer-toolbar",width:n.width(),click:this.bbdesigner$.proxy(this.toolbarClick,this)});this.ejQueryTool=n.data("BoldBIDashboardToolbar")},t.prototype.openUserBaseFilterDialog=function(){var n=null;BoldBIDashboard.isNullOrUndefined(this.userBasedFilterInfo)||(n=JSON.parse(JSON.stringify(this.userBasedFilterInfo)));this.userFilterDlg.showDialog(n)},t.prototype.calculateToolbarItemHeight=function(n){return this.designToolbar.height()-(parseInt(n.css("padding-top"),10)+parseInt(n.css("padding-bottom"),10))},t.prototype.appendToolbarItems=function(n,t,i,r,u){var f=BoldBIDashboard.buildTag("li.bbi-designer-toolbarli bbi-designer-toolbar-align bbi-dbrd-icon-background-theme bbi-dbrd-designer-hoverable","",{},{id:t,"data-tooltip":i}),e=BoldBIDashboard.buildTag("span.bbi-designer-toolbarIconBasic bbi-toolbarfonticonbasic bbi-dbrd-icon-theme "+r,"",{"font-size":u},{});f.append(e);n.append(f)},t.prototype.renderDataSourceSelection=function(n){var r=this.bbdesigner$("<td style='padding-left:12px;'><\/td>"),t=this.dropdwnData=BoldBIDashboard.buildTag("input.e-textbox","",{"margin-top":"1px","padding-left":"5px","line-height":"normal"},{type:"text",id:this.id+"_drd_datasource"});r.append(t);var u=BoldBIDashboard.buildTag("table.bbi-querydesigner-toolbar-table","",{},{unselectable:"on",id:this.id+"_table_select_data"}),i=this.bbdesigner$("<tr><\/tr>"),f=BoldBIDashboard.buildTag("td","",{"padding-left":"10px"},{}),e=BoldBIDashboard.buildTag("label.bbi-designer-label","DataSource ",{},{});f.append(e);i.append(f);i.append(r);u.append(i);n.append(u);t.BoldBIDashboardDropDownList({watermarkText:"Select a DataSource",width:"190px",height:"22px",fields:{id:"Id",text:"Name",value:"Id"},change:this.bbdesigner$.proxy(this.datasourceChange,this),cssClass:"bbi-designer-dataset-selection bbi-designer-ejwidgets"});this.element.find("#"+this.id+"_drd_datasource_"+this.id).css({"border-radius":"2px"});this.ejDrpdwnData=t.data("BoldBIDashboardDropDownList")},t.prototype.renderDataSetName=function(n){var u=BoldBIDashboard.buildTag("table.bbi-querydesigner-toolbar-table","",{},{unselectable:"on",id:this.id+"_table_edit_dataset"}),t=this.bbdesigner$("<tr><\/tr>"),f=BoldBIDashboard.buildTag("td","",{},{}),e=BoldBIDashboard.buildTag("label.bbi-designer-label",this.locale.dataSource.datasourceNameLabelTxt,{},{}),i,r;f.append(e);t.append(f);i=this.bbdesigner$("<td style='padding-left:12px;'><\/td>");r=BoldBIDashboard.buildTag("input.e-textbox bbi-querydesigner-dataset-text","",{},{edittype:"stringedit",value:"DataSet2",id:this.id+"_dataset_txt"});i.append(r);r.bind("focusout",this.bbdesigner$.proxy(this.datasetChange,this));t.append(i);u.append(t);n.append(u)},t.prototype.renderDatasetDescription=function(n){this.descriptionDiv=BoldBIDashboard.buildTag("div.bbi-querydesigner-dataset-description","",{},{id:this.id+"_dataset_description"});n.append(this.descriptionDiv);var t=this.locale.toolBar;this.descriptionDiv.append(BoldBIDashboard.isNullOrUndefined(this.dataset)?this.datasource.datasourceDescriptionText===""?t.addDescription:t.editDescription:this.dataset.Description===""?t.addDescription:t.editDescription)},t.prototype.datasetChange=function(){var n=this.element.find("#"+this.id+"_dataset_txt");this.validateDataSetName()&&(this.dataSetName=n.val(),this.dashboardDesigner.modules.util.doAjaxPost("POST",this.model.serviceUrl+BoldBIDashboard.Dashboard.ServiceAPI.processdata,{action:BoldBIDashboard.DashboardUtil.DesignerAction.editDataSetName,data:JSON.stringify({className:BoldBIDashboard.DashboardUtil.DesignerAction.DataDesignViewAction,designerAction:BoldBIDashboard.DashboardUtil.DesignerAction.editDataSetName,dataSetName:this.dataSetName,dataSetId:this.dataset.Id,isQueryDesignerMode:this.dashboardDesigner.isQueryDesignerMode})},{}))},t.prototype.datasetDescriptionDialog=function(n){this.openDatasetDescriptionDialog(n)},t.prototype.renderDatasetDescriptionDialog=function(){var n=this.id+"_dataset_description",i,r;this.descriptionDialog=BoldBIDashboard.buildTag("div.bbi-userselect","",{},{id:n+"_edit"});i=BoldBIDashboard.buildTag("div.bbi-designer-tile-content bbi-designer-datasource-description-maxchar",this.locale.saveDatasourceDialog.descriptionMaxLengthText,{display:"block"},{id:n+"_description_maxchar_exceed"});this.datasource.renderTextArea("",n+"_textarea",this.descriptionDialog);this.datasetDescription=this.descriptionDialog.find("#"+n+"_textarea");this.descriptionDialog.find("#"+n+"_textarea_td").append(i).css("float","left");this.datasetDescription.attr({maxlength:"1024",placeholder:this.locale.dataSource.datasourceDescriptionWaterMarkTxt});this.dashboardDesigner.element.append(this.descriptionDialog);this.descriptionDialog.BoldBIDashboardDialog({title:this.locale.queryDesigner.description,width:"auto",height:"auto",minWidth:240,minHeight:150,enableResize:!1,showOnInit:!1,enableModal:!0,showFooter:!0,containment:"#"+this.dashboardDesigner._id,target:"#"+this.dashboardDesigner._id,cssClass:"bbi-designer-dialog boldbi-dashboarddesigner",close:this.bbdesigner$.proxy(BoldBIDashboard.DashboardUtil.closeDialog,this),closeIconTooltip:this.locale.dialogOptions.closeButtonText});var t=BoldBIDashboard.buildTag("div.bbi-querydesigner-dataset-delete-description","",{float:"left"},{id:n+"_delete"}),u=BoldBIDashboard.buildTag("button.bbi-dbrd-btn-secondary bbi-dbrd-btn-small bbi-dbrd-margin-left",this.locale.dialogOptions.cancelButtonText,{float:"right"},{id:n+"_cancel",type:"button"}),f=BoldBIDashboard.buildTag("button.bbi-dbrd-btn-primary bbi-dbrd-btn-small",this.locale.dialogOptions.saveButtonText,{float:"right"},{id:n+"_save",type:"button"});t.append(this.locale.dataSource.delDescText);r=this.dashboardDesigner.element.find("#"+n+"_edit_foot");r.append(t,u,f);t.on("click",this.bbdesigner$.proxy(this.deleteDatasourceDescriptionText,this));f.on("click",this.bbdesigner$.proxy(this.saveDatasourceDescriptionText,this));u.on("click",this.bbdesigner$.proxy(this.cancelDatasetDescriptionEdit,this))},t.prototype.openDatasetDescriptionDialog=function(){this.descriptionDiv.attr("disabled")!=="disabled"&&(this.descriptionDialog.data("BoldBIDashboardDialog").open(),this.datasetDescription.val(this.dataset.Description))},t.prototype.cancelDatasetDescriptionEdit=function(){this.descriptionDialog.data("BoldBIDashboardDialog").close()},t.prototype.saveDatasourceDescriptionText=function(){this.datasource.datasourceDescriptionText=this.datasetDescription.val().trim();this.DatasourceInfo.Description=this.dataset.Description=this.datasource.datasourceDescriptionText;var n=this.locale.toolBar;this.descriptionDiv.text(this.dataset.Description===""?n.addDescription:n.editDescription);this.descriptionDialog.data("BoldBIDashboardDialog").close()},t.prototype.deleteDatasourceDescriptionText=function(){this.datasetDescription.val("")},t.prototype.renderViewSchema=function(){var n,i,t,r;this.divViewSchema=BoldBIDashboard.buildTag("div.bbi-userselect","",{width:480,height:"auto"},{id:this.id+"_view_schema_dialog"});this.viewSchemaContainer=BoldBIDashboard.buildTag("div","",{height:"auto",padding:"8px 20px 20px"},{id:this.id+"_viewSchema_Container","class":"bbi-dbrd-designer-scroller bbi-dbrd-designer-scroll-style-3"});this.viewSchemaGrid=BoldBIDashboard.buildTag("div.bbi-designer-viewschema-grid","","",{id:this.id+"_div_viewSchemaGrid"});this.divViewSchema.append(this.viewSchemaContainer);this.viewSchemaContainer.append(this.viewSchemaGrid);this.dashboardDesigner.element.append(this.divViewSchema);this.contextMenu=BoldBIDashboard.buildTag("ul.bbi-designer-menu e-menu e-dbrd-viewschema e-js e-widget e-box e-context e-separator","",{display:"none",width:"95px","margin-top":"-20px","margin-left":"10px"},{id:this.id+"_viewSchemaMenu"});n=BoldBIDashboard.buildTag("li.e-separator e-list","",{},{id:this.id+"_viewSchema"});i=BoldBIDashboard.buildTag("a.e-menulink","View Schema",{padding:"4px","text-align":"center"},{id:this.id+"_viewSchemaTag"});n.append(i);this.contextMenu.append(n);this.schemaDiv.append(this.contextMenu);this.viewSchemaDialogObj=this.divViewSchema.BoldBIDashboardDialog({width:"700px",minWidth:"480px",title:"Table Schema",enableResize:!1,showOnInit:!1,showFooter:!0,cssClass:"bbi-designer-dialog boldbi-dashboarddesigner e-flat-mode bbi-designer-viewschema-dialog",enableModal:!0,containment:"#"+this.dashboardDesigner._id,target:"#"+this.dashboardDesigner._id,close:this.bbdesigner$.proxy(BoldBIDashboard.DashboardUtil.closeDialog,this),closeIconTooltip:this.locale.dialogOptions.closeButtonText}).data("BoldBIDashboardDialog");t=BoldBIDashboard.buildTag("button.bbi-dbrd-btn-secondary bbi-dbrd-btn-small bbi-dbrd-margin-left",this.locale.dialogOptions.closeButtonText,{float:"right","margin-top":"5px"},{id:this.id+"_cancel",type:"button"});r=this.dashboardDesigner.element.find("#"+this.id+"_view_schema_dialog_foot");r.append(t);t.on("click",this.bbdesigner$.proxy(this.cancelViewSchemaDialog,this))},t.prototype.beforeCopy=function(){var n=this,t=this;setTimeout(function(){var i=t.bbdesigner$(".e-clipboard").val();i!==""&&(n.showCopiedToolTip(),n.removeAndHideToolTip())},200)},t.prototype.showCopiedToolTip=function(){this.tooltipElement=BoldBIDashboard.buildTag("span.tooltiptext","Copied",{cursor:"pointer"},{});var n=this.bbdesigner$(".e-focused").position();this.tooltipElement.css({left:n.left+150});this.bbdesigner$(".e-focused").append(this.tooltipElement)},t.prototype.removeAndHideToolTip=function(){var n=this;setTimeout(function(){n.bbdesigner$(".tooltiptext").remove()},300)},t.prototype.cancelViewSchemaDialog=function(){this.divViewSchema.data("BoldBIDashboardDialog").close()},t.prototype.renderTreeViewContextMenu=function(n){this.tableName=this.bbdesigner$(n.currentTarget).attr("data-displayname");var i=this.bbdesigner$(n.currentTarget).closest(".bbi-dbrd-treeview-element"),t=this.dashboardDesigner.element.find(this.bbdesigner$("#"+this.id+"_viewSchemaMenu"));t.css({left:i.position().left+i.outerWidth()-t.outerWidth(),top:i.offset().top-t.outerHeight()});t.css("display","block")},t.prototype.renderEditConnectionBtn=function(n){var t=BoldBIDashboard.buildTag("div.bbi-querydesigner-edit-connection-btn-wrap","",{},{id:this.id+"_div_dataset_editconnection"});this.btnEditConnection=BoldBIDashboard.buildTag("button.bbi-dbrd-btn-secondary  bbi-dbrd-btn-small bbi-querydesigner-ds-editconnectionbtn",this.locale.dataSource.headerEditConnectionText,{},{id:this.id+"_editConnectionButton",type:"button"});t.append(this.btnEditConnection);n.append(t)},t.prototype.renderScheduleBtn=function(n){var t=BoldBIDashboard.buildTag("div.bbi-querydesigner-edit-schedule-btn-wrap","",{},{id:this.id+"_div_dataset_editschedule"});this.btnEditSchedule=BoldBIDashboard.buildTag("button.bbi-dbrd-btn-secondary  bbi-dbrd-btn-small bbi-querydesigner-ds-editschedulebtn",this.locale.dataSource.refreshSettingsText,{display:"none"},{id:this.id+"_editScheduleButton",type:"button"});t.append(this.btnEditSchedule);n.append(t)},t.prototype.renderActionBtn=function(n){var f=BoldBIDashboard.buildTag("div.bbi-querydesigner-save-btn-wrap","",{},{id:this.id+"_div_dataset_save"}),r,u,e,t,o,i;if((this.btnSaveTag=BoldBIDashboard.buildTag("button.bbi-dbrd-btn-primary bbi-querydesigner-save-btn",this.getSaveBtnDisplayName(),{height:"28px",padding:"0 6px"},{id:this.id+"_saveButton",type:"button"}),f.append(this.btnSaveTag),r=BoldBIDashboard.buildTag("div.bbi-querydesigner-continuedashboard-btn-wrap","",{margin:"0 5px",display:"inline-block",padding:"1px 0"},{id:this.id+"_div_design_view"}),this.btnContinueToDashboardTag=BoldBIDashboard.buildTag("button.bbi-dbrd-btn-primary bbi-dbrd-designer-hoverable",this.locale.dataSource.continueDashboard,{display:this.dashboardDesigner.model.mode===BoldBIDashboard.Designer.mode.datasource?"block":"none",height:"28px"},{id:this.id+"_continue_dashboard_button",type:"button"}),r.append(this.btnContinueToDashboardTag),u=BoldBIDashboard.buildTag("div.bbi-querydesigner-cancel-btn-wrap","",{},{id:this.id+"_div_dataset_close"}),e=BoldBIDashboard.buildTag("button.bbi-dbrd-btn-secondary bbi-querydesigner-cancel-btn",this.locale.dataSource.cancelBtnText,{height:"28px"},{id:this.id+"_cancelButton",type:"button"}),u.append(e),t=[r,u,f],o=this.dashboardDesigner._trigger("actionBegin",{eventType:"dataSourceToolbarButtonRender",designer:this.dashboardDesigner,buttons:t}),!o)&&!BoldBIDashboard.isNullOrUndefined(t)&&t.length>0)for(i=0;i<t.length;i++)n.append(t[i])},t.prototype.getSaveBtnDisplayName=function(){var n=this.locale.dataSource.saveBtnText;return this.dashboardDesigner.model.IsEmbed&&this.dashboardDesigner.model.mode===BoldBIDashboard.Designer.mode.datasource?this.locale.dataSource.saveBtnText:BoldBIDashboard.isNullOrUndefined(this.model.serviceAuthorizationToken)||this.model.serviceAuthorizationToken===""?this.locale.dataSource.finishBtnText:this.dashboardDesigner.model.mode===BoldBIDashboard.Designer.mode.datasource?this.locale.dataSource.saveExitBtnText:this.locale.dataSource.saveBtnText},t.prototype.renderSkelton=function(){var r=BoldBIDashboard.buildTag("div","",{width:"100%",height:"82px",display:"block"},{id:this.id+"_shared_tables_skelton"}),n=BoldBIDashboard.buildTag("div.bbi-empty-shared-tables-title-block","",{},{id:this.id+"_shared_tables_skelton_title_blocks"}),t=BoldBIDashboard.buildTag("div.bbi-empty-shared-tables-expand bbi-empty-ds-list-loader","",{},{id:this.id+"_shared_tables_skelton_expand_loading"}),i=BoldBIDashboard.buildTag("div.bbi-empty-shared-tables-content bbi-empty-ds-list-loader","",{},{id:this.id+"_shared_tables_skelton_content_loading"}),u=n.append(t,i).clone();return r.append(u,n.append(t,i))},t.prototype.renderSchemaArea=function(n){var h=this.element.height()-this.designToolbar.height(),t=BoldBIDashboard.buildTag("div.bbi-designer-schemaarea","",{width:"100%",height:"100%",overflow:"hidden"},{id:this.id+"_schemaArea"}),i,r;this.schemaDiv=BoldBIDashboard.buildTag("div","",{display:"inline-block",width:"100%",height:"100%","background-color":"#f9f9f9"},{id:this.id+"_div_schemaArea"});this.schemaHeader=BoldBIDashboard.buildTag("div.bbi-designer-schemaHeader","",{},{id:this.id+"_div_headSchema"});this.schemaHeader.append(this.getsearchbox());this.schemaSearch=this.schemaHeader.find(".bbi-shared-tables-searchbox");this.bodySchemaTag=BoldBIDashboard.buildTag("div.bbi-dbrd-designer-scroller bbi-dbrd-control bbi-dbrd-designer-scroll-style-3","",{display:"block","background-color":"white",width:"100%"},{id:this.id+"_div_bodySchema"});i=BoldBIDashboard.buildTag("div","",{},{});this.errorMsgDiv=BoldBIDashboard.buildTag("div.bbi-errormsg-div","",{},{id:this.id+"_div_errorMsgArea"});this.errorContent=BoldBIDashboard.buildTag("div.bbi-errormsg-content","",{},{id:this.id+"_errorMsgContent"});r=BoldBIDashboard.buildTag("button.bbi-dbrd-btn-primary bbi-dbrd-btn-small",this.locale.queryDesigner.tryConnectButton,{},{id:this.id+"_btn_try_connect"});r.on("click",this.bbdesigner$.proxy(this.loadDataSet,this));this.sharedSchemaTag=BoldBIDashboard.buildTag("div.bbi-designer-schema-scroller bbi-dbrd-control bbi-sharedtable-schema bbi-schemaareawrap",this.getSharedSchemaTemplate(),{},{id:this.id+"_div_shared_schema",type:"button"});var f=BoldBIDashboard.buildTag("div.e-tree-area","",{},{}),e=BoldBIDashboard.buildTag("div","",{display:"none",width:"100%",height:"100%"},{id:this.id+"_schema_empty_msg"}),c=BoldBIDashboard.buildTag("div.bbi-designer-empty-msg","No matches found",{display:"table-cell"}),o=BoldBIDashboard.buildTag("div","",{display:"none",width:"100%",height:"100%"},{id:this.id+"_sharedtable_schema_empty_msg"}),l=BoldBIDashboard.buildTag("div.bbi-designer-sharedtabled-empty-msg","No matches found",{display:"table-cell"}),u=this.schemaTree=BoldBIDashboard.buildTag("ul.bbi-dataset-treeview","",{"margin-left":"6px",overflow:"hidden","margin-top":"5px",width:"calc(100% - 10px)"},{id:this.id+"_ul_treeSchema"}),s=BoldBIDashboard.buildTag("div.bbi-schemaareawrap","",{},{id:this.id+"_div_schemaarea_wrap"});this.errorMsgDiv.append(this.errorContent,r);e.append(c);f.append(u);i.append(f,e);this.bodySchemaTag.append(i);this.renderSharedTableIcon();s.append(this.schemaHeader,this.bodySchemaTag,this.collapseIcon,this.errorMsgDiv);o.append(l);this.sharedSchemaTag.append(o);this.schemaDiv.append(s,this.sharedSchemaTag);t.append(this.schemaDiv);n.append(t);t.BoldBIDashboardWaitingPopup({showOnInit:!1,cssClass:"e-designer-waitingpopup "+this.id+"_designer_waiting_popup bbi-designer-loader"});u.BoldBIDashboardTreeView({fullRowSelect:!1,loadOnDemand:!1,template:this.getTreeViewTemplate(),nodeExpand:this.bbdesigner$.proxy(this.nodeExpand,this,this.bodySchemaTag),fields:{id:"id",parentId:"pid",text:"displayName",htmlAttribute:"nodeProperty",hasChild:"hasChild",expanded:"expanded"},beforeExpand:this.bbdesigner$.proxy(this.beforeExpand,this,!1),nodeCollapse:this.bbdesigner$.proxy(this.scrollerRefresh,this,this.bodySchemaTag)});this.ejSchemaScroller=this.bodySchemaTag.BoldBIDashboardScroller({scrollerSize:this.dashboardDesigner.scrollerSize.scrollSize,enableTouchScroll:!1,autoHide:!0,height:h-(2+this.schemaHeader.height()+20+2*(parseFloat(this.schemaHeader.css("margin-top"))+1)+this.collapseIcon.outerHeight(!0))+"px",width:this.schemaDiv.width(),buttonSize:this.dashboardDesigner.scrollerSize.buttonSize}).data("BoldBIDashboardScroller");this.sharedSchemaTag.find(".bbi-shared-tables-content div:first").append("<div class='e-shared-tables-list' style='position:relative'><\/div>");this.sharedTableScroller=this.sharedSchemaTag.find(".bbi-shared-tables-content").BoldBIDashboardScroller({buttonSize:this.dashboardDesigner.scrollerSize.buttonSize,scrollerSize:this.dashboardDesigner.scrollerSize.scrollSize,enableTouchScroll:!0,height:"0px",width:this.schemaDiv.width()-5,scroll:this.bbdesigner$.proxy(this.resetScroller,this)}).data("BoldBIDashboardScroller");this.sharedSchemaTag.BoldBIDashboardWaitingPopup({showOnInit:!1,cssClass:"e-designer-waitingpopup bbi-designer-loader"});this.ejSchemaTree=u.data("BoldBIDashboardTreeView");this.sharedSchemaTag.find(".bbi-shared-tables-action-items .bbi-shared-tables-action-info").BoldBIDashboardTooltip({content:this.locale.queryDesigner.sharedTable.info,isBalloon:!0,collision:BoldBIDashboard.Tooltip.Collision.FlipFit,trigger:BoldBIDashboard.Tooltip.Trigger.Hover,showRoundedCorner:!0,showShadow:!0});this.ejSharedSchemaTree=this.sharedSchemaTag.find("#"+this.id+"_shared_tables_tree").BoldBIDashboardTreeView({fullRowSelect:!1,loadOnDemand:!0,template:this.getSharedTableTreeViewTemplate(),nodeExpand:this.bbdesigner$.proxy(this.nodeExpand,this,this.sharedSchemaTag.find(".bbi-shared-tables-content")),fields:{id:"id",parentId:"pid",text:"displayName",htmlAttribute:"nodeProperty",hasChild:"hasChild"},nodeCollapse:this.bbdesigner$.proxy(this.scrollerRefresh,this,this.sharedSchemaTag.find(".bbi-shared-tables-content")),beforeExpand:this.bbdesigner$.proxy(this.beforeExpand,this,!0),beforeDelete:function(n){n.event&&n.event.type==="keydown"&&(n.cancel=!0)}}).data("BoldBIDashboardTreeView");this.sharedTableSplitter=this.schemaDiv.BoldBIDashboardSplitter({orientation:BoldBIDashboard.Orientation.Vertical,properties:[{paneSize:"calc(100% - 40px)",minSize:"180px",expandable:!1,collapsible:!0},{paneSize:"40px",minSize:"40",collapsible:!1}],enableAutoResize:!0,resize:this.bbdesigner$.proxy(this.sharedTableSplitterResize,this)}).data("BoldBIDashboardSplitter")},t.prototype.openViewSchemaDialog=function(){this.ajaxPostCollection.push(this.dashboardDesigner.modules.util.doAjaxPost("POST",this.model.serviceUrl+BoldBIDashboard.Dashboard.ServiceAPI.processdata,{action:BoldBIDashboard.DashboardUtil.DesignerAction.DataDesignViewAction,data:JSON.stringify({className:BoldBIDashboard.DashboardUtil.DesignerAction.DataDesignViewAction,designerAction:BoldBIDashboard.DashboardUtil.DesignerAction.ViewTableSchema,dataSetName:this.dataset.Name,dataSetId:this.dataset.Id,tableName:this.tableName,schemaName:this.dataset.Id,isQueryDesignerMode:this.dashboardDesigner.isQueryDesignerMode})},{fnction:this.bbdesigner$.proxy(this.updateSchemaData,this)}))},t.prototype.updateSchemaData=function(n){if(n&&n.tableData){var t=JSON.parse(n.tableData),i=n.tableName;this.ejViewSchemaGrid!=null&&this.ejViewSchemaGrid.destroy();this.ejViewSchemaGrid=new ejdashboard.grids.Grid({gridLines:"None",height:400,dataSource:t,allowSelection:!0,selectionSettings:{mode:"Cell",cellSelectionMode:"Flow",type:"Single"},columns:[{field:"ColumnName",headerText:"Display Name",clipMode:"EllipsisWithTooltip",width:300},{field:"Name",headerText:"Name",width:300}],beforeCopy:this.bbdesigner$.proxy(this.beforeCopy,this)});this.ejViewSchemaGrid.appendTo(this.viewSchemaGrid[0]);this.viewSchemaDialogObj.setTitle(i+" schema");this.divViewSchema.data("BoldBIDashboardDialog").open()}!BoldBIDashboard.isNullOrUndefined(n.HasError)&&n.HasError&&this.dashboardDesigner.modules.util.alertDialog(this.locale.alertDialogTitle.dataSet,this.locale.errorMessage.failedToViewSchema,IconType.errors,AlertType.Alert,!0,n.Message)},t.prototype.resetScroller=function(n){var t=n.scrollTop,i=this.sharedSchemaTag.find(".bbi-shared-tables-content").height(),r=this.sharedSchemaTag.find("#"+this.id+"_shared_tables_tree").height();!BoldBIDashboard.isNullOrUndefined(t)&&t>0&&r-i<=t&&this.pageNumber>0&&(this.scroll=!0,this.fetchSharedTableSchemas(this.pageNumber,!1))},t.prototype.beforeExpand=function(n,t){var r=this,e,i,u,f;if(!t.isChildLoaded&&!this.isSearchClose&&!this.isSharedSearchClose){if(e=t.id,i=null,t.model.fields.dataSource.length>0)for(u=0;u<t.model.fields.dataSource.length;u++)t.model.fields.dataSource[u].id===e&&(i=t.model.fields.dataSource[u]);BoldBIDashboard.isNullOrUndefined(i.value)||(f=i.value.tableName.length>0,this.dashboardDesigner.modules.util.doAjaxPost("POST",this.model.serviceUrl+BoldBIDashboard.Dashboard.ServiceAPI.processdata,{action:BoldBIDashboard.DashboardUtil.DesignerAction.GetChildList,data:JSON.stringify({className:BoldBIDashboard.DashboardUtil.DesignerAction.DataDesignViewAction,designerAction:BoldBIDashboard.DashboardUtil.DesignerAction.GetChildList,dataSetName:this.dataset.Name,dataSetId:this.dataset.Id,tableName:i.value.tableName,schemaName:i.value.schema,viewType:i.value.viewType,rootName:t.id,isColumn:f,isQueryDesignerMode:this.dashboardDesigner.isQueryDesignerMode})},{fnction:this.bbdesigner$.proxy(this.getColumnDetails,this,t.id,n,f),indicator:[this.bbdesigner$.proxy(function(){setTimeout(function(){t.currentElement.find("a:first").siblings("div").addClass("bbi-waiting-indicator");r.bbdesigner$(t.targetElement).find(".bbi-background-waiting-popup").length===0&&r.dashboardDesigner.designerPanel.appendSpinningWidget(r.bbdesigner$(t.targetElement));r.bbdesigner$(t.targetElement).find(".bbi-background-waiting-popup").show()},100)},this),this.bbdesigner$.proxy(function(){setTimeout(function(){t.currentElement.find("a:first").siblings("div").addClass("e-icon").removeClass("bbi-waiting-indicator");r.bbdesigner$(t.targetElement).find(".bbi-background-waiting-popup").hide()},100)},this)]}))}},t.prototype.renderSharedTableIcon=function(){this.collapseIcon=BoldBIDashboard.buildTag("div.bbi-sharedtable-collapseiconwrap","",{},{id:this.id+"div_sharedTableCollapseIcon_wrap"});var n=BoldBIDashboard.buildTag("div.bbi-sharedtable-collapseicon","",{},{id:this.id+"div_sharedTableCollapseIcon"}),t=BoldBIDashboard.buildTag("div.bbi-sharedtable-collapseiconspan1","",{},{id:this.id+"div_sharedTableCollapseIconspan1"}),i=BoldBIDashboard.buildTag("div.bbi-sharedtable-collapseiconspan2","",{},{id:this.id+"div_sharedTableCollapseIconspan2"});n.append(t,i);this.collapseIcon.append(n)},t.prototype.sharedTableSplitterResize=function(n){BoldBIDashboard.isNullOrUndefined(n.nextPane.size)||BoldBIDashboard.isNullOrUndefined(this.sharedTableScroller)||(this.schemaAreaPaneSize=null,this.ejSchemaScroller.model.height=this.getSchemaAreaHeight(n.nextPane.size),this.sharedSchemaTag.find(".bbi-shared-tables-content-wrap").css("display","block"),n.nextPane.size>40?(this.sharedTableScroller.model.height=this.getSharedSchemaTreeHeight(n.nextPane.size),this.sharedTableScroller.refresh(),this.ejSchemaScroller.refresh(),this.sharedSchemaTag.find(".bbi-shared-tables-header-items").css({display:"block"}),this.ejSharedSchemaTree&&this.ejSharedSchemaTree.model.fields.dataSource.length===0&&this.sharedSchemaTag.find("#"+this.id+"_shared_table_error").css("display")!=="block"&&(this.sharedDbSchema=[],this.sharedTablesList=[],this.pageNumber=1,this.firstRequest=!0,this.fetchSharedTableSchemas(this.pageNumber,!1))):this.sharedTableClose())},t.prototype.getSharedSchemaTreeHeight=function(n){return n-this.sharedSchemaTag.find(".bbi-shared-tables-header").outerHeight(!0)-30},t.prototype.getSchemaAreaHeight=function(n){var t=this.element.height()-this.designToolbar.height(),i=this.schemaHeader.css("display")==="block"?this.schemaHeader.outerHeight(!0):0;return t-i-this.collapseIcon.outerHeight(!0)-n},t.prototype.getSharedSchemaTemplate=function(){return"<div class='bbi-shared-tables-header'><span class='bbi-shared-tables-title'>"+this.locale.queryDesigner.sharedTable.header+"<\/span>"+this.renderShareTableSearchboxAndActionitems()+"<\/div><div class='bbi-shared-tables-content-wrap'><div class='bbi-shared-tables-content bbi-dbrd-designer-scroll-style-3'><div><ul id='"+this.id+"_shared_tables_tree' class='bbi-sharedtable-list'><\/ul><div class='bbi-shared-tables-error-msg' id='"+this.id+"_shared_table_error'><\/div><\/div><\/div>"},t.prototype.getsearchbox=function(){return"<div class='bbi-shared-tables-searchbox-wrap'><input class ='bbi-shared-tables-searchbox' placeholder='"+this.locale.sharedDSMenu.searchBoxText+"'><span class ='bbi-shared-ds-searchbox-btn bbi-shared-tables-searchbtn'><\/div>"},t.prototype.renderShareTableSearchboxAndActionitems=function(){return"<div class= 'bbi-shared-tables-header-items'>"+this.getsearchbox()+"<span class='bbi-shared-tables-action-items'><span class='bbi-shared-tables-action-info bbi-dbrd-icon-background-theme'> <\/span><span class='bbi-shared-tables-action-reload bbi-dbrd-icon-background-theme bbi-dbrd-designer-hoverable' data-tooltip = '"+this.locale.queryDesigner.sharedTable.reload+"'><\/span><\/span><\/div>"},t.prototype.getTreeViewTemplate=function(){return"<div style='margin-top:0.5px;width:100%;' class='bbi-dbrd-treeview-element' id='e-dbrd_treeview_{{:displayName}}'>{{if value}}<span class='bbi-widgeticons bbi-designer-fieldcontainer-double-drag' style='font-size:12.5px;margin-right:2px;float: left;margin-top: 4px;'/>{{/if}}<span class='{{:spriteImage}}'/ style='float:left;margin-top:2.5px;'><\/span><span style='float: left;width:calc(100% - 60px);text-overflow: ellipsis;overflow: hidden;margin-top: 3px;font-family:var(--designer-font)'>{{:displayName}}<\/span>{{if !isColumn}}<a class='bbi-option-view-schema' data-displayname='{{:displayName}}' style='display: none;float: right;text-decoration:none;font-size:12.5px;'><span class='e-widgeticons bbi-designer-context-menu ' style='float: left;margin-top: 0px;font-size:15px;font-weight:normal;color:black;\"'/>  <\/span><\/a>{{/if}}<\/div>"},t.prototype.getSharedTableTreeViewTemplate=function(){return"<div>{{if value}}<span class='bbi-widgeticons bbi-designer-fieldcontainer-double-drag' style='font-size:12.5px;margin-right:2px'/>{{/if}}<span class='{{:spriteImage}}'/><span title={{:displayName}} class='bbi-sharedtable-displaytext'>{{:displayName}}<\/span><span class='{{:icon}}'/><\/div>"},t.prototype.nodeExpand=function(n,t){if(t.value==="Tables"||t.value==="Views"||t.value==="Stored Procedures"){var i=this.bbdesigner$(t.currentElement).find(".ej-table-drag>div:not('.e-drop')");if(i.length>0){i.addClass("e-drop");i.on(BoldBIDashboard.DashboardUtil.MouseEvent.mouseDown,this.bbdesigner$.proxy(this.treeMouseDown,this));i.on(BoldBIDashboard.DashboardUtil.MouseEvent.mouseUp,this.bbdesigner$.proxy(this.treeMouseUp,this));i.on(BoldBIDashboard.DashboardUtil.MouseEvent.mouseMove,this.bbdesigner$.proxy(this.dragStart,this))}}n&&this.scrollerRefresh(n)},t.prototype.resetDrag=function(){this.dragging!==null&&(this.dragging.remove(),this.dragging=null)},t.prototype.treeMouseDown=function(){this.isTreeMouseDown=!0;this.resetDrag()},t.prototype.treeMouseUp=function(){this.isTreeMouseDown=!1;this.resetDrag()},t.prototype.renderContextMenu=function(n){var t=this.locale.queryDesigner,i,f,u,e,r;this.tableMenuUlTag=BoldBIDashboard.buildTag("ul.bbi-designer-menu e-aggr-menu","",{},{id:this.id+"_ds_tableMenu"});this.tableMenuUlTag.append("<li id='"+this.id+"_rename_field_li' class='e-separator'><a>"+t.rename+"<\/a><\/li>");i=this.bbdesigner$("<ul/>");i.append(this.getMenuItem("GroupBy",this.id+"_field_GroupBy",!0));i.append(this.getMenuItem("Sum",this.id+"_field_Sum",!1));i.append(this.getMenuItem("Avg",this.id+"_field_Avg",!1));i.append(this.getMenuItem("Min",this.id+"_field_Min",!1));i.append(this.getMenuItem("Max",this.id+"_field_Max",!1));i.append(this.getMenuItem("Count",this.id+"_field_Count",!0));i.append(this.getMenuItem("StDev",this.id+"_field_StDev",!1));i.append(this.getMenuItem("StDevP",this.id+"_field_StDevP",!1));i.append(this.getMenuItem("Var",this.id+"_field_Var",!1));i.append(this.getMenuItem("VarP",this.id+"_field_VarP",!1));i.append(this.getMenuItem("SumDistinct",this.id+"_field_SumDistinct",!1));i.append(this.getMenuItem("AvgDistinct",this.id+"_field_AvgDistinct",!1));i.append(this.getMenuItem("MinDistinct",this.id+"_field_MinDistinct",!1));i.append(this.getMenuItem("MaxDistinct",this.id+"_field_MaxDistinct",!1));i.append(this.getMenuItem("CountDistinct",this.id+"_field_CountDistinct",!0));f=this.bbdesigner$("<li><a>"+t.changeColumnType+"<\/a><li>");u=this.bbdesigner$("<ul class='e-typecastUl'/>");u.append(this.getColumnItem("Date",t.columnType.dateField,this.id+"_DateTime","e-datetime"));u.append(this.getColumnItem("Integer",t.columnType.numberField,this.id+"_Number","e-integer"));u.append(this.getColumnItem("String",t.columnType.stringField,this.id+"_Text","e-text"));u.append(this.getColumnItem("Default",t.columnType.defaultField,this.id+"_Default","e-default"));f.append(u);this.tableMenuUlTag.append(f);e=BoldBIDashboard.buildTag("li","<a>"+t.fiscalYearStart+"<\/a>",{},{id:this.id+"_fiscal_year_start_li"});r=BoldBIDashboard.buildTag("ul.bbi-dbrd-designer-fiscalyear-ul","",{},{});r.append(this.getFiscalMenuItem(t.fiscalYearFormat.jan,this.id+"_Jan"));r.append(this.getFiscalMenuItem(t.fiscalYearFormat.feb,this.id+"_Feb"));r.append(this.getFiscalMenuItem(t.fiscalYearFormat.mar,this.id+"_Mar"));r.append(this.getFiscalMenuItem(t.fiscalYearFormat.apr,this.id+"_Apr"));r.append(this.getFiscalMenuItem(t.fiscalYearFormat.may,this.id+"_May"));r.append(this.getFiscalMenuItem(t.fiscalYearFormat.jun,this.id+"_Jun"));r.append(this.getFiscalMenuItem(t.fiscalYearFormat.jul,this.id+"_Jul"));r.append(this.getFiscalMenuItem(t.fiscalYearFormat.aug,this.id+"_Aug"));r.append(this.getFiscalMenuItem(t.fiscalYearFormat.sep,this.id+"_Sep"));r.append(this.getFiscalMenuItem(t.fiscalYearFormat.oct,this.id+"_Oct"));r.append(this.getFiscalMenuItem(t.fiscalYearFormat.nov,this.id+"_Nov"));r.append(this.getFiscalMenuItem(t.fiscalYearFormat.dec,this.id+"_Dec"));e.append(r);this.tableMenuUlTag.append(e);n.append(this.tableMenuUlTag);this.tableMenuUlTag.BoldBIDashboardMenu({menuType:BoldBIDashboard.MenuType.ContextMenu,openOnClick:!1,ontextMenuTarget:"#"+n.attr("id"),width:184,click:this.bbdesigner$.proxy(this.settingMenuClick,this)})},t.prototype.showTooltip=function(n){var t=this.element.find("#"+this.id+"_drd_datasource_wrapper");this.dashboardDesigner.element.find("#"+this.id+"_designer_tooltip").css({display:n?"block":"none",top:t.offset().top+t.height()+10,left:t.offset().left})},t.prototype.renderTooltip=function(){var n=BoldBIDashboard.buildTag("div.bbi-designer-top-tip e-tooltip-wrap e-widget e-designer-tooltip","",{display:"none"},{id:this.id+"_designer_tooltip"}),t=BoldBIDashboard.buildTag("div.e-arrowTip","",{}),r=BoldBIDashboard.buildTag("div.e-arrowTipOuter","",{}),u=BoldBIDashboard.buildTag("div.e-arrowTipInner","",{}),i=BoldBIDashboard.buildTag("div.e-tipContainer"),f=BoldBIDashboard.buildTag("div","Select a DataSource to Configure Report DataSet",{},{});t.append(r).append(u);i.append(f);n.append(i);n.append(t);this.dashboardDesigner.element.append(n)},t.prototype.renderSchemaTree=function(n){var t=n;this.showTreeContainer(t&&t.length>0);this.ejSchemaTree.option("fields.dataSource",t);this.bodySchemaTag.find(".e-tree-area").is(":visible")&&this.scrollerRefresh(this.bodySchemaTag)},t.prototype.renderSharedSchemaTree=function(n,t){var i=this.getSharedTreeDataSource(n,t);this.showSharedTreeContainer(i&&i.length>0);this.ejSharedSchemaTree.option("fields.dataSource",i);this.sharedSchemaTag.find(".bbi-shared-tables-content").is(":visible")&&this.scrollerRefresh(this.sharedSchemaTag.find(".bbi-shared-tables-content"))},t.prototype.getTreeviewForSchemaSearch=function(n){var s=[],w,f,c,y,b,i,r,l,u,h,t,e,a;if(!BoldBIDashboard.isNullOrUndefined(n))if(this.connectionInstance.ShouldExtractData||this.isSqlExtractMode())for(l=Object.keys(n),u=0;u<l.length;u++)for(h=n[l[u]],t=0;t<h.length;t++)e=this.id+"_"+BoldBIDashboard.DashboardUtil.escapeSelector(h[t].Name),a=this.schemaIcons.table,s.push({id:e,name:h[t].Name,hasChild:!0,expanded:!1,displayName:h[t].Name,spriteImage:"bbi-designer-query-treeview "+a,nodeProperty:{"class":"ej-table-drag"},value:{schema:l[u],viewType:"Tables",tableName:h[t].Name}});else for(w=BoldBIDashboard.Dashboard.ConnectionHelper.isHierarchicalConnection(this.connectionInstance),f=Object.keys(n),t=0;t<f.length;t++){e=BoldBIDashboard.DashboardUtil.escapeSelector(this.id+"_Schema_"+t);s.push({id:e,expanded:!0,name:f[t],displayName:f[t],hasChild:!0,value:{schema:f[t],viewType:"Schema",tableName:""},spriteImage:"bbi-designer-query-treeview "+this.schemaIcons.schema});var p=n[f[t]],o=Object.keys(p),v=[];for(u=0;u<o.length;u++)if(c=BoldBIDashboard.DashboardUtil.escapeSelector(e+"_"+o[u]),w){if(i=p,!BoldBIDashboard.isNullOrUndefined(i))for(r=0;r<i.length;r++)v.push({id:c,pid:e,name:i[r].Name,displayName:i[r].Name,hasChild:!0,nodeProperty:{"class":"ej-table-drag"},value:{schema:f[t],viewType:"Tables",tableName:i[r].Name},spriteImage:"bbi-designer-query-treeview "+this.schemaIcons.table})}else if(v.push({id:c,expanded:!0,pid:e,name:o[u],displayName:o[u],hasChild:!0,value:{schema:f[t],viewType:o[u],tableName:""},spriteImage:"bbi-designer-query-treeview "+this.schemaIcons.tables}),i=p[o[u]],!BoldBIDashboard.isNullOrUndefined(i)){for(y=[],r=0;r<i.length;r++)a=i[r].name==="Stored Procedures"?this.schemaIcons.procedure:this.schemaIcons.table,b=BoldBIDashboard.DashboardUtil.escapeSelector(c+"_"+i[r].Name),y.push({id:b,pid:c,name:i[r].Name,displayName:i[r].Name,hasChild:!0,nodeProperty:{"class":"ej-table-drag"},value:{schema:f[t],viewType:o[u],tableName:i[r].Name},spriteImage:"bbi-designer-query-treeview "+a});this.bbdesigner$.merge(v,y)}this.bbdesigner$.merge(s,v)}this.showTreeContainer(s&&s.length>0);this.ejSchemaTree.option("fields.dataSource",s);this.bodySchemaTag.find(".e-tree-area").is(":visible")&&this.scrollerRefresh(this.bodySchemaTag)},t.prototype.getColumnDetails=function(n,t,i,r){var u=[],f=JSON.parse(r.treeData),e=JSON.parse(r.tableData);u=f;i&&(this.columnList.push(e),this.tableList.push(r.tableName));t?this.ejSharedSchemaTree.addNodes(u,BoldBIDashboard.DashboardUtil.escapeSelector(n)):t||(u.length>0?this.ejSchemaTree.addNodes(u,BoldBIDashboard.DashboardUtil.escapeSelector(n)):this.schemaTree.find("#"+n+" div.e-icon:first").removeClass("e-icon"));this.bindViewSchemaEvents()},t.prototype.isSqlExtractMode=function(){return!BoldBIDashboard.isNullOrUndefined(this.DatasourceInfo.SQLExtractionParams)&&!BoldBIDashboard.isNullOrUndefined(this.DatasourceInfo.SQLExtractionParams.ExtractionModeDetails)&&this.DatasourceInfo.SQLExtractionParams.ExtractionModeDetails.Mode==="Extract"||this.DatasourceInfo.Mode==="Extract"},t.prototype.searchSharedtableData=function(n){BoldBIDashboard.isNullOrUndefined(this.ejSharedSchemaTreeForSearch)&&(this.ejSharedSchemaTreeForSearch=this.ejSharedSchemaTree.model.fields.dataSource);this.dashboardDesigner.modules.util.doAjaxPost("POST",this.model.serviceUrl+BoldBIDashboard.Dashboard.ServiceAPI.sharedtables,{action:BoldBIDashboard.DashboardUtil.DesignerAction.GetChildList,data:JSON.stringify({className:BoldBIDashboard.DashboardUtil.DesignerAction.DataDesignViewAction,designerAction:BoldBIDashboard.DashboardUtil.DesignerAction.GetChildList,datasource:this.DatasourceInfo,searchText:n,Page:1,isExtractMode:this.connectionInstance.ShouldExtractData||this.isSqlExtractMode(),isQueryDesignerMode:this.dashboardDesigner.isQueryDesignerMode})},{fnction:this.bbdesigner$.proxy(this.sharedSchemaSearchResult,this),indicator:[this.bbdesigner$.proxy(this.showIndicator,this),this.bbdesigner$.proxy(this.hideIndicator,this)]})},t.prototype.sharedSchemaSearchResult=function(n){var t=JSON.parse(n);BoldBIDashboard.isNullOrUndefined(this.ejSharedSchemaTreeForSearch)||BoldBIDashboard.isNullOrUndefined(t)||(this.ejSharedSchemaTree.option("fields.dataSource",""),this.renderSharedSchemaTree(t,!0));this.sharedSchemaTag.find(".bbi-shared-tables-searchbox").removeAttr("readonly")},t.prototype.searchData=function(n){BoldBIDashboard.isNullOrUndefined(this.ejSchemaTreeForSearch)&&(this.ejSchemaTreeForSearch=this.ejSchemaTree.model.fields.dataSource);this.dashboardDesigner.modules.util.doAjaxPost("POST",this.model.serviceUrl+BoldBIDashboard.Dashboard.ServiceAPI.processdata,{action:BoldBIDashboard.DashboardUtil.DesignerAction.GetChildList,data:JSON.stringify({className:BoldBIDashboard.DashboardUtil.DesignerAction.DataDesignViewAction,designerAction:BoldBIDashboard.DashboardUtil.DesignerAction.GetChildList,dataSetName:this.dataset.Name,dataSetId:this.dataset.Id,searchText:n,tableName:"",schemaName:"",viewType:"",isExtractMode:this.connectionInstance.ShouldExtractData||this.isSqlExtractMode(),isQueryDesignerMode:this.dashboardDesigner.isQueryDesignerMode})},{fnction:this.bbdesigner$.proxy(this.schemaSearchResult,this),indicator:[this.bbdesigner$.proxy(this.showIndicator,this),this.bbdesigner$.proxy(this.hideIndicator,this)]})},t.prototype.schemaSearchResult=function(n){var t=JSON.parse(n.tableData);BoldBIDashboard.isNullOrUndefined(this.ejSchemaTreeForSearch)||(this.ejSchemaTree.option("fields.dataSource",""),this.getTreeviewForSchemaSearch(t));this.schemaHeader.find(".bbi-shared-tables-searchbox").removeAttr("readOnly")},t.prototype.onSearchClick=function(n){clearTimeout(this.timeout);var t=this;this.timeout=setTimeout(function(){if(n.keyCode!==13){var i=t.schemaSearch.val();if(i.length>0)n.currentTarget.readOnly=!0,t.schemaSearch.siblings(".bbi-shared-ds-searchbox-btn").addClass("bbi-shared-tables-closebtn").removeClass("bbi-shared-tables-searchbtn"),t.searchData(i);else{t.schemaSearch.siblings(".bbi-shared-ds-searchbox-btn").removeClass("bbi-shared-tables-closebtn").addClass("bbi-shared-tables-searchbtn");t.onCloseClick(null)}t.isKeyDown=!0}},1e3)},t.prototype.onCloseClick=function(){this.schemaSearch.val("");this.isSearchClose=!0;this.schemaSearch.siblings(".bbi-shared-ds-searchbox-btn").removeClass("bbi-shared-tables-closebtn").addClass("bbi-shared-tables-searchbtn");BoldBIDashboard.isNullOrUndefined(this.ejSchemaTreeForSearch)||(this.ejSchemaTree.option("fields.dataSource",this.ejSchemaTreeForSearch),this.showTreeContainer(!0),this.ejSchemaTreeForSearch=null,this.isSearchClose=!1);this.schemaHeader.find(".bbi-shared-tables-searchbox").removeAttr("readOnly")},t.prototype.onSharedTableSearchClick=function(){var t=this,n;clearTimeout(this.sharedSchemaTimeout);n=this;this.sharedSchemaTimeout=setTimeout(function(){var i=n.sharedSchemaTag.find(".bbi-shared-tables-searchbox");if(i.val().trim().length>0&&i.val().trim()!==t.locale.sharedDSMenu.searchBoxText)n.sharedSchemaTag.find(".bbi-shared-tables-searchbox").attr("readonly","readonly"),i.siblings(".bbi-shared-ds-searchbox-btn").removeClass("bbi-shared-tables-searchbtn").addClass("bbi-shared-tables-closebtn"),n.searchSharedtableData(i.val());else{i.siblings(".bbi-shared-ds-searchbox-btn").addClass("bbi-shared-tables-searchbtn").removeClass("bbi-shared-tables-closebtn");n.onSharedTableCloseClick(null)}},1e3)},t.prototype.onSharedTableCloseClick=function(){var n=this.sharedSchemaTag.find(".bbi-shared-tables-searchbox");n.val("");this.isSharedSearchClose=!0;n.siblings(".bbi-shared-ds-searchbox-btn").addClass("bbi-shared-tables-searchbtn").removeClass("bbi-shared-tables-closebtn");BoldBIDashboard.isNullOrUndefined(this.ejSharedSchemaTreeForSearch)||(this.ejSharedSchemaTree.option("fields.dataSource",""),this.ejSharedSchemaTree.option("fields.dataSource",this.ejSharedSchemaTreeForSearch),this.showSharedTreeContainer(!0),this.ejSharedSchemaTreeForSearch=null,this.isSharedSearchClose=!1);this.sharedSchemaTag.find(".bbi-shared-tables-searchbox").removeAttr("readonly")},t.prototype.onSharedTableSplitterMouseOver=function(){this.collapseIcon.find(".bbi-sharedtable-collapseicon").css("display","block");this.dashboardDesigner.element.find(".bbi-designer-table-schemaarea .e-split-divider.e-v-bar").css("border","1px solid #1E90FF")},t.prototype.onSharedTableSplitterMouseLeave=function(){this.dashboardDesigner.element.find(".bbi-designer-table-schemaarea .e-split-divider.e-v-bar").css("border","1px solid #cecece");this.collapseIcon.removeClass("bbi-sharetables-hideicon").removeClass("bbi-sharetables-visibleicon");this.collapseIcon.find(".bbi-sharedtable-collapseicon").css("display","none")},t.prototype.onSharedTableCollapseIconMouseOver=function(){this.sharedSchemaTag.find(".bbi-shared-tables-content").height()<=0?this.collapseIcon.removeClass("bbi-sharetables-hideicon").addClass("bbi-sharetables-visibleicon"):this.collapseIcon.removeClass("bbi-sharetables-visibleicon").addClass("bbi-sharetables-hideicon")},t.prototype.onSharedTableCollapseIconMouseLeave=function(){this.collapseIcon.removeClass("bbi-sharetables-hideicon").removeClass("bbi-sharetables-visibleicon")},t.prototype.collapseIconClick=function(n){this.sharedSchemaTag.find(".bbi-shared-tables-content").height()<=0?this.sharedTableOpen():this.sharedTableClose();this.onSharedTableCollapseIconMouseOver(n)},t.prototype.sharedTableOpen=function(){this.sharedSchemaTag.find(".bbi-shared-tables-content-wrap").css("display","block");this.setSchemaPaneHeight(!0);this.toggleSharedTable("expand");this.sharedSchemaTag.find(".bbi-shared-tables-header-items").css({display:"block"})},t.prototype.sharedTableClose=function(){this.sharedSchemaTag.BoldBIDashboardWaitingPopup("instance").hide();this.sharedSchemaTag.find(".bbi-shared-tables-content-wrap").css("display","none");this.setSchemaPaneHeight(!1);this.toggleSharedTable("collapse");this.sharedSchemaTag.find(".bbi-shared-tables-header-items").css({display:"none"})},t.prototype.getSharedTableContentHeight=function(n){var i=this.element.height()-this.designToolbar.height(),t=0;return n&&(t=i/2-this.sharedSchemaTag.find(".bbi-shared-tables-header").outerHeight(!0)-30),t},t.prototype.getSchemaTreeBodyHeight=function(n){var t=this.element.height()-this.designToolbar.height(),i=this.schemaHeader.css("display")==="block"?this.schemaHeader.outerHeight(!0):0;return this.connectionInstance.ShouldExtractData||this.isSqlExtractMode()?n?t/2-(i+this.collapseIcon.outerHeight(!0)):t-i-this.collapseIcon.outerHeight(!0)-this.sharedSchemaTag.find(".bbi-shared-tables-header").outerHeight(!0):t-i-2},t.prototype.setSchemaPaneHeight=function(n){var t=this.element.height()-this.designToolbar.height(),i;this.connectionInstance.ShouldExtractData||this.isSqlExtractMode()||this.DatasourceInfo.IsLiveWebMode?n?this.sharedTableSplitter.model.properties[0].paneSize=this.sharedTableSplitter.model.properties[1].paneSize=t/2:(i=t-(this.schemaHeader.outerHeight(!0)+this.collapseIcon.outerHeight(!0)+this.sharedSchemaTag.find(".bbi-shared-tables-header").outerHeight(!0)),this.sharedTableSplitter.model.properties[0].paneSize=this.schemaHeader.outerHeight(!0)+this.collapseIcon.outerHeight(!0)+i,this.sharedTableSplitter.model.properties[1].paneSize=t-this.sharedTableSplitter.model.properties[0].paneSize):this.sharedTableSplitter.model.properties=[{paneSize:"100%",minSize:"180px",expandable:!1,collapsible:!0},{paneSize:"1px",collapsible:!1}];this.schemaAreaPaneSize={firstPaneSize:this.sharedTableSplitter.model.properties[0].paneSize,secondPaneSize:this.sharedTableSplitter.model.properties[1].paneSize}},t.prototype.showTreeContainer=function(n){n?(this.element.find("#"+this.id+"_schema_empty_msg").css("display","none"),this.bodySchemaTag.find(".e-tree-area").css("display","block")):(this.element.find("#"+this.id+"_schema_empty_msg").css("display","table"),this.bodySchemaTag.find(".e-tree-area").css("display","none"))},t.prototype.showSharedTreeContainer=function(n){n?(this.element.find("#"+this.id+"_sharedtable_schema_empty_msg").css("display","none"),this.sharedSchemaTag.find(".bbi-shared-tables-content").css("display","block")):(this.element.find("#"+this.id+"_sharedtable_schema_empty_msg").css("display","table"),this.sharedSchemaTag.find(".bbi-shared-tables-content").css("display","none"))},t.prototype.droptable=function(n,t){var e,u,f,o;this.tableContainer=null;var i=BoldBIDashboard.buildTag("div.e-lv subpage e-"+n.viewType+" bbi-data-table "+BoldBIDashboard.DashboardUtil.escapeSelector("e-"+n.schema+"-"+n.id)+" e-tableName","",{top:t.top,left:t.left,width:"220px",position:"absolute"},{}),r=BoldBIDashboard.buildTag("div.e-header e-box bbi-querydesigner-table-boxshadow","",{display:"flex",height:"30px",background:"white","border-width":"0px"},{}),s=BoldBIDashboard.buildTag("div.e-dbrd-query-select bbi-query-selection bbi-dbrd-designer-hoverable e-designer-select bbi-designer-dataset-column-select","",{float:"left",padding:"4px"},{id:this.id+"_change_container_select_icon_"+n.id}),h=BoldBIDashboard.buildTag("div.bbi-designer-table-close bbi-dbrd-designer-hoverable","",{float:"right"},{"data-tooltip":"Close"}),y=BoldBIDashboard.buildTag("span.e-icon e-close_01 bbi-dbrd-icon-background-theme","",{cursor:"pointer"},{}),p=BoldBIDashboard.buildTag("span.bbi-designer-fontfamily e-tableSpan bbi-dbrd-designer-hoverable"+(BoldBIDashboard.DashboardUtil.textWidth(n.name,"Heebo 600 13px")>(n.viewType==="Stored Procedures"?133:163)?" e-title-tip":""),n.displayName,{float:"left","font-weight":"600","font-size":"13px",padding:"7px 10px 5px 10px",overflow:"hidden","vertical-align":"middle",width:n.viewType==="Stored Procedures"?"110px":"130px","text-overflow":"ellipsis","white-space":"nowrap"},{"data-tooltip":n.name,"data-tableId":n.id});r.append(s);r.append(p);h.append(y);this.IsMergedDatasource()&&!n.isShared&&(e=this.renderSlidedownArrowIcon(),u=this.renderSlidedownContainer());r.append(e,h);var c=BoldBIDashboard.buildTag("div.e-lv e-js e-parentlv bbi-dbrd-designer-scroller bbi-dbrd-control","",{display:"block"},{id:this.id+"_table_"+BoldBIDashboard.DashboardUtil.escapeSelector(n.name)+"_column_container"}),l=BoldBIDashboard.buildTag("div","",{},{}),a=BoldBIDashboard.buildTag("div.bbi-list-container e-js e-widget","",{"border-top-width":"0px",padding:"5px"},{id:this.id+"_table_"+n.name}),v=BoldBIDashboard.buildTag("div","",{height:"1px",border:"0px Solid","border-top-width":"0.5px","border-color":"#bdc3c2",margin:"0px 6px"},{}),w=BoldBIDashboard.buildTag("ul.e-list-hdr e-clearall","",{width:"auto",height:"auto"},{id:this.id+"_check_container_list_box_"+n.id});if(a.append(w),i.append(r),i.append(v),l.append(a),c.append(l),i.append(u,v,c),i.data("e-table",n),s.bind("click",this.bbdesigner$.proxy(this.onCheckChange,this,n.id)),n.viewType==="Stored Procedures"){f=BoldBIDashboard.buildTag("span.e-icon e-settings bbi-dbrd-designer-hoverable","",{padding:"6px 0px 6px 0px","margin-top":"2px","vertical-align":"middle",float:"right"},{"data-tooltip":this.locale.dataSource.setting});r.append(f);f.bind("click",this.bbdesigner$.proxy(this.procSetting,this));o=i.find(".bbi-designer-table-close");o.on("click",this.bbdesigner$.proxy(this.tableClose,this))}else this.dragSurfaceTag.append(i);this.tableContainer=i;this.renderSlidedownListHeader(u,n.isShared)},t.prototype.bindViewSchemaEvents=function(){this.connectionInstance.ShouldExtractData||this.isSqlExtractMode()?(this.bbdesigner$(".bbi-option-view-schema").unbind("click",this.bbdesigner$.proxy(this.renderTreeViewContextMenu,this)),this.bbdesigner$(".e-dbrd-viewschema").unbind("click",this.bbdesigner$.proxy(this.openViewSchemaDialog,this)),this.bbdesigner$(".bbi-option-view-schema").bind("click",this.bbdesigner$.proxy(this.renderTreeViewContextMenu,this)),this.bbdesigner$(".e-dbrd-viewschema").bind("click",this.bbdesigner$.proxy(this.openViewSchemaDialog,this))):this.bbdesigner$(".bbi-option-view-schema").remove()},t.prototype.renderSlidedownArrowIcon=function(){var t=BoldBIDashboard.buildTag("div","",{display:"flex",width:"65px"},{}),i=BoldBIDashboard.buildTag("div.e-column-mapping-setting bbi-dbrd-designer-hoverable","",{float:"right",width:"14px",height:"auto","margin-top":"8px","padding-left":"12px"},{"data-tooltip":"Column Mapping"}),u=BoldBIDashboard.buildTag("span.e-column-mapping-icon-setting bbi-designer-content-icon bbi-designer-selection bbi-dbrd-icon-background-theme","",{},{id:this.id+"_column_mapping_icn_tag"}),n,r;i.append(u);n=BoldBIDashboard.buildTag("div.bbi-mergetable-collapseiconwrap","",{float:"right",width:"14px"});r=BoldBIDashboard.buildTag("span.e-icon icon-arrow_1_down1 e-icon-arrow bbi-dbrd-icon-background-theme","",{cursor:"pointer",width:"6px",height:"8px","padding-top":"5px","padding-left":"4px"},{id:this.id+"_slidedwn_icon_container"});n.append(r);this.element.off("click",".bbi-mergetable-collapseiconwrap",this.bbdesigner$.proxy(this.showSlidedownContainer,this));this.element.on("click",".bbi-mergetable-collapseiconwrap",this.bbdesigner$.proxy(this.showSlidedownContainer,this));return t.append(n).append(i),t},t.prototype.showSlidedownContainer=function(){var t=this.dragSurfaceTag.find("#"+this.id+"_slidedwn_icon_container"),i=this.dragSurfaceTag.find("#"+this.id+"_slidedwn_ul_tag"),n,r,u;i.show();n=this.dragSurfaceTag.find("#"+this.id+"_table_column_container");t.hasClass("icon-arrow_1_down1")?(t.addClass("icon-arrow_1_up1").removeClass("icon-arrow_1_down1"),r=i.children().length,u=this.getMergeTableContainerHeight(r),r<5?(n.removeClass("e-lv e-js e-parentlv bbi-dbrd-designer-scroller bbi-dbrd-control e-scroller e-widget bbi-dbrd-designer-scroll-style-3"),n.css("height",u)):(n.addClass("e-lv e-js e-parentlv bbi-dbrd-designer-scroller bbi-dbrd-control e-scroller e-widget bbi-dbrd-designer-scroll-style-3"),n.BoldBIDashboardScroller({scrollerSize:this.dashboardDesigner.scrollerSize.scrollSize,enableTouchScroll:!0,autoHide:!1,height:"140px",buttonSize:this.dashboardDesigner.scrollerSize.buttonSize}).data("BoldBIDashboardScroller"),i.css({height:"140px"}))):t.hasClass("icon-arrow_1_up1")&&(t.addClass("icon-arrow_1_down1").removeClass("icon-arrow_1_up1"),n.css("height","0px"));this.hideDeleteButton();n.addClass("bbi-mergetable-expandable")},t.prototype.hideDeleteButton=function(){var n=this.dragSurfaceTag.find("#"+this.id+"_delete_icon_"+this.getMergedTableInfo(this.mergedTableList,0).Id);n.removeClass("e-cross-circle")},t.prototype.renderSlidedownContainer=function(){return BoldBIDashboard.buildTag("div.e-merge-table-column-container","",{"margin-top":"2px","vertical-align":"middle",height:"0px"},{id:this.id+"_table_column_container"})},t.prototype.getMergeTableContainerHeight=function(n){return n*35+"px"},t.prototype.renderSlidedownListHeader=function(n,t){var i,r;this.IsMergedDatasource()&&!t&&(i=[],this.mergedTableList.forEach(function(n){i.push({tableName:n.Name,tableId:n.Id,tableSchema:n.Schema})}),r=BoldBIDashboard.buildTag("div.e-mergetable-ulcontainer-hdr","",{width:"218px",height:"auto","list-style":"none",display:"none"},{id:this.id+"_slidedwn_ul_tag"}),n.append(r),this.renderSlidedownList(r,i))},t.prototype.insertTableIntoSlider=function(n){var t;BoldBIDashboard.DashboardUtil.buttonEnable(this.btnUpdateTag,!0);var r=this.dragSurfaceTag.find("#"+this.id+"_slidedwn_ul_tag"),i=[],u={Schema:n.schema,IsView:n.viewType,Name:n.name,Id:n.id,DisplayName:n.diaplayName,IsShared:n.isShared};this.bbdesigner$(".e-icon.e-close_01").addClass("e-close-disable").css({cursor:"default",opacity:"0.3"});t=this.dragSurfaceTag.find("#"+this.id+"_slidedwn_icon_container");t.hasClass("icon-arrow_1_up1")&&this.showSlidedownContainer();i.push({tableName:n.name,tableId:n.id,tableSchema:n.schema});this.tableItems[n.id]=!1;this.mergedTableList.push(u);this.renderSlidedownList(r,i);this.dashboardDesigner.modules.util.alertDialog(this.locale.mergedDataSource.configureMessage,this.locale.mergedDataSource.tableAdded,IconType.success,AlertType.Alert,!1,"")},t.prototype.uncheckSharedTable=function(n){var t={};this.mergedTableList.forEach(function(i){i.Id===n&&(t={name:i.Name,schema:i.Schema,displayName:i.DisplayName,id:i.Id,viewType:i.IsView})});this.nodeTableRemover(t)},t.prototype.renderSlidedownList=function(n,t){var i=this,r=n.children().length>0?this.getTableNameFromUI(t,n):this.getTableNameFromList(t);t.forEach(function(t,u){var f=BoldBIDashboard.buildTag("div.bbi-mergetable-list-value","",{width:"auto",height:"auto",padding:"3px 6px 3px 3px","font-size":"12px",cursor:"pointer","margin-left":"8px","padding-right":"9px"},{id:i.id+"_slidedwn_li_tag_"+t.tableSchema+"_"+t.tableName});f.data("e-table",t.tableId);var o=BoldBIDashboard.buildTag("div.e-li-div-container bbi-mergetable-li-container","",{width:"auto",height:"25px",display:"flex","flex-direction":"row","justify-content":"space-between","padding-right":"3px"},{id:i.id+"_li_container"}),s=BoldBIDashboard.buildTag("div.e-li-name-container","",{width:"auto",height:"25px","line-height":"25px",float:"left","padding-left":"3px",overflow:"hidden","text-overflow":"ellipsis"},{id:i.id+"li_name_container","data-tableName":t.tableName,"data-tooltip":t.tableName}).text(r[u]),e=BoldBIDashboard.buildTag("div.e-chk-image e-icon e-cross-circle","",{"padding-top":"6px"},{id:i.id+"_delete_icon_"+t.tableId});e.off("click",i.bbdesigner$.proxy(i.deleteTableConfirmationDialog,i,f,t.tableId));e.on("click",i.bbdesigner$.proxy(i.deleteTableConfirmationDialog,i,f,t.tableId));o.append(s).append(e);f.append(o);n.append(f);f.bind(BoldBIDashboard.DashboardUtil.MouseEvent.mouseOver,i.bbdesigner$.proxy(i.deleteMouseOver,i,e));f.bind(BoldBIDashboard.DashboardUtil.MouseEvent.mouseLeave,i.bbdesigner$.proxy(i.deleteMouseLeave,i,e))})},t.prototype.getTableNameFromList=function(n){var t=[];return n.forEach(function(n){t.push(n.tableName)}),this.getTableName(t,!1)},t.prototype.getTableNameFromUI=function(n,t){for(var u=t.find(".e-li-name-container"),i=[],r=0;r<u.length;r++)i.push(this.bbdesigner$(u[r]).attr("data-tableName"));return i.push(n[0].tableName),this.getTableName(i,!0)},t.prototype.getTableName=function(n,t){var i=this.bbdesigner$.extend([],!0,n);return n.forEach(function(t,r){for(var f=1,u=r+1;u<n.length;u++)t===i[u]&&(i[u]=i[u]+" ("+f+")",f++)}),t?[i[n.length-1]]:i},t.prototype.getSelectedItems=function(n){var t=this;this.tableItems={};this.mergedTableList.forEach(function(i){t.tableItems[i.Id]=i.Id===n?!1:!0})},t.prototype.deleteTableConfirmationDialog=function(n,t,i){if(this.bbdesigner$(i.currentTarget).hasClass("e-cross-circle")){var r=n.data().eTable,u,f;this.mergedTableList.forEach(function(n){n.Id===r&&(u=n.Name,f=n.Schema)});this.getSelectedItems(r);this.dashboardDesigner.modules.util.alertDialog(this.locale.alertDialogTitle.RemoveTable,this.locale.alertWindowMesages.removeTableFromMergedDsMessage,IconType.warning,AlertType.Confirm,!1,"",{height:140,width:500,method:"updateDeleteInfo",dataInfo:{tableId:r,tableName:u,schemaName:f,selectedItems:this.tableItems,listElement:n},instance:this})}},t.prototype.updateDeleteInfo=function(n,t){n&&this.dashboardDesigner.modules.util.doAjaxPost("POST",this.model.serviceUrl+BoldBIDashboard.Dashboard.ServiceAPI.processdata,{action:BoldBIDashboard.DashboardUtil.DesignerAction.GetChildList,data:JSON.stringify({className:BoldBIDashboard.DashboardUtil.DesignerAction.DataDesignViewAction,designerAction:BoldBIDashboard.DashboardUtil.DesignerAction.executeQuery,dataSetName:this.dataset.Name,dataSetId:this.dataset.Id,tableName:t.tableName,tableId:t.tableId,tableSchema:t.schemaName,selectedItem:t.selectedItems,joinInfo:[],action:"close",isQueryDesignerMode:this.dashboardDesigner.isQueryDesignerMode})},{indicator:[this.bbdesigner$.proxy(this.showDragSurfaceLoader,this),this.bbdesigner$.proxy(this.hideDragSurfaceLoader,this)],fnction:this.bbdesigner$.proxy(this.removeTableFromSlider,this,t)})},t.prototype.removeTableFromSlider=function(n,t){BoldBIDashboard.isNullOrUndefined(t)||t.HasError||this.updateTableFromMergedDs();var i=this.dragSurfaceTag.find("#"+this.id+"_slidedwn_ul_tag"),r=i.children().length;n.listElement.remove();this.setContainerHeight(r);this.uncheckSharedTable(n.tableId);this.showSlidedownContainer()},t.prototype.updateTableFromMergedDs=function(){this.previewSwitcherChkBxTag.is(":checked")&&this.IsMergedDatasource()&&this.updatePreviewGrid()},t.prototype.setContainerHeight=function(n){var t=this.tableContainer.find("#"+this.id+"_table_column_container"),i=this.getMergeTableContainerHeight(n);t.css({height:i})},t.prototype.deleteMouseOver=function(n){n.css({display:"inline-block"})},t.prototype.deleteMouseLeave=function(n){n.css("display","none")},t.prototype.onCheckChange=function(n,t){var i=this.bbdesigner$(t.target),f=BoldBIDashboard.Dashboard.ConnectionHelper.isHierarchicalConnection(this.connectionInstance),e=f?i.parent().siblings():this.bbdesigner$("#"+this.id+"_check_container_list_box_"+n),r=f?e.find(".bbi-query-selection"):e.find("li a span:first-child"),o=f?e.find(".bbi-text-content"):e.find("li .e-list-text,li .bbi-query-datatype"),s=i.hasClass("bbi-designer-dataset-column-deselect")?"bbi-designer-dataset-column-select":"bbi-designer-dataset-column-deselect",h=i.hasClass("bbi-designer-dataset-column-deselect")?"bbi-designer-dataset-column-deselect":"bbi-designer-dataset-column-select",c=i.hasClass("bbi-designer-dataset-column-deselect")?this.locale.queryDesigner.showDataTooltip:this.locale.queryDesigner.hideDataTooltip,l=i.hasClass("bbi-designer-dataset-column-deselect")?"inline-block":"none",a=i.hasClass("bbi-designer-dataset-column-deselect")?"1":"0.5",u;if(r.addClass(s+" bbi-dbrd-designer-hoverable").removeClass(h).attr("data-tooltip",c),i.addClass(s+" bbi-dbrd-designer-hoverable").removeClass(h),r.siblings(".bbi-designer-selection.e-settings").length>0)r.siblings(".bbi-table-user-selection-active.bbi-designer-selection.e-settings").css("display",l),o.css("opacity",a);else if(f)for(u=0;u<o.length;u++)i.hasClass("bbi-designer-dataset-column-deselect")?this.bbdesigner$(o[u]).addClass("deselect"):this.bbdesigner$(o[u]).removeClass("deselect");else i.hasClass("bbi-designer-dataset-column-deselect")?r.find(".bbi-text-content").addClass("deselect"):r.find(".bbi-text-content").removeClass("deselect");this.postColumnUpdate(t,"",null,ColumnActions.visibility)},t.prototype.renderTable=function(n,t,i,r,u){var ht=this,k=0,a=null,o=null,s=null,w=BoldBIDashboard.Dashboard.ConnectionHelper.isHierarchicalConnection(this.connectionInstance),ct=this.dragSurfaceTag.find("div.e-lv.subpage"),f=this.dragSurfaceTag.find("div.e-lv.subpage."+BoldBIDashboard.DashboardUtil.escapeSelector("e-"+n.schema+"-"+n.id)),c,b,tt,d,l,it,v,g,nt,e,rt,ut,ft,y,p,et,ot;if(ct.length>0?o=f.find(".e-list-hdr.e-clearall"):(o=this.tableContainer.find(".e-list-hdr.e-clearall"),n.viewType==="Stored Procedures"&&(f=this.tableContainer)),this.columnList.length>0)for(e=0;e<this.columnList.length;e++)if(this.tableList[e]===n.id){a=this.columnList[e];break}if(n.viewType!=="Stored Procedures"&&BoldBIDashboard.isNullOrUndefined(a))return!1;if(c=f.find(".e-lv.e-js.e-parentlv.bbi-dbrd-designer-scroller.bbi-dbrd-control"),c.addClass("bbi-dbrd-designer-scroll-style-3"),f.removeClass("e-heirarchial-table"),w)b=new BoldBIDashboard.Dashboard.HierachialModel,b.ShowVisibility=!0,b.ShowSettings=!0,tt=new BoldBIDashboard.Dashboard.HierachicalSchemaView(this.dashboardDesigner,b),d=o.parent(),d.empty(),l=BoldBIDashboard.buildTag("div.bbi-dbrd-treeview","",{},{}),d.append(l),it=this.DatasourceInfo.ConnectionProperties.DataProvider.toUpperCase()==="SSAS",tt.render(l,a[n.displayName],c,this.id,!0,it),this.commandMode=CommandMode.Text,this.enableToolbarItems(!0),this.enableEditConnection(!0),f.addClass("e-heirarchial-table"),f.css({top:t.top,left:t.left,"min-width":"220px","min-height":"162px",width:"auto",height:"auto",position:"absolute"}),v=f.find(".e-dbrd-query-select"),l.find(".bbi-query-selection").filter("[data-tooltip = "+this.locale.queryDesigner.showDataTooltip+"]").length===0?v.addClass("bbi-designer-dataset-column-deselect bbi-dbrd-designer-hoverable").removeClass("bbi-designer-dataset-column-select"):l.find(".bbi-query-selection").filter("[data-tooltip = "+this.locale.queryDesigner.hideDataTooltip+"]").length===0&&v.addClass("bbi-designer-dataset-column-select bbi-dbrd-designer-hoverable").removeClass("bbi-designer-dataset-column-deselect"),v.hasClass("bbi-designer-dataset-column-deselect")&&l.find(".bbi-text-content").addClass("deselect");else{if(n.viewType==="Stored Procedures"){for(this.element.find("#"+this.id+"_div_dragSurface .e-Stored.Procedures").length===0&&this.dragSurfaceTag.append(this.tableContainer),g=i.length>9?103:113,k=i.length,o.find("li").length!==0&&o.empty(),e=0;e<i.length;e++)nt=this.getColumnTag(i[e],g),nt.attr("datatype",i[e].DataType),o.append(nt);this.commandMode=CommandMode.Procedure}else{var lt=Object.keys(a).shift(),h=a[lt],g=h.length>9?103:113,st="";for(k=h.length,e=0;e<h.length;e++)h[e].Name=this.isExistColName(h[e].Name)?h[e].Name+" ("+n.displayName+")":h[e].Name,st+=this.getColumnHtml(h[e],n,r,u,g);o.html(st);this.commandMode=CommandMode.Text}o.find("li .bbi-designer-dataset-column-deselect").siblings("li .e-list-text,li .bbi-query-datatype").css("opacity","0.5");o.find("li .bbi-designer-dataset-column-select").siblings("li .e-list-text,li .bbi-query-datatype").css("opacity","1");var v=o.parent().closest(".bbi-data-table").find(".e-dbrd-query-select"),at=o.find("li span").filter("[data-tooltip = Show]").length===0?"bbi-designer-dataset-column-deselect":"bbi-designer-dataset-column-select",vt=o.find("li span").filter("[data-tooltip = Show]").length===0?"bbi-designer-dataset-column-select":"bbi-designer-dataset-column-deselect";v.addClass(at+" bbi-dbrd-designer-hoverable").removeClass(vt);s=f.find("li");s.bind(BoldBIDashboard.isTouchDevice()?"doubletap":"dblclick",this.bbdesigner$.proxy(this.editColumnName,this));this.bbdesigner$(s[0]).addClass("bbi-table-user-selection-active");this.bbdesigner$(s[0]).find("span").addClass("bbi-table-user-selection-active");this.bbdesigner$(s[0]).find(".bbi-designer-dataset-column-deselect").length===0?this.bbdesigner$(s[0]).find(".e-settings").css("display","inline-block"):this.bbdesigner$(s[0]).find(".e-settings").css("display","none");s.bind(BoldBIDashboard.isTouchDevice()?"doubletap":"dblclick",this.bbdesigner$.proxy(this.editColumnName,this));s.bind(BoldBIDashboard.DashboardUtil.MouseEvent.mouseOver,this.bbdesigner$.proxy(this.enableTableSettings,this));s.bind(BoldBIDashboard.DashboardUtil.MouseEvent.mouseLeave,this.bbdesigner$.proxy(this.disableTableSettings,this));f.find("li .e-edit-column").bind("blur",this.bbdesigner$.proxy(this.editColumnBlur,this));f.find("li .e-edit-column").bind("keypress",this.bbdesigner$.proxy(this.editColumnKeyPress,this))}o.parent(".bbi-list-container").find(".bbi-designer-content-icon.bbi-designer-selection.e-settings.bbi-designer-click.bbi-dbrd-designer-hoverable").bind("click",this.bbdesigner$.proxy(this.showSettingsMenu,this));o.parent(".bbi-list-container").find(".e-user-select.bbi-designer-dataset-column").bind(BoldBIDashboard.DashboardUtil.MouseEvent.mouseUp,this.bbdesigner$.proxy(this.onListItemMouseUp,this));f.off("click","li .e-designer-select",this.bbdesigner$.proxy(this.onColumnClick,this));f.on("click","li .e-designer-select",this.bbdesigner$.proxy(this.onColumnClick,this));return rt=f.find(".bbi-designer-table-close"),rt.bind("click",this.bbdesigner$.proxy(this.tableClose,this)),f.find(".e-header.e-box.bbi-querydesigner-table-boxshadow").bind(BoldBIDashboard.DashboardUtil.MouseEvent.mouseDown,this.bbdesigner$.proxy(this.dragSurfaceStart,this)),this.updateToolbarItems(),this.showTableHint(!0),n.viewType==="Stored Procedures"&&(r=!0),r||w||this.IsMergedDatasource()||this.joinQueryTable(f),w&&(this.isNewTableAdded=!1),this.IsMergedDatasource()?(this.element.find(".bbi-designer-table-close").remove(),this.element.find("#"+this.id+"_div_bodySchema").addClass("bbi-cursornotallowed").addClass("e-disable"),BoldBIDashboard.DashboardUtil.buttonEnable(this.btnUpdateTag,!0),this.executeUIQuery(n),this.mergedTableList.forEach(function(n){var t={schema:n.Schema,viewType:n.IsView?"Views":"Tables",name:n.Name,displayName:BoldBIDashboard.isNullOrUndefined(n.DisplayName)?n.Name:n.DisplayName,id:n.Id,isShared:n.IsShared,sourceId:n.SourceId};ht.nodeTableSelector(t)})):this.nodeTableSelector(n),n.isShared&&this.bbdesigner$(".e-icon.e-close_01").removeClass("e-close-disable").css({cursor:"pointer",opacity:"1"}),c.BoldBIDashboardScroller({scrollerSize:this.dashboardDesigner.scrollerSize.scrollSize,enableTouchScroll:!0,autoHide:!0,height:k>9?"280px":"auto",buttonSize:this.dashboardDesigner.scrollerSize.buttonSize}),w&&(ut=c.data("BoldBIDashboardScroller"),ut.setModel({height:"280px",width:"265px"})),ft=f.find(".bbi-list-container.e-js.e-widget"),c.bind("keydown",this.bbdesigner$.proxy(this.listKeyDown,this,ft)),y=this.element.find("#"+this.id+"_div_queryDesigner"),p={right:t.left+f.width(),bottom:t.top+f.height()},p.right>y.width()+this.dragSurfaceTag.scrollLeft()&&(et=p.right-(y.width()+this.dragSurfaceTag.scrollLeft()),this.dragSurfaceTag.scrollLeft(this.dragSurfaceTag.scrollLeft()+et)),p.bottom>y.height()+this.dragSurfaceTag.scrollTop()&&(ot=p.bottom-(y.height()+this.dragSurfaceTag.scrollTop()),this.dragSurfaceTag.scrollTop(this.dragSurfaceTag.scrollTop()+ot)),!0},t.prototype.heirarchialSettings=function(n){var f,e;this.argument=n;var t=this.bbdesigner$(n.target),o=t.offset(),i=this.tableMenuUlTag.data("BoldBIDashboardMenu"),r=i._targetEjElement=t.closest("li"),s=r.find("span").closest(".e-user-select").attr("datatype"),u=r.find("span").closest(".e-user-select").attr("e-column-type");this.tableMenuUlTag.find("#"+this.id+"_rename_field_li").hide();this.tableMenuUlTag.find("#"+this.id+"_fiscal_year_start_li").hide();this.tableMenuUlTag.find("#"+this.id+"_Number").hide();this.updateColType(this.tableMenuUlTag,i,r.find("span").closest(".e-user-select"),u,!1);this.isNumberType(s)?this.tableMenuUlTag.find(".e-commonType").css("display","block"):(this.tableMenuUlTag.find(".e-commonType:not(.e-string)").css("display","none"),this.tableMenuUlTag.find(".e-string").css("display","block"));this.tableMenuUlTag.find(".e-chk-image").css("display","none");this.bbdesigner$("#"+this.id+"_field_"+this.bbdesigner$(i._targetEjElement).attr("e-data-aggregate")).css("display","block");f=this.tableMenuUlTag.find("#"+this.id+"_Default").attr("data-default");e=this.isDefault(u)?"Default":this.getTypeText(u,f);this.tableMenuUlTag.find("#"+this.id+"_"+e+"_tick").css("display","block");i.show(o.left-this.bbdesigner$(this.tableMenuUlTag).width(),o.top+t.height(),t,{})},t.prototype.getColumnHtml=function(n,t,i,r,u){var e=n,f=e.Name,c=e.DataType,o=f,s=BoldBIDashboard.DashboardUtil.escapeSelector(f),l=s,a=BoldBIDashboard.DashboardUtil.escapeSelector(o),v=!1,y=BoldBIDashboard.DashboardUtil.getDataTypeStyle(e),h="bbi-designer-dataset-column-select",p=this.isExistColName(f)?t.displayName:null;p&&(o=f+" ("+p+")",l=BoldBIDashboard.DashboardUtil.escapeSelector(o),v=!0);(c==="UnSupport"||this.isColumnDragged&&this.draggedColumnName!==f)&&(h="bbi-designer-dataset-column-deselect");i&&r&&r[f]&&(r[f].IsDuplicate===!0||typeof r[f].IsDuplicate=="string"&&r[f].IsDuplicate.toLowerCase()==="true"?(o=f+" ("+r[f].AliasName+")",v=!0):r[f].AliasName&&(o=r[f].AliasName),r[f]&&(r[f].IsSelected===!1||typeof r[f].IsSelected=="string"&&r[f].IsSelected.toLowerCase()==="false")?h="bbi-designer-dataset-column-deselect":BoldBIDashboard.isNullOrUndefined(e)||BoldBIDashboard.isNullOrUndefined(e.IsVisible)||e.IsVisible!==!1&&(typeof e.IsVisible!="string"||e.IsVisible.toLowerCase()!=="false")||(h="bbi-designer-dataset-column-deselect"),r[f]&&r[f].TypeCast&&(y=BoldBIDashboard.DashboardUtil.getDataTypeStyle(e,r[f].TypeCast)));var w=c==="UnSupport"?this.locale.errorMessage.dataTypeUnsupportedInfo:h==="bbi-designer-dataset-column-select"?"Show":"Hide",b=v?"true":"false",k=c==="UnSupport"?"":" e-designer-select";return'<li class="e-user-select e-list e-list-check bbi-designer-dataset-column" id="'+this.id+"_li_"+l+'" name="'+f+'" aliasname="'+a+'" datatype="'+c+'" style="padding: 0px 8px;"><a class="e-chevron-right_01 bbi-remove-shadow" style="padding: 3.5px 0px;"><span class="bbi-query-selection bbi-dbrd-designer-hoverable '+h+k+'" id="'+this.id+"_"+l+'" name="'+f+'" aliasname="'+a+'" data-tooltip="'+w+'" style="display: block; float: left; padding: 2px;"><\/span><span class="bbi-query-datatype '+y+'" id="'+this.id+"_type_"+s+'" style="display: block; float: left; padding: 0px 10px 1px 7px; margin-top: 1px;"><\/span><span class="e-list-text e-rel e-user-select bbi-designer-fontfamily bbi-dbrd-designer-hoverable" name="'+f+'" id="'+this.id+"_txtSpan_"+BoldBIDashboard.DashboardUtil.escapeSelector(s)+BoldBIDashboard.DashboardUtil.escapeSelector(t.displayName)+'" isduplicate="'+b+'" data-tooltip="'+o+'" aliasname="'+a+'" style="width: '+u+'px; text-overflow: ellipsis; overflow: hidden; display: inline-block; margin-top: 3px; white-space: nowrap; font-size: 12px; margin-left: 1px;">'+o+'<\/span><input class="e-textbox e-edit-column bbi-designer-fontfamily" litag="'+this.id+"_txtSpan_"+BoldBIDashboard.DashboardUtil.escapeSelector(s)+BoldBIDashboard.DashboardUtil.escapeSelector(t.displayName)+'" type="text" id="'+this.id+"_txtEdit_"+s+'" style="width: '+(u-18)+'px; height: 16px; line-height: normal; margin-top: 1px; display: none; border-radius: 2px; font-size: 12px;"><span class="bbi-designer-content-icon bbi-designer-selection e-settings bbi-designer-click bbi-dbrd-designer-hoverable" id="'+this.id+"_edit_"+s+'" e-target="e-aggr-menu" data-tooltip="Options" style="display: none; margin-top: 3.5px; width: 20px; float: right; margin-right: -3px;"><\/span><\/a><\/li>'},t.prototype.getColumnList=function(n){var i=null,t;if(this.columnList.length>0)for(t=0;t<this.columnList.length;t++)if(this.tableList[t]===n.id){i=this.columnList[t];break}return i},t.prototype.showDragSurfaceLoader=function(){this.dragSurfaceTag.BoldBIDashboardWaitingPopup("instance").show();this.ejQueryTool.disableItemByID(this.id+"_dataset_tool_parameter");this.checkForPopUpOpen()},t.prototype.hideDragSurfaceLoader=function(){this.dragSurfaceTag.BoldBIDashboardWaitingPopup("instance").hide();this.updateParamIconVisibility()},t.prototype.getColumnToRenderTable=function(n,t,i,r,u){this.tableList.indexOf(n.id)===-1?this.dashboardDesigner.modules.util.doAjaxPost("POST",this.model.serviceUrl+BoldBIDashboard.Dashboard.ServiceAPI.processdata,{action:n.schema==="Cubes"?BoldBIDashboard.DashboardUtil.DesignerAction.getCubeList:BoldBIDashboard.DashboardUtil.DesignerAction.GetChildList,data:JSON.stringify({className:BoldBIDashboard.DashboardUtil.DesignerAction.DataDesignViewAction,designerAction:n.schema==="Cubes"?BoldBIDashboard.DashboardUtil.DesignerAction.getCubeList:BoldBIDashboard.DashboardUtil.DesignerAction.GetChildList,dataSetName:this.dataset.Name,dataSetId:this.dataset.Id,tableName:n.name,categoryName:"Columns",schemaName:n.schema,viewType:n.viewType,tableId:n.id,isQueryDesignerMode:this.dashboardDesigner.isQueryDesignerMode,isShared:n.isShared,sourceId:n.sourceId,isLiveWebMode:this.DatasourceInfo.IsLiveWebMode})},{fnction:this.bbdesigner$.proxy(this.columnData,this,n,t,i,r,u),indicator:[this.bbdesigner$.proxy(this.showDragSurfaceLoader,this),this.bbdesigner$.proxy(this.hideDragSurfaceLoader,this)]}):this.columnData(n,t,i,r,u,null,!0)},t.prototype.getTablelength=function(n){return!BoldBIDashboard.isNullOrUndefined(n)&&!BoldBIDashboard.isNullOrUndefined(n.Tables)?this.IsMergedDatasource()?1:n.Tables.length:0},t.prototype.columnData=function(n,t,i,r,u,f,e){var h,o,c,s;(BoldBIDashboard.isNullOrUndefined(e)||e===!1)&&(this.IsMergedDatasource()&&(this.columnList=[],this.tableList=[]),this.columnList.push(JSON.parse(f.tableData)),this.tableList.push(f.tableName));BoldBIDashboard.isNullOrUndefined(f)||BoldBIDashboard.isNullOrUndefined(f.type)||(this.dataset.TreeViewData=f.TreeViewData,this.tableType=JSON.parse(f.type));h=BoldBIDashboard.isNullOrUndefined(u)?null:u.Query.QueryDesignerState;BoldBIDashboard.isNullOrUndefined(h)||(BoldBIDashboard.isNullOrUndefined(h.Tables)||this.columnList.length!==this.getTablelength(h))&&!h.StoredProcedure?r||(n.viewType==="Stored Procedures"?(o=this.dashboardDesigner.modules.storeParameter,c=BoldBIDashboard.isNullOrUndefined(this.DatasourceInfo.ProviderType)?this.DatasourceInfo.ConnectionProperties.DataProvider:this.DatasourceInfo.ProviderType,this.procedureObj={tableData:n,xy:t},o.renderProcParameters(n,i)?(this.showLoadMoreOpt(!1),s=null,BoldBIDashboard.isNullOrUndefined(i)||(s=i.Parameters),s&&s.length>0?(o.updatedParameters=this.bbdesigner$.extend([],!0,s),o.setParameter(s),this.loadProcedureSchema(i)):(o.updatedParameters=[],o.showParameterDialog())):BoldBIDashboard.isNullOrUndefined(i)&&c==="SQL"?o.showParameterDialog():this.loadProcedureSchema(i),c!=="SQL"?o.hideStoreProcedureConnectTypes():o.showStoreProcedureConnectTypes(),this.executeUIQuery()):this.renderTable(n,t,null,!1,null)):this.populateDesignerState(u)},t.prototype.getTblSel=function(n,t){return".e-"+BoldBIDashboard.DashboardUtil.escapeSelector(n+"-"+t)},t.prototype.getColumnTag=function(n,t,i,r){var u=n.Name,f=BoldBIDashboard.DashboardUtil.escapeSelector(n.Name),o=!1,h,e="bbi-designer-dataset-column-select";i?(u=n.Name+" ("+i+")",o=!0):r&&(r.IsDuplicate===!0||typeof r.IsDuplicate=="string"&&r.IsDuplicate.toLowerCase()==="true")?(u=n.Name+" ("+r.AliasName+")",o=!0):r&&r.AliasName&&(u=r.AliasName);r&&(r.IsSelected===!1||typeof r.IsSelected=="string"&&r.IsSelected.toLowerCase()==="false")||n.DataType==="UnSupport"?e="bbi-designer-dataset-column-deselect":BoldBIDashboard.isNullOrUndefined(n)||BoldBIDashboard.isNullOrUndefined(n.IsVisible)||n.IsVisible!==!1&&(typeof n.IsVisible!="string"||n.IsVisible.toLowerCase()!=="false")||(e="bbi-designer-dataset-column-deselect");h=r&&r.TypeCast?BoldBIDashboard.DashboardUtil.getDataTypeStyle(n,r.TypeCast):BoldBIDashboard.DashboardUtil.getDataTypeStyle(n);var s=BoldBIDashboard.buildTag("li.e-user-select e-list e-list-check bbi-designer-dataset-column","",{padding:"0 8px"},{id:this.id+"_li_"+f,name:n.Name,aliasName:BoldBIDashboard.DashboardUtil.escapeSelector(u)}),c=BoldBIDashboard.buildTag("a.e-chevron-right_01 bbi-remove-shadow","",{padding:"3.5px 0"}),a=BoldBIDashboard.buildTag("span.e-list-text e-rel e-user-select bbi-designer-fontfamily bbi-dbrd-designer-hoverable"+(BoldBIDashboard.DashboardUtil.textWidth(u,"12px Heebo")>=t?" e-title-tip":""),u,{width:t,"text-overflow":"ellipsis",overflow:"hidden",display:"inline-block","margin-top":"3px","white-space":"nowrap","font-size":"12px","margin-left":"1px"},{name:n.Name,id:this.id+"_txtSpan_"+f,isDuplicate:o?"true":"false","data-tooltip":u,aliasName:BoldBIDashboard.DashboardUtil.escapeSelector(u)}),v=BoldBIDashboard.buildTag("input.e-textbox e-edit-column bbi-designer-fontfamily","",{width:t-18,height:"16px","line-height":"normal","margin-top":"1px",display:"none","border-radius":"2px","font-size":"12px"},{liTag:this.id+"_txtSpan_"+f,type:"text",id:this.id+"_txtEdit_"+f}),l=BoldBIDashboard.buildTag("span.bbi-designer-content-icon bbi-designer-selection e-settings bbi-designer-click bbi-dbrd-designer-hoverable","",{display:"none","margin-top":"3.5px",width:"20px",float:"right","margin-right":"-3px"},{id:this.id+"_edit_"+f,"e-target":"e-aggr-menu","data-tooltip":this.locale.propertyPanel.columnSettings.kpiColumns.optionsTooltip}),y=n.DataType==="UnSupport"?"":" e-designer-select",p=BoldBIDashboard.buildTag("span.bbi-query-selection bbi-dbrd-designer-hoverable "+e+y,"",{display:"block",float:"left",padding:"2px"},{id:this.id+"_"+f,name:n.Name,aliasName:BoldBIDashboard.DashboardUtil.escapeSelector(u),"data-tooltip":n.DataType==="UnSupport"?this.locale.errorMessage.dataTypeUnsupportedInfo:e==="bbi-designer-dataset-column-select"?"Show":"Hide"}),w=BoldBIDashboard.buildTag("span.bbi-query-datatype "+h,"",{display:"block",float:"left",padding:"0px 10px 1px 7px","margin-top":"1px"},{id:this.id+"_type_"+f});return c.append(p).append(w).append(a).append(v).append(l),l.bind("click",this.bbdesigner$.proxy(this.showSettingsMenu,this)),s.bind(BoldBIDashboard.DashboardUtil.MouseEvent.mouseUp,this.bbdesigner$.proxy(this.onListItemMouseUp,this)),s.append(c),s},t.prototype.renderProcedure=function(n,t){var u=this.storedParameter.getProcParams(),i,r;this.storedParameter.updatedParameters=this.bbdesigner$.extend([],!0,u);this.dashboardDesigner.element.find("#"+this.id+"_queryDesigner_parameter_dialog").data("BoldBIDashboardDialog").close();t&&t.type?(this.tableType=JSON.parse(t.type),i=JSON.parse(t.spType),this.showPreviewIndicator(),this.renderTable(this.procedureObj.tableData,this.procedureObj.xy,i),BoldBIDashboard.isNullOrUndefined(n)||(r=this.dragSurfaceTag.find(this.getTblSel(n.Schema,n.Name)),this.setIconType(n.Columns,r)),this.previewData(t),this.hidePreviewIndicator()):t&&t.indexOf("Sf_Exception")!==-1&&this.dashboardDesigner.modules.util.alertDialog(this.locale.alertDialogTitle.dataSet,this.locale.errorMessage.failedToRetrieveDataSetTable,IconType.errors,AlertType.Alert,!0,t,{height:200})},t.prototype.renderTableElement=function(n,t,i,r){this.IsMergedDatasource()&&n.isShared?this.executeUIQuery(n):(this.droptable(n,t),r||this.dragging.remove(),this.getColumnToRenderTable(n,t,i,!1,null))},t.prototype.encrptDataSourceInfo=function(n){var t=this.bbdesigner$.extend(!0,{},n);return t.ConnectionProperties&&(t.ConnectionProperties.ConnectString=BoldBIDashboard.DashboardUtil.encryptData(t.ConnectionProperties.ConnectString),t.ConnectionProperties.UserName&&(t.ConnectionProperties.UserName=BoldBIDashboard.DashboardUtil.encryptData(t.ConnectionProperties.UserName)),t.ConnectionProperties.PassWord&&(t.ConnectionProperties.PassWord=BoldBIDashboard.DashboardUtil.encryptData(t.ConnectionProperties.PassWord))),t},t.prototype.loadProcedureSchema=function(n){var t=this.procedureObj.tableData,i=this.dataset.Name,r=t.name,u=t.schema,f=t.id;this.isEditMode?(this.dashboardDesigner.modules.util.doAjaxPost("POST",this.model.serviceUrl+BoldBIDashboard.Dashboard.ServiceAPI.processdata,{action:BoldBIDashboard.DashboardUtil.DesignerAction.editDataSet,data:JSON.stringify({className:BoldBIDashboard.DashboardUtil.DesignerAction.DataSetAction,designerAction:BoldBIDashboard.DashboardUtil.DesignerAction.editDataSet,dataSetName:i,dataSetId:this.dataset.Id,isQueryDesignerMode:this.dashboardDesigner.isQueryDesignerMode})},{fnction:this.bbdesigner$.proxy(this.renderProcedure,this,n),indicator:[this.bbdesigner$.proxy(this.showDragIndicator,this),this.bbdesigner$.proxy(this.hideDragIndicator,this)]}),this.isEditMode=!1):(this.dashboardDesigner.modules.util.doAjaxPost("POST",this.model.serviceUrl+BoldBIDashboard.Dashboard.ServiceAPI.processdata,{action:BoldBIDashboard.DashboardUtil.DesignerAction.addNewTable,data:JSON.stringify({className:BoldBIDashboard.DashboardUtil.DesignerAction.DataDesignViewAction,designerAction:BoldBIDashboard.DashboardUtil.DesignerAction.addNewTable,datasource:this.encrptDataSourceInfo(this.DatasourceInfo),sqlQuery:t.schema+"."+t.name,commandType:"Procedure",parameters:this.getProcParams(),tableName:r,tableSchema:u,isOpenQuery:this.isOpenQuery(),dataSetId:this.dataset.Id,dataSetName:i,joinInfo:[],tableId:f,addProcedure:!0,category:t.viewType,isQueryDesignerMode:this.dashboardDesigner.isQueryDesignerMode})},{fnction:this.bbdesigner$.proxy(this.renderProcedure,this,n),indicator:[this.bbdesigner$.proxy(this.showDragIndicator,this),this.bbdesigner$.proxy(this.hideDragIndicator,this)]}),this.isNewTableAdded=!1,this.isJoin=!1)},t.prototype.procSetting=function(){var n=this.dashboardDesigner.modules.storeParameter;n.showParameterDialog();n.hideStoreProcedureConnectTypes()},t.prototype.nodeTableSelector=function(n){var f=BoldBIDashboard.DashboardUtil.escapeSelector(n.schema),u=BoldBIDashboard.DashboardUtil.escapeSelector(n.name),e=this.element.find("#"+this.id+"_"+f+"_"+u+" .e-text .bbi-designer-dataset-schema, #"+this.id+"_"+u+" .e-text .bbi-designer-dataset-schema"),i,r,t;if(e.length>0)e.removeClass(this.schemaIcons.table).removeClass(this.schemaIcons.view).removeClass(this.schemaIcons.procedure),e.addClass("e-icon e-checkmark");else{if(i=this.ejSchemaTree.model.fields.dataSource,r=this.ejSharedSchemaTree.model.fields.dataSource,i&&i.length>0)for(t=0;t<i.length;t++)if(this.id+"_"+f+"_"+u===i[t].id){i[t].spriteImage="bbi-designer-query-treeview e-icon e-checkmark";break}if(r&&r.length>0)for(t=0;t<r.length;t++)if(this.id+"_"+f+"_"+u===r[t].id){r[t].spriteImage="bbi-designer-query-treeview e-icon e-checkmark";break}}this.selectedItems[n.schema]||(this.selectedItems[n.schema]={});this.selectedItems[n.schema][n.name]=!0;this.tableItems[n.id]=!0},t.prototype.nodeTableRemover=function(n){var t,i;if(n){this.removedTableName=n.name;this.removedTableSchemaName=BoldBIDashboard.DashboardUtil.escapeSelector(n.schema);var u=BoldBIDashboard.DashboardUtil.escapeSelector(n.schema),f=BoldBIDashboard.DashboardUtil.escapeSelector(n.name),e=n.viewType==="Stored Procedures"?this.schemaIcons.procedure:this.schemaIcons.table,r=this.element.find("#"+this.id+"_"+u+"_"+f+" .e-text .e-checkmark");if(r.length>0)r.removeClass("e-icon").removeClass("e-checkmark"),r.addClass(e);else if(t=this.ejSchemaTree.model.fields.dataSource,t&&t.length>0)for(i=0;i<t.length;i++)if(this.id+"_"+u+"_"+f===t[i].id){t[i].spriteImage="bbi-designer-query-treeview "+e;break}Object.keys(this.selectedItems).length&&(this.selectedItems[n.schema][n.name]=!1);Object.keys(this.tableItems).length&&(this.tableItems[n.id]=!1)}},t.prototype.removeExpression=function(n,t){var f,r,i,u;if(this.queryExp&&this.queryExp.length>0){for(f=this.dragSurfaceTag.find(this.getTblSel(t,n)),r=[],i=0;i<this.queryExp.length;i++)this.isExistExpField(f,this.queryExp[i].expression)&&(r.indexOf(this.queryExp[i].name)===-1&&r.push(this.queryExp[i].name),this.gethierarchyExpField(this.queryExp[i].name,r));if(r&&r.length>0)for(i=0;i<r.length;i++)for(u=0;u<this.queryExp.length;u++)if(r[i]===this.queryExp[u].name){this.queryExp.splice(u,1);break}}},t.prototype.gethierarchyExpField=function(n,t){for(var i=0;i<this.queryExp.length;i++)BoldBIDashboard.DashboardUtil.contains(this.queryExp[i].expression,"["+n+"]",!0)&&(t.indexOf(this.queryExp[i].name)===-1&&t.push(this.queryExp[i].name),this.gethierarchyExpField(this.queryExp[i].name,t))},t.prototype.validateColumn=function(n,t){for(var i=0;i<n.dataFields.length;i++)if(n.dataFields[i].value===t)return!0;return!1},t.prototype.validateTopNFilterInfo=function(n){var i=!1,r=this.dashboardDesigner.modules.queryFilter,t=this.queryFilter[n];return!BoldBIDashboard.isNullOrUndefined(t.DimensionFilterSchemaInfo)&&t.DimensionFilterSchemaInfo.IsTopNApplied&&(BoldBIDashboard.isNullOrUndefined(t.DimensionFilterSchemaInfo.TopNFilterConditionInfo)||(i=this.validateColumn(r,t.DimensionFilterSchemaInfo.TopNFilterConditionInfo.ColumnId))),!BoldBIDashboard.isNullOrUndefined(t.DateFilterSchemaInfo)&&t.DateFilterSchemaInfo.IsTopNApplied&&(BoldBIDashboard.isNullOrUndefined(t.DateFilterSchemaInfo.TopNFilterConditionInfo)||(i=this.validateColumn(r,t.DateFilterSchemaInfo.TopNFilterConditionInfo.ColumnId))),!BoldBIDashboard.isNullOrUndefined(t.BooleanFilterSchemaInfo)&&t.BooleanFilterSchemaInfo.IsTopNApplied&&(BoldBIDashboard.isNullOrUndefined(t.BooleanFilterSchemaInfo.TopNFilterConditionInfo)||(i=this.validateColumn(r,t.BooleanFilterSchemaInfo.TopNFilterConditionInfo.ColumnId))),i},t.prototype.updateTopNFilterInfo=function(n){var e=this.dashboardDesigner.modules.queryFilter,t,i,r,u,f;this.queryFilter.length>0&&(t=this.queryFilter[n],BoldBIDashboard.isNullOrUndefined(t.DimensionFilterSchemaInfo)||(i=t.DimensionFilterSchemaInfo,i.IsTopNApplied&&(f=this.validateColumn(e,i.TopNFilterConditionInfo.ColumnId),f&&(i.IsCheckAll?this.queryFilter.splice(n,1):(i.IsTopNApplied=!1,i.TopNFilterConditionInfo=null)))),BoldBIDashboard.isNullOrUndefined(t.DateFilterSchemaInfo)||(r=t.DateFilterSchemaInfo,r.IsTopNApplied&&(f=this.validateColumn(e,r.TopNFilterConditionInfo.ColumnId),f&&(r.IsCheckAll?this.queryFilter.splice(n,1):(r.IsTopNApplied=!1,r.TopNFilterConditionInfo=null)))),BoldBIDashboard.isNullOrUndefined(t.BooleanFilterSchemaInfo)||(u=t.BooleanFilterSchemaInfo,u.IsTopNApplied&&(f=this.validateColumn(e,u.TopNFilterConditionInfo.ColumnId),f&&(u.IsCheckAll?this.queryFilter.splice(n,1):(u.IsTopNApplied=!1,u.TopNFilterConditionInfo=null)))))},t.prototype.removeFilter=function(n){var i=n.id,t;if(n.viewType==="Stored Procedures"&&(i="#"+n.name),!BoldBIDashboard.isNullOrUndefined(this.queryFilter)&&this.queryFilter.length>0)for(t=this.queryFilter.length-1;t>=0;t--)this.queryFilter[t].TableId===i?this.queryFilter.splice(t,1):this.updateTopNFilterInfo(t)},t.prototype.removeUserFilter=function(n){var u,f,i,e,r,t;try{if(u=this.getColumnList(n)[n.name],!BoldBIDashboard.isNullOrUndefined(this.userBasedFilterInfo)){if(!BoldBIDashboard.isNullOrUndefined(this.userBasedFilterInfo.BasicFilters)&&this.userBasedFilterInfo.BasicFilters.length!==0){for(f=function(n){var r=i.userBasedFilterInfo.BasicFilters[n],t;BoldBIDashboard.Dashboard.ConnectionHelper.isHierarchicalConnection(i.connectionInstance)?u.filter(function(n){return n.ColumnId===r.ColumnId}).length!==0&&i.userBasedFilterInfo.BasicFilters.splice(n,1):(t=i.tableType.filter(function(n){return n.ID===r.ColumnId})[0],BoldBIDashboard.isNullOrUndefined(t)||u.filter(function(n){return n.Name===t.Name}).length===0||i.userBasedFilterInfo.BasicFilters.splice(n,1))},i=this,t=this.userBasedFilterInfo.BasicFilters.length-1;t>=0;t--)f(t);this.userBasedFilterInfo.BasicFilters.length===0&&(this.userBasedFilterInfo=null)}if(!BoldBIDashboard.isNullOrUndefined(this.userBasedFilterInfo.AdvancedFilter)){for(e=function(n){var i=r.userBasedFilterInfo.AdvancedFilter.SelectedFields[n],t;BoldBIDashboard.Dashboard.ConnectionHelper.isHierarchicalConnection(r.connectionInstance)?u.filter(function(n){return n.ColumnId===i.MappedColumnId}).length!==0&&r.userBasedFilterInfo.AdvancedFilter.SelectedFields.splice(n,1):(t=r.tableType.filter(function(n){return n.ID===i.MappedColumnId})[0],BoldBIDashboard.isNullOrUndefined(t)||u.filter(function(n){return n.Name===t.Name}).length===0||r.userBasedFilterInfo.AdvancedFilter.SelectedFields.splice(n,1))},r=this,t=this.userBasedFilterInfo.AdvancedFilter.SelectedFields.length-1;t>=0;t--)e(t);this.userBasedFilterInfo.AdvancedFilter.SelectedFields.length===0&&(this.userBasedFilterInfo=null)}}}catch(o){this.dashboardDesigner.designerPanel.logError({Error:o})}},t.prototype.tableClose=function(n){if(!this.IsMergedDatasource()&&!this.bbdesigner$(n.target).hasClass("e-close-disable")){var t=this.bbdesigner$(n.currentTarget).closest(".bbi-data-table");this.isTableClose=!0;this.dashboardDesigner.modules.util.doAjaxPost("POST",this.model.serviceUrl+BoldBIDashboard.Dashboard.ServiceAPI.processdata,{action:BoldBIDashboard.DashboardUtil.DesignerAction.validateTableJoiner,data:JSON.stringify({className:BoldBIDashboard.DashboardUtil.DesignerAction.DataDesignViewAction,designerAction:BoldBIDashboard.DashboardUtil.DesignerAction.validateTableJoiner,tableID:t.data("e-table").id||"",dataSetId:this.dataset.Id,isQueryDesignerMode:this.dashboardDesigner.isQueryDesignerMode})},{fnction:this.bbdesigner$.proxy(this.updateJoinerInfo,this,t),indicator:[this.bbdesigner$.proxy(this.showPreviewIndicator,this),this.bbdesigner$.proxy(this.hidePreviewIndicator,this)]})}},t.prototype.hasTableInDataColumn=function(n){var i=this,t;return!BoldBIDashboard.isNullOrUndefined(this.queryParamCollection)&&this.queryParamCollection.length>0?(t=this.queryParamCollection.filter(function(t){if(t.Mode===ParameterMode.List&&!BoldBIDashboard.isNullOrUndefined(t.ListModeInfo.DataColumn)&&t.ListModeInfo.DataColumn.FieldFrom===FetchType.Datasource){var r=i.tableType.filter(function(i){return i.Name===t.ListModeInfo.DataColumn.FieldName&&i.TableId===n});return r.length>0}}),t.length>0):!1},t.prototype.updateJoinerInfo=function(n,t){for(var u,s,i,e,r,a=this,h=this.hasQueryFilterTable(n.data("e-table").name),c=this.hasExpressionTable(n.data("e-table").name),v=this.hasTableInDataColumn(n.data("e-table").id),l=[],o=this.queryJoiner.slice(),f=0;f<this.queryJoiner.length;f++)for(u=0;u<t.removeTableJoin.length;u++)if(t.removeTableJoin[u].LeftTableIdentifier===this.queryJoiner[f].leftTable&&t.removeTableJoin[u].RightTableIdentifier===this.queryJoiner[f].rightTable&&(r=o.indexOf(this.queryJoiner[f]),r>-1)){o.splice(r,1);break}if(s=this.dragSurfaceTag.find(".bbi-data-table").not(n),s.each(function(n,i){var r=a.bbdesigner$(i).data("e-table");t.removeTable.filter(function(n){return n===r.id}).length>0&&l.push(r)}),i={tableJoins:o,tables:l},i.tables.length>0){for(e="",e=this.locale.alertWindowMesages.tableList,r=0;r<i.tables.length;r++)e+="<br />&emsp;&emsp;&emsp;-"+i.tables[r].name;this.dashboardDesigner.modules.util.alertDialog(this.locale.alertDialogTitle.RemoveTable+"(s)",this.locale.alertWindowMesages.tableremove,IconType.warning,AlertType.Confirm,!0,e,{method:"confirmAction",instance:this,dataInfo:{nonReltable:i,removeTable:n}});return}h||c||this.updateQueryJoiner(n,i);(h||v||c)&&i.tables.length===0?this.dashboardDesigner.modules.util.alertDialog(this.locale.alertDialogTitle.RemoveTable,this.locale.alertWindowMesages.tableRemoveMessage,IconType.warning,AlertType.Confirm,!1,"",{method:"enableTableRemove",instance:this,dataInfo:{nonReltable:i,removeTable:n}}):this.removeTable(n)},t.prototype.confirmAction=function(n,t){var i,f,r;if(n){for(i=t.nonReltable,this.queryJoiner=[],f="schema",this.bbdesigner$.merge(this.queryJoiner,i.tableJoins),r=0;r<i.tables.length;r++){var u=i.tables[r],e=u.name,o=u.id;this.removeFilter(u);this.removeUserFilter(u);this.removeExpression(e,i.tables[r][f]);this.dragSurfaceTag.find(this.getTblSel(i.tables[r][f],o)).remove();this.nodeTableRemover(i.tables[r])}this.removeTable(t.removeTable)}},t.prototype.enableTableRemove=function(n,t){n&&(this.updateQueryJoiner(t.removeTable,t.nonReltable),this.removeTable(t.removeTable))},t.prototype.removeDataColumn=function(n,t){var i=this,r;t===void 0&&(t=!1);!BoldBIDashboard.isNullOrUndefined(this.queryParamCollection)&&this.queryParamCollection.length>0&&(r=this.queryParamCollection.filter(function(r){if(r.Mode===ParameterMode.List&&!BoldBIDashboard.isNullOrUndefined(r.ListModeInfo.DataColumn)&&r.ListModeInfo.DataColumn.FieldFrom===FetchType.Datasource){var u=i.tableType.filter(function(i){return i.Name===r.ListModeInfo.DataColumn.FieldName&&(t?!0:i.TableId===n)});return u.length>0}}),r.forEach(function(n){var t=i.dashboardDesigner.modules.dynamicParameterPanel;t.deleteParameterFromService(n.ParameterID)}))},t.prototype.removeTable=function(n){if(this.nodeTableRemover(n.data("e-table")),this.removeFilter(n.data("e-table")),this.removeUserFilter(n.data("e-table")),this.removeDataColumn(n.data("e-table").id),this.removeExpression(n.data("e-table").name,n.data("e-table").schema),this.dragSurfaceTag.find(".e-Stored.Procedures").length>0&&!BoldBIDashboard.isNullOrUndefined(this.storedParameter)&&(this.storedParameter.updatedParameters=[],this.storedParameter.showStoreProcedureConnectTypes()),n.remove(),this.postRemovedTable(),this.updateToolbarItems(),this.enableToolbarItems(!1),this.updateParamIconVisibility(),this.showTableHint(this.dragSurfaceTag.find(".bbi-data-table").length),this.enableCodeViewSwitcher(!0,this.isTableClose),this.dragSurfaceTag.find(".bbi-data-table").length===0&&this.removeNonColumnExpression(),this.columnList.length>0)for(var t=0;t<this.columnList.length;t++)if(this.tableList[t]===this.removedTableName){this.columnList.splice(t,1);this.tableList.splice(t,1);break}BoldBIDashboard.DashboardUtil.buttonEnable(this.btnUpdateTag,!1);this.previewSwitcherTag.css("display","none");this.btnUpdateTag.css("display","none")},t.prototype.removeSharedTable=function(n,t){var i=this.getRemovedTableIds(n.sharedTables.RemovedTableInfo);this.removeFiltersOfDeletedDs(i,t);this.removeExpofDeletedDs(i,t);this.postRemovedTable(n);this.updateToolbarItems();this.enableToolbarItems(!1)},t.prototype.getRemovedTableIds=function(n){for(var i,t=[],r=0;r<n.length;r++){if(t.length>0)for(i=t.length;i>0;i--)n[r].RemovedTableIDs.indexOf(t[i])!==-1&&n[r].RemovedTableIDs.splice(i,1);t.push.apply(t,n[r].RemovedTableIDs)}return t},t.prototype.removeDeletedDsTables=function(n,t){for(var r,i,f,e=t.Tables,u=0;u<n.length;u++)for(r=0;r<n[u].RemovedTableIDs.length;r++)for(i=0;i<e.length;i++)if(n[u].RemovedTableIDs[r]===e[i].Id&&(f=t.Tables.indexOf(e[i]),f>-1)){t.Tables.splice(f,1);break}},t.prototype.removeFiltersOfDeletedDs=function(n,t){var r,i;if(!BoldBIDashboard.isNullOrUndefined(t.Filters))for(r=0;r<n.length;r++)for(i=t.Filters.length-1;i>=0;i--)t.Filters[i].TableId===n[r]&&t.Filters.splice(i,1)},t.prototype.removeExpofDeletedDs=function(n,t){var r,o,f,u,i,e;if(!BoldBIDashboard.isNullOrUndefined(t.Expressions)&&t.Expressions.length>0){for(r=[],o=[],u=0;u<n.length;u++)for(f=0;f<t.Tables.length;f++)if(n[u]===t.Tables[f].Id){o.push(t.Tables[f]);break}for(u=0;u<o.length;u++)for(i=0;i<t.Expressions.length;i++)this.isExpFromUnavailableTable(o[u].Columns,t.Expressions[i].QueryExp)&&(r.indexOf(t.Expressions[i].Name)===-1&&r.push(t.Expressions[i].Name),this.getUnavailableTablehierarchyExpField(t,t.Expressions[i].Name,r));if(r&&r.length>0)for(i=0;i<r.length;i++)for(e=0;e<t.Expressions.length;e++)if(r[i]===t.Expressions[e].Name){t.Expressions.splice(e,1);break}}},t.prototype.removeNonColumnExpression=function(){this.queryExp.length>0&&(this.queryExp=[])},t.prototype.updateQueryJoiner=function(n,t){this.dragSurfaceTag.find(".bbi-data-table").not(n).length===1?this.queryJoiner=[]:t.tableJoins.length>0&&(this.queryJoiner=[],this.bbdesigner$.merge(this.queryJoiner,t.tableJoins))},t.prototype.deleteTable=function(n){var t=this,i=this.dragSurfaceTag.find(".bbi-data-table");n.length===0&&(i=i.not(":first"));i.each(function(i,r){for(var u=t.bbdesigner$(r).data("e-table"),e=!1,f=0;f<n.length;f++)if(n[f].leftTable===u.id||n[f].rightTable===u.id){e=!0;break}e||(t.removeFilter(u),t.removeUserFilter(u),t.removeExpression(u.name,u.schema),t.dragSurfaceTag.find(t.getTblSel(u.schema,u.name)).remove(),t.nodeTableRemover(u))});this.updateToolbarItems();this.showTableHint(this.dragSurfaceTag.find(".bbi-data-table").length)},t.prototype.joinerActionRes=function(n){n.isCancel&&n.data?(this.dragSurfaceTag.find(this.getTblSel(n.data.schema,n.data.id)).remove(),this.nodeTableRemover(n.data),this.enableToolbarItems(!0),this.enableEditConnection(!0),this.enableCodeViewSwitcher(!0)):n.joiners&&(BoldBIDashboard.DashboardUtil.isEqualObj(this.queryJoiner,n.joiners)||(this.isJoin=!0,this.queryJoiner=n.joiners,this.deleteTable(this.queryJoiner),this.executeUIQuery()))},t.prototype.exprActionRes=function(n){this.queryExp=n},t.prototype.joinQueryTable=function(n){var t=this.dragSurfaceTag.find(".bbi-data-table").not(n),i=n.data("e-table"),r=this.joinQuery(t,i),u;r.length>0?(this.bbdesigner$.merge(this.queryJoiner,r),this.executeUIQuery()):t.length!==0?(u=this.dashboardDesigner.modules.queryJoiner,u.openQueryJoiner(i)):t.length===0&&this.executeUIQuery()},t.prototype.joinQuery=function(n,t){var o=this.getColumnList(t),s=[],f,i,u;if(n.length!==0){var r=this.getTableData(n),h=Object.keys(o),e=!1;for(u=0;u<h.length;u++)if(e=!1,!BoldBIDashboard.isNullOrUndefined(o[h][u].ForeignKey)){for(f=o[h][u].ForeignKey,i=0;i<r.length;i++)if(f.RelationTable===r[i].table.name){e=!0;s.push({key:r[i].table.name+"-"+t.name,leftTable:r[i].table.name,rightTable:t.name,leftSchema:r[i].table.schema,rightSchema:f.RelationSchema,join:Join.Inner,primaryTable:r[i].table.name,keyFields:f.Field+Operator.Equal+f.RelationField,fields:[{operator:Operator.Equal,leftField:f.RelationField,rightField:f.Field}]});break}if(e)break}if(!e)for(i=0;i<r.length;i++){for(u=0;u<r[i].foreignKey.length;u++)if(r[i].foreignKey[u].RelationTable===t.name){e=!0;s.push({key:r[i].table.name+"-"+t.name,leftTable:r[i].table.name,rightTable:t.name,rightSchema:t.schema,leftSchema:r[i].foreignKey[u].RelationSchema,join:Join.Inner,primaryTable:t.name,keyFields:r[i].foreignKey[u].RelationField+Operator.Equal+r[i].foreignKey[u].Field,fields:[{rightField:r[i].foreignKey[u].RelationField,leftField:r[i].foreignKey[u].Field,operator:Operator.Equal}]});break}if(e)break}}return s},t.prototype.getTableData=function(n){var t=this,i=[];return n.each(function(n,r){for(var h=t.bbdesigner$(r).data("e-table"),u=t.getColumnList(h),o=[],s=[],e=Object.keys(u),f=0;f<u[e].length;f++)u[e][f].IsPrimaryKey&&o.push(u[e][f].Name),BoldBIDashboard.isNullOrUndefined(u[e][f].ForeignKey)||s.push(u[e][f].ForeignKey);i.push({table:t.bbdesigner$(r).data("e-table"),primaryKey:o,foreignKey:s})}),i},t.prototype.dragStart=function(n){this.isTreeMouseDown&&this.dragging===null?this.dragTableStart(n):this.isTreeMouseDown||this.resetDrag()},t.prototype.dragTableStart=function(n){var i,t,u,r,f;if(this.isTreeMouseDown){if(i=this.bbdesigner$(n.currentTarget).closest("li"),t=this.getTreeData(i.attr("id"),i.parents("ul.e-treeview.e-js").data("BoldBIDashboardTreeView")),t){t.isColumn&&(this.draggedColumnName=t.name,this.isColumnDragged=!0,i=i.parents(".ej-table-drag"),t=this.getTreeData(i.attr("id"),i.parents("ul.e-treeview.e-js").data("BoldBIDashboardTreeView")));u=this.codeChkSwitcher.is(":checked");r=!0;this.IsMergedDatasource()&&(f=this.dragSurfaceTag.find(".bbi-data-table").data(),r=!(f.eTable.schema===t.value.schema));BoldBIDashboard.isNullOrUndefined(this.selectedItems[t.value.schema])||BoldBIDashboard.isNullOrUndefined(this.selectedItems)||!this.selectedItems[t.value.schema].hasOwnProperty(t.name)||(r=!this.selectedItems[t.value.schema][t.name]);var e=t.value.schema!=="Cubes"&&t.value.viewType!=="Stored Procedures"&&this.dragSurfaceTag.find(".e-Stored.Procedures").length===0,o=t.value.viewType==="Stored Procedures"&&this.dragSurfaceTag.find(".bbi-data-table").length===0,s=t.value.schema==="Cubes"&&this.dragSurfaceTag.find(".e-heirarchial-table").length===0;if(!u&&(r&&e||o||s)){this.bbdesigner$("body").on(BoldBIDashboard.DashboardUtil.MouseEvent.mouseMove,this.bbdesigner$.proxy(this.dragItem,this));this.bbdesigner$("body").on(BoldBIDashboard.DashboardUtil.MouseEvent.mouseUp,this.bbdesigner$.proxy(this.dropItem,this));this.resetDrag();this.dragging=BoldBIDashboard.buildTag("div","",{height:"auto",width:"185px",position:"absolute",display:"none","border-style":"none"},{});this.dragging.append(this.getDragTableHeader(this.bbdesigner$(n.currentTarget).find("a").text()));this.bbdesigner$("body").append(this.dragging);this.dragging.data("ej-table-data",{schema:t.value.schema,viewType:t.value.viewType,name:t.name,displayName:t.displayName,isShared:i.parents(".bbi-shared-tables-content").length!==0,id:"",sourceId:t.sourceId})}else{this.isTreeMouseDown=!1;this.isMouseDown=!0;this.bbdesigner$("body").off(BoldBIDashboard.DashboardUtil.MouseEvent.mouseMove,this.bbdesigner$.proxy(this.dragItem,this));this.bbdesigner$("body").on(BoldBIDashboard.DashboardUtil.MouseEvent.mouseMove,this.bbdesigner$.proxy(this.dragItem,this));this.bbdesigner$("body").off(BoldBIDashboard.DashboardUtil.MouseEvent.mouseUp,this.bbdesigner$.proxy(this.dropItem,this));this.bbdesigner$("body").on(BoldBIDashboard.DashboardUtil.MouseEvent.mouseUp,this.bbdesigner$.proxy(this.dropItem,this))}}}else this.resetDrag()},t.prototype.getTreeData=function(n,t){if(t&&t.model.fields&&t.model.fields.dataSource)for(var i=0;i<t.model.fields.dataSource.length;i++)if(n===t.model.fields.dataSource[i].id)return t.model.fields.dataSource[i];return null},t.prototype.getDragTableHeader=function(n){var t=BoldBIDashboard.buildTag("div.bbi-designer-dataset-dragHeader","",{display:"block",height:"30px",background:"white"},{}),i=BoldBIDashboard.buildTag("span.bbi-designer-fontfamily",n,{float:"left","font-weight":"600","font-size":"13px",padding:"5px 0px 5px 10px",overflow:"hidden","vertical-align":"middle",width:"165px","text-overflow":"ellipsis","white-space":"nowrap"});return t.append(i),t},t.prototype.dragItem=function(n){if(this.isMouseDown&&(this.dragging==null||this.codeChkSwitcher.is(":checked")))this.element.find("#"+this.id+"_div_bodySchema").addClass("bbi-cursornotallowed"),this.element.find("#"+this.id+"_ul_treeSchema").addClass("bbi-cursornotallowed"),this.element.find("#"+this.id+"_div_queryDesigner").addClass("bbi-cursornotallowed"),this.element.find("#"+this.id+"_div_dragSurface").addClass("bbi-cursornotallowed"),this.element.find("#"+this.id+"_div_previewArea").addClass("bbi-cursornotallowed");else{if(this.isTreeMouseDown&&this.dragging!=null){var t=n.originalEvent&&n.originalEvent.targetTouches?n.originalEvent.targetTouches[0].pageX:n.pageX,i=n.originalEvent&&n.originalEvent.targetTouches?n.originalEvent.targetTouches[0].pageY:n.pageY;this.dragging.css({display:"block",top:i+1.5,left:t+1.5})}n.stopPropagation()}},t.prototype.updateDroppedItem=function(n,t){if(n.data=this.dragging.data("ej-table-data"),n.data.id=t,n.element.hasClass("bbi-drag-surface"))this.isNewTableAdded=!0,this.renderTableElement(n.data,{top:n.element.scrollTop()+(n.pageY-n.element.offset().top),left:n.element.scrollLeft()+(n.pageX-n.element.offset().left)});else if(n.element.parents(".bbi-drag-surface").length>0){var i=n.element.parents(".bbi-drag-surface");this.isNewTableAdded=!0;this.renderTableElement(n.data,{top:i.scrollTop()+(n.pageY-i.offset().top),left:i.scrollLeft()+(n.pageX-i.offset().left)})}else n.element.hasClass("e-query-editor")&&this.renderText(n.data);this.isTreeMouseDown=!1;this.dragging.remove();this.dragging=null;this.enableToolbarItems(!1)},t.prototype.dropItem=function(n){var t,i;if(this.isMouseDown&&(this.dragging==null||this.codeChkSwitcher.is(":checked")))this.element.find("#"+this.id+"_div_bodySchema").removeClass("bbi-cursornotallowed"),this.element.find("#"+this.id+"_ul_treeSchema").removeClass("bbi-cursornotallowed"),this.element.find("#"+this.id+"_div_queryDesigner").removeClass("bbi-cursornotallowed"),this.element.find("#"+this.id+"_div_dragSurface").removeClass("bbi-cursornotallowed"),this.element.find("#"+this.id+"_div_previewArea").removeClass("bbi-cursornotallowed"),this.isMouseDown=!1;else{var r=this.bbdesigner$(n.target),u=n.originalEvent&&n.originalEvent.changedTouches?n.originalEvent.changedTouches[0].pageX:n.pageX,f=n.originalEvent&&n.originalEvent.changedTouches?n.originalEvent.changedTouches[0].pageY:n.pageY;n.type==="touchend"&&(t=n.originalEvent.changedTouches[0],r=this.bbdesigner$(document.elementFromPoint(t.clientX,t.clientY)));this.dragging&&this.isTreeMouseDown&&(i={data:void 0,element:r,pageX:u,pageY:f},this.dashboardDesigner.modules.util.doAjaxPost("POST",this.dashboardDesigner.model.serviceUrl+BoldBIDashboard.Dashboard.ServiceAPI.getnewguid,{action:BoldBIDashboard.DashboardUtil.DesignerAction.GetNewGuid},{fnction:this.bbdesigner$.proxy(this.updateDroppedItem,this,i)}));this.bbdesigner$("body").off(BoldBIDashboard.DashboardUtil.MouseEvent.mouseMove,this.bbdesigner$.proxy(this.dragItem,this));this.bbdesigner$("body").off(BoldBIDashboard.DashboardUtil.MouseEvent.mouseUp,this.bbdesigner$.proxy(this.dropItem,this))}},t.prototype.dragSurfaceStart=function(n){this.dragSurfaceTag.on(BoldBIDashboard.DashboardUtil.MouseEvent.mouseMove,this.bbdesigner$.proxy(this.dragSurfaceItem,this));this.dragSurfaceTag.on(BoldBIDashboard.DashboardUtil.MouseEvent.mouseUp,this.bbdesigner$.proxy(this.dropSurfaceItem,this));this.dragSurfaceTag.on(BoldBIDashboard.DashboardUtil.MouseEvent.mouseLeave,this.bbdesigner$.proxy(this.dropSurfaceItem,this));this.dragging=this.bbdesigner$(n.currentTarget).parent("div.e-lv");var t=n.originalEvent&&n.originalEvent.targetTouches?n.originalEvent.targetTouches[0].pageX:n.pageX,i=n.originalEvent&&n.originalEvent.targetTouches?n.originalEvent.targetTouches[0].pageY:n.pageY;this.dragX=t-this.dragging.offset().left;this.dragY=i-this.dragging.offset().top},t.prototype.dragSurfaceItem=function(n){if(this.dragging!=null){var t=this.bbdesigner$(n.currentTarget),i=this.dragging.parent(),r=n.originalEvent&&n.originalEvent.targetTouches?n.originalEvent.targetTouches[0].pageX:n.pageX,u=n.originalEvent&&n.originalEvent.targetTouches?n.originalEvent.targetTouches[0].pageY:n.pageY;this.dragging.css({top:i.scrollTop()+(u-t.offset().top)-this.dragY,left:i.scrollLeft()+(r-t.offset().left)-this.dragX,cursor:"move"})}},t.prototype.dropSurfaceItem=function(){this.dragging&&this.dragging.css("cursor","pointer");this.dragging=null;this.dragX=this.dragY=0;this.dragSurfaceTag.off(BoldBIDashboard.DashboardUtil.MouseEvent.mouseMove,this.bbdesigner$.proxy(this.dragSurfaceItem,this));this.dragSurfaceTag.off(BoldBIDashboard.DashboardUtil.MouseEvent.mouseUp,this.bbdesigner$.proxy(this.dropSurfaceItem,this));this.dragSurfaceTag.off(BoldBIDashboard.DashboardUtil.MouseEvent.mouseLeave,this.bbdesigner$.proxy(this.dropSurfaceItem,this))},t.prototype.hasTableOrProcedure=function(){var n=this.dragSurfaceTag.find(".e-Stored.Procedures"),t=this.dragSurfaceTag.find(".bbi-data-table");return n.length!==0||t.length!==0},t.prototype.gethierarchyExp=function(n,t){for(var r,u,i=0;i<this.queryExp.length;i++)if(this.queryExp[i].name!==n&&(r="["+this.queryExp[i].name+"]",u=this.queryExp[i].expression,t&&t.indexOf(r)!==-1))return t=t.split(r).join("("+u+")"),this.gethierarchyExp(n,t);return t},t.prototype.showSettingsMenu=function(n){var u,f,i,o;this.argument=n;var r=this.bbdesigner$(n.target),s=r.offset(),t=this.tableMenuUlTag.data("BoldBIDashboardMenu"),h=t._targetEjElement=r.closest("li"),e=this.bbdesigner$(t._targetEjElement).attr("e-column-type"),c=this.bbdesigner$(t._targetEjElement).attr("e-fiscal-year-value"),l=h.attr("datatype");this.tableMenuUlTag.find("#"+this.id+"_rename_field_li").show();this.updateColType(this.tableMenuUlTag,t,h,e,!0);this.isNumberType(l)?this.tableMenuUlTag.find(".e-commonType").css("display","block"):(this.tableMenuUlTag.find(".e-commonType:not(.e-string)").css("display","none"),this.tableMenuUlTag.find(".e-string").css("display","block"));this.tableMenuUlTag.find(".e-chk-image").css("display","none");this.bbdesigner$("#"+this.id+"_field_"+this.bbdesigner$(t._targetEjElement).attr("e-data-aggregate")).css("display","block");u=this.tableMenuUlTag.find("#"+this.id+"_Default").attr("data-default");f=this.isDefault(e)?"Default":this.getTypeText(e,u);this.tableMenuUlTag.find("#"+this.id+"_"+f+"_tick").css("display","block");(u==="DateTime"||f==="DateTime")&&(i=this.isFiscalDefault(c)?"Jan":c,o=this.tableMenuUlTag.find("#"+this.id+"_"+i),o.attr("data-fiscalvalue",i),this.tableMenuUlTag.find("#"+this.id+"_"+i+"_tick").css("display","block"));t.show(s.left-this.bbdesigner$(this.tableMenuUlTag).width(),s.top+r.height(),r,{})},t.prototype.getTypeText=function(n,t){var i="Default";return this.isNumberType(n)?i="Number":this.isDateType(n)?i="DateTime":this.isStringType(n)&&(i="Text"),i===t&&(i="Default"),i},t.prototype.isDefault=function(n){return BoldBIDashboard.isNullOrUndefined(n)},t.prototype.isFiscalDefault=function(n){return BoldBIDashboard.isNullOrUndefined(n)},t.prototype.updateColType=function(n,t,i,r,u){var f=this.locale.queryDesigner.columnType,e=i.attr("datatype"),o=f.defaultField,s=n.find("#"+this.id+"_Default"),h=!1,c;e.toLowerCase()==="time"?t.showItems(["#"+this.id+"_Text","#"+this.id+"_DateTime"]):t.showItems(["#"+this.id+"_Number","#"+this.id+"_Text","#"+this.id+"_DateTime"]);this.isNumberType(e)?(t.hideItems(["#"+this.id+"_Number"]),s.attr("itemType","Integer").attr("data-default","Number"),o=f.numberField):this.isStringType(e)?(t.hideItems(["#"+this.id+"_Text"]),s.attr("itemType","String").attr("data-default","Text"),o=f.stringField):this.isDateType(e)?(h=!0,t.hideItems(["#"+this.id+"_DateTime"]),s.attr("itemType","Date").attr("data-default","DateTime"),o=f.dateField):(e==="bit"||e.toLowerCase()==="boolean")&&(s.attr("itemType","Boolean"),o=f.booleanField);BoldBIDashboard.isNullOrUndefined(r)||(h=this.isDateType(r));h&&u?n.find("#"+this.id+"_fiscal_year_start_li").show():n.find("#"+this.id+"_fiscal_year_start_li").hide();this.updateIconType(r,i);c=this.tableMenuUlTag.find("#"+this.id+"_Default").find("a");c.first()[0].childNodes[0].nodeValue=f.defaultField+" ("+o+")"},t.prototype.updateIconType=function(n,t){var u=BoldBIDashboard.isNullOrUndefined(n)?t.attr("datatype"):n,i={DataType:u.toLowerCase(),IsPrimaryKey:!1},f="",r;switch(u.toLowerCase()){case"integer":case"real":i.DataType="int";break;case"date":i.DataType="datetime";break;case"string":i.DataType="text";break;case"boolean":i.DataType="bit";break;default:i.DataType=t.attr("datatype")}f=BoldBIDashboard.DashboardUtil.getDataTypeStyle(i);r=t.find(".bbi-query-datatype");r.removeClass("bbi-designer-dataset-datetime bbi-designer-dataset-time bbi-designer-dataset-number bbi-designer-dataset-boolean bbi-designer-dataset-char bbi-designer-dataset-string");r.addClass(f)},t.prototype.isNumberType=function(n){var t=n.toLowerCase();return t==="tinyint"||t==="smallint"||t==="int"||t==="bigint"||t==="smallmoney"||t==="money"||t==="numeric"||t==="decimal"||t==="real"||t==="float"||t==="uniqueidentifier"||n==="System.Int32"||n==="System.Int16"||n==="System.Int64"||n==="System.Double"||t==="integer"||n==="System.Single"||n==="System.Decimal"||n==="System.Byte"?!0:!1},t.prototype.isStringType=function(n){var t=n.toLowerCase();return t==="nchar"||t==="ntext"||t==="nvarchar"||t==="text"||t==="varchar"||t==="char"||n==="System.Guid"||n==="System.String"||n==="Text"||t==="string"?!0:!1},t.prototype.isDateType=function(n){var t=n.toLowerCase();return t==="datetime"||t==="datetime2"||n==="System.DateTimeOffset"||n==="System.DateTime"||t==="smalldatetime"||t==="date"||t==="datetimeoffset"||t==="timestamp"||t==="time"?!0:!1},t.prototype.onListItemMouseUp=function(n){var t=this.bbdesigner$(n.target).closest("li"),i;t.hasClass("bbi-table-user-selection-active")||(i=this,t.parent().children().each(function(){var n=i.bbdesigner$(this);n.removeClass("bbi-table-user-selection-active");n.find("span").removeClass("bbi-table-user-selection-active");n.find(".e-settings").css("display","none")}),t.addClass("bbi-table-user-selection-active"),t.find("span").addClass("bbi-table-user-selection-active"),t.find(".bbi-designer-dataset-column-deselect").length===0?t.find(".e-settings").css("display","inline-block"):t.find(".e-settings").css("display","none"))},t.prototype.enableTableSettings=function(n){var t=this.bbdesigner$(n.currentTarget);t.find(".e-settings").css("display","inline-block");t.find(".bbi-designer-dataset-column-deselect").length===0?t.find(".e-settings").css("display","inline-block"):t.find(".e-settings").css("display","none");t.find(".e-title-tip").length>0&&this.dashboardDesigner.modules.util.tagOverTip({currentTarget:t.find(".e-title-tip")[0]})},t.prototype.disableTableSettings=function(n){var t=this.bbdesigner$(n.currentTarget),i=t.find(".e-settings");i.hasClass("bbi-table-user-selection-active")||i.css("display","none");t.find(".e-title-tip").length>0&&this.dashboardDesigner.modules.util.tagOutTip({currentTarget:t.find(".e-title-tip")[0]})},t.prototype.enableSharedTableSettings=function(n){this.bbdesigner$(n.currentTarget).addClass("bbi-shared-ds-hover-enable")},t.prototype.disableSharedTableSettings=function(n){this.bbdesigner$(n.currentTarget).hasClass("bbi-shared-ds-hover-enable")&&this.bbdesigner$(n.currentTarget).removeClass("bbi-shared-ds-hover-enable")},t.prototype.isAggregateTypeChange=function(n,t){return!BoldBIDashboard.isNullOrUndefined(t)||!BoldBIDashboard.isNullOrUndefined(n)&&(n.toLowerCase()==="date"||n.toLowerCase()==="integer"||n.toLowerCase()==="string"||n.toLowerCase()==="boolean")?!1:!0},t.prototype.isFiscalYearStart=function(n){if(!BoldBIDashboard.isNullOrUndefined(n))switch(n.toLowerCase()){case"jan":case"feb":case"mar":case"apr":case"may":case"jun":case"jul":case"aug":case"sep":case"oct":case"nov":case"dec":return!0}return!1},t.prototype.settingMenuClick=function(n){var r=this.tableMenuUlTag.data("BoldBIDashboardMenu"),t=this.bbdesigner$(n.element).closest("li").attr("itemType"),i=this.bbdesigner$(n.element).closest("li").attr("data-fiscalvalue"),u=this.isAggregateTypeChange(t,i),f=this.isFiscalYearStart(i),e=this.locale.queryDesigner;n.text===e.rename?this.editColumnName({currentTarget:r._targetEjElement[0]}):!BoldBIDashboard.isNullOrUndefined(t)&&u?this.setTickAttribute(n,r._targetEjElement,u,f):!BoldBIDashboard.isNullOrUndefined(i)&&f?this.postColumnUpdate(this.argument,"",t,ColumnActions.fiscalEdit,n):this.postColumnUpdate(this.argument,"",t,ColumnActions.typeEdit,n)},t.prototype.setTickAttribute=function(n,t,i,r){var u=this.bbdesigner$(n.element).find(".e-chk-image"),f,e;u.length===1&&(this.tableMenuUlTag.find(".e-chk-image").not(u).css("display","none"),f=this.bbdesigner$(n.element).attr("itemType"),e=this.bbdesigner$(n.element).attr("data-fiscalvalue"),BoldBIDashboard.isNullOrUndefined(this.bbdesigner$(t).closest("li").attr("datatype"))&&t.closest("li").find("span").closest(".e-user-select").attr("e-column-type",u.css("display")==="block"?"":f),u.css("display")==="block"?(u.css("display","none"),this.bbdesigner$(t).attr(i?"e-data-aggregate":r?"e-fiscal-year-value":"e-column-type","")):(u.css("display","block"),this.bbdesigner$(t).attr(i?"e-data-aggregate":r?"e-fiscal-year-value":"e-column-type",r?e:f)),r||this.updateIconType(f,this.bbdesigner$(t)))},t.prototype.getColumnItem=function(n,t,i,r){var u=BoldBIDashboard.buildTag("li","",{},{id:i,itemType:n}),f=BoldBIDashboard.buildTag("a."+r+"-anchor",t),e=BoldBIDashboard.buildTag("span.e-chk-image e-icon e-checkmark e-lv-checkdiv","",{display:"none"},{id:i+"_tick"});return f.append(e),u.append(f),u},t.prototype.getMenuItem=function(n,t,i){var f=i?" e-string":"",r=BoldBIDashboard.buildTag("li.e-commonType"+f),u=BoldBIDashboard.buildTag("a",n),e=BoldBIDashboard.buildTag("span.e-chk-image e-icon e-checkmark e-lv-checkdiv","",{display:"none"},{id:t});return u.append(e),r.append(u),r},t.prototype.getFiscalMenuItem=function(n,t){var i=BoldBIDashboard.buildTag("li","",{},{id:t,"data-fiscalvalue":n}),r=BoldBIDashboard.buildTag("a",n),u=BoldBIDashboard.buildTag("span.e-chk-image e-icon e-checkmark e-lv-checkdiv","",{display:"none"},{id:t+"_tick"});return r.append(u),i.append(r),i},t.prototype.setDataTypeOrFiscalYear=function(n,t,i,r,u){var l=this.bbdesigner$(t[0]).find(".e-list-text"),f=u.columnInfo[0].Id,e=u.columnInfo[0].ColumnName,o=l.text().trim(),a,v;e!==o&&l.attr("isDuplicate")==="false"&&(o=e+"("+o+")");BoldBIDashboard.isNullOrUndefined(f)&&!BoldBIDashboard.isNullOrUndefined(u.columnInfo[0])&&(f=u.columnInfo[0].Id);var y=u.tableName,s=this.hasQueryFilter(f,y),h=this.hasWidgetFilter(f,e),c=this.hasSorting(f,e),p="",w=!BoldBIDashboard.isNullOrUndefined(n.text)&&n.text.indexOf("Default")!==-1;(s||h||c)&&(p=r?this.locale.alertWindowMesages.fiscalYearChangeValidationMsg:this.locale.alertWindowMesages.columnTypeChangeValidationMsgCommon);s||h||c?(a={hasFilter:s,hasWidgetFilter:h,hasSorting:c},this.dashboardDesigner.modules.util.alertDialog(this.locale.alertDialogTitle.dashboard,p,IconType.warning,AlertType.Confirm,!1,"",{dataInfo:{name:e,id:f,tableName:y,target:t,isAggregate:i,isFiscalYearStart:r,menuElement:n,expCol:o,result:a,dataConfig:{tableName:u.tableName,tableSchema:u.tableSchema,tableId:u.tableId,schema:u.schema,columnInfo:u.columnInfo,format:u.format}},instance:this,method:"enableTick"})):(this.setTickAttribute(n,t,i,r),v=JSON.stringify({className:BoldBIDashboard.DashboardUtil.DesignerAction.DataDesignViewAction,designerAction:BoldBIDashboard.DashboardUtil.DesignerAction.columnFormatting,dataSetId:this.dataset.Id,tableName:u.tableName,tableSchema:u.tableSchema,tableId:u.tableId,schema:u.schema,columnInfo:u.columnInfo,format:u.format,isdefaultdatatype:w,isQueryDesignerMode:this.dashboardDesigner.isQueryDesignerMode}),this.updatePreview(v))},t.prototype.enableTick=function(n,t){if(n&&!BoldBIDashboard.isNullOrUndefined(t)){this.removeFilterTypeCast(t.name,t.dataConfig.tableId);t.result.hasWidgetFilter&&this.removeWidgetFilterTypeCast(t.id,t.name);t.result.hasSorting&&this.removeSortingTypeCast(t.id,t.name);this.setTickAttribute(t.menuElement,t.target,t.isAggregate,t.isFiscalYearStart);var i=JSON.stringify({className:BoldBIDashboard.DashboardUtil.DesignerAction.DataDesignViewAction,designerAction:BoldBIDashboard.DashboardUtil.DesignerAction.columnFormatting,dataSetId:this.dataset.Id,tableName:t.dataConfig.tableName,tableSchema:t.dataConfig.tableSchema,tableId:t.dataConfig.tableId,schema:t.dataConfig.schema,columnInfo:t.dataConfig.columnInfo,format:t.dataConfig.format,hasFilter:t.isFiscalYearStart,isQueryDesignerMode:this.dashboardDesigner.isQueryDesignerMode});this.updatePreview(i)}},t.prototype.removeWidgetFilterTypeCast=function(n,t){for(var f,r,i,e=this.widgetHelper.getAllWidgets(),u=0;u<e.length;u++)if(e[u].DataGroupInfo.DataSourceID===this.dataset.Id)for(f=0;f<e[u].DataGroupInfo.FieldContainers.length;f++)for(r=e[u].DataGroupInfo.FieldContainers[f],i=0;i<r.FieldInfos.length;i++)BoldBIDashboard.isNullOrUndefined(r.FieldInfos[i].FilterInfo)||BoldBIDashboard.isNullOrUndefined(r.FieldInfos[i].FilterInfo.DimensionFilterInfo)||(BoldBIDashboard.isNullOrUndefined(r.FieldInfos[i].FilterInfo.DimensionFilterInfo.ConditionFilterInfo)||r.FieldInfos[i].FilterInfo.DimensionFilterInfo.ConditionFilterInfo.ColumnName!==t||(r.FieldInfos[i].FilterInfo.DimensionFilterInfo.ConditionFilterInfo=null),BoldBIDashboard.isNullOrUndefined(r.FieldInfos[i].FilterInfo.DimensionFilterInfo.TopNFilterInfo)||r.FieldInfos[i].FilterInfo.DimensionFilterInfo.TopNFilterInfo.ColumnId!==n||(r.FieldInfos[i].FilterInfo.DimensionFilterInfo.TopNFilterInfo=null))},t.prototype.removeSortingTypeCast=function(n){for(var u,i,t,f=this.widgetHelper.getAllWidgets(),r=0;r<f.length;r++)if(f[r].DataGroupInfo.DataSourceID===this.dataset.Id)for(u=0;u<f[r].DataGroupInfo.FieldContainers.length;u++)for(i=f[r].DataGroupInfo.FieldContainers[u],t=0;t<i.FieldInfos.length;t++)BoldBIDashboard.isNullOrUndefined(i.FieldInfos[t].CustomSorting)||BoldBIDashboard.isNullOrUndefined(i.FieldInfos[t].CustomSorting.CustomSortType)||i.FieldInfos[t].CustomSorting.CustomSortType!=="Field"||i.FieldInfos[t].CustomSorting.FieldId!==n||(i.FieldInfos[t].CustomSorting=null)},t.prototype.hasQueryFilter=function(n,t){if(!BoldBIDashboard.isNullOrUndefined(this.queryFilter)&&this.queryFilter.length>0)for(var i=0;i<this.queryFilter.length;i++)if(n===this.queryFilter[i].Id&&t===this.queryFilter[i].TableName||!BoldBIDashboard.isNullOrUndefined(this.queryFilter[i].BooleanFilterSchemaInfo)&&this.queryFilter[i].BooleanFilterSchemaInfo.IsTopNApplied&&n===this.queryFilter[i].BooleanFilterSchemaInfo.TopNFilterConditionInfo.ColumnId||!BoldBIDashboard.isNullOrUndefined(this.queryFilter[i].DimensionFilterSchemaInfo)&&this.queryFilter[i].DimensionFilterSchemaInfo.IsTopNApplied&&n===this.queryFilter[i].DimensionFilterSchemaInfo.TopNFilterConditionInfo.ColumnId||!BoldBIDashboard.isNullOrUndefined(this.queryFilter[i].DateFilterSchemaInfo)&&this.queryFilter[i].DateFilterSchemaInfo.IsTopNApplied&&n===this.queryFilter[i].DateFilterSchemaInfo.TopNFilterConditionInfo.ColumnId)return!0;return!1},t.prototype.hasQueryFilterTable=function(n){var i=!1,t;if(!BoldBIDashboard.isNullOrUndefined(this.queryFilter)&&this.queryFilter.length>0)for(t=0;t<this.queryFilter.length;t++)if(n===this.queryFilter[t].TableName){i=!0;break}else if(i=this.validateTopNFilterInfo(t),i)break;return i},t.prototype.hasExpressionTable=function(n){for(var r,t,u=this.dashboardDesigner.modules.queryFilter,i=0;i<u.dataFields.length;i++)if(u.dataFields[i].table===n&&(r=u.dataFields[i].columnName,!BoldBIDashboard.isNullOrUndefined(this.queryExp)&&this.queryExp.length>0))for(t=0;t<this.queryExp.length;t++)if(r&&BoldBIDashboard.DashboardUtil.contains(this.queryExp[t].expression,"["+r+"]",!0))return!0;return!1},t.prototype.hasExpression=function(n){if(!BoldBIDashboard.isNullOrUndefined(this.queryExp)&&this.queryExp.length>0)for(var t=0;t<this.queryExp.length;t++)if(n&&BoldBIDashboard.DashboardUtil.contains(this.queryExp[t].expression,"["+n+"]",!0))return!0;return!1},t.prototype.hasDataAssign=function(n){for(var r,f,u,i=this.widgetHelper.getAllWidgets(),t=0;t<i.length;t++)if(!BoldBIDashboard.isNullOrUndefined(i[t].DataGroupInfo)&&i[t].DataGroupInfo.DataSourceID===this.dataset.Id)for(r=0;r<i[t].DataGroupInfo.FieldContainers.length;r++)for(f=i[t].DataGroupInfo.FieldContainers[r],u=0;u<f.FieldInfos.length;u++)if(f.FieldInfos[u].Id===n)return!0;return!1},t.prototype.hasWidgetFilter=function(n,t){for(var e,r,i,f=this.widgetHelper.getAllWidgets(),u=0;u<f.length;u++)if(!BoldBIDashboard.isNullOrUndefined(f[u].DataGroupInfo)&&f[u].DataGroupInfo.DataSourceID===this.dataset.Id)for(e=0;e<f[u].DataGroupInfo.FieldContainers.length;e++)for(r=f[u].DataGroupInfo.FieldContainers[e],i=0;i<r.FieldInfos.length;i++)if(!BoldBIDashboard.isNullOrUndefined(r.FieldInfos[i])&&!BoldBIDashboard.isNullOrUndefined(r.FieldInfos[i].DimensionFilterInfo))if(BoldBIDashboard.isNullOrUndefined(r.FieldInfos[i].DimensionFilterInfo.ConditionFilterInfo)||r.FieldInfos[i].DimensionFilterInfo.ConditionFilterInfo.ColumnName!==t){if(!BoldBIDashboard.isNullOrUndefined(r.FieldInfos[i].DimensionFilterInfo.TopNFilterInfo)&&r.FieldInfos[i].DimensionFilterInfo.TopNFilterInfo.ColumnId===n)return!0}else return!0;return!1},t.prototype.hasSorting=function(n){for(var f,i,t,u=this.widgetHelper.getAllWidgets(),r=0;r<u.length;r++)if(!BoldBIDashboard.isNullOrUndefined(u[r].DataGroupInfo)&&u[r].DataGroupInfo.DataSourceID===this.dataset.Id)for(f=0;f<u[r].DataGroupInfo.FieldContainers.length;f++)for(i=u[r].DataGroupInfo.FieldContainers[f],t=0;t<i.FieldInfos.length;t++)if(!BoldBIDashboard.isNullOrUndefined(i.FieldInfos[t].CustomSorting)&&!BoldBIDashboard.isNullOrUndefined(i.FieldInfos[t].CustomSorting.CustomSortType)&&i.FieldInfos[t].CustomSorting.CustomSortType===CustomSortType[CustomSortType.Field]&&i.FieldInfos[t].CustomSorting.FieldId===n)return!0;return!1},t.prototype.removeExpTypecast=function(n){var t,i;if(this.hasExpression(n)){for(t=0;t<this.queryExp.length;t++)n&&BoldBIDashboard.DashboardUtil.contains(this.queryExp[t].expression,"["+n+"]",!0)&&(this.removeHierarchyExp(this.queryExp[t].name),this.queryExp.splice(t,1));if(this.queryExp&&this.queryExp.length>0)for(i=0;i<this.queryExp.length;i++)if(BoldBIDashboard.DashboardUtil.contains(this.queryExp[i].expression,"["+n+"]",!0)){this.queryExp.splice(i,1);break}}},t.prototype.removeFilterTypeCast=function(n,t){if(!BoldBIDashboard.isNullOrUndefined(this.queryFilter)&&this.queryFilter.length>0)for(var i=this.queryFilter.length-1;i>=0;i--)if(this.queryFilter[i].Name===n&&this.queryFilter[i].TableId===t){this.queryFilter.splice(i,1);break}},t.prototype.removeHierarchyExp=function(n){for(var t=0;t<this.queryExp.length;t++)BoldBIDashboard.DashboardUtil.contains(this.queryExp[t].expression,n,!0)&&(this.removeHierarchyExp(this.queryExp[t].name),this.queryExp.splice(t,1))},t.prototype.designerClick=function(n){var t=this.bbdesigner$(n.target).parents("ul.bbi-designer-menu"),i;t.length>0?(i=this.element.find(".bbi-designer-menu:visible").not(t),i.hide()):this.bbdesigner$(n.target).hasClass("bbi-designer-click")||this.bbdesigner$(n.target).closest(".bbi-designer-click").length>0||(this.bbdesigner$(".bbi-designer-menu:visible").hide(),this.dashboardDesigner.element.find(".e-designer-tooltip:visible").css("display","none"))},t.prototype.editColumnBlur=function(n){var u=this.bbdesigner$(n.currentTarget),o=u.closest("li"),s=u.attr("liTag"),f=o.find("#"+s),i=u.val().trim(),h=o.find("#"+this.id+"_"+BoldBIDashboard.DashboardUtil.escapeSelector(this.bbdesigner$(n.target).closest("li").attr("name"))),r,e,t;if(this.isExistColName(i,f))this.dashboardDesigner.modules.util.alertDialog(this.locale.alertDialogTitle.dataSet,this.locale.dataSource.columnNameExist,IconType.warning,AlertType.Alert,!1,""),u.css("display","none"),f.css("display","inline-block");else if(i){for(u.css("display","none"),r=0;r<this.columnList.length;r++)for(e=Object.keys(this.columnList[r]),t=0;t<this.columnList[r][e].length;t++)this.columnList[r][e][t].Name===this.bbdesigner$(n.target).closest("li").attr("name")&&(this.columnList[r][e][t].Name=i);for(f.css("display","inline-block").text(i.trim()),this.bbdesigner$(n.target).closest("li").attr("name",i),this.bbdesigner$(n.target).closest("li").attr("id",this.dashboardDesigner._id+"_li_"+i),h.attr("id",this.id+"_"+i),f.attr("data-tooltip",i),this.postColumnUpdate(n,i,null,ColumnActions.nameEdit),t=0;t<this.queryExp.length;t++)this.queryExp[t].expression.indexOf(this.renameColVal)!==-1&&(this.queryExp[t].expression=this.queryExp[t].expression.replace(this.renameColVal,i));this.editColVal=null;this.renameColVal=null}else this.dashboardDesigner.modules.util.alertDialog(this.locale.alertDialogTitle.dataSet,this.locale.dataSource.columnName,IconType.warning,AlertType.Alert,!1,""),u.css("display","none"),f.css("display","inline-block")},t.prototype.editColumnName=function(n){var i=this.bbdesigner$(n.currentTarget).find(".e-edit-column"),u=i[0],r=this.dragSurfaceTag.find(".e-edit-column:visible").not(i),f=this.bbdesigner$(n.currentTarget).find(".e-list-text"),t;i.css("display")==="none"&&r.length===0?(t=f.text().trim(),f.css("display","none"),i.css("display","inline-block").val(t).focus(),this.editColVal=t,this.renameColVal=t,u.selectionStart=u.selectionEnd=t.length):r.length>0&&this.editColumnBlur({currentTarget:r[0]})},t.prototype.editColumnKeyPress=function(n){if(n.keyCode===13){var i=this.bbdesigner$(n.currentTarget),u=i.closest("li"),f=i.attr("liTag"),t=u.find("#"+f),r=i.val().trim();this.isExistColName(r,t)&&r!==this.editColVal?(this.dashboardDesigner.modules.util.alertDialog(this.locale.alertDialogTitle.dataSet,this.locale.dataSource.columnNameExist,IconType.warning,AlertType.Alert,!1,""),i.css("display","none"),t.css("display","inline-block")):r?(i.css("display","none"),t.css("display","inline-block").text(r.trim()),BoldBIDashboard.DashboardUtil.isExistTextWidth(t)?t.addClass("e-title-tip"):t.removeClass("e-title-tip"),this.editColVal=null):(this.dashboardDesigner.modules.util.alertDialog(this.locale.alertDialogTitle.dataSet,this.locale.dataSource.columnName,IconType.warning,AlertType.Alert,!1,""),i.css("display","none"),t.css("display","inline-block"))}},t.prototype.isExistExpField=function(n,t){var i=this,r=!1;return n.each(function(n,u){for(var l=i.bbdesigner$(u).data("e-table"),f=i.getColumnList(l),e=Object.keys(f),o=0;o<f[e].length;o++){var a=BoldBIDashboard.DashboardUtil.escapeSelector(f[e][o].Name),h=i.bbdesigner$(u).find("#"+i.id+"_txtSpan_"+a+BoldBIDashboard.DashboardUtil.escapeSelector(e.toString())),s=f[e][o].Name,c=h.text();if(s=h.attr("isDuplicate")==="true"?"["+s+" ("+/\(([^)]+)\)/.exec(h.text())[1]+")]":BoldBIDashboard.isNullOrUndefined(c)||c.toLowerCase()===f[e][o].Name.toLowerCase()?"["+s+"]":"["+s+" ("+c+")]",t&&BoldBIDashboard.DashboardUtil.contains(t,s,!0)||l.viewType==="Stored Procedures"){r=!0;return}}}),r},t.prototype.isExistColName=function(n,t){var r=this,u=this.dragSurfaceTag.find(".bbi-data-table"),f=this.id,i=!1;return u.each(function(u,e){var h=r.bbdesigner$(e).data("e-table"),c=document.getElementById(f+"_txtSpan_"+BoldBIDashboard.DashboardUtil.escapeSelector(n)+BoldBIDashboard.DashboardUtil.escapeSelector(h.displayName)),o=jQuery(c),s;if(BoldBIDashboard.isNullOrUndefined(t)||!o.is(t)){if(s=o.text(),o.attr("isDuplicate")==="true"&&n.toLowerCase()===s.toLowerCase()){i=!0;return}if(n.toLowerCase()===s.toLowerCase()){i=!0;return}}}),i},t.prototype.onColumnClick=function(n){var t=this.bbdesigner$(n.target),c=t.attr("name"),i=t.closest("li"),r=i.attr("dataId")||i.attr("data-uid"),u=this.hasDataAssign(r),l=this.locale.alertWindowMesages.columnDisableMessage,f=this.bbdesigner$(n.target).parent().closest(".bbi-data-table").find(".e-dbrd-query-select"),e=BoldBIDashboard.Dashboard.ConnectionHelper.isHierarchicalConnection(this.connectionInstance),o,s,h;t.hasClass("e-designer-select")&&(t.hasClass("bbi-designer-dataset-column-select")?u?(o={dataId:r,dataField:c,hasDataAssign:u},this.dashboardDesigner.modules.util.alertDialog(this.locale.alertDialogTitle.RemoveColumn,l,IconType.warning,AlertType.Confirm,!1,"",{dataInfo:{event:n,dataInfo:o},instance:this,method:"deselectColumn"})):(t.addClass("bbi-designer-dataset-column-deselect bbi-dbrd-designer-hoverable").removeClass("bbi-designer-dataset-column-select"),t.attr("data-tooltip","Hide"),t.siblings("li .e-list-text,li .bbi-query-datatype").css("opacity","0.5"),t.siblings(".bbi-designer-selection.e-settings").length>0?t.siblings(".bbi-designer-selection.e-settings").css("display","none"):i.find(".bbi-text-content").addClass("deselect"),this.postColumnUpdate(n,"",null,ColumnActions.visibility)):(t.removeClass("bbi-designer-dataset-column-deselect").addClass("bbi-designer-dataset-column-select bbi-dbrd-designer-hoverable"),t.attr("data-tooltip","Show"),t.siblings("li .e-list-text,li .bbi-query-datatype").css("opacity","1"),t.siblings(".bbi-designer-selection.e-settings").length>0?t.siblings(".bbi-designer-selection.e-settings").css("display","inline-block"):i.find(".bbi-text-content").removeClass("deselect"),this.postColumnUpdate(n,"",null,ColumnActions.Deselect)),s=e?t.parentsUntil(".e-dashboard-treeView").find(".bbi-query-selection").filter("[data-tooltip = "+this.locale.queryDesigner.showDataTooltip+"]"):t.closest("ul").find("li span").filter("[data-tooltip = "+this.locale.queryDesigner.showDataTooltip+"]"),h=e?t.parentsUntil(".e-dashboard-treeView").find(".bbi-query-selection").filter("[data-tooltip = "+this.locale.queryDesigner.hideDataTooltip+"]"):t.closest("ul").find("li span").filter("[data-tooltip = "+this.locale.queryDesigner.hideDataTooltip+"]"),s.length===0?f.addClass("bbi-designer-dataset-column-deselect bbi-dbrd-designer-hoverable").removeClass("bbi-designer-dataset-column-select e-reportdesigner-dataset-intermediate"):h.length===0&&f.addClass("bbi-designer-dataset-column-select bbi-dbrd-designer-hoverable").removeClass("bbi-designer-dataset-column-deselect e-reportdesigner-dataset-intermediate"))},t.prototype.deselectColumn=function(n,t){n&&(this.bbdesigner$(t.event.target).addClass("bbi-designer-dataset-column-deselect bbi-dbrd-designer-hoverable").removeClass("bbi-designer-dataset-column-select"),this.bbdesigner$(t.event.target).attr("data-tooltip","Hide"),this.bbdesigner$(t.event.target).siblings().last().css("display","none"),this.postColumnUpdate(t.event,"",null,ColumnActions.visibility),this.updateDataFields(t.dataInfo))},t.prototype.removedInvalidExpressions=function(n){for(var i=[],t=this.queryExp.length-1;t>=0;t--)(this.queryExp[t].name===n||this.queryExp[t].expression.indexOf("["+n+"]")>-1)&&(i.push(this.queryExp[t].name),this.queryExp.splice(t,1));if(i.length>0)for(t=i.length-1;t>=0;t--)this.removedInvalidExpressions(i[t])},t.prototype.updateDataFields=function(n){var i,u,f,r,e,t;if(n.hasDataAssign)for(i=this.widgetHelper.getAllWidgets(),t=0;t<i.length;t++)if(i[t].DataGroupInfo.DataSourceID===this.dataset.Id)for(u=0;u<i[t].DataGroupInfo.FieldContainers.length;u++)for(f=i[t].DataGroupInfo.FieldContainers[u],r=0;r<f.FieldInfos.length;r++)f.FieldInfos[r].Id===n.dataId&&f.FieldInfos.splice(r,1);if(n.hasExp&&!BoldBIDashboard.isNullOrUndefined(this.queryExp)&&this.queryExp.length>0){for(e=[],t=this.queryExp.length-1;t>=0;t--)n.dataField&&BoldBIDashboard.DashboardUtil.contains(this.queryExp[t].expression,"["+n.dataField+"]",!0)&&(e.push(this.queryExp[t].name),this.queryExp.splice(t,1));for(t=0;t<e.length;t++)this.removedInvalidExpressions(e[t])}if(n.hasFilter&&!BoldBIDashboard.isNullOrUndefined(this.queryFilter)&&this.queryFilter.length>0)for(t=this.queryFilter.length-1;t>=0;t--)(n.dataId===this.queryFilter[t].Id||!BoldBIDashboard.isNullOrUndefined(this.queryFilter[t].BooleanFilterSchemaInfo)&&this.queryFilter[t].BooleanFilterSchemaInfo.IsTopNApplied&&this.queryFilter[t].BooleanFilterSchemaInfo.TopNFilterConditionInfo.ColumnId===n.dataId||!BoldBIDashboard.isNullOrUndefined(this.queryFilter[t].DimensionFilterSchemaInfo)&&this.queryFilter[t].DimensionFilterSchemaInfo.IsTopNApplied&&this.queryFilter[t].DimensionFilterSchemaInfo.TopNFilterConditionInfo.ColumnId===n.dataId||!BoldBIDashboard.isNullOrUndefined(this.queryFilter[t].DateFilterSchemaInfo)&&this.queryFilter[t].DateFilterSchemaInfo.IsTopNApplied&&this.queryFilter[t].DateFilterSchemaInfo.TopNFilterConditionInfo.ColumnId===n.dataId)&&this.queryFilter.splice(t,1)},t.prototype.postColumnUpdate=function(n,t,i,r,u){var f=this.bbdesigner$(n.target),d=f.closest("li").attr("datatype")||f.closest("li").find("span").closest(".e-user-select").attr("datatype"),y=f.closest(".bbi-data-table").data("e-table").name,p=f.closest(".bbi-data-table").data("e-table").schema,w=f.closest(".bbi-data-table").data("e-table").id,b=f.closest(".bbi-data-table").data("e-table").schema,l=f.closest("li").text(),a=f.closest("li").data(),v,e=this.tableType,o,h,c,s,k;if(BoldBIDashboard.isNullOrUndefined(a)||BoldBIDashboard.isNullOrUndefined(a.uid)){for(o=0;o<e.length;o++)if(BoldBIDashboard.isNullOrUndefined(this.renameColVal)&&l===e[o].Name||this.renameColVal===e[o].Name){v=e[o].ID;break}}else v=a.uid;if(h=!0,r===ColumnActions.visibility?h=f.hasClass("bbi-designer-dataset-column-select"):r===ColumnActions.nameEdit&&(l=this.renameColVal,h=this.bbdesigner$(n.currentTarget).siblings("span.bbi-query-selection").hasClass("bbi-designer-dataset-column-select")?!0:!1),c=[],f.hasClass("e-dbrd-query-select"))for(s=0;s<e.length;s++)c.push({ColumnName:e[s].Name,Id:e[s].ID,AliasName:t,IsVisible:h,DataType:e[s].DataType,FiscalYearStart:r===ColumnActions.fiscalEdit?this.bbdesigner$(u.element).closest("li").attr("data-fiscalvalue"):""});else c.push({ColumnName:l,Id:v,AliasName:t,IsVisible:h,DataType:i||d,FiscalYearStart:r===ColumnActions.fiscalEdit?this.bbdesigner$(u.element).closest("li").attr("data-fiscalvalue"):""});if(BoldBIDashboard.isNullOrUndefined(u))k=JSON.stringify({className:BoldBIDashboard.DashboardUtil.DesignerAction.DataDesignViewAction,designerAction:BoldBIDashboard.DashboardUtil.DesignerAction.columnFormatting,dataSetId:this.dataset.Id,tableName:y,tableSchema:p,tableId:w,schema:b,columnInfo:c,format:r,isQueryDesignerMode:this.dashboardDesigner.isQueryDesignerMode}),this.updatePreview(k);else{var g=this.tableMenuUlTag.data("BoldBIDashboardMenu"),nt=this.isAggregateTypeChange(this.bbdesigner$(u.element).closest("li").attr("itemType"),this.bbdesigner$(u.element).closest("li").attr("data-fiscalvalue")),tt=this.isFiscalYearStart(this.bbdesigner$(u.element).closest("li").attr("data-fiscalvalue")),it={tableName:y,tableSchema:p,tableId:w,schema:b,columnInfo:c,format:r};this.setDataTypeOrFiscalYear(u,g._targetEjElement,nt,tt,it)}},t.prototype.updatePreview=function(n){this.dashboardDesigner.modules.util.doAjaxPost("POST",this.model.serviceUrl+BoldBIDashboard.Dashboard.ServiceAPI.processdata,{action:BoldBIDashboard.DashboardUtil.DesignerAction.columnFormatting,data:n},{fnction:this.bbdesigner$.proxy(this.previewData,this),indicator:[this.bbdesigner$.proxy(this.showPreviewIndicator,this),this.bbdesigner$.proxy(this.hidePreviewIndicator,this)]})},t.prototype.activeNode=function(n,t){t?(n.addClass("bbi-table-user-selection-active"),n.find("span").addClass("bbi-table-user-selection-active"),n.find(".e-settings").css("display","block")):(n.removeClass("bbi-table-user-selection-active"),n.find("span").removeClass("bbi-table-user-selection-active"),n.find(".e-settings").css("display","none"))},t.prototype.calcScrollTop=function(n,t){for(var e=t.outerHeight(),r=t.find("li"),u=0,f=n,i=0;i<f;i++)u+=r.eq(i).outerHeight();return u-(e-r.eq(f).outerHeight())/2},t.prototype.listKeyDown=function(n,t){var e=t.keyCode,u,i,r,f;return e===40?(i=void 0,r=this.bbdesigner$(n).find("li.bbi-table-user-selection-active"),r.length>0?(this.activeNode(r,!1),u=r.next(),u.length>0?(i=u,this.activeNode(u,!0)):(i=this.bbdesigner$(n).find("li").eq(0),this.activeNode(i,!0))):(i=this.bbdesigner$(n).find("li").eq(0),this.activeNode(i,!0)),this.bbdesigner$(t.currentTarget).data("BoldBIDashboardScroller").setModel({scrollTop:this.calcScrollTop(i.index(),n)}),t.preventDefault(),!1):e===38?(i=void 0,r=this.bbdesigner$(n).find("li.bbi-table-user-selection-active"),r.length>0?(this.activeNode(r,!1),f=r.prev(),f.length>0?(i=f,this.activeNode(f,!0)):(i=this.bbdesigner$(n).find("li").last(),this.activeNode(i,!0))):(i=this.bbdesigner$(n).find("li").last(),this.activeNode(i,!0)),this.bbdesigner$(t.currentTarget).data("BoldBIDashboardScroller").setModel({scrollTop:this.calcScrollTop(i.index(),n)}),t.preventDefault(),!1):void 0},t.prototype.showQueryEditor=function(n){var t=this.dragSurfaceTag.find(".bbi-data-table");n?(this.ejQueryTool.disableItemByID(this.id+"_dataset_tool_join"),this.ejQueryTool.disableItemByID(this.id+"_dataset_tool_filter"),this.ejQueryTool.disableItemByID(this.id+"_dataset_tool_userbasedfilter"),t.length>0?this.ejQueryTool.enableItemByID(this.id+"_dataset_tool_exp"):this.ejQueryTool.disableItemByID(this.id+"_dataset_tool_exp"),this.toggleDataSamplingOption(!1),this.element.find("#"+this.id+"_table_schemaArea").css("display","none"),this.designSwitcher.css("display","none"),this.queryEditorTag.css("display","block"),this.dragSurfaceTag.css("display","none"),this.updateEditorSize()):(this.ejQueryTool.enableItemByID(this.id+"_dataset_tool_join"),this.ejQueryTool.enableItemByID(this.id+"_dataset_tool_filter"),this.ejQueryTool.enableItemByID(this.id+"_dataset_tool_userbasedfilter"),this.ejQueryTool.enableItemByID(this.id+"_dataset_tool_exp"),this.toggleDataSamplingOption(t.length>0&&this.connectionInstance.IsDataSamplingSupported),this.element.find("#"+this.id+"_table_schemaArea").css("display","inline-block"),this.designSwitcher.css("display","block"),this.queryEditorTag.css("display","none"),this.dragSurfaceTag.css("display","block"),this.resetSize())},t.prototype.confirmExecution=function(n){var t=null,i;n&&(this.dashboardDesigner.isExecute=n,i=BoldBIDashboard.DashboardUtil.parseQuery(t),t=this.getQueryText(),t!==""?(this.dragSurfaceTag.find(".bbi-data-table").remove(),this.executeTempQuery(t)):this.updateExpIconVisibility())},t.prototype.confirmSwitcher=function(n){if(n){this.dashboardDesigner.modules.util.doAjaxPost("POST",this.model.serviceUrl+BoldBIDashboard.Dashboard.ServiceAPI.processdata,{action:BoldBIDashboard.DashboardUtil.DesignerAction.switchtoDesignView,data:JSON.stringify({className:BoldBIDashboard.DashboardUtil.DesignerAction.CodeViewAction,designerAction:BoldBIDashboard.DashboardUtil.DesignerAction.switchtoDesignView,dataSetId:this.dataset.Id,isQueryDesignerMode:this.dashboardDesigner.isQueryDesignerMode})},{});this.showLoadMoreOpt(!1);this.showNoRecord(!0);this.showLoadRecordMsg(!0);this.setQueryText("");this.dragSurfaceTag.find(".bbi-data-table").remove();this.showTableHint(this.dragSurfaceTag.find(".bbi-data-table").length);this.queryJoiner=[];this.queryExp=[];this.queryFilter=[];this.dataSampleInfo=[];this.commandMode=this.dragSurfaceTag.find(".e-Stored.Procedures").length>0?CommandMode.Procedure:CommandMode.Text;this.dashboardDesigner.isExecute=!1;this.codeSwitcher(!1);BoldBIDashboard.DashboardUtil.buttonEnable(this.btnUpdateTag,!1);this.previewSwitcherTag.css("display","none");this.btnUpdateTag.css("display","none");this.defaultQuery=null;this.removeDataColumn(null,!0);var t=BoldBIDashboard.Dashboard.ConnectionHelper.isHierarchicalConnection(this.connectionInstance);t&&(this.dataset.Query.IsCodeView=!1,this.updateConnectionSpecificUI())}else this.codeChkSwitcher.prop("checked",!0)},t.prototype.codeSwitcher=function(n){if(n){var t=this.dragSurfaceTag.find(".bbi-data-table");this.showLoadMoreOpt(0);this.queryEditorTag.css("display","block");this.dragSurfaceTag.css("display","none");this.ejQueryTool.disableItemByID(this.id+"_dataset_tool_join");this.ejQueryTool.disableItemByID(this.id+"_dataset_tool_filter");this.toggleDataSamplingOption(!1);t.length>0?this.ejQueryTool.enableItemByID(this.id+"_dataset_tool_exp"):this.ejQueryTool.disableItemByID(this.id+"_dataset_tool_exp");this.ejQueryTool.enableItemByID(this.id+"_dataset_tool_run")}else this.dragSurfaceTag.css("display","block"),this.queryEditorTag.css("display","none"),this.toggleDataSamplingOption(this.connectionInstance.IsDataSamplingSupported),this.updateToolbarItems()},t.prototype.renderText=function(n){for(var t="",u=this.queryEditorTag,i=this.getColumnList(n),f=Object.keys(i),r=0;r<i[f].length;r++)t+=(t?",":"")+n.schema+"."+n.name+"."+i[f][r].Name;t="Select "+t+" From "+n.schema+"."+n.name;u.text(u.text()+t)},t.prototype.updateToolbarItems=function(){var n=this.dragSurfaceTag.find(".bbi-data-table");n.length===0?(this.ejQueryTool.disableItemByID(this.id+"_dataset_tool_filter"),this.ejQueryTool.disableItemByID(this.id+"_dataset_tool_userbasedfilter"),this.ejQueryTool.disableItemByID(this.id+"_dataset_tool_exp")):(this.ejQueryTool.enableItemByID(this.id+"_dataset_tool_filter"),this.ejQueryTool.enableItemByID(this.id+"_dataset_tool_userbasedfilter"),this.ejQueryTool.enableItemByID(this.id+"_dataset_tool_exp"));this.updateParamIconVisibility();n.length>1&&this.connectionInstance.PluginId!=="cd8b01ad-1302-4dab-a066-499ra13a6i13"&&this.connectionInstance.PluginId!=="e3cdb76e-6a27-4103-a5f9-88e61e1035fd"?this.ejQueryTool.enableItemByID(this.id+"_dataset_tool_join"):this.ejQueryTool.disableItemByID(this.id+"_dataset_tool_join");this.toggleDataSamplingOption(n.length>0&&this.connectionInstance.IsDataSamplingSupported);!this.IsMergedDatasource()&&(this.dragSurfaceTag.is(":visible")&&n.length>0||this.dragSurfaceTag.is(":hidden"))?this.ejQueryTool.enableItemByID(this.id+"_dataset_tool_run"):this.ejQueryTool.disableItemByID(this.id+"_dataset_tool_run");this.commandMode===CommandMode.Procedure&&(this.designSwitcher.attr("disabled","true").css("opacity",".3"),this.codeChkSwitcher.attr("disabled","true"))},t.prototype.enableDataSourceDwn=function(n){n?this.ejDrpdwnData.enable():this.ejDrpdwnData.disable()},t.prototype.isEnableCodeSwticher=function(n){return this.connectionInstance.ShouldSupportCodeView&&n!==CommandMode.Procedure},t.prototype.enableToolbarItems=function(n){if(this.setScheduleButtonDisplayAndText(),this.updateParamIconVisibility(),n){var t=this.dragSurfaceTag.find(".bbi-data-table");BoldBIDashboard.DashboardUtil.buttonEnable(this.btnSaveTag,!0);BoldBIDashboard.DashboardUtil.buttonEnable(this.btnContinueToDashboardTag,!0);BoldBIDashboard.DashboardUtil.buttonEnable(this.btnUpdateTag,!0);this.schemaHeader.removeAttr("disabled").css("opacity","1");BoldBIDashboard.DashboardUtil.buttonEnable(this.element.find("#"+this.id+"_dataset_txt"),!0);this.element.find("#"+this.id+"_dataset_description").removeAttr("disabled").css({opacity:"1",cursor:"pointer"});this.connectionInstance.PluginId==="bf72e80a-1c37-4cf3-9592-6f32d9d7e3e9"&&(this.connectionInstance.PluginId!=="bf72e80a-1c37-4cf3-9592-6f32d9d7e3e9"||this.queryEditorTag.is(":visible"))||this.ejQueryTool.enableItemByID(this.id+"_dataset_tool_exp");this.toggleDataSamplingOption(t.length>0&&this.connectionInstance.IsDataSamplingSupported);this.ejQueryTool.enableItemByID(this.id+"_dataset_tool_userbasedfilter");this.enableEditConnection(!0);this.enableEditSchedule(!0);this.bbdesigner$("body").off("click","#"+this.id+"_editScheduleButton",this.bbdesigner$.proxy(this.datasource.openScheduleWindow,this.datasource,BoldBIDashboard.isNullOrUndefined(this.dataset.PublishId)?"":this.dataset.PublishId));this.bbdesigner$("body").on("click","#"+this.id+"_editScheduleButton",this.bbdesigner$.proxy(this.datasource.openScheduleWindow,this.datasource,BoldBIDashboard.isNullOrUndefined(this.dataset.PublishId)?"":this.dataset.PublishId));t.length>1&&!this.queryEditorTag.is(":visible")&&this.connectionInstance.PluginId!=="cd8b01ad-1302-4dab-a066-499ra13a6i13"&&this.connectionInstance.PluginId!=="e3cdb76e-6a27-4103-a5f9-88e61e1035fd"?this.ejQueryTool.enableItemByID(this.id+"_dataset_tool_join"):this.ejQueryTool.disableItemByID(this.id+"_dataset_tool_join");(this.dragSurfaceTag.is(":visible")&&t.length>0||this.dragSurfaceTag.is(":hidden"))&&this.ejQueryTool.enableItemByID(this.id+"_dataset_tool_run");!this.queryEditorTag.is(":visible")&&t.length>0&&this.ejQueryTool.enableItemByID(this.id+"_dataset_tool_filter");this.IsMergedDatasource()&&(this.ejQueryTool.disableItemByID(this.id+"_dataset_tool_run"),this.ejQueryTool.disableItemByID(this.id+"_dataset_tool_join"),this.enableEditSchedule(!1))}else BoldBIDashboard.DashboardUtil.buttonEnable(this.btnSaveTag,!1),BoldBIDashboard.DashboardUtil.buttonEnable(this.btnContinueToDashboardTag,!1),BoldBIDashboard.DashboardUtil.buttonEnable(this.btnUpdateTag,!1),this.ejQueryTool.disableItemByID(this.id+"_dataset_tool_filter"),this.ejQueryTool.disableItemByID(this.id+"_dataset_tool_userbasedfilter"),this.ejQueryTool.disableItemByID(this.id+"_dataset_tool_join"),this.ejQueryTool.disableItemByID(this.id+"_dataset_tool_parameter"),this.enableEditSchedule(!1),this.ejQueryTool.disableItemByID(this.id+"_dataset_tool_run"),this.ejQueryTool.disableItemByID(this.id+"_dataset_tool_exp"),this.toggleDataSamplingOption(!1),this.schemaHeader.attr("disabled","true").css("opacity","1"),this.designSwitcher.attr("disabled","true").css("opacity",".3")},t.prototype.setScheduleButtonDisplayAndText=function(){this.btnEditSchedule.css({display:this.connectionInstance.CanScheduleDataRefresh?"block":"none"})},t.prototype.toolbarClick=function(n){var t=n.event.target,i;this.bbdesigner$(t).hasClass("bbi-designer-toolbarli")&&(t=this.bbdesigner$(t).find("span"));this.bbdesigner$(t).hasClass("bbi-designer-toolbar-run")?(i=this.triggerEvents("toolbarClick",{target:t,click:"Execute"}),i||(this.element.find("#"+this.id+"_div_dragSurface .e-Stored.Procedures").length>0?this.loadProcedureSchema():this.queryEditorTag.is(":visible")?(this.dataset.Query.QueryDesignerState=this.saveDesignerState(),this.executeQuery()):(this.dataset.Query.QueryDesignerState=this.saveDesignerState(),this.ajaxPostUpdateColumnListForReconnect(null)))):this.bbdesigner$(t).hasClass("bbi-designer-toolbar-join")?(i=this.triggerEvents("toolbarClick",{target:t,click:"Join"}),i||this.openJoinEditor()):this.bbdesigner$(t).hasClass("bbi-designer-dataset-filter")||this.bbdesigner$(t).siblings(".bbi-designer-dataset-filter").length!==0?(i=this.triggerEvents("toolbarClick",{target:t,click:"Filter"}),i||this.openInitialFilter()):this.bbdesigner$(t).hasClass("bbi-designer-toolbar-expression")?(i=this.triggerEvents("toolbarClick",{target:t,click:"Expression"}),i||this.openQueryExpression()):this.bbdesigner$(t).hasClass("bbi-designer-toolbar-dashboard-parameter")?(i=this.triggerEvents("toolbarClick",{target:t,click:"Parameter"}),i||this.openDashboardParameter()):this.bbdesigner$(t).hasClass("bbi-designer-toolbar-datasample")?(i=this.triggerEvents("toolbarClick",{target:t,click:"Sampling"}),i||this.renderDataSampleWindow()):this.bbdesigner$(t).hasClass("bbi-designer-toolbar-userbased-filter")?(i=this.triggerEvents("toolbarClick",{target:t,click:"Filter"}),i||this.openUserBaseFilterDialog()):this.triggerEvents("toolbarClick",{target:event,click:"External"})},t.prototype.saveInitialFilter=function(n){JSON.stringify(this.queryFilter)!==JSON.stringify(n.queryFilters)&&(this.queryFilter=n.queryFilters,this.isInitialFilterApplied=!0,this.executeUIQuery(),this.isInitialFilterApplied=!1)},t.prototype.openJoinEditor=function(){var n=this.dashboardDesigner.modules.queryJoiner;n.showQueryJoiner(this.queryJoiner,!0,this.bbdesigner$.proxy(this.joinerActionRes,this))},t.prototype.openQueryExpression=function(){var n=this.dashboardDesigner.modules.queryExpression,t={callBackInstance:this,callBackMethod:"executeUIQuery",optionalArgs:{isEdit:this.isEdit,tableType:this.tableType,datasourceInfo:this.DatasourceInfo,dataset:this.dataset}};n.openExpression(this.queryExp,this.connectionInstance,t,!0)},t.prototype.openInitialFilter=function(){var i=BoldBIDashboard.Dashboard.ConnectionHelper.isHierarchicalConnection(this.connectionInstance),r={callBackInstance:this,callBackMethod:"saveInitialFilter"},n,t;i?(n=JSON.parse(this.dataset.TreeViewData),this.dashboardDesigner.modules.hierarchicalMainFilterDialog.openDialog(r,n.Dimension)):(t=this.dashboardDesigner.modules.queryFilter,t.openQueryFilterDialog())},t.prototype.enableDataSourceDrp=function(){this.model.dataSources&&this.model.dataSources.length>0?this.ejDrpdwnData.enable():this.ejDrpdwnData.disable()},t.prototype.openDashboardParameter=function(){var n=this.dashboardDesigner.modules.dynamicParameterPanel;n.openDashboardParameter()},t.prototype.updateTableFromParam=function(){this.previewSwitcherChkBxTag.is(":checked")&&this.updatePreviewGrid()},t.prototype.updateParamIconVisibility=function(){var n=this.element.find("#"+this.id+"_dataset_tool_parameter");n.removeClass("bbi-dbrd-param-icon-invisible");this.ejQueryTool.enableItemByID(this.id+"_dataset_tool_parameter")},t.prototype.updateQueryDesignerInfo=function(n){var i,u,r,t;if(!BoldBIDashboard.isNullOrUndefined(n.Expression)&&n.Expression.length>0)for(r=this.dashboardDesigner.modules.queryExpression,t=this.queryExp.length-1;t>=0;t--)for(i=0;i<n.Expression.length;i++)n.Expression[i].Expression===this.queryExp[t].name&&(n.Expression[i].IsRemove?r.conformRemoveExpression(this.queryExp[t].name):this.queryExp[t].expression=n.Expression[i].DisplayText);else if(!BoldBIDashboard.isNullOrUndefined(n.StoredProcedure)&&n.StoredProcedure.length>0)u=this.dashboardDesigner.modules.storeParameter,u.updateProceParams(n.StoredProcedure);else if(!BoldBIDashboard.isNullOrUndefined(n.QueryView)&&n.QueryView.length>0){for(r=this.getQueryText(),t=0;t<n.QueryView.length;t++)r=r.replace(new RegExp(n.QueryView[t].OldParam,"g"),n.QueryView[t].newParam);this.codeEditor.setValue(r)}},t.prototype.updateToolbar=function(){var n=this.model.toolbarSettings;this.showToolBar(n.showToolbar);this.showDataSourceDdn(n.items&BoldBIDashboard.QueryDesigner.ToolbarItems.SelectDataSource);this.showDataSetName(n.items&BoldBIDashboard.QueryDesigner.ToolbarItems.InputDataSet);this.showExecuteQuery(n.items&BoldBIDashboard.QueryDesigner.ToolbarItems.Execute);this.showTableJoiner(n.items&BoldBIDashboard.QueryDesigner.ToolbarItems.Join);this.showTableExp(n.items&BoldBIDashboard.QueryDesigner.ToolbarItems.Expression);this.showTableFilter(n.items&BoldBIDashboard.QueryDesigner.ToolbarItems.Filter);this.showUserBasedFilter(n.items&BoldBIDashboard.QueryDesigner.ToolbarItems.UserBasedFilter);this.showCodeSwitcher(n.items&BoldBIDashboard.QueryDesigner.ToolbarItems.Switcher);this.showSaveBtn(n.items&BoldBIDashboard.QueryDesigner.ToolbarItems.Save);this.showCancelBtn(n.items&BoldBIDashboard.QueryDesigner.ToolbarItems.Cancel);this.toggleDataSamplingOption(!0)},t.prototype.toggleDataSamplingOption=function(n){var t=this.codeChkSwitcher.is(":checked");n&&!t?this.ejQueryTool.enableItemByID(this.id+"_dataset_tool_datasampling"):this.ejQueryTool.disableItemByID(this.id+"_dataset_tool_datasampling")},t.prototype.enableToolbar=function(n){n?(this.ejQueryTool.enable(),this.enableCodeViewSwitcher(!0),this.enableEditConnection(!0),this.enableEditSchedule(!0),BoldBIDashboard.DashboardUtil.buttonEnable(this.element.find("#"+this.id+"_dataset_txt"),!0),this.element.find("#"+this.id+"_dataset_description").removeAttr("disabled").css({opacity:"1",cursor:"pointer"}),BoldBIDashboard.DashboardUtil.buttonEnable(this.btnSaveTag,!0),BoldBIDashboard.DashboardUtil.buttonEnable(this.btnContinueToDashboardTag,!0)):(this.ejQueryTool.disable(),this.enableCodeViewSwitcher(!1),this.enableEditConnection(!1),this.enableEditSchedule(!1),this.designSwitcher.attr("disabled","true").css("opacity",".3"),BoldBIDashboard.DashboardUtil.buttonEnable(this.btnSaveTag,!1),BoldBIDashboard.DashboardUtil.buttonEnable(this.btnContinueToDashboardTag,!1),BoldBIDashboard.DashboardUtil.buttonEnable(this.element.find("#"+this.id+"_dataset_txt"),!1),this.element.find("#"+this.id+"_dataset_description").attr("disabled","true").css({opacity:".3",cursor:"default"}))},t.prototype.enableEditConnection=function(n){n?this.btnEditConnection.removeAttr("disabled"):this.btnEditConnection.attr("disabled","disabled")},t.prototype.enableEditSchedule=function(n){n?this.btnEditSchedule.removeAttr("disabled"):this.btnEditSchedule.attr("disabled","disabled")},t.prototype.enableCodeViewSwitcher=function(n,t){n?this.isEnableCodeSwticher(this.commandMode)||this.commandMode===CommandMode.Procedure&&!BoldBIDashboard.isNullOrUndefined(t)&&t?(this.isTableClose=!1,this.designSwitcher.removeAttr("disabled").css("opacity","1"),this.codeChkSwitcher.removeAttr("disabled")):this.ejQueryTool.disableItemByID(this.id+"_code_switcher"):this.codeChkSwitcher.attr("disabled","true")},t.prototype.showToolBar=function(n){this.designToolbar.css("display",n?"block":"none")},t.prototype.showDataSourceDdn=function(n){this.element.find("#"+this.id+"_table_select_data").css("display",n?"block":"none")},t.prototype.showDataSetName=function(n){this.element.find("#"+this.id+"_table_edit_dataset").css("display",n?"block":"none")},t.prototype.showExecuteQuery=function(n){this.element.find("#"+this.id+"_dataset_tool_run").css("display",n?"block":"none")},t.prototype.showTableJoiner=function(n){this.element.find("#"+this.id+"_dataset_tool_join").css("display",n?"block":"none")},t.prototype.showTableExp=function(n){this.element.find("#"+this.id+"_dataset_tool_exp").css("display",n?"block":"none")},t.prototype.showTableFilter=function(n){this.element.find("#"+this.id+"_dataset_tool_filter").css("display",n?"block":"none")},t.prototype.showUserBasedFilter=function(n){this.element.find("#"+this.id+"_dataset_tool_userbasedfilter").css("display",n?"block":"none")},t.prototype.showCodeSwitcher=function(n){this.element.find("#"+this.id+"_design_switcher").css("display",n?"block":"none")},t.prototype.showEditConnectionBtn=function(){this.element.find("#"+this.id+"_div_dataset_editconnection").css({visibility:this.connectionInstance.AllowConnectionEdit?"visible":"hidden"})},t.prototype.resetConnectionOnEditConnectionCancel=function(){if(!BoldBIDashboard.isNullOrUndefined(this.connectionInstance)&&!BoldBIDashboard.isNullOrUndefined(this.DatasourceInfo)){var n=BoldBIDashboard.Dashboard.ConnectionHelper.getConnectionInfoFromDSInfo(this.dashboardDesigner,this.DatasourceInfo);this.connectionInstance.updateConnectionIfRequired(this.DatasourceInfo,n)}},t.prototype.updateConnectionSpecificUI=function(){if(BoldBIDashboard.isNullOrUndefined(this.connectionInstance))this.previewHeader.css("display","table");else{var n=BoldBIDashboard.Dashboard.ConnectionHelper.isHierarchicalConnection(this.connectionInstance);this.schemaTree.data("BoldBIDashboardTreeView").model.loadOnDemand=!n;n?this.queryEditorTag.is(":visible")||this.dataset&&this.dataset.Query&&this.dataset.Query.IsCodeView?(this.previewHeader.css("display","table"),this.dashboardDesigner.element.find("#"+this.id+"_div_queryDesigner")[0].style.height="70%"):(this.previewHeader.css("display","none"),this.dashboardDesigner.element.find("#"+this.id+"_div_queryDesigner")[0].style.height="100%"):this.previewHeader.css("display","table")}},t.prototype.showSaveBtn=function(n){this.element.find("#"+this.id+"_div_dataset_save").css("display",n?"inline-block":"none")},t.prototype.showCancelBtn=function(n){this.element.find("#"+this.id+"_div_dataset_close").css("display",n?"inline-block":"none")},t.prototype.getDesignerParameters=function(){var r=[],i,t,n;if(this.queryFilter&&this.queryFilter.length>0)for(i=0;i<this.queryFilter.length;i++)this.queryFilter[i].IsQueryParameter&&(t=this.queryFilter[i],n=t.ParameterName,n.Parameter1&&n.Parameter1.length>0&&r.push({Name:n.Parameter1,DataType:t.DataType,Value:t.Value.Value1}),n.Parameter2&&n.Parameter2.length>0&&r.push({Name:n.Parameter2,DataType:t.DataType,Value:t.Value.Value2}));return r},t.prototype.executeReconnectUIQuery=function(n,t,i){this.hasTableOrProcedure()&&this.executeReconnectTempQuery(n,t,i)},t.prototype.executeUIQuery=function(n){this.hasTableOrProcedure()&&!this.editDataSource&&this.executeTempQuery("",n)},t.prototype.postRemovedTable=function(n){var u=this.dataset.Name,r=[],t,f,i,e,o;if(this.queryJoiner.length>=1)for(t=0;t<this.queryJoiner.length;t++){for(f=[],r.push({JoinType:this.queryJoiner[t].join,LeftTableId:this.queryJoiner[t].leftTable,RightTableId:this.queryJoiner[t].rightTable}),i=0;i<this.queryJoiner[t].fields.length;i++)f.push({Condition:this.queryJoiner[t].fields[i].condition,LeftTableFieldId:this.queryJoiner[t].fields[i].leftField,RightTableFieldId:this.queryJoiner[t].fields[i].rightField,Operator:this.queryJoiner[t].fields[i].operator,IsValueChecked:this.queryJoiner[t].fields[i].isValueChecked,Value:this.queryJoiner[t].fields[i].value});r[t].JoinedFields=f}BoldBIDashboard.isNullOrUndefined(n)?this.hasTableOrProcedure()?this.ajaxPostCollection.push(this.dashboardDesigner.modules.util.doAjaxPost("POST",this.model.serviceUrl+BoldBIDashboard.Dashboard.ServiceAPI.processdata,{action:BoldBIDashboard.DashboardUtil.DesignerAction.executeQuery,data:JSON.stringify({className:BoldBIDashboard.DashboardUtil.DesignerAction.DataDesignViewAction,designerAction:BoldBIDashboard.DashboardUtil.DesignerAction.executeQuery,tableName:this.removedTableName||"",tableSchema:this.removedTableSchemaName||"",dataSetName:u,dataSetId:this.dataset.Id,selectedItem:this.tableItems,joinInfo:r,action:"close",isQueryDesignerMode:this.dashboardDesigner.isQueryDesignerMode})},{fnction:this.bbdesigner$.proxy(this.previewData,this),indicator:[this.bbdesigner$.proxy(this.showPreviewIndicator,this),this.bbdesigner$.proxy(this.hidePreviewIndicator,this)]})):(this.showLoadMoreOpt(!1),this.showNoRecord(!0),this.showLoadRecordMsg(!0),this.dashboardDesigner.modules.util.doAjaxPost("POST",this.model.serviceUrl+BoldBIDashboard.Dashboard.ServiceAPI.processdata,{action:BoldBIDashboard.DashboardUtil.DesignerAction.executeQuery,data:JSON.stringify({className:BoldBIDashboard.DashboardUtil.DesignerAction.DataDesignViewAction,designerAction:BoldBIDashboard.DashboardUtil.DesignerAction.executeQuery,tableName:this.removedTableName||"",tableSchema:this.removedTableSchemaName||"",dataSetName:u,dataSetId:this.dataset.Id,selectedItem:this.tableItems,joinInfo:r,action:"close",isQueryDesignerMode:this.dashboardDesigner.isQueryDesignerMode})},{})):(this.showLoadMoreOpt(!1),this.showNoRecord(!0),this.showLoadRecordMsg(!0),e=n.sharedTables.TableDetails.TableName,o=this.getRemovedTableIds(n.sharedTables.RemovedTableInfo),this.dashboardDesigner.modules.util.doAjaxPost("POST",this.model.serviceUrl+BoldBIDashboard.Dashboard.ServiceAPI.processdata,{action:BoldBIDashboard.DashboardUtil.DesignerAction.executeQuery,data:JSON.stringify({className:BoldBIDashboard.DashboardUtil.DesignerAction.DataDesignViewAction,designerAction:BoldBIDashboard.DashboardUtil.DesignerAction.executeQuery,tableNames:e||"",tableIds:o||"",dataSetName:u,dataSetId:this.dataset.Id,joinInfo:r,action:"EditDataSource",isQueryDesignerMode:this.dashboardDesigner.isQueryDesignerMode})},{}))},t.prototype.executeQuery=function(){this.queryEditorTag.is(":visible")?this.dragSurfaceTag.find(".bbi-data-table").length!==0?this.dashboardDesigner.modules.util.alertDialog(this.locale.alertDialogTitle.SwitchDataView,this.locale.alertWindowMesages.tableViewMessage,IconType.warning,AlertType.Confirm,!1,"",{instance:this,method:"confirmExecution"}):this.confirmExecution(!0):(this.showLoadMoreOpt(!0),this.executeTempQuery(""))},t.prototype.executeReconnectTempQuery=function(n,t,i){var r=this.dragSurfaceTag.find(".bbi-data-table"),v=this.dataset.Name,u,o,f,s,h,c,l,a=!1,e;this.queryEditorTag.is(":visible")?(a=!0,u="",f=""):(a=!1,u=this.bbdesigner$(r[r.length-1]).data("e-table").name,l=this.bbdesigner$(r[r.length-1]).data("e-table").viewType,f=this.bbdesigner$(r[r.length-1]).data("e-table").id,o=this.bbdesigner$(r[r.length-1]).data("e-table").schema,s=this.bbdesigner$(r[r.length-1]).data("e-table").isShared,h=this.bbdesigner$(r[r.length-1]).data("e-table").sourceId,c=this.bbdesigner$(r[r.length-1]).data("e-table").displayName);this.addedTableNames.push(u);e=[];BoldBIDashboard.isNullOrUndefined(i)&&(e=[this.bbdesigner$.proxy(this.showPreviewIndicator,this),this.bbdesigner$.proxy(this.hidePreviewIndicator,this)]);this.ajaxPostCollection.push(this.dashboardDesigner.modules.util.doAjaxPost("POST",this.model.serviceUrl+BoldBIDashboard.Dashboard.ServiceAPI.processdata,{action:BoldBIDashboard.DashboardUtil.DesignerAction.getTableFields,data:JSON.stringify({className:BoldBIDashboard.DashboardUtil.DesignerAction.DataDesignViewAction,designerAction:BoldBIDashboard.DashboardUtil.DesignerAction.getTableFields,datasource:this.encrptDataSourceInfo(this.DatasourceInfo),parameters:this.getParameters(!1),tableName:u,tableSchema:o,tableId:f,dataSetName:v,dataSetId:this.dataset.Id,IsReconnect:!0,isShared:s,sourceId:h,alias:c,category:l,isQueryDesignerMode:this.dashboardDesigner.isQueryDesignerMode,isNewTable:this.isNewTableAdded})},{fnction:this.bbdesigner$.proxy(this.updatePreviewGridData,this,n,t),indicator:e}))},t.prototype.getChildFieldFromName=function(n,t,i){if(t.Name===n)return!0;if(!BoldBIDashboard.isNullOrUndefined(t.ChildFields))for(var r=0;r<t.ChildFields.length;r++)i=this.getChildFieldFromName(n,t.ChildFields[r],i);return i},t.prototype.getChildFieldFromId=function(n,t,i){if(t.ID===n)return!0;if(!BoldBIDashboard.isNullOrUndefined(t.ChildFields))for(var r=0;r<t.ChildFields.length;r++)i=this.getChildFieldFromId(n,t.ChildFields[r],i);return i},t.prototype.updatePreviewGridData=function(n,t,i){for(var s,h,c,p,l,w,b,r,o,e,u=JSON.parse(i.jsonData),v=this.queryExp,y=this.queryFilter,a=this.queryJoiner,k=!1,tt=this.dashboardDesigner.modules.queryFilter,f=v.length-1;f>=0;f--){for(s=!1,r=0;r<u.length;r++)if(BoldBIDashboard.isNullOrUndefined(u[r].ChildFields)){if(v[f].name===u[r].Name){s=!0;break}}else if(c=this.getChildFieldFromName(v[f].name,u[r],!1),c===!0){s=!0;break}s||this.queryExp.splice(f,1)}for(f=y.length-1;f>=0;f--){for(h=!1,r=0;r<u.length;r++)if(BoldBIDashboard.isNullOrUndefined(u[r].ChildFields)){if(y[f].Id===u[r].ID){h=!0;break}}else if(c=this.getChildFieldFromId(y[f].Id,u[r],!1),c===!0){h=!0;break}h||(this.queryFilter.splice(f,1),tt.deleteFilter(f))}for(p=JSON.parse(i.ValidTables),r=this.dataset.Query.QueryDesignerState.Tables.length-1;r>=0;r--)l=this.dataset.Query.QueryDesignerState.Tables[r],p.indexOf(l.Id)===-1&&(k=!0,w={schema:l.Schema,name:l.Name,viewType:"Tables"},this.nodeTableRemover(w),this.dataset.Query.QueryDesignerState.Tables.splice(r,1));if(k&&(b=this.dragSurfaceTag.context.childNodes.length,this.dragSurfaceTag.context.childNodes[b-1].remove()),this.dataset.Query.QueryDesignerState.Tables.length===1)this.queryJoiner=[];else for(r=a.length-1;r>=0;r--){for(o=a[r].fields.length-1;o>=0;o--){var d=a[r].fields,g=!1,nt=!1;for(e=0;e<u.length;e++)if(u[e].ID===d[o].leftField){g=!0;break}for(e=0;e<u.length;e++)if(u[e].ID===d[o].rightField){nt=!0;break}g&&nt||this.queryJoiner[r].fields.splice(o,1)}a[r].fields.length===0&&this.queryJoiner.splice(r,1)}this.dragSurfaceTag.context.childNodes.length<this.dataset.Query.QueryDesignerState.Tables.length?this.renderReconnectTable(this.dataset.Query.QueryDesignerState,n,t):this.ajaxPostCollection.push(this.dashboardDesigner.modules.util.doAjaxPost("POST",this.model.serviceUrl+BoldBIDashboard.Dashboard.ServiceAPI.processdata,{action:BoldBIDashboard.DashboardUtil.DesignerAction.editDataSet,data:JSON.stringify({className:BoldBIDashboard.DashboardUtil.DesignerAction.DataSetAction,designerAction:BoldBIDashboard.DashboardUtil.DesignerAction.editDataSet,dataSetName:this.dataset.Name,dataSetId:this.dataset.Id,isQueryDesignerMode:this.dashboardDesigner.isQueryDesignerMode})},{fnction:this.bbdesigner$.proxy(this.previewData,this),indicator:[this.bbdesigner$.proxy(this.showPreviewIndicator,this),this.bbdesigner$.proxy(this.hidePreviewIndicator,this)]}))},t.prototype.executeTempQuery=function(n,t){var o=null,k=this.dragSurfaceTag.find(".bbi-data-table"),s=this.dataset.Name,f,h,e,c=!1,v,y,p,l,a=[],g=this.dashboardDesigner.isExecute,d,i,w,u,r,b;if(this.queryEditorTag.is(":visible")?(c=!0,f="",e=""):(d=this.IsMergedDatasource()&&!BoldBIDashboard.isNullOrUndefined(t)&&t.isShared,r=d?t:this.bbdesigner$(k[k.length-1]).data("e-table"),c=!1,f=r.name,l=r.viewType,e=r.id,h=r.schema,v=r.isShared,y=r.sourceId,p=r.displayName),this.queryJoiner.length>=1)for(i=0;i<this.queryJoiner.length;i++){for(w=[],a.push({JoinType:this.queryJoiner[i].join,LeftTableId:this.queryJoiner[i].leftTable,RightTableId:this.queryJoiner[i].rightTable}),u=0;u<this.queryJoiner[i].fields.length;u++)w.push({Condition:this.queryJoiner[i].fields[u].condition,LeftTableFieldId:this.queryJoiner[i].fields[u].leftField,RightTableFieldId:this.queryJoiner[i].fields[u].rightField,Operator:this.queryJoiner[i].fields[u].operator,IsValueChecked:this.queryJoiner[i].fields[u].isValueChecked,Value:this.queryJoiner[i].fields[u].value});a[i].JoinedFields=w}this.isEditMode?o=this.dashboardDesigner.modules.util.doAjaxPost("POST",this.model.serviceUrl+BoldBIDashboard.Dashboard.ServiceAPI.processdata,{action:BoldBIDashboard.DashboardUtil.DesignerAction.editDataSet,data:JSON.stringify({className:BoldBIDashboard.DashboardUtil.DesignerAction.DataSetAction,designerAction:BoldBIDashboard.DashboardUtil.DesignerAction.editDataSet,dataSetName:s,dataSetId:this.dataset.Id,isQueryDesignerMode:this.dashboardDesigner.isQueryDesignerMode})},{fnction:this.bbdesigner$.proxy(this.previewData,this),indicator:[this.bbdesigner$.proxy(this.showPreviewIndicator,this),this.bbdesigner$.proxy(this.hidePreviewIndicator,this)]}):this.isNewTableAdded?(r={query:n,tableName:f,tableSchema:h,tableId:e,datasetName:s,isCodeView:c,joinInfoList:a,isShared:v,sourceId:y,category:l,alias:p},this.addedTableNames.push(f),b=[],BoldBIDashboard.isNullOrUndefined(t)&&(b=[this.bbdesigner$.proxy(this.showPreviewIndicator,this),this.bbdesigner$.proxy(this.hidePreviewIndicator,this)]),o=this.dashboardDesigner.modules.util.doAjaxPost("POST",this.model.serviceUrl+BoldBIDashboard.Dashboard.ServiceAPI.processdata,{action:BoldBIDashboard.DashboardUtil.DesignerAction.getTableFields,data:JSON.stringify({className:BoldBIDashboard.DashboardUtil.DesignerAction.DataDesignViewAction,designerAction:BoldBIDashboard.DashboardUtil.DesignerAction.getTableFields,datasource:this.encrptDataSourceInfo(this.DatasourceInfo),parameters:this.getParameters(!1),tableName:f,tableSchema:h,tableId:e,dataSetName:s,dataSetId:this.dataset.Id,isShared:v,sourceId:y,alias:p,category:l,isQueryDesignerMode:this.dashboardDesigner.isQueryDesignerMode,isNewTable:this.isNewTableAdded,isLiveMode:this.DatasourceInfo.IsLiveWebMode})},{fnction:this.bbdesigner$.proxy(this.joinTable,this,r,t),indicator:b},!0),this.isNewTableAdded=!1,this.isJoin=!1):this.isJoin&&!this.isNewTableAdded?(o=this.dashboardDesigner.modules.util.doAjaxPost("POST",this.model.serviceUrl+BoldBIDashboard.Dashboard.ServiceAPI.processdata,{action:BoldBIDashboard.DashboardUtil.DesignerAction.addNewTable,data:JSON.stringify({className:BoldBIDashboard.DashboardUtil.DesignerAction.DataDesignViewAction,designerAction:BoldBIDashboard.DashboardUtil.DesignerAction.addNewTable,dataSetName:s,dataSetId:this.dataset.Id,joinInfo:a,parameters:this.getParameters(!1),tableName:f,tableSchema:h,tableId:e,addProcedure:!1,isShared:v,sourceId:y,alias:p,category:l,isColumnDragged:this.isColumnDragged,draggedColumnName:this.draggedColumnName,isQueryDesignerMode:this.dashboardDesigner.isQueryDesignerMode})},{fnction:this.bbdesigner$.proxy(this.previewData,this),indicator:[this.bbdesigner$.proxy(this.showPreviewIndicator,this),this.bbdesigner$.proxy(this.hidePreviewIndicator,this)]}),this.isJoin=!1,this.isColumnDragged=!1,this.draggedColumnName=null):this.isInitialFilterApplied?o=this.dashboardDesigner.modules.util.doAjaxPost("POST",this.model.serviceUrl+BoldBIDashboard.Dashboard.ServiceAPI.processdata,{action:BoldBIDashboard.DashboardUtil.DesignerAction.initialFilterAction,data:JSON.stringify({className:BoldBIDashboard.DashboardUtil.DesignerAction.FilterAction,designerAction:BoldBIDashboard.DashboardUtil.DesignerAction.initialFilterAction,datasource:this.encrptDataSourceInfo(this.DatasourceInfo),sqlQuery:n,parameters:this.getParameters(!1),tableName:f,tableSchema:h,tableId:e,dataSetName:s,dataSetId:this.dataset.Id,isCodeView:c,filter:this.queryFilter,isInitialFilter:this.isInitialFilterApplied,isQueryDesignerMode:this.dashboardDesigner.isQueryDesignerMode})},{fnction:this.bbdesigner$.proxy(this.previewData,this),indicator:[this.bbdesigner$.proxy(this.showPreviewIndicator,this),this.bbdesigner$.proxy(this.hidePreviewIndicator,this)]}):(o=this.dashboardDesigner.modules.util.doAjaxPost("POST",this.model.serviceUrl+BoldBIDashboard.Dashboard.ServiceAPI.processdata,{action:BoldBIDashboard.DashboardUtil.DesignerAction.executeQuery,data:JSON.stringify({className:BoldBIDashboard.DashboardUtil.DesignerAction.DataDesignViewAction,designerAction:BoldBIDashboard.DashboardUtil.DesignerAction.executeQuery,datasource:this.encrptDataSourceInfo(this.DatasourceInfo),sqlQuery:n,commandType:this.commandMode,parameters:this.getParameters(!1),tableName:f,tableSchema:h,tableId:e,dataSetName:s,dataSetId:this.dataset.Id,isCodeView:c,filter:this.queryFilter,isInitialFilter:this.isInitialFilterApplied,joinInfo:a,category:l,isExpressionWindowClose:this.isExpressionWindowClose,isExecute:g,isQueryDesignerMode:this.dashboardDesigner.isQueryDesignerMode})},{fnction:this.bbdesigner$.proxy(this.previewData,this),indicator:[this.bbdesigner$.proxy(this.showPreviewIndicator,this),this.bbdesigner$.proxy(this.hidePreviewIndicator,this)]}),this.isExpressionWindowClose=!1);this.ajaxPostCollection.push(o)},t.prototype.switcherChanged=function(){var n=null,r,t;if(this.codeChkSwitcher.is(":checked")){this.codeSwitcher(!0);r=BoldBIDashboard.Dashboard.ConnectionHelper.isHierarchicalConnection(this.connectionInstance);r&&(this.dataset.Query.IsCodeView=!0,this.updateConnectionSpecificUI());this.commandMode=CommandMode.Text;t=this.dragSurfaceTag.find(".bbi-data-table");this.commandMode=this.dragSurfaceTag.find(".e-Stored.Procedures").length>0?CommandMode.Procedure:CommandMode.Text;var u=this.dataset.Name,i=void 0,f=void 0;this.queryEditorTag.is(":visible")?(i="",this.dashboardDesigner.modules.util.doAjaxPost("POST",this.model.serviceUrl+BoldBIDashboard.Dashboard.ServiceAPI.processdata,{action:BoldBIDashboard.DashboardUtil.DesignerAction.codeView,data:JSON.stringify({className:BoldBIDashboard.DashboardUtil.DesignerAction.CodeViewAction,designerAction:BoldBIDashboard.DashboardUtil.DesignerAction.codeView,datasource:this.encrptDataSourceInfo(this.DatasourceInfo),commandType:this.commandMode,parameters:this.getParameters(!1),tableName:i,dataSetName:u,type:"SwitchCodeView",dataSetId:this.dataset.Id,isQueryDesignerMode:this.dashboardDesigner.isQueryDesignerMode})},{fnction:this.bbdesigner$.proxy(this.sqlQuery,this),indicator:[this.bbdesigner$.proxy(this.showPreviewIndicator,this),this.bbdesigner$.proxy(this.hidePreviewIndicator,this)]})):(i=this.bbdesigner$(t).data("e-table").name,f=this.bbdesigner$(t).data("e-table").id)}else this.dashboardDesigner.isExecute?(n=this.getQueryText(),n!==""?(this.dashboardDesigner.modules.util.alertDialog(this.locale.alertDialogTitle.SwitchDataView,this.locale.alertWindowMesages.visualDesignerMsgOnQuery,IconType.warning,AlertType.Alert,!1,null),this.confirmSwitcher(!1)):this.confirmSwitcher(!0)):(n=this.getQueryText(),BoldBIDashboard.isNullOrUndefined(this.defaultQuery)&&n.replace(/\s+/g,"")!==""||!BoldBIDashboard.isNullOrUndefined(this.defaultQuery)&&n.replace(/\s+/g,"")!==this.defaultQuery.replace(/\s+/g,"")&&n!==""?(this.dashboardDesigner.modules.util.alertDialog(this.locale.alertDialogTitle.SwitchDataView,this.locale.alertWindowMesages.visualDesignerSwitcherMsg,IconType.warning,AlertType.Alert,!1,null),this.confirmSwitcher(!1)):n!==""?(this.setQueryText(""),this.codeSwitcher(!1),this.defaultQuery=null,this.commandMode=this.dragSurfaceTag.find(".e-Stored.Procedures").length>0?CommandMode.Procedure:CommandMode.Text):this.confirmSwitcher(!0))},t.prototype.sqlQuery=function(n){var t=typeof n!="string"?null:n;this.codeSwitcher(!0);this.setQueryText(t);this.defaultQuery=t},t.prototype.getProcParams=function(){var n=this.dashboardDesigner.modules.storeParameter;return n.getProcParams()},t.prototype.isOpenQuery=function(){var t=BoldBIDashboard.isNullOrUndefined(this.DatasourceInfo.ProviderType)?this.DatasourceInfo.ConnectionProperties.DataProvider:this.DatasourceInfo.ProviderType,n;return t!=="SQL"?!1:(n=this.dashboardDesigner.modules.storeParameter,n.isOpenQuery())},t.prototype.getParameters=function(n){var t=this.queryEditorTag,i=this.dashboardDesigner.modules.queryParameter;return this.commandMode===CommandMode.Procedure?this.getProcParams():t.css("display")!=="block"?this.getDesignerParameters():n?i.getQueryParameters(this.selectTopNQuery(this.getQueryText())):this.queryParamCollection},t.prototype.selectTopNQuery=function(n){return"select * from ("+n+") table1"},t.prototype.excuteQryData=function(n){this.DatasourceInfo=n;this.excuteQryWithParams()},t.prototype.excuteQryWithParams=function(){var n=this.getQueryText(),t;!BoldBIDashboard.isNullOrUndefined(n)&&n.length>0&&(t=this.dashboardDesigner.modules.queryParameter,t.showQueryDialog(n,this.queryInputVals))},t.prototype.setSQLHint=function(){var t,e,i,n,r,u,f;if(this.codeEditor)try{for(t={},e=Object.keys(this.dbSchema.Schemas),i=0;i<e.length;i++)n=this.dbSchema.Schemas[e[i]],r=Object.keys(n.Tables),r&&r.length>0&&this.setSQLHintTables(n.Tables,r,t),u=Object.keys(n.Viewes),u&&u.length>0&&this.setSQLHintTables(n.Viewes,u,t),f=Object.keys(n["Stored Procedures"]),f&&f.length>0&&this.setSQLHintTables(n["Stored Procedures"],f,t);this.codeEditor.setOption("hintOptions",{tables:t})}catch(o){this.dashboardDesigner.designerPanel.logError({Source:"Query Designer",Error:o,Type:o.name})}},t.prototype.setSQLHintTables=function(n,t,i){var r,o,u,e,f;if(t&&t.length>0)for(r=0;r<t.length;r++)if(o=n[t[r]],u=Object.keys(o),u&&u.length>0){for(e=[],f=0;f<u.length;f++)e.push(u[f]);i[t[r]]=e}else i[t[r]]=[]},t.prototype.getQueryText=function(){return this.codeEditor?this.codeEditor.getValue():this.sqlEditor.getQuery()},t.prototype.setQueryText=function(n){BoldBIDashboard.isNullOrUndefined(n)&&(n="");this.codeEditor?this.codeEditor.setValue(n):this.sqlEditor.setQuery(n)},t.prototype.updatePreviewGrid=function(){this.ajaxPostCollection.push(this.dashboardDesigner.modules.util.doAjaxPost("POST",this.model.serviceUrl+BoldBIDashboard.Dashboard.ServiceAPI.processdata,{action:BoldBIDashboard.DashboardUtil.DesignerAction.DataDesignViewAction,data:JSON.stringify({className:BoldBIDashboard.DashboardUtil.DesignerAction.DataDesignViewAction,designerAction:BoldBIDashboard.DashboardUtil.DesignerAction.updatePreviewData,dataSetName:this.dataset.Name,dataSetId:this.dataset.Id,isQueryDesignerMode:this.dashboardDesigner.isQueryDesignerMode,isCodeView:this.queryEditorTag.is(":visible")})},{fnction:this.bbdesigner$.proxy(this.updatePreviewData,this),indicator:[this.bbdesigner$.proxy(this.showPreviewIndicator,this,!0),this.bbdesigner$.proxy(this.hidePreviewIndicator,this,!0)]}))},t.prototype.codeViewExpressions=function(n){var i,t,r;if(this.tableType=JSON.parse(n.type),this.queryExp&&this.queryExp.length>0){for(i=[],t=0;t<this.queryExp.length;t++)i.push({name:this.queryExp[t].name,expression:this.queryExp[t].expression});for(this.queryExp=[],t=0;t<this.tableType.length;t++)if(this.tableType[t].IsExpression===!0)for(r=0;r<i.length;r++)i[r].name===this.tableType[t].Name&&this.queryExp.push({name:i[r].name,expression:i[r].expression})}},t.prototype.previewData=function(n){if(this.tableType=JSON.parse(n.type),n&&n.TreeViewData&&!BoldBIDashboard.isNullOrUndefined(n.TreeViewData)&&(this.dataset.TreeViewData=n.TreeViewData),n.IsCodeView&&this.dragSurfaceTag.find(".bbi-data-table").length===0&&this.codeViewExpressions(n),n&&n.type){var t=this.dashboardDesigner.modules.queryJoiner;t.setAvailableTable(n.type)}n&&n.spType&&n.spType==="[]"&&(this.isEditMode=!1);this.previewSwitcherTag.css("display")==="none"&&this.previewSwitcherTag.css("display","inline-block");BoldBIDashboard.isNullOrUndefined(this.previewSwitcherChkBxTag)||(this.previewSwitcherChkBxTag.is(":checked")?this.updatePreviewGrid():BoldBIDashboard.isNullOrUndefined(this.btnUpdateTag)||this.btnUpdateTag.css("display")!=="none"||this.btnUpdateTag.css("display","inline-block"));this.updateConnectionSpecificUI()},t.prototype.updatePreviewData=function(n){var f=this,i,t;if(n&&n.table&&n.type&&n.spType&&n.spType!=="[]"){this.tableType=JSON.parse(n.type);var r=JSON.parse(n.table),e=this.previewHeader.width(),o=150*this.tableType.length>e?150:(e-20)/this.tableType.length,u=[];for(i=0;i<this.tableType.length;i++)this.tableType[i].IsVisible===!0&&u.push({field:this.tableType[i].ID,headerText:this.tableType[i].Name,clipMode:"EllipsisWithTooltip",width:o,textAlign:this.getAlignType(this.tableType[i].DataType),type:this.getType(this.tableType[i].DataType)});u.length>0?(this.showNoRecord(!1),this.showLoadRecordMsg(!0),this.ejPreviewGrid.dataSource=r,this.ejPreviewGrid.columns=u,this.ejPreviewSplitter.element.find("#"+this.id+"_record_count").text(r.length+" "+this.locale.queryDesigner.record+(r.length>1?"s":"")+" "+this.locale.queryDesigner.retrieved),this.ejPreviewGrid.refreshColumns(),this.showLoadMoreOpt(r.length===100)):(this.showNoRecord(!0),this.showLoadRecordMsg(!1))}else this.setColumnFieldId(n.type),n&&n.table&&n.type&&(t=this,this.previewTO&&clearTimeout(this.previewTO),this.showPreviewIndicator(this,!0),this.previewTO=setTimeout(function(){var r=JSON.parse(n.table),i,o;t.tableType=JSON.parse(n.type);var u=[],e=[],s=t.previewHeader.width(),h=150*t.tableType.length>s?150:(s-20)/t.tableType.length;for(i=0;i<t.tableType.length;i++)u.push({field:t.tableType[i].ID,headerText:t.tableType[i].Name,width:h,clipMode:"EllipsisWithTooltip",textAlign:t.getAlignType(t.tableType[i].DataType),type:t.getType(t.tableType[i].DataType)}),e.push(t.tableType[i].ID);for(i=e.length-1;i>=0;i--)(r.length>0&&Object.keys(r[0]).indexOf(e[i])===-1||r.length===0&&t.tableType[i].IsVisible===!1)&&u.splice(i,1);u.length>0?(t.showNoRecord(!1),t.showLoadRecordMsg(!0),t.ejPreviewGrid.columns=u,t.ejPreviewGrid.dataSource=r,o=r.length+" Record"+(r.length>1?"s":"")+" Retrieved",f.element.find("#"+t.id+"_record_count").text(o),t.ejPreviewGrid.refreshColumns(),t.showLoadMoreOpt(r.length===100)):(t.showNoRecord(!0),t.showLoadRecordMsg(!1));t.hidePreviewIndicator(f,!0)},500,n)),!BoldBIDashboard.isNullOrUndefined(n.HasError)&&n.HasError&&this.dashboardDesigner.modules.util.alertDialog(this.locale.alertDialogTitle.dataSet,this.locale.errorMessage.failedToPreviewTable,IconType.errors,AlertType.Alert,!0,n.Message)},t.prototype.confirmMappingAction=function(n,t){if(n){var i=t.dataInfo;this.dashboardDesigner.modules.util.doAjaxPost("POST",this.model.serviceUrl+BoldBIDashboard.Dashboard.ServiceAPI.processdata,{action:BoldBIDashboard.DashboardUtil.DesignerAction.editDataSet,data:JSON.stringify({className:BoldBIDashboard.DashboardUtil.DesignerAction.DataDesignViewAction,designerAction:BoldBIDashboard.DashboardUtil.DesignerAction.ColumnMappingAction,dataSetId:this.dataset.Id,datasource:this.encrptDataSourceInfo(this.DatasourceInfo),parameters:this.getParameters(!1),tableName:i.tableName,tableSchema:i.tableSchema,tableId:i.tableId,dataSetName:i.datasetName,isShared:i.isShared,sourceId:i.sourceId,alias:i.alias,category:i.category,isQueryDesignerMode:this.dashboardDesigner.isQueryDesignerMode})},{fnction:this.bbdesigner$.proxy(this.getColumnMappingInfo,this,t),indicator:[this.bbdesigner$.proxy(this.showDragIndicator,this),this.bbdesigner$.proxy(this.hideDragIndicator,this)]})}},t.prototype.addNewTable=function(n,t,i){var r=this.element.find("#"+this.id+"_div_dragSurface .bbi-data-table"),f=this.dashboardDesigner.modules.queryJoiner,u,e;f.showCancelBtn(!0);BoldBIDashboard.Dashboard.ConnectionHelper.isHierarchicalConnection(this.connectionInstance)||(r.length===1?(u=void 0,u=this.bbdesigner$(r[r.length-1]).data("e-table").viewType,this.ajaxPostCollection.push(this.dashboardDesigner.modules.util.doAjaxPost("POST",this.model.serviceUrl+BoldBIDashboard.Dashboard.ServiceAPI.processdata,{action:BoldBIDashboard.DashboardUtil.DesignerAction.addNewTable,data:JSON.stringify({className:BoldBIDashboard.DashboardUtil.DesignerAction.DataDesignViewAction,designerAction:BoldBIDashboard.DashboardUtil.DesignerAction.addNewTable,datasource:this.encrptDataSourceInfo(this.DatasourceInfo),sqlQuery:n.query,commandType:this.commandMode,parameters:this.getParameters(!1),tableName:n.tableName,tableSchema:n.tableSchema,tableId:n.tableId,dataSetName:n.datasetName,dataSetId:this.dataset.Id,isCodeView:n.isCodeView,filter:this.queryFilter,isInitialFilter:this.isInitialFilterApplied,joinInfo:n.joinInfoList,addProcedure:!1,category:u,isColumnDragged:this.isColumnDragged,draggedColumnName:this.draggedColumnName,isQueryDesignerMode:this.dashboardDesigner.isQueryDesignerMode})},{fnction:this.bbdesigner$.proxy(this.previewData,this),indicator:[this.bbdesigner$.proxy(this.showPreviewIndicator,this),this.bbdesigner$.proxy(this.hidePreviewIndicator,this)]})),this.isColumnDragged=!1,this.draggedColumnName=null):this.connectionInstance.PluginId==="cd8b01ad-1302-4dab-a066-499ra13a6i13"||this.connectionInstance.PluginId==="e3cdb76e-6a27-4103-a5f9-88e61e1035fd"?(this.connectionInstance.PluginId==="cd8b01ad-1302-4dab-a066-499ra13a6i13"?this.dashboardDesigner.modules.util.alertDialog(this.locale.alertDialogTitle.JoinAlert,this.locale.alertWindowMesages.InfluxdbJoinMessage,IconType.warning,AlertType.Alert,!1,"",{}):this.dashboardDesigner.modules.util.alertDialog(this.locale.alertDialogTitle.JoinAlert,this.locale.alertWindowMesages.ElasticsearchJoinMessage,IconType.warning,AlertType.Alert,!1,"",{}),r[1].remove(),this.tableItems[t.id]=!1,this.removeJoinTableForInfluxDB(n,t),f.ejJoinerWaitingPopup.hide()):(e=this.dashboardDesigner.modules.queryJoiner,e.updateQueryJoiner(i,t,this.bbdesigner$.proxy(this.joinerActionRes,this)),this.updateTableFromMergedDs()),this.IsMergedDatasource()&&(this.nodeTableSelector(t),this.insertTableIntoSlider(t)))},t.prototype.checkCurrentInstanceForHierarchical=function(){return BoldBIDashboard.Dashboard.ConnectionHelper.isHierarchicalConnection(this.connectionInstance)},t.prototype.removeJoinTableForInfluxDB=function(n,t){this.ajaxPostCollection.push(this.dashboardDesigner.modules.util.doAjaxPost("POST",this.model.serviceUrl+BoldBIDashboard.Dashboard.ServiceAPI.processdata,{action:BoldBIDashboard.DashboardUtil.DesignerAction.executeQuery,data:JSON.stringify({className:BoldBIDashboard.DashboardUtil.DesignerAction.DataDesignViewAction,designerAction:BoldBIDashboard.DashboardUtil.DesignerAction.executeQuery,tableName:t.name,tableSchema:t.schema,dataSetName:n.datasetName,dataSetId:this.dataset.Id,selectedItem:this.tableItems,joinInfo:n.joinInfoList,action:"close",isQueryDesignerMode:this.dashboardDesigner.isQueryDesignerMode})},{fnction:this.bbdesigner$.proxy(this.previewData,this),indicator:[this.bbdesigner$.proxy(this.showPreviewIndicator,this),this.bbdesigner$.proxy(this.hidePreviewIndicator,this)]}))},t.prototype.confirmMappingActionDialog=function(n){this.dashboardDesigner.modules.util.alertDialog(this.locale.mergedDataSource.configureMessage,this.locale.mergedDataSource.schemaMisMatch,IconType.warning,AlertType.Confirm,!1,"",{height:140,width:500,method:"confirmMappingAction",instance:this,dataInfo:n})},t.prototype.joinTable=function(n,t,i){var r,u;i&&!BoldBIDashboard.isNullOrUndefined(i.Message)&&(i.Message.indexOf("Sf_Exception")!==-1||i==="Not Found")?(r=this.dashboardDesigner.modules.queryJoiner,r.selectedTableInfo(t,i.StatusMessage,this.bbdesigner$.proxy(this.joinerActionRes,this)),!BoldBIDashboard.isNullOrUndefined(i.data)&&i.data.isSchemaMisMatch&&(u={dataInfo:n,data:t},this.confirmMappingActionDialog(u),BoldBIDashboard.DashboardUtil.buttonEnable(this.btnUpdateTag,!0),this.hidePreviewIndicator())):this.addNewTable(n,t,i)},t.prototype.setColumnFieldId=function(n){var r=this,i,t;BoldBIDashboard.isNullOrUndefined(n)||(i=this.element.find("#"+this.id+"_div_dragSurface .bbi-data-table"),t=JSON.parse(n),i.each(function(n,i){var f=r.bbdesigner$(i),e=f.data("e-table"),u;if(!BoldBIDashboard.isNullOrUndefined(e)&&BoldBIDashboard.isNullOrUndefined(f.attr("data-id-loaded"))){for(u=0;u<t.length;u++)t[u].TableId===e.id&&f.find("[aliasName="+BoldBIDashboard.DashboardUtil.escapeSelector(t[u].Name)+"]").closest("li").attr("dataId",t[u].ID);f.attr("data-id-loaded","true")}}))},t.prototype.getAlignType=function(n){return n.toLowerCase()==="string"||n.toLowerCase()==="boolean"||n.toLowerCase()==="date"?BoldBIDashboard.TextAlign.Left:n.toLowerCase()==="integer"||n.toLowerCase()==="real"?BoldBIDashboard.TextAlign.Right:BoldBIDashboard.TextAlign.Left},t.prototype.getType=function(n){return n.toLowerCase()==="string"||n.toLowerCase()==="boolean"?"string":n.toLowerCase()==="integer"||n.toLowerCase()==="real"?"number":(n.toLowerCase()==="date","string")},t.prototype.loadMoreData=function(n){this.queryEditorTag.css("display")!=="block"&&(this.executeTempQuery(""),this.bbdesigner$(n.target).css("display","none").attr("isClick","true"))},t.prototype.showLoadMoreOpt=function(n){var t=this.bbdesigner$("#"+this.id+"_load_data");(this.queryEditorTag.is(":visible")||t.attr("isClick")==="true")&&(n=!1);t.css("display",n?"inline-block":"none");t.attr("isClick","false")},t.prototype.showNoRecord=function(n){this.noRecordSpan.css("display",n?"table-cell":"none");this.previewGrid.css("display",n?"none":"block");n&&this.element.find("#"+this.id+"_record_count").text("")},t.prototype.showLoadRecordMsg=function(n){this.noRecordSpan.text(n?"":"No records to display")},t.prototype.updateNoDataInfo=function(){this.codeEditor.setValue("");this.dragSurfaceTag.empty();this.showNoRecord(!0);this.showLoadRecordMsg(!0);this.showLoadMoreOpt(!1);this.queryExp=[];this.queryFilter=[];this.queryJoiner=[];this.dataSampleInfo=[];this.queryParamCollection=[];this.userBasedFilterInfo=null;this.queryEditorTag.css("display","none");this.dragSurfaceTag.css("display","block");this.codeChkSwitcher.prop("checked",!1)},t.prototype.setAggregation=function(n,t){for(var i=0;i<n.length;i++)BoldBIDashboard.isNullOrUndefined(n[i].AggregateTye)||t.find("#"+this.id+"_li_"+BoldBIDashboard.DashboardUtil.escapeSelector(n[i].Name)).attr("e-data-aggregate",n[i].AggregateTye)},t.prototype.setColumnType=function(n,t){for(var i=0;i<n.length;i++)BoldBIDashboard.isNullOrUndefined(n[i].TypeCast)||t.find("#"+this.id+"_li_"+BoldBIDashboard.DashboardUtil.escapeSelector(n[i].Name)).attr("e-column-type",n[i].TypeCast)},t.prototype.setFiscalYear=function(n,t){for(var i=0;i<n.length;i++)BoldBIDashboard.isNullOrUndefined(n[i].FiscalYearStart)||t.find("#"+this.id+"_li_"+BoldBIDashboard.DashboardUtil.escapeSelector(n[i].Name)).attr("e-fiscal-year-value",n[i].FiscalYearStart)},t.prototype.setIconType=function(n,t){for(var r,i=0;i<n.length;i++)BoldBIDashboard.isNullOrUndefined(n[i].TypeCast)||(r=t.find("#"+this.id+"_li_"+BoldBIDashboard.DashboardUtil.escapeSelector(n[i].Name)),this.updateIconType(n[i].TypeCast,r))},t.prototype.renderReconnectTable=function(n,t,i){var o={},r=n.Tables[this.element.find("#"+this.id+"_div_dragSurface")[0].children.length],s={},h={schema:r.Schema,viewType:r.IsView?"Views":"Tables",name:r.Name,id:r.Id,displayName:BoldBIDashboard.isNullOrUndefined(r.DisplayName)?r.Name:r.DisplayName},u,e,f;for(o[r.Name]=r.Schema,u=0;u<r.Columns.length;u++)s[r.Columns[u].Name]=r.Columns[u];e={top:i,left:t};this.droptable(h,e);this.renderTable(h,e,null,!0,s);f=this.dragSurfaceTag.find(this.getTblSel(r.Schema,r.Name));this.setAggregation(r.Columns,f);this.setColumnType(r.Columns,f);this.setFiscalYear(r.Columns,f);t+=230;this.populateJoinState(n.Joins,o);this.populateQueryFilterState(n.Filters);this.populateExpressionState(n.Expressions);this.populateDataSampleState(n.DataSample);n.Tables&&n.Tables.length>0&&this.executeReconnectUIQuery(t,i)},t.prototype.populateDataSampleState=function(n){if(this.dataSampleInfo=[],n&&n.length>0)for(var t=0;t<n.length;t++)this.dataSampleInfo.push(JSON.parse(JSON.stringify(n[t])))},t.prototype.populateReconnectDesignerState=function(){var n;try{if(this.dataset&&this.dataset.Query&&this.dataset.Query.QueryDesignerState&&!this.dataset.Query.IsCodeView&&(n=this.dataset.Query.QueryDesignerState,n.Tables&&n.Tables.length>0)){var t=10,i=this.dragSurfaceTag.width(),r=n.Tables.length*220+(n.Tables.length-1)*20;r<i&&(t=(i-r)/2);this.renderReconnectTable(n,t,25)}}catch(u){this.dashboardDesigner.designerPanel.logError({Source:"Query Designer",Error:u,Type:u.name});this.codeChkSwitcher.prop("checked",!0);this.codeSwitcher(!0);this.setQueryEditor()}},t.prototype.getTableInfo=function(n){var i=n.Query.QueryDesignerState,l=n.Query.CommandType,a={},u,r,s;if(i.Tables&&i.Tables.length>0){var f=10,h=this.dragSurfaceTag.width(),c=i.Tables.length*220+(i.Tables.length-1)*20;for(c<h&&(f=(h-c)/2),this.IsMergedDatasource()&&(this.mergedTableList=i.Tables),u=0;u<i.Tables.length;u++){var t=this.getMergedTableInfo(i.Tables,u),v={},e={schema:t.Schema,viewType:l===1?"Stored Procedures":t.IsView?"Views":"Tables",name:t.Name,displayName:BoldBIDashboard.isNullOrUndefined(t.DisplayName)?t.Name:t.DisplayName,id:t.Id,isShared:t.IsShared,sourceId:t.SourceId};for(a[t.Id]=t.Schema,r=0;r<t.Columns.length;r++)v[t.Columns[r].Name]=t.Columns[r];if(s={top:25,left:f},this.droptable(e,s),f+=230,this.getColumnToRenderTable(e,null,null,!0,n),this.IsMergedDatasource())break}}else if(i.StoredProcedure){var f=this.dragSurfaceTag.width()/2-110,o=i.StoredProcedure,e={schema:o.Schema,viewType:"Stored Procedures",name:o.Name,id:o.Id,displayName:o.Name},s={top:25,left:f};this.droptable(e,s);this.getColumnToRenderTable(e,null,null,!0,n)}},t.prototype.getMergedTableInfo=function(n,t){var i=this;return this.IsMergedDatasource()&&!BoldBIDashboard.isNullOrUndefined(this.dashboardDesigner.modules.columnMappingDialog.columnMappingModel)?n.filter(function(n){return n.Id===i.dashboardDesigner.modules.columnMappingDialog.columnMappingModel.SourceTable})[0]:n[t]},t.prototype.populateDesignerState=function(n){var f,r,s,c,e;try{if(n&&n.Query&&n.Query.QueryDesignerState){var i=n.Query.QueryDesignerState,l={},a=[];if(this.queryParamCollection=n.Query.DashboardParameters,this.userBasedFilterInfo=n.UserBasedFilterInfo,i.Tables&&i.Tables.length>0){var o=10,v=this.dragSurfaceTag.width(),y=i.Tables.length*220+(i.Tables.length-1)*20;for(y<v&&(o=(v-y)/2),f=0;f<i.Tables.length;f++){var t=this.getMergedTableInfo(i.Tables,f),p={},h={schema:t.Schema,viewType:t.IsView?"Views":"Tables",name:t.Name,displayName:BoldBIDashboard.isNullOrUndefined(t.DisplayName)?t.Name:t.DisplayName,id:t.Id,isShared:t.IsShared,sourceId:t.SourceId};for(l[t.Id]=t.Schema,r=0;r<t.Columns.length;r++)p[t.Columns[r].Name]=t.Columns[r];if(s={top:25,left:o},c=this.renderTable(h,s,null,!0,p),c?(e=this.dragSurfaceTag.find(this.getTblSel(t.Schema,t.Name)),this.setAggregation(t.Columns,e),this.setColumnType(t.Columns,e),this.setFiscalYear(t.Columns,e),o+=230):(a.push(h),this.resetTableFromDataSet(i,t)),this.IsMergedDatasource())break}}else if(i.StoredProcedure){var u=i.StoredProcedure,o=this.dragSurfaceTag.width()/2-110,h={schema:u.Schema,viewType:"Stored Procedures",name:u.Name,id:u.Id,displayName:u.Name},s={top:25,left:o};this.renderTableElement(h,s,u,!0)}this.editDataSource=!1;this.populateJoinState(i.Joins,l);this.populateQueryFilterState(i.Filters);this.populateExpressionState(i.Expressions);this.populateDataSampleState(i.DataSample);a.length!==0?this.postRemovedTable():i.Tables&&i.Tables.length>0&&this.executeUIQuery()}}catch(w){this.dashboardDesigner.designerPanel.logError({Source:"Query Designer Render table",Error:w,Type:w.name})}},t.prototype.populateJoinState=function(n){var r,i,u,f,t,e;if(this.queryJoiner=[],n&&n.length>0)for(r=0;r<n.length;r++){for(i=n[r],u={leftTable:i.LeftTable,rightTable:i.RightTable,leftSchema:null,rightSchema:null,join:i.JoinType},u.fields=[],f=0;f<i.JoinFields.length;f++)t=i.JoinFields[f],e={condition:t.Condition,isValueChecked:t.IsValueChecked,operator:t.OperatorType,leftField:t.LeftField,rightField:t.RightField,value:t.Value},u.fields.push(e);this.queryJoiner.push(u)}},t.prototype.populateQueryFilterState=function(n){if(this.queryFilter=[],n&&n.length>0)for(var t=0;t<n.length;t++)this.queryFilter.push(JSON.parse(JSON.stringify(n[t])))},t.prototype.populateExpressionState=function(n){if(this.queryExp=[],n&&n.length>0)for(var t=0;t<n.length;t++)this.queryExp.push({name:n[t].Name,expression:n[t].QueryExp})},t.prototype.updateDesignerState=function(n){var r=this,i=this.dashboardDesigner.rdlParser.rdlJsonObj.DataSets.filter(function(n){return n.Id===r.dataset.Id})[0],t;BoldBIDashboard.isNullOrUndefined(i)||(t=i.Query.QueryDesignerState,!BoldBIDashboard.isNullOrUndefined(t.StoredProcedure)!=null&&(n.StoredProcedure=t.StoredProcedure),!BoldBIDashboard.isNullOrUndefined(t.Tables)&&t.Tables.length>0&&(n.Tables=t.Tables,n.Joins=t.Joins),n.Filters=t.Filters,n.Expressions=t.Expressions)},t.prototype.saveDesignerState=function(n){var s=this,i,u,c,f,o;if(n===void 0&&(n=!1),i=t.createQueryDesigner(),this.dragSurfaceTag.css("display")==="block"){if(u=this.dragSurfaceTag.find(".bbi-data-table"),this.dataset.Query.IsCodeView=!1,u.length===0&&n)return this.updateDesignerState(i),i;if(u.hasClass("e-Stored Procedures")&&u.length===1){var r=this.createSProcedure(),h=u.data("e-table"),e=this.getProcParams();if(r.Name=h.name,r.Schema=h.schema,r.Columns=this.tableType,r.Id=h.id,c=u.find(".bbi-designer-dataset-column"),c.each(function(n,t){r.Columns[n].TypeCast=s.bbdesigner$(t).attr("e-column-type");r.Columns[n].FiscalYearStart=s.bbdesigner$(t).attr("e-fiscal-year-value")}),e&&e.length>0)for(r.Parameters=[],f=0;f<e.length;f++)o=this.createProcParameter(),o.Name=e[f].Name,o.Value=e[f].Value,o.IsNull=e[f].IsNull,o.DataType=e[f].DataType,o.ValueType=e[f].ValueType,r.Parameters.push(o);i.StoredProcedure=r}else u.length>0&&(i.Tables=[],u.each(function(n,r){var u=t.createDesignerTable(),f=s.bbdesigner$(r).data("e-table");u.DisplayName=f.displayName;u.Name=f.name;u.Id=f.id;u.Schema=f.schema;u.IsView=f.viewType==="Tables"?!1:!0;u.Columns=s.getColumnsState(s.bbdesigner$(r));u.IsShared=f.isShared||!1;u.sourceId=f.sourceId;i.Tables.push(u)}),i.Joins=this.getJoinerState());i.Filters=this.getQueryFilterState()}else this.queryEditorTag.is(":visible")&&(this.dataset.Query.IsCodeView=!0);return i.Expressions=this.getExpressionState(),i.DataSample=this.getDataSample(),i},t.prototype.getDataSample=function(){var n,t;return this.dataSample=this.dashboardDesigner.modules.dataSample,n=new DataSampleInfo,!BoldBIDashboard.isNullOrUndefined(this.dashboardDesigner.modules.dataSample.dataLimitValue)||BoldBIDashboard.isNullOrUndefined(this.model.dataSet)||BoldBIDashboard.isNullOrUndefined(this.model.dataSet.Query.QueryDesignerState.DataSample)?(n.DataSampling=this.dashboardDesigner.modules.dataSample.dataSampling,n.DataLimit=this.dashboardDesigner.modules.dataSample.dataLimitValue):(n.DataSampling=this.model.dataSet.Query.QueryDesignerState.DataSample.DataSampling,n.DataLimit=this.model.dataSet.Query.QueryDesignerState.DataSample.DataLimit),t=n,this.dashboardDesigner.modules.dataSample.dataSampling=!1,this.dashboardDesigner.modules.dataSample.dataLimitValue=null,t},t.prototype.getJoinerState=function(){var e=null,u,t,r,f,i,n;if(this.queryJoiner&&this.queryJoiner.length>0)for(e=[],u=0;u<this.queryJoiner.length;u++){for(t=this.createJoin(),r=this.queryJoiner[u],t.LeftTable=r.leftTable,t.RightTable=r.rightTable,t.JoinType=r.join,t.JoinFields=[],f=0;f<r.fields.length;f++)i=r.fields[f],n=this.createJoinField(),n.Condition=i.condition,n.LeftField=i.leftField,n.RightField=i.rightField,n.OperatorType=i.operator,n.IsValueChecked=i.isValueChecked,n.Value=i.value,t.JoinFields.push(n);e.push(t)}return e},t.prototype.getQueryFilterState=function(){var r=[],i,n,t;if(this.queryFilter&&this.queryFilter.length>0)for(i=0;i<this.queryFilter.length;i++)n=new InitialFilterInfo,t=this.queryFilter[i],n.Name=t.Name,n.Id=t.Id,n.MeasureFilterSchemaInfo=t.MeasureFilterSchemaInfo,n.DimensionFilterSchemaInfo=t.DimensionFilterSchemaInfo,n.DateFilterSchemaInfo=t.DateFilterSchemaInfo,n.BooleanFilterSchemaInfo=t.BooleanFilterSchemaInfo,n.OperatorType=t.OperatorType,n.Schema=t.Schema,n.DataType=t.DataType,n.TableName=t.TableName,n.IsTypeCast=t.IsTypeCast,n.TypeCastValue=t.TypeCastValue,n.TableId=t.TableId,r.push(n);return r},t.prototype.getExpressionState=function(){var t=null,n,i;if(this.queryExp&&this.queryExp.length>0)for(t=[],n=0;n<this.queryExp.length;n++)i={Name:this.queryExp[n].name,QueryExp:this.queryExp[n].expression},t.push(i);return t},t.prototype.getColumnsState=function(n){var a=[],o=this.id,y=n.data("e-table"),t=this.getColumnList(y),r=Object.keys(t),c=!1,s,u,f,e;if(!BoldBIDashboard.isNullOrUndefined(t[r])){for(s=0;s<t[r].length;s++)if(u=BoldBIDashboard.DashboardUtil.escapeSelector(t[r][s].Name),f=n.find("#"+o+"_"+u),f.length>0){c=!0;break}for(e=0;e<t[r].length;e++){var u=BoldBIDashboard.DashboardUtil.escapeSelector(t[r][e].Name),i=this.createColumn(),f=n.find("#"+o+"_"+u).addClass("bbi-dbrd-designer-hoverable"),h=n.find("#"+this.id+"_txtSpan_"+u),v=h.text(),l=null;h.attr("isDuplicate")==="true"?l=/\(([^)]+)\)/.exec(h.text())[1]:v.toLowerCase()!==t[r][e].Name.toLowerCase()&&(l=v);i.Name=t[r][e].Name;i.IsSelected=c?f.hasClass("bbi-designer-dataset-column-select"):c||f.length!==0?!0:!1;i.AggregateTye=n.find("#"+o+"_li_"+u).attr("e-data-aggregate");i.IsDuplicate=h.attr("isDuplicate")==="true";i.AliasName=l;i.TypeCast=n.find("#"+o+"_li_"+u).attr("e-column-type");i.FiscalYearStart=n.find("#"+o+"_li_"+u).attr("e-fiscal-year-value");a.push(i);f.attr("data-tooltip",f.hasClass("bbi-designer-dataset-column-select")?"Show":"Hide")}}return a},t.prototype.renderEditConnectionWindow=function(){this.editConnection=this.dashboardDesigner.modules.editConnection;var n=this.element.find("#"+this.id+"_dataset_txt").val();this.editConnection.openEditConnectionWindow(this.DatasourceInfo,n)},t.prototype.saveQueryDataSet=function(){this.isContinueToDashboardbtn="saveDataSource";var n=this.dashboardDesigner._trigger("actionBegin",{eventType:"dataSourceSaveAction",designer:this.dashboardDesigner});n||this.saveDataSourceInformation()},t.prototype.continueToDashboard=function(){this.isContinueToDashboardbtn="ContinueToDashboard";this.saveDataSourceInformation()},t.prototype.saveDataSourceInformation=function(){this.hideResponsiveToolBar();this.toggleDataSamplingOption(this.connectionInstance.IsDataSamplingSupported);this.ejSharedSchemaTreeForSearch=null;this.ejSchemaTreeForSearch=null;this.saveQueryInfo()},t.prototype.addActivityLogForSaveDS=function(){var n=this.dashboardDesigner.modules.dataSource,t=!BoldBIDashboard.isNullOrUndefined(this.DatasourceInfo.PublishId)&&this.DatasourceInfo.PublishId!==""?this.DatasourceInfo.PublishId:null,i=this.isEdit?ActivityLogEvents.Updated:ActivityLogEvents.Saved,r=BoldBIDashboard.isNullOrUndefined(this.DatasourceInfo.ProviderType)?this.DatasourceInfo.ConnectionProperties.DataProvider:this.DatasourceInfo.ProviderType;this.dashboardDesigner.modules.util.AddActivityLog(i,ActivityLogItemType.Datasource,n.getDatasourceSubTypes(r),t)},t.prototype.renderDataSampleWindow=function(){this.dataSample=this.dashboardDesigner.modules.dataSample;!BoldBIDashboard.isNullOrUndefined(this.dataSample.dataLimitValue)||BoldBIDashboard.isNullOrUndefined(this.model.dataSet)||BoldBIDashboard.isNullOrUndefined(this.model.dataSet.Query.QueryDesignerState.DataSample)||(this.dataSample.dataSampling=this.model.dataSet.Query.QueryDesignerState.DataSample.DataSampling,this.dataSample.dataLimitValue=this.model.dataSet.Query.QueryDesignerState.DataSample.DataLimit);this.dataSample.openDataSampleWindow()},t.prototype.isValidateQryInfo=function(n){if(this.dashboardDesigner.model.mode===BoldBIDashboard.Designer.mode.datasource||this.validateDataSetName()){if(!n){var t=this.queryEditorTag.is(":visible")?this.locale.dataSource.specifyQueryText:this.locale.alertWindowMesages.selectTableMessage;return this.dashboardDesigner.modules.util.alertDialog(this.locale.alertDialogTitle.SelectTable,t,IconType.warning,AlertType.Alert,!1,""),!1}}else return!1;return!0},t.prototype.updateDataSource=function(n){var f=this,t,i,u,r;this.codeChkSwitcher.is(":checked")&&this.dashboardDesigner.isExecute?BoldBIDashboard.isNullOrUndefined(n)?this.executeCodeViewQuery():(t=this.dragSurfaceTag.find(".bbi-data-table"),!BoldBIDashboard.isNullOrUndefined(t)&&t.length>0&&(u="",r=this.dashboardDesigner.modules.queryDesigner,r.addedTableNames.length>0&&(u=r.addedTableNames[0]),t.each(function(t,e){for(var o=f.bbdesigner$(e).data("e-table"),h=Object.keys(n),s=0;s<h.length;s++)n[h[s]].indexOf(o.name)!==-1&&(o.schema=h[s]);u===o.name&&(i=o,r.addedTableNames.splice(0,1))}),this.dashboardDesigner.modules.util.doAjaxPost("POST",this.model.serviceUrl+BoldBIDashboard.Dashboard.ServiceAPI.processdata,{action:BoldBIDashboard.DashboardUtil.DesignerAction.getTableFields,data:JSON.stringify({className:BoldBIDashboard.DashboardUtil.DesignerAction.DataDesignViewAction,designerAction:BoldBIDashboard.DashboardUtil.DesignerAction.getTableFields,datasource:this.encrptDataSourceInfo(this.DatasourceInfo),parameters:[],tableName:i.name,tableSchema:i.schema,tableId:i.id,dataSetName:this.dataset.Name,dataSetId:this.dataset.Id,IsReconnect:!0,isQueryDesignerMode:this.dashboardDesigner.isQueryDesignerMode})},{fnction:this.bbdesigner$.proxy(this.updateTableInfo,this,n)}))):this.ajaxPostUpdateColumnListForReconnect(n)},t.prototype.failedUpdateColumnList=function(n,t){if(t){var i=t.responseText+"<div><\/br>"+this.locale.alertWindowMesages.retryforEditConnection+"<\/div>";this.dashboardDesigner.modules.util.alertDialog(this.locale.dataSource.alertboxHeaderEditConnectionText,i,IconType.warning,AlertType.Confirm,!1,"",{instance:this,method:"confirmRetryForReconnect",dataInfo:n})}},t.prototype.ajaxPostUpdateColumnListForReconnect=function(n){var i=this,f=this.dashboardDesigner.rdlParser.rdlJsonObj.DataSets.filter(function(n){return n.Id===i.dataset.Id})[0],o=this.dragSurfaceTag.find(".bbi-data-table"),e=[],r,t,s,u;if(o.length>0)o.each(function(n,t){var r=i.bbdesigner$(t).data("e-table"),u={dataSetName:i.dataset.Name,dataSetId:i.dataset.Id,tableAliasName:r.displayName,tableName:r.name,categoryName:"Columns",schemaName:i.connectionInstance.ShouldExtractData?i.dataset.Id:r.schema,viewType:r.viewType,tableId:r.id,isRunAction:!0};e.push(u)});else if(!BoldBIDashboard.isNullOrUndefined(f)&&!BoldBIDashboard.isNullOrUndefined(f.Query)&&!BoldBIDashboard.isNullOrUndefined(f.Query.QueryDesignerState))for(r=f.Query.QueryDesignerState.Tables,t=0;t<r.length;t++)s={dataSetName:this.dataset.Name,dataSetId:this.dataset.Id,tableName:r[t].Name,tableAliasName:r[t].DisplayName,categoryName:"Columns",schemaName:this.connectionInstance.ShouldExtractData?this.dataset.Id:r[t].Schema,viewType:"tables",tableId:r[t].Id,isRunAction:!0},e.push(s);u=!1;BoldBIDashboard.isNullOrUndefined(n)?u=BoldBIDashboard.Dashboard.ConnectionHelper.isHierarchicalConnection(this.connectionInstance):BoldBIDashboard.isNullOrUndefined(n.Cubes)||(u=!0);this.dashboardDesigner.modules.util.doAjaxPost("POST",this.model.serviceUrl+BoldBIDashboard.Dashboard.ServiceAPI.processdata,{action:u?BoldBIDashboard.DashboardUtil.DesignerAction.getCubeList:BoldBIDashboard.DashboardUtil.DesignerAction.GetChildList,data:JSON.stringify({className:BoldBIDashboard.DashboardUtil.DesignerAction.DataDesignViewAction,designerAction:u?BoldBIDashboard.DashboardUtil.DesignerAction.getCubeList:BoldBIDashboard.DashboardUtil.DesignerAction.GetChildList,tableData:e,dataSetId:this.dataset.Id,isQueryDesignerMode:this.dashboardDesigner.isQueryDesignerMode})},{fnction:this.bbdesigner$.proxy(this.updateColumnListForReconnect,this,n),errfnction:this.bbdesigner$.proxy(this.failedUpdateColumnList,this,n)},!0)},t.prototype.confirmRetryForReconnect=function(n,t){n?this.ajaxPostUpdateColumnListForReconnect(t):this.updateNoDataInfo()},t.prototype.updateColumnListForReconnect=function(n,t){var i,r;if(!BoldBIDashboard.isNullOrUndefined(t.tableData)&&!BoldBIDashboard.isNullOrUndefined(t.tableName))for(i=0;i<t.tableData.length;i++)r=this.tableList.indexOf(t.tableName[i]),r>=0&&(this.tableList.splice(r,1),this.columnList.splice(r,1)),this.columnList.push(JSON.parse(t.tableData[i])),this.tableList.push(t.tableName[i]);this.addedTableNames=[];this.updateTables(n);this.editDataSource=!0;this.executeUIQuery();this.dragSurfaceTag.empty();this.populateReconnectDesignerState();this.editDataSource=!1},t.prototype.executeCodeViewQuery=function(){var n=null,t=this.dashboardDesigner.isExecute;this.dashboardDesigner.isExecute=!0;this.isCodeView=!0;n=this.getQueryText();this.queryFilter=[];this.queryJoiner=[];this.dataSampleInfo=[];this.dashboardDesigner.modules.util.doAjaxPost("POST",this.model.serviceUrl+BoldBIDashboard.Dashboard.ServiceAPI.processdata,{action:BoldBIDashboard.DashboardUtil.DesignerAction.executeQuery,data:JSON.stringify({className:BoldBIDashboard.DashboardUtil.DesignerAction.DataDesignViewAction,designerAction:BoldBIDashboard.DashboardUtil.DesignerAction.executeQuery,datasource:this.encrptDataSourceInfo(this.DatasourceInfo),sqlQuery:n,commandType:this.commandMode,parameters:this.getParameters(!1),tableName:"",tableSchema:"",tableId:"",dataSetName:this.dataset.Name,dataSetId:this.dataset.Id,isCodeView:this.isCodeView,filter:this.queryFilter,isInitialFilter:this.isInitialFilterApplied,joinInfo:[],isReconnect:!0,isExecute:t,isQueryDesignerMode:this.dashboardDesigner.isQueryDesignerMode})},{fnction:this.bbdesigner$.proxy(this.previewData,this),indicator:[this.bbdesigner$.proxy(this.showPreviewIndicator,this),this.bbdesigner$.proxy(this.hidePreviewIndicator,this)]})},t.prototype.updateTableInfo=function(n,t){this.addedTableNames.length>0?this.updateDataSource(t):this.dashboardDesigner.modules.util.doAjaxPost("POST",this.model.serviceUrl+BoldBIDashboard.Dashboard.ServiceAPI.processdata,{action:BoldBIDashboard.DashboardUtil.DesignerAction.codeView,data:JSON.stringify({className:BoldBIDashboard.DashboardUtil.DesignerAction.CodeViewAction,designerAction:BoldBIDashboard.DashboardUtil.DesignerAction.codeView,datasource:this.encrptDataSourceInfo(this.DatasourceInfo),commandType:this.commandMode,parameters:this.getParameters(!1),tableName:"",dataSetName:this.dataset.Name,type:"SwitchCodeView",dataSetId:this.dataset.Id,isQueryDesignerMode:this.dashboardDesigner.isQueryDesignerMode})},{fnction:this.bbdesigner$.proxy(this.reconnectSqlQuery,this),indicator:[this.bbdesigner$.proxy(this.showPreviewIndicator,this),this.bbdesigner$.proxy(this.hidePreviewIndicator,this)]})},t.prototype.reconnectSqlQuery=function(n){this.setQueryText(typeof n!="string"?null:n);this.executeCodeViewQuery()},t.prototype.designState=function(){return this.isQueryEditorVisible()&&this.dashboardDesigner.isExecute},t.prototype.isQueryEditorVisible=function(){return this.queryEditorTag.is(":visible")},t.prototype.isCurrentDsIsLiveWebMode=function(){return!BoldBIDashboard.isNullOrUndefined(this.DatasourceInfo)&&!BoldBIDashboard.isNullOrUndefined(this.DatasourceInfo.IsLiveWebMode)&&this.DatasourceInfo.IsLiveWebMode?!0:!1},t.prototype.updateTables=function(n){var i=this,r=this.dragSurfaceTag.find(".bbi-data-table"),u="schema";r.length>0&&r.each(function(r,f){var e=t.createDesignerTable(),o=i.bbdesigner$(f).data("e-table"),c,l,h,s;if(!BoldBIDashboard.isNullOrUndefined(n))if(c=Object.keys(n),i.connectionInstance.ShouldExtractData&&i.isCurrentDsIsLiveWebMode)BoldBIDashboard.isNullOrUndefined(i.fileSchema)||(o[u]=i.fileSchema);else for(s=0;s<c.length;s++)n[c[s]].indexOf(o.name)!==-1&&(o[u]=c[s]);if(e.DisplayName=o.displayName,e.IsShared=o.IsShared||!1,e.sourceId=o.sourceId,e.Name=o.name,e.Id=o.id,e.Schema=o.schema,e.IsView=o.viewType==="Tables"?!1:!0,e.Columns=i.getColumnsState(i.bbdesigner$(f)),i.dataset.Query.QueryDesignerState===null||i.dataset.Query.QueryDesignerState.Tables===null)l=t.createQueryDesigner(),l.Tables=[],l.Tables.push(e);else for(h=i.dataset.Query.QueryDesignerState.Tables,s=0;s<h.length;s++)if(h[s].Name===e.Name){h.splice(s,1);h.push(e);break}})},t.prototype.saveQueryInfo=function(n,t){var i=null,r,u;this.queryEditorTag.is(":visible")?(i=this.getQueryText(),this.isValidateQryInfo(i)&&this.excuteQrySchema(i,t,n)):(r=this.dragSurfaceTag.find(".e-Stored.Procedures"),u=this.dragSurfaceTag.find(".bbi-data-table"),u.length>0||r.length>0||t?this.excuteQrySchema(i,t,n):this.dashboardDesigner.modules.util.alertDialog(this.locale.alertDialogTitle.SelectTable,this.locale.alertWindowMesages.selectTableMessage,IconType.warning,AlertType.Alert,!1,""))},t.prototype.excuteOtherProviderQrySchema=function(n){this.DatasourceInfo=n;this.excuteQrySchema(this.getQueryText())},t.prototype.excuteQrySchema=function(n,t,i){var r;BoldBIDashboard.isNullOrUndefined(this.dataSetName)?r=this.dataset.Name:this.dataset.Name=r=this.dataSetName;this.codeChkSwitcher.is(":checked")?this.executeCodeViewQueryBeforeDataSourceSave(n,r,t,i):this.excuteQrySchemaInternal(n,r,t,i)},t.prototype.excuteQrySchemaInternal=function(n,t,i,r,u){if(BoldBIDashboard.isNullOrUndefined(this.model.serviceAuthorizationToken)||this.model.serviceAuthorizationToken===""||r)this.updateQuerySchema(n,t,i);else{this.setUpdatedScheduleJson();var f=new BoldBIDashboard.DashboardDesignerUtility.DatasourceSaveDialog(this.dashboardDesigner,this.DatasourceInfo,this.dataset,this.bbdesigner$.proxy(this.updateQueryInfo,this,i));f.trySavingDataSource(this.bbdesigner$.proxy(this.showDesignIndicator,this,i),this.bbdesigner$.proxy(this.hideDesignIndicator,this,i),this.isContinueToDashboardbtn)}BoldBIDashboard.isNullOrUndefined(u)||this.codeViewExpressions(u)},t.prototype.setUpdatedScheduleJson=function(){BoldBIDashboard.isNullOrUndefined(this.datasource.scheduleJson)||(this.DatasourceInfo.ScheduleItemJson=JSON.stringify(this.datasource.scheduleJson),this.datasource.scheduleJson=null)},t.prototype.executeCodeViewQueryBeforeDataSourceSave=function(n,t,i,r){n!=null&&(this.isCodeView=!0);var u=this.dashboardDesigner.isExecute;this.dashboardDesigner.modules.util.doAjaxPost("POST",this.model.serviceUrl+BoldBIDashboard.Dashboard.ServiceAPI.processdata,{action:BoldBIDashboard.DashboardUtil.DesignerAction.executeQuery,data:JSON.stringify({className:BoldBIDashboard.DashboardUtil.DesignerAction.DataDesignViewAction,designerAction:BoldBIDashboard.DashboardUtil.DesignerAction.executeQuery,datasource:this.encrptDataSourceInfo(this.DatasourceInfo),sqlQuery:n,commandType:this.commandMode,dataSetName:t,dataSetId:this.dataset.Id,isCodeView:this.isCodeView,isReconnect:!0,isExecute:u,isQueryDesignerMode:this.dashboardDesigner.isQueryDesignerMode})},{fnction:this.bbdesigner$.proxy(this.excuteQrySchemaInternal,this,n,t,i,r),indicator:[this.bbdesigner$.proxy(this.showDesignIndicator,this,i),this.bbdesigner$.proxy(this.hideDesignIndicator,this,i)]})},t.prototype.updateQuerySchema=function(n,t,i){i===void 0&&(i=!1);this.dashboardDesigner.modules.util.doAjaxPost("POST",this.model.serviceUrl+BoldBIDashboard.Dashboard.ServiceAPI.processdata,{action:BoldBIDashboard.DashboardUtil.DesignerAction.querySchema,data:JSON.stringify({className:BoldBIDashboard.DashboardUtil.DesignerAction.DataDesignViewAction,designerAction:BoldBIDashboard.DashboardUtil.DesignerAction.querySchema,datasource:this.encrptDataSourceInfo(this.DatasourceInfo),sqlQuery:n,commandType:this.commandMode,parameters:this.getParameters(!0),dataSetName:t,dataSetId:this.dataset.Id,isEditConnection:!BoldBIDashboard.isNullOrUndefined(i)&&i,isQueryDesignerMode:this.dashboardDesigner.isQueryDesignerMode})},{fnction:this.bbdesigner$.proxy(this.updateQueryInfo,this,i),indicator:[this.bbdesigner$.proxy(this.showDesignIndicator,this,i),this.bbdesigner$.proxy(this.hideDesignIndicator,this,i)]})},t.prototype.updateQueryInfo=function(n,t){var s,h,c,u,l,a,r;if(t&&t.schema){var v=JSON.parse(t.schema),y=t.query,i=this.bbdesigner$.extend(!0,{},this.dataset);for((BoldBIDashboard.isNullOrUndefined(this.model.serviceAuthorizationToken)||this.model.serviceAuthorizationToken==="")&&(i.Name=this.element.find("#"+this.id+"_dataset_txt").val(),i.Description=this.datasetDescription.val().trim()),i.Fields=[],this.queryParameters=[],i.Query.CommandText=y,i.Query.DataSourceId=this.DatasourceInfo.Id,i.Query.QueryDesignerState=this.saveDesignerState(n),i.Query.IsCodeView=this.dragSurfaceTag.css("display")==="block"?!1:!0,s=[],h=BoldBIDashboard.Dashboard.ConnectionHelper.isHierarchicalConnection(this.connectionInstance),i.Query.DashboardParameters=this.queryParamCollection,i.UserBasedFilterInfo=this.userBasedFilterInfo,r=0;r<v.length;r++)c=BoldBIDashboard.DashboardUtil.updateDSFields(s,v[r]),i.Fields.push(c);if(i.TreeViewData=h?t.TreeViewData:null,this.commandMode===CommandMode.Procedure){if(i.Query.CommandType=1,u=this.getProcParams(),!BoldBIDashboard.isNullOrUndefined(u)&&u.length>0)for(r=0;r<u.length;r++){var f=u[r],o=f.Name.substring(1),e=this.createQueryParameter();e.Name=f.Name;e.Value="=Parameters!"+o+".Value";i.Query.QueryParameters.push(e);this.newDependentParameter(o,f)}}else if(this.commandMode===CommandMode.Text&&(i.Query.CommandType=0,u=void 0,this.queryEditorTag.css("display")==="block"?(l=this.dashboardDesigner.modules.queryParameter,u=l.getQueryParameters(i.Query.CommandText)):u=this.getDesignerParameters(),!BoldBIDashboard.isNullOrUndefined(u)&&u.length>0))for(r=0;r<u.length;r++){var f=u[r],o=f.Name.substring(1),e=this.createQueryParameter();e.Name=f.Name;e.Value="=Parameters!"+o+".Value";i.Query.QueryParameters.push(e);this.newDependentParameter(o,f)}for(this.editDataSource?(this.dataset=i,this.editDataSource=!1,this.addActivityLogForSaveDS()):(this.callBackfn?(BoldBIDashboard.DashboardUtil.invokeCallBack(this.callBackfn,{oldDataSet:this.model.dataSet,newDataSet:i,parameters:this.queryParameters}),a={fnction:this.isEdit&&(!BoldBIDashboard.DashboardUtil.isEqualObj(this.model.dataSet,i)||this.isCodeView)?this.bbdesigner$.proxy(this.updateDataSet,this,i,t):this.bbdesigner$.proxy(this.dashboardDesigner.updateParamCollection,this)},this.dashboardDesigner.getParameterForDashboard(a)):this.invokefn&&BoldBIDashboard.DashboardUtil.invokeCallBack(this.invokefn,{oldDataSet:this.model.dataSet,newDataSet:i,newSharedDataSet:this.getSharedDataSet(i),parameters:this.queryParameters,sharedDataMapping:this.sharedDataMapping}),this.addActivityLogForSaveDS(),this.isEdit=!1,this.columnList=[],this.tableList=[]),r=0;r<this.dashboardDesigner.modules.dataSet.dataSource.datasources.length;r++)this.dashboardDesigner.modules.dataSet.dataSource.datasources[r].Id===this.dashboardDesigner.modules.editConnection.queryDesigner.DatasourceInfo.Id&&(this.dashboardDesigner.modules.dataSet.dataSource.datasources[r]=this.dashboardDesigner.modules.editConnection.queryDesigner.DatasourceInfo);this.hidePreviewIndicator();this.hideDesignIndicator();this.hideDragIndicator();BoldBIDashboard.isNullOrUndefined(this.editConnection)||BoldBIDashboard.isNullOrUndefined(n)||!n||this.editConnection.updateSchemaInformation();this.queryParamCollection=[]}else if(t&&t.indexOf("Sf_Exception")!==-1)this.dashboardDesigner.modules.util.alertDialog(this.locale.alertDialogTitle.dataSet,this.locale.errorMessage.failedToSaveSelectedTableQuery,IconType.errors,AlertType.Alert,!0,t);else if(this.queryParamCollection=[],!BoldBIDashboard.isNullOrUndefined(this.dashboardDesigner.model.mode)&&this.dashboardDesigner.model.mode===BoldBIDashboard.Designer.mode.datasource&&!BoldBIDashboard.isNullOrUndefined(this.dashboardDesigner.model.serviceAuthorizationToken))this.onActionSuccess(t)},t.prototype.updateDataSet=function(n,t,i){this.dashboardDesigner.updateParamCollection(i);this.dashboardDesigner.modules.dataConfiguration.updateDataset(n.Id,!1,BoldBIDashboard.isNullOrUndefined(t.linkedDS)?null:JSON.parse(t.linkedDS))},t.prototype.onActionSuccess=function(n){if(n){var t={element:null,data:n},i={mode:BoldBIDashboard.Designer.mode.datasource,event:this.isContinueToDashboardbtn,source:t};this.dashboardDesigner._trigger("actionComplete",{eventType:BoldBIDashboard.DashboardDesignerUtility.Serialization.stringtoEnum(BoldBIDashboard.DashboardDesignerEvent,this.isContinueToDashboardbtn),data:i})}},t.prototype.onCancelActionSuccess=function(n){if(n){var t={element:null,data:n},i={mode:BoldBIDashboard.Designer.mode.datasource,event:"cancelDataSource",source:t};this.dashboardDesigner._trigger("actionComplete",{eventType:BoldBIDashboard.DashboardDesignerEvent.CancelDataSource,data:i})}},t.prototype.getSharedDataSet=function(n){var t=this.createSharedDataset();return t.Name=n.Name,t.Query.CommandText=n.Query.CommandText,t.Query.CommandType=n.Query.CommandType,t.Query.QueryDesignerState=n.Query.QueryDesignerState,t.Query.IsCodeView=n.Query.IsCodeView,t.Query.DataSourceReference=this.DatasourceInfo.Name,t.Query.DashboardParameters=n.Query.DashboardParameters,t.QueryParameters=n.Query.QueryParameters,t.Fields=n.Fields,t},t.prototype.newDependentParameter=function(n,t){this.referenceParam=this.bbdesigner$.extend(this.model.parameters,{},!0);var i=this.createParameter();i.Name=n;i.Prompt=n;i.DataType=t.DataType==="bit"||t.DataType==="System.Boolean"?DataTypes.Boolean:BoldBIDashboard.DashboardUtil.contains("int",t.DataType,!0)||t.DataType==="System.Int32"||t.DataType==="System.Int16"||t.DataType==="System.Int64"||t.DataType==="System.Byte"||t.DataType==="System.Single"?DataTypes.Integer:BoldBIDashboard.DashboardUtil.contains("money",t.DataType,!0)||t.DataType==="float"||t.DataType==="numeric"||t.DataType==="System.Double"?DataTypes.Float:t.DataType==="decimal"||t.DataType==="System.Decimal"?DataTypes.Decimal:BoldBIDashboard.DashboardUtil.contains("date",t.DataType,!0)||t.DataType==="System.DateTime"?DataTypes.DateTime:DataTypes.String;BoldBIDashboard.isNullOrUndefined(t.Value)||(i.DefaultValue=this.createDefaultValues(),i.DefaultValue.Values.push(t.Value),i.DefaultValue.DataSetReference=null);this.isExistParameter(i,t.isQueryMode)||this.queryParameters.push(i)},t.prototype.isExistParameter=function(n,t){for(var i=0;i<Object.keys(this.referenceParam).length;i++)if(this.referenceParam[i].Name===n.Name)return BoldBIDashboard.isNullOrUndefined(t)&&!t&&!BoldBIDashboard.DashboardUtil.isEqualObj(this.referenceParam,n)?(this.referenceParam[i]=n,!1):!0;if(this.queryParameters&&this.queryParameters.length>0)for(i=0;i<this.queryParameters.length;i++)if(this.queryParameters[i].Name===n.Name)return!0;return!1},t.prototype.cancelDataSource=function(){this.isEdit?this.dashboardDesigner.modules.util.alertDialog(this.locale.alertDialogTitle.EditDataSourceConnection,this.locale.alertWindowMesages.datasourceEditing,IconType.warning,AlertType.Confirm,!1,"",{dataInfo:{},instance:this,method:"confirmCancel"}):this.dashboardDesigner.modules.util.alertDialog(this.locale.alertDialogTitle.CancelDataSourceCreation,this.locale.alertWindowMesages.queryViewDSCancel,IconType.warning,AlertType.Confirm,!1,"",{dataInfo:{},instance:this,method:"confirmCancel"})},t.prototype.confirmCancel=function(n){var t;if(n&&(t=this.isEdit,this.cancelDataSet(null),!t)){var i=this.dashboardDesigner.modules.dataSource,r=!BoldBIDashboard.isNullOrUndefined(this.DatasourceInfo.PublishId)&&this.DatasourceInfo.PublishId!==""?this.DatasourceInfo.PublishId:null,u=i.getDatasourceSubTypes(BoldBIDashboard.isNullOrUndefined(this.DatasourceInfo.ProviderType)?this.DatasourceInfo.ConnectionProperties.DataProvider:this.DatasourceInfo.ProviderType);this.dashboardDesigner.modules.util.AddActivityLog(ActivityLogEvents.Cancelled,ActivityLogItemType.Datasource,u,r)}},t.prototype.cancelDataSet=function(){if(this.hideResponsiveToolBar(),this.hideDragIndicator(),this.hideDesignIndicator(),this.hidePreviewIndicator(),this.hideIndicator(),this.killPendingRequest(),this.postCancelledDataSetEdit(),this.isEdit=!1,this.isEditMode=!1,this.dashboardDesigner.isQueryDesignerMode=!1,this.columnList=[],this.tableList=[],this.queryParamCollection=[],this.dashboardDesigner.model.mode===BoldBIDashboard.Designer.mode.datasource)this.onCancelActionSuccess(!0);else this.callBackfn?BoldBIDashboard.DashboardUtil.invokeCallBack(this.callBackfn,{isCancel:!0}):this.invokefn&&BoldBIDashboard.DashboardUtil.invokeCallBack(this.invokefn,{isCancel:!0});this.dataset.Query.IsCodeView&&this.dashboardDesigner.isExecute&&(this.dashboardDesigner.isExecute=!1)},t.prototype.killPendingRequest=function(){if(this.ajaxPostCollection.length>0)for(var n=0;n<this.ajaxPostCollection.length;n++)this.ajaxPostCollection[n].readyState<4&&this.ajaxPostCollection[n].abort();this.ajaxPostCollection=[]},t.prototype.postCancelledDataSetEdit=function(){var n=this.dataset.Name;this.dashboardDesigner.modules.util.doAjaxPost("POST",this.model.serviceUrl+BoldBIDashboard.Dashboard.ServiceAPI.processdata,{action:BoldBIDashboard.DashboardUtil.DesignerAction.cancelDataSetEdit,data:JSON.stringify({className:BoldBIDashboard.DashboardUtil.DesignerAction.DataSetAction,designerAction:BoldBIDashboard.DashboardUtil.DesignerAction.cancelDataSetEdit,datasource:this.encrptDataSourceInfo(this.DatasourceInfo),datasetName:n,isEdit:this.isEdit,canDropTable:this.model.mode!==BoldBIDashboard.Designer.mode.datasource&&!this.isEdit&&(this.isSqlExtractMode()||this.connectionInstance.ShouldExtractData),dataSetId:this.dataset.Id,isQueryDesignerMode:this.dashboardDesigner.isQueryDesignerMode,isLiveMode:this.DatasourceInfo.IsLiveWebMode})},{indicator:this.dashboardDesigner.model.mode===BoldBIDashboard.Designer.mode.datasource?[this.bbdesigner$.proxy(this.showDesignIndicator,this,!1),this.bbdesigner$.proxy(this.hideDesignIndicator,this,!1)]:null})},t.prototype.hideResponsiveToolBar=function(){this.element.find("#"+this.id+"_div_designerTool_target").length>0&&this.bbdesigner$("#"+this.id+"_div_designerTool_hiddenlist").is(":visible")&&this.element.find("#"+this.id+"_div_designerTool_target").mousedown()},t.prototype.validateDataSetName=function(){var n=this.element.find("#"+this.id+"_dataset_txt").val();if(!this.dashboardDesigner.nameValidation(n)){this.dashboardDesigner.modules.util.alertDialog(this.dashboardDesigner.getInvalidNameAlertTitle("datasourceName",!0),this.dashboardDesigner.getInvalidNameAlertTitle("datasourceName",!1),IconType.errors,AlertType.Alert,!1,"",{instance:this,method:"datasourceRenameAlert"});return}if(n){if(this.isAvailable(n))return this.dashboardDesigner.modules.util.alertDialog(this.locale.alertDialogTitle.SaveDataSource,this.locale.dataSource.dataSetNameExist,IconType.warning,AlertType.Alert,!1,""),!1}else return this.dashboardDesigner.modules.util.alertDialog(this.locale.alertDialogTitle.SaveDataSource,this.locale.dataSource.dataSetName,IconType.warning,AlertType.Alert,!1,""),!1;return!0},t.prototype.datasourceRenameAlert=function(){this.dashboardDesigner.element.find("#"+this.id+"_dataset_txt").focus().select()},t.prototype.AssignDataSet=function(n){this.dataset=n},t.prototype.setDataSetName=function(n){var t=this.element.find("#"+this.id+"_dataset_txt");n&&t.val(n.Name);BoldBIDashboard.isNullOrUndefined(this.DatasourceInfo)||BoldBIDashboard.isNullOrUndefined(this.DatasourceInfo.Name)?t.val(""):t.val(this.DatasourceInfo.Name);this.isEdit?this.dataset=this.model.dataSet:this.dataset.Name=t.val()},t.prototype.setDataSetDescription=function(n){n&&this.datasetDescription.val(n.Description);this.isEdit&&!BoldBIDashboard.isNullOrUndefined(this.model.dataSet.Description)?this.datasetDescription.val(this.model.dataSet.Description):BoldBIDashboard.isNullOrUndefined(this.DatasourceInfo)||BoldBIDashboard.isNullOrUndefined(this.DatasourceInfo.Description)?this.model.mode!==BoldBIDashboard.Designer.mode.datasource||BoldBIDashboard.isNullOrUndefined(this.model.dataSources[0])||BoldBIDashboard.isNullOrUndefined(this.model.dataSources[0].Description)?this.datasetDescription.val(""):this.datasetDescription.val(this.model.dataSources[0].Description):this.datasetDescription.val(this.DatasourceInfo.Description);this.isEdit?this.dataset=this.model.dataSet:this.dataset.Description=this.datasetDescription.val();var t=this.locale.toolBar;this.descriptionDiv.text(this.datasetDescription.val()===""?t.addDescription:t.editDescription)},t.prototype.getAvailableName=function(){var t="DataSource",n=0,i;do n++,i=this.model.validateNames.indexOf(t+n);while(i!==-1);return t+n},t.prototype.isAvailable=function(n){for(var t=0;t<this.model.validateNames.length;t++)if(this.model.validateNames[t]===n&&!(this.model.dataSet&&n===this.model.dataSet.Name))return!0;return!1},t.prototype.splitterResize=function(){var t=this.element.find("#"+this.id+"_div_previewArea"),i=this.previewHeader.height(),n=this.previewGrid.find(".e-gridheader").height()+1;n=n>2?n:40;this.noRecordSpan.css("height",t.height()-i);this.ejPreviewGrid.height=t.height()-n-i},t.prototype.horizontalResize=function(n){this.ejPreviewSplitter.refresh();this.previewHeader.width(n.nextPane.size-1);this.ejPreviewGrid.width=n.nextPane.size-1;this.noRecordSpan.width(n.nextPane.size);this.sharedTableScroller&&(this.sharedTableScroller.model.width=n.prevPane.size,this.sharedTableScroller.refresh());this.ejSchemaScroller&&(this.ejSchemaScroller.model.width=n.prevPane.size);this.bodySchemaTag.find(".e-tree-area").is(":visible")?this.ejSchemaScroller&&this.ejSchemaScroller.refresh():this.bodySchemaTag.width(n.prevPane.size);this.updateConnectionSpecificUI()},t.prototype.resetSize=function(){var n;this.sharedTableClose();var t=this.element.height()-this.designToolbar.height(),e=this.schemaHeader.css("display")==="block"?t-this.schemaHeader.outerHeight(!0):0,r=this.connectionInstance.ShouldExtractData||this.isSqlExtractMode()?this.getSchemaAreaHeight(this.sharedSchemaTag.find(".bbi-shared-tables-header").outerHeight(!0)):t-e;if(this.element.find("#"+this.id+"_div_designerArea").height(t),this.element.find("#"+this.id+"_div_draggableArea").css("height","100%"),this.ejSurfaceSplitter.model.properties=[{paneSize:"230px",collapsible:!1,minSize:"200px",expandable:!1},{collapsible:!1}],this.ejSurfaceSplitter.option("height",t,!0),this.sharedTableScroller&&this.sharedTableScroller.setModel({width:this.schemaDiv.width()}),this.bodySchemaTag.height(r),this.ejSchemaScroller&&this.ejSchemaScroller.setModel({height:r-2+"px",width:this.schemaDiv.width()+"px"}),!BoldBIDashboard.isNullOrUndefined(this.ejPreviewSplitter)&&!BoldBIDashboard.isNullOrUndefined(this.previewGrid)){n=this.getSurfaceAreaWidth();this.ejPreviewSplitter.model.properties=[{paneSize:"67%",collapsible:!1,expandable:!1},{paneSize:"33%",minSize:"20",collapsible:!1}];this.ejPreviewSplitter.option("width",n,!0);var u=this.element.find("#"+this.id+"_div_previewArea"),f=this.previewHeader.height(),i=this.previewGrid.find(".e-gridheader").height()+1;i=i>2?i:40;this.previewHeader.width(n);this.noRecordSpan.css({height:u.height()-f,width:n});this.ejPreviewGrid.height=u.height()-i-f;this.ejPreviewGrid.width=n}this.updateToolBarSize()},t.prototype.updateEditorSize=function(){var i=this.element.height()-this.designToolbar.height(),r=this.element.find("#"+this.id+"_div_draggableArea"),n=this.element.width()-1;if(this.element.find("#"+this.id+"_div_designerArea").height(i),this.element.find("#"+this.id+"_div_target_designArea").height(i),r.width(this.element.width()-1),r.height(i),!BoldBIDashboard.isNullOrUndefined(this.ejPreviewSplitter)&&!BoldBIDashboard.isNullOrUndefined(this.previewGrid)){this.ejPreviewSplitter.model.properties=[{paneSize:"67%",collapsible:!1,expandable:!1},{paneSize:"33%",minSize:"20",collapsible:!1}];this.ejPreviewSplitter.option("width",n,!0);var u=this.element.find("#"+this.id+"_div_previewArea"),f=this.previewHeader.height(),t=this.previewGrid.find(".e-gridheader").height()+1;t=t>2?t:40;this.previewHeader.width(n);this.noRecordSpan.css({height:u.height()-f,width:n});this.ejPreviewGrid.width=n;this.ejPreviewGrid.height=u.height()-t-f}},t.prototype.updateSize=function(){var n,t,i;if(this.updateToolBarSize(),this.element.find("#"+this.id+"_div_target_designArea>.e-split-divider.e-h-bar").css("display")==="none")this.updateEditorSize();else if(n=this.element.height()-this.designToolbar.height(),this.element.find("#"+this.id+"_div_designerArea").height(n),this.element.find("#"+this.id+"_div_draggableArea").css("height","100%"),this.element.find("#"+this.id+"_div_target_designArea").height(n),this.ejSurfaceSplitter.option("height",n),t=this.connectionInstance.ShouldExtractData||this.isSqlExtractMode()?this.getSchemaAreaHeight(n/2):n-this.schemaHeader.outerHeight(!0),this.sharedTableScroller&&this.sharedTableScroller.model.height!==0?(this.setSchemaPaneHeight(!0),this.sharedTableSplitter.refresh(),this.sharedTableScroller.setModel({height:this.getSharedSchemaTreeHeight(n/2),width:this.schemaDiv.width()}),this.bodySchemaTag.height(t),this.ejSchemaScroller&&(this.ejSchemaScroller.model.width=this.schemaDiv.width(),this.ejSchemaScroller.model.height=t-2)):this.sharedTableClose(),(!this.connectionInstance.ShouldExtractData||this.isSqlExtractMode())&&(this.bodySchemaTag.height(t),this.ejSchemaScroller&&(this.ejSchemaScroller.model.width=this.schemaDiv.width(),this.ejSchemaScroller.model.height=t-2)),this.bodySchemaTag.find(".e-tree-area").is(":visible")?this.ejSchemaScroller&&this.ejSchemaScroller.refresh():(this.bodySchemaTag.width(this.schemaDiv.width()),this.bodySchemaTag.height(t-2)),!BoldBIDashboard.isNullOrUndefined(this.ejPreviewSplitter)&&!BoldBIDashboard.isNullOrUndefined(this.previewGrid)){i=this.getSurfaceAreaWidth();this.ejPreviewSplitter.option("width",i);this.ejPreviewSplitter.model.properties=[{paneSize:"65%",collapsible:!1,expandable:!1},{paneSize:"35%",minSize:"20",collapsible:!1}];this.ejPreviewSplitter.refresh();var u=this.element.find("#"+this.id+"_div_previewArea"),f=this.previewHeader.height(),r=this.previewGrid.find(".e-gridheader").height()+1;r=r>2?r:40;this.previewHeader.width(i);this.noRecordSpan.css({height:u.height()-f,width:i});this.ejPreviewGrid.width=i;this.ejPreviewGrid.height=u.height()-r-f}this.updateConnectionSpecificUI()},t.prototype.getSurfaceAreaWidth=function(){var n=this.element.find("#"+this.id+"_table_schemaArea"),i=n.width(),r=parseFloat(n.css("border-left-width")),u=parseFloat(n.css("border-right-width")),t=this.element.find("#"+this.id+"_div_target_designArea>.e-split-divider"),f=t.width(),e=parseFloat(t.css("border-left-width")),o=parseFloat(t.css("border-right-width"));return this.element.width()-(i+r+u+f+e+o+.5)},t.prototype.updateToolBarSize=function(){this.ejQueryTool.option("width",this.element.width());this.ejQueryTool._activeItem=undefined;this.ejQueryTool._reSizeHandler()},t.prototype.updateElementSize=function(){var i=this.element.height(),r=this.element.width(),u,n,f,t;this.element[0].style.height||this.element[0].parentElement.clientHeight===0||(this.isHeight=!0);this.element[0].style.width||this.element[0].parentElement.clientWidth===0||(this.isWidth=!0);i===0&&this.element[0].parentElement.clientHeight!==0?(this.element.height(this.element[0].parentElement.clientHeight),i=this.element.height()):this.browserInfo.name==="msie"&&this.browserInfo.version==="8.0"&&this.element[0].style.height.indexOf("%")!==-1&&(u=parseFloat(this.element[0].style.height),n=this.element[0].parentElement.clientHeight,n=n/100*u,this.element.height(n));r===0&&this.element[0].parentElement.clientWidth!==0?(this.element.width(this.element[0].parentElement.clientWidth),r=this.element.width()):this.browserInfo.name==="msie"&&this.browserInfo.version==="8.0"&&this.element[0].style.width.indexOf("%")!==-1&&(f=parseFloat(this.element[0].style.width),t=this.element[0].parentElement.clientWidth,t=t/100*f,this.element.width(t))},t.prototype.designerResize=function(){var t=this.browserInfo,n=this;this.resizeTO&&clearTimeout(this.resizeTO);this.resizeTO=setTimeout(function(){var e=n.isWidth?n.element[0].parentElement.style.width:n.element[0].style.width,o=n.isHeight?n.element[0].parentElement.style.height:n.element[0].style.height,i=n.bbdesigner$(n.element).height(),r=n.bbdesigner$(n.element).width(),u,f;o.indexOf("%")!==-1?(n.isPercentHeight=parseFloat(o),u=n.isHeight?n.bbdesigner$(n.element).parent().height():i,i=n.isHeight?u:u/100*n.isPercentHeight):n.element[0].parentElement.clientHeight!==0&&n.isPercentHeight!==-1?i=n.isHeight?n.element[0].parentElement.clientHeight:n.element[0].parentElement.clientHeight/100*n.isPercentHeight:n.isHeight&&n.element[0].parentElement.clientHeight!==0?i=n.element[0].parentElement.clientHeight:t.name==="msie"&&t.version==="8.0"&&n.element[0].parentElement.clientHeight!==0&&(i=n.element[0].parentElement.clientHeight);n.element.height(i);e.indexOf("%")!==-1?(n.isPercentWidth=parseFloat(e),f=n.isWidth?n.bbdesigner$(n.element).parent().width():r,r=n.isWidth?f:f/100*n.isPercentWidth):n.element[0].parentElement.clientWidth!==0&&n.isPercentWidth!==-1?r=n.isWidth?n.element[0].parentElement.clientWidth:n.element[0].parentElement.clientWidth/100*n.isPercentWidth:n.isWidth&&n.element[0].parentElement.clientWidth!==0?r=n.element[0].parentElement.clientWidth:t.name==="msie"&&t.version==="8.0"&&n.element[0].parentElement.clientWidth!==0&&(r=n.element[0].parentElement.clientWidth);n.element.width(r);n.updateSize()},200)},t.prototype.wiredEvents=function(){this.schemaSearch.on("keyup",this.bbdesigner$.proxy(this.onSearchClick,this));this.element.on(BoldBIDashboard.DashboardUtil.MouseEvent.mouseDown,".ej-table-drag>div",this.bbdesigner$.proxy(this.treeMouseDown,this));this.element.on(BoldBIDashboard.DashboardUtil.MouseEvent.mouseUp,".ej-table-drag>div",this.bbdesigner$.proxy(this.treeMouseUp,this));this.element.on(BoldBIDashboard.DashboardUtil.MouseEvent.mouseMove,".ej-table-drag>div",this.bbdesigner$.proxy(this.dragStart,this));this.element.on("click",".bbi-designer-schemaHeader .bbi-shared-tables-closebtn",this.bbdesigner$.proxy(this.onCloseClick,this));this.element.on("click",".bbi-shared-tables-header-items .bbi-shared-tables-action-items span",this.bbdesigner$.proxy(this.onSharedTablesIconClick,this));this.element.on(BoldBIDashboard.DashboardUtil.MouseEvent.mouseOver,".bbi-shared-datasource-header",this.bbdesigner$.proxy(this.enableSharedTableSettings,this));this.element.on(BoldBIDashboard.DashboardUtil.MouseEvent.mouseLeave,".bbi-shared-datasource-header",this.bbdesigner$.proxy(this.disableSharedTableSettings,this));this.element.on("click",".bbi-shared-datasource-header .bbi-sharedtable-menu-icon",this.bbdesigner$.proxy(this.sharedTableMenuList,this));this.element.on("mouseover",".bbi-designer-schemaarea .bbi-sharedtable-collapseiconwrap",this.bbdesigner$.proxy(this.onSharedTableSplitterMouseOver,this));this.element.on("mouseleave",".bbi-designer-schemaarea .bbi-sharedtable-collapseiconwrap",this.bbdesigner$.proxy(this.onSharedTableSplitterMouseLeave,this));this.element.on("mouseover",".bbi-designer-schemaarea .bbi-sharedtable-collapseicon",this.bbdesigner$.proxy(this.onSharedTableCollapseIconMouseOver,this));this.element.on("mouseleave",".bbi-designer-schemaarea .bbi-sharedtable-collapseicon",this.bbdesigner$.proxy(this.onSharedTableCollapseIconMouseLeave,this));this.element.on("click",".bbi-designer-schemaarea .bbi-sharedtable-collapseicon",this.bbdesigner$.proxy(this.collapseIconClick,this));this.element.on("keyup",".bbi-shared-tables-header-items .bbi-shared-tables-searchbox",this.bbdesigner$.proxy(this.onSharedTableSearchClick,this));this.element.on("click",".bbi-shared-tables-header-items .bbi-shared-tables-closebtn",this.bbdesigner$.proxy(this.onSharedTableCloseClick,this));this.element.on("mouseover",".bbi-designer-schemaarea .e-split-divider.e-v-bar",this.bbdesigner$.proxy(this.onSharedTableSplitterMouseOver,this));this.element.on("mouseleave",".bbi-designer-schemaarea .e-split-divider.e-v-bar",this.bbdesigner$.proxy(this.onSharedTableSplitterMouseLeave,this));this.bbdesigner$("body").on("click","#"+this.id+"_cancelButton",this.bbdesigner$.proxy(this.cancelDataSource,this));this.bbdesigner$("body").on("click","#"+this.id+"_saveButton",this.bbdesigner$.proxy(this.saveQueryDataSet,this));this.bbdesigner$("body").on("click","#"+this.id+"_continue_dashboard_button",this.bbdesigner$.proxy(this.continueToDashboard,this));this.bbdesigner$("body").on("click","#"+this.id+"_editConnectionButton",this.bbdesigner$.proxy(this.renderEditConnectionWindow,this));this.bbdesigner$("body").on("click","#"+this.id+"_dataset_description",this.bbdesigner$.proxy(this.datasetDescriptionDialog,this));this.element.on("click","#"+this.id+"_update_preview_grid_btn",this.bbdesigner$.proxy(this.updatePreviewGrid,this));this.element.on("click",".e-heirarchial-table .bbi-designer-selection.e-settings",this.bbdesigner$.proxy(this.heirarchialSettings,this));this.element.on("click",".e-column-mapping-icon-setting",this.bbdesigner$.proxy(this.openColumnMappingWindow,this));this.schemaHeader.find(".bbi-shared-tables-searchbox").on("focus",this.bbdesigner$.proxy(this.onSearchTextBoxFocusIn,this,this.schemaHeader,!0));this.schemaHeader.find(".bbi-shared-tables-searchbox").on("blur",this.bbdesigner$.proxy(this.onSearchTextBoxFocusOut,this,this.schemaHeader,!0));this.sharedSchemaTag.find(".bbi-shared-tables-searchbox").on("focus",this.bbdesigner$.proxy(this.onSearchTextBoxFocusIn,this,this.sharedSchemaTag,!1));this.sharedSchemaTag.find(".bbi-shared-tables-searchbox").on("blur",this.bbdesigner$.proxy(this.onSearchTextBoxFocusOut,this,this.sharedSchemaTag,!1))},t.prototype.onSearchTextBoxFocusIn=function(n,t){t?this.schemaHeader.addClass("e-focus"):this.sharedSchemaTag.find(".bbi-shared-tables-searchbox-wrap").addClass("e-focus")},t.prototype.onSearchTextBoxFocusOut=function(n,t){t?this.schemaHeader.hasClass("e-focus")&&this.schemaHeader.removeClass("e-focus"):this.sharedSchemaTag.find(".bbi-shared-tables-searchbox-wrap").hasClass("e-focus")&&this.sharedSchemaTag.find(".bbi-shared-tables-searchbox-wrap").removeClass("e-focus")},t.prototype.openColumnMappingWindow=function(){this.dashboardDesigner.modules.util.doAjaxPost("POST",this.model.serviceUrl+BoldBIDashboard.Dashboard.ServiceAPI.processdata,{action:BoldBIDashboard.DashboardUtil.DesignerAction.editDataSet,data:JSON.stringify({className:BoldBIDashboard.DashboardUtil.DesignerAction.DataSetAction,designerAction:BoldBIDashboard.DashboardUtil.DesignerAction.ColumnMappingAction,dataSetId:this.dataset.Id,isQueryDesignerMode:this.dashboardDesigner.isQueryDesignerMode})},{fnction:this.bbdesigner$.proxy(this.getColumnMappingInfo,this,null),indicator:[this.bbdesigner$.proxy(this.showDragIndicator,this),this.bbdesigner$.proxy(this.hideDragIndicator,this)]})},t.prototype.getColumnMappingInfo=function(n,t){if(!BoldBIDashboard.isNullOrUndefined(t)){var i=JSON.parse(t);this.dashboardDesigner.modules.columnMappingDialog.openMappingWindowFromQueryDesigner(this,"updateColumnMappingInfo",i,this.dataset.Id,n)}},t.prototype.updateColumnMappingInfo=function(n,t,i){var r=BoldBIDashboard.isNullOrUndefined(i)?null:i.dataInfo;this.dashboardDesigner.modules.util.doAjaxPost("POST",this.model.serviceUrl+BoldBIDashboard.Dashboard.ServiceAPI.processdata,{action:BoldBIDashboard.DashboardUtil.DesignerAction.editDataSet,data:JSON.stringify({className:BoldBIDashboard.isNullOrUndefined(r)?BoldBIDashboard.DashboardUtil.DesignerAction.DataSetAction:BoldBIDashboard.DashboardUtil.DesignerAction.DataDesignViewAction,designerAction:BoldBIDashboard.DashboardUtil.DesignerAction.ColumnMappingAction,dataSetId:this.dataset.Id,isQueryDesignerMode:this.dashboardDesigner.isQueryDesignerMode,mappingInfo:n,isSave:!0,datasource:this.encrptDataSourceInfo(this.DatasourceInfo),parameters:this.getParameters(!1),tableName:BoldBIDashboard.isNullOrUndefined(r)?null:r.tableName,tableSchema:BoldBIDashboard.isNullOrUndefined(r)?null:r.tableSchema,tableId:BoldBIDashboard.isNullOrUndefined(r)?null:r.tableId,dataSetName:BoldBIDashboard.isNullOrUndefined(r)?null:r.datasetName,isShared:BoldBIDashboard.isNullOrUndefined(r)?null:r.isShared,sourceId:BoldBIDashboard.isNullOrUndefined(r)?null:r.sourceId,alias:BoldBIDashboard.isNullOrUndefined(r)?null:r.alias,category:BoldBIDashboard.isNullOrUndefined(r)?null:r.category})},{fnction:this.bbdesigner$.proxy(this.onMappingSuccess,this,t,i),indicator:[this.bbdesigner$.proxy(this.showDragIndicator,this),this.bbdesigner$.proxy(this.hideDragIndicator,this)]})},t.prototype.onMappingSuccess=function(n,t){var i=this.element.find(".e-tableSpan").attr("data-tableId");BoldBIDashboard.isNullOrUndefined(t)||(this.nodeTableSelector(t.data),this.insertTableIntoSlider(t.data));n!==i?this.newDataSet(this.dataset.Id):this.updateTableFromMergedDs()},t.prototype.unWiredEvents=function(){this.schemaSearch.off("keyup",this.bbdesigner$.proxy(this.onSearchClick,this));this.element.off("click","#"+this.id+"_schema_searchIcon",this.bbdesigner$.proxy(this.onCloseClick,this));this.element.off(BoldBIDashboard.DashboardUtil.MouseEvent.mouseDown,".ej-table-drag>div",this.bbdesigner$.proxy(this.treeMouseDown,this));this.element.off(BoldBIDashboard.DashboardUtil.MouseEvent.mouseUp,".ej-table-drag>div",this.bbdesigner$.proxy(this.treeMouseUp,this));this.element.off(BoldBIDashboard.DashboardUtil.MouseEvent.mouseMove,".ej-table-drag>div",this.bbdesigner$.proxy(this.dragStart,this));this.element.off("click",".bbi-shared-tables-header-items .bbi-shared-tables-action-items span",this.bbdesigner$.proxy(this.onSharedTablesIconClick,this));this.element.off(BoldBIDashboard.DashboardUtil.MouseEvent.mouseOver,".bbi-shared-datasource-header",this.bbdesigner$.proxy(this.enableSharedTableSettings,this));this.element.off(BoldBIDashboard.DashboardUtil.MouseEvent.mouseLeave,".bbi-shared-datasource-header",this.bbdesigner$.proxy(this.disableSharedTableSettings,this));this.element.off("click",".bbi-shared-datasource-header .bbi-sharedtable-menu-icon",this.bbdesigner$.proxy(this.sharedTableMenuList,this));this.element.off("mouseover",".bbi-designer-schemaarea .bbi-sharedtable-collapseiconwrap",this.bbdesigner$.proxy(this.onSharedTableSplitterMouseOver,this));this.element.off("mouseleave",".bbi-designer-schemaarea .bbi-sharedtable-collapseiconwrap",this.bbdesigner$.proxy(this.onSharedTableSplitterMouseLeave,this));this.element.off("mouseover",".bbi-designer-schemaarea .bbi-sharedtable-collapseicon",this.bbdesigner$.proxy(this.onSharedTableCollapseIconMouseOver,this));this.element.off("click",".bbi-designer-schemaarea .bbi-sharedtable-collapseicon",this.bbdesigner$.proxy(this.collapseIconClick,this));this.element.off("keyup",".bbi-shared-tables-header-items .bbi-shared-tables-searchbox",this.bbdesigner$.proxy(this.onSharedTableSearchClick,this));this.element.off("click",".bbi-shared-tables-header-items .bbi-shared-tables-closebtn",this.bbdesigner$.proxy(this.onSharedTableCloseClick,this));this.element.off("mouseover",".bbi-designer-schemaarea .e-split-divider.e-v-bar",this.bbdesigner$.proxy(this.onSharedTableSplitterMouseOver,this));this.element.off("mouseleave",".bbi-designer-schemaarea .e-split-divider.e-v-bar",this.bbdesigner$.proxy(this.onSharedTableSplitterMouseLeave,this));this.bbdesigner$("body").off("click","#"+this.id+"_cancelButton",this.bbdesigner$.proxy(this.cancelDataSource,this));this.bbdesigner$("body").off("click","#"+this.id+"_saveButton",this.bbdesigner$.proxy(this.saveQueryDataSet,this));this.bbdesigner$("body").off("click","#"+this.id+"_continue_dashboard_button",this.bbdesigner$.proxy(this.continueToDashboard,this));this.bbdesigner$("body").off("click","#"+this.id+"_editConnectionButton",this.bbdesigner$.proxy(this.renderEditConnectionWindow,this));this.bbdesigner$("body").off("click","#"+this.id+"_dataSampleButton",this.bbdesigner$.proxy(this.renderDataSampleWindow,this));this.bbdesigner$("body").off("click","#"+this.id+"_dataset_description",this.bbdesigner$.proxy(this.datasetDescriptionDialog,this));this.bbdesigner$("body").off("click","#"+this.id+"_editScheduleButton",this.bbdesigner$.proxy(this.datasource.openScheduleWindow,this.datasource));this.element.off("click","#"+this.id+"_update_preview_grid_btn",this.bbdesigner$.proxy(this.updatePreviewGrid,this));this.element.off("click",".e-heirarchial-table .bbi-designer-selection.e-settings",this.bbdesigner$.proxy(this.heirarchialSettings,this));this.element.off("click",".e-column-mapping-icon-setting",this.bbdesigner$.proxy(this.openColumnMappingWindow,this));this.schemaHeader.find(".bbi-shared-tables-searchbox").off("focus",this.bbdesigner$.proxy(this.onSearchTextBoxFocusIn,this,this.schemaHeader,!0));this.schemaHeader.find(".bbi-shared-tables-searchbox").off("blur",this.bbdesigner$.proxy(this.onSearchTextBoxFocusOut,this,this.schemaHeader,!0));this.sharedSchemaTag.find(".bbi-shared-tables-searchbox").off("focus",this.bbdesigner$.proxy(this.onSearchTextBoxFocusIn,this,this.sharedSchemaTag,!1));this.sharedSchemaTag.find(".bbi-shared-tables-searchbox").off("blur",this.bbdesigner$.proxy(this.onSearchTextBoxFocusOut,this,this.sharedSchemaTag,!1))},t.prototype.triggerEvents=function(n,t){var i,r=t;switch(n){case"ajaxBeforeLoad":i=this._trigger(n,r);break;case"ajaxSuccess":i=this._trigger(n,r);break;case"ajaxError":i=this._trigger(n,r);break;case"clickAction":i=this._trigger(n,r);break;case"toolbarRendering":i=this._trigger(n,r)}},t.prototype.sharedTableMenuList=function(n){var i=this.bbdesigner$(n.currentTarget).closest("li"),t=this.getTreeData(i.attr("id"),i.parents("ul.e-treeview.e-js").data("BoldBIDashboardTreeView"));if(t){var r=this.dashboardDesigner.model.localeSettings.dateFormat+" "+this.dashboardDesigner.model.localeSettings.timeFormat,u={Id:t.id,DsLastUpdatedTime:BoldBIDashboard.format(new Date(t.lastUpdatedTime),r),OwnerName:t.ownerName},f=this.dashboardDesigner.modules.sharedDSMenu;f.openSharedDSMenu(u,i,n)}},t.prototype.loadSharedDataSet=function(n){var i=n,r=n,t;BoldBIDashboard.DashboardUtil.contains(n,"/",!0)&&(i=n.substr(n.lastIndexOf("/")+1),r=n.substr(0,n.lastIndexOf("/")));t=BoldBIDashboard.DashboardUtil.createDataSource();t.ConnectionProperties=null;t.DataSourceReference=i;t.Name=i;this.DatasourceInfo=t;this.sharedDataMapping={Name:r,DataSourceId:i};this.selectDropDwnVal(r?r:n);this.loadSharedDataSourceSettings()},t.prototype.loadDataSourceSettings=function(n){this.DatasourceInfo=this.getDataSource(n);this.resetSharedSchemaUI();BoldBIDashboard.isNullOrUndefined(this.DatasourceInfo.DataSourceReference)?this.loadDesignerContainer(n):(this.sharedDataMapping={Name:this.DatasourceInfo.Name,DataSourceId:this.DatasourceInfo.DataSourceReference},this.enableDataSourceDrp(),this.loadSharedDataSourceSettings())},t.prototype.loadSharedDataSourceSettings=function(){this.dashboardDesigner.modules.util.doAjaxPost("POST",this.model.serviceUrl+BoldBIDashboard.Dashboard.ServiceAPI.processdata,{action:BoldBIDashboard.DashboardUtil.DesignerAction.sharedDataSource,data:JSON.stringify({designerAction:BoldBIDashboard.DashboardUtil.DesignerAction.sharedDataSource,reportInfo:{dataSourceRefer:this.DatasourceInfo.DataSourceReference}})},{fnction:this.bbdesigner$.proxy(this.loadSharedDataSource,this),indicator:[this.bbdesigner$.proxy(this.showDesignIndicator,this,!1),this.bbdesigner$.proxy(this.hideDesignIndicator,this,!1)]})},t.prototype.loadSharedDataSource=function(n){n&&(this.updateSharedDsConnection(n,this.DatasourceInfo),this.loadDesignerContainer(this.DatasourceInfo.Name))},t.prototype.loadDesignerContainer=function(n){this.selectDropDwnVal(n);this.loadDataSetItem(n)},t.prototype.loadDataSetItem=function(n){this.codeChkSwitcher.prop("checked",!1);this.previewSwitcherTag.css("display","none");this.btnUpdateTag.css("display","none");this.showQueryEditor(!1);this.showSplitter(!0);this.loadSettings(n);this.enableToolbarItems(!1);this.enableDataSourceDwn(!1);this.loadDataSet()},t.prototype.loadSettings=function(){BoldBIDashboard.isNullOrUndefined(this.ejPreviewGrid)||(this.showNoRecord(!0),this.showLoadMoreOpt(0),this.ejPreviewGrid.dataSource=[]);this.ejSchemaTree.option("fields.dataSource",[]);this.setQueryText("");this.dragSurfaceTag.empty()},t.prototype.loadDataSet=function(){this.hideSchemaLoadError();this.loadDatabaseSchema(this.DatasourceInfo)},t.prototype.loadDatabaseSchema=function(n){this.DatasourceInfo=n;this.dashboardDesigner.modules.util.doAjaxPost("POST",this.model.serviceUrl+BoldBIDashboard.Dashboard.ServiceAPI.processdata,{action:BoldBIDashboard.DashboardUtil.DesignerAction.databaseSchema,data:JSON.stringify({className:BoldBIDashboard.DashboardUtil.DesignerAction.ConnectAndReconnectAction,designerAction:BoldBIDashboard.Dashboard.ConnectionHelper.isHierarchicalConnection(this.connectionInstance)?BoldBIDashboard.DashboardUtil.DesignerAction.databaseSchema:BoldBIDashboard.DashboardUtil.DesignerAction.databaseSchemaLazyLoad,datasource:this.encrptDataSourceInfo(n),isEdit:this.dashboardDesigner.model.mode===BoldBIDashboard.Designer.mode.datasource?"true":this.isEditMode,dataSetId:this.dataset.Id,viewType:"Schema",isQueryDesignerMode:this.dashboardDesigner.isQueryDesignerMode})},{fnction:this.bbdesigner$.proxy(this.updateSchemaArea,this),indicator:[this.bbdesigner$.proxy(this.showIndicator,this),this.bbdesigner$.proxy(this.hideIndicator,this)]},!0,!0)},t.prototype.updateSchemaArea=function(n,t,i){var f,r,u;if(n&&n.tableData){if((BoldBIDashboard.isNullOrUndefined(this.dbSchema)||t)&&(this.dbSchema=JSON.parse(n.tableData),this.selectedItems={},this.tableItems={},this.hideSchemaLoadError(),this.renderSchemaTree(this.dbSchema),this.bindViewSchemaEvents()),!BoldBIDashboard.isNullOrUndefined(n.sharedTables)&&!BoldBIDashboard.isNullOrUndefined(n.sharedTables.TableDetails)&&!i){f=this.onSharedTableFetchSuccess(!1,n.sharedTables,n);this.onSharedTablesIconClick({currentTarget:this.sharedSchemaTag.find(".bbi-shared-tables-header-items .bbi-shared-tables-action-items .bbi-shared-tables-action-expand")});if(f)return}this.fileSchema=n.schema;this.setSQLHint();this.dashboardDesigner.model.mode!==BoldBIDashboard.Designer.mode.datasource||this.isEditconnection||(r=this.dashboardDesigner.modules.dataSet.datasets[0],r&&r.Query&&r.Query.QueryDesignerState&&!r.Query.IsCodeView?this.getTableInfo(r):(this.codeChkSwitcher.prop("checked",!0),this.codeSwitcher(!0),this.setQueryEditor(),this.queryParamCollection=r.Query.DashboardParameters,this.userBasedFilterInfo=r.UserBasedFilterInfo));this.isEditconnection=!1;this.isEdit&&(this.model.dataSet&&this.model.dataSet.Query&&this.model.dataSet.Query.QueryDesignerState&&!this.model.dataSet.Query.IsCodeView?(i&&(BoldBIDashboard.isNullOrUndefined(n.sharedTables)||BoldBIDashboard.isNullOrUndefined(n.sharedTables.RemovedTableInfo)||(this.updateTableJoinInfo(n,this.model.dataSet.Query.QueryDesignerState),this.removeSharedTable(n,this.model.dataSet.Query.QueryDesignerState),this.removeDeletedDsTables(n.sharedTables.RemovedTableInfo,this.model.dataSet.Query.QueryDesignerState))),this.getTableInfo(this.model.dataSet)):(this.codeChkSwitcher.prop("checked",!0),this.codeSwitcher(!0),this.setQueryEditor(),this.queryParamCollection=this.model.dataSet.Query.DashboardParameters,this.userBasedFilterInfo=this.model.dataSet.UserBasedFilterInfo));this.queryParamCollection.length===0&&!BoldBIDashboard.isNullOrUndefined(this.model.dataSet)&&!BoldBIDashboard.isNullOrUndefined(this.model.dataSet.Query.DashboardParameters)&&this.model.dataSet.Query.DashboardParameters.length>0&&(this.queryParamCollection=this.model.dataSet.Query.DashboardParameters);this.enableToolbarItems(!1);this.updateParamIconVisibility();u=this.IsMergedDatasource();u?this.dataset.IsUnion=!0:this.element.find("#"+this.id+"_div_bodySchema").removeClass("e-disable");this.enableEditConnection(!u);BoldBIDashboard.isNullOrUndefined(this.DatasourceInfo)||BoldBIDashboard.isNullOrUndefined(this.DatasourceInfo.IsUsageAnalyticsDatasource)||!this.DatasourceInfo.IsUsageAnalyticsDatasource||this.enableEditConnection(!1);this.enableCodeViewSwitcher(!u);this.enableDataSourceDwn(!0)}else n&&n.Error?this.showSchemaLoadError(n):n&&n.indexOf("Sf_Exception")!==-1&&this.dashboardDesigner.modules.util.alertDialog(this.locale.alertDialogTitle.dataSet,this.locale.errorMessage.failedToGetQuerySchema,IconType.errors,AlertType.Alert,!0,n)},t.prototype.showSchemaLoadError=function(n){var t=this.locale.queryDesigner.schemaLoadErrorMsg;this.errorContent.html("<p>"+t+"<\/br>"+n.StatusMessage+"<\/p>");this.bodySchemaTag.css("display","none");this.errorMsgDiv.css("display","inline-block");this.errorMsgDiv.css("margin-top",this.heightAdjustment()+"px");this.enableEditConnection(!0);this.enableCodeViewSwitcher(!0)},t.prototype.hideSchemaLoadError=function(){this.errorMsgDiv.css("display")==="inline-block"&&(this.errorMsgDiv.css("display","none"),this.bodySchemaTag.css("display","block"));this.enableCodeViewSwitcher(!1);this.enableEditConnection(!1)},t.prototype.setQueryEditor=function(){var i=this.dataset.Name,n,t;this.dashboardDesigner.model.mode===BoldBIDashboard.Designer.mode.datasource?(n=this.dashboardDesigner.modules.dataSet.datasets[0],t=n.Query.QueryDesignerState,n&&!BoldBIDashboard.isNullOrUndefined(n.Query.CommandText)&&n.Query.CommandText!==""&&(this.setQueryText(n.Query.CommandText),this.populateExpressionState(t.Expressions))):this.isEdit&&this.model.dataSet&&!BoldBIDashboard.isNullOrUndefined(this.model.dataSet.Query.CommandText)&&this.model.dataSet.Query.CommandText!==""&&(this.setQueryText(this.model.dataSet.Query.CommandText),this.populateExpressionState(this.model.dataSet.Query.QueryDesignerState.Expressions));(this.isEditMode||this.dashboardDesigner.model.mode===BoldBIDashboard.Designer.mode.datasource)&&this.ajaxPostCollection.push(this.dashboardDesigner.modules.util.doAjaxPost("POST",this.model.serviceUrl+BoldBIDashboard.Dashboard.ServiceAPI.processdata,{action:BoldBIDashboard.DashboardUtil.DesignerAction.editDataSet,data:JSON.stringify({className:BoldBIDashboard.DashboardUtil.DesignerAction.DataSetAction,designerAction:BoldBIDashboard.DashboardUtil.DesignerAction.editDataSet,dataSetName:i,dataSetId:this.dataset.Id,isEdit:this.isEdit,isQueryDesignerMode:this.dashboardDesigner.isQueryDesignerMode})},{fnction:this.bbdesigner$.proxy(this.previewData,this),indicator:[this.bbdesigner$.proxy(this.showPreviewIndicator,this),this.bbdesigner$.proxy(this.hidePreviewIndicator,this)]}))},t.prototype.updateSharedDsConnection=function(n,t){var i={};i.__type="Syncfusion.Dashboard.Web.Serialization.Model.Connection.ConnectionProperties";i.ConnectString=BoldBIDashboard.DashboardUtil.decryptData(n.ConnectString);i.EmbedCredentials=!1;i.DataProvider=n.Extension;i.Prompt="";switch(n.CredentialRetrieval){case 0:i.IntegratedSecurity=!1;i.Prompt=n.Prompt;t.SecurityType=2;i.UserName=BoldBIDashboard.DashboardUtil.decryptData(n.UserName);i.PassWord=BoldBIDashboard.DashboardUtil.decryptData(n.Password);t.SecurityType=n.WindowsCredentials?3:2;break;case 1:n.ImpersonateUser?(t.SecurityType=2,i.IntegratedSecurity=!0,i.UserName=BoldBIDashboard.DashboardUtil.decryptData(n.UserName)):n.WindowsCredentials?(t.SecurityType=3,i.IntegratedSecurity=!0):(t.SecurityType=2,i.IntegratedSecurity=!1,i.UserName=BoldBIDashboard.DashboardUtil.decryptData(n.UserName),i.PassWord=BoldBIDashboard.DashboardUtil.decryptData(n.Password));break;case 2:i.IntegratedSecurity=!0;t.SecurityType=1;break;case 3:i.IntegratedSecurity=!1;t.SecurityType=0}t.ConnectionProperties=i},t.prototype.newDataSet=function(n,t){this.sharedDbSchema=[];this.pageNumber=1;this.newRequest=!0;t&&(this.model.dataSources=t);n?(this.model.selectDataSource=n,this.datasourceSelection(n)):this.newQueryDesigner()},t.prototype.editDataSet=function(n,t){t?(this.model.dataSources=t,this.setDataSourceToDd()):this.model.dataSources&&this.model.dataSources.length>0&&this.setDataSourceToDd();n&&(this.isEdit=!0,this.model.dataSet=n,this.editDataSetItem(n.Id))},t.prototype.editDataSetItem=function(){this.isEdit=!0;this.isEditMode=!0;this.sharedDbSchema=[];this.pageNumber=1;this.newRequest=!0;this.resetQueryDesigner();this.model.dataSet&&this.model.dataSet.Query&&(this.model.dataSet.Query.DataSourceId?this.loadDataSourceSettings(this.model.dataSet.Query.DataSourceId):this.model.dataSet.Query.DataSourceReference&&this.loadSharedDataSet(this.model.dataSet.Query.DataSourceReference))},t.prototype.datasourceSelection=function(n){this.isEdit=!1;this.model.dataSet=null;this.resetQueryDesigner();this.setDataSourceToDd();this.selectDropDwnVal(n);this.loadDataSourceSettings(n)},t.prototype.datasourceChange=function(n){n.isInteraction&&(this.DatasourceInfo=this.getDataSource(n.selectedValue),this.resetQueryDesigner(),this.ejSchemaTree.option("fields.dataSource",[]),this.setQueryText(""),this.dragSurfaceTag.empty(),this.loadDataSourceSettings(n.selectedValue))},t.prototype.resetQueryDesigner=function(){this.dbSchema=null;this.dataSetName=null;this.queryParameters=[];this.queryJoiner=[];this.queryFilter=[];this.queryExp=[];this.queryParamCollection=[];this.userBasedFilterInfo=null;this.queryInputVals=[];this.referenceParam=[];this.sharedDataMapping=null;this.showTooltip(!1);this.resetUIElement()},t.prototype.resetUIElement=function(){this.sharedSchemaTag.css("display","none");BoldBIDashboard.isNullOrUndefined(this.ejPreviewGrid)||(this.ejPreviewGrid.columns=[],this.ejPreviewGrid.dataSource=[]);this.ejSchemaTree&&this.ejSchemaTree.option("fields.dataSource",[]);this.setQueryText("");this.dragSurfaceTag.empty();this.showTreeContainer(!0);this.schemaSearch.val("");this.schemaSearch.siblings(".bbi-shared-ds-searchbox-btn").removeClass("bbi-shared-tables-closebtn").addClass("bbi-shared-tables-searchbtn")},t.prototype.hideCollapseIcon=function(){this.collapseIcon.css("display","none");this.dashboardDesigner.element.find(".bbi-designer-schemaarea .e-split-divider.e-v-bar").css("display","none")},t.prototype.showCollapseIcon=function(){this.collapseIcon.css("display","block");this.dashboardDesigner.element.find(".bbi-designer-schemaarea .e-split-divider.e-v-bar").css("display","block")},t.prototype.IsMergedDatasource=function(){return!BoldBIDashboard.isNullOrUndefined(this.DatasourceInfo.IsUnion)&&this.DatasourceInfo.IsUnion},t.prototype.resetSharedSchemaUI=function(){this.sharedSchemaTag.find("#"+this.id+"_shared_table_error").hide();this.sharedSchemaTag.find("#"+this.id+"_shared_tables_tree").show();var n=this.sharedSchemaTag.find(".bbi-shared-tables-searchbox");n.val("");n.siblings(".bbi-shared-ds-searchbox-btn").addClass("bbi-shared-tables-searchbtn").removeClass("bbi-shared-tables-closebtn");this.showSharedTreeContainer(!0);this.ejSharedSchemaTree&&this.ejSharedSchemaTree.option("fields.dataSource",[]);this.connectionInstance.ShouldExtractData||this.isSqlExtractMode()||this.DatasourceInfo.IsLiveWebMode?(this.showCollapseIcon(),this.sharedSchemaTag.css("display","block")):(this.hideCollapseIcon(),this.sharedSchemaTag.css("display","none"))},t.prototype.selectDropDwnVal=function(n){this.ejDrpdwnData.selectItemByValue(n)},t.prototype.setDataSourceToDd=function(){var n=this.model.dataSources,i,t;if(n&&n.length>0){for(i=[],t=0;t<n.length;t++)i.push({Name:n[t].Name,Id:n[t].Id}),this.element.find("#"+this.id+"_dataset_txt").val()===""&&(this.element.find("#"+this.id+"_dataset_txt").val(n[t].Name),this.dataset.Name=n[t].Name);this.ejDrpdwnData.setModel({dataSource:i})}},t.prototype.newQueryDesigner=function(){this.isEdit=!1;this.model.dataSet=null;this.resetQueryDesigner();this.setDataSourceToDd();this.showQueryEditor(!1);this.showSplitter(!0);this.showNoRecord(!0);this.showLoadMoreOpt(0);this.enableToolbarItems(!1);this.enableDataSourceDwn(!0);this.showTooltip(!0)},t.prototype.showSplitter=function(n){var t=this.element.find("#"+this.id+"_div_target_designArea");n?(this.ejSurfaceSplitter.expand(0),t.find(".e-split-divider.e-h-bar").css("display","block")):(this.ejSurfaceSplitter.collapse(0),t.find(".e-split-divider.e-h-bar").css("display","none"))},t.prototype.getDataSource=function(n){var t=this.model.dataSources,i;if(!BoldBIDashboard.isNullOrUndefined(t)&&t.length>0)for(i=0;i<t.length;i++)if(t[i].Id===n)return this.bbdesigner$.extend(!0,{},t[i])},t.prototype.matchedParameterResult=function(n,t,i){var r,u,f;for(r in i)i.hasOwnProperty(r)&&(u=i[r],f=u.displayText.substr(0,t.length),f.toUpperCase()===t.toUpperCase()&&n.push(u));return n},t.prototype.getParameterList=function(){var n=this.dashboardDesigner.modules.queryDesigner,i=this.bbdesigner$.extend(!0,{},n.dataset),t;return i.Query.DashboardParameters=n.queryParamCollection,t=[],t.push(i),this.dashboardDesigner.getParamListDataSource(t,n.dataset.Id,n.queryParamCollection)},t.prototype.showTableHint=function(n){n?this.dragSurfaceTag.removeClass("bbi-designer-hint-newtable"):this.dragSurfaceTag.addClass("bbi-designer-hint-newtable")},t.prototype.showIndicator=function(){this.element.find("#"+this.id+"_schemaArea").data("BoldBIDashboardWaitingPopup").show();this.ejQueryTool.disableItemByID(this.id+"_dataset_tool_parameter")},t.prototype.hideIndicator=function(){this.element.find("#"+this.id+"_schemaArea").data("BoldBIDashboardWaitingPopup").hide();this.updateParamIconVisibility()},t.prototype.showDesignerDivIndicator=function(){var n=this;n.designer.element.find("#"+this.id+"_div_target_designArea").data("BoldBIDashboardWaitingPopup").show()},t.prototype.hideDesignerDivIndicator=function(){var n=this;n.designer.element.find("#"+this.id+"_div_target_designArea").data("BoldBIDashboardWaitingPopup").hide()},t.prototype.showPreviewIndicator=function(n,t){!BoldBIDashboard.isNullOrUndefined(t)&&t?(this.element.find("#"+this.id+"_div_previewData").data("BoldBIDashboardWaitingPopup").show(),this.checkForPopUpOpen()):this.showDragIndicator();this.element.find(".e-icon.e-close_01").addClass("e-close-disable").css({cursor:"default",opacity:"0.3"});this.enableToolbarItems(!1);this.enableEditConnection(!1);this.enableCodeViewSwitcher(!1)},t.prototype.checkForPopUpOpen=function(){if(this.IsMergedDatasource()){var n=this.bbdesigner$("#"+this.id+"_designer_alert_wrapper");n.length>0&&n.css("display")!="none"&&(this.bbdesigner$("#"+this.id+"_designer_alert_overLay").css("z-index",BoldBIDashboard.getMaxZindex()),n.css("z-index",BoldBIDashboard.getMaxZindex()))}},t.prototype.hidePreviewIndicator=function(n,t){!BoldBIDashboard.isNullOrUndefined(t)&&t?this.element.find("#"+this.id+"_div_previewData").data("BoldBIDashboardWaitingPopup").hide():this.hideDragIndicator();this.IsMergedDatasource()||this.element.find(".e-icon.e-close_01").removeClass("e-close-disable").css({cursor:"pointer",opacity:"1"});this.enableToolbarItems(!0);this.enableEditConnection(!this.IsMergedDatasource());BoldBIDashboard.isNullOrUndefined(this.DatasourceInfo)||BoldBIDashboard.isNullOrUndefined(this.DatasourceInfo.IsUsageAnalyticsDatasource)||!this.DatasourceInfo.IsUsageAnalyticsDatasource||this.enableEditConnection(!1);this.enableCodeViewSwitcher(!this.IsMergedDatasource())},t.prototype.updateExpIconVisibility=function(){var n=this.getQueryText();n===""&&this.ejQueryTool.disableItemByID(this.id+"_dataset_tool_exp")},t.prototype.showDesignIndicator=function(n){BoldBIDashboard.isNullOrUndefined(n)||!n?(this.element.find("#"+this.id+"_div_designerArea").data("BoldBIDashboardWaitingPopup").show(),this.enableToolbar(!1)):!BoldBIDashboard.isNullOrUndefined(n)&&n&&this.editConnection.showIndicator()},t.prototype.hideDesignIndicator=function(n){BoldBIDashboard.isNullOrUndefined(n)||!n?(this.element.find("#"+this.id+"_div_designerArea").data("BoldBIDashboardWaitingPopup").hide(),this.enableToolbar(!0)):!BoldBIDashboard.isNullOrUndefined(n)&&n&&this.editConnection.hideIndicator()},t.prototype.showDragIndicator=function(){this.dashboardDesigner.element.find("#"+this.id+"_div_queryDesigner").data("BoldBIDashboardWaitingPopup").show();this.checkForPopUpOpen()},t.prototype.hideDragIndicator=function(){this.dashboardDesigner.element.find("#"+this.id+"_div_queryDesigner").data("BoldBIDashboardWaitingPopup").hide()},t.prototype.showSaveDialogIndicator=function(){this.dashboardDesigner.element.find("#"+this.id+"_queryDesigner_parameter_dialog").data("BoldBIDashboardWaitingPopup").show()},t.prototype.hideSaveDialogIndicator=function(){this.dashboardDesigner.element.find("#"+this.id+"_queryDesigner_parameter_dialog").data("BoldBIDashboardWaitingPopup").hide()},t.prototype.scrollerRefresh=function(n,t){var i=n.data("BoldBIDashboardScroller");BoldBIDashboard.isNullOrUndefined(i)||(i.refresh(),t&&i.option("scrolltop",0))},t.prototype.setScrollerTop=function(n,t,i,r){var u=n.data("BoldBIDashboardScroller").option("scrollTop")-45;u>42&&(i||r)?n.data("BoldBIDashboardScroller").option("scrollTop",u):(t||this.firstRequest)&&(n.data("BoldBIDashboardScroller").option("scrollTop",0),this.firstRequest=!1)},t.prototype.hasChanges=function(){var t=this.model.dataSet&&this.model.dataSet.Query&&this.model.dataSet.Query.CommandText?this.model.dataSet.Query.CommandText:"",n;return t=t.trim().toLowerCase(),n=this.queryEditorTag.css("display")==="block"?this.getQueryText():"",n=n?n.trim().toLowerCase():"",n===t},t.prototype.getDataSet=function(n){this.callBackfn=null;this.invokefn=n;this.saveQueryInfo()},t.createDataSet=function(){return{__type:"Syncfusion.Dashboard.Web.Serialization.Model.DOM.Data.DataSet",Name:"",Description:"",Id:"",PublishId:"",Fields:[],CustomHierarchyFields:[],IsUnion:!1,Query:{__type:"Syncfusion.Dashboard.Web.Serialization.Model.DOM.Data.Query",DataSourceId:"",CommandType:0,CommandText:"",QueryParameters:[],DashboardParameters:[],Timeout:0,QueryDesignerState:null,IsCodeView:null},InitialFilterInfo:[],CaseSensitivity:0,Collation:null,AccentSensitivity:0,KanatypeSensitivity:0,WidthSensitvity:0,Filters:[],SharedDataSet:null,InterpretSubtotalsAsDetails:0,DataSetInfo:null,DataSetObject:null,TreeViewData:null,UserBasedFilterInfo:null,DataSamplingInfo:null,IsUsageAnalyticsDatasource:!1}},t.prototype.createParameter=function(){return{__type:"Syncfusion.Dashboard.Web.Serialization.Model.DOM.Data.ReportParameter",Name:"",DataType:0,Nullable:!1,DefaultValue:null,AllowBlank:!1,Prompt:"",Hidden:!1,ValidValues:null,MultiValue:!1,UsedInQuery:0}},t.prototype.createDefaultValues=function(){return{__type:"Syncfusion.Dashboard.Web.Serialization.Model.DOM.Data.DefaultValue",Values:[],DataSetReference:{__type:"Syncfusion.Dashboard.Web.Serialization.Model.DOM.Data.DataSetReference",DataSetName:null,ValueField:null}}},t.createQueryDesigner=function(){return{__type:"Syncfusion.Dashboard.Web.Serialization.Model.DOM.Data.QueryDesignerState",Tables:null,Joins:null,StoredProcedure:null,Expressions:null,Filters:null,DataSample:null}},t.createDesignerTable=function(){return{__type:"Syncfusion.Dashboard.Web.Serialization.Model.DOM.Data.Table",DisplayName:"",Name:"",Schema:null,Columns:null,IsView:!1,Id:null,IsShared:!1,SourceId:""}},t.prototype.createColumn=function(){return{__type:"Syncfusion.Dashboard.Web.Serialization.Model.DOM.Data.Column",Name:"",AliasName:null,AggregateTye:null,IsSelected:!0,IsDuplicate:!1,TypeCast:""}},t.prototype.createJoin=function(){return{__type:"Syncfusion.Dashboard.Web.Serialization.Model.DOM.Data.Join",LeftTable:null,RightTable:null,JoinType:null,JoinFields:null}},t.prototype.createJoinField=function(){return{__type:"Syncfusion.Dashboard.Web.Serialization.Model.DOM.Data.JoinField",Condition:null,LeftField:null,RightField:null,OperatorType:null,IsValueChecked:null,Value:null}},t.prototype.createSProcedure=function(){return{__type:"Syncfusion.Dashboard.Web.Serialization.Model.DOM.Data.StoredProcedure",Name:null,Schema:null,Parameters:null,Id:null}},t.prototype.createProcParameter=function(){return{__type:"Syncfusion.Dashboard.Web.Serialization.Model.DOM.Data.SParameter",Name:null,Value:null,DataType:null,IsNull:!1}},t.prototype.createQueryParameter=function(){return{__type:"Syncfusion.Dashboard.Web.Serialization.Model.DOM.Data.QueryParameter",Name:"",Value:""}},t.prototype.createField=function(){return{__type:"Syncfusion.Dashboard.Web.Serialization.Model.DOM.Data.Field",Name:"",DataField:"",Value:null,TypeName:"",Id:"",IsExpression:!1,IsAggregatedExpression:!1}},t.prototype.createQueryFilter=function(){return{__type:"Syncfusion.Dashboard.Web.Serialization.Model.DOM.Data.QueryFilter",Name:"",DataType:"",Operator:"",Value:"",IsQueryParameter:!1,ParameterName:"",IsTypeCast:!1,TypeCastValue:""}},t.prototype.createQueryFilterVal=function(){return{__type:"Syncfusion.Dashboard.Web.Serialization.Model.DOM.Data.QueryFilterValue",Value1:null,Value2:null}},t.prototype.createQueryParameterName=function(){return{__type:"Syncfusion.Dashboard.Web.Serialization.Model.DOM.Data.QueryParameterName",Parameter1:null,Parameter2:null}},t.prototype.createSharedDataset=function(){return{__type:"Syncfusion.RDL.Data.DataSetShared",Name:null,Query:{__type:"Syncfusion.RDL.Data.SharedQuery",DataSourceReference:"",CommandText:"",CommandType:0,DashboardParameters:[],QueryDesignerState:null,IsCodeView:null},Fields:[],QueryParameters:[]}},t.prototype.onSharedTablesIconClick=function(n){var i=!BoldBIDashboard.isNullOrUndefined(this.bbdesigner$(n.currentTarget))&&!BoldBIDashboard.isNullOrUndefined(this.bbdesigner$(n.currentTarget).attr("class"))?this.bbdesigner$(n.currentTarget).attr("class").split(" ")[0]:"",t;switch(i){case"bbi-shared-tables-action-reload":t=this.sharedSchemaTag.find(".bbi-shared-tables-searchbox");t.val("");t.siblings(".bbi-shared-ds-searchbox-btn").addClass("bbi-shared-tables-searchbtn").removeClass("bbi-shared-tables-closebtn");this.sharedSchemaTag.find("#"+this.id+"_shared_table_error").hide();this.sharedSchemaTag.find("#"+this.id+"_shared_tables_no_more_shared_Tables").length>0&&this.sharedSchemaTag.find("#"+this.id+"_shared_tables_no_more_shared_Tables").remove();this.sharedDbSchema=[];this.sharedTablesList=[];this.pageNumber=1;this.newRequest=!0;this.setScrollerTop(this.sharedSchemaTag.find(".bbi-shared-tables-content"),!0,!1,!1);this.fetchSharedTableSchemas(this.pageNumber,!0)}},t.prototype.toggleSharedTable=function(n){var t=this;if(!BoldBIDashboard.isNullOrUndefined(this.schemaAreaPaneSize)){var u=this.dashboardDesigner.element.find(".bbi-schemaareawrap.e-v-pane"),f=this.dashboardDesigner.element.find(".bbi-sharedtable-schema.e-v-pane"),i=this.getSharedTableContentHeight(n==="expand"),r=this.getSchemaTreeBodyHeight(n==="expand");this.sharedTableScroller.element.height(i);this.ejSchemaScroller.element.height(r);this.sharedTableScroller.option("height",i);this.ejSchemaScroller.option("height",r);u.animate({height:this.schemaAreaPaneSize.firstPaneSize},{queue:!1,duration:500,specialEasing:{height:"linear"},complete:this.bbdesigner$.proxy(function(){if(t.errorMsgDivAlignment(),!t.connectionInstance.ShouldExtractData&&!t.isSqlExtractMode()){var i=t.element.height()-t.designToolbar.height(),r=t.schemaHeader.css("display")==="block"?t.schemaHeader.outerHeight(!0):0,n=i-r;t.bodySchemaTag.height(n);t.ejSchemaScroller&&t.ejSchemaScroller.setModel({height:n-5+"px",width:t.schemaDiv.width()+"px"})}},this)});f.animate({height:this.schemaAreaPaneSize.secondPaneSize},{queue:!1,duration:500,specialEasing:{height:"linear"},complete:this.bbdesigner$.proxy(function(){t.errorMsgDivAlignment();n==="expand"&&t.ejSharedSchemaTree&&t.ejSharedSchemaTree.model.fields.dataSource.length===0&&t.sharedSchemaTag.find("#"+t.id+"_shared_table_error").css("display")!=="block"&&(t.sharedDbSchema=[],t.sharedTablesList=[],t.pageNumber=1,t.firstRequest=!0,t.fetchSharedTableSchemas(t.pageNumber,!1))},this)})}},t.prototype.fetchSharedTableSchemas=function(n,t){this.newRequest&&(this.hasError=!1,this.newRequest=!1,this.ajaxPostCollection.push(this.dashboardDesigner.modules.util.doAjaxPost("POST",this.model.serviceUrl+BoldBIDashboard.Dashboard.ServiceAPI.sharedtables,{data:JSON.stringify({Page:n,datasource:this.DatasourceInfo,isQueryDesignerMode:this.dashboardDesigner.isQueryDesignerMode})},{indicator:[this.bbdesigner$.proxy(this.showSharedTableLoader,this),this.bbdesigner$.proxy(this.hideSharedTableLoader,this)],fnction:this.bbdesigner$.proxy(this.onSharedTableFetchSuccess,this,t),errfnction:this.bbdesigner$.proxy(this.onConnectionError,this)},!0,!0)))},t.prototype.onSharedTableFetchSuccess=function(n,t,i){var r=!1,u,f;return this.newRequest=!0,this.pageNumber=t.Page,u=this.bbdesigner$.parseJSON(t.Data),this.sharedDbSchema=n?[]:this.sharedDbSchema,(BoldBIDashboard.isNullOrUndefined(this.sharedTablesList)||this.sharedTablesList.length===0)&&BoldBIDashboard.isNullOrUndefined(i)?this.sharedTablesList=u:BoldBIDashboard.isNullOrUndefined(this.sharedTablesList)||this.sharedTablesList.push.apply(this.sharedTablesList,u),!BoldBIDashboard.isNullOrUndefined(this.sharedTablesList)&&this.sharedTablesList.length>=10?(BoldBIDashboard.isNullOrUndefined(this.sharedDbSchema)||this.sharedDbSchema.length===0?this.sharedDbSchema=this.sharedTablesList:this.sharedDbSchema.push.apply(this.sharedDbSchema,this.sharedTablesList),this.sharedTablesList=[],t.ApiStatus?(this.nextRequest=!1,this.sharedSchemaTag.find("#"+this.id+"_shared_table_error").hide(),this.sharedSchemaTag.find("#"+this.id+"_shared_tables_tree").show(),f=this.getSharedTreeDataSource(this.sharedDbSchema),this.ejSharedSchemaTree.option("fields.dataSource",f),t.Page>0&&this.appendEmptyDiv(),this.scrollerRefresh(this.sharedSchemaTag.find(".bbi-shared-tables-content"),n),this.setScrollerTop(this.sharedSchemaTag.find(".bbi-shared-tables-content"),!1,!1,!1),r=this.showSharedTableInfoOrError(t,i)):r=this.showSharedTableInfoOrError(t,i)):t.Page>0&&u.length<10?(this.nextRequest=!0,this.fetchSharedTableSchemas(this.pageNumber,!1)):t.Page===0&&!BoldBIDashboard.isNullOrUndefined(this.sharedTablesList)&&this.sharedTablesList.length>0?(this.nextRequest=!1,this.sharedDbSchema.push.apply(this.sharedDbSchema,this.sharedTablesList),this.sharedTablesList=[],this.sharedSchemaTag.find("#"+this.id+"_shared_table_error").hide(),this.sharedSchemaTag.find("#"+this.id+"_shared_tables_tree").show(),f=this.getSharedTreeDataSource(this.sharedDbSchema),this.ejSharedSchemaTree.option("fields.dataSource",f),this.scrollerRefresh(this.sharedSchemaTag.find(".bbi-shared-tables-content"),n)):(this.nextRequest=!1,r=this.showSharedTableInfoOrError(t,i)),r},t.prototype.onConnectionError=function(n){this.newRequest=!0;this.hasError=!0;this.showSharedTableInfoOrError(n)},t.prototype.appendEmptyDiv=function(){this.sharedTablesBottomLoader=BoldBIDashboard.buildTag("div","",{"min-height":"82px",position:"absolute",width:"100%"},{id:this.id+"_shared_tables_bottom_loader"});this.sharedSchemaTag.find("#"+this.id+"_shared_tables_tree").append(this.sharedTablesBottomLoader)},t.prototype.showSharedTableInfoOrError=function(n,t){var f=!1,i,r,u,e;if(BoldBIDashboard.isNullOrUndefined(n.statusText)||n.statusText!=="error"){if(!BoldBIDashboard.isNullOrUndefined(n.StatusCode)){i=n.Message;switch(n.StatusCode){case"4004":i=this.locale.queryDesigner.sharedTable.error4004;break;case"4006":i=this.locale.queryDesigner.sharedTable.error4006;f=!0}if(f){if(n.TableDetails.TableName.length>0){for(r="",r=this.locale.alertWindowMesages.removedSharedTablesList,u=0;u<n.TableDetails.TableName.length;u++)r+="<br />&emsp;&emsp;&emsp;-"+n.TableDetails.TableName[u];this.dashboardDesigner.modules.util.alertDialog(this.locale.queryDesigner.sharedTable.header,i,IconType.information,AlertType.Confirm,!0,r,{instance:this,method:"onSharedTableConfirmClick",dataInfo:t})}i=""}else n.ApiStatus||(this.sharedDbSchema.length>0?(i=this.locale.queryDesigner.sharedTable.noMoreSharedTables,e=BoldBIDashboard.buildTag("div.bbi-show-shared-tables-error-msg","",{"min-height":"42px",position:"absolute",width:"100%"},{id:this.id+"_shared_tables_no_more_shared_Tables"}),this.sharedSchemaTag.find("#"+this.id+"_shared_tables_tree").append(e),e.html(i),this.scrollerRefresh(this.sharedSchemaTag.find(".bbi-shared-tables-content")),this.setScrollerTop(this.sharedSchemaTag.find(".bbi-shared-tables-content"),!1,!0,!1)):(this.sharedSchemaTag.find("#"+this.id+"_shared_table_error").show().html(i),this.sharedSchemaTag.find("#"+this.id+"_shared_tables_tree").hide()))}}else this.sharedDbSchema.length>0&&this.hasError?(this.sharedSchemaTag.find("#"+this.id+"_shared_tables_bottom_loader").css({display:"block"}),this.sharedSchemaTag.find("#"+this.id+"_shared_tables_bottom_loader").addClass("bbi-show-shared-tables-error-msg"),this.sharedSchemaTag.find("#"+this.id+"_shared_tables_bottom_loader").html(this.locale.queryDesigner.sharedTable.networkError),this.scrollerRefresh(this.sharedSchemaTag.find(".bbi-shared-tables-content")),this.setScrollerTop(this.sharedSchemaTag.find(".bbi-shared-tables-content"),!1,!1,!0)):this.sharedSchemaTag.find("#"+this.id+"_shared_table_error").show().html(this.locale.queryDesigner.sharedTable.networkError);return f},t.prototype.onSharedTableConfirmClick=function(n,t){n?this.updateSchemaArea(t,!1,!0):this.cancelDataSet(null)},t.prototype.updateTableJoinInfo=function(n,t){var i,u,r,f;for(this.remainingTableJoins=t.Joins,i=0;i<n.sharedTables.RemovedTableInfo.length;i++)for(u=0;u<n.sharedTables.RemovedTableInfo[i].RemovedTableJoinInfo.length;u++)for(r=0;r<this.remainingTableJoins.length;r++)if(n.sharedTables.RemovedTableInfo[i].RemovedTableJoinInfo[u].LeftTableIdentifier===t.Joins[r].LeftTable&&n.sharedTables.RemovedTableInfo[i].RemovedTableJoinInfo[u].RightTableIdentifier===t.Joins[r].RightTable&&(f=t.Joins.indexOf(this.remainingTableJoins[r]),f>-1)){t.Joins.splice(f,1);break}this.populateJoinState(t.Joins,null)},t.prototype.showSharedTableLoader=function(){BoldBIDashboard.isNullOrUndefined(this.sharedDbSchema)||this.sharedDbSchema.length===0?(this.sharedSchemaTag.find("#"+this.id+"_shared_tables_tree").css({display:"none"}),this.sharedSchemaTag.find("#"+this.id+"_shared_tables_skelton").length===0&&(this.sharedSchemaTag.find(".e-shared-tables-list").append(this.renderSkelton()),this.scrollerRefresh(this.sharedSchemaTag.find(".bbi-shared-tables-content")))):(this.scroll&&this.sharedDbSchema.length>0||this.nextRequest)&&(this.sharedSchemaTag.find("#"+this.id+"_shared_tables_bottom_loader").is(":visible")||this.sharedSchemaTag.find("#"+this.id+"_shared_tables_bottom_loader").css({display:"block"}),this.sharedSchemaTag.find("#"+this.id+"_shared_tables_bottom_loader").removeClass("bbi-show-shared-tables-error-msg"),this.sharedSchemaTag.find("#"+this.id+"_shared_tables_bottom_loader").html(""),this.sharedSchemaTag.find("#"+this.id+"_shared_tables_no_more_shared_Tables").length>0&&this.sharedSchemaTag.find("#"+this.id+"_shared_tables_no_more_shared_Tables").html(""),this.sharedTablesBottomLoader.append(this.renderSkelton()))},t.prototype.hideSharedTableLoader=function(){this.scroll&&(this.sharedSchemaTag.find("#"+this.id+"_shared_tables_bottom_loader").css({display:"none"}),this.scroll=!1);this.sharedSchemaTag.find("#"+this.id+"_shared_tables_skelton").remove()},t.prototype.getSharedTreeDataSource=function(n,t){for(var i,f=[],u=0;u<n.length;u++){var e=[],o=this.id+"_"+BoldBIDashboard.DashboardUtil.escapeSelector(n[u].Key.dsName),r=n[u].Value;if(r.length>0){for(f.push({id:o,name:n[u].Key.dsName,displayName:n[u].Key.dsName,ownerName:n[u].Key.dsOwnerName,lastUpdatedTime:n[u].Key.dsLastUpdatedTime,hasChild:!0,expanded:t?!0:!1,nodeProperty:{"class":"bbi-shared-datasource-header"},spriteImage:"bbi-designer-query-treeview bbi-reporticon bbi-reportdesigner-configuration-dataset bbi-reportdesigner-itempanel-icon",icon:"bbi-sharedtable-menu-icon"}),i=0;i<r.length;i++){var s=this.id+"_"+BoldBIDashboard.DashboardUtil.escapeSelector(r[i].id),h=!BoldBIDashboard.isNullOrUndefined(this.selectedItems[r[i].schema])&&!BoldBIDashboard.isNullOrUndefined(this.selectedItems[r[i].schema][r[i].name])?"e-icon e-checkmark":this.schemaIcons.table,c=this.DatasourceInfo.IsLiveWebMode?!1:!0;e.push({id:s,pid:this.id+"_"+BoldBIDashboard.DashboardUtil.escapeSelector(n[u].Key.dsName),name:r[i].name,displayName:r[i].displayName,hasChild:c,spriteImage:"bbi-designer-query-treeview "+h,nodeProperty:{"class":"ej-table-drag"},value:{schema:r[i].schema,viewType:"Tables",tableName:r[i].name},sourceId:r[i].sourceId})}this.bbdesigner$.merge(f,e)}}return f},t.prototype.resetTableFromDataSet=function(n,t){var i,r;if(!BoldBIDashboard.isNullOrUndefined(n.Joins))for(i=n.Joins.length-1;i>=0;i--)if(r=n.Joins[i],r.LeftTable===t.Id||r.RightTable===t.Id){this.removeJoinAffectedTables(n,n.Joins.splice(i,n.Joins.length));break}this.removeFiltersOfDeletedTable(n,t);this.removeExpressionOfDeletedTable(n,t);this.tableItems[t.Id]=!1},t.prototype.removeJoinAffectedTables=function(n,t){var u,f,r,i;if(t.length!==0)for(u=t.length-1;u>0;u--)for(f=t[u],r=n.Tables.length-1;r>=0;r--)i=n.Tables[r],(i.Id===f.LeftTable||i.Id===f.RightTable)&&(n.Tables.splice(r,1),this.tableItems[i.Id]=!1,this.removeFiltersOfDeletedTable(n,i),this.removeExpressionOfDeletedTable(n,i))},t.prototype.removeFiltersOfDeletedTable=function(n,t){if(!BoldBIDashboard.isNullOrUndefined(n.Filters))for(var i=n.Filters.length-1;i>=0;i--)n.Filters[i].TableId===t.Id&&n.Filters.splice(i,1)},t.prototype.removeExpressionOfDeletedTable=function(n,t){var r,i,u;if(!BoldBIDashboard.isNullOrUndefined(n.Expressions))try{for(r=[],i=0;i<n.Expressions.length;i++)this.isExpFromUnavailableTable(t.Columns,n.Expressions[i].QueryExp)&&(r.indexOf(n.Expressions[i].Name)===-1&&r.push(n.Expressions[i].Name),this.getUnavailableTablehierarchyExpField(n,n.Expressions[i].Name,r));if(r&&r.length>0)for(i=0;i<r.length;i++)for(u=0;u<n.Expressions.length;u++)if(r[i]===n.Expressions[u].Name){n.Expressions.splice(u,1);break}}catch(f){this.dashboardDesigner.designerPanel.logError({Source:"Query Designer",Error:f,Type:f.name})}},t.prototype.isExpFromUnavailableTable=function(n,t){for(var i,r,f=!1,u=0;u<n.length;u++)if(i=n[u],r=i.Name,r=i.IsDuplicate?"["+i.Alias+"]":"["+r+"]",t&&BoldBIDashboard.DashboardUtil.contains(t,r,!0)){f=!0;break}return f},t.prototype.getUnavailableTablehierarchyExpField=function(n,t,i){for(var r=0;r<n.Expressions.length;r++)BoldBIDashboard.DashboardUtil.contains(n.Expressions[r].QueryExp,"["+t+"]",!0)&&(i.indexOf(n.Expressions[r].Name)===-1&&i.push(n.Expressions[r].Name),this.getUnavailableTablehierarchyExpField(n,n.Expressions[r].Name,i))},t.prototype.heightAdjustment=function(){return(this.dashboardDesigner.element.find("#"+this.id+"_div_schemaarea_wrap").height()-this.errorMsgDiv.height()-10)/2},t.prototype.errorMsgDivAlignment=function(){this.errorMsgDiv.css("display")==="inline-block"&&this.errorMsgDiv.css("margin-top",this.heightAdjustment()+"px")},t}(BoldBIDashboard.WidgetBase);window.BoldBIDashboard.widget("BoldBIDashboardQueryDesigner","BoldBIDashboard.QueryDesigner",new BoldBIDashboardQueryDesigner);BoldBIDashboard.QueryDesigner.ToolbarItems={SelectDataSource:1,InputDataSet:2,Save:4,Execute:8,Join:16,Expression:32,Filter:64,Switcher:128,Cancel:256,UserBasedFilter:512,All:1023},function(n){n[n.Inner="Inner"]="Inner";n[n.LeftOuter="Left Outer"]="LeftOuter";n[n.RightOuter="Right Outer"]="RightOuter";n[n.FullOuter="Full Outer"]="FullOuter"}(Join||(Join={})),function(n){n[n.Equal="="]="Equal";n[n.LessThanEqual=">="]="LessThanEqual";n[n.GreaterThanEqual="<="]="GreaterThanEqual";n[n.NotEqual="!="]="NotEqual"}(Operator||(Operator={})),function(n){n[n.String=0]="String";n[n.Boolean=1]="Boolean";n[n.DateTime=2]="DateTime";n[n.Integer=3]="Integer";n[n.Float=4]="Float";n[n.Decimal=5]="Decimal"}(DataTypes||(DataTypes={})),function(n){n[n.nameEdit="nameEdit"]="nameEdit";n[n.visibility="visibility"]="visibility";n[n.Deselect="Select"]="Deselect";n[n.typeEdit="typeEdit"]="typeEdit";n[n.fiscalEdit="fiscalEdit"]="fiscalEdit"}(ColumnActions||(ColumnActions={})),function(n){var t;(function(n){var t=function(){function n(){this.__type="Syncfusion.Dashboard.Web.Serialization.Model.DOM.Data.Field";this.Name="";this.DataField="";this.Value=null;this.TypeName=null;this.Id="";this.IsExpression=!1;this.IsAggregatedExpression=!1;this.TableName="";this.TableId="";this.ChildFields=[];this.DefaultHierarchyName="";this.DefaultLevelName="";this.IsParameterField=!1;this.ParameterMode=""}return n}();n.DSField=t})(t=n.Dashboard||(n.Dashboard={}))}(BoldBIDashboard||(BoldBIDashboard={}));helpDocumentLink=[{url:"/cloud-bi/getting-started/quick-start/#scrollable-dashboard",name:"ScrollableDashboardKnowMore",reDirectionId:"2042"},{url:"/embedded-bi/iframe-based/dynamic-connection-string/",name:"DynamicConnectionString",reDirectionId:"2043"},{url:"/embedded-bi/iframe-based/dynamic-connection-string/",name:"DynamicConnectionConfigurationMode",reDirectionId:"2044"},{url:"/embedded-bi/oauth-configuration/",name:"OAuthConnectionLearnMore",reDirectionId:"12"},{url:"/cloud-bi/working-with-data-source/data-connectors/sql-data-source/#connecting-to-stored-procedure-in-live-mode",name:"StoredProcedureOpenQuery",reDirectionId:"2050    "},{url:"/cloud-bi/working-with-dashboards/preview-dashboard/urlparameters/",name:"UrlParameter",reDirectionId:"2047"}],function(n){var t,i,r;(function(n){n[n.Year="Year"]="Year";n[n.Quarter="Quarter"]="Quarter";n[n.Month="Month"]="Month";n[n.MonthYear="MonthYear"]="MonthYear";n[n.QuarterYear="QuarterYear"]="QuarterYear";n[n.DayOfWeek="DayOfWeek"]="DayOfWeek";n[n.Day="Day"]="Day";n[n.Hour="Hour"]="Hour";n[n.Minute="Minute"]="Minute";n[n.Second="Second"]="Second";n[n.Time="Time"]="Time";n[n.Date="Date"]="Date";n[n.Default="Default"]="Default";n[n.RelativeDate="RelativeDate"]="RelativeDate";n[n.WeekYear="WeekYear"]="WeekYear";n[n.DateHour="DateHour"]="DateHour";n[n.WeekOfYear="WeekOfYear"]="WeekOfYear";n[n.DayMonthYear="DayMonthYear"]="DayMonthYear";n[n.MonthDayYear="MonthDayYear"]="MonthDayYear";n[n.None="None"]="None"})(t=n.DateAndTimeFormat||(n.DateAndTimeFormat={})),function(n){n[n.Open="Open"]="Open";n[n.Save="Save"]="Save";n[n.SaveAs="SaveAs"]="SaveAs";n[n.SaveConnection="SaveConnection"]="SaveConnection";n[n.SaveDataSource="SaveDataSource"]="SaveDataSource";n[n.CancelDataSource="CancelDataSource"]="CancelDataSource";n[n.ContinueToDashboard="ContinueToDashboard"]="ContinueToDashboard";n[n.RenderComplete="RenderComplete"]="RenderComplete";n[n.ConnectionModeDialogClose="ConnectionModeDialogClose"]="ConnectionModeDialogClose";n[n.DataPreviewModeDialogClose="DataPreviewModeDialogClose"]="DataPreviewModeDialogClose"}(i=n.DashboardDesignerEvent||(n.DashboardDesignerEvent={})),function(n){n[n.all="All"]="all";n[n.socialMedia="Social Media"]="socialMedia";n[n.webAnalytics="WebAnalytics"]="webAnalytics";n[n.webManagement="WebManagement"]="webManagement";n[n.liveConnection="LiveConnection"]="liveConnection";n[n.cloudStorage="CloudStorage"]="cloudStorage";n[n.salesCrm="Sales & CRM"]="salesCrm";n[n.communications="Communications"]="communications";n[n.digitalMarketing="Digital Marketing"]="digitalMarketing";n[n.marketing="Marketing"]="marketing";n[n.email="Email"]="email";n[n.advertising="Advertising"]="advertising";n[n.finance="Finance"]="finance";n[n.management="Management"]="management";n[n.projectManagement="Project Management"]="projectManagement";n[n.fitnessManagement="Fitness Management"]="fitnessManagement";n[n.learning="Learning"]="learning";n[n.support="Support"]="support";n[n.sql="SQL"]="sql";n[n.nosql="NoSQL"]="nosql";n[n.files="Files"]="files";n[n.rest="Rest"]="rest";n[n.emailCompaign="Email Campaign"]="emailCompaign";n[n.mobileAnalytics="Mobile Analytics"]="mobileAnalytics";n[n.survey="Survey"]="survey";n[n.appanalytics="App Analytics"]="appanalytics";n[n.proofhub="ProofHub"]="proofhub";n[n.forms="Forms"]="forms"}(r=n.DataSourceCategory||(n.DataSourceCategory={}))}(BoldBIDashboard||(BoldBIDashboard={})),function(n){var t;(function(n){var t=function(){function n(){}return n}();n.ThemeTemplate=t})(t=n.Dashboard||(n.Dashboard={}))}(BoldBIDashboard||(BoldBIDashboard={}));var BannerStyle=function(){function n(){}return n}(),WidgetStyle=function(){function n(){}return n}(),RTEContentStyle=function(){function n(){}return n}(),RTEFontStyles=function(){function n(){}return n}(),RTEWidgetStyle=function(){function n(){}return n}(),AxisStyle=function(){function n(){}return n}(),HeatMapAxisStyle=function(){function n(){}return n}(),TitleThemeStyle=function(){function n(){}return n}(),LegendThemeStyle=function(){function n(){}return n}(),LegendTitleThemeStyle=function(){function n(){}return n}(),LabelThemeStyle=function(){function n(){}return n}(),DataValueThemeStyle=function(){function n(){}return n}(),LineThemeStyle=function(){function n(){}return n}(),TooltipStyle=function(){function n(){}return n}(),FontThemeStyle=function(){function n(){}return n}(),LegendFontThemeStyle=function(){function n(){}return n}(),LegendTitleFontThemeStyle=function(){function n(){}return n}(),FontStyles=function(){function n(){}return n}(),WaitingIndicatorStyle=function(){function n(){}return n}(),MenuStyle=function(){function n(){}return n}(),IconStyle=function(){function n(){}return n}(),HoverStyle=function(){function n(){}return n}(),MapWidgetStyle=function(){function n(){}return n}(),HeatMapWidgetStyle=function(){function n(){}return n}(),TreeMapWidgetStyle=function(){function n(){}return n}(),ListBoxWidgetStyle=function(){function n(){}return n}(),CheckboxStyle=function(){function n(){}return n}(),DropDownListStyle=function(){function n(){}return n}(),ComboBoxWidgetStyle=function(){function n(){}return n}(),DateBucketWidgetStyle=function(){function n(){}return n}(),RangeSliderWidgetStyle=function(){function n(){}return n}(),RangeSliderHandleStyle=function(){function n(){}return n}(),RangeSliderLabelStyle=function(){function n(){}return n}(),RangeNavigatorWidgetStyle=function(){function n(){}return n}(),DatePickerWidgetStyle=function(){function n(){}return n}(),TextFilterWidgetStyle=function(){function n(){}return n}(),TextBoxStyle=function(){function n(){}return n}(),DatePickerCalenderStyle=function(){function n(){}return n}(),ButtonStyle=function(){function n(){}return n}(),NumberCardStyle=function(){function n(){}return n}(),CardSparkLineStyle=function(){function n(){}return n}(),KPICardWidgetStyle=function(){function n(){}return n}(),GaugeWidgetStyle=function(){function n(){}return n}(),ChartWidgetStyle=function(){function n(){}return n}(),StackedChartStyle=function(){function n(){}return n}(),StackedChartLabelThemeStyle=function(){function n(){}return n}(),StackedChartfontStyle=function(){function n(){}return n}(),ComboChartWidgetStyle=function(){function n(){}return n}(),GridWidgetStyle=function(){function n(){}return n}(),GridContentStyle=function(){function n(){}return n}(),GridFilterBarStyle=function(){function n(){}return n}(),PivotGridWidgetStyle=function(){function n(){}return n}(),PivotGroupButtonStyle=function(){function n(){}return n}(),PivotFilterDialogStyle=function(){function n(){}return n}(),RadarPolarWidgetStyle=function(){function n(){}return n}(),RadarPolarAxisStyle=function(){function n(){}return n}(),BubbleScatterWidgetStyle=function(){function n(){}return n}(),BubbleScatterAxisStyle=function(){function n(){}return n}(),PoPWidgetStyle=function(){function n(){}return n}(),WidgetContainerThemeStyle=function(){function n(){}return n}(),LabelFontStyle=function(){function n(){}return n}(),DialogThemeStyle=function(){function n(){}return n}(),PoPRangeThemeStyle=function(){function n(){}return n}(),RelativeHeaderThemeStyle=function(){function n(){}return n}(),RelativeComboBoxThemeStyle=function(){function n(){}return n}(),PopupThemeStyle=function(){function n(){}return n}(),PoPCalenderStyle=function(){function n(){}return n}(),CalenderThemeStyle=function(){function n(){}return n}(),PoPFooterStyle=function(){function n(){}return n}(),ButtonThemeStyle=function(){function n(){}return n}(),FilterOverviewStyle=function(){function n(){}return n}(),AlertDialogStyle=function(){function n(){}return n}(),FilterOverviewFontStyle=function(){function n(){}return n}(),FilterOverviewContentText=function(){function n(){}return n}(),WidgetHeaderStyle=function(){function n(){}return n}(),WidgetTextStyleTheme=function(){function n(){}return n}(),MaximumFontValues;(function(n){n[n.dashboardTitle=30]="dashboardTitle";n[n.bannerIcon=20]="bannerIcon";n[n.widgetTitle=44]="widgetTitle";n[n.widgetSubTitle=32]="widgetSubTitle";n[n.menuFont=20]="menuFont"})(MaximumFontValues||(MaximumFontValues={})),function(n){n[n.title=6]="title";n[n.subTitle=4]="subTitle"}(WidgetHeaderFontSizeFactor||(WidgetHeaderFontSizeFactor={})),function(n){var t;(function(t){var i=function(){function t(t){this.dashboardDesigner=null;this.fontSrcList=[];this.lightMode={name:"Light",waitingIndicator:{background:"#FFFFFF"},type:0,background:"#F9F9F9",font:{color:"",fontSettings:{autoFontSettings:!0,fontSize:"",fontWeight:"",fontFamily:"",fontSrc:""}},dataColorPalette:["#826AF9","#2D99FF","#2CD9C5","#FF6C40","#FFE700","#F29D38","#FF4085"],banner:{background:"#FFFFFF",textStyle:{color:"#000000",fontSettings:{autoFontSettings:!0,fontSize:"",fontWeight:"",fontFamily:"",fontSrc:""}},icon:{font:{color:"#1a1a1a",fontSettings:{autoFontSettings:!0,fontSize:"",fontWeight:"",fontFamily:"",fontSrc:""}},hover:{font:{color:"#1a1a1a",fontSettings:{autoFontSettings:!0,fontSize:"",fontWeight:"",fontFamily:"",fontSrc:""}},background:"#EEEEEE"}}},widgets:{background:"#FFFFFF",textStyle:{color:"#000000",title:{autoFontSettings:!0,fontSize:"",fontWeight:"",fontFamily:"",fontSrc:""},subTitle:{autoFontSettings:!0,fontSize:"",fontWeight:"",fontFamily:"",fontSrc:""}},icon:{font:{color:"#1a1a1a",fontSettings:{autoFontSettings:!0,fontSize:"",fontWeight:"",fontFamily:"",fontSrc:""}},hover:{font:{color:"#1a1a1a",fontSettings:{autoFontSettings:!0,fontSize:"",fontWeight:"",fontFamily:"",fontSrc:""}},background:"#EEEEEE"}},axis:{title:{font:{color:"#000000",fontSettings:{autoFontSettings:!0,fontSize:"",fontWeight:"",fontFamily:"",fontSrc:""}}},label:{font:{color:"#000000",fontSettings:{autoFontSettings:!0,fontSize:"",fontWeight:"",fontFamily:"",fontSrc:""}}},gridLines:{color:"#DFDFDF"},tickLines:{color:"#DFDFDF"}},legend:{font:{color:"#000000",fontSettings:{autoFontSettings:!0,fontSize:"",fontWeight:"",fontFamily:"",fontSrc:""}}},dataLabel:{font:{color:"#000000",fontSettings:{autoFontSettings:!0,fontSize:"",fontWeight:"",fontFamily:"",fontSrc:""}}},dataValue:{background:"#FFFFFF",font:{color:"#000000",fontSettings:{autoFontSettings:!0,fontSize:"",fontWeight:"",fontFamily:"",fontSrc:""}},hover:{font:{color:"#000000",fontSettings:{autoFontSettings:!0,fontSize:"",fontWeight:"",fontFamily:"",fontSrc:""}},background:"#EEEEEE"}},map:{widgetHeader:{title:{color:"#1E1E1E",fontSettings:{autoFontSettings:!0,fontSize:"",fontWeight:"",fontFamily:"",fontSrc:""}},subTitle:{color:"#1E1E1E",fontSettings:{autoFontSettings:!0,fontSize:"",fontWeight:"",fontFamily:"",fontSrc:""}}},dataLabel:{font:{color:"#1E1E1E",fontSettings:{autoFontSettings:!0,fontSize:"",fontWeight:"",fontFamily:"",fontSrc:""}}},legend:{font:{color:"#000000",fontSettings:{autoFontSettings:!0,fontSize:"",fontWeight:"",fontFamily:"",fontSrc:""}}},legendTitle:{title:{font:{fontSettings:{autoFontSettings:!0,fontSize:"",fontWeight:"",fontFamily:""}}}},fillColor:"#f67280"},heatMap:{widgetHeader:{title:{color:"#1E1E1E",fontSettings:{autoFontSettings:!0,fontSize:"",fontWeight:"",fontFamily:"",fontSrc:""}},subTitle:{color:"#1E1E1E",fontSettings:{autoFontSettings:!0,fontSize:"",fontWeight:"",fontFamily:"",fontSrc:""}}},axis:{title:{font:{color:"#000000",fontSettings:{autoFontSettings:!0,fontSize:"",fontWeight:"",fontFamily:"",fontSrc:""}}},label:{font:{color:"#000000",fontSettings:{autoFontSettings:!0,fontSize:"",fontWeight:"",fontFamily:"",fontSrc:""}}}},dataLabel:{font:{color:"#636363",fontSettings:{autoFontSettings:!0,fontSize:"",fontWeight:"",fontFamily:"",fontSrc:""}}},legend:{font:{color:"#000000",fontSettings:{autoFontSettings:!0,fontSize:"",fontWeight:"",fontFamily:"",fontSrc:""}}},fillColor:"#f6727f",emptyFillColor:"#EEEEEE"},treeMap:{widgetHeader:{title:{color:"#1E1E1E",fontSettings:{autoFontSettings:!0,fontSize:"",fontWeight:"",fontFamily:"",fontSrc:""}},subTitle:{color:"#1E1E1E",fontSettings:{autoFontSettings:!0,fontSize:"",fontWeight:"",fontFamily:"",fontSrc:""}}},dataLabel:{font:{color:"#1E1E1E",fontSettings:{autoFontSettings:!0,fontSize:"",fontWeight:"",fontFamily:"",fontSrc:""}}},legend:{font:{color:"#636363",fontSettings:{autoFontSettings:!0,fontSize:"",fontWeight:"",fontFamily:"",fontSrc:""}}},legendTitle:{title:{font:{fontSettings:{autoFontSettings:!0,fontSize:"",fontWeight:"",fontFamily:""}}}},fillColor:"#f6727f"},listbox:{widgetHeader:{title:{color:"#1E1E1E",fontSettings:{autoFontSettings:!0,fontSize:"",fontWeight:"",fontFamily:"",fontSrc:""}},subTitle:{color:"#1E1E1E",fontSettings:{autoFontSettings:!0,fontSize:"",fontWeight:"",fontFamily:"",fontSrc:""}}},dropDownList:{background:"#ffffff",borderColor:"#d3d3d3",font:{color:"#333333",fontSettings:{autoFontSettings:!0,fontSize:"",fontWeight:"",fontFamily:"",fontSrc:""}},hover:{background:"#f1f1f1",font:{color:"#333333",fontSettings:{autoFontSettings:!0,fontSize:"",fontWeight:"",fontFamily:"",fontSrc:""}}},selection:{background:"#cde0ff",font:{color:"#333333",fontSettings:{autoFontSettings:!0,fontSize:"",fontWeight:"",fontFamily:"",fontSrc:""}}},downArrowColor:"#686969"},checkbox:{tickColor:"#0565ff",uncheckedBackground:"#ffffff",uncheckedBorder:"#c8c8c8",checkedBackground:"#ffffff",checkedBorder:"#c8c8c8"}},combobox:{widgetHeader:{title:{color:"#1E1E1E",fontSettings:{autoFontSettings:!0,fontSize:"",fontWeight:"",fontFamily:"",fontSrc:""}},subTitle:{color:"#1E1E1E",fontSettings:{autoFontSettings:!0,fontSize:"",fontWeight:"",fontFamily:"",fontSrc:""}}},borderColor:"#c8c8c8",placeHolderTextColor:"#333333",boxShadow:"#d3d3d3",dropDownList:{background:"#ffffff",borderColor:"#d3d3d3",font:{color:"#333333",fontSettings:{autoFontSettings:!0,fontSize:"",fontWeight:"",fontFamily:"",fontSrc:""}},hover:{background:"#f1f1f1",font:{color:"#333333",fontSettings:{autoFontSettings:!0,fontSize:"",fontWeight:"",fontFamily:"",fontSrc:""}}},selection:{background:"#cde0ff",font:{color:"#333333",fontSettings:{autoFontSettings:!0,fontSize:"",fontWeight:"",fontFamily:"",fontSrc:""}}},downArrowColor:"#686969"},checkbox:{tickColor:"#0565ff",uncheckedBackground:"#ffffff",uncheckedBorder:"#c8c8c8",checkedBackground:"#ffffff",checkedBorder:"#c8c8c8"}},dategroup:{widgetHeader:{title:{color:"#1E1E1E",fontSettings:{autoFontSettings:!0,fontSize:"",fontWeight:"",fontFamily:"",fontSrc:""}},subTitle:{color:"#1E1E1E",fontSettings:{autoFontSettings:!0,fontSize:"",fontWeight:"",fontFamily:"",fontSrc:""}}},borderColor:"#c8c8c8",placeHolderTextColor:"#333333",boxShadow:"#d3d3d3",dropDownList:{background:"#ffffff",borderColor:"#d3d3d3",font:{color:"#333333",fontSettings:{autoFontSettings:!0,fontSize:"",fontWeight:"",fontFamily:"",fontSrc:""}},hover:{background:"#f1f1f1",font:{color:"#333333",fontSettings:{autoFontSettings:!0,fontSize:"",fontWeight:"",fontFamily:"",fontSrc:""}}},selection:{background:"#cde0ff",font:{color:"#333333",fontSettings:{autoFontSettings:!0,fontSize:"",fontWeight:"",fontFamily:"",fontSrc:""}}},downArrowColor:"#686969"},checkbox:{tickColor:"#0565ff",uncheckedBackground:"#ffffff",uncheckedBorder:"#c8c8c8",checkedBackground:"#ffffff",checkedBorder:"#c8c8c8"}},rangeSlider:{widgetHeader:{title:{color:"#1E1E1E",fontSettings:{autoFontSettings:!0,fontSize:"",fontWeight:"",fontFamily:"",fontSrc:""}},subTitle:{color:"#1E1E1E",fontSettings:{autoFontSettings:!0,fontSize:"",fontWeight:"",fontFamily:"",fontSrc:""}}},sliderBackground:"#dbdbdb",rangeColor:"#826AF9",handle:{background:"#ffffff",border:"#826AF9"},label:{background:"#ffffff",font:{color:"#000000",fontSettings:{autoFontSettings:!0,fontSize:"",fontWeight:"",fontFamily:"",fontSrc:""}}}},rangeNavigator:{widgetHeader:{title:{color:"#1E1E1E",fontSettings:{autoFontSettings:!0,fontSize:"",fontWeight:"",fontFamily:"",fontSrc:""}},subTitle:{color:"#1E1E1E",fontSettings:{autoFontSettings:!0,fontSize:"",fontWeight:"",fontFamily:"",fontSrc:""}}},background:"#ffffff",border:"#DFDFDF",selectedRegionColor:"#ffffff",unselectedRegionColor:"#f9f9f9",content:{color:"#000000",fontSettings:{autoFontSettings:!0,fontSize:"",fontWeight:"",fontFamily:"",fontSrc:""}}},textfilter:{widgetHeader:{title:{color:"#1E1E1E",fontSettings:{autoFontSettings:!0,fontSize:"",fontWeight:"",fontFamily:"",fontSrc:""}},subTitle:{color:"#1E1E1E",fontSettings:{autoFontSettings:!0,fontSize:"",fontWeight:"",fontFamily:"",fontSrc:""}}},borderColor:"#c8c8c8",placeHolderTextColor:"#333333",boxShadow:"#d3d3d3",background:"#ffffff",font:{color:"#333333",fontSettings:{autoFontSettings:!0,fontSize:"",fontWeight:"",fontFamily:"",fontSrc:""}}},datepicker:{widgetHeader:{title:{color:"#1E1E1E",fontSettings:{autoFontSettings:!0,fontSize:"",fontWeight:"",fontFamily:"",fontSrc:""}},subTitle:{color:"#1E1E1E",fontSettings:{autoFontSettings:!0,fontSize:"",fontWeight:"",fontFamily:"",fontSrc:""}}},textBoxBorder:"#c8c8c8",placeHolderTextColor:"#333333",boxShadow:"#000000",textBox:{background:"#ffffff",font:{color:"#000000",fontSettings:{autoFontSettings:!0,fontSize:"",fontWeight:"",fontFamily:"",fontSrc:""}}},calendar:{background:"#ffffff",calenderBorderColor:"#d3d3d3",borderColor:"#d3d3d3",weekHeader:{background:"#ffffff",font:{color:"#5E5E5E",fontSettings:{autoFontSettings:!0,fontSize:"",fontWeight:"",fontFamily:"",fontSrc:""}}},availableDates:{borderColor:"#d3d3d3",background:"#ffffff",font:{color:"#2b2b2b",fontSettings:{autoFontSettings:!0,fontSize:"",fontWeight:"",fontFamily:"",fontSrc:""}},hover:{background:"#f4f4f4",font:{color:"#2b2b2b",fontSettings:{autoFontSettings:!0,fontSize:"",fontWeight:"",fontFamily:"",fontSrc:""}}},selection:{background:"#77A7FB",font:{color:"#2b2b2b",fontSettings:{autoFontSettings:!0,fontSize:"",fontWeight:"",fontFamily:"",fontSrc:""}}},downArrowColor:"#686969"},unavailableDays:{background:"#ffffff",font:{color:"#D8D8D8",fontSettings:{autoFontSettings:!0,fontSize:"",fontWeight:"",fontFamily:"",fontSrc:""}}},otherMonthDays:{background:"#ffffff",font:{color:"#999999",fontSettings:{autoFontSettings:!0,fontSize:"",fontWeight:"",fontFamily:"",fontSrc:""}}},icon:{font:{color:"#1a1a1a",fontSettings:{autoFontSettings:!0,fontSize:"",fontWeight:"",fontFamily:"",fontSrc:""}},hover:{font:{color:"#1a1a1a",fontSettings:{autoFontSettings:!0,fontSize:"",fontWeight:"",fontFamily:"",fontSrc:""}},background:"#EEEEEE"}},footerBackground:"#f9f9f9",cancelButton:{background:"#ffffff",font:{color:"#333333",fontSettings:{autoFontSettings:!0,fontSize:"",fontWeight:"",fontFamily:"",fontSrc:""}},press:{background:"#cccccc",font:{color:"#333333",fontSettings:{autoFontSettings:!0,fontSize:"",fontWeight:"",fontFamily:"",fontSrc:""}}},hover:{background:"#EEEEEE",font:{color:"#333333",fontSettings:{autoFontSettings:!0,fontSize:"",fontWeight:"",fontFamily:"",fontSrc:""}}}},okButton:{background:"#0565FF",font:{color:"#ffffff",fontSettings:{autoFontSettings:!0,fontSize:"",fontWeight:"",fontFamily:"",fontSrc:""}},press:{background:"#004ed4",font:{color:"#ffffff",fontSettings:{autoFontSettings:!0,fontSize:"",fontWeight:"",fontFamily:"",fontSrc:""}}},hover:{background:"#1882ff",font:{color:"#ffffff",fontSettings:{autoFontSettings:!0,fontSize:"",fontWeight:"",fontFamily:"",fontSrc:""}}}}}},kpiCard:{widgetHeader:{title:{color:"#1E1E1E",fontSettings:{autoFontSettings:!0,fontSize:"",fontWeight:"",fontFamily:"",fontSrc:""}},subTitle:{color:"#1E1E1E",fontSettings:{autoFontSettings:!0,fontSize:"",fontWeight:"",fontFamily:"",fontSrc:""}}},border:"#D3D3D3",leftLabel:{color:"#505D6F",fontSettings:{autoFontSettings:!0,fontSize:"",fontWeight:"",fontFamily:"",fontSrc:""}},leftValue:{color:"#505D6F",fontSettings:{autoFontSettings:!0,fontSize:"",fontWeight:"",fontFamily:"",fontSrc:""}},rightLabel:{color:"#505D6F",fontSettings:{autoFontSettings:!0,fontSize:"",fontWeight:"",fontFamily:"",fontSrc:""}},rightValue:{color:"#505D6F",fontSettings:{autoFontSettings:!0,fontSize:"",fontWeight:"",fontFamily:"",fontSrc:""}},kpiValue:{color:"#505D6F",fontSettings:{autoFontSettings:!0,fontSize:"",fontWeight:"",fontFamily:"",fontSrc:""}},separatorColor:"#9AA1A9",sparkLine:{background:"#4cd766",opacity:"0.5"},title:{color:"#505D6F",fontSettings:{autoFontSettings:!0,fontSize:"",fontWeight:"",fontFamily:"",fontSrc:""}}},numberCard:{widgetHeader:{title:{color:"#1E1E1E",fontSettings:{autoFontSettings:!0,fontSize:"",fontWeight:"",fontFamily:"",fontSrc:""}},subTitle:{color:"#1E1E1E",fontSettings:{autoFontSettings:!0,fontSize:"",fontWeight:"",fontFamily:"",fontSrc:""}}},border:"#D3D3D3",rightValue:{color:"#505D6F",fontSettings:{autoFontSettings:!0,fontSize:"",fontWeight:"",fontFamily:"",fontSrc:""}},sparkLine:{background:"#4cd766",opacity:"0.5"},title:{color:"#505D6F",fontSettings:{autoFontSettings:!0,fontSize:"",fontWeight:"",fontFamily:"",fontSrc:""}}},grid:{widgetHeader:{title:{color:"#1E1E1E",fontSettings:{autoFontSettings:!0,fontSize:"",fontWeight:"",fontFamily:"",fontSrc:""}},subTitle:{color:"#1E1E1E",fontSettings:{autoFontSettings:!0,fontSize:"",fontWeight:"",fontFamily:"",fontSrc:""}}},content:{background:"#ffffff",font:{color:"#000000",fontSettings:{autoFontSettings:!0,fontSize:"",fontWeight:"",fontFamily:"",fontSrc:""}},hover:{background:"#ffffff",font:{color:"#000000",fontSettings:{autoFontSettings:!0,fontSize:"",fontWeight:"",fontFamily:"",fontSrc:""}}},selection:{background:"#cde0ff",font:{color:"#000000",fontSettings:{autoFontSettings:!0,fontSize:"",fontWeight:"",fontFamily:"",fontSrc:""}}}},filterBar:{background:"#ffffff",border:"#c8c8c8",font:{color:"#000000",fontSettings:{autoFontSettings:!0,fontSize:"",fontWeight:"",fontFamily:"",fontSrc:""}}},header:{background:"#F3F7FA",font:{color:"#2D3748",fontSettings:{autoFontSettings:!0,fontSize:"",fontWeight:"",fontFamily:"",fontSrc:""}}}},pivotGrid:{widgetHeader:{title:{color:"#1E1E1E",fontSettings:{autoFontSettings:!0,fontSize:"",fontWeight:"",fontFamily:"",fontSrc:""}},subTitle:{color:"#1E1E1E",fontSettings:{autoFontSettings:!0,fontSize:"",fontWeight:"",fontFamily:"",fontSrc:""}}},border:"",content:{background:"#ffffff",font:{color:"#333333",fontSettings:{autoFontSettings:!0,fontSize:"",fontWeight:"",fontFamily:"",fontSrc:""}},hover:{background:"#ffffff",font:{color:"#333333",fontSettings:{autoFontSettings:!0,fontSize:"",fontWeight:"",fontFamily:"",fontSrc:""}}},selection:{background:"#CDE0FF",font:{color:"#333333",fontSettings:{autoFontSettings:!0,fontSize:"",fontWeight:"",fontFamily:"",fontSrc:""}}}},header:{background:"#eeeeee",font:{color:"#333333",fontSettings:{autoFontSettings:!0,fontSize:"",fontWeight:"",fontFamily:"",fontSrc:""}}},groupingButton:{background:"#ffffff",font:{color:"#696969",fontSettings:{autoFontSettings:!0,fontSize:"",fontWeight:"",fontFamily:"",fontSrc:""}},icon:{font:{color:"#1a1a1a",fontSettings:{autoFontSettings:!0,fontSize:"",fontWeight:"",fontFamily:"",fontSrc:""}},hover:{font:{color:"#1a1a1a",fontSettings:{autoFontSettings:!0,fontSize:"",fontWeight:"",fontFamily:"",fontSrc:""}},background:"#EEEEEE"}}},groupingPanelBackground:"#e9e9e9",filterDialog:{footerBackground:"#f9f9f9",cancelButton:{background:"#ffffff",font:{color:"#333333",fontSettings:{autoFontSettings:!0,fontSize:"",fontWeight:"",fontFamily:"",fontSrc:""}},press:{background:"#cccccc",font:{color:"#333333",fontSettings:{autoFontSettings:!0,fontSize:"",fontWeight:"",fontFamily:"",fontSrc:""}}},hover:{background:"#EEEEEE",font:{color:"#333333",fontSettings:{autoFontSettings:!0,fontSize:"",fontWeight:"",fontFamily:"",fontSrc:""}}}},okButton:{background:"#0565FF",font:{color:"#ffffff",fontSettings:{autoFontSettings:!0,fontSize:"",fontWeight:"",fontFamily:"",fontSrc:""}},press:{background:"#004ed4",font:{color:"#ffffff",fontSettings:{autoFontSettings:!0,fontSize:"",fontWeight:"",fontFamily:"",fontSrc:""}}},hover:{background:"#1882ff",font:{color:"#ffffff",fontSettings:{autoFontSettings:!0,fontSize:"",fontWeight:"",fontFamily:"",fontSrc:""}}}},list:{borderColor:"#d3d3d3",background:"#ffffff",font:{color:"#333333",fontSettings:{autoFontSettings:!0,fontSize:"",fontWeight:"",fontFamily:"",fontSrc:""}},hover:{background:"#f1f1f1",font:{color:"#333333",fontSettings:{autoFontSettings:!0,fontSize:"",fontWeight:"",fontFamily:"",fontSrc:""}}},selection:{background:"#cde0ff",font:{color:"#333333",fontSettings:{autoFontSettings:!0,fontSize:"",fontWeight:"",fontFamily:"",fontSrc:""}}},downArrowColor:"#686969"},header:{background:"#f9f9f9",font:{color:"#333333",fontSettings:{autoFontSettings:!0,fontSize:"",fontWeight:"",fontFamily:"",fontSrc:""}}}}},chart:{widgetHeader:{title:{color:"#1E1E1E",fontSettings:{autoFontSettings:!0,fontSize:"",fontWeight:"",fontFamily:"",fontSrc:""}},subTitle:{color:"#1E1E1E",fontSettings:{autoFontSettings:!0,fontSize:"",fontWeight:"",fontFamily:"",fontSrc:""}}},axis:{title:{font:{color:"#000000",fontSettings:{autoFontSettings:!0,fontSize:"",fontWeight:"",fontFamily:"",fontSrc:""}}},gridLines:{color:"#DFDFDF"},label:{font:{color:"#000000",fontSettings:{autoFontSettings:!0,fontSize:"",fontWeight:"",fontFamily:"",fontSrc:""}}},tickLines:{color:"#DFDFDF"}},dataLabel:{font:{color:"#000000",fontSettings:{autoFontSettings:!0,fontSize:"",fontWeight:"",fontFamily:"",fontSrc:""}}},legend:{font:{color:"#000000",fontSettings:{autoFontSettings:!0,fontSize:"",fontWeight:"",fontFamily:"",fontSrc:""}}},legendTitle:{title:{font:{fontSettings:{autoFontSettings:!0,fontSize:"",fontWeight:"",fontFamily:""}}}},markerColor:"#ffffff"},stackedChart:{dataLabel:{font:{color:"#ffffff"}}},comboChart:{widgetHeader:{title:{color:"#1E1E1E",fontSettings:{autoFontSettings:!0,fontSize:"",fontWeight:"",fontFamily:"",fontSrc:""}},subTitle:{color:"#1E1E1E",fontSettings:{autoFontSettings:!0,fontSize:"",fontWeight:"",fontFamily:"",fontSrc:""}}},axis:{title:{font:{color:"#000000",fontSettings:{autoFontSettings:!0,fontSize:"",fontWeight:"",fontFamily:"",fontSrc:""}}},gridLines:{color:"#DFDFDF"},label:{font:{color:"#000000",fontSettings:{autoFontSettings:!0,fontSize:"",fontWeight:"",fontFamily:"",fontSrc:""}}},tickLines:{color:"#DFDFDF"}},dataLabel:{font:{color:"#000000",fontSettings:{autoFontSettings:!0,fontSize:"",fontWeight:"",fontFamily:"",fontSrc:""}}},legend:{font:{color:"#000000",fontSettings:{autoFontSettings:!0,fontSize:"",fontWeight:"",fontFamily:"",fontSrc:""}}},legendTitle:{title:{font:{fontSettings:{autoFontSettings:!0,fontSize:"",fontWeight:"",fontFamily:""}}}},markerColor:"#ffffff"},circularGauge:{widgetHeader:{title:{color:"#1E1E1E",fontSettings:{autoFontSettings:!0,fontSize:"",fontWeight:"",fontFamily:"",fontSrc:""}},subTitle:{color:"#1E1E1E",fontSettings:{autoFontSettings:!0,fontSize:"",fontWeight:"",fontFamily:"",fontSrc:""}}},backBground:"#ffffff",needlePointerBackground:"#505D6F",rangePointerBackground:"#f6727f",scaleBackground:"#E0E0E0",targetPointerBackground:"#424242",label:{color:"#505D6F",fontSettings:{autoFontSettings:!0,fontSize:"",fontWeight:"",fontFamily:"",fontSrc:""}},title:{color:"#000000",fontSettings:{autoFontSettings:!0,fontSize:"",fontWeight:"",fontFamily:"",fontSrc:""}},value:{color:"#505D6F",fontSettings:{autoFontSettings:!0,fontSize:"",fontWeight:"",fontFamily:"",fontSrc:""}},differenceValue:{color:"",fontSettings:{autoFontSettings:!0,fontSize:"",fontWeight:"",fontFamily:"",fontSrc:""}}},radarPolar:{widgetHeader:{title:{color:"#1E1E1E",fontSettings:{autoFontSettings:!0,fontSize:"",fontWeight:"",fontFamily:"",fontSrc:""}},subTitle:{color:"#1E1E1E",fontSettings:{autoFontSettings:!0,fontSize:"",fontWeight:"",fontFamily:"",fontSrc:""}}},axis:{label:{font:{color:"#000000",fontSettings:{autoFontSettings:!0,fontSize:"",fontWeight:"",fontFamily:"",fontSrc:""}}},gridLines:{color:"#DFDFDF"},tickLines:{color:"#DFDFDF"}},dataLabel:{font:{color:"#000000",fontSettings:{autoFontSettings:!0,fontSize:"",fontWeight:"",fontFamily:"",fontSrc:""}}},legend:{font:{color:"#000000",fontSettings:{autoFontSettings:!0,fontSize:"",fontWeight:"",fontFamily:"",fontSrc:""}}},markerColor:"#ffffff"},rte:{content:{color:"#000000",fontSettings:{autoFontSettings:!0,fontWeight:"",fontFamily:"",fontSrc:""}}},bubbleScatter:{widgetHeader:{title:{color:"#1E1E1E",fontSettings:{autoFontSettings:!0,fontSize:"",fontWeight:"",fontFamily:"",fontSrc:""}},subTitle:{color:"#1E1E1E",fontSettings:{autoFontSettings:!0,fontSize:"",fontWeight:"",fontFamily:"",fontSrc:""}}},axis:{label:{font:{color:"#000000",fontSettings:{autoFontSettings:!0,fontSize:"",fontWeight:"",fontFamily:"",fontSrc:""}}},title:{font:{color:"#000000",fontSettings:{autoFontSettings:!0,fontSize:"",fontWeight:"",fontFamily:"",fontSrc:""}}},gridLines:{color:"#DFDFDF"}},dataLabel:{font:{color:"#000000",fontSettings:{autoFontSettings:!0,fontSize:"",fontWeight:"",fontFamily:"",fontSrc:""}}},legend:{font:{color:"#000000",fontSettings:{autoFontSettings:!0,fontSize:"",fontWeight:"",fontFamily:"",fontSrc:""}}},markerColor:"#ffffff"},pop:{widgetHeader:{title:{color:"#1E1E1E",fontSettings:{autoFontSettings:!0,fontSize:"",fontWeight:"",fontFamily:"",fontSrc:""}},subTitle:{color:"#1E1E1E",fontSettings:{autoFontSettings:!0,fontSize:"",fontWeight:"",fontFamily:"",fontSrc:""}}},widgetContainer:{dateRangeLabel:{font:{color:"#505D6F",fontSettings:{autoFontSettings:!0,fontSize:"",fontWeight:"",fontFamily:"",fontSrc:""}}},compareRangeLabel:{font:{color:"#505D6F",fontSettings:{autoFontSettings:!0,fontSize:"",fontWeight:"",fontFamily:"",fontSrc:""}}},vsLabel:{font:{color:"#505D6F",fontSettings:{autoFontSettings:!0,fontSize:"",fontWeight:"",fontFamily:"",fontSrc:""}}}},dialog:{headerBackground:"#ffffff",dateRange:{relativeHeader:{background:"#CCFAFF",label:{font:{color:"#333333",fontSettings:{autoFontSettings:!0,fontSize:"",fontWeight:"",fontFamily:"",fontSrc:""}}}},relativeLabel:{font:{color:"#808080",fontSettings:{autoFontSettings:!0,fontSize:"",fontWeight:"",fontFamily:"",fontSrc:""}}},relativeComboBox:{background:"#ffffff",textBox:{font:{color:"#333333",fontSettings:{autoFontSettings:!0,fontSize:"",fontWeight:"",fontFamily:"",fontSrc:""}}},popup:{background:"#ffffff",text:{font:{color:"#333333",fontSettings:{autoFontSettings:!0,fontSize:"",fontWeight:"",fontFamily:"",fontSrc:""}}}}},calender:{highlightColor:"#CCFAFF",selectionColor:"#2D99FF",weekHeader:{font:{color:"#9c9998",fontSettings:{autoFontSettings:!0,fontSize:"",fontWeight:"",fontFamily:"",fontSrc:""}}},content:{hoverColor:"#eeeeee",dateText:{font:{color:"#333333",fontSettings:{autoFontSettings:!0,fontSize:"",fontWeight:"",fontFamily:"",fontSrc:""}}}}}},compareRange:{relativeHeader:{background:"#C0F2DC",label:{font:{color:"#333333",fontSettings:{autoFontSettings:!0,fontSize:"",fontWeight:"",fontFamily:"",fontSrc:""}}}},relativeLabel:{font:{color:"#808080",fontSettings:{autoFontSettings:!0,fontSize:"",fontWeight:"",fontFamily:"",fontSrc:""}}},relativeComboBox:{background:"#ffffff",textBox:{font:{color:"#333333",fontSettings:{autoFontSettings:!0,fontSize:"",fontWeight:"",fontFamily:"",fontSrc:""}}},popup:{background:"#ffffff",text:{font:{color:"#333333",fontSettings:{autoFontSettings:!0,fontSize:"",fontWeight:"",fontFamily:"",fontSrc:""}}}}},calender:{highlightColor:"#e6f9e9",selectionColor:"#C0F2DC",weekHeader:{font:{color:"#9c9998",fontSettings:{autoFontSettings:!0,fontSize:"",fontWeight:"",fontFamily:"",fontSrc:""}}},content:{hoverColor:"#eeeeee",dateText:{font:{color:"#333333",fontSettings:{autoFontSettings:!0,fontSize:"",fontWeight:"",fontFamily:"",fontSrc:""}}}}}},vsLabel:{font:{color:"#333333",fontSettings:{autoFontSettings:!0,fontSize:"",fontWeight:"",fontFamily:"",fontSrc:""}}},footer:{footerBackground:"#f9f9f9",okButton:{background:"#2D99FF",hoverColor:"#2e7eff",text:{font:{color:"#ffffff",fontSettings:{autoFontSettings:!0,fontSize:"",fontWeight:"",fontFamily:"",fontSrc:""}}}},cancelButton:{background:"#ffffff",hoverColor:"#e6e6e6",text:{font:{color:"#333333",fontSettings:{autoFontSettings:!0,fontSize:"",fontWeight:"",fontFamily:"",fontSrc:""}}}}}}}},tooltip:{background:"#FFFFFF",font:{color:"#000000",fontSettings:{autoFontSettings:!0,fontSize:"",fontWeight:"",fontFamily:"",fontSrc:""}},border:"#cecece"},menu:{background:"#FFFFFF",font:{color:"#000000",fontSettings:{autoFontSettings:!0,fontSize:"",fontWeight:"",fontFamily:"",fontSrc:""}},border:"#cecece",hover:{font:{color:"#000000",fontSettings:{autoFontSettings:!0,fontSize:"",fontWeight:"",fontFamily:"",fontSrc:""}},background:"#EEEEEE"}},alertDialgog:{footerBackground:"#f9f9f9",content:{background:"#ffffff",font:{color:"#333333",fontSettings:{autoFontSettings:!0,fontSize:"",fontWeight:"",fontFamily:"",fontSrc:""}}},error:{background:"#f7f7f7",font:{color:"#333333",fontSettings:{autoFontSettings:!0,fontSize:"",fontWeight:"",fontFamily:"",fontSrc:""}}},header:{background:"#f9f9f9",font:{color:"#333333",fontSettings:{autoFontSettings:!0,fontSize:"",fontWeight:"",fontFamily:"",fontSrc:""}}},copyButton:{background:"#ffffff",font:{color:"#333333",fontSettings:{autoFontSettings:!0,fontSize:"",fontWeight:"",fontFamily:"",fontSrc:""}},press:{background:"#cccccc",font:{color:"#333333",fontSettings:{autoFontSettings:!0,fontSize:"",fontWeight:"",fontFamily:"",fontSrc:""}}},hover:{background:"#EEEEEE",font:{color:"#333333",fontSettings:{autoFontSettings:!0,fontSize:"",fontWeight:"",fontFamily:"",fontSrc:""}}}},okButton:{background:"#0565FF",font:{color:"#ffffff",fontSettings:{autoFontSettings:!0,fontSize:"",fontWeight:"",fontFamily:"",fontSrc:""}},press:{background:"#004ed4",font:{color:"#ffffff",fontSettings:{autoFontSettings:!0,fontSize:"",fontWeight:"",fontFamily:"",fontSrc:""}}},hover:{background:"#1882ff",font:{color:"#ffffff",fontSettings:{autoFontSettings:!0,fontSize:"",fontWeight:"",fontFamily:"",fontSrc:""}}}}},filterOverview:{background:"#f9f9f9",border:"#c4ced7",font:{color:"#1b1e24",title:{color:"#e5ebf8",fontSettings:{autoFontSettings:!0,fontSize:"",fontWeight:"",fontFamily:"",fontSrc:""}},content:{widgetTitle:{color:"#e5ebf8",fontSettings:{autoFontSettings:!0,fontSize:"",fontWeight:"",fontFamily:"",fontSrc:""}},columnName:{color:"#aab7d4",fontSettings:{autoFontSettings:!0,fontSize:"",fontWeight:"",fontFamily:"",fontSrc:""}},values:{color:"#aab7d4",fontSettings:{autoFontSettings:!0,fontSize:"",fontWeight:"",fontFamily:"",fontSrc:""}}}},icon:{font:{color:"#1a1a1a",fontSettings:{autoFontSettings:!0,fontSize:"",fontWeight:"",fontFamily:"",fontSrc:""}},hover:{font:{color:"#1a1a1a",fontSettings:{autoFontSettings:!0,fontSize:"",fontWeight:"",fontFamily:"",fontSrc:""}},background:"#EEEEEE"}}}};this.darkMode={name:"Dark",waitingIndicator:{background:"#202635"},type:1,font:{color:"",fontSettings:{autoFontSettings:!0,fontSize:"",fontWeight:"",fontFamily:"",fontSrc:""}},background:"#161b26",dataColorPalette:["#826AF9","#2D99FF","#2CD9C5","#FF6C40","#FFE700","#F29D38","#FF4085"],banner:{background:"#212634",textStyle:{color:"#e5ebf8",fontSettings:{autoFontSettings:!0,fontSize:"",fontWeight:"",fontFamily:"",fontSrc:""}},icon:{font:{color:"#aab7d4",fontSettings:{autoFontSettings:!0,fontSize:"",fontWeight:"",fontFamily:"",fontSrc:""}},hover:{font:{color:"#e5ebf8",fontSettings:{autoFontSettings:!0,fontSize:"",fontWeight:"",fontFamily:"",fontSrc:""}},background:"#4a536b"}}},widgets:{background:"#202635",textStyle:{color:"#e5ebf8",title:{autoFontSettings:!0,fontSize:"",fontWeight:"",fontFamily:"",fontSrc:""},subTitle:{autoFontSettings:!0,fontSize:"",fontWeight:"",fontFamily:"",fontSrc:""}},icon:{font:{color:"#c6d0e8",fontSettings:{autoFontSettings:!0,fontSize:"",fontWeight:"",fontFamily:"",fontSrc:""}},hover:{font:{color:"#c6d0e8",fontSettings:{autoFontSettings:!0,fontSize:"",fontWeight:"",fontFamily:"",fontSrc:""}},background:"#374159"}},axis:{title:{font:{color:"#c6d0e8",fontSettings:{autoFontSettings:!0,fontSize:"",fontWeight:"",fontFamily:"",fontSrc:""}}},label:{font:{color:"#c6d0e8",fontSettings:{autoFontSettings:!0,fontSize:"",fontWeight:"",fontFamily:"",fontSrc:""}}},gridLines:{color:"#465168"},tickLines:{color:"#465168"}},legend:{font:{color:"#e5ebf8",fontSettings:{autoFontSettings:!0,fontSize:"",fontWeight:"",fontFamily:"",fontSrc:""}}},dataLabel:{font:{color:"#c6d0e8",fontSettings:{autoFontSettings:!0,fontSize:"",fontWeight:"",fontFamily:"",fontSrc:""}}},dataValue:{background:"#212634",font:{color:"#e5ebf8",fontSettings:{autoFontSettings:!0,fontSize:"",fontWeight:"",fontFamily:"",fontSrc:""}},hover:{font:{color:"#e5ebf8",fontSettings:{autoFontSettings:!0,fontSize:"",fontWeight:"",fontFamily:"",fontSrc:""}},background:"#3e4658"}},map:{widgetHeader:{title:{color:"#1E1E1E",fontSettings:{autoFontSettings:!0,fontSize:"",fontWeight:"",fontFamily:"",fontSrc:""}},subTitle:{color:"#1E1E1E",fontSettings:{autoFontSettings:!0,fontSize:"",fontWeight:"",fontFamily:"",fontSrc:""}}},dataLabel:{font:{color:"#1E1E1E",fontSettings:{autoFontSettings:!0,fontSize:"",fontWeight:"",fontFamily:"",fontSrc:""}}},fillColor:"#f67280",legend:{font:{color:"#c6d0e8",fontSettings:{autoFontSettings:!0,fontSize:"",fontWeight:"",fontFamily:"",fontSrc:""}}},legendTitle:{title:{font:{fontSettings:{autoFontSettings:!0,fontSize:"",fontWeight:"",fontFamily:""}}}}},heatMap:{widgetHeader:{title:{color:"#1E1E1E",fontSettings:{autoFontSettings:!0,fontSize:"",fontWeight:"",fontFamily:"",fontSrc:""}},subTitle:{color:"#1E1E1E",fontSettings:{autoFontSettings:!0,fontSize:"",fontWeight:"",fontFamily:"",fontSrc:""}}},axis:{title:{font:{color:"#c6d0e8",fontSettings:{autoFontSettings:!0,fontSize:"",fontWeight:"",fontFamily:"",fontSrc:""}}},label:{font:{color:"#c6d0e8",fontSettings:{autoFontSettings:!0,fontSize:"",fontWeight:"",fontFamily:"",fontSrc:""}}}},dataLabel:{font:{color:"#636363",fontSettings:{autoFontSettings:!0,fontSize:"",fontWeight:"",fontFamily:"",fontSrc:""}}},fillColor:"#f6727f",emptyFillColor:"#282f40",legend:{font:{color:"#e5ebf8",fontSettings:{autoFontSettings:!0,fontSize:"",fontWeight:"",fontFamily:"",fontSrc:""}}}},treeMap:{widgetHeader:{title:{color:"#1E1E1E",fontSettings:{autoFontSettings:!0,fontSize:"",fontWeight:"",fontFamily:"",fontSrc:""}},subTitle:{color:"#1E1E1E",fontSettings:{autoFontSettings:!0,fontSize:"",fontWeight:"",fontFamily:"",fontSrc:""}}},dataLabel:{font:{color:"#1E1E1E",fontSettings:{autoFontSettings:!0,fontSize:"",fontWeight:"",fontFamily:"",fontSrc:""}}},legend:{font:{color:"#e5ebf8",fontSettings:{autoFontSettings:!0,fontSize:"",fontWeight:"",fontFamily:"",fontSrc:""}}},legendTitle:{title:{font:{fontSettings:{autoFontSettings:!0,fontSize:"",fontWeight:"",fontFamily:""}}}},fillColor:"#f6727f"},listbox:{widgetHeader:{title:{color:"#1E1E1E",fontSettings:{autoFontSettings:!0,fontSize:"",fontWeight:"",fontFamily:"",fontSrc:""}},subTitle:{color:"#1E1E1E",fontSettings:{autoFontSettings:!0,fontSize:"",fontWeight:"",fontFamily:"",fontSrc:""}}},dropDownList:{background:"#202635",borderColor:"#505a71",font:{color:"#e5ebf8",fontSettings:{autoFontSettings:!0,fontSize:"",fontWeight:"",fontFamily:"",fontSrc:""}},hover:{background:"#3e4658",font:{color:"#e5ebf8",fontSettings:{autoFontSettings:!0,fontSize:"",fontWeight:"",fontFamily:"",fontSrc:""}}},selection:{background:"#0565ff",font:{color:"#ffffff",fontSettings:{autoFontSettings:!0,fontSize:"",fontWeight:"",fontFamily:"",fontSrc:""}}},downArrowColor:"#cbd2e0"},checkbox:{tickColor:"#ffffff",uncheckedBackground:"#2d3546",uncheckedBorder:"#77839e",checkedBackground:"#0565ff",checkedBorder:"#0450cc"}},combobox:{widgetHeader:{title:{color:"#1E1E1E",fontSettings:{autoFontSettings:!0,fontSize:"",fontWeight:"",fontFamily:"",fontSrc:""}},subTitle:{color:"#1E1E1E",fontSettings:{autoFontSettings:!0,fontSize:"",fontWeight:"",fontFamily:"",fontSrc:""}}},borderColor:"#a7b2c7",placeHolderTextColor:"#e5ebf8",boxShadow:"#0000001a",dropDownList:{background:"#2d3546",borderColor:"#505a71",font:{color:"#e5ebf8",fontSettings:{autoFontSettings:!0,fontSize:"",fontWeight:"",fontFamily:"",fontSrc:""}},hover:{background:"#3e4658",font:{color:"#e5ebf8",fontSettings:{autoFontSettings:!0,fontSize:"",fontWeight:"",fontFamily:"",fontSrc:""}}},selection:{background:"#0565ff",font:{color:"#ffffff",fontSettings:{autoFontSettings:!0,fontSize:"",fontWeight:"",fontFamily:"",fontSrc:""}}},downArrowColor:"#cbd2e0"},checkbox:{tickColor:"#ffffff",uncheckedBackground:"#2d3546",uncheckedBorder:"#77839e",checkedBackground:"#0565ff",checkedBorder:"#0450cc"}},dategroup:{widgetHeader:{title:{color:"#1E1E1E",fontSettings:{autoFontSettings:!0,fontSize:"",fontWeight:"",fontFamily:"",fontSrc:""}},subTitle:{color:"#1E1E1E",fontSettings:{autoFontSettings:!0,fontSize:"",fontWeight:"",fontFamily:"",fontSrc:""}}},borderColor:"#a7b2c7",placeHolderTextColor:"#e5ebf8",boxShadow:"#0000001a",dropDownList:{background:"#2d3546",borderColor:"#505a71",font:{color:"#e5ebf8",fontSettings:{autoFontSettings:!0,fontSize:"",fontWeight:"",fontFamily:"",fontSrc:""}},hover:{background:"#3e4658",font:{color:"#e5ebf8",fontSettings:{autoFontSettings:!0,fontSize:"",fontWeight:"",fontFamily:"",fontSrc:""}}},selection:{background:"#0565ff",font:{color:"#ffffff",fontSettings:{autoFontSettings:!0,fontSize:"",fontWeight:"",fontFamily:"",fontSrc:""}}},downArrowColor:"#cbd2e0"},checkbox:{tickColor:"#ffffff",uncheckedBackground:"#2d3546",uncheckedBorder:"#77839e",checkedBackground:"#0565ff",checkedBorder:"#0450cc"}},rangeSlider:{widgetHeader:{title:{color:"#1E1E1E",fontSettings:{autoFontSettings:!0,fontSize:"",fontWeight:"",fontFamily:"",fontSrc:""}},subTitle:{color:"#1E1E1E",fontSettings:{autoFontSettings:!0,fontSize:"",fontWeight:"",fontFamily:"",fontSrc:""}}},sliderBackground:"#465168",rangeColor:"#826AF9",handle:{background:"#202635",border:"#826AF9"},label:{background:"#212634",font:{color:"#c6d0e8",fontSettings:{autoFontSettings:!0,fontSize:"",fontWeight:"",fontFamily:"",fontSrc:""}}}},rangeNavigator:{widgetHeader:{title:{color:"#1E1E1E",fontSettings:{autoFontSettings:!0,fontSize:"",fontWeight:"",fontFamily:"",fontSrc:""}},subTitle:{color:"#1E1E1E",fontSettings:{autoFontSettings:!0,fontSize:"",fontWeight:"",fontFamily:"",fontSrc:""}}},background:"#212634",border:"#3e4658",selectedRegionColor:"#212634",unselectedRegionColor:"#232a3b",content:{color:"#e5ebf8",fontSettings:{autoFontSettings:!0,fontSize:"",fontWeight:"",fontFamily:"",fontSrc:""}}},textfilter:{widgetHeader:{title:{color:"#1E1E1E",fontSettings:{autoFontSettings:!0,fontSize:"",fontWeight:"",fontFamily:"",fontSrc:""}},subTitle:{color:"#1E1E1E",fontSettings:{autoFontSettings:!0,fontSize:"",fontWeight:"",fontFamily:"",fontSrc:""}}},borderColor:"#a7b2c7",placeHolderTextColor:"#e5ebf8",boxShadow:"#0000001a",background:"",font:{color:"#e5ebf8",fontSettings:{autoFontSettings:!0,fontSize:"",fontWeight:"",fontFamily:"",fontSrc:""}}},datepicker:{widgetHeader:{title:{color:"#1E1E1E",fontSettings:{autoFontSettings:!0,fontSize:"",fontWeight:"",fontFamily:"",fontSrc:""}},subTitle:{color:"#1E1E1E",fontSettings:{autoFontSettings:!0,fontSize:"",fontWeight:"",fontFamily:"",fontSrc:""}}},textBoxBorder:"#a7b2c7",placeHolderTextColor:"#e5ebf8",boxShadow:"#0000001a",textBox:{background:"#212634",font:{color:"#97a5c5",fontSettings:{autoFontSettings:!0,fontSize:"",fontWeight:"",fontFamily:"",fontSrc:""}}},calendar:{background:"#2d3546",calenderBorderColor:"#505a71",borderColor:"#505a71",weekHeader:{background:"#2d3546",font:{color:"#c6d0e8",fontSettings:{autoFontSettings:!0,fontSize:"",fontWeight:"",fontFamily:"",fontSrc:""}}},availableDates:{borderColor:"#505a71",background:"#2d3546",font:{color:"#e5ebf8",fontSettings:{autoFontSettings:!0,fontSize:"",fontWeight:"",fontFamily:"",fontSrc:""}},hover:{background:"#485166",font:{color:"#e5ebf8",fontSettings:{autoFontSettings:!0,fontSize:"",fontWeight:"",fontFamily:"",fontSrc:""}}},selection:{background:"#0565ff",font:{color:"#e5ebf8",fontSettings:{autoFontSettings:!0,fontSize:"",fontWeight:"",fontFamily:"",fontSrc:""}}},downArrowColor:"#cbd2e0"},unavailableDays:{background:"#2d3546",font:{color:"#97a5c5",fontSettings:{autoFontSettings:!0,fontSize:"",fontWeight:"",fontFamily:"",fontSrc:""}}},otherMonthDays:{background:"#2d3546",font:{color:"#e1e1e1",fontSettings:{autoFontSettings:!0,fontSize:"",fontWeight:"",fontFamily:"",fontSrc:""}}},icon:{font:{color:"#c6d0e8",fontSettings:{autoFontSettings:!0,fontSize:"",fontWeight:"",fontFamily:"",fontSrc:""}},hover:{background:"",font:{color:"",fontSettings:{autoFontSettings:!0,fontSize:"",fontWeight:"",fontFamily:"",fontSrc:""}}}},footerBackground:"",cancelButton:{background:"#485166",font:{color:"#e5ebf8",fontSettings:{autoFontSettings:!0,fontSize:"",fontWeight:"",fontFamily:"",fontSrc:""}},press:{background:"#636e87",font:{color:"#e5ebf8",fontSettings:{autoFontSettings:!0,fontSize:"",fontWeight:"",fontFamily:"",fontSrc:""}}},hover:{background:"#636e87",font:{color:"#e5ebf8",fontSettings:{autoFontSettings:!0,fontSize:"",fontWeight:"",fontFamily:"",fontSrc:""}}}},okButton:{background:"#0565ff",font:{color:"#ffffff",fontSettings:{autoFontSettings:!0,fontSize:"",fontWeight:"",fontFamily:"",fontSrc:""}},press:{background:"#0655d4",font:{color:"#e5ebf8",fontSettings:{autoFontSettings:!0,fontSize:"",fontWeight:"",fontFamily:"",fontSrc:""}}},hover:{background:"#0655d4",font:{color:"#e5ebf8",fontSettings:{autoFontSettings:!0,fontSize:"",fontWeight:"",fontFamily:"",fontSrc:""}}}}}},kpiCard:{widgetHeader:{title:{color:"#1E1E1E",fontSettings:{autoFontSettings:!0,fontSize:"",fontWeight:"",fontFamily:"",fontSrc:""}},subTitle:{color:"#1E1E1E",fontSettings:{autoFontSettings:!0,fontSize:"",fontWeight:"",fontFamily:"",fontSrc:""}}},border:"#555961",leftLabel:{color:"#97a5c5",fontSettings:{autoFontSettings:!0,fontSize:"",fontWeight:"",fontFamily:"",fontSrc:""}},leftValue:{color:"#97a5c5",fontSettings:{autoFontSettings:!0,fontSize:"",fontWeight:"",fontFamily:"",fontSrc:""}},rightLabel:{color:"#97a5c5",fontSettings:{autoFontSettings:!0,fontSize:"",fontWeight:"",fontFamily:"",fontSrc:""}},rightValue:{color:"#97a5c5",fontSettings:{autoFontSettings:!0,fontSize:"",fontWeight:"",fontFamily:"",fontSrc:""}},kpiValue:{color:"#97a5c5",fontSettings:{autoFontSettings:!0,fontSize:"",fontWeight:"",fontFamily:"",fontSrc:""}},separatorColor:"#97a5c5",sparkLine:{background:"#494d57",opacity:"1"},title:{color:"#c6d0e8",fontSettings:{autoFontSettings:!0,fontSize:"",fontWeight:"",fontFamily:"",fontSrc:""}}},numberCard:{widgetHeader:{title:{color:"#1E1E1E",fontSettings:{autoFontSettings:!0,fontSize:"",fontWeight:"",fontFamily:"",fontSrc:""}},subTitle:{color:"#1E1E1E",fontSettings:{autoFontSettings:!0,fontSize:"",fontWeight:"",fontFamily:"",fontSrc:""}}},border:"#555961",rightValue:{color:"#97a5c5",fontSettings:{autoFontSettings:!0,fontSize:"",fontWeight:"",fontFamily:"",fontSrc:""}},sparkLine:{background:"#4cd766",opacity:"0.2"},title:{color:"#c6d0e8",fontSettings:{autoFontSettings:!0,fontSize:"",fontWeight:"",fontFamily:"",fontSrc:""}}},grid:{widgetHeader:{title:{color:"#1E1E1E",fontSettings:{autoFontSettings:!0,fontSize:"",fontWeight:"",fontFamily:"",fontSrc:""}},subTitle:{color:"#1E1E1E",fontSettings:{autoFontSettings:!0,fontSize:"",fontWeight:"",fontFamily:"",fontSrc:""}}},content:{background:"#202635",font:{color:"#e5ebf8",fontSettings:{autoFontSettings:!0,fontSize:"",fontWeight:"",fontFamily:"",fontSrc:""}},hover:{background:"#3e4658",font:{color:"#e5ebf8",fontSettings:{autoFontSettings:!0,fontSize:"",fontWeight:"",fontFamily:"",fontSrc:""}}},selection:{background:"#465168",font:{color:"#e5ebf8",fontSettings:{autoFontSettings:!0,fontSize:"",fontWeight:"",fontFamily:"",fontSrc:""}}}},filterBar:{background:"#202635",border:"#505a71",font:{color:"#e5ebf8",fontSettings:{autoFontSettings:!0,fontSize:"",fontWeight:"",fontFamily:"",fontSrc:""}}},header:{background:"#313c50",font:{color:"#c6d0e8",fontSettings:{autoFontSettings:!0,fontSize:"",fontWeight:"",fontFamily:"",fontSrc:""}}}},pivotGrid:{widgetHeader:{title:{color:"#1E1E1E",fontSettings:{autoFontSettings:!0,fontSize:"",fontWeight:"",fontFamily:"",fontSrc:""}},subTitle:{color:"#1E1E1E",fontSettings:{autoFontSettings:!0,fontSize:"",fontWeight:"",fontFamily:"",fontSrc:""}}},border:"#505a71",content:{background:"#212634",font:{color:"#e5ebf8",fontSettings:{autoFontSettings:!0,fontSize:"",fontWeight:"",fontFamily:"",fontSrc:""}},hover:{background:"#3e4658",font:{color:"#e5ebf8",fontSettings:{autoFontSettings:!0,fontSize:"",fontWeight:"",fontFamily:"",fontSrc:""}}},selection:{background:"#465168",font:{color:"#e5ebf8",fontSettings:{autoFontSettings:!0,fontSize:"",fontWeight:"",fontFamily:"",fontSrc:""}}}},header:{background:"#282f40",font:{color:"#e5ebf8",fontSettings:{autoFontSettings:!0,fontSize:"",fontWeight:"",fontFamily:"",fontSrc:""}}},groupingButton:{background:"#485166",font:{color:"#e5ebf8",fontSettings:{autoFontSettings:!0,fontSize:"",fontWeight:"",fontFamily:"",fontSrc:""}},icon:{font:{color:"#c6d0e8",fontSettings:{autoFontSettings:!0,fontSize:"",fontWeight:"",fontFamily:"",fontSrc:""}},hover:{background:"#636e87",font:{color:"#e5ebf8",fontSettings:{autoFontSettings:!0,fontSize:"",fontWeight:"",fontFamily:"",fontSrc:""}}}}},groupingPanelBackground:"#282f40",filterDialog:{list:{borderColor:"#505a71",background:"#2d3546",font:{color:"#e5ebf8",fontSettings:{autoFontSettings:!0,fontSize:"",fontWeight:"",fontFamily:"",fontSrc:""}},hover:{background:"#3e4658",font:{color:"#e5ebf8",fontSettings:{autoFontSettings:!0,fontSize:"",fontWeight:"",fontFamily:"",fontSrc:""}}},selection:{background:"#0565ff",font:{color:"#ffffff",fontSettings:{autoFontSettings:!0,fontSize:"",fontWeight:"",fontFamily:"",fontSrc:""}}},downArrowColor:"#cbd2e0"},footerBackground:"#333c4e",cancelButton:{background:"#485166",font:{color:"#e5ebf8",fontSettings:{autoFontSettings:!0,fontSize:"",fontWeight:"",fontFamily:"",fontSrc:""}},press:{background:"#636e87",font:{color:"#e5ebf8",fontSettings:{autoFontSettings:!0,fontSize:"",fontWeight:"",fontFamily:"",fontSrc:""}}},hover:{background:"#636e87",font:{color:"#e5ebf8",fontSettings:{autoFontSettings:!0,fontSize:"",fontWeight:"",fontFamily:"",fontSrc:""}}}},okButton:{background:"#0565ff",font:{color:"#ffffff",fontSettings:{autoFontSettings:!0,fontSize:"",fontWeight:"",fontFamily:"",fontSrc:""}},press:{background:"#0655d4",font:{color:"#e5ebf8",fontSettings:{autoFontSettings:!0,fontSize:"",fontWeight:"",fontFamily:"",fontSrc:""}}},hover:{background:"#0655d4",font:{color:"#e5ebf8",fontSettings:{autoFontSettings:!0,fontSize:"",fontWeight:"",fontFamily:"",fontSrc:""}}}},header:{background:"#333c4e",font:{color:"#e5ebf8",fontSettings:{autoFontSettings:!0,fontSize:"",fontWeight:"",fontFamily:"",fontSrc:""}}}}},chart:{widgetHeader:{title:{color:"#1E1E1E",fontSettings:{autoFontSettings:!0,fontSize:"",fontWeight:"",fontFamily:"",fontSrc:""}},subTitle:{color:"#1E1E1E",fontSettings:{autoFontSettings:!0,fontSize:"",fontWeight:"",fontFamily:"",fontSrc:""}}},axis:{title:{font:{color:"#c6d0e8",fontSettings:{autoFontSettings:!0,fontSize:"",fontWeight:"",fontFamily:"",fontSrc:""}}},gridLines:{color:"#465168"},label:{font:{color:"#c6d0e8",fontSettings:{autoFontSettings:!0,fontSize:"",fontWeight:"",fontFamily:"",fontSrc:""}}},tickLines:{color:"#465168"}},dataLabel:{font:{color:"#c6d0e8",fontSettings:{autoFontSettings:!0,fontSize:"",fontWeight:"",fontFamily:"",fontSrc:""}}},legend:{font:{color:"#e5ebf8",fontSettings:{autoFontSettings:!0,fontSize:"",fontWeight:"",fontFamily:"",fontSrc:""}}},legendTitle:{title:{font:{fontSettings:{autoFontSettings:!0,fontSize:"",fontWeight:"",fontFamily:"",fontSrc:""}}}},markerColor:"#212634"},stackedChart:{dataLabel:{font:{color:"#c6d0e8"}}},comboChart:{widgetHeader:{title:{color:"#1E1E1E",fontSettings:{autoFontSettings:!0,fontSize:"",fontWeight:"",fontFamily:"",fontSrc:""}},subTitle:{color:"#1E1E1E",fontSettings:{autoFontSettings:!0,fontSize:"",fontWeight:"",fontFamily:"",fontSrc:""}}},axis:{title:{font:{color:"#c6d0e8",fontSettings:{autoFontSettings:!0,fontSize:"",fontWeight:"",fontFamily:"",fontSrc:""}}},gridLines:{color:"#465168"},label:{font:{color:"#c6d0e8",fontSettings:{autoFontSettings:!0,fontSize:"",fontWeight:"",fontFamily:"",fontSrc:""}}},tickLines:{color:"#465168"}},dataLabel:{font:{color:"#c6d0e8",fontSettings:{autoFontSettings:!0,fontSize:"",fontWeight:"",fontFamily:"",fontSrc:""}}},legend:{font:{color:"#e5ebf8",fontSettings:{autoFontSettings:!0,fontSize:"",fontWeight:"",fontFamily:"",fontSrc:""}}},legendTitle:{title:{font:{fontSettings:{autoFontSettings:!0,fontSize:"",fontWeight:"",fontFamily:"",fontSrc:""}}}},markerColor:"#212634"},circularGauge:{widgetHeader:{title:{color:"#1E1E1E",fontSettings:{autoFontSettings:!0,fontSize:"",fontWeight:"",fontFamily:"",fontSrc:""}},subTitle:{color:"#1E1E1E",fontSettings:{autoFontSettings:!0,fontSize:"",fontWeight:"",fontFamily:"",fontSrc:""}}},backBground:"#212634",needlePointerBackground:"#bbbcbb",rangePointerBackground:"#f6727f",scaleBackground:"#bbbcbb",targetPointerBackground:"#9A9A9A",label:{color:"#e2e2e2",fontSettings:{autoFontSettings:!0,fontSize:"",fontWeight:"",fontFamily:"",fontSrc:""}},title:{color:"#e5ebf8",fontSettings:{autoFontSettings:!0,fontSize:"",fontWeight:"",fontFamily:"",fontSrc:""}},value:{color:"#e2e2e2",fontSettings:{autoFontSettings:!0,fontSize:"",fontWeight:"",fontFamily:"",fontSrc:""}},differenceValue:{color:"",fontSettings:{autoFontSettings:!0,fontSize:"",fontWeight:"",fontFamily:"",fontSrc:""}}},radarPolar:{widgetHeader:{title:{color:"#1E1E1E",fontSettings:{autoFontSettings:!0,fontSize:"",fontWeight:"",fontFamily:"",fontSrc:""}},subTitle:{color:"#1E1E1E",fontSettings:{autoFontSettings:!0,fontSize:"",fontWeight:"",fontFamily:"",fontSrc:""}}},axis:{label:{font:{color:"#c6d0e8",fontSettings:{autoFontSettings:!0,fontSize:"",fontWeight:"",fontFamily:"",fontSrc:""}}},gridLines:{color:"#465168"},tickLines:{color:"#465168"}},dataLabel:{font:{color:"#c6d0e8",fontSettings:{autoFontSettings:!0,fontSize:"",fontWeight:"",fontFamily:"",fontSrc:""}}},legend:{font:{color:"#e5ebf8",fontSettings:{autoFontSettings:!0,fontSize:"",fontWeight:"",fontFamily:"",fontSrc:""}}},markerColor:"#212634"},rte:{content:{color:"#e5ebf8",fontSettings:{autoFontSettings:!0,fontWeight:"",fontFamily:"",fontSrc:""}}},bubbleScatter:{widgetHeader:{title:{color:"#1E1E1E",fontSettings:{autoFontSettings:!0,fontSize:"",fontWeight:"",fontFamily:"",fontSrc:""}},subTitle:{color:"#1E1E1E",fontSettings:{autoFontSettings:!0,fontSize:"",fontWeight:"",fontFamily:"",fontSrc:""}}},axis:{label:{font:{color:"#c6d0e8",fontSettings:{autoFontSettings:!0,fontSize:"",fontWeight:"",fontFamily:"",fontSrc:""}}},title:{font:{color:"#c6d0e8",fontSettings:{autoFontSettings:!0,fontSize:"",fontWeight:"",fontFamily:"",fontSrc:""}}},gridLines:{color:"#465168"}},dataLabel:{font:{color:"#c6d0e8",fontSettings:{autoFontSettings:!0,fontSize:"",fontWeight:"",fontFamily:"",fontSrc:""}}},legend:{font:{color:"#e5ebf8",fontSettings:{autoFontSettings:!0,fontSize:"",fontWeight:"",fontFamily:"",fontSrc:""}}},markerColor:"#212634"},pop:{widgetHeader:{title:{color:"#1E1E1E",fontSettings:{autoFontSettings:!0,fontSize:"",fontWeight:"",fontFamily:"",fontSrc:""}},subTitle:{color:"#1E1E1E",fontSettings:{autoFontSettings:!0,fontSize:"",fontWeight:"",fontFamily:"",fontSrc:""}}},widgetContainer:{dateRangeLabel:{font:{color:"#505D6F",fontSettings:{autoFontSettings:!0,fontSize:"",fontWeight:"",fontFamily:"",fontSrc:""}}},compareRangeLabel:{font:{color:"#505D6F",fontSettings:{autoFontSettings:!0,fontSize:"",fontWeight:"",fontFamily:"",fontSrc:""}}},vsLabel:{font:{color:"#505D6F",fontSettings:{autoFontSettings:!0,fontSize:"",fontWeight:"",fontFamily:"",fontSrc:""}}}},dialog:{headerBackground:"#181e2b",dateRange:{relativeHeader:{background:"#333842",label:{font:{color:"#ffffff",fontSettings:{autoFontSettings:!0,fontSize:"",fontWeight:"",fontFamily:"",fontSrc:""}}}},relativeLabel:{font:{color:"#e2e2e2",fontSettings:{autoFontSettings:!0,fontSize:"",fontWeight:"",fontFamily:"",fontSrc:""}}},relativeComboBox:{background:"#181e2b",textBox:{font:{color:"#ffffff",fontSettings:{autoFontSettings:!0,fontSize:"",fontWeight:"",fontFamily:"",fontSrc:""}}},popup:{background:"#181e2b",text:{font:{color:"#ffffff",fontSettings:{autoFontSettings:!0,fontSize:"",fontWeight:"",fontFamily:"",fontSrc:""}}}}},calender:{highlightColor:"#333842",selectionColor:"#0565ff",weekHeader:{font:{color:"#ffffff",fontSettings:{autoFontSettings:!0,fontSize:"",fontWeight:"",fontFamily:"",fontSrc:""}}},content:{hoverColor:"#7B838E",dateText:{font:{color:"#ffffff",fontSettings:{autoFontSettings:!0,fontSize:"",fontWeight:"",fontFamily:"",fontSrc:""}}}}}},compareRange:{relativeHeader:{background:"#333842",label:{font:{color:"#ffffff",fontSettings:{autoFontSettings:!0,fontSize:"",fontWeight:"",fontFamily:"",fontSrc:""}}}},relativeLabel:{font:{color:"#e2e2e2",fontSettings:{autoFontSettings:!0,fontSize:"",fontWeight:"",fontFamily:"",fontSrc:""}}},relativeComboBox:{background:"#181e2b",textBox:{font:{color:"#ffffff",fontSettings:{autoFontSettings:!0,fontSize:"",fontWeight:"",fontFamily:"",fontSrc:""}}},popup:{background:"#181e2b",text:{font:{color:"#ffffff",fontSettings:{autoFontSettings:!0,fontSize:"",fontWeight:"",fontFamily:"",fontSrc:""}}}}},calender:{highlightColor:"#333842",selectionColor:"#36c44e",weekHeader:{font:{color:"#ffffff",fontSettings:{autoFontSettings:!0,fontSize:"",fontWeight:"",fontFamily:"",fontSrc:""}}},content:{hoverColor:"#7B838E",dateText:{font:{color:"#ffffff",fontSettings:{autoFontSettings:!0,fontSize:"",fontWeight:"",fontFamily:"",fontSrc:""}}}}}},vsLabel:{font:{color:"ffffff",fontSettings:{autoFontSettings:!0,fontSize:"",fontWeight:"",fontFamily:"",fontSrc:""}}},footer:{footerBackground:"#333842",okButton:{background:"#0565ff",hoverColor:"#2e7eff",text:{font:{color:"#ffffff",fontSettings:{autoFontSettings:!0,fontSize:"",fontWeight:"",fontFamily:"",fontSrc:""}}}},cancelButton:{background:"#565F6A",hoverColor:"#7B838E",text:{font:{color:"ffffff",fontSettings:{autoFontSettings:!0,fontSize:"",fontWeight:"",fontFamily:"",fontSrc:""}}}}}}}},tooltip:{background:"#c6d0e8",font:{color:"#12161f",fontSettings:{autoFontSettings:!0,fontSize:"",fontWeight:"",fontFamily:"",fontSrc:""}},border:"#a2aec9"},menu:{background:"#2d3546",font:{color:"#e5ebf8",fontSettings:{autoFontSettings:!0,fontSize:"",fontWeight:"",fontFamily:"",fontSrc:""}},border:"#505a71",hover:{font:{color:"#e5ebf8",fontSettings:{autoFontSettings:!0,fontSize:"",fontWeight:"",fontFamily:"",fontSrc:""}},background:"#4a536b"}},alertDialgog:{footerBackground:"#333c4e",content:{background:"#2d3546",font:{color:"#c6d0e8",fontSettings:{autoFontSettings:!0,fontSize:"",fontWeight:"",fontFamily:"",fontSrc:""}}},error:{background:"#313a50",font:{color:"#e5ebf8",fontSettings:{autoFontSettings:!0,fontSize:"",fontWeight:"",fontFamily:"",fontSrc:""}}},header:{background:"#333c4e",font:{color:"#e5ebf8",fontSettings:{autoFontSettings:!0,fontSize:"",fontWeight:"",fontFamily:"",fontSrc:""}}},copyButton:{background:"#485166",font:{color:"#e5ebf8",fontSettings:{autoFontSettings:!0,fontSize:"",fontWeight:"",fontFamily:"",fontSrc:""}},press:{background:"#636e87",font:{color:"#e5ebf8",fontSettings:{autoFontSettings:!0,fontSize:"",fontWeight:"",fontFamily:"",fontSrc:""}}},hover:{background:"#636e87",font:{color:"#e5ebf8",fontSettings:{autoFontSettings:!0,fontSize:"",fontWeight:"",fontFamily:"",fontSrc:""}}}},okButton:{background:"#0565ff",font:{color:"#ffffff",fontSettings:{autoFontSettings:!0,fontSize:"",fontWeight:"",fontFamily:"",fontSrc:""}},press:{background:"#0655d4",font:{color:"#e5ebf8",fontSettings:{autoFontSettings:!0,fontSize:"",fontWeight:"",fontFamily:"",fontSrc:""}}},hover:{background:"#0655d4",font:{color:"#e5ebf8",fontSettings:{autoFontSettings:!0,fontSize:"",fontWeight:"",fontFamily:"",fontSrc:""}}}}},filterOverview:{background:"#2d3546",border:"#505a71",font:{color:"#e5ebf8",title:{color:"#e5ebf8",fontSettings:{autoFontSettings:!0,fontSize:"",fontWeight:"",fontFamily:"",fontSrc:""}},content:{widgetTitle:{color:"#e5ebf8",fontSettings:{autoFontSettings:!0,fontSize:"",fontWeight:"",fontFamily:"",fontSrc:""}},columnName:{color:"#aab7d4",fontSettings:{autoFontSettings:!0,fontSize:"",fontWeight:"",fontFamily:"",fontSrc:""}},values:{color:"#aab7d4",fontSettings:{autoFontSettings:!0,fontSize:"",fontWeight:"",fontFamily:"",fontSrc:""}}}},icon:{font:{color:"#aab7d4",fontSettings:{autoFontSettings:!0,fontSize:"",fontWeight:"",fontFamily:"",fontSrc:""}},hover:{background:"#4a536b",font:{color:"#e5ebf8",fontSettings:{autoFontSettings:!0,fontSize:"",fontWeight:"",fontFamily:"",fontSrc:""}}}}}};this.themesCollection=[];this.currentTheme=new n.Dashboard.ThemeTemplate;this.dashboardDesigner=t;this.bbdesigner$=this.dashboardDesigner.bbdesigner$}return t.prototype.getDefaultLightTheme=function(){return this.getJsonTheme("Light")},t.prototype.getDefaultDarkTheme=function(){return this.getJsonTheme("Dark")},t.prototype.getJsonTheme=function(n){return this.themesCollection.filter(function(t){return t.key.toUpperCase()===n.toUpperCase()})[0].value},t.prototype.setCurrentTheme=function(n){return this.currentTheme=JSON.parse(this.getJsonTheme(n))},t.prototype.getSurfaceContainerBackground=function(){return n.isNullOrUndefined(this.currentTheme)||n.DashboardUtil.IsStringNullorWhiteSpace(this.currentTheme.background)?this.isDarkTypeTheme()?this.darkMode.background:this.lightMode.background:this.currentTheme.background},t.prototype.getWaitingPopupBackground=function(){return n.isNullOrUndefined(this.currentTheme)||n.isNullOrUndefined(this.currentTheme.waitingIndicator)||n.DashboardUtil.IsStringNullorWhiteSpace(this.currentTheme.waitingIndicator.background)?this.isDarkTypeTheme()?this.darkMode.waitingIndicator.background:this.lightMode.waitingIndicator.background:this.currentTheme.waitingIndicator.background},t.prototype.getColorPalette=function(){return!n.isNullOrUndefined(this.currentTheme)&&!n.isNullOrUndefined(this.currentTheme.dataColorPalette)&&this.currentTheme.dataColorPalette.length>0?this.currentTheme.dataColorPalette:this.isDarkTypeTheme()?this.darkMode.dataColorPalette:this.lightMode.dataColorPalette},t.prototype.getFirstPaletteColor=function(){return n.DashboardUtil.IsStringNullorWhiteSpace(this.getColorPalette()[0])?this.isDarkTypeTheme()?this.darkMode.dataColorPalette[0]:this.lightMode.dataColorPalette[0]:this.getColorPalette()[0]},t.prototype.getThemeFontSize=function(){return n.isNullOrUndefined(this.currentTheme)||n.isNullOrUndefined(this.currentTheme.font)||n.isNullOrUndefined(this.currentTheme.font.fontSettings)?"":this.isAutoFontSetngThemeFont()||n.isNullOrUndefined(this.currentTheme.font.fontSettings.fontSize)||n.DashboardUtil.IsStringNullorWhiteSpace(this.currentTheme.font.fontSettings.fontSize)?"":this.currentTheme.font.fontSettings.fontSize},t.prototype.getThemeFontWeight=function(){return n.isNullOrUndefined(this.currentTheme)||n.isNullOrUndefined(this.currentTheme.font)||n.isNullOrUndefined(this.currentTheme.font.fontSettings)?"":this.isAutoFontSetngThemeFont()||n.isNullOrUndefined(this.currentTheme.font.fontSettings.fontWeight)||n.DashboardUtil.IsStringNullorWhiteSpace(this.currentTheme.font.fontSettings.fontWeight)?"":this.currentTheme.font.fontSettings.fontWeight},t.prototype.getThemeFontFamily=function(){return n.isNullOrUndefined(this.currentTheme)||n.isNullOrUndefined(this.currentTheme.font)||n.isNullOrUndefined(this.currentTheme.font.fontSettings)?"":this.isAutoFontSetngThemeFont()||n.isNullOrUndefined(this.currentTheme.font.fontSettings.fontFamily)||n.DashboardUtil.IsStringNullorWhiteSpace(this.currentTheme.font.fontSettings.fontFamily)?"":this.currentTheme.font.fontSettings.fontFamily},t.prototype.isAutoFontSetngThemeFont=function(){return n.isNullOrUndefined(this.currentTheme.font.fontSettings.autoFontSettings)||this.currentTheme.font.fontSettings.autoFontSettings},t.prototype.getFontPrpertyText=function(t,i,r,u,f){return n.isNullOrUndefined(t)||t?"":(i=n.isNullOrUndefined(i)||n.DashboardUtil.IsStringNullorWhiteSpace(i)?this.getThemeFontSize():i,r=n.isNullOrUndefined(r)||n.DashboardUtil.IsStringNullorWhiteSpace(r)?this.getThemeFontWeight():r,u=n.isNullOrUndefined(u)||n.DashboardUtil.IsStringNullorWhiteSpace(u)?this.getThemeFontFamily():u,this.updateFontSrcList(u,f),this.getFontStyleCssValue(i,r,u))},t.prototype.getIconFontPropertyText=function(t,i,r){return n.isNullOrUndefined(t)||t?"":(i=n.isNullOrUndefined(i)||n.DashboardUtil.IsStringNullorWhiteSpace(i)?this.getThemeFontSize():i,r=n.isNullOrUndefined(r)||n.DashboardUtil.IsStringNullorWhiteSpace(r)?this.getThemeFontWeight():r,this.getFontStyleCssValue(i,r))},t.prototype.getFontStyleCssValue=function(t,i,r){var u="";return n.isNullOrUndefined(t)||n.DashboardUtil.IsStringNullorWhiteSpace(t)||(u=u+"\n\tfont-size: "+t+" !important;"),n.isNullOrUndefined(i)||n.DashboardUtil.IsStringNullorWhiteSpace(i)||(u=u+"\n\tfont-weight: "+i+" !important;"),n.isNullOrUndefined(r)||n.DashboardUtil.IsStringNullorWhiteSpace(r)||(u=u+"\n\tfont-family: "+r+" !important;"),u},t.prototype.fetchThemeFontSrc=function(){this.fontSrcList=[];n.isNullOrUndefined(this.currentTheme)||n.isNullOrUndefined(this.currentTheme.font)||n.isNullOrUndefined(this.currentTheme.font.fontSettings)||this.isAutoFontSetngThemeFont()||this.updateFontSrcList(this.currentTheme.font.fontSettings.fontFamily,this.currentTheme.font.fontSettings.fontSrc)},t.prototype.updateFontSrcList=function(t,i){n.isNullOrUndefined(t)||n.DashboardUtil.IsStringNullorWhiteSpace(t)||n.isNullOrUndefined(i)||n.DashboardUtil.IsStringNullorWhiteSpace(i)||this.fontSrcList.filter(function(n){return n.key===t}).length!==0||this.fontSrcList.push({key:t,value:i})},t.prototype.updateMaxValueIfSizeExceeds=function(t,i){if(n.isNullOrUndefined(t)||n.DashboardUtil.IsStringNullorWhiteSpace(t))return"";t=t.trim();var u=window.parseFloat(t,10),f=t.split(" "),e=f[0].substring(u.toString().length),r=void 0;switch(e){case"px":r=u>i?i+"px":t;break;case"pt":r=u*.75>i?i+"px":t;break;case"em":r=u*.0625>i?i+"px":t;break;case"rem":r=u*.06225>i?i+"px":t;break;default:r=t}return r},t.prototype.getBannerBackground=function(){return n.isNullOrUndefined(this.currentTheme)||n.isNullOrUndefined(this.currentTheme.banner)||n.DashboardUtil.IsStringNullorWhiteSpace(this.currentTheme.banner.background)?this.isDarkTypeTheme()?this.darkMode.banner.background:this.lightMode.banner.background:this.currentTheme.banner.background},t.prototype.isDarkTypeTheme=function(){return n.isNullOrUndefined(this.currentTheme)||n.isNullOrUndefined(this.currentTheme.type)?!1:this.currentTheme.type===n.Designer.theme.dark},t.prototype.getBannerTextColor=function(){return n.isNullOrUndefined(this.currentTheme)||n.isNullOrUndefined(this.currentTheme.banner)||n.isNullOrUndefined(this.currentTheme.banner.textStyle)||n.DashboardUtil.IsStringNullorWhiteSpace(this.currentTheme.banner.textStyle.color)?this.isDarkTypeTheme()?this.darkMode.banner.textStyle.color:this.lightMode.banner.textStyle.color:this.currentTheme.banner.textStyle.color},t.prototype.getBannerIconColor=function(){return n.isNullOrUndefined(this.currentTheme)||n.isNullOrUndefined(this.currentTheme.banner)||n.isNullOrUndefined(this.currentTheme.banner.icon)||n.isNullOrUndefined(this.currentTheme.banner.icon.font)||n.DashboardUtil.IsStringNullorWhiteSpace(this.currentTheme.banner.icon.font.color)?this.isDarkTypeTheme()?this.darkMode.banner.icon.font.color:this.lightMode.banner.icon.font.color:this.currentTheme.banner.icon.font.color},t.prototype.getBannerIconHoverTextColor=function(){return n.isNullOrUndefined(this.currentTheme)||n.isNullOrUndefined(this.currentTheme.banner)||n.isNullOrUndefined(this.currentTheme.banner.icon)||n.isNullOrUndefined(this.currentTheme.banner.icon.hover)||n.isNullOrUndefined(this.currentTheme.banner.icon.hover.font)||n.DashboardUtil.IsStringNullorWhiteSpace(this.currentTheme.banner.icon.hover.font.color)?this.isDarkTypeTheme()?this.darkMode.banner.icon.hover.font.color:this.lightMode.banner.icon.hover.font.color:this.currentTheme.banner.icon.hover.font.color},t.prototype.getBannerIconHoverBackground=function(){return n.isNullOrUndefined(this.currentTheme)||n.isNullOrUndefined(this.currentTheme.banner)||n.isNullOrUndefined(this.currentTheme.banner.icon)||n.isNullOrUndefined(this.currentTheme.banner.icon.hover)||n.DashboardUtil.IsStringNullorWhiteSpace(this.currentTheme.banner.icon.hover.background)?this.isDarkTypeTheme()?this.darkMode.banner.icon.hover.background:this.lightMode.banner.icon.hover.background:this.currentTheme.banner.icon.hover.background},t.prototype.isAutoFontSetngBannerFont=function(){return n.isNullOrUndefined(this.currentTheme.banner.textStyle.fontSettings.autoFontSettings)||this.currentTheme.banner.textStyle.fontSettings.autoFontSettings},t.prototype.getBannerFontSize=function(){var t;return t=n.isNullOrUndefined(this.currentTheme)||n.isNullOrUndefined(this.currentTheme.banner)||n.isNullOrUndefined(this.currentTheme.banner.textStyle)||n.isNullOrUndefined(this.currentTheme.banner.textStyle.fontSettings)?this.getThemeFontSize():this.isAutoFontSetngBannerFont()?"":!n.isNullOrUndefined(this.currentTheme.banner.textStyle.fontSettings.fontSize)&&!n.DashboardUtil.IsStringNullorWhiteSpace(this.currentTheme.banner.textStyle.fontSettings.fontSize)?this.currentTheme.banner.textStyle.fontSettings.fontSize:this.getThemeFontSize(),this.updateMaxValueIfSizeExceeds(t,MaximumFontValues.dashboardTitle)},t.prototype.getBannerFontWeight=function(){return n.isNullOrUndefined(this.currentTheme)||n.isNullOrUndefined(this.currentTheme.banner)||n.isNullOrUndefined(this.currentTheme.banner.textStyle)||n.isNullOrUndefined(this.currentTheme.banner.textStyle.fontSettings)?this.getThemeFontWeight():this.isAutoFontSetngBannerFont()?"":!n.isNullOrUndefined(this.currentTheme.banner.textStyle.fontSettings.fontWeight)&&!n.DashboardUtil.IsStringNullorWhiteSpace(this.currentTheme.banner.textStyle.fontSettings.fontWeight)?this.currentTheme.banner.textStyle.fontSettings.fontWeight:this.getThemeFontWeight()},t.prototype.getBannerFontFamily=function(){return n.isNullOrUndefined(this.currentTheme)||n.isNullOrUndefined(this.currentTheme.banner)||n.isNullOrUndefined(this.currentTheme.banner.textStyle)||n.isNullOrUndefined(this.currentTheme.banner.textStyle.fontSettings)?this.getThemeFontFamily():this.isAutoFontSetngBannerFont()?"":(this.updateFontSrcList(this.currentTheme.banner.textStyle.fontSettings.fontFamily,this.currentTheme.banner.textStyle.fontSettings.fontSrc),!n.isNullOrUndefined(this.currentTheme.banner.textStyle.fontSettings.fontFamily)&&!n.DashboardUtil.IsStringNullorWhiteSpace(this.currentTheme.banner.textStyle.fontSettings.fontFamily)?this.currentTheme.banner.textStyle.fontSettings.fontFamily:this.getThemeFontFamily())},t.prototype.isAutoFontSetngBannerIconFont=function(){return n.isNullOrUndefined(this.currentTheme.banner.icon.font.fontSettings.autoFontSettings)||this.currentTheme.banner.icon.font.fontSettings.autoFontSettings},t.prototype.getBannerIconFontSize=function(){var t;return t=n.isNullOrUndefined(this.currentTheme)||n.isNullOrUndefined(this.currentTheme.banner)||n.isNullOrUndefined(this.currentTheme.banner.icon)||n.isNullOrUndefined(this.currentTheme.banner.icon.font)||n.isNullOrUndefined(this.currentTheme.banner.icon.font.fontSettings)?this.getThemeFontSize():this.isAutoFontSetngBannerIconFont()?"":!n.isNullOrUndefined(this.currentTheme.banner.icon.font.fontSettings.fontSize)&&!n.DashboardUtil.IsStringNullorWhiteSpace(this.currentTheme.banner.icon.font.fontSettings.fontSize)?this.currentTheme.banner.icon.font.fontSettings.fontSize:this.getThemeFontSize(),this.updateMaxValueIfSizeExceeds(t,MaximumFontValues.bannerIcon)},t.prototype.getBannerIconFontWeight=function(){return n.isNullOrUndefined(this.currentTheme)||n.isNullOrUndefined(this.currentTheme.banner)||n.isNullOrUndefined(this.currentTheme.banner.icon)||n.isNullOrUndefined(this.currentTheme.banner.icon.font)||n.isNullOrUndefined(this.currentTheme.banner.icon.font.fontSettings)?this.getThemeFontWeight():this.isAutoFontSetngBannerIconFont()?"":!n.isNullOrUndefined(this.currentTheme.banner.icon.font.fontSettings.fontWeight)&&!n.DashboardUtil.IsStringNullorWhiteSpace(this.currentTheme.banner.icon.font.fontSettings.fontWeight)?this.currentTheme.banner.icon.font.fontSettings.fontWeight:this.getThemeFontWeight()},t.prototype.isAutoFontSetngBannerIconHoverFont=function(){return n.isNullOrUndefined(this.currentTheme.banner.icon.hover.font.fontSettings.autoFontSettings)||this.currentTheme.banner.icon.hover.font.fontSettings.autoFontSettings},t.prototype.getBannerIconHoverFontSize=function(){var t;return t=n.isNullOrUndefined(this.currentTheme)||n.isNullOrUndefined(this.currentTheme.banner)||n.isNullOrUndefined(this.currentTheme.banner.icon)||n.isNullOrUndefined(this.currentTheme.banner.icon.hover)||n.isNullOrUndefined(this.currentTheme.banner.icon.hover.font)||n.isNullOrUndefined(this.currentTheme.banner.icon.hover.font.fontSettings)?this.getThemeFontSize():this.isAutoFontSetngBannerIconHoverFont()?"":!n.isNullOrUndefined(this.currentTheme.banner.icon.hover.font.fontSettings.fontSize)&&!n.DashboardUtil.IsStringNullorWhiteSpace(this.currentTheme.banner.icon.hover.font.fontSettings.fontSize)?this.currentTheme.banner.icon.hover.font.fontSettings.fontSize:this.getThemeFontSize(),this.updateMaxValueIfSizeExceeds(t,MaximumFontValues.bannerIcon)},t.prototype.getBannerIconTextFontFamily=function(){var t;return n.isNullOrUndefined(this.currentTheme)||n.isNullOrUndefined(this.currentTheme.banner)||n.isNullOrUndefined(this.currentTheme.banner.icon)||n.isNullOrUndefined(this.currentTheme.banner.icon.font)||n.isNullOrUndefined(this.currentTheme.banner.icon.font.fontSettings)?t=this.getThemeFontFamily():this.isAutoFontSetngBannerIconFont()?t="":(this.updateFontSrcList(this.currentTheme.banner.icon.font.fontSettings.fontFamily,this.currentTheme.banner.icon.font.fontSettings.fontSrc),t=!n.isNullOrUndefined(this.currentTheme.banner.icon.font.fontSettings.fontFamily)&&!n.DashboardUtil.IsStringNullorWhiteSpace(this.currentTheme.banner.icon.font.fontSettings.fontFamily)?this.currentTheme.banner.icon.font.fontSettings.fontFamily:this.getThemeFontFamily()),this.getFontStyleCssValue(null,null,t)},t.prototype.getBannerIconTextHoverFontFamily=function(){var t;return n.isNullOrUndefined(this.currentTheme)||n.isNullOrUndefined(this.currentTheme.banner)||n.isNullOrUndefined(this.currentTheme.banner.icon)||n.isNullOrUndefined(this.currentTheme.banner.icon.hover)||n.isNullOrUndefined(this.currentTheme.banner.icon.hover.font)||n.isNullOrUndefined(this.currentTheme.banner.icon.hover.font.fontSettings)?t=this.getThemeFontFamily():this.isAutoFontSetngBannerIconHoverFont()?t="":(this.updateFontSrcList(this.currentTheme.banner.icon.hover.font.fontSettings.fontFamily,this.currentTheme.banner.icon.hover.font.fontSettings.fontSrc),t=!n.isNullOrUndefined(this.currentTheme.banner.icon.hover.font.fontSettings.fontFamily)&&!n.DashboardUtil.IsStringNullorWhiteSpace(this.currentTheme.banner.icon.hover.font.fontSettings.fontFamily)?this.currentTheme.banner.icon.hover.font.fontSettings.fontFamily:this.getThemeFontFamily()),this.getFontStyleCssValue(null,null,t)},t.prototype.getBannerIconHoverFontWeight=function(){return n.isNullOrUndefined(this.currentTheme)||n.isNullOrUndefined(this.currentTheme.banner)||n.isNullOrUndefined(this.currentTheme.banner.icon)||n.isNullOrUndefined(this.currentTheme.banner.icon.font)||n.isNullOrUndefined(this.currentTheme.banner.icon.hover.font)||n.isNullOrUndefined(this.currentTheme.banner.icon.hover.font.fontSettings)?this.getThemeFontWeight():this.isAutoFontSetngBannerIconHoverFont()?"":!n.isNullOrUndefined(this.currentTheme.banner.icon.hover.font.fontSettings.fontWeight)&&!n.DashboardUtil.IsStringNullorWhiteSpace(this.currentTheme.banner.icon.hover.font.fontSettings.fontWeight)?this.currentTheme.banner.icon.hover.font.fontSettings.fontWeight:this.getThemeFontWeight()},t.prototype.getTooltipBackground=function(){return n.isNullOrUndefined(this.currentTheme)||n.isNullOrUndefined(this.currentTheme.tooltip)||n.DashboardUtil.IsStringNullorWhiteSpace(this.currentTheme.tooltip.background)?this.isDarkTypeTheme()?this.darkMode.tooltip.background:this.lightMode.tooltip.background:this.currentTheme.tooltip.background},t.prototype.getTooltipTextColor=function(){return n.isNullOrUndefined(this.currentTheme)||n.isNullOrUndefined(this.currentTheme.tooltip)||n.isNullOrUndefined(this.currentTheme.tooltip.font)||n.DashboardUtil.IsStringNullorWhiteSpace(this.currentTheme.tooltip.font.color)?this.isDarkTypeTheme()?this.darkMode.tooltip.font.color:this.lightMode.tooltip.font.color:this.currentTheme.tooltip.font.color},t.prototype.getTooltipBorder=function(){return n.isNullOrUndefined(this.currentTheme)||n.isNullOrUndefined(this.currentTheme.tooltip)||n.DashboardUtil.IsStringNullorWhiteSpace(this.currentTheme.tooltip.border)?this.isDarkTypeTheme()?this.darkMode.tooltip.border:this.lightMode.tooltip.border:this.currentTheme.tooltip.border},t.prototype.getToolTipFontText=function(){var t=this.getThemeFontSize(),i=this.getThemeFontWeight(),r=this.getThemeFontFamily();return n.isNullOrUndefined(this.currentTheme)||n.isNullOrUndefined(this.currentTheme.tooltip)||n.isNullOrUndefined(this.currentTheme.tooltip.font)||n.isNullOrUndefined(this.currentTheme.tooltip.font.fontSettings)||n.isNullOrUndefined(this.currentTheme.tooltip.font.fontSettings.autoFontSettings)||this.currentTheme.tooltip.font.fontSettings.autoFontSettings||(t=n.isNullOrUndefined(this.currentTheme.tooltip.font.fontSettings.fontSize)||n.DashboardUtil.IsStringNullorWhiteSpace(this.currentTheme.tooltip.font.fontSettings.fontSize)?t:this.currentTheme.tooltip.font.fontSettings.fontSize,i=n.isNullOrUndefined(this.currentTheme.tooltip.font.fontSettings.fontWeight)||n.DashboardUtil.IsStringNullorWhiteSpace(this.currentTheme.tooltip.font.fontSettings.fontWeight)?i:this.currentTheme.tooltip.font.fontSettings.fontWeight,r=n.isNullOrUndefined(this.currentTheme.tooltip.font.fontSettings.fontFamily)||n.DashboardUtil.IsStringNullorWhiteSpace(this.currentTheme.tooltip.font.fontSettings.fontFamily)?r:this.currentTheme.tooltip.font.fontSettings.fontFamily,this.updateFontSrcList(this.currentTheme.tooltip.font.fontSettings.fontFamily,this.currentTheme.tooltip.font.fontSettings.fontSrc)),{size:t,weight:i,family:r}},t.prototype.getMenuBackground=function(){return n.isNullOrUndefined(this.currentTheme)||n.isNullOrUndefined(this.currentTheme.menu)||n.DashboardUtil.IsStringNullorWhiteSpace(this.currentTheme.menu.background)?this.isDarkTypeTheme()?this.darkMode.menu.background:this.lightMode.menu.background:this.currentTheme.menu.background},t.prototype.getMenuTextColor=function(){return n.isNullOrUndefined(this.currentTheme)||n.isNullOrUndefined(this.currentTheme.menu)||n.isNullOrUndefined(this.currentTheme.menu.font)||n.DashboardUtil.IsStringNullorWhiteSpace(this.currentTheme.menu.font.color)?this.isDarkTypeTheme()?this.darkMode.menu.font.color:this.lightMode.menu.font.color:this.currentTheme.menu.font.color},t.prototype.getMenuBorderColor=function(){return n.isNullOrUndefined(this.currentTheme)||n.isNullOrUndefined(this.currentTheme.menu)||n.DashboardUtil.IsStringNullorWhiteSpace(this.currentTheme.menu.border)?this.isDarkTypeTheme()?this.darkMode.menu.border:this.lightMode.menu.border:this.currentTheme.menu.border},t.prototype.getMenuHoverBackground=function(){return n.isNullOrUndefined(this.currentTheme)||n.isNullOrUndefined(this.currentTheme.menu)||n.isNullOrUndefined(this.currentTheme.menu.hover)||n.DashboardUtil.IsStringNullorWhiteSpace(this.currentTheme.menu.hover.background)?this.isDarkTypeTheme()?this.darkMode.menu.hover.background:this.lightMode.menu.hover.background:this.currentTheme.menu.hover.background},t.prototype.getMenuHoverTextColor=function(){return n.isNullOrUndefined(this.currentTheme)||n.isNullOrUndefined(this.currentTheme.menu)||n.isNullOrUndefined(this.currentTheme.menu.hover)||n.isNullOrUndefined(this.currentTheme.menu.hover.font)||n.DashboardUtil.IsStringNullorWhiteSpace(this.currentTheme.menu.hover.font.color)?this.isDarkTypeTheme()?this.darkMode.menu.hover.font.color:this.lightMode.menu.hover.font.color:this.currentTheme.menu.hover.font.color},t.prototype.getMenuFontSizeAndWeightText=function(){return n.isNullOrUndefined(this.currentTheme)||n.isNullOrUndefined(this.currentTheme.menu)||n.isNullOrUndefined(this.currentTheme.menu.font)||n.isNullOrUndefined(this.currentTheme.menu.font.fontSettings)?this.getFontStyleCssValue(this.getThemeFontSize(),this.getThemeFontWeight(),null):this.getIconFontPropertyText(this.currentTheme.menu.font.fontSettings.autoFontSettings,this.updateMaxValueIfSizeExceeds(this.currentTheme.menu.font.fontSettings.fontSize,MaximumFontValues.menuFont),this.currentTheme.menu.font.fontSettings.fontWeight)},t.prototype.getMenuFontFamilyText=function(){if(n.isNullOrUndefined(this.currentTheme)||n.isNullOrUndefined(this.currentTheme.menu)||n.isNullOrUndefined(this.currentTheme.menu.font)||n.isNullOrUndefined(this.currentTheme.menu.font.fontSettings)||n.isNullOrUndefined(this.currentTheme.menu.font.fontSettings.autoFontSettings))return this.getFontStyleCssValue(null,null,this.getThemeFontFamily());var t=!this.currentTheme.menu.font.fontSettings.autoFontSettings&&!n.isNullOrUndefined(this.currentTheme.menu.font.fontSettings.fontFamily)&&!n.DashboardUtil.IsStringNullorWhiteSpace(this.currentTheme.menu.font.fontSettings.fontFamily)?this.currentTheme.menu.font.fontSettings.fontFamily:this.getThemeFontFamily();return this.updateFontSrcList(t,this.currentTheme.menu.font.fontSettings.fontSrc),this.getFontStyleCssValue(null,null,t)},t.prototype.getMenuHoverFontSizeAndWeightText=function(){return n.isNullOrUndefined(this.currentTheme)||n.isNullOrUndefined(this.currentTheme.menu)||n.isNullOrUndefined(this.currentTheme.menu.hover)||n.isNullOrUndefined(this.currentTheme.menu.hover.font)||n.isNullOrUndefined(this.currentTheme.menu.hover.font.fontSettings)?this.getFontStyleCssValue(this.getThemeFontSize(),this.getThemeFontWeight(),null):this.getIconFontPropertyText(this.currentTheme.menu.hover.font.fontSettings.autoFontSettings,this.updateMaxValueIfSizeExceeds(this.currentTheme.menu.hover.font.fontSettings.fontSize,MaximumFontValues.menuFont),this.currentTheme.menu.hover.font.fontSettings.fontWeight)},t.prototype.getMenuHoverFontFamilyText=function(){if(n.isNullOrUndefined(this.currentTheme)||n.isNullOrUndefined(this.currentTheme.menu)||n.isNullOrUndefined(this.currentTheme.menu.hover)||n.isNullOrUndefined(this.currentTheme.menu.hover.font)||n.isNullOrUndefined(this.currentTheme.menu.hover.font.fontSettings)||n.isNullOrUndefined(this.currentTheme.menu.hover.font.fontSettings.autoFontSettings))return this.getFontStyleCssValue(null,null,this.getThemeFontFamily());var t=!this.currentTheme.menu.hover.font.fontSettings.autoFontSettings&&!n.isNullOrUndefined(this.currentTheme.menu.hover.font.fontSettings.fontFamily)&&!n.DashboardUtil.IsStringNullorWhiteSpace(this.currentTheme.menu.hover.font.fontSettings.fontFamily)?this.currentTheme.menu.hover.font.fontSettings.fontFamily:this.getThemeFontFamily();return this.updateFontSrcList(t,this.currentTheme.menu.hover.font.fontSettings.fontSrc),this.getFontStyleCssValue(null,null,t)},t.prototype.getWidgetTileBackground=function(){return n.isNullOrUndefined(this.currentTheme)||n.isNullOrUndefined(this.currentTheme.widgets)||n.DashboardUtil.IsStringNullorWhiteSpace(this.currentTheme.widgets.background)?this.isDarkTypeTheme()?this.darkMode.widgets.background:this.lightMode.widgets.background:this.currentTheme.widgets.background},t.prototype.getWidgetTileTextColor=function(){return n.isNullOrUndefined(this.currentTheme)||n.isNullOrUndefined(this.currentTheme.widgets)||n.isNullOrUndefined(this.currentTheme.widgets.textStyle)||n.DashboardUtil.IsStringNullorWhiteSpace(this.currentTheme.widgets.textStyle.color)?this.isDarkTypeTheme()?this.darkMode.widgets.textStyle.color:this.lightMode.widgets.textStyle.color:this.currentTheme.widgets.textStyle.color},t.prototype.getWidgetContainerBorder=function(n){return n?"1px solid #505a71":"1px solid lightgray"},t.prototype.getWidgetContainerBoxShadow=function(t){return t?"none":!n.isNullOrUndefined(this.dashboardDesigner.model.widgetContainerSettings)&&!n.DashboardUtil.IsStringNullorWhiteSpace(this.dashboardDesigner.model.widgetContainerSettings.boxShadow)?this.dashboardDesigner.model.widgetContainerSettings.boxShadow:"0 3px 8px rgba(112,120,135,.24)"},t.prototype.isAutoFontSetngWidgetTitleFont=function(){return n.isNullOrUndefined(this.currentTheme.widgets.textStyle.title.autoFontSettings)||this.currentTheme.widgets.textStyle.title.autoFontSettings},t.prototype.getWidgetTitleFontSize=function(){var t;return t=n.isNullOrUndefined(this.currentTheme)||n.isNullOrUndefined(this.currentTheme.widgets)||n.isNullOrUndefined(this.currentTheme.widgets.textStyle)||n.isNullOrUndefined(this.currentTheme.widgets.textStyle.title)?this.getThemeFontSize():this.isAutoFontSetngWidgetTitleFont()?"":!n.isNullOrUndefined(this.currentTheme.widgets.textStyle.title.fontSize)&&!n.DashboardUtil.IsStringNullorWhiteSpace(this.currentTheme.widgets.textStyle.title.fontSize)?this.currentTheme.widgets.textStyle.title.fontSize:this.getThemeFontSize(),this.updateMaxValueIfSizeExceeds(t,MaximumFontValues.widgetTitle)},t.prototype.getWidgetTitleFontWeight=function(){return n.isNullOrUndefined(this.currentTheme)||n.isNullOrUndefined(this.currentTheme.widgets)||n.isNullOrUndefined(this.currentTheme.widgets.textStyle)||n.isNullOrUndefined(this.currentTheme.widgets.textStyle.title)?this.getThemeFontWeight():this.isAutoFontSetngWidgetTitleFont()?"":!n.isNullOrUndefined(this.currentTheme.widgets.textStyle.title.fontWeight)&&!n.DashboardUtil.IsStringNullorWhiteSpace(this.currentTheme.widgets.textStyle.title.fontWeight)?this.currentTheme.widgets.textStyle.title.fontWeight:this.getThemeFontWeight()},t.prototype.getWidgetTitleFontFamily=function(){return n.isNullOrUndefined(this.currentTheme)||n.isNullOrUndefined(this.currentTheme.widgets)||n.isNullOrUndefined(this.currentTheme.widgets.textStyle)||n.isNullOrUndefined(this.currentTheme.widgets.textStyle.title)?this.getThemeFontFamily():this.isAutoFontSetngWidgetTitleFont()?"":(this.updateFontSrcList(this.currentTheme.widgets.textStyle.title.fontFamily,this.currentTheme.widgets.textStyle.title.fontSrc),!n.isNullOrUndefined(this.currentTheme.widgets.textStyle.title.fontFamily)&&!n.DashboardUtil.IsStringNullorWhiteSpace(this.currentTheme.widgets.textStyle.title.fontFamily)?this.currentTheme.widgets.textStyle.title.fontFamily:this.getThemeFontFamily())},t.prototype.getWidgetTitleFontText=function(){return this.getFontStyleCssValue(this.getWidgetTitleFontSize(),this.getWidgetTitleFontWeight(),this.getWidgetTitleFontFamily())},t.prototype.isAutoFontSetngWidgetSubTitleFont=function(){return n.isNullOrUndefined(this.currentTheme.widgets.textStyle.subTitle.autoFontSettings)||this.currentTheme.widgets.textStyle.subTitle.autoFontSettings},t.prototype.getWidgetSubTitleFontSize=function(){var t;return t=n.isNullOrUndefined(this.currentTheme)||n.isNullOrUndefined(this.currentTheme.widgets)||n.isNullOrUndefined(this.currentTheme.widgets.textStyle)||n.isNullOrUndefined(this.currentTheme.widgets.textStyle.subTitle)?this.getThemeFontSize():this.isAutoFontSetngWidgetSubTitleFont()?"":!n.isNullOrUndefined(this.currentTheme.widgets.textStyle.subTitle.fontSize)&&!n.DashboardUtil.IsStringNullorWhiteSpace(this.currentTheme.widgets.textStyle.subTitle.fontSize)?this.currentTheme.widgets.textStyle.subTitle.fontSize:this.getThemeFontSize(),this.updateMaxValueIfSizeExceeds(t,MaximumFontValues.widgetSubTitle)},t.prototype.getWidgetSubTitleFontWeight=function(){return n.isNullOrUndefined(this.currentTheme)||n.isNullOrUndefined(this.currentTheme.widgets)||n.isNullOrUndefined(this.currentTheme.widgets.textStyle)||n.isNullOrUndefined(this.currentTheme.widgets.textStyle.subTitle)?this.getThemeFontWeight():this.isAutoFontSetngWidgetSubTitleFont()?"":!n.isNullOrUndefined(this.currentTheme.widgets.textStyle.subTitle.fontWeight)&&!n.DashboardUtil.IsStringNullorWhiteSpace(this.currentTheme.widgets.textStyle.subTitle.fontWeight)?this.currentTheme.widgets.textStyle.subTitle.fontWeight:this.getThemeFontWeight()},t.prototype.getWidgetSubTitleFontFamily=function(){return n.isNullOrUndefined(this.currentTheme)||n.isNullOrUndefined(this.currentTheme.widgets)||n.isNullOrUndefined(this.currentTheme.widgets.textStyle)||n.isNullOrUndefined(this.currentTheme.widgets.textStyle.subTitle)?this.getThemeFontFamily():this.isAutoFontSetngWidgetSubTitleFont()?"":(this.updateFontSrcList(this.currentTheme.widgets.textStyle.subTitle.fontFamily,this.currentTheme.widgets.textStyle.subTitle.fontSrc),!n.isNullOrUndefined(this.currentTheme.widgets.textStyle.subTitle.fontFamily)&&!n.DashboardUtil.IsStringNullorWhiteSpace(this.currentTheme.widgets.textStyle.subTitle.fontFamily)?this.currentTheme.widgets.textStyle.subTitle.fontFamily:this.getThemeFontFamily())},t.prototype.getWidgetSubTitleFontText=function(){return this.getFontStyleCssValue(this.getWidgetSubTitleFontSize(),this.getWidgetSubTitleFontWeight(),this.getWidgetSubTitleFontFamily())},t.prototype.getWidgetIconColor=function(){return n.isNullOrUndefined(this.currentTheme)||n.isNullOrUndefined(this.currentTheme.widgets)||n.isNullOrUndefined(this.currentTheme.widgets.icon)||n.isNullOrUndefined(this.currentTheme.widgets.icon.font)||n.DashboardUtil.IsStringNullorWhiteSpace(this.currentTheme.widgets.icon.font.color)?this.isDarkTypeTheme()?this.darkMode.widgets.icon.font.color:this.lightMode.widgets.icon.font.color:this.currentTheme.widgets.icon.font.color},t.prototype.getWidgetIconHoverTextColor=function(){return n.isNullOrUndefined(this.currentTheme)||n.isNullOrUndefined(this.currentTheme.widgets)||n.isNullOrUndefined(this.currentTheme.widgets.icon)||n.isNullOrUndefined(this.currentTheme.widgets.icon.font)||n.isNullOrUndefined(this.currentTheme.widgets.icon.hover.font)||n.DashboardUtil.IsStringNullorWhiteSpace(this.currentTheme.widgets.icon.hover.font.color)?this.isDarkTypeTheme()?this.darkMode.widgets.icon.hover.font.color:this.lightMode.widgets.icon.hover.font.color:this.currentTheme.widgets.icon.hover.font.color},t.prototype.getWidgetIconHoverBackground=function(){return n.isNullOrUndefined(this.currentTheme)||n.isNullOrUndefined(this.currentTheme.widgets)||n.isNullOrUndefined(this.currentTheme.widgets.icon)||n.isNullOrUndefined(this.currentTheme.widgets.icon.hover)||n.DashboardUtil.IsStringNullorWhiteSpace(this.currentTheme.widgets.icon.hover.background)?this.isDarkTypeTheme()?this.darkMode.widgets.icon.hover.background:this.lightMode.widgets.icon.hover.background:this.currentTheme.widgets.icon.hover.background},t.prototype.isAutoFontSetngWidgetIconFont=function(){return n.isNullOrUndefined(this.currentTheme.widgets.icon.font.fontSettings.autoFontSettings)||this.currentTheme.widgets.icon.font.fontSettings.autoFontSettings},t.prototype.getWidgetIconFontSize=function(){return n.isNullOrUndefined(this.currentTheme)||n.isNullOrUndefined(this.currentTheme.widgets)||n.isNullOrUndefined(this.currentTheme.widgets.icon)||n.isNullOrUndefined(this.currentTheme.widgets.icon.font)||n.isNullOrUndefined(this.currentTheme.widgets.icon.font.fontSettings)?this.getThemeFontSize():this.isAutoFontSetngWidgetIconFont()?"":!n.isNullOrUndefined(this.currentTheme.widgets.icon.font.fontSettings.fontSize)&&!n.DashboardUtil.IsStringNullorWhiteSpace(this.currentTheme.widgets.icon.font.fontSettings.fontSize)?this.currentTheme.widgets.icon.font.fontSettings.fontSize:this.getThemeFontSize()},t.prototype.getWidgetIconFontWeight=function(){return n.isNullOrUndefined(this.currentTheme)||n.isNullOrUndefined(this.currentTheme.widgets)||n.isNullOrUndefined(this.currentTheme.widgets.icon)||n.isNullOrUndefined(this.currentTheme.widgets.icon.font)||n.isNullOrUndefined(this.currentTheme.widgets.icon.font.fontSettings)?this.getThemeFontWeight():this.isAutoFontSetngWidgetIconFont()?"":!n.isNullOrUndefined(this.currentTheme.widgets.icon.font.fontSettings.fontWeight)&&!n.DashboardUtil.IsStringNullorWhiteSpace(this.currentTheme.widgets.icon.font.fontSettings.fontWeight)?this.currentTheme.widgets.icon.font.fontSettings.fontWeight:this.getThemeFontWeight()},t.prototype.getWidgetIconFontText=function(){return this.getFontStyleCssValue(this.getWidgetIconFontSize(),this.getWidgetIconFontWeight())},t.prototype.isAutoFontSetngWidgetIconHoverFont=function(){return n.isNullOrUndefined(this.currentTheme.widgets.icon.hover.font.fontSettings.autoFontSettings)||this.currentTheme.widgets.icon.hover.font.fontSettings.autoFontSettings},t.prototype.getWidgetIconHoverFontSize=function(){return n.isNullOrUndefined(this.currentTheme)||n.isNullOrUndefined(this.currentTheme.widgets)||n.isNullOrUndefined(this.currentTheme.widgets.icon)||n.isNullOrUndefined(this.currentTheme.widgets.icon.hover)||n.isNullOrUndefined(this.currentTheme.widgets.icon.hover.font)||n.isNullOrUndefined(this.currentTheme.widgets.icon.hover.font.fontSettings)?this.getThemeFontSize():this.isAutoFontSetngWidgetIconHoverFont()?"":!n.isNullOrUndefined(this.currentTheme.widgets.icon.hover.font.fontSettings.fontSize)&&!n.DashboardUtil.IsStringNullorWhiteSpace(this.currentTheme.widgets.icon.hover.font.fontSettings.fontSize)?this.currentTheme.widgets.icon.hover.font.fontSettings.fontSize:this.getThemeFontSize()},t.prototype.getWidgetIconHoverFontWeight=function(){return n.isNullOrUndefined(this.currentTheme)||n.isNullOrUndefined(this.currentTheme.widgets)||n.isNullOrUndefined(this.currentTheme.widgets.icon)||n.isNullOrUndefined(this.currentTheme.widgets.icon.hover)||n.isNullOrUndefined(this.currentTheme.widgets.icon.hover.font)||n.isNullOrUndefined(this.currentTheme.widgets.icon.hover.font.fontSettings)?this.getThemeFontWeight():this.isAutoFontSetngWidgetIconHoverFont()?"":!n.isNullOrUndefined(this.currentTheme.widgets.icon.hover.font.fontSettings.fontWeight)&&!n.DashboardUtil.IsStringNullorWhiteSpace(this.currentTheme.widgets.icon.hover.font.fontSettings.fontWeight)?this.currentTheme.widgets.icon.hover.font.fontSettings.fontWeight:this.getThemeFontWeight()},t.prototype.getWidgetIconHoverText=function(){return this.getFontStyleCssValue(this.getWidgetIconHoverFontSize(),this.getWidgetIconHoverFontWeight())},t.prototype.getAxisTitleFontColor=function(){return n.isNullOrUndefined(this.currentTheme)||n.isNullOrUndefined(this.currentTheme.widgets)||n.isNullOrUndefined(this.currentTheme.widgets.axis)||n.isNullOrUndefined(this.currentTheme.widgets.axis.title)||n.isNullOrUndefined(this.currentTheme.widgets.axis.title.font)||n.DashboardUtil.IsStringNullorWhiteSpace(this.currentTheme.widgets.axis.title.font.color)?this.isDarkTypeTheme()?this.darkMode.widgets.axis.title.font.color:this.lightMode.widgets.axis.title.font.color:this.currentTheme.widgets.axis.title.font.color},t.prototype.getAxisLabelFontColor=function(){return n.isNullOrUndefined(this.currentTheme)||n.isNullOrUndefined(this.currentTheme.widgets)||n.isNullOrUndefined(this.currentTheme.widgets.axis)||n.isNullOrUndefined(this.currentTheme.widgets.axis.label)||n.isNullOrUndefined(this.currentTheme.widgets.axis.label.font)||n.DashboardUtil.IsStringNullorWhiteSpace(this.currentTheme.widgets.axis.label.font.color)?this.isDarkTypeTheme()?this.darkMode.widgets.axis.label.font.color:this.lightMode.widgets.axis.label.font.color:this.currentTheme.widgets.axis.label.font.color},t.prototype.getMajorGridLinesColor=function(){return n.isNullOrUndefined(this.currentTheme)||n.isNullOrUndefined(this.currentTheme.widgets)||n.isNullOrUndefined(this.currentTheme.widgets.axis)||n.isNullOrUndefined(this.currentTheme.widgets.axis.gridLines)||n.DashboardUtil.IsStringNullorWhiteSpace(this.currentTheme.widgets.axis.gridLines.color)?this.isDarkTypeTheme()?this.darkMode.widgets.axis.gridLines.color:this.lightMode.widgets.axis.gridLines.color:this.currentTheme.widgets.axis.gridLines.color},t.prototype.getMajorTickLinesColor=function(){return n.isNullOrUndefined(this.currentTheme)||n.isNullOrUndefined(this.currentTheme.widgets)||n.isNullOrUndefined(this.currentTheme.widgets.axis)||n.isNullOrUndefined(this.currentTheme.widgets.axis.tickLines)||n.DashboardUtil.IsStringNullorWhiteSpace(this.currentTheme.widgets.axis.tickLines.color)?this.isDarkTypeTheme()?this.darkMode.widgets.axis.tickLines.color:this.lightMode.widgets.axis.tickLines.color:this.currentTheme.widgets.axis.tickLines.color},t.prototype.getFontSizeBasedOnResolution=function(){return window.screen.width<1920?"12px":window.screen.width<3840?"16px":"32px"},t.prototype.getFontSizeResolutionBased=function(){return window.screen.width<1920?"12px":window.screen.width<3840?"14px":"28px"},t.prototype.isAutoFontSetngWidgetAxisFont=function(){return n.isNullOrUndefined(this.currentTheme.widgets.axis.title.font.fontSettings.autoFontSettings)||this.currentTheme.widgets.axis.title.font.fontSettings.autoFontSettings},t.prototype.getWidgetAxisTitleFontSize=function(){return n.isNullOrUndefined(this.currentTheme)||n.isNullOrUndefined(this.currentTheme.widgets)||n.isNullOrUndefined(this.currentTheme.widgets.axis)||n.isNullOrUndefined(this.currentTheme.widgets.axis.title)||n.isNullOrUndefined(this.currentTheme.widgets.axis.title.font)||n.isNullOrUndefined(this.currentTheme.widgets.axis.title.font.fontSettings)?this.getThemeFontSize():this.isAutoFontSetngWidgetAxisFont()?this.getFontSizeBasedOnResolution():!n.isNullOrUndefined(this.currentTheme.widgets.axis.title.font.fontSettings.fontSize)&&!n.DashboardUtil.IsStringNullorWhiteSpace(this.currentTheme.widgets.axis.title.font.fontSettings.fontSize)?this.currentTheme.widgets.axis.title.font.fontSettings.fontSize:this.getThemeFontSize()},t.prototype.getWidgetAxisTitleFontWeight=function(){return n.isNullOrUndefined(this.currentTheme)||n.isNullOrUndefined(this.currentTheme.widgets)||n.isNullOrUndefined(this.currentTheme.widgets.axis)||n.isNullOrUndefined(this.currentTheme.widgets.axis.title)||n.isNullOrUndefined(this.currentTheme.widgets.axis.title.font)||n.isNullOrUndefined(this.currentTheme.widgets.axis.title.font.fontSettings)?this.getThemeFontWeight():this.isAutoFontSetngWidgetAxisFont()?"":!n.isNullOrUndefined(this.currentTheme.widgets.axis.title.font.fontSettings.fontWeight)&&!n.DashboardUtil.IsStringNullorWhiteSpace(this.currentTheme.widgets.axis.title.font.fontSettings.fontWeight)?this.currentTheme.widgets.axis.title.font.fontSettings.fontWeight:this.getThemeFontWeight()},t.prototype.getWidgetAxisTitleFontFamily=function(){return n.isNullOrUndefined(this.currentTheme)||n.isNullOrUndefined(this.currentTheme.widgets)||n.isNullOrUndefined(this.currentTheme.widgets.axis)||n.isNullOrUndefined(this.currentTheme.widgets.axis.title)||n.isNullOrUndefined(this.currentTheme.widgets.axis.title.font)||n.isNullOrUndefined(this.currentTheme.widgets.axis.title.font.fontSettings)?this.getThemeFontFamily():this.isAutoFontSetngWidgetAxisFont()?"":(this.updateFontSrcList(this.currentTheme.widgets.axis.title.font.fontSettings.fontFamily,this.currentTheme.widgets.axis.title.font.fontSettings.fontSrc),!n.isNullOrUndefined(this.currentTheme.widgets.axis.title.font.fontSettings.fontFamily)&&!n.DashboardUtil.IsStringNullorWhiteSpace(this.currentTheme.widgets.axis.title.font.fontSettings.fontFamily)?this.currentTheme.widgets.axis.title.font.fontSettings.fontFamily:this.getThemeFontFamily())},t.prototype.isAutoFontSetngWidgetAxisLabelFont=function(){return n.isNullOrUndefined(this.currentTheme.widgets.axis.label.font.fontSettings.autoFontSettings)||this.currentTheme.widgets.axis.label.font.fontSettings.autoFontSettings},t.prototype.getWidgetAxisLabelFontSize=function(){return n.isNullOrUndefined(this.currentTheme)||n.isNullOrUndefined(this.currentTheme.widgets)||n.isNullOrUndefined(this.currentTheme.widgets.axis)||n.isNullOrUndefined(this.currentTheme.widgets.axis.label)||n.isNullOrUndefined(this.currentTheme.widgets.axis.label.font)||n.isNullOrUndefined(this.currentTheme.widgets.axis.label.font.fontSettings)?this.getThemeFontSize():this.isAutoFontSetngWidgetAxisLabelFont()?"":!n.isNullOrUndefined(this.currentTheme.widgets.axis.label.font.fontSettings.fontSize)&&!n.DashboardUtil.IsStringNullorWhiteSpace(this.currentTheme.widgets.axis.label.font.fontSettings.fontSize)?this.currentTheme.widgets.axis.label.font.fontSettings.fontSize:this.getThemeFontSize()},t.prototype.getWidgetAxisLabelFontWeight=function(){return n.isNullOrUndefined(this.currentTheme)||n.isNullOrUndefined(this.currentTheme.widgets)||n.isNullOrUndefined(this.currentTheme.widgets.axis)||n.isNullOrUndefined(this.currentTheme.widgets.axis.label)||n.isNullOrUndefined(this.currentTheme.widgets.axis.label.font)||n.isNullOrUndefined(this.currentTheme.widgets.axis.label.font.fontSettings)?this.getThemeFontWeight():this.isAutoFontSetngWidgetAxisLabelFont()?"":!n.isNullOrUndefined(this.currentTheme.widgets.axis.label.font.fontSettings.fontWeight)&&!n.DashboardUtil.IsStringNullorWhiteSpace(this.currentTheme.widgets.axis.label.font.fontSettings.fontWeight)?this.currentTheme.widgets.axis.label.font.fontSettings.fontWeight:this.getThemeFontWeight()},t.prototype.getWidgetAxisLabelFontFamily=function(){return n.isNullOrUndefined(this.currentTheme)||n.isNullOrUndefined(this.currentTheme.widgets)||n.isNullOrUndefined(this.currentTheme.widgets.axis)||n.isNullOrUndefined(this.currentTheme.widgets.axis.label)||n.isNullOrUndefined(this.currentTheme.widgets.axis.label.font)||n.isNullOrUndefined(this.currentTheme.widgets.axis.label.font.fontSettings)?this.getThemeFontFamily():this.isAutoFontSetngWidgetAxisLabelFont()?"":(this.updateFontSrcList(this.currentTheme.widgets.axis.label.font.fontSettings.fontFamily,this.currentTheme.widgets.axis.label.font.fontSettings.fontSrc),!n.isNullOrUndefined(this.currentTheme.widgets.axis.label.font.fontSettings.fontFamily)&&!n.DashboardUtil.IsStringNullorWhiteSpace(this.currentTheme.widgets.axis.label.font.fontSettings.fontFamily)?this.currentTheme.widgets.axis.label.font.fontSettings.fontFamily:this.getThemeFontFamily())},t.prototype.getLegendFontColor=function(){return n.isNullOrUndefined(this.currentTheme)||n.isNullOrUndefined(this.currentTheme.widgets)||n.isNullOrUndefined(this.currentTheme.widgets.legend)||n.isNullOrUndefined(this.currentTheme.widgets.legend.font)||n.DashboardUtil.IsStringNullorWhiteSpace(this.currentTheme.widgets.legend.font.color)?this.isDarkTypeTheme()?this.darkMode.widgets.legend.font.color:this.lightMode.widgets.legend.font.color:this.currentTheme.widgets.legend.font.color},t.prototype.isAutoFontSetngWidgetLegendFont=function(){return n.isNullOrUndefined(this.currentTheme.widgets.legend.font.fontSettings.autoFontSettings)||this.currentTheme.widgets.legend.font.fontSettings.autoFontSettings},t.prototype.getWidgetLegendFontSize=function(){return n.isNullOrUndefined(this.currentTheme)||n.isNullOrUndefined(this.currentTheme.widgets)||n.isNullOrUndefined(this.currentTheme.widgets.legend)||n.isNullOrUndefined(this.currentTheme.widgets.legend.font)||n.isNullOrUndefined(this.currentTheme.widgets.legend.font.fontSettings)?this.getThemeFontSize():this.isAutoFontSetngWidgetLegendFont()?"":!n.isNullOrUndefined(this.currentTheme.widgets.legend.font.fontSettings.fontSize)&&!n.DashboardUtil.IsStringNullorWhiteSpace(this.currentTheme.widgets.legend.font.fontSettings.fontSize)?this.currentTheme.widgets.legend.font.fontSettings.fontSize:this.getThemeFontSize()},t.prototype.getWidgetLegendFontWeight=function(){return n.isNullOrUndefined(this.currentTheme)||n.isNullOrUndefined(this.currentTheme.widgets)||n.isNullOrUndefined(this.currentTheme.widgets.legend)||n.isNullOrUndefined(this.currentTheme.widgets.legend.font)||n.isNullOrUndefined(this.currentTheme.widgets.legend.font.fontSettings)?this.getThemeFontWeight():this.isAutoFontSetngWidgetLegendFont()?"":!n.isNullOrUndefined(this.currentTheme.widgets.legend.font.fontSettings.fontWeight)&&!n.DashboardUtil.IsStringNullorWhiteSpace(this.currentTheme.widgets.legend.font.fontSettings.fontWeight)?this.currentTheme.widgets.legend.font.fontSettings.fontWeight:this.getThemeFontWeight()},t.prototype.getWidgetLegendFontFamily=function(){return n.isNullOrUndefined(this.currentTheme)||n.isNullOrUndefined(this.currentTheme.widgets)||n.isNullOrUndefined(this.currentTheme.widgets.legend)||n.isNullOrUndefined(this.currentTheme.widgets.legend.font)||n.isNullOrUndefined(this.currentTheme.widgets.legend.font.fontSettings)?this.getThemeFontFamily():this.isAutoFontSetngWidgetLegendFont()?"":(this.updateFontSrcList(this.currentTheme.widgets.legend.font.fontSettings.fontFamily,this.currentTheme.widgets.legend.font.fontSettings.fontSrc),!n.isNullOrUndefined(this.currentTheme.widgets.legend.font.fontSettings.fontFamily)&&!n.DashboardUtil.IsStringNullorWhiteSpace(this.currentTheme.widgets.legend.font.fontSettings.fontFamily)?this.currentTheme.widgets.legend.font.fontSettings.fontFamily:this.getThemeFontFamily())},t.prototype.getDataLabelFontColor=function(){return n.isNullOrUndefined(this.currentTheme)||n.isNullOrUndefined(this.currentTheme.widgets)||n.isNullOrUndefined(this.currentTheme.widgets.dataLabel)||n.isNullOrUndefined(this.currentTheme.widgets.dataLabel.font)||n.DashboardUtil.IsStringNullorWhiteSpace(this.currentTheme.widgets.dataLabel.font.color)?this.isDarkTypeTheme()?this.darkMode.widgets.dataLabel.font.color:this.lightMode.widgets.dataLabel.font.color:this.currentTheme.widgets.dataLabel.font.color},t.prototype.isAutoFontSetngWidgetDataLabelFont=function(){return n.isNullOrUndefined(this.currentTheme.widgets.dataLabel.font.fontSettings.autoFontSettings)||this.currentTheme.widgets.dataLabel.font.fontSettings.autoFontSettings},t.prototype.getWidgetDataLabelFontSize=function(){return n.isNullOrUndefined(this.currentTheme)||n.isNullOrUndefined(this.currentTheme.widgets)||n.isNullOrUndefined(this.currentTheme.widgets.dataLabel)||n.isNullOrUndefined(this.currentTheme.widgets.dataLabel.font)||n.isNullOrUndefined(this.currentTheme.widgets.dataLabel.font.fontSettings)?this.getThemeFontSize():this.isAutoFontSetngWidgetDataLabelFont()?this.getFontSizeBasedOnResolution():!n.isNullOrUndefined(this.currentTheme.widgets.dataLabel.font.fontSettings.fontSize)&&!n.DashboardUtil.IsStringNullorWhiteSpace(this.currentTheme.widgets.dataLabel.font.fontSettings.fontSize)?this.currentTheme.widgets.dataLabel.font.fontSettings.fontSize:this.getThemeFontSize()},t.prototype.getWidgetDataLabelFontWeight=function(){return n.isNullOrUndefined(this.currentTheme)||n.isNullOrUndefined(this.currentTheme.widgets)||n.isNullOrUndefined(this.currentTheme.widgets.dataLabel)||n.isNullOrUndefined(this.currentTheme.widgets.dataLabel.font)||n.isNullOrUndefined(this.currentTheme.widgets.dataLabel.font.fontSettings)?this.getThemeFontWeight():this.isAutoFontSetngWidgetDataLabelFont()?"":!n.isNullOrUndefined(this.currentTheme.widgets.dataLabel.font.fontSettings.fontWeight)&&!n.DashboardUtil.IsStringNullorWhiteSpace(this.currentTheme.widgets.dataLabel.font.fontSettings.fontWeight)?this.currentTheme.widgets.dataLabel.font.fontSettings.fontWeight:this.getThemeFontWeight()},t.prototype.getWidgetDataLabelFontFamily=function(){return n.isNullOrUndefined(this.currentTheme)||n.isNullOrUndefined(this.currentTheme.widgets)||n.isNullOrUndefined(this.currentTheme.widgets.dataLabel)||n.isNullOrUndefined(this.currentTheme.widgets.dataLabel.font)||n.isNullOrUndefined(this.currentTheme.widgets.dataLabel.font.fontSettings)?this.getThemeFontFamily():this.isAutoFontSetngWidgetDataLabelFont()?"":(this.updateFontSrcList(this.currentTheme.widgets.dataLabel.font.fontSettings.fontFamily,this.currentTheme.widgets.dataLabel.font.fontSettings.fontSrc),!n.isNullOrUndefined(this.currentTheme.widgets.dataLabel.font.fontSettings.fontFamily)&&!n.DashboardUtil.IsStringNullorWhiteSpace(this.currentTheme.widgets.dataLabel.font.fontSettings.fontFamily)?this.currentTheme.widgets.dataLabel.font.fontSettings.fontFamily:this.getThemeFontFamily())},t.prototype.getWidgetDataBackground=function(){return n.isNullOrUndefined(this.currentTheme)||n.isNullOrUndefined(this.currentTheme.widgets)||n.isNullOrUndefined(this.currentTheme.widgets.dataValue)||n.DashboardUtil.IsStringNullorWhiteSpace(this.currentTheme.widgets.dataValue.background)?this.isDarkTypeTheme()?this.darkMode.widgets.dataValue.background:this.lightMode.widgets.dataValue.background:this.currentTheme.widgets.dataValue.background},t.prototype.getWidgetDataTextColor=function(){return n.isNullOrUndefined(this.currentTheme)||n.isNullOrUndefined(this.currentTheme.widgets)||n.isNullOrUndefined(this.currentTheme.widgets.dataValue)||n.isNullOrUndefined(this.currentTheme.widgets.dataValue.font)||n.DashboardUtil.IsStringNullorWhiteSpace(this.currentTheme.widgets.dataValue.font.color)?this.isDarkTypeTheme()?this.darkMode.widgets.dataValue.font.color:this.lightMode.widgets.dataValue.font.color:this.currentTheme.widgets.dataValue.font.color},t.prototype.getWidgetDataHoverTextColor=function(){return n.isNullOrUndefined(this.currentTheme)||n.isNullOrUndefined(this.currentTheme.widgets)||n.isNullOrUndefined(this.currentTheme.widgets.dataValue)||n.isNullOrUndefined(this.currentTheme.widgets.dataValue.hover)||n.isNullOrUndefined(this.currentTheme.widgets.dataValue.hover.font)||n.DashboardUtil.IsStringNullorWhiteSpace(this.currentTheme.widgets.dataValue.hover.font.color)?this.isDarkTypeTheme()?this.darkMode.widgets.dataValue.hover.font.color:this.lightMode.widgets.dataValue.hover.font.color:this.currentTheme.widgets.dataValue.hover.font.color},t.prototype.getWidgetDataHoverBackground=function(){return n.isNullOrUndefined(this.currentTheme)||n.isNullOrUndefined(this.currentTheme.widgets)||n.isNullOrUndefined(this.currentTheme.widgets.dataValue)||n.isNullOrUndefined(this.currentTheme.widgets.dataValue.hover)||n.DashboardUtil.IsStringNullorWhiteSpace(this.currentTheme.widgets.dataValue.hover.background)?this.isDarkTypeTheme()?this.darkMode.widgets.dataValue.hover.background:this.lightMode.widgets.dataValue.hover.background:this.currentTheme.widgets.dataValue.hover.background},t.prototype.isAutoFontSetngWidgetDataValueFont=function(){return n.isNullOrUndefined(this.currentTheme.widgets.dataValue.font.fontSettings.autoFontSettings)||this.currentTheme.widgets.dataValue.font.fontSettings.autoFontSettings},t.prototype.getWidgetDataValueFontSize=function(){return n.isNullOrUndefined(this.currentTheme)||n.isNullOrUndefined(this.currentTheme.widgets)||n.isNullOrUndefined(this.currentTheme.widgets.dataValue)||n.isNullOrUndefined(this.currentTheme.widgets.dataValue.font)||n.isNullOrUndefined(this.currentTheme.widgets.dataValue.font.fontSettings)?this.getThemeFontSize():this.isAutoFontSetngWidgetDataValueFont()?"":!n.isNullOrUndefined(this.currentTheme.widgets.dataValue.font.fontSettings.fontSize)&&!n.DashboardUtil.IsStringNullorWhiteSpace(this.currentTheme.widgets.dataValue.font.fontSettings.fontSize)?this.currentTheme.widgets.dataValue.font.fontSettings.fontSize:this.getThemeFontSize()},t.prototype.getWidgetDataValueFontWeight=function(){return n.isNullOrUndefined(this.currentTheme)||n.isNullOrUndefined(this.currentTheme.widgets)||n.isNullOrUndefined(this.currentTheme.widgets.dataValue)||n.isNullOrUndefined(this.currentTheme.widgets.dataValue.font)||n.isNullOrUndefined(this.currentTheme.widgets.dataValue.font.fontSettings)?this.getThemeFontWeight():this.isAutoFontSetngWidgetDataValueFont()?"":!n.isNullOrUndefined(this.currentTheme.widgets.dataValue.font.fontSettings.fontWeight)&&!n.DashboardUtil.IsStringNullorWhiteSpace(this.currentTheme.widgets.dataValue.font.fontSettings.fontWeight)?this.currentTheme.widgets.dataValue.font.fontSettings.fontWeight:this.getThemeFontWeight()},t.prototype.getWidgetDataValueFontFamily=function(){return n.isNullOrUndefined(this.currentTheme)||n.isNullOrUndefined(this.currentTheme.widgets)||n.isNullOrUndefined(this.currentTheme.widgets.dataValue)||n.isNullOrUndefined(this.currentTheme.widgets.dataValue.font.fontSettings)?this.getThemeFontFamily():this.isAutoFontSetngWidgetDataValueFont()?"":(this.updateFontSrcList(this.currentTheme.widgets.dataValue.font.fontSettings.fontFamily,this.currentTheme.widgets.dataValue.font.fontSettings.fontSrc),!n.isNullOrUndefined(this.currentTheme.widgets.dataValue.font.fontSettings.fontFamily)&&!n.DashboardUtil.IsStringNullorWhiteSpace(this.currentTheme.widgets.dataValue.font.fontSettings.fontFamily)?this.currentTheme.widgets.dataValue.font.fontSettings.fontFamily:this.getThemeFontFamily())},t.prototype.isAutoFontSetngWidgetDataValueHoverFont=function(){return n.isNullOrUndefined(this.currentTheme.widgets.dataValue.hover.font.fontSettings.autoFontSettings)||this.currentTheme.widgets.dataValue.hover.font.fontSettings.autoFontSettings},t.prototype.getWidgetDataValueHoverFontSize=function(){return n.isNullOrUndefined(this.currentTheme)||n.isNullOrUndefined(this.currentTheme.widgets)||n.isNullOrUndefined(this.currentTheme.widgets.dataValue)||n.isNullOrUndefined(this.currentTheme.widgets.dataValue.hover)||n.isNullOrUndefined(this.currentTheme.widgets.dataValue.hover.font)||n.isNullOrUndefined(this.currentTheme.widgets.dataValue.hover.font.fontSettings)?this.getThemeFontSize():this.isAutoFontSetngWidgetDataValueHoverFont()?"":!n.isNullOrUndefined(this.currentTheme.widgets.dataValue.hover.font.fontSettings.fontSize)&&!n.DashboardUtil.IsStringNullorWhiteSpace(this.currentTheme.widgets.dataValue.hover.font.fontSettings.fontSize)?this.currentTheme.widgets.dataValue.hover.font.fontSettings.fontSize:this.getThemeFontSize()},t.prototype.getWidgetDataValueHoverFontWeight=function(){return n.isNullOrUndefined(this.currentTheme)||n.isNullOrUndefined(this.currentTheme.widgets)||n.isNullOrUndefined(this.currentTheme.widgets.dataValue)||n.isNullOrUndefined(this.currentTheme.widgets.dataValue.hover)||n.isNullOrUndefined(this.currentTheme.widgets.dataValue.hover.font)||n.isNullOrUndefined(this.currentTheme.widgets.dataValue.hover.font.fontSettings)?this.getThemeFontWeight():this.isAutoFontSetngWidgetDataValueHoverFont()?"":!n.isNullOrUndefined(this.currentTheme.widgets.dataValue.hover.font.fontSettings.fontWeight)&&!n.DashboardUtil.IsStringNullorWhiteSpace(this.currentTheme.widgets.dataValue.hover.font.fontSettings.fontWeight)?this.currentTheme.widgets.dataValue.hover.font.fontSettings.fontWeight:this.getThemeFontWeight()},t.prototype.getWidgetDataValueHoverFontFamily=function(){return n.isNullOrUndefined(this.currentTheme)||n.isNullOrUndefined(this.currentTheme.widgets)||n.isNullOrUndefined(this.currentTheme.widgets.dataValue)||n.isNullOrUndefined(this.currentTheme.widgets.dataValue.hover)||n.isNullOrUndefined(this.currentTheme.widgets.dataValue.hover.font)||n.isNullOrUndefined(this.currentTheme.widgets.dataValue.hover.font.fontSettings)?this.getThemeFontFamily():this.isAutoFontSetngWidgetDataValueHoverFont()?"":(this.updateFontSrcList(this.currentTheme.widgets.dataValue.hover.font.fontSettings.fontFamily,this.currentTheme.widgets.dataValue.hover.font.fontSettings.fontSrc),!n.isNullOrUndefined(this.currentTheme.widgets.dataValue.hover.font.fontSettings.fontFamily)&&!n.DashboardUtil.IsStringNullorWhiteSpace(this.currentTheme.widgets.dataValue.hover.font.fontSettings.fontFamily)?this.currentTheme.widgets.dataValue.hover.font.fontSettings.fontFamily:this.getThemeFontFamily())},t.prototype.getMapLegendFontColor=function(){return n.isNullOrUndefined(this.currentTheme)||n.isNullOrUndefined(this.currentTheme.widgets)||n.isNullOrUndefined(this.currentTheme.widgets.map)||n.isNullOrUndefined(this.currentTheme.widgets.map.legend)||n.isNullOrUndefined(this.currentTheme.widgets.map.legend.font)||n.DashboardUtil.IsStringNullorWhiteSpace(this.currentTheme.widgets.map.legend.font.color)?n.isNullOrUndefined(this.currentTheme)||n.isNullOrUndefined(this.currentTheme.widgets)||n.isNullOrUndefined(this.currentTheme.widgets.legend)||n.isNullOrUndefined(this.currentTheme.widgets.legend.font)||n.DashboardUtil.IsStringNullorWhiteSpace(this.currentTheme.widgets.legend.font.color)?this.isDarkTypeTheme()?this.darkMode.widgets.map.legend.font.color:this.lightMode.widgets.map.legend.font.color:this.currentTheme.widgets.legend.font.color:this.currentTheme.widgets.legend.font.color},t.prototype.getMapDataLabelFontColor=function(){return n.isNullOrUndefined(this.currentTheme)||n.isNullOrUndefined(this.currentTheme.widgets)||n.isNullOrUndefined(this.currentTheme.widgets.map)||n.isNullOrUndefined(this.currentTheme.widgets.map.dataLabel)||n.isNullOrUndefined(this.currentTheme.widgets.map.dataLabel.font)||n.DashboardUtil.IsStringNullorWhiteSpace(this.currentTheme.widgets.map.dataLabel.font.color)?n.isNullOrUndefined(this.currentTheme)||n.isNullOrUndefined(this.currentTheme.widgets)||n.isNullOrUndefined(this.currentTheme.widgets.dataLabel)||n.isNullOrUndefined(this.currentTheme.widgets.dataLabel.font)||n.DashboardUtil.IsStringNullorWhiteSpace(this.currentTheme.widgets.dataLabel.font.color)?this.isDarkTypeTheme()?this.darkMode.widgets.map.dataLabel.font.color:this.lightMode.widgets.map.dataLabel.font.color:this.currentTheme.widgets.dataLabel.font.color:this.currentTheme.widgets.map.dataLabel.font.color},t.prototype.getMapFillColor=function(){return n.isNullOrUndefined(this.currentTheme)||n.isNullOrUndefined(this.currentTheme.widgets)||n.isNullOrUndefined(this.currentTheme.widgets.map)||n.DashboardUtil.IsStringNullorWhiteSpace(this.currentTheme.widgets.map.fillColor)?this.getFirstPaletteColor():this.currentTheme.widgets.map.fillColor},t.prototype.getMapDataLabelFontText=function(){var t,i,r;if(n.isNullOrUndefined(this.currentTheme)||n.isNullOrUndefined(this.currentTheme.widgets)||n.isNullOrUndefined(this.currentTheme.widgets.map)||n.isNullOrUndefined(this.currentTheme.widgets.map.dataLabel)||n.isNullOrUndefined(this.currentTheme.widgets.map.dataLabel.font)||n.isNullOrUndefined(this.currentTheme.widgets.map.dataLabel.font.fontSettings))t=this.getWidgetDataLabelFontSize(),i=this.getWidgetDataLabelFontWeight(),r=this.getWidgetDataLabelFontFamily();else{if(n.isNullOrUndefined(this.currentTheme.widgets.map.dataLabel.font.fontSettings.autoFontSettings)||this.currentTheme.widgets.map.dataLabel.font.fontSettings.autoFontSettings)return"";t=n.isNullOrUndefined(this.currentTheme.widgets.map.dataLabel.font.fontSettings.fontSize)||n.DashboardUtil.IsStringNullorWhiteSpace(this.currentTheme.widgets.map.dataLabel.font.fontSettings.fontSize)?this.getWidgetDataLabelFontSize():this.currentTheme.widgets.map.dataLabel.font.fontSettings.fontSize;i=n.isNullOrUndefined(this.currentTheme.widgets.map.dataLabel.font.fontSettings.fontWeight)||n.DashboardUtil.IsStringNullorWhiteSpace(this.currentTheme.widgets.map.dataLabel.font.fontSettings.fontWeight)?this.getWidgetDataLabelFontWeight():this.currentTheme.widgets.map.dataLabel.font.fontSettings.fontWeight;r=n.isNullOrUndefined(this.currentTheme.widgets.map.dataLabel.font.fontSettings.fontFamily)||n.DashboardUtil.IsStringNullorWhiteSpace(this.currentTheme.widgets.map.dataLabel.font.fontSettings.fontFamily)?this.getWidgetDataLabelFontFamily():this.currentTheme.widgets.map.dataLabel.font.fontSettings.fontFamily;this.updateFontSrcList(this.currentTheme.widgets.map.dataLabel.font.fontSettings.fontFamily,this.currentTheme.widgets.map.dataLabel.font.fontSettings.fontSrc)}return{size:t,weight:i,family:r}},t.prototype.getMapLegendFontText=function(){var t,i,r;return n.isNullOrUndefined(this.currentTheme)||n.isNullOrUndefined(this.currentTheme.widgets)||n.isNullOrUndefined(this.currentTheme.widgets.map)||n.isNullOrUndefined(this.currentTheme.widgets.map.legend)||n.isNullOrUndefined(this.currentTheme.widgets.map.legend.font)||n.isNullOrUndefined(this.currentTheme.widgets.map.legend.font.fontSettings)?(t=this.getWidgetLegendFontSize(),i=this.getWidgetLegendFontWeight(),r=this.getWidgetLegendFontFamily()):n.isNullOrUndefined(this.currentTheme.widgets.map.legend.font.fontSettings.autoFontSettings)||this.currentTheme.widgets.map.legend.font.fontSettings.autoFontSettings?(t=this.getWidgetLegendFontSize(),i=this.getWidgetLegendFontWeight(),r=this.getWidgetLegendFontFamily()):(t=n.isNullOrUndefined(this.currentTheme.widgets.map.legend.font.fontSettings.fontSize)||n.DashboardUtil.IsStringNullorWhiteSpace(this.currentTheme.widgets.map.legend.font.fontSettings.fontSize)?this.getWidgetLegendFontSize():this.currentTheme.widgets.map.legend.font.fontSettings.fontSize,i=n.isNullOrUndefined(this.currentTheme.widgets.map.legend.font.fontSettings.fontWeight)||n.DashboardUtil.IsStringNullorWhiteSpace(this.currentTheme.widgets.map.legend.font.fontSettings.fontWeight)?this.getWidgetLegendFontWeight():this.currentTheme.widgets.map.legend.font.fontSettings.fontWeight,r=n.isNullOrUndefined(this.currentTheme.widgets.map.legend.font.fontSettings.fontFamily)||n.DashboardUtil.IsStringNullorWhiteSpace(this.currentTheme.widgets.map.legend.font.fontSettings.fontFamily)?this.getWidgetLegendFontFamily():this.currentTheme.widgets.map.legend.font.fontSettings.fontFamily,this.updateFontSrcList(this.currentTheme.widgets.map.legend.font.fontSettings.fontFamily,this.currentTheme.widgets.map.legend.font.fontSettings.fontSrc)),t=n.DashboardUtil.IsStringNullorWhiteSpace(t)?this.getFontSizeBasedOnResolution():t,i=n.DashboardUtil.IsStringNullorWhiteSpace(i)?"Bold":i,r=n.DashboardUtil.IsStringNullorWhiteSpace(r)?"var(--designer-font)":r,{size:t,weight:i,family:r}},t.prototype.getMapLegendTitleFontText=function(){var t,i,r;return n.isNullOrUndefined(this.currentTheme)||n.isNullOrUndefined(this.currentTheme.widgets)||n.isNullOrUndefined(this.currentTheme.widgets.map)||n.isNullOrUndefined(this.currentTheme.widgets.map.legendTitle)||n.isNullOrUndefined(this.currentTheme.widgets.map.legendTitle.title)||n.isNullOrUndefined(this.currentTheme.widgets.map.legendTitle.title.font)||n.isNullOrUndefined(this.currentTheme.widgets.map.legendTitle.title.font.fontSettings)?(t=this.getWidgetLegendFontSize(),i=this.getWidgetLegendFontWeight(),r=this.getWidgetLegendFontFamily()):n.isNullOrUndefined(this.currentTheme.widgets.map.legendTitle.title.font.fontSettings.autoFontSettings)||this.currentTheme.widgets.map.legendTitle.title.font.fontSettings.autoFontSettings?(t=this.getWidgetLegendFontSize(),i=this.getWidgetLegendFontWeight(),r=this.getWidgetLegendFontFamily()):(t=n.isNullOrUndefined(this.currentTheme.widgets.map.legendTitle.title.font.fontSettings.fontSize)||n.DashboardUtil.IsStringNullorWhiteSpace(this.currentTheme.widgets.map.legendTitle.title.font.fontSettings.fontSize)?this.getWidgetLegendFontSize():this.currentTheme.widgets.map.legendTitle.title.font.fontSettings.fontSize,i=n.isNullOrUndefined(this.currentTheme.widgets.map.legendTitle.title.font.fontSettings.fontWeight)||n.DashboardUtil.IsStringNullorWhiteSpace(this.currentTheme.widgets.map.legendTitle.title.font.fontSettings.fontWeight)?this.getWidgetLegendFontWeight():this.currentTheme.widgets.map.legendTitle.title.font.fontSettings.fontWeight,r=n.isNullOrUndefined(this.currentTheme.widgets.map.legendTitle.title.font.fontSettings.fontFamily)||n.DashboardUtil.IsStringNullorWhiteSpace(this.currentTheme.widgets.map.legendTitle.title.font.fontSettings.fontFamily)?this.getWidgetLegendFontFamily():this.currentTheme.widgets.map.legendTitle.title.font.fontSettings.fontFamily,this.updateFontSrcList(this.currentTheme.widgets.map.legendTitle.title.font.fontSettings.fontFamily,this.currentTheme.widgets.map.legendTitle.title.font.fontSettings.fontSrc)),t=n.DashboardUtil.IsStringNullorWhiteSpace(t)?this.getFontSizeBasedOnResolution():t,i=n.DashboardUtil.IsStringNullorWhiteSpace(i)?"Bold":i,r=n.DashboardUtil.IsStringNullorWhiteSpace(r)?"var(--designer-font)":r,{size:t,weight:i,family:r}},t.prototype.getMapHeaderTitle=function(){var t,i,r;if(n.isNullOrUndefined(this.currentTheme)||n.isNullOrUndefined(this.currentTheme.widgets)||n.isNullOrUndefined(this.currentTheme.widgets.map)||n.isNullOrUndefined(this.currentTheme.widgets.map.widgetHeader)||n.isNullOrUndefined(this.currentTheme.widgets.map.widgetHeader.title)||n.isNullOrUndefined(this.currentTheme.widgets.map.widgetHeader.title.fontSettings))t=this.getWidgetTitleFontSize(),i=this.getWidgetTitleFontWeight(),r=this.getWidgetTitleFontFamily();else{if(n.isNullOrUndefined(this.currentTheme.widgets.map.widgetHeader.title.fontSettings.autoFontSettings)||this.currentTheme.widgets.map.widgetHeader.title.fontSettings.autoFontSettings)return"";t=n.isNullOrUndefined(this.currentTheme.widgets.map.widgetHeader.title.fontSettings.fontSize)||n.DashboardUtil.IsStringNullorWhiteSpace(this.currentTheme.widgets.map.widgetHeader.title.fontSettings.fontSize)?this.getWidgetTitleFontSize():this.currentTheme.widgets.map.widgetHeader.title.fontSettings.fontSize;i=n.isNullOrUndefined(this.currentTheme.widgets.map.widgetHeader.title.fontSettings.fontWeight)||n.DashboardUtil.IsStringNullorWhiteSpace(this.currentTheme.widgets.map.widgetHeader.title.fontSettings.fontWeight)?this.getWidgetTitleFontWeight():this.currentTheme.widgets.map.widgetHeader.title.fontSettings.fontWeight;r=n.isNullOrUndefined(this.currentTheme.widgets.map.widgetHeader.title.fontSettings.fontFamily)||n.DashboardUtil.IsStringNullorWhiteSpace(this.currentTheme.widgets.map.widgetHeader.title.fontSettings.fontFamily)?this.getWidgetTitleFontFamily():this.currentTheme.widgets.map.widgetHeader.title.fontSettings.fontFamily;this.updateFontSrcList(this.currentTheme.widgets.map.widgetHeader.title.fontSettings.fontFamily,this.currentTheme.widgets.map.widgetHeader.title.fontSettings.fontSrc)}return t=this.updateMaxValueIfSizeExceeds(t,MaximumFontValues.widgetTitle),this.getFontStyleCssValue(t,i,r)},t.prototype.getMapHeaderSubTitle=function(){var t,i,r;if(n.isNullOrUndefined(this.currentTheme)||n.isNullOrUndefined(this.currentTheme.widgets)||n.isNullOrUndefined(this.currentTheme.widgets.map)||n.isNullOrUndefined(this.currentTheme.widgets.map.widgetHeader)||n.isNullOrUndefined(this.currentTheme.widgets.map.widgetHeader.subTitle)||n.isNullOrUndefined(this.currentTheme.widgets.map.widgetHeader.subTitle.fontSettings))t=this.getWidgetSubTitleFontSize(),i=this.getWidgetSubTitleFontWeight(),r=this.getWidgetSubTitleFontFamily();else{if(n.isNullOrUndefined(this.currentTheme.widgets.map.widgetHeader.subTitle.fontSettings.autoFontSettings)||this.currentTheme.widgets.map.widgetHeader.subTitle.fontSettings.autoFontSettings)return"";t=n.isNullOrUndefined(this.currentTheme.widgets.map.widgetHeader.subTitle.fontSettings.fontSize)||n.DashboardUtil.IsStringNullorWhiteSpace(this.currentTheme.widgets.map.widgetHeader.subTitle.fontSettings.fontSize)?this.getWidgetSubTitleFontSize():this.currentTheme.widgets.map.widgetHeader.subTitle.fontSettings.fontSize;i=n.isNullOrUndefined(this.currentTheme.widgets.map.widgetHeader.subTitle.fontSettings.fontWeight)||n.DashboardUtil.IsStringNullorWhiteSpace(this.currentTheme.widgets.map.widgetHeader.subTitle.fontSettings.fontWeight)?this.getWidgetSubTitleFontWeight():this.currentTheme.widgets.map.widgetHeader.subTitle.fontSettings.fontWeight;r=n.isNullOrUndefined(this.currentTheme.widgets.map.widgetHeader.subTitle.fontSettings.fontFamily)||n.DashboardUtil.IsStringNullorWhiteSpace(this.currentTheme.widgets.map.widgetHeader.subTitle.fontSettings.fontFamily)?this.getWidgetSubTitleFontFamily():this.currentTheme.widgets.map.widgetHeader.subTitle.fontSettings.fontFamily;this.updateFontSrcList(this.currentTheme.widgets.map.widgetHeader.subTitle.fontSettings.fontFamily,this.currentTheme.widgets.map.widgetHeader.subTitle.fontSettings.fontSrc)}return t=this.updateMaxValueIfSizeExceeds(t,MaximumFontValues.widgetSubTitle),this.getFontStyleCssValue(t,i,r)},t.prototype.getHeatmapLegendFontColor=function(){return n.isNullOrUndefined(this.currentTheme)||n.isNullOrUndefined(this.currentTheme.widgets)||n.isNullOrUndefined(this.currentTheme.widgets.heatMap)||n.isNullOrUndefined(this.currentTheme.widgets.heatMap.legend)||n.isNullOrUndefined(this.currentTheme.widgets.heatMap.legend.font)||n.DashboardUtil.IsStringNullorWhiteSpace(this.currentTheme.widgets.heatMap.legend.font.color)?n.isNullOrUndefined(this.currentTheme)||n.isNullOrUndefined(this.currentTheme.widgets)||n.isNullOrUndefined(this.currentTheme.widgets.legend)||n.isNullOrUndefined(this.currentTheme.widgets.legend.font)||n.DashboardUtil.IsStringNullorWhiteSpace(this.currentTheme.widgets.legend.font.color)?this.isDarkTypeTheme()?this.darkMode.widgets.heatMap.legend.font.color:this.lightMode.widgets.heatMap.legend.font.color:this.currentTheme.widgets.legend.font.color:this.currentTheme.widgets.legend.font.color},t.prototype.getHeatmapDataLabelFontColor=function(){return n.isNullOrUndefined(this.currentTheme)||n.isNullOrUndefined(this.currentTheme.widgets)||n.isNullOrUndefined(this.currentTheme.widgets.heatMap)||n.isNullOrUndefined(this.currentTheme.widgets.heatMap.dataLabel)||n.isNullOrUndefined(this.currentTheme.widgets.heatMap.dataLabel.font)||n.DashboardUtil.IsStringNullorWhiteSpace(this.currentTheme.widgets.heatMap.dataLabel.font.color)?n.isNullOrUndefined(this.currentTheme)||n.isNullOrUndefined(this.currentTheme.widgets)||n.isNullOrUndefined(this.currentTheme.widgets.dataLabel)||n.isNullOrUndefined(this.currentTheme.widgets.dataLabel.font)||n.DashboardUtil.IsStringNullorWhiteSpace(this.currentTheme.widgets.dataLabel.font.color)?this.isDarkTypeTheme()?this.darkMode.widgets.heatMap.dataLabel.font.color:this.lightMode.widgets.heatMap.dataLabel.font.color:this.currentTheme.widgets.dataLabel.font.color:this.currentTheme.widgets.heatMap.dataLabel.font.color},t.prototype.getHeatmapAxisTitleFontColor=function(){return n.isNullOrUndefined(this.currentTheme)||n.isNullOrUndefined(this.currentTheme.widgets)||n.isNullOrUndefined(this.currentTheme.widgets.heatMap)||n.isNullOrUndefined(this.currentTheme.widgets.heatMap.axis)||n.isNullOrUndefined(this.currentTheme.widgets.heatMap.axis.title)||n.isNullOrUndefined(this.currentTheme.widgets.heatMap.axis.title.font)||n.DashboardUtil.IsStringNullorWhiteSpace(this.currentTheme.widgets.heatMap.axis.title.font.color)?n.isNullOrUndefined(this.currentTheme)||n.isNullOrUndefined(this.currentTheme.widgets)||n.isNullOrUndefined(this.currentTheme.widgets)||n.isNullOrUndefined(this.currentTheme.widgets.axis)||n.isNullOrUndefined(this.currentTheme.widgets.axis.title)||n.isNullOrUndefined(this.currentTheme.widgets.axis.title.font)||n.DashboardUtil.IsStringNullorWhiteSpace(this.currentTheme.widgets.axis.title.font.color)?this.isDarkTypeTheme()?this.darkMode.widgets.heatMap.axis.title.font.color:this.lightMode.widgets.heatMap.axis.title.font.color:this.currentTheme.widgets.axis.title.font.color:this.currentTheme.widgets.heatMap.axis.title.font.color},t.prototype.getHeatmapAxisLabelFontColor=function(){return n.isNullOrUndefined(this.currentTheme)||n.isNullOrUndefined(this.currentTheme.widgets)||n.isNullOrUndefined(this.currentTheme.widgets.heatMap)||n.isNullOrUndefined(this.currentTheme.widgets.heatMap.axis)||n.isNullOrUndefined(this.currentTheme.widgets.heatMap.axis.label)||n.isNullOrUndefined(this.currentTheme.widgets.heatMap.axis.label.font)||n.DashboardUtil.IsStringNullorWhiteSpace(this.currentTheme.widgets.heatMap.axis.label.font.color)?n.isNullOrUndefined(this.currentTheme)||n.isNullOrUndefined(this.currentTheme.widgets)||n.isNullOrUndefined(this.currentTheme.widgets)||n.isNullOrUndefined(this.currentTheme.widgets.axis)||n.isNullOrUndefined(this.currentTheme.widgets.axis.label)||n.isNullOrUndefined(this.currentTheme.widgets.axis.label.font)||n.DashboardUtil.IsStringNullorWhiteSpace(this.currentTheme.widgets.axis.label.font.color)?this.isDarkTypeTheme()?this.darkMode.widgets.heatMap.axis.label.font.color:this.lightMode.widgets.heatMap.axis.label.font.color:this.currentTheme.widgets.axis.label.font.color:this.currentTheme.widgets.heatMap.axis.label.font.color},t.prototype.getHeatmapFillColor=function(){return n.isNullOrUndefined(this.currentTheme)||n.isNullOrUndefined(this.currentTheme.widgets)||n.isNullOrUndefined(this.currentTheme.widgets.heatMap)||n.DashboardUtil.IsStringNullorWhiteSpace(this.currentTheme.widgets.heatMap.fillColor)?this.getFirstPaletteColor():this.currentTheme.widgets.heatMap.fillColor},t.prototype.getHeatmapEmptyFillColor=function(){return n.isNullOrUndefined(this.currentTheme)||n.isNullOrUndefined(this.currentTheme.widgets)||n.isNullOrUndefined(this.currentTheme.widgets.map)||n.DashboardUtil.IsStringNullorWhiteSpace(this.currentTheme.widgets.heatMap.emptyFillColor)?this.isDarkTypeTheme()?this.darkMode.widgets.heatMap.emptyFillColor:this.lightMode.widgets.heatMap.emptyFillColor:this.currentTheme.widgets.heatMap.emptyFillColor},t.prototype.getHeatMapAxisTitleFontText=function(){var t=this.getWidgetAxisTitleFontSize(),i=this.getWidgetAxisTitleFontWeight(),r=this.getWidgetAxisTitleFontFamily();return n.isNullOrUndefined(this.currentTheme)||n.isNullOrUndefined(this.currentTheme.widgets)||n.isNullOrUndefined(this.currentTheme.widgets.heatMap)||n.isNullOrUndefined(this.currentTheme.widgets.heatMap.axis)||n.isNullOrUndefined(this.currentTheme.widgets.heatMap.axis.title)||n.isNullOrUndefined(this.currentTheme.widgets.heatMap.axis.title.font)||n.isNullOrUndefined(this.currentTheme.widgets.heatMap.axis.title.font.fontSettings)||n.isNullOrUndefined(this.currentTheme.widgets.heatMap.axis.title.font.fontSettings.autoFontSettings)||this.currentTheme.widgets.heatMap.axis.title.font.fontSettings.autoFontSettings||(t=n.isNullOrUndefined(this.currentTheme.widgets.heatMap.axis.title.font.fontSettings.fontSize)||n.DashboardUtil.IsStringNullorWhiteSpace(this.currentTheme.widgets.heatMap.axis.title.font.fontSettings.fontSize)?t:this.currentTheme.widgets.heatMap.axis.title.font.fontSettings.fontSize,i=n.isNullOrUndefined(this.currentTheme.widgets.heatMap.axis.title.font.fontSettings.fontWeight)||n.DashboardUtil.IsStringNullorWhiteSpace(this.currentTheme.widgets.heatMap.axis.title.font.fontSettings.fontWeight)?i:this.currentTheme.widgets.heatMap.axis.title.font.fontSettings.fontWeight,r=n.isNullOrUndefined(this.currentTheme.widgets.heatMap.axis.title.font.fontSettings.fontFamily)||n.DashboardUtil.IsStringNullorWhiteSpace(this.currentTheme.widgets.heatMap.axis.title.font.fontSettings.fontFamily)?r:this.currentTheme.widgets.heatMap.axis.title.font.fontSettings.fontFamily,this.updateFontSrcList(this.currentTheme.widgets.heatMap.axis.title.font.fontSettings.fontFamily,this.currentTheme.widgets.heatMap.axis.title.font.fontSettings.fontSrc)),t=n.DashboardUtil.IsStringNullorWhiteSpace(t)?this.getFontSizeBasedOnResolution():t,i=n.DashboardUtil.IsStringNullorWhiteSpace(i)?"Bold":i,r=n.DashboardUtil.IsStringNullorWhiteSpace(r)?"var(--designer-font)":r,{size:t,weight:i,family:r}},t.prototype.getHeatMapAxisLabelFontText=function(){var t=this.getWidgetAxisLabelFontSize(),i=this.getWidgetAxisLabelFontWeight(),r=this.getWidgetAxisLabelFontFamily();return n.isNullOrUndefined(this.currentTheme)||n.isNullOrUndefined(this.currentTheme.widgets)||n.isNullOrUndefined(this.currentTheme.widgets.heatMap)||n.isNullOrUndefined(this.currentTheme.widgets.heatMap.axis)||n.isNullOrUndefined(this.currentTheme.widgets.heatMap.axis.label)||n.isNullOrUndefined(this.currentTheme.widgets.heatMap.axis.label.font)||n.isNullOrUndefined(this.currentTheme.widgets.heatMap.axis.label.font.fontSettings)||n.isNullOrUndefined(this.currentTheme.widgets.heatMap.axis.label.font.fontSettings.autoFontSettings)||this.currentTheme.widgets.heatMap.axis.label.font.fontSettings.autoFontSettings||(t=n.isNullOrUndefined(this.currentTheme.widgets.heatMap.axis.label.font.fontSettings.fontSize)||n.DashboardUtil.IsStringNullorWhiteSpace(this.currentTheme.widgets.heatMap.axis.label.font.fontSettings.fontSize)?t:this.currentTheme.widgets.heatMap.axis.label.font.fontSettings.fontSize,i=n.isNullOrUndefined(this.currentTheme.widgets.heatMap.axis.label.font.fontSettings.fontWeight)||n.DashboardUtil.IsStringNullorWhiteSpace(this.currentTheme.widgets.heatMap.axis.label.font.fontSettings.fontWeight)?i:this.currentTheme.widgets.heatMap.axis.label.font.fontSettings.fontWeight,r=n.isNullOrUndefined(this.currentTheme.widgets.heatMap.axis.label.font.fontSettings.fontFamily)||n.DashboardUtil.IsStringNullorWhiteSpace(this.currentTheme.widgets.heatMap.axis.label.font.fontSettings.fontFamily)?r:this.currentTheme.widgets.heatMap.axis.label.font.fontSettings.fontFamily,this.updateFontSrcList(this.currentTheme.widgets.heatMap.axis.label.font.fontSettings.fontFamily,this.currentTheme.widgets.heatMap.axis.label.font.fontSettings.fontSrc)),t=n.DashboardUtil.IsStringNullorWhiteSpace(t)?this.getFontSizeBasedOnResolution():t,i=n.DashboardUtil.IsStringNullorWhiteSpace(i)?"Regular":i,r=n.DashboardUtil.IsStringNullorWhiteSpace(r)?"var(--designer-font)":r,{size:t,weight:i,family:r}},t.prototype.getHeatMapDataLabelFontText=function(){var t=this.getWidgetDataLabelFontSize(),i=this.getWidgetDataLabelFontWeight(),r=this.getWidgetDataLabelFontFamily();return n.isNullOrUndefined(this.currentTheme)||n.isNullOrUndefined(this.currentTheme.widgets)||n.isNullOrUndefined(this.currentTheme.widgets.heatMap)||n.isNullOrUndefined(this.currentTheme.widgets.heatMap.dataLabel)||n.isNullOrUndefined(this.currentTheme.widgets.heatMap.dataLabel.font)||n.isNullOrUndefined(this.currentTheme.widgets.heatMap.dataLabel.font.fontSettings)||n.isNullOrUndefined(this.currentTheme.widgets.heatMap.dataLabel.font.fontSettings.autoFontSettings)||this.currentTheme.widgets.heatMap.dataLabel.font.fontSettings.autoFontSettings||(t=n.isNullOrUndefined(this.currentTheme.widgets.heatMap.dataLabel.font.fontSettings.fontSize)||n.DashboardUtil.IsStringNullorWhiteSpace(this.currentTheme.widgets.heatMap.dataLabel.font.fontSettings.fontSize)?t:this.currentTheme.widgets.heatMap.dataLabel.font.fontSettings.fontSize,i=n.isNullOrUndefined(this.currentTheme.widgets.heatMap.dataLabel.font.fontSettings.fontWeight)||n.DashboardUtil.IsStringNullorWhiteSpace(this.currentTheme.widgets.heatMap.dataLabel.font.fontSettings.fontWeight)?i:this.currentTheme.widgets.heatMap.dataLabel.font.fontSettings.fontWeight,r=n.isNullOrUndefined(this.currentTheme.widgets.heatMap.dataLabel.font.fontSettings.fontFamily)||n.DashboardUtil.IsStringNullorWhiteSpace(this.currentTheme.widgets.heatMap.dataLabel.font.fontSettings.fontFamily)?r:this.currentTheme.widgets.heatMap.dataLabel.font.fontSettings.fontFamily,this.updateFontSrcList(this.currentTheme.widgets.heatMap.dataLabel.font.fontSettings.fontFamily,this.currentTheme.widgets.heatMap.dataLabel.font.fontSettings.fontSrc)),t=n.DashboardUtil.IsStringNullorWhiteSpace(t)?this.getFontSizeBasedOnResolution():t,i=n.DashboardUtil.IsStringNullorWhiteSpace(i)?"Regular":i,r=n.DashboardUtil.IsStringNullorWhiteSpace(r)?"var(--designer-font)":r,{size:t,weight:i,family:r}},t.prototype.getHeatMapLegendFontText=function(){var t=this.getWidgetLegendFontSize(),i=this.getWidgetLegendFontWeight(),r=this.getWidgetLegendFontFamily();return n.isNullOrUndefined(this.currentTheme)||n.isNullOrUndefined(this.currentTheme.widgets)||n.isNullOrUndefined(this.currentTheme.widgets.heatMap)||n.isNullOrUndefined(this.currentTheme.widgets.heatMap.legend)||n.isNullOrUndefined(this.currentTheme.widgets.heatMap.legend.font)||n.isNullOrUndefined(this.currentTheme.widgets.heatMap.legend.font.fontSettings)||n.isNullOrUndefined(this.currentTheme.widgets.heatMap.legend.font.fontSettings.autoFontSettings)||this.currentTheme.widgets.heatMap.legend.font.fontSettings.autoFontSettings||(t=n.isNullOrUndefined(this.currentTheme.widgets.heatMap.legend.font.fontSettings.fontSize)||n.DashboardUtil.IsStringNullorWhiteSpace(this.currentTheme.widgets.heatMap.legend.font.fontSettings.fontSize)?t:this.currentTheme.widgets.heatMap.legend.font.fontSettings.fontSize,i=n.isNullOrUndefined(this.currentTheme.widgets.heatMap.legend.font.fontSettings.fontWeight)||n.DashboardUtil.IsStringNullorWhiteSpace(this.currentTheme.widgets.heatMap.legend.font.fontSettings.fontWeight)?i:this.currentTheme.widgets.heatMap.legend.font.fontSettings.fontWeight,r=n.isNullOrUndefined(this.currentTheme.widgets.heatMap.legend.font.fontSettings.fontFamily)||n.DashboardUtil.IsStringNullorWhiteSpace(this.currentTheme.widgets.heatMap.legend.font.fontSettings.fontFamily)?r:this.currentTheme.widgets.heatMap.legend.font.fontSettings.fontFamily,this.updateFontSrcList(this.currentTheme.widgets.heatMap.legend.font.fontSettings.fontFamily,this.currentTheme.widgets.heatMap.legend.font.fontSettings.fontSrc)),t=n.DashboardUtil.IsStringNullorWhiteSpace(t)?this.getFontSizeBasedOnResolution():t,i=n.DashboardUtil.IsStringNullorWhiteSpace(i)?"500":i,r=n.DashboardUtil.IsStringNullorWhiteSpace(r)?"var(--designer-font)":r,{size:t,weight:i,family:r}},t.prototype.getHeatMapHeaderTitle=function(){var t=this.getWidgetTitleFontSize(),i=this.getWidgetTitleFontWeight(),r=this.getWidgetTitleFontFamily();return n.isNullOrUndefined(this.currentTheme)||n.isNullOrUndefined(this.currentTheme.widgets)||n.isNullOrUndefined(this.currentTheme.widgets.heatMap)||n.isNullOrUndefined(this.currentTheme.widgets.heatMap.widgetHeader)||n.isNullOrUndefined(this.currentTheme.widgets.heatMap.widgetHeader.title)||n.isNullOrUndefined(this.currentTheme.widgets.heatMap.widgetHeader.title.fontSettings)||n.isNullOrUndefined(this.currentTheme.widgets.heatMap.widgetHeader.title.fontSettings.autoFontSettings)||this.currentTheme.widgets.heatMap.widgetHeader.title.fontSettings.autoFontSettings||(t=n.isNullOrUndefined(this.currentTheme.widgets.heatMap.widgetHeader.title.fontSettings.fontSize)||n.DashboardUtil.IsStringNullorWhiteSpace(this.currentTheme.widgets.heatMap.widgetHeader.title.fontSettings.fontSize)?t:this.currentTheme.widgets.heatMap.widgetHeader.title.fontSettings.fontSize,i=n.isNullOrUndefined(this.currentTheme.widgets.heatMap.widgetHeader.title.fontSettings.fontWeight)||n.DashboardUtil.IsStringNullorWhiteSpace(this.currentTheme.widgets.heatMap.widgetHeader.title.fontSettings.fontWeight)?i:this.currentTheme.widgets.heatMap.widgetHeader.title.fontSettings.fontWeight,r=n.isNullOrUndefined(this.currentTheme.widgets.heatMap.widgetHeader.title.fontSettings.fontFamily)||n.DashboardUtil.IsStringNullorWhiteSpace(this.currentTheme.widgets.heatMap.widgetHeader.title.fontSettings.fontFamily)?r:this.currentTheme.widgets.heatMap.widgetHeader.title.fontSettings.fontFamily,this.updateFontSrcList(this.currentTheme.widgets.heatMap.widgetHeader.title.fontSettings.fontFamily,this.currentTheme.widgets.heatMap.widgetHeader.title.fontSettings.fontSrc)),t=this.updateMaxValueIfSizeExceeds(t,MaximumFontValues.widgetTitle),this.getFontStyleCssValue(t,i,r)},t.prototype.getHeatMapHeaderSubTitle=function(){var t=this.getWidgetSubTitleFontSize(),i=this.getWidgetSubTitleFontWeight(),r=this.getWidgetSubTitleFontFamily();return n.isNullOrUndefined(this.currentTheme)||n.isNullOrUndefined(this.currentTheme.widgets)||n.isNullOrUndefined(this.currentTheme.widgets.heatMap)||n.isNullOrUndefined(this.currentTheme.widgets.heatMap.widgetHeader)||n.isNullOrUndefined(this.currentTheme.widgets.heatMap.widgetHeader.subTitle)||n.isNullOrUndefined(this.currentTheme.widgets.heatMap.widgetHeader.subTitle.fontSettings)||n.isNullOrUndefined(this.currentTheme.widgets.heatMap.widgetHeader.subTitle.fontSettings.autoFontSettings)||this.currentTheme.widgets.heatMap.widgetHeader.subTitle.fontSettings.autoFontSettings||(t=n.isNullOrUndefined(this.currentTheme.widgets.heatMap.widgetHeader.subTitle.fontSettings.fontSize)||n.DashboardUtil.IsStringNullorWhiteSpace(this.currentTheme.widgets.heatMap.widgetHeader.subTitle.fontSettings.fontSize)?t:this.currentTheme.widgets.heatMap.widgetHeader.subTitle.fontSettings.fontSize,i=n.isNullOrUndefined(this.currentTheme.widgets.heatMap.widgetHeader.subTitle.fontSettings.fontWeight)||n.DashboardUtil.IsStringNullorWhiteSpace(this.currentTheme.widgets.heatMap.widgetHeader.subTitle.fontSettings.fontWeight)?i:this.currentTheme.widgets.heatMap.widgetHeader.subTitle.fontSettings.fontWeight,r=n.isNullOrUndefined(this.currentTheme.widgets.heatMap.widgetHeader.subTitle.fontSettings.fontFamily)||n.DashboardUtil.IsStringNullorWhiteSpace(this.currentTheme.widgets.heatMap.widgetHeader.subTitle.fontSettings.fontFamily)?r:this.currentTheme.widgets.heatMap.widgetHeader.subTitle.fontSettings.fontFamily,this.updateFontSrcList(this.currentTheme.widgets.heatMap.widgetHeader.subTitle.fontSettings.fontFamily,this.currentTheme.widgets.heatMap.widgetHeader.subTitle.fontSettings.fontSrc)),t=this.updateMaxValueIfSizeExceeds(t,MaximumFontValues.widgetSubTitle),this.getFontStyleCssValue(t,i,r)},t.prototype.getTreemapLegendFontColor=function(){return n.isNullOrUndefined(this.currentTheme)||n.isNullOrUndefined(this.currentTheme.widgets)||n.isNullOrUndefined(this.currentTheme.widgets.treeMap)||n.isNullOrUndefined(this.currentTheme.widgets.treeMap.legend)||n.isNullOrUndefined(this.currentTheme.widgets.treeMap.legend.font)||n.DashboardUtil.IsStringNullorWhiteSpace(this.currentTheme.widgets.treeMap.legend.font.color)?n.isNullOrUndefined(this.currentTheme)||n.isNullOrUndefined(this.currentTheme.widgets)||n.isNullOrUndefined(this.currentTheme.widgets.legend)||n.isNullOrUndefined(this.currentTheme.widgets.legend.font)||n.DashboardUtil.IsStringNullorWhiteSpace(this.currentTheme.widgets.legend.font.color)?this.isDarkTypeTheme()?this.darkMode.widgets.treeMap.legend.font.color:this.lightMode.widgets.treeMap.legend.font.color:this.currentTheme.widgets.legend.font.color:this.currentTheme.widgets.legend.font.color},t.prototype.getTreemapDataLabelFontColor=function(){return n.isNullOrUndefined(this.currentTheme)||n.isNullOrUndefined(this.currentTheme.widgets)||n.isNullOrUndefined(this.currentTheme.widgets.treeMap)||n.isNullOrUndefined(this.currentTheme.widgets.treeMap.dataLabel)||n.isNullOrUndefined(this.currentTheme.widgets.treeMap.dataLabel.font)||n.DashboardUtil.IsStringNullorWhiteSpace(this.currentTheme.widgets.treeMap.dataLabel.font.color)?n.isNullOrUndefined(this.currentTheme)||n.isNullOrUndefined(this.currentTheme.widgets)||n.isNullOrUndefined(this.currentTheme.widgets.dataLabel)||n.isNullOrUndefined(this.currentTheme.widgets.dataLabel.font)||n.DashboardUtil.IsStringNullorWhiteSpace(this.currentTheme.widgets.dataLabel.font.color)?this.isDarkTypeTheme()?this.darkMode.widgets.treeMap.dataLabel.font.color:this.lightMode.widgets.treeMap.dataLabel.font.color:this.currentTheme.widgets.dataLabel.font.color:this.currentTheme.widgets.treeMap.dataLabel.font.color},t.prototype.getTreemapFillColor=function(){return n.isNullOrUndefined(this.currentTheme)||n.isNullOrUndefined(this.currentTheme.widgets)||n.isNullOrUndefined(this.currentTheme.widgets.treeMap)||n.DashboardUtil.IsStringNullorWhiteSpace(this.currentTheme.widgets.map.fillColor)?this.getFirstPaletteColor():this.currentTheme.widgets.treeMap.fillColor},t.prototype.getTreeMapDataLabelFontText=function(){var t=this.getWidgetDataLabelFontSize(),i=this.getWidgetDataLabelFontWeight(),r=this.getWidgetDataLabelFontFamily();return n.isNullOrUndefined(this.currentTheme)||n.isNullOrUndefined(this.currentTheme.widgets)||n.isNullOrUndefined(this.currentTheme.widgets.treeMap)||n.isNullOrUndefined(this.currentTheme.widgets.treeMap.dataLabel)||n.isNullOrUndefined(this.currentTheme.widgets.treeMap.dataLabel.font)||n.isNullOrUndefined(this.currentTheme.widgets.treeMap.dataLabel.font.fontSettings)||n.isNullOrUndefined(this.currentTheme.widgets.treeMap.dataLabel.font.fontSettings.autoFontSettings)||this.currentTheme.widgets.treeMap.dataLabel.font.fontSettings.autoFontSettings||(t=n.isNullOrUndefined(this.currentTheme.widgets.treeMap.dataLabel.font.fontSettings.fontSize)||n.DashboardUtil.IsStringNullorWhiteSpace(this.currentTheme.widgets.treeMap.dataLabel.font.fontSettings.fontSize)?this.getWidgetDataLabelFontSize():this.currentTheme.widgets.treeMap.dataLabel.font.fontSettings.fontSize,i=n.isNullOrUndefined(this.currentTheme.widgets.treeMap.dataLabel.font.fontSettings.fontWeight)||n.DashboardUtil.IsStringNullorWhiteSpace(this.currentTheme.widgets.treeMap.dataLabel.font.fontSettings.fontWeight)?this.getWidgetDataLabelFontWeight():this.currentTheme.widgets.treeMap.dataLabel.font.fontSettings.fontWeight,r=n.isNullOrUndefined(this.currentTheme.widgets.treeMap.dataLabel.font.fontSettings.fontFamily)||n.DashboardUtil.IsStringNullorWhiteSpace(this.currentTheme.widgets.treeMap.dataLabel.font.fontSettings.fontFamily)?this.getWidgetDataLabelFontFamily():this.currentTheme.widgets.treeMap.dataLabel.font.fontSettings.fontFamily,this.updateFontSrcList(this.currentTheme.widgets.treeMap.dataLabel.font.fontSettings.fontFamily,this.currentTheme.widgets.treeMap.dataLabel.font.fontSettings.fontSrc)),t=n.DashboardUtil.IsStringNullorWhiteSpace(t)?this.getFontSizeBasedOnResolution():t,i=n.DashboardUtil.IsStringNullorWhiteSpace(i)?"400":i,r=n.DashboardUtil.IsStringNullorWhiteSpace(r)?"var(--designer-font)":r,this.getFontStyleCssValue(t,i,r)},t.prototype.getTreeMapLegendFontText=function(){var t=this.getWidgetLegendFontSize(),i=this.getWidgetLegendFontWeight(),r=this.getWidgetLegendFontFamily();return n.isNullOrUndefined(this.currentTheme)||n.isNullOrUndefined(this.currentTheme.widgets)||n.isNullOrUndefined(this.currentTheme.widgets.treeMap)||n.isNullOrUndefined(this.currentTheme.widgets.treeMap.legend)||n.isNullOrUndefined(this.currentTheme.widgets.treeMap.legend.font)||n.isNullOrUndefined(this.currentTheme.widgets.treeMap.legend.font.fontSettings)||n.isNullOrUndefined(this.currentTheme.widgets.treeMap.legend.font.fontSettings.autoFontSettings)||this.currentTheme.widgets.treeMap.legend.font.fontSettings.autoFontSettings||(t=n.isNullOrUndefined(this.currentTheme.widgets.treeMap.legend.font.fontSettings.fontSize)||n.DashboardUtil.IsStringNullorWhiteSpace(this.currentTheme.widgets.treeMap.legend.font.fontSettings.fontSize)?t:this.currentTheme.widgets.treeMap.legend.font.fontSettings.fontSize,i=n.isNullOrUndefined(this.currentTheme.widgets.treeMap.legend.font.fontSettings.fontWeight)||n.DashboardUtil.IsStringNullorWhiteSpace(this.currentTheme.widgets.treeMap.legend.font.fontSettings.fontWeight)?i:this.currentTheme.widgets.treeMap.legend.font.fontSettings.fontWeight,r=n.isNullOrUndefined(this.currentTheme.widgets.treeMap.legend.font.fontSettings.fontFamily)||n.DashboardUtil.IsStringNullorWhiteSpace(this.currentTheme.widgets.treeMap.legend.font.fontSettings.fontFamily)?r:this.currentTheme.widgets.treeMap.legend.font.fontSettings.fontFamily,this.updateFontSrcList(this.currentTheme.widgets.treeMap.legend.font.fontSettings.fontFamily,this.currentTheme.widgets.treeMap.legend.font.fontSettings.fontSrc)),t=n.DashboardUtil.IsStringNullorWhiteSpace(t)?this.getFontSizeBasedOnResolution():t,i=n.DashboardUtil.IsStringNullorWhiteSpace(i)?"500":i,r=n.DashboardUtil.IsStringNullorWhiteSpace(r)?"var(--designer-font)":r,{size:t,weight:i,family:r}},t.prototype.getTreeMapLegendTitleFontText=function(){var t=this.getWidgetLegendFontSize(),i=this.getWidgetLegendFontWeight(),r=this.getWidgetLegendFontFamily();return n.isNullOrUndefined(this.currentTheme)||n.isNullOrUndefined(this.currentTheme.widgets)||n.isNullOrUndefined(this.currentTheme.widgets.treeMap)||n.isNullOrUndefined(this.currentTheme.widgets.treeMap.legendTitle)||n.isNullOrUndefined(this.currentTheme.widgets.treeMap.legendTitle.title)||n.isNullOrUndefined(this.currentTheme.widgets.treeMap.legendTitle.title.font)||n.isNullOrUndefined(this.currentTheme.widgets.treeMap.legendTitle.title.font.fontSettings)||n.isNullOrUndefined(this.currentTheme.widgets.treeMap.legendTitle.title.font.fontSettings.autoFontSettings)||this.currentTheme.widgets.treeMap.legendTitle.title.font.fontSettings.autoFontSettings||(t=n.isNullOrUndefined(this.currentTheme.widgets.treeMap.legendTitle.title.font.fontSettings.fontSize)||n.DashboardUtil.IsStringNullorWhiteSpace(this.currentTheme.widgets.treeMap.legendTitle.title.font.fontSettings.fontSize)?t:this.currentTheme.widgets.treeMap.legendTitle.title.font.fontSettings.fontSize,i=n.isNullOrUndefined(this.currentTheme.widgets.treeMap.legendTitle.title.font.fontSettings.fontWeight)||n.DashboardUtil.IsStringNullorWhiteSpace(this.currentTheme.widgets.treeMap.legendTitle.title.font.fontSettings.fontWeight)?i:this.currentTheme.widgets.treeMap.legendTitle.title.font.fontSettings.fontWeight,r=n.isNullOrUndefined(this.currentTheme.widgets.treeMap.legendTitle.title.font.fontSettings.fontFamily)||n.DashboardUtil.IsStringNullorWhiteSpace(this.currentTheme.widgets.treeMap.legendTitle.title.font.fontSettings.fontFamily)?r:this.currentTheme.widgets.treeMap.legendTitle.title.font.fontSettings.fontFamily,this.updateFontSrcList(this.currentTheme.widgets.treeMap.legendTitle.title.font.fontSettings.fontFamily,this.currentTheme.widgets.treeMap.legendTitle.title.font.fontSettings.fontSrc)),t=n.DashboardUtil.IsStringNullorWhiteSpace(t)?this.getFontSizeBasedOnResolution():t,i=n.DashboardUtil.IsStringNullorWhiteSpace(i)?"500":i,r=n.DashboardUtil.IsStringNullorWhiteSpace(r)?"var(--designer-font)":r,{size:t,weight:i,family:r}},t.prototype.getTreeMapHeaderTitle=function(){var t,i,r;if(n.isNullOrUndefined(this.currentTheme)||n.isNullOrUndefined(this.currentTheme.widgets)||n.isNullOrUndefined(this.currentTheme.widgets.treeMap)||n.isNullOrUndefined(this.currentTheme.widgets.treeMap.widgetHeader)||n.isNullOrUndefined(this.currentTheme.widgets.treeMap.widgetHeader.title)||n.isNullOrUndefined(this.currentTheme.widgets.treeMap.widgetHeader.title.fontSettings))t=this.getWidgetTitleFontSize(),i=this.getWidgetTitleFontWeight(),r=this.getWidgetTitleFontFamily();else{if(n.isNullOrUndefined(this.currentTheme.widgets.treeMap.widgetHeader.title.fontSettings.autoFontSettings)||this.currentTheme.widgets.treeMap.widgetHeader.title.fontSettings.autoFontSettings)return"";t=n.isNullOrUndefined(this.currentTheme.widgets.treeMap.widgetHeader.title.fontSettings.fontSize)||n.DashboardUtil.IsStringNullorWhiteSpace(this.currentTheme.widgets.treeMap.widgetHeader.title.fontSettings.fontSize)?this.getWidgetTitleFontSize():this.currentTheme.widgets.treeMap.widgetHeader.title.fontSettings.fontSize;i=n.isNullOrUndefined(this.currentTheme.widgets.treeMap.widgetHeader.title.fontSettings.fontWeight)||n.DashboardUtil.IsStringNullorWhiteSpace(this.currentTheme.widgets.treeMap.widgetHeader.title.fontSettings.fontWeight)?this.getWidgetTitleFontWeight():this.currentTheme.widgets.treeMap.widgetHeader.title.fontSettings.fontWeight;r=n.isNullOrUndefined(this.currentTheme.widgets.treeMap.widgetHeader.title.fontSettings.fontFamily)||n.DashboardUtil.IsStringNullorWhiteSpace(this.currentTheme.widgets.treeMap.widgetHeader.title.fontSettings.fontFamily)?this.getWidgetTitleFontFamily():this.currentTheme.widgets.treeMap.widgetHeader.title.fontSettings.fontFamily;this.updateFontSrcList(this.currentTheme.widgets.treeMap.widgetHeader.title.fontSettings.fontFamily,this.currentTheme.widgets.treeMap.widgetHeader.title.fontSettings.fontSrc)}return t=this.updateMaxValueIfSizeExceeds(t,MaximumFontValues.widgetTitle),this.getFontStyleCssValue(t,i,r)},t.prototype.getTreeMapHeaderSubTitle=function(){var t,i,r;if(n.isNullOrUndefined(this.currentTheme)||n.isNullOrUndefined(this.currentTheme.widgets)||n.isNullOrUndefined(this.currentTheme.widgets.treeMap)||n.isNullOrUndefined(this.currentTheme.widgets.treeMap.widgetHeader)||n.isNullOrUndefined(this.currentTheme.widgets.treeMap.widgetHeader.subTitle)||n.isNullOrUndefined(this.currentTheme.widgets.treeMap.widgetHeader.subTitle.fontSettings))t=this.getWidgetSubTitleFontSize(),i=this.getWidgetSubTitleFontWeight(),r=this.getWidgetSubTitleFontFamily();else{if(n.isNullOrUndefined(this.currentTheme.widgets.treeMap.widgetHeader.subTitle.fontSettings.autoFontSettings)||this.currentTheme.widgets.treeMap.widgetHeader.subTitle.fontSettings.autoFontSettings)return"";t=n.isNullOrUndefined(this.currentTheme.widgets.treeMap.widgetHeader.subTitle.fontSettings.fontSize)||n.DashboardUtil.IsStringNullorWhiteSpace(this.currentTheme.widgets.treeMap.widgetHeader.subTitle.fontSettings.fontSize)?this.getWidgetSubTitleFontSize():this.currentTheme.widgets.treeMap.widgetHeader.subTitle.fontSettings.fontSize;i=n.isNullOrUndefined(this.currentTheme.widgets.treeMap.widgetHeader.subTitle.fontSettings.fontWeight)||n.DashboardUtil.IsStringNullorWhiteSpace(this.currentTheme.widgets.treeMap.widgetHeader.subTitle.fontSettings.fontWeight)?this.getWidgetSubTitleFontWeight():this.currentTheme.widgets.treeMap.widgetHeader.subTitle.fontSettings.fontWeight;r=n.isNullOrUndefined(this.currentTheme.widgets.treeMap.widgetHeader.subTitle.fontSettings.fontFamily)||n.DashboardUtil.IsStringNullorWhiteSpace(this.currentTheme.widgets.treeMap.widgetHeader.subTitle.fontSettings.fontFamily)?this.getWidgetSubTitleFontFamily():this.currentTheme.widgets.treeMap.widgetHeader.subTitle.fontSettings.fontFamily;this.updateFontSrcList(this.currentTheme.widgets.treeMap.widgetHeader.subTitle.fontSettings.fontFamily,this.currentTheme.widgets.treeMap.widgetHeader.subTitle.fontSettings.fontSrc)}return t=this.updateMaxValueIfSizeExceeds(t,MaximumFontValues.widgetSubTitle),this.getFontStyleCssValue(t,i,r)},t.prototype.getListBoxDDLBackground=function(){return n.isNullOrUndefined(this.currentTheme)||n.isNullOrUndefined(this.currentTheme.widgets)||n.isNullOrUndefined(this.currentTheme.widgets.listbox)||n.isNullOrUndefined(this.currentTheme.widgets.listbox.dropDownList)||n.DashboardUtil.IsStringNullorWhiteSpace(this.currentTheme.widgets.listbox.dropDownList.background)?n.isNullOrUndefined(this.currentTheme)||n.isNullOrUndefined(this.currentTheme.widgets)||n.DashboardUtil.IsStringNullorWhiteSpace(this.currentTheme.widgets.background)?this.isDarkTypeTheme()?this.darkMode.widgets.listbox.dropDownList.background:this.lightMode.widgets.listbox.dropDownList.background:this.currentTheme.widgets.background:this.currentTheme.widgets.listbox.dropDownList.background},t.prototype.getListBoxDDLTextColor=function(){return n.isNullOrUndefined(this.currentTheme)||n.isNullOrUndefined(this.currentTheme.widgets)||n.isNullOrUndefined(this.currentTheme.widgets.listbox)||n.isNullOrUndefined(this.currentTheme.widgets.listbox.dropDownList)||n.isNullOrUndefined(this.currentTheme.widgets.listbox.dropDownList.font)||n.DashboardUtil.IsStringNullorWhiteSpace(this.currentTheme.widgets.listbox.dropDownList.font.color)?n.isNullOrUndefined(this.currentTheme)||n.isNullOrUndefined(this.currentTheme.widgets)||n.isNullOrUndefined(this.currentTheme.widgets.dataValue)||n.isNullOrUndefined(this.currentTheme.widgets.dataValue.font)||n.DashboardUtil.IsStringNullorWhiteSpace(this.currentTheme.widgets.dataValue.font.color)?this.isDarkTypeTheme()?this.darkMode.widgets.listbox.dropDownList.background:this.lightMode.widgets.listbox.dropDownList.background:this.currentTheme.widgets.dataValue.font.color:this.currentTheme.widgets.listbox.dropDownList.font.color},t.prototype.getListBoxDDLHoverBackground=function(){return n.isNullOrUndefined(this.currentTheme)||n.isNullOrUndefined(this.currentTheme.widgets)||n.isNullOrUndefined(this.currentTheme.widgets.listbox)||n.isNullOrUndefined(this.currentTheme.widgets.listbox.dropDownList)||n.isNullOrUndefined(this.currentTheme.widgets.listbox.dropDownList.hover)||n.DashboardUtil.IsStringNullorWhiteSpace(this.currentTheme.widgets.listbox.dropDownList.hover.background)?n.isNullOrUndefined(this.currentTheme)||n.isNullOrUndefined(this.currentTheme.widgets)||n.isNullOrUndefined(this.currentTheme.widgets.dataValue)||n.isNullOrUndefined(this.currentTheme.widgets.dataValue.hover)||n.DashboardUtil.IsStringNullorWhiteSpace(this.currentTheme.widgets.dataValue.hover.background)?this.isDarkTypeTheme()?this.darkMode.widgets.listbox.dropDownList.hover.background:this.lightMode.widgets.listbox.dropDownList.hover.background:this.currentTheme.widgets.dataValue.hover.background:this.currentTheme.widgets.listbox.dropDownList.hover.background},t.prototype.getListBoxDDLHoverTextColor=function(){return n.isNullOrUndefined(this.currentTheme)||n.isNullOrUndefined(this.currentTheme.widgets)||n.isNullOrUndefined(this.currentTheme.widgets.listbox)||n.isNullOrUndefined(this.currentTheme.widgets.listbox.dropDownList)||n.isNullOrUndefined(this.currentTheme.widgets.listbox.dropDownList.hover)||n.isNullOrUndefined(this.currentTheme.widgets.listbox.dropDownList.hover.font)||n.DashboardUtil.IsStringNullorWhiteSpace(this.currentTheme.widgets.listbox.dropDownList.hover.font.color)?n.isNullOrUndefined(this.currentTheme)||n.isNullOrUndefined(this.currentTheme.widgets)||n.isNullOrUndefined(this.currentTheme.widgets.dataValue)||n.isNullOrUndefined(this.currentTheme.widgets.dataValue.hover)||n.isNullOrUndefined(this.currentTheme.widgets.dataValue.hover.font)||n.DashboardUtil.IsStringNullorWhiteSpace(this.currentTheme.widgets.dataValue.hover.font.color)?this.isDarkTypeTheme()?this.darkMode.widgets.listbox.dropDownList.hover.font.color:this.lightMode.widgets.listbox.dropDownList.hover.font.color:this.currentTheme.widgets.dataValue.hover.font.color:this.currentTheme.widgets.listbox.dropDownList.hover.font.color},t.prototype.getListBoxDDLSelectionBackground=function(){return n.isNullOrUndefined(this.currentTheme)||n.isNullOrUndefined(this.currentTheme.widgets)||n.isNullOrUndefined(this.currentTheme.widgets.listbox)||n.isNullOrUndefined(this.currentTheme.widgets.listbox.dropDownList)||n.isNullOrUndefined(this.currentTheme.widgets.listbox.dropDownList.selection)||n.DashboardUtil.IsStringNullorWhiteSpace(this.currentTheme.widgets.listbox.dropDownList.selection.background)?n.isNullOrUndefined(this.currentTheme)||n.isNullOrUndefined(this.currentTheme.widgets)||n.isNullOrUndefined(this.currentTheme.widgets.dataValue)||n.isNullOrUndefined(this.currentTheme.widgets.dataValue.hover)||n.DashboardUtil.IsStringNullorWhiteSpace(this.currentTheme.widgets.dataValue.hover.background)?this.isDarkTypeTheme()?this.darkMode.widgets.listbox.dropDownList.selection.background:this.lightMode.widgets.listbox.dropDownList.selection.background:this.currentTheme.widgets.dataValue.hover.background:this.currentTheme.widgets.listbox.dropDownList.selection.background},t.prototype.getListBoxDDLSelectionTextColor=function(){return n.isNullOrUndefined(this.currentTheme)||n.isNullOrUndefined(this.currentTheme.widgets)||n.isNullOrUndefined(this.currentTheme.widgets.listbox)||n.isNullOrUndefined(this.currentTheme.widgets.listbox.dropDownList)||n.isNullOrUndefined(this.currentTheme.widgets.listbox.dropDownList.selection)||n.isNullOrUndefined(this.currentTheme.widgets.listbox.dropDownList.selection.font)||n.DashboardUtil.IsStringNullorWhiteSpace(this.currentTheme.widgets.listbox.dropDownList.selection.font.color)?n.isNullOrUndefined(this.currentTheme)||n.isNullOrUndefined(this.currentTheme.widgets)||n.isNullOrUndefined(this.currentTheme.widgets.dataValue)||n.isNullOrUndefined(this.currentTheme.widgets.dataValue.font)||n.DashboardUtil.IsStringNullorWhiteSpace(this.currentTheme.widgets.dataValue.font.color)?this.isDarkTypeTheme()?this.darkMode.widgets.listbox.dropDownList.selection.font.color:this.lightMode.widgets.listbox.dropDownList.selection.font.color:this.currentTheme.widgets.dataValue.font.color:this.currentTheme.widgets.listbox.dropDownList.selection.font.color},t.prototype.getListBoxCBTickColor=function(){return n.isNullOrUndefined(this.currentTheme)||n.isNullOrUndefined(this.currentTheme.widgets)||n.isNullOrUndefined(this.currentTheme.widgets.listbox)||n.isNullOrUndefined(this.currentTheme.widgets.listbox.checkbox)||n.DashboardUtil.IsStringNullorWhiteSpace(this.currentTheme.widgets.listbox.checkbox.tickColor)?this.isDarkTypeTheme()?this.darkMode.widgets.listbox.checkbox.tickColor:this.lightMode.widgets.listbox.checkbox.tickColor:this.currentTheme.widgets.listbox.checkbox.tickColor},t.prototype.getListBoxCBUncheckedBorderColor=function(){return n.isNullOrUndefined(this.currentTheme)||n.isNullOrUndefined(this.currentTheme.widgets)||n.isNullOrUndefined(this.currentTheme.widgets.listbox)||n.isNullOrUndefined(this.currentTheme.widgets.listbox.checkbox)||n.DashboardUtil.IsStringNullorWhiteSpace(this.currentTheme.widgets.listbox.checkbox.uncheckedBorder)?this.isDarkTypeTheme()?this.darkMode.widgets.listbox.checkbox.uncheckedBorder:this.lightMode.widgets.listbox.checkbox.uncheckedBorder:this.currentTheme.widgets.listbox.checkbox.uncheckedBorder},t.prototype.getListBoxCBUncheckedBackground=function(){return n.isNullOrUndefined(this.currentTheme)||n.isNullOrUndefined(this.currentTheme.widgets)||n.isNullOrUndefined(this.currentTheme.widgets.listbox)||n.isNullOrUndefined(this.currentTheme.widgets.listbox.checkbox)||n.DashboardUtil.IsStringNullorWhiteSpace(this.currentTheme.widgets.listbox.checkbox.uncheckedBackground)?this.isDarkTypeTheme()?this.darkMode.widgets.listbox.checkbox.uncheckedBackground:this.lightMode.widgets.listbox.checkbox.uncheckedBackground:this.currentTheme.widgets.listbox.checkbox.uncheckedBackground},t.prototype.getListBoxCBCheckedBorderColor=function(){return n.isNullOrUndefined(this.currentTheme)||n.isNullOrUndefined(this.currentTheme.widgets)||n.isNullOrUndefined(this.currentTheme.widgets.listbox)||n.isNullOrUndefined(this.currentTheme.widgets.listbox.checkbox)||n.DashboardUtil.IsStringNullorWhiteSpace(this.currentTheme.widgets.listbox.checkbox.checkedBorder)?this.isDarkTypeTheme()?this.darkMode.widgets.listbox.checkbox.checkedBorder:this.lightMode.widgets.listbox.checkbox.checkedBorder:this.currentTheme.widgets.listbox.checkbox.checkedBorder},t.prototype.getListBoxCBCheckedBackground=function(){return n.isNullOrUndefined(this.currentTheme)||n.isNullOrUndefined(this.currentTheme.widgets)||n.isNullOrUndefined(this.currentTheme.widgets.listbox)||n.isNullOrUndefined(this.currentTheme.widgets.listbox.checkbox)||n.DashboardUtil.IsStringNullorWhiteSpace(this.currentTheme.widgets.listbox.checkbox.checkedBackground)?this.isDarkTypeTheme()?this.darkMode.widgets.listbox.checkbox.checkedBackground:this.lightMode.widgets.listbox.checkbox.checkedBackground:this.currentTheme.widgets.listbox.checkbox.checkedBackground},t.prototype.getListBoxDDLFontText=function(){var t=this.getWidgetDataValueFontSize(),i=this.getWidgetDataValueFontWeight(),r=this.getWidgetDataValueFontFamily();return n.isNullOrUndefined(this.currentTheme)||n.isNullOrUndefined(this.currentTheme.widgets)||n.isNullOrUndefined(this.currentTheme.widgets.listbox)||n.isNullOrUndefined(this.currentTheme.widgets.listbox.dropDownList)||n.isNullOrUndefined(this.currentTheme.widgets.listbox.dropDownList.font)||n.isNullOrUndefined(this.currentTheme.widgets.listbox.dropDownList.font.fontSettings)||n.isNullOrUndefined(this.currentTheme.widgets.listbox.dropDownList.font.fontSettings.autoFontSettings)||this.currentTheme.widgets.listbox.dropDownList.font.fontSettings.autoFontSettings||(t=n.isNullOrUndefined(this.currentTheme.widgets.listbox.dropDownList.font.fontSettings.fontSize)||n.DashboardUtil.IsStringNullorWhiteSpace(this.currentTheme.widgets.listbox.dropDownList.font.fontSettings.fontSize)?this.getWidgetDataValueFontSize():this.currentTheme.widgets.listbox.dropDownList.font.fontSettings.fontSize,i=n.isNullOrUndefined(this.currentTheme.widgets.listbox.dropDownList.font.fontSettings.fontWeight)||n.DashboardUtil.IsStringNullorWhiteSpace(this.currentTheme.widgets.listbox.dropDownList.font.fontSettings.fontWeight)?this.getWidgetDataValueFontWeight():this.currentTheme.widgets.listbox.dropDownList.font.fontSettings.fontWeight,r=n.isNullOrUndefined(this.currentTheme.widgets.listbox.dropDownList.font.fontSettings.fontFamily)||n.DashboardUtil.IsStringNullorWhiteSpace(this.currentTheme.widgets.listbox.dropDownList.font.fontSettings.fontFamily)?this.getWidgetDataValueFontFamily():this.currentTheme.widgets.listbox.dropDownList.font.fontSettings.fontFamily,this.updateFontSrcList(this.currentTheme.widgets.listbox.dropDownList.font.fontSettings.fontFamily,this.currentTheme.widgets.listbox.dropDownList.font.fontSettings.fontSrc)),t=n.DashboardUtil.IsStringNullorWhiteSpace(t)?this.getFontSizeResolutionBased():t,i=n.DashboardUtil.IsStringNullorWhiteSpace(i)?"Regular":i,r=n.DashboardUtil.IsStringNullorWhiteSpace(r)?"var(--designer-font)":r,{size:t,weight:i,family:r}},t.prototype.getListBoxDDLHoverFontText=function(){var t=this.getWidgetDataValueHoverFontSize(),i=this.getWidgetDataValueHoverFontWeight(),r=this.getWidgetDataValueHoverFontFamily();return n.isNullOrUndefined(this.currentTheme)||n.isNullOrUndefined(this.currentTheme.widgets)||n.isNullOrUndefined(this.currentTheme.widgets.listbox)||n.isNullOrUndefined(this.currentTheme.widgets.listbox.dropDownList)||n.isNullOrUndefined(this.currentTheme.widgets.listbox.dropDownList.hover)||n.isNullOrUndefined(this.currentTheme.widgets.listbox.dropDownList.hover.font)||n.isNullOrUndefined(this.currentTheme.widgets.listbox.dropDownList.hover.font.fontSettings)||n.isNullOrUndefined(this.currentTheme.widgets.listbox.dropDownList.hover.font.fontSettings.autoFontSettings)||this.currentTheme.widgets.listbox.dropDownList.hover.font.fontSettings.autoFontSettings||(t=n.isNullOrUndefined(this.currentTheme.widgets.listbox.dropDownList.hover.font.fontSettings.fontSize)||n.DashboardUtil.IsStringNullorWhiteSpace(this.currentTheme.widgets.listbox.dropDownList.hover.font.fontSettings.fontSize)?this.getWidgetDataValueHoverFontSize():this.currentTheme.widgets.listbox.dropDownList.hover.font.fontSettings.fontSize,i=n.isNullOrUndefined(this.currentTheme.widgets.listbox.dropDownList.hover.font.fontSettings.fontWeight)||n.DashboardUtil.IsStringNullorWhiteSpace(this.currentTheme.widgets.listbox.dropDownList.hover.font.fontSettings.fontWeight)?this.getWidgetDataValueHoverFontWeight():this.currentTheme.widgets.listbox.dropDownList.hover.font.fontSettings.fontWeight,r=n.isNullOrUndefined(this.currentTheme.widgets.listbox.dropDownList.hover.font.fontSettings.fontFamily)||n.DashboardUtil.IsStringNullorWhiteSpace(this.currentTheme.widgets.listbox.dropDownList.hover.font.fontSettings.fontFamily)?this.getWidgetDataValueHoverFontFamily():this.currentTheme.widgets.listbox.dropDownList.hover.font.fontSettings.fontFamily,this.updateFontSrcList(this.currentTheme.widgets.listbox.dropDownList.hover.font.fontSettings.fontFamily,this.currentTheme.widgets.listbox.dropDownList.hover.font.fontSettings.fontSrc)),this.getFontStyleCssValue(t,i,r)},t.prototype.getListBoxDDLSelectFontText=function(){var t=this.getWidgetDataValueFontSize(),i=this.getWidgetDataValueFontWeight(),r=this.getWidgetDataValueFontFamily();return n.isNullOrUndefined(this.currentTheme)||n.isNullOrUndefined(this.currentTheme.widgets)||n.isNullOrUndefined(this.currentTheme.widgets.listbox)||n.isNullOrUndefined(this.currentTheme.widgets.listbox.dropDownList)||n.isNullOrUndefined(this.currentTheme.widgets.listbox.dropDownList.selection)||n.isNullOrUndefined(this.currentTheme.widgets.listbox.dropDownList.selection.font)||n.isNullOrUndefined(this.currentTheme.widgets.listbox.dropDownList.selection.font.fontSettings)||n.isNullOrUndefined(this.currentTheme.widgets.listbox.dropDownList.selection.font.fontSettings.autoFontSettings)||this.currentTheme.widgets.listbox.dropDownList.selection.font.fontSettings.autoFontSettings||(t=n.isNullOrUndefined(this.currentTheme.widgets.listbox.dropDownList.selection.font.fontSettings.fontSize)||n.DashboardUtil.IsStringNullorWhiteSpace(this.currentTheme.widgets.listbox.dropDownList.selection.font.fontSettings.fontSize)?this.getWidgetDataValueFontSize():this.currentTheme.widgets.listbox.dropDownList.selection.font.fontSettings.fontSize,i=n.isNullOrUndefined(this.currentTheme.widgets.listbox.dropDownList.selection.font.fontSettings.fontWeight)||n.DashboardUtil.IsStringNullorWhiteSpace(this.currentTheme.widgets.listbox.dropDownList.selection.font.fontSettings.fontWeight)?this.getWidgetDataValueFontWeight():this.currentTheme.widgets.listbox.dropDownList.selection.font.fontSettings.fontWeight,r=n.isNullOrUndefined(this.currentTheme.widgets.listbox.dropDownList.selection.font.fontSettings.fontFamily)||n.DashboardUtil.IsStringNullorWhiteSpace(this.currentTheme.widgets.listbox.dropDownList.selection.font.fontSettings.fontFamily)?this.getWidgetDataValueFontFamily():this.currentTheme.widgets.listbox.dropDownList.selection.font.fontSettings.fontFamily,this.updateFontSrcList(this.currentTheme.widgets.listbox.dropDownList.selection.font.fontSettings.fontFamily,this.currentTheme.widgets.listbox.dropDownList.selection.font.fontSettings.fontSrc)),this.getFontStyleCssValue(t,i,r)},t.prototype.getListBoxHeaderTitle=function(){var t,i,r;if(n.isNullOrUndefined(this.currentTheme)||n.isNullOrUndefined(this.currentTheme.widgets)||n.isNullOrUndefined(this.currentTheme.widgets.listbox)||n.isNullOrUndefined(this.currentTheme.widgets.listbox.widgetHeader)||n.isNullOrUndefined(this.currentTheme.widgets.listbox.widgetHeader.title)||n.isNullOrUndefined(this.currentTheme.widgets.listbox.widgetHeader.title.fontSettings))t=this.getWidgetTitleFontSize(),i=this.getWidgetTitleFontWeight(),r=this.getWidgetTitleFontFamily();else{if(n.isNullOrUndefined(this.currentTheme.widgets.listbox.widgetHeader.title.fontSettings.autoFontSettings)||this.currentTheme.widgets.listbox.widgetHeader.title.fontSettings.autoFontSettings)return"";t=n.isNullOrUndefined(this.currentTheme.widgets.listbox.widgetHeader.title.fontSettings.fontSize)||n.DashboardUtil.IsStringNullorWhiteSpace(this.currentTheme.widgets.listbox.widgetHeader.title.fontSettings.fontSize)?this.getWidgetTitleFontSize():this.currentTheme.widgets.listbox.widgetHeader.title.fontSettings.fontSize;i=n.isNullOrUndefined(this.currentTheme.widgets.listbox.widgetHeader.title.fontSettings.fontWeight)||n.DashboardUtil.IsStringNullorWhiteSpace(this.currentTheme.widgets.listbox.widgetHeader.title.fontSettings.fontWeight)?this.getWidgetTitleFontWeight():this.currentTheme.widgets.listbox.widgetHeader.title.fontSettings.fontWeight;r=n.isNullOrUndefined(this.currentTheme.widgets.listbox.widgetHeader.title.fontSettings.fontFamily)||n.DashboardUtil.IsStringNullorWhiteSpace(this.currentTheme.widgets.listbox.widgetHeader.title.fontSettings.fontFamily)?this.getWidgetTitleFontFamily():this.currentTheme.widgets.listbox.widgetHeader.title.fontSettings.fontFamily;this.updateFontSrcList(this.currentTheme.widgets.listbox.widgetHeader.title.fontSettings.fontFamily,this.currentTheme.widgets.listbox.widgetHeader.title.fontSettings.fontSrc)}return t=this.updateMaxValueIfSizeExceeds(t,MaximumFontValues.widgetTitle),this.getFontStyleCssValue(t,i,r)},t.prototype.getListBoxHeaderSubTitle=function(){var t,i,r;if(n.isNullOrUndefined(this.currentTheme)||n.isNullOrUndefined(this.currentTheme.widgets)||n.isNullOrUndefined(this.currentTheme.widgets.listbox)||n.isNullOrUndefined(this.currentTheme.widgets.listbox.widgetHeader)||n.isNullOrUndefined(this.currentTheme.widgets.listbox.widgetHeader.subTitle)||n.isNullOrUndefined(this.currentTheme.widgets.listbox.widgetHeader.subTitle.fontSettings))t=this.getWidgetSubTitleFontSize(),i=this.getWidgetSubTitleFontWeight(),r=this.getWidgetSubTitleFontFamily();else{if(n.isNullOrUndefined(this.currentTheme.widgets.listbox.widgetHeader.subTitle.fontSettings.autoFontSettings)||this.currentTheme.widgets.listbox.widgetHeader.subTitle.fontSettings.autoFontSettings)return"";t=n.isNullOrUndefined(this.currentTheme.widgets.listbox.widgetHeader.subTitle.fontSettings.fontSize)||n.DashboardUtil.IsStringNullorWhiteSpace(this.currentTheme.widgets.listbox.widgetHeader.subTitle.fontSettings.fontSize)?this.getWidgetSubTitleFontSize():this.currentTheme.widgets.listbox.widgetHeader.subTitle.fontSettings.fontSize;i=n.isNullOrUndefined(this.currentTheme.widgets.listbox.widgetHeader.subTitle.fontSettings.fontWeight)||n.DashboardUtil.IsStringNullorWhiteSpace(this.currentTheme.widgets.listbox.widgetHeader.subTitle.fontSettings.fontWeight)?this.getWidgetSubTitleFontWeight():this.currentTheme.widgets.listbox.widgetHeader.subTitle.fontSettings.fontWeight;r=n.isNullOrUndefined(this.currentTheme.widgets.listbox.widgetHeader.subTitle.fontSettings.fontFamily)||n.DashboardUtil.IsStringNullorWhiteSpace(this.currentTheme.widgets.listbox.widgetHeader.subTitle.fontSettings.fontFamily)?this.getWidgetSubTitleFontFamily():this.currentTheme.widgets.listbox.widgetHeader.subTitle.fontSettings.fontFamily;this.updateFontSrcList(this.currentTheme.widgets.listbox.widgetHeader.subTitle.fontSettings.fontFamily,this.currentTheme.widgets.listbox.widgetHeader.subTitle.fontSettings.fontSrc)}return t=this.updateMaxValueIfSizeExceeds(t,MaximumFontValues.widgetSubTitle),this.getFontStyleCssValue(t,i,r)},t.prototype.getDDWidgetDDLBackground=function(t){return n.isNullOrUndefined(this.currentTheme)||n.isNullOrUndefined(this.currentTheme.widgets)||n.isNullOrUndefined(this.currentTheme.widgets[t])||n.isNullOrUndefined(this.currentTheme.widgets[t].dropDownList)||n.DashboardUtil.IsStringNullorWhiteSpace(this.currentTheme.widgets[t].dropDownList.background)?n.isNullOrUndefined(this.currentTheme)||n.isNullOrUndefined(this.currentTheme.widgets)||n.DashboardUtil.IsStringNullorWhiteSpace(this.currentTheme.widgets.background)?this.isDarkTypeTheme()?this.darkMode.widgets[t].dropDownList.background:this.lightMode.widgets[t].dropDownList.background:this.currentTheme.widgets.background:this.currentTheme.widgets[t].dropDownList.background},t.prototype.getDDWidgetBorderColor=function(t){return n.isNullOrUndefined(this.currentTheme)||n.isNullOrUndefined(this.currentTheme.widgets)||n.isNullOrUndefined(this.currentTheme.widgets[t])||n.DashboardUtil.IsStringNullorWhiteSpace(this.currentTheme.widgets[t].borderColor)?this.isDarkTypeTheme()?this.darkMode.widgets[t].borderColor:this.lightMode.widgets[t].borderColor:this.currentTheme.widgets[t].borderColor},t.prototype.getDDWidgetDropDownBorderColor=function(t){return n.isNullOrUndefined(this.currentTheme)||n.isNullOrUndefined(this.currentTheme.widgets)||n.isNullOrUndefined(this.currentTheme.widgets[t])||n.isNullOrUndefined(this.currentTheme.widgets[t].dropDownList)||n.DashboardUtil.IsStringNullorWhiteSpace(this.currentTheme.widgets[t].dropDownList.borderColor)?this.isDarkTypeTheme()?this.darkMode.widgets[t].dropDownList.borderColor:this.lightMode.widgets[t].dropDownList.borderColor:this.currentTheme.widgets[t].dropDownList.borderColor},t.prototype.getDDWidgetDDLTextColor=function(t){return n.isNullOrUndefined(this.currentTheme)||n.isNullOrUndefined(this.currentTheme.widgets)||n.isNullOrUndefined(this.currentTheme.widgets[t])||n.isNullOrUndefined(this.currentTheme.widgets[t].dropDownList)||n.isNullOrUndefined(this.currentTheme.widgets[t].dropDownList.font)||n.DashboardUtil.IsStringNullorWhiteSpace(this.currentTheme.widgets[t].dropDownList.font.color)?n.isNullOrUndefined(this.currentTheme)||n.isNullOrUndefined(this.currentTheme.widgets)||n.isNullOrUndefined(this.currentTheme.widgets.dataValue)||n.isNullOrUndefined(this.currentTheme.widgets.dataValue.font)||n.DashboardUtil.IsStringNullorWhiteSpace(this.currentTheme.widgets.dataValue.font.color)?this.isDarkTypeTheme()?this.darkMode.widgets[t].dropDownList.font.color:this.lightMode.widgets[t].dropDownList.font.color:this.currentTheme.widgets.dataValue.font.color:this.currentTheme.widgets[t].dropDownList.font.color},t.prototype.getDDWidgetDDLArrowColor=function(t){return n.isNullOrUndefined(this.currentTheme)||n.isNullOrUndefined(this.currentTheme.widgets)||n.isNullOrUndefined(this.currentTheme.widgets[t])||n.isNullOrUndefined(this.currentTheme.widgets[t].dropDownList)||n.DashboardUtil.IsStringNullorWhiteSpace(this.currentTheme.widgets[t].dropDownList.downArrowColor)?this.isDarkTypeTheme()?this.darkMode.widgets[t].dropDownList.downArrowColor:this.lightMode.widgets[t].dropDownList.downArrowColor:this.currentTheme.widgets[t].dropDownList.downArrowColor},t.prototype.getDDWidgetDDLHoverBackground=function(t){return n.isNullOrUndefined(this.currentTheme)||n.isNullOrUndefined(this.currentTheme.widgets)||n.isNullOrUndefined(this.currentTheme.widgets[t])||n.isNullOrUndefined(this.currentTheme.widgets[t].dropDownList)||n.isNullOrUndefined(this.currentTheme.widgets[t].dropDownList.hover)||n.DashboardUtil.IsStringNullorWhiteSpace(this.currentTheme.widgets[t].dropDownList.hover.background)?n.isNullOrUndefined(this.currentTheme)||n.isNullOrUndefined(this.currentTheme.widgets)||n.isNullOrUndefined(this.currentTheme.widgets.dataValue)||n.isNullOrUndefined(this.currentTheme.widgets.dataValue.hover)||n.DashboardUtil.IsStringNullorWhiteSpace(this.currentTheme.widgets.dataValue.hover.background)?this.isDarkTypeTheme()?this.darkMode.widgets[t].dropDownList.hover.background:this.lightMode.widgets[t].dropDownList.hover.background:this.currentTheme.widgets.dataValue.hover.background:this.currentTheme.widgets[t].dropDownList.hover.background},t.prototype.getDDWidgetDDLHoverTextColor=function(t){return n.isNullOrUndefined(this.currentTheme)||n.isNullOrUndefined(this.currentTheme.widgets)||n.isNullOrUndefined(this.currentTheme.widgets[t])||n.isNullOrUndefined(this.currentTheme.widgets[t].dropDownList)||n.isNullOrUndefined(this.currentTheme.widgets[t].dropDownList.hover)||n.isNullOrUndefined(this.currentTheme.widgets[t].dropDownList.hover.font)||n.DashboardUtil.IsStringNullorWhiteSpace(this.currentTheme.widgets[t].dropDownList.hover.font.color)?n.isNullOrUndefined(this.currentTheme)||n.isNullOrUndefined(this.currentTheme.widgets)||n.isNullOrUndefined(this.currentTheme.widgets.dataValue)||n.isNullOrUndefined(this.currentTheme.widgets.dataValue.font)||n.DashboardUtil.IsStringNullorWhiteSpace(this.currentTheme.widgets.dataValue.font.color)?this.isDarkTypeTheme()?this.darkMode.widgets[t].dropDownList.hover.font.color:this.lightMode.widgets[t].dropDownList.hover.font.color:this.currentTheme.widgets.dataValue.font.color:this.currentTheme.widgets[t].dropDownList.hover.font.color},t.prototype.getDDWidgetDDLSelectionBackground=function(t){return n.isNullOrUndefined(this.currentTheme)||n.isNullOrUndefined(this.currentTheme.widgets)||n.isNullOrUndefined(this.currentTheme.widgets[t])||n.isNullOrUndefined(this.currentTheme.widgets[t].dropDownList)||n.isNullOrUndefined(this.currentTheme.widgets[t].dropDownList.selection)||n.DashboardUtil.IsStringNullorWhiteSpace(this.currentTheme.widgets[t].dropDownList.selection.background)?n.isNullOrUndefined(this.currentTheme)||n.isNullOrUndefined(this.currentTheme.widgets)||n.isNullOrUndefined(this.currentTheme.widgets.dataValue)||n.isNullOrUndefined(this.currentTheme.widgets.dataValue.hover)||n.DashboardUtil.IsStringNullorWhiteSpace(this.currentTheme.widgets.dataValue.background)?this.isDarkTypeTheme()?this.darkMode.widgets[t].dropDownList.selection.background:this.lightMode.widgets[t].dropDownList.selection.background:this.currentTheme.widgets.dataValue.hover.background:this.currentTheme.widgets[t].dropDownList.selection.background},t.prototype.getDDWidgetDDLSelectionTextColor=function(t){return n.isNullOrUndefined(this.currentTheme)||n.isNullOrUndefined(this.currentTheme.widgets)||n.isNullOrUndefined(this.currentTheme.widgets[t])||n.isNullOrUndefined(this.currentTheme.widgets[t].dropDownList)||n.isNullOrUndefined(this.currentTheme.widgets[t].dropDownList.selection)||n.isNullOrUndefined(this.currentTheme.widgets[t].dropDownList.selection.font)||n.DashboardUtil.IsStringNullorWhiteSpace(this.currentTheme.widgets[t].dropDownList.selection.font.color)?n.isNullOrUndefined(this.currentTheme)||n.isNullOrUndefined(this.currentTheme.widgets)||n.isNullOrUndefined(this.currentTheme.widgets.dataValue)||n.isNullOrUndefined(this.currentTheme.widgets.dataValue.font)||n.DashboardUtil.IsStringNullorWhiteSpace(this.currentTheme.widgets.dataValue.font.color)?this.isDarkTypeTheme()?this.darkMode.widgets[t].dropDownList.selection.font.color:this.lightMode.widgets[t].dropDownList.selection.font.color:this.currentTheme.widgets.dataValue.font.color:this.currentTheme.widgets[t].dropDownList.selection.font.color},t.prototype.getComboBoxCBTickColor=function(){return n.isNullOrUndefined(this.currentTheme)||n.isNullOrUndefined(this.currentTheme.widgets)||n.isNullOrUndefined(this.currentTheme.widgets.combobox)||n.isNullOrUndefined(this.currentTheme.widgets.combobox.checkbox)||n.DashboardUtil.IsStringNullorWhiteSpace(this.currentTheme.widgets.combobox.checkbox.tickColor)?this.isDarkTypeTheme()?this.darkMode.widgets.combobox.checkbox.tickColor:this.lightMode.widgets.combobox.checkbox.tickColor:this.currentTheme.widgets.combobox.checkbox.tickColor},t.prototype.getComboBoxCBCheckedBorderColor=function(){return n.isNullOrUndefined(this.currentTheme)||n.isNullOrUndefined(this.currentTheme.widgets)||n.isNullOrUndefined(this.currentTheme.widgets.combobox)||n.isNullOrUndefined(this.currentTheme.widgets.combobox.checkbox)||n.DashboardUtil.IsStringNullorWhiteSpace(this.currentTheme.widgets.combobox.checkbox.checkedBorder)?this.isDarkTypeTheme()?this.darkMode.widgets.combobox.checkbox.checkedBorder:this.lightMode.widgets.combobox.checkbox.checkedBorder:this.currentTheme.widgets.combobox.checkbox.checkedBorder},t.prototype.getComboBoxCBCheckedBackground=function(){return n.isNullOrUndefined(this.currentTheme)||n.isNullOrUndefined(this.currentTheme.widgets)||n.isNullOrUndefined(this.currentTheme.widgets.combobox)||n.isNullOrUndefined(this.currentTheme.widgets.combobox.checkbox)||n.DashboardUtil.IsStringNullorWhiteSpace(this.currentTheme.widgets.combobox.checkbox.checkedBackground)?this.isDarkTypeTheme()?this.darkMode.widgets.combobox.checkbox.checkedBackground:this.lightMode.widgets.combobox.checkbox.checkedBackground:this.currentTheme.widgets.combobox.checkbox.checkedBackground},t.prototype.getComboBoxCBUncheckedBorderColor=function(){return n.isNullOrUndefined(this.currentTheme)||n.isNullOrUndefined(this.currentTheme.widgets)||n.isNullOrUndefined(this.currentTheme.widgets.combobox)||n.isNullOrUndefined(this.currentTheme.widgets.combobox.checkbox)||n.DashboardUtil.IsStringNullorWhiteSpace(this.currentTheme.widgets.combobox.checkbox.uncheckedBorder)?this.isDarkTypeTheme()?this.darkMode.widgets.combobox.checkbox.uncheckedBorder:this.lightMode.widgets.combobox.checkbox.uncheckedBorder:this.currentTheme.widgets.combobox.checkbox.uncheckedBorder},t.prototype.getComboBoxCBUncheckedBackground=function(){return n.isNullOrUndefined(this.currentTheme)||n.isNullOrUndefined(this.currentTheme.widgets)||n.isNullOrUndefined(this.currentTheme.widgets.combobox)||n.isNullOrUndefined(this.currentTheme.widgets.combobox.checkbox)||n.DashboardUtil.IsStringNullorWhiteSpace(this.currentTheme.widgets.combobox.checkbox.uncheckedBackground)?this.isDarkTypeTheme()?this.darkMode.widgets.combobox.checkbox.uncheckedBackground:this.lightMode.widgets.combobox.checkbox.uncheckedBackground:this.currentTheme.widgets.combobox.checkbox.uncheckedBackground},t.prototype.getDDWidgetPlaceHolderColor=function(t){return n.isNullOrUndefined(this.currentTheme)||n.isNullOrUndefined(this.currentTheme.widgets)||n.isNullOrUndefined(this.currentTheme.widgets[t])||n.DashboardUtil.IsStringNullorWhiteSpace(this.currentTheme.widgets[t].placeHolderTextColor)?this.isDarkTypeTheme()?this.darkMode.widgets[t].placeHolderTextColor:this.lightMode.widgets[t].placeHolderTextColor:this.currentTheme.widgets[t].placeHolderTextColor},t.prototype.getDDWidgetBoxShadowColor=function(t){return n.isNullOrUndefined(this.currentTheme)||n.isNullOrUndefined(this.currentTheme.widgets)||n.isNullOrUndefined(this.currentTheme.widgets[t])||n.DashboardUtil.IsStringNullorWhiteSpace(this.currentTheme.widgets[t].boxShadow)?this.isDarkTypeTheme()?this.darkMode.widgets[t].boxShadow:this.lightMode.widgets[t].boxShadow:this.currentTheme.widgets[t].boxShadow},t.prototype.getDDWidgetDDLFontText=function(t){var i=this.getWidgetDataValueFontSize(),r=this.getWidgetDataValueFontWeight(),u=this.getWidgetDataValueFontFamily();return n.isNullOrUndefined(this.currentTheme)||n.isNullOrUndefined(this.currentTheme.widgets)||n.isNullOrUndefined(this.currentTheme.widgets[t])||n.isNullOrUndefined(this.currentTheme.widgets[t].dropDownList)||n.isNullOrUndefined(this.currentTheme.widgets[t].dropDownList.font)||n.isNullOrUndefined(this.currentTheme.widgets[t].dropDownList.font.fontSettings)||n.isNullOrUndefined(this.currentTheme.widgets[t].dropDownList.font.fontSettings.autoFontSettings)||this.currentTheme.widgets[t].dropDownList.font.fontSettings.autoFontSettings||(i=n.isNullOrUndefined(this.currentTheme.widgets[t].dropDownList.font.fontSettings.fontSize)||n.DashboardUtil.IsStringNullorWhiteSpace(this.currentTheme.widgets[t].dropDownList.font.fontSettings.fontSize)?this.getWidgetDataValueFontSize():this.currentTheme.widgets[t].dropDownList.font.fontSettings.fontSize,r=n.isNullOrUndefined(this.currentTheme.widgets[t].dropDownList.font.fontSettings.fontWeight)||n.DashboardUtil.IsStringNullorWhiteSpace(this.currentTheme.widgets[t].dropDownList.font.fontSettings.fontWeight)?this.getWidgetDataValueFontWeight():this.currentTheme.widgets[t].dropDownList.font.fontSettings.fontWeight,u=n.isNullOrUndefined(this.currentTheme.widgets[t].dropDownList.font.fontSettings.fontFamily)||n.DashboardUtil.IsStringNullorWhiteSpace(this.currentTheme.widgets[t].dropDownList.font.fontSettings.fontFamily)?this.getWidgetDataValueFontFamily():this.currentTheme.widgets[t].dropDownList.font.fontSettings.fontFamily,this.updateFontSrcList(this.currentTheme.widgets[t].dropDownList.font.fontSettings.fontFamily,this.currentTheme.widgets[t].dropDownList.font.fontSettings.fontSrc)),this.getFontStyleCssValue(i,r,u)},t.prototype.getDDWidgetDDLHoverFontText=function(t){var i=this.getWidgetDataValueHoverFontSize(),r=this.getWidgetDataValueHoverFontWeight(),u=this.getWidgetDataValueHoverFontFamily();return n.isNullOrUndefined(this.currentTheme)||n.isNullOrUndefined(this.currentTheme.widgets)||n.isNullOrUndefined(this.currentTheme.widgets[t])||n.isNullOrUndefined(this.currentTheme.widgets[t].dropDownList)||n.isNullOrUndefined(this.currentTheme.widgets[t].dropDownList.hover)||n.isNullOrUndefined(this.currentTheme.widgets[t].dropDownList.hover.font)||n.isNullOrUndefined(this.currentTheme.widgets[t].dropDownList.hover.font.fontSettings)||n.isNullOrUndefined(this.currentTheme.widgets[t].dropDownList.hover.font.fontSettings.autoFontSettings)||this.currentTheme.widgets[t].dropDownList.hover.font.fontSettings.autoFontSettings||(i=n.isNullOrUndefined(this.currentTheme.widgets[t].dropDownList.hover.font.fontSettings.fontSize)||n.DashboardUtil.IsStringNullorWhiteSpace(this.currentTheme.widgets[t].dropDownList.hover.font.fontSettings.fontSize)?this.getWidgetDataValueHoverFontSize():this.currentTheme.widgets[t].dropDownList.hover.font.fontSettings.fontSize,r=n.isNullOrUndefined(this.currentTheme.widgets[t].dropDownList.hover.font.fontSettings.fontWeight)||n.DashboardUtil.IsStringNullorWhiteSpace(this.currentTheme.widgets[t].dropDownList.hover.font.fontSettings.fontWeight)?this.getWidgetDataValueHoverFontWeight():this.currentTheme.widgets[t].dropDownList.hover.font.fontSettings.fontWeight,u=n.isNullOrUndefined(this.currentTheme.widgets[t].dropDownList.hover.font.fontSettings.fontFamily)||n.DashboardUtil.IsStringNullorWhiteSpace(this.currentTheme.widgets[t].dropDownList.hover.font.fontSettings.fontFamily)?this.getWidgetDataValueHoverFontFamily():this.currentTheme.widgets[t].dropDownList.hover.font.fontSettings.fontFamily,this.updateFontSrcList(this.currentTheme.widgets[t].dropDownList.hover.font.fontSettings.fontFamily,this.currentTheme.widgets[t].dropDownList.hover.font.fontSettings.fontSrc)),this.getFontStyleCssValue(i,r,u)},t.prototype.getDDWidgetDDLSelectFontText=function(t){var i=this.getWidgetDataValueFontSize(),r=this.getWidgetDataValueFontWeight(),u=this.getWidgetDataValueFontFamily();return n.isNullOrUndefined(this.currentTheme)||n.isNullOrUndefined(this.currentTheme.widgets)||n.isNullOrUndefined(this.currentTheme.widgets[t])||n.isNullOrUndefined(this.currentTheme.widgets[t].dropDownList)||n.isNullOrUndefined(this.currentTheme.widgets[t].dropDownList.selection)||n.isNullOrUndefined(this.currentTheme.widgets[t].dropDownList.selection.font)||n.isNullOrUndefined(this.currentTheme.widgets[t].dropDownList.selection.font.fontSettings)||n.isNullOrUndefined(this.currentTheme.widgets[t].dropDownList.selection.font.fontSettings.autoFontSettings)||this.currentTheme.widgets[t].dropDownList.selection.font.fontSettings.autoFontSettings||(i=n.isNullOrUndefined(this.currentTheme.widgets[t].dropDownList.selection.font.fontSettings.fontSize)||n.DashboardUtil.IsStringNullorWhiteSpace(this.currentTheme.widgets[t].dropDownList.selection.font.fontSettings.fontSize)?this.getWidgetDataValueFontSize():this.currentTheme.widgets[t].dropDownList.selection.font.fontSettings.fontSize,r=n.isNullOrUndefined(this.currentTheme.widgets[t].dropDownList.selection.font.fontSettings.fontWeight)||n.DashboardUtil.IsStringNullorWhiteSpace(this.currentTheme.widgets[t].dropDownList.selection.font.fontSettings.fontWeight)?this.getWidgetDataValueFontWeight():this.currentTheme.widgets[t].dropDownList.selection.font.fontSettings.fontWeight,u=n.isNullOrUndefined(this.currentTheme.widgets[t].dropDownList.selection.font.fontSettings.fontFamily)||n.DashboardUtil.IsStringNullorWhiteSpace(this.currentTheme.widgets[t].dropDownList.selection.font.fontSettings.fontFamily)?this.getWidgetDataValueFontFamily():this.currentTheme.widgets[t].dropDownList.selection.font.fontSettings.fontFamily,this.updateFontSrcList(this.currentTheme.widgets[t].dropDownList.selection.font.fontSettings.fontFamily,this.currentTheme.widgets[t].dropDownList.selection.font.fontSettings.fontSrc)),this.getFontStyleCssValue(i,r,u)},t.prototype.getDDWidgetHeaderTitle=function(t){var i,r,u;if(n.isNullOrUndefined(this.currentTheme)||n.isNullOrUndefined(this.currentTheme.widgets)||n.isNullOrUndefined(this.currentTheme.widgets[t])||n.isNullOrUndefined(this.currentTheme.widgets[t].widgetHeader)||n.isNullOrUndefined(this.currentTheme.widgets[t].widgetHeader.title)||n.isNullOrUndefined(this.currentTheme.widgets[t].widgetHeader.title.fontSettings))i=this.getWidgetTitleFontSize(),r=this.getWidgetTitleFontWeight(),u=this.getWidgetTitleFontFamily();else{if(n.isNullOrUndefined(this.currentTheme.widgets[t].widgetHeader.title.fontSettings.autoFontSettings)||this.currentTheme.widgets[t].widgetHeader.title.fontSettings.autoFontSettings)return"";i=n.isNullOrUndefined(this.currentTheme.widgets[t].widgetHeader.title.fontSettings.fontSize)||n.DashboardUtil.IsStringNullorWhiteSpace(this.currentTheme.widgets[t].widgetHeader.title.fontSettings.fontSize)?this.getWidgetTitleFontSize():this.currentTheme.widgets[t].widgetHeader.title.fontSettings.fontSize;r=n.isNullOrUndefined(this.currentTheme.widgets[t].widgetHeader.title.fontSettings.fontWeight)||n.DashboardUtil.IsStringNullorWhiteSpace(this.currentTheme.widgets[t].widgetHeader.title.fontSettings.fontWeight)?this.getWidgetTitleFontWeight():this.currentTheme.widgets[t].widgetHeader.title.fontSettings.fontWeight;u=n.isNullOrUndefined(this.currentTheme.widgets[t].widgetHeader.title.fontSettings.fontFamily)||n.DashboardUtil.IsStringNullorWhiteSpace(this.currentTheme.widgets[t].widgetHeader.title.fontSettings.fontFamily)?this.getWidgetTitleFontFamily():this.currentTheme.widgets[t].widgetHeader.title.fontSettings.fontFamily;this.updateFontSrcList(this.currentTheme.widgets[t].widgetHeader.title.fontSettings.fontFamily,this.currentTheme.widgets[t].widgetHeader.title.fontSettings.fontSrc)}return i=this.updateMaxValueIfSizeExceeds(i,MaximumFontValues.widgetTitle),this.getFontStyleCssValue(i,r,u)},t.prototype.getDDWidgetHeaderSubTitle=function(t){var i,r,u;if(n.isNullOrUndefined(this.currentTheme)||n.isNullOrUndefined(this.currentTheme.widgets)||n.isNullOrUndefined(this.currentTheme.widgets[t])||n.isNullOrUndefined(this.currentTheme.widgets[t].widgetHeader)||n.isNullOrUndefined(this.currentTheme.widgets[t].widgetHeader.subTitle)||n.isNullOrUndefined(this.currentTheme.widgets[t].widgetHeader.subTitle.fontSettings))i=this.getWidgetSubTitleFontSize(),r=this.getWidgetSubTitleFontWeight(),u=this.getWidgetSubTitleFontFamily();else{if(n.isNullOrUndefined(this.currentTheme.widgets[t].widgetHeader.subTitle.fontSettings.autoFontSettings)||this.currentTheme.widgets[t].widgetHeader.subTitle.fontSettings.autoFontSettings)return"";i=n.isNullOrUndefined(this.currentTheme.widgets[t].widgetHeader.subTitle.fontSettings.fontSize)||n.DashboardUtil.IsStringNullorWhiteSpace(this.currentTheme.widgets[t].widgetHeader.subTitle.fontSettings.fontSize)?this.getWidgetSubTitleFontSize():this.currentTheme.widgets[t].widgetHeader.subTitle.fontSettings.fontSize;r=n.isNullOrUndefined(this.currentTheme.widgets[t].widgetHeader.subTitle.fontSettings.fontWeight)||n.DashboardUtil.IsStringNullorWhiteSpace(this.currentTheme.widgets[t].widgetHeader.subTitle.fontSettings.fontWeight)?this.getWidgetSubTitleFontWeight():this.currentTheme.widgets[t].widgetHeader.subTitle.fontSettings.fontWeight;u=n.isNullOrUndefined(this.currentTheme.widgets[t].widgetHeader.subTitle.fontSettings.fontFamily)||n.DashboardUtil.IsStringNullorWhiteSpace(this.currentTheme.widgets[t].widgetHeader.subTitle.fontSettings.fontFamily)?this.getWidgetSubTitleFontFamily():this.currentTheme.widgets[t].widgetHeader.subTitle.fontSettings.fontFamily;this.updateFontSrcList(this.currentTheme.widgets[t].widgetHeader.subTitle.fontSettings.fontFamily,this.currentTheme.widgets[t].widgetHeader.subTitle.fontSettings.fontSrc)}return i=this.updateMaxValueIfSizeExceeds(i,MaximumFontValues.widgetSubTitle),this.getFontStyleCssValue(i,r,u)},t.prototype.getRangeSliderBackground=function(){return n.isNullOrUndefined(this.currentTheme)||n.isNullOrUndefined(this.currentTheme.widgets)||n.isNullOrUndefined(this.currentTheme.widgets.rangeSlider)||n.DashboardUtil.IsStringNullorWhiteSpace(this.currentTheme.widgets.rangeSlider.sliderBackground)?this.isDarkTypeTheme()?this.darkMode.widgets.rangeSlider.sliderBackground:this.lightMode.widgets.rangeSlider.sliderBackground:this.currentTheme.widgets.rangeSlider.sliderBackground},t.prototype.getRangeSliderLabelFontColor=function(){return n.isNullOrUndefined(this.currentTheme)||n.isNullOrUndefined(this.currentTheme.widgets)||n.isNullOrUndefined(this.currentTheme.widgets.rangeSlider)||n.isNullOrUndefined(this.currentTheme.widgets.rangeSlider.label)||n.isNullOrUndefined(this.currentTheme.widgets.rangeSlider.label.font)||n.DashboardUtil.IsStringNullorWhiteSpace(this.currentTheme.widgets.rangeSlider.label.font.color)?n.isNullOrUndefined(this.currentTheme)||n.isNullOrUndefined(this.currentTheme.widgets)||n.isNullOrUndefined(this.currentTheme.widgets.textStyle)||n.DashboardUtil.IsStringNullorWhiteSpace(this.currentTheme.widgets.textStyle.color)?this.isDarkTypeTheme()?this.darkMode.widgets.rangeSlider.label.font.color:this.lightMode.widgets.rangeSlider.label.font.color:this.currentTheme.widgets.textStyle.color:this.currentTheme.widgets.rangeSlider.label.font.color},t.prototype.getRangeSliderLabelBackground=function(){return n.isNullOrUndefined(this.currentTheme)||n.isNullOrUndefined(this.currentTheme.widgets)||n.isNullOrUndefined(this.currentTheme.widgets.rangeSlider)||n.isNullOrUndefined(this.currentTheme.widgets.rangeSlider.label)||n.DashboardUtil.IsStringNullorWhiteSpace(this.currentTheme.widgets.rangeSlider.label.background)?n.isNullOrUndefined(this.currentTheme)||n.isNullOrUndefined(this.currentTheme.widgets)||n.DashboardUtil.IsStringNullorWhiteSpace(this.currentTheme.widgets.background)?this.isDarkTypeTheme()?this.darkMode.widgets.rangeSlider.label.background:this.lightMode.widgets.rangeSlider.label.background:this.currentTheme.widgets.background:this.currentTheme.widgets.rangeSlider.label.background},t.prototype.getRangeSliderRangeColor=function(){return n.isNullOrUndefined(this.currentTheme)||n.isNullOrUndefined(this.currentTheme.widgets)||n.isNullOrUndefined(this.currentTheme.widgets.rangeSlider)||n.DashboardUtil.IsStringNullorWhiteSpace(this.currentTheme.widgets.rangeSlider.rangeColor)?this.isDarkTypeTheme()?this.darkMode.widgets.rangeSlider.rangeColor:this.lightMode.widgets.rangeSlider.rangeColor:this.currentTheme.widgets.rangeSlider.rangeColor},t.prototype.getRangeSliderHandleBackground=function(){return n.isNullOrUndefined(this.currentTheme)||n.isNullOrUndefined(this.currentTheme.widgets)||n.isNullOrUndefined(this.currentTheme.widgets.rangeSlider)||n.isNullOrUndefined(this.currentTheme.widgets.rangeSlider.handle)||n.DashboardUtil.IsStringNullorWhiteSpace(this.currentTheme.widgets.rangeSlider.handle.background)?n.isNullOrUndefined(this.currentTheme)||n.isNullOrUndefined(this.currentTheme.widgets)||n.isNullOrUndefined(this.currentTheme.widgets.rangeSlider)||n.DashboardUtil.IsStringNullorWhiteSpace(this.currentTheme.widgets.rangeSlider.rangeColor)?this.isDarkTypeTheme()?this.darkMode.widgets.rangeSlider.handle.background:this.lightMode.widgets.rangeSlider.handle.background:this.currentTheme.widgets.rangeSlider.rangeColor:this.currentTheme.widgets.rangeSlider.handle.background},t.prototype.getRangeSliderHandleBorderColor=function(){return n.isNullOrUndefined(this.currentTheme)||n.isNullOrUndefined(this.currentTheme.widgets)||n.isNullOrUndefined(this.currentTheme.widgets.rangeSlider)||n.isNullOrUndefined(this.currentTheme.widgets.rangeSlider.handle)||n.DashboardUtil.IsStringNullorWhiteSpace(this.currentTheme.widgets.rangeSlider.handle.border)?n.isNullOrUndefined(this.currentTheme)||n.isNullOrUndefined(this.currentTheme.widgets)||n.DashboardUtil.IsStringNullorWhiteSpace(this.currentTheme.widgets.background)?this.isDarkTypeTheme()?this.darkMode.widgets.rangeSlider.handle.border:this.lightMode.widgets.rangeSlider.handle.border:this.currentTheme.widgets.background:this.currentTheme.widgets.rangeSlider.handle.border},t.prototype.getRangeSliderFontText=function(){var t=this.getWidgetDataValueFontSize(),i=this.getWidgetDataValueFontWeight(),r=this.getWidgetDataValueFontFamily();return n.isNullOrUndefined(this.currentTheme)||n.isNullOrUndefined(this.currentTheme.widgets)||n.isNullOrUndefined(this.currentTheme.widgets.rangeSlider)||n.isNullOrUndefined(this.currentTheme.widgets.rangeSlider.label)||n.isNullOrUndefined(this.currentTheme.widgets.rangeSlider.label.font)||n.isNullOrUndefined(this.currentTheme.widgets.rangeSlider.label.font.fontSettings)||n.isNullOrUndefined(this.currentTheme.widgets.rangeSlider.label.font.fontSettings.autoFontSettings)||this.currentTheme.widgets.rangeSlider.label.font.fontSettings.autoFontSettings||(t=n.isNullOrUndefined(this.currentTheme.widgets.rangeSlider.label.font.fontSettings.fontSize)||n.DashboardUtil.IsStringNullorWhiteSpace(this.currentTheme.widgets.rangeSlider.label.font.fontSettings.fontSize)?this.getWidgetDataValueFontSize():this.currentTheme.widgets.rangeSlider.label.font.fontSettings.fontSize,i=n.isNullOrUndefined(this.currentTheme.widgets.rangeSlider.label.font.fontSettings.fontWeight)||n.DashboardUtil.IsStringNullorWhiteSpace(this.currentTheme.widgets.rangeSlider.label.font.fontSettings.fontWeight)?this.getWidgetDataValueFontWeight():this.currentTheme.widgets.rangeSlider.label.font.fontSettings.fontWeight,r=n.isNullOrUndefined(this.currentTheme.widgets.rangeSlider.label.font.fontSettings.fontFamily)||n.DashboardUtil.IsStringNullorWhiteSpace(this.currentTheme.widgets.rangeSlider.label.font.fontSettings.fontFamily)?this.getWidgetDataValueFontFamily():this.currentTheme.widgets.rangeSlider.label.font.fontSettings.fontFamily,this.updateFontSrcList(this.currentTheme.widgets.rangeSlider.label.font.fontSettings.fontFamily,this.currentTheme.widgets.rangeSlider.label.font.fontSettings.fontSrc)),t=n.DashboardUtil.IsStringNullorWhiteSpace(t)?this.getFontSizeResolutionBased():t,{size:t,weight:i,family:r}},t.prototype.getRangeSliderHeaderTitle=function(){var t,i,r;if(n.isNullOrUndefined(this.currentTheme)||n.isNullOrUndefined(this.currentTheme.widgets)||n.isNullOrUndefined(this.currentTheme.widgets.rangeSlider)||n.isNullOrUndefined(this.currentTheme.widgets.rangeSlider.widgetHeader)||n.isNullOrUndefined(this.currentTheme.widgets.rangeSlider.widgetHeader.title)||n.isNullOrUndefined(this.currentTheme.widgets.rangeSlider.widgetHeader.title.fontSettings))t=this.getWidgetTitleFontSize(),i=this.getWidgetTitleFontWeight(),r=this.getWidgetTitleFontFamily();else{if(n.isNullOrUndefined(this.currentTheme.widgets.rangeSlider.widgetHeader.title.fontSettings.autoFontSettings)||this.currentTheme.widgets.rangeSlider.widgetHeader.title.fontSettings.autoFontSettings)return"";t=n.isNullOrUndefined(this.currentTheme.widgets.rangeSlider.widgetHeader.title.fontSettings.fontSize)||n.DashboardUtil.IsStringNullorWhiteSpace(this.currentTheme.widgets.rangeSlider.widgetHeader.title.fontSettings.fontSize)?this.getWidgetTitleFontSize():this.currentTheme.widgets.rangeSlider.widgetHeader.title.fontSettings.fontSize;i=n.isNullOrUndefined(this.currentTheme.widgets.rangeSlider.widgetHeader.title.fontSettings.fontWeight)||n.DashboardUtil.IsStringNullorWhiteSpace(this.currentTheme.widgets.rangeSlider.widgetHeader.title.fontSettings.fontWeight)?this.getWidgetTitleFontWeight():this.currentTheme.widgets.rangeSlider.widgetHeader.title.fontSettings.fontWeight;r=n.isNullOrUndefined(this.currentTheme.widgets.rangeSlider.widgetHeader.title.fontSettings.fontFamily)||n.DashboardUtil.IsStringNullorWhiteSpace(this.currentTheme.widgets.rangeSlider.widgetHeader.title.fontSettings.fontFamily)?this.getWidgetTitleFontFamily():this.currentTheme.widgets.rangeSlider.widgetHeader.title.fontSettings.fontFamily;this.updateFontSrcList(this.currentTheme.widgets.rangeSlider.widgetHeader.title.fontSettings.fontFamily,this.currentTheme.widgets.rangeSlider.widgetHeader.title.fontSettings.fontSrc)}return t=this.updateMaxValueIfSizeExceeds(t,MaximumFontValues.widgetTitle),this.getFontStyleCssValue(t,i,r)},t.prototype.getRangeSliderHeaderSubTitle=function(){var t,i,r;if(n.isNullOrUndefined(this.currentTheme)||n.isNullOrUndefined(this.currentTheme.widgets)||n.isNullOrUndefined(this.currentTheme.widgets.rangeSlider)||n.isNullOrUndefined(this.currentTheme.widgets.rangeSlider.widgetHeader)||n.isNullOrUndefined(this.currentTheme.widgets.rangeSlider.widgetHeader.subTitle)||n.isNullOrUndefined(this.currentTheme.widgets.rangeSlider.widgetHeader.subTitle.fontSettings))t=this.getWidgetSubTitleFontSize(),i=this.getWidgetSubTitleFontWeight(),r=this.getWidgetSubTitleFontFamily();else{if(n.isNullOrUndefined(this.currentTheme.widgets.rangeSlider.widgetHeader.subTitle.fontSettings.autoFontSettings)||this.currentTheme.widgets.rangeSlider.widgetHeader.subTitle.fontSettings.autoFontSettings)return"";t=n.isNullOrUndefined(this.currentTheme.widgets.rangeSlider.widgetHeader.subTitle.fontSettings.fontSize)||n.DashboardUtil.IsStringNullorWhiteSpace(this.currentTheme.widgets.rangeSlider.widgetHeader.subTitle.fontSettings.fontSize)?this.getWidgetSubTitleFontSize():this.currentTheme.widgets.rangeSlider.widgetHeader.subTitle.fontSettings.fontSize;i=n.isNullOrUndefined(this.currentTheme.widgets.rangeSlider.widgetHeader.subTitle.fontSettings.fontWeight)||n.DashboardUtil.IsStringNullorWhiteSpace(this.currentTheme.widgets.rangeSlider.widgetHeader.subTitle.fontSettings.fontWeight)?this.getWidgetSubTitleFontWeight():this.currentTheme.widgets.rangeSlider.widgetHeader.subTitle.fontSettings.fontWeight;r=n.isNullOrUndefined(this.currentTheme.widgets.rangeSlider.widgetHeader.subTitle.fontSettings.fontFamily)||n.DashboardUtil.IsStringNullorWhiteSpace(this.currentTheme.widgets.rangeSlider.widgetHeader.subTitle.fontSettings.fontFamily)?this.getWidgetSubTitleFontFamily():this.currentTheme.widgets.rangeSlider.widgetHeader.subTitle.fontSettings.fontFamily;this.updateFontSrcList(this.currentTheme.widgets.rangeSlider.widgetHeader.subTitle.fontSettings.fontFamily,this.currentTheme.widgets.rangeSlider.widgetHeader.subTitle.fontSettings.fontSrc)}return t=t=this.updateMaxValueIfSizeExceeds(t,MaximumFontValues.widgetSubTitle),this.getFontStyleCssValue(t,i,r)},t.prototype.getRangeNavigatorBackground=function(){return n.isNullOrUndefined(this.currentTheme)||n.isNullOrUndefined(this.currentTheme.widgets)||n.isNullOrUndefined(this.currentTheme.widgets.rangeNavigator)||n.DashboardUtil.IsStringNullorWhiteSpace(this.currentTheme.widgets.rangeNavigator.background)?this.isDarkTypeTheme()?this.darkMode.widgets.rangeNavigator.background:this.lightMode.widgets.rangeNavigator.background:this.currentTheme.widgets.rangeNavigator.background},t.prototype.getRangeNavigatorSelectedRegionColor=function(){return n.isNullOrUndefined(this.currentTheme)||n.isNullOrUndefined(this.currentTheme.widgets)||n.isNullOrUndefined(this.currentTheme.widgets.rangeNavigator)||n.DashboardUtil.IsStringNullorWhiteSpace(this.currentTheme.widgets.rangeNavigator.selectedRegionColor)?this.isDarkTypeTheme()?this.darkMode.widgets.rangeNavigator.selectedRegionColor:this.lightMode.widgets.rangeNavigator.selectedRegionColor:this.currentTheme.widgets.rangeNavigator.selectedRegionColor},t.prototype.getRangeNavigatorUnselectedRegionColor=function(){return n.isNullOrUndefined(this.currentTheme)||n.isNullOrUndefined(this.currentTheme.widgets)||n.isNullOrUndefined(this.currentTheme.widgets.rangeNavigator)||n.DashboardUtil.IsStringNullorWhiteSpace(this.currentTheme.widgets.rangeNavigator.unselectedRegionColor)?this.isDarkTypeTheme()?this.darkMode.widgets.rangeNavigator.unselectedRegionColor:this.lightMode.widgets.rangeNavigator.unselectedRegionColor:this.currentTheme.widgets.rangeNavigator.unselectedRegionColor},t.prototype.getRangeNavigatorBorderColor=function(){return n.isNullOrUndefined(this.currentTheme)||n.isNullOrUndefined(this.currentTheme.widgets)||n.isNullOrUndefined(this.currentTheme.widgets.rangeNavigator)||n.DashboardUtil.IsStringNullorWhiteSpace(this.currentTheme.widgets.rangeNavigator.border)?this.isDarkTypeTheme()?this.darkMode.widgets.rangeNavigator.border:this.lightMode.widgets.rangeNavigator.border:this.currentTheme.widgets.rangeNavigator.border},t.prototype.getRangeNavigatorFontText=function(){var t=this.getWidgetDataValueFontSize(),i=this.getWidgetDataValueFontWeight(),r=this.getWidgetDataValueFontFamily();return n.isNullOrUndefined(this.currentTheme)||n.isNullOrUndefined(this.currentTheme.widgets)||n.isNullOrUndefined(this.currentTheme.widgets.rangeNavigator)||n.isNullOrUndefined(this.currentTheme.widgets.rangeNavigator.content)||n.isNullOrUndefined(this.currentTheme.widgets.rangeNavigator.content.fontSettings)||n.isNullOrUndefined(this.currentTheme.widgets.rangeNavigator.content.fontSettings.autoFontSettings)||this.currentTheme.widgets.rangeNavigator.content.fontSettings.autoFontSettings||(t=n.isNullOrUndefined(this.currentTheme.widgets.rangeNavigator.content.fontSettings.fontSize)||n.DashboardUtil.IsStringNullorWhiteSpace(this.currentTheme.widgets.rangeNavigator.content.fontSettings.fontSize)?this.getWidgetDataValueFontSize():this.currentTheme.widgets.rangeNavigator.content.fontSettings.fontSize,i=n.isNullOrUndefined(this.currentTheme.widgets.rangeNavigator.content.fontSettings.fontWeight)||n.DashboardUtil.IsStringNullorWhiteSpace(this.currentTheme.widgets.rangeNavigator.content.fontSettings.fontWeight)?this.getWidgetDataValueFontWeight():this.currentTheme.widgets.rangeNavigator.content.fontSettings.fontWeight,r=n.isNullOrUndefined(this.currentTheme.widgets.rangeNavigator.content.fontSettings.fontFamily)||n.DashboardUtil.IsStringNullorWhiteSpace(this.currentTheme.widgets.rangeNavigator.content.fontSettings.fontFamily)?this.getWidgetDataValueFontFamily():this.currentTheme.widgets.rangeNavigator.content.fontSettings.fontFamily,this.updateFontSrcList(this.currentTheme.widgets.rangeNavigator.content.fontSettings.fontFamily,this.currentTheme.widgets.rangeNavigator.content.fontSettings.fontSrc)),t=n.DashboardUtil.IsStringNullorWhiteSpace(t)?this.getFontSizeResolutionBased():t,{size:t,weight:i,family:r}},t.prototype.getRangeNavigatorHeaderTitle=function(){var t,i,r;if(n.isNullOrUndefined(this.currentTheme)||n.isNullOrUndefined(this.currentTheme.widgets)||n.isNullOrUndefined(this.currentTheme.widgets.rangeNavigator)||n.isNullOrUndefined(this.currentTheme.widgets.rangeNavigator.widgetHeader)||n.isNullOrUndefined(this.currentTheme.widgets.rangeNavigator.widgetHeader.title)||n.isNullOrUndefined(this.currentTheme.widgets.rangeNavigator.widgetHeader.title.fontSettings))t=this.getWidgetTitleFontSize(),i=this.getWidgetTitleFontWeight(),r=this.getWidgetTitleFontFamily();else{if(n.isNullOrUndefined(this.currentTheme.widgets.rangeNavigator.widgetHeader.title.fontSettings.autoFontSettings)||this.currentTheme.widgets.rangeNavigator.widgetHeader.title.fontSettings.autoFontSettings)return"";t=n.isNullOrUndefined(this.currentTheme.widgets.rangeNavigator.widgetHeader.title.fontSettings.fontSize)||n.DashboardUtil.IsStringNullorWhiteSpace(this.currentTheme.widgets.rangeNavigator.widgetHeader.title.fontSettings.fontSize)?this.getWidgetTitleFontSize():this.currentTheme.widgets.rangeNavigator.widgetHeader.title.fontSettings.fontSize;i=n.isNullOrUndefined(this.currentTheme.widgets.rangeNavigator.widgetHeader.title.fontSettings.fontWeight)||n.DashboardUtil.IsStringNullorWhiteSpace(this.currentTheme.widgets.rangeNavigator.widgetHeader.title.fontSettings.fontWeight)?this.getWidgetTitleFontWeight():this.currentTheme.widgets.rangeNavigator.widgetHeader.title.fontSettings.fontWeight;r=n.isNullOrUndefined(this.currentTheme.widgets.rangeNavigator.widgetHeader.title.fontSettings.fontFamily)||n.DashboardUtil.IsStringNullorWhiteSpace(this.currentTheme.widgets.rangeNavigator.widgetHeader.title.fontSettings.fontFamily)?this.getWidgetTitleFontFamily():this.currentTheme.widgets.rangeNavigator.widgetHeader.title.fontSettings.fontFamily;this.updateFontSrcList(this.currentTheme.widgets.rangeNavigator.widgetHeader.title.fontSettings.fontFamily,this.currentTheme.widgets.rangeNavigator.widgetHeader.title.fontSettings.fontSrc)}return t=this.updateMaxValueIfSizeExceeds(t,MaximumFontValues.widgetTitle),this.getFontStyleCssValue(t,i,r)},t.prototype.getRangeNavigatorHeaderSubTitle=function(){var t,i,r;if(n.isNullOrUndefined(this.currentTheme)||n.isNullOrUndefined(this.currentTheme.widgets)||n.isNullOrUndefined(this.currentTheme.widgets.rangeNavigator)||n.isNullOrUndefined(this.currentTheme.widgets.rangeNavigator.widgetHeader)||n.isNullOrUndefined(this.currentTheme.widgets.rangeNavigator.widgetHeader.subTitle)||n.isNullOrUndefined(this.currentTheme.widgets.rangeNavigator.widgetHeader.subTitle.fontSettings))t=this.getWidgetSubTitleFontSize(),i=this.getWidgetSubTitleFontWeight(),r=this.getWidgetSubTitleFontFamily();else{if(n.isNullOrUndefined(this.currentTheme.widgets.rangeNavigator.widgetHeader.subTitle.fontSettings.autoFontSettings)||this.currentTheme.widgets.rangeNavigator.widgetHeader.subTitle.fontSettings.autoFontSettings)return"";t=n.isNullOrUndefined(this.currentTheme.widgets.rangeNavigator.widgetHeader.subTitle.fontSettings.fontSize)||n.DashboardUtil.IsStringNullorWhiteSpace(this.currentTheme.widgets.rangeNavigator.widgetHeader.subTitle.fontSettings.fontSize)?this.getWidgetSubTitleFontSize():this.currentTheme.widgets.rangeNavigator.widgetHeader.subTitle.fontSettings.fontSize;i=n.isNullOrUndefined(this.currentTheme.widgets.rangeNavigator.widgetHeader.subTitle.fontSettings.fontWeight)||n.DashboardUtil.IsStringNullorWhiteSpace(this.currentTheme.widgets.rangeNavigator.widgetHeader.subTitle.fontSettings.fontWeight)?this.getWidgetSubTitleFontWeight():this.currentTheme.widgets.rangeNavigator.widgetHeader.subTitle.fontSettings.fontWeight;r=n.isNullOrUndefined(this.currentTheme.widgets.rangeNavigator.widgetHeader.subTitle.fontSettings.fontFamily)||n.DashboardUtil.IsStringNullorWhiteSpace(this.currentTheme.widgets.rangeNavigator.widgetHeader.subTitle.fontSettings.fontFamily)?this.getWidgetSubTitleFontFamily():this.currentTheme.widgets.rangeNavigator.widgetHeader.subTitle.fontSettings.fontFamily;this.updateFontSrcList(this.currentTheme.widgets.rangeNavigator.widgetHeader.subTitle.fontSettings.fontFamily,this.currentTheme.widgets.rangeNavigator.widgetHeader.subTitle.fontSettings.fontSrc)}return t=this.updateMaxValueIfSizeExceeds(t,MaximumFontValues.widgetSubTitle),this.getFontStyleCssValue(t,i,r)},t.prototype.getDatePickerTextBoxBackground=function(){return n.isNullOrUndefined(this.currentTheme)||n.isNullOrUndefined(this.currentTheme.widgets)||n.isNullOrUndefined(this.currentTheme.widgets.datepicker)||n.isNullOrUndefined(this.currentTheme.widgets.datepicker.textBox)||n.DashboardUtil.IsStringNullorWhiteSpace(this.currentTheme.widgets.datepicker.textBox.background)?this.isDarkTypeTheme()?this.darkMode.widgets.datepicker.textBox.background:this.lightMode.widgets.datepicker.textBox.background:this.currentTheme.widgets.datepicker.textBox.background},t.prototype.getDatePickerPlaceHolderColor=function(){return n.isNullOrUndefined(this.currentTheme)||n.isNullOrUndefined(this.currentTheme.widgets)||n.isNullOrUndefined(this.currentTheme.widgets.datepicker)||n.DashboardUtil.IsStringNullorWhiteSpace(this.currentTheme.widgets.datepicker.placeHolderTextColor)?this.isDarkTypeTheme()?this.darkMode.widgets.datepicker.placeHolderTextColor:this.lightMode.widgets.datepicker.placeHolderTextColor:this.currentTheme.widgets.datepicker.placeHolderTextColor},t.prototype.getDatePickerBoxShadow=function(){return n.isNullOrUndefined(this.currentTheme)||n.isNullOrUndefined(this.currentTheme.widgets)||n.isNullOrUndefined(this.currentTheme.widgets.datepicker)||n.DashboardUtil.IsStringNullorWhiteSpace(this.currentTheme.widgets.datepicker.boxShadow)?this.isDarkTypeTheme()?this.darkMode.widgets.datepicker.boxShadow:this.lightMode.widgets.datepicker.boxShadow:this.currentTheme.widgets.datepicker.boxShadow},t.prototype.getDatePickerTextBoxBorderColor=function(){return n.isNullOrUndefined(this.currentTheme)||n.isNullOrUndefined(this.currentTheme.widgets)||n.isNullOrUndefined(this.currentTheme.widgets.datepicker)||n.DashboardUtil.IsStringNullorWhiteSpace(this.currentTheme.widgets.datepicker.textBoxBorder)?this.isDarkTypeTheme()?this.darkMode.widgets.datepicker.textBoxBorder:this.lightMode.widgets.datepicker.textBoxBorder:this.currentTheme.widgets.datepicker.textBoxBorder},t.prototype.getDatePickerCalenderBorderColor=function(){return n.isNullOrUndefined(this.currentTheme)||n.isNullOrUndefined(this.currentTheme.widgets)||n.isNullOrUndefined(this.currentTheme.widgets.datepicker)||n.isNullOrUndefined(this.currentTheme.widgets.datepicker.calendar)||n.DashboardUtil.IsStringNullorWhiteSpace(this.currentTheme.widgets.datepicker.calendar.calenderBorderColor)?this.isDarkTypeTheme()?this.darkMode.widgets.datepicker.calendar.calenderBorderColor:this.lightMode.widgets.datepicker.calendar.calenderBorderColor:this.currentTheme.widgets.datepicker.calendar.calenderBorderColor},t.prototype.getDatePickerTextBoxTextColor=function(){return n.isNullOrUndefined(this.currentTheme)||n.isNullOrUndefined(this.currentTheme.widgets)||n.isNullOrUndefined(this.currentTheme.widgets.datepicker)||n.isNullOrUndefined(this.currentTheme.widgets.datepicker.textBox)||n.isNullOrUndefined(this.currentTheme.widgets.datepicker.textBox.font)||n.DashboardUtil.IsStringNullorWhiteSpace(this.currentTheme.widgets.datepicker.textBox.font.color)?this.isDarkTypeTheme()?this.darkMode.widgets.datepicker.textBox.font.color:this.lightMode.widgets.datepicker.textBox.font.color:this.currentTheme.widgets.datepicker.textBox.font.color},t.prototype.getDatePickerCalendarBackground=function(){return n.isNullOrUndefined(this.currentTheme)||n.isNullOrUndefined(this.currentTheme.widgets)||n.isNullOrUndefined(this.currentTheme.widgets.datepicker)||n.isNullOrUndefined(this.currentTheme.widgets.datepicker.calendar)||n.DashboardUtil.IsStringNullorWhiteSpace(this.currentTheme.widgets.datepicker.calendar.background)?this.isDarkTypeTheme()?this.darkMode.widgets.datepicker.calendar.background:this.lightMode.widgets.datepicker.calendar.background:this.currentTheme.widgets.datepicker.calendar.background},t.prototype.getDatePickerCalendarFooterBackground=function(){return n.isNullOrUndefined(this.currentTheme)||n.isNullOrUndefined(this.currentTheme.widgets)||n.isNullOrUndefined(this.currentTheme.widgets.datepicker)||n.isNullOrUndefined(this.currentTheme.widgets.datepicker.calendar)||n.DashboardUtil.IsStringNullorWhiteSpace(this.currentTheme.widgets.datepicker.calendar.footerBackground)?this.isDarkTypeTheme()?this.darkMode.widgets.datepicker.calendar.footerBackground:this.lightMode.widgets.datepicker.calendar.footerBackground:this.currentTheme.widgets.datepicker.calendar.footerBackground},t.prototype.getDatePickerCalendarBorderColor=function(){return n.isNullOrUndefined(this.currentTheme)||n.isNullOrUndefined(this.currentTheme.widgets)||n.isNullOrUndefined(this.currentTheme.widgets.datepicker)||n.isNullOrUndefined(this.currentTheme.widgets.datepicker.calendar)||n.DashboardUtil.IsStringNullorWhiteSpace(this.currentTheme.widgets.datepicker.calendar.borderColor)?this.isDarkTypeTheme()?this.darkMode.widgets.datepicker.calendar.borderColor:this.lightMode.widgets.datepicker.calendar.borderColor:this.currentTheme.widgets.datepicker.calendar.borderColor},t.prototype.getDatePickerWeekHeaderBackground=function(){return n.isNullOrUndefined(this.currentTheme)||n.isNullOrUndefined(this.currentTheme.widgets)||n.isNullOrUndefined(this.currentTheme.widgets.datepicker)||n.isNullOrUndefined(this.currentTheme.widgets.datepicker.calendar)||n.isNullOrUndefined(this.currentTheme.widgets.datepicker.calendar.weekHeader)||n.DashboardUtil.IsStringNullorWhiteSpace(this.currentTheme.widgets.datepicker.calendar.weekHeader.background)?this.isDarkTypeTheme()?this.darkMode.widgets.datepicker.calendar.weekHeader.background:this.lightMode.widgets.datepicker.calendar.weekHeader.background:this.currentTheme.widgets.datepicker.calendar.weekHeader.background},t.prototype.getDatePickerWeekHeaderTextColor=function(){return n.isNullOrUndefined(this.currentTheme)||n.isNullOrUndefined(this.currentTheme.widgets)||n.isNullOrUndefined(this.currentTheme.widgets.datepicker)||n.isNullOrUndefined(this.currentTheme.widgets.datepicker.calendar)||n.isNullOrUndefined(this.currentTheme.widgets.datepicker.calendar.weekHeader)||n.isNullOrUndefined(this.currentTheme.widgets.datepicker.calendar.weekHeader.font)||n.DashboardUtil.IsStringNullorWhiteSpace(this.currentTheme.widgets.datepicker.calendar.weekHeader.font.color)?this.isDarkTypeTheme()?this.darkMode.widgets.datepicker.calendar.weekHeader.font.color:this.lightMode.widgets.datepicker.calendar.weekHeader.font.color:this.currentTheme.widgets.datepicker.calendar.weekHeader.font.color},t.prototype.getDatePickerAvailableDaysBackground=function(){return n.isNullOrUndefined(this.currentTheme)||n.isNullOrUndefined(this.currentTheme.widgets)||n.isNullOrUndefined(this.currentTheme.widgets.datepicker)||n.isNullOrUndefined(this.currentTheme.widgets.datepicker.calendar)||n.DashboardUtil.IsStringNullorWhiteSpace(this.currentTheme.widgets.datepicker.calendar.availableDates.background)?this.isDarkTypeTheme()?this.darkMode.widgets.datepicker.calendar.availableDates.background:this.lightMode.widgets.datepicker.calendar.availableDates.background:this.currentTheme.widgets.datepicker.calendar.availableDates.background},t.prototype.getDatePickerAvailableDaysTextColor=function(){return n.isNullOrUndefined(this.currentTheme)||n.isNullOrUndefined(this.currentTheme.widgets)||n.isNullOrUndefined(this.currentTheme.widgets.datepicker)||n.isNullOrUndefined(this.currentTheme.widgets.datepicker.calendar)||n.isNullOrUndefined(this.currentTheme.widgets.datepicker.calendar.availableDates)||n.isNullOrUndefined(this.currentTheme.widgets.datepicker.calendar.availableDates.font)||n.DashboardUtil.IsStringNullorWhiteSpace(this.currentTheme.widgets.datepicker.calendar.availableDates.font.color)?this.isDarkTypeTheme()?this.darkMode.widgets.datepicker.calendar.availableDates.font.color:this.lightMode.widgets.datepicker.calendar.availableDates.font.color:this.currentTheme.widgets.datepicker.calendar.availableDates.font.color},t.prototype.getDatePickerAvailableDaysHoverBackground=function(){return n.isNullOrUndefined(this.currentTheme)||n.isNullOrUndefined(this.currentTheme.widgets)||n.isNullOrUndefined(this.currentTheme.widgets.datepicker)||n.isNullOrUndefined(this.currentTheme.widgets.datepicker.calendar)||n.isNullOrUndefined(this.currentTheme.widgets.datepicker.calendar.availableDates)||n.isNullOrUndefined(this.currentTheme.widgets.datepicker.calendar.availableDates.hover)||n.DashboardUtil.IsStringNullorWhiteSpace(this.currentTheme.widgets.datepicker.calendar.availableDates.hover.background)?this.isDarkTypeTheme()?this.darkMode.widgets.datepicker.calendar.availableDates.hover.background:this.lightMode.widgets.datepicker.calendar.availableDates.hover.background:this.currentTheme.widgets.datepicker.calendar.availableDates.hover.background},t.prototype.getDatePickerAvailableDaysHoverTextColor=function(){return n.isNullOrUndefined(this.currentTheme)||n.isNullOrUndefined(this.currentTheme.widgets)||n.isNullOrUndefined(this.currentTheme.widgets.datepicker)||n.isNullOrUndefined(this.currentTheme.widgets.datepicker.calendar)||n.isNullOrUndefined(this.currentTheme.widgets.datepicker.calendar.availableDates)||n.isNullOrUndefined(this.currentTheme.widgets.datepicker.calendar.availableDates.hover)||n.isNullOrUndefined(this.currentTheme.widgets.datepicker.calendar.availableDates.hover.font)||n.DashboardUtil.IsStringNullorWhiteSpace(this.currentTheme.widgets.datepicker.calendar.availableDates.hover.font.color)?this.isDarkTypeTheme()?this.darkMode.widgets.datepicker.calendar.availableDates.hover.font.color:this.lightMode.widgets.datepicker.calendar.availableDates.hover.font.color:this.currentTheme.widgets.datepicker.calendar.availableDates.hover.font.color},t.prototype.getDatePickerAvailableDaysSelectionBackground=function(){return n.isNullOrUndefined(this.currentTheme)||n.isNullOrUndefined(this.currentTheme.widgets)||n.isNullOrUndefined(this.currentTheme.widgets.datepicker)||n.isNullOrUndefined(this.currentTheme.widgets.datepicker.calendar)||n.isNullOrUndefined(this.currentTheme.widgets.datepicker.calendar.availableDates)||n.isNullOrUndefined(this.currentTheme.widgets.datepicker.calendar.availableDates.selection)||n.DashboardUtil.IsStringNullorWhiteSpace(this.currentTheme.widgets.datepicker.calendar.availableDates.selection.background)?this.isDarkTypeTheme()?this.darkMode.widgets.datepicker.calendar.availableDates.selection.background:this.lightMode.widgets.datepicker.calendar.availableDates.selection.background:this.currentTheme.widgets.datepicker.calendar.availableDates.selection.background},t.prototype.getDatePickerAvailableDaysSelectionTextColor=function(){return n.isNullOrUndefined(this.currentTheme)||n.isNullOrUndefined(this.currentTheme.widgets)||n.isNullOrUndefined(this.currentTheme.widgets.datepicker)||n.isNullOrUndefined(this.currentTheme.widgets.datepicker.calendar)||n.isNullOrUndefined(this.currentTheme.widgets.datepicker.calendar.availableDates)||n.isNullOrUndefined(this.currentTheme.widgets.datepicker.calendar.availableDates.selection)||n.isNullOrUndefined(this.currentTheme.widgets.datepicker.calendar.availableDates.selection.font)||n.DashboardUtil.IsStringNullorWhiteSpace(this.currentTheme.widgets.datepicker.calendar.availableDates.selection.font.color)?this.isDarkTypeTheme()?this.darkMode.widgets.datepicker.calendar.availableDates.selection.font.color:this.lightMode.widgets.datepicker.calendar.availableDates.selection.font.color:this.currentTheme.widgets.datepicker.calendar.availableDates.selection.font.color},t.prototype.getDatePickerUnAvailableDaysBackground=function(){return n.isNullOrUndefined(this.currentTheme)||n.isNullOrUndefined(this.currentTheme.widgets)||n.isNullOrUndefined(this.currentTheme.widgets.datepicker)||n.isNullOrUndefined(this.currentTheme.widgets.datepicker.calendar)||n.DashboardUtil.IsStringNullorWhiteSpace(this.currentTheme.widgets.datepicker.calendar.unavailableDays.background)?this.isDarkTypeTheme()?this.darkMode.widgets.datepicker.calendar.unavailableDays.background:this.lightMode.widgets.datepicker.calendar.unavailableDays.background:this.currentTheme.widgets.datepicker.calendar.unavailableDays.background},t.prototype.getDatePickerUnAvailableDaysTextColor=function(){return n.isNullOrUndefined(this.currentTheme)||n.isNullOrUndefined(this.currentTheme.widgets)||n.isNullOrUndefined(this.currentTheme.widgets.datepicker)||n.isNullOrUndefined(this.currentTheme.widgets.datepicker.calendar)||n.isNullOrUndefined(this.currentTheme.widgets.datepicker.calendar.unavailableDays)||n.isNullOrUndefined(this.currentTheme.widgets.datepicker.calendar.unavailableDays.font)||n.DashboardUtil.IsStringNullorWhiteSpace(this.currentTheme.widgets.datepicker.calendar.unavailableDays.font.color)?this.isDarkTypeTheme()?this.darkMode.widgets.datepicker.calendar.unavailableDays.font.color:this.lightMode.widgets.datepicker.calendar.unavailableDays.font.color:this.currentTheme.widgets.datepicker.calendar.unavailableDays.font.color},t.prototype.getDatePickerOtherMonthBackground=function(){return n.isNullOrUndefined(this.currentTheme)||n.isNullOrUndefined(this.currentTheme.widgets)||n.isNullOrUndefined(this.currentTheme.widgets.datepicker)||n.isNullOrUndefined(this.currentTheme.widgets.datepicker.calendar)||n.DashboardUtil.IsStringNullorWhiteSpace(this.currentTheme.widgets.datepicker.calendar.otherMonthDays.background)?this.isDarkTypeTheme()?this.darkMode.widgets.datepicker.calendar.otherMonthDays.background:this.lightMode.widgets.datepicker.calendar.otherMonthDays.background:this.currentTheme.widgets.datepicker.calendar.otherMonthDays.background},t.prototype.getDatePickerOtherMonthTextColor=function(){return n.isNullOrUndefined(this.currentTheme)||n.isNullOrUndefined(this.currentTheme.widgets)||n.isNullOrUndefined(this.currentTheme.widgets.datepicker)||n.isNullOrUndefined(this.currentTheme.widgets.datepicker.calendar)||n.isNullOrUndefined(this.currentTheme.widgets.datepicker.calendar.otherMonthDays)||n.isNullOrUndefined(this.currentTheme.widgets.datepicker.calendar.otherMonthDays.font)||n.DashboardUtil.IsStringNullorWhiteSpace(this.currentTheme.widgets.datepicker.calendar.otherMonthDays.font.color)?this.isDarkTypeTheme()?this.darkMode.widgets.datepicker.calendar.otherMonthDays.font.color:this.lightMode.widgets.datepicker.calendar.otherMonthDays.font.color:this.currentTheme.widgets.datepicker.calendar.otherMonthDays.font.color},t.prototype.getDatePickerIconTextColor=function(){return n.isNullOrUndefined(this.currentTheme)||n.isNullOrUndefined(this.currentTheme.widgets)||n.isNullOrUndefined(this.currentTheme.widgets.datepicker)||n.isNullOrUndefined(this.currentTheme.widgets.datepicker.calendar)||n.isNullOrUndefined(this.currentTheme.widgets.datepicker.calendar.icon)||n.isNullOrUndefined(this.currentTheme.widgets.datepicker.calendar.icon.font)||n.DashboardUtil.IsStringNullorWhiteSpace(this.currentTheme.widgets.datepicker.calendar.icon.font.color)?this.isDarkTypeTheme()?this.darkMode.widgets.datepicker.calendar.icon.font.color:this.lightMode.widgets.datepicker.calendar.icon.font.color:this.currentTheme.widgets.datepicker.calendar.icon.font.color},t.prototype.getDatePickerIconHoverTextColor=function(){return n.isNullOrUndefined(this.currentTheme)||n.isNullOrUndefined(this.currentTheme.widgets)||n.isNullOrUndefined(this.currentTheme.widgets.datepicker)||n.isNullOrUndefined(this.currentTheme.widgets.datepicker.calendar)||n.isNullOrUndefined(this.currentTheme.widgets.datepicker.calendar.icon)||n.isNullOrUndefined(this.currentTheme.widgets.datepicker.calendar.icon.hover.font)||n.isNullOrUndefined(this.currentTheme.widgets.datepicker.calendar.icon.hover)||n.DashboardUtil.IsStringNullorWhiteSpace(this.currentTheme.widgets.datepicker.calendar.icon.hover.font.color)?this.isDarkTypeTheme()?this.darkMode.widgets.datepicker.calendar.icon.hover.font.color:this.lightMode.widgets.datepicker.calendar.icon.hover.font.color:this.currentTheme.widgets.datepicker.calendar.icon.hover.font.color},t.prototype.getDatePickerIconHoverBackground=function(){return n.isNullOrUndefined(this.currentTheme)||n.isNullOrUndefined(this.currentTheme.widgets)||n.isNullOrUndefined(this.currentTheme.widgets.datepicker)||n.isNullOrUndefined(this.currentTheme.widgets.datepicker.calendar)||n.isNullOrUndefined(this.currentTheme.widgets.datepicker.calendar.icon)||n.isNullOrUndefined(this.currentTheme.widgets.datepicker.calendar.icon.hover.font)||n.isNullOrUndefined(this.currentTheme.widgets.datepicker.calendar.icon.hover)||n.DashboardUtil.IsStringNullorWhiteSpace(this.currentTheme.widgets.datepicker.calendar.icon.hover.background)?this.isDarkTypeTheme()?this.darkMode.widgets.datepicker.calendar.icon.hover.background:this.lightMode.widgets.datepicker.calendar.icon.hover.background:this.currentTheme.widgets.datepicker.calendar.icon.hover.background},t.prototype.getDatePickerCancelButtonBackground=function(){return n.isNullOrUndefined(this.currentTheme)||n.isNullOrUndefined(this.currentTheme.widgets)||n.isNullOrUndefined(this.currentTheme.widgets.datepicker)||n.isNullOrUndefined(this.currentTheme.widgets.datepicker.calendar)||n.isNullOrUndefined(this.currentTheme.widgets.datepicker.calendar.cancelButton)||n.DashboardUtil.IsStringNullorWhiteSpace(this.currentTheme.widgets.datepicker.calendar.cancelButton.background)?this.isDarkTypeTheme()?this.darkMode.widgets.datepicker.calendar.cancelButton.background:this.lightMode.widgets.datepicker.calendar.cancelButton.background:this.currentTheme.widgets.datepicker.calendar.cancelButton.background},t.prototype.getDatePickerCancelButtonHoverBackground=function(){return n.isNullOrUndefined(this.currentTheme)||n.isNullOrUndefined(this.currentTheme.widgets)||n.isNullOrUndefined(this.currentTheme.widgets.datepicker)||n.isNullOrUndefined(this.currentTheme.widgets.datepicker.calendar)||n.isNullOrUndefined(this.currentTheme.widgets.datepicker.calendar.cancelButton)||n.isNullOrUndefined(this.currentTheme.widgets.datepicker.calendar.cancelButton.hover)||n.DashboardUtil.IsStringNullorWhiteSpace(this.currentTheme.widgets.datepicker.calendar.cancelButton.hover.background)?this.isDarkTypeTheme()?this.darkMode.widgets.datepicker.calendar.cancelButton.hover.background:this.lightMode.widgets.datepicker.calendar.cancelButton.hover.background:this.currentTheme.widgets.datepicker.calendar.cancelButton.hover.background},t.prototype.getDatePickerCancelButtonPressBackground=function(){return n.isNullOrUndefined(this.currentTheme)||n.isNullOrUndefined(this.currentTheme.widgets)||n.isNullOrUndefined(this.currentTheme.widgets.datepicker)||n.isNullOrUndefined(this.currentTheme.widgets.datepicker.calendar)||n.isNullOrUndefined(this.currentTheme.widgets.datepicker.calendar.cancelButton)||n.isNullOrUndefined(this.currentTheme.widgets.datepicker.calendar.cancelButton.press)||n.DashboardUtil.IsStringNullorWhiteSpace(this.currentTheme.widgets.datepicker.calendar.cancelButton.press.background)?this.isDarkTypeTheme()?this.darkMode.widgets.datepicker.calendar.cancelButton.press.background:this.lightMode.widgets.datepicker.calendar.cancelButton.press.background:this.currentTheme.widgets.datepicker.calendar.cancelButton.press.background},t.prototype.getDatePickerCancelButtonTextColor=function(){return n.isNullOrUndefined(this.currentTheme)||n.isNullOrUndefined(this.currentTheme.widgets)||n.isNullOrUndefined(this.currentTheme.widgets.datepicker)||n.isNullOrUndefined(this.currentTheme.widgets.datepicker.calendar)||n.isNullOrUndefined(this.currentTheme.widgets.datepicker.calendar.cancelButton)||n.isNullOrUndefined(this.currentTheme.widgets.datepicker.calendar.cancelButton.font)||n.DashboardUtil.IsStringNullorWhiteSpace(this.currentTheme.widgets.datepicker.calendar.cancelButton.font.color)?this.isDarkTypeTheme()?this.darkMode.widgets.datepicker.calendar.cancelButton.font.color:this.lightMode.widgets.datepicker.calendar.cancelButton.font.color:this.currentTheme.widgets.datepicker.calendar.cancelButton.font.color},t.prototype.getDatePickerCancelButtonHoverTextColor=function(){return n.isNullOrUndefined(this.currentTheme)||n.isNullOrUndefined(this.currentTheme.widgets)||n.isNullOrUndefined(this.currentTheme.widgets.datepicker)||n.isNullOrUndefined(this.currentTheme.widgets.datepicker.calendar)||n.isNullOrUndefined(this.currentTheme.widgets.datepicker.calendar.cancelButton)||n.isNullOrUndefined(this.currentTheme.widgets.datepicker.calendar.cancelButton.hover)||n.isNullOrUndefined(this.currentTheme.widgets.datepicker.calendar.cancelButton.hover.font)||n.DashboardUtil.IsStringNullorWhiteSpace(this.currentTheme.widgets.datepicker.calendar.cancelButton.hover.font.color)?this.isDarkTypeTheme()?this.darkMode.widgets.datepicker.calendar.cancelButton.hover.font.color:this.lightMode.widgets.datepicker.calendar.cancelButton.hover.font.color:this.currentTheme.widgets.datepicker.calendar.cancelButton.hover.font.color},t.prototype.getDatePickerCancelButtonPressTextColor=function(){return n.isNullOrUndefined(this.currentTheme)||n.isNullOrUndefined(this.currentTheme.widgets)||n.isNullOrUndefined(this.currentTheme.widgets.datepicker)||n.isNullOrUndefined(this.currentTheme.widgets.datepicker.calendar)||n.isNullOrUndefined(this.currentTheme.widgets.datepicker.calendar.cancelButton)||n.isNullOrUndefined(this.currentTheme.widgets.datepicker.calendar.cancelButton.press)||n.isNullOrUndefined(this.currentTheme.widgets.datepicker.calendar.cancelButton.press.font)||n.DashboardUtil.IsStringNullorWhiteSpace(this.currentTheme.widgets.datepicker.calendar.cancelButton.press.font.color)?this.isDarkTypeTheme()?this.darkMode.widgets.datepicker.calendar.cancelButton.press.font.color:this.lightMode.widgets.datepicker.calendar.cancelButton.press.font.color:this.currentTheme.widgets.datepicker.calendar.cancelButton.press.font.color},t.prototype.getDatePickerOkButtonBackground=function(){return n.isNullOrUndefined(this.currentTheme)||n.isNullOrUndefined(this.currentTheme.widgets)||n.isNullOrUndefined(this.currentTheme.widgets.datepicker)||n.isNullOrUndefined(this.currentTheme.widgets.datepicker.calendar)||n.isNullOrUndefined(this.currentTheme.widgets.datepicker.calendar.okButton)||n.DashboardUtil.IsStringNullorWhiteSpace(this.currentTheme.widgets.datepicker.calendar.okButton.background)?this.isDarkTypeTheme()?this.darkMode.widgets.datepicker.calendar.okButton.background:this.lightMode.widgets.datepicker.calendar.okButton.background:this.currentTheme.widgets.datepicker.calendar.okButton.background},t.prototype.getDatePickerOkButtonHoverBackground=function(){return n.isNullOrUndefined(this.currentTheme)||n.isNullOrUndefined(this.currentTheme.widgets)||n.isNullOrUndefined(this.currentTheme.widgets.datepicker)||n.isNullOrUndefined(this.currentTheme.widgets.datepicker.calendar)||n.isNullOrUndefined(this.currentTheme.widgets.datepicker.calendar.okButton)||n.isNullOrUndefined(this.currentTheme.widgets.datepicker.calendar.okButton.hover)||n.DashboardUtil.IsStringNullorWhiteSpace(this.currentTheme.widgets.datepicker.calendar.okButton.hover.background)?this.isDarkTypeTheme()?this.darkMode.widgets.datepicker.calendar.okButton.hover.background:this.lightMode.widgets.datepicker.calendar.okButton.hover.background:this.currentTheme.widgets.datepicker.calendar.okButton.hover.background},t.prototype.getDatePickerOkButtonPressBackground=function(){return n.isNullOrUndefined(this.currentTheme)||n.isNullOrUndefined(this.currentTheme.widgets)||n.isNullOrUndefined(this.currentTheme.widgets.datepicker)||n.isNullOrUndefined(this.currentTheme.widgets.datepicker.calendar)||n.isNullOrUndefined(this.currentTheme.widgets.datepicker.calendar.okButton)||n.isNullOrUndefined(this.currentTheme.widgets.datepicker.calendar.okButton.press)||n.DashboardUtil.IsStringNullorWhiteSpace(this.currentTheme.widgets.datepicker.calendar.okButton.press.background)?this.isDarkTypeTheme()?this.darkMode.widgets.datepicker.calendar.okButton.press.background:this.lightMode.widgets.datepicker.calendar.okButton.press.background:this.currentTheme.widgets.datepicker.calendar.okButton.press.background},t.prototype.getDatePickerOkButtonTextColor=function(){return n.isNullOrUndefined(this.currentTheme)||n.isNullOrUndefined(this.currentTheme.widgets)||n.isNullOrUndefined(this.currentTheme.widgets.datepicker)||n.isNullOrUndefined(this.currentTheme.widgets.datepicker.calendar)||n.isNullOrUndefined(this.currentTheme.widgets.datepicker.calendar.okButton)||n.isNullOrUndefined(this.currentTheme.widgets.datepicker.calendar.okButton.font)||n.DashboardUtil.IsStringNullorWhiteSpace(this.currentTheme.widgets.datepicker.calendar.okButton.font.color)?this.isDarkTypeTheme()?this.darkMode.widgets.datepicker.calendar.okButton.font.color:this.lightMode.widgets.datepicker.calendar.okButton.font.color:this.currentTheme.widgets.datepicker.calendar.okButton.font.color},t.prototype.getDatePickerOkButtonHoverTextColor=function(){return n.isNullOrUndefined(this.currentTheme)||n.isNullOrUndefined(this.currentTheme.widgets)||n.isNullOrUndefined(this.currentTheme.widgets.datepicker)||n.isNullOrUndefined(this.currentTheme.widgets.datepicker.calendar)||n.isNullOrUndefined(this.currentTheme.widgets.datepicker.calendar.okButton)||n.isNullOrUndefined(this.currentTheme.widgets.datepicker.calendar.okButton.hover)||n.isNullOrUndefined(this.currentTheme.widgets.datepicker.calendar.okButton.hover.font)||n.DashboardUtil.IsStringNullorWhiteSpace(this.currentTheme.widgets.datepicker.calendar.okButton.hover.font.color)?this.isDarkTypeTheme()?this.darkMode.widgets.datepicker.calendar.okButton.hover.font.color:this.lightMode.widgets.datepicker.calendar.okButton.hover.font.color:this.currentTheme.widgets.datepicker.calendar.okButton.hover.font.color},t.prototype.getDatePickerOkButtonPressTextColor=function(){return n.isNullOrUndefined(this.currentTheme)||n.isNullOrUndefined(this.currentTheme.widgets)||n.isNullOrUndefined(this.currentTheme.widgets.datepicker)||n.isNullOrUndefined(this.currentTheme.widgets.datepicker.calendar)||n.isNullOrUndefined(this.currentTheme.widgets.datepicker.calendar.okButton)||n.isNullOrUndefined(this.currentTheme.widgets.datepicker.calendar.okButton.press)||n.isNullOrUndefined(this.currentTheme.widgets.datepicker.calendar.okButton.press.font)||n.DashboardUtil.IsStringNullorWhiteSpace(this.currentTheme.widgets.datepicker.calendar.okButton.press.font.color)?this.isDarkTypeTheme()?this.darkMode.widgets.datepicker.calendar.okButton.press.font.color:this.lightMode.widgets.datepicker.calendar.okButton.press.font.color:this.currentTheme.widgets.datepicker.calendar.okButton.press.font.color},t.prototype.getDatePickerTextBoxFont=function(){var t="12px",i=this.getWidgetDataValueFontWeight(),r=this.getWidgetDataValueFontFamily();return n.isNullOrUndefined(this.currentTheme)||n.isNullOrUndefined(this.currentTheme.widgets)||n.isNullOrUndefined(this.currentTheme.widgets.datepicker)||n.isNullOrUndefined(this.currentTheme.widgets.datepicker.textBox)||n.isNullOrUndefined(this.currentTheme.widgets.datepicker.textBox.font)||n.isNullOrUndefined(this.currentTheme.widgets.datepicker.textBox.font.fontSettings)||n.isNullOrUndefined(this.currentTheme.widgets.datepicker.textBox.font.fontSettings.autoFontSettings)||this.currentTheme.widgets.datepicker.textBox.font.fontSettings.autoFontSettings||(t=n.isNullOrUndefined(this.currentTheme.widgets.datepicker.textBox.font.fontSettings.fontSize)||n.DashboardUtil.IsStringNullorWhiteSpace(this.currentTheme.widgets.datepicker.textBox.font.fontSettings.fontSize)?t:this.currentTheme.widgets.datepicker.textBox.font.fontSettings.fontSize,i=n.isNullOrUndefined(this.currentTheme.widgets.datepicker.textBox.font.fontSettings.fontWeight)||n.DashboardUtil.IsStringNullorWhiteSpace(this.currentTheme.widgets.datepicker.textBox.font.fontSettings.fontWeight)?i:this.currentTheme.widgets.datepicker.textBox.font.fontSettings.fontWeight,r=n.isNullOrUndefined(this.currentTheme.widgets.datepicker.textBox.font.fontSettings.fontFamily)||n.DashboardUtil.IsStringNullorWhiteSpace(this.currentTheme.widgets.datepicker.textBox.font.fontSettings.fontFamily)?r:this.currentTheme.widgets.datepicker.textBox.font.fontSettings.fontFamily,this.updateFontSrcList(this.currentTheme.widgets.datepicker.textBox.font.fontSettings.fontFamily,this.currentTheme.widgets.datepicker.textBox.font.fontSettings.fontSrc)),t=n.DashboardUtil.IsStringNullorWhiteSpace(t)?"12px":t,this.getFontStyleCssValue(t,i,r)},t.prototype.getDatePickerWeekHeaderFont=function(){var t="13px",i=this.getWidgetDataLabelFontWeight(),r=this.getWidgetDataLabelFontFamily();return n.isNullOrUndefined(this.currentTheme)||n.isNullOrUndefined(this.currentTheme.widgets)||n.isNullOrUndefined(this.currentTheme.widgets.datepicker)||n.isNullOrUndefined(this.currentTheme.widgets.datepicker.calendar)||n.isNullOrUndefined(this.currentTheme.widgets.datepicker.calendar.weekHeader)||n.isNullOrUndefined(this.currentTheme.widgets.datepicker.calendar.weekHeader.font)||n.isNullOrUndefined(this.currentTheme.widgets.datepicker.calendar.weekHeader.font.fontSettings)||n.isNullOrUndefined(this.currentTheme.widgets.datepicker.calendar.weekHeader.font.fontSettings.autoFontSettings)||this.currentTheme.widgets.datepicker.calendar.weekHeader.font.fontSettings.autoFontSettings||(t=n.isNullOrUndefined(this.currentTheme.widgets.datepicker.calendar.weekHeader.font.fontSettings.fontSize)||n.DashboardUtil.IsStringNullorWhiteSpace(this.currentTheme.widgets.datepicker.calendar.weekHeader.font.fontSettings.fontSize)?t:this.currentTheme.widgets.datepicker.calendar.weekHeader.font.fontSettings.fontSize,i=n.isNullOrUndefined(this.currentTheme.widgets.datepicker.calendar.weekHeader.font.fontSettings.fontWeight)||n.DashboardUtil.IsStringNullorWhiteSpace(this.currentTheme.widgets.datepicker.calendar.weekHeader.font.fontSettings.fontWeight)?i:this.currentTheme.widgets.datepicker.calendar.weekHeader.font.fontSettings.fontWeight,r=n.isNullOrUndefined(this.currentTheme.widgets.datepicker.calendar.weekHeader.font.fontSettings.fontFamily)||n.DashboardUtil.IsStringNullorWhiteSpace(this.currentTheme.widgets.datepicker.calendar.weekHeader.font.fontSettings.fontFamily)?r:this.currentTheme.widgets.datepicker.calendar.weekHeader.font.fontSettings.fontFamily,this.updateFontSrcList(this.currentTheme.widgets.datepicker.calendar.weekHeader.font.fontSettings.fontFamily,this.currentTheme.widgets.datepicker.calendar.weekHeader.font.fontSettings.fontSrc)),this.getFontStyleCssValue(t,i,r)},t.prototype.getDatePickerAvailFont=function(){var t=this.getWidgetDataValueFontSize(),i=this.getWidgetDataValueFontWeight(),r=this.getWidgetDataValueFontFamily();return n.isNullOrUndefined(this.currentTheme)||n.isNullOrUndefined(this.currentTheme.widgets)||n.isNullOrUndefined(this.currentTheme.widgets.datepicker)||n.isNullOrUndefined(this.currentTheme.widgets.datepicker.calendar)||n.isNullOrUndefined(this.currentTheme.widgets.datepicker.calendar.availableDates)||n.isNullOrUndefined(this.currentTheme.widgets.datepicker.calendar.availableDates.font)||n.isNullOrUndefined(this.currentTheme.widgets.datepicker.calendar.availableDates.font.fontSettings)||n.isNullOrUndefined(this.currentTheme.widgets.datepicker.calendar.availableDates.font.fontSettings.autoFontSettings)||this.currentTheme.widgets.datepicker.calendar.availableDates.font.fontSettings.autoFontSettings||(t=n.isNullOrUndefined(this.currentTheme.widgets.datepicker.calendar.availableDates.font.fontSettings.fontSize)||n.DashboardUtil.IsStringNullorWhiteSpace(this.currentTheme.widgets.datepicker.calendar.availableDates.font.fontSettings.fontSize)?t:this.currentTheme.widgets.datepicker.calendar.availableDates.font.fontSettings.fontSize,i=n.isNullOrUndefined(this.currentTheme.widgets.datepicker.calendar.availableDates.font.fontSettings.fontWeight)||n.DashboardUtil.IsStringNullorWhiteSpace(this.currentTheme.widgets.datepicker.calendar.availableDates.font.fontSettings.fontWeight)?i:this.currentTheme.widgets.datepicker.calendar.availableDates.font.fontSettings.fontWeight,r=n.isNullOrUndefined(this.currentTheme.widgets.datepicker.calendar.availableDates.font.fontSettings.fontFamily)||n.DashboardUtil.IsStringNullorWhiteSpace(this.currentTheme.widgets.datepicker.calendar.availableDates.font.fontSettings.fontFamily)?r:this.currentTheme.widgets.datepicker.calendar.availableDates.font.fontSettings.fontFamily,this.updateFontSrcList(this.currentTheme.widgets.datepicker.calendar.availableDates.font.fontSettings.fontFamily,this.currentTheme.widgets.datepicker.calendar.availableDates.font.fontSettings.fontSrc)),t=n.DashboardUtil.IsStringNullorWhiteSpace(t)?this.getFontSizeResolutionBased():t,this.getFontStyleCssValue(t,i,r)},t.prototype.getDatePickerAvailHoverFont=function(){var t=this.getWidgetDataValueHoverFontSize(),i=this.getWidgetDataValueHoverFontWeight(),r=this.getWidgetDataValueHoverFontFamily();return n.isNullOrUndefined(this.currentTheme)||n.isNullOrUndefined(this.currentTheme.widgets)||n.isNullOrUndefined(this.currentTheme.widgets.datepicker)||n.isNullOrUndefined(this.currentTheme.widgets.datepicker.calendar)||n.isNullOrUndefined(this.currentTheme.widgets.datepicker.calendar.availableDates)||n.isNullOrUndefined(this.currentTheme.widgets.datepicker.calendar.availableDates.hover)||n.isNullOrUndefined(this.currentTheme.widgets.datepicker.calendar.availableDates.hover.font)||n.isNullOrUndefined(this.currentTheme.widgets.datepicker.calendar.availableDates.hover.font.fontSettings)||n.isNullOrUndefined(this.currentTheme.widgets.datepicker.calendar.availableDates.hover.font.fontSettings.autoFontSettings)||this.currentTheme.widgets.datepicker.calendar.availableDates.hover.font.fontSettings.autoFontSettings||(t=n.isNullOrUndefined(this.currentTheme.widgets.datepicker.calendar.availableDates.hover.font.fontSettings.fontSize)||n.DashboardUtil.IsStringNullorWhiteSpace(this.currentTheme.widgets.datepicker.calendar.availableDates.hover.font.fontSettings.fontSize)?t:this.currentTheme.widgets.datepicker.calendar.availableDates.hover.font.fontSettings.fontSize,i=n.isNullOrUndefined(this.currentTheme.widgets.datepicker.calendar.availableDates.hover.font.fontSettings.fontWeight)||n.DashboardUtil.IsStringNullorWhiteSpace(this.currentTheme.widgets.datepicker.calendar.availableDates.hover.font.fontSettings.fontWeight)?i:this.currentTheme.widgets.datepicker.calendar.availableDates.hover.font.fontSettings.fontWeight,r=n.isNullOrUndefined(this.currentTheme.widgets.datepicker.calendar.availableDates.hover.font.fontSettings.fontFamily)||n.DashboardUtil.IsStringNullorWhiteSpace(this.currentTheme.widgets.datepicker.calendar.availableDates.hover.font.fontSettings.fontFamily)?r:this.currentTheme.widgets.datepicker.calendar.availableDates.hover.font.fontSettings.fontFamily,this.updateFontSrcList(this.currentTheme.widgets.datepicker.calendar.availableDates.hover.font.fontSettings.fontFamily,this.currentTheme.widgets.datepicker.calendar.availableDates.hover.font.fontSettings.fontSrc)),this.getFontStyleCssValue(t,i,r)},t.prototype.getDatePickerAvailSelectFont=function(){var t=this.getWidgetDataValueHoverFontSize(),i=this.getWidgetDataValueHoverFontWeight(),r=this.getWidgetDataValueHoverFontFamily();return n.isNullOrUndefined(this.currentTheme)||n.isNullOrUndefined(this.currentTheme.widgets)||n.isNullOrUndefined(this.currentTheme.widgets.datepicker)||n.isNullOrUndefined(this.currentTheme.widgets.datepicker.calendar)||n.isNullOrUndefined(this.currentTheme.widgets.datepicker.calendar.availableDates)||n.isNullOrUndefined(this.currentTheme.widgets.datepicker.calendar.availableDates.selection)||n.isNullOrUndefined(this.currentTheme.widgets.datepicker.calendar.availableDates.selection.font)||n.isNullOrUndefined(this.currentTheme.widgets.datepicker.calendar.availableDates.selection.font.fontSettings)||n.isNullOrUndefined(this.currentTheme.widgets.datepicker.calendar.availableDates.selection.font.fontSettings.autoFontSettings)||this.currentTheme.widgets.datepicker.calendar.availableDates.selection.font.fontSettings.autoFontSettings||(t=n.isNullOrUndefined(this.currentTheme.widgets.datepicker.calendar.availableDates.selection.font.fontSettings.fontSize)||n.DashboardUtil.IsStringNullorWhiteSpace(this.currentTheme.widgets.datepicker.calendar.availableDates.selection.font.fontSettings.fontSize)?t:this.currentTheme.widgets.datepicker.calendar.availableDates.selection.font.fontSettings.fontSize,i=n.isNullOrUndefined(this.currentTheme.widgets.datepicker.calendar.availableDates.selection.font.fontSettings.fontWeight)||n.DashboardUtil.IsStringNullorWhiteSpace(this.currentTheme.widgets.datepicker.calendar.availableDates.selection.font.fontSettings.fontWeight)?i:this.currentTheme.widgets.datepicker.calendar.availableDates.selection.font.fontSettings.fontWeight,r=n.isNullOrUndefined(this.currentTheme.widgets.datepicker.calendar.availableDates.selection.font.fontSettings.fontFamily)||n.DashboardUtil.IsStringNullorWhiteSpace(this.currentTheme.widgets.datepicker.calendar.availableDates.selection.font.fontSettings.fontFamily)?r:this.currentTheme.widgets.datepicker.calendar.availableDates.selection.font.fontSettings.fontFamily,this.updateFontSrcList(this.currentTheme.widgets.datepicker.calendar.availableDates.selection.font.fontSettings.fontFamily,this.currentTheme.widgets.datepicker.calendar.availableDates.selection.font.fontSettings.fontSrc)),this.getFontStyleCssValue(t,i,r)},t.prototype.getDatePickerUnAvailFont=function(){var t=this.getWidgetDataValueFontSize(),i=this.getWidgetDataValueFontWeight(),r=this.getWidgetDataValueFontFamily();return n.isNullOrUndefined(this.currentTheme)||n.isNullOrUndefined(this.currentTheme.widgets)||n.isNullOrUndefined(this.currentTheme.widgets.datepicker)||n.isNullOrUndefined(this.currentTheme.widgets.datepicker.calendar)||n.isNullOrUndefined(this.currentTheme.widgets.datepicker.calendar.unavailableDays)||n.isNullOrUndefined(this.currentTheme.widgets.datepicker.calendar.unavailableDays.font)||n.isNullOrUndefined(this.currentTheme.widgets.datepicker.calendar.unavailableDays.font.fontSettings)||n.isNullOrUndefined(this.currentTheme.widgets.datepicker.calendar.unavailableDays.font.fontSettings.autoFontSettings)||this.currentTheme.widgets.datepicker.calendar.unavailableDays.font.fontSettings.autoFontSettings||(t=n.isNullOrUndefined(this.currentTheme.widgets.datepicker.calendar.unavailableDays.font.fontSettings.fontSize)||n.DashboardUtil.IsStringNullorWhiteSpace(this.currentTheme.widgets.datepicker.calendar.unavailableDays.font.fontSettings.fontSize)?t:this.currentTheme.widgets.datepicker.calendar.unavailableDays.font.fontSettings.fontSize,i=n.isNullOrUndefined(this.currentTheme.widgets.datepicker.calendar.unavailableDays.font.fontSettings.fontWeight)||n.DashboardUtil.IsStringNullorWhiteSpace(this.currentTheme.widgets.datepicker.calendar.unavailableDays.font.fontSettings.fontWeight)?i:this.currentTheme.widgets.datepicker.calendar.unavailableDays.font.fontSettings.fontWeight,r=n.isNullOrUndefined(this.currentTheme.widgets.datepicker.calendar.unavailableDays.font.fontSettings.fontFamily)||n.DashboardUtil.IsStringNullorWhiteSpace(this.currentTheme.widgets.datepicker.calendar.unavailableDays.font.fontSettings.fontFamily)?r:this.currentTheme.widgets.datepicker.calendar.unavailableDays.font.fontSettings.fontFamily,this.updateFontSrcList(this.currentTheme.widgets.datepicker.calendar.unavailableDays.font.fontSettings.fontFamily,this.currentTheme.widgets.datepicker.calendar.unavailableDays.font.fontSettings.fontSrc)),this.getFontStyleCssValue(t,i,r)},t.prototype.getDatePickerOtherMonthFont=function(){var t="13px",i=this.getWidgetDataValueFontWeight(),r=this.getWidgetDataValueFontFamily();return n.isNullOrUndefined(this.currentTheme)||n.isNullOrUndefined(this.currentTheme.widgets)||n.isNullOrUndefined(this.currentTheme.widgets.datepicker)||n.isNullOrUndefined(this.currentTheme.widgets.datepicker.calendar)||n.isNullOrUndefined(this.currentTheme.widgets.datepicker.calendar.otherMonthDays)||n.isNullOrUndefined(this.currentTheme.widgets.datepicker.calendar.otherMonthDays.font)||n.isNullOrUndefined(this.currentTheme.widgets.datepicker.calendar.otherMonthDays.font.fontSettings)||n.isNullOrUndefined(this.currentTheme.widgets.datepicker.calendar.otherMonthDays.font.fontSettings.autoFontSettings)||this.currentTheme.widgets.datepicker.calendar.otherMonthDays.font.fontSettings.autoFontSettings||(t=n.isNullOrUndefined(this.currentTheme.widgets.datepicker.calendar.otherMonthDays.font.fontSettings.fontSize)||n.DashboardUtil.IsStringNullorWhiteSpace(this.currentTheme.widgets.datepicker.calendar.otherMonthDays.font.fontSettings.fontSize)?t:this.currentTheme.widgets.datepicker.calendar.otherMonthDays.font.fontSettings.fontSize,i=n.isNullOrUndefined(this.currentTheme.widgets.datepicker.calendar.otherMonthDays.font.fontSettings.fontWeight)||n.DashboardUtil.IsStringNullorWhiteSpace(this.currentTheme.widgets.datepicker.calendar.otherMonthDays.font.fontSettings.fontWeight)?i:this.currentTheme.widgets.datepicker.calendar.otherMonthDays.font.fontSettings.fontWeight,r=n.isNullOrUndefined(this.currentTheme.widgets.datepicker.calendar.otherMonthDays.font.fontSettings.fontFamily)||n.DashboardUtil.IsStringNullorWhiteSpace(this.currentTheme.widgets.datepicker.calendar.otherMonthDays.font.fontSettings.fontFamily)?r:this.currentTheme.widgets.datepicker.calendar.otherMonthDays.font.fontSettings.fontFamily,this.updateFontSrcList(this.currentTheme.widgets.datepicker.calendar.otherMonthDays.font.fontSettings.fontFamily,this.currentTheme.widgets.datepicker.calendar.otherMonthDays.font.fontSettings.fontSrc)),this.getFontStyleCssValue(t,i,r)},t.prototype.getDatePickerIconFont=function(){var t=this.getWidgetIconFontSize(),i=this.getWidgetIconFontWeight();return n.isNullOrUndefined(this.currentTheme)||n.isNullOrUndefined(this.currentTheme.widgets)||n.isNullOrUndefined(this.currentTheme.widgets.datepicker)||n.isNullOrUndefined(this.currentTheme.widgets.datepicker.calendar)||n.isNullOrUndefined(this.currentTheme.widgets.datepicker.calendar.icon)||n.isNullOrUndefined(this.currentTheme.widgets.datepicker.calendar.icon.font)||n.isNullOrUndefined(this.currentTheme.widgets.datepicker.calendar.icon.font.fontSettings)||n.isNullOrUndefined(this.currentTheme.widgets.datepicker.calendar.icon.font.fontSettings.autoFontSettings)||this.currentTheme.widgets.datepicker.calendar.icon.font.fontSettings.autoFontSettings||(t=n.isNullOrUndefined(this.currentTheme.widgets.datepicker.calendar.icon.font.fontSettings.fontSize)||n.DashboardUtil.IsStringNullorWhiteSpace(this.currentTheme.widgets.datepicker.calendar.icon.font.fontSettings.fontSize)?t:this.currentTheme.widgets.datepicker.calendar.icon.font.fontSettings.fontSize,i=n.isNullOrUndefined(this.currentTheme.widgets.datepicker.calendar.icon.font.fontSettings.fontWeight)||n.DashboardUtil.IsStringNullorWhiteSpace(this.currentTheme.widgets.datepicker.calendar.icon.font.fontSettings.fontWeight)?i:this.currentTheme.widgets.datepicker.calendar.icon.font.fontSettings.fontWeight),t=n.DashboardUtil.IsStringNullorWhiteSpace(t)?this.getFontSizeResolutionBased():t,{size:t,weight:i}},t.prototype.getDatePickerIconHoverFont=function(){var t=this.getWidgetIconHoverFontSize(),i=this.getWidgetIconHoverFontWeight();return n.isNullOrUndefined(this.currentTheme)||n.isNullOrUndefined(this.currentTheme.widgets)||n.isNullOrUndefined(this.currentTheme.widgets.datepicker)||n.isNullOrUndefined(this.currentTheme.widgets.datepicker.calendar)||n.isNullOrUndefined(this.currentTheme.widgets.datepicker.calendar.icon)||n.isNullOrUndefined(this.currentTheme.widgets.datepicker.calendar.icon.hover)||n.isNullOrUndefined(this.currentTheme.widgets.datepicker.calendar.icon.hover.font)||n.isNullOrUndefined(this.currentTheme.widgets.datepicker.calendar.icon.hover.font.fontSettings)||n.isNullOrUndefined(this.currentTheme.widgets.datepicker.calendar.icon.hover.font.fontSettings.autoFontSettings)||this.currentTheme.widgets.datepicker.calendar.icon.hover.font.fontSettings.autoFontSettings||(t=n.isNullOrUndefined(this.currentTheme.widgets.datepicker.calendar.icon.hover.font.fontSettings.fontSize)||n.DashboardUtil.IsStringNullorWhiteSpace(this.currentTheme.widgets.datepicker.calendar.icon.hover.font.fontSettings.fontSize)?t:this.currentTheme.widgets.datepicker.calendar.icon.hover.font.fontSettings.fontSize,i=n.isNullOrUndefined(this.currentTheme.widgets.datepicker.calendar.icon.hover.font.fontSettings.fontWeight)||n.DashboardUtil.IsStringNullorWhiteSpace(this.currentTheme.widgets.datepicker.calendar.icon.hover.font.fontSettings.fontWeight)?i:this.currentTheme.widgets.datepicker.calendar.icon.hover.font.fontSettings.fontWeight),this.getFontStyleCssValue(t,i)},t.prototype.getDatePickerCalCancelBtnFont=function(){var t="13px",i=this.getWidgetDataLabelFontWeight(),r=this.getWidgetDataLabelFontFamily();return n.isNullOrUndefined(this.currentTheme)||n.isNullOrUndefined(this.currentTheme.widgets)||n.isNullOrUndefined(this.currentTheme.widgets.datepicker)||n.isNullOrUndefined(this.currentTheme.widgets.datepicker.calendar)||n.isNullOrUndefined(this.currentTheme.widgets.datepicker.calendar.cancelButton)||n.isNullOrUndefined(this.currentTheme.widgets.datepicker.calendar.cancelButton.font)||n.isNullOrUndefined(this.currentTheme.widgets.datepicker.calendar.cancelButton.font.fontSettings)||n.isNullOrUndefined(this.currentTheme.widgets.datepicker.calendar.cancelButton.font.fontSettings.autoFontSettings)||this.currentTheme.widgets.datepicker.calendar.cancelButton.font.fontSettings.autoFontSettings||(t=n.isNullOrUndefined(this.currentTheme.widgets.datepicker.calendar.cancelButton.font.fontSettings.fontSize)||n.DashboardUtil.IsStringNullorWhiteSpace(this.currentTheme.widgets.datepicker.calendar.cancelButton.font.fontSettings.fontSize)?t:this.currentTheme.widgets.datepicker.calendar.cancelButton.font.fontSettings.fontSize,i=n.isNullOrUndefined(this.currentTheme.widgets.datepicker.calendar.cancelButton.font.fontSettings.fontWeight)||n.DashboardUtil.IsStringNullorWhiteSpace(this.currentTheme.widgets.datepicker.calendar.cancelButton.font.fontSettings.fontWeight)?i:this.currentTheme.widgets.datepicker.calendar.cancelButton.font.fontSettings.fontWeight,r=n.isNullOrUndefined(this.currentTheme.widgets.datepicker.calendar.cancelButton.font.fontSettings.fontFamily)||n.DashboardUtil.IsStringNullorWhiteSpace(this.currentTheme.widgets.datepicker.calendar.cancelButton.font.fontSettings.fontFamily)?r:this.currentTheme.widgets.datepicker.calendar.cancelButton.font.fontSettings.fontFamily,this.updateFontSrcList(this.currentTheme.widgets.datepicker.calendar.cancelButton.font.fontSettings.fontFamily,this.currentTheme.widgets.datepicker.calendar.cancelButton.font.fontSettings.fontSrc)),this.getFontStyleCssValue(t,i,r)},t.prototype.getDatePickerCalCancelHoverBtnFont=function(){var t="13px",i=this.getWidgetDataLabelFontWeight(),r=this.getWidgetDataLabelFontFamily();return n.isNullOrUndefined(this.currentTheme)||n.isNullOrUndefined(this.currentTheme.widgets)||n.isNullOrUndefined(this.currentTheme.widgets.datepicker)||n.isNullOrUndefined(this.currentTheme.widgets.datepicker.calendar)||n.isNullOrUndefined(this.currentTheme.widgets.datepicker.calendar.cancelButton)||n.isNullOrUndefined(this.currentTheme.widgets.datepicker.calendar.cancelButton.hover)||n.isNullOrUndefined(this.currentTheme.widgets.datepicker.calendar.cancelButton.hover.font)||n.isNullOrUndefined(this.currentTheme.widgets.datepicker.calendar.cancelButton.hover.font.fontSettings)||n.isNullOrUndefined(this.currentTheme.widgets.datepicker.calendar.cancelButton.hover.font.fontSettings.autoFontSettings)||this.currentTheme.widgets.datepicker.calendar.cancelButton.hover.font.fontSettings.autoFontSettings||(t=n.isNullOrUndefined(this.currentTheme.widgets.datepicker.calendar.cancelButton.hover.font.fontSettings.fontSize)||n.DashboardUtil.IsStringNullorWhiteSpace(this.currentTheme.widgets.datepicker.calendar.cancelButton.hover.font.fontSettings.fontSize)?t:this.currentTheme.widgets.datepicker.calendar.cancelButton.hover.font.fontSettings.fontSize,i=n.isNullOrUndefined(this.currentTheme.widgets.datepicker.calendar.cancelButton.hover.font.fontSettings.fontWeight)||n.DashboardUtil.IsStringNullorWhiteSpace(this.currentTheme.widgets.datepicker.calendar.cancelButton.hover.font.fontSettings.fontWeight)?i:this.currentTheme.widgets.datepicker.calendar.cancelButton.hover.font.fontSettings.fontWeight,r=n.isNullOrUndefined(this.currentTheme.widgets.datepicker.calendar.cancelButton.hover.font.fontSettings.fontFamily)||n.DashboardUtil.IsStringNullorWhiteSpace(this.currentTheme.widgets.datepicker.calendar.cancelButton.hover.font.fontSettings.fontFamily)?r:this.currentTheme.widgets.datepicker.calendar.cancelButton.hover.font.fontSettings.fontFamily,this.updateFontSrcList(this.currentTheme.widgets.datepicker.calendar.cancelButton.hover.font.fontSettings.fontFamily,this.currentTheme.widgets.datepicker.calendar.cancelButton.hover.font.fontSettings.fontSrc)),this.getFontStyleCssValue(t,i,r)},t.prototype.getDatePickerCalOkBtnFont=function(){var t=this.getWidgetDataValueHoverFontSize(),i=this.getWidgetDataValueHoverFontWeight(),r=this.getWidgetDataValueHoverFontFamily();return n.isNullOrUndefined(this.currentTheme)||n.isNullOrUndefined(this.currentTheme.widgets)||n.isNullOrUndefined(this.currentTheme.widgets.datepicker)||n.isNullOrUndefined(this.currentTheme.widgets.datepicker.calendar)||n.isNullOrUndefined(this.currentTheme.widgets.datepicker.calendar.okButton)||n.isNullOrUndefined(this.currentTheme.widgets.datepicker.calendar.okButton.font)||n.isNullOrUndefined(this.currentTheme.widgets.datepicker.calendar.okButton.font.fontSettings)||n.isNullOrUndefined(this.currentTheme.widgets.datepicker.calendar.okButton.font.fontSettings.autoFontSettings)||this.currentTheme.widgets.datepicker.calendar.okButton.font.fontSettings.autoFontSettings||(t=n.isNullOrUndefined(this.currentTheme.widgets.datepicker.calendar.okButton.font.fontSettings.fontSize)||n.DashboardUtil.IsStringNullorWhiteSpace(this.currentTheme.widgets.datepicker.calendar.okButton.font.fontSettings.fontSize)?t:this.currentTheme.widgets.datepicker.calendar.okButton.font.fontSettings.fontSize,i=n.isNullOrUndefined(this.currentTheme.widgets.datepicker.calendar.okButton.font.fontSettings.fontWeight)||n.DashboardUtil.IsStringNullorWhiteSpace(this.currentTheme.widgets.datepicker.calendar.okButton.font.fontSettings.fontWeight)?i:this.currentTheme.widgets.datepicker.calendar.okButton.font.fontSettings.fontWeight,r=n.isNullOrUndefined(this.currentTheme.widgets.datepicker.calendar.okButton.font.fontSettings.fontFamily)||n.DashboardUtil.IsStringNullorWhiteSpace(this.currentTheme.widgets.datepicker.calendar.okButton.font.fontSettings.fontFamily)?r:this.currentTheme.widgets.datepicker.calendar.okButton.font.fontSettings.fontFamily,this.updateFontSrcList(this.currentTheme.widgets.datepicker.calendar.okButton.font.fontSettings.fontFamily,this.currentTheme.widgets.datepicker.calendar.okButton.font.fontSettings.fontSrc)),t=n.DashboardUtil.IsStringNullorWhiteSpace(t)?this.getFontSizeResolutionBased():t,{size:t,weight:i,family:r}},t.prototype.getDatePickerCalOkHoverBtnFont=function(){var t="13px",i=this.getWidgetDataLabelFontWeight(),r=this.getWidgetDataLabelFontFamily();return n.isNullOrUndefined(this.currentTheme)||n.isNullOrUndefined(this.currentTheme.widgets)||n.isNullOrUndefined(this.currentTheme.widgets.datepicker)||n.isNullOrUndefined(this.currentTheme.widgets.datepicker.calendar)||n.isNullOrUndefined(this.currentTheme.widgets.datepicker.calendar.okButton)||n.isNullOrUndefined(this.currentTheme.widgets.datepicker.calendar.okButton.hover)||n.isNullOrUndefined(this.currentTheme.widgets.datepicker.calendar.okButton.hover.font)||n.isNullOrUndefined(this.currentTheme.widgets.datepicker.calendar.okButton.hover.font.fontSettings)||n.isNullOrUndefined(this.currentTheme.widgets.datepicker.calendar.okButton.hover.font.fontSettings.autoFontSettings)||this.currentTheme.widgets.datepicker.calendar.okButton.hover.font.fontSettings.autoFontSettings||(t=n.isNullOrUndefined(this.currentTheme.widgets.datepicker.calendar.okButton.hover.font.fontSettings.fontSize)||n.DashboardUtil.IsStringNullorWhiteSpace(this.currentTheme.widgets.datepicker.calendar.okButton.hover.font.fontSettings.fontSize)?t:this.currentTheme.widgets.datepicker.calendar.okButton.hover.font.fontSettings.fontSize,i=n.isNullOrUndefined(this.currentTheme.widgets.datepicker.calendar.okButton.hover.font.fontSettings.fontWeight)||n.DashboardUtil.IsStringNullorWhiteSpace(this.currentTheme.widgets.datepicker.calendar.okButton.hover.font.fontSettings.fontWeight)?i:this.currentTheme.widgets.datepicker.calendar.okButton.hover.font.fontSettings.fontWeight,r=n.isNullOrUndefined(this.currentTheme.widgets.datepicker.calendar.okButton.hover.font.fontSettings.fontFamily)||n.DashboardUtil.IsStringNullorWhiteSpace(this.currentTheme.widgets.datepicker.calendar.okButton.hover.font.fontSettings.fontFamily)?r:this.currentTheme.widgets.datepicker.calendar.okButton.hover.font.fontSettings.fontFamily,this.updateFontSrcList(this.currentTheme.widgets.datepicker.calendar.okButton.hover.font.fontSettings.fontFamily,this.currentTheme.widgets.datepicker.calendar.okButton.hover.font.fontSettings.fontSrc)),this.getFontStyleCssValue(t,i,r)},t.prototype.getDatePickerHeaderTitle=function(){var t=this.getWidgetTitleFontSize(),i=this.getWidgetTitleFontWeight(),r=this.getWidgetTitleFontFamily();return n.isNullOrUndefined(this.currentTheme)||n.isNullOrUndefined(this.currentTheme.widgets)||n.isNullOrUndefined(this.currentTheme.widgets.datepicker)||n.isNullOrUndefined(this.currentTheme.widgets.datepicker.widgetHeader)||n.isNullOrUndefined(this.currentTheme.widgets.datepicker.widgetHeader.title)||n.isNullOrUndefined(this.currentTheme.widgets.datepicker.widgetHeader.title.fontSettings)||n.isNullOrUndefined(this.currentTheme.widgets.datepicker.widgetHeader.title.fontSettings.autoFontSettings)||this.currentTheme.widgets.datepicker.widgetHeader.title.fontSettings.autoFontSettings||(t=n.isNullOrUndefined(this.currentTheme.widgets.datepicker.widgetHeader.title.fontSettings.fontSize)||n.DashboardUtil.IsStringNullorWhiteSpace(this.currentTheme.widgets.datepicker.widgetHeader.title.fontSettings.fontSize)?this.getWidgetTitleFontSize():this.currentTheme.widgets.datepicker.widgetHeader.title.fontSettings.fontSize,i=n.isNullOrUndefined(this.currentTheme.widgets.datepicker.widgetHeader.title.fontSettings.fontWeight)||n.DashboardUtil.IsStringNullorWhiteSpace(this.currentTheme.widgets.datepicker.widgetHeader.title.fontSettings.fontWeight)?this.getWidgetTitleFontWeight():this.currentTheme.widgets.datepicker.widgetHeader.title.fontSettings.fontWeight,r=n.isNullOrUndefined(this.currentTheme.widgets.datepicker.widgetHeader.title.fontSettings.fontFamily)||n.DashboardUtil.IsStringNullorWhiteSpace(this.currentTheme.widgets.datepicker.widgetHeader.title.fontSettings.fontFamily)?this.getWidgetTitleFontFamily():this.currentTheme.widgets.datepicker.widgetHeader.title.fontSettings.fontFamily,this.updateFontSrcList(this.currentTheme.widgets.datepicker.widgetHeader.title.fontSettings.fontFamily,this.currentTheme.widgets.datepicker.widgetHeader.title.fontSettings.fontSrc)),t=this.updateMaxValueIfSizeExceeds(t,MaximumFontValues.widgetTitle),this.getFontStyleCssValue(t,i,r)},t.prototype.getDatePickerHeaderSubTitle=function(){var t=this.getWidgetSubTitleFontSize(),i=this.getWidgetSubTitleFontWeight(),r=this.getWidgetSubTitleFontFamily();return n.isNullOrUndefined(this.currentTheme)||n.isNullOrUndefined(this.currentTheme.widgets)||n.isNullOrUndefined(this.currentTheme.widgets.datepicker)||n.isNullOrUndefined(this.currentTheme.widgets.datepicker.widgetHeader)||n.isNullOrUndefined(this.currentTheme.widgets.datepicker.widgetHeader.subTitle)||n.isNullOrUndefined(this.currentTheme.widgets.datepicker.widgetHeader.subTitle.fontSettings)||n.isNullOrUndefined(this.currentTheme.widgets.datepicker.widgetHeader.subTitle.fontSettings.autoFontSettings)||this.currentTheme.widgets.datepicker.widgetHeader.subTitle.fontSettings.autoFontSettings||(t=n.isNullOrUndefined(this.currentTheme.widgets.datepicker.widgetHeader.subTitle.fontSettings.fontSize)||n.DashboardUtil.IsStringNullorWhiteSpace(this.currentTheme.widgets.datepicker.widgetHeader.subTitle.fontSettings.fontSize)?this.getWidgetSubTitleFontSize():this.currentTheme.widgets.datepicker.widgetHeader.subTitle.fontSettings.fontSize,i=n.isNullOrUndefined(this.currentTheme.widgets.datepicker.widgetHeader.subTitle.fontSettings.fontWeight)||n.DashboardUtil.IsStringNullorWhiteSpace(this.currentTheme.widgets.datepicker.widgetHeader.subTitle.fontSettings.fontWeight)?this.getWidgetSubTitleFontWeight():this.currentTheme.widgets.datepicker.widgetHeader.subTitle.fontSettings.fontWeight,r=n.isNullOrUndefined(this.currentTheme.widgets.datepicker.widgetHeader.subTitle.fontSettings.fontFamily)||n.DashboardUtil.IsStringNullorWhiteSpace(this.currentTheme.widgets.datepicker.widgetHeader.subTitle.fontSettings.fontFamily)?this.getWidgetSubTitleFontFamily():this.currentTheme.widgets.datepicker.widgetHeader.subTitle.fontSettings.fontFamily,this.updateFontSrcList(this.currentTheme.widgets.datepicker.widgetHeader.subTitle.fontSettings.fontFamily,this.currentTheme.widgets.datepicker.widgetHeader.subTitle.fontSettings.fontSrc)),t=this.updateMaxValueIfSizeExceeds(t,MaximumFontValues.widgetSubTitle),this.getFontStyleCssValue(t,i,r)},t.prototype.getTextFilterBorderColor=function(){return n.isNullOrUndefined(this.currentTheme)||n.isNullOrUndefined(this.currentTheme.widgets)||n.isNullOrUndefined(this.currentTheme.widgets.textfilter)||n.DashboardUtil.IsStringNullorWhiteSpace(this.currentTheme.widgets.textfilter.borderColor)?this.isDarkTypeTheme()?this.darkMode.widgets.textfilter.borderColor:this.lightMode.widgets.textfilter.borderColor:this.currentTheme.widgets.textfilter.borderColor},t.prototype.getTextFilterPlaceHolderColor=function(){return n.isNullOrUndefined(this.currentTheme)||n.isNullOrUndefined(this.currentTheme.widgets)||n.isNullOrUndefined(this.currentTheme.widgets.textfilter)||n.DashboardUtil.IsStringNullorWhiteSpace(this.currentTheme.widgets.textfilter.placeHolderTextColor)?this.isDarkTypeTheme()?this.darkMode.widgets.textfilter.placeHolderTextColor:this.lightMode.widgets.textfilter.placeHolderTextColor:this.currentTheme.widgets.textfilter.placeHolderTextColor},t.prototype.getTextFilterTextColor=function(){return n.isNullOrUndefined(this.currentTheme)||n.isNullOrUndefined(this.currentTheme.widgets)||n.isNullOrUndefined(this.currentTheme.widgets.textfilter)||n.isNullOrUndefined(this.currentTheme.widgets.textfilter)||n.isNullOrUndefined(this.currentTheme.widgets.textfilter.font)||n.DashboardUtil.IsStringNullorWhiteSpace(this.currentTheme.widgets.textfilter.font.color)?this.isDarkTypeTheme()?this.darkMode.widgets.textfilter.font.color:this.lightMode.widgets.textfilter.font.color:this.currentTheme.widgets.textfilter.font.color},t.prototype.getTextFilterShadowColor=function(){return n.isNullOrUndefined(this.currentTheme)||n.isNullOrUndefined(this.currentTheme.widgets)||n.isNullOrUndefined(this.currentTheme.widgets.textfilter)||n.DashboardUtil.IsStringNullorWhiteSpace(this.currentTheme.widgets.textfilter.boxShadow)?this.isDarkTypeTheme()?this.darkMode.widgets.textfilter.boxShadow:this.lightMode.widgets.textfilter.boxShadow:this.currentTheme.widgets.textfilter.boxShadow},t.prototype.getTextFilterBackground=function(){return n.isNullOrUndefined(this.currentTheme)||n.isNullOrUndefined(this.currentTheme.widgets)||n.isNullOrUndefined(this.currentTheme.widgets.textfilter)||n.isNullOrUndefined(this.currentTheme.widgets.textfilter)||n.DashboardUtil.IsStringNullorWhiteSpace(this.currentTheme.widgets.textfilter.background)?this.isDarkTypeTheme()?this.darkMode.widgets.textfilter.background:this.lightMode.widgets.textfilter.background:this.currentTheme.widgets.textfilter.background},t.prototype.getGridDataBackground=function(){return n.isNullOrUndefined(this.currentTheme)||n.isNullOrUndefined(this.currentTheme.widgets)||n.isNullOrUndefined(this.currentTheme.widgets.grid)||n.isNullOrUndefined(this.currentTheme.widgets.grid.content)||n.DashboardUtil.IsStringNullorWhiteSpace(this.currentTheme.widgets.grid.content.background)?n.isNullOrUndefined(this.currentTheme)||n.isNullOrUndefined(this.currentTheme.widgets)||n.isNullOrUndefined(this.currentTheme.widgets.dataValue)||n.DashboardUtil.IsStringNullorWhiteSpace(this.currentTheme.widgets.dataValue.background)?this.isDarkTypeTheme()?this.darkMode.widgets.grid.content.background:this.lightMode.widgets.grid.content.background:this.currentTheme.widgets.dataValue.background:this.currentTheme.widgets.grid.content.background},t.prototype.getGridDataTextColor=function(){return n.isNullOrUndefined(this.currentTheme)||n.isNullOrUndefined(this.currentTheme.widgets)||n.isNullOrUndefined(this.currentTheme.widgets.grid)||n.isNullOrUndefined(this.currentTheme.widgets.grid.content)||n.isNullOrUndefined(this.currentTheme.widgets.grid.content.font)||n.DashboardUtil.IsStringNullorWhiteSpace(this.currentTheme.widgets.grid.content.font.color)?n.isNullOrUndefined(this.currentTheme)||n.isNullOrUndefined(this.currentTheme.widgets)||n.isNullOrUndefined(this.currentTheme.widgets.textStyle)||n.DashboardUtil.IsStringNullorWhiteSpace(this.currentTheme.widgets.textStyle.color)?this.isDarkTypeTheme()?this.darkMode.widgets.grid.content.font.color:this.lightMode.widgets.grid.content.font.color:this.currentTheme.widgets.textStyle.color:this.currentTheme.widgets.grid.content.font.color},t.prototype.getGridDataHoverBackground=function(){return n.isNullOrUndefined(this.currentTheme)||n.isNullOrUndefined(this.currentTheme.widgets)||n.isNullOrUndefined(this.currentTheme.widgets.grid)||n.isNullOrUndefined(this.currentTheme.widgets.grid.content)||n.isNullOrUndefined(this.currentTheme.widgets.grid.content.hover)||n.DashboardUtil.IsStringNullorWhiteSpace(this.currentTheme.widgets.grid.content.hover.background)?n.isNullOrUndefined(this.currentTheme)||n.isNullOrUndefined(this.currentTheme.widgets)||n.isNullOrUndefined(this.currentTheme.widgets.textStyle)||n.DashboardUtil.IsStringNullorWhiteSpace(this.currentTheme.widgets.textStyle.color)?this.isDarkTypeTheme()?this.darkMode.widgets.grid.content.hover.background:this.lightMode.widgets.grid.content.hover.background:this.currentTheme.widgets.textStyle.color:this.currentTheme.widgets.grid.content.hover.background},t.prototype.getGridDataHoverTextColor=function(){return n.isNullOrUndefined(this.currentTheme)||n.isNullOrUndefined(this.currentTheme.widgets)||n.isNullOrUndefined(this.currentTheme.widgets.grid)||n.isNullOrUndefined(this.currentTheme.widgets.grid.content)||n.isNullOrUndefined(this.currentTheme.widgets.grid.content.hover.font)||n.isNullOrUndefined(this.currentTheme.widgets.grid.content.hover.font)||n.DashboardUtil.IsStringNullorWhiteSpace(this.currentTheme.widgets.grid.content.hover.font.color)?n.isNullOrUndefined(this.currentTheme)||n.isNullOrUndefined(this.currentTheme.widgets)||n.isNullOrUndefined(this.currentTheme.widgets.textStyle)||n.DashboardUtil.IsStringNullorWhiteSpace(this.currentTheme.widgets.textStyle.color)?this.isDarkTypeTheme()?this.darkMode.widgets.grid.content.hover.font.color:this.lightMode.widgets.grid.content.hover.font.color:this.currentTheme.widgets.textStyle.color:this.currentTheme.widgets.grid.content.hover.font.color},t.prototype.getGridDataSelectionBackground=function(){return n.isNullOrUndefined(this.currentTheme)||n.isNullOrUndefined(this.currentTheme.widgets)||n.isNullOrUndefined(this.currentTheme.widgets.grid)||n.isNullOrUndefined(this.currentTheme.widgets.grid.content)||n.isNullOrUndefined(this.currentTheme.widgets.grid.content.selection)||n.DashboardUtil.IsStringNullorWhiteSpace(this.currentTheme.widgets.grid.content.selection.background)?n.isNullOrUndefined(this.currentTheme)||n.isNullOrUndefined(this.currentTheme.widgets)||n.isNullOrUndefined(this.currentTheme.widgets.textStyle)||n.DashboardUtil.IsStringNullorWhiteSpace(this.currentTheme.widgets.textStyle.color)?this.isDarkTypeTheme()?this.darkMode.widgets.grid.content.selection.background:this.lightMode.widgets.grid.content.selection.background:this.currentTheme.widgets.textStyle.color:this.currentTheme.widgets.grid.content.selection.background},t.prototype.getGridDataSelectionTextColor=function(){return n.isNullOrUndefined(this.currentTheme)||n.isNullOrUndefined(this.currentTheme.widgets)||n.isNullOrUndefined(this.currentTheme.widgets.grid)||n.isNullOrUndefined(this.currentTheme.widgets.grid.content)||n.isNullOrUndefined(this.currentTheme.widgets.grid.content.selection.font)||n.isNullOrUndefined(this.currentTheme.widgets.grid.content.selection.font)||n.DashboardUtil.IsStringNullorWhiteSpace(this.currentTheme.widgets.grid.content.selection.font.color)?n.isNullOrUndefined(this.currentTheme)||n.isNullOrUndefined(this.currentTheme.widgets)||n.isNullOrUndefined(this.currentTheme.widgets.textStyle)||n.DashboardUtil.IsStringNullorWhiteSpace(this.currentTheme.widgets.textStyle.color)?this.isDarkTypeTheme()?this.darkMode.widgets.grid.content.selection.font.color:this.lightMode.widgets.grid.content.selection.font.color:this.currentTheme.widgets.textStyle.color:this.currentTheme.widgets.grid.content.selection.font.color},t.prototype.getGridHeaderBackground=function(){return n.isNullOrUndefined(this.currentTheme)||n.isNullOrUndefined(this.currentTheme.widgets)||n.isNullOrUndefined(this.currentTheme.widgets.grid)||n.isNullOrUndefined(this.currentTheme.widgets.grid.header)||n.DashboardUtil.IsStringNullorWhiteSpace(this.currentTheme.widgets.grid.header.background)?n.isNullOrUndefined(this.currentTheme)||n.isNullOrUndefined(this.currentTheme.widgets)||n.isNullOrUndefined(this.currentTheme.widgets.textStyle)||n.DashboardUtil.IsStringNullorWhiteSpace(this.currentTheme.widgets.textStyle.color)?this.isDarkTypeTheme()?this.darkMode.widgets.grid.header.background:this.lightMode.widgets.grid.header.background:this.currentTheme.widgets.textStyle.color:this.currentTheme.widgets.grid.header.background},t.prototype.getGridHeaderTextColor=function(){return n.isNullOrUndefined(this.currentTheme)||n.isNullOrUndefined(this.currentTheme.widgets)||n.isNullOrUndefined(this.currentTheme.widgets.grid)||n.isNullOrUndefined(this.currentTheme.widgets.grid.header)||n.isNullOrUndefined(this.currentTheme.widgets.grid.header.font)||n.DashboardUtil.IsStringNullorWhiteSpace(this.currentTheme.widgets.grid.header.font.color)?n.isNullOrUndefined(this.currentTheme)||n.isNullOrUndefined(this.currentTheme.widgets)||n.isNullOrUndefined(this.currentTheme.widgets.textStyle)||n.DashboardUtil.IsStringNullorWhiteSpace(this.currentTheme.widgets.textStyle.color)?this.isDarkTypeTheme()?this.darkMode.widgets.grid.header.font.color:this.lightMode.widgets.grid.header.font.color:this.currentTheme.widgets.textStyle.color:this.currentTheme.widgets.grid.header.font.color},t.prototype.getGridFilterBarBackground=function(){return n.isNullOrUndefined(this.currentTheme)||n.isNullOrUndefined(this.currentTheme.widgets)||n.isNullOrUndefined(this.currentTheme.widgets.grid)||n.isNullOrUndefined(this.currentTheme.widgets.grid.filterBar)||n.DashboardUtil.IsStringNullorWhiteSpace(this.currentTheme.widgets.grid.filterBar.background)?this.isDarkTypeTheme()?this.darkMode.widgets.grid.filterBar.background:this.lightMode.widgets.grid.filterBar.background:this.currentTheme.widgets.grid.filterBar.background},t.prototype.getGridFilterTextColor=function(){return n.isNullOrUndefined(this.currentTheme)||n.isNullOrUndefined(this.currentTheme.widgets)||n.isNullOrUndefined(this.currentTheme.widgets.grid)||n.isNullOrUndefined(this.currentTheme.widgets.grid.filterBar)||n.isNullOrUndefined(this.currentTheme.widgets.grid.filterBar.font)||n.DashboardUtil.IsStringNullorWhiteSpace(this.currentTheme.widgets.grid.filterBar.font.color)?this.isDarkTypeTheme()?this.darkMode.widgets.grid.filterBar.font.color:this.lightMode.widgets.grid.filterBar.font.color:this.currentTheme.widgets.grid.filterBar.font.color},t.prototype.getGridFilterBarBorderColor=function(){return n.isNullOrUndefined(this.currentTheme)||n.isNullOrUndefined(this.currentTheme.widgets)||n.isNullOrUndefined(this.currentTheme.widgets.grid)||n.isNullOrUndefined(this.currentTheme.widgets.grid.filterBar)||n.DashboardUtil.IsStringNullorWhiteSpace(this.currentTheme.widgets.grid.filterBar.border)?this.isDarkTypeTheme()?this.darkMode.widgets.grid.filterBar.border:this.lightMode.widgets.grid.filterBar.border:this.currentTheme.widgets.grid.filterBar.border},t.prototype.getGridContentFont=function(){var t,i,r;return n.isNullOrUndefined(this.currentTheme)||n.isNullOrUndefined(this.currentTheme.widgets)||n.isNullOrUndefined(this.currentTheme.widgets.grid)||n.isNullOrUndefined(this.currentTheme.widgets.grid.content)||n.isNullOrUndefined(this.currentTheme.widgets.grid.content.font)||n.isNullOrUndefined(this.currentTheme.widgets.grid.content.font.fontSettings)?(t=this.getWidgetDataValueFontSize(),i=this.getWidgetDataValueFontWeight(),r=this.getWidgetDataValueFontFamily()):n.isNullOrUndefined(this.currentTheme.widgets.grid.content.font.fontSettings.autoFontSettings)||this.currentTheme.widgets.grid.content.font.fontSettings.autoFontSettings?(t=this.getWidgetDataValueFontSize(),i=this.getWidgetDataValueFontWeight(),r=this.getWidgetDataValueFontFamily()):(t=n.isNullOrUndefined(this.currentTheme.widgets.grid.content.font.fontSettings.fontSize)||n.DashboardUtil.IsStringNullorWhiteSpace(this.currentTheme.widgets.grid.content.font.fontSettings.fontSize)?this.getWidgetDataValueFontSize():this.currentTheme.widgets.grid.content.font.fontSettings.fontSize,i=n.isNullOrUndefined(this.currentTheme.widgets.grid.content.font.fontSettings.fontWeight)||n.DashboardUtil.IsStringNullorWhiteSpace(this.currentTheme.widgets.grid.content.font.fontSettings.fontWeight)?this.getWidgetDataValueFontWeight():this.currentTheme.widgets.grid.content.font.fontSettings.fontWeight,r=n.isNullOrUndefined(this.currentTheme.widgets.grid.content.font.fontSettings.fontFamily)||n.DashboardUtil.IsStringNullorWhiteSpace(this.currentTheme.widgets.grid.content.font.fontSettings.fontFamily)?this.getWidgetDataValueFontFamily():this.currentTheme.widgets.grid.content.font.fontSettings.fontFamily,this.updateFontSrcList(this.currentTheme.widgets.grid.content.font.fontSettings.fontFamily,this.currentTheme.widgets.grid.content.font.fontSettings.fontSrc)),t=n.DashboardUtil.IsStringNullorWhiteSpace(t)?this.getFontSizeBasedOnResolution():t,i=n.DashboardUtil.IsStringNullorWhiteSpace(i)?"Regular":i,r=n.DashboardUtil.IsStringNullorWhiteSpace(r)?"var(--designer-font)":r,{size:t,weight:i,family:r}},t.prototype.getGridContentHoverFont=function(){var t,i,r;if(n.isNullOrUndefined(this.currentTheme)||n.isNullOrUndefined(this.currentTheme.widgets)||n.isNullOrUndefined(this.currentTheme.widgets.grid)||n.isNullOrUndefined(this.currentTheme.widgets.grid.content)||n.isNullOrUndefined(this.currentTheme.widgets.grid.content.hover)||n.isNullOrUndefined(this.currentTheme.widgets.grid.content.hover.font)||n.isNullOrUndefined(this.currentTheme.widgets.grid.content.hover.font.fontSettings))t=this.getWidgetDataValueHoverFontSize(),i=this.getWidgetDataValueHoverFontWeight(),r=this.getWidgetDataValueHoverFontFamily();else{if(n.isNullOrUndefined(this.currentTheme.widgets.grid.content.hover.font.fontSettings.autoFontSettings)||this.currentTheme.widgets.grid.content.hover.font.fontSettings.autoFontSettings)return"";t=n.isNullOrUndefined(this.currentTheme.widgets.grid.content.hover.font.fontSettings.fontSize)||n.DashboardUtil.IsStringNullorWhiteSpace(this.currentTheme.widgets.grid.content.hover.font.fontSettings.fontSize)?this.getWidgetDataValueHoverFontSize():this.currentTheme.widgets.grid.content.hover.font.fontSettings.fontSize;i=n.isNullOrUndefined(this.currentTheme.widgets.grid.content.hover.font.fontSettings.fontWeight)||n.DashboardUtil.IsStringNullorWhiteSpace(this.currentTheme.widgets.grid.content.hover.font.fontSettings.fontWeight)?this.getWidgetDataValueHoverFontWeight():this.currentTheme.widgets.grid.content.hover.font.fontSettings.fontWeight;r=n.isNullOrUndefined(this.currentTheme.widgets.grid.content.hover.font.fontSettings.fontFamily)||n.DashboardUtil.IsStringNullorWhiteSpace(this.currentTheme.widgets.grid.content.hover.font.fontSettings.fontFamily)?this.getWidgetDataValueHoverFontFamily():this.currentTheme.widgets.grid.content.hover.font.fontSettings.fontFamily;this.updateFontSrcList(this.currentTheme.widgets.grid.content.hover.font.fontSettings.fontFamily,this.currentTheme.widgets.grid.content.hover.font.fontSettings.fontSrc)}return this.getFontStyleCssValue(t,i,r)},t.prototype.getGridContentSelectFont=function(){var t,i,r;if(n.isNullOrUndefined(this.currentTheme)||n.isNullOrUndefined(this.currentTheme.widgets)||n.isNullOrUndefined(this.currentTheme.widgets.grid)||n.isNullOrUndefined(this.currentTheme.widgets.grid.content)||n.isNullOrUndefined(this.currentTheme.widgets.grid.content.selection)||n.isNullOrUndefined(this.currentTheme.widgets.grid.content.selection.font)||n.isNullOrUndefined(this.currentTheme.widgets.grid.content.selection.font.fontSettings))t=this.getWidgetDataValueHoverFontSize(),i=this.getWidgetDataValueHoverFontWeight(),r=this.getWidgetDataValueHoverFontFamily();else{if(n.isNullOrUndefined(this.currentTheme.widgets.grid.content.selection.font.fontSettings.autoFontSettings)||this.currentTheme.widgets.grid.content.selection.font.fontSettings.autoFontSettings)return"";t=n.isNullOrUndefined(this.currentTheme.widgets.grid.content.selection.font.fontSettings.fontSize)||n.DashboardUtil.IsStringNullorWhiteSpace(this.currentTheme.widgets.grid.content.selection.font.fontSettings.fontSize)?this.getWidgetDataValueHoverFontSize():this.currentTheme.widgets.grid.content.selection.font.fontSettings.fontSize;i=n.isNullOrUndefined(this.currentTheme.widgets.grid.content.selection.font.fontSettings.fontWeight)||n.DashboardUtil.IsStringNullorWhiteSpace(this.currentTheme.widgets.grid.content.selection.font.fontSettings.fontWeight)?this.getWidgetDataValueHoverFontWeight():this.currentTheme.widgets.grid.content.selection.font.fontSettings.fontWeight;r=n.isNullOrUndefined(this.currentTheme.widgets.grid.content.selection.font.fontSettings.fontFamily)||n.DashboardUtil.IsStringNullorWhiteSpace(this.currentTheme.widgets.grid.content.selection.font.fontSettings.fontFamily)?this.getWidgetDataValueHoverFontFamily():this.currentTheme.widgets.grid.content.selection.font.fontSettings.fontFamily;this.updateFontSrcList(this.currentTheme.widgets.grid.content.selection.font.fontSettings.fontFamily,this.currentTheme.widgets.grid.content.selection.font.fontSettings.fontSrc)}return this.getFontStyleCssValue(t,i,r)},t.prototype.getGridFilterBarFont=function(){var t,i,r;return n.isNullOrUndefined(this.currentTheme)||n.isNullOrUndefined(this.currentTheme.widgets)||n.isNullOrUndefined(this.currentTheme.widgets.grid)||n.isNullOrUndefined(this.currentTheme.widgets.grid.filterBar)||n.isNullOrUndefined(this.currentTheme.widgets.grid.filterBar.font)||n.isNullOrUndefined(this.currentTheme.widgets.grid.filterBar.font.fontSettings)?(t=this.getWidgetDataLabelFontSize(),i=this.getWidgetDataLabelFontWeight(),r=this.getWidgetDataLabelFontFamily()):n.isNullOrUndefined(this.currentTheme.widgets.grid.filterBar.font.fontSettings.autoFontSettings)||this.currentTheme.widgets.grid.filterBar.font.fontSettings.autoFontSettings?(t=this.getWidgetDataLabelFontSize(),i=this.getWidgetDataLabelFontWeight(),r=this.getWidgetDataLabelFontFamily()):(t=n.isNullOrUndefined(this.currentTheme.widgets.grid.filterBar.font.fontSettings.fontSize)||n.DashboardUtil.IsStringNullorWhiteSpace(this.currentTheme.widgets.grid.filterBar.font.fontSettings.fontSize)?this.getWidgetDataLabelFontSize():this.currentTheme.widgets.grid.filterBar.font.fontSettings.fontSize,i=n.isNullOrUndefined(this.currentTheme.widgets.grid.filterBar.font.fontSettings.fontWeight)||n.DashboardUtil.IsStringNullorWhiteSpace(this.currentTheme.widgets.grid.filterBar.font.fontSettings.fontWeight)?this.getWidgetDataLabelFontWeight():this.currentTheme.widgets.grid.filterBar.font.fontSettings.fontWeight,r=n.isNullOrUndefined(this.currentTheme.widgets.grid.filterBar.font.fontSettings.fontFamily)||n.DashboardUtil.IsStringNullorWhiteSpace(this.currentTheme.widgets.grid.filterBar.font.fontSettings.fontFamily)?this.getWidgetDataLabelFontFamily():this.currentTheme.widgets.grid.filterBar.font.fontSettings.fontFamily,this.updateFontSrcList(this.currentTheme.widgets.grid.filterBar.font.fontSettings.fontFamily,this.currentTheme.widgets.grid.filterBar.font.fontSettings.fontSrc)),t=n.DashboardUtil.IsStringNullorWhiteSpace(t)?this.getFontSizeBasedOnResolution():t,i=n.DashboardUtil.IsStringNullorWhiteSpace(i)?"Regular":i,r=n.DashboardUtil.IsStringNullorWhiteSpace(r)?"var(--designer-font)":r,{size:t,weight:i,family:r}},t.prototype.getGridHeaderFont=function(){var t,i,r;return n.isNullOrUndefined(this.currentTheme)||n.isNullOrUndefined(this.currentTheme.widgets)||n.isNullOrUndefined(this.currentTheme.widgets.grid)||n.isNullOrUndefined(this.currentTheme.widgets.grid.header)||n.isNullOrUndefined(this.currentTheme.widgets.grid.header.font)||n.isNullOrUndefined(this.currentTheme.widgets.grid.header.font.fontSettings)?(t=this.getWidgetDataLabelFontSize(),i=this.getWidgetDataLabelFontWeight(),r=this.getWidgetDataLabelFontFamily()):n.isNullOrUndefined(this.currentTheme.widgets.grid.header.font.fontSettings.autoFontSettings)||this.currentTheme.widgets.grid.header.font.fontSettings.autoFontSettings?(t=this.getWidgetDataLabelFontSize(),i=this.getWidgetDataLabelFontWeight(),r=this.getWidgetDataLabelFontFamily()):(t=n.isNullOrUndefined(this.currentTheme.widgets.grid.header.font.fontSettings.fontSize)||n.DashboardUtil.IsStringNullorWhiteSpace(this.currentTheme.widgets.grid.header.font.fontSettings.fontSize)?this.getWidgetDataLabelFontSize():this.currentTheme.widgets.grid.header.font.fontSettings.fontSize,i=n.isNullOrUndefined(this.currentTheme.widgets.grid.header.font.fontSettings.fontWeight)||n.DashboardUtil.IsStringNullorWhiteSpace(this.currentTheme.widgets.grid.header.font.fontSettings.fontWeight)?this.getWidgetDataLabelFontWeight():this.currentTheme.widgets.grid.header.font.fontSettings.fontWeight,r=n.isNullOrUndefined(this.currentTheme.widgets.grid.header.font.fontSettings.fontFamily)||n.DashboardUtil.IsStringNullorWhiteSpace(this.currentTheme.widgets.grid.header.font.fontSettings.fontFamily)?this.getWidgetDataLabelFontFamily():this.currentTheme.widgets.grid.header.font.fontSettings.fontFamily,this.updateFontSrcList(this.currentTheme.widgets.grid.header.font.fontSettings.fontFamily,this.currentTheme.widgets.grid.header.font.fontSettings.fontSrc)),t=n.DashboardUtil.IsStringNullorWhiteSpace(t)?this.getFontSizeBasedOnResolution():t,i=n.DashboardUtil.IsStringNullorWhiteSpace(i)?"Regular":i,r=n.DashboardUtil.IsStringNullorWhiteSpace(r)?"var(--designer-font)":r,{size:t,weight:i,family:r}},t.prototype.getGridHeaderTitle=function(){var t,i,r;if(n.isNullOrUndefined(this.currentTheme)||n.isNullOrUndefined(this.currentTheme.widgets)||n.isNullOrUndefined(this.currentTheme.widgets.grid)||n.isNullOrUndefined(this.currentTheme.widgets.grid.widgetHeader)||n.isNullOrUndefined(this.currentTheme.widgets.grid.widgetHeader.title)||n.isNullOrUndefined(this.currentTheme.widgets.grid.widgetHeader.title.fontSettings))t=this.getWidgetTitleFontSize(),i=this.getWidgetTitleFontWeight(),r=this.getWidgetTitleFontFamily();else{if(n.isNullOrUndefined(this.currentTheme.widgets.grid.widgetHeader.title.fontSettings.autoFontSettings)||this.currentTheme.widgets.grid.widgetHeader.title.fontSettings.autoFontSettings)return"";t=n.isNullOrUndefined(this.currentTheme.widgets.grid.widgetHeader.title.fontSettings.fontSize)||n.DashboardUtil.IsStringNullorWhiteSpace(this.currentTheme.widgets.grid.widgetHeader.title.fontSettings.fontSize)?this.getWidgetTitleFontSize():this.currentTheme.widgets.grid.widgetHeader.title.fontSettings.fontSize;i=n.isNullOrUndefined(this.currentTheme.widgets.grid.widgetHeader.title.fontSettings.fontWeight)||n.DashboardUtil.IsStringNullorWhiteSpace(this.currentTheme.widgets.grid.widgetHeader.title.fontSettings.fontWeight)?this.getWidgetTitleFontWeight():this.currentTheme.widgets.grid.widgetHeader.title.fontSettings.fontWeight;r=n.isNullOrUndefined(this.currentTheme.widgets.grid.widgetHeader.title.fontSettings.fontFamily)||n.DashboardUtil.IsStringNullorWhiteSpace(this.currentTheme.widgets.grid.widgetHeader.title.fontSettings.fontFamily)?this.getWidgetTitleFontFamily():this.currentTheme.widgets.grid.widgetHeader.title.fontSettings.fontFamily;this.updateFontSrcList(this.currentTheme.widgets.grid.widgetHeader.title.fontSettings.fontFamily,this.currentTheme.widgets.grid.widgetHeader.title.fontSettings.fontSrc)}return t=this.updateMaxValueIfSizeExceeds(t,MaximumFontValues.widgetTitle),this.getFontStyleCssValue(t,i,r)},t.prototype.getGridHeaderSubTitle=function(){var t,i,r;if(n.isNullOrUndefined(this.currentTheme)||n.isNullOrUndefined(this.currentTheme.widgets)||n.isNullOrUndefined(this.currentTheme.widgets.grid)||n.isNullOrUndefined(this.currentTheme.widgets.grid.widgetHeader)||n.isNullOrUndefined(this.currentTheme.widgets.grid.widgetHeader.subTitle)||n.isNullOrUndefined(this.currentTheme.widgets.grid.widgetHeader.subTitle.fontSettings))t=this.getWidgetSubTitleFontSize(),i=this.getWidgetSubTitleFontWeight(),r=this.getWidgetSubTitleFontFamily();else{if(n.isNullOrUndefined(this.currentTheme.widgets.grid.widgetHeader.subTitle.fontSettings.autoFontSettings)||this.currentTheme.widgets.grid.widgetHeader.subTitle.fontSettings.autoFontSettings)return"";t=n.isNullOrUndefined(this.currentTheme.widgets.grid.widgetHeader.subTitle.fontSettings.fontSize)||n.DashboardUtil.IsStringNullorWhiteSpace(this.currentTheme.widgets.grid.widgetHeader.subTitle.fontSettings.fontSize)?this.getWidgetSubTitleFontSize():this.currentTheme.widgets.grid.widgetHeader.subTitle.fontSettings.fontSize;i=n.isNullOrUndefined(this.currentTheme.widgets.grid.widgetHeader.subTitle.fontSettings.fontWeight)||n.DashboardUtil.IsStringNullorWhiteSpace(this.currentTheme.widgets.grid.widgetHeader.subTitle.fontSettings.fontWeight)?this.getWidgetSubTitleFontWeight():this.currentTheme.widgets.grid.widgetHeader.subTitle.fontSettings.fontWeight;r=n.isNullOrUndefined(this.currentTheme.widgets.grid.widgetHeader.subTitle.fontSettings.fontFamily)||n.DashboardUtil.IsStringNullorWhiteSpace(this.currentTheme.widgets.grid.widgetHeader.subTitle.fontSettings.fontFamily)?this.getWidgetSubTitleFontFamily():this.currentTheme.widgets.grid.widgetHeader.subTitle.fontSettings.fontFamily;this.updateFontSrcList(this.currentTheme.widgets.grid.widgetHeader.subTitle.fontSettings.fontFamily,this.currentTheme.widgets.grid.widgetHeader.subTitle.fontSettings.fontSrc)}return t=this.updateMaxValueIfSizeExceeds(t,MaximumFontValues.widgetSubTitle),this.getFontStyleCssValue(t,i,r)},t.prototype.getPivotGridHeaderBackground=function(){return n.isNullOrUndefined(this.currentTheme)||n.isNullOrUndefined(this.currentTheme.widgets)||n.isNullOrUndefined(this.currentTheme.widgets.pivotGrid)||n.isNullOrUndefined(this.currentTheme.widgets.pivotGrid.header)||n.DashboardUtil.IsStringNullorWhiteSpace(this.currentTheme.widgets.pivotGrid.header.background)?n.isNullOrUndefined(this.currentTheme)||n.isNullOrUndefined(this.currentTheme.widgets)||n.isNullOrUndefined(this.currentTheme.widgets.textStyle)||n.DashboardUtil.IsStringNullorWhiteSpace(this.currentTheme.widgets.textStyle.color)?this.isDarkTypeTheme()?this.darkMode.widgets.pivotGrid.header.background:this.lightMode.widgets.pivotGrid.header.background:this.currentTheme.widgets.textStyle.color:this.currentTheme.widgets.pivotGrid.header.background},t.prototype.getPivotGridHeaderTextColor=function(){return n.isNullOrUndefined(this.currentTheme)||n.isNullOrUndefined(this.currentTheme.widgets)||n.isNullOrUndefined(this.currentTheme.widgets.pivotGrid)||n.isNullOrUndefined(this.currentTheme.widgets.pivotGrid.header)||n.isNullOrUndefined(this.currentTheme.widgets.pivotGrid.header.font)||n.DashboardUtil.IsStringNullorWhiteSpace(this.currentTheme.widgets.pivotGrid.header.font.color)?n.isNullOrUndefined(this.currentTheme)||n.isNullOrUndefined(this.currentTheme.widgets)||n.isNullOrUndefined(this.currentTheme.widgets.textStyle)||n.DashboardUtil.IsStringNullorWhiteSpace(this.currentTheme.widgets.textStyle.color)?this.isDarkTypeTheme()?this.darkMode.widgets.pivotGrid.header.font.color:this.lightMode.widgets.pivotGrid.header.font.color:this.currentTheme.widgets.textStyle.color:this.currentTheme.widgets.pivotGrid.header.font.color},t.prototype.getPivotGridDataBackground=function(){return n.isNullOrUndefined(this.currentTheme)||n.isNullOrUndefined(this.currentTheme.widgets)||n.isNullOrUndefined(this.currentTheme.widgets.pivotGrid)||n.isNullOrUndefined(this.currentTheme.widgets.pivotGrid.content)||n.DashboardUtil.IsStringNullorWhiteSpace(this.currentTheme.widgets.pivotGrid.content.background)?n.isNullOrUndefined(this.currentTheme)||n.isNullOrUndefined(this.currentTheme.widgets)||n.isNullOrUndefined(this.currentTheme.widgets.textStyle)||n.DashboardUtil.IsStringNullorWhiteSpace(this.currentTheme.widgets.textStyle.color)?this.isDarkTypeTheme()?this.darkMode.widgets.pivotGrid.content.background:this.lightMode.widgets.pivotGrid.content.background:this.currentTheme.widgets.textStyle.color:this.currentTheme.widgets.pivotGrid.content.background},t.prototype.getPivotGridDataTextColor=function(){return n.isNullOrUndefined(this.currentTheme)||n.isNullOrUndefined(this.currentTheme.widgets)||n.isNullOrUndefined(this.currentTheme.widgets.pivotGrid)||n.isNullOrUndefined(this.currentTheme.widgets.pivotGrid.content)||n.isNullOrUndefined(this.currentTheme.widgets.pivotGrid.content.font)||n.DashboardUtil.IsStringNullorWhiteSpace(this.currentTheme.widgets.pivotGrid.content.font.color)?n.isNullOrUndefined(this.currentTheme)||n.isNullOrUndefined(this.currentTheme.widgets)||n.isNullOrUndefined(this.currentTheme.widgets.textStyle)||n.DashboardUtil.IsStringNullorWhiteSpace(this.currentTheme.widgets.textStyle.color)?this.isDarkTypeTheme()?this.darkMode.widgets.pivotGrid.content.font.color:this.lightMode.widgets.pivotGrid.content.font.color:this.currentTheme.widgets.textStyle.color:this.currentTheme.widgets.pivotGrid.content.font.color},t.prototype.getPivotGridDataHoverBackground=function(){return n.isNullOrUndefined(this.currentTheme)||n.isNullOrUndefined(this.currentTheme.widgets)||n.isNullOrUndefined(this.currentTheme.widgets.pivotGrid)||n.isNullOrUndefined(this.currentTheme.widgets.pivotGrid.content)||n.isNullOrUndefined(this.currentTheme.widgets.pivotGrid.content.hover)||n.DashboardUtil.IsStringNullorWhiteSpace(this.currentTheme.widgets.pivotGrid.content.hover.background)?n.isNullOrUndefined(this.currentTheme)||n.isNullOrUndefined(this.currentTheme.widgets)||n.isNullOrUndefined(this.currentTheme.widgets.textStyle)||n.DashboardUtil.IsStringNullorWhiteSpace(this.currentTheme.widgets.textStyle.color)?this.isDarkTypeTheme()?this.darkMode.widgets.pivotGrid.content.hover.background:this.lightMode.widgets.pivotGrid.content.hover.background:this.currentTheme.widgets.textStyle.color:this.currentTheme.widgets.pivotGrid.content.hover.background},t.prototype.getPivotGridDataHoverTextColor=function(){return n.isNullOrUndefined(this.currentTheme)||n.isNullOrUndefined(this.currentTheme.widgets)||n.isNullOrUndefined(this.currentTheme.widgets.pivotGrid)||n.isNullOrUndefined(this.currentTheme.widgets.pivotGrid.content)||n.isNullOrUndefined(this.currentTheme.widgets.pivotGrid.content.hover.font)||n.isNullOrUndefined(this.currentTheme.widgets.pivotGrid.content.hover.font)||n.DashboardUtil.IsStringNullorWhiteSpace(this.currentTheme.widgets.pivotGrid.content.hover.font.color)?n.isNullOrUndefined(this.currentTheme)||n.isNullOrUndefined(this.currentTheme.widgets)||n.isNullOrUndefined(this.currentTheme.widgets.textStyle)||n.DashboardUtil.IsStringNullorWhiteSpace(this.currentTheme.widgets.textStyle.color)?this.isDarkTypeTheme()?this.darkMode.widgets.pivotGrid.content.hover.font.color:this.lightMode.widgets.pivotGrid.content.hover.font.color:this.currentTheme.widgets.textStyle.color:this.currentTheme.widgets.pivotGrid.content.hover.font.color},t.prototype.getPivotGridDataSelectionBackground=function(){return n.isNullOrUndefined(this.currentTheme)||n.isNullOrUndefined(this.currentTheme.widgets)||n.isNullOrUndefined(this.currentTheme.widgets.pivotGrid)||n.isNullOrUndefined(this.currentTheme.widgets.pivotGrid.content)||n.isNullOrUndefined(this.currentTheme.widgets.pivotGrid.content.selection)||n.DashboardUtil.IsStringNullorWhiteSpace(this.currentTheme.widgets.pivotGrid.content.selection.background)?n.isNullOrUndefined(this.currentTheme)||n.isNullOrUndefined(this.currentTheme.widgets)||n.isNullOrUndefined(this.currentTheme.widgets.textStyle)||n.DashboardUtil.IsStringNullorWhiteSpace(this.currentTheme.widgets.textStyle.color)?this.isDarkTypeTheme()?this.darkMode.widgets.pivotGrid.content.selection.background:this.lightMode.widgets.pivotGrid.content.selection.background:this.currentTheme.widgets.textStyle.color:this.currentTheme.widgets.pivotGrid.content.selection.background},t.prototype.getPivotGridDataSelectionTextColor=function(){return n.isNullOrUndefined(this.currentTheme)||n.isNullOrUndefined(this.currentTheme.widgets)||n.isNullOrUndefined(this.currentTheme.widgets.pivotGrid)||n.isNullOrUndefined(this.currentTheme.widgets.pivotGrid.content)||n.isNullOrUndefined(this.currentTheme.widgets.pivotGrid.content.selection.font)||n.isNullOrUndefined(this.currentTheme.widgets.pivotGrid.content.selection.font)||n.DashboardUtil.IsStringNullorWhiteSpace(this.currentTheme.widgets.pivotGrid.content.selection.font.color)?n.isNullOrUndefined(this.currentTheme)||n.isNullOrUndefined(this.currentTheme.widgets)||n.isNullOrUndefined(this.currentTheme.widgets.textStyle)||n.DashboardUtil.IsStringNullorWhiteSpace(this.currentTheme.widgets.textStyle.color)?this.isDarkTypeTheme()?this.darkMode.widgets.pivotGrid.content.selection.font.color:this.lightMode.widgets.pivotGrid.content.selection.font.color:this.currentTheme.widgets.textStyle.color:this.currentTheme.widgets.grid.content.selection.font.color},t.prototype.getPivotGridGroupPanelBackground=function(){return n.isNullOrUndefined(this.currentTheme)||n.isNullOrUndefined(this.currentTheme.widgets)||n.isNullOrUndefined(this.currentTheme.widgets.pivotGrid)||n.DashboardUtil.IsStringNullorWhiteSpace(this.currentTheme.widgets.pivotGrid.groupingPanelBackground)?n.isNullOrUndefined(this.currentTheme)||n.isNullOrUndefined(this.currentTheme.widgets)||n.isNullOrUndefined(this.currentTheme.widgets.textStyle)||n.DashboardUtil.IsStringNullorWhiteSpace(this.currentTheme.widgets.textStyle.color)?this.isDarkTypeTheme()?this.darkMode.widgets.pivotGrid.groupingPanelBackground:this.lightMode.widgets.pivotGrid.groupingPanelBackground:this.currentTheme.widgets.textStyle.color:this.currentTheme.widgets.pivotGrid.header.background},t.prototype.getPivotGroupingButtonBackground=function(){return n.isNullOrUndefined(this.currentTheme)||n.isNullOrUndefined(this.currentTheme.widgets)||n.isNullOrUndefined(this.currentTheme.widgets.pivotGrid)||n.isNullOrUndefined(this.currentTheme.widgets.pivotGrid.groupingButton)||n.DashboardUtil.IsStringNullorWhiteSpace(this.currentTheme.widgets.pivotGrid.groupingButton.background)?this.isDarkTypeTheme()?this.darkMode.widgets.pivotGrid.groupingButton.background:this.lightMode.widgets.pivotGrid.groupingButton.background:this.currentTheme.widgets.pivotGrid.groupingButton.background},t.prototype.getPivotGroupingButtonTextColor=function(){return n.isNullOrUndefined(this.currentTheme)||n.isNullOrUndefined(this.currentTheme.widgets)||n.isNullOrUndefined(this.currentTheme.widgets.pivotGrid)||n.isNullOrUndefined(this.currentTheme.widgets.pivotGrid.groupingButton)||n.isNullOrUndefined(this.currentTheme.widgets.pivotGrid.groupingButton.font)||n.DashboardUtil.IsStringNullorWhiteSpace(this.currentTheme.widgets.pivotGrid.groupingButton.font.color)?this.isDarkTypeTheme()?this.darkMode.widgets.pivotGrid.groupingButton.font.color:this.lightMode.widgets.pivotGrid.groupingButton.font.color:this.currentTheme.widgets.pivotGrid.groupingButton.font.color},t.prototype.getPivotGroupingButtonIconColor=function(){return n.isNullOrUndefined(this.currentTheme)||n.isNullOrUndefined(this.currentTheme.widgets)||n.isNullOrUndefined(this.currentTheme.widgets.pivotGrid)||n.isNullOrUndefined(this.currentTheme.widgets.pivotGrid.groupingButton)||n.isNullOrUndefined(this.currentTheme.widgets.pivotGrid.groupingButton.icon)||n.isNullOrUndefined(this.currentTheme.widgets.pivotGrid.groupingButton.icon.font)||n.DashboardUtil.IsStringNullorWhiteSpace(this.currentTheme.widgets.pivotGrid.groupingButton.icon.font.color)?this.isDarkTypeTheme()?this.darkMode.widgets.pivotGrid.groupingButton.icon.font.color:this.lightMode.widgets.pivotGrid.groupingButton.icon.font.color:this.currentTheme.widgets.pivotGrid.groupingButton.icon.font.color},t.prototype.getPivotGroupingButtonIconHoverColor=function(){return n.isNullOrUndefined(this.currentTheme)||n.isNullOrUndefined(this.currentTheme.widgets)||n.isNullOrUndefined(this.currentTheme.widgets.pivotGrid)||n.isNullOrUndefined(this.currentTheme.widgets.pivotGrid.groupingButton)||n.isNullOrUndefined(this.currentTheme.widgets.pivotGrid.groupingButton.icon)||n.isNullOrUndefined(this.currentTheme.widgets.pivotGrid.groupingButton.icon.hover)||n.isNullOrUndefined(this.currentTheme.widgets.pivotGrid.groupingButton.icon.hover.font)||n.DashboardUtil.IsStringNullorWhiteSpace(this.currentTheme.widgets.pivotGrid.groupingButton.icon.hover.font.color)?this.isDarkTypeTheme()?this.darkMode.widgets.pivotGrid.groupingButton.icon.hover.font.color:this.lightMode.widgets.pivotGrid.groupingButton.icon.hover.font.color:this.currentTheme.widgets.pivotGrid.groupingButton.icon.hover.font.color},t.prototype.getPivotGroupingButtonIconHoverBackground=function(){return n.isNullOrUndefined(this.currentTheme)||n.isNullOrUndefined(this.currentTheme.widgets)||n.isNullOrUndefined(this.currentTheme.widgets.pivotGrid)||n.isNullOrUndefined(this.currentTheme.widgets.pivotGrid.groupingButton)||n.isNullOrUndefined(this.currentTheme.widgets.pivotGrid.groupingButton.icon)||n.isNullOrUndefined(this.currentTheme.widgets.pivotGrid.groupingButton.icon.hover)||n.isNullOrUndefined(this.currentTheme.widgets.pivotGrid.groupingButton.icon.hover.font)||n.DashboardUtil.IsStringNullorWhiteSpace(this.currentTheme.widgets.pivotGrid.groupingButton.icon.hover.background)?this.isDarkTypeTheme()?this.darkMode.widgets.pivotGrid.groupingButton.icon.hover.background:this.lightMode.widgets.pivotGrid.groupingButton.icon.hover.background:this.currentTheme.widgets.pivotGrid.groupingButton.icon.hover.background},t.prototype.getPivotGridBorderColor=function(){return n.isNullOrUndefined(this.currentTheme)||n.isNullOrUndefined(this.currentTheme.widgets)||n.isNullOrUndefined(this.currentTheme.widgets.pivotGrid)||n.DashboardUtil.IsStringNullorWhiteSpace(this.currentTheme.widgets.pivotGrid.border)?this.isDarkTypeTheme()?this.darkMode.widgets.pivotGrid.border:this.lightMode.widgets.pivotGrid.border:this.currentTheme.widgets.pivotGrid.border},t.prototype.getPivotDialogHeaderBackground=function(){return n.isNullOrUndefined(this.currentTheme)||n.isNullOrUndefined(this.currentTheme.widgets)||n.isNullOrUndefined(this.currentTheme.widgets.pivotGrid)||n.isNullOrUndefined(this.currentTheme.widgets.pivotGrid.filterDialog)||n.isNullOrUndefined(this.currentTheme.widgets.pivotGrid.filterDialog.header)||n.DashboardUtil.IsStringNullorWhiteSpace(this.currentTheme.widgets.pivotGrid.filterDialog.header.background)?this.isDarkTypeTheme()?this.darkMode.widgets.pivotGrid.filterDialog.header.background:this.lightMode.widgets.pivotGrid.filterDialog.header.background:this.currentTheme.widgets.pivotGrid.filterDialog.header.background},t.prototype.getPivotDialogHeaderTextColor=function(){return n.isNullOrUndefined(this.currentTheme)||n.isNullOrUndefined(this.currentTheme.widgets)||n.isNullOrUndefined(this.currentTheme.widgets.pivotGrid)||n.isNullOrUndefined(this.currentTheme.widgets.pivotGrid.filterDialog)||n.isNullOrUndefined(this.currentTheme.widgets.pivotGrid.filterDialog.header)||n.isNullOrUndefined(this.currentTheme.widgets.pivotGrid.filterDialog.header.font)||n.DashboardUtil.IsStringNullorWhiteSpace(this.currentTheme.widgets.pivotGrid.filterDialog.header.font.color)?this.isDarkTypeTheme()?this.darkMode.widgets.pivotGrid.filterDialog.header.font.color:this.lightMode.widgets.pivotGrid.filterDialog.header.font.color:this.currentTheme.widgets.pivotGrid.filterDialog.header.font.color},t.prototype.getPivotDialogListBackground=function(){return n.isNullOrUndefined(this.currentTheme)||n.isNullOrUndefined(this.currentTheme.widgets)||n.isNullOrUndefined(this.currentTheme.widgets.pivotGrid)||n.isNullOrUndefined(this.currentTheme.widgets.pivotGrid.filterDialog)||n.isNullOrUndefined(this.currentTheme.widgets.pivotGrid.filterDialog.list)||n.DashboardUtil.IsStringNullorWhiteSpace(this.currentTheme.widgets.pivotGrid.filterDialog.list.background)?this.isDarkTypeTheme()?this.darkMode.widgets.pivotGrid.filterDialog.list.background:this.lightMode.widgets.pivotGrid.filterDialog.list.background:this.currentTheme.widgets.pivotGrid.filterDialog.list.background},t.prototype.getPivotDialogListBoxTextColor=function(){return n.isNullOrUndefined(this.currentTheme)||n.isNullOrUndefined(this.currentTheme.widgets)||n.isNullOrUndefined(this.currentTheme.widgets.pivotGrid)||n.isNullOrUndefined(this.currentTheme.widgets.pivotGrid.filterDialog)||n.isNullOrUndefined(this.currentTheme.widgets.pivotGrid.filterDialog.list)||n.isNullOrUndefined(this.currentTheme.widgets.pivotGrid.filterDialog.list.font)||n.DashboardUtil.IsStringNullorWhiteSpace(this.currentTheme.widgets.pivotGrid.filterDialog.list.font.color)?this.isDarkTypeTheme()?this.darkMode.widgets.pivotGrid.filterDialog.list.font.color:this.lightMode.widgets.pivotGrid.filterDialog.list.font.color:this.currentTheme.widgets.pivotGrid.filterDialog.list.font.color},t.prototype.getPivotDialogListHoverBackground=function(){return n.isNullOrUndefined(this.currentTheme)||n.isNullOrUndefined(this.currentTheme.widgets)||n.isNullOrUndefined(this.currentTheme.widgets.pivotGrid)||n.isNullOrUndefined(this.currentTheme.widgets.pivotGrid.filterDialog)||n.isNullOrUndefined(this.currentTheme.widgets.pivotGrid.filterDialog.list)||n.isNullOrUndefined(this.currentTheme.widgets.pivotGrid.filterDialog.list.hover)||n.DashboardUtil.IsStringNullorWhiteSpace(this.currentTheme.widgets.pivotGrid.filterDialog.list.hover.background)?this.isDarkTypeTheme()?this.darkMode.widgets.pivotGrid.filterDialog.list.hover.background:this.lightMode.widgets.pivotGrid.filterDialog.list.hover.background:this.currentTheme.widgets.pivotGrid.filterDialog.list.hover.background},t.prototype.getPivotDialogListHoverTextColor=function(){return n.isNullOrUndefined(this.currentTheme)||n.isNullOrUndefined(this.currentTheme.widgets)||n.isNullOrUndefined(this.currentTheme.widgets.pivotGrid)||n.isNullOrUndefined(this.currentTheme.widgets.pivotGrid.filterDialog)||n.isNullOrUndefined(this.currentTheme.widgets.pivotGrid.filterDialog.list)||n.isNullOrUndefined(this.currentTheme.widgets.pivotGrid.filterDialog.list.hover)||n.isNullOrUndefined(this.currentTheme.widgets.pivotGrid.filterDialog.list.hover.font)||n.DashboardUtil.IsStringNullorWhiteSpace(this.currentTheme.widgets.pivotGrid.filterDialog.list.hover.font.color)?this.isDarkTypeTheme()?this.darkMode.widgets.pivotGrid.filterDialog.list.hover.font.color:this.lightMode.widgets.pivotGrid.filterDialog.list.hover.font.color:this.currentTheme.widgets.pivotGrid.filterDialog.list.hover.font.color},t.prototype.getPivotDialogListSelectionBackground=function(){return n.isNullOrUndefined(this.currentTheme)||n.isNullOrUndefined(this.currentTheme.widgets)||n.isNullOrUndefined(this.currentTheme.widgets.pivotGrid)||n.isNullOrUndefined(this.currentTheme.widgets.pivotGrid.filterDialog)||n.isNullOrUndefined(this.currentTheme.widgets.pivotGrid.filterDialog.list)||n.isNullOrUndefined(this.currentTheme.widgets.pivotGrid.filterDialog.list.selection)||n.DashboardUtil.IsStringNullorWhiteSpace(this.currentTheme.widgets.pivotGrid.filterDialog.list.selection.background)?this.isDarkTypeTheme()?this.darkMode.widgets.pivotGrid.filterDialog.list.selection.background:this.lightMode.widgets.pivotGrid.filterDialog.list.selection.background:this.currentTheme.widgets.pivotGrid.filterDialog.list.selection.background},t.prototype.getPivotDialogListBoxSelectionTextColor=function(){return n.isNullOrUndefined(this.currentTheme)||n.isNullOrUndefined(this.currentTheme.widgets)||n.isNullOrUndefined(this.currentTheme.widgets.pivotGrid)||n.isNullOrUndefined(this.currentTheme.widgets.pivotGrid.filterDialog)||n.isNullOrUndefined(this.currentTheme.widgets.pivotGrid.filterDialog.list)||n.isNullOrUndefined(this.currentTheme.widgets.pivotGrid.filterDialog.list.selection)||n.isNullOrUndefined(this.currentTheme.widgets.pivotGrid.filterDialog.list.selection.font)||n.DashboardUtil.IsStringNullorWhiteSpace(this.currentTheme.widgets.pivotGrid.filterDialog.list.selection.font.color)?this.isDarkTypeTheme()?this.darkMode.widgets.pivotGrid.filterDialog.list.selection.font.color:this.lightMode.widgets.pivotGrid.filterDialog.list.selection.font.color:this.currentTheme.widgets.pivotGrid.filterDialog.list.selection.font.color},t.prototype.getPivotDialogFooterBackground=function(){return n.isNullOrUndefined(this.currentTheme)||n.isNullOrUndefined(this.currentTheme.widgets)||n.isNullOrUndefined(this.currentTheme.widgets.pivotGrid)||n.isNullOrUndefined(this.currentTheme.widgets.pivotGrid.filterDialog)||n.DashboardUtil.IsStringNullorWhiteSpace(this.currentTheme.widgets.pivotGrid.filterDialog.footerBackground)?this.isDarkTypeTheme()?this.darkMode.widgets.pivotGrid.filterDialog.footerBackground:this.lightMode.widgets.pivotGrid.filterDialog.footerBackground:this.currentTheme.widgets.pivotGrid.filterDialog.footerBackground},t.prototype.getPivotDialogCancelButtonBackground=function(){return n.isNullOrUndefined(this.currentTheme)||n.isNullOrUndefined(this.currentTheme.widgets)||n.isNullOrUndefined(this.currentTheme.widgets.pivotGrid)||n.isNullOrUndefined(this.currentTheme.widgets.pivotGrid.filterDialog)||n.isNullOrUndefined(this.currentTheme.widgets.pivotGrid.filterDialog.cancelButton)||n.DashboardUtil.IsStringNullorWhiteSpace(this.currentTheme.widgets.pivotGrid.filterDialog.cancelButton.background)?this.isDarkTypeTheme()?this.darkMode.widgets.pivotGrid.filterDialog.cancelButton.background:this.lightMode.widgets.pivotGrid.filterDialog.cancelButton.background:this.currentTheme.widgets.pivotGrid.filterDialog.cancelButton.background},t.prototype.getPivotDialogCancelButtonHoverBackground=function(){return n.isNullOrUndefined(this.currentTheme)||n.isNullOrUndefined(this.currentTheme.widgets)||n.isNullOrUndefined(this.currentTheme.widgets.pivotGrid)||n.isNullOrUndefined(this.currentTheme.widgets.pivotGrid.filterDialog)||n.isNullOrUndefined(this.currentTheme.widgets.pivotGrid.filterDialog.cancelButton)||n.isNullOrUndefined(this.currentTheme.widgets.pivotGrid.filterDialog.cancelButton.hover)||n.DashboardUtil.IsStringNullorWhiteSpace(this.currentTheme.widgets.pivotGrid.filterDialog.cancelButton.hover.background)?this.isDarkTypeTheme()?this.darkMode.widgets.pivotGrid.filterDialog.cancelButton.hover.background:this.lightMode.widgets.pivotGrid.filterDialog.cancelButton.hover.background:this.currentTheme.widgets.pivotGrid.filterDialog.cancelButton.hover.background},t.prototype.getPivotDialogCancelButtonPressBackground=function(){return n.isNullOrUndefined(this.currentTheme)||n.isNullOrUndefined(this.currentTheme.widgets)||n.isNullOrUndefined(this.currentTheme.widgets.pivotGrid)||n.isNullOrUndefined(this.currentTheme.widgets.pivotGrid.filterDialog)||n.isNullOrUndefined(this.currentTheme.widgets.pivotGrid.filterDialog.cancelButton)||n.isNullOrUndefined(this.currentTheme.widgets.pivotGrid.filterDialog.cancelButton.press)||n.DashboardUtil.IsStringNullorWhiteSpace(this.currentTheme.widgets.pivotGrid.filterDialog.cancelButton.press.background)?this.isDarkTypeTheme()?this.darkMode.widgets.pivotGrid.filterDialog.cancelButton.press.background:this.lightMode.widgets.pivotGrid.filterDialog.cancelButton.press.background:this.currentTheme.widgets.pivotGrid.filterDialog.cancelButton.press.background},t.prototype.getPivotDialogCancelButtonTextColor=function(){return n.isNullOrUndefined(this.currentTheme)||n.isNullOrUndefined(this.currentTheme.widgets)||n.isNullOrUndefined(this.currentTheme.widgets.pivotGrid)||n.isNullOrUndefined(this.currentTheme.widgets.pivotGrid.filterDialog)||n.isNullOrUndefined(this.currentTheme.widgets.pivotGrid.filterDialog.cancelButton)||n.isNullOrUndefined(this.currentTheme.widgets.pivotGrid.filterDialog.cancelButton.font)||n.DashboardUtil.IsStringNullorWhiteSpace(this.currentTheme.widgets.pivotGrid.filterDialog.cancelButton.font.color)?this.isDarkTypeTheme()?this.darkMode.widgets.pivotGrid.filterDialog.cancelButton.font.color:this.lightMode.widgets.pivotGrid.filterDialog.cancelButton.font.color:this.currentTheme.widgets.pivotGrid.filterDialog.cancelButton.font.color},t.prototype.getPivotDialogCancelButtonHoverTextColor=function(){return n.isNullOrUndefined(this.currentTheme)||n.isNullOrUndefined(this.currentTheme.widgets)||n.isNullOrUndefined(this.currentTheme.widgets.pivotGrid)||n.isNullOrUndefined(this.currentTheme.widgets.pivotGrid.filterDialog)||n.isNullOrUndefined(this.currentTheme.widgets.pivotGrid.filterDialog.cancelButton)||n.isNullOrUndefined(this.currentTheme.widgets.pivotGrid.filterDialog.cancelButton.hover.font)||n.isNullOrUndefined(this.currentTheme.widgets.pivotGrid.filterDialog.cancelButton.hover.font)||n.DashboardUtil.IsStringNullorWhiteSpace(this.currentTheme.widgets.pivotGrid.filterDialog.cancelButton.hover.font.color)?this.isDarkTypeTheme()?this.darkMode.widgets.pivotGrid.filterDialog.cancelButton.hover.font.color:this.lightMode.widgets.pivotGrid.filterDialog.cancelButton.hover.font.color:this.currentTheme.widgets.pivotGrid.filterDialog.cancelButton.hover.font.color},t.prototype.getPivotDialogCancelButtonPressTextColor=function(){return n.isNullOrUndefined(this.currentTheme)||n.isNullOrUndefined(this.currentTheme.widgets)||n.isNullOrUndefined(this.currentTheme.widgets.pivotGrid)||n.isNullOrUndefined(this.currentTheme.widgets.pivotGrid.filterDialog)||n.isNullOrUndefined(this.currentTheme.widgets.pivotGrid.filterDialog.cancelButton)||n.isNullOrUndefined(this.currentTheme.widgets.pivotGrid.filterDialog.cancelButton.press.font)||n.isNullOrUndefined(this.currentTheme.widgets.pivotGrid.filterDialog.cancelButton.press.font)||n.DashboardUtil.IsStringNullorWhiteSpace(this.currentTheme.widgets.pivotGrid.filterDialog.cancelButton.press.font.color)?this.isDarkTypeTheme()?this.darkMode.widgets.pivotGrid.filterDialog.cancelButton.press.font.color:this.lightMode.widgets.pivotGrid.filterDialog.cancelButton.press.font.color:this.currentTheme.widgets.pivotGrid.filterDialog.cancelButton.press.font.color},t.prototype.getPivotDialogOkButtonBackground=function(){return n.isNullOrUndefined(this.currentTheme)||n.isNullOrUndefined(this.currentTheme.widgets)||n.isNullOrUndefined(this.currentTheme.widgets.pivotGrid)||n.isNullOrUndefined(this.currentTheme.widgets.pivotGrid.filterDialog)||n.isNullOrUndefined(this.currentTheme.widgets.pivotGrid.filterDialog.okButton)||n.DashboardUtil.IsStringNullorWhiteSpace(this.currentTheme.widgets.pivotGrid.filterDialog.okButton.background)?this.isDarkTypeTheme()?this.darkMode.widgets.pivotGrid.filterDialog.okButton.background:this.lightMode.widgets.pivotGrid.filterDialog.okButton.background:this.currentTheme.widgets.pivotGrid.filterDialog.okButton.background},t.prototype.getPivotDialogOkButtonHoverBackground=function(){return n.isNullOrUndefined(this.currentTheme)||n.isNullOrUndefined(this.currentTheme.widgets)||n.isNullOrUndefined(this.currentTheme.widgets.pivotGrid)||n.isNullOrUndefined(this.currentTheme.widgets.pivotGrid.filterDialog)||n.isNullOrUndefined(this.currentTheme.widgets.pivotGrid.filterDialog.okButton)||n.isNullOrUndefined(this.currentTheme.widgets.pivotGrid.filterDialog.okButton.hover)||n.DashboardUtil.IsStringNullorWhiteSpace(this.currentTheme.widgets.pivotGrid.filterDialog.okButton.hover.background)?this.isDarkTypeTheme()?this.darkMode.widgets.pivotGrid.filterDialog.okButton.hover.background:this.lightMode.widgets.pivotGrid.filterDialog.okButton.hover.background:this.currentTheme.widgets.pivotGrid.filterDialog.okButton.hover.background},t.prototype.getPivotDialogOkButtonPressBackground=function(){return n.isNullOrUndefined(this.currentTheme)||n.isNullOrUndefined(this.currentTheme.widgets)||n.isNullOrUndefined(this.currentTheme.widgets.pivotGrid)||n.isNullOrUndefined(this.currentTheme.widgets.pivotGrid.filterDialog)||n.isNullOrUndefined(this.currentTheme.widgets.pivotGrid.filterDialog.okButton)||n.isNullOrUndefined(this.currentTheme.widgets.pivotGrid.filterDialog.okButton.press)||n.DashboardUtil.IsStringNullorWhiteSpace(this.currentTheme.widgets.pivotGrid.filterDialog.okButton.press.background)?this.isDarkTypeTheme()?this.darkMode.widgets.pivotGrid.filterDialog.okButton.press.background:this.lightMode.widgets.pivotGrid.filterDialog.okButton.press.background:this.currentTheme.widgets.pivotGrid.filterDialog.okButton.press.background},t.prototype.getPivotDialogOkButtonTextColor=function(){return n.isNullOrUndefined(this.currentTheme)||n.isNullOrUndefined(this.currentTheme.widgets)||n.isNullOrUndefined(this.currentTheme.widgets.pivotGrid)||n.isNullOrUndefined(this.currentTheme.widgets.pivotGrid.filterDialog)||n.isNullOrUndefined(this.currentTheme.widgets.pivotGrid.filterDialog.okButton)||n.isNullOrUndefined(this.currentTheme.widgets.pivotGrid.filterDialog.okButton.font)||n.DashboardUtil.IsStringNullorWhiteSpace(this.currentTheme.widgets.pivotGrid.filterDialog.okButton.font.color)?this.isDarkTypeTheme()?this.darkMode.widgets.pivotGrid.filterDialog.okButton.font.color:this.lightMode.widgets.pivotGrid.filterDialog.okButton.font.color:this.currentTheme.widgets.pivotGrid.filterDialog.okButton.font.color},t.prototype.getPivotDialogOkButtonHoverTextColor=function(){return n.isNullOrUndefined(this.currentTheme)||n.isNullOrUndefined(this.currentTheme.widgets)||n.isNullOrUndefined(this.currentTheme.widgets.pivotGrid)||n.isNullOrUndefined(this.currentTheme.widgets.pivotGrid.filterDialog)||n.isNullOrUndefined(this.currentTheme.widgets.pivotGrid.filterDialog.okButton)||n.isNullOrUndefined(this.currentTheme.widgets.pivotGrid.filterDialog.okButton.hover)||n.isNullOrUndefined(this.currentTheme.widgets.pivotGrid.filterDialog.okButton.hover.font)||n.DashboardUtil.IsStringNullorWhiteSpace(this.currentTheme.widgets.pivotGrid.filterDialog.okButton.hover.font.color)?this.isDarkTypeTheme()?this.darkMode.widgets.pivotGrid.filterDialog.okButton.hover.font.color:this.lightMode.widgets.pivotGrid.filterDialog.okButton.hover.font.color:this.currentTheme.widgets.pivotGrid.filterDialog.okButton.hover.font.color},t.prototype.getPivotDialogOkButtonPressTextColor=function(){return n.isNullOrUndefined(this.currentTheme)||n.isNullOrUndefined(this.currentTheme.widgets)||n.isNullOrUndefined(this.currentTheme.widgets.pivotGrid)||n.isNullOrUndefined(this.currentTheme.widgets.pivotGrid.filterDialog)||n.isNullOrUndefined(this.currentTheme.widgets.pivotGrid.filterDialog.okButton)||n.isNullOrUndefined(this.currentTheme.widgets.pivotGrid.filterDialog.okButton.press)||n.isNullOrUndefined(this.currentTheme.widgets.pivotGrid.filterDialog.okButton.press.font)||n.DashboardUtil.IsStringNullorWhiteSpace(this.currentTheme.widgets.pivotGrid.filterDialog.okButton.press.font.color)?this.isDarkTypeTheme()?this.darkMode.widgets.pivotGrid.filterDialog.okButton.press.font.color:this.lightMode.widgets.pivotGrid.filterDialog.okButton.press.font.color:this.currentTheme.widgets.pivotGrid.filterDialog.okButton.press.font.color},t.prototype.getPivotGridContentFont=function(){var t=this.getWidgetDataValueFontSize(),i=this.getWidgetDataValueFontWeight(),r=this.getWidgetDataValueFontFamily();return n.isNullOrUndefined(this.currentTheme)||n.isNullOrUndefined(this.currentTheme.widgets)||n.isNullOrUndefined(this.currentTheme.widgets.pivotGrid)||n.isNullOrUndefined(this.currentTheme.widgets.pivotGrid.content)||n.isNullOrUndefined(this.currentTheme.widgets.pivotGrid.content.font)||n.isNullOrUndefined(this.currentTheme.widgets.pivotGrid.content.font.fontSettings)||n.isNullOrUndefined(this.currentTheme.widgets.pivotGrid.content.font.fontSettings.autoFontSettings)||this.currentTheme.widgets.pivotGrid.content.font.fontSettings.autoFontSettings||(t=n.isNullOrUndefined(this.currentTheme.widgets.pivotGrid.content.font.fontSettings.fontSize)||n.DashboardUtil.IsStringNullorWhiteSpace(this.currentTheme.widgets.pivotGrid.content.font.fontSettings.fontSize)?t:this.currentTheme.widgets.pivotGrid.content.font.fontSettings.fontSize,i=n.isNullOrUndefined(this.currentTheme.widgets.pivotGrid.content.font.fontSettings.fontWeight)||n.DashboardUtil.IsStringNullorWhiteSpace(this.currentTheme.widgets.pivotGrid.content.font.fontSettings.fontWeight)?i:this.currentTheme.widgets.pivotGrid.content.font.fontSettings.fontWeight,r=n.isNullOrUndefined(this.currentTheme.widgets.pivotGrid.content.font.fontSettings.fontFamily)||n.DashboardUtil.IsStringNullorWhiteSpace(this.currentTheme.widgets.pivotGrid.content.font.fontSettings.fontFamily)?r:this.currentTheme.widgets.pivotGrid.content.font.fontSettings.fontFamily,this.updateFontSrcList(this.currentTheme.widgets.pivotGrid.content.font.fontSettings.fontFamily,this.currentTheme.widgets.pivotGrid.content.font.fontSettings.fontSrc)),t=n.DashboardUtil.IsStringNullorWhiteSpace(t)?this.getFontSizeBasedOnResolution():t,i=n.DashboardUtil.IsStringNullorWhiteSpace(i)?"Normal":i,r=n.DashboardUtil.IsStringNullorWhiteSpace(r)?"var(--designer-font)":r,{size:t,weight:i,family:r}},t.prototype.getPivotGridContentHoverFont=function(){var t=this.getWidgetDataValueHoverFontSize(),i=this.getWidgetDataValueHoverFontWeight(),r=this.getWidgetDataValueHoverFontFamily();return n.isNullOrUndefined(this.currentTheme)||n.isNullOrUndefined(this.currentTheme.widgets)||n.isNullOrUndefined(this.currentTheme.widgets.pivotGrid)||n.isNullOrUndefined(this.currentTheme.widgets.pivotGrid.content)||n.isNullOrUndefined(this.currentTheme.widgets.pivotGrid.content.hover)||n.isNullOrUndefined(this.currentTheme.widgets.pivotGrid.content.hover.font)||n.isNullOrUndefined(this.currentTheme.widgets.pivotGrid.content.hover.font.fontSettings)||n.isNullOrUndefined(this.currentTheme.widgets.pivotGrid.content.hover.font.fontSettings.autoFontSettings)||this.currentTheme.widgets.pivotGrid.content.hover.font.fontSettings.autoFontSettings||(t=n.isNullOrUndefined(this.currentTheme.widgets.pivotGrid.content.hover.font.fontSettings.fontSize)||n.DashboardUtil.IsStringNullorWhiteSpace(this.currentTheme.widgets.pivotGrid.content.hover.font.fontSettings.fontSize)?this.getWidgetDataValueHoverFontSize():this.currentTheme.widgets.pivotGrid.content.hover.font.fontSettings.fontSize,i=n.isNullOrUndefined(this.currentTheme.widgets.pivotGrid.content.hover.font.fontSettings.fontWeight)||n.DashboardUtil.IsStringNullorWhiteSpace(this.currentTheme.widgets.pivotGrid.content.hover.font.fontSettings.fontWeight)?this.getWidgetDataValueHoverFontWeight():this.currentTheme.widgets.pivotGrid.content.hover.font.fontSettings.fontWeight,r=n.isNullOrUndefined(this.currentTheme.widgets.pivotGrid.content.hover.font.fontSettings.fontFamily)||n.DashboardUtil.IsStringNullorWhiteSpace(this.currentTheme.widgets.pivotGrid.content.hover.font.fontSettings.fontFamily)?this.getWidgetDataValueHoverFontFamily():this.currentTheme.widgets.pivotGrid.content.hover.font.fontSettings.fontFamily,this.updateFontSrcList(this.currentTheme.widgets.pivotGrid.content.hover.font.fontSettings.fontFamily,this.currentTheme.widgets.pivotGrid.content.hover.font.fontSettings.fontSrc)),this.getFontStyleCssValue(t,i,r)},t.prototype.getPivotGridContentSelectFont=function(){var t=this.getWidgetDataValueHoverFontSize(),i=this.getWidgetDataValueHoverFontWeight(),r=this.getWidgetDataValueHoverFontFamily();return n.isNullOrUndefined(this.currentTheme)||n.isNullOrUndefined(this.currentTheme.widgets)||n.isNullOrUndefined(this.currentTheme.widgets.pivotGrid)||n.isNullOrUndefined(this.currentTheme.widgets.pivotGrid.content)||n.isNullOrUndefined(this.currentTheme.widgets.pivotGrid.content.selection)||n.isNullOrUndefined(this.currentTheme.widgets.pivotGrid.content.selection.font)||n.isNullOrUndefined(this.currentTheme.widgets.pivotGrid.content.selection.font.fontSettings)||n.isNullOrUndefined(this.currentTheme.widgets.pivotGrid.content.selection.font.fontSettings.autoFontSettings)||this.currentTheme.widgets.pivotGrid.content.selection.font.fontSettings.autoFontSettings||(t=n.isNullOrUndefined(this.currentTheme.widgets.pivotGrid.content.selection.font.fontSettings.fontSize)||n.DashboardUtil.IsStringNullorWhiteSpace(this.currentTheme.widgets.pivotGrid.content.selection.font.fontSettings.fontSize)?this.getWidgetDataValueHoverFontSize():this.currentTheme.widgets.pivotGrid.content.selection.font.fontSettings.fontSize,i=n.isNullOrUndefined(this.currentTheme.widgets.pivotGrid.content.selection.font.fontSettings.fontWeight)||n.DashboardUtil.IsStringNullorWhiteSpace(this.currentTheme.widgets.pivotGrid.content.selection.font.fontSettings.fontWeight)?this.getWidgetDataValueHoverFontWeight():this.currentTheme.widgets.pivotGrid.content.selection.font.fontSettings.fontWeight,r=n.isNullOrUndefined(this.currentTheme.widgets.pivotGrid.content.selection.font.fontSettings.fontFamily)||n.DashboardUtil.IsStringNullorWhiteSpace(this.currentTheme.widgets.pivotGrid.content.selection.font.fontSettings.fontFamily)?this.getWidgetDataValueHoverFontFamily():this.currentTheme.widgets.pivotGrid.content.selection.font.fontSettings.fontFamily,this.updateFontSrcList(this.currentTheme.widgets.pivotGrid.content.selection.font.fontSettings.fontFamily,this.currentTheme.widgets.pivotGrid.content.selection.font.fontSettings.fontSrc)),this.getFontStyleCssValue(t,i,r)},t.prototype.getPivotGridHeaderFont=function(){var t=this.getWidgetDataLabelFontSize(),i=this.getWidgetDataLabelFontWeight(),r=this.getWidgetDataLabelFontFamily();return n.isNullOrUndefined(this.currentTheme)||n.isNullOrUndefined(this.currentTheme.widgets)||n.isNullOrUndefined(this.currentTheme.widgets.pivotGrid)||n.isNullOrUndefined(this.currentTheme.widgets.pivotGrid.header)||n.isNullOrUndefined(this.currentTheme.widgets.pivotGrid.header.font)||n.isNullOrUndefined(this.currentTheme.widgets.pivotGrid.header.font.fontSettings)||n.isNullOrUndefined(this.currentTheme.widgets.pivotGrid.header.font.fontSettings.autoFontSettings)||this.currentTheme.widgets.pivotGrid.header.font.fontSettings.autoFontSettings||(t=n.isNullOrUndefined(this.currentTheme.widgets.pivotGrid.header.font.fontSettings.fontSize)||n.DashboardUtil.IsStringNullorWhiteSpace(this.currentTheme.widgets.pivotGrid.header.font.fontSettings.fontSize)?this.getWidgetDataLabelFontSize():this.currentTheme.widgets.pivotGrid.header.font.fontSettings.fontSize,i=n.isNullOrUndefined(this.currentTheme.widgets.pivotGrid.header.font.fontSettings.fontWeight)||n.DashboardUtil.IsStringNullorWhiteSpace(this.currentTheme.widgets.pivotGrid.header.font.fontSettings.fontWeight)?this.getWidgetDataLabelFontWeight():this.currentTheme.widgets.pivotGrid.header.font.fontSettings.fontWeight,r=n.isNullOrUndefined(this.currentTheme.widgets.pivotGrid.header.font.fontSettings.fontFamily)||n.DashboardUtil.IsStringNullorWhiteSpace(this.currentTheme.widgets.pivotGrid.header.font.fontSettings.fontFamily)?this.getWidgetDataLabelFontFamily():this.currentTheme.widgets.pivotGrid.header.font.fontSettings.fontFamily,this.updateFontSrcList(this.currentTheme.widgets.pivotGrid.header.font.fontSettings.fontFamily,this.currentTheme.widgets.pivotGrid.header.font.fontSettings.fontSrc)),t=n.DashboardUtil.IsStringNullorWhiteSpace(t)?this.getFontSizeBasedOnResolution():t,i=n.DashboardUtil.IsStringNullorWhiteSpace(i)?"500":i,r=n.DashboardUtil.IsStringNullorWhiteSpace(r)?"var(--designer-font)":r,{size:t,weight:i,family:r}},t.prototype.getPivotGridGroupingBtnFont=function(){var t=this.getWidgetDataLabelFontSize(),i=this.getWidgetDataLabelFontWeight(),r=this.getWidgetDataLabelFontFamily();return n.isNullOrUndefined(this.currentTheme)||n.isNullOrUndefined(this.currentTheme.widgets)||n.isNullOrUndefined(this.currentTheme.widgets.pivotGrid)||n.isNullOrUndefined(this.currentTheme.widgets.pivotGrid.groupingButton)||n.isNullOrUndefined(this.currentTheme.widgets.pivotGrid.groupingButton.font)||n.isNullOrUndefined(this.currentTheme.widgets.pivotGrid.groupingButton.font.fontSettings)||n.isNullOrUndefined(this.currentTheme.widgets.pivotGrid.groupingButton.font.fontSettings.autoFontSettings)||this.currentTheme.widgets.pivotGrid.groupingButton.font.fontSettings.autoFontSettings||(t=n.isNullOrUndefined(this.currentTheme.widgets.pivotGrid.groupingButton.font.fontSettings.fontSize)||n.DashboardUtil.IsStringNullorWhiteSpace(this.currentTheme.widgets.pivotGrid.groupingButton.font.fontSettings.fontSize)?t:this.currentTheme.widgets.pivotGrid.groupingButton.font.fontSettings.fontSize,i=n.isNullOrUndefined(this.currentTheme.widgets.pivotGrid.groupingButton.font.fontSettings.fontWeight)||n.DashboardUtil.IsStringNullorWhiteSpace(this.currentTheme.widgets.pivotGrid.groupingButton.font.fontSettings.fontWeight)?i:this.currentTheme.widgets.pivotGrid.groupingButton.font.fontSettings.fontWeight,r=n.isNullOrUndefined(this.currentTheme.widgets.pivotGrid.groupingButton.font.fontSettings.fontFamily)||n.DashboardUtil.IsStringNullorWhiteSpace(this.currentTheme.widgets.pivotGrid.groupingButton.font.fontSettings.fontFamily)?r:this.currentTheme.widgets.pivotGrid.groupingButton.font.fontSettings.fontFamily,this.updateFontSrcList(this.currentTheme.widgets.pivotGrid.groupingButton.font.fontSettings.fontFamily,this.currentTheme.widgets.pivotGrid.groupingButton.font.fontSettings.fontSrc)),t=n.DashboardUtil.IsStringNullorWhiteSpace(t)?this.getFontSizeBasedOnResolution():t,{size:t,weight:i,family:r}},t.prototype.getPivotGridGroupingBtnIconFont=function(){var t,i;if(n.isNullOrUndefined(this.currentTheme)||n.isNullOrUndefined(this.currentTheme.widgets)||n.isNullOrUndefined(this.currentTheme.widgets.pivotGrid)||n.isNullOrUndefined(this.currentTheme.widgets.pivotGrid.groupingButton)||n.isNullOrUndefined(this.currentTheme.widgets.pivotGrid.groupingButton.icon)||n.isNullOrUndefined(this.currentTheme.widgets.pivotGrid.groupingButton.icon.font)||n.isNullOrUndefined(this.currentTheme.widgets.pivotGrid.groupingButton.icon.font.fontSettings))t=this.getWidgetDataLabelFontSize(),i=this.getWidgetDataLabelFontWeight();else{if(n.isNullOrUndefined(this.currentTheme.widgets.pivotGrid.groupingButton.icon.font.fontSettings.autoFontSettings)||this.currentTheme.widgets.pivotGrid.groupingButton.icon.font.fontSettings.autoFontSettings)return"";t=n.isNullOrUndefined(this.currentTheme.widgets.pivotGrid.groupingButton.icon.font.fontSettings.fontSize)||n.DashboardUtil.IsStringNullorWhiteSpace(this.currentTheme.widgets.pivotGrid.groupingButton.icon.font.fontSettings.fontSize)?this.getWidgetDataLabelFontSize():this.currentTheme.widgets.pivotGrid.groupingButton.icon.font.fontSettings.fontSize;i=n.isNullOrUndefined(this.currentTheme.widgets.pivotGrid.groupingButton.icon.font.fontSettings.fontWeight)||n.DashboardUtil.IsStringNullorWhiteSpace(this.currentTheme.widgets.pivotGrid.groupingButton.icon.font.fontSettings.fontWeight)?this.getWidgetDataLabelFontWeight():this.currentTheme.widgets.pivotGrid.groupingButton.icon.font.fontSettings.fontWeight}return this.getFontStyleCssValue(t,i)},t.prototype.getPivotGridGroupingBtnIconHoverFont=function(){var t=this.getWidgetDataLabelFontSize(),i=this.getWidgetDataLabelFontWeight();return n.isNullOrUndefined(this.currentTheme)||n.isNullOrUndefined(this.currentTheme.widgets)||n.isNullOrUndefined(this.currentTheme.widgets.pivotGrid)||n.isNullOrUndefined(this.currentTheme.widgets.pivotGrid.groupingButton)||n.isNullOrUndefined(this.currentTheme.widgets.pivotGrid.groupingButton.icon)||n.isNullOrUndefined(this.currentTheme.widgets.pivotGrid.groupingButton.icon.hover)||n.isNullOrUndefined(this.currentTheme.widgets.pivotGrid.groupingButton.icon.hover.font)||n.isNullOrUndefined(this.currentTheme.widgets.pivotGrid.groupingButton.icon.hover.font.fontSettings)||n.isNullOrUndefined(this.currentTheme.widgets.pivotGrid.groupingButton.icon.hover.font.fontSettings.autoFontSettings)||this.currentTheme.widgets.pivotGrid.groupingButton.icon.hover.font.fontSettings.autoFontSettings||(t=n.isNullOrUndefined(this.currentTheme.widgets.pivotGrid.groupingButton.icon.hover.font.fontSettings.fontSize)||n.DashboardUtil.IsStringNullorWhiteSpace(this.currentTheme.widgets.pivotGrid.groupingButton.icon.hover.font.fontSettings.fontSize)?this.getWidgetDataLabelFontSize():this.currentTheme.widgets.pivotGrid.groupingButton.icon.hover.font.fontSettings.fontSize,i=n.isNullOrUndefined(this.currentTheme.widgets.pivotGrid.groupingButton.icon.hover.font.fontSettings.fontWeight)||n.DashboardUtil.IsStringNullorWhiteSpace(this.currentTheme.widgets.pivotGrid.groupingButton.icon.hover.font.fontSettings.fontWeight)?this.getWidgetDataLabelFontWeight():this.currentTheme.widgets.pivotGrid.groupingButton.icon.hover.font.fontSettings.fontWeight),this.getFontStyleCssValue(t,i)},t.prototype.getPivotGridFilterCancelBtnFont=function(){var t=this.getWidgetDataLabelFontSize(),i=this.getWidgetDataLabelFontWeight(),r=this.getWidgetDataLabelFontFamily();return n.isNullOrUndefined(this.currentTheme)||n.isNullOrUndefined(this.currentTheme.widgets)||n.isNullOrUndefined(this.currentTheme.widgets.pivotGrid)||n.isNullOrUndefined(this.currentTheme.widgets.pivotGrid.filterDialog)||n.isNullOrUndefined(this.currentTheme.widgets.pivotGrid.filterDialog.cancelButton)||n.isNullOrUndefined(this.currentTheme.widgets.pivotGrid.filterDialog.cancelButton.font)||n.isNullOrUndefined(this.currentTheme.widgets.pivotGrid.filterDialog.cancelButton.font.fontSettings)||n.isNullOrUndefined(this.currentTheme.widgets.pivotGrid.filterDialog.cancelButton.font.fontSettings.autoFontSettings)||this.currentTheme.widgets.pivotGrid.filterDialog.cancelButton.font.fontSettings.autoFontSettings||(t=n.isNullOrUndefined(this.currentTheme.widgets.pivotGrid.filterDialog.cancelButton.font.fontSettings.fontSize)||n.DashboardUtil.IsStringNullorWhiteSpace(this.currentTheme.widgets.pivotGrid.filterDialog.cancelButton.font.fontSettings.fontSize)?t:this.currentTheme.widgets.pivotGrid.filterDialog.cancelButton.font.fontSettings.fontSize,i=n.isNullOrUndefined(this.currentTheme.widgets.pivotGrid.filterDialog.cancelButton.font.fontSettings.fontWeight)||n.DashboardUtil.IsStringNullorWhiteSpace(this.currentTheme.widgets.pivotGrid.filterDialog.cancelButton.font.fontSettings.fontWeight)?i:this.currentTheme.widgets.pivotGrid.filterDialog.cancelButton.font.fontSettings.fontWeight,r=n.isNullOrUndefined(this.currentTheme.widgets.pivotGrid.filterDialog.cancelButton.font.fontSettings.fontFamily)||n.DashboardUtil.IsStringNullorWhiteSpace(this.currentTheme.widgets.pivotGrid.filterDialog.cancelButton.font.fontSettings.fontFamily)?r:this.currentTheme.widgets.pivotGrid.filterDialog.cancelButton.font.fontSettings.fontFamily,this.updateFontSrcList(this.currentTheme.widgets.pivotGrid.filterDialog.cancelButton.font.fontSettings.fontFamily,this.currentTheme.widgets.pivotGrid.filterDialog.cancelButton.font.fontSettings.fontSrc)),this.getFontStyleCssValue(t,i,r)},t.prototype.getPivotGridFilterCancelBtnHoverFont=function(){var t=this.getWidgetDataLabelFontSize(),i=this.getWidgetDataLabelFontWeight(),r=this.getWidgetDataLabelFontFamily();return n.isNullOrUndefined(this.currentTheme)||n.isNullOrUndefined(this.currentTheme.widgets)||n.isNullOrUndefined(this.currentTheme.widgets.pivotGrid)||n.isNullOrUndefined(this.currentTheme.widgets.pivotGrid.filterDialog)||n.isNullOrUndefined(this.currentTheme.widgets.pivotGrid.filterDialog.cancelButton)||n.isNullOrUndefined(this.currentTheme.widgets.pivotGrid.filterDialog.cancelButton.hover)||n.isNullOrUndefined(this.currentTheme.widgets.pivotGrid.filterDialog.cancelButton.hover.font)||n.isNullOrUndefined(this.currentTheme.widgets.pivotGrid.filterDialog.cancelButton.hover.font.fontSettings)||n.isNullOrUndefined(this.currentTheme.widgets.pivotGrid.filterDialog.cancelButton.hover.font.fontSettings.autoFontSettings)||this.currentTheme.widgets.pivotGrid.filterDialog.cancelButton.hover.font.fontSettings.autoFontSettings||(t=n.isNullOrUndefined(this.currentTheme.widgets.pivotGrid.filterDialog.cancelButton.hover.font.fontSettings.fontSize)||n.DashboardUtil.IsStringNullorWhiteSpace(this.currentTheme.widgets.pivotGrid.filterDialog.cancelButton.hover.font.fontSettings.fontSize)?this.getWidgetDataLabelFontSize():this.currentTheme.widgets.pivotGrid.filterDialog.cancelButton.hover.font.fontSettings.fontSize,i=n.isNullOrUndefined(this.currentTheme.widgets.pivotGrid.filterDialog.cancelButton.hover.font.fontSettings.fontWeight)||n.DashboardUtil.IsStringNullorWhiteSpace(this.currentTheme.widgets.pivotGrid.filterDialog.cancelButton.hover.font.fontSettings.fontWeight)?this.getWidgetDataLabelFontWeight():this.currentTheme.widgets.pivotGrid.filterDialog.cancelButton.hover.font.fontSettings.fontWeight,r=n.isNullOrUndefined(this.currentTheme.widgets.pivotGrid.filterDialog.cancelButton.hover.font.fontSettings.fontFamily)||n.DashboardUtil.IsStringNullorWhiteSpace(this.currentTheme.widgets.pivotGrid.filterDialog.cancelButton.hover.font.fontSettings.fontFamily)?this.getWidgetDataLabelFontFamily():this.currentTheme.widgets.pivotGrid.filterDialog.cancelButton.hover.font.fontSettings.fontFamily,this.updateFontSrcList(this.currentTheme.widgets.pivotGrid.filterDialog.cancelButton.hover.font.fontSettings.fontFamily,this.currentTheme.widgets.pivotGrid.filterDialog.cancelButton.hover.font.fontSettings.fontSrc)),this.getFontStyleCssValue(t,i,r)},t.prototype.getPivotGridFilterOkBtnFont=function(){var t=this.getWidgetDataLabelFontSize(),i=this.getWidgetDataLabelFontWeight(),r=this.getWidgetDataLabelFontFamily();return n.isNullOrUndefined(this.currentTheme)||n.isNullOrUndefined(this.currentTheme.widgets)||n.isNullOrUndefined(this.currentTheme.widgets.datepicker)||n.isNullOrUndefined(this.currentTheme.widgets.pivotGrid.filterDialog)||n.isNullOrUndefined(this.currentTheme.widgets.pivotGrid.filterDialog.okButton)||n.isNullOrUndefined(this.currentTheme.widgets.pivotGrid.filterDialog.okButton.font)||n.isNullOrUndefined(this.currentTheme.widgets.pivotGrid.filterDialog.okButton.font.fontSettings)||n.isNullOrUndefined(this.currentTheme.widgets.pivotGrid.filterDialog.okButton.font.fontSettings.autoFontSettings)||this.currentTheme.widgets.pivotGrid.filterDialog.okButton.font.fontSettings.autoFontSettings||(t=n.isNullOrUndefined(this.currentTheme.widgets.pivotGrid.filterDialog.okButton.font.fontSettings.fontSize)||n.DashboardUtil.IsStringNullorWhiteSpace(this.currentTheme.widgets.pivotGrid.filterDialog.okButton.font.fontSettings.fontSize)?t:this.currentTheme.widgets.pivotGrid.filterDialog.okButton.font.fontSettings.fontSize,i=n.isNullOrUndefined(this.currentTheme.widgets.pivotGrid.filterDialog.okButton.font.fontSettings.fontWeight)||n.DashboardUtil.IsStringNullorWhiteSpace(this.currentTheme.widgets.pivotGrid.filterDialog.okButton.font.fontSettings.fontWeight)?i:this.currentTheme.widgets.pivotGrid.filterDialog.okButton.font.fontSettings.fontWeight,r=n.isNullOrUndefined(this.currentTheme.widgets.pivotGrid.filterDialog.okButton.font.fontSettings.fontFamily)||n.DashboardUtil.IsStringNullorWhiteSpace(this.currentTheme.widgets.pivotGrid.filterDialog.okButton.font.fontSettings.fontFamily)?r:this.currentTheme.widgets.pivotGrid.filterDialog.okButton.font.fontSettings.fontFamily,this.updateFontSrcList(this.currentTheme.widgets.pivotGrid.filterDialog.okButton.font.fontSettings.fontFamily,this.currentTheme.widgets.pivotGrid.filterDialog.okButton.font.fontSettings.fontSrc)),this.getFontStyleCssValue(t,i,r)},t.prototype.getPivotGridFilterOkBtnHoverFont=function(){var t=this.getWidgetDataLabelFontSize(),i=this.getWidgetDataLabelFontWeight(),r=this.getWidgetDataLabelFontFamily();return n.isNullOrUndefined(this.currentTheme)||n.isNullOrUndefined(this.currentTheme.widgets)||n.isNullOrUndefined(this.currentTheme.widgets.datepicker)||n.isNullOrUndefined(this.currentTheme.widgets.pivotGrid.filterDialog)||n.isNullOrUndefined(this.currentTheme.widgets.pivotGrid.filterDialog.okButton)||n.isNullOrUndefined(this.currentTheme.widgets.pivotGrid.filterDialog.okButton.hover)||n.isNullOrUndefined(this.currentTheme.widgets.pivotGrid.filterDialog.okButton.hover.font)||n.isNullOrUndefined(this.currentTheme.widgets.pivotGrid.filterDialog.okButton.hover.font.fontSettings)||n.isNullOrUndefined(this.currentTheme.widgets.pivotGrid.filterDialog.okButton.hover.font.fontSettings.autoFontSettings)||this.currentTheme.widgets.pivotGrid.filterDialog.okButton.hover.font.fontSettings.autoFontSettings||(t=n.isNullOrUndefined(this.currentTheme.widgets.pivotGrid.filterDialog.okButton.hover.font.fontSettings.fontSize)||n.DashboardUtil.IsStringNullorWhiteSpace(this.currentTheme.widgets.pivotGrid.filterDialog.okButton.hover.font.fontSettings.fontSize)?this.getWidgetDataLabelFontSize():this.currentTheme.widgets.pivotGrid.filterDialog.okButton.hover.font.fontSettings.fontSize,i=n.isNullOrUndefined(this.currentTheme.widgets.pivotGrid.filterDialog.okButton.hover.font.fontSettings.fontWeight)||n.DashboardUtil.IsStringNullorWhiteSpace(this.currentTheme.widgets.pivotGrid.filterDialog.okButton.hover.font.fontSettings.fontWeight)?this.getWidgetDataLabelFontWeight():this.currentTheme.widgets.pivotGrid.filterDialog.okButton.hover.font.fontSettings.fontWeight,r=n.isNullOrUndefined(this.currentTheme.widgets.pivotGrid.filterDialog.okButton.hover.font.fontSettings.fontFamily)||n.DashboardUtil.IsStringNullorWhiteSpace(this.currentTheme.widgets.pivotGrid.filterDialog.okButton.hover.font.fontSettings.fontFamily)?this.getWidgetDataLabelFontFamily():this.currentTheme.widgets.pivotGrid.filterDialog.okButton.hover.font.fontSettings.fontFamily,this.updateFontSrcList(this.currentTheme.widgets.pivotGrid.filterDialog.okButton.hover.font.fontSettings.fontFamily,this.currentTheme.widgets.pivotGrid.filterDialog.okButton.hover.font.fontSettings.fontSrc)),this.getFontStyleCssValue(t,i,r)},t.prototype.getPivotGridFilterListFont=function(){var t=this.getWidgetDataValueFontSize(),i=this.getWidgetDataValueFontWeight(),r=this.getWidgetDataValueFontFamily();return n.isNullOrUndefined(this.currentTheme)||n.isNullOrUndefined(this.currentTheme.widgets)||n.isNullOrUndefined(this.currentTheme.widgets.pivotGrid)||n.isNullOrUndefined(this.currentTheme.widgets.pivotGrid.filterDialog)||n.isNullOrUndefined(this.currentTheme.widgets.pivotGrid.filterDialog.list)||n.isNullOrUndefined(this.currentTheme.widgets.pivotGrid.filterDialog.list.font)||n.isNullOrUndefined(this.currentTheme.widgets.pivotGrid.filterDialog.list.font.fontSettings)||n.isNullOrUndefined(this.currentTheme.widgets.pivotGrid.filterDialog.list.font.fontSettings.autoFontSettings)||this.currentTheme.widgets.pivotGrid.filterDialog.list.font.fontSettings.autoFontSettings||(t=n.isNullOrUndefined(this.currentTheme.widgets.pivotGrid.filterDialog.list.font.fontSettings.fontSize)||n.DashboardUtil.IsStringNullorWhiteSpace(this.currentTheme.widgets.pivotGrid.filterDialog.list.font.fontSettings.fontSize)?t:this.currentTheme.widgets.pivotGrid.filterDialog.list.font.fontSettings.fontSize,i=n.isNullOrUndefined(this.currentTheme.widgets.pivotGrid.filterDialog.list.font.fontSettings.fontWeight)||n.DashboardUtil.IsStringNullorWhiteSpace(this.currentTheme.widgets.pivotGrid.filterDialog.list.font.fontSettings.fontWeight)?i:this.currentTheme.widgets.pivotGrid.filterDialog.list.font.fontSettings.fontWeight,r=n.isNullOrUndefined(this.currentTheme.widgets.pivotGrid.filterDialog.list.font.fontSettings.fontFamily)||n.DashboardUtil.IsStringNullorWhiteSpace(this.currentTheme.widgets.pivotGrid.filterDialog.list.font.fontSettings.fontFamily)?r:this.currentTheme.widgets.pivotGrid.filterDialog.list.font.fontSettings.fontFamily,this.updateFontSrcList(this.currentTheme.widgets.pivotGrid.filterDialog.list.font.fontSettings.fontFamily,this.currentTheme.widgets.pivotGrid.filterDialog.list.font.fontSettings.fontSrc)),this.getFontStyleCssValue(t,i,r)},t.prototype.getPivotGridFilterListHoverFont=function(){var t=this.getWidgetDataValueHoverFontSize(),i=this.getWidgetDataValueHoverFontWeight(),r=this.getWidgetDataValueHoverFontFamily();return n.isNullOrUndefined(this.currentTheme)||n.isNullOrUndefined(this.currentTheme.widgets)||n.isNullOrUndefined(this.currentTheme.widgets.pivotGrid)||n.isNullOrUndefined(this.currentTheme.widgets.pivotGrid.filterDialog)||n.isNullOrUndefined(this.currentTheme.widgets.pivotGrid.filterDialog.list)||n.isNullOrUndefined(this.currentTheme.widgets.pivotGrid.filterDialog.list.hover)||n.isNullOrUndefined(this.currentTheme.widgets.pivotGrid.filterDialog.list.hover.font)||n.isNullOrUndefined(this.currentTheme.widgets.pivotGrid.filterDialog.list.hover.font.fontSettings)||n.isNullOrUndefined(this.currentTheme.widgets.pivotGrid.filterDialog.list.hover.font.fontSettings.autoFontSettings)||this.currentTheme.widgets.pivotGrid.filterDialog.list.hover.font.fontSettings.autoFontSettings||(t=n.isNullOrUndefined(this.currentTheme.widgets.pivotGrid.filterDialog.list.hover.font.fontSettings.fontSize)||n.DashboardUtil.IsStringNullorWhiteSpace(this.currentTheme.widgets.pivotGrid.filterDialog.list.hover.font.fontSettings.fontSize)?this.getWidgetDataValueHoverFontSize():this.currentTheme.widgets.pivotGrid.filterDialog.list.hover.font.fontSettings.fontSize,i=n.isNullOrUndefined(this.currentTheme.widgets.pivotGrid.filterDialog.list.hover.font.fontSettings.fontWeight)||n.DashboardUtil.IsStringNullorWhiteSpace(this.currentTheme.widgets.pivotGrid.filterDialog.list.hover.font.fontSettings.fontWeight)?this.getWidgetDataValueHoverFontWeight():this.currentTheme.widgets.pivotGrid.filterDialog.list.hover.font.fontSettings.fontWeight,r=n.isNullOrUndefined(this.currentTheme.widgets.pivotGrid.filterDialog.list.hover.font.fontSettings.fontFamily)||n.DashboardUtil.IsStringNullorWhiteSpace(this.currentTheme.widgets.pivotGrid.filterDialog.list.hover.font.fontSettings.fontFamily)?this.getWidgetDataValueHoverFontFamily():this.currentTheme.widgets.pivotGrid.filterDialog.list.hover.font.fontSettings.fontFamily,this.updateFontSrcList(this.currentTheme.widgets.pivotGrid.filterDialog.list.hover.font.fontSettings.fontFamily,this.currentTheme.widgets.pivotGrid.filterDialog.list.hover.font.fontSettings.fontSrc)),this.getFontStyleCssValue(t,i,r)},t.prototype.getPivotGridFilterListSelectFont=function(){var t=this.getWidgetDataValueHoverFontSize(),i=this.getWidgetDataValueHoverFontWeight(),r=this.getWidgetDataValueHoverFontFamily();return n.isNullOrUndefined(this.currentTheme)||n.isNullOrUndefined(this.currentTheme.widgets)||n.isNullOrUndefined(this.currentTheme.widgets.pivotGrid)||n.isNullOrUndefined(this.currentTheme.widgets.pivotGrid.filterDialog)||n.isNullOrUndefined(this.currentTheme.widgets.pivotGrid.filterDialog.list)||n.isNullOrUndefined(this.currentTheme.widgets.pivotGrid.filterDialog.list.selection)||n.isNullOrUndefined(this.currentTheme.widgets.pivotGrid.filterDialog.list.selection.font)||n.isNullOrUndefined(this.currentTheme.widgets.pivotGrid.filterDialog.list.selection.font.fontSettings)||n.isNullOrUndefined(this.currentTheme.widgets.pivotGrid.filterDialog.list.selection.font.fontSettings.autoFontSettings)||this.currentTheme.widgets.pivotGrid.filterDialog.list.selection.font.fontSettings.autoFontSettings||(t=n.isNullOrUndefined(this.currentTheme.widgets.pivotGrid.filterDialog.list.selection.font.fontSettings.fontSize)||n.DashboardUtil.IsStringNullorWhiteSpace(this.currentTheme.widgets.pivotGrid.filterDialog.list.selection.font.fontSettings.fontSize)?this.getWidgetDataValueHoverFontSize():this.currentTheme.widgets.pivotGrid.filterDialog.list.selection.font.fontSettings.fontSize,i=n.isNullOrUndefined(this.currentTheme.widgets.pivotGrid.filterDialog.list.selection.font.fontSettings.fontWeight)||n.DashboardUtil.IsStringNullorWhiteSpace(this.currentTheme.widgets.pivotGrid.filterDialog.list.selection.font.fontSettings.fontWeight)?this.getWidgetDataValueHoverFontWeight():this.currentTheme.widgets.pivotGrid.filterDialog.list.selection.font.fontSettings.fontWeight,r=n.isNullOrUndefined(this.currentTheme.widgets.pivotGrid.filterDialog.list.selection.font.fontSettings.fontFamily)||n.DashboardUtil.IsStringNullorWhiteSpace(this.currentTheme.widgets.pivotGrid.filterDialog.list.selection.font.fontSettings.fontFamily)?this.getWidgetDataValueHoverFontFamily():this.currentTheme.widgets.pivotGrid.filterDialog.list.selection.font.fontSettings.fontFamily,this.updateFontSrcList(this.currentTheme.widgets.pivotGrid.filterDialog.list.selection.font.fontSettings.fontFamily,this.currentTheme.widgets.pivotGrid.filterDialog.list.selection.font.fontSettings.fontSrc)),this.getFontStyleCssValue(t,i,r)},t.prototype.getPivotGridFilterHeaderFont=function(){var t=this.getWidgetDataLabelFontSize(),i=this.getWidgetDataLabelFontWeight(),r=this.getWidgetDataLabelFontFamily();return n.isNullOrUndefined(this.currentTheme)||n.isNullOrUndefined(this.currentTheme.widgets)||n.isNullOrUndefined(this.currentTheme.widgets.pivotGrid)||n.isNullOrUndefined(this.currentTheme.widgets.pivotGrid.filterDialog)||n.isNullOrUndefined(this.currentTheme.widgets.pivotGrid.filterDialog.header)||n.isNullOrUndefined(this.currentTheme.widgets.pivotGrid.filterDialog.header.font)||n.isNullOrUndefined(this.currentTheme.widgets.pivotGrid.filterDialog.header.font.fontSettings)||n.isNullOrUndefined(this.currentTheme.widgets.pivotGrid.filterDialog.header.font.fontSettings.autoFontSettings)||this.currentTheme.widgets.pivotGrid.filterDialog.header.font.fontSettings.autoFontSettings||(t=n.isNullOrUndefined(this.currentTheme.widgets.pivotGrid.filterDialog.header.font.fontSettings.fontSize)||n.DashboardUtil.IsStringNullorWhiteSpace(this.currentTheme.widgets.pivotGrid.filterDialog.header.font.fontSettings.fontSize)?t:this.currentTheme.widgets.pivotGrid.filterDialog.header.font.fontSettings.fontSize,i=n.isNullOrUndefined(this.currentTheme.widgets.pivotGrid.filterDialog.header.font.fontSettings.fontWeight)||n.DashboardUtil.IsStringNullorWhiteSpace(this.currentTheme.widgets.pivotGrid.filterDialog.header.font.fontSettings.fontWeight)?i:this.currentTheme.widgets.pivotGrid.filterDialog.header.font.fontSettings.fontWeight,r=n.isNullOrUndefined(this.currentTheme.widgets.pivotGrid.filterDialog.header.font.fontSettings.fontFamily)||n.DashboardUtil.IsStringNullorWhiteSpace(this.currentTheme.widgets.pivotGrid.filterDialog.header.font.fontSettings.fontFamily)?r:this.currentTheme.widgets.pivotGrid.filterDialog.header.font.fontSettings.fontFamily,this.updateFontSrcList(this.currentTheme.widgets.pivotGrid.filterDialog.header.font.fontSettings.fontFamily,this.currentTheme.widgets.pivotGrid.filterDialog.header.font.fontSettings.fontSrc)),this.getFontStyleCssValue(t,i,r)},t.prototype.getPivotGridHeaderTitle=function(){var t,i,r;if(n.isNullOrUndefined(this.currentTheme)||n.isNullOrUndefined(this.currentTheme.widgets)||n.isNullOrUndefined(this.currentTheme.widgets.pivotGrid)||n.isNullOrUndefined(this.currentTheme.widgets.pivotGrid.widgetHeader)||n.isNullOrUndefined(this.currentTheme.widgets.pivotGrid.widgetHeader.title)||n.isNullOrUndefined(this.currentTheme.widgets.pivotGrid.widgetHeader.title.fontSettings))t=this.getWidgetTitleFontSize(),i=this.getWidgetTitleFontWeight(),r=this.getWidgetTitleFontFamily();else{if(n.isNullOrUndefined(this.currentTheme.widgets.pivotGrid.widgetHeader.title.fontSettings.autoFontSettings)||this.currentTheme.widgets.pivotGrid.widgetHeader.title.fontSettings.autoFontSettings)return"";t=n.isNullOrUndefined(this.currentTheme.widgets.pivotGrid.widgetHeader.title.fontSettings.fontSize)||n.DashboardUtil.IsStringNullorWhiteSpace(this.currentTheme.widgets.pivotGrid.widgetHeader.title.fontSettings.fontSize)?this.getWidgetTitleFontSize():this.currentTheme.widgets.pivotGrid.widgetHeader.title.fontSettings.fontSize;i=n.isNullOrUndefined(this.currentTheme.widgets.pivotGrid.widgetHeader.title.fontSettings.fontWeight)||n.DashboardUtil.IsStringNullorWhiteSpace(this.currentTheme.widgets.pivotGrid.widgetHeader.title.fontSettings.fontWeight)?this.getWidgetTitleFontWeight():this.currentTheme.widgets.pivotGrid.widgetHeader.title.fontSettings.fontWeight;r=n.isNullOrUndefined(this.currentTheme.widgets.pivotGrid.widgetHeader.title.fontSettings.fontFamily)||n.DashboardUtil.IsStringNullorWhiteSpace(this.currentTheme.widgets.pivotGrid.widgetHeader.title.fontSettings.fontFamily)?this.getWidgetTitleFontFamily():this.currentTheme.widgets.pivotGrid.widgetHeader.title.fontSettings.fontFamily;this.updateFontSrcList(this.currentTheme.widgets.pivotGrid.widgetHeader.title.fontSettings.fontFamily,this.currentTheme.widgets.pivotGrid.widgetHeader.title.fontSettings.fontSrc)}return t=this.updateMaxValueIfSizeExceeds(t,MaximumFontValues.widgetTitle),this.getFontStyleCssValue(t,i,r)},t.prototype.getPivotGridHeaderSubTitle=function(){var t,i,r;if(n.isNullOrUndefined(this.currentTheme)||n.isNullOrUndefined(this.currentTheme.widgets)||n.isNullOrUndefined(this.currentTheme.widgets.pivotGrid)||n.isNullOrUndefined(this.currentTheme.widgets.pivotGrid.widgetHeader)||n.isNullOrUndefined(this.currentTheme.widgets.pivotGrid.widgetHeader.subTitle)||n.isNullOrUndefined(this.currentTheme.widgets.pivotGrid.widgetHeader.subTitle.fontSettings))t=this.getWidgetSubTitleFontSize(),i=this.getWidgetSubTitleFontWeight(),r=this.getWidgetSubTitleFontFamily();else{if(n.isNullOrUndefined(this.currentTheme.widgets.pivotGrid.widgetHeader.subTitle.fontSettings.autoFontSettings)||this.currentTheme.widgets.pivotGrid.widgetHeader.subTitle.fontSettings.autoFontSettings)return"";t=n.isNullOrUndefined(this.currentTheme.widgets.pivotGrid.widgetHeader.subTitle.fontSettings.fontSize)||n.DashboardUtil.IsStringNullorWhiteSpace(this.currentTheme.widgets.pivotGrid.widgetHeader.subTitle.fontSettings.fontSize)?this.getWidgetSubTitleFontSize():this.currentTheme.widgets.pivotGrid.widgetHeader.subTitle.fontSettings.fontSize;i=n.isNullOrUndefined(this.currentTheme.widgets.pivotGrid.widgetHeader.subTitle.fontSettings.fontWeight)||n.DashboardUtil.IsStringNullorWhiteSpace(this.currentTheme.widgets.pivotGrid.widgetHeader.subTitle.fontSettings.fontWeight)?this.getWidgetSubTitleFontWeight():this.currentTheme.widgets.pivotGrid.widgetHeader.subTitle.fontSettings.fontWeight;r=n.isNullOrUndefined(this.currentTheme.widgets.pivotGrid.widgetHeader.subTitle.fontSettings.fontFamily)||n.DashboardUtil.IsStringNullorWhiteSpace(this.currentTheme.widgets.pivotGrid.widgetHeader.subTitle.fontSettings.fontFamily)?this.getWidgetSubTitleFontFamily():this.currentTheme.widgets.pivotGrid.widgetHeader.subTitle.fontSettings.fontFamily;this.updateFontSrcList(this.currentTheme.widgets.pivotGrid.widgetHeader.subTitle.fontSettings.fontFamily,this.currentTheme.widgets.pivotGrid.widgetHeader.subTitle.fontSettings.fontSrc)}return t=this.updateMaxValueIfSizeExceeds(t,MaximumFontValues.widgetSubTitle),this.getFontStyleCssValue(t,i,r)},t.prototype.getKPICardRightValueTextColor=function(){return n.isNullOrUndefined(this.currentTheme)||n.isNullOrUndefined(this.currentTheme.widgets)||n.isNullOrUndefined(this.currentTheme.widgets.kpiCard)||n.isNullOrUndefined(this.currentTheme.widgets.kpiCard.rightValue)||n.DashboardUtil.IsStringNullorWhiteSpace(this.currentTheme.widgets.kpiCard.rightValue.color)?n.isNullOrUndefined(this.currentTheme)||n.isNullOrUndefined(this.currentTheme.widgets)||n.isNullOrUndefined(this.currentTheme.widgets.textStyle)||n.DashboardUtil.IsStringNullorWhiteSpace(this.currentTheme.widgets.textStyle.color)?this.isDarkTypeTheme()?this.darkMode.widgets.kpiCard.rightValue.color:this.lightMode.widgets.kpiCard.rightValue.color:this.currentTheme.widgets.textStyle.color:this.currentTheme.widgets.kpiCard.rightValue.color},t.prototype.getKPICardLeftValueTextColor=function(){return n.isNullOrUndefined(this.currentTheme)||n.isNullOrUndefined(this.currentTheme.widgets)||n.isNullOrUndefined(this.currentTheme.widgets.kpiCard)||n.isNullOrUndefined(this.currentTheme.widgets.kpiCard.leftValue)||n.DashboardUtil.IsStringNullorWhiteSpace(this.currentTheme.widgets.kpiCard.leftValue.color)?n.isNullOrUndefined(this.currentTheme)||n.isNullOrUndefined(this.currentTheme.widgets)||n.isNullOrUndefined(this.currentTheme.widgets.textStyle)||n.DashboardUtil.IsStringNullorWhiteSpace(this.currentTheme.widgets.textStyle.color)?this.isDarkTypeTheme()?this.darkMode.widgets.kpiCard.leftValue.color:this.lightMode.widgets.kpiCard.leftValue.color:this.currentTheme.widgets.textStyle.color:this.currentTheme.widgets.kpiCard.leftValue.color},t.prototype.getKPICardKPIValueTextColor=function(){return n.isNullOrUndefined(this.currentTheme)||n.isNullOrUndefined(this.currentTheme.widgets)||n.isNullOrUndefined(this.currentTheme.widgets.kpiCard)||n.isNullOrUndefined(this.currentTheme.widgets.kpiCard.kpiValue)||n.DashboardUtil.IsStringNullorWhiteSpace(this.currentTheme.widgets.kpiCard.kpiValue.color)?n.isNullOrUndefined(this.currentTheme)||n.isNullOrUndefined(this.currentTheme.widgets)||n.isNullOrUndefined(this.currentTheme.widgets.textStyle)||n.DashboardUtil.IsStringNullorWhiteSpace(this.currentTheme.widgets.textStyle.color)?this.isDarkTypeTheme()?this.darkMode.widgets.kpiCard.kpiValue.color:this.lightMode.widgets.kpiCard.kpiValue.color:this.currentTheme.widgets.textStyle.color:this.currentTheme.widgets.kpiCard.kpiValue.color},t.prototype.getKPICardRightLabelTextColor=function(){return n.isNullOrUndefined(this.currentTheme)||n.isNullOrUndefined(this.currentTheme.widgets)||n.isNullOrUndefined(this.currentTheme.widgets.kpiCard)||n.isNullOrUndefined(this.currentTheme.widgets.kpiCard.rightLabel)||n.DashboardUtil.IsStringNullorWhiteSpace(this.currentTheme.widgets.kpiCard.leftLabel.color)?n.isNullOrUndefined(this.currentTheme)||n.isNullOrUndefined(this.currentTheme.widgets)||n.isNullOrUndefined(this.currentTheme.widgets.textStyle)||n.DashboardUtil.IsStringNullorWhiteSpace(this.currentTheme.widgets.textStyle.color)?this.isDarkTypeTheme()?this.darkMode.widgets.kpiCard.rightLabel.color:this.lightMode.widgets.kpiCard.rightLabel.color:this.currentTheme.widgets.textStyle.color:this.currentTheme.widgets.kpiCard.rightLabel.color},t.prototype.getKPICardTitleTextColor=function(){return n.isNullOrUndefined(this.currentTheme)||n.isNullOrUndefined(this.currentTheme.widgets)||n.isNullOrUndefined(this.currentTheme.widgets.kpiCard)||n.isNullOrUndefined(this.currentTheme.widgets.kpiCard.title)||n.DashboardUtil.IsStringNullorWhiteSpace(this.currentTheme.widgets.kpiCard.title.color)?n.isNullOrUndefined(this.currentTheme)||n.isNullOrUndefined(this.currentTheme.widgets)||n.isNullOrUndefined(this.currentTheme.widgets.textStyle)||n.DashboardUtil.IsStringNullorWhiteSpace(this.currentTheme.widgets.textStyle.color)?this.isDarkTypeTheme()?this.darkMode.widgets.kpiCard.title.color:this.lightMode.widgets.kpiCard.title.color:this.currentTheme.widgets.textStyle.color:this.currentTheme.widgets.kpiCard.rightLabel.color},t.prototype.getKPICardLeftLabelTextColor=function(){return n.isNullOrUndefined(this.currentTheme)||n.isNullOrUndefined(this.currentTheme.widgets)||n.isNullOrUndefined(this.currentTheme.widgets.kpiCard)||n.isNullOrUndefined(this.currentTheme.widgets.kpiCard.leftLabel)||n.DashboardUtil.IsStringNullorWhiteSpace(this.currentTheme.widgets.kpiCard.leftLabel.color)?n.isNullOrUndefined(this.currentTheme)||n.isNullOrUndefined(this.currentTheme.widgets)||n.isNullOrUndefined(this.currentTheme.widgets.textStyle)||n.DashboardUtil.IsStringNullorWhiteSpace(this.currentTheme.widgets.textStyle.color)?this.isDarkTypeTheme()?this.darkMode.widgets.kpiCard.leftLabel.color:this.lightMode.widgets.kpiCard.leftLabel.color:this.currentTheme.widgets.textStyle.color:this.currentTheme.widgets.kpiCard.leftLabel.color},t.prototype.getKPICardSeparatorColor=function(){return n.isNullOrUndefined(this.currentTheme)||n.isNullOrUndefined(this.currentTheme.widgets)||n.isNullOrUndefined(this.currentTheme.widgets.kpiCard)||n.DashboardUtil.IsStringNullorWhiteSpace(this.currentTheme.widgets.kpiCard.separatorColor)?this.isDarkTypeTheme()?this.darkMode.widgets.kpiCard.separatorColor:this.lightMode.widgets.kpiCard.separatorColor:this.currentTheme.widgets.kpiCard.separatorColor},t.prototype.getKPICardSparklineBackground=function(){return n.isNullOrUndefined(this.currentTheme)||n.isNullOrUndefined(this.currentTheme.widgets)||n.isNullOrUndefined(this.currentTheme.widgets.kpiCard)||n.isNullOrUndefined(this.currentTheme.widgets.kpiCard.sparkLine)||n.DashboardUtil.IsStringNullorWhiteSpace(this.currentTheme.widgets.kpiCard.sparkLine.background)?this.isDarkTypeTheme()?this.darkMode.widgets.kpiCard.sparkLine.background:this.lightMode.widgets.kpiCard.sparkLine.background:this.currentTheme.widgets.kpiCard.sparkLine.background},t.prototype.getKPICardSparklineOpacity=function(){return n.isNullOrUndefined(this.currentTheme)||n.isNullOrUndefined(this.currentTheme.widgets)||n.isNullOrUndefined(this.currentTheme.widgets.kpiCard)||n.isNullOrUndefined(this.currentTheme.widgets.kpiCard.sparkLine)||n.DashboardUtil.IsStringNullorWhiteSpace(this.currentTheme.widgets.kpiCard.sparkLine.opacity)?this.isDarkTypeTheme()?this.darkMode.widgets.kpiCard.sparkLine.opacity:this.lightMode.widgets.kpiCard.sparkLine.opacity:this.currentTheme.widgets.kpiCard.sparkLine.opacity},t.prototype.getKPICardBorder=function(){return n.isNullOrUndefined(this.currentTheme)||n.isNullOrUndefined(this.currentTheme.widgets)||n.isNullOrUndefined(this.currentTheme.widgets.kpiCard)||n.DashboardUtil.IsStringNullorWhiteSpace(this.currentTheme.widgets.kpiCard.border)?this.isDarkTypeTheme()?this.darkMode.widgets.kpiCard.border:this.lightMode.widgets.kpiCard.border:this.currentTheme.widgets.kpiCard.border},t.prototype.getKPICardLeftLabelFont=function(){var t,i,r;return n.isNullOrUndefined(this.currentTheme)||n.isNullOrUndefined(this.currentTheme.widgets)||n.isNullOrUndefined(this.currentTheme.widgets.kpiCard)||n.isNullOrUndefined(this.currentTheme.widgets.kpiCard.leftLabel)||n.isNullOrUndefined(this.currentTheme.widgets.kpiCard.leftLabel.fontSettings)?(t=this.getWidgetDataLabelFontSize(),i=this.getWidgetDataLabelFontWeight(),r=this.getWidgetDataLabelFontFamily()):n.isNullOrUndefined(this.currentTheme.widgets.kpiCard.leftLabel.fontSettings.autoFontSettings)||this.currentTheme.widgets.kpiCard.leftLabel.fontSettings.autoFontSettings?(t=this.getWidgetDataLabelFontSize(),i=this.getWidgetDataLabelFontWeight(),r=this.getWidgetDataLabelFontFamily()):(t=n.isNullOrUndefined(this.currentTheme.widgets.kpiCard.leftLabel.fontSettings.fontSize)||n.DashboardUtil.IsStringNullorWhiteSpace(this.currentTheme.widgets.kpiCard.leftLabel.fontSettings.fontSize)?this.getWidgetDataLabelFontSize():this.currentTheme.widgets.kpiCard.leftLabel.fontSettings.fontSize,i=n.isNullOrUndefined(this.currentTheme.widgets.kpiCard.leftLabel.fontSettings.fontWeight)||n.DashboardUtil.IsStringNullorWhiteSpace(this.currentTheme.widgets.kpiCard.leftLabel.fontSettings.fontWeight)?this.getWidgetDataLabelFontWeight():this.currentTheme.widgets.kpiCard.leftLabel.fontSettings.fontWeight,r=n.isNullOrUndefined(this.currentTheme.widgets.kpiCard.leftLabel.fontSettings.fontFamily)||n.DashboardUtil.IsStringNullorWhiteSpace(this.currentTheme.widgets.kpiCard.leftLabel.fontSettings.fontFamily)?this.getWidgetDataLabelFontFamily():this.currentTheme.widgets.kpiCard.leftLabel.fontSettings.fontFamily,this.updateFontSrcList(this.currentTheme.widgets.kpiCard.leftLabel.fontSettings.fontFamily,this.currentTheme.widgets.kpiCard.leftLabel.fontSettings.fontSrc)),{size:t,weight:i,family:r}},t.prototype.getKPICardLeftValueFont=function(){var t,i,r;return n.isNullOrUndefined(this.currentTheme)||n.isNullOrUndefined(this.currentTheme.widgets)||n.isNullOrUndefined(this.currentTheme.widgets.kpiCard)||n.isNullOrUndefined(this.currentTheme.widgets.kpiCard.leftValue)||n.isNullOrUndefined(this.currentTheme.widgets.kpiCard.leftValue.fontSettings)?(t=this.getWidgetDataValueFontSize(),i=this.getWidgetDataValueFontWeight(),r=this.getWidgetDataValueFontFamily()):n.isNullOrUndefined(this.currentTheme.widgets.kpiCard.leftValue.fontSettings.autoFontSettings)||this.currentTheme.widgets.kpiCard.leftValue.fontSettings.autoFontSettings?(t=this.getWidgetDataValueFontSize(),i=this.getWidgetDataValueFontWeight(),r=this.getWidgetDataValueFontFamily()):(t=n.isNullOrUndefined(this.currentTheme.widgets.kpiCard.leftValue.fontSettings.fontSize)||n.DashboardUtil.IsStringNullorWhiteSpace(this.currentTheme.widgets.kpiCard.leftValue.fontSettings.fontSize)?this.getWidgetDataValueFontSize():this.currentTheme.widgets.kpiCard.leftValue.fontSettings.fontSize,i=n.isNullOrUndefined(this.currentTheme.widgets.kpiCard.leftValue.fontSettings.fontWeight)||n.DashboardUtil.IsStringNullorWhiteSpace(this.currentTheme.widgets.kpiCard.leftValue.fontSettings.fontWeight)?this.getWidgetDataValueFontWeight():this.currentTheme.widgets.kpiCard.leftValue.fontSettings.fontWeight,r=n.isNullOrUndefined(this.currentTheme.widgets.kpiCard.leftValue.fontSettings.fontFamily)||n.DashboardUtil.IsStringNullorWhiteSpace(this.currentTheme.widgets.kpiCard.leftValue.fontSettings.fontFamily)?this.getWidgetDataValueFontFamily():this.currentTheme.widgets.kpiCard.leftValue.fontSettings.fontFamily,this.updateFontSrcList(this.currentTheme.widgets.kpiCard.leftValue.fontSettings.fontFamily,this.currentTheme.widgets.kpiCard.leftValue.fontSettings.fontSrc)),{size:t,weight:i,family:r}},t.prototype.getKPICardRightLabelFont=function(){var t,i,r;return n.isNullOrUndefined(this.currentTheme)||n.isNullOrUndefined(this.currentTheme.widgets)||n.isNullOrUndefined(this.currentTheme.widgets.kpiCard)||n.isNullOrUndefined(this.currentTheme.widgets.kpiCard.rightLabel)||n.isNullOrUndefined(this.currentTheme.widgets.kpiCard.rightLabel.fontSettings)?(t=this.getWidgetDataLabelFontSize(),i=this.getWidgetDataLabelFontWeight(),r=this.getWidgetDataLabelFontFamily()):n.isNullOrUndefined(this.currentTheme.widgets.kpiCard.rightLabel.fontSettings.autoFontSettings)||this.currentTheme.widgets.kpiCard.rightLabel.fontSettings.autoFontSettings?(t=this.getWidgetDataLabelFontSize(),i=this.getWidgetDataLabelFontWeight(),r=this.getWidgetDataLabelFontFamily()):(t=n.isNullOrUndefined(this.currentTheme.widgets.kpiCard.rightLabel.fontSettings.fontSize)||n.DashboardUtil.IsStringNullorWhiteSpace(this.currentTheme.widgets.kpiCard.rightLabel.fontSettings.fontSize)?this.getWidgetDataLabelFontSize():this.currentTheme.widgets.kpiCard.rightLabel.fontSettings.fontSize,i=n.isNullOrUndefined(this.currentTheme.widgets.kpiCard.rightLabel.fontSettings.fontWeight)||n.DashboardUtil.IsStringNullorWhiteSpace(this.currentTheme.widgets.kpiCard.rightLabel.fontSettings.fontWeight)?this.getWidgetDataLabelFontWeight():this.currentTheme.widgets.kpiCard.rightLabel.fontSettings.fontWeight,r=n.isNullOrUndefined(this.currentTheme.widgets.kpiCard.rightLabel.fontSettings.fontFamily)||n.DashboardUtil.IsStringNullorWhiteSpace(this.currentTheme.widgets.kpiCard.rightLabel.fontSettings.fontFamily)?this.getWidgetDataLabelFontFamily():this.currentTheme.widgets.kpiCard.rightLabel.fontSettings.fontFamily,this.updateFontSrcList(this.currentTheme.widgets.kpiCard.rightLabel.fontSettings.fontFamily,this.currentTheme.widgets.kpiCard.rightLabel.fontSettings.fontSrc)),{size:t,weight:i,family:r}},t.prototype.getKPICardRightValueFont=function(){var t,i,r;return n.isNullOrUndefined(this.currentTheme)||n.isNullOrUndefined(this.currentTheme.widgets)||n.isNullOrUndefined(this.currentTheme.widgets.kpiCard)||n.isNullOrUndefined(this.currentTheme.widgets.kpiCard.rightValue)||n.isNullOrUndefined(this.currentTheme.widgets.kpiCard.rightValue.fontSettings)?(t=this.getWidgetDataValueFontSize(),i=this.getWidgetDataValueFontWeight(),r=this.getWidgetDataValueFontFamily()):n.isNullOrUndefined(this.currentTheme.widgets.kpiCard.rightValue.fontSettings.autoFontSettings)||this.currentTheme.widgets.kpiCard.rightValue.fontSettings.autoFontSettings?(t=this.getWidgetDataValueFontSize(),i=this.getWidgetDataValueFontWeight(),r=this.getWidgetDataValueFontFamily()):(t=n.isNullOrUndefined(this.currentTheme.widgets.kpiCard.rightValue.fontSettings.fontSize)||n.DashboardUtil.IsStringNullorWhiteSpace(this.currentTheme.widgets.kpiCard.rightValue.fontSettings.fontSize)?this.getWidgetDataValueFontSize():this.currentTheme.widgets.kpiCard.rightValue.fontSettings.fontSize,i=n.isNullOrUndefined(this.currentTheme.widgets.kpiCard.rightValue.fontSettings.fontWeight)||n.DashboardUtil.IsStringNullorWhiteSpace(this.currentTheme.widgets.kpiCard.rightValue.fontSettings.fontWeight)?this.getWidgetDataValueFontWeight():this.currentTheme.widgets.kpiCard.rightValue.fontSettings.fontWeight,r=n.isNullOrUndefined(this.currentTheme.widgets.kpiCard.rightValue.fontSettings.fontFamily)||n.DashboardUtil.IsStringNullorWhiteSpace(this.currentTheme.widgets.kpiCard.rightValue.fontSettings.fontFamily)?this.getWidgetDataValueFontFamily():this.currentTheme.widgets.kpiCard.rightValue.fontSettings.fontFamily,this.updateFontSrcList(this.currentTheme.widgets.kpiCard.rightValue.fontSettings.fontFamily,this.currentTheme.widgets.kpiCard.rightValue.fontSettings.fontSrc)),{size:t,weight:i,family:r}},t.prototype.getKPICardKPIValueFont=function(){var t,i,r;return n.isNullOrUndefined(this.currentTheme)||n.isNullOrUndefined(this.currentTheme.widgets)||n.isNullOrUndefined(this.currentTheme.widgets.kpiCard)||n.isNullOrUndefined(this.currentTheme.widgets.kpiCard.kpiValue)||n.isNullOrUndefined(this.currentTheme.widgets.kpiCard.kpiValue.fontSettings)?(t=this.getWidgetDataValueFontSize(),i=this.getWidgetDataValueFontWeight(),r=this.getWidgetDataValueFontFamily()):n.isNullOrUndefined(this.currentTheme.widgets.kpiCard.kpiValue.fontSettings.autoFontSettings)||this.currentTheme.widgets.kpiCard.kpiValue.fontSettings.autoFontSettings?(t=this.getWidgetDataValueFontSize(),i=this.getWidgetDataValueFontWeight(),r=this.getWidgetDataValueFontFamily()):(t=n.isNullOrUndefined(this.currentTheme.widgets.kpiCard.kpiValue.fontSettings.fontSize)||n.DashboardUtil.IsStringNullorWhiteSpace(this.currentTheme.widgets.kpiCard.kpiValue.fontSettings.fontSize)?this.getWidgetDataValueFontSize():this.currentTheme.widgets.kpiCard.kpiValue.fontSettings.fontSize,i=n.isNullOrUndefined(this.currentTheme.widgets.kpiCard.kpiValue.fontSettings.fontWeight)||n.DashboardUtil.IsStringNullorWhiteSpace(this.currentTheme.widgets.kpiCard.kpiValue.fontSettings.fontWeight)?this.getWidgetDataValueFontWeight():this.currentTheme.widgets.kpiCard.kpiValue.fontSettings.fontWeight,r=n.isNullOrUndefined(this.currentTheme.widgets.kpiCard.kpiValue.fontSettings.fontFamily)||n.DashboardUtil.IsStringNullorWhiteSpace(this.currentTheme.widgets.kpiCard.kpiValue.fontSettings.fontFamily)?this.getWidgetDataValueFontFamily():this.currentTheme.widgets.kpiCard.kpiValue.fontSettings.fontFamily,this.updateFontSrcList(this.currentTheme.widgets.kpiCard.kpiValue.fontSettings.fontFamily,this.currentTheme.widgets.kpiCard.kpiValue.fontSettings.fontSrc)),{size:t,weight:i,family:r}},t.prototype.getKPICardTitleFont=function(){var t,i,r;return n.isNullOrUndefined(this.currentTheme)||n.isNullOrUndefined(this.currentTheme.widgets)||n.isNullOrUndefined(this.currentTheme.widgets.kpiCard)||n.isNullOrUndefined(this.currentTheme.widgets.kpiCard.title)||n.isNullOrUndefined(this.currentTheme.widgets.kpiCard.title.fontSettings)?(t=this.getWidgetTitleFontSize(),i=this.getWidgetTitleFontWeight(),r=this.getWidgetTitleFontFamily()):n.isNullOrUndefined(this.currentTheme.widgets.kpiCard.title.fontSettings.autoFontSettings)||this.currentTheme.widgets.kpiCard.title.fontSettings.autoFontSettings?(t=this.getWidgetTitleFontSize(),i=this.getWidgetTitleFontWeight(),r=this.getWidgetTitleFontFamily()):(t=n.isNullOrUndefined(this.currentTheme.widgets.kpiCard.title.fontSettings.fontSize)||n.DashboardUtil.IsStringNullorWhiteSpace(this.currentTheme.widgets.kpiCard.title.fontSettings.fontSize)?this.getWidgetTitleFontSize():this.currentTheme.widgets.kpiCard.title.fontSettings.fontSize,i=n.isNullOrUndefined(this.currentTheme.widgets.kpiCard.title.fontSettings.fontWeight)||n.DashboardUtil.IsStringNullorWhiteSpace(this.currentTheme.widgets.kpiCard.title.fontSettings.fontWeight)?this.getWidgetTitleFontWeight():this.currentTheme.widgets.kpiCard.title.fontSettings.fontWeight,r=n.isNullOrUndefined(this.currentTheme.widgets.kpiCard.title.fontSettings.fontFamily)||n.DashboardUtil.IsStringNullorWhiteSpace(this.currentTheme.widgets.kpiCard.title.fontSettings.fontFamily)?this.getWidgetTitleFontFamily():this.currentTheme.widgets.kpiCard.title.fontSettings.fontFamily,this.updateFontSrcList(this.currentTheme.widgets.kpiCard.title.fontSettings.fontFamily,this.currentTheme.widgets.kpiCard.title.fontSettings.fontSrc)),t=this.updateMaxValueIfSizeExceeds(t,MaximumFontValues.widgetTitle),{size:t,weight:i,family:r}},t.prototype.getKPICardHeaderTitle=function(){var t,i,r;return n.isNullOrUndefined(this.currentTheme)||n.isNullOrUndefined(this.currentTheme.widgets)||n.isNullOrUndefined(this.currentTheme.widgets.kpiCard)||n.isNullOrUndefined(this.currentTheme.widgets.kpiCard.widgetHeader)||n.isNullOrUndefined(this.currentTheme.widgets.kpiCard.widgetHeader.title)||n.isNullOrUndefined(this.currentTheme.widgets.kpiCard.widgetHeader.title.fontSettings)?(t=this.getWidgetTitleFontSize(),i=this.getWidgetTitleFontWeight(),r=this.getWidgetTitleFontFamily()):n.isNullOrUndefined(this.currentTheme.widgets.kpiCard.widgetHeader.title.fontSettings.autoFontSettings)||this.currentTheme.widgets.kpiCard.widgetHeader.title.fontSettings.autoFontSettings?(t=this.getWidgetTitleFontSize(),i=this.getWidgetTitleFontWeight(),r=this.getWidgetTitleFontFamily()):(t=n.isNullOrUndefined(this.currentTheme.widgets.kpiCard.widgetHeader.title.fontSettings.fontSize)||n.DashboardUtil.IsStringNullorWhiteSpace(this.currentTheme.widgets.kpiCard.widgetHeader.title.fontSettings.fontSize)?this.getWidgetTitleFontSize():this.currentTheme.widgets.kpiCard.widgetHeader.title.fontSettings.fontSize,i=n.isNullOrUndefined(this.currentTheme.widgets.kpiCard.widgetHeader.title.fontSettings.fontWeight)||n.DashboardUtil.IsStringNullorWhiteSpace(this.currentTheme.widgets.kpiCard.widgetHeader.title.fontSettings.fontWeight)?this.getWidgetTitleFontWeight():this.currentTheme.widgets.kpiCard.widgetHeader.title.fontSettings.fontWeight,r=n.isNullOrUndefined(this.currentTheme.widgets.kpiCard.widgetHeader.title.fontSettings.fontFamily)||n.DashboardUtil.IsStringNullorWhiteSpace(this.currentTheme.widgets.kpiCard.widgetHeader.title.fontSettings.fontFamily)?this.getWidgetTitleFontFamily():this.currentTheme.widgets.kpiCard.widgetHeader.title.fontSettings.fontFamily,this.updateFontSrcList(this.currentTheme.widgets.kpiCard.widgetHeader.title.fontSettings.fontFamily,this.currentTheme.widgets.kpiCard.widgetHeader.title.fontSettings.fontSrc)),t=this.updateMaxValueIfSizeExceeds(t,MaximumFontValues.widgetTitle),this.getFontStyleCssValue(t,i,r)},t.prototype.getKPICardHeaderSubTitle=function(){var t,i,r;return n.isNullOrUndefined(this.currentTheme)||n.isNullOrUndefined(this.currentTheme.widgets)||n.isNullOrUndefined(this.currentTheme.widgets.kpiCard)||n.isNullOrUndefined(this.currentTheme.widgets.kpiCard.widgetHeader)||n.isNullOrUndefined(this.currentTheme.widgets.kpiCard.widgetHeader.subTitle)||n.isNullOrUndefined(this.currentTheme.widgets.kpiCard.widgetHeader.subTitle.fontSettings)?(t=this.getWidgetSubTitleFontSize(),i=this.getWidgetSubTitleFontWeight(),r=this.getWidgetSubTitleFontFamily()):n.isNullOrUndefined(this.currentTheme.widgets.kpiCard.widgetHeader.subTitle.fontSettings.autoFontSettings)||this.currentTheme.widgets.kpiCard.widgetHeader.subTitle.fontSettings.autoFontSettings?(t=this.getWidgetSubTitleFontSize(),i=this.getWidgetSubTitleFontWeight(),r=this.getWidgetSubTitleFontFamily()):(t=n.isNullOrUndefined(this.currentTheme.widgets.kpiCard.widgetHeader.subTitle.fontSettings.fontSize)||n.DashboardUtil.IsStringNullorWhiteSpace(this.currentTheme.widgets.kpiCard.widgetHeader.subTitle.fontSettings.fontSize)?this.getWidgetSubTitleFontSize():this.currentTheme.widgets.kpiCard.widgetHeader.subTitle.fontSettings.fontSize,i=n.isNullOrUndefined(this.currentTheme.widgets.kpiCard.widgetHeader.subTitle.fontSettings.fontWeight)||n.DashboardUtil.IsStringNullorWhiteSpace(this.currentTheme.widgets.kpiCard.widgetHeader.subTitle.fontSettings.fontWeight)?this.getWidgetSubTitleFontWeight():this.currentTheme.widgets.kpiCard.widgetHeader.subTitle.fontSettings.fontWeight,r=n.isNullOrUndefined(this.currentTheme.widgets.kpiCard.widgetHeader.subTitle.fontSettings.fontFamily)||n.DashboardUtil.IsStringNullorWhiteSpace(this.currentTheme.widgets.kpiCard.widgetHeader.subTitle.fontSettings.fontFamily)?this.getWidgetSubTitleFontFamily():this.currentTheme.widgets.kpiCard.widgetHeader.subTitle.fontSettings.fontFamily,this.updateFontSrcList(this.currentTheme.widgets.kpiCard.widgetHeader.subTitle.fontSettings.fontFamily,this.currentTheme.widgets.kpiCard.widgetHeader.subTitle.fontSettings.fontSrc)),t=this.updateMaxValueIfSizeExceeds(t,MaximumFontValues.widgetSubTitle),this.getFontStyleCssValue(t,i,r)},t.prototype.getNumberCardRightValueTextColor=function(){return n.isNullOrUndefined(this.currentTheme)||n.isNullOrUndefined(this.currentTheme.widgets)||n.isNullOrUndefined(this.currentTheme.widgets.numberCard)||n.isNullOrUndefined(this.currentTheme.widgets.numberCard.rightValue)||n.DashboardUtil.IsStringNullorWhiteSpace(this.currentTheme.widgets.numberCard.rightValue.color)?n.isNullOrUndefined(this.currentTheme)||n.isNullOrUndefined(this.currentTheme.widgets)||n.isNullOrUndefined(this.currentTheme.widgets.textStyle)||n.DashboardUtil.IsStringNullorWhiteSpace(this.currentTheme.widgets.textStyle.color)?this.isDarkTypeTheme()?this.darkMode.widgets.numberCard.rightValue.color:this.lightMode.widgets.numberCard.rightValue.color:this.currentTheme.widgets.textStyle.color:this.currentTheme.widgets.numberCard.rightValue.color},t.prototype.getNumberCardTitleTextColor=function(){return n.isNullOrUndefined(this.currentTheme)||n.isNullOrUndefined(this.currentTheme.widgets)||n.isNullOrUndefined(this.currentTheme.widgets.numberCard)||n.isNullOrUndefined(this.currentTheme.widgets.numberCard.title)||n.DashboardUtil.IsStringNullorWhiteSpace(this.currentTheme.widgets.numberCard.title.color)?n.isNullOrUndefined(this.currentTheme)||n.isNullOrUndefined(this.currentTheme.widgets)||n.isNullOrUndefined(this.currentTheme.widgets.textStyle)||n.DashboardUtil.IsStringNullorWhiteSpace(this.currentTheme.widgets.textStyle.color)?this.isDarkTypeTheme()?this.darkMode.widgets.numberCard.title.color:this.lightMode.widgets.numberCard.title.color:this.currentTheme.widgets.textStyle.color:this.currentTheme.widgets.numberCard.title.color},t.prototype.getNumberCardSparklineBackground=function(){return n.isNullOrUndefined(this.currentTheme)||n.isNullOrUndefined(this.currentTheme.widgets)||n.isNullOrUndefined(this.currentTheme.widgets.numberCard)||n.isNullOrUndefined(this.currentTheme.widgets.numberCard.sparkLine)||n.DashboardUtil.IsStringNullorWhiteSpace(this.currentTheme.widgets.numberCard.sparkLine.background)?this.isDarkTypeTheme()?this.darkMode.widgets.numberCard.sparkLine.background:this.lightMode.widgets.numberCard.sparkLine.background:this.currentTheme.widgets.numberCard.sparkLine.background},t.prototype.getNumberCardSparklineOpacity=function(){return n.isNullOrUndefined(this.currentTheme)||n.isNullOrUndefined(this.currentTheme.widgets)||n.isNullOrUndefined(this.currentTheme.widgets.numberCard)||n.isNullOrUndefined(this.currentTheme.widgets.numberCard.sparkLine)||n.DashboardUtil.IsStringNullorWhiteSpace(this.currentTheme.widgets.numberCard.sparkLine.opacity)?this.isDarkTypeTheme()?this.darkMode.widgets.numberCard.sparkLine.opacity:this.lightMode.widgets.numberCard.sparkLine.opacity:this.currentTheme.widgets.numberCard.sparkLine.opacity},t.prototype.getNumberCardBorder=function(){return n.isNullOrUndefined(this.currentTheme)||n.isNullOrUndefined(this.currentTheme.widgets)||n.isNullOrUndefined(this.currentTheme.widgets.numberCard)||n.DashboardUtil.IsStringNullorWhiteSpace(this.currentTheme.widgets.numberCard.border)?this.isDarkTypeTheme()?this.darkMode.widgets.numberCard.border:this.lightMode.widgets.numberCard.border:this.currentTheme.widgets.numberCard.border},t.prototype.getNumberCardRightValueFont=function(){var t,i,r;return n.isNullOrUndefined(this.currentTheme)||n.isNullOrUndefined(this.currentTheme.widgets)||n.isNullOrUndefined(this.currentTheme.widgets.numberCard)||n.isNullOrUndefined(this.currentTheme.widgets.numberCard.rightValue)||n.isNullOrUndefined(this.currentTheme.widgets.numberCard.rightValue.fontSettings)?(t=this.getWidgetDataValueFontSize(),i=this.getWidgetDataValueFontWeight(),r=this.getWidgetDataValueFontFamily()):n.isNullOrUndefined(this.currentTheme.widgets.numberCard.rightValue.fontSettings.autoFontSettings)||this.currentTheme.widgets.numberCard.rightValue.fontSettings.autoFontSettings?(t=this.getWidgetDataValueFontSize(),i=this.getWidgetDataValueFontWeight(),r=this.getWidgetDataValueFontFamily()):(t=n.isNullOrUndefined(this.currentTheme.widgets.numberCard.rightValue.fontSettings.fontSize)||n.DashboardUtil.IsStringNullorWhiteSpace(this.currentTheme.widgets.numberCard.rightValue.fontSettings.fontSize)?this.getWidgetDataValueFontSize():this.currentTheme.widgets.numberCard.rightValue.fontSettings.fontSize,i=n.isNullOrUndefined(this.currentTheme.widgets.numberCard.rightValue.fontSettings.fontWeight)||n.DashboardUtil.IsStringNullorWhiteSpace(this.currentTheme.widgets.numberCard.rightValue.fontSettings.fontWeight)?this.getWidgetDataValueFontWeight():this.currentTheme.widgets.numberCard.rightValue.fontSettings.fontWeight,r=n.isNullOrUndefined(this.currentTheme.widgets.numberCard.rightValue.fontSettings.fontFamily)||n.DashboardUtil.IsStringNullorWhiteSpace(this.currentTheme.widgets.numberCard.rightValue.fontSettings.fontFamily)?this.getWidgetDataValueFontFamily():this.currentTheme.widgets.numberCard.rightValue.fontSettings.fontFamily,this.updateFontSrcList(this.currentTheme.widgets.numberCard.rightValue.fontSettings.fontFamily,this.currentTheme.widgets.numberCard.rightValue.fontSettings.fontSrc)),{size:t,weight:i,family:r}},t.prototype.getNumberCardTitleFont=function(){var t,i,r;return n.isNullOrUndefined(this.currentTheme)||n.isNullOrUndefined(this.currentTheme.widgets)||n.isNullOrUndefined(this.currentTheme.widgets.numberCard)||n.isNullOrUndefined(this.currentTheme.widgets.numberCard.title)||n.isNullOrUndefined(this.currentTheme.widgets.numberCard.title.fontSettings)?(t=this.getWidgetTitleFontSize(),i=this.getWidgetTitleFontWeight(),r=this.getWidgetTitleFontFamily()):n.isNullOrUndefined(this.currentTheme.widgets.numberCard.title.fontSettings.autoFontSettings)||this.currentTheme.widgets.numberCard.title.fontSettings.autoFontSettings?(t=this.getWidgetTitleFontSize(),i=this.getWidgetTitleFontWeight(),r=this.getWidgetTitleFontFamily()):(t=n.isNullOrUndefined(this.currentTheme.widgets.numberCard.title.fontSettings.fontSize)||n.DashboardUtil.IsStringNullorWhiteSpace(this.currentTheme.widgets.numberCard.title.fontSettings.fontSize)?this.getWidgetTitleFontSize():this.currentTheme.widgets.numberCard.title.fontSettings.fontSize,i=n.isNullOrUndefined(this.currentTheme.widgets.numberCard.title.fontSettings.fontWeight)||n.DashboardUtil.IsStringNullorWhiteSpace(this.currentTheme.widgets.numberCard.title.fontSettings.fontWeight)?this.getWidgetTitleFontWeight():this.currentTheme.widgets.numberCard.title.fontSettings.fontWeight,r=n.isNullOrUndefined(this.currentTheme.widgets.numberCard.title.fontSettings.fontFamily)||n.DashboardUtil.IsStringNullorWhiteSpace(this.currentTheme.widgets.numberCard.title.fontSettings.fontFamily)?this.getWidgetTitleFontFamily():this.currentTheme.widgets.numberCard.title.fontSettings.fontFamily,this.updateFontSrcList(this.currentTheme.widgets.numberCard.title.fontSettings.fontFamily,this.currentTheme.widgets.numberCard.title.fontSettings.fontSrc)),{size:t,weight:i,family:r}},t.prototype.getNumberCardHeaderTitle=function(){var t,i,r;return n.isNullOrUndefined(this.currentTheme)||n.isNullOrUndefined(this.currentTheme.widgets)||n.isNullOrUndefined(this.currentTheme.widgets.numberCard)||n.isNullOrUndefined(this.currentTheme.widgets.numberCard.widgetHeader)||n.isNullOrUndefined(this.currentTheme.widgets.numberCard.widgetHeader.title)||n.isNullOrUndefined(this.currentTheme.widgets.numberCard.widgetHeader.title.fontSettings)?(t=this.getWidgetTitleFontSize(),i=this.getWidgetTitleFontWeight(),r=this.getWidgetTitleFontFamily()):n.isNullOrUndefined(this.currentTheme.widgets.numberCard.widgetHeader.title.fontSettings.autoFontSettings)||this.currentTheme.widgets.numberCard.widgetHeader.title.fontSettings.autoFontSettings?(t=this.getWidgetTitleFontSize(),i=this.getWidgetTitleFontWeight(),r=this.getWidgetTitleFontFamily()):(t=n.isNullOrUndefined(this.currentTheme.widgets.numberCard.widgetHeader.title.fontSettings.fontSize)||n.DashboardUtil.IsStringNullorWhiteSpace(this.currentTheme.widgets.numberCard.widgetHeader.title.fontSettings.fontSize)?this.getWidgetTitleFontSize():this.currentTheme.widgets.numberCard.widgetHeader.title.fontSettings.fontSize,i=n.isNullOrUndefined(this.currentTheme.widgets.numberCard.widgetHeader.title.fontSettings.fontWeight)||n.DashboardUtil.IsStringNullorWhiteSpace(this.currentTheme.widgets.numberCard.widgetHeader.title.fontSettings.fontWeight)?this.getWidgetTitleFontWeight():this.currentTheme.widgets.numberCard.widgetHeader.title.fontSettings.fontWeight,r=n.isNullOrUndefined(this.currentTheme.widgets.numberCard.widgetHeader.title.fontSettings.fontFamily)||n.DashboardUtil.IsStringNullorWhiteSpace(this.currentTheme.widgets.numberCard.widgetHeader.title.fontSettings.fontFamily)?this.getWidgetTitleFontFamily():this.currentTheme.widgets.numberCard.widgetHeader.title.fontSettings.fontFamily,this.updateFontSrcList(this.currentTheme.widgets.numberCard.widgetHeader.title.fontSettings.fontFamily,this.currentTheme.widgets.numberCard.widgetHeader.title.fontSettings.fontSrc)),t=this.updateMaxValueIfSizeExceeds(t,MaximumFontValues.widgetTitle),this.getFontStyleCssValue(t,i,r)},t.prototype.getNumberCardHeaderSubTitle=function(){var t,i,r;return n.isNullOrUndefined(this.currentTheme)||n.isNullOrUndefined(this.currentTheme.widgets)||n.isNullOrUndefined(this.currentTheme.widgets.numberCard)||n.isNullOrUndefined(this.currentTheme.widgets.numberCard.widgetHeader)||n.isNullOrUndefined(this.currentTheme.widgets.numberCard.widgetHeader.subTitle)||n.isNullOrUndefined(this.currentTheme.widgets.numberCard.widgetHeader.subTitle.fontSettings)?(t=this.getWidgetSubTitleFontSize(),i=this.getWidgetSubTitleFontWeight(),r=this.getWidgetSubTitleFontFamily()):n.isNullOrUndefined(this.currentTheme.widgets.numberCard.widgetHeader.subTitle.fontSettings.autoFontSettings)||this.currentTheme.widgets.numberCard.widgetHeader.subTitle.fontSettings.autoFontSettings?(t=this.getWidgetSubTitleFontSize(),i=this.getWidgetSubTitleFontWeight(),r=this.getWidgetSubTitleFontFamily()):(t=n.isNullOrUndefined(this.currentTheme.widgets.numberCard.widgetHeader.subTitle.fontSettings.fontSize)||n.DashboardUtil.IsStringNullorWhiteSpace(this.currentTheme.widgets.numberCard.widgetHeader.subTitle.fontSettings.fontSize)?this.getWidgetSubTitleFontSize():this.currentTheme.widgets.numberCard.widgetHeader.subTitle.fontSettings.fontSize,i=n.isNullOrUndefined(this.currentTheme.widgets.numberCard.widgetHeader.subTitle.fontSettings.fontWeight)||n.DashboardUtil.IsStringNullorWhiteSpace(this.currentTheme.widgets.numberCard.widgetHeader.subTitle.fontSettings.fontWeight)?this.getWidgetSubTitleFontWeight():this.currentTheme.widgets.numberCard.widgetHeader.subTitle.fontSettings.fontWeight,r=n.isNullOrUndefined(this.currentTheme.widgets.numberCard.widgetHeader.subTitle.fontSettings.fontFamily)||n.DashboardUtil.IsStringNullorWhiteSpace(this.currentTheme.widgets.numberCard.widgetHeader.subTitle.fontSettings.fontFamily)?this.getWidgetSubTitleFontFamily():this.currentTheme.widgets.numberCard.widgetHeader.subTitle.fontSettings.fontFamily,this.updateFontSrcList(this.currentTheme.widgets.numberCard.widgetHeader.subTitle.fontSettings.fontFamily,this.currentTheme.widgets.numberCard.widgetHeader.subTitle.fontSettings.fontSrc)),t=this.updateMaxValueIfSizeExceeds(t,MaximumFontValues.widgetSubTitle),this.getFontStyleCssValue(t,i,r)},t.prototype.getGaugeBackground=function(){return n.isNullOrUndefined(this.currentTheme)||n.isNullOrUndefined(this.currentTheme.widgets)||n.isNullOrUndefined(this.currentTheme.widgets.circularGauge)||n.DashboardUtil.IsStringNullorWhiteSpace(this.currentTheme.widgets.circularGauge.backBground)?this.isDarkTypeTheme()?this.darkMode.widgets.circularGauge.backBground:this.lightMode.widgets.circularGauge.backBground:this.currentTheme.widgets.circularGauge.backBground},t.prototype.getGaugeNeedleBackground=function(){return n.isNullOrUndefined(this.currentTheme)||n.isNullOrUndefined(this.currentTheme.widgets)||n.isNullOrUndefined(this.currentTheme.widgets.circularGauge)||n.DashboardUtil.IsStringNullorWhiteSpace(this.currentTheme.widgets.circularGauge.needlePointerBackground)?this.isDarkTypeTheme()?this.darkMode.widgets.circularGauge.needlePointerBackground:this.lightMode.widgets.circularGauge.needlePointerBackground:this.currentTheme.widgets.circularGauge.needlePointerBackground},t.prototype.getGaugeRangePointerBackground=function(){return n.isNullOrUndefined(this.currentTheme)||n.isNullOrUndefined(this.currentTheme.widgets)||n.isNullOrUndefined(this.currentTheme.widgets.circularGauge)||n.DashboardUtil.IsStringNullorWhiteSpace(this.currentTheme.widgets.circularGauge.rangePointerBackground)?this.isDarkTypeTheme()?this.darkMode.widgets.circularGauge.rangePointerBackground:this.lightMode.widgets.circularGauge.rangePointerBackground:this.currentTheme.widgets.circularGauge.rangePointerBackground},t.prototype.getGaugeScaleBackground=function(){return n.isNullOrUndefined(this.currentTheme)||n.isNullOrUndefined(this.currentTheme.widgets)||n.isNullOrUndefined(this.currentTheme.widgets.circularGauge)||n.DashboardUtil.IsStringNullorWhiteSpace(this.currentTheme.widgets.circularGauge.scaleBackground)?this.isDarkTypeTheme()?this.darkMode.widgets.circularGauge.scaleBackground:this.lightMode.widgets.circularGauge.scaleBackground:this.currentTheme.widgets.circularGauge.scaleBackground},t.prototype.getGaugeTargetPointerBackground=function(){return n.isNullOrUndefined(this.currentTheme)||n.isNullOrUndefined(this.currentTheme.widgets)||n.isNullOrUndefined(this.currentTheme.widgets.circularGauge)||n.DashboardUtil.IsStringNullorWhiteSpace(this.currentTheme.widgets.circularGauge.targetPointerBackground)?this.isDarkTypeTheme()?this.darkMode.widgets.circularGauge.targetPointerBackground:this.lightMode.widgets.circularGauge.targetPointerBackground:this.currentTheme.widgets.circularGauge.targetPointerBackground},t.prototype.getGaugeTitleTextColor=function(){return n.isNullOrUndefined(this.currentTheme)||n.isNullOrUndefined(this.currentTheme.widgets)||n.isNullOrUndefined(this.currentTheme.widgets.circularGauge)||n.isNullOrUndefined(this.currentTheme.widgets.circularGauge.title)||n.DashboardUtil.IsStringNullorWhiteSpace(this.currentTheme.widgets.circularGauge.title.color)?n.isNullOrUndefined(this.currentTheme)||n.isNullOrUndefined(this.currentTheme.widgets)||n.isNullOrUndefined(this.currentTheme.widgets.textStyle)||n.DashboardUtil.IsStringNullorWhiteSpace(this.currentTheme.widgets.textStyle.color)?this.isDarkTypeTheme()?this.darkMode.widgets.circularGauge.title.color:this.lightMode.widgets.circularGauge.title.color:this.currentTheme.widgets.textStyle.color:this.currentTheme.widgets.circularGauge.title.color},t.prototype.getGaugeLabelTextColor=function(){return n.isNullOrUndefined(this.currentTheme)||n.isNullOrUndefined(this.currentTheme.widgets)||n.isNullOrUndefined(this.currentTheme.widgets.circularGauge)||n.isNullOrUndefined(this.currentTheme.widgets.circularGauge.label)||n.DashboardUtil.IsStringNullorWhiteSpace(this.currentTheme.widgets.circularGauge.label.color)?n.isNullOrUndefined(this.currentTheme)||n.isNullOrUndefined(this.currentTheme.widgets)||n.isNullOrUndefined(this.currentTheme.widgets.textStyle)||n.DashboardUtil.IsStringNullorWhiteSpace(this.currentTheme.widgets.textStyle.color)?this.isDarkTypeTheme()?this.darkMode.widgets.circularGauge.label.color:this.lightMode.widgets.circularGauge.label.color:this.currentTheme.widgets.textStyle.color:this.currentTheme.widgets.circularGauge.label.color},t.prototype.getGaugeValueTextColor=function(){return n.isNullOrUndefined(this.currentTheme)||n.isNullOrUndefined(this.currentTheme.widgets)||n.isNullOrUndefined(this.currentTheme.widgets.circularGauge)||n.isNullOrUndefined(this.currentTheme.widgets.circularGauge.value)||n.DashboardUtil.IsStringNullorWhiteSpace(this.currentTheme.widgets.circularGauge.value.color)?n.isNullOrUndefined(this.currentTheme)||n.isNullOrUndefined(this.currentTheme.widgets)||n.isNullOrUndefined(this.currentTheme.widgets.textStyle)||n.DashboardUtil.IsStringNullorWhiteSpace(this.currentTheme.widgets.textStyle.color)?this.isDarkTypeTheme()?this.darkMode.widgets.circularGauge.value.color:this.lightMode.widgets.circularGauge.value.color:this.currentTheme.widgets.textStyle.color:this.currentTheme.widgets.circularGauge.value.color},t.prototype.getGaugeDifferenceValueTextColor=function(){return n.isNullOrUndefined(this.currentTheme)||n.isNullOrUndefined(this.currentTheme.widgets)||n.isNullOrUndefined(this.currentTheme.widgets.circularGauge)||n.isNullOrUndefined(this.currentTheme.widgets.circularGauge.differenceValue)||n.DashboardUtil.IsStringNullorWhiteSpace(this.currentTheme.widgets.circularGauge.differenceValue.color)?n.isNullOrUndefined(this.currentTheme)||n.isNullOrUndefined(this.currentTheme.widgets)||n.isNullOrUndefined(this.currentTheme.widgets.textStyle)||n.DashboardUtil.IsStringNullorWhiteSpace(this.currentTheme.widgets.textStyle.color)?this.isDarkTypeTheme()?this.darkMode.widgets.circularGauge.differenceValue.color:this.lightMode.widgets.circularGauge.differenceValue.color:this.currentTheme.widgets.textStyle.color:this.currentTheme.widgets.circularGauge.differenceValue.color},t.prototype.getGaugeLabelFont=function(){var t,i,r;return n.isNullOrUndefined(this.currentTheme)||n.isNullOrUndefined(this.currentTheme.widgets)||n.isNullOrUndefined(this.currentTheme.widgets.circularGauge)||n.isNullOrUndefined(this.currentTheme.widgets.circularGauge.label)||n.isNullOrUndefined(this.currentTheme.widgets.circularGauge.label.fontSettings)?(t=this.getWidgetDataLabelFontSize(),i=this.getWidgetDataLabelFontWeight(),r=this.getWidgetDataLabelFontFamily()):n.isNullOrUndefined(this.currentTheme.widgets.circularGauge.label.fontSettings.autoFontSettings)||this.currentTheme.widgets.circularGauge.label.fontSettings.autoFontSettings?(t=this.getWidgetDataLabelFontSize(),i=this.getWidgetDataLabelFontWeight(),r=this.getWidgetDataLabelFontFamily()):(t=n.isNullOrUndefined(this.currentTheme.widgets.circularGauge.label.fontSettings.fontSize)||n.DashboardUtil.IsStringNullorWhiteSpace(this.currentTheme.widgets.circularGauge.label.fontSettings.fontSize)?this.getWidgetDataLabelFontSize():this.currentTheme.widgets.circularGauge.label.fontSettings.fontSize,i=n.isNullOrUndefined(this.currentTheme.widgets.circularGauge.label.fontSettings.fontWeight)||n.DashboardUtil.IsStringNullorWhiteSpace(this.currentTheme.widgets.circularGauge.label.fontSettings.fontWeight)?this.getWidgetDataLabelFontWeight():this.currentTheme.widgets.circularGauge.label.fontSettings.fontWeight,r=n.isNullOrUndefined(this.currentTheme.widgets.circularGauge.label.fontSettings.fontFamily)||n.DashboardUtil.IsStringNullorWhiteSpace(this.currentTheme.widgets.circularGauge.label.fontSettings.fontFamily)?this.getWidgetDataLabelFontFamily():this.currentTheme.widgets.circularGauge.label.fontSettings.fontFamily,this.updateFontSrcList(this.currentTheme.widgets.circularGauge.label.fontSettings.fontFamily,this.currentTheme.widgets.circularGauge.label.fontSettings.fontSrc)),t=n.DashboardUtil.IsStringNullorWhiteSpace(t)?this.getFontSizeBasedOnResolution():t,i=n.DashboardUtil.IsStringNullorWhiteSpace(i)?"400":i,r=n.DashboardUtil.IsStringNullorWhiteSpace(r)?"var(--designer-font)":r,t=this.updateMaxValueIfSizeExceeds(t,MaximumFontValues.widgetTitle),{size:t,weight:i,family:r}},t.prototype.getGaugeTitleFont=function(){var t,i,r;return n.isNullOrUndefined(this.currentTheme)||n.isNullOrUndefined(this.currentTheme.widgets)||n.isNullOrUndefined(this.currentTheme.widgets.circularGauge)||n.isNullOrUndefined(this.currentTheme.widgets.circularGauge.title)||n.isNullOrUndefined(this.currentTheme.widgets.circularGauge.title.fontSettings)?(t=this.getWidgetTitleFontSize(),i=this.getWidgetTitleFontWeight(),r=this.getWidgetTitleFontFamily()):n.isNullOrUndefined(this.currentTheme.widgets.circularGauge.title.fontSettings.autoFontSettings)||this.currentTheme.widgets.circularGauge.title.fontSettings.autoFontSettings?(t=this.getWidgetTitleFontSize(),i=this.getWidgetTitleFontWeight(),r=this.getWidgetTitleFontFamily()):(t=n.isNullOrUndefined(this.currentTheme.widgets.circularGauge.title.fontSettings.fontSize)||n.DashboardUtil.IsStringNullorWhiteSpace(this.currentTheme.widgets.circularGauge.title.fontSettings.fontSize)?this.getWidgetTitleFontSize():this.currentTheme.widgets.circularGauge.title.fontSettings.fontSize,i=n.isNullOrUndefined(this.currentTheme.widgets.circularGauge.title.fontSettings.fontWeight)||n.DashboardUtil.IsStringNullorWhiteSpace(this.currentTheme.widgets.circularGauge.title.fontSettings.fontWeight)?this.getWidgetTitleFontWeight():this.currentTheme.widgets.circularGauge.title.fontSettings.fontWeight,r=n.isNullOrUndefined(this.currentTheme.widgets.circularGauge.title.fontSettings.fontFamily)||n.DashboardUtil.IsStringNullorWhiteSpace(this.currentTheme.widgets.circularGauge.title.fontSettings.fontFamily)?this.getWidgetTitleFontFamily():this.currentTheme.widgets.circularGauge.title.fontSettings.fontFamily,this.updateFontSrcList(this.currentTheme.widgets.circularGauge.title.fontSettings.fontFamily,this.currentTheme.widgets.circularGauge.title.fontSettings.fontSrc)),t=n.DashboardUtil.IsStringNullorWhiteSpace(t)?this.getFontSizeBasedOnResolution():t,i=n.DashboardUtil.IsStringNullorWhiteSpace(i)?"Bold":i,r=n.DashboardUtil.IsStringNullorWhiteSpace(r)?"var(--designer-font)":r,{size:this.updateMaxValueIfSizeExceeds(t,MaximumFontValues.widgetTitle),weight:i,family:r}},t.prototype.getGaugeValueFont=function(){var t,i,r;return n.isNullOrUndefined(this.currentTheme)||n.isNullOrUndefined(this.currentTheme.widgets)||n.isNullOrUndefined(this.currentTheme.widgets.circularGauge)||n.isNullOrUndefined(this.currentTheme.widgets.circularGauge.value)||n.isNullOrUndefined(this.currentTheme.widgets.circularGauge.value.fontSettings)?(t=this.getWidgetDataValueFontSize(),i=this.getWidgetDataValueFontWeight(),r=this.getWidgetDataValueFontFamily()):n.isNullOrUndefined(this.currentTheme.widgets.circularGauge.value.fontSettings.autoFontSettings)||this.currentTheme.widgets.circularGauge.value.fontSettings.autoFontSettings?(t=this.getWidgetDataValueFontSize(),i=this.getWidgetDataValueFontWeight(),r=this.getWidgetDataValueFontFamily()):(t=n.isNullOrUndefined(this.currentTheme.widgets.circularGauge.value.fontSettings.fontSize)||n.DashboardUtil.IsStringNullorWhiteSpace(this.currentTheme.widgets.circularGauge.value.fontSettings.fontSize)?this.getWidgetDataValueFontSize():this.currentTheme.widgets.circularGauge.value.fontSettings.fontSize,i=n.isNullOrUndefined(this.currentTheme.widgets.circularGauge.value.fontSettings.fontWeight)||n.DashboardUtil.IsStringNullorWhiteSpace(this.currentTheme.widgets.circularGauge.value.fontSettings.fontWeight)?this.getWidgetDataValueFontWeight():this.currentTheme.widgets.circularGauge.value.fontSettings.fontWeight,r=n.isNullOrUndefined(this.currentTheme.widgets.circularGauge.value.fontSettings.fontFamily)||n.DashboardUtil.IsStringNullorWhiteSpace(this.currentTheme.widgets.circularGauge.value.fontSettings.fontFamily)?this.getWidgetDataValueFontFamily():this.currentTheme.widgets.circularGauge.value.fontSettings.fontFamily,this.updateFontSrcList(this.currentTheme.widgets.circularGauge.value.fontSettings.fontFamily,this.currentTheme.widgets.circularGauge.value.fontSettings.fontSrc)),t=n.DashboardUtil.IsStringNullorWhiteSpace(t)?this.getFontSizeBasedOnResolution():t,i=n.isNullOrUndefined(i)?"Bold":i,r=n.isNullOrUndefined(r)?"var(--designer-font)":r,{size:t,weight:i,family:r}},t.prototype.getGaugeDifferenceValueFont=function(){var t,i,r;return n.isNullOrUndefined(this.currentTheme)||n.isNullOrUndefined(this.currentTheme.widgets)||n.isNullOrUndefined(this.currentTheme.widgets.circularGauge)||n.isNullOrUndefined(this.currentTheme.widgets.circularGauge.differenceValue)||n.isNullOrUndefined(this.currentTheme.widgets.circularGauge.differenceValue.fontSettings)?(t=this.getWidgetDataValueFontSize(),i=this.getWidgetDataValueFontWeight(),r=this.getWidgetDataValueFontFamily()):n.isNullOrUndefined(this.currentTheme.widgets.circularGauge.differenceValue.fontSettings.autoFontSettings)||this.currentTheme.widgets.circularGauge.differenceValue.fontSettings.autoFontSettings?(t=this.getWidgetDataValueFontSize(),i=this.getWidgetDataValueFontWeight(),r=this.getWidgetDataValueFontFamily()):(t=n.isNullOrUndefined(this.currentTheme.widgets.circularGauge.differenceValue.fontSettings.fontSize)||n.DashboardUtil.IsStringNullorWhiteSpace(this.currentTheme.widgets.circularGauge.differenceValue.fontSettings.fontSize)?this.getWidgetDataValueFontSize():this.currentTheme.widgets.circularGauge.differenceValue.fontSettings.fontSize,i=n.isNullOrUndefined(this.currentTheme.widgets.circularGauge.differenceValue.fontSettings.fontWeight)||n.DashboardUtil.IsStringNullorWhiteSpace(this.currentTheme.widgets.circularGauge.differenceValue.fontSettings.fontWeight)?this.getWidgetDataValueFontWeight():this.currentTheme.widgets.circularGauge.differenceValue.fontSettings.fontWeight,r=n.isNullOrUndefined(this.currentTheme.widgets.circularGauge.differenceValue.fontSettings.fontFamily)||n.DashboardUtil.IsStringNullorWhiteSpace(this.currentTheme.widgets.circularGauge.differenceValue.fontSettings.fontFamily)?this.getWidgetDataValueFontFamily():this.currentTheme.widgets.circularGauge.differenceValue.fontSettings.fontFamily,this.updateFontSrcList(this.currentTheme.widgets.circularGauge.differenceValue.fontSettings.fontFamily,this.currentTheme.widgets.circularGauge.differenceValue.fontSettings.fontSrc)),t=n.DashboardUtil.IsStringNullorWhiteSpace(t)?this.getFontSizeBasedOnResolution():t,i=n.isNullOrUndefined(i)?"Bold":i,r=n.isNullOrUndefined(r)?"var(--designer-font)":r,{size:t,weight:i,family:r}},t.prototype.getGuageHeaderTitle=function(){var t,i,r;if(n.isNullOrUndefined(this.currentTheme)||n.isNullOrUndefined(this.currentTheme.widgets)||n.isNullOrUndefined(this.currentTheme.widgets.circularGauge)||n.isNullOrUndefined(this.currentTheme.widgets.circularGauge.widgetHeader)||n.isNullOrUndefined(this.currentTheme.widgets.circularGauge.widgetHeader.title)||n.isNullOrUndefined(this.currentTheme.widgets.circularGauge.widgetHeader.title.fontSettings))t=this.getWidgetTitleFontSize(),i=this.getWidgetTitleFontWeight(),r=this.getWidgetTitleFontFamily();else{if(n.isNullOrUndefined(this.currentTheme.widgets.circularGauge.widgetHeader.title.fontSettings.autoFontSettings)||this.currentTheme.widgets.circularGauge.widgetHeader.title.fontSettings.autoFontSettings)return"";t=n.isNullOrUndefined(this.currentTheme.widgets.circularGauge.widgetHeader.title.fontSettings.fontSize)||n.DashboardUtil.IsStringNullorWhiteSpace(this.currentTheme.widgets.circularGauge.widgetHeader.title.fontSettings.fontSize)?this.getWidgetTitleFontSize():this.currentTheme.widgets.circularGauge.widgetHeader.title.fontSettings.fontSize;i=n.isNullOrUndefined(this.currentTheme.widgets.circularGauge.widgetHeader.title.fontSettings.fontWeight)||n.DashboardUtil.IsStringNullorWhiteSpace(this.currentTheme.widgets.circularGauge.widgetHeader.title.fontSettings.fontWeight)?this.getWidgetTitleFontWeight():this.currentTheme.widgets.circularGauge.widgetHeader.title.fontSettings.fontWeight;r=n.isNullOrUndefined(this.currentTheme.widgets.circularGauge.widgetHeader.title.fontSettings.fontFamily)||n.DashboardUtil.IsStringNullorWhiteSpace(this.currentTheme.widgets.circularGauge.widgetHeader.title.fontSettings.fontFamily)?this.getWidgetTitleFontFamily():this.currentTheme.widgets.circularGauge.widgetHeader.title.fontSettings.fontFamily;this.updateFontSrcList(this.currentTheme.widgets.circularGauge.widgetHeader.title.fontSettings.fontFamily,this.currentTheme.widgets.circularGauge.widgetHeader.title.fontSettings.fontSrc)}return t=this.updateMaxValueIfSizeExceeds(t,MaximumFontValues.widgetTitle),this.getFontStyleCssValue(t,i,r)},t.prototype.getGuageHeaderSubTitle=function(){var t,i,r;if(n.isNullOrUndefined(this.currentTheme)||n.isNullOrUndefined(this.currentTheme.widgets)||n.isNullOrUndefined(this.currentTheme.widgets.circularGauge)||n.isNullOrUndefined(this.currentTheme.widgets.circularGauge.widgetHeader)||n.isNullOrUndefined(this.currentTheme.widgets.circularGauge.widgetHeader.subTitle)||n.isNullOrUndefined(this.currentTheme.widgets.circularGauge.widgetHeader.subTitle.fontSettings))t=this.getWidgetSubTitleFontSize(),i=this.getWidgetSubTitleFontWeight(),r=this.getWidgetSubTitleFontFamily();else{if(n.isNullOrUndefined(this.currentTheme.widgets.circularGauge.widgetHeader.subTitle.fontSettings.autoFontSettings)||this.currentTheme.widgets.circularGauge.widgetHeader.subTitle.fontSettings.autoFontSettings)return"";t=n.isNullOrUndefined(this.currentTheme.widgets.circularGauge.widgetHeader.subTitle.fontSettings.fontSize)||n.DashboardUtil.IsStringNullorWhiteSpace(this.currentTheme.widgets.circularGauge.widgetHeader.subTitle.fontSettings.fontSize)?this.getWidgetSubTitleFontSize():this.currentTheme.widgets.circularGauge.widgetHeader.subTitle.fontSettings.fontSize;i=n.isNullOrUndefined(this.currentTheme.widgets.circularGauge.widgetHeader.subTitle.fontSettings.fontWeight)||n.DashboardUtil.IsStringNullorWhiteSpace(this.currentTheme.widgets.circularGauge.widgetHeader.subTitle.fontSettings.fontWeight)?this.getWidgetSubTitleFontWeight():this.currentTheme.widgets.circularGauge.widgetHeader.subTitle.fontSettings.fontWeight;r=n.isNullOrUndefined(this.currentTheme.widgets.circularGauge.widgetHeader.subTitle.fontSettings.fontFamily)||n.DashboardUtil.IsStringNullorWhiteSpace(this.currentTheme.widgets.circularGauge.widgetHeader.subTitle.fontSettings.fontFamily)?this.getWidgetSubTitleFontFamily():this.currentTheme.widgets.circularGauge.widgetHeader.subTitle.fontSettings.fontFamily;this.updateFontSrcList(this.currentTheme.widgets.circularGauge.widgetHeader.subTitle.fontSettings.fontFamily,this.currentTheme.widgets.circularGauge.widgetHeader.subTitle.fontSettings.fontSrc)}return t=this.updateMaxValueIfSizeExceeds(t,MaximumFontValues.widgetSubTitle),this.getFontStyleCssValue(t,i,r)},t.prototype.getChartAxisTitleFontColor=function(){return n.isNullOrUndefined(this.currentTheme)||n.isNullOrUndefined(this.currentTheme.widgets)||n.isNullOrUndefined(this.currentTheme.widgets.chart)||n.isNullOrUndefined(this.currentTheme.widgets.chart.axis)||n.isNullOrUndefined(this.currentTheme.widgets.chart.axis.title)||n.isNullOrUndefined(this.currentTheme.widgets.chart.axis.title.font)||n.DashboardUtil.IsStringNullorWhiteSpace(this.currentTheme.widgets.chart.axis.title.font.color)?this.isDarkTypeTheme()?this.darkMode.widgets.chart.axis.title.font.color:this.lightMode.widgets.chart.axis.title.font.color:this.currentTheme.widgets.chart.axis.title.font.color},t.prototype.getChartAxisLabelFontColor=function(){return n.isNullOrUndefined(this.currentTheme)||n.isNullOrUndefined(this.currentTheme.widgets)||n.isNullOrUndefined(this.currentTheme.widgets.chart)||n.isNullOrUndefined(this.currentTheme.widgets.chart.axis)||n.isNullOrUndefined(this.currentTheme.widgets.chart.axis.label)||n.isNullOrUndefined(this.currentTheme.widgets.chart.axis.label.font)||n.DashboardUtil.IsStringNullorWhiteSpace(this.currentTheme.widgets.chart.axis.label.font.color)?this.isDarkTypeTheme()?this.darkMode.widgets.chart.axis.label.font.color:this.lightMode.widgets.chart.axis.label.font.color:this.currentTheme.widgets.chart.axis.label.font.color},t.prototype.getChartMajorGridLinesColor=function(){return n.isNullOrUndefined(this.currentTheme)||n.isNullOrUndefined(this.currentTheme.widgets)||n.isNullOrUndefined(this.currentTheme.widgets.chart)||n.isNullOrUndefined(this.currentTheme.widgets.chart.axis)||n.isNullOrUndefined(this.currentTheme.widgets.chart.axis.gridLines)||n.DashboardUtil.IsStringNullorWhiteSpace(this.currentTheme.widgets.chart.axis.gridLines.color)?this.isDarkTypeTheme()?this.darkMode.widgets.chart.axis.gridLines.color:this.lightMode.widgets.chart.axis.gridLines.color:this.currentTheme.widgets.chart.axis.gridLines.color},t.prototype.getChartMajorTickLinesColor=function(){return n.isNullOrUndefined(this.currentTheme)||n.isNullOrUndefined(this.currentTheme.widgets)||n.isNullOrUndefined(this.currentTheme.widgets.chart)||n.isNullOrUndefined(this.currentTheme.widgets.chart.axis)||n.isNullOrUndefined(this.currentTheme.widgets.chart.axis.tickLines)||n.DashboardUtil.IsStringNullorWhiteSpace(this.currentTheme.widgets.chart.axis.tickLines.color)?this.isDarkTypeTheme()?this.darkMode.widgets.chart.axis.tickLines.color:this.lightMode.widgets.chart.axis.tickLines.color:this.currentTheme.widgets.chart.axis.tickLines.color},t.prototype.getChartLegendFontColor=function(){return n.isNullOrUndefined(this.currentTheme)||n.isNullOrUndefined(this.currentTheme.widgets)||n.isNullOrUndefined(this.currentTheme.widgets.chart)||n.isNullOrUndefined(this.currentTheme.widgets.chart.legend)||n.isNullOrUndefined(this.currentTheme.widgets.chart.legend.font)||n.DashboardUtil.IsStringNullorWhiteSpace(this.currentTheme.widgets.chart.legend.font.color)?this.isDarkTypeTheme()?this.darkMode.widgets.chart.legend.font.color:this.lightMode.widgets.chart.legend.font.color:this.currentTheme.widgets.chart.legend.font.color},t.prototype.getChartDataLabelFontColor=function(){return n.isNullOrUndefined(this.currentTheme)||n.isNullOrUndefined(this.currentTheme.widgets)||n.isNullOrUndefined(this.currentTheme.widgets.chart)||n.isNullOrUndefined(this.currentTheme.widgets.chart.dataLabel)||n.isNullOrUndefined(this.currentTheme.widgets.chart.dataLabel.font)||n.DashboardUtil.IsStringNullorWhiteSpace(this.currentTheme.widgets.chart.dataLabel.font.color)?this.isDarkTypeTheme()?this.darkMode.widgets.chart.dataLabel.font.color:this.lightMode.widgets.chart.dataLabel.font.color:this.currentTheme.widgets.chart.dataLabel.font.color},t.prototype.getStackedChartDataLabelFontColor=function(){return n.isNullOrUndefined(this.currentTheme)||n.isNullOrUndefined(this.currentTheme.widgets)||n.isNullOrUndefined(this.currentTheme.widgets.stackedChart)||n.isNullOrUndefined(this.currentTheme.widgets.stackedChart.dataLabel)||n.isNullOrUndefined(this.currentTheme.widgets.stackedChart.dataLabel.font)||n.DashboardUtil.IsStringNullorWhiteSpace(this.currentTheme.widgets.stackedChart.dataLabel.font.color)?this.isDarkTypeTheme()?this.darkMode.widgets.stackedChart.dataLabel.font.color:this.lightMode.widgets.stackedChart.dataLabel.font.color:this.currentTheme.widgets.stackedChart.dataLabel.font.color},t.prototype.getChartAxisTitleFont=function(){var t,i,r;return n.isNullOrUndefined(this.currentTheme)||n.isNullOrUndefined(this.currentTheme.widgets)||n.isNullOrUndefined(this.currentTheme.widgets.chart)||n.isNullOrUndefined(this.currentTheme.widgets.chart.axis)||n.isNullOrUndefined(this.currentTheme.widgets.chart.axis.title)||n.isNullOrUndefined(this.currentTheme.widgets.chart.axis.title.font)||n.isNullOrUndefined(this.currentTheme.widgets.chart.axis.title.font.fontSettings)?(t=this.getWidgetAxisTitleFontSize(),i=this.getWidgetAxisTitleFontWeight(),r=this.getWidgetAxisTitleFontFamily()):n.isNullOrUndefined(this.currentTheme.widgets.chart.axis.title.font.fontSettings.autoFontSettings)||this.currentTheme.widgets.chart.axis.title.font.fontSettings.autoFontSettings?(t=this.getWidgetAxisTitleFontSize(),i=this.getWidgetAxisTitleFontWeight(),r=this.getWidgetAxisTitleFontFamily()):(t=n.isNullOrUndefined(this.currentTheme.widgets.chart.axis.title.font.fontSettings.fontSize)||n.DashboardUtil.IsStringNullorWhiteSpace(this.currentTheme.widgets.chart.axis.title.font.fontSettings.fontSize)?this.getWidgetAxisTitleFontSize():this.currentTheme.widgets.chart.axis.title.font.fontSettings.fontSize,i=n.isNullOrUndefined(this.currentTheme.widgets.chart.axis.title.font.fontSettings.fontWeight)||n.DashboardUtil.IsStringNullorWhiteSpace(this.currentTheme.widgets.chart.axis.title.font.fontSettings.fontWeight)?this.getWidgetAxisTitleFontWeight():this.currentTheme.widgets.chart.axis.title.font.fontSettings.fontWeight,r=n.isNullOrUndefined(this.currentTheme.widgets.chart.axis.title.font.fontSettings.fontFamily)||n.DashboardUtil.IsStringNullorWhiteSpace(this.currentTheme.widgets.chart.axis.title.font.fontSettings.fontFamily)?this.getWidgetAxisTitleFontFamily():this.currentTheme.widgets.chart.axis.title.font.fontSettings.fontFamily,this.updateFontSrcList(this.currentTheme.widgets.chart.axis.title.font.fontSettings.fontFamily,this.currentTheme.widgets.chart.axis.title.font.fontSettings.fontSrc)),t=n.DashboardUtil.IsStringNullorWhiteSpace(t)?this.getFontSizeBasedOnResolution():t,i=n.DashboardUtil.IsStringNullorWhiteSpace(i)?"Bold":i,r=n.DashboardUtil.IsStringNullorWhiteSpace(r)?"var(--designer-font)":r,{size:t,weight:i,family:r}},t.prototype.getChartAxisLabelFont=function(){var t,i,r;return n.isNullOrUndefined(this.currentTheme)||n.isNullOrUndefined(this.currentTheme.widgets)||n.isNullOrUndefined(this.currentTheme.widgets.chart)||n.isNullOrUndefined(this.currentTheme.widgets.chart.axis)||n.isNullOrUndefined(this.currentTheme.widgets.chart.axis.label)||n.isNullOrUndefined(this.currentTheme.widgets.chart.axis.label.font)||n.isNullOrUndefined(this.currentTheme.widgets.chart.axis.label.font.fontSettings)?(t=this.getWidgetAxisLabelFontSize(),i=this.getWidgetAxisLabelFontWeight(),r=this.getWidgetAxisLabelFontFamily()):n.isNullOrUndefined(this.currentTheme.widgets.chart.axis.label.font.fontSettings.autoFontSettings)||this.currentTheme.widgets.chart.axis.label.font.fontSettings.autoFontSettings?(t=this.getWidgetAxisLabelFontSize(),i=this.getWidgetAxisLabelFontWeight(),r=this.getWidgetAxisLabelFontFamily()):(t=n.isNullOrUndefined(this.currentTheme.widgets.chart.axis.label.font.fontSettings.fontSize)||n.DashboardUtil.IsStringNullorWhiteSpace(this.currentTheme.widgets.chart.axis.label.font.fontSettings.fontSize)?this.getWidgetAxisLabelFontSize():this.currentTheme.widgets.chart.axis.label.font.fontSettings.fontSize,i=n.isNullOrUndefined(this.currentTheme.widgets.chart.axis.label.font.fontSettings.fontWeight)||n.DashboardUtil.IsStringNullorWhiteSpace(this.currentTheme.widgets.chart.axis.label.font.fontSettings.fontWeight)?this.getWidgetAxisLabelFontWeight():this.currentTheme.widgets.chart.axis.label.font.fontSettings.fontWeight,r=n.isNullOrUndefined(this.currentTheme.widgets.chart.axis.label.font.fontSettings.fontFamily)||n.DashboardUtil.IsStringNullorWhiteSpace(this.currentTheme.widgets.chart.axis.label.font.fontSettings.fontFamily)?this.getWidgetAxisLabelFontFamily():this.currentTheme.widgets.chart.axis.label.font.fontSettings.fontFamily,this.updateFontSrcList(this.currentTheme.widgets.chart.axis.label.font.fontSettings.fontFamily,this.currentTheme.widgets.chart.axis.label.font.fontSettings.fontSrc)),t=n.DashboardUtil.IsStringNullorWhiteSpace(t)?this.getFontSizeBasedOnResolution():t,i=n.DashboardUtil.IsStringNullorWhiteSpace(i)?"Regular":i,r=n.DashboardUtil.IsStringNullorWhiteSpace(r)?"var(--designer-font)":r,{size:t,weight:i,family:r}},t.prototype.getChartDataLabelFont=function(){var t,i,r;return n.isNullOrUndefined(this.currentTheme)||n.isNullOrUndefined(this.currentTheme.widgets)||n.isNullOrUndefined(this.currentTheme.widgets.chart)||n.isNullOrUndefined(this.currentTheme.widgets.chart.dataLabel)||n.isNullOrUndefined(this.currentTheme.widgets.chart.dataLabel.font)||n.isNullOrUndefined(this.currentTheme.widgets.chart.dataLabel.font.fontSettings)?(t=this.getWidgetDataLabelFontSize(),i=this.getWidgetDataLabelFontWeight(),r=this.getWidgetDataLabelFontFamily()):n.isNullOrUndefined(this.currentTheme.widgets.chart.dataLabel.font.fontSettings.autoFontSettings)||this.currentTheme.widgets.chart.dataLabel.font.fontSettings.autoFontSettings?(t=this.getWidgetDataLabelFontSize(),i=this.getWidgetDataLabelFontWeight(),r=this.getWidgetDataLabelFontFamily()):(t=n.isNullOrUndefined(this.currentTheme.widgets.chart.dataLabel.font.fontSettings.fontSize)||n.DashboardUtil.IsStringNullorWhiteSpace(this.currentTheme.widgets.chart.dataLabel.font.fontSettings.fontSize)?this.getWidgetDataLabelFontSize():this.currentTheme.widgets.chart.dataLabel.font.fontSettings.fontSize,i=n.isNullOrUndefined(this.currentTheme.widgets.chart.dataLabel.font.fontSettings.fontWeight)||n.DashboardUtil.IsStringNullorWhiteSpace(this.currentTheme.widgets.chart.dataLabel.font.fontSettings.fontWeight)?this.getWidgetDataLabelFontWeight():this.currentTheme.widgets.chart.dataLabel.font.fontSettings.fontWeight,r=n.isNullOrUndefined(this.currentTheme.widgets.chart.dataLabel.font.fontSettings.fontFamily)||n.DashboardUtil.IsStringNullorWhiteSpace(this.currentTheme.widgets.chart.dataLabel.font.fontSettings.fontFamily)?this.getWidgetDataLabelFontFamily():this.currentTheme.widgets.chart.dataLabel.font.fontSettings.fontFamily,this.updateFontSrcList(this.currentTheme.widgets.chart.dataLabel.font.fontSettings.fontFamily,this.currentTheme.widgets.chart.dataLabel.font.fontSettings.fontSrc)),t=n.DashboardUtil.IsStringNullorWhiteSpace(t)?this.getFontSizeBasedOnResolution():t,i=n.DashboardUtil.IsStringNullorWhiteSpace(i)?"Regular":i,r=n.DashboardUtil.IsStringNullorWhiteSpace(r)?"var(--designer-font)":r,{size:t,weight:i,family:r}},t.prototype.getChartLegendFont=function(){var t,i,r;return n.isNullOrUndefined(this.currentTheme)||n.isNullOrUndefined(this.currentTheme.widgets)||n.isNullOrUndefined(this.currentTheme.widgets.chart)||n.isNullOrUndefined(this.currentTheme.widgets.chart.legend)||n.isNullOrUndefined(this.currentTheme.widgets.chart.legend.font)||n.isNullOrUndefined(this.currentTheme.widgets.chart.legend.font.fontSettings)?(t=this.getWidgetLegendFontSize(),i=this.getWidgetLegendFontWeight(),r=this.getWidgetLegendFontFamily()):n.isNullOrUndefined(this.currentTheme.widgets.chart.legend.font.fontSettings.autoFontSettings)||this.currentTheme.widgets.chart.legend.font.fontSettings.autoFontSettings?(t=this.getWidgetLegendFontSize(),i=this.getWidgetLegendFontWeight(),r=this.getWidgetLegendFontFamily()):(t=n.isNullOrUndefined(this.currentTheme.widgets.chart.legend.font.fontSettings.fontSize)||n.DashboardUtil.IsStringNullorWhiteSpace(this.currentTheme.widgets.chart.legend.font.fontSettings.fontSize)?this.getWidgetLegendFontSize():this.currentTheme.widgets.chart.legend.font.fontSettings.fontSize,i=n.isNullOrUndefined(this.currentTheme.widgets.chart.legend.font.fontSettings.fontWeight)||n.DashboardUtil.IsStringNullorWhiteSpace(this.currentTheme.widgets.chart.legend.font.fontSettings.fontWeight)?this.getWidgetLegendFontWeight():this.currentTheme.widgets.chart.legend.font.fontSettings.fontWeight,r=n.isNullOrUndefined(this.currentTheme.widgets.chart.legend.font.fontSettings.fontFamily)||n.DashboardUtil.IsStringNullorWhiteSpace(this.currentTheme.widgets.chart.legend.font.fontSettings.fontFamily)?this.getWidgetLegendFontFamily():this.currentTheme.widgets.chart.legend.font.fontSettings.fontFamily,this.updateFontSrcList(this.currentTheme.widgets.chart.legend.font.fontSettings.fontFamily,this.currentTheme.widgets.chart.legend.font.fontSettings.fontSrc)),t=n.DashboardUtil.IsStringNullorWhiteSpace(t)?this.getFontSizeBasedOnResolution():t,i=n.DashboardUtil.IsStringNullorWhiteSpace(i)?"500":i,r=n.DashboardUtil.IsStringNullorWhiteSpace(r)?"var(--designer-font)":r,{size:t,weight:i,family:r}},t.prototype.getChartLegendTitleFont=function(){var t,i,r;return n.isNullOrUndefined(this.currentTheme)||n.isNullOrUndefined(this.currentTheme.widgets)||n.isNullOrUndefined(this.currentTheme.widgets.chart)||n.isNullOrUndefined(this.currentTheme.widgets.chart.legendTitle)||n.isNullOrUndefined(this.currentTheme.widgets.chart.legendTitle.title)||n.isNullOrUndefined(this.currentTheme.widgets.chart.legendTitle.title.font)||n.isNullOrUndefined(this.currentTheme.widgets.chart.legendTitle.title.font.fontSettings)?(t=this.getWidgetLegendFontSize(),i=this.getWidgetLegendFontWeight(),r=this.getWidgetLegendFontFamily()):n.isNullOrUndefined(this.currentTheme.widgets.chart.legendTitle.title.font.fontSettings.autoFontSettings)||this.currentTheme.widgets.chart.legendTitle.title.font.fontSettings.autoFontSettings?(t=this.getWidgetLegendFontSize(),i=this.getWidgetLegendFontWeight(),r=this.getWidgetLegendFontFamily()):(t=n.isNullOrUndefined(this.currentTheme.widgets.chart.legendTitle.title.font.fontSettings.fontSize)||n.DashboardUtil.IsStringNullorWhiteSpace(this.currentTheme.widgets.chart.legendTitle.title.font.fontSettings.fontSize)?this.getWidgetLegendFontSize():this.currentTheme.widgets.chart.legendTitle.title.font.fontSettings.fontSize,i=n.isNullOrUndefined(this.currentTheme.widgets.chart.legendTitle.title.font.fontSettings.fontWeight)||n.DashboardUtil.IsStringNullorWhiteSpace(this.currentTheme.widgets.chart.legendTitle.title.font.fontSettings.fontWeight)?this.getWidgetLegendFontWeight():this.currentTheme.widgets.chart.legendTitle.title.font.fontSettings.fontWeight,r=n.isNullOrUndefined(this.currentTheme.widgets.chart.legendTitle.title.font.fontSettings.fontFamily)||n.DashboardUtil.IsStringNullorWhiteSpace(this.currentTheme.widgets.chart.legendTitle.title.font.fontSettings.fontFamily)?this.getWidgetLegendFontFamily():this.currentTheme.widgets.chart.legendTitle.title.font.fontSettings.fontFamily,this.updateFontSrcList(this.currentTheme.widgets.chart.legendTitle.title.font.fontSettings.fontFamily,this.currentTheme.widgets.chart.legendTitle.title.font.fontSettings.fontSrc)),t=n.DashboardUtil.IsStringNullorWhiteSpace(t)?this.getFontSizeBasedOnResolution():t,i=n.DashboardUtil.IsStringNullorWhiteSpace(i)?"500":i,r=n.DashboardUtil.IsStringNullorWhiteSpace(r)?"var(--designer-font)":r,{size:t,weight:i,family:r}},t.prototype.getChartHeaderTitle=function(){var t,i,r;if(n.isNullOrUndefined(this.currentTheme)||n.isNullOrUndefined(this.currentTheme.widgets)||n.isNullOrUndefined(this.currentTheme.widgets.chart)||n.isNullOrUndefined(this.currentTheme.widgets.chart.widgetHeader)||n.isNullOrUndefined(this.currentTheme.widgets.chart.widgetHeader.title)||n.isNullOrUndefined(this.currentTheme.widgets.chart.widgetHeader.title.fontSettings))t=this.getWidgetTitleFontSize(),i=this.getWidgetTitleFontWeight(),r=this.getWidgetTitleFontFamily();else{if(n.isNullOrUndefined(this.currentTheme.widgets.chart.widgetHeader.title.fontSettings.autoFontSettings)||this.currentTheme.widgets.chart.widgetHeader.title.fontSettings.autoFontSettings)return"";t=n.isNullOrUndefined(this.currentTheme.widgets.chart.widgetHeader.title.fontSettings.fontSize)||n.DashboardUtil.IsStringNullorWhiteSpace(this.currentTheme.widgets.chart.widgetHeader.title.fontSettings.fontSize)?this.getWidgetTitleFontSize():this.currentTheme.widgets.chart.widgetHeader.title.fontSettings.fontSize;i=n.isNullOrUndefined(this.currentTheme.widgets.chart.widgetHeader.title.fontSettings.fontWeight)||n.DashboardUtil.IsStringNullorWhiteSpace(this.currentTheme.widgets.chart.widgetHeader.title.fontSettings.fontWeight)?this.getWidgetTitleFontWeight():this.currentTheme.widgets.chart.widgetHeader.title.fontSettings.fontWeight;r=n.isNullOrUndefined(this.currentTheme.widgets.chart.widgetHeader.title.fontSettings.fontFamily)||n.DashboardUtil.IsStringNullorWhiteSpace(this.currentTheme.widgets.chart.widgetHeader.title.fontSettings.fontFamily)?this.getWidgetTitleFontFamily():this.currentTheme.widgets.chart.widgetHeader.title.fontSettings.fontFamily;this.updateFontSrcList(this.currentTheme.widgets.chart.widgetHeader.title.fontSettings.fontFamily,this.currentTheme.widgets.chart.widgetHeader.title.fontSettings.fontSrc)}return t=this.updateMaxValueIfSizeExceeds(t,MaximumFontValues.widgetTitle),this.getFontStyleCssValue(t,i,r)},t.prototype.getChartHeaderSubTitle=function(){var t,i,r;if(n.isNullOrUndefined(this.currentTheme)||n.isNullOrUndefined(this.currentTheme.widgets)||n.isNullOrUndefined(this.currentTheme.widgets.chart)||n.isNullOrUndefined(this.currentTheme.widgets.chart.widgetHeader)||n.isNullOrUndefined(this.currentTheme.widgets.chart.widgetHeader.subTitle)||n.isNullOrUndefined(this.currentTheme.widgets.chart.widgetHeader.subTitle.fontSettings))t=this.getWidgetSubTitleFontSize(),i=this.getWidgetSubTitleFontWeight(),r=this.getWidgetSubTitleFontFamily();else{if(n.isNullOrUndefined(this.currentTheme.widgets.chart.widgetHeader.subTitle.fontSettings.autoFontSettings)||this.currentTheme.widgets.chart.widgetHeader.subTitle.fontSettings.autoFontSettings)return"";t=n.isNullOrUndefined(this.currentTheme.widgets.chart.widgetHeader.subTitle.fontSettings.fontSize)||n.DashboardUtil.IsStringNullorWhiteSpace(this.currentTheme.widgets.chart.widgetHeader.subTitle.fontSettings.fontSize)?this.getWidgetSubTitleFontSize():this.currentTheme.widgets.chart.widgetHeader.subTitle.fontSettings.fontSize;i=n.isNullOrUndefined(this.currentTheme.widgets.chart.widgetHeader.subTitle.fontSettings.fontWeight)||n.DashboardUtil.IsStringNullorWhiteSpace(this.currentTheme.widgets.chart.widgetHeader.subTitle.fontSettings.fontWeight)?this.getWidgetSubTitleFontWeight():this.currentTheme.widgets.chart.widgetHeader.subTitle.fontSettings.fontWeight;r=n.isNullOrUndefined(this.currentTheme.widgets.chart.widgetHeader.subTitle.fontSettings.fontFamily)||n.DashboardUtil.IsStringNullorWhiteSpace(this.currentTheme.widgets.chart.widgetHeader.subTitle.fontSettings.fontFamily)?this.getWidgetSubTitleFontFamily():this.currentTheme.widgets.chart.widgetHeader.subTitle.fontSettings.fontFamily;this.updateFontSrcList(this.currentTheme.widgets.chart.widgetHeader.subTitle.fontSettings.fontFamily,this.currentTheme.widgets.chart.widgetHeader.subTitle.fontSettings.fontSrc)}return t=this.updateMaxValueIfSizeExceeds(t,MaximumFontValues.widgetSubTitle),this.getFontStyleCssValue(t,i,r)},t.prototype.getComboChartAxisTitleFontColor=function(){return n.isNullOrUndefined(this.currentTheme)||n.isNullOrUndefined(this.currentTheme.widgets)||n.isNullOrUndefined(this.currentTheme.widgets.comboChart)||n.isNullOrUndefined(this.currentTheme.widgets.comboChart.axis)||n.isNullOrUndefined(this.currentTheme.widgets.comboChart.axis.title)||n.isNullOrUndefined(this.currentTheme.widgets.comboChart.axis.title.font)||n.DashboardUtil.IsStringNullorWhiteSpace(this.currentTheme.widgets.comboChart.axis.title.font.color)?this.isDarkTypeTheme()?this.darkMode.widgets.comboChart.axis.title.font.color:this.lightMode.widgets.comboChart.axis.title.font.color:this.currentTheme.widgets.comboChart.axis.title.font.color},t.prototype.getComboChartAxisLabelFontColor=function(){return n.isNullOrUndefined(this.currentTheme)||n.isNullOrUndefined(this.currentTheme.widgets)||n.isNullOrUndefined(this.currentTheme.widgets.comboChart)||n.isNullOrUndefined(this.currentTheme.widgets.comboChart.axis)||n.isNullOrUndefined(this.currentTheme.widgets.comboChart.axis.label)||n.isNullOrUndefined(this.currentTheme.widgets.comboChart.axis.label.font)||n.DashboardUtil.IsStringNullorWhiteSpace(this.currentTheme.widgets.comboChart.axis.label.font.color)?this.isDarkTypeTheme()?this.darkMode.widgets.comboChart.axis.label.font.color:this.lightMode.widgets.comboChart.axis.label.font.color:this.currentTheme.widgets.comboChart.axis.label.font.color},t.prototype.getComboChartMajorGridLinesColor=function(){return n.isNullOrUndefined(this.currentTheme)||n.isNullOrUndefined(this.currentTheme.widgets)||n.isNullOrUndefined(this.currentTheme.widgets.comboChart)||n.isNullOrUndefined(this.currentTheme.widgets.comboChart.axis)||n.isNullOrUndefined(this.currentTheme.widgets.comboChart.axis.gridLines)||n.DashboardUtil.IsStringNullorWhiteSpace(this.currentTheme.widgets.comboChart.axis.gridLines.color)?this.isDarkTypeTheme()?this.darkMode.widgets.comboChart.axis.gridLines.color:this.lightMode.widgets.comboChart.axis.gridLines.color:this.currentTheme.widgets.comboChart.axis.gridLines.color},t.prototype.getComboChartMajorTickLinesColor=function(){return n.isNullOrUndefined(this.currentTheme)||n.isNullOrUndefined(this.currentTheme.widgets)||n.isNullOrUndefined(this.currentTheme.widgets.comboChart)||n.isNullOrUndefined(this.currentTheme.widgets.comboChart.axis)||n.isNullOrUndefined(this.currentTheme.widgets.comboChart.axis.tickLines)||n.DashboardUtil.IsStringNullorWhiteSpace(this.currentTheme.widgets.comboChart.axis.tickLines.color)?this.isDarkTypeTheme()?this.darkMode.widgets.comboChart.axis.tickLines.color:this.lightMode.widgets.comboChart.axis.tickLines.color:this.currentTheme.widgets.comboChart.axis.tickLines.color},t.prototype.getComboChartLegendFontColor=function(){return n.isNullOrUndefined(this.currentTheme)||n.isNullOrUndefined(this.currentTheme.widgets)||n.isNullOrUndefined(this.currentTheme.widgets.comboChart)||n.isNullOrUndefined(this.currentTheme.widgets.comboChart.legend)||n.isNullOrUndefined(this.currentTheme.widgets.comboChart.legend.font)||n.DashboardUtil.IsStringNullorWhiteSpace(this.currentTheme.widgets.comboChart.legend.font.color)?this.isDarkTypeTheme()?this.darkMode.widgets.comboChart.legend.font.color:this.lightMode.widgets.comboChart.legend.font.color:this.currentTheme.widgets.comboChart.legend.font.color},t.prototype.getComboChartDataLabelFontColor=function(){return n.isNullOrUndefined(this.currentTheme)||n.isNullOrUndefined(this.currentTheme.widgets)||n.isNullOrUndefined(this.currentTheme.widgets.comboChart)||n.isNullOrUndefined(this.currentTheme.widgets.comboChart.dataLabel)||n.isNullOrUndefined(this.currentTheme.widgets.comboChart.dataLabel.font)||n.DashboardUtil.IsStringNullorWhiteSpace(this.currentTheme.widgets.comboChart.dataLabel.font.color)?this.isDarkTypeTheme()?this.darkMode.widgets.comboChart.dataLabel.font.color:this.lightMode.widgets.comboChart.dataLabel.font.color:this.currentTheme.widgets.comboChart.dataLabel.font.color},t.prototype.getComboChartAxisTitleFont=function(){var t,i,r;return n.isNullOrUndefined(this.currentTheme)||n.isNullOrUndefined(this.currentTheme.widgets)||n.isNullOrUndefined(this.currentTheme.widgets.comboChart)||n.isNullOrUndefined(this.currentTheme.widgets.comboChart.axis)||n.isNullOrUndefined(this.currentTheme.widgets.comboChart.axis.title)||n.isNullOrUndefined(this.currentTheme.widgets.comboChart.axis.title.font)||n.isNullOrUndefined(this.currentTheme.widgets.comboChart.axis.title.font.fontSettings)?(t=this.getWidgetAxisTitleFontSize(),i=this.getWidgetAxisTitleFontWeight(),r=this.getWidgetAxisTitleFontFamily()):n.isNullOrUndefined(this.currentTheme.widgets.comboChart.axis.title.font.fontSettings.autoFontSettings)||this.currentTheme.widgets.comboChart.axis.title.font.fontSettings.autoFontSettings?(t=this.getWidgetAxisTitleFontSize(),i=this.getWidgetAxisTitleFontWeight(),r=this.getWidgetAxisTitleFontFamily()):(t=n.isNullOrUndefined(this.currentTheme.widgets.comboChart.axis.title.font.fontSettings.fontSize)||n.DashboardUtil.IsStringNullorWhiteSpace(this.currentTheme.widgets.comboChart.axis.title.font.fontSettings.fontSize)?this.getWidgetAxisTitleFontSize():this.currentTheme.widgets.comboChart.axis.title.font.fontSettings.fontSize,i=n.isNullOrUndefined(this.currentTheme.widgets.comboChart.axis.title.font.fontSettings.fontWeight)||n.DashboardUtil.IsStringNullorWhiteSpace(this.currentTheme.widgets.comboChart.axis.title.font.fontSettings.fontWeight)?this.getWidgetAxisTitleFontWeight():this.currentTheme.widgets.comboChart.axis.title.font.fontSettings.fontWeight,r=n.isNullOrUndefined(this.currentTheme.widgets.comboChart.axis.title.font.fontSettings.fontFamily)||n.DashboardUtil.IsStringNullorWhiteSpace(this.currentTheme.widgets.comboChart.axis.title.font.fontSettings.fontFamily)?this.getWidgetAxisTitleFontFamily():this.currentTheme.widgets.comboChart.axis.title.font.fontSettings.fontFamily,this.updateFontSrcList(this.currentTheme.widgets.comboChart.axis.title.font.fontSettings.fontFamily,this.currentTheme.widgets.comboChart.axis.title.font.fontSettings.fontSrc)),t=n.DashboardUtil.IsStringNullorWhiteSpace(t)?this.getFontSizeBasedOnResolution():t,i=n.DashboardUtil.IsStringNullorWhiteSpace(i)?"Bold":i,r=n.DashboardUtil.IsStringNullorWhiteSpace(r)?"var(--designer-font)":r,{size:t,weight:i,family:r}},t.prototype.getComboChartAxisLabelFont=function(){var t,i,r;return n.isNullOrUndefined(this.currentTheme)||n.isNullOrUndefined(this.currentTheme.widgets)||n.isNullOrUndefined(this.currentTheme.widgets.comboChart)||n.isNullOrUndefined(this.currentTheme.widgets.comboChart.axis)||n.isNullOrUndefined(this.currentTheme.widgets.comboChart.axis.label)||n.isNullOrUndefined(this.currentTheme.widgets.comboChart.axis.label.font)||n.isNullOrUndefined(this.currentTheme.widgets.comboChart.axis.label.font.fontSettings)?(t=this.getWidgetAxisLabelFontSize(),i=this.getWidgetAxisLabelFontWeight(),r=this.getWidgetAxisLabelFontFamily()):n.isNullOrUndefined(this.currentTheme.widgets.comboChart.axis.label.font.fontSettings.autoFontSettings)||this.currentTheme.widgets.comboChart.axis.label.font.fontSettings.autoFontSettings?(t=this.getWidgetAxisLabelFontSize(),i=this.getWidgetAxisLabelFontWeight(),r=this.getWidgetAxisLabelFontFamily()):(t=n.isNullOrUndefined(this.currentTheme.widgets.comboChart.axis.label.font.fontSettings.fontSize)||n.DashboardUtil.IsStringNullorWhiteSpace(this.currentTheme.widgets.comboChart.axis.label.font.fontSettings.fontSize)?this.getWidgetAxisLabelFontSize():this.currentTheme.widgets.comboChart.axis.label.font.fontSettings.fontSize,i=n.isNullOrUndefined(this.currentTheme.widgets.comboChart.axis.label.font.fontSettings.fontWeight)||n.DashboardUtil.IsStringNullorWhiteSpace(this.currentTheme.widgets.comboChart.axis.label.font.fontSettings.fontWeight)?this.getWidgetAxisLabelFontWeight():this.currentTheme.widgets.comboChart.axis.label.font.fontSettings.fontWeight,r=n.isNullOrUndefined(this.currentTheme.widgets.comboChart.axis.label.font.fontSettings.fontFamily)||n.DashboardUtil.IsStringNullorWhiteSpace(this.currentTheme.widgets.comboChart.axis.label.font.fontSettings.fontFamily)?this.getWidgetAxisLabelFontFamily():this.currentTheme.widgets.comboChart.axis.label.font.fontSettings.fontFamily,this.updateFontSrcList(this.currentTheme.widgets.comboChart.axis.label.font.fontSettings.fontFamily,this.currentTheme.widgets.comboChart.axis.label.font.fontSettings.fontSrc)),t=n.DashboardUtil.IsStringNullorWhiteSpace(t)?this.getFontSizeBasedOnResolution():t,i=n.DashboardUtil.IsStringNullorWhiteSpace(i)?"Regular":i,r=n.DashboardUtil.IsStringNullorWhiteSpace(r)?"var(--designer-font)":r,{size:t,weight:i,family:r}},t.prototype.getComboChartDataLabelFont=function(){var t,i,r;return n.isNullOrUndefined(this.currentTheme)||n.isNullOrUndefined(this.currentTheme.widgets)||n.isNullOrUndefined(this.currentTheme.widgets.comboChart)||n.isNullOrUndefined(this.currentTheme.widgets.comboChart.dataLabel)||n.isNullOrUndefined(this.currentTheme.widgets.comboChart.dataLabel.font)||n.isNullOrUndefined(this.currentTheme.widgets.comboChart.dataLabel.font.fontSettings)?(t=this.getWidgetDataLabelFontSize(),i=this.getWidgetDataLabelFontWeight(),r=this.getWidgetDataLabelFontFamily()):n.isNullOrUndefined(this.currentTheme.widgets.comboChart.dataLabel.font.fontSettings.autoFontSettings)||this.currentTheme.widgets.comboChart.dataLabel.font.fontSettings.autoFontSettings?(t=this.getWidgetDataLabelFontSize(),i=this.getWidgetDataLabelFontWeight(),r=this.getWidgetDataLabelFontFamily()):(t=n.isNullOrUndefined(this.currentTheme.widgets.comboChart.dataLabel.font.fontSettings.fontSize)||n.DashboardUtil.IsStringNullorWhiteSpace(this.currentTheme.widgets.comboChart.dataLabel.font.fontSettings.fontSize)?this.getWidgetDataLabelFontSize():this.currentTheme.widgets.comboChart.dataLabel.font.fontSettings.fontSize,i=n.isNullOrUndefined(this.currentTheme.widgets.comboChart.dataLabel.font.fontSettings.fontWeight)||n.DashboardUtil.IsStringNullorWhiteSpace(this.currentTheme.widgets.comboChart.dataLabel.font.fontSettings.fontWeight)?this.getWidgetDataLabelFontWeight():this.currentTheme.widgets.comboChart.dataLabel.font.fontSettings.fontWeight,r=n.isNullOrUndefined(this.currentTheme.widgets.comboChart.dataLabel.font.fontSettings.fontFamily)||n.DashboardUtil.IsStringNullorWhiteSpace(this.currentTheme.widgets.comboChart.dataLabel.font.fontSettings.fontFamily)?this.getWidgetDataLabelFontFamily():this.currentTheme.widgets.comboChart.dataLabel.font.fontSettings.fontFamily,this.updateFontSrcList(this.currentTheme.widgets.comboChart.dataLabel.font.fontSettings.fontFamily,this.currentTheme.widgets.comboChart.dataLabel.font.fontSettings.fontSrc)),t=n.DashboardUtil.IsStringNullorWhiteSpace(t)?this.getFontSizeBasedOnResolution():t,i=n.DashboardUtil.IsStringNullorWhiteSpace(i)?"Regular":i,r=n.DashboardUtil.IsStringNullorWhiteSpace(r)?"var(--designer-font)":r,{size:t,weight:i,family:r}},t.prototype.getComboChartLegendFont=function(){var t,i,r;return n.isNullOrUndefined(this.currentTheme)||n.isNullOrUndefined(this.currentTheme.widgets)||n.isNullOrUndefined(this.currentTheme.widgets.comboChart)||n.isNullOrUndefined(this.currentTheme.widgets.comboChart.legend)||n.isNullOrUndefined(this.currentTheme.widgets.comboChart.legend.font)||n.isNullOrUndefined(this.currentTheme.widgets.comboChart.legend.font.fontSettings)?(t=this.getWidgetLegendFontSize(),i=this.getWidgetLegendFontWeight(),r=this.getWidgetLegendFontFamily()):n.isNullOrUndefined(this.currentTheme.widgets.comboChart.legend.font.fontSettings.autoFontSettings)||this.currentTheme.widgets.comboChart.legend.font.fontSettings.autoFontSettings?(t=this.getWidgetLegendFontSize(),i=this.getWidgetLegendFontWeight(),r=this.getWidgetLegendFontFamily()):(t=n.isNullOrUndefined(this.currentTheme.widgets.comboChart.legend.font.fontSettings.fontSize)||n.DashboardUtil.IsStringNullorWhiteSpace(this.currentTheme.widgets.comboChart.legend.font.fontSettings.fontSize)?this.getWidgetLegendFontSize():this.currentTheme.widgets.comboChart.legend.font.fontSettings.fontSize,i=n.isNullOrUndefined(this.currentTheme.widgets.comboChart.legend.font.fontSettings.fontWeight)||n.DashboardUtil.IsStringNullorWhiteSpace(this.currentTheme.widgets.comboChart.legend.font.fontSettings.fontWeight)?this.getWidgetLegendFontWeight():this.currentTheme.widgets.comboChart.legend.font.fontSettings.fontWeight,r=n.isNullOrUndefined(this.currentTheme.widgets.comboChart.legend.font.fontSettings.fontFamily)||n.DashboardUtil.IsStringNullorWhiteSpace(this.currentTheme.widgets.comboChart.legend.font.fontSettings.fontFamily)?this.getWidgetLegendFontFamily():this.currentTheme.widgets.comboChart.legend.font.fontSettings.fontFamily,this.updateFontSrcList(this.currentTheme.widgets.comboChart.legend.font.fontSettings.fontFamily,this.currentTheme.widgets.comboChart.legend.font.fontSettings.fontSrc)),t=n.DashboardUtil.IsStringNullorWhiteSpace(t)?this.getFontSizeBasedOnResolution():t,i=n.DashboardUtil.IsStringNullorWhiteSpace(i)?"500":i,r=n.DashboardUtil.IsStringNullorWhiteSpace(r)?"var(--designer-font)":r,{size:t,weight:i,family:r}},t.prototype.getComboChartLegendTitleFont=function(){var t,i,r;return n.isNullOrUndefined(this.currentTheme)||n.isNullOrUndefined(this.currentTheme.widgets)||n.isNullOrUndefined(this.currentTheme.widgets.comboChart)||n.isNullOrUndefined(this.currentTheme.widgets.comboChart.legendTitle)||n.isNullOrUndefined(this.currentTheme.widgets.comboChart.legendTitle.title)||n.isNullOrUndefined(this.currentTheme.widgets.comboChart.legendTitle.title.font)||n.isNullOrUndefined(this.currentTheme.widgets.comboChart.legendTitle.title.font.fontSettings)?(t=this.getWidgetLegendFontSize(),i=this.getWidgetLegendFontWeight(),r=this.getWidgetLegendFontFamily()):n.isNullOrUndefined(this.currentTheme.widgets.comboChart.legendTitle.title.font.fontSettings.autoFontSettings)||this.currentTheme.widgets.comboChart.legendTitle.title.font.fontSettings.autoFontSettings?(t=this.getWidgetLegendFontSize(),i=this.getWidgetLegendFontWeight(),r=this.getWidgetLegendFontFamily()):(t=n.isNullOrUndefined(this.currentTheme.widgets.comboChart.legendTitle.title.font.fontSettings.fontSize)||n.DashboardUtil.IsStringNullorWhiteSpace(this.currentTheme.widgets.comboChart.legendTitle.title.font.fontSettings.fontSize)?this.getWidgetLegendFontSize():this.currentTheme.widgets.comboChart.legendTitle.title.font.fontSettings.fontSize,i=n.isNullOrUndefined(this.currentTheme.widgets.comboChart.legendTitle.title.font.fontSettings.fontWeight)||n.DashboardUtil.IsStringNullorWhiteSpace(this.currentTheme.widgets.comboChart.legendTitle.title.font.fontSettings.fontWeight)?this.getWidgetLegendFontWeight():this.currentTheme.widgets.comboChart.legendTitle.title.font.fontSettings.fontWeight,r=n.isNullOrUndefined(this.currentTheme.widgets.comboChart.legendTitle.title.font.fontSettings.fontFamily)||n.DashboardUtil.IsStringNullorWhiteSpace(this.currentTheme.widgets.comboChart.legendTitle.title.font.fontSettings.fontFamily)?this.getWidgetLegendFontFamily():this.currentTheme.widgets.comboChart.legendTitle.title.font.fontSettings.fontFamily,this.updateFontSrcList(this.currentTheme.widgets.comboChart.legendTitle.title.font.fontSettings.fontFamily,this.currentTheme.widgets.comboChart.legendTitle.title.font.fontSettings.fontSrc)),t=n.DashboardUtil.IsStringNullorWhiteSpace(t)?this.getFontSizeBasedOnResolution():t,i=n.DashboardUtil.IsStringNullorWhiteSpace(i)?"500":i,r=n.DashboardUtil.IsStringNullorWhiteSpace(r)?"var(--designer-font)":r,{size:t,weight:i,family:r}},t.prototype.getComboChartHeaderTitle=function(){var t,i,r;if(n.isNullOrUndefined(this.currentTheme)||n.isNullOrUndefined(this.currentTheme.widgets)||n.isNullOrUndefined(this.currentTheme.widgets.comboChart)||n.isNullOrUndefined(this.currentTheme.widgets.comboChart.widgetHeader)||n.isNullOrUndefined(this.currentTheme.widgets.comboChart.widgetHeader.title)||n.isNullOrUndefined(this.currentTheme.widgets.comboChart.widgetHeader.title.fontSettings))t=this.getWidgetTitleFontSize(),i=this.getWidgetTitleFontWeight(),r=this.getWidgetTitleFontFamily();else{if(n.isNullOrUndefined(this.currentTheme.widgets.comboChart.widgetHeader.title.fontSettings.autoFontSettings)||this.currentTheme.widgets.comboChart.widgetHeader.title.fontSettings.autoFontSettings)return"";t=n.isNullOrUndefined(this.currentTheme.widgets.comboChart.widgetHeader.title.fontSettings.fontSize)||n.DashboardUtil.IsStringNullorWhiteSpace(this.currentTheme.widgets.comboChart.widgetHeader.title.fontSettings.fontSize)?this.getWidgetTitleFontSize():this.currentTheme.widgets.comboChart.widgetHeader.title.fontSettings.fontSize;i=n.isNullOrUndefined(this.currentTheme.widgets.comboChart.widgetHeader.title.fontSettings.fontWeight)||n.DashboardUtil.IsStringNullorWhiteSpace(this.currentTheme.widgets.comboChart.widgetHeader.title.fontSettings.fontWeight)?this.getWidgetTitleFontWeight():this.currentTheme.widgets.comboChart.widgetHeader.title.fontSettings.fontWeight;r=n.isNullOrUndefined(this.currentTheme.widgets.comboChart.widgetHeader.title.fontSettings.fontFamily)||n.DashboardUtil.IsStringNullorWhiteSpace(this.currentTheme.widgets.comboChart.widgetHeader.title.fontSettings.fontFamily)?this.getWidgetTitleFontFamily():this.currentTheme.widgets.comboChart.widgetHeader.title.fontSettings.fontFamily;this.updateFontSrcList(this.currentTheme.widgets.comboChart.widgetHeader.title.fontSettings.fontFamily,this.currentTheme.widgets.comboChart.widgetHeader.title.fontSettings.fontSrc)}return t=this.updateMaxValueIfSizeExceeds(t,MaximumFontValues.widgetTitle),this.getFontStyleCssValue(t,i,r)},t.prototype.getComboChartHeaderSubTitle=function(){var t,i,r;if(n.isNullOrUndefined(this.currentTheme)||n.isNullOrUndefined(this.currentTheme.widgets)||n.isNullOrUndefined(this.currentTheme.widgets.comboChart)||n.isNullOrUndefined(this.currentTheme.widgets.comboChart.widgetHeader)||n.isNullOrUndefined(this.currentTheme.widgets.comboChart.widgetHeader.subTitle)||n.isNullOrUndefined(this.currentTheme.widgets.comboChart.widgetHeader.subTitle.fontSettings))t=this.getWidgetSubTitleFontSize(),i=this.getWidgetSubTitleFontWeight(),r=this.getWidgetSubTitleFontFamily();else{if(n.isNullOrUndefined(this.currentTheme.widgets.comboChart.widgetHeader.subTitle.fontSettings.autoFontSettings)||this.currentTheme.widgets.comboChart.widgetHeader.subTitle.fontSettings.autoFontSettings)return"";t=n.isNullOrUndefined(this.currentTheme.widgets.comboChart.widgetHeader.subTitle.fontSettings.fontSize)||n.DashboardUtil.IsStringNullorWhiteSpace(this.currentTheme.widgets.comboChart.widgetHeader.subTitle.fontSettings.fontSize)?this.getWidgetSubTitleFontSize():this.currentTheme.widgets.comboChart.widgetHeader.subTitle.fontSettings.fontSize;i=n.isNullOrUndefined(this.currentTheme.widgets.comboChart.widgetHeader.subTitle.fontSettings.fontWeight)||n.DashboardUtil.IsStringNullorWhiteSpace(this.currentTheme.widgets.comboChart.widgetHeader.subTitle.fontSettings.fontWeight)?this.getWidgetSubTitleFontWeight():this.currentTheme.widgets.comboChart.widgetHeader.subTitle.fontSettings.fontWeight;r=n.isNullOrUndefined(this.currentTheme.widgets.comboChart.widgetHeader.subTitle.fontSettings.fontFamily)||n.DashboardUtil.IsStringNullorWhiteSpace(this.currentTheme.widgets.comboChart.widgetHeader.subTitle.fontSettings.fontFamily)?this.getWidgetSubTitleFontFamily():this.currentTheme.widgets.comboChart.widgetHeader.subTitle.fontSettings.fontFamily;this.updateFontSrcList(this.currentTheme.widgets.comboChart.widgetHeader.subTitle.fontSettings.fontFamily,this.currentTheme.widgets.comboChart.widgetHeader.subTitle.fontSettings.fontSrc)}return t=this.updateMaxValueIfSizeExceeds(t,MaximumFontValues.widgetSubTitle),this.getFontStyleCssValue(t,i,r)},t.prototype.getRadarPolarAxisLabelFontColor=function(){return n.isNullOrUndefined(this.currentTheme)||n.isNullOrUndefined(this.currentTheme.widgets)||n.isNullOrUndefined(this.currentTheme.widgets.radarPolar)||n.isNullOrUndefined(this.currentTheme.widgets.radarPolar.axis)||n.isNullOrUndefined(this.currentTheme.widgets.radarPolar.axis.label)||n.isNullOrUndefined(this.currentTheme.widgets.radarPolar.axis.label.font)||n.DashboardUtil.IsStringNullorWhiteSpace(this.currentTheme.widgets.radarPolar.axis.label.font.color)?this.isDarkTypeTheme()?this.darkMode.widgets.radarPolar.axis.label.font.color:this.lightMode.widgets.radarPolar.axis.label.font.color:this.currentTheme.widgets.radarPolar.axis.label.font.color},t.prototype.getRadarPolarMajorGridLinesColor=function(){return n.isNullOrUndefined(this.currentTheme)||n.isNullOrUndefined(this.currentTheme.widgets)||n.isNullOrUndefined(this.currentTheme.widgets.radarPolar)||n.isNullOrUndefined(this.currentTheme.widgets.radarPolar.axis)||n.isNullOrUndefined(this.currentTheme.widgets.radarPolar.axis.gridLines)||n.DashboardUtil.IsStringNullorWhiteSpace(this.currentTheme.widgets.radarPolar.axis.gridLines.color)?this.isDarkTypeTheme()?this.darkMode.widgets.radarPolar.axis.gridLines.color:this.lightMode.widgets.radarPolar.axis.gridLines.color:this.currentTheme.widgets.radarPolar.axis.gridLines.color},t.prototype.getRadarPolarMajorTickLinesColor=function(){return n.isNullOrUndefined(this.currentTheme)||n.isNullOrUndefined(this.currentTheme.widgets)||n.isNullOrUndefined(this.currentTheme.widgets.radarPolar)||n.isNullOrUndefined(this.currentTheme.widgets.radarPolar.axis)||n.isNullOrUndefined(this.currentTheme.widgets.radarPolar.axis.tickLines)||n.DashboardUtil.IsStringNullorWhiteSpace(this.currentTheme.widgets.radarPolar.axis.tickLines.color)?this.isDarkTypeTheme()?this.darkMode.widgets.radarPolar.axis.tickLines.color:this.lightMode.widgets.radarPolar.axis.tickLines.color:this.currentTheme.widgets.radarPolar.axis.tickLines.color},t.prototype.getRadarPolarLegendFontColor=function(){return n.isNullOrUndefined(this.currentTheme)||n.isNullOrUndefined(this.currentTheme.widgets)||n.isNullOrUndefined(this.currentTheme.widgets.radarPolar)||n.isNullOrUndefined(this.currentTheme.widgets.radarPolar.legend)||n.isNullOrUndefined(this.currentTheme.widgets.radarPolar.legend.font)||n.DashboardUtil.IsStringNullorWhiteSpace(this.currentTheme.widgets.radarPolar.legend.font.color)?this.isDarkTypeTheme()?this.darkMode.widgets.radarPolar.legend.font.color:this.lightMode.widgets.radarPolar.legend.font.color:this.currentTheme.widgets.radarPolar.legend.font.color},t.prototype.getRadarPolarDataLabelFontColor=function(){return n.isNullOrUndefined(this.currentTheme)||n.isNullOrUndefined(this.currentTheme.widgets)||n.isNullOrUndefined(this.currentTheme.widgets.radarPolar)||n.isNullOrUndefined(this.currentTheme.widgets.radarPolar.dataLabel)||n.isNullOrUndefined(this.currentTheme.widgets.radarPolar.dataLabel.font)||n.DashboardUtil.IsStringNullorWhiteSpace(this.currentTheme.widgets.radarPolar.dataLabel.font.color)?this.isDarkTypeTheme()?this.darkMode.widgets.radarPolar.dataLabel.font.color:this.lightMode.widgets.radarPolar.dataLabel.font.color:this.currentTheme.widgets.radarPolar.dataLabel.font.color},t.prototype.getRadarPolarAxisLabelFont=function(){var t=this.getWidgetAxisLabelFontSize(),i=this.getWidgetAxisLabelFontWeight(),r=this.getWidgetAxisLabelFontFamily();return n.isNullOrUndefined(this.currentTheme)||n.isNullOrUndefined(this.currentTheme.widgets)||n.isNullOrUndefined(this.currentTheme.widgets.radarPolar)||n.isNullOrUndefined(this.currentTheme.widgets.radarPolar.axis)||n.isNullOrUndefined(this.currentTheme.widgets.radarPolar.axis.label)||n.isNullOrUndefined(this.currentTheme.widgets.radarPolar.axis.label.font)||n.isNullOrUndefined(this.currentTheme.widgets.radarPolar.axis.label.font.fontSettings)||n.isNullOrUndefined(this.currentTheme.widgets.radarPolar.axis.label.font.fontSettings.autoFontSettings)||this.currentTheme.widgets.radarPolar.axis.label.font.fontSettings.autoFontSettings||(t=n.isNullOrUndefined(this.currentTheme.widgets.radarPolar.axis.label.font.fontSettings.fontSize)||n.DashboardUtil.IsStringNullorWhiteSpace(this.currentTheme.widgets.radarPolar.axis.label.font.fontSettings.fontSize)?t:this.currentTheme.widgets.radarPolar.axis.label.font.fontSettings.fontSize,i=n.isNullOrUndefined(this.currentTheme.widgets.radarPolar.axis.label.font.fontSettings.fontWeight)||n.DashboardUtil.IsStringNullorWhiteSpace(this.currentTheme.widgets.radarPolar.axis.label.font.fontSettings.fontWeight)?i:this.currentTheme.widgets.radarPolar.axis.label.font.fontSettings.fontWeight,r=n.isNullOrUndefined(this.currentTheme.widgets.radarPolar.axis.label.font.fontSettings.fontFamily)||n.DashboardUtil.IsStringNullorWhiteSpace(this.currentTheme.widgets.radarPolar.axis.label.font.fontSettings.fontFamily)?r:this.currentTheme.widgets.radarPolar.axis.label.font.fontSettings.fontFamily,this.updateFontSrcList(this.currentTheme.widgets.radarPolar.axis.label.font.fontSettings.fontFamily,this.currentTheme.widgets.radarPolar.axis.label.font.fontSettings.fontSrc)),t=n.DashboardUtil.IsStringNullorWhiteSpace(t)?this.getFontSizeBasedOnResolution():t,i=n.DashboardUtil.IsStringNullorWhiteSpace(i)?"Regular":i,r=n.DashboardUtil.IsStringNullorWhiteSpace(r)?"var(--designer-font)":r,{size:t,weight:i,family:r}},t.prototype.getRadarPolarDataLabelFont=function(){var t=this.getWidgetDataLabelFontSize(),i=this.getWidgetDataLabelFontWeight(),r=this.getWidgetDataLabelFontFamily();return n.isNullOrUndefined(this.currentTheme)||n.isNullOrUndefined(this.currentTheme.widgets)||n.isNullOrUndefined(this.currentTheme.widgets.radarPolar)||n.isNullOrUndefined(this.currentTheme.widgets.radarPolar.dataLabel)||n.isNullOrUndefined(this.currentTheme.widgets.radarPolar.dataLabel.font)||n.isNullOrUndefined(this.currentTheme.widgets.radarPolar.dataLabel.font.fontSettings)||n.isNullOrUndefined(this.currentTheme.widgets.radarPolar.dataLabel.font.fontSettings.autoFontSettings)||this.currentTheme.widgets.radarPolar.dataLabel.font.fontSettings.autoFontSettings||(t=n.isNullOrUndefined(this.currentTheme.widgets.radarPolar.dataLabel.font.fontSettings.fontSize)||n.DashboardUtil.IsStringNullorWhiteSpace(this.currentTheme.widgets.radarPolar.dataLabel.font.fontSettings.fontSize)?t:this.currentTheme.widgets.radarPolar.dataLabel.font.fontSettings.fontSize,i=n.isNullOrUndefined(this.currentTheme.widgets.radarPolar.dataLabel.font.fontSettings.fontWeight)||n.DashboardUtil.IsStringNullorWhiteSpace(this.currentTheme.widgets.radarPolar.dataLabel.font.fontSettings.fontWeight)?i:this.currentTheme.widgets.radarPolar.dataLabel.font.fontSettings.fontWeight,r=n.isNullOrUndefined(this.currentTheme.widgets.radarPolar.dataLabel.font.fontSettings.fontFamily)||n.DashboardUtil.IsStringNullorWhiteSpace(this.currentTheme.widgets.radarPolar.dataLabel.font.fontSettings.fontFamily)?r:this.currentTheme.widgets.radarPolar.dataLabel.font.fontSettings.fontFamily,this.updateFontSrcList(this.currentTheme.widgets.radarPolar.dataLabel.font.fontSettings.fontFamily,this.currentTheme.widgets.radarPolar.dataLabel.font.fontSettings.fontSrc)),t=n.DashboardUtil.IsStringNullorWhiteSpace(t)?this.getFontSizeBasedOnResolution():t,i=n.DashboardUtil.IsStringNullorWhiteSpace(i)?"Regular":i,r=n.DashboardUtil.IsStringNullorWhiteSpace(r)?"var(--designer-font)":r,{size:t,weight:i,family:r}},t.prototype.getRadarPolarLegendFont=function(){var t=this.getWidgetLegendFontSize(),i=this.getWidgetLegendFontWeight(),r=this.getWidgetLegendFontFamily();return n.isNullOrUndefined(this.currentTheme)||n.isNullOrUndefined(this.currentTheme.widgets)||n.isNullOrUndefined(this.currentTheme.widgets.radarPolar)||n.isNullOrUndefined(this.currentTheme.widgets.radarPolar.legend)||n.isNullOrUndefined(this.currentTheme.widgets.radarPolar.legend.font)||n.isNullOrUndefined(this.currentTheme.widgets.radarPolar.legend.font.fontSettings)||n.isNullOrUndefined(this.currentTheme.widgets.radarPolar.legend.font.fontSettings.autoFontSettings)||this.currentTheme.widgets.radarPolar.legend.font.fontSettings.autoFontSettings||(t=n.isNullOrUndefined(this.currentTheme.widgets.radarPolar.legend.font.fontSettings.fontSize)||n.DashboardUtil.IsStringNullorWhiteSpace(this.currentTheme.widgets.radarPolar.legend.font.fontSettings.fontSize)?t:this.currentTheme.widgets.radarPolar.legend.font.fontSettings.fontSize,i=n.isNullOrUndefined(this.currentTheme.widgets.radarPolar.legend.font.fontSettings.fontWeight)||n.DashboardUtil.IsStringNullorWhiteSpace(this.currentTheme.widgets.radarPolar.legend.font.fontSettings.fontWeight)?i:this.currentTheme.widgets.radarPolar.legend.font.fontSettings.fontWeight,r=n.isNullOrUndefined(this.currentTheme.widgets.radarPolar.legend.font.fontSettings.fontFamily)||n.DashboardUtil.IsStringNullorWhiteSpace(this.currentTheme.widgets.radarPolar.legend.font.fontSettings.fontFamily)?r:this.currentTheme.widgets.radarPolar.legend.font.fontSettings.fontFamily,this.updateFontSrcList(this.currentTheme.widgets.radarPolar.legend.font.fontSettings.fontFamily,this.currentTheme.widgets.radarPolar.legend.font.fontSettings.fontSrc)),t=n.DashboardUtil.IsStringNullorWhiteSpace(t)?this.getFontSizeBasedOnResolution():t,i=n.DashboardUtil.IsStringNullorWhiteSpace(i)?"500":i,r=n.DashboardUtil.IsStringNullorWhiteSpace(r)?"var(--designer-font)":r,{size:t,weight:i,family:r}},t.prototype.getRadarPolarHeaderTitle=function(){var t,i,r;if(n.isNullOrUndefined(this.currentTheme)||n.isNullOrUndefined(this.currentTheme.widgets)||n.isNullOrUndefined(this.currentTheme.widgets.radarPolar)||n.isNullOrUndefined(this.currentTheme.widgets.radarPolar.widgetHeader)||n.isNullOrUndefined(this.currentTheme.widgets.radarPolar.widgetHeader.title)||n.isNullOrUndefined(this.currentTheme.widgets.radarPolar.widgetHeader.title.fontSettings))t=this.getWidgetTitleFontSize(),i=this.getWidgetTitleFontWeight(),r=this.getWidgetTitleFontFamily();else{if(n.isNullOrUndefined(this.currentTheme.widgets.radarPolar.widgetHeader.title.fontSettings.autoFontSettings)||this.currentTheme.widgets.radarPolar.widgetHeader.title.fontSettings.autoFontSettings)return"";t=n.isNullOrUndefined(this.currentTheme.widgets.radarPolar.widgetHeader.title.fontSettings.fontSize)||n.DashboardUtil.IsStringNullorWhiteSpace(this.currentTheme.widgets.radarPolar.widgetHeader.title.fontSettings.fontSize)?this.getWidgetTitleFontSize():this.currentTheme.widgets.radarPolar.widgetHeader.title.fontSettings.fontSize;i=n.isNullOrUndefined(this.currentTheme.widgets.radarPolar.widgetHeader.title.fontSettings.fontWeight)||n.DashboardUtil.IsStringNullorWhiteSpace(this.currentTheme.widgets.radarPolar.widgetHeader.title.fontSettings.fontWeight)?this.getWidgetTitleFontWeight():this.currentTheme.widgets.radarPolar.widgetHeader.title.fontSettings.fontWeight;r=n.isNullOrUndefined(this.currentTheme.widgets.radarPolar.widgetHeader.title.fontSettings.fontFamily)||n.DashboardUtil.IsStringNullorWhiteSpace(this.currentTheme.widgets.radarPolar.widgetHeader.title.fontSettings.fontFamily)?this.getWidgetTitleFontFamily():this.currentTheme.widgets.radarPolar.widgetHeader.title.fontSettings.fontFamily;this.updateFontSrcList(this.currentTheme.widgets.radarPolar.widgetHeader.title.fontSettings.fontFamily,this.currentTheme.widgets.radarPolar.widgetHeader.title.fontSettings.fontSrc)}return t=this.updateMaxValueIfSizeExceeds(t,MaximumFontValues.widgetTitle),this.getFontStyleCssValue(t,i,r)},t.prototype.getRadarPolarHeaderSubTitle=function(){var t,i,r;if(n.isNullOrUndefined(this.currentTheme)||n.isNullOrUndefined(this.currentTheme.widgets)||n.isNullOrUndefined(this.currentTheme.widgets.radarPolar)||n.isNullOrUndefined(this.currentTheme.widgets.radarPolar.widgetHeader)||n.isNullOrUndefined(this.currentTheme.widgets.radarPolar.widgetHeader.subTitle)||n.isNullOrUndefined(this.currentTheme.widgets.radarPolar.widgetHeader.subTitle.fontSettings))t=this.getWidgetSubTitleFontSize(),i=this.getWidgetSubTitleFontWeight(),r=this.getWidgetSubTitleFontFamily();else{if(n.isNullOrUndefined(this.currentTheme.widgets.radarPolar.widgetHeader.subTitle.fontSettings.autoFontSettings)||this.currentTheme.widgets.radarPolar.widgetHeader.subTitle.fontSettings.autoFontSettings)return"";t=n.isNullOrUndefined(this.currentTheme.widgets.radarPolar.widgetHeader.subTitle.fontSettings.fontSize)||n.DashboardUtil.IsStringNullorWhiteSpace(this.currentTheme.widgets.radarPolar.widgetHeader.subTitle.fontSettings.fontSize)?this.getWidgetSubTitleFontSize():this.currentTheme.widgets.radarPolar.widgetHeader.subTitle.fontSettings.fontSize;i=n.isNullOrUndefined(this.currentTheme.widgets.radarPolar.widgetHeader.subTitle.fontSettings.fontWeight)||n.DashboardUtil.IsStringNullorWhiteSpace(this.currentTheme.widgets.radarPolar.widgetHeader.subTitle.fontSettings.fontWeight)?this.getWidgetSubTitleFontWeight():this.currentTheme.widgets.radarPolar.widgetHeader.subTitle.fontSettings.fontWeight;r=n.isNullOrUndefined(this.currentTheme.widgets.radarPolar.widgetHeader.subTitle.fontSettings.fontFamily)||n.DashboardUtil.IsStringNullorWhiteSpace(this.currentTheme.widgets.radarPolar.widgetHeader.subTitle.fontSettings.fontFamily)?this.getWidgetSubTitleFontFamily():this.currentTheme.widgets.radarPolar.widgetHeader.subTitle.fontSettings.fontFamily;this.updateFontSrcList(this.currentTheme.widgets.radarPolar.widgetHeader.subTitle.fontSettings.fontFamily,this.currentTheme.widgets.radarPolar.widgetHeader.subTitle.fontSettings.fontSrc)}return t=this.updateMaxValueIfSizeExceeds(t,MaximumFontValues.widgetSubTitle),this.getFontStyleCssValue(t,i,r)},t.prototype.getRTEContentStyle=function(){var i,r,u,t;if(!n.isNullOrUndefined(this.currentTheme)&&!n.isNullOrUndefined(this.currentTheme.widgets)&&!n.isNullOrUndefined(this.currentTheme.widgets.rte)&&!n.isNullOrUndefined(this.currentTheme.widgets.rte.content)&&!n.isNullOrUndefined(this.currentTheme.widgets.rte.content.fontSettings))return n.isNullOrUndefined(this.currentTheme.widgets.rte.content.fontSettings.autoFontSettings)||this.currentTheme.widgets.rte.content.fontSettings.autoFontSettings?"":(i=this.currentTheme.widgets.rte.content.fontSettings.fontFamily,r=this.currentTheme.widgets.rte.content.fontSettings.fontSrc,n.isNullOrUndefined(i)||n.DashboardUtil.IsStringNullorWhiteSpace(i)||n.isNullOrUndefined(r)||n.DashboardUtil.IsStringNullorWhiteSpace(r)||(u=this.dashboardDesigner._id+"_RTECustomThemeFontSrc",t="<style id = "+u+" >\n",this.bbdesigner$("#"+u).remove(),t=t+"\n@font-face {\n\tfont-family: '"+i+"';\n\tsrc: "+r+";}\n",t=t+"<\/style>",this.bbdesigner$(t).prependTo("head")),this.currentTheme.widgets.rte.content.fontSettings)},t.prototype.getRTEFontColor=function(){return n.isNullOrUndefined(this.currentTheme)||n.isNullOrUndefined(this.currentTheme.widgets)||n.isNullOrUndefined(this.currentTheme.widgets.rte)||n.isNullOrUndefined(this.currentTheme.widgets.rte.content)||n.DashboardUtil.IsStringNullorWhiteSpace(this.currentTheme.widgets.rte.content.color)?this.isDarkTypeTheme()?this.darkMode.widgets.rte.content.color:this.lightMode.widgets.rte.content.color:this.currentTheme.widgets.rte.content.color},t.prototype.getBubbleScatterMajorGridLinesColor=function(){return n.isNullOrUndefined(this.currentTheme)||n.isNullOrUndefined(this.currentTheme.widgets)||n.isNullOrUndefined(this.currentTheme.widgets.bubbleScatter)||n.isNullOrUndefined(this.currentTheme.widgets.bubbleScatter.axis)||n.isNullOrUndefined(this.currentTheme.widgets.bubbleScatter.axis.gridLines)||n.DashboardUtil.IsStringNullorWhiteSpace(this.currentTheme.widgets.bubbleScatter.axis.gridLines.color)?this.isDarkTypeTheme()?this.darkMode.widgets.bubbleScatter.axis.gridLines.color:this.lightMode.widgets.bubbleScatter.axis.gridLines.color:this.currentTheme.widgets.bubbleScatter.axis.gridLines.color},t.prototype.getBubbleScatterTitleFontColor=function(){return n.isNullOrUndefined(this.currentTheme)||n.isNullOrUndefined(this.currentTheme.widgets)||n.isNullOrUndefined(this.currentTheme.widgets.bubbleScatter)||n.isNullOrUndefined(this.currentTheme.widgets.bubbleScatter.axis)||n.isNullOrUndefined(this.currentTheme.widgets.bubbleScatter.axis.title)||n.isNullOrUndefined(this.currentTheme.widgets.bubbleScatter.axis.title.font)||n.DashboardUtil.IsStringNullorWhiteSpace(this.currentTheme.widgets.bubbleScatter.axis.title.font.color)?this.isDarkTypeTheme()?this.darkMode.widgets.bubbleScatter.axis.title.font.color:this.lightMode.widgets.bubbleScatter.axis.title.font.color:this.currentTheme.widgets.bubbleScatter.axis.title.font.color},t.prototype.getBubbleScatterAxisTitleFont=function(){var t,i,r;return n.isNullOrUndefined(this.currentTheme)||n.isNullOrUndefined(this.currentTheme.widgets)||n.isNullOrUndefined(this.currentTheme.widgets.bubbleScatter)||n.isNullOrUndefined(this.currentTheme.widgets.bubbleScatter.axis)||n.isNullOrUndefined(this.currentTheme.widgets.bubbleScatter.axis.title)||n.isNullOrUndefined(this.currentTheme.widgets.bubbleScatter.axis.title.font)||n.isNullOrUndefined(this.currentTheme.widgets.bubbleScatter.axis.title.font.fontSettings)?(t=this.getWidgetAxisTitleFontSize(),i=this.getWidgetAxisTitleFontWeight(),r=this.getWidgetAxisTitleFontFamily()):n.isNullOrUndefined(this.currentTheme.widgets.bubbleScatter.axis.title.font.fontSettings.autoFontSettings)||this.currentTheme.widgets.bubbleScatter.axis.title.font.fontSettings.autoFontSettings?(t=this.getWidgetAxisTitleFontSize(),i=this.getWidgetAxisTitleFontWeight(),r=this.getWidgetAxisTitleFontFamily()):(t=n.isNullOrUndefined(this.currentTheme.widgets.bubbleScatter.axis.title.font.fontSettings.fontSize)||n.DashboardUtil.IsStringNullorWhiteSpace(this.currentTheme.widgets.bubbleScatter.axis.title.font.fontSettings.fontSize)?this.getWidgetAxisTitleFontSize():this.currentTheme.widgets.bubbleScatter.axis.title.font.fontSettings.fontSize,i=n.isNullOrUndefined(this.currentTheme.widgets.bubbleScatter.axis.title.font.fontSettings.fontWeight)||n.DashboardUtil.IsStringNullorWhiteSpace(this.currentTheme.widgets.bubbleScatter.axis.title.font.fontSettings.fontWeight)?this.getWidgetAxisTitleFontWeight():this.currentTheme.widgets.bubbleScatter.axis.title.font.fontSettings.fontWeight,r=n.isNullOrUndefined(this.currentTheme.widgets.bubbleScatter.axis.title.font.fontSettings.fontFamily)||n.DashboardUtil.IsStringNullorWhiteSpace(this.currentTheme.widgets.bubbleScatter.axis.title.font.fontSettings.fontFamily)?this.getWidgetAxisTitleFontFamily():this.currentTheme.widgets.bubbleScatter.axis.title.font.fontSettings.fontFamily,this.updateFontSrcList(this.currentTheme.widgets.bubbleScatter.axis.title.font.fontSettings.fontFamily,this.currentTheme.widgets.bubbleScatter.axis.title.font.fontSettings.fontSrc)),t=n.DashboardUtil.IsStringNullorWhiteSpace(t)?this.getFontSizeBasedOnResolution():t,i=n.DashboardUtil.IsStringNullorWhiteSpace(i)?"Bold":i,r=n.DashboardUtil.IsStringNullorWhiteSpace(r)?"var(--designer-font)":r,{size:t,weight:i,family:r}},t.prototype.getBubbleScatterAxisLabelFontColor=function(){return n.isNullOrUndefined(this.currentTheme)||n.isNullOrUndefined(this.currentTheme.widgets)||n.isNullOrUndefined(this.currentTheme.widgets.bubbleScatter)||n.isNullOrUndefined(this.currentTheme.widgets.bubbleScatter.axis)||n.isNullOrUndefined(this.currentTheme.widgets.bubbleScatter.axis.label)||n.isNullOrUndefined(this.currentTheme.widgets.bubbleScatter.axis.label.font)||n.DashboardUtil.IsStringNullorWhiteSpace(this.currentTheme.widgets.bubbleScatter.axis.label.font.color)?this.isDarkTypeTheme()?this.darkMode.widgets.bubbleScatter.axis.label.font.color:this.lightMode.widgets.bubbleScatter.axis.label.font.color:this.currentTheme.widgets.bubbleScatter.axis.label.font.color},t.prototype.getBubbleScatterAxisLabelFont=function(){var t=this.getWidgetAxisLabelFontSize(),i=this.getWidgetAxisLabelFontWeight(),r=this.getWidgetAxisLabelFontFamily();return n.isNullOrUndefined(this.currentTheme)||n.isNullOrUndefined(this.currentTheme.widgets)||n.isNullOrUndefined(this.currentTheme.widgets.bubbleScatter)||n.isNullOrUndefined(this.currentTheme.widgets.bubbleScatter.axis)||n.isNullOrUndefined(this.currentTheme.widgets.bubbleScatter.axis.label)||n.isNullOrUndefined(this.currentTheme.widgets.bubbleScatter.axis.label.font)||n.isNullOrUndefined(this.currentTheme.widgets.bubbleScatter.axis.label.font.fontSettings)||n.isNullOrUndefined(this.currentTheme.widgets.bubbleScatter.axis.label.font.fontSettings.autoFontSettings)||this.currentTheme.widgets.bubbleScatter.axis.label.font.fontSettings.autoFontSettings||(t=n.isNullOrUndefined(this.currentTheme.widgets.bubbleScatter.axis.label.font.fontSettings.fontSize)||n.DashboardUtil.IsStringNullorWhiteSpace(this.currentTheme.widgets.bubbleScatter.axis.label.font.fontSettings.fontSize)?t:this.currentTheme.widgets.bubbleScatter.axis.label.font.fontSettings.fontSize,i=n.isNullOrUndefined(this.currentTheme.widgets.bubbleScatter.axis.label.font.fontSettings.fontWeight)||n.DashboardUtil.IsStringNullorWhiteSpace(this.currentTheme.widgets.bubbleScatter.axis.label.font.fontSettings.fontWeight)?i:this.currentTheme.widgets.bubbleScatter.axis.label.font.fontSettings.fontWeight,r=n.isNullOrUndefined(this.currentTheme.widgets.bubbleScatter.axis.label.font.fontSettings.fontFamily)||n.DashboardUtil.IsStringNullorWhiteSpace(this.currentTheme.widgets.bubbleScatter.axis.label.font.fontSettings.fontFamily)?r:this.currentTheme.widgets.bubbleScatter.axis.label.font.fontSettings.fontFamily,this.updateFontSrcList(this.currentTheme.widgets.bubbleScatter.axis.label.font.fontSettings.fontFamily,this.currentTheme.widgets.bubbleScatter.axis.label.font.fontSettings.fontSrc)),t=n.DashboardUtil.IsStringNullorWhiteSpace(t)?this.getFontSizeBasedOnResolution():t,i=n.DashboardUtil.IsStringNullorWhiteSpace(i)?"Regular":i,r=n.DashboardUtil.IsStringNullorWhiteSpace(r)?"var(--designer-font)":r,{size:t,weight:i,family:r}},t.prototype.getBubbleScatterLegendFontColor=function(){return n.isNullOrUndefined(this.currentTheme)||n.isNullOrUndefined(this.currentTheme.widgets)||n.isNullOrUndefined(this.currentTheme.widgets.bubbleScatter)||n.isNullOrUndefined(this.currentTheme.widgets.bubbleScatter.legend)||n.isNullOrUndefined(this.currentTheme.widgets.bubbleScatter.legend.font)||n.DashboardUtil.IsStringNullorWhiteSpace(this.currentTheme.widgets.bubbleScatter.legend.font.color)?this.isDarkTypeTheme()?this.darkMode.widgets.bubbleScatter.legend.font.color:this.lightMode.widgets.bubbleScatter.legend.font.color:this.currentTheme.widgets.bubbleScatter.legend.font.color},t.prototype.getBubbleScatterLegendFont=function(){var t=this.getWidgetLegendFontSize(),i=this.getWidgetLegendFontWeight(),r=this.getWidgetLegendFontFamily();return n.isNullOrUndefined(this.currentTheme)||n.isNullOrUndefined(this.currentTheme.widgets)||n.isNullOrUndefined(this.currentTheme.widgets.bubbleScatter)||n.isNullOrUndefined(this.currentTheme.widgets.bubbleScatter.legend)||n.isNullOrUndefined(this.currentTheme.widgets.bubbleScatter.legend.font)||n.isNullOrUndefined(this.currentTheme.widgets.bubbleScatter.legend.font.fontSettings)||n.isNullOrUndefined(this.currentTheme.widgets.bubbleScatter.legend.font.fontSettings.autoFontSettings)||this.currentTheme.widgets.bubbleScatter.legend.font.fontSettings.autoFontSettings||(t=n.isNullOrUndefined(this.currentTheme.widgets.bubbleScatter.legend.font.fontSettings.fontSize)||n.DashboardUtil.IsStringNullorWhiteSpace(this.currentTheme.widgets.bubbleScatter.legend.font.fontSettings.fontSize)?t:this.currentTheme.widgets.bubbleScatter.legend.font.fontSettings.fontSize,i=n.isNullOrUndefined(this.currentTheme.widgets.bubbleScatter.legend.font.fontSettings.fontWeight)||n.DashboardUtil.IsStringNullorWhiteSpace(this.currentTheme.widgets.bubbleScatter.legend.font.fontSettings.fontWeight)?i:this.currentTheme.widgets.bubbleScatter.legend.font.fontSettings.fontWeight,r=n.isNullOrUndefined(this.currentTheme.widgets.bubbleScatter.legend.font.fontSettings.fontFamily)||n.DashboardUtil.IsStringNullorWhiteSpace(this.currentTheme.widgets.bubbleScatter.legend.font.fontSettings.fontFamily)?r:this.currentTheme.widgets.bubbleScatter.legend.font.fontSettings.fontFamily,this.updateFontSrcList(this.currentTheme.widgets.bubbleScatter.legend.font.fontSettings.fontFamily,this.currentTheme.widgets.bubbleScatter.legend.font.fontSettings.fontSrc)),t=n.DashboardUtil.IsStringNullorWhiteSpace(t)?this.getFontSizeBasedOnResolution():t,i=n.DashboardUtil.IsStringNullorWhiteSpace(i)?"500":i,r=n.DashboardUtil.IsStringNullorWhiteSpace(r)?"var(--designer-font)":r,{size:t,weight:i,family:r}},t.prototype.getBubbleScatterDataLabelFont=function(){var t=this.getWidgetDataLabelFontSize(),i=this.getWidgetDataLabelFontWeight(),r=this.getWidgetDataLabelFontFamily();return n.isNullOrUndefined(this.currentTheme)||n.isNullOrUndefined(this.currentTheme.widgets)||n.isNullOrUndefined(this.currentTheme.widgets.bubbleScatter)||n.isNullOrUndefined(this.currentTheme.widgets.bubbleScatter.dataLabel)||n.isNullOrUndefined(this.currentTheme.widgets.bubbleScatter.dataLabel.font)||n.isNullOrUndefined(this.currentTheme.widgets.bubbleScatter.dataLabel.font.fontSettings)||n.isNullOrUndefined(this.currentTheme.widgets.bubbleScatter.dataLabel.font.fontSettings.autoFontSettings)||this.currentTheme.widgets.bubbleScatter.dataLabel.font.fontSettings.autoFontSettings||(t=n.isNullOrUndefined(this.currentTheme.widgets.bubbleScatter.dataLabel.font.fontSettings.fontSize)||n.DashboardUtil.IsStringNullorWhiteSpace(this.currentTheme.widgets.bubbleScatter.dataLabel.font.fontSettings.fontSize)?t:this.currentTheme.widgets.bubbleScatter.dataLabel.font.fontSettings.fontSize,i=n.isNullOrUndefined(this.currentTheme.widgets.bubbleScatter.dataLabel.font.fontSettings.fontWeight)||n.DashboardUtil.IsStringNullorWhiteSpace(this.currentTheme.widgets.bubbleScatter.dataLabel.font.fontSettings.fontWeight)?i:this.currentTheme.widgets.bubbleScatter.dataLabel.font.fontSettings.fontWeight,r=n.isNullOrUndefined(this.currentTheme.widgets.bubbleScatter.dataLabel.font.fontSettings.fontFamily)||n.DashboardUtil.IsStringNullorWhiteSpace(this.currentTheme.widgets.bubbleScatter.dataLabel.font.fontSettings.fontFamily)?r:this.currentTheme.widgets.bubbleScatter.dataLabel.font.fontSettings.fontFamily,this.updateFontSrcList(this.currentTheme.widgets.bubbleScatter.dataLabel.font.fontSettings.fontFamily,this.currentTheme.widgets.bubbleScatter.dataLabel.font.fontSettings.fontSrc)),t=n.DashboardUtil.IsStringNullorWhiteSpace(t)?this.getFontSizeBasedOnResolution():t,i=n.DashboardUtil.IsStringNullorWhiteSpace(i)?"Regular":i,r=n.DashboardUtil.IsStringNullorWhiteSpace(r)?"var(--designer-font)":r,{size:t,weight:i,family:r}},t.prototype.getBubbleScatterDataLabelFontColor=function(){return n.isNullOrUndefined(this.currentTheme)||n.isNullOrUndefined(this.currentTheme.widgets)||n.isNullOrUndefined(this.currentTheme.widgets.bubbleScatter)||n.isNullOrUndefined(this.currentTheme.widgets.bubbleScatter.dataLabel)||n.isNullOrUndefined(this.currentTheme.widgets.bubbleScatter.dataLabel.font)||n.DashboardUtil.IsStringNullorWhiteSpace(this.currentTheme.widgets.bubbleScatter.dataLabel.font.color)?this.isDarkTypeTheme()?this.darkMode.widgets.bubbleScatter.dataLabel.font.color:this.lightMode.widgets.bubbleScatter.dataLabel.font.color:this.currentTheme.widgets.bubbleScatter.dataLabel.font.color},t.prototype.getBubbleScatterHeaderTitle=function(){var t,i,r;if(n.isNullOrUndefined(this.currentTheme)||n.isNullOrUndefined(this.currentTheme.widgets)||n.isNullOrUndefined(this.currentTheme.widgets.bubbleScatter)||n.isNullOrUndefined(this.currentTheme.widgets.bubbleScatter.widgetHeader)||n.isNullOrUndefined(this.currentTheme.widgets.bubbleScatter.widgetHeader.title)||n.isNullOrUndefined(this.currentTheme.widgets.bubbleScatter.widgetHeader.title.fontSettings))t=this.getWidgetTitleFontSize(),i=this.getWidgetTitleFontWeight(),r=this.getWidgetTitleFontFamily();else{if(n.isNullOrUndefined(this.currentTheme.widgets.bubbleScatter.widgetHeader.title.fontSettings.autoFontSettings)||this.currentTheme.widgets.bubbleScatter.widgetHeader.title.fontSettings.autoFontSettings)return"";t=n.isNullOrUndefined(this.currentTheme.widgets.bubbleScatter.widgetHeader.title.fontSettings.fontSize)||n.DashboardUtil.IsStringNullorWhiteSpace(this.currentTheme.widgets.bubbleScatter.widgetHeader.title.fontSettings.fontSize)?this.getWidgetTitleFontSize():this.currentTheme.widgets.bubbleScatter.widgetHeader.title.fontSettings.fontSize;i=n.isNullOrUndefined(this.currentTheme.widgets.bubbleScatter.widgetHeader.title.fontSettings.fontWeight)||n.DashboardUtil.IsStringNullorWhiteSpace(this.currentTheme.widgets.bubbleScatter.widgetHeader.title.fontSettings.fontWeight)?this.getWidgetTitleFontWeight():this.currentTheme.widgets.bubbleScatter.widgetHeader.title.fontSettings.fontWeight;r=n.isNullOrUndefined(this.currentTheme.widgets.bubbleScatter.widgetHeader.title.fontSettings.fontFamily)||n.DashboardUtil.IsStringNullorWhiteSpace(this.currentTheme.widgets.bubbleScatter.widgetHeader.title.fontSettings.fontFamily)?this.getWidgetTitleFontFamily():this.currentTheme.widgets.bubbleScatter.widgetHeader.title.fontSettings.fontFamily;this.updateFontSrcList(this.currentTheme.widgets.bubbleScatter.widgetHeader.title.fontSettings.fontFamily,this.currentTheme.widgets.bubbleScatter.widgetHeader.title.fontSettings.fontSrc)}return t=this.updateMaxValueIfSizeExceeds(t,MaximumFontValues.widgetTitle),this.getFontStyleCssValue(t,i,r)},t.prototype.getBubbleScatterHeaderSubTitle=function(){var t,i,r;if(n.isNullOrUndefined(this.currentTheme)||n.isNullOrUndefined(this.currentTheme.widgets)||n.isNullOrUndefined(this.currentTheme.widgets.bubbleScatter)||n.isNullOrUndefined(this.currentTheme.widgets.bubbleScatter.widgetHeader)||n.isNullOrUndefined(this.currentTheme.widgets.bubbleScatter.widgetHeader.subTitle)||n.isNullOrUndefined(this.currentTheme.widgets.bubbleScatter.widgetHeader.subTitle.fontSettings))t=this.getWidgetSubTitleFontSize(),i=this.getWidgetSubTitleFontWeight(),r=this.getWidgetSubTitleFontFamily();else{if(n.isNullOrUndefined(this.currentTheme.widgets.bubbleScatter.widgetHeader.subTitle.fontSettings.autoFontSettings)||this.currentTheme.widgets.bubbleScatter.widgetHeader.subTitle.fontSettings.autoFontSettings)return"";t=n.isNullOrUndefined(this.currentTheme.widgets.bubbleScatter.widgetHeader.subTitle.fontSettings.fontSize)||n.DashboardUtil.IsStringNullorWhiteSpace(this.currentTheme.widgets.bubbleScatter.widgetHeader.subTitle.fontSettings.fontSize)?this.getWidgetSubTitleFontSize():this.currentTheme.widgets.bubbleScatter.widgetHeader.subTitle.fontSettings.fontSize;i=n.isNullOrUndefined(this.currentTheme.widgets.bubbleScatter.widgetHeader.subTitle.fontSettings.fontWeight)||n.DashboardUtil.IsStringNullorWhiteSpace(this.currentTheme.widgets.bubbleScatter.widgetHeader.subTitle.fontSettings.fontWeight)?this.getWidgetSubTitleFontWeight():this.currentTheme.widgets.bubbleScatter.widgetHeader.subTitle.fontSettings.fontWeight;r=n.isNullOrUndefined(this.currentTheme.widgets.bubbleScatter.widgetHeader.subTitle.fontSettings.fontFamily)||n.DashboardUtil.IsStringNullorWhiteSpace(this.currentTheme.widgets.bubbleScatter.widgetHeader.subTitle.fontSettings.fontFamily)?this.getWidgetSubTitleFontFamily():this.currentTheme.widgets.bubbleScatter.widgetHeader.subTitle.fontSettings.fontFamily;this.updateFontSrcList(this.currentTheme.widgets.bubbleScatter.widgetHeader.subTitle.fontSettings.fontFamily,this.currentTheme.widgets.bubbleScatter.widgetHeader.subTitle.fontSettings.fontSrc)}return t=this.updateMaxValueIfSizeExceeds(t,MaximumFontValues.widgetSubTitle),this.getFontStyleCssValue(t,i,r)},t.prototype.getContainerdateRangeLabelColor=function(){return n.isNullOrUndefined(this.currentTheme)||n.isNullOrUndefined(this.currentTheme.widgets)||n.isNullOrUndefined(this.currentTheme.widgets.pop)||n.isNullOrUndefined(this.currentTheme.widgets.pop.widgetContainer)||n.isNullOrUndefined(this.currentTheme.widgets.pop.widgetContainer.dateRangeLabel)||n.isNullOrUndefined(this.currentTheme.widgets.pop.widgetContainer.dateRangeLabel.font)||n.isNullOrUndefined(this.currentTheme.widgets.pop.widgetContainer.dateRangeLabel.font.color)||n.DashboardUtil.IsStringNullorWhiteSpace(this.currentTheme.widgets.pop.widgetContainer.dateRangeLabel.font.color)?this.isDarkTypeTheme()?this.darkMode.widgets.pop.widgetContainer.dateRangeLabel.font.color:this.lightMode.widgets.pop.widgetContainer.dateRangeLabel.font.color:this.currentTheme.widgets.pop.widgetContainer.dateRangeLabel.font.color},t.prototype.getContainerCompareRangeLabelColor=function(){return n.isNullOrUndefined(this.currentTheme)||n.isNullOrUndefined(this.currentTheme.widgets)||n.isNullOrUndefined(this.currentTheme.widgets.pop)||n.isNullOrUndefined(this.currentTheme.widgets.pop.widgetContainer)||n.isNullOrUndefined(this.currentTheme.widgets.pop.widgetContainer.compareRangeLabel)||n.isNullOrUndefined(this.currentTheme.widgets.pop.widgetContainer.compareRangeLabel.font)||n.isNullOrUndefined(this.currentTheme.widgets.pop.widgetContainer.compareRangeLabel.font.color)||n.DashboardUtil.IsStringNullorWhiteSpace(this.currentTheme.widgets.pop.widgetContainer.compareRangeLabel.font.color)?this.isDarkTypeTheme()?this.darkMode.widgets.pop.widgetContainer.compareRangeLabel.font.color:this.lightMode.widgets.pop.widgetContainer.compareRangeLabel.font.color:this.currentTheme.widgets.pop.widgetContainer.compareRangeLabel.font.color},t.prototype.getContainerVSLabelColor=function(){return n.isNullOrUndefined(this.currentTheme)||n.isNullOrUndefined(this.currentTheme.widgets)||n.isNullOrUndefined(this.currentTheme.widgets.pop)||n.isNullOrUndefined(this.currentTheme.widgets.pop.widgetContainer)||n.isNullOrUndefined(this.currentTheme.widgets.pop.widgetContainer.vsLabel)||n.isNullOrUndefined(this.currentTheme.widgets.pop.widgetContainer.vsLabel.font)||n.isNullOrUndefined(this.currentTheme.widgets.pop.widgetContainer.vsLabel.font.color)||n.DashboardUtil.IsStringNullorWhiteSpace(this.currentTheme.widgets.pop.widgetContainer.vsLabel.font.color)?this.isDarkTypeTheme()?this.darkMode.widgets.pop.widgetContainer.vsLabel.font.color:this.lightMode.widgets.pop.widgetContainer.vsLabel.font.color:this.currentTheme.widgets.pop.widgetContainer.vsLabel.font.color},t.prototype.getDialogBackgroundColor=function(){return n.isNullOrUndefined(this.currentTheme)||n.isNullOrUndefined(this.currentTheme.widgets)||n.isNullOrUndefined(this.currentTheme.widgets.pop)||n.isNullOrUndefined(this.currentTheme.widgets.pop.dialog)||n.isNullOrUndefined(this.currentTheme.widgets.pop.dialog.headerBackground)||n.DashboardUtil.IsStringNullorWhiteSpace(this.currentTheme.widgets.pop.dialog.headerBackground)?this.isDarkTypeTheme()?this.darkMode.widgets.pop.dialog.headerBackground:this.lightMode.widgets.pop.dialog.headerBackground:this.currentTheme.widgets.pop.dialog.headerBackground},t.prototype.getDateRangeRelativeLabelColor=function(){return n.isNullOrUndefined(this.currentTheme)||n.isNullOrUndefined(this.currentTheme.widgets)||n.isNullOrUndefined(this.currentTheme.widgets.pop)||n.isNullOrUndefined(this.currentTheme.widgets.pop.dialog)||n.isNullOrUndefined(this.currentTheme.widgets.pop.dialog.dateRange)||n.isNullOrUndefined(this.currentTheme.widgets.pop.dialog.dateRange.relativeLabel)||n.isNullOrUndefined(this.currentTheme.widgets.pop.dialog.dateRange.relativeLabel.font)||n.isNullOrUndefined(this.currentTheme.widgets.pop.dialog.dateRange.relativeLabel.font.color)||n.DashboardUtil.IsStringNullorWhiteSpace(this.currentTheme.widgets.pop.dialog.dateRange.relativeLabel.font.color)?this.isDarkTypeTheme()?this.darkMode.widgets.pop.dialog.dateRange.relativeLabel.font.color:this.lightMode.widgets.pop.dialog.dateRange.relativeLabel.font.color:this.currentTheme.widgets.pop.dialog.dateRange.relativeLabel.font.color},t.prototype.getDateRangeRelativeHeaderBackgroundColor=function(){return n.isNullOrUndefined(this.currentTheme)||n.isNullOrUndefined(this.currentTheme.widgets)||n.isNullOrUndefined(this.currentTheme.widgets.pop)||n.isNullOrUndefined(this.currentTheme.widgets.pop.dialog)||n.isNullOrUndefined(this.currentTheme.widgets.pop.dialog.dateRange)||n.isNullOrUndefined(this.currentTheme.widgets.pop.dialog.dateRange.relativeHeader)||n.isNullOrUndefined(this.currentTheme.widgets.pop.dialog.dateRange.relativeHeader.background)||n.DashboardUtil.IsStringNullorWhiteSpace(this.currentTheme.widgets.pop.dialog.dateRange.relativeHeader.background)?this.isDarkTypeTheme()?this.darkMode.widgets.pop.dialog.dateRange.relativeHeader.background:this.lightMode.widgets.pop.dialog.dateRange.relativeHeader.background:this.currentTheme.widgets.pop.dialog.dateRange.relativeHeader.background},t.prototype.getDateRangeRelativeHeaderForgroundColor=function(){return n.isNullOrUndefined(this.currentTheme)||n.isNullOrUndefined(this.currentTheme.widgets)||n.isNullOrUndefined(this.currentTheme.widgets.pop)||n.isNullOrUndefined(this.currentTheme.widgets.pop.dialog)||n.isNullOrUndefined(this.currentTheme.widgets.pop.dialog.dateRange)||n.isNullOrUndefined(this.currentTheme.widgets.pop.dialog.dateRange.relativeHeader)||n.isNullOrUndefined(this.currentTheme.widgets.pop.dialog.dateRange.relativeHeader.label)||n.isNullOrUndefined(this.currentTheme.widgets.pop.dialog.dateRange.relativeHeader.label.font)||n.isNullOrUndefined(this.currentTheme.widgets.pop.dialog.dateRange.relativeHeader.label.font.color)||n.DashboardUtil.IsStringNullorWhiteSpace(this.currentTheme.widgets.pop.dialog.dateRange.relativeHeader.label.font.color)?this.isDarkTypeTheme()?this.darkMode.widgets.pop.dialog.dateRange.relativeHeader.label.font.color:this.lightMode.widgets.pop.dialog.dateRange.relativeHeader.label.font.color:this.currentTheme.widgets.pop.dialog.dateRange.relativeHeader.label.font.color},t.prototype.getDateRangeRelativeComboBoxBackgroundColor=function(){return n.isNullOrUndefined(this.currentTheme)||n.isNullOrUndefined(this.currentTheme.widgets)||n.isNullOrUndefined(this.currentTheme.widgets.pop)||n.isNullOrUndefined(this.currentTheme.widgets.pop.dialog)||n.isNullOrUndefined(this.currentTheme.widgets.pop.dialog.dateRange)||n.isNullOrUndefined(this.currentTheme.widgets.pop.dialog.dateRange.relativeComboBox)||n.isNullOrUndefined(this.currentTheme.widgets.pop.dialog.dateRange.relativeComboBox.background)||n.DashboardUtil.IsStringNullorWhiteSpace(this.currentTheme.widgets.pop.dialog.dateRange.relativeComboBox.background)?this.isDarkTypeTheme()?this.darkMode.widgets.pop.dialog.dateRange.relativeComboBox.background:this.lightMode.widgets.pop.dialog.dateRange.relativeComboBox.background:this.currentTheme.widgets.pop.dialog.dateRange.relativeComboBox.background},t.prototype.getDateRangeRelativeComboBoxTextColor=function(){return n.isNullOrUndefined(this.currentTheme)||n.isNullOrUndefined(this.currentTheme.widgets)||n.isNullOrUndefined(this.currentTheme.widgets.pop)||n.isNullOrUndefined(this.currentTheme.widgets.pop.dialog)||n.isNullOrUndefined(this.currentTheme.widgets.pop.dialog.dateRange)||n.isNullOrUndefined(this.currentTheme.widgets.pop.dialog.dateRange.relativeComboBox)||n.isNullOrUndefined(this.currentTheme.widgets.pop.dialog.dateRange.relativeComboBox.textBox)||n.isNullOrUndefined(this.currentTheme.widgets.pop.dialog.dateRange.relativeComboBox.textBox.font)||n.isNullOrUndefined(this.currentTheme.widgets.pop.dialog.dateRange.relativeComboBox.textBox.font.color)||n.DashboardUtil.IsStringNullorWhiteSpace(this.currentTheme.widgets.pop.dialog.dateRange.relativeComboBox.textBox.font.color)?this.isDarkTypeTheme()?this.darkMode.widgets.pop.dialog.dateRange.relativeComboBox.textBox.font.color:this.lightMode.widgets.pop.dialog.dateRange.relativeComboBox.textBox.font.color:this.currentTheme.widgets.pop.dialog.dateRange.relativeComboBox.textBox.font.color},t.prototype.getDateRangeRelativeComboBoxPopupTextColor=function(){return n.isNullOrUndefined(this.currentTheme)||n.isNullOrUndefined(this.currentTheme.widgets)||n.isNullOrUndefined(this.currentTheme.widgets.pop)||n.isNullOrUndefined(this.currentTheme.widgets.pop.dialog)||n.isNullOrUndefined(this.currentTheme.widgets.pop.dialog.dateRange)||n.isNullOrUndefined(this.currentTheme.widgets.pop.dialog.dateRange.relativeComboBox)||n.isNullOrUndefined(this.currentTheme.widgets.pop.dialog.dateRange.relativeComboBox.popup)||n.isNullOrUndefined(this.currentTheme.widgets.pop.dialog.dateRange.relativeComboBox.popup.text)||n.isNullOrUndefined(this.currentTheme.widgets.pop.dialog.dateRange.relativeComboBox.popup.text.font)||n.isNullOrUndefined(this.currentTheme.widgets.pop.dialog.dateRange.relativeComboBox.popup.text.font.color)||n.DashboardUtil.IsStringNullorWhiteSpace(this.currentTheme.widgets.pop.dialog.dateRange.relativeComboBox.popup.text.font.color)?this.isDarkTypeTheme()?this.darkMode.widgets.pop.dialog.dateRange.relativeComboBox.popup.text.font.color:this.lightMode.widgets.pop.dialog.dateRange.relativeComboBox.popup.text.font.color:this.currentTheme.widgets.pop.dialog.dateRange.relativeComboBox.popup.text.font.color},t.prototype.getDateRangeCalendarContentForeground=function(){return n.isNullOrUndefined(this.currentTheme)||n.isNullOrUndefined(this.currentTheme.widgets)||n.isNullOrUndefined(this.currentTheme.widgets.pop)||n.isNullOrUndefined(this.currentTheme.widgets.pop.dialog)||n.isNullOrUndefined(this.currentTheme.widgets.pop.dialog.dateRange)||n.isNullOrUndefined(this.currentTheme.widgets.pop.dialog.dateRange.calender)||n.isNullOrUndefined(this.currentTheme.widgets.pop.dialog.dateRange.calender.content)||n.isNullOrUndefined(this.currentTheme.widgets.pop.dialog.dateRange.calender.content.dateText)||n.isNullOrUndefined(this.currentTheme.widgets.pop.dialog.dateRange.calender.content.dateText.font)||n.isNullOrUndefined(this.currentTheme.widgets.pop.dialog.dateRange.calender.content.dateText.font.color)||n.DashboardUtil.IsStringNullorWhiteSpace(this.currentTheme.widgets.pop.dialog.dateRange.calender.content.dateText.font.color)?this.isDarkTypeTheme()?this.darkMode.widgets.pop.dialog.dateRange.calender.content.dateText.font.color:this.lightMode.widgets.pop.dialog.dateRange.calender.content.dateText.font.color:this.currentTheme.widgets.pop.dialog.dateRange.calender.content.dateText.font.color},t.prototype.getDateRangeCalendarContentHoverColor=function(){return n.isNullOrUndefined(this.currentTheme)||n.isNullOrUndefined(this.currentTheme.widgets)||n.isNullOrUndefined(this.currentTheme.widgets.pop)||n.isNullOrUndefined(this.currentTheme.widgets.pop.dialog)||n.isNullOrUndefined(this.currentTheme.widgets.pop.dialog.dateRange)||n.isNullOrUndefined(this.currentTheme.widgets.pop.dialog.dateRange.calender)||n.isNullOrUndefined(this.currentTheme.widgets.pop.dialog.dateRange.calender.content)||n.isNullOrUndefined(this.currentTheme.widgets.pop.dialog.dateRange.calender.content.hoverColor)||n.DashboardUtil.IsStringNullorWhiteSpace(this.currentTheme.widgets.pop.dialog.dateRange.calender.content.hoverColor)?this.isDarkTypeTheme()?this.darkMode.widgets.pop.dialog.dateRange.calender.content.hoverColor:this.lightMode.widgets.pop.dialog.dateRange.calender.content.hoverColor:this.currentTheme.widgets.pop.dialog.dateRange.calender.content.hoverColor},t.prototype.getDateRangeCalendarContentHighlightColor=function(){return n.isNullOrUndefined(this.currentTheme)||n.isNullOrUndefined(this.currentTheme.widgets)||n.isNullOrUndefined(this.currentTheme.widgets.pop)||n.isNullOrUndefined(this.currentTheme.widgets.pop.dialog)||n.isNullOrUndefined(this.currentTheme.widgets.pop.dialog.dateRange)||n.isNullOrUndefined(this.currentTheme.widgets.pop.dialog.dateRange.calender)||n.isNullOrUndefined(this.currentTheme.widgets.pop.dialog.dateRange.calender.highlightColor)||n.DashboardUtil.IsStringNullorWhiteSpace(this.currentTheme.widgets.pop.dialog.dateRange.calender.highlightColor)?this.isDarkTypeTheme()?this.darkMode.widgets.pop.dialog.dateRange.calender.highlightColor:this.lightMode.widgets.pop.dialog.dateRange.calender.highlightColor:this.currentTheme.widgets.pop.dialog.dateRange.calender.highlightColor},t.prototype.getDateRangeCalendarContentSelectionColor=function(){return n.isNullOrUndefined(this.currentTheme)||n.isNullOrUndefined(this.currentTheme.widgets)||n.isNullOrUndefined(this.currentTheme.widgets.pop)||n.isNullOrUndefined(this.currentTheme.widgets.pop.dialog)||n.isNullOrUndefined(this.currentTheme.widgets.pop.dialog.dateRange)||n.isNullOrUndefined(this.currentTheme.widgets.pop.dialog.dateRange.calender)||n.isNullOrUndefined(this.currentTheme.widgets.pop.dialog.dateRange.calender.selectionColor)||n.DashboardUtil.IsStringNullorWhiteSpace(this.currentTheme.widgets.pop.dialog.dateRange.calender.selectionColor)?this.isDarkTypeTheme()?this.darkMode.widgets.pop.dialog.dateRange.calender.selectionColor:this.lightMode.widgets.pop.dialog.dateRange.calender.selectionColor:this.currentTheme.widgets.pop.dialog.dateRange.calender.selectionColor},t.prototype.getCompareRangeRelativeLabelColor=function(){return n.isNullOrUndefined(this.currentTheme)||n.isNullOrUndefined(this.currentTheme.widgets)||n.isNullOrUndefined(this.currentTheme.widgets.pop)||n.isNullOrUndefined(this.currentTheme.widgets.pop.dialog)||n.isNullOrUndefined(this.currentTheme.widgets.pop.dialog.compareRange)||n.isNullOrUndefined(this.currentTheme.widgets.pop.dialog.compareRange.relativeLabel)||n.isNullOrUndefined(this.currentTheme.widgets.pop.dialog.compareRange.relativeLabel.font)||n.isNullOrUndefined(this.currentTheme.widgets.pop.dialog.compareRange.relativeLabel.font.color)||n.DashboardUtil.IsStringNullorWhiteSpace(this.currentTheme.widgets.pop.dialog.compareRange.relativeLabel.font.color)?this.isDarkTypeTheme()?this.darkMode.widgets.pop.dialog.compareRange.relativeLabel.font.color:this.lightMode.widgets.pop.dialog.compareRange.relativeLabel.font.color:this.currentTheme.widgets.pop.dialog.compareRange.relativeLabel.font.color},t.prototype.getCompareRangeRelativeHeaderBackgroundColor=function(){return n.isNullOrUndefined(this.currentTheme)||n.isNullOrUndefined(this.currentTheme.widgets)||n.isNullOrUndefined(this.currentTheme.widgets.pop)||n.isNullOrUndefined(this.currentTheme.widgets.pop.dialog)||n.isNullOrUndefined(this.currentTheme.widgets.pop.dialog.compareRange)||n.isNullOrUndefined(this.currentTheme.widgets.pop.dialog.compareRange.relativeHeader)||n.isNullOrUndefined(this.currentTheme.widgets.pop.dialog.compareRange.relativeHeader.background)||n.DashboardUtil.IsStringNullorWhiteSpace(this.currentTheme.widgets.pop.dialog.compareRange.relativeHeader.background)?this.isDarkTypeTheme()?this.darkMode.widgets.pop.dialog.compareRange.relativeHeader.background:this.lightMode.widgets.pop.dialog.compareRange.relativeHeader.background:this.currentTheme.widgets.pop.dialog.compareRange.relativeHeader.background},t.prototype.getCompareRangeRelativeHeaderForgroundColor=function(){return n.isNullOrUndefined(this.currentTheme)||n.isNullOrUndefined(this.currentTheme.widgets)||n.isNullOrUndefined(this.currentTheme.widgets.pop)||n.isNullOrUndefined(this.currentTheme.widgets.pop.dialog)||n.isNullOrUndefined(this.currentTheme.widgets.pop.dialog.compareRange)||n.isNullOrUndefined(this.currentTheme.widgets.pop.dialog.compareRange.relativeHeader)||n.isNullOrUndefined(this.currentTheme.widgets.pop.dialog.compareRange.relativeHeader.label)||n.isNullOrUndefined(this.currentTheme.widgets.pop.dialog.compareRange.relativeHeader.label.font)||n.isNullOrUndefined(this.currentTheme.widgets.pop.dialog.compareRange.relativeHeader.label.font.color)||n.DashboardUtil.IsStringNullorWhiteSpace(this.currentTheme.widgets.pop.dialog.compareRange.relativeHeader.label.font.color)?this.isDarkTypeTheme()?this.darkMode.widgets.pop.dialog.compareRange.relativeHeader.label.font.color:this.lightMode.widgets.pop.dialog.compareRange.relativeHeader.label.font.color:this.currentTheme.widgets.pop.dialog.compareRange.relativeHeader.label.font.color},t.prototype.getCompareRangeRelativeComboBoxBackgroundColor=function(){return n.isNullOrUndefined(this.currentTheme)||n.isNullOrUndefined(this.currentTheme.widgets)||n.isNullOrUndefined(this.currentTheme.widgets.pop)||n.isNullOrUndefined(this.currentTheme.widgets.pop.dialog)||n.isNullOrUndefined(this.currentTheme.widgets.pop.dialog.compareRange)||n.isNullOrUndefined(this.currentTheme.widgets.pop.dialog.compareRange.relativeComboBox)||n.isNullOrUndefined(this.currentTheme.widgets.pop.dialog.compareRange.relativeComboBox.background)||n.DashboardUtil.IsStringNullorWhiteSpace(this.currentTheme.widgets.pop.dialog.compareRange.relativeComboBox.background)?this.isDarkTypeTheme()?this.darkMode.widgets.pop.dialog.compareRange.relativeComboBox.background:this.lightMode.widgets.pop.dialog.compareRange.relativeComboBox.background:this.currentTheme.widgets.pop.dialog.compareRange.relativeComboBox.background},t.prototype.getCompareRangeRelativeComboBoxTextColor=function(){return n.isNullOrUndefined(this.currentTheme)||n.isNullOrUndefined(this.currentTheme.widgets)||n.isNullOrUndefined(this.currentTheme.widgets.pop)||n.isNullOrUndefined(this.currentTheme.widgets.pop.dialog)||n.isNullOrUndefined(this.currentTheme.widgets.pop.dialog.compareRange)||n.isNullOrUndefined(this.currentTheme.widgets.pop.dialog.compareRange.relativeComboBox)||n.isNullOrUndefined(this.currentTheme.widgets.pop.dialog.compareRange.relativeComboBox.textBox)||n.isNullOrUndefined(this.currentTheme.widgets.pop.dialog.compareRange.relativeComboBox.textBox.font)||n.isNullOrUndefined(this.currentTheme.widgets.pop.dialog.compareRange.relativeComboBox.textBox.font.color)||n.DashboardUtil.IsStringNullorWhiteSpace(this.currentTheme.widgets.pop.dialog.compareRange.relativeComboBox.textBox.font.color)?this.isDarkTypeTheme()?this.darkMode.widgets.pop.dialog.compareRange.relativeComboBox.textBox.font.color:this.lightMode.widgets.pop.dialog.compareRange.relativeComboBox.textBox.font.color:this.currentTheme.widgets.pop.dialog.compareRange.relativeComboBox.textBox.font.color},t.prototype.getCompareRangeRelativeComboBoxPopupTextColor=function(){return n.isNullOrUndefined(this.currentTheme)||n.isNullOrUndefined(this.currentTheme.widgets)||n.isNullOrUndefined(this.currentTheme.widgets.pop)||n.isNullOrUndefined(this.currentTheme.widgets.pop.dialog)||n.isNullOrUndefined(this.currentTheme.widgets.pop.dialog.compareRange)||n.isNullOrUndefined(this.currentTheme.widgets.pop.dialog.compareRange.relativeComboBox)||n.isNullOrUndefined(this.currentTheme.widgets.pop.dialog.compareRange.relativeComboBox.popup)||n.isNullOrUndefined(this.currentTheme.widgets.pop.dialog.compareRange.relativeComboBox.popup.text)||n.isNullOrUndefined(this.currentTheme.widgets.pop.dialog.compareRange.relativeComboBox.popup.text.font)||n.isNullOrUndefined(this.currentTheme.widgets.pop.dialog.compareRange.relativeComboBox.popup.text.font.color)||n.DashboardUtil.IsStringNullorWhiteSpace(this.currentTheme.widgets.pop.dialog.compareRange.relativeComboBox.popup.text.font.color)?this.isDarkTypeTheme()?this.darkMode.widgets.pop.dialog.compareRange.relativeComboBox.popup.text.font.color:this.lightMode.widgets.pop.dialog.compareRange.relativeComboBox.popup.text.font.color:this.currentTheme.widgets.pop.dialog.compareRange.relativeComboBox.popup.text.font.color},t.prototype.getCompareRangeCalendarContentForeground=function(){return n.isNullOrUndefined(this.currentTheme)||n.isNullOrUndefined(this.currentTheme.widgets)||n.isNullOrUndefined(this.currentTheme.widgets.pop)||n.isNullOrUndefined(this.currentTheme.widgets.pop.dialog)||n.isNullOrUndefined(this.currentTheme.widgets.pop.dialog.compareRange)||n.isNullOrUndefined(this.currentTheme.widgets.pop.dialog.compareRange.calender)||n.isNullOrUndefined(this.currentTheme.widgets.pop.dialog.compareRange.calender.content)||n.isNullOrUndefined(this.currentTheme.widgets.pop.dialog.compareRange.calender.content.dateText)||n.isNullOrUndefined(this.currentTheme.widgets.pop.dialog.compareRange.calender.content.dateText.font)||n.isNullOrUndefined(this.currentTheme.widgets.pop.dialog.compareRange.calender.content.dateText.font.color)||n.DashboardUtil.IsStringNullorWhiteSpace(this.currentTheme.widgets.pop.dialog.compareRange.calender.content.dateText.font.color)?this.isDarkTypeTheme()?this.darkMode.widgets.pop.dialog.compareRange.calender.content.dateText.font.color:this.lightMode.widgets.pop.dialog.compareRange.calender.content.dateText.font.color:this.currentTheme.widgets.pop.dialog.compareRange.calender.content.dateText.font.color},t.prototype.getCompareRangeCalendarContentHoverColor=function(){return n.isNullOrUndefined(this.currentTheme)||n.isNullOrUndefined(this.currentTheme.widgets)||n.isNullOrUndefined(this.currentTheme.widgets.pop)||n.isNullOrUndefined(this.currentTheme.widgets.pop.dialog)||n.isNullOrUndefined(this.currentTheme.widgets.pop.dialog.compareRange)||n.isNullOrUndefined(this.currentTheme.widgets.pop.dialog.compareRange.calender)||n.isNullOrUndefined(this.currentTheme.widgets.pop.dialog.compareRange.calender.content)||n.isNullOrUndefined(this.currentTheme.widgets.pop.dialog.compareRange.calender.content.hoverColor)||n.DashboardUtil.IsStringNullorWhiteSpace(this.currentTheme.widgets.pop.dialog.compareRange.calender.content.hoverColor)?this.isDarkTypeTheme()?this.darkMode.widgets.pop.dialog.compareRange.calender.content.hoverColor:this.lightMode.widgets.pop.dialog.compareRange.calender.content.hoverColor:this.currentTheme.widgets.pop.dialog.compareRange.calender.content.hoverColor},t.prototype.getCompareRangeCalendarContentHighlightColor=function(){return n.isNullOrUndefined(this.currentTheme)||n.isNullOrUndefined(this.currentTheme.widgets)||n.isNullOrUndefined(this.currentTheme.widgets.pop)||n.isNullOrUndefined(this.currentTheme.widgets.pop.dialog)||n.isNullOrUndefined(this.currentTheme.widgets.pop.dialog.compareRange)||n.isNullOrUndefined(this.currentTheme.widgets.pop.dialog.compareRange.calender)||n.isNullOrUndefined(this.currentTheme.widgets.pop.dialog.compareRange.calender.highlightColor)||n.DashboardUtil.IsStringNullorWhiteSpace(this.currentTheme.widgets.pop.dialog.compareRange.calender.highlightColor)?this.isDarkTypeTheme()?this.darkMode.widgets.pop.dialog.compareRange.calender.highlightColor:this.lightMode.widgets.pop.dialog.compareRange.calender.highlightColor:this.currentTheme.widgets.pop.dialog.compareRange.calender.highlightColor},t.prototype.getCompareRangeCalendarContentSelectionColor=function(){return n.isNullOrUndefined(this.currentTheme)||n.isNullOrUndefined(this.currentTheme.widgets)||n.isNullOrUndefined(this.currentTheme.widgets.pop)||n.isNullOrUndefined(this.currentTheme.widgets.pop.dialog)||n.isNullOrUndefined(this.currentTheme.widgets.pop.dialog.compareRange)||n.isNullOrUndefined(this.currentTheme.widgets.pop.dialog.compareRange.calender)||n.isNullOrUndefined(this.currentTheme.widgets.pop.dialog.compareRange.calender.selectionColor)||n.DashboardUtil.IsStringNullorWhiteSpace(this.currentTheme.widgets.pop.dialog.compareRange.calender.selectionColor)?this.isDarkTypeTheme()?this.darkMode.widgets.pop.dialog.compareRange.calender.selectionColor:this.lightMode.widgets.pop.dialog.compareRange.calender.selectionColor:this.currentTheme.widgets.pop.dialog.compareRange.calender.selectionColor},t.prototype.getPoPDialogVSLabelColor=function(){return n.isNullOrUndefined(this.currentTheme)||n.isNullOrUndefined(this.currentTheme.widgets)||n.isNullOrUndefined(this.currentTheme.widgets.pop)||n.isNullOrUndefined(this.currentTheme.widgets.pop.dialog)||n.isNullOrUndefined(this.currentTheme.widgets.pop.dialog.vsLabel)||n.isNullOrUndefined(this.currentTheme.widgets.pop.dialog.vsLabel.font)||n.isNullOrUndefined(this.currentTheme.widgets.pop.dialog.vsLabel.font.color)||n.DashboardUtil.IsStringNullorWhiteSpace(this.currentTheme.widgets.pop.dialog.vsLabel.font.color)?this.isDarkTypeTheme()?this.darkMode.widgets.pop.dialog.vsLabel.font.color:this.lightMode.widgets.pop.dialog.vsLabel.font.color:this.currentTheme.widgets.pop.dialog.vsLabel.font.color},t.prototype.getPOPFooterBackgroundColor=function(){return n.isNullOrUndefined(this.currentTheme)||n.isNullOrUndefined(this.currentTheme.widgets)||n.isNullOrUndefined(this.currentTheme.widgets.pop)||n.isNullOrUndefined(this.currentTheme.widgets.pop.dialog)||n.isNullOrUndefined(this.currentTheme.widgets.pop.dialog.footer)||n.isNullOrUndefined(this.currentTheme.widgets.pop.dialog.footer.footerBackground)||n.DashboardUtil.IsStringNullorWhiteSpace(this.currentTheme.widgets.pop.dialog.footer.footerBackground)?this.isDarkTypeTheme()?this.darkMode.widgets.pop.dialog.footer.footerBackground:this.lightMode.widgets.pop.dialog.footer.footerBackground:this.currentTheme.widgets.pop.dialog.footer.footerBackground},t.prototype.getPOPFooterOkButtonBackgroundColor=function(){return n.isNullOrUndefined(this.currentTheme)||n.isNullOrUndefined(this.currentTheme.widgets)||n.isNullOrUndefined(this.currentTheme.widgets.pop)||n.isNullOrUndefined(this.currentTheme.widgets.pop.dialog)||n.isNullOrUndefined(this.currentTheme.widgets.pop.dialog.footer)||n.isNullOrUndefined(this.currentTheme.widgets.pop.dialog.footer.okButton)||n.isNullOrUndefined(this.currentTheme.widgets.pop.dialog.footer.okButton.background)||n.DashboardUtil.IsStringNullorWhiteSpace(this.currentTheme.widgets.pop.dialog.footer.okButton.background)?this.isDarkTypeTheme()?this.darkMode.widgets.pop.dialog.footer.okButton.background:this.lightMode.widgets.pop.dialog.footer.okButton.background:this.currentTheme.widgets.pop.dialog.footer.okButton.background},t.prototype.getPOPFooterOkButtonForegroundColor=function(){return n.isNullOrUndefined(this.currentTheme)||n.isNullOrUndefined(this.currentTheme.widgets)||n.isNullOrUndefined(this.currentTheme.widgets.pop)||n.isNullOrUndefined(this.currentTheme.widgets.pop.dialog)||n.isNullOrUndefined(this.currentTheme.widgets.pop.dialog.footer)||n.isNullOrUndefined(this.currentTheme.widgets.pop.dialog.footer.okButton)||n.isNullOrUndefined(this.currentTheme.widgets.pop.dialog.footer.okButton.text)||n.isNullOrUndefined(this.currentTheme.widgets.pop.dialog.footer.okButton.text.font)||n.isNullOrUndefined(this.currentTheme.widgets.pop.dialog.footer.okButton.text.font.color)||n.DashboardUtil.IsStringNullorWhiteSpace(this.currentTheme.widgets.pop.dialog.footer.okButton.text.font.color)?this.isDarkTypeTheme()?this.darkMode.widgets.pop.dialog.footer.okButton.text.font.color:this.lightMode.widgets.pop.dialog.footer.okButton.text.font.color:this.currentTheme.widgets.pop.dialog.footer.okButton.text.font.color},t.prototype.getPOPFooterOkButtonHoverColor=function(){return n.isNullOrUndefined(this.currentTheme)||n.isNullOrUndefined(this.currentTheme.widgets)||n.isNullOrUndefined(this.currentTheme.widgets.pop)||n.isNullOrUndefined(this.currentTheme.widgets.pop.dialog)||n.isNullOrUndefined(this.currentTheme.widgets.pop.dialog.footer)||n.isNullOrUndefined(this.currentTheme.widgets.pop.dialog.footer.okButton)||n.isNullOrUndefined(this.currentTheme.widgets.pop.dialog.footer.okButton.hoverColor)||n.DashboardUtil.IsStringNullorWhiteSpace(this.currentTheme.widgets.pop.dialog.footer.okButton.hoverColor)?this.isDarkTypeTheme()?this.darkMode.widgets.pop.dialog.footer.okButton.hoverColor:this.lightMode.widgets.pop.dialog.footer.okButton.hoverColor:this.currentTheme.widgets.pop.dialog.footer.okButton.hoverColor},t.prototype.getPOPFooterCancelButtonBackgroundColor=function(){return n.isNullOrUndefined(this.currentTheme)||n.isNullOrUndefined(this.currentTheme.widgets)||n.isNullOrUndefined(this.currentTheme.widgets.pop)||n.isNullOrUndefined(this.currentTheme.widgets.pop.dialog)||n.isNullOrUndefined(this.currentTheme.widgets.pop.dialog.footer)||n.isNullOrUndefined(this.currentTheme.widgets.pop.dialog.footer.cancelButton)||n.isNullOrUndefined(this.currentTheme.widgets.pop.dialog.footer.cancelButton.background)||n.DashboardUtil.IsStringNullorWhiteSpace(this.currentTheme.widgets.pop.dialog.footer.cancelButton.background)?this.isDarkTypeTheme()?this.darkMode.widgets.pop.dialog.footer.cancelButton.background:this.lightMode.widgets.pop.dialog.footer.cancelButton.background:this.currentTheme.widgets.pop.dialog.footer.cancelButton.background},t.prototype.getPOPFooterCancelButtonForegroundColor=function(){return n.isNullOrUndefined(this.currentTheme)||n.isNullOrUndefined(this.currentTheme.widgets)||n.isNullOrUndefined(this.currentTheme.widgets.pop)||n.isNullOrUndefined(this.currentTheme.widgets.pop.dialog)||n.isNullOrUndefined(this.currentTheme.widgets.pop.dialog.footer)||n.isNullOrUndefined(this.currentTheme.widgets.pop.dialog.footer.cancelButton)||n.isNullOrUndefined(this.currentTheme.widgets.pop.dialog.footer.cancelButton.text)||n.isNullOrUndefined(this.currentTheme.widgets.pop.dialog.footer.cancelButton.text.font)||n.isNullOrUndefined(this.currentTheme.widgets.pop.dialog.footer.cancelButton.text.font.color)||n.DashboardUtil.IsStringNullorWhiteSpace(this.currentTheme.widgets.pop.dialog.footer.cancelButton.text.font.color)?this.isDarkTypeTheme()?this.darkMode.widgets.pop.dialog.footer.cancelButton.text.font.color:this.lightMode.widgets.pop.dialog.footer.cancelButton.text.font.color:this.currentTheme.widgets.pop.dialog.footer.cancelButton.text.font.color},t.prototype.getPOPFooterCancelButtonHoverColor=function(){return n.isNullOrUndefined(this.currentTheme)||n.isNullOrUndefined(this.currentTheme.widgets)||n.isNullOrUndefined(this.currentTheme.widgets.pop)||n.isNullOrUndefined(this.currentTheme.widgets.pop.dialog)||n.isNullOrUndefined(this.currentTheme.widgets.pop.dialog.footer)||n.isNullOrUndefined(this.currentTheme.widgets.pop.dialog.footer.cancelButton)||n.isNullOrUndefined(this.currentTheme.widgets.pop.dialog.footer.cancelButton.hoverColor)||n.DashboardUtil.IsStringNullorWhiteSpace(this.currentTheme.widgets.pop.dialog.footer.cancelButton.hoverColor)?this.isDarkTypeTheme()?this.darkMode.widgets.pop.dialog.footer.cancelButton.hoverColor:this.lightMode.widgets.pop.dialog.footer.cancelButton.hoverColor:this.currentTheme.widgets.pop.dialog.footer.cancelButton.hoverColor},t.prototype.getPoPContainerDateRangelabelFont=function(){var t="14px",i=this.getWidgetDataLabelFontWeight(),r=this.getWidgetDataLabelFontFamily();return n.isNullOrUndefined(this.currentTheme)||n.isNullOrUndefined(this.currentTheme.widgets)||n.isNullOrUndefined(this.currentTheme.widgets.pop)||n.isNullOrUndefined(this.currentTheme.widgets.pop.widgetContainer)||n.isNullOrUndefined(this.currentTheme.widgets.pop.widgetContainer.dateRangeLabel)||n.isNullOrUndefined(this.currentTheme.widgets.pop.widgetContainer.dateRangeLabel.font)||n.isNullOrUndefined(this.currentTheme.widgets.pop.widgetContainer.dateRangeLabel.font.fontSettings)||n.isNullOrUndefined(this.currentTheme.widgets.pop.widgetContainer.dateRangeLabel.font.fontSettings.autoFontSettings)||this.currentTheme.widgets.pop.widgetContainer.dateRangeLabel.font.fontSettings.autoFontSettings||(t=n.DashboardUtil.IsStringNullorWhiteSpace(this.currentTheme.widgets.pop.widgetContainer.dateRangeLabel.font.fontSettings.fontSize)?t:this.currentTheme.widgets.pop.widgetContainer.dateRangeLabel.font.fontSettings.fontSize,i=n.DashboardUtil.IsStringNullorWhiteSpace(this.currentTheme.widgets.pop.widgetContainer.dateRangeLabel.font.fontSettings.fontWeight)?i:this.currentTheme.widgets.pop.widgetContainer.dateRangeLabel.font.fontSettings.fontWeight,r=n.DashboardUtil.IsStringNullorWhiteSpace(this.currentTheme.widgets.pop.widgetContainer.dateRangeLabel.font.fontSettings.fontFamily)?r:this.currentTheme.widgets.pop.widgetContainer.dateRangeLabel.font.fontSettings.fontFamily),t=n.DashboardUtil.IsStringNullorWhiteSpace(t)?"14px":t,i=n.DashboardUtil.IsStringNullorWhiteSpace(i)?"Regular":i,r=n.DashboardUtil.IsStringNullorWhiteSpace(r)?"Heebo', 'Roboto":r,this.getFontStyleCssValue(t,i,r)},t.prototype.getPoPContainerCompareRangelabelFont=function(){var t="14px",i=this.getWidgetDataLabelFontWeight(),r=this.getWidgetDataLabelFontFamily();return n.isNullOrUndefined(this.currentTheme)||n.isNullOrUndefined(this.currentTheme.widgets)||n.isNullOrUndefined(this.currentTheme.widgets.pop)||n.isNullOrUndefined(this.currentTheme.widgets.pop.widgetContainer)||n.isNullOrUndefined(this.currentTheme.widgets.pop.widgetContainer.compareRangeLabel)||n.isNullOrUndefined(this.currentTheme.widgets.pop.widgetContainer.compareRangeLabel.font)||n.isNullOrUndefined(this.currentTheme.widgets.pop.widgetContainer.compareRangeLabel.font.fontSettings)||n.isNullOrUndefined(this.currentTheme.widgets.pop.widgetContainer.compareRangeLabel.font.fontSettings.autoFontSettings)||this.currentTheme.widgets.pop.widgetContainer.compareRangeLabel.font.fontSettings.autoFontSettings||(t=n.DashboardUtil.IsStringNullorWhiteSpace(this.currentTheme.widgets.pop.widgetContainer.compareRangeLabel.font.fontSettings.fontSize)?t:this.currentTheme.widgets.pop.widgetContainer.compareRangeLabel.font.fontSettings.fontSize,i=n.DashboardUtil.IsStringNullorWhiteSpace(this.currentTheme.widgets.pop.widgetContainer.compareRangeLabel.font.fontSettings.fontWeight)?i:this.currentTheme.widgets.pop.widgetContainer.compareRangeLabel.font.fontSettings.fontWeight,r=n.DashboardUtil.IsStringNullorWhiteSpace(this.currentTheme.widgets.pop.widgetContainer.compareRangeLabel.font.fontSettings.fontFamily)?r:this.currentTheme.widgets.pop.widgetContainer.compareRangeLabel.font.fontSettings.fontFamily),t=n.DashboardUtil.IsStringNullorWhiteSpace(t)?"14px":t,i=n.DashboardUtil.IsStringNullorWhiteSpace(i)?"Regular":i,r=n.DashboardUtil.IsStringNullorWhiteSpace(r)?"Heebo', 'Roboto":r,this.getFontStyleCssValue(t,i,r)},t.prototype.getPoPContainerVSlabelFont=function(){var t="9px",i=this.getWidgetDataLabelFontWeight(),r=this.getWidgetDataLabelFontFamily();return n.isNullOrUndefined(this.currentTheme)||n.isNullOrUndefined(this.currentTheme.widgets)||n.isNullOrUndefined(this.currentTheme.widgets.pop)||n.isNullOrUndefined(this.currentTheme.widgets.pop.widgetContainer)||n.isNullOrUndefined(this.currentTheme.widgets.pop.widgetContainer.vsLabel)||n.isNullOrUndefined(this.currentTheme.widgets.pop.widgetContainer.vsLabel.font)||n.isNullOrUndefined(this.currentTheme.widgets.pop.widgetContainer.vsLabel.font.fontSettings)||n.isNullOrUndefined(this.currentTheme.widgets.pop.widgetContainer.vsLabel.font.fontSettings.autoFontSettings)||this.currentTheme.widgets.pop.widgetContainer.vsLabel.font.fontSettings.autoFontSettings||(t=n.DashboardUtil.IsStringNullorWhiteSpace(this.currentTheme.widgets.pop.widgetContainer.vsLabel.font.fontSettings.fontSize)?t:this.currentTheme.widgets.pop.widgetContainer.vsLabel.font.fontSettings.fontSize,i=n.DashboardUtil.IsStringNullorWhiteSpace(this.currentTheme.widgets.pop.widgetContainer.vsLabel.font.fontSettings.fontWeight)?i:this.currentTheme.widgets.pop.widgetContainer.vsLabel.font.fontSettings.fontWeight,r=n.DashboardUtil.IsStringNullorWhiteSpace(this.currentTheme.widgets.pop.widgetContainer.vsLabel.font.fontSettings.fontFamily)?r:this.currentTheme.widgets.pop.widgetContainer.vsLabel.font.fontSettings.fontFamily),t=n.DashboardUtil.IsStringNullorWhiteSpace(t)?"9px":t,i=n.DashboardUtil.IsStringNullorWhiteSpace(i)?"Regular":i,r=n.DashboardUtil.IsStringNullorWhiteSpace(r)?"Heebo', 'Roboto":r,this.getFontStyleCssValue(t,i,r)},t.prototype.getPoPDateRangeRelativeHeaderFont=function(){var t="12px",i=this.getWidgetDataLabelFontWeight(),r=this.getWidgetDataLabelFontFamily();return n.isNullOrUndefined(this.currentTheme)||n.isNullOrUndefined(this.currentTheme.widgets)||n.isNullOrUndefined(this.currentTheme.widgets.pop)||n.isNullOrUndefined(this.currentTheme.widgets.pop.dialog)||n.isNullOrUndefined(this.currentTheme.widgets.pop.dialog.dateRange)||n.isNullOrUndefined(this.currentTheme.widgets.pop.dialog.dateRange.relativeHeader)||n.isNullOrUndefined(this.currentTheme.widgets.pop.dialog.dateRange.relativeHeader.label)||n.isNullOrUndefined(this.currentTheme.widgets.pop.dialog.dateRange.relativeHeader.label.font)||n.isNullOrUndefined(this.currentTheme.widgets.pop.dialog.dateRange.relativeHeader.label.font.fontSettings)||n.isNullOrUndefined(this.currentTheme.widgets.pop.dialog.dateRange.relativeHeader.label.font.fontSettings.autoFontSettings)||this.currentTheme.widgets.pop.dialog.dateRange.relativeHeader.label.font.fontSettings.autoFontSettings||(t=n.DashboardUtil.IsStringNullorWhiteSpace(this.currentTheme.widgets.pop.dialog.dateRange.relativeHeader.label.font.fontSettings.fontSize)?t:this.currentTheme.widgets.pop.dialog.dateRange.relativeHeader.label.font.fontSettings.fontSize,i=n.DashboardUtil.IsStringNullorWhiteSpace(this.currentTheme.widgets.pop.dialog.dateRange.relativeHeader.label.font.fontSettings.fontWeight)?i:this.currentTheme.widgets.pop.dialog.dateRange.relativeHeader.label.font.fontSettings.fontWeight,r=n.DashboardUtil.IsStringNullorWhiteSpace(this.currentTheme.widgets.pop.dialog.dateRange.relativeHeader.label.font.fontSettings.fontFamily)?r:this.currentTheme.widgets.pop.dialog.dateRange.relativeHeader.label.font.fontSettings.fontFamily),t=n.DashboardUtil.IsStringNullorWhiteSpace(t)?"12px":t,i=n.DashboardUtil.IsStringNullorWhiteSpace(i)?"Regular":i,r=n.DashboardUtil.IsStringNullorWhiteSpace(r)?"Heebo', 'Roboto":r,this.getFontStyleCssValue(t,i,r)},t.prototype.getPoPDateRangeRelativeLabelFont=function(){var t="10px",i=this.getWidgetDataLabelFontWeight(),r=this.getWidgetDataLabelFontFamily();return n.isNullOrUndefined(this.currentTheme)||n.isNullOrUndefined(this.currentTheme.widgets)||n.isNullOrUndefined(this.currentTheme.widgets.pop)||n.isNullOrUndefined(this.currentTheme.widgets.pop.dialog)||n.isNullOrUndefined(this.currentTheme.widgets.pop.dialog.dateRange)||n.isNullOrUndefined(this.currentTheme.widgets.pop.dialog.dateRange.relativeLabel)||n.isNullOrUndefined(this.currentTheme.widgets.pop.dialog.dateRange.relativeLabel.font)||n.isNullOrUndefined(this.currentTheme.widgets.pop.dialog.dateRange.relativeLabel.font.fontSettings)||n.isNullOrUndefined(this.currentTheme.widgets.pop.dialog.dateRange.relativeLabel.font.fontSettings.autoFontSettings)||this.currentTheme.widgets.pop.dialog.dateRange.relativeLabel.font.fontSettings.autoFontSettings||(t=n.DashboardUtil.IsStringNullorWhiteSpace(this.currentTheme.widgets.pop.dialog.dateRange.relativeLabel.font.fontSettings.fontSize)?t:this.currentTheme.widgets.pop.dialog.dateRange.relativeLabel.font.fontSettings.fontSize,i=n.DashboardUtil.IsStringNullorWhiteSpace(this.currentTheme.widgets.pop.dialog.dateRange.relativeLabel.font.fontSettings.fontWeight)?i:this.currentTheme.widgets.pop.dialog.dateRange.relativeLabel.font.fontSettings.fontWeight,r=n.DashboardUtil.IsStringNullorWhiteSpace(this.currentTheme.widgets.pop.dialog.dateRange.relativeLabel.font.fontSettings.fontFamily)?r:this.currentTheme.widgets.pop.dialog.dateRange.relativeLabel.font.fontSettings.fontFamily),t=n.DashboardUtil.IsStringNullorWhiteSpace(t)?"10px":t,i=n.DashboardUtil.IsStringNullorWhiteSpace(i)?"Regular":i,r=n.DashboardUtil.IsStringNullorWhiteSpace(r)?"Heebo', 'Roboto":r,this.getFontStyleCssValue(t,i,r)},t.prototype.getPoPDateRangeRelativeComboboxFont=function(){var t="12px",i=this.getWidgetDataLabelFontWeight(),r=this.getWidgetDataLabelFontFamily();return n.isNullOrUndefined(this.currentTheme)||n.isNullOrUndefined(this.currentTheme.widgets)||n.isNullOrUndefined(this.currentTheme.widgets.pop)||n.isNullOrUndefined(this.currentTheme.widgets.pop.dialog)||n.isNullOrUndefined(this.currentTheme.widgets.pop.dialog.dateRange)||n.isNullOrUndefined(this.currentTheme.widgets.pop.dialog.dateRange.relativeComboBox)||n.isNullOrUndefined(this.currentTheme.widgets.pop.dialog.dateRange.relativeComboBox.textBox)||n.isNullOrUndefined(this.currentTheme.widgets.pop.dialog.dateRange.relativeComboBox.textBox.font)||n.isNullOrUndefined(this.currentTheme.widgets.pop.dialog.dateRange.relativeComboBox.textBox.font.fontSettings)||n.isNullOrUndefined(this.currentTheme.widgets.pop.dialog.dateRange.relativeComboBox.textBox.font.fontSettings.autoFontSettings)||this.currentTheme.widgets.pop.dialog.dateRange.relativeComboBox.textBox.font.fontSettings.autoFontSettings||(t=n.DashboardUtil.IsStringNullorWhiteSpace(this.currentTheme.widgets.pop.dialog.dateRange.relativeComboBox.textBox.font.fontSettings.fontSize)?t:this.currentTheme.widgets.pop.dialog.dateRange.relativeComboBox.textBox.font.fontSettings.fontSize,i=n.DashboardUtil.IsStringNullorWhiteSpace(this.currentTheme.widgets.pop.dialog.dateRange.relativeComboBox.textBox.font.fontSettings.fontWeight)?i:this.currentTheme.widgets.pop.dialog.dateRange.relativeComboBox.textBox.font.fontSettings.fontWeight,r=n.DashboardUtil.IsStringNullorWhiteSpace(this.currentTheme.widgets.pop.dialog.dateRange.relativeComboBox.textBox.font.fontSettings.fontFamily)?r:this.currentTheme.widgets.pop.dialog.dateRange.relativeComboBox.textBox.font.fontSettings.fontFamily),t=n.DashboardUtil.IsStringNullorWhiteSpace(t)?"12px":t,i=n.DashboardUtil.IsStringNullorWhiteSpace(i)?"Regular":i,r=n.DashboardUtil.IsStringNullorWhiteSpace(r)?"Heebo', 'Roboto":r,this.getFontStyleCssValue(t,i,r)},t.prototype.getPoPDateRangeRelativeComboboxPopupFont=function(){var t="12px",i=this.getWidgetDataLabelFontWeight(),r=this.getWidgetDataLabelFontFamily();return n.isNullOrUndefined(this.currentTheme)||n.isNullOrUndefined(this.currentTheme.widgets)||n.isNullOrUndefined(this.currentTheme.widgets.pop)||n.isNullOrUndefined(this.currentTheme.widgets.pop.dialog)||n.isNullOrUndefined(this.currentTheme.widgets.pop.dialog.dateRange)||n.isNullOrUndefined(this.currentTheme.widgets.pop.dialog.dateRange.relativeComboBox)||n.isNullOrUndefined(this.currentTheme.widgets.pop.dialog.dateRange.relativeComboBox.popup)||n.isNullOrUndefined(this.currentTheme.widgets.pop.dialog.dateRange.relativeComboBox.popup.text)||n.isNullOrUndefined(this.currentTheme.widgets.pop.dialog.dateRange.relativeComboBox.popup.text.font)||n.isNullOrUndefined(this.currentTheme.widgets.pop.dialog.dateRange.relativeComboBox.popup.text.font.fontSettings)||n.isNullOrUndefined(this.currentTheme.widgets.pop.dialog.dateRange.relativeComboBox.popup.text.font.fontSettings.autoFontSettings)||this.currentTheme.widgets.pop.dialog.dateRange.relativeComboBox.popup.text.font.fontSettings.autoFontSettings||(t=n.DashboardUtil.IsStringNullorWhiteSpace(this.currentTheme.widgets.pop.dialog.dateRange.relativeComboBox.popup.text.font.fontSettings.fontSize)?t:this.currentTheme.widgets.pop.dialog.dateRange.relativeComboBox.popup.text.font.fontSettings.fontSize,i=n.DashboardUtil.IsStringNullorWhiteSpace(this.currentTheme.widgets.pop.dialog.dateRange.relativeComboBox.popup.text.font.fontSettings.fontWeight)?i:this.currentTheme.widgets.pop.dialog.dateRange.relativeComboBox.popup.text.font.fontSettings.fontWeight,r=n.DashboardUtil.IsStringNullorWhiteSpace(this.currentTheme.widgets.pop.dialog.dateRange.relativeComboBox.popup.text.font.fontSettings.fontFamily)?r:this.currentTheme.widgets.pop.dialog.dateRange.relativeComboBox.popup.text.font.fontSettings.fontFamily),t=n.DashboardUtil.IsStringNullorWhiteSpace(t)?"12px":t,i=n.DashboardUtil.IsStringNullorWhiteSpace(i)?"Regular":i,r=n.DashboardUtil.IsStringNullorWhiteSpace(r)?"Heebo', 'Roboto":r,this.getFontStyleCssValue(t,i,r)},t.prototype.getPoPDateRangeWeekHeaderFont=function(){var t="12px",i=this.getWidgetDataLabelFontWeight(),r=this.getWidgetDataLabelFontFamily();return n.isNullOrUndefined(this.currentTheme)||n.isNullOrUndefined(this.currentTheme.widgets)||n.isNullOrUndefined(this.currentTheme.widgets.pop)||n.isNullOrUndefined(this.currentTheme.widgets.pop.dialog)||n.isNullOrUndefined(this.currentTheme.widgets.pop.dialog.dateRange)||n.isNullOrUndefined(this.currentTheme.widgets.pop.dialog.dateRange.calender)||n.isNullOrUndefined(this.currentTheme.widgets.pop.dialog.dateRange.calender.weekHeader)||n.isNullOrUndefined(this.currentTheme.widgets.pop.dialog.dateRange.calender.weekHeader.font)||n.isNullOrUndefined(this.currentTheme.widgets.pop.dialog.dateRange.calender.weekHeader.font.fontSettings)||n.isNullOrUndefined(this.currentTheme.widgets.pop.dialog.dateRange.calender.weekHeader.font.fontSettings.autoFontSettings)||this.currentTheme.widgets.pop.dialog.dateRange.calender.weekHeader.font.fontSettings.autoFontSettings||(t=n.DashboardUtil.IsStringNullorWhiteSpace(this.currentTheme.widgets.pop.dialog.dateRange.calender.weekHeader.font.fontSettings.fontSize)?t:this.currentTheme.widgets.pop.dialog.dateRange.calender.weekHeader.font.fontSettings.fontSize,i=n.DashboardUtil.IsStringNullorWhiteSpace(this.currentTheme.widgets.pop.dialog.dateRange.calender.weekHeader.font.fontSettings.fontWeight)?i:this.currentTheme.widgets.pop.dialog.dateRange.calender.weekHeader.font.fontSettings.fontWeight,r=n.DashboardUtil.IsStringNullorWhiteSpace(this.currentTheme.widgets.pop.dialog.dateRange.calender.weekHeader.font.fontSettings.fontFamily)?r:this.currentTheme.widgets.pop.dialog.dateRange.calender.weekHeader.font.fontSettings.fontFamily),t=n.DashboardUtil.IsStringNullorWhiteSpace(t)?"12px":t,i=n.DashboardUtil.IsStringNullorWhiteSpace(i)?"Regular":i,r=n.DashboardUtil.IsStringNullorWhiteSpace(r)?"Heebo', 'Roboto":r,{size:t,weight:i,family:r}},t.prototype.getPoPDateRangeCalenderFont=function(){var t="12px",i=this.getWidgetDataLabelFontWeight(),r=this.getWidgetDataLabelFontFamily();return n.isNullOrUndefined(this.currentTheme)||n.isNullOrUndefined(this.currentTheme.widgets)||n.isNullOrUndefined(this.currentTheme.widgets.pop)||n.isNullOrUndefined(this.currentTheme.widgets.pop.dialog)||n.isNullOrUndefined(this.currentTheme.widgets.pop.dialog.dateRange)||n.isNullOrUndefined(this.currentTheme.widgets.pop.dialog.dateRange.calender)||n.isNullOrUndefined(this.currentTheme.widgets.pop.dialog.dateRange.calender.content)||n.isNullOrUndefined(this.currentTheme.widgets.pop.dialog.dateRange.calender.content.dateText)||n.isNullOrUndefined(this.currentTheme.widgets.pop.dialog.dateRange.calender.content.dateText.font)||n.isNullOrUndefined(this.currentTheme.widgets.pop.dialog.dateRange.calender.content.dateText.font.fontSettings)||n.isNullOrUndefined(this.currentTheme.widgets.pop.dialog.dateRange.calender.content.dateText.font.fontSettings.autoFontSettings)||this.currentTheme.widgets.pop.dialog.dateRange.calender.content.dateText.font.fontSettings.autoFontSettings||(t=n.DashboardUtil.IsStringNullorWhiteSpace(this.currentTheme.widgets.pop.dialog.dateRange.calender.content.dateText.font.fontSettings.fontSize)?t:this.currentTheme.widgets.pop.dialog.dateRange.calender.content.dateText.font.fontSettings.fontSize,i=n.DashboardUtil.IsStringNullorWhiteSpace(this.currentTheme.widgets.pop.dialog.dateRange.calender.content.dateText.font.fontSettings.fontWeight)?i:this.currentTheme.widgets.pop.dialog.dateRange.calender.content.dateText.font.fontSettings.fontWeight,r=n.DashboardUtil.IsStringNullorWhiteSpace(this.currentTheme.widgets.pop.dialog.dateRange.calender.content.dateText.font.fontSettings.fontFamily)?r:this.currentTheme.widgets.pop.dialog.dateRange.calender.content.dateText.font.fontSettings.fontFamily),t=n.DashboardUtil.IsStringNullorWhiteSpace(t)?"12px":t,i=n.DashboardUtil.IsStringNullorWhiteSpace(i)?"Regular":i,r=n.DashboardUtil.IsStringNullorWhiteSpace(r)?"Heebo', 'Roboto":r,this.getFontStyleCssValue(t,i,r)},t.prototype.getPoPCompareRangeRelativeHeaderFont=function(){var t="12px",i=this.getWidgetDataLabelFontWeight(),r=this.getWidgetDataLabelFontFamily();return n.isNullOrUndefined(this.currentTheme)||n.isNullOrUndefined(this.currentTheme.widgets)||n.isNullOrUndefined(this.currentTheme.widgets.pop)||n.isNullOrUndefined(this.currentTheme.widgets.pop.dialog)||n.isNullOrUndefined(this.currentTheme.widgets.pop.dialog.compareRange)||n.isNullOrUndefined(this.currentTheme.widgets.pop.dialog.compareRange.relativeHeader)||n.isNullOrUndefined(this.currentTheme.widgets.pop.dialog.compareRange.relativeHeader.label)||n.isNullOrUndefined(this.currentTheme.widgets.pop.dialog.compareRange.relativeHeader.label.font)||n.isNullOrUndefined(this.currentTheme.widgets.pop.dialog.compareRange.relativeHeader.label.font.fontSettings)||n.isNullOrUndefined(this.currentTheme.widgets.pop.dialog.compareRange.relativeHeader.label.font.fontSettings.autoFontSettings)||this.currentTheme.widgets.pop.dialog.compareRange.relativeHeader.label.font.fontSettings.autoFontSettings||(t=n.DashboardUtil.IsStringNullorWhiteSpace(this.currentTheme.widgets.pop.dialog.compareRange.relativeHeader.label.font.fontSettings.fontSize)?t:this.currentTheme.widgets.pop.dialog.compareRange.relativeHeader.label.font.fontSettings.fontSize,i=n.DashboardUtil.IsStringNullorWhiteSpace(this.currentTheme.widgets.pop.dialog.compareRange.relativeHeader.label.font.fontSettings.fontWeight)?i:this.currentTheme.widgets.pop.dialog.compareRange.relativeHeader.label.font.fontSettings.fontWeight,r=n.DashboardUtil.IsStringNullorWhiteSpace(this.currentTheme.widgets.pop.dialog.compareRange.relativeHeader.label.font.fontSettings.fontFamily)?r:this.currentTheme.widgets.pop.dialog.compareRange.relativeHeader.label.font.fontSettings.fontFamily),t=n.DashboardUtil.IsStringNullorWhiteSpace(t)?"12px":t,i=n.DashboardUtil.IsStringNullorWhiteSpace(i)?"Regular":i,r=n.DashboardUtil.IsStringNullorWhiteSpace(r)?"Heebo', 'Roboto":r,this.getFontStyleCssValue(t,i,r)},t.prototype.getPoPCompareRangeRelativeLabelFont=function(){var t="10px",i=this.getWidgetDataLabelFontWeight(),r=this.getWidgetDataLabelFontFamily();return n.isNullOrUndefined(this.currentTheme)||n.isNullOrUndefined(this.currentTheme.widgets)||n.isNullOrUndefined(this.currentTheme.widgets.pop)||n.isNullOrUndefined(this.currentTheme.widgets.pop.dialog)||n.isNullOrUndefined(this.currentTheme.widgets.pop.dialog.compareRange)||n.isNullOrUndefined(this.currentTheme.widgets.pop.dialog.compareRange.relativeLabel)||n.isNullOrUndefined(this.currentTheme.widgets.pop.dialog.compareRange.relativeLabel.font)||n.isNullOrUndefined(this.currentTheme.widgets.pop.dialog.compareRange.relativeLabel.font.fontSettings)||n.isNullOrUndefined(this.currentTheme.widgets.pop.dialog.compareRange.relativeLabel.font.fontSettings.autoFontSettings)||this.currentTheme.widgets.pop.dialog.compareRange.relativeLabel.font.fontSettings.autoFontSettings||(t=n.DashboardUtil.IsStringNullorWhiteSpace(this.currentTheme.widgets.pop.dialog.compareRange.relativeLabel.font.fontSettings.fontSize)?t:this.currentTheme.widgets.pop.dialog.compareRange.relativeLabel.font.fontSettings.fontSize,i=n.DashboardUtil.IsStringNullorWhiteSpace(this.currentTheme.widgets.pop.dialog.compareRange.relativeLabel.font.fontSettings.fontWeight)?i:this.currentTheme.widgets.pop.dialog.compareRange.relativeLabel.font.fontSettings.fontWeight,r=n.DashboardUtil.IsStringNullorWhiteSpace(this.currentTheme.widgets.pop.dialog.compareRange.relativeLabel.font.fontSettings.fontFamily)?r:this.currentTheme.widgets.pop.dialog.compareRange.relativeLabel.font.fontSettings.fontFamily),t=n.DashboardUtil.IsStringNullorWhiteSpace(t)?"10px":t,i=n.DashboardUtil.IsStringNullorWhiteSpace(i)?"Regular":i,r=n.DashboardUtil.IsStringNullorWhiteSpace(r)?"Heebo', 'Roboto":r,this.getFontStyleCssValue(t,i,r)},t.prototype.getPoPCompareRangeRelativeComboboxFont=function(){var t="12px",i=this.getWidgetDataLabelFontWeight(),r=this.getWidgetDataLabelFontFamily();return n.isNullOrUndefined(this.currentTheme)||n.isNullOrUndefined(this.currentTheme.widgets)||n.isNullOrUndefined(this.currentTheme.widgets.pop)||n.isNullOrUndefined(this.currentTheme.widgets.pop.dialog)||n.isNullOrUndefined(this.currentTheme.widgets.pop.dialog.compareRange)||n.isNullOrUndefined(this.currentTheme.widgets.pop.dialog.compareRange.relativeComboBox)||n.isNullOrUndefined(this.currentTheme.widgets.pop.dialog.compareRange.relativeComboBox.textBox)||n.isNullOrUndefined(this.currentTheme.widgets.pop.dialog.compareRange.relativeComboBox.textBox.font)||n.isNullOrUndefined(this.currentTheme.widgets.pop.dialog.compareRange.relativeComboBox.textBox.font.fontSettings)||n.isNullOrUndefined(this.currentTheme.widgets.pop.dialog.compareRange.relativeComboBox.textBox.font.fontSettings.autoFontSettings)||this.currentTheme.widgets.pop.dialog.compareRange.relativeComboBox.textBox.font.fontSettings.autoFontSettings||(t=n.DashboardUtil.IsStringNullorWhiteSpace(this.currentTheme.widgets.pop.dialog.compareRange.relativeComboBox.textBox.font.fontSettings.fontSize)?t:this.currentTheme.widgets.pop.dialog.compareRange.relativeComboBox.textBox.font.fontSettings.fontSize,i=n.DashboardUtil.IsStringNullorWhiteSpace(this.currentTheme.widgets.pop.dialog.compareRange.relativeComboBox.textBox.font.fontSettings.fontWeight)?i:this.currentTheme.widgets.pop.dialog.compareRange.relativeComboBox.textBox.font.fontSettings.fontWeight,r=n.DashboardUtil.IsStringNullorWhiteSpace(this.currentTheme.widgets.pop.dialog.compareRange.relativeComboBox.textBox.font.fontSettings.fontFamily)?r:this.currentTheme.widgets.pop.dialog.compareRange.relativeComboBox.textBox.font.fontSettings.fontFamily),t=n.DashboardUtil.IsStringNullorWhiteSpace(t)?"12px":t,i=n.DashboardUtil.IsStringNullorWhiteSpace(i)?"Regular":i,r=n.DashboardUtil.IsStringNullorWhiteSpace(r)?"Heebo', 'Roboto":r,this.getFontStyleCssValue(t,i,r)},t.prototype.getPoPCompareRangeRelativeComboboxPopupFont=function(){var t="12px",i=this.getWidgetDataLabelFontWeight(),r=this.getWidgetDataLabelFontFamily();return n.isNullOrUndefined(this.currentTheme)||n.isNullOrUndefined(this.currentTheme.widgets)||n.isNullOrUndefined(this.currentTheme.widgets.pop)||n.isNullOrUndefined(this.currentTheme.widgets.pop.dialog)||n.isNullOrUndefined(this.currentTheme.widgets.pop.dialog.compareRange)||n.isNullOrUndefined(this.currentTheme.widgets.pop.dialog.compareRange.relativeComboBox)||n.isNullOrUndefined(this.currentTheme.widgets.pop.dialog.compareRange.relativeComboBox.popup)||n.isNullOrUndefined(this.currentTheme.widgets.pop.dialog.compareRange.relativeComboBox.popup.text)||n.isNullOrUndefined(this.currentTheme.widgets.pop.dialog.compareRange.relativeComboBox.popup.text.font)||n.isNullOrUndefined(this.currentTheme.widgets.pop.dialog.compareRange.relativeComboBox.popup.text.font.fontSettings)||n.isNullOrUndefined(this.currentTheme.widgets.pop.dialog.compareRange.relativeComboBox.popup.text.font.fontSettings.autoFontSettings)||this.currentTheme.widgets.pop.dialog.compareRange.relativeComboBox.popup.text.font.fontSettings.autoFontSettings||(t=n.DashboardUtil.IsStringNullorWhiteSpace(this.currentTheme.widgets.pop.dialog.compareRange.relativeComboBox.popup.text.font.fontSettings.fontSize)?t:this.currentTheme.widgets.pop.dialog.compareRange.relativeComboBox.popup.text.font.fontSettings.fontSize,i=n.DashboardUtil.IsStringNullorWhiteSpace(this.currentTheme.widgets.pop.dialog.compareRange.relativeComboBox.popup.text.font.fontSettings.fontWeight)?i:this.currentTheme.widgets.pop.dialog.compareRange.relativeComboBox.popup.text.font.fontSettings.fontWeight,r=n.DashboardUtil.IsStringNullorWhiteSpace(this.currentTheme.widgets.pop.dialog.compareRange.relativeComboBox.popup.text.font.fontSettings.fontFamily)?r:this.currentTheme.widgets.pop.dialog.compareRange.relativeComboBox.popup.text.font.fontSettings.fontFamily),t=n.DashboardUtil.IsStringNullorWhiteSpace(t)?"12px":t,i=n.DashboardUtil.IsStringNullorWhiteSpace(i)?"Regular":i,r=n.DashboardUtil.IsStringNullorWhiteSpace(r)?"Heebo', 'Roboto":r,this.getFontStyleCssValue(t,i,r)},t.prototype.getPoPCompareRangeWeekHeaderFont=function(){var t="12px",i=this.getWidgetDataLabelFontWeight(),r=this.getWidgetDataLabelFontFamily();return n.isNullOrUndefined(this.currentTheme)||n.isNullOrUndefined(this.currentTheme.widgets)||n.isNullOrUndefined(this.currentTheme.widgets.pop)||n.isNullOrUndefined(this.currentTheme.widgets.pop.dialog)||n.isNullOrUndefined(this.currentTheme.widgets.pop.dialog.compareRange)||n.isNullOrUndefined(this.currentTheme.widgets.pop.dialog.compareRange.calender)||n.isNullOrUndefined(this.currentTheme.widgets.pop.dialog.compareRange.calender.weekHeader)||n.isNullOrUndefined(this.currentTheme.widgets.pop.dialog.compareRange.calender.weekHeader.font)||n.isNullOrUndefined(this.currentTheme.widgets.pop.dialog.compareRange.calender.weekHeader.font.fontSettings)||n.isNullOrUndefined(this.currentTheme.widgets.pop.dialog.compareRange.calender.weekHeader.font.fontSettings.autoFontSettings)||this.currentTheme.widgets.pop.dialog.compareRange.calender.weekHeader.font.fontSettings.autoFontSettings||(t=n.DashboardUtil.IsStringNullorWhiteSpace(this.currentTheme.widgets.pop.dialog.compareRange.calender.weekHeader.font.fontSettings.fontSize)?t:this.currentTheme.widgets.pop.dialog.compareRange.calender.weekHeader.font.fontSettings.fontSize,i=n.DashboardUtil.IsStringNullorWhiteSpace(this.currentTheme.widgets.pop.dialog.compareRange.calender.weekHeader.font.fontSettings.fontWeight)?i:this.currentTheme.widgets.pop.dialog.compareRange.calender.weekHeader.font.fontSettings.fontWeight,r=n.DashboardUtil.IsStringNullorWhiteSpace(this.currentTheme.widgets.pop.dialog.compareRange.calender.weekHeader.font.fontSettings.fontFamily)?r:this.currentTheme.widgets.pop.dialog.compareRange.calender.weekHeader.font.fontSettings.fontFamily),t=n.DashboardUtil.IsStringNullorWhiteSpace(t)?"12px":t,i=n.DashboardUtil.IsStringNullorWhiteSpace(i)?"Regular":i,r=n.DashboardUtil.IsStringNullorWhiteSpace(r)?"Heebo', 'Roboto":r,{size:t,weight:i,family:r}},t.prototype.getPoPCompareRangeCalenderFont=function(){var t="12px",i=this.getWidgetDataLabelFontWeight(),r=this.getWidgetDataLabelFontFamily();return n.isNullOrUndefined(this.currentTheme)||n.isNullOrUndefined(this.currentTheme.widgets)||n.isNullOrUndefined(this.currentTheme.widgets.pop)||n.isNullOrUndefined(this.currentTheme.widgets.pop.dialog)||n.isNullOrUndefined(this.currentTheme.widgets.pop.dialog.compareRange)||n.isNullOrUndefined(this.currentTheme.widgets.pop.dialog.compareRange.calender)||n.isNullOrUndefined(this.currentTheme.widgets.pop.dialog.compareRange.calender.content)||n.isNullOrUndefined(this.currentTheme.widgets.pop.dialog.compareRange.calender.content.dateText)||n.isNullOrUndefined(this.currentTheme.widgets.pop.dialog.compareRange.calender.content.dateText.font)||n.isNullOrUndefined(this.currentTheme.widgets.pop.dialog.compareRange.calender.content.dateText.font.fontSettings)||n.isNullOrUndefined(this.currentTheme.widgets.pop.dialog.compareRange.calender.content.dateText.font.fontSettings.autoFontSettings)||this.currentTheme.widgets.pop.dialog.compareRange.calender.content.dateText.font.fontSettings.autoFontSettings||(t=n.DashboardUtil.IsStringNullorWhiteSpace(this.currentTheme.widgets.pop.dialog.compareRange.calender.content.dateText.font.fontSettings.fontSize)?t:this.currentTheme.widgets.pop.dialog.compareRange.calender.content.dateText.font.fontSettings.fontSize,i=n.DashboardUtil.IsStringNullorWhiteSpace(this.currentTheme.widgets.pop.dialog.compareRange.calender.content.dateText.font.fontSettings.fontWeight)?i:this.currentTheme.widgets.pop.dialog.compareRange.calender.content.dateText.font.fontSettings.fontWeight,r=n.DashboardUtil.IsStringNullorWhiteSpace(this.currentTheme.widgets.pop.dialog.compareRange.calender.content.dateText.font.fontSettings.fontFamily)?r:this.currentTheme.widgets.pop.dialog.compareRange.calender.content.dateText.font.fontSettings.fontFamily),t=n.DashboardUtil.IsStringNullorWhiteSpace(t)?"12px":t,i=n.DashboardUtil.IsStringNullorWhiteSpace(i)?"Regular":i,r=n.DashboardUtil.IsStringNullorWhiteSpace(r)?"Heebo', 'Roboto":r,this.getFontStyleCssValue(t,i,r)},t.prototype.getPoPDialogVSLabelFont=function(){var t="12px",i=this.getWidgetDataLabelFontWeight(),r=this.getWidgetDataLabelFontFamily();return n.isNullOrUndefined(this.currentTheme)||n.isNullOrUndefined(this.currentTheme.widgets)||n.isNullOrUndefined(this.currentTheme.widgets.pop)||n.isNullOrUndefined(this.currentTheme.widgets.pop.dialog)||n.isNullOrUndefined(this.currentTheme.widgets.pop.dialog.vsLabel)||n.isNullOrUndefined(this.currentTheme.widgets.pop.dialog.vsLabel.font)||n.isNullOrUndefined(this.currentTheme.widgets.pop.dialog.vsLabel.font.fontSettings)||n.isNullOrUndefined(this.currentTheme.widgets.pop.dialog.vsLabel.font.fontSettings.autoFontSettings)||this.currentTheme.widgets.pop.dialog.vsLabel.font.fontSettings.autoFontSettings||(t=n.DashboardUtil.IsStringNullorWhiteSpace(this.currentTheme.widgets.pop.dialog.vsLabel.font.fontSettings.fontSize)?t:this.currentTheme.widgets.pop.dialog.vsLabel.font.fontSettings.fontSize,i=n.DashboardUtil.IsStringNullorWhiteSpace(this.currentTheme.widgets.pop.dialog.vsLabel.font.fontSettings.fontWeight)?i:this.currentTheme.widgets.pop.dialog.vsLabel.font.fontSettings.fontWeight,r=n.DashboardUtil.IsStringNullorWhiteSpace(this.currentTheme.widgets.pop.dialog.vsLabel.font.fontSettings.fontFamily)?r:this.currentTheme.widgets.pop.dialog.vsLabel.font.fontSettings.fontFamily),t=n.DashboardUtil.IsStringNullorWhiteSpace(t)?"12px":t,i=n.DashboardUtil.IsStringNullorWhiteSpace(i)?"Regular":i,r=n.DashboardUtil.IsStringNullorWhiteSpace(r)?"Heebo', 'Roboto":r,this.getFontStyleCssValue(t,i,r)},t.prototype.getPoPDialogFooterApplyButtonFont=function(){var t="13px",i=this.getWidgetDataLabelFontWeight(),r=this.getWidgetDataLabelFontFamily();return n.isNullOrUndefined(this.currentTheme)||n.isNullOrUndefined(this.currentTheme.widgets)||n.isNullOrUndefined(this.currentTheme.widgets.pop)||n.isNullOrUndefined(this.currentTheme.widgets.pop.dialog)||n.isNullOrUndefined(this.currentTheme.widgets.pop.dialog.footer)||n.isNullOrUndefined(this.currentTheme.widgets.pop.dialog.footer.okButton)||n.isNullOrUndefined(this.currentTheme.widgets.pop.dialog.footer.okButton.text)||n.isNullOrUndefined(this.currentTheme.widgets.pop.dialog.footer.okButton.text.font)||n.isNullOrUndefined(this.currentTheme.widgets.pop.dialog.footer.okButton.text.font.fontSettings)||n.isNullOrUndefined(this.currentTheme.widgets.pop.dialog.footer.okButton.text.font.fontSettings.autoFontSettings)||this.currentTheme.widgets.pop.dialog.footer.okButton.text.font.fontSettings.autoFontSettings||(t=n.DashboardUtil.IsStringNullorWhiteSpace(this.currentTheme.widgets.pop.dialog.footer.okButton.text.font.fontSettings.fontSize)?t:this.currentTheme.widgets.pop.dialog.footer.okButton.text.font.fontSettings.fontSize,i=n.DashboardUtil.IsStringNullorWhiteSpace(this.currentTheme.widgets.pop.dialog.footer.okButton.text.font.fontSettings.fontWeight)?i:this.currentTheme.widgets.pop.dialog.footer.okButton.text.font.fontSettings.fontWeight,r=n.DashboardUtil.IsStringNullorWhiteSpace(this.currentTheme.widgets.pop.dialog.footer.okButton.text.font.fontSettings.fontFamily)?r:this.currentTheme.widgets.pop.dialog.footer.okButton.text.font.fontSettings.fontFamily),t=n.DashboardUtil.IsStringNullorWhiteSpace(t)?"13px":t,i=n.DashboardUtil.IsStringNullorWhiteSpace(i)?"Regular":i,r=n.DashboardUtil.IsStringNullorWhiteSpace(r)?"Heebo', 'Roboto":r,this.getFontStyleCssValue(t,i,r)},t.prototype.getPoPDialogFooterCancelButtonFont=function(){var t="13px",i=this.getWidgetDataLabelFontWeight(),r=this.getWidgetDataLabelFontFamily();return n.isNullOrUndefined(this.currentTheme)||n.isNullOrUndefined(this.currentTheme.widgets)||n.isNullOrUndefined(this.currentTheme.widgets.pop)||n.isNullOrUndefined(this.currentTheme.widgets.pop.dialog)||n.isNullOrUndefined(this.currentTheme.widgets.pop.dialog.footer)||n.isNullOrUndefined(this.currentTheme.widgets.pop.dialog.footer.cancelButton)||n.isNullOrUndefined(this.currentTheme.widgets.pop.dialog.footer.cancelButton.text)||n.isNullOrUndefined(this.currentTheme.widgets.pop.dialog.footer.cancelButton.text.font)||n.isNullOrUndefined(this.currentTheme.widgets.pop.dialog.footer.cancelButton.text.font.fontSettings)||n.isNullOrUndefined(this.currentTheme.widgets.pop.dialog.footer.cancelButton.text.font.fontSettings.autoFontSettings)||this.currentTheme.widgets.pop.dialog.footer.cancelButton.text.font.fontSettings.autoFontSettings||(t=n.DashboardUtil.IsStringNullorWhiteSpace(this.currentTheme.widgets.pop.dialog.footer.cancelButton.text.font.fontSettings.fontSize)?t:this.currentTheme.widgets.pop.dialog.footer.cancelButton.text.font.fontSettings.fontSize,i=n.DashboardUtil.IsStringNullorWhiteSpace(this.currentTheme.widgets.pop.dialog.footer.cancelButton.text.font.fontSettings.fontWeight)?i:this.currentTheme.widgets.pop.dialog.footer.cancelButton.text.font.fontSettings.fontWeight,r=n.DashboardUtil.IsStringNullorWhiteSpace(this.currentTheme.widgets.pop.dialog.footer.cancelButton.text.font.fontSettings.fontFamily)?r:this.currentTheme.widgets.pop.dialog.footer.cancelButton.text.font.fontSettings.fontFamily),t=n.DashboardUtil.IsStringNullorWhiteSpace(t)?"13px":t,i=n.DashboardUtil.IsStringNullorWhiteSpace(i)?"Regular":i,r=n.DashboardUtil.IsStringNullorWhiteSpace(r)?"Heebo', 'Roboto":r,this.getFontStyleCssValue(t,i,r)},t.prototype.getPOPHeaderTitle=function(){var t,i,r;return n.isNullOrUndefined(this.currentTheme)||n.isNullOrUndefined(this.currentTheme.widgets)||n.isNullOrUndefined(this.currentTheme.widgets.pop)||n.isNullOrUndefined(this.currentTheme.widgets.pop.widgetHeader)||n.isNullOrUndefined(this.currentTheme.widgets.pop.widgetHeader.title)||n.isNullOrUndefined(this.currentTheme.widgets.pop.widgetHeader.title.fontSettings)?(t=this.getWidgetTitleFontSize(),i=this.getWidgetTitleFontWeight(),r=this.getWidgetTitleFontFamily()):n.isNullOrUndefined(this.currentTheme.widgets.pop.widgetHeader.title.fontSettings.autoFontSettings)||this.currentTheme.widgets.pop.widgetHeader.title.fontSettings.autoFontSettings||(t=n.isNullOrUndefined(this.currentTheme.widgets.pop.widgetHeader.title.fontSettings.fontSize)||n.DashboardUtil.IsStringNullorWhiteSpace(this.currentTheme.widgets.pop.widgetHeader.title.fontSettings.fontSize)?this.getWidgetTitleFontSize():this.currentTheme.widgets.pop.widgetHeader.title.fontSettings.fontSize,i=n.isNullOrUndefined(this.currentTheme.widgets.pop.widgetHeader.title.fontSettings.fontWeight)||n.DashboardUtil.IsStringNullorWhiteSpace(this.currentTheme.widgets.pop.widgetHeader.title.fontSettings.fontWeight)?this.getWidgetTitleFontWeight():this.currentTheme.widgets.pop.widgetHeader.title.fontSettings.fontWeight,r=n.isNullOrUndefined(this.currentTheme.widgets.pop.widgetHeader.title.fontSettings.fontFamily)||n.DashboardUtil.IsStringNullorWhiteSpace(this.currentTheme.widgets.pop.widgetHeader.title.fontSettings.fontFamily)?this.getWidgetTitleFontFamily():this.currentTheme.widgets.pop.widgetHeader.title.fontSettings.fontFamily,this.updateFontSrcList(this.currentTheme.widgets.pop.widgetHeader.title.fontSettings.fontFamily,this.currentTheme.widgets.pop.widgetHeader.title.fontSettings.fontSrc)),t=this.updateMaxValueIfSizeExceeds(t,MaximumFontValues.widgetTitle),this.getFontStyleCssValue(t,i,r)},t.prototype.getPOPHeaderSubTitle=function(){var t,i,r;if(n.isNullOrUndefined(this.currentTheme)||n.isNullOrUndefined(this.currentTheme.widgets)||n.isNullOrUndefined(this.currentTheme.widgets.pop)||n.isNullOrUndefined(this.currentTheme.widgets.pop.widgetHeader)||n.isNullOrUndefined(this.currentTheme.widgets.pop.widgetHeader.subTitle)||n.isNullOrUndefined(this.currentTheme.widgets.pop.widgetHeader.subTitle.fontSettings))t=this.getWidgetSubTitleFontSize(),i=this.getWidgetSubTitleFontWeight(),r=this.getWidgetSubTitleFontFamily();else{if(n.isNullOrUndefined(this.currentTheme.widgets.pop.widgetHeader.subTitle.fontSettings.autoFontSettings)||this.currentTheme.widgets.pop.widgetHeader.subTitle.fontSettings.autoFontSettings)return"";t=n.isNullOrUndefined(this.currentTheme.widgets.pop.widgetHeader.subTitle.fontSettings.fontSize)||n.DashboardUtil.IsStringNullorWhiteSpace(this.currentTheme.widgets.pop.widgetHeader.subTitle.fontSettings.fontSize)?this.getWidgetSubTitleFontSize():this.currentTheme.widgets.pop.widgetHeader.subTitle.fontSettings.fontSize;i=n.isNullOrUndefined(this.currentTheme.widgets.pop.widgetHeader.subTitle.fontSettings.fontWeight)||n.DashboardUtil.IsStringNullorWhiteSpace(this.currentTheme.widgets.pop.widgetHeader.subTitle.fontSettings.fontWeight)?this.getWidgetSubTitleFontWeight():this.currentTheme.widgets.pop.widgetHeader.subTitle.fontSettings.fontWeight;r=n.isNullOrUndefined(this.currentTheme.widgets.pop.widgetHeader.subTitle.fontSettings.fontFamily)||n.DashboardUtil.IsStringNullorWhiteSpace(this.currentTheme.widgets.pop.widgetHeader.subTitle.fontSettings.fontFamily)?this.getWidgetSubTitleFontFamily():this.currentTheme.widgets.pop.widgetHeader.subTitle.fontSettings.fontFamily;this.updateFontSrcList(this.currentTheme.widgets.pop.widgetHeader.subTitle.fontSettings.fontFamily,this.currentTheme.widgets.pop.widgetHeader.subTitle.fontSettings.fontSrc)}return t=this.updateMaxValueIfSizeExceeds(t,MaximumFontValues.widgetSubTitle),this.getFontStyleCssValue(t,i,r)},t.prototype.getAlertDialogHeaderBackground=function(){return n.isNullOrUndefined(this.currentTheme)||n.isNullOrUndefined(this.currentTheme.alertDialgog)||n.isNullOrUndefined(this.currentTheme.alertDialgog.header)||n.DashboardUtil.IsStringNullorWhiteSpace(this.currentTheme.alertDialgog.header.background)?this.isDarkTypeTheme()?this.darkMode.alertDialgog.header.background:this.lightMode.alertDialgog.header.background:this.currentTheme.alertDialgog.header.background},t.prototype.getAlertDialogHeaderTextColor=function(){return n.isNullOrUndefined(this.currentTheme)||n.isNullOrUndefined(this.currentTheme.alertDialgog)||n.isNullOrUndefined(this.currentTheme.alertDialgog.header)||n.DashboardUtil.IsStringNullorWhiteSpace(this.currentTheme.alertDialgog.header.font.color)?this.isDarkTypeTheme()?this.darkMode.alertDialgog.header.font.color:this.lightMode.alertDialgog.header.font.color:this.currentTheme.alertDialgog.header.font.color},t.prototype.getAlertDialogContentBackground=function(){return n.isNullOrUndefined(this.currentTheme)||n.isNullOrUndefined(this.currentTheme.alertDialgog)||n.isNullOrUndefined(this.currentTheme.alertDialgog.content)||n.DashboardUtil.IsStringNullorWhiteSpace(this.currentTheme.alertDialgog.content.background)?this.isDarkTypeTheme()?this.darkMode.alertDialgog.content.background:this.lightMode.alertDialgog.content.background:this.currentTheme.alertDialgog.content.background},t.prototype.getAlertDialogContentTextColor=function(){return n.isNullOrUndefined(this.currentTheme)||n.isNullOrUndefined(this.currentTheme.alertDialgog)||n.isNullOrUndefined(this.currentTheme.alertDialgog.header)||n.DashboardUtil.IsStringNullorWhiteSpace(this.currentTheme.alertDialgog.content.font.color)?this.isDarkTypeTheme()?this.darkMode.alertDialgog.content.font.color:this.lightMode.alertDialgog.content.font.color:this.currentTheme.alertDialgog.content.font.color},t.prototype.getAlertDialogErrorContentBackground=function(){return n.isNullOrUndefined(this.currentTheme)||n.isNullOrUndefined(this.currentTheme.alertDialgog)||n.isNullOrUndefined(this.currentTheme.alertDialgog.error)||n.DashboardUtil.IsStringNullorWhiteSpace(this.currentTheme.alertDialgog.error.background)?this.isDarkTypeTheme()?this.darkMode.alertDialgog.error.background:this.lightMode.alertDialgog.error.background:this.currentTheme.alertDialgog.error.background},t.prototype.getAlertDialogErrorContentTextColor=function(){return n.isNullOrUndefined(this.currentTheme)||n.isNullOrUndefined(this.currentTheme.alertDialgog)||n.isNullOrUndefined(this.currentTheme.alertDialgog.error)||n.isNullOrUndefined(this.currentTheme.alertDialgog.error.font)||n.DashboardUtil.IsStringNullorWhiteSpace(this.currentTheme.alertDialgog.error.font.color)?this.isDarkTypeTheme()?this.darkMode.alertDialgog.error.font.color:this.lightMode.alertDialgog.error.font.color:this.currentTheme.alertDialgog.error.font.color},t.prototype.getAlertDialogFooterBackground=function(){return n.isNullOrUndefined(this.currentTheme)||n.isNullOrUndefined(this.currentTheme.alertDialgog)||n.DashboardUtil.IsStringNullorWhiteSpace(this.currentTheme.alertDialgog.footerBackground)?this.isDarkTypeTheme()?this.darkMode.alertDialgog.footerBackground:this.lightMode.alertDialgog.footerBackground:this.currentTheme.alertDialgog.footerBackground},t.prototype.getAlertDialogCopyButtonBackground=function(){return n.isNullOrUndefined(this.currentTheme)||n.isNullOrUndefined(this.currentTheme.alertDialgog)||n.isNullOrUndefined(this.currentTheme.alertDialgog.copyButton)||n.DashboardUtil.IsStringNullorWhiteSpace(this.currentTheme.alertDialgog.copyButton.background)?this.isDarkTypeTheme()?this.darkMode.alertDialgog.copyButton.background:this.lightMode.alertDialgog.copyButton.background:this.currentTheme.alertDialgog.copyButton.background},t.prototype.getAlertDialogCopyButtonHoverBackground=function(){return n.isNullOrUndefined(this.currentTheme)||n.isNullOrUndefined(this.currentTheme.alertDialgog)||n.isNullOrUndefined(this.currentTheme.alertDialgog.copyButton)||n.isNullOrUndefined(this.currentTheme.alertDialgog.copyButton.hover)||n.DashboardUtil.IsStringNullorWhiteSpace(this.currentTheme.alertDialgog.copyButton.hover.background)?this.isDarkTypeTheme()?this.darkMode.alertDialgog.copyButton.hover.background:this.lightMode.alertDialgog.copyButton.hover.background:this.currentTheme.alertDialgog.copyButton.hover.background},t.prototype.getAlertDialogCopyButtonPressBackground=function(){return n.isNullOrUndefined(this.currentTheme)||n.isNullOrUndefined(this.currentTheme.alertDialgog)||n.isNullOrUndefined(this.currentTheme.alertDialgog.copyButton)||n.isNullOrUndefined(this.currentTheme.alertDialgog.copyButton.press)||n.DashboardUtil.IsStringNullorWhiteSpace(this.currentTheme.alertDialgog.copyButton.press.background)?this.isDarkTypeTheme()?this.darkMode.alertDialgog.copyButton.press.background:this.lightMode.alertDialgog.copyButton.press.background:this.currentTheme.alertDialgog.copyButton.press.background},t.prototype.getAlertDialogCopyButtonTextColor=function(){return n.isNullOrUndefined(this.currentTheme)||n.isNullOrUndefined(this.currentTheme.alertDialgog)||n.isNullOrUndefined(this.currentTheme.alertDialgog.copyButton)||n.isNullOrUndefined(this.currentTheme.alertDialgog.copyButton.font)||n.DashboardUtil.IsStringNullorWhiteSpace(this.currentTheme.alertDialgog.copyButton.font.color)?this.isDarkTypeTheme()?this.darkMode.alertDialgog.copyButton.font.color:this.lightMode.alertDialgog.copyButton.font.color:this.currentTheme.alertDialgog.copyButton.font.color},t.prototype.getAlertDialogCopyButtonHoverTextColor=function(){return n.isNullOrUndefined(this.currentTheme)||n.isNullOrUndefined(this.currentTheme.alertDialgog)||n.isNullOrUndefined(this.currentTheme.alertDialgog.copyButton)||n.isNullOrUndefined(this.currentTheme.alertDialgog.copyButton.hover)||n.isNullOrUndefined(this.currentTheme.alertDialgog.copyButton.hover.font)||n.DashboardUtil.IsStringNullorWhiteSpace(this.currentTheme.alertDialgog.copyButton.hover.font.color)?this.isDarkTypeTheme()?this.darkMode.alertDialgog.copyButton.hover.font.color:this.lightMode.alertDialgog.copyButton.hover.font.color:this.currentTheme.alertDialgog.copyButton.hover.font.color},t.prototype.getAlertDialogCopyButtonPressTextColor=function(){return n.isNullOrUndefined(this.currentTheme)||n.isNullOrUndefined(this.currentTheme.alertDialgog)||n.isNullOrUndefined(this.currentTheme.alertDialgog.copyButton)||n.isNullOrUndefined(this.currentTheme.alertDialgog.copyButton.press)||n.isNullOrUndefined(this.currentTheme.alertDialgog.copyButton.press.font)||n.DashboardUtil.IsStringNullorWhiteSpace(this.currentTheme.alertDialgog.copyButton.press.font.color)?this.isDarkTypeTheme()?this.darkMode.alertDialgog.copyButton.press.font.color:this.lightMode.alertDialgog.copyButton.press.font.color:this.currentTheme.alertDialgog.copyButton.press.font.color},t.prototype.getAlertDialogOkButtonBackground=function(){return n.isNullOrUndefined(this.currentTheme)||n.isNullOrUndefined(this.currentTheme.alertDialgog)||n.isNullOrUndefined(this.currentTheme.alertDialgog.okButton)||n.DashboardUtil.IsStringNullorWhiteSpace(this.currentTheme.alertDialgog.okButton.background)?this.isDarkTypeTheme()?this.darkMode.alertDialgog.okButton.background:this.lightMode.alertDialgog.okButton.background:this.currentTheme.alertDialgog.okButton.background},t.prototype.getAlertDialogOkButtonHoverBackground=function(){return n.isNullOrUndefined(this.currentTheme)||n.isNullOrUndefined(this.currentTheme.alertDialgog)||n.isNullOrUndefined(this.currentTheme.alertDialgog.okButton)||n.isNullOrUndefined(this.currentTheme.alertDialgog.okButton.hover)||n.DashboardUtil.IsStringNullorWhiteSpace(this.currentTheme.alertDialgog.okButton.hover.background)?this.isDarkTypeTheme()?this.darkMode.alertDialgog.okButton.hover.background:this.lightMode.alertDialgog.okButton.hover.background:this.currentTheme.alertDialgog.okButton.hover.background},t.prototype.getAlertDialogOkButtonPressBackground=function(){return n.isNullOrUndefined(this.currentTheme)||n.isNullOrUndefined(this.currentTheme.alertDialgog)||n.isNullOrUndefined(this.currentTheme.alertDialgog.okButton)||n.isNullOrUndefined(this.currentTheme.alertDialgog.okButton.press)||n.DashboardUtil.IsStringNullorWhiteSpace(this.currentTheme.alertDialgog.okButton.press.background)?this.isDarkTypeTheme()?this.darkMode.alertDialgog.okButton.press.background:this.lightMode.alertDialgog.okButton.press.background:this.currentTheme.alertDialgog.okButton.press.background},t.prototype.getAlertDialogOkButtonTextColor=function(){return n.isNullOrUndefined(this.currentTheme)||n.isNullOrUndefined(this.currentTheme.alertDialgog)||n.isNullOrUndefined(this.currentTheme.alertDialgog.okButton)||n.isNullOrUndefined(this.currentTheme.alertDialgog.okButton.font)||n.DashboardUtil.IsStringNullorWhiteSpace(this.currentTheme.alertDialgog.okButton.font.color)?this.isDarkTypeTheme()?this.darkMode.alertDialgog.okButton.font.color:this.lightMode.alertDialgog.okButton.font.color:this.currentTheme.alertDialgog.okButton.font.color},t.prototype.getAlertDialogOkButtonHoverTextColor=function(){return n.isNullOrUndefined(this.currentTheme)||n.isNullOrUndefined(this.currentTheme.alertDialgog)||n.isNullOrUndefined(this.currentTheme.alertDialgog.okButton)||n.isNullOrUndefined(this.currentTheme.alertDialgog.okButton.hover)||n.isNullOrUndefined(this.currentTheme.alertDialgog.okButton.hover.font)||n.DashboardUtil.IsStringNullorWhiteSpace(this.currentTheme.alertDialgog.okButton.hover.font.color)?this.isDarkTypeTheme()?this.darkMode.alertDialgog.okButton.hover.font.color:this.lightMode.alertDialgog.okButton.hover.font.color:this.currentTheme.alertDialgog.okButton.hover.font.color},t.prototype.getAlertDialogOkButtonPressTextColor=function(){return n.isNullOrUndefined(this.currentTheme)||n.isNullOrUndefined(this.currentTheme.alertDialgog)||n.isNullOrUndefined(this.currentTheme.alertDialgog.okButton)||n.isNullOrUndefined(this.currentTheme.alertDialgog.okButton.press)||n.isNullOrUndefined(this.currentTheme.alertDialgog.okButton.press.font)||n.DashboardUtil.IsStringNullorWhiteSpace(this.currentTheme.alertDialgog.okButton.press.font.color)?this.isDarkTypeTheme()?this.darkMode.alertDialgog.okButton.press.font.color:this.lightMode.alertDialgog.okButton.press.font.color:this.currentTheme.alertDialgog.okButton.press.font.color},t.prototype.getAlertDialogContentFont=function(){return n.isNullOrUndefined(this.currentTheme)||n.isNullOrUndefined(this.currentTheme.alertDialgog)||n.isNullOrUndefined(this.currentTheme.alertDialgog.content)||n.isNullOrUndefined(this.currentTheme.alertDialgog.content.font)||n.isNullOrUndefined(this.currentTheme.alertDialgog.content.font.fontSettings)?this.getFontStyleCssValue(this.getThemeFontSize(),this.getThemeFontWeight(),this.getThemeFontFamily()):this.getFontPrpertyText(this.currentTheme.alertDialgog.content.font.fontSettings.autoFontSettings,this.currentTheme.alertDialgog.content.font.fontSettings.fontSize,this.currentTheme.alertDialgog.content.font.fontSettings.fontWeight,this.currentTheme.alertDialgog.content.font.fontSettings.fontFamily,this.currentTheme.alertDialgog.content.font.fontSettings.fontSrc)},t.prototype.getAlertDialogHeaderFont=function(){return n.isNullOrUndefined(this.currentTheme)||n.isNullOrUndefined(this.currentTheme.alertDialgog)||n.isNullOrUndefined(this.currentTheme.alertDialgog.header)||n.isNullOrUndefined(this.currentTheme.alertDialgog.header.font)||n.isNullOrUndefined(this.currentTheme.alertDialgog.header.font.fontSettings)?this.getFontStyleCssValue(this.getThemeFontSize(),this.getThemeFontWeight(),this.getThemeFontFamily()):this.getFontPrpertyText(this.currentTheme.alertDialgog.header.font.fontSettings.autoFontSettings,this.currentTheme.alertDialgog.header.font.fontSettings.fontSize,this.currentTheme.alertDialgog.header.font.fontSettings.fontWeight,this.currentTheme.alertDialgog.header.font.fontSettings.fontFamily,this.currentTheme.alertDialgog.header.font.fontSettings.fontSrc)},t.prototype.getAlertDialogHeaderIconFont=function(){return n.isNullOrUndefined(this.currentTheme)||n.isNullOrUndefined(this.currentTheme.alertDialgog)||n.isNullOrUndefined(this.currentTheme.alertDialgog.header)||n.isNullOrUndefined(this.currentTheme.alertDialgog.header.font)||n.isNullOrUndefined(this.currentTheme.alertDialgog.header.font.fontSettings)?this.getFontStyleCssValue(this.getThemeFontSize(),this.getThemeFontWeight(),null):this.getIconFontPropertyText(this.currentTheme.alertDialgog.header.font.fontSettings.autoFontSettings,this.currentTheme.alertDialgog.header.font.fontSettings.fontSize,this.currentTheme.alertDialgog.header.font.fontSettings.fontWeight)},t.prototype.getAlertDialogCopyButtonFont=function(){return n.isNullOrUndefined(this.currentTheme)||n.isNullOrUndefined(this.currentTheme.alertDialgog)||n.isNullOrUndefined(this.currentTheme.alertDialgog.copyButton)||n.isNullOrUndefined(this.currentTheme.alertDialgog.copyButton.font)||n.isNullOrUndefined(this.currentTheme.alertDialgog.copyButton.font.fontSettings)?this.getFontStyleCssValue(this.getThemeFontSize(),this.getThemeFontWeight(),this.getThemeFontFamily()):this.getFontPrpertyText(this.currentTheme.alertDialgog.copyButton.font.fontSettings.autoFontSettings,this.currentTheme.alertDialgog.copyButton.font.fontSettings.fontSize,this.currentTheme.alertDialgog.copyButton.font.fontSettings.fontWeight,this.currentTheme.alertDialgog.copyButton.font.fontSettings.fontFamily,this.currentTheme.alertDialgog.copyButton.font.fontSettings.fontSrc)},t.prototype.getAlertDialogCopyButtonFontHover=function(){return n.isNullOrUndefined(this.currentTheme)||n.isNullOrUndefined(this.currentTheme.alertDialgog)||n.isNullOrUndefined(this.currentTheme.alertDialgog.copyButton)||n.isNullOrUndefined(this.currentTheme.alertDialgog.copyButton.hover)||n.isNullOrUndefined(this.currentTheme.alertDialgog.copyButton.hover.font)||n.isNullOrUndefined(this.currentTheme.alertDialgog.copyButton.hover.font.fontSettings)?this.getFontStyleCssValue(this.getThemeFontSize(),this.getThemeFontWeight(),this.getThemeFontFamily()):this.getFontPrpertyText(this.currentTheme.alertDialgog.copyButton.hover.font.fontSettings.autoFontSettings,this.currentTheme.alertDialgog.copyButton.hover.font.fontSettings.fontSize,this.currentTheme.alertDialgog.copyButton.hover.font.fontSettings.fontWeight,this.currentTheme.alertDialgog.copyButton.hover.font.fontSettings.fontFamily,this.currentTheme.alertDialgog.copyButton.hover.font.fontSettings.fontSrc)},t.prototype.getAlertDialogOkButtonFont=function(){return n.isNullOrUndefined(this.currentTheme)||n.isNullOrUndefined(this.currentTheme.alertDialgog)||n.isNullOrUndefined(this.currentTheme.alertDialgog.okButton)||n.isNullOrUndefined(this.currentTheme.alertDialgog.okButton.font)||n.isNullOrUndefined(this.currentTheme.alertDialgog.okButton.font.fontSettings)?this.getFontStyleCssValue(this.getThemeFontSize(),this.getThemeFontWeight(),this.getThemeFontFamily()):this.getFontPrpertyText(this.currentTheme.alertDialgog.okButton.font.fontSettings.autoFontSettings,this.currentTheme.alertDialgog.okButton.font.fontSettings.fontSize,this.currentTheme.alertDialgog.okButton.font.fontSettings.fontWeight,this.currentTheme.alertDialgog.okButton.font.fontSettings.fontFamily,this.currentTheme.alertDialgog.okButton.font.fontSettings.fontSrc)},t.prototype.getAlertDialogOkButtonFontHover=function(){return n.isNullOrUndefined(this.currentTheme)||n.isNullOrUndefined(this.currentTheme.alertDialgog)||n.isNullOrUndefined(this.currentTheme.alertDialgog.okButton)||n.isNullOrUndefined(this.currentTheme.alertDialgog.okButton.hover)||n.isNullOrUndefined(this.currentTheme.alertDialgog.okButton.hover.font)||n.isNullOrUndefined(this.currentTheme.alertDialgog.okButton.hover.font.fontSettings)?this.getFontStyleCssValue(this.getThemeFontSize(),this.getThemeFontWeight(),this.getThemeFontFamily()):this.getFontPrpertyText(this.currentTheme.alertDialgog.okButton.hover.font.fontSettings.autoFontSettings,this.currentTheme.alertDialgog.okButton.hover.font.fontSettings.fontSize,this.currentTheme.alertDialgog.okButton.hover.font.fontSettings.fontWeight,this.currentTheme.alertDialgog.okButton.hover.font.fontSettings.fontFamily,this.currentTheme.alertDialgog.okButton.hover.font.fontSettings.fontSrc)},t.prototype.getFilterOverviewBackground=function(){return n.isNullOrUndefined(this.currentTheme)||n.isNullOrUndefined(this.currentTheme.filterOverview)||n.DashboardUtil.IsStringNullorWhiteSpace(this.currentTheme.filterOverview.background)?this.isDarkTypeTheme()?this.darkMode.filterOverview.background:this.lightMode.filterOverview.background:this.currentTheme.filterOverview.background},t.prototype.getFilterOverviewTextColor=function(){return n.isNullOrUndefined(this.currentTheme)||n.isNullOrUndefined(this.currentTheme.filterOverview)||n.DashboardUtil.IsStringNullorWhiteSpace(this.currentTheme.filterOverview.font.color)?this.isDarkTypeTheme()?this.darkMode.filterOverview.font.color:this.lightMode.filterOverview.font.color:this.currentTheme.filterOverview.font.color},t.prototype.getFilterOverviewBorder=function(){return n.isNullOrUndefined(this.currentTheme)||n.isNullOrUndefined(this.currentTheme.filterOverview)||n.DashboardUtil.IsStringNullorWhiteSpace(this.currentTheme.filterOverview.border)?this.isDarkTypeTheme()?this.darkMode.filterOverview.border:this.lightMode.filterOverview.border:this.currentTheme.filterOverview.border},t.prototype.getFilterOverviewTitleFont=function(){return n.isNullOrUndefined(this.currentTheme)||n.isNullOrUndefined(this.currentTheme.filterOverview)||n.isNullOrUndefined(this.currentTheme.filterOverview.font)||n.isNullOrUndefined(this.currentTheme.filterOverview.font.title)||n.isNullOrUndefined(this.currentTheme.filterOverview.font.title.fontSettings)?this.getFontStyleCssValue(this.getThemeFontSize(),this.getThemeFontWeight(),this.getThemeFontFamily()):this.getFontPrpertyText(this.currentTheme.filterOverview.font.title.fontSettings.autoFontSettings,this.currentTheme.filterOverview.font.title.fontSettings.fontSize,this.currentTheme.filterOverview.font.title.fontSettings.fontWeight,this.currentTheme.filterOverview.font.title.fontSettings.fontFamily,this.currentTheme.filterOverview.font.title.fontSettings.fontSrc)},t.prototype.getFilterOverviewIconFont=function(){return n.isNullOrUndefined(this.currentTheme)||n.isNullOrUndefined(this.currentTheme.filterOverview)||n.isNullOrUndefined(this.currentTheme.filterOverview.icon)||n.isNullOrUndefined(this.currentTheme.filterOverview.icon.font)||n.isNullOrUndefined(this.currentTheme.filterOverview.icon.font.fontSettings)?this.getFontStyleCssValue(this.getThemeFontSize(),this.getThemeFontWeight()):this.getIconFontPropertyText(this.currentTheme.filterOverview.icon.font.fontSettings.autoFontSettings,this.currentTheme.filterOverview.icon.font.fontSettings.fontSize,this.currentTheme.filterOverview.icon.font.fontSettings.fontWeight)},t.prototype.getFilterOverviewWidgetFont=function(){return n.isNullOrUndefined(this.currentTheme)||n.isNullOrUndefined(this.currentTheme.filterOverview)||n.isNullOrUndefined(this.currentTheme.filterOverview.font)||n.isNullOrUndefined(this.currentTheme.filterOverview.font.content)||n.isNullOrUndefined(this.currentTheme.filterOverview.font.content.widgetTitle)||n.isNullOrUndefined(this.currentTheme.filterOverview.font.content.widgetTitle.fontSettings)?this.getFontStyleCssValue(this.getThemeFontSize(),this.getThemeFontWeight(),this.getThemeFontFamily()):this.getFontPrpertyText(this.currentTheme.filterOverview.font.content.widgetTitle.fontSettings.autoFontSettings,this.currentTheme.filterOverview.font.content.widgetTitle.fontSettings.fontSize,this.currentTheme.filterOverview.font.content.widgetTitle.fontSettings.fontWeight,this.currentTheme.filterOverview.font.content.widgetTitle.fontSettings.fontFamily,this.currentTheme.filterOverview.font.content.widgetTitle.fontSettings.fontSrc)},t.prototype.getFilterOverviewColumnFont=function(){return n.isNullOrUndefined(this.currentTheme)||n.isNullOrUndefined(this.currentTheme.filterOverview)||n.isNullOrUndefined(this.currentTheme.filterOverview.font)||n.isNullOrUndefined(this.currentTheme.filterOverview.font.content)||n.isNullOrUndefined(this.currentTheme.filterOverview.font.content.columnName)||n.isNullOrUndefined(this.currentTheme.filterOverview.font.content.columnName.fontSettings)?this.getFontStyleCssValue(this.getThemeFontSize(),this.getThemeFontWeight(),this.getThemeFontFamily()):this.getFontPrpertyText(this.currentTheme.filterOverview.font.content.columnName.fontSettings.autoFontSettings,this.currentTheme.filterOverview.font.content.columnName.fontSettings.fontSize,this.currentTheme.filterOverview.font.content.columnName.fontSettings.fontWeight,this.currentTheme.filterOverview.font.content.columnName.fontSettings.fontFamily,this.currentTheme.filterOverview.font.content.columnName.fontSettings.fontSrc)},t.prototype.getFilterOverviewValueFont=function(){return n.isNullOrUndefined(this.currentTheme)||n.isNullOrUndefined(this.currentTheme.filterOverview)||n.isNullOrUndefined(this.currentTheme.filterOverview.font)||n.isNullOrUndefined(this.currentTheme.filterOverview.font.content)||n.isNullOrUndefined(this.currentTheme.filterOverview.font.content.values)||n.isNullOrUndefined(this.currentTheme.filterOverview.font.content.values.fontSettings)?this.getFontStyleCssValue(this.getThemeFontSize(),this.getThemeFontWeight(),this.getThemeFontFamily()):this.getFontPrpertyText(this.currentTheme.filterOverview.font.content.values.fontSettings.autoFontSettings,this.currentTheme.filterOverview.font.content.values.fontSettings.fontSize,this.currentTheme.filterOverview.font.content.values.fontSettings.fontWeight,this.currentTheme.filterOverview.font.content.values.fontSettings.fontFamily,this.currentTheme.filterOverview.font.content.values.fontSettings.fontSrc)},t.prototype.getProportionChartTitleFontColor=function(){return n.isNullOrUndefined(this.currentTheme)||n.isNullOrUndefined(this.currentTheme.widgets)||n.isNullOrUndefined(this.currentTheme.widgets.textStyle)||n.DashboardUtil.IsStringNullorWhiteSpace(this.currentTheme.widgets.textStyle.color)?this.isDarkTypeTheme()?this.darkMode.widgets.textStyle.color:this.lightMode.widgets.textStyle.color:this.currentTheme.widgets.textStyle.color},t.prototype.getChartMarkerColor=function(){return n.isNullOrUndefined(this.currentTheme)||n.isNullOrUndefined(this.currentTheme.widgets)||n.isNullOrUndefined(this.currentTheme.widgets.chart)||n.DashboardUtil.IsStringNullorWhiteSpace(this.currentTheme.widgets.chart.markerColor)?this.isDarkTypeTheme()?this.darkMode.widgets.chart.markerColor:this.lightMode.widgets.chart.markerColor:this.currentTheme.widgets.chart.markerColor},t.prototype.getComboChartMarkerColor=function(){return n.isNullOrUndefined(this.currentTheme)||n.isNullOrUndefined(this.currentTheme.widgets)||n.isNullOrUndefined(this.currentTheme.widgets.comboChart)||n.DashboardUtil.IsStringNullorWhiteSpace(this.currentTheme.widgets.comboChart.markerColor)?this.isDarkTypeTheme()?this.darkMode.widgets.comboChart.markerColor:this.lightMode.widgets.comboChart.markerColor:this.currentTheme.widgets.comboChart.markerColor},t.prototype.getPivotHeaderColumnForegroundColor=function(){return this.getWidgetDataTextColor()},t.prototype.getPivotHeaderColumnBackgroundColor=function(n){return n?"#313C50":"#F3F7Fa"},t.prototype.getPivotGroupPanelBackgroundColor=function(n){return n?"#313C50":"#F3F7Fa"},t.prototype.getStyleString=function(t,i){return n.DashboardUtil.IsStringNullorWhiteSpace(t)?i:t+i},t.prototype.createandAppendCustomStyle=function(t,i){var u="<style id = "+t+" >\n",r;for(this.bbdesigner$("#"+t).remove(),r=0;r<i.length;r++)n.DashboardUtil.IsStringNullorWhiteSpace(i[r].value)||(u=u+i[r].key+"\n{\n"+i[r].value+"\n}\n");u=u+"<\/style>";this.bbdesigner$(u).prependTo("head")},t.prototype.createandAppendFontSource=function(){var i=this.dashboardDesigner._id+"_CustomThemeFontSrc",n="<style id = "+i+" >\n",t;for(this.bbdesigner$("#"+i).remove(),t=0;t<this.fontSrcList.length;t++)n=n+"\n@font-face {\n\tfont-family: '"+this.fontSrcList[t].key+"';\n\tsrc: "+this.fontSrcList[t].value+";}\n";n=n+"<\/style>";this.bbdesigner$(n).prependTo("head")},t.prototype.applyGridTheme=function(n,t){var u=[],i=[],f=this.getGridFilterBarBorderColor(),r;i.push(".boldbi-dashboarddesigner .e-grid.e-grid-dbrd-theme tr.e-hover");r="background-color:"+this.getGridDataHoverBackground()+"!important";u.push({key:i+"",value:r});i=[];i.push(".e-dashboardviewer .e-grid.e-grid-dbrd-theme .e-headercell");r="border-left-color:"+f+"!important";u.push({key:i+"",value:r});i=[];i.push(".boldbi-dashboarddesigner .e-grid td.e-selectionbackground.e-active");r="background:"+this.getGridDataSelectionBackground()+" !important; color: "+this.getGridDataSelectionTextColor()+" !important;"+this.getGridContentSelectFont();u.push({key:i+"",value:r});i=[];i.push(".e-dashboardviewer .e-grid.e-grid-dbrd-theme .e-gridheader");r="border-bottom-color:"+f+"!important";u.push({key:i+"",value:r});i=[];i.push(".e-dashboardviewer .e-grid.e-grid-dbrd-theme .e-gridcontent");r="background-color:"+this.getGridDataBackground()+"!important";u.push({key:i+"",value:r});i=[];i.push(".e-grid-item .e-control.e-grid.e-grid-dbrd-theme .e-content");r="background-color:"+this.getGridDataBackground()+"!important";u.push({key:i+"",value:r});i=[];i.push(".e-dashboardviewer .bbi-dbrd-control.e-grid.e-grid-dbrd-theme",".e-dashboardviewer .e-grid.e-grid-dbrd-theme .e-rowcell");r="border-color:"+f+"!important";u.push({key:i+"",value:r});i=[];i.push(".e-dashboardviewer .e-grid.e-darktheme .e-rowcell");r="border-color:"+f+"!important";u.push({key:i+"",value:r});i=[];i.push(".e-dashboardviewer .e-griditem .emptyrecord");r="color:"+this.getGridDataTextColor()+"!important";u.push({key:i+"",value:r});n&&(i=[],i.push(".bbi-dbrd-control .e-grid.e-darktheme .e-filterbarcell .e-filterdiv .e-icon"),r="color:"+this.getGridDataTextColor()+"!important",u.push({key:i+"",value:r}));this.createandAppendCustomStyle(t,u)},t.prototype.applyListBoxCheckBoxTheme=function(n,t){var i=[],f=[],p=this.getListBoxCBCheckedBackground(),w=this.getListBoxCBTickColor(),e=this.getListBoxCBCheckedBorderColor(),b=this.getListBoxCBUncheckedBackground(),o=this.getListBoxCBUncheckedBorderColor(),s,r,h,u,c,l,a,v,y;f.push(".e-dashboardviewer .e-listbox.e-listbox-dbrd-theme .e-chkbox-wrap .e-chk-image");s="\tbackground-color: "+b+" !important;\n\tborder-radius:4px;\n\tborder-color:"+o+" !important;\n";i.push({key:f+"",value:s+""});r=[];r.push(".e-dashboardviewer .e-listbox.e-listbox-dbrd-theme .e-chkbox-wrap .e-chk-image.e-checkmark\n",".e-dashboardviewer .e-listbox.e-listbox-dbrd-theme .e-chkbox-wrap .e-chk-image:hover\n");h="\tbackground-color: "+p+" !important;\n\tborder-radius:4px;\n\tborder-color:"+e+" !important;\n";i.push({key:r+"",value:h+""});u=[];u.push(".e-dashboardviewer .e-listbox.e-listbox-dbrd-theme .e-icon.e-checkmark:before\n",".e-dashboardviewer .e-listbox.e-listbox-dbrd-theme .e-chkbox-wrap .e-icon.e-checkmark:before\n");c="\tcolor:"+w+" !important;\n";i.push({key:u+"",value:c+""});l=".e-dashboardviewer .e-listbox.e-listbox-dbrd-theme .e-chkbox-wrap div > span\n";a="\tborder-color:"+o+" !important;\n";i.push({key:l,value:a+""});v=".e-dashboardviewer .e-listbox.e-listbox-dbrd-theme .e-chkbox-wrap div > span.e-checkmark\n";y="\tborder-color: "+e+" !important;\n";i.push({key:v,value:y+""});this.createandAppendCustomStyle(t,i)},t.prototype.applyComboBoxCheckBoxTheme=function(n,t){var i=[],o=[],p=this.getComboBoxCBCheckedBackground(),w=this.getComboBoxCBTickColor(),s=this.getComboBoxCBCheckedBorderColor(),b=this.getComboBoxCBUncheckedBackground(),h=this.getComboBoxCBUncheckedBorderColor(),c,r,l,u,a,f,v,e,y;o.push(".bbi-dbrd-control.e-ddl-popup.e-ddl-popup-dbrd-theme .e-checkwrap\n",".e-ddl-popup.e-ddl-popup-dbrd-theme .e-combobox-all-element-wrapper .e-chkbox-wrap  .e-chkbox-small .e-chk-inact\n");c="\tbackground-color: "+b+" !important;\n\tborder-color:"+h+" !important;\n";i.push({key:o+"",value:c+""});r=[];r.push(".e-ddl-popup.e-ddl-popup-dbrd-theme .e-checkwrap.e-check-act\n",".e-ddl-popup.e-ddl-popup-dbrd-theme .e-checkwrap:hover\n",".e-ddl-popup.e-ddl-popup-dbrd-theme .e-combobox-all-element-wrapper .e-chkbox-wrap .e-chkbox-small .e-chk-act\n");l="\tbackground-color: "+p+" !important;\n\tborder-color:"+s+" !important;\n";i.push({key:r+"",value:l+""});u=[];u.push(".bbi-dbrd-control.e-ddl-popup.e-ddl-popup-dbrd-theme .e-check-act:before\n",".e-ddl-popup.e-ddl-popup-dbrd-theme .e-combobox-all-element-wrapper .e-chkbox-wrap .e-chkbox-small .e-chk-act:before\n",".e-ddl-popup.e-ddl-popup-dbrd-theme .e-combobox-all-element-wrapper .e-chkbox-wrap .e-chk-image.e-checkmark:before\n");a="\tcolor:"+w+" !important;\n";i.push({key:u+"",value:a+""});f=[];f.push(".e-dashboardviewer .e-listbox.e-listbox-dbrd-theme .e-chkbox-wrap div > span\n",".e-ddl-popup.e-ddl-popup-dbrd-theme .e-combobox-all-element-wrapper .e-chkbox-wrap div>span");v="\tborder-color:"+h+" !important;\n";i.push({key:f+"",value:v+""});e=[];e.push(".e-dashboardviewer .e-listbox.e-listbox-dbrd-theme .e-chkbox-wrap div > span.e-checkmark\n",".e-ddl-popup.e-ddl-popup-dbrd-theme .e-combobox-all-element-wrapper.e-chkbox-wrap div>span.e-checkmark\n");y="\tborder-color: "+s+" !important;\n";i.push({key:e+"",value:y+""});this.createandAppendCustomStyle(t,i)},t.prototype.applyMenuTheme=function(n,t){var u=[],i=[],l="#80b0ff",o=this.getMenuHoverBackground(),f=this.getMenuTextColor(),v=this.getMenuBorderColor(),a=this.getMenuBackground(),s=this.getMenuFontSizeAndWeightText(),h=this.getMenuFontFamilyText(),e=this.getMenuHoverFontSizeAndWeightText(),c=this.getMenuHoverFontFamilyText(),r;i.push(".bbi-dashboard-banner-thememenu-popup.e-menu.e-menu-dbrd-theme .bbi-dashboard-banner-theme-menu-selected .e-menulink",".e-menu.e-menu-dbrd-theme .bbi-dashboard-banner-theme-menu-selected",".e-menu.e-menu-dbrd-theme .bbi-dashboard-banner-theme-menu-selected .e-menu.e-menu-dbrd-theme .e-list > .e-menulink",".e-menu.e-menu-dbrd-theme .bbi-dashboard-banner-theme-menu-selected .e-menu.e-context.e-menu-dbrd-theme .e-list > .e-menulink");r="\tbackground-color: "+l+" !important;\n"+s+h;u.push({key:i+"",value:r});i=[];i.push(".bbi-designer-menu.e-menu.e-menu-dbrd-theme.e-context .e-mhover",".bbi-designer-menu.e-menu.e-menu-dbrd-theme.e-context .e-mhover > .e-menulink");r="background-color: "+o+" !important;color: "+f+" !important;"+e+c;u.push({key:i+"",value:r});i=[];i.push(".e-menu.e-menu-dbrd-theme.e-dbrd-export-menu-list.e-context .e-mfocused",".bbi-designer-menu.e-menu.e-menu-dbrd-theme.e-context .e-mfocused > .e-menulink",".bbi-designer-textbox-context-menu.e-menu.e-menu-dbrd-theme.e-context .e-mfocused > .e-menulink ");r="background-color: "+o+" !important;color: "+f+" !important;"+e+c;u.push({key:i+"",value:r});i=[];i.push(".e-menu.e-menu-dbrd-theme.e-dbrd-export-menu-list.e-context .e-mhover > .e-menulink",".e-menu.e-menu-dbrd-theme.e-dbrd-export-menu-list.e-context .e-mhover");r="background-color: "+o+" !important;color: "+f+" !important;"+e+c;u.push({key:i+"",value:r});i=[];i.push(".bbi-designer-menu.e-menu.e-menu-dbrd-theme.e-context .e-mfocused:hover > a > .e-icon",".bbi-designer-textbox-context-menu.e-menu.e-menu-dbrd-theme.e-context .e-mfocused:hover > a > .e-icon");r="color: "+f+" !important;"+e;u.push({key:i+"",value:r});i=[];i.push(".e-menu.e-menu-dbrd-theme,.e-menu.e-menu-dbrd-theme.e-context",".e-menu.e-menu-dbrd-theme.e-context .e-list>ul");r="background-color: "+a+" !important;border-color: "+v+" !important;"+s+h;u.push({key:i+"",value:r});i=[];i.push(".bbi-designer-menu.e-menu.e-menu-dbrd-theme .e-mhover,.e-designer-menu.e-menu.e-menu-dbrd-theme.e-context .e-mhover");r="background-color: "+o+" !important;color: "+f+" !important;"+e;u.push({key:i+"",value:r});i=[];i.push(".bbi-designer-menu.e-menu.e-menu-dbrd-theme .e-list .e-menulink:hover",".bbi-designer-menu.e-menu.e-menu-dbrd-theme .e-list.bbi-dashboard-banner-theme-menu-selected .e-menulink:hover");r=e+c;u.push({key:i+"",value:r});i=[];i.push(".e-menu.e-menu-dbrd-theme .e-list>.e-menulink,.e-menu.e-context.e-menu-dbrd-theme .e-list>.e-menulink",".e-menu.e-context.e-menu-dbrd-theme .e-dbrd-showDashoardMenu-title");r="background-color: "+a+" !important;color: "+f+" !important;"+s+h;u.push({key:i+"",value:r});i=[];i.push(".e-menu.e-menu-dbrd-theme .e-list.bbi-dashboard-banner-theme-menu-selected>.e-menulink",".e-menu.e-context.e-menu-dbrd-theme .e-list.bbi-dashboard-banner-theme-menu-selected>.e-menulink");r="background-color: "+l+" !important;"+s+h;u.push({key:i+"",value:r});this.createandAppendCustomStyle(t,u)},t.prototype.applyErrorContainerTheme=function(n){var i=[],t=[],u=this.getErrorFontText(),r;t.push(".e-dashboardviewer .bbi-reload-button.e-container-dbrd-theme:hover");r="\tbackground-color: "+this.getBannerBackground()+" !important;\n";i.push({key:t+"",value:r});t=[];t.push(".boldbi-dashboarddesigner .bbi-dbrd-control-nodatainfo.bbi-nodata-container.e-container-dbrd-theme",".boldbi-dashboarddesigner .bbi-dbrd-control-nodatainfo.bbi-nodata-container.e-container-dbrd-theme .bbi-align-center",".e-dashboardviewer .bbi-dbrd-control-error.e-container-dbrd-theme");r="\tbackground-color: "+this.getWidgetTileBackground()+";\n\tcolor: "+this.getWidgetTileTextColor()+" !important;\n"+u;i.push({key:t+"",value:r});t=[];t.push(".e-dashboardviewer .bbi-reload-button.e-container-dbrd-theme");r="\tbackground-color: "+this.getWidgetTileBackground()+" !important;\n\tborder-color: "+this.getMajorTickLinesColor()+" !important;\n\tcolor: "+this.getWidgetTileTextColor()+" !important;\n"+u;i.push({key:t+"",value:r});t=[];t.push(".boldbi-dashboarddesigner .bbi-dbrd-control-error.bbi-align-center.e-container-dbrd-theme",".boldbi-dashboarddesigner .bbi-dbrd-control-error.bbi-align-center.e-container-dbrd-theme .e-dbrd-controlError-msg",".boldbi-dashboarddesigner .bbi-dbrd-control-error.bbi-align-center.e-container-dbrd-theme .bbi-dbrd-link-btn");i.push({key:t+"",value:u});t=[];t.push(".boldbi-dashboarddesigner .bbi-dbrd-control-error.e-container-dbrd-theme .e-dbrd-controlError-msg,\n.boldbi-dashboarddesigner .bbi-dbrd-control-error.e-container-dbrd-theme .bbi-dbrd-link-btn,\n.boldbi-dashboarddesigner .bbi-dbrd-control-error.e-container-dbrd-theme .reload-retrievalerror-icon");i.push({key:t+"",value:u+""});this.createandAppendCustomStyle(n,i)},t.prototype.getErrorFontText=function(){return n.isNullOrUndefined(this.currentTheme)||n.isNullOrUndefined(this.currentTheme.alertDialgog)||n.isNullOrUndefined(this.currentTheme.alertDialgog.error)||n.isNullOrUndefined(this.currentTheme.alertDialgog.error.font)||n.isNullOrUndefined(this.currentTheme.alertDialgog.error.font.fontSettings)?this.getFontStyleCssValue(this.getThemeFontSize(),this.getThemeFontWeight(),this.getThemeFontFamily()):this.getFontPrpertyText(this.currentTheme.alertDialgog.error.font.fontSettings.autoFontSettings,this.currentTheme.alertDialgog.error.font.fontSettings.fontSize,this.currentTheme.alertDialgog.error.font.fontSettings.fontWeight,this.currentTheme.alertDialgog.error.font.fontSettings.fontFamily,this.currentTheme.alertDialgog.error.font.fontSettings.fontSrc)},t.prototype.applyAlertDialogTheme=function(n,t){var u=[],i=[],e=this.getAlertDialogFooterBackground(),s=this.getAlertDialogContentBackground(),h=this.getAlertDialogContentTextColor(),c=this.getAlertDialogContentBackground(),l=this.getAlertDialogContentTextColor(),f=this.getAlertDialogHeaderTextColor(),a=this.getAlertDialogHeaderBackground(),o=n?"#7b838e":"",v=this.getAlertDialogCopyButtonTextColor(),y=this.getAlertDialogCopyButtonBackground(),p=this.getAlertDialogCopyButtonHoverBackground(),w=this.getAlertDialogCopyButtonHoverTextColor(),b=this.getAlertDialogCopyButtonPressBackground(),k=this.getAlertDialogCopyButtonPressTextColor(),r;i.push(".bbi-designer-alertbox.e-alertbox-dbrd-theme.e-dialog.e-dialog-wrap");r="\tbackground-color: "+e+" !important;\n";u.push({key:i+"",value:r+""});i=[];i.push(".bbi-designer-alertbox.e-alertbox-dbrd-theme .e-dialog.e-widget-content");r="background-color: "+s+" !important;color: "+h+" !important;";u.push({key:i+"",value:r+""});i=[];i.push(".bbi-designer-alertbox.e-alertbox-dbrd-theme .e-dialog.e-widget-content .bbi-designer-error-area .bbi-designer-fontfamily,\n.bbi-designer-alertbox.e-alertbox-dbrd-theme .e-dialog.e-widget-content .bbi-designer-fontfamily.bbi-show-hide-err-content-link");u.push({key:i+"",value:this.getAlertDialogContentFont()+""});i=[];i.push(".bbi-designer-alertbox.e-alertbox-dbrd-theme .e-dialog.e-widget-content .bbi-designer-error-content");r="background-color: "+c+" !important;color: "+l+" !important;"+this.getAlertDialogContentFont();u.push({key:i+"",value:r+""});i=[];i.push(".bbi-designer-alertbox.e-alertbox-dbrd-theme .e-titlebar");r="\tbackground-color: "+a+" !important;\n";u.push({key:i+"",value:r+""});i=[];i.push(".bbi-designer-alertbox.e-alertbox-dbrd-theme .e-titlebar .e-title");r="color: "+f+" !important;\n";u.push({key:i+"",value:r+""});i=[];i.push(".bbi-designer-alertbox.e-alertbox-dbrd-theme .e-titlebar .e-close::before");r="color: "+f+" !important;\n";u.push({key:i+"",value:r+""});i=[];i.push(".bbi-designer-alertbox.e-alertbox-dbrd-theme .e-titlebar .e-title");u.push({key:i+"",value:this.getAlertDialogHeaderFont()});i=[];i.push(".bbi-designer-alertbox.e-alertbox-dbrd-theme .e-titlebar .e-close::before");u.push({key:i+"",value:this.getAlertDialogHeaderIconFont()});i=[];i.push(".bbi-designer-alertbox.e-alertbox-dbrd-theme .e-titlebar .e-close:hover::before");r="color: #1a1a1a !important;\n";u.push({key:i+"",value:r+""});i=[];i.push(".bbi-designer-alertbox.e-alertbox-dbrd-theme .e-header");r="border-bottom-color: "+o+" !important;\n";u.push({key:i+"",value:r+""});i=[];i.push(".bbi-designer-alertbox.e-alertbox-dbrd-theme .e-footerbar");r="background-color: "+e+" !important;\ncolor: "+f+" !important;\nborder-top-color: "+o+" !important;\n";u.push({key:i+"",value:r+""});i=[];i.push(".bbi-designer-alertbox.e-alertbox-dbrd-theme .e-footerbar .bbi-dbrd-btn-secondary.bbi-designer-alert-cancelbtn");r="background-color: "+y+" !important;\ncolor: "+v+" !important;\n"+this.getAlertDialogCopyButtonFont();u.push({key:i+"",value:r+""});i=[];i.push(".bbi-designer-alertbox.e-alertbox-dbrd-theme .e-footerbar .bbi-dbrd-btn-secondary.bbi-designer-alert-cancelbtn:hover");r="background-color: "+p+" !important;\ncolor: "+w+" !important;\n"+this.getAlertDialogCopyButtonFontHover();u.push({key:i+"",value:r+""});i=[];i.push(".bbi-designer-alertbox.e-alertbox-dbrd-theme .e-footerbar .bbi-dbrd-btn-secondary.bbi-designer-alert-cancelbtn:active");r="background-color: "+b+" !important;\ncolor: "+k+" !important;\n";u.push({key:i+"",value:r+""});i=[];i.push(".bbi-designer-alertbox.e-alertbox-dbrd-theme .e-footerbar .bbi-dbrd-btn-primary");u.push({key:i+"",value:this.getAlertDialogOkButtonFont()});i=[];i.push(".bbi-designer-alertbox.e-alertbox-dbrd-theme .e-footerbar .bbi-dbrd-btn-primary:hover");u.push({key:i+"",value:this.getAlertDialogOkButtonFontHover()});this.createandAppendCustomStyle(t,u)},t.prototype.applyDatePickerTheme=function(n,t,i,r){var o=[],u=[],e=t,ht=this.getDatePickerWeekHeaderTextColor(),ct=this.getDatePickerWeekHeaderBackground(),v=this.getDatePickerUnAvailableDaysBackground(),y=this.getDatePickerUnAvailableDaysTextColor(),lt=this.getDatePickerOtherMonthBackground(),at=this.getDatePickerOtherMonthTextColor(),vi=this.getDatePickerAvailableDaysBackground(),vt=this.getDatePickerAvailableDaysTextColor(),p=this.getDatePickerAvailableDaysHoverBackground(),w=this.getDatePickerAvailableDaysHoverTextColor(),yt=this.getDatePickerAvailableDaysSelectionBackground(),pt=this.getDatePickerAvailableDaysSelectionTextColor(),wt=this.getDatePickerPlaceHolderColor(),b=this.getDatePickerCalendarBackground(),bt=this.getDatePickerTextBoxBackground(),kt=this.getDatePickerTextBoxBorderColor(),k=this.getWidgetDataTextColor(),dt=this.getBannerBackground(),c=this.getBannerIconColor(),s="1px 1px 10px"+(i?b:"lightgray")+"!important",d=this.getDatePickerCalenderBorderColor(),g=this.getMajorTickLinesColor(),gt=this.getDatePickerCancelButtonTextColor(),ni=this.getDatePickerCancelButtonBackground(),f,l,nt,tt,h,it,rt,a,ut,ft,et,ot,st;u.push(e+".e-dashboarddatepicker.e-datepicker-dbrd-theme .e-dashbaorddatepicker-date-selectors span");f="\tbackground: "+ni+" !important;\n\tcolor: "+gt+" !important;";o.push({key:u+"",value:f});u=[];u.push(e+".e-dashboarddatepicker.e-datepicker-dbrd-theme .e-dashbaorddatepicker-date-selectors input",e+".e-dashboarddatepicker.e-datepicker-dbrd-theme.e-dashboarddatepicker-popup-wrapper",e+".e-dashboarddatepicker.e-datepicker-dbrd-theme .e-dashboarddatepicker-popup-wrapper .left",e+".e-dashboarddatepicker.e-datepicker-dbrd-theme .e-dashboarddatepicker-popup-wrapper .right","#"+this.dashboardDesigner._id+" .e-datepicker-dbrd-theme.e-input-main");f="\tbackground: "+b+" !important;\n\tcolor: "+k+" !important;";o.push({key:u+"",value:f});l=this.getDatePickerTextBoxFont();u=[];u.push("#"+this.dashboardDesigner._id+" .e-datepicker-dbrd-theme.e-input-main");f="\tbackground: "+bt+" !important;\n\tcolor: "+k+" !important;\n\tborder-color: "+kt+";\n"+l;o.push({key:u+"",value:f});u=[];u.push(e+".e-dashboarddatepicker.e-datepicker-dbrd-theme .e-dashbaorddatepicker-date-selectors input");o.push({key:u+"",value:l});u=[];u.push("#"+this.dashboardDesigner._id+" .e-datepicker-dbrd-theme.e-input-main::placeholder","#"+this.dashboardDesigner._id+".e-dashboarddatepicker.e-datepicker-dbrd-theme .e-dashbaorddatepicker-date-selectors input::placeholder");f="\tcolor: "+wt+" !important;\n\topacity: 1 !important;";o.push({key:u+"",value:f});u=[];u.push(e+".e-dashboarddatepicker.e-datepicker-dbrd-theme .e-arrow-enabled i:before");f="\tcolor: "+c+" !important;";o.push({key:u+"",value:f});u=[];u.push(e+".e-dashboarddatepicker.e-datepicker-dbrd-theme .e-dashboarddatepicker-footer");f="\tbackground: "+dt+" !important;\n";o.push({key:u+"",value:f});var ti=this.getDatePickerCancelButtonTextColor(),ii=this.getDatePickerCancelButtonBackground(),ri=this.getDatePickerCancelButtonHoverBackground(),ui=this.getDatePickerCancelButtonHoverTextColor(),fi=this.getDatePickerCancelButtonPressBackground(),ei=this.getDatePickerCancelButtonPressTextColor();u=[];nt=this.getDatePickerCalCancelBtnFont();u.push(e+".e-dashboarddatepicker.e-datepicker-dbrd-theme.e-dashboarddatepicker-popup-wrapper .e-dashboarddatepicker-cancel-btn");f="\tbackground: "+ii+" !important;\n"+nt+"\tcolor: "+ti+" !important;\tborder-color:"+g+"!important;";o.push({key:u+"",value:f});u=[];u.push(e+".e-dashboarddatepicker.e-datepicker-dbrd-theme.e-dashboarddatepicker-popup-wrapper .e-dashboarddatepicker-cancel-btn:active");f="\tbackground: "+fi+" !important;\n\tcolor: "+ei+" !important;";o.push({key:u+"",value:f});tt=this.getDatePickerCalCancelHoverBtnFont();u=[];u.push(e+".e-dashboarddatepicker.e-datepicker-dbrd-theme.e-dashboarddatepicker-popup-wrapper .e-dashboarddatepicker-cancel-btn:hover");f="\tbackground: "+ri+" !important;\n\tcolor: "+ui+" !important;\n"+tt;o.push({key:u+"",value:f});var oi=this.getDatePickerOkButtonTextColor(),si=this.getDatePickerOkButtonBackground(),hi=this.getDatePickerOkButtonHoverBackground(),ci=this.getDatePickerOkButtonHoverTextColor(),li=this.getDatePickerOkButtonPressBackground(),ai=this.getDatePickerOkButtonPressTextColor();u=[];h=this.getDatePickerCalOkBtnFont();u.push(e+".e-dashboarddatepicker.e-datepicker-dbrd-theme.e-dashboarddatepicker-popup-wrapper .e-dashboarddatepicker-apply-btn");f="\tbackground: "+si+" !important;\n\tfont-size:"+h.size+" !important;\n\tfont-family:"+h.family+" !important;\n\tfont-weight:"+h.weight+" !important;\n\tcolor: "+oi+" !important;\tborder-color:"+g+"!important;";o.push({key:u+"",value:f});u=[];u.push(e+".e-dashboarddatepicker.e-datepicker-dbrd-theme.e-dashboarddatepicker-popup-wrapper .e-dashboarddatepicker-apply-btn:active");f="\tbackground: "+hi+" !important;\n\tcolor: "+ci+" !important;";o.push({key:u+"",value:f});it=this.getDatePickerCalOkHoverBtnFont();u=[];u.push(e+".e-dashboarddatepicker.e-datepicker-dbrd-theme.e-dashboarddatepicker-popup-wrapper .e-dashboarddatepicker-apply-btn:hover");f="\tbackground: "+li+" !important;\n\tcolor: "+ai+" !important;\n"+it;o.push({key:u+"",value:f});u=[];rt=this.getDatePickerWeekHeaderFont();u.push(e+".e-dashboarddatepicker.e-datepicker-dbrd-theme .calendar-table table th");f="\tbackground: "+ct+" !important;\n"+rt+"\tcolor: "+ht+" !important;";o.push({key:u+"",value:f});u=[];r?u.push(e+".e-dashboarddatepicker.e-datepicker-dbrd-theme.e-dashboarddatepicker-popup-wrapper .e-dashboarddatepicker-calendar"):u.push(e+".e-dashboarddatepicker.e-datepicker-dbrd-theme.e-dashboarddatepicker-popup-wrapper .e-dashboarddatepicker-calander-wrapper",e+".e-dashboarddatepicker.e-datepicker-dbrd-theme.e-dashboarddatepicker-popup-wrapper .e-fromspan.left",e+".e-dashboarddatepicker.e-datepicker-dbrd-theme.e-dashboarddatepicker-popup-wrapper .e-tospan.left",e+".e-dashboarddatepicker.e-datepicker-dbrd-theme.e-dashboarddatepicker-popup-wrapper .e-input-mini.left");f="\tborder: 1px solid"+d+" !important;";o.push({key:u+"",value:f});u=[];u.push(e+".e-dashboarddatepicker.e-datepicker-dbrd-theme.e-dashboarddatepicker-popup-wrapper .e-dashboarddatepicker-footer");f="\tborder-top: 1px solid"+d+" !important;";o.push({key:u+"",value:f});u=[];a=this.getDatePickerIconFont();u.push("#"+this.dashboardDesigner._id+" .e-dashboarddatepicker-wrapper.e-datepicker-dbrd-theme .e-dashboarddatepicker-icon");f="\tcolor: "+c+" !important;\tfont-size:"+a.size+" !important;\n\tfont-weight:"+a.weight+" !important;\n";o.push({key:u+"",value:f});u=[];u.push("#"+this.dashboardDesigner._id+" .e-dashboarddatepicker-wrapper.e-datepicker-dbrd-theme .e-dashboarddatepicker-icon:before");f="\tcolor: "+c+" !important;";o.push({key:u+"",value:f});u=[];ut=this.getDatePickerOtherMonthFont();u.push(e+".e-dashboarddatepicker.e-datepicker-dbrd-theme.e-dashboarddatepicker-popup-wrapper .other-month");f="\tbackground: "+lt+" !important;\n"+ut+"\tcolor: "+at+" !important;\topacity: 0.5!important;";o.push({key:u+"",value:f});ft=this.getDatePickerUnAvailFont();u=[];u.push(e+".e-dashboarddatepicker.e-datepicker-dbrd-theme.e-dashboarddatepicker-popup-wrapper .e-unavailable-date");f="\tbackground: "+v+" !important;\n"+ft+"\tcolor: "+y+" !important;";o.push({key:u+"",value:f});u=[];u.push(e+".e-dashboarddatepicker.e-datepicker-dbrd-theme.e-dashboarddatepicker-popup-wrapper .e-unavailable-date:hover");f="\tbackground: "+v+" !important;\n\tcolor: "+y+" !important;";o.push({key:u+"",value:f});et=this.getDatePickerAvailFont();u=[];u.push(e+".e-dashboarddatepicker.e-datepicker-dbrd-theme.e-dashboarddatepicker-popup-wrapper .current-month.e-available-date");f=et+"\tcolor: "+vt+" !important;";o.push({key:u+"",value:f});ot=this.getDatePickerAvailHoverFont();u=[];u.push(e+".e-dashboarddatepicker.e-datepicker-dbrd-theme.e-dashboarddatepicker-popup-wrapper .current-month.e-available-date:hover");f="\tbackground: "+p+" !important;\n\tcolor: "+w+" !important;\n"+ot;o.push({key:u+"",value:f});u=[];u.push(e+".e-dashboarddatepicker.e-datepicker-dbrd-theme .calendar-table table td.in-range");f="\tbackground: "+p+" !important;\n\tcolor: "+w+" !important;";o.push({key:u+"",value:f});st=this.getDatePickerAvailSelectFont();u=[];u.push(e+".e-dashboarddatepicker.e-datepicker-dbrd-theme.e-dashboarddatepicker-popup-wrapper .current-month.e-available-date.selected");f="\tbackground: "+yt+" !important;\n\tcolor: "+pt+" !important;\n"+st;o.push({key:u+"",value:f});u=[];u.push(e+".e-dashboarddatepicker-popup-wrapper.e-datepicker-dbrd-theme");f="\t-ms-box-shadow: "+s+" !important;\n\t-moz-box-shadow: "+s+" !important;\n\tbox-shadow: "+s+" !important;\n\t-webkit-box-shadow: "+s+" !important;\n";o.push({key:u+"",value:f});this.createandAppendCustomStyle(n.designerId+"Element"+n.widgetJson.UniqueName+"_DatePickerStyle",o)},t.prototype.applyTextFilterTheme=function(n,t){var u=[],i=[],e=t,o=this.getTextFilterPlaceHolderColor(),s=this.getTextFilterBackground(),f=this.getTextFilterTextColor(),h=this.getTextFilterBackground(),c=this.getTextFilterBorderColor(),r;i=[];i.push(e+".e-dashboardtextfilter.e-textfilter-dbrd-theme .e-textbox","#"+this.dashboardDesigner._id+" .e-textfilter-dbrd-theme.e-textbox");r="\tbackground: "+s+" !important;\n\tcolor: "+f+" !important;";u.push({key:i+"",value:r});i=[];i.push("#"+this.dashboardDesigner._id+" .e-textfilter-dbrd-theme.e-textbox");r="\tbackground: "+h+" !important;\n\tcolor: "+f+" !important;\n\tborder-color: "+c+" !important;\n";u.push({key:i+"",value:r});i=[];i.push("#"+this.dashboardDesigner._id+" .e-textfilter-dbrd-theme.e-textbox::placeholder","#"+this.dashboardDesigner._id+".e-dashboardtextfilter.e-textfilter-dbrd-theme .e-textbox::placeholder");r="\tcolor: "+o+" !important;\n\topacity: 1 !important;";u.push({key:i+"",value:r});this.createandAppendCustomStyle(n.designerId+"Element"+n.widgetJson.UniqueName+"_TextFilterStyle",u)},t.prototype.generateCustomPalette=function(){for(var n,t,u=[],i=this.getColorPalette(),f=[0,50,100,150,200,250,300,350],r=0;r<f.length;r++){for(n=0;n<i.length;n++)u.push(this.getmodifedhue(i[n],f[r]));for(n=0;n<i.length;n++)t=this.rgbToHSL(this.getmodifedhue(i[n],f[r])),t.l=.65,u.push(this.hslToRGB(t));for(n=0;n<i.length;n++)t=this.rgbToHSL(this.getmodifedhue(i[n],f[r])),t.l=.35,u.push(this.hslToRGB(t));for(n=0;n<i.length;n++)t=this.rgbToHSL(this.getmodifedhue(i[n],f[r])),t.l=.25,u.push(this.hslToRGB(t))}return u},t.prototype.getmodifedhue=function(n,t){if(t>0){var i=this.rgbToHSL(n);for(i.h=i.h+t;i.h>360;)i.h=i.h-360;return this.hslToRGB(i)}return n},t.prototype.rgbToHSL=function(t){t=t.replace(/^\s*#|\s*$/g,"");t.length===3&&(t=t.replace(/(.)/g,"$1$1"));var r=n.parseInt(t.substr(0,2),16)/255,u=n.parseInt(t.substr(2,2),16)/255,f=n.parseInt(t.substr(4,2),16)/255,e=Math.max(r,u,f),s=Math.min(r,u,f),i=e-s,h=(e+s)/2,o=0,c=0;return o=i===0?0:e===r?60*((u-f)/i%6):e===u?60*((f-r)/i+2):60*((r-u)/i+4),o<0&&(o+=360),c=i===0?0:i/(1-Math.abs(2*h-1)),{h:o,s:c,l:h}},t.prototype.hslToRGB=function(n){var f=n.h,h=n.s,s=n.l,u=(1-Math.abs(2*s-1))*h,e=u*(1-Math.abs(f/60%2-1)),o=s-u/2,t,i,r;return f<60?(t=u,i=e,r=0):f<120?(t=e,i=u,r=0):f<180?(t=0,i=u,r=e):f<240?(t=0,i=e,r=u):f<300?(t=e,i=0,r=u):(t=u,i=0,r=e),t=this.normalize_rgb_value(t,o),i=this.normalize_rgb_value(i,o),r=this.normalize_rgb_value(r,o),this.rgbToHex(t,i,r)},t.prototype.rgbToHex=function(n,t,i){return"#"+(16777216+(n<<16)+(t<<8)+i).toString(16).slice(1)},t.prototype.normalize_rgb_value=function(n,t){return n=Math.floor((n+t)*255),n<0&&(n=0),n},t.prototype.applyWidgetFontStyles=function(n,t,i){var r=[],u=[];t="#"+this.dashboardDesigner._id+t;u.push(t);r.push({key:u+"",value:i});this.createandAppendCustomStyle(this.dashboardDesigner._id+"_"+n+"Style",r)},t}();t.ThemeHelper=i})(t=n.Dashboard||(n.Dashboard={}))}(BoldBIDashboard||(BoldBIDashboard={})),function(n){var t;(function(t){var i=function(){function t(n,t,i){this.dashboardDesigner=n;this.bbdesigner$=this.dashboardDesigner.bbdesigner$;this.id=i.attr("id")!==""?i.attr("id"):this.dashboardDesigner._id;this.renderDropDownList(t,i);this.targetContainer.data("DesignerPropertyWidget",this)}return t.prototype.renderDropDownList=function(t,i){n.isNullOrUndefined(i)||n.isNullOrUndefined(t)||(this.targetContainer=i,this.dropDownBtnModel=t,this.createDropDownElement(i))},t.prototype.createDropDownElement=function(){var t=n.buildTag("div.e-dropdown-wrapper","",{},{id:this.id+"_dropdown_wrapper"}),i=n.buildTag("input.bbi-dropdown-element","",{},{id:this.id+"_dropdown_list"});t.append(i);this.targetContainer.append(t);this.dropDownObj=i.BoldBIDashboardDropDownList({dataSource:this.dropDownBtnModel.dataSource,cssClass:n.isNullOrUndefined(this.dropDownBtnModel.cssClass)?"":this.dropDownBtnModel.cssClass,fields:n.isNullOrUndefined(this.dropDownBtnModel.fields)?{}:this.dropDownBtnModel.fields,value:n.isNullOrUndefined(this.dropDownBtnModel.value)?"":this.dropDownBtnModel.value,watermarkText:n.isNullOrUndefined(this.dropDownBtnModel.watermarkText)?"":this.dropDownBtnModel.watermarkText,width:n.isNullOrUndefined(this.dropDownBtnModel.width)?"":this.dropDownBtnModel.width,selectedIndex:n.isNullOrUndefined(this.dropDownBtnModel.selectedIndex)?"":this.dropDownBtnModel.selectedIndex,change:this.bbdesigner$.proxy(this.onValueChange,this),enableFilterSearch:n.isNullOrUndefined(this.dropDownBtnModel.enableFilterSearch)?!1:this.dropDownBtnModel.enableFilterSearch}).data("BoldBIDashboardDropDownList")},t.prototype.onValueChange=function(t){if(!n.isNullOrUndefined(this.dropDownBtnModel.callBackInstance)&&!n.isNullOrUndefined(this.dropDownBtnModel.callBackMethod)){var i={args:t,optinalArgs:n.isNullOrUndefined(this.dropDownBtnModel.optionalArgs)?"":this.dropDownBtnModel.optionalArgs};n.DashboardUtil.invokeMethod(this.dropDownBtnModel.callBackInstance,this.dropDownBtnModel.callBackMethod,[i])}},t.prototype.enableDisableDropdown=function(t){n.isNullOrUndefined(this.dropDownObj)||(t?this.dropDownObj.disable():this.dropDownObj.enable())},t.prototype.updateDatasource=function(t){!n.isNullOrUndefined(this.dropDownObj)&&!n.isNullOrUndefined(t)&&t.length>0&&this.dropDownObj.option("dataSource",t)},t.prototype.selectItemByIndex=function(t){n.isNullOrUndefined(this.dropDownObj)||n.isNullOrUndefined(t)||this.dropDownObj.option("selectedIndex",t)},t.prototype.selectItemByValue=function(t){n.isNullOrUndefined(this.dropDownObj)||n.isNullOrUndefined(t)||this.dropDownObj.selectItemByValue(t)},t.prototype.selectItemByText=function(t){n.isNullOrUndefined(this.dropDownObj)||n.isNullOrUndefined(t)||this.dropDownObj.selectItemByText(t)},t}();t.DropDownList=i})(t=n.Dashboard||(n.Dashboard={}))}(BoldBIDashboard||(BoldBIDashboard={})),function(n){var t;(function(t){var i=function(){function t(n,t){this.renderSwitchButton(n,t);this.targetContainer.data("DesignerPropertyWidget",this)}return t.prototype.renderSwitchButton=function(t,i){var r,u;n.isNullOrUndefined(i)||(i.length===1&&i.children().length===0?(this.id=i.attr("id"),this.targetContainer=i,this.switchBtnInfo=t,r=this.getId(),i.append(this.getInputBox(r)),u=new ejdashboard.buttons.Switch({checked:this.switchBtnInfo.checkState,change:BoldBIDashboardDesigner.bbdesignerstatic$.proxy(this.onValueChange,this),cssClass:this.switchBtnInfo.cssClass,disabled:this.switchBtnInfo.isDisabled,name:this.switchBtnInfo.name}),u.appendTo(i.find("#"+r+"_swt_input")[0])):i.empty())},t.prototype.getId=function(){var t=n.isNullOrUndefined(this.switchBtnInfo.id)?this.targetContainer.attr("id")+"_input_":this.switchBtnInfo.id;return t.replace(/ /g,"_")},t.prototype.getInputBox=function(n){return"<input type='checkbox' id='"+n+"_swt_input' class='e-dbrd-swt-input' name='"+this.switchBtnInfo.name+"'/>"},t.prototype.onValueChange=function(t){if(!n.isNullOrUndefined(this.switchBtnInfo.callBackInstance)&&!n.isNullOrUndefined(this.switchBtnInfo.callBackMethod)&&this.switchBtnInfo.callBackMethod!==""){var i={args:t,optionalArgs:this.switchBtnInfo.optionalArgs};n.DashboardUtil.invokeMethod(this.switchBtnInfo.callBackInstance,this.switchBtnInfo.callBackMethod,[i])}},t.prototype.updateValueByName=function(t,i){var u=this.targetContainer.find(".e-dbrd-swt-input[name ='"+t+"']"),r=ejdashboard.base.getComponent(u[0],"switch");n.isNullOrUndefined(r)||(r.checked=i,r.refresh())},t.prototype.disableItemByName=function(t,i){var u=this.targetContainer.find(".e-dbrd-swt-input[name='"+t+"']"),r=ejdashboard.base.getComponent(u[0],"switch");n.isNullOrUndefined(r)||(r.disabled=i,r.refresh())},t.prototype.getState=function(){var i=this.targetContainer.find(".e-dbrd-swt-input"),t=ejdashboard.base.getComponent(i[0],"switch");return n.isNullOrUndefined(t)?"unknown":t.checked?"on":"off"},t}();t.SwitchButton=i})(t=n.Dashboard||(n.Dashboard={}))}(BoldBIDashboard||(BoldBIDashboard={})),function(n){var t;(function(t){var i=function(){function t(n,t){this.renderRadioButton(n,t);this.targetContainer.data("DesignerPropertyWidget",this)}return t.prototype.renderRadioButton=function(t,i){n.isNullOrUndefined(i)||(i.length===1&&i.children().length===0?(this.targetContainer=i,this.radioBtnModel=t,this.renderEjRadioButton()):i.empty())},t.prototype.renderEjRadioButton=function(){var i,t,r,u;for(this.wrapper=n.buildTag("div.bbi-dbrd-radio-btn-wrapper","",{},{}),this.targetContainer.append(this.wrapper),i=0;i<this.radioBtnModel.dataSource.length;i++)t=this.radioBtnModel.dataSource[i],r=n.isNullOrUndefined(t.id)?this.targetContainer.attr("id")+"_input_"+i:t.id,this.wrapper.append(this.getInputBox(r)),u=new ejdashboard.buttons.RadioButton({change:BoldBIDashboardDesigner.bbdesignerstatic$.proxy(this.onValueChange,this),name:this.radioBtnModel.groupName,label:t.label,value:t.value,labelPosition:this.radioBtnModel.labelPosition[this.radioBtnModel.labelPosition],checked:t.isChecked,cssClass:this.radioBtnModel.cssClass}),u.appendTo(this.wrapper.find("#"+r+"_rdo_input")[0])},t.prototype.getInputBox=function(n){return"<input type='radio' id='"+n+"_rdo_input' name='"+this.radioBtnModel.groupName+"' class='e-dbrd-radio-input'/>"},t.prototype.onValueChange=function(t){if(!n.isNullOrUndefined(this.radioBtnModel.callBackInstance)&&!n.isNullOrUndefined(this.radioBtnModel.callBackMethod)&&this.radioBtnModel.callBackMethod!==""){var i={args:t,optinalArgs:this.radioBtnModel.optionalArgs};n.DashboardUtil.invokeMethod(this.radioBtnModel.callBackInstance,this.radioBtnModel.callBackMethod,[i])}},t.prototype.updateItemByValue=function(t,i,r){var u=this.targetContainer.find(".e-dbrd-radio-input[value='"+t+"']"),f=ejdashboard.base.getComponent(u[0],"radio");n.isNullOrUndefined(f)||(f.checked=i,i&&this.radioBtnModel.triggerOnCodeUpdate&&!r&&u.click())},t.prototype.disableByValue=function(t,i){var u=this.targetContainer.find(".e-dbrd-radio-input[value='"+t+"']"),r=ejdashboard.base.getComponent(u[0],"radio");n.isNullOrUndefined(r)||(r.disabled=i,r.refresh())},t.prototype.disableAllItems=function(n){for(var t=0;t<this.radioBtnModel.dataSource.length;t++)this.disableByValue(this.radioBtnModel.dataSource[t].value,n)},t}();t.RadioButton=i})(t=n.Dashboard||(n.Dashboard={}))}(BoldBIDashboard||(BoldBIDashboard={})),function(n){var t;(function(t){var i=function(){function t(n,t){this.id="";this.bbdesigner$=BoldBIDashboardDesigner.bbdesignerstatic$;this.renderCheckBoxhButton(n,t);this.targetContainer.data("DesignerPropertyWidget",this)}return t.prototype.renderCheckBoxhButton=function(t,i){n.isNullOrUndefined(i)||(i.length===1&&i.children().length===0?(this.id=i.attr("id"),this.targetContainer=i,this.checkboxModel=t,this.renderEjCheckBox()):this.targetContainer.empty())},t.prototype.renderEjCheckBox=function(){var i,t,r,u;for(this.wrapper=n.buildTag("div.bbi-dbrd-check-box-wrapper","",{},{}),this.targetContainer.append(this.wrapper),i=0;i<this.checkboxModel.dataSource.length;i++)t=this.checkboxModel.dataSource[i],r=this.getId(t),this.wrapper.append("<input type='checkbox' id='"+r+"_chk_input' class='e-dbrd-chk-input'/>"),u=new ejdashboard.buttons.CheckBox({change:this.bbdesigner$.proxy(this.oncheckChange,this),name:t.name,label:n.isNullOrUndefined(t.label)?"":t.label,labelPosition:n.isNullOrUndefined(this.checkboxModel.labelPosition)?n.Dashboard.LabelPosition[0]:this.checkboxModel.labelPosition[this.checkboxModel.labelPosition],checked:t.isChecked,indeterminate:t.isIntermediate,disabled:t.isDisabled,cssClass:this.checkboxModel.cssClass}),u.appendTo(this.wrapper.find("#"+r+"_chk_input")[0])},t.prototype.getId=function(t){var i=n.isNullOrUndefined(t.id)?this.targetContainer.attr("id")+"_input_":t.id;return i.replace(/ /g,"_")},t.prototype.oncheckChange=function(t){var u=this,i,r,f;n.isNullOrUndefined(this.checkboxModel.callBackInstance)||n.isNullOrUndefined(this.checkboxModel.callBackMethod)||this.checkboxModel.callBackMethod===""||(i=[],r=[],this.targetContainer.find(".e-checkbox-wrapper[aria-checked=true] input").each(function(n,t){i.push(u.bbdesigner$(t).attr("name"))}),this.targetContainer.find(".e-checkbox-wrapper[aria-checked=false] input").each(function(n,t){r.push(u.bbdesigner$(t).attr("name"))}),f={checkedItems:i,uncheckedItems:r,event:t,arguments:this.checkboxModel.optionalArgs},n.DashboardUtil.invokeMethod(this.checkboxModel.callBackInstance,this.checkboxModel.callBackMethod,[f]))},t.prototype.checkItemByName=function(t,i){var u=this.targetContainer.find(".e-dbrd-chk-input[name='"+t+"']"),r=ejdashboard.base.getComponent(u[0],"checkbox");n.isNullOrUndefined(r)||(r.checked=i,r.refresh())},t.prototype.intermediateStateByName=function(t,i){var u=this.targetContainer.find(".e-dbrd-chk-input[name='"+t+"']"),r;!n.isNullOrUndefined(u)&&u.length>0&&(r=ejdashboard.base.getComponent(u[0],"checkbox"),n.isNullOrUndefined(r)||(r.indeterminate=i,r.refresh()))},t.prototype.disableItemById=function(n,t){var i=this.targetContainer.find("#"+n+"_chk_input"),r=ejdashboard.base.getComponent(i[0],"checkbox");this.disableCheckBox(r,t)},t.prototype.disableItemByName=function(n,t){var i=this.targetContainer.find(".e-dbrd-chk-input[name='"+n+"']"),r=ejdashboard.base.getComponent(i[0],"checkbox");this.disableCheckBox(r,t)},t.prototype.disableCheckBox=function(t,i){n.isNullOrUndefined(t)||(t.disabled=i,t.refresh())},t.prototype.disableAllChkBoxes=function(n){for(var t=0;t<this.checkboxModel.dataSource.length;t++)this.disableItemById(this.checkboxModel.dataSource[t].id,n)},t.prototype.updateIncludeItemCheckbox=function(t,i){var u=this.targetContainer.find(".e-dbrd-chk-input[name='"+t+"']"),r=ejdashboard.base.getComponent(u[0],"checkbox");n.isNullOrUndefined(r)||(r.checked=i,r.refresh())},t}(),r;t.CheckBox=i,function(n){n[n.After=0]="After";n[n.Before=1]="Before"}(r=t.LabelPosition||(t.LabelPosition={}))})(t=n.Dashboard||(n.Dashboard={}))}(BoldBIDashboard||(BoldBIDashboard={}));var __extends=this&&this.__extends||function(){var n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,t){n.__proto__=t}||function(n,t){for(var i in t)t.hasOwnProperty(i)&&(n[i]=t[i])};return function(t,i){function r(){this.constructor=t}n(t,i);t.prototype=i===null?Object.create(i):(r.prototype=i.prototype,new r)}}(),DynamicParameterInfo=function(){function n(){}return n}(),DynamicParameterCollection=function(n){function t(){var t=n!==null&&n.apply(this,arguments)||this;return t.LiteralModeInfo=null,t.ListModeInfo=null,t}return __extends(t,n),t}(DynamicParameterInfo),LiteralModeInfo=function(){function n(){}return n}(),ListModeInfo=function(){function n(){}return n}(),RelativeDateOption=function(){function n(){}return n}(),RelativeDateFilter=function(){function n(){}return n}(),DataColumnInfo=function(){function n(){}return n}(),FetchAction;(function(n){n[n.Manual=0]="Manual";n[n.Datasource=1]="Datasource"})(FetchAction||(FetchAction={})),function(n){n[n.Add=0]="Add";n[n.Update=1]="Update";n[n.Delete=2]="Delete"}(ListGridAction||(ListGridAction={})),function(n){n[n.Datasource=0]="Datasource";n[n.Query=1]="Query";n[n.Table=2]="Table"}(FetchType||(FetchType={}));__extends=this&&this.__extends||function(){var n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,t){n.__proto__=t}||function(n,t){for(var i in t)t.hasOwnProperty(i)&&(n[i]=t[i])};return function(t,i){function r(){this.constructor=t}n(t,i);t.prototype=i===null?Object.create(i):(r.prototype=i.prototype,new r)}}(),function(n){var t;(function(t){var i=function(i){function r(t,r){var u=i.call(this)||this;return u.pluginName="BoldBIDashboardDynamicParameterConfiguration",u._id=BoldBIDashboardDesigner.bbdesignerstatic$(u.element).attr("id"),u.model=null,u.dashboardParameterContainer=null,u.queryDesigner=null,u.dashboardDesigner=null,u.relativeDateInfo=[],u.tableFieldName=null,u.isFieldFromAsTableOrDs=!1,u.isDataFetchedForTable=!1,u.isDataFetchedForField=!1,u.isDataFetchedForDisplayField=!1,u.codeEditor=null,u.isDataColumnInteracted=!1,u.isMobileLayout=!1,u.locale=null,t&&(t.jquery||(t=BoldBIDashboardDesigner.bbdesignerstatic$("#"+t)),t.length&&(n.isNullOrUndefined(r)||(BoldBIDashboardDesigner.bbdesignerstatic$(t).addClass("boldbi-dashboarddesigner"),BoldBIDashboardDesigner.bbdesignerstatic$(t).BoldBIDashboardDynamicParameterConfiguration(r).data(u.pluginName)))),u}return __extends(r,i),r.prototype._init=function(){this.dashboardDesigner=this.model.dashboardDesignerInstance;this.bbdesigner$=this.dashboardDesigner.bbdesigner$;this.locale=this.dashboardDesigner.getLocalizationContent();this.queryDesigner=this.dashboardDesigner.modules.queryDesigner;this.isMobileLayout=this.dashboardDesigner.isMobileLayout();this.dateFormat=this.dashboardDesigner.model.localeSettings.dateFormat;this.renderDynamicParameterContainer();this.unWireEvents();this.wireEvents()},r.prototype.renderDynamicParameterContainer=function(){this.dashboardParameterContainer=n.buildTag("div.bbi-dashboard-parameter-dlg-container bbi-parameter-waitingpopup","",{},{id:this._id+"_dashboard_parameter_Div"});this.model.renderingMode?this.renderElements(this.model.elementCollection):this.renderElements(this.getElementInfo());this.model.renderingMode||this.dashboardParameterContainer.addClass("bbi-dbrd-control bbi-dbrd-designer-scroll-style-3");this.dashboardParameterContainer.BoldBIDashboardWaitingPopup({showOnInit:!1,cssClass:"e-designer-waitingpopup "+this._id+"_designer_waiting_popup bbi-designer-loader"})},r.prototype.updateElementValuesForLiteralMode=function(t){var i=null,r=null,u,f,e;switch(t.DataType){case DynamicParameterDataType.String:i=this.element.find("#"+this._id+"_currentvalue_input");!n.isNullOrUndefined(i)&&i.length>0&&i.val(t.LiteralModeInfo.StartValue);break;case DynamicParameterDataType.Number:i=t.LiteralModeInfo.SelectionType===SelectionType.Single?this.element.find("#"+this._id+"_currentvalue_input"):this.element.find("#"+this._id+"_currentvalue_start_input");r=t.LiteralModeInfo.SelectionType===SelectionType.Single?null:this.element.find("#"+this._id+"_currentvalue_end_input");!n.isNullOrUndefined(i)&&i.length>0&&i.val(t.LiteralModeInfo.StartValue);!n.isNullOrUndefined(r)&&r.length>0&&r.val(t.LiteralModeInfo.EndValue);break;case DynamicParameterDataType.Boolean:i=t.LiteralModeInfo.StartValue.toString().toLowerCase()==="true"?this.element.find("#"+this._id+"_currentvalue_radiobutton_true_rdo_input"):this.element.find("#"+this._id+"_currentvalue_radiobutton_false_rdo_input");!n.isNullOrUndefined(i)&&i.length>0&&i.prop("checked",!0);break;case DynamicParameterDataType.Date:t.LiteralModeInfo.SelectionType===SelectionType.Single?(u=this.element.find("#"+this._id+"_currentvalue_datepicker").data("BoldBIDashboardDashboardDatePicker"),n.isNullOrUndefined(u)||n.isNullOrUndefined(t.LiteralModeInfo)||this.resetDatePicker(u,t.LiteralModeInfo.RangeStartDate)):t.LiteralModeInfo.IsCustomDateRange?(this.addRelativeDate(t.LiteralModeInfo.RelativeDateItems),this.populateDateRanges(t.LiteralModeInfo.RelativeDateItems,"Custom"),f=this.element.find("#"+this._id+"_currentvalue_datepicker_start").data("BoldBIDashboardDashboardDatePicker"),e=this.element.find("#"+this._id+"_currentvalue_datepicker_end").data("BoldBIDashboardDashboardDatePicker"),n.isNullOrUndefined(f)||n.isNullOrUndefined(t.LiteralModeInfo)||this.resetDatePicker(f,t.LiteralModeInfo.RangeStartDate),n.isNullOrUndefined(e)||n.isNullOrUndefined(t.LiteralModeInfo)||this.resetDatePicker(e,t.LiteralModeInfo.RangeEndDate)):(this.addRelativeDate(t.LiteralModeInfo.RelativeDateItems),this.populateDateRanges(t.LiteralModeInfo.RelativeDateItems,t.LiteralModeInfo.SelectedRelativeDate))}},r.prototype.resetDatePicker=function(t,i,r){t.model.startDate=!n.isNullOrUndefined(r)&&r?n.format(new Date("01/01/1970"),this.dateFormat):n.format(new Date(i),this.dateFormat);t.model.value={range:null,start:n.isNullOrUndefined(i)?n.format(new Date,this.dateFormat):n.format(new Date(i),this.dateFormat),end:null};t.redraw()},r.prototype.updateElementValues=function(t){var i,u,f,e,o,r,s;this.dashboardParameterContainer.attr("data-param-id",t.ParameterID);this.element.find("#"+this._id+"_name_input").val(t.ParameterName);this.element.find("#"+this._id+"_description").val(t.Description);i=this.element.find("#"+this._id+"_showInViewer_chk_input");!n.isNullOrUndefined(i)&&i.length>0&&(u=ejdashboard.base.getComponent(i[0],"checkbox"),u.checked=t.ShowInViewer);f=this.element.find("#"+this._id+"_type_dropdown_container").data("DesignerPropertyWidget");e=this.element.find("#"+this._id+"_mode_dropdown_container").data("DesignerPropertyWidget");e.selectItemByIndex(t.Mode);f.selectItemByIndex(t.DataType);switch(t.Mode){case ParameterMode.Literal:o=this.element.find("#"+this._id+"_selectiontype_dropdown_container").data("DesignerPropertyWidget");n.isNullOrUndefined(t.LiteralModeInfo)||o.selectItemByIndex(t.LiteralModeInfo.SelectionType);this.updateElementValuesForLiteralMode(t);this.updateVisibility("multiselectioncombobox","defaultvalue",!1);break;case ParameterMode.List:if(t.ListModeInfo.ReturnType===ParameterReturnType.Single?this.element.find("#"+this._id+"_returnType_radiobutton_single_rdo_input").prop("checked",!0):this.element.find("#"+this._id+"_returnType_radiobutton_iterative_rdo_input").prop("checked",!0),t.ListModeInfo.Type===FetchAction.Datasource){this.changeListDataSourceType(t.ListModeInfo);r=t.ListModeInfo.DataColumn.FieldFrom;this.element.find("#"+this._id+"_value_radiobutton_datasource_rdo_input").prop("checked",!0);switch(r){case FetchType.Datasource:this.changeFieldFromDatasource();this.showNotifyIcon(!0);break;case FetchType.Table:this.changeFieldFromTable();this.showNotifyIcon(!1);break;case FetchType.Query:this.changeFieldFromCustomQuery();this.codeEditor.setValue(t.ListModeInfo.DataColumn.QueryString);this.showNotifyIcon(!1)}this.updateDataSourceAndPopupEvent(t.ListModeInfo.DataColumn,r);this.updateFieldFromElementValue(t.ListModeInfo,r);this.updateFirstValueCheckbox(t.ListModeInfo);s=t.DataType===DynamicParameterDataType.Date?!0:!1;this.updateVisibility("dropdown","dateformat",s)}else this.updateItemDisable("dropdown","type",!1),this.element.find("#"+this._id+"_value_radiobutton_manual_rdo_input").prop("checked",!0),this.changeListManualType(),this.updateListModeUI(n.DashboardDesignerUtility.Serialization.enumToString(DynamicParameterDataType,t.DataType)),this.updateValuesForListGrid(t.ListModeInfo)}n.isNullOrUndefined(t.DateFormat)||this.element.find("#"+this._id+"_dateformat_dropdown_list").val(t.DateFormat)},r.prototype.updateFieldFromElementValue=function(n,t){var r=this.element.find("#"+this._id+"_fieldfrom_dropdown_container").data("DesignerPropertyWidget"),i=n.DataColumn;r.selectItemByValue(i.FieldFrom);this.tableFieldName=t===FetchType.Table?i.FieldName:null;this.updateComboBoxInfo(!1,n,[],this.getRequestInfo(!1,t,i.FieldId,i.FieldName,i.DisplayFieldId,i.DisplayFieldName,i.QueryString,i.TableName,i.SchemaName))},r.prototype.updateDataSourceAndPopupEvent=function(n,t){var f,e,o,r,i,u;t===FetchType.Table&&(f=this.element.find("#"+this._id+"_table_dropdown_container").data("DesignerPropertyWidget"),f.updateDatasource(this.getDefaultDataSource(n,!0,t)),f.selectItemByValue(n.TableName),f.dropDownObj.model.popupShown=this.bbdesigner$.proxy(this.getTableDataWhenPopupOpen,this),this.isDataFetchedForTable=!0);e=this.element.find("#"+this._id+"_valuefield_dropdown_container").data("DesignerPropertyWidget");o=this.element.find("#"+this._id+"_displayfield_dropdown_container").data("DesignerPropertyWidget");this.isHierarchichalDs()?(this.fieldTreeview.dropDownBtnModel.fields.dataSource=[],this.fieldTreeview.renderDropDown(this.fieldTreeview.dropDownBtnModel,this.element.find("#"+this._id+"_valuefield_dropdown_container")),r=n.FieldName,i=n.FieldId,t===FetchType.Table&&(i=n.FieldName,u=i.split("."),r=u[u.length-1]),this.updateText(r,i,this.fieldTreeview),this.fieldTreeview.dropDownObj.model.popupShown=$.proxy(this.getFieldDataWhenPopupOpen,this,!1),this.updateFieldsForHierarchical({ColumnId:n.FieldId,Name:n.FieldName},!1),this.displayFieldTreeView.dropDownBtnModel.fields.dataSource=[],this.displayFieldTreeView.renderDropDown(this.displayFieldTreeView.dropDownBtnModel,this.element.find("#"+this._id+"_displayfield_dropdown_container")),r=n.DisplayFieldName,i=n.DisplayFieldId,t===FetchType.Table&&(i=n.DisplayFieldName,u=i.split("."),r=u[u.length-1]),this.updateText(r,i,this.displayFieldTreeView),this.displayFieldTreeView.dropDownObj.model.popupShown=$.proxy(this.getFieldDataWhenPopupOpen,this,!0)):(e.updateDatasource(this.getDefaultDataSource(n,!1,t)),e.selectItemByValue(t===FetchType.Datasource?n.FieldId:n.FieldName),e.dropDownObj.model.popupShown=$.proxy(this.getFieldDataWhenPopupOpen,this,!1),o.updateDatasource(this.getDisplayFieldDataSource(n,t)),o.selectItemByValue(t===FetchType.Datasource?n.DisplayFieldId:n.DisplayFieldName),o.dropDownObj.model.popupShown=$.proxy(this.getFieldDataWhenPopupOpen,this,!0));this.isDataFetchedForField=!0;this.isDataFetchedForDisplayField=!0},r.prototype.updateText=function(t,i,r){n.isNullOrUndefined(t)||r.updateText(t,i)},r.prototype.updateValuesForListGrid=function(t,i,r,u){var f,e;t===void 0&&(t=null);i===void 0&&(i=[]);r===void 0&&(r=[]);u===void 0&&(u=!1);f=this.element.find("#"+this._id+"_listgrid_grid_container_panel");n.isNullOrUndefined(t)?(f.BoldBIDashboardGrid("dataSource",[]),this.updateComboBoxInfo()):(e=i,e=t.ValueCollection,u||(this.updateVisibility("grid","listgrid",!0),f.BoldBIDashboardGrid("dataSource",this.getListObjectValues(e)),f.BoldBIDashboardGrid({allowScrolling:!0,scrollSettings:{height:160,autoHide:!0,width:this.dashboardDesigner.scrollerSize.buttonSize},rowTemplate:this.getRowTemplate()})),this.disableAllAlertMessages(),this.updateComboBoxInfo(!u,t,e),this.updateFirstValueCheckbox(t))},r.prototype.updateFirstValueCheckbox=function(t){var i,r;t===void 0&&(t=null);i=this.element.find("#"+this._id+"_isfirstvalue_chk_input");!n.isNullOrUndefined(i)&&i.length>0&&(r=ejdashboard.base.getComponent(i[0],"checkbox"),r.checked=t.IsFirstValue)},r.prototype.updateComboBoxInfo=function(t,i,r,u){t===void 0&&(t=!0);i===void 0&&(i=null);r===void 0&&(r=[]);u===void 0&&(u=null);var e=this._id+"_defaultvalue_multiselectioncombobox_container_panel_element",f=this.getFilterValues(i),o=new n.Dashboard.ListMultiSelectionComboBox(this.dashboardDesigner),s=!n.isNullOrUndefined(i)&&i.IsInclude&&f.length===0,h={isManualData:t,isCheckAll:n.isNullOrUndefined(i)?!0:s,isInclude:n.isNullOrUndefined(i)?!0:i.IsInclude,valueCollection:t?this.getListObjectValues(r):r,filterValues:f,hasCheckedValue:n.isNullOrUndefined(i)?!1:i.HasCheckedState,requestInfo:t?null:u};o.populateMultiSelectionComboBox(e,h);!t&&!n.isNullOrUndefined(i)&&!n.isNullOrUndefined(i.DataColumn)&&i.HasCheckedState&&f.length>0?this.requestDisplayText(i):this.hideComboBoxLoadingIndicator()},r.prototype.getFilterValues=function(t){return t===void 0&&(t=null),n.isNullOrUndefined(t)||t.SelectedValueCollection.length===t.ValueCollection.length?[]:t.SelectedValueCollection},r.prototype.showComboBoxLoadingIndicator=function(){var n=this.element.find("#"+this._id+"_defaultvalue_multiselectioncombobox_container_panel"),t=this.element.find("#"+this._id+"_defaultvalue_multiselectioncombobox_container_panel_element_multi_select_dropDown"),i=t.find("#"+this._id+"_defaultvalue_multiselectioncombobox_container_panel_element_multi_select_dropDown_text");t.addClass("bbi-dbrd-param-disable-combo-box");i.text("");n.BoldBIDashboardWaitingPopup({showOnInit:!1,cssClass:"e-designer-waitingpopup bbi-designer-loader bbi-param-combo-box-indicator"});n.data("BoldBIDashboardWaitingPopup").show()},r.prototype.hideComboBoxLoadingIndicator=function(){var t=this.element.find("#"+this._id+"_defaultvalue_multiselectioncombobox_container_panel"),i;t.length>0&&!n.isNullOrUndefined(t.data("BoldBIDashboardWaitingPopup"))&&(i=this.element.find("#"+this._id+"_defaultvalue_multiselectioncombobox_container_panel_element_multi_select_dropDown"),i.removeClass("bbi-dbrd-param-disable-combo-box"),t.data("BoldBIDashboardWaitingPopup").hide())},r.prototype.requestDisplayText=function(){var u=this.getSelectedParameterId(),i=[],t=this.queryDesigner.queryParamCollection.filter(function(n){return n.ParameterID===u})[0],f=this.element.find("#"+this._id+"_defaultvalue_multiselectioncombobox_container_panel"),r=t.ParameterID+t.ListModeInfo.DataColumn.DisplayFieldId+t.ListModeInfo.DataColumn.DisplayFieldName;f.data("displayTextRequestId",r);i.push(t);this.dashboardDesigner.modules.util.doAjaxPost("POST",this.queryDesigner.model.serviceUrl+n.Dashboard.ServiceAPI.processdata,{action:n.DashboardUtil.DesignerAction.GetDataColumnDisplayText,data:JSON.stringify({className:n.DashboardUtil.DesignerAction.ParameterAction,designerAction:n.DashboardUtil.DesignerAction.GetDataColumnDisplayText,dataSetId:this.queryDesigner.dataset.Id,paramData:JSON.stringify(i),requestId:r,isQueryDesignerMode:this.dashboardDesigner.isQueryDesignerMode})},{fnction:this.bbdesigner$.proxy(this.updateDisplayText,this),indicator:[this.bbdesigner$.proxy(this.showComboBoxLoadingIndicator,this),this.bbdesigner$.proxy(this.hideComboBoxLoadingIndicator,this)]})},r.prototype.updateDisplayText=function(t){var r=this.element.find("#"+this._id+"_defaultvalue_multiselectioncombobox_container_panel"),i;!n.isNullOrUndefined(t)&&t.length>0&&t[0].requestId===r.data("displayTextRequestId")&&this.getSelectedParameterId()===t[0].paramId?(i=this.element.find("#"+this._id+"_defaultvalue_multiselectioncombobox_container_panel_element_multi_select_dropDown_text"),i.text(t[0].displayText)):this.showComboBoxLoadingIndicator()},r.prototype.getListObjectValues=function(n){for(var i=[],t=0;t<n.length;t++)i.push({ListText:n[t],ListValue:n[t]});return i},r.prototype.updateSelectedParameterInfo=function(n,t,i,r){this.isDataColumnInteracted=!1;i?(this.element.find("#"+this._id).addClass("e-dbrd-default-param"),this.dashboardDesigner.element.find(".e-dbrd-designer-save-param-btn").removeClass("e-dbrd-update-action").addClass("e-dbrd-save-action"),this.dashboardDesigner.element.find(".e-dbrd-designer-save-param-btn").text(this.locale.dialogOptions.saveButtonText),this.resetUIElements(t,r)):(n.length>0&&(this.disableAllAlertMessages(),this.updateElementValues(n.filter(function(n){return n.ParameterID===t})[0])),this.dashboardDesigner.element.find(".e-dbrd-designer-save-param-btn").removeClass("e-dbrd-save-action").addClass("e-dbrd-update-action"),this.dashboardDesigner.element.find(".e-dbrd-designer-save-param-btn").text(this.locale.dialogOptions.updateButtonText))},r.prototype.parameterNameValidation=function(n){for(var i=this.dashboardDesigner.element.find(".bbi-dbrd-selected-parameter").length>0?this.dashboardDesigner.element.find(".bbi-dbrd-selected-parameter").attr("name"):"",t=0;t<this.queryDesigner.queryParamCollection.length;t++)if(this.queryDesigner.queryParamCollection[t].ParameterName===n&&i!==n)return!0;return!1},r.prototype.populateModeDatasource=function(){return[{text:n.DashboardDesignerUtility.Serialization.enumToString(ParameterMode,ParameterMode.Literal),value:ParameterMode.Literal},{text:n.DashboardDesignerUtility.Serialization.enumToString(ParameterMode,ParameterMode.List),value:ParameterMode.List}]},r.prototype.populateReturnTypeDatasource=function(){return["Single","Iterative"]},r.prototype.populateListDatasource=function(){return[{text:n.DashboardDesignerUtility.Serialization.enumToString(DynamicParameterDataType,DynamicParameterDataType.String),value:DynamicParameterDataType.String},{text:n.DashboardDesignerUtility.Serialization.enumToString(DynamicParameterDataType,DynamicParameterDataType.Number),value:DynamicParameterDataType.Number},{text:n.DashboardDesignerUtility.Serialization.enumToString(DynamicParameterDataType,DynamicParameterDataType.Date),value:DynamicParameterDataType.Date}]},r.prototype.populateLiteralDatasource=function(){return this.bbdesigner$.merge(this.populateListDatasource(),[{text:n.DashboardDesignerUtility.Serialization.enumToString(DynamicParameterDataType,DynamicParameterDataType.Boolean),value:DynamicParameterDataType.Boolean}])},r.prototype.populateSelectionDatasource=function(){return[{text:n.DashboardDesignerUtility.Serialization.enumToString(SelectionType,SelectionType.Single),value:SelectionType.Single},{text:n.DashboardDesignerUtility.Serialization.enumToString(SelectionType,SelectionType.Range),value:SelectionType.Range}]},r.prototype.populateCustomDatasource=function(){return[{text:n.DashboardDesignerUtility.Serialization.enumToString(DateRange,DateRange.Custom),value:n.DashboardDesignerUtility.Serialization.enumToString(DateRange,DateRange.Custom)}]},r.prototype.populateBooleanDatasource=function(){return["True","False"]},r.prototype.getElementInfo=function(){return[{name:"name",displayName:this.locale.dashboardParameterDialog.nameText,type:"input",startValue:null,width:"320px",changeEvent:"changeParameterName",isVisible:!0},{name:"description",displayName:this.locale.dashboardParameterDialog.descText,type:"textarea",startValue:null,changeEvent:"",isVisible:!0},{name:"mode",displayName:this.locale.dashboardParameterDialog.modeText,type:"dropdown",startValue:"0",controlDataSource:this.populateModeDatasource(),changeEvent:"changeMode",isVisible:!0},{name:"return Type",type:"radiobutton",startValue:null,dataSource:this.populateReturnTypeDatasource(),isVisible:!1,changeEvent:"changeReturnType"},{name:"type",displayName:this.locale.dashboardParameterDialog.typeText,type:"dropdown",startValue:"0",controlDataSource:this.populateLiteralDatasource(),changeEvent:"changeDataType",isVisible:!0},{name:"selection type",displayName:this.locale.dashboardParameterDialog.selectionTypeText,type:"dropdown",startValue:"0",controlDataSource:this.populateSelectionDatasource(),changeEvent:"changeSelectionType",customEvent:"changeCustomDateType",customValue:null,customDataSource:this.populateCustomDatasource(),isVisible:!1},{name:"current value",displayName:this.locale.dashboardParameterDialog.currentValueText,type:"input",selectionType:"single",startValue:null,width:"320px",changeEvent:"changeCurrentValue",isVisible:!0},{name:"current value",displayName:this.locale.dashboardParameterDialog.currentValueText,type:"input",selectionType:"range",startValue:null,endValue:null,changeEvent:"changeCurrentValue",isVisible:!1},{name:"current value",displayName:this.locale.dashboardParameterDialog.currentValueText,type:"datepicker",selectionType:"single",startValue:null,changeEvent:"changeCurrentValue",isVisible:!1},{name:"current value",displayName:this.locale.dashboardParameterDialog.currentValueText,type:"datepicker",selectionType:"range",startValue:null,endValue:null,changeEvent:"changeCurrentValue",isVisible:!1},{name:"current value",displayName:this.locale.dashboardParameterDialog.currentValueText,type:"radiobutton",dataSource:this.populateBooleanDatasource(),startValue:null,changeEvent:null,isVisible:!1},{name:"value",displayName:this.locale.dashboardParameterDialog.valueText,type:"radiobutton",dataSource:this.populateListBooleanDatasource(),startValue:null,changeEvent:"changeListOption",isVisible:!1},{name:"field from",displayName:this.locale.dashboardParameterDialog.fieldFromText,type:"dropdown",startValue:"0",controlDataSource:this.populateFieldFromDatasource(),changeEvent:"changeFieldFrom",isVisible:!1},{name:"table",displayName:this.locale.dashboardParameterDialog.tableText,type:"dropdown",startValue:"0",controlDataSource:[],changeEvent:"changeTableColumn",isVisible:!1,enableFilterSearch:!0},{name:"queryvalue",displayName:this.locale.dashboardParameterDialog.queryValueText,type:"codemirror",startValue:null,changeEvent:"",isVisible:!1},{name:"value field",displayName:this.locale.dashboardParameterDialog.valueFieldText,type:"dropdown",startValue:"0",controlDataSource:[],changeEvent:"changeFieldValue",isVisible:!1,enableFilterSearch:!0},{name:"display field",displayName:this.locale.dashboardParameterDialog.displayFieldText,type:"dropdown",startValue:"0",controlDataSource:[],changeEvent:"changeDisplayFieldValue",isVisible:!1,enableFilterSearch:!0},{name:"add values",displayName:this.locale.dashboardParameterDialog.addValuesText,type:"input",selectionType:"single",startValue:null,width:"240px",changeEvent:"changeCurrentValue",isVisible:!1},{name:"add values",displayName:this.locale.dashboardParameterDialog.addValuesText,type:"datepicker",selectionType:"single",startValue:null,changeEvent:"changeCurrentValue",isVisible:!1},{name:"list grid",displayName:this.locale.dashboardParameterDialog.listGridText,type:"grid",dataSource:null,selectionType:null,startValue:null,changeEvent:null,isVisible:!1},{name:"default value",displayName:this.locale.dashboardParameterDialog.defaultValueText,type:"multiselectioncombobox",startValue:"0",dataSource:null,changeEvent:"",isVisible:!1},{name:"date format",displayName:this.locale.dashboardParameterDialog.dateFormat,type:"dropdown",startValue:"0",dataSource:this.populateDateFormats(),changeEvent:"changeDateFormat",isVisible:!1}]},r.prototype.elementContainerDiv=function(t,i){var r,e,o,s;i===void 0&&(i=!0);var l=this.model.renderingMode?this._id+"_"+t.parameterID+"_panel":this._id+"_"+t.name.replace(/ +/g,"")+"_"+t.type+(n.isNullOrUndefined(t.selectionType)?"_panel":"_"+t.selectionType+"_panel"),u=n.buildTag("div.bbi-dbrd-parameter-element-container bbi-dbrd-"+t.name.replace(/ +/g,"")+"-container","",{width:"100%",display:n.isNullOrUndefined(t.isVisible)?"none":t.isVisible?!n.isNullOrUndefined(t.selectionType)&&t.selectionType==="range"?"inline-block":"block":"none"},{id:l}),h=this.model.renderingMode?t.parameterName:t.displayName;if(i){var a=this.model.renderingMode?".e-dbrd-parameter-label-element bbi-dbrd-designer-hoverable":"",f=n.buildTag("div.bbi-dbrd-parameter-label","",{},{id:this.model.renderingMode?this._id+"_label_"+t.parameterID.replace(/ +/g,""):this._id+"_label_"+t.name.replace(/ +/g,"")+"_"+t.type}),c=n.buildTag("span"+a,h,{},{id:this.model.renderingMode?this._id+"_label_element_"+t.parameterID.replace(/ +/g,""):this._id+"_label_"+t.name.replace(/ +/g,"")+"_"+t.type});f.append(c);this.model.renderingMode?(r=n.buildTag("div","",{"min-width":"180px",display:"inline-block"},{}),r.append(f),u.append(r),n.isNullOrUndefined(t.description)||t.description===""||(e=n.buildTag("span.bbi-dbrd-viewer-parameter-description bbi-dbrd-designer-hoverable","",{},{id:this._id+"_description_"+t.parameterID.replace(/ +/g,""),"data-tooltip":t.description}),r.append(e)),c.attr("data-tooltip",h),o=t.mode+", "+t.dataType,s=n.buildTag("div.bbi-dbrd-parameter-mode-label",o,{"margin-right":this.isMobileLayout?"0px":""},{}),u.append(s)):u.append(f)}return u},r.prototype.renderElements=function(t){for(var r,u=n.buildTag("div.bbi-dashboard-add-parameter-container","",{"padding-top":this.model.renderingMode?"":"10px"},{id:this._id+this.model.renderingMode?"_preview":"_design_mode_elements"}),i=0;i<t.length;i++){r=t[i].type==="grid"||t[i].type==="checkbox"&&t[i].name!=="is first value"||t[i].type==="codemirror"||t[i].type==="textarea"&&t[i].name==="query value"?this.elementContainerDiv(t[i],!1):this.elementContainerDiv(t[i]);u.append(r);this.dashboardParameterContainer.append(u);this.element.append(this.dashboardParameterContainer);this.isMobileLayout&&this.model.renderingMode&&r.css({width:this.dashboardParameterContainer.width()-30});switch(t[i].type){case"dropdown":this.renderDropDown(t[i],r);this.addBorderElement(t,i,r);break;case"input":this.renderInputElement(t[i],r);this.addBorderElement(t,i,r);break;case"datepicker":this.renderDatePickerContainer(t[i],r);this.addBorderElement(t,i,r);break;case"radiobutton":this.renderRadioButtonContainer(t[i],r);this.addBorderElement(t,i,r);break;case"grid":this.renderGrid(t[i],r);break;case"checkbox":this.renderCheckBox(t[i],r);break;case"multiselectioncombobox":this.renderListMultiSelectionComboBox(t[i],r);this.addBorderElement(t,i,r);break;case"textarea":this.renderTextArea(t[i],r);break;case"codemirror":this.renderCodeMirror(t[i],r)}}},r.prototype.renderCodeMirror=function(t,i){var r=n.buildTag("div.bbi-dbrd-parameter-element-container  bbi-dbrd-"+t.name.replace(/ +/g,"")+"-element-container","",{"margin-left":"105px",height:"155px","margin-top":"-20px"},{id:this._id+"_"+t.name.replace(/ +/g,"")+"_container"}),f,u;i.append(r);f=n.buildTag("button.bbi-dbrd-btn-secondary bbi-dbrd-execute-query-action",this.locale.measureFilterWindow.runBtnText,{position:"relative",top:"175px",height:"25px","min-width":"75px",left:"385px"},{id:this._id+"_execute-query_btn",type:"button"});r.append(f);u=n.buildTag("div.e-dbrd-"+t.name.replace(/ +/g,"")+"-container","",{width:"460.5px"},{id:this._id+"_"+t.name.replace(/ +/g,"")+"_container"});r.append(u);this.codeEditor=window.CodeMirror(u[0],{mode:"text/x-sql",indentWithTabs:!0,smartIndent:!0,lineNumbers:!1,matchBrackets:!0,autofocus:!0,lineWrapping:!0,extraKeys:{"Ctrl-Space":"autocomplete"},hintOptions:{}})},r.prototype.renderListMultiSelectionComboBox=function(t,i){var u=this.model.renderingMode?t.parameterID.replace(/ +/g,""):this._id+"_"+t.name.replace(/ +/g,"")+"_"+t.type+"_container_panel",o=n.buildTag("div.bbi-dbrd-parameter-element-container bbi-dbrd-"+t.name.replace(/ +/g,"")+"-container","",{width:this.isMobileLayout&&this.model.renderingMode?i.width()-10+"px":"333px","margin-left":this.model.renderingMode?"0px":"15px",display:"inline-block","margin-top":this.model.renderingMode?"0px":"5px"},{id:u}),l=new n.Dashboard.ListMultiSelectionComboBox(this.dashboardDesigner),r=t.dataColumnInfo,s=null,h,f,e,c;this.model.renderingMode&&!t.isManualData&&(s=n.isNullOrUndefined(r.QueryString)?n.isNullOrUndefined(r.TableName)?FetchType.Datasource:FetchType.Table:FetchType.Query);h={isManualData:this.model.renderingMode?t.isManualData:!0,valueCollection:this.model.renderingMode&&t.isManualData?this.getListObjectValues(t.dataSource):[],filterValues:this.model.renderingMode?t.value:[],isInclude:this.model.renderingMode?t.isInclude:!0,isCheckAll:this.model.renderingMode?t.value.length===0&&t.isInclude||t.isManualData&&t.value.length===t.dataSource.length&&t.isInclude?!0:!1:!0,hasCheckedValue:this.model.renderingMode?t.hasCheckedState:!0,requestInfo:this.model.renderingMode&&!t.isManualData?this.getRequestInfo(!1,s,r.FieldId,r.FieldName,r.DisplayFieldId,r.DisplayFieldName,r.QueryString,r.TableName,r.SchemaName,t.dataSetId,t.parameterID,t.dataType,t.dataSetName):null};f=null;this.model.renderingMode&&(f={instance:this,method:"comboBoxSelectionChanged",args:[t.parameterID]});l.renderListMultiSelectionComboBox(o,u+"_element",h,f);i.append(o);this.isMobileLayout&&this.model.renderingMode&&this.dashboardDesigner.element.find("#"+u+"_element_popup_container").css("width",i.width()-10);this.model.renderingMode||(e=n.buildTag("div.bbi-dbrd-parameter-first-value-checkbox-container bbi-dbrd-parameter-element-container","",{display:"inline-flex",margin:this.model.renderingMode?"0px":""},{id:this._id+"_custom_is_first_value_checkbox_panel"}),i.append(e),c={name:"is first value",type:"checkbox",startValue:"First Value",isVisible:!0,displayName:this.locale.dashboardParameterDialog.isFirstValue},this.renderCheckBox(c,e))},r.prototype.renderTextArea=function(t,i){var r=n.buildTag("div.bbi-dbrd-parameter-element-container  bbi-dbrd-"+t.name.replace(/ +/g,"")+"-container","",{"margin-top":t.name==="description"?"":"10px","margin-bottom":t.name==="description"?"":"3px",display:t.name==="description"?"inline-flex":""},{id:this._id+"_"+t.name.replace(/ +/g,"")+"_container"}),u=n.buildTag("textarea.e-textarea e-textbox bbi-dbrd-param-textarea","",{},{id:this._id+"_"+t.name.replace(/ +/g,""),spellcheck:"false",placeholder:t.name==="description"?"":"Custom Query"});r.append(u);i.append(r)},r.prototype.addBorderElement=function(t,i,r){if(this.model.renderingMode){var u=n.buildTag("div.bbi-dbrd-border-line","",{width:this.isMobileLayout?r.width()-10+"px":"333px"},{id:this._id+"_"+t[i].parameterName.replace(/ +/g,"")+"_"+t[i].type+"_param_border"});t.length-1!==i?r.append(u):(u.css("border-bottom","transparent"),r.append(u));t[i].mode==="List"&&u.addClass("bbi-dbrd-parameter-list-border ")}},r.prototype.renderAlertContainer=function(t,i){return n.buildTag("div.bbi-alert-container","",{},{id:i})},r.prototype.renderGrid=function(t,i){var r=n.buildTag("div.bbi-dbrd-parameter-element-container bbi-dbrd-"+t.name.replace(/ +/g,"")+"-container bbi-parameter-waitingpopup","",{"margin-left":"105px","max-width":this.isMobileLayout&&this.model.renderingMode?i.width()-10+"px":"332px"},{id:this._id+"_"+t.name.replace(/ +/g,"")+"_"+t.type+"_container_panel"});this.listValueDuplicateAlertContainer=this.renderAlertContainer(this.listValueDuplicateAlertContainer,this._id+"_list_value_duplicate_alert");i.append(this.listValueDuplicateAlertContainer);r.BoldBIDashboardGrid({dataSource:null,allowPaging:!1,rowTemplate:this.getRowTemplate(),columns:[{fieldText:"ListValue",headerText:"ListValue"}]});i.append(r)},r.prototype.renderCheckBox=function(i,r){var u=n.buildTag("div.bbi-dbrd-parameter-element-container bbi-dbrd-"+i.name.replace(/ +/g,"")+"-container","",{"margin-top":"3px","margin-left":"20px","margin-right":"0px"},{id:this.model.renderingMode?i.name.replace(/ +/g,"")+"_"+i.parameterID.replace(/ +/g,"")+"_enable_checkbox_container":this._id+"_"+i.name.replace(/ +/g,"")+"_"+i.type+"_container_panel"});r.append(u);var f={id:this._id+"_"+i.name.replace(/ +/g,""),label:i.displayName,name:i.displayName,isChecked:!0,isIntermediate:!1,isDisabled:!1},e={callBackInstance:this,callBackMethod:"updateEditInfo",dataSource:[f],labelPosition:0,cssClass:"bbi-dbrd-param-"+i.name.replace(/ +/g,"")+"-"+i.type+"-element",optionalArgs:null},o=new t.CheckBox(e,u)},r.prototype.getRowTemplate=function(){return"<tbody><tr class= 'bbi-dbrd-list-param-data-row' ><td><div class = 'bbi-dbrd-list-param-list-value-container' ><span class= 'bbi-dbrd-list-param-list-value'>{{:ListValue}}<\/span><span class= 'bbi-dbrd-list-param-edition'><input type='text' class='bbi-dbrd-list-param-input e-textbox' value='{{:ListValue}}' /><span class = 'bbi-dbrd-param-save-edit-icon bbi-designer-query-treeview e-icon e-checkmark ' ><\/span><span class = 'bbi-dbrd-list-param-close-edit e-dbrd-parameter-close e-dialog-icon e-icon e-close ' ><\/span><\/span><span class = 'bbi-dbrd-parameter-delete-icon bbi-designer-content-icon bbi-dbrd-parameter-delete e-tooltip bbi-designer-click bbi-dbrd-designer-hoverable' ><\/span><\/div><\/td><tr><\/tbody>"},r.prototype.renderRadioButtonContainer=function(i,r){var e=n.buildTag(this.model.renderingMode?"div":"div.bbi-dbrd-parameter-element-container bbi-dbrd-"+i.name.replace(/ +/g,"")+"-container","",{display:"inline-flex",width:this.model.renderingMode?"100%":""},{id:this._id+"_"+i.name.replace(/ +/g,"")+"_"+i.type+"_container"}),f,u,o,s,h;for(r.append(e),f=[],u=0;u<i.dataSource.length;u++)o={id:this.model.renderingMode?this._id+"_"+i.parameterID.replace(/ +/g,"")+"_"+i.dataSource[u].toLowerCase().replace(/ +/g,""):this._id+"_"+i.name.replace(/ +/g,"")+"_"+i.type+"_"+i.dataSource[u].toLowerCase().replace(/ +/g,""),isChecked:this.model.renderingMode?i.startValue===i.dataSource[u]:u===0?!0:!1,label:i.dataSource[u],value:i.dataSource[u]},f.push(o);s={callBackMethod:this.model.renderingMode?"radioButtonSelected":i.changeEvent,callBackInstance:this,dataSource:f,groupName:i.name,cssClass:"bbi-dbrd-parameter-radiobtn-element",optionalArgs:i.name,labelPosition:0};h=new t.RadioButton(s,e)},r.prototype.renderDatePickerContainer=function(t,i){var u=new Date,f=this.model.renderingMode?t.startValue:u.getDate()+"/"+(u.getMonth()+2)+"/"+u.getFullYear(),o=this.model.renderingMode?t.endValue:u.getDate()+"/"+(u.getMonth()+1)+"/"+u.getFullYear(),e=this.model.renderingMode?this._id+"_"+t.parameterID.replace(/ +/g,""):this._id+"_"+t.name.replace(/ +/g,""),r=i.width()-10+"px";n.isNullOrUndefined(t.selectionType)||!n.isNullOrUndefined(t.selectionType)&&t.selectionType==="single"&&t.name==="current value"?(r=this.isMobileLayout&&this.model.renderingMode?r:"334px",this.model.renderingMode?this.renderDatePicker(e+"_datepicker","Start",i,f,o,t,r,null):this.renderDatePicker(e+"_datepicker","Start",i,f,null,null,r)):n.isNullOrUndefined(t.selectionType)||!n.isNullOrUndefined(t.selectionType)&&t.selectionType==="single"&&t.name==="add values"?this.renderDatePicker(this._id+"_"+t.name.replace(/ +/g,"")+"_datepicker","Start",i,f,null,null,this.isMobileLayout&&this.model.renderingMode?r:"248px",t.name):(r=this.isMobileLayout&&this.model.renderingMode?r:"160px",this.renderDatePicker(e+"_datepicker_start","Start",i,f,null,null,r),this.renderDatePicker(e+"_datepicker_end","End",i,o,null,null,r),this.dateRangeAlertContainer=this.renderAlertContainer(this.dateRangeAlertContainer,this._id+"_date_range_alert"),i.append(this.dateRangeAlertContainer))},r.prototype.renderDropDown=function(t,i){var h={text:"text",value:"value"},c=this.model.renderingMode?this._id+"_"+t.parameterID.replace(/ +/g,""):this._id+"_"+t.name.replace(/ +/g,"")+"_"+t.type,u=this.isMobileLayout&&this.model.renderingMode?i.width()-10+"px":"334px",r=n.buildTag("div.bbi-dbrd-parameter-element-container bbi-dbrd-"+t.name.replace(/ +/g,"")+"-container","",{display:"inline-flex"},{id:this._id+"_"+t.name.replace(/ +/g,"")+"_"+t.type+"_container"}),f,a,e,o,s,b,v,d,y,p,g,l,w;if(i.append(r),n.isNullOrUndefined(t.customDataSource)){if(f=null,a=!1,t.displayName===this.locale.dashboardParameterDialog.valueFieldText||t.displayName===this.locale.dashboardParameterDialog.displayFieldText){for(e=this.dashboardDesigner.modules.dataSet.datasets,o=null,s=0;s<e.length;s++)if(e[s].Id===this.queryDesigner.dataset.Id){o=e[s];break}(e.length===0||o===null)&&(o=this.queryDesigner.dataset);this.isHierarchichalDs()?(!n.isNullOrUndefined(r)&&r.length>0&&r[0].hasChildNodes()&&r[0].children[0].remove(),b=this.updateDataSource(o),v={fields:{id:"ColumnId",parentId:"ParentId",hasChild:"HasChild",dataSource:b,text:"Name"},callBackInstance:this,callBackMethod:t.displayName===this.locale.dashboardParameterDialog.valueFieldText?"changeFieldForHierarchical":"changeDisplayFieldForHierarchical",popupHeight:"100%",width:u,optionalArgs:null},t.displayName===this.locale.dashboardParameterDialog.valueFieldText?this.fieldTreeview=new n.DashboardDesignerUtility.DropdownTreeview(this.dashboardDesigner,v,r):this.displayFieldTreeView=new n.DashboardDesignerUtility.DropdownTreeview(this.dashboardDesigner,v,r),a=!0):f={callBackInstance:this,cssClass:"e-dbrd-parameter-drpdown",id:c,value:t.value,width:u,dataSource:t.controlDataSource,fields:h,selectedIndex:n.isNullOrUndefined(t.value)?0:null,callBackMethod:t.changeEvent,enableFilterSearch:n.isNullOrUndefined(t.enableFilterSearch)?!1:t.enableFilterSearch}}else f={callBackInstance:this,cssClass:"e-dbrd-parameter-drpdown",id:c,value:t.value,width:u,dataSource:t.controlDataSource,fields:h,selectedIndex:n.isNullOrUndefined(t.value)?0:null,callBackMethod:t.changeEvent,enableFilterSearch:n.isNullOrUndefined(t.enableFilterSearch)?!1:t.enableFilterSearch};t.name!=="date format"?a||(d=new n.Dashboard.DropDownList(this.dashboardDesigner,f,r)):(y=n.buildTag("div.e-dropdown-wrapper","",{},{id:c+"_wrapper"}),p=n.buildTag("input.bbi-dropdown-element","",{},{type:"text",spellcheck:"false",id:c+"_list"}),y.append(p),r.append(y),p.BoldBIDashboardAutocomplete({dataSource:t.dataSource,width:u,showPopupButton:!0,enableAutoFill:!1,showLoadingIcon:!1,cssClass:"bbi-designer-ejwidgets bbi-designer-content-label bbi-dbrd-control",showEmptyResultText:!1,delaySuggestionTimeout:500,showRoundedCorner:!0}),this.dateFormatAlertContainer=this.renderAlertContainer(this.dateFormatAlertContainer,this._id+"_date_format_alert"),i.append(this.dateFormatAlertContainer));t.name==="value field"&&(this.emptyFieldAlertContainer=this.renderAlertContainer(this.emptyFieldAlertContainer,this._id+"_valuefield_empty_alert"),i.append(this.emptyFieldAlertContainer))}else{var k=n.buildTag("div.bbi-dbrd-custom-container","",{display:"none"},{id:this._id+"_custom_"+t.type+"_panel"}),f={callBackInstance:this,cssClass:"bbi-dbrd-parameter-drpdown",id:this._id+"_"+t.name.replace(/ +/g,"")+"_"+t.type,value:t.value,width:u,dataSource:t.controlDataSource,fields:h,selectedIndex:n.isNullOrUndefined(t.value)?0:null,callBackMethod:t.changeEvent},d=new n.Dashboard.DropDownList(this.dashboardDesigner,f,r),nt={callBackInstance:this,cssClass:"bbi-dbrd-parameter-drpdown",id:this._id+"_custom_"+t.type,value:t.customValue,width:u,dataSource:t.customDataSource,fields:h,selectedIndex:n.isNullOrUndefined(t.customValue)?0:null,callBackMethod:t.customEvent};i.append(k);g=new n.Dashboard.DropDownList(this.dashboardDesigner,nt,k);this.renderRelativeDateRangeButton()}if(t.name==="field from")for(this.renderDatasourceNotification(i),l=0;l<t.controlDataSource.length;l++)if(w=this.dashboardDesigner.element.find(".bbi-dbrd-fieldfrom-container"),t.controlDataSource[l].text==="Data Source"){w.css({display:"flex !important"});break}else w.css({display:"none"})},r.prototype.changeFieldForHierarchical=function(){var n=this.element.find("#"+this._id+"_valuefield_dropdown_container").data("DesignerPropertyWidget"),t={selectedValue:n.dropDownObj.model.value,selectedText:n.dropDownObj.model.text,isInteraction:!0};this.changeFieldValue(t)},r.prototype.changeDisplayFieldForHierarchical=function(){var n=this.element.find("#"+this._id+"_displayfield_dropdown_container").data("DesignerPropertyWidget"),t={selectedValue:n.dropDownObj.model.value,selectedText:n.dropDownObj.model.text,isInteraction:!0},i=this.element.find("#"+this._id+"_fieldfrom_dropdown_container").data("DesignerPropertyWidget").dropDownObj.selectedTextValue;i==="Table"&&(t.selectedValue=n.treeViewObj.fields.dataSource.filter(function(n){return n.ColumnId===t.selectedValue})[0].TreeViewHierarchyName);this.changeDisplayFieldValue(t)},r.prototype.renderDatasourceNotification=function(t){var r=this.locale.dashboardParameterDialog.datasourceNotification,i=n.buildTag("div.bbi-dbrd-datasource-notification bbi-dbrd-designer-hoverable","",{width:"25px",height:"25px","margin-left":"10px","margin-top":"7px","font-size":"15px","font-family":"dashboardviewer_font",cursor:"pointer"},{"data-tooltip":r}),u=n.buildTag("span.bbi-dbrd-datasource-notifyicon bbi-designer-notifyinfo","",{});i.append(u);t.append(i)},r.prototype.renderInputElement=function(t,i){var o=n.buildTag("div.bbi-dbrd-parameter-element-container","",{display:"inline-flex",margin:this.model.renderingMode?"0px":""},{id:this._id+"_custom_"+t.type+"_panel"}),u,r,h,c,s,f,e;i.append(o);u="";n.isNullOrUndefined(t.selectionType)||!n.isNullOrUndefined(t.selectionType)&&t.selectionType==="single"?(u=this.isMobileLayout&&this.model.renderingMode?"bbi-dbrd-parameter-input-mobile":"bbi-dbrd-parameter-input",r=n.buildTag("input."+u+" e-textbox","",{width:this.isMobileLayout&&this.model.renderingMode?i.width()-10:t.name==="name"||t.name==="add values"||t.name==="current value"?t.width:"334px","padding-left":t.name==="add values"?"8px":"11px"},{id:this.model.renderingMode?this._id+"_"+t.parameterID.replace(/ +/g,""):this._id+"_"+t.name.replace(/ +/g,"")+"_"+t.type,value:this.model.renderingMode?t.startValue:"",name:this.model.renderingMode?t.parameterID:""}),this.model.renderingMode?i.append(r):o.append(r),this.model.renderingMode&&t.dataType.toLowerCase()==="number"?(r.bind("keyup change ",this.bbdesigner$.proxy(this.textBoxkeyUpEvent,this,r)),r.bind("keypress",this.bbdesigner$.proxy(this.validateNumber,this))):this.model.renderingMode?r.bind("keyup change ",this.bbdesigner$.proxy(this.textBoxkeyUpEvent,this,r)):t.name==="add values"&&(r.bind("select click keyup",this.bbdesigner$.proxy(this.selectNumberValue,this)),h=n.buildTag("button.bbi-dbrd-btn-secondary bbi-dbrd-margin-left e-dbrd-list-add-action",this.locale.dialogOptions.addButtonText,{"font-weight":"600",height:"28px","min-width":"74px",padding:"0px"},{id:this._id+"_dbrd_parameter_list_add",type:"button"}),o.append(h)),t.name==="name"?(c={name:"showInViewer",type:"checkbox",startValue:"Show in Viewer",displayName:this.locale.dashboardParameterDialog.showInViewer,isVisible:!0},this.renderCheckBox(c,o),this.nameAlertContainer=this.renderAlertContainer(this.nameAlertContainer,this._id+"_name_alert"),i.append(this.nameAlertContainer)):this.model.renderingMode||t.name==="name"||(r.bind("keypress",this.bbdesigner$.proxy(this.validateNumber,this)),r.bind("select click keyup",this.bbdesigner$.proxy(this.selectNumberValue,this)),t.name.replace(/ +/g,"")==="currentvalue"&&(this.inputValueAlertContainer=this.renderAlertContainer(this.inputValueAlertContainer,this._id+"_input_currentvalue_alert"),i.append(this.inputValueAlertContainer)))):(u=this.isMobileLayout&&this.model.renderingMode?"bbi-dbrd-parameter-input-mobile-range":"bbi-dbrd-parameter-input-range",s=!n.isNullOrUndefined(t.selectionType)&&t.selectionType==="range"?Math.floor((i.width()-20)/2)+"px":i.outerWidth(!0)-10+"px",f=n.buildTag("input."+u+" e-textbox e-start","",{width:this.isMobileLayout&&this.model.renderingMode?s:""},{id:this.model.renderingMode?this._id+"_"+t.parameterID.replace(/ +/g,"")+"_start":this._id+"_"+t.name.replace(/ +/g,"")+"_start_"+t.type,value:this.model.renderingMode?t.startValue:"",name:this.model.renderingMode?t.parameterID:""}),n.isNullOrUndefined(t.selectionType)||t.selectionType!=="range"||(e=n.buildTag("input."+u+" e-textbox e-end","",{width:this.isMobileLayout&&this.model.renderingMode?s:"","margin-left":this.model.renderingMode?"":"5px"},{id:this.model.renderingMode?this._id+"_"+t.parameterID.replace(/ +/g,"")+"_end":this._id+"_"+t.name.replace(/ +/g,"")+"_end_"+t.type,value:this.model.renderingMode?t.endValue:"",name:this.model.renderingMode?t.parameterID:""}),this.numberRangeAlertContainer=this.renderAlertContainer(this.numberRangeAlertContainer,this._id+"_number_range_alert"),o.append(f,e,this.numberRangeAlertContainer),i.append(this.numberRangeAlertContainer),this.model.renderingMode?(f.bind("keyup change",this.bbdesigner$.proxy(this.textBoxkeyUpEvent,this,f)),e.bind("keyup change",this.bbdesigner$.proxy(this.textBoxkeyUpEvent,this,e))):(f.bind("select click keyup",this.bbdesigner$.proxy(this.selectNumberValue,this)),e.bind("select click keyup",this.bbdesigner$.proxy(this.selectNumberValue,this))),f.bind("keypress",this.bbdesigner$.proxy(this.validateNumber,this)),e.bind("keypress",this.bbdesigner$.proxy(this.validateNumber,this))))},r.prototype.renderDatePicker=function(t,i,r,u,f,e,o,s){var l=n.buildTag("div.bbi-dbrd-parameter-datepicker bbi-dbrd-control","",{"margin-left":this.model.renderingMode?"":i==="End"?"":"15px"},{id:t+"_parent"}),c=n.buildTag("input.bbi-popup-button","",{width:"100%","box-sizing":"border-box",position:"relative","font-size":"12px","background-color":"white","margin-left":i.toLowerCase()==="end"?"14px":""},{type:"text",id:t}),h,a;l.append(c);r.append(l);this.bbdesigner$("#"+t+"_popup_wrapper").length>0&&this.bbdesigner$("#"+t+"_popup_wrapper").remove();this.model.renderingMode?(h=e.defaultType==="range",c.BoldBIDashboardDashboardDatePicker({cssClass:"bbi-dbrd-control",width:o,datePickerType:h?"range":"single",ranges:n.isNullOrUndefined(e.relativeDateCollection)?null:e.relativeDateCollection,height:"24px",startDate:n.isNullOrUndefined(u)?"1900/01/01":n.format(new Date(u),this.dateFormat),endDate:h&&!n.isNullOrUndefined(f)?n.format(new Date(f),this.dateFormat):"2050/12/31",locale:{format:this.dateFormat,daysOfWeek:["Su","Mo","Tu","We","Th","Fr","Sa"],montNames:["January","February","March","April","May","June","July","August","September","October","November","December"]},limitDate:!1,showCustomDatePicker:!0,value:{range:h?e.selectedRelativeDate:"1900/01/01",start:n.isNullOrUndefined(u)?null:n.format(new Date(u),this.dateFormat),end:h&&!n.isNullOrUndefined(f)?n.format(f,this.dateFormat):null},selected:this.bbdesigner$.proxy(this.changeDatePickerSelection,this,e.parameterID,e.dataSetId)}),this.bbdesigner$("#"+t+"_popup_wrapper").css("z-index",n.parseInt(this.dashboardDesigner.element.find(".bbi-dbrd-parameter-viewer-dialog.e-dialog-wrap").css("z-index")))):c.BoldBIDashboardDashboardDatePicker({width:o,height:"28px",ranges:null,datePickerType:"single",startDate:n.format(new Date,this.dateFormat),locale:{format:this.dateFormat,daysOfWeek:["Su","Mo","Tu","We","Th","Fr","Sa"],montNames:["January","February","March","April","May","June","July","August","September","October","November","December"]},limitDate:!1,showCustomDatePicker:!0,value:{range:null,start:n.format(new Date,this.dateFormat),end:null},cssClass:"bbi-designer-border bbi-popup-button e-dashboarddesigner-widget bbi-dbrd-control"});s==="add values"&&(a=n.buildTag("button.bbi-dbrd-btn-secondary bbi-dbrd-margin-left e-dbrd-list-add-action",this.locale.dialogOptions.addButtonText,{"font-weight":"600","min-width":"74px",padding:"0px","margin-left":this.model.renderingMode?"15px":"","margin-top":"2px"},{id:this._id+"_dbrd_parameter_list_add",type:"button"}),r.append(a));this.model.renderingMode||this.dashboardDesigner.element.find("#"+t+"_wrapper").css({display:"inline-flex"})},r.prototype.appendDatePicker=function(t){if(!n.isNullOrUndefined(t)){var i=this.bbdesigner$(t.currentTarget).hasClass("e-dashboarddatepicker-icon")?this.element.find(t.currentTarget.previousSibling):this.bbdesigner$(t.currentTarget);n.isNullOrUndefined(i)||(this.bbdesigner$("#"+i[0].id+"_popup_wrapper").css("z-index",n.getMaxZindex()),this.bbdesigner$(t.currentTarget).hasClass("e-disable")&&(this.bbdesigner$("#"+i[0].id+"_popup_wrapper").css("display","none"),this.dashboardDesigner.element.find("#"+i[0].id).removeClass("e-popup-focus")))}},r.prototype.renderRelativeDateRangeButton=function(){var f=this.bbdesigner$("#"+this._id+"_custom_dropdown_panel_dropdown_list_popup_wrapper"),t,i,r,u;this.relativeDateListElement=this.bbdesigner$(f.find(".e-ul"));t=this.relativeDateButtonContainer=n.buildTag("div.bbi-dbrd-btn-relative-date-range-container","",{},{id:this._id+"_add_relative_date_container"});i=n.buildTag("div.bbi-dbrd-parameter-element-container","",{height:"1px","border-width":"0.5px 0px 0px","border-style":"solid","border-color":"rgb(189, 195, 194)","border-image":"initial",margin:"0px !important"},{});t.append(i);r=n.buildTag("button.bbi-dbrd-btn-relative-date e-dbrd-btn-add-relative-date",this.locale.dialogOptions.addRelativeRangeButtonText,{},{id:this._id+"_add_relative_date_btn",type:"button"});u=n.buildTag("button.bbi-dbrd-btn-relative-date e-dbrd-btn-clear-relative-date",this.locale.dialogOptions.clearRelativeRangeButtonText,{},{id:this._id+"_clear_relative_date_btn",type:"button"});t.append(r);t.append(u);this.relativeDateListElement.append(t)},r.prototype.updateEditInfo=function(t){if(t.isInteraction||!n.isNullOrUndefined(t.originalEvent)&&t.args.event.isTrusted){var i=this.getParameterInfo();this.dashboardDesigner.element.find("#"+this._id).data("param-data",{isEdit:!0,data:i})}},r.prototype.changeListOption=function(t){var u,i,r;n.isNullOrUndefined(t)||t.optinalArgs!=="value"||t.args.event.type!=="change"||(this.isDataColumnInteracted=!0,this.changeListType(this.getListType()));t!==null&&(u=t.args?t.args.value:t.model?t.model.value:null,u==="Data Source"&&(i=this.dashboardDesigner.element.find(".bbi-dbrd-fieldfrom-container"),r=void 0,r=i.length>0?i[0]:i,r.style.display="flex"))},r.prototype.changeDatePickerSelection=function(t,i,r){var f,e,h,u,c,o;if(!n.isNullOrUndefined(r)&&!n.isNullOrUndefined(t)){f=this.dashboardDesigner.modules.dynamicParameterPanel;e=null;switch(r.datePickerType){case"range":if(h=f.currentValueCollection,u=this.bbdesigner$.extend(!0,{},h.filter(function(n){return n.ParameterID===t})[0]),e=r.selectedValues,!n.isNullOrUndefined(u))if(c=n.isNullOrUndefined(r.selectedRange),c){u.LiteralModeInfo.SelectedRelativeDate=null;u.LiteralModeInfo.IsCustomDateRange=!0;var l=this.dashboardDesigner.modules.dynamicParameterPanel,a=l.id+"_dashboardparameter_container",v=l.designer.element.find("#"+a+"_"+u.ParameterID+"_panel"),s=v.find(".e-dashboarddatepicker").data("BoldBIDashboardDashboardDatePicker"),y=s.model.selected;s.model.selected=null;s.model.value={range:null,start:r.selectedValues.start,end:r.selectedValues.end};s.redraw();s.model.selected=y}else if(e.range=r.selectedRange,u.LiteralModeInfo.SelectedRelativeDate=r.selectedRange,u.LiteralModeInfo.IsCustomDateRange=!1,o=u.LiteralModeInfo.RelativeDateItems.filter(function(n){return n.DisplayText===r.selectedRange})[0],!n.isNullOrUndefined(o))if(o.IsCustomRange)this.onFetchDateRange(f.designer.model.mode,u,this.dashboardDesigner,{RangeValues:[n.format(new Date(o.Filter.StartDate),this.dateFormat),n.format(new Date(o.Filter.EndDate),this.dateFormat)]});else this.getDateRangeValue(u,u.DatasourceId,f.designer.model.serviceUrl,f.designer.model.mode,f.designer);break;case"single":e=r.value}r.type==="selected"&&f.resetAndApplyIconforValueChange(e,t)}},r.prototype.comboBoxSelectionChanged=function(t,i){var r=n.isNullOrUndefined(i)?this.dashboardDesigner:i,u=new n.Dashboard.ListMultiSelectionComboBox(r),f=u.getPopupContainerInformation(t+"_element"),e=r.modules.dynamicParameterPanel;e.resetAndApplyIconforValueChange(f,t)},r.prototype.textBoxkeyUpEvent=function(t,i){var o;if(!n.isNullOrUndefined(i)&&!n.isNullOrUndefined(t)){var h=this.dashboardDesigner.modules.dynamicParameterPanel,f=t.hasClass("e-start"),e=t.hasClass("e-end"),r=null,u=null,s=!1;f||e?(f?(r=this.bbdesigner$(t),u=this.bbdesigner$(this.bbdesigner$(t)[0].nextSibling),s=r.val()===""||u.val()===""||n.parseFloat(r.val())>=n.parseFloat(u.val())?!0:!1):e&&(r=this.bbdesigner$(this.bbdesigner$(t)[0].previousSibling),u=this.bbdesigner$(t),s=r.val()===""||u.val()===""||n.parseFloat(r.val())>=n.parseFloat(u.val())?!0:!1),s?(r.addClass("bbi-dbrd-param-input-invalid"),u.addClass("bbi-dbrd-param-input-invalid"),this.dashboardDesigner.element.find(".bbi-dbrd-parameter-viewer-dialog .bbi-dbrd-btn-primary").attr({disabled:"disabled"}),o=this.dashboardDesigner.element.find(".bbi-dbrd-parameter-viewer-dialog .bbi-dbrd-parameter-reset"),o.removeAttr("disabled"),o.css({cursor:"pointer",opacity:1,"pointer-events":"auto"})):(r.removeClass("bbi-dbrd-param-input-invalid"),u.removeClass("bbi-dbrd-param-input-invalid"),this.dashboardDesigner.element.find(".bbi-dbrd-parameter-viewer-dialog .bbi-dbrd-btn-primary").removeAttr("disabled"),h.resetAndApplyIconforValueChange(i.target.value,i.target.name,f,e))):h.resetAndApplyIconforValueChange(i.target.value,i.target.name,f,e)}},r.prototype.radioButtonSelected=function(t){if(!n.isNullOrUndefined(t)&&t.args.name==="change"&&!n.isNullOrUndefined(t.optinalArgs)){var i=this.dashboardDesigner.modules.dynamicParameterPanel;i.resetAndApplyIconforValueChange(t.args.value,t.optinalArgs)}},r.prototype.changeMode=function(t){var i,r;n.isNullOrUndefined(t)||(i=this.element.find("#"+this._id+"_type_dropdown_container").data("DesignerPropertyWidget"),t.args.selectedText===n.DashboardDesignerUtility.Serialization.enumToString(ParameterMode,ParameterMode.Literal)?(i.updateDatasource(this.populateLiteralDatasource()),this.updateItemDisable("dropdown","type",!1),this.updateVisibility("dropdown","selectiontype",!1),this.updateVisibility("radiobutton","value",!1),this.updateVisibility("multiselectioncombobox","defaultvalue",!1),this.updateVisibility("dropdown","fieldfrom",!1),this.updateVisibility("dropdown","table",!1),this.updateVisibility("dropdown","valuefield",!1),this.updateVisibility("dropdown","displayfield",!1),this.updateVisibility("codemirror","queryvalue",!1),this.updateVisibility("grid","listgrid",!1),this.updateVisibility("radiobutton","returnType",!1),r=this.element.find("#"+this._id+"_listgrid_grid_container_panel"),r.BoldBIDashboardGrid("dataSource",[])):(i.updateDatasource(this.populateListDatasource()),this.element.find("#"+this._id+"_value_radiobutton_manual_rdo_input").prop("checked",!0),this.updateVisibility("dropdown","dateformat",!1),this.updateVisibility("radiobutton","value",!0),this.updateVisibility("input","currentvalue",!1,"single"),this.updateVisibility("radiobutton","currentvalue",!1),this.element.find("#"+this._id+"_returnType_radiobutton_single_rdo_input").prop("checked",!0),this.updateVisibility("radiobutton","returnType",!0),i.updateDatasource(this.populateListDatasource()),this.updateVisibility("grid","listgrid",!0),this.updateVisibility("multiselectioncombobox","defaultvalue",!0),this.updateComboBoxInfo()),i.selectItemByIndex(0),this.updateEditInfo(t.args))},r.prototype.changeReturnType=function(t){n.isNullOrUndefined(t)||this.updateEditInfo(t.args)},r.prototype.changeDataType=function(t){var i,r,f,e,o,s;if(!n.isNullOrUndefined(t)){if(this.disableAllAlertMessages(),i=this.getSelectedMode(),r=!this.getListType(),i!==n.DashboardDesignerUtility.Serialization.enumToString(ParameterMode,ParameterMode.Literal)&&(i!==n.DashboardDesignerUtility.Serialization.enumToString(ParameterMode,ParameterMode.List)||r)){if(r&&t.args.isInteraction){e=this.element.find("#"+this._id+"_fieldfrom_dropdown_container").data("DesignerPropertyWidget");o=e.dropDownObj.selectedTextValue;this.isDataColumnInteracted=!0;this.resetFieldDropDown();this.resetDisplayFieldDropDown();switch(o){case"Data Source":this.changeToDataColumn(!0,FetchType.Datasource);break;case"Custom Query":this.executeListParamQuery(null);break;case"Table":var u=this.element.find("#"+this._id+"_table_dropdown_container").data("DesignerPropertyWidget").dropDownObj,h=u.model.dataSource[u.model.selectedIndex].value,c=u.model.dataSource[u.model.selectedIndex].schema;this.changeToDataColumn(!0,FetchType.Table,null,null,null,h,c)}s=t.args.itemId===DynamicParameterDataType.Date?!0:!1;this.updateVisibility("dropdown","dateformat",s);this.reselectDateFormatDropDown()}}else t.args.itemId!==DynamicParameterDataType.String&&t.args.itemId!==DynamicParameterDataType.Boolean&&(i!==n.DashboardDesignerUtility.Serialization.enumToString(ParameterMode,ParameterMode.List)||r)?(t.args.itemId===DynamicParameterDataType.Date||t.args.itemId===DynamicParameterDataType.Number)&&i===n.DashboardDesignerUtility.Serialization.enumToString(ParameterMode,ParameterMode.Literal)&&(this.updateVisibility("dropdown","selectiontype",!0),f=this.element.find("#"+this._id+"_selectiontype_dropdown_container"),f.data("DesignerPropertyWidget").dropDownObj.selectItemByIndex(0),this.updateItemDisable("dropdown","mode",!1)):(this.updateVisibility("dropdown","selectiontype",!1),this.updateItemDisable("dropdown","mode",t.args.itemId===DynamicParameterDataType.Boolean?!0:!1),this.updateVisibility("datepicker","addvalues",!1,"single"),this.updateVisibility("radiobutton","currentvalue",!1),this.updateValuesForListGrid()),this.updateVisibility("dropdown","dateformat",!1),this.updateCurrentValueContainer(i,t.args.selectedText,this.getSelectionType());this.updateEditInfo(t.args)}},r.prototype.getSelectionType=function(){var n=this.element.find("#"+this._id+"_selectiontype_dropdown_container"),i=this.element.find("#"+this._id+"_selectiontype_dropdown_panel"),t=null;return n.css("display")!=="none"&&i.css("display")!=="none"&&(t=n.data("DesignerPropertyWidget").dropDownObj.selectedTextValue),t},r.prototype.getSelectedMode=function(){var n=this.element.find("#"+this._id+"_mode_dropdown_container").data("DesignerPropertyWidget");return n.dropDownObj.selectedTextValue},r.prototype.getDataType=function(){var n=this.element.find("#"+this._id+"_type_dropdown_container").data("DesignerPropertyWidget");return n.dropDownObj.selectedTextValue},r.prototype.getSelectedParameterId=function(){return this.dashboardDesigner.element.find(".bbi-dbrd-selected-parameter").attr("data-param-id")},r.prototype.getSelectedRelativeDateInfo=function(){var i=this,t=this.relativeDateInfo.filter(function(n){return n.id===i.getSelectedParameterId()})[0];return n.isNullOrUndefined(t)||n.isNullOrUndefined(t.value)?null:this.getRelativeFilterValues(t.value)},r.prototype.getRelativeFilterValues=function(t){for(var r,u=[],i=0;i<t.length;i++)r={DisplayText:null,Filter:null,IsCustomRange:!1},r.DisplayText=t[i].DisplayText,r.Filter={RelativeDateFormat:t[i].Filter.RelativeDateFormat,RelativeDateFormatEnum:n.DashboardDesignerUtility.Serialization.stringtoEnum(ParameterRelativeDateFormat,t[i].Filter.RelativeDateFormat),DateInstance:t[i].Filter.DateInstance,DateInstanceEnum:n.DashboardDesignerUtility.Serialization.stringtoEnum(ParameterDateInstance,t[i].Filter.DateInstance),StartDate:t[i].Filter.StartDate,EndDate:t[i].Filter.EndDate,Range:t[i].Filter.Range,UseAnchorDate:t[i].Filter.UseAnchorDate,AnchorDate:t[i].Filter.AnchorDate},r.IsCustomRange=t[i].IsCustomRange,u.push(r);return u},r.prototype.updateLiteralModeUI=function(t,i){switch(t){case n.DashboardDesignerUtility.Serialization.enumToString(DynamicParameterDataType,DynamicParameterDataType.String):this.updateVisibility("input","currentvalue",!0,"single");this.updateVisibility("dropdown","selectiontype",!1);this.updateVisibility("input","addvalues",!1,"single");this.updateVisibility("datepicker","addvalues",!1,"single");this.updateVisibility("dropdown","dateformat",!1);break;case n.DashboardDesignerUtility.Serialization.enumToString(DynamicParameterDataType,DynamicParameterDataType.Number):i!=null&&(i===n.DashboardDesignerUtility.Serialization.enumToString(SelectionType,SelectionType.Single)?this.updateVisibility("input","currentvalue",!0,"single","number"):this.updateVisibility("input","currentvalue",!0,"range","number"));break;case n.DashboardDesignerUtility.Serialization.enumToString(DynamicParameterDataType,DynamicParameterDataType.Date):if(i!=null)if(i===n.DashboardDesignerUtility.Serialization.enumToString(SelectionType,SelectionType.Single))this.updateVisibility("datepicker","currentvalue",!0,"single"),this.updateVisibility("dropdown","dateformat",!0),this.reselectDateFormatDropDown();else{this.updateVisibility("datepicker","currentvalue",!0,"range");this.updateVisibility("dropdown","custom",!0);this.updateVisibility("dropdown","selectiontype",!0,"range");this.updateVisibility("dropdown","dateformat",!0);this.reselectDateFormatDropDown();var r=this.element.find("#"+this._id+"_custom_dropdown_panel").data("DesignerPropertyWidget");r.dropDownObj.setModel({dataSource:this.populateCustomDatasource()});r.dropDownObj.selectItemByIndex(0);this.removeDisableDatePicker();this.appendRelativeRangeButton(!1);this.relativeDateInfo=[]}break;case n.DashboardDesignerUtility.Serialization.enumToString(DynamicParameterDataType,DynamicParameterDataType.Boolean):this.updateVisibility("radiobutton","currentvalue",!0)}},r.prototype.updateListModeUI=function(t){var i=this.getListType();if(i)switch(t){case n.DashboardDesignerUtility.Serialization.enumToString(DynamicParameterDataType,DynamicParameterDataType.String):this.updateVisibility("input","addvalues",!0,"single");this.updateVisibility("dropdown","selectiontype",!1);break;case n.DashboardDesignerUtility.Serialization.enumToString(DynamicParameterDataType,DynamicParameterDataType.Number):this.updateVisibility("input","addvalues",!0,"single","number");break;case n.DashboardDesignerUtility.Serialization.enumToString(DynamicParameterDataType,DynamicParameterDataType.Date):this.updateVisibility("input","addvalues",!1,"single");this.updateVisibility("datepicker","addvalues",!0,"single");this.updateVisibility("dropdown","dateformat",!0);this.reselectDateFormatDropDown()}else this.updateVisibility("input","addvalues",!1,"single"),this.updateVisibility("dropdown","table",!0),this.updateItemDisable("dropdown","table",!0),this.updateVisibility("dropdown","valuefield",!0),this.updateVisibility("dropdown","displayfield",!0),this.updateVisibility("dropdown","fieldfrom",!0);this.updateValuesForListGrid(this.getListModeInfo())},r.prototype.updateCurrentValueContainer=function(t,i,r){this.dashboardDesigner.element.find(".bbi-dbrd-currentvalue-container").css("display","none");this.updateVisibility("dropdown","custom",!1);switch(t){case n.DashboardDesignerUtility.Serialization.enumToString(ParameterMode,ParameterMode.Literal):this.updateLiteralModeUI(i,r);break;case n.DashboardDesignerUtility.Serialization.enumToString(ParameterMode,ParameterMode.List):this.updateListModeUI(i)}},r.prototype.updateVisibility=function(t,i,r,u,f){var o,s;if(this.element.find("#"+this._id+"_"+i+"_"+t+(n.isNullOrUndefined(u)?"":"_"+u)+"_panel").css("display",!n.isNullOrUndefined(r)&&r?"block":"none"),t==="datepicker"&&u==="single"&&(o=this.element.find("#"+this._id+"_"+i+"_datepicker").data("BoldBIDashboardDashboardDatePicker"),this.resetDatePicker(o,null)),t==="input"&&u==="single"&&(n.isNullOrUndefined(f)||f!=="number"?this.element.find("#"+this._id+"_"+i+"_"+t).val(""):(this.element.find("#"+this._id+"_"+i+"_"+t).prop("autocomplete","off"),this.element.find("#"+this._id+"_"+i+"_"+t).val("0.00"))),t==="input"&&u==="range"&&(n.isNullOrUndefined(f)||f!=="number"?(this.element.find("#"+this._id+"_"+i+"_start_input").val(""),this.element.find("#"+this._id+"_"+i+"_end_input").val("")):(this.element.find("#"+this._id+"_"+i+"_start_input").prop("autocomplete","off"),this.element.find("#"+this._id+"_"+i+"_end_input").prop("autocomplete","off"),this.element.find("#"+this._id+"_"+i+"_start_input").val("0.00"),this.element.find("#"+this._id+"_"+i+"_end_input").val("0.00")),this.disableAlertMessage(this.numberRangeAlertContainer)),t==="datepicker"&&u==="range"){var e=new Date,h=e.getMonth()===11?new Date(e.getFullYear()+1,0,e.getDate()):new Date(e.getFullYear(),e.getMonth()+1,e.getDate()),c=n.format(new Date(e.toString()),this.dateFormat),l=n.format(new Date(h.toString()),this.dateFormat),a=this.element.find("#"+this._id+"_"+i+"_datepicker_start").data("BoldBIDashboardDashboardDatePicker");this.resetDatePicker(a,c,!0);s=this.element.find("#"+this._id+"_"+i+"_datepicker_end").data("BoldBIDashboardDashboardDatePicker");this.resetDatePicker(s,l,!0);this.disableAlertMessage(this.dateRangeAlertContainer)}t==="radiobutton"&&(this.element.find("#"+this._id+"_"+i+"_"+t+"_container").css("display",!n.isNullOrUndefined(r)&&r?"inline-flex":"none"),this.element.find("#"+this._id+"_currentvalue_radiobutton_true_rdo_input").prop("checked",!0));t==="textarea"&&this.element.find("#"+this._id+"_"+i).val("")},r.prototype.updateItemDisable=function(t,i,r){if(t==="dropdown"){var u=this.element.find("#"+this._id+"_"+i+"_"+t+"_panel").data("DesignerPropertyWidget");n.isNullOrUndefined(u)||u.enableDisableDropdown(r)}else r?this.element.find("#"+this._id+"_"+i+"_"+t).attr("disabled","disabled"):this.element.find("#"+this._id+"_"+i+"_"+t).removeAttr("disabled")},r.prototype.openRelativeDateFilter=function(){var i=this.element.find("#"+this._id+"_custom_dropdown_panel").data("DesignerPropertyWidget"),t=[],n;if(i.dropDownObj.model.dataSource.length>1)for(n=0;n<this.relativeDateInfo.length;n++)t=this.relativeDateInfo[n].id===this.getSelectedParameterId()?this.relativeDateInfo[n].value:[];this.dashboardDesigner.modules.relativeDates.openRelativeDatesDialog(this,"addRelativeDate",this.bbdesigner$.extend([],!0,t))},r.prototype.populateDateRanges=function(t,i){var r=this.element.find("#"+this._id+"_custom_dropdown_panel").data("DesignerPropertyWidget"),u=[],f;if(n.isNullOrUndefined(t)||r.dropDownObj.model.dataSource==null)r.dropDownObj.setModel({dataSource:this.populateCustomDatasource()}),r.selectItemByIndex(0);else{for(u=[],f=0;f<t.length;f++)u.push({text:t[f].DisplayText,value:t[f].DisplayText});u=u.concat(this.populateCustomDatasource());r.dropDownObj.setModel({dataSource:u});r.selectItemByValue(i)}r.dropDownObj.model.dataSource.length>1?this.appendRelativeRangeButton(!0):this.appendRelativeRangeButton(!1)},r.prototype.appendRelativeRangeButton=function(n){var t=this.bbdesigner$("#"+this._id+"_custom_dropdown_panel_dropdown_list_popup_wrapper"),i=this.bbdesigner$(t.find(".e-ul"));i.append(this.relativeDateButtonContainer);n?this.relativeDateListElement.find("#"+this._id+"_clear_relative_date_btn").css("display","block"):this.relativeDateListElement.find("#"+this._id+"_clear_relative_date_btn").css("display","none")},r.prototype.clearReativeDateValues=function(){var n=this.element.find("#"+this._id+"_custom_dropdown_panel").data("DesignerPropertyWidget");n.dropDownObj.setModel({dataSource:this.populateCustomDatasource()});this.relativeDateInfo=[];n.selectItemByIndex(0);this.appendRelativeRangeButton(!1)},r.prototype.addRelativeDate=function(t){var r,u,i;if(!n.isNullOrUndefined(t)){for(r=!1,u=this.getSelectedParameterId(),i=0;i<this.relativeDateInfo.length;i++)if(this.relativeDateInfo[i].id===u){this.relativeDateInfo[i].value=t;r=!0;break}r||this.relativeDateInfo.push({id:u,value:t});this.populateDateRanges(t,this.getRelativeDateText(t))}},r.prototype.getRelativeDateText=function(t){var r=this.element.find("#"+this._id+"_custom_dropdown_panel").data("DesignerPropertyWidget"),u=r.dropDownObj.selectedTextValue,i=null;return t.forEach(function(n){n.DisplayText===u&&(i=n.DisplayText)}),n.isNullOrUndefined(i)?n.DashboardDesignerUtility.Serialization.enumToString(DateRange,DateRange.Custom):i},r.prototype.changeSelectionType=function(t){if(!n.isNullOrUndefined(t)){var i=this.getDataType(),r=this.getSelectedMode();this.updateEditInfo(t.args);this.updateCurrentValueContainer(r,i,t.args.selectedText)}},r.prototype.changeCustomDateType=function(t){var r=this,u=this.getDataType(),i;n.isNullOrUndefined(t)||u.toLowerCase()!=="date"||(this.updateEditInfo(t.args),t.args.selectedText.toLowerCase()!=="custom"&&(i=this.getParameterInfo(),i.LiteralModeInfo.SelectedRelativeDate=t.args.selectedValue,i.LiteralModeInfo.RelativeDateItems=this.relativeDateInfo.length>0?this.relativeDateInfo.filter(function(n){return n.id===r.getSelectedParameterId()})[0].value:[],this.getDateRangeValue(i,this.queryDesigner.dataset.Id,this.queryDesigner.model.serviceUrl,n.Designer.mode.design,this.dashboardDesigner)),this.removeDisableDatePicker())},r.prototype.removeDisableDatePicker=function(){var i=this.element.find("#"+this._id+"_custom_dropdown_panel").data("DesignerPropertyWidget"),r=i.dropDownObj.selectedTextValue,n,t;r.toLowerCase()==="custom"&&(n=this.element.find("#"+this._id+"_currentvalue_datepicker_start"),t=this.element.find("#"+this._id+"_currentvalue_datepicker_end"),this.updateVisibility("datepicker","currentvalue",!0,"range"),n.removeAttr("disabled"),n.removeClass("e-disable"),n[0].nextElementSibling.classList.remove("e-disable"),t.removeAttr("disabled"),t.removeClass("e-disable"),t[0].nextElementSibling.classList.remove("e-disable"))},r.prototype.getDateRangeValue=function(t,i,r,u,f){f.modules.util.doAjaxPost("POST",r+n.Dashboard.ServiceAPI.processdata,{action:n.DashboardUtil.DesignerAction.GetParameterRangeValue,data:JSON.stringify({className:n.DashboardUtil.DesignerAction.ParameterAction,designerAction:n.DashboardUtil.DesignerAction.GetParameterRangeValue,dataSetId:i,dynamicParameter:JSON.stringify(t),selectedParamId:t.ParameterID,isQueryDesignerMode:u===n.Designer.mode.design?f.isQueryDesignerMode:!0})},{fnction:f.bbdesigner$.proxy(this.onFetchDateRange,this,u,t,f)},!0)},r.prototype.onFetchDateRange=function(t,i,r,u){var f,c;if(!n.isNullOrUndefined(u))if(f=n.isNullOrUndefined(u.RangeValues)?!n.isNullOrUndefined(u.StartDate)&&!n.isNullOrUndefined(u.EndDate)?{StartDate:u.StartDate,EndDate:u.EndDate}:JSON.parse(u):{StartDate:u.RangeValues[0],EndDate:u.RangeValues[1]},f.StartDate=f.StartDate,f.EndDate=f.EndDate,t===n.Designer.mode.view||t===n.Designer.mode.designpreview){var h=r.modules.dynamicParameterPanel,l=h.id+"_dashboardparameter_container",y=h.designer.element.find("#"+l+"_"+i.ParameterID+"_panel"),e=y.find(".e-dashboarddatepicker").data("BoldBIDashboardDashboardDatePicker"),p=e.model.selected;e.model.selected=null;e.model.value={range:i.LiteralModeInfo.SelectedRelativeDate,start:f.StartDate,end:f.EndDate};e.model.ranges[i.LiteralModeInfo.SelectedRelativeDate]=[f.StartDate,f.EndDate];e.redraw();e.model.selected=p;c=h.designer.element.find(".bbi-dbrd-parameter-viewer-dialog.e-dialog-wrap").css("z-index");r.bbdesigner$("#"+l+"_"+i.ParameterID+"_datepicker_popup_wrapper").css("z-index",n.parseInt(c))}else{var o=this.element.find("#"+this._id+"_currentvalue_datepicker_start"),s=this.element.find("#"+this._id+"_currentvalue_datepicker_end"),a=o.data("BoldBIDashboardDashboardDatePicker"),v=s.data("BoldBIDashboardDashboardDatePicker");n.isNullOrUndefined(a)||n.isNullOrUndefined(v)||n.isNullOrUndefined(f)||(this.resetDatePicker(a,f.StartDate),this.resetDatePicker(v,f.EndDate),o.attr("disabled","true"),o.addClass("e-disable"),o[0].nextElementSibling.classList.add("e-disable"),r.bbdesigner$("#"+this._id+"_currentvalue_datepicker_start_popup_wrapper").css("display","none"),s.attr("disabled","true"),s.addClass("e-disable"),s[0].nextElementSibling.classList.add("e-disable"),r.bbdesigner$("#"+this._id+"_currentvalue_datepicker_end_popup_wrapper").css("display","none"))}},r.prototype.hasParamChanges=function(t,i){var r=t.filter(function(n){return n.ParameterID===i})[0];n.isNullOrUndefined(r)||n.isNullOrUndefined(r.LiteralModeInfo)||n.isNullOrUndefined(r.LiteralModeInfo.RelativeDateItems)||(r.LiteralModeInfo.RelativeDateItems=this.getRelativeFilterValues(r.LiteralModeInfo.RelativeDateItems));var f=n.isNullOrUndefined(r)?null:JSON.stringify(this.getSavedValues(r)),u=this.getParameterInfo(),e=this.element.find("#"+this._id+"_listgrid_grid_container_panel").data("BoldBIDashboardGrid").model.dataSource;return n.isNullOrUndefined(f)&&u.DataType===DynamicParameterDataType.String&&n.isNullOrUndefined(u.ListModeInfo)&&n.isNullOrUndefined(u.LiteralModeInfo.StartValue)||ParameterMode.Literal===u.Mode&&n.isNullOrUndefined(u.LiteralModeInfo)&&e.length===0?{isNew:!0,status:!1}:n.isNullOrUndefined(f)?{isNew:!0,status:!0}:u.ParameterID===i&&f!==JSON.stringify(u)?{isNew:!1,status:!0}:{isNew:!1,status:!1}},r.prototype.getSavedValues=function(n){return{ParameterID:n.ParameterID,ParameterName:n.ParameterName,Description:n.Description,DateFormat:n.DateFormat,DataType:n.DataType,ShowInViewer:n.ShowInViewer,Mode:n.Mode,DatasourceId:this.queryDesigner.dataset.Id,DatasourceName:this.queryDesigner.dataset.Name,ListModeInfo:n.ListModeInfo===null?null:this.getSavedListValues(n.ListModeInfo),LiteralModeInfo:n.LiteralModeInfo===null?null:this.getSavedLiteralValues(n.LiteralModeInfo)}},r.prototype.getSavedLiteralValues=function(t){return{StartValue:t.StartValue,EndValue:t.EndValue,IsCustomDateRange:t.IsCustomDateRange,RangeEndDate:n.isNullOrUndefined(t.RangeEndDate)?t.RangeEndDate:n.format(new Date(t.RangeEndDate),this.dateFormat),RangeStartDate:n.isNullOrUndefined(t.RangeStartDate)?t.RangeStartDate:n.format(new Date(t.RangeStartDate),this.dateFormat),RelativeDateItems:t.RelativeDateItems,SelectedRelativeDate:t.SelectedRelativeDate,SelectionType:t.SelectionType}},r.prototype.getSavedListValues=function(t){return{SelectedValueCollection:t.SelectedValueCollection,ValueCollection:t.ValueCollection,IsInclude:t.IsInclude,Type:t.Type,HasCheckedState:t.HasCheckedState,ReturnType:t.ReturnType,IsFirstValue:t.IsFirstValue,DataColumn:n.isNullOrUndefined(t.DataColumn)?null:this.getSavedDataColumnInfo(t.DataColumn)}},r.prototype.getSavedDataColumnInfo=function(n){return{FieldFrom:n.FieldFrom,TableName:n.TableName,FieldId:n.FieldId,DisplayFieldId:n.DisplayFieldId,FieldName:n.FieldName,DisplayFieldName:n.DisplayFieldName,QueryString:n.QueryString,SchemaName:n.SchemaName}},r.prototype.onInputValueUpdate=function(n){if(!this.model.renderingMode){var t=this.getDataType(),i=t.toLowerCase()==="number"&&(this.bbdesigner$(n.target).hasClass("bbi-dbrd-parameter-input-range")||this.bbdesigner$(n.target).attr("id")===this._id+"_currentvalue_input");i&&(n.currentTarget.value=n.currentTarget.value===""?"0.00":n.currentTarget.value)}},r.prototype.selectNumberValue=function(n){var t=this.getDataType();t.toLowerCase()==="number"&&n.type==="click"?n.currentTarget.value=n.currentTarget.value==="0.00"?"":n.currentTarget.value:t.toLowerCase()==="number"&&n.type==="keyup"&&(n.currentTarget.value=n.keyCode!==8&&n.keyCode!==46&&n.currentTarget.value===""?"0.00":n.currentTarget.value)},r.prototype.validateNumber=function(n){var i=this.model.renderingMode?"number":this.getDataType(),t=n.keyCode;if(i.toLowerCase()==="number"){if(!(t===8)&&t>31&&(t<48||t>57)&&!(t===45)&&!(t===46))return!1;this.model.renderingMode&&this.textBoxkeyUpEvent(this.bbdesigner$(n.currentTarget),n)}},r.prototype.rangeValidation=function(){var u=this.getDataType(),n=null,t=null,i,r;if(u.toLowerCase()==="number")n=Number(this.element.find("#"+this._id+"_currentvalue_start_input").val()),t=Number(this.element.find("#"+this._id+"_currentvalue_end_input").val());else if(this.element.find("#"+this._id+"_custom_dropdown_panel_dropdown_list_hidden").val()==="Custom")i=this.element.find("#"+this._id+"_currentvalue_datepicker_start").data("BoldBIDashboardDashboardDatePicker"),r=this.element.find("#"+this._id+"_currentvalue_datepicker_end").data("BoldBIDashboardDashboardDatePicker"),n=new Date(i.selectedDate.date),t=new Date(r.selectedDate.date);else return!1;return t<=n?!0:!1},r.prototype.populateDefaultValues=function(n,t){return{ParameterID:n,ParameterName:t,DatasourceId:this.queryDesigner.dataset.Id,DatasourceName:this.queryDesigner.dataset.name,Description:null,DateFormat:null,Mode:ParameterMode.Literal,DataType:DynamicParameterDataType.String,ShowInViewer:!0,ListModeInfo:null,LiteralModeInfo:{StartValue:null,EndValue:null,RangeEndDate:null,SelectionType:SelectionType.Single,SelectedRelativeDate:null,RelativeDateItems:null,IsCustomDateRange:!1,RangeStartDate:null}}},r.prototype.checkParameterError=function(t,i,r,u,f){var e=!1,s;if(/^[a-zA-Z0-9- _]*$/.test(t)?this.parameterNameValidation(t)||t.trim().length===0?(this.enableAlertMessage(this.nameAlertContainer,t.trim().length===0?this.locale.dataSource.emptyName:this.locale.dataSource.ParamNameExist),e=!0):this.disableAlertMessage(this.nameAlertContainer):(this.enableAlertMessage(this.nameAlertContainer,this.locale.dataSource.parameterHasSpecialChar),e=!0),n.isNullOrUndefined(f)||f.toLowerCase()!=="date"||u?this.disableAlertMessage(this.dateFormatAlertContainer):(this.enableAlertMessage(this.dateFormatAlertContainer,this.locale.dataSource.dateFormatNotValid),e=!0),!n.isNullOrUndefined(i)&&i.toLowerCase()==="range"&&this.rangeValidation()?(this.renderRangeAlertMessages(),e=!0):this.disableRangeAlertMessage(),r.toLowerCase()==="literal"&&this.inputValueAsEmpty()?(e=!0,this.enableAlertMessage(this.inputValueAlertContainer,this.locale.dataSource.EmptyInputValue)):this.disableAlertMessage(this.inputValueAlertContainer),r.toLowerCase()==="list")if(this.getListType()){var o=this.getListModeInfo(),h=o.IsInclude,l=o.Type===FetchAction.Manual&&o.ValueCollection.length===0;(l||o.ValueCollection.length===o.SelectedValueCollection.length&&!h||o.SelectedValueCollection.length===0&&h&&o.HasCheckedState)&&(this.enableAlertMessage(this.listValueDuplicateAlertContainer,this.locale.dataSource.includeListValues),e=!0)}else{var a=this.dashboardDesigner.element.find("#"+this._id+"_fieldfrom_dropdown_container").data("DesignerPropertyWidget"),v=this.dashboardDesigner.element.find("#"+this._id+"_table_dropdown_container").data("DesignerPropertyWidget"),c=this.dashboardDesigner.element.find("#"+this._id+"_valuefield_dropdown_container").data("DesignerPropertyWidget");e=a.dropDownObj.selectedTextValue.toLowerCase()==="table"&&n.isNullOrUndefined(v.dropDownObj.selectedTextValue)?!0:e;s=this.isHierarchichalDs()?c.dropDownObj.model.text:c.dropDownObj.selectedTextValue;n.isNullOrUndefined(s)||s===""?(this.enableAlertMessage(this.emptyFieldAlertContainer,this.locale.dataSource.EmptyInputValue),e=!0):this.disableAlertMessage(this.emptyFieldAlertContainer)}return e},r.prototype.inputValueAsEmpty=function(){var i=!1,t="",r=n.DashboardDesignerUtility.Serialization.stringtoEnum(DynamicParameterDataType,this.getDataType());return r===DynamicParameterDataType.String&&this.dashboardParameterContainer.find("#"+this._id+"_currentvalue_input").is(":visible")&&(t=this.dashboardParameterContainer.find("#"+this._id+"_currentvalue_input").val(),i=n.isNullOrUndefined(t)||t===""),i},r.prototype.checkForError=function(n){var t=this.element.find("#"+this._id+"_name_input").val(),i=this.getSelectionType(),r=this.getSelectedMode(),u=this.getDataType();return this.checkParameterError(t,i,r,n,u)},r.prototype.saveParameterInfo=function(){var i=this.element.find("#"+this._id+"_name_input").val(),t,r;return this.disableAllAlertMessages(),t=this.getParameterInfo(),r=JSON.stringify(this.populateDefaultValues(this.getSelectedParameterId(),i)),!n.isNullOrUndefined(t)&&r!==JSON.stringify(t)?(this.populateDefaultValues(t.ParameterID,i),t):void 0},r.prototype.saveParameterOnAlert=function(){var i=this.element.find("#"+this._id+"_name_input").val(),n=this.dashboardDesigner.element.find("#"+this._id+"_selectiontype_dropdown_container"),t;n.css("display")!=="none"&&(t=n.data("DesignerPropertyWidget").dropDownObj.selectedTextValue);var r=this.dashboardDesigner.element.find("#"+this._id+"_mode_dropdown_container").data("DesignerPropertyWidget"),u=r.dropDownObj.selectedTextValue,f=this.getDataType();return this.checkParameterError(i,t,u,!0,f)},r.prototype.renderRangeAlertMessages=function(){var n=this.getDataType();n.toLowerCase()==="number"?this.enableAlertMessage(this.numberRangeAlertContainer,this.locale.dataSource.ParamRangeExceeds):this.enableAlertMessage(this.dateRangeAlertContainer,this.locale.dataSource.ParamRangeExceeds)},r.prototype.disableRangeAlertMessage=function(){var n=this.getDataType();n.toLowerCase()==="number"?this.disableAlertMessage(this.numberRangeAlertContainer):this.disableAlertMessage(this.dateRangeAlertContainer)},r.prototype.updateParameterInfo=function(){var t,i;if(this.disableAllAlertMessages(),t=this.getParameterInfo(),!n.isNullOrUndefined(t)){for(i=0;i<this.queryDesigner.queryParamCollection.length;i++)if(this.queryDesigner.queryParamCollection[i].ParameterID===t.ParameterID){this.queryDesigner.queryParamCollection[i]=t;break}return t}},r.prototype.getCurrentParameterInfo=function(){return this.getParameterInfo()},r.prototype.actionListParameter=function(t,i){var l,f,a,h;if(!n.isNullOrUndefined(i)){var e=this.element.find("#"+this._id+"_type_dropdown_container_dropdown_list_hidden").val(),o=e.toLowerCase()==="date"?this.element.find("#"+this._id+"_addvalues_datepicker").val():this.element.find("#"+this._id+"_addvalues_input").val(),r=o!==null&&t===ListGridAction.Add||t===ListGridAction.Update||t===ListGridAction.Delete?this.getListModeInfo():null;switch(t){case ListGridAction.Add:if(o.replace(/ +/g,"")===""||n.isNullOrUndefined(r))this.disableAllAlertMessages();else{if(e.toLowerCase()==="number"&&n.parseFloat(o).toString()==="NaN"){this.enableAlertMessage(this.listValueDuplicateAlertContainer,this.locale.dataSource.listValueNotValid);break}r.ValueCollection.indexOf(o)===-1?(r.ValueCollection=r.ValueCollection.concat(o),e.toLowerCase()==="date"?this.element.find("#"+this._id+"_addvalues_datepicker").val(""):this.element.find("#"+this._id+"_addvalues_input").val(""),l=this.element.find("#"+this._id+"_addvalues_datepicker").data("BoldBIDashboardDashboardDatePicker"),this.resetDatePicker(l,null),this.updateValuesForListGrid(r)):this.enableAlertMessage(this.listValueDuplicateAlertContainer,this.locale.dataSource.listValueHasDuplicateValue)}break;case ListGridAction.Update:var c=this.element.find(i.currentTarget.parentElement.parentElement),p=this.element.find(c.find(".bbi-dbrd-list-param-list-value")),u=this.element.find(c.find(".bbi-dbrd-list-param-input"));if(u.val()!==""&&!n.isNullOrUndefined(r)){var v=this.element.find(c.find(".bbi-dbrd-list-param-list-value"))[0].innerHTML,y=p.html(),s=e.toLowerCase()==="date"?n.format(new Date(u.val()),this.dateFormat):null;if((r.ValueCollection.indexOf(u.val())!==-1||r.ValueCollection.indexOf(s)!==-1)&&(v===u.val()||v===s))this.closeEditListParameter(i);else if(r.ValueCollection.indexOf(u.val())!==-1||r.ValueCollection.indexOf(s)!==-1)this.enableAlertMessage(this.listValueDuplicateAlertContainer,this.locale.dataSource.listValueHasDuplicateValue),u.css("border-color","#ff0a0a");else if(e.toLowerCase()!=="date"||n.isNullOrUndefined(s)||u.val()===s){for(f=0;f<r.ValueCollection.length;f++)r.ValueCollection[f]===y&&(r.ValueCollection[f]=u.val()),r.SelectedValueCollection[f]===y&&(r.SelectedValueCollection[f]=u.val());this.updateValuesForListGrid(r);this.disableAllAlertMessages()}else this.enableAlertMessage(this.listValueDuplicateAlertContainer,this.locale.dataSource.listValueNotValid),u.css("border-color","#ff0a0a")}break;case ListGridAction.Delete:a=this.element.find(i.currentTarget.parentElement);h=this.element.find(a.find(".bbi-dbrd-list-param-list-value"));n.isNullOrUndefined(r)||(r.ValueCollection.splice(r.ValueCollection.indexOf(h.html()),1),r.SelectedValueCollection.indexOf(h.html())>-1&&r.SelectedValueCollection.splice(r.SelectedValueCollection.indexOf(h.html()),1),this.updateValuesForListGrid(r))}}},r.prototype.closeEditListParameter=function(t){var i,r,u,f;n.isNullOrUndefined(t)||(i=this.element.find(t.currentTarget.parentElement.parentElement),r=this.element.find(i.find(".bbi-dbrd-list-param-edition")),r.css("display","none"),u=this.element.find(i.find(".bbi-dbrd-list-param-list-value")),u.css("display","inline-block"),f=this.element.find(i.find(".bbi-dbrd-parameter-delete")),f.css("display","inline-block"),this.disableAllAlertMessages())},r.prototype.editListParameter=function(t){var u,i,f,e;if(!n.isNullOrUndefined(t)&&!n.isNullOrUndefined(this.getListType())&&this.getListType()){this.validateVisibleGridElement(null);var r=this.bbdesigner$(t.currentTarget),o=r.find(".bbi-dbrd-list-param-list-value"),s=this.element.find(o).html();o.css("display","none");u=r.find(".bbi-dbrd-list-param-edition");u.css("display","inline-block");i=this.bbdesigner$(t.currentTarget).find(".bbi-dbrd-list-param-input");i.val(s);i.css("border-color","#c8c8c8");i.focus();f=r.find(".bbi-dbrd-parameter-delete");f.css("display","none");e=this.getDataType();e.toLowerCase()==="number"&&i.attr("type","number")}},r.prototype.validateVisibleGridElement=function(t){var u,o,f,r,i,e;if(!n.isNullOrUndefined(t)&&(u=this.element.find(t.target).parent(),o=u.hasClass("bbi-dbrd-list-param-edition"),o&&u.css("display")!=="none"))return!1;if(f=this.element.find("#"+this._id+"_listgrid_grid_container_panel"),!n.isNullOrUndefined(f))for(r=f.find(".bbi-dbrd-list-param-data-row"),i=0;i<r.length;i++)e=this.element.find(r[i]).find(".bbi-dbrd-list-param-edition"),e.css("display")!=="none"&&(e.css("display","none"),this.element.find(r[i]).find(".bbi-dbrd-list-param-list-value").css("display","inline-block"),this.element.find(r[i]).find(".bbi-dbrd-parameter-delete").css("display","inline-block"),this.disableAllAlertMessages())},r.prototype.generateDashboardParameterInfo=function(){var i=this.dashboardDesigner.element.find(".bbi-dbrd-selected-parameter"),r=this.element.find("#"+this._id+"_name_input"),u=this.element.find("#"+this._id+"_description"),f=this.element.find("#"+this._id+"_mode_dropdown_container").data("DesignerPropertyWidget"),e=this.element.find("#"+this._id+"_type_dropdown_container").data("DesignerPropertyWidget"),o=this.element.find("#"+this._id+"_dateformat_dropdown_list"),s=this.element.find("#"+this._id+"_showInViewer_chk_input"),h=n.isNullOrUndefined(s)?!0:s.prop("checked"),t={ParameterID:null,ParameterName:null,Description:null,DateFormat:null,DataType:DynamicParameterDataType.String,ShowInViewer:h,Mode:ParameterMode.Literal,DatasourceId:this.queryDesigner.dataset.Id,DatasourceName:this.queryDesigner.dataset.Name,ListModeInfo:null,LiteralModeInfo:null};return n.isNullOrUndefined(i)||(t.ParameterID=i.attr("data-param-id")),n.isNullOrUndefined(r)||(t.ParameterName=r.val()),n.isNullOrUndefined(u)||(t.Description=u.val()),n.isNullOrUndefined(f)||(t.Mode=f.dropDownObj.selectedIndex()),n.isNullOrUndefined(e)||(t.DataType=e.dropDownObj.selectedIndex()),n.isNullOrUndefined(o)||(t.DateFormat=o.val()),t},r.prototype.disableAlertMessage=function(n){if(n.length>1)for(var t=0;t<n.length;t++)n[t].css("display")==="block"&&n[t].css("display","none");else n.css("display")==="block"&&n.css("display","none")},r.prototype.enableAlertMessage=function(n,t){n.css("display")==="none"&&n.css("display","block");n.text(t)},r.prototype.resetUIElements=function(t,i){var e,o,s,h;this.dashboardParameterContainer.attr("data-param-id",t);var c=this.element.find("#"+this._id+"_name_input"),l=this.element.find("#"+this._id+"_type_dropdown_container").data("DesignerPropertyWidget"),a=this.element.find("#"+this._id+"_mode_dropdown_container").data("DesignerPropertyWidget"),v=this.element.find("#"+this._id+"_returnType_radiobutton_single_rdo_input"),y=this.element.find("#"+this._id+"_returnType_radiobutton_iterative_rdo_input"),p=this.element.find("#"+this._id+"_selectiontype_dropdown_container").data("DesignerPropertyWidget"),w=this.element.find("#"+this._id+"_currentvalue_input"),b=this.element.find("#"+this._id+"_currentvalue_startinput"),k=this.element.find("#"+this._id+"_currentvalue_end_input"),d=this.element.find("#"+this._id+"_currentvalue_radiobutton_true_rdo_input"),g=this.element.find("#"+this._id+"_currentvalue_radiobutton_false_rdo_input"),r=this.element.find("#"+this._id+"_currentvalue_datepicker"),ut=this.element.find("#"+this._id+"_currentvalue_datepicker_start"),ft=this.element.find("#"+this._id+"_currentvalue_datepicker_end"),u=this.element.find("#"+this._id+"_custom_dropdown_panel"),f=this.element.find("#"+this._id+"_showInViewer_chk_input"),nt=this.element.find("#"+this._id+"_value_radiobutton_datasource_rdo_input"),tt=this.element.find("#"+this._id+"_value_radiobutton_manual_rdo_input"),it=this.element.find("#"+this._id+"_isfirstvalue_chk_input"),rt=this.element.find("#"+this._id+"_description");n.isNullOrUndefined(c)||c.val(i);n.isNullOrUndefined(l)||l.selectItemByIndex(0);n.isNullOrUndefined(a)||a.selectItemByIndex(0);n.isNullOrUndefined(v)||v.prop("checked",!0);n.isNullOrUndefined(y)||y.prop("checked",!0);n.isNullOrUndefined(p)||p.selectItemByIndex(0);n.isNullOrUndefined(w)||w.val("");n.isNullOrUndefined(rt)||rt.val("");n.isNullOrUndefined(b)||b.val("0");n.isNullOrUndefined(k)||k.val("0");n.isNullOrUndefined(d)||d.prop("checked",!0);n.isNullOrUndefined(g)||g.prop("checked",!0);n.isNullOrUndefined(r)||(e=r.data("BoldBIDashboardDashboardDatePicker"),this.resetDatePicker(e,null));n.isNullOrUndefined(ut)||(o=r.data("BoldBIDashboardDashboardDatePicker"),this.resetDatePicker(o,null));n.isNullOrUndefined(ft)||(s=r.data("BoldBIDashboardDashboardDatePicker"),this.resetDatePicker(s,null));n.isNullOrUndefined(u)||(u.data("DesignerPropertyWidget").dropDownObj.setModel({dataSource:this.populateCustomDatasource()}),u.data("DesignerPropertyWidget").dropDownObj.selectItemByIndex(0));!n.isNullOrUndefined(f)&&f.length>0&&(h=ejdashboard.base.getComponent(f[0],"checkbox"),h.checked=!0);n.isNullOrUndefined(tt)||tt.prop("checked",!0);n.isNullOrUndefined(nt)||nt.prop("checked",!0);n.isNullOrUndefined(it)||it.prop("checked",!1);this.disableAllAlertMessages()},r.prototype.getParameterInfo=function(){var t=this.generateDashboardParameterInfo(),i;switch(t.Mode){case ParameterMode.Literal:t.LiteralModeInfo=this.getLiteralModeInfo(t.DataType);break;case ParameterMode.List:t.ListModeInfo=this.getListModeInfo()}return i=this.element.find("#"+this._id+"_showInViewer_chk_input"),n.isNullOrUndefined(i)||(t.ShowInViewer=i.prop("checked")),t},r.prototype.getLiteralModeInfo=function(t){var i={StartValue:null,EndValue:null,IsCustomDateRange:!1,RangeEndDate:null,RangeStartDate:null,RelativeDateItems:null,SelectedRelativeDate:null,SelectionType:SelectionType.Single},u=this.element.find("#"+this._id+"_selectiontype_dropdown_container"),r;if(!n.isNullOrUndefined(i.SelectionType)){i.SelectionType=t===DynamicParameterDataType.String||t===DynamicParameterDataType.Boolean?SelectionType.Single:n.DashboardDesignerUtility.Serialization.stringtoEnum(SelectionType,u.data("DesignerPropertyWidget").dropDownObj.selectedTextValue);switch(t){case DynamicParameterDataType.String:case DynamicParameterDataType.Number:i=this.getStringOrNumberTypeInfo(i);break;case DynamicParameterDataType.Boolean:r=this.element.find("#"+this._id+"_currentvalue_radiobutton_true_rdo_input");!n.isNullOrUndefined(r)&&r.length>0&&(i.StartValue=r.prop("checked")?"True":"False");break;case DynamicParameterDataType.Date:i=n.isNullOrUndefined(i.SelectionType)||i.SelectionType!==SelectionType.Single?this.getDateRangeTypeInfo(i):this.getDateSingleTypeInfo(i)}}return i},r.prototype.getStringOrNumberTypeInfo=function(t){var i=null,r=null;return i=t.SelectionType===SelectionType.Single?this.element.find("#"+this._id+"_currentvalue_input"):this.element.find("#"+this._id+"_currentvalue_start_input"),r=t.SelectionType===SelectionType.Single?null:this.element.find("#"+this._id+"_currentvalue_end_input"),!n.isNullOrUndefined(i)&&i.length>0&&(t.StartValue=i.val().replace(/ +/g,"")!==""?i.val():null),!n.isNullOrUndefined(r)&&r.length>0&&(t.EndValue=r.val()),t},r.prototype.getDateSingleTypeInfo=function(t){var i=this.element.find("#"+this._id+"_currentvalue_datepicker").data("BoldBIDashboardDashboardDatePicker");return n.isNullOrUndefined(i)||n.isNullOrUndefined(i.selectedDate)||(t.RangeStartDate=n.format(i.selectedDate.date,this.dateFormat)),t},r.prototype.getDateRangeTypeInfo=function(t){var u=this.element.find("#"+this._id+"_custom_dropdown_panel").data("DesignerPropertyWidget"),i,r;return u.dropDownObj.selectedTextValue===n.DashboardDesignerUtility.Serialization.enumToString(DateRange,DateRange.Custom)?(i=this.element.find("#"+this._id+"_currentvalue_datepicker_start").data("BoldBIDashboardDashboardDatePicker"),r=this.element.find("#"+this._id+"_currentvalue_datepicker_end").data("BoldBIDashboardDashboardDatePicker"),t.IsCustomDateRange=u.dropDownObj.selectedTextValue===n.DashboardDesignerUtility.Serialization.enumToString(DateRange,DateRange.Custom),n.isNullOrUndefined(i)||n.isNullOrUndefined(i.selectedDate)||(t.RangeStartDate=n.format(i.selectedDate.date,this.dateFormat)),n.isNullOrUndefined(r)||n.isNullOrUndefined(r.selectedDate)||(t.RangeEndDate=n.format(r.selectedDate.date,this.dateFormat)),t.RelativeDateItems=this.getSelectedRelativeDateInfo()):(t.RelativeDateItems=this.getSelectedRelativeDateInfo(),t.SelectedRelativeDate=u.dropDownObj.selectedTextValue),t},r.prototype.getListModeInfo=function(){var r=this.element.find("#"+this._id+"_listgrid_grid_container_panel"),f=r.length>0?r.data("BoldBIDashboardGrid").model.dataSource:null,t=this.getListType(),e=this.getReturnType(),o=this._id+"_defaultvalue_multiselectioncombobox_container_panel_element",s=new n.Dashboard.ListMultiSelectionComboBox(this.dashboardDesigner),i=s.getPopupContainerInformation(o),u=this.element.find("#"+this._id+"_isfirstvalue_chk_input"),h=n.isNullOrUndefined(u)?!1:u.prop("checked"),c=t?this.getListValueInfo(f):[];return{SelectedValueCollection:i.filterValues,ValueCollection:c,IsInclude:i.isInclude,Type:t?FetchAction.Manual:FetchAction.Datasource,HasCheckedState:i.hasCheckedValue,ReturnType:e?ParameterReturnType.Single:ParameterReturnType.Iterative,IsFirstValue:h,DataColumn:t?null:this.getListDataColumnInfo()}},r.prototype.disableAllAlertMessages=function(){var n=[];n.push(this.nameAlertContainer,this.numberRangeAlertContainer,this.dateRangeAlertContainer,this.listValueDuplicateAlertContainer,this.inputValueAlertContainer,this.emptyFieldAlertContainer);this.disableAlertMessage(n)},r.prototype.getListValueInfo=function(t){var i=[];return!n.isNullOrUndefined(t)&&t.length>0&&t.forEach(function(n){i.push(n.ListValue)}),i},r.prototype.getListDataColumnInfo=function(){var s=this.dashboardDesigner.element.find("#"+this._id+"_fieldfrom_dropdown_container").data("DesignerPropertyWidget"),t=s.dropDownObj._selectedValue,u=this.dashboardDesigner.element.find("#"+this._id+"_table_dropdown_container").data("DesignerPropertyWidget"),i=this.dashboardDesigner.element.find("#"+this._id+"_valuefield_dropdown_container").data("DesignerPropertyWidget"),r=this.dashboardDesigner.element.find("#"+this._id+"_displayfield_dropdown_container").data("DesignerPropertyWidget"),f=u.dropDownObj.model.selectedIndex,e=this.isHierarchichalDs()?i.treeViewObj.fields.dataSource:i.dropDownObj.model.dataSource,o=this.isHierarchichalDs()?r.treeViewObj.fields.dataSource:r.dropDownObj.model.dataSource;return{FieldFrom:t,TableName:t===FetchType.Table?u.dropDownObj._selectedValue:null,FieldId:t===FetchType.Datasource?this.isHierarchichalDs()?i.dropDownObj.model.value:i.dropDownObj._selectedValue:null,DisplayFieldId:t===FetchType.Datasource?this.isHierarchichalDs()?r.dropDownObj.model.value:r.dropDownObj._selectedValue:null,FieldName:n.isNullOrUndefined(e)||e.length===0?this.isHierarchichalDs()?this.getHierarchicalName(i,t):null:this.isHierarchichalDs()?this.getHierarchicalName(i,t):i.dropDownObj._currentText,DisplayFieldName:n.isNullOrUndefined(o)||o.length===0?this.isHierarchichalDs()?this.getHierarchicalName(r,t):null:this.isHierarchichalDs()?this.getHierarchicalName(r,t):r.dropDownObj._currentText,QueryString:t===FetchType.Datasource||t===FetchType.Table?null:this.codeEditor.getValue(),SchemaName:t===FetchType.Table&&!n.isNullOrUndefined(f)&&u.dropDownObj.model.dataSource.length>0?u.dropDownObj.model.dataSource[f].schema:null}},r.prototype.getHierarchicalName=function(t,i){var r,u;return i===FetchType.Table?(r=t.getSelection().value,!n.DashboardUtil.IsStringNullorWhiteSpace(r))?(u=t.treeViewObj.fields.dataSource.filter(function(n){return n.ColumnId===r}),u.length>0?u[0].TreeViewHierarchyName:t.dropDownObj.model.value):t.dropDownObj.model.value:t.dropDownObj.model.text},r.prototype.populateListBooleanDatasource=function(){return["Manual","Data Source"]},r.prototype.populateDateFormats=function(){return["MM/dd/yyyy","dd/MM/yyyy","yyyy/MM/dd"]},r.prototype.populateFieldFromDatasource=function(){var n=[{text:"Data Source",value:FetchType.Datasource}];return this.isHierarchichalDs()||n.push({text:"Custom Query",value:FetchType.Query},{text:"Table",value:FetchType.Table}),n},r.prototype.getListType=function(){var t=this.element.find("#"+this._id+"_value_radiobutton_manual_rdo_input");if(!n.isNullOrUndefined(t)&&t.length>0)return t.prop("checked")},r.prototype.getReturnType=function(){var t=this.element.find("#"+this._id+"_returnType_radiobutton_single_rdo_input");if(!n.isNullOrUndefined(t)&&t.length>0)return t.prop("checked")},r.prototype.changeFieldFromDatasource=function(){this.updateVisibility("dropdown","table",!1);this.updateVisibility("codemirror","queryvalue",!1);this.updateVisibility("dropdown","valuefield",!0);this.updateVisibility("dropdown","displayfield",!0)},r.prototype.changeFieldFromCustomQuery=function(){this.updateVisibility("dropdown","table",!1);this.updateVisibility("codemirror","queryvalue",!0);this.updateVisibility("dropdown","valuefield",!0);this.updateVisibility("dropdown","displayfield",!0);this.codeEditor.setValue("");this.updateComboBoxInfo()},r.prototype.changeFieldFromTable=function(){this.updateVisibility("dropdown","table",!0);this.updateVisibility("codemirror","queryvalue",!1);this.updateVisibility("dropdown","valuefield",!0);this.updateVisibility("dropdown","displayfield",!0)},r.prototype.showNotifyIcon=function(n){var t=this.dashboardDesigner.element.find(".bbi-dbrd-datasource-notification"),i=this.dashboardDesigner.element.find(".bbi-dbrd-fieldfrom-container");n?t.css({display:"flex"}):t.css({display:"none"});i.css({display:"flex"})},r.prototype.changeFieldFrom=function(t){var i=n.isNullOrUndefined(t.args)?t:t.args;if(i.isInteraction){this.resetFieldDropDown();this.resetDisplayFieldDropDown();this.isDataColumnInteracted=!0;switch(i.selectedValue){case FetchType.Datasource:this.isFieldFromAsTableOrDs=!0;this.changeFieldFromDatasource();this.changeToDataColumn(!0,FetchType.Datasource);this.showNotifyIcon(!0);break;case FetchType.Table:this.isFieldFromAsTableOrDs=!0;this.changeFieldFromTable();this.changeToDataColumn(!0,FetchType.Table);this.showNotifyIcon(!1);break;case FetchType.Query:this.resetFieldDropDown();this.resetDisplayFieldDropDown();this.changeFieldFromCustomQuery();this.showNotifyIcon(!1)}}},r.prototype.resetFieldDropDown=function(){if(!this.isHierarchichalDs){var n=this.dashboardDesigner.element.find("#"+this._id+"_valuefield_dropdown_container").data("DesignerPropertyWidget");n.dropDownObj.option("dataSource",[])}},r.prototype.resetDisplayFieldDropDown=function(){if(!this.isHierarchichalDs()){var n=this.dashboardDesigner.element.find("#"+this._id+"_displayfield_dropdown_container").data("DesignerPropertyWidget");n.dropDownObj.option("dataSource",[])}},r.prototype.reselectDateFormatDropDown=function(){var n=this.element.find("#"+this._id+"_dateformat_dropdown_list").data("BoldBIDashboardAutocomplete");this.populateDateFormats().indexOf(this.dateFormat)>-1?n.selectValueByText(this.dateFormat):n.selectValueByText("MM/dd/yyyy")},r.prototype.changeListType=function(n){var t,i;n?(this.updateItemDisable("dropdown","type",!1),this.changeListManualType(),this.updateValuesForListGrid()):(this.changeListDataSourceType(),t=this.getDataType()==="Date",this.updateVisibility("dropdown","dateformat",t),i=this.element.find("#"+this._id+"_fieldfrom_dropdown_container").data("DesignerPropertyWidget"),i.selectItemByIndex(0),this.changeToDataColumn(!0,FetchType.Datasource));this.disableAllAlertMessages()},r.prototype.changeListManualType=function(){var t=this.getDataType().toLowerCase();this.updateVisibility("grid","listgrid",!0);t===n.DashboardDesignerUtility.Serialization.enumToString(DynamicParameterDataType,DynamicParameterDataType.String).toLowerCase()?(this.updateVisibility("datepicker","addvalues",!1,"single"),this.updateVisibility("input","addvalues",!0,"single")):t===n.DashboardDesignerUtility.Serialization.enumToString(DynamicParameterDataType,DynamicParameterDataType.Date).toLowerCase()?this.updateVisibility("datepicker","addvalues",!0,"single"):t===n.DashboardDesignerUtility.Serialization.enumToString(DynamicParameterDataType,DynamicParameterDataType.Number).toLowerCase()&&this.updateVisibility("input","addvalues",!0,"single","number");this.updateVisibility("dropdown","table",!1);this.updateVisibility("dropdown","valuefield",!1);this.updateVisibility("dropdown","displayfield",!1);this.updateVisibility("dropdown","fieldfrom",!1);this.updateVisibility("codemirror","queryvalue",!1);this.updateComboBoxInfo(!0);this.disableAllAlertMessages()},r.prototype.changeListDataSourceType=function(n){n===void 0&&(n=null);this.updateVisibility("grid","listgrid",!1);this.updateVisibility("input","addvalues",!1,"single");this.updateVisibility("datepicker","addvalues",!1,"single");this.updateVisibility("dropdown","table",!1);this.updateVisibility("dropdown","valuefield",!0);this.updateVisibility("dropdown","displayfield",!0);this.updateVisibility("dropdown","fieldfrom",!0);this.updateComboBoxInfo(!1,n);this.disableAllAlertMessages()},r.prototype.changeToDataColumn=function(t,i,r,u,f,e,o,s,h){r===void 0&&(r=null);u===void 0&&(u=null);f===void 0&&(f=null);e===void 0&&(e=null);o===void 0&&(o=null);s===void 0&&(s=!1);h===void 0&&(h=!1);var l=i===FetchType.Table&&n.isNullOrUndefined(e)&&n.isNullOrUndefined(o),c=this.getSelectedParameterId();this.dashboardDesigner.modules.util.doAjaxPost("POST",this.queryDesigner.model.serviceUrl+n.Dashboard.ServiceAPI.processdata,{action:n.DashboardUtil.DesignerAction.ListDatasourceAction,data:JSON.stringify({className:n.DashboardUtil.DesignerAction.ParameterAction,designerAction:n.DashboardUtil.DesignerAction.ListDatasourceAction,dataSetId:this.queryDesigner.dataset.Id,action:n.DashboardDesignerUtility.Serialization.enumToString(FetchType,i),paramType:this.getDataType(),fieldId:r,isFetchFieldDataSource:t,customQuery:f,fieldName:u,tableName:e,schemaName:o,paramId:c,isQueryDesignerMode:this.dashboardDesigner.isQueryDesignerMode})},{fnction:t?h?this.bbdesigner$.proxy(this.updateDisplayField,this,u,s,c,i):this.bbdesigner$.proxy(this.columnSuccess,this,u,l,i,s,c):this.bbdesigner$.proxy(this.updateComboBoxValues,this,i,f),indicator:this.isFieldFromAsTableOrDs?[this.bbdesigner$.proxy(this.showParamIndicator,this),this.bbdesigner$.proxy(this.hideParamIndicator,this)]:[]})},r.prototype.columnSuccess=function(t,i,r,u,f,e){var y,h,o,c,a,v;if(!n.isNullOrUndefined(e)&&f===this.getSelectedParameterId()){y=i?"_table_dropdown_container":"_valuefield_dropdown_container";t=r===FetchType.Table&&!i?this.tableFieldName:t;h=this.isHierarchichalDs()&&!i;o=n.isNullOrUndefined(e.field)?JSON.parse(e.TreeViewData):JSON.parse(e.field);h&&(o=this.updateDataSource(e));!n.isNullOrUndefined(e.HasError)&&e.HasError&&this.dashboardDesigner.modules.util.alertDialog(this.locale.alertDialogTitle.InvalidQueryStatement,this.locale.errorMessage.dataFetchingError,IconType.errors,AlertType.Alert,!0,e.Message);r!==FetchType.Table||i||(t=h?o.some(function(n){return n.TreeViewHierarchyName===t})?n.isNullOrUndefined(t)?null:o.filter(function(n){return n.TreeViewHierarchyName===t})[0].ColumnId:null:o.some(function(n){return n.text===t})?t:null);var p=this.element.find("#"+this._id+y),l=this.element.find("#"+this._id+"_displayfield_dropdown_container").data("DesignerPropertyWidget"),s=p.data("DesignerPropertyWidget");if(h?(this.fieldTreeview.dropDownBtnModel.fields.dataSource=o,this.fieldTreeview.renderDropDown(this.fieldTreeview.dropDownBtnModel,p)):s.dropDownObj.option("dataSource",o),!i&&this.isDataColumnInteracted&&(h?(this.displayFieldTreeView.dropDownBtnModel.fields.dataSource=o,this.displayFieldTreeView.renderDropDown(this.displayFieldTreeView.dropDownBtnModel,l)):l.dropDownObj.option("dataSource",o)),n.isNullOrUndefined(e.fieldId))if(n.isNullOrUndefined(t))if(h||n.isNullOrUndefined(e.field)||JSON.parse(e.field).length!==0||i)if(h){for(c=0,a=0;a<o.length;a++)if(!o[a].HasChild){c=a;break}s.selectItem(s.treeViewObj.fields.dataSource[c].ColumnId);l.selectItem(l.treeViewObj.fields.dataSource[c].ColumnId);v=l.treeViewObj.fields.dataSource[c];r===FetchType.Table&&(v={Name:l.treeViewObj.fields.dataSource[c].Name,ColumnId:l.treeViewObj.fields.dataSource[c].TreeViewHierarchyName});this.updateFieldsForHierarchical(v,!0)}else s.selectItemByIndex(0);else this.updateComboBoxInfo();else h?(s.selectItem(t),this.updateFieldsForHierarchical({ColumnId:s.getSelection().value,Name:s.getSelection().name},!1,!0)):s.selectItemByValue(t);else s.selectItemByValue(e.fieldId);u&&s.dropDownObj.showPopup()}},r.prototype.updateFieldsForHierarchical=function(n,t,i){i===void 0&&(i=!1);var r={selectedValue:n.ColumnId,selectedText:n.Name,isInteraction:t};i?this.changeFieldValue(r):this.changeDisplayFieldValue(r)},r.prototype.isHierarchichalDs=function(){var t=n.Dashboard.ConnectionHelper.getConnectionInsFromDSId(this.dashboardDesigner,this.queryDesigner.dataset.Id);return n.isNullOrUndefined(t)?this.queryDesigner.checkCurrentInstanceForHierarchical():n.Dashboard.ConnectionHelper.isHierarchicalConnection(t)},r.prototype.updateDisplayField=function(t,i,r,u,f){var s,h;if(!n.isNullOrUndefined(f)&&r===this.getSelectedParameterId()){s=n.isNullOrUndefined(f.field)?JSON.parse(f.TreeViewData):JSON.parse(f.field);this.isHierarchichalDs()&&(s=this.updateDataSource(f));!n.isNullOrUndefined(f.HasError)&&f.HasError&&this.dashboardDesigner.modules.util.alertDialog(this.locale.alertDialogTitle.InvalidQueryStatement,this.locale.errorMessage.dataFetchingError,IconType.errors,AlertType.Alert,!0,f.Message);var c=this.element.find("#"+this._id+"_displayfield_dropdown_container"),e=c.data("DesignerPropertyWidget"),o=this.isHierarchichalDs()?e.dropDownObj.model.value:e.dropDownObj.selectedTextValue;this.isHierarchichalDs()?(e.dropDownBtnModel.fields.dataSource=s,e.renderDropDown(e.dropDownBtnModel,c),u!==FetchType.Table||n.DashboardUtil.IsStringNullorWhiteSpace(o)||(h=o.split("."),h.length>0&&(o=s.filter(function(n){return n.TreeViewHierarchyName===o})[0].ColumnId)),e.selectItem(o)):(e.dropDownObj.option("dataSource",s),e.selectItemByText(o));i&&e.dropDownObj.showPopup()}},r.prototype.changeFieldValue=function(t){var r,u,f;if(!n.isNullOrUndefined(t)){if(r=n.isNullOrUndefined(t.args)?t:t.args,this.isDataColumnInteracted=this.isDataColumnInteracted?!0:r.isInteraction,this.isDataColumnInteracted){var o={text:r.selectedText,value:r.selectedValue},i=this.element.find("#"+this._id+"_displayfield_dropdown_container").data("DesignerPropertyWidget"),e=this.element.find("#"+this._id+"_valuefield_dropdown_container").data("DesignerPropertyWidget");this.isHierarchichalDs()?(i.dropDownBtnModel.fields.dataSource.length===0&&(i.dropDownBtnModel.fields.dataSource=e.dropDownBtnModel.fields.dataSource,i.renderDropDown(i.dropDownBtnModel,i)),i.selectItem(r.selectedValue),u={Name:i.getSelection().name,ColumnId:i.getSelection().value},f=this.element.find("#"+this._id+"_fieldfrom_dropdown_container").data("DesignerPropertyWidget").dropDownObj.selectedTextValue,f==="Table"&&(u.ColumnId=i.treeViewObj.fields.dataSource.filter(function(n){return n.ColumnId===u.ColumnId})[0].TreeViewHierarchyName),this.updateFieldsForHierarchical(u,!1)):(i.dropDownObj.model.dataSource.indexOf(o)===-1&&i.updateDatasource(e.dropDownObj.model.dataSource),i.selectItemByValue(r.selectedValue))}this.disableAllAlertMessages()}},r.prototype.changeDisplayFieldValue=function(t){if(!n.isNullOrUndefined(t)){var r=n.isNullOrUndefined(t.args)?t:t.args,o=this.element.find("#"+this._id+"_fieldfrom_dropdown_container").data("DesignerPropertyWidget"),s=this.element.find("#"+this._id+"_table_dropdown_container").data("DesignerPropertyWidget"),i=this.element.find("#"+this._id+"_valuefield_dropdown_container").data("DesignerPropertyWidget"),h=o.dropDownObj,u=s.dropDownObj,f=this.isHierarchichalDs()?i.dropDownObj.model.value:i.dropDownObj._selectedValue,e=this.isHierarchichalDs()?i.dropDownObj.model.text:i.dropDownObj.selectedTextValue;if(this.isDataColumnInteracted=this.isDataColumnInteracted?!0:r.isInteraction,this.isDataColumnInteracted)switch(h.selectedTextValue){case"Data Source":this.updateComboBoxInfo(!1,null,[],this.getRequestInfo(!1,FetchType.Datasource,f,e,r.selectedValue));break;case"Table":this.isHierarchichalDs()&&(e=i.treeViewObj.fields.dataSource.filter(function(n){return n.ColumnId===f})[0].TreeViewHierarchyName);this.updateComboBoxInfo(!1,null,[],this.getRequestInfo(!1,FetchType.Table,f,e,null,r.selectedValue,null,u.model.dataSource[u.model.selectedIndex].value,u.model.dataSource[u.model.selectedIndex].schema));break;case"Custom Query":this.updateComboBoxInfo(!1,null,[],this.getRequestInfo(!1,FetchType.Query,f,e,null,r.selectedText,this.getCustomQuery()))}this.disableAllAlertMessages()}},r.prototype.getCustomQuery=function(){return this.codeEditor?this.codeEditor.getValue():null},r.prototype.updateComboBoxValues=function(t,i,r){var u;if(!n.isNullOrUndefined(r)){var h={IsInclude:n.isNullOrUndefined(r.IsInclude)||this.isDataColumnInteracted?!0:r.IsInclude,ValueCollection:n.isNullOrUndefined(r.columnData)?[]:JSON.parse(r.columnData),SelectedValueCollection:n.isNullOrUndefined(r.filterValues)||this.isDataColumnInteracted?[]:JSON.parse(r.filterValues),Type:FetchAction.Datasource,DataColumn:null,HasCheckedState:n.isNullOrUndefined(r.HasCheckedState)?!1:r.HasCheckedState,ReturnType:ParameterReturnType.Single,IsFirstValue:n.isNullOrUndefined(r.IsFirstValue)?!1:r.IsFirstValue},f=t===FetchType.Datasource?r.FieldId:null,e=n.isNullOrUndefined(r.FieldName)?null:r.FieldName,o=null,s=null;t===FetchType.Table&&(u=this.element.find("#"+this._id+"_table_dropdown_container").data("DesignerPropertyWidget").dropDownObj,o=u._selectedValue,s=u.model.dataSource[u.model.selectedIndex].schema);this.updateComboBoxInfo(!1,h,JSON.parse(r.columnData),this.getRequestInfo(!1,t,f,e,f,e,i,o,s))}},r.prototype.changeTableColumn=function(t){var i=n.isNullOrUndefined(t.args)?t:t.args;!n.isNullOrUndefined(i)&&i.isInteraction&&(this.resetFieldDropDown(),this.resetDisplayFieldDropDown(),this.disableAllAlertMessages());(!n.isNullOrUndefined(i)||i.isInteraction||this.isFieldFromAsTableOrDs)&&(this.isDataColumnInteracted=this.isDataColumnInteracted?!0:i.isInteraction,this.changeToDataColumn(!0,FetchType.Table,null,null,null,i.selectedValue,i.model.dataSource[i.itemId].schema))},r.prototype.getTableDataWhenPopupOpen=function(t){if(this.isDataFetchedForTable)this.addLoadingIndicatorToDropDownPopup("_table_dropdown_container"),this.changeToDataColumn(!0,FetchType.Table,null,t.value,null,null,null,!0),this.isDataFetchedForTable=!1;else{var i=this.bbdesigner$("#"+this._id+"_table_dropdown_container_dropdown_list_popup_list_wrapper").find("ul").parent().data("BoldBIDashboardWaitingPopup");n.isNullOrUndefined(i)||this.bbdesigner$("#"+this._id+"_table_dropdown_container_dropdown_list_popup_list_wrapper").find("ul").parent().BoldBIDashboardWaitingPopup("hide")}},r.prototype.getFieldDataWhenPopupOpen=function(t,i){var u=t?"_displayfield":"_valuefield",r,f,e,o,s,h;!t&&this.isDataFetchedForField||t&&this.isDataFetchedForDisplayField?(r=this.element.find("#"+this._id+"_table_dropdown_container").data("DesignerPropertyWidget").dropDownObj,f=this.element.find("#"+this._id+"_table_dropdown_container").is(":visible"),this.addLoadingIndicatorToDropDownPopup(u+"_dropdown_container"),f?(e=r.model.dataSource[r.model.selectedIndex].value,o=r.model.dataSource[r.model.selectedIndex].schema,this.changeToDataColumn(!0,FetchType.Table,null,null,null,e,o,!0,t)):(s=this.isHierarchichalDs()?i.model.value:i.value,this.changeToDataColumn(!0,FetchType.Datasource,null,s,null,null,null,!0,t)),this.isDataFetchedForField=t?this.isDataFetchedForField:!1,this.isDataFetchedForDisplayField=t?!1:this.isDataFetchedForDisplayField):(h=this.bbdesigner$("#"+this._id+u+"_dropdown_container_dropdown_list_popup_list_wrapper").find("ul").parent().data("BoldBIDashboardWaitingPopup"),n.isNullOrUndefined(h)||this.bbdesigner$("#"+this._id+u+"_dropdown_container_dropdown_list_popup_list_wrapper").find("ul").parent().BoldBIDashboardWaitingPopup("hide"))},r.prototype.addLoadingIndicatorToDropDownPopup=function(n){var t=this.bbdesigner$("#"+this._id+n+"_dropdown_list_popup_list_wrapper");t.length>0&&(t.find("li> .e-ddltxt").html(""),t.find("li").removeClass("e-active"),t.find("ul").parent().BoldBIDashboardWaitingPopup({showOnInit:!1,cssClass:"e-designer-waitingpopup "+this._id+"_designer_waiting_popup e-designer-loader"}),t.find("ul").parent().css("height","152px"),t.find("ul").parent().data("BoldBIDashboardWaitingPopup").show())},r.prototype.getDefaultDataSource=function(n,t,i){return t?[{text:n.TableName,value:n.TableName,schema:n.SchemaName}]:[{text:n.FieldName,value:i===FetchType.Table?n.FieldName:n.FieldId}]},r.prototype.getDisplayFieldDataSource=function(n,t){return[{text:n.DisplayFieldName,value:t===FetchType.Table?n.DisplayFieldName:n.DisplayFieldId}]},r.prototype.showParamIndicator=function(){var t=this.dashboardParameterContainer.data("BoldBIDashboardWaitingPopup");n.isNullOrUndefined(t)||t.show()},r.prototype.hideParamIndicator=function(){var t=this.dashboardParameterContainer.data("BoldBIDashboardWaitingPopup");n.isNullOrUndefined(t)||t.hide()},r.prototype.getRequestInfo=function(t,i,r,u,f,e,o,s,h,c,l,a,v){return r===void 0&&(r=null),u===void 0&&(u=null),f===void 0&&(f=null),e===void 0&&(e=null),o===void 0&&(o=null),s===void 0&&(s=null),h===void 0&&(h=null),c===void 0&&(c=null),l===void 0&&(l=null),a===void 0&&(a=null),v===void 0&&(v=null),JSON.stringify({className:n.DashboardUtil.DesignerAction.ParameterAction,designerAction:n.DashboardUtil.DesignerAction.ListDatasourceAction,dataSetId:this.model.renderingMode?c:this.queryDesigner.dataset.Id,isQueryDesignerMode:this.dashboardDesigner.isQueryDesignerMode,action:n.DashboardDesignerUtility.Serialization.enumToString(FetchType,i),fieldId:r,displayFieldId:f,isFetchFieldDataSource:t,customQuery:o,fieldName:u,displayfieldName:e,tableName:s,schemaName:h,paramId:this.model.renderingMode?l:this.getSelectedParameterId(),validateId:this.model.renderingMode?l:this.getSelectedParameterId()+this.getDataType()+i+r+u,paramType:this.model.renderingMode?n.DashboardDesignerUtility.Serialization.stringtoEnum(DynamicParameterDataType,a):this.getDataType(),dataSetName:this.model.renderingMode?v:this.queryDesigner.dataset.Name})},r.prototype.executeListParamQuery=function(){var t=this.getCustomQuery();n.isNullOrUndefined(t)||t.replace(/\s/g,"")===""||this.changeToDataColumn(!0,FetchType.Query,null,null,t)},r.prototype.codeEditorFocus=function(n){var t=this.bbdesigner$(n.currentTarget);t.css("border-color","#0565FF")},r.prototype.wireEvents=function(){this.dashboardParameterContainer.on("click",".e-dbrd-list-add-action",this.bbdesigner$.proxy(this.actionListParameter,this,ListGridAction.Add));this.dashboardParameterContainer.on("click",".bbi-dbrd-parameter-delete",this.bbdesigner$.proxy(this.actionListParameter,this,ListGridAction.Delete));this.dashboardParameterContainer.on("dblclick",".bbi-dbrd-list-param-data-row",this.bbdesigner$.proxy(this.editListParameter,this));this.dashboardParameterContainer.on("click",".bbi-dbrd-list-param-close-edit",this.bbdesigner$.proxy(this.closeEditListParameter,this));this.dashboardParameterContainer.on("click",".bbi-dbrd-param-save-edit-icon.bbi-designer-query-treeview.e-icon.e-checkmark",this.bbdesigner$.proxy(this.actionListParameter,this,ListGridAction.Update));this.dashboardParameterContainer.on("click",".bbi-popup-button.e-dashboarddatepicker",this.bbdesigner$.proxy(this.appendDatePicker,this));this.dashboardParameterContainer.on("click",".e-dashboarddatepicker-icon",this.bbdesigner$.proxy(this.appendDatePicker,this));this.dashboardParameterContainer.on("click",".bbi-dbrd-list-param-list-value",this.bbdesigner$.proxy(this.validateVisibleGridElement,this));this.dashboardParameterContainer.on("click",".bbi-dbrd-execute-query-action",this.bbdesigner$.proxy(this.executeListParamQuery,this));this.dashboardParameterContainer.on("click",".bbi-dbrd-queryvalue-container .CodeMirror",this.bbdesigner$.proxy(this.codeEditorFocus,this));this.dashboardParameterContainer.on("focusout",".bbi-dbrd-parameter-input, .bbi-dbrd-parameter-input-range",this.bbdesigner$.proxy(this.onInputValueUpdate,this));this.bbdesigner$("body").on("click",".e-dbrd-btn-add-relative-date",this.bbdesigner$.proxy(this.openRelativeDateFilter,this));this.bbdesigner$("body").on("click",".e-dbrd-btn-clear-relative-date",this.bbdesigner$.proxy(this.clearReativeDateValues,this));this.bbdesigner$("body").on("click",".e-overlay, .bbi-dbrd-parameter-dialog",this.bbdesigner$.proxy(this.validateVisibleGridElement,this))},r.prototype.unWireEvents=function(){this.dashboardParameterContainer.off("click",".e-dbrd-list-add-action",this.bbdesigner$.proxy(this.actionListParameter,this,ListGridAction.Add));this.dashboardParameterContainer.off("click",".bbi-dbrd-parameter-delete",this.bbdesigner$.proxy(this.actionListParameter,this,ListGridAction.Delete));this.dashboardParameterContainer.off("dblclick",".bbi-dbrd-list-param-data-row",this.bbdesigner$.proxy(this.editListParameter,this));this.dashboardParameterContainer.off("click",".bbi-dbrd-list-param-close-edit",this.bbdesigner$.proxy(this.closeEditListParameter,this));this.dashboardParameterContainer.off("click",".bbi-dbrd-param-save-edit-icon.bbi-designer-query-treeview.e-icon.e-checkmark",this.bbdesigner$.proxy(this.actionListParameter,this,ListGridAction.Update));this.dashboardParameterContainer.off("click",".bbi-popup-button.e-dashboarddatepicker",this.bbdesigner$.proxy(this.appendDatePicker,this));this.dashboardParameterContainer.off("click",".e-dashboarddatepicker-icon",this.bbdesigner$.proxy(this.appendDatePicker,this));this.dashboardParameterContainer.off("click",".bbi-dbrd-list-param-list-value",this.bbdesigner$.proxy(this.validateVisibleGridElement,this));this.dashboardParameterContainer.off("click",".bbi-dbrd-execute-query-action",this.bbdesigner$.proxy(this.executeListParamQuery,this));this.dashboardParameterContainer.off("click",".bbi-dbrd-queryvalue-container .CodeMirror",this.bbdesigner$.proxy(this.codeEditorFocus,this));this.dashboardParameterContainer.off("focusout",".bbi-dbrd-parameter-input, .bbi-dbrd-parameter-input-range",this.bbdesigner$.proxy(this.onInputValueUpdate,this));this.bbdesigner$("body").off("click",".e-dbrd-btn-add-relative-date",this.bbdesigner$.proxy(this.openRelativeDateFilter,this));this.bbdesigner$("body").off("click",".e-dbrd-btn-clear-relative-date",this.bbdesigner$.proxy(this.clearReativeDateValues,this));this.bbdesigner$("body").off("click",".e-overlay, .bbi-dbrd-parameter-dialog",this.bbdesigner$.proxy(this.validateVisibleGridElement,this))},r.prototype.updateDataSource=function(t){var r=[],i;return n.isNullOrUndefined(t)||(i=JSON.parse(t.TreeViewData),n.isNullOrUndefined(i)||(i.Dimension.forEach(function(n){r.push(n)}),i.Measure.forEach(function(n){r.push(n)}))),r},r}(n.WidgetBase);t.BoldBIDashboardDynamicParameterConfiguration=i;window.BoldBIDashboard.widget("BoldBIDashboardDynamicParameterConfiguration","BoldBIDashboard.DynamicParameterConfiguration",new n.Dashboard.BoldBIDashboardDynamicParameterConfiguration)})(t=n.Dashboard||(n.Dashboard={}))}(BoldBIDashboard||(BoldBIDashboard={}));var RelativeDateInfo=function(){function n(){}return n}(),RadioButtonDataSource=function(){function n(){}return n}(),InternalDynamicParameter=function(){function n(n){this.designer=null;this.id=null;this.paramDialog=null;this.parameterPanel="add_param_panel";this.paramConfigInstance=null;this.paramBodyContainer=null;this.queryDesigner=null;this.parameterListContainer=null;this.currentValueCollection=[];this.resetCollection={};this.hasChanges=!1;this.ajaxRequestCollections=[];this.paramCollection=[];this.isUpdateDS=!1;this.locale=null;this.designer=n;this.bbdesigner$=this.designer.bbdesigner$;this.locale=n.getLocalizationContent();this.id=this.designer._id;this.designPanel=this.designer.designerPanel;(this.designer.isViewMode()||this.designer.isDesignMode()||this.designer.isDesignPreviewMode())&&(this.widgetHelper=this.designer.modules.widgetHelper);this.dateFormat=this.designer.model.localeSettings.dateFormat;this.unWireEvents();this.wireEvents()}return n.prototype.renderDashboardParameterViewerDialog=function(){var n=BoldBIDashboard.buildTag("div.bbi-dbrd-parameter-viewer-dialog","",{},{id:this.id+"_dashboardparameter_dialog"});this.parameterContainer=BoldBIDashboard.buildTag("div.bbi-dbrd-parameter-viewer-conatiner","",{},{id:this.id+"_dashboardparameter_container"});n.append(this.parameterContainer);this.dateFormat=this.designer.model.localeSettings.dateFormat;this.designer.isMobileLayout()?(this.createParameterDialogMobileView(n),this.paramDialog.scroller.element.css("height",this.designer.element.find("#"+this.id+"_dashboardparameter_dialog_wrapper").height()-(this.designer.element.find("#"+this.id+"_dashboardparameter_dialog_foot").outerHeight(!0)+this.designer.element.find("#"+this.id+"_dashboardparameter_dialog_title").outerHeight(!0)))):this.createParameterDialogForDesktop(n);this.populateParameterCollection()},n.prototype.createParameterDialogForDesktop=function(n){this.paramDialog=n.BoldBIDashboardDialog({title:this.locale.dashboardParameterDialog.titleText,height:"auto",minWidth:382,maxHeight:419,enableResize:!1,showOnInit:!1,showFooter:!0,enableModal:!0,enableAnimation:!1,showRoundedCorner:!0,containment:"#"+this.id,target:"#"+this.id,cssClass:"bbi-designer-dialog e-flat-mode boldbi-dashboarddesigner bbi-dbrd-parameter-viewer-dialog",close:this.bbdesigner$.proxy(this.closeDialog,this),closeIconTooltip:this.locale.dialogOptions.closeButtonText}).data("BoldBIDashboardDialog");n.BoldBIDashboardWaitingPopup({showOnInit:!1,cssClass:"e-designer-waitingpopup "+this.id+"_designer_waiting_popup bbi-designer-loader"});var t=this.paramDialog.element.parent().next("#"+this.id+"_dashboardparameter_dialog_foot"),i=BoldBIDashboard.buildTag("button.bbi-dbrd-parameter-reset bbi-dbrd-icon-background-theme bbi-dbrd-designer-hoverable","",{float:"left",cursor:"default",opacity:".35"},{id:this.id+"_dashboardparameter_dialog_reset",type:"button",disabled:"disabled"}),r=BoldBIDashboard.buildTag("button.bbi-dbrd-btn-secondary bbi-dbrd-btn-small bbi-dbrd-margin-left bbi-dbrd-parameter-footer-button e-dbrd-viewer-param-cancel-button",this.locale.dashboardParameterDialog.close,{},{id:this.id+"_dashboardparameter_dialog_cancel",type:"button"}),u=BoldBIDashboard.buildTag("button.bbi-dbrd-btn-primary bbi-dbrd-btn-small bbi-dbrd-parameter-footer-button bbi-dbrd-parameter-footer-save-button",this.locale.dashboardParameterDialog.apply,{cursor:"pointer"},{id:this.id+"_dashboardparameter_dialog_save",type:"button"});t.append(r,u,i);this.paramDialog.open()},n.prototype.createParameterDialogMobileView=function(n){this.paramDialog=n.BoldBIDashboardDialog({title:this.locale.dashboardParameterDialog.titleText,height:"100%",width:"100%",actionButtons:["reset","back"],left:0,top:0,minWidth:"100%",minHeight:"100%",containment:"#"+this.id,target:"#"+this.id,enableResize:!1,allowDraggable:!1,showOnInit:!1,enableModal:!0,showFooter:!0,enableAnimation:!1,create:this.bbdesigner$.proxy(this.addActionButtonIcon,this,n),actionButtonClick:this.bbdesigner$.proxy(this.headerIconClick,this,!0),cssClass:"bbi-designer-dialog e-flat-mode boldbi-dashboarddesigner bbi-dbrd-parameter-viewer-dialog",closeIconTooltip:this.locale.dialogOptions.closeButtonText}).data("BoldBIDashboardDialog");n.BoldBIDashboardWaitingPopup({showOnInit:!1,cssClass:"e-designer-waitingpopup "+this.id+"_designer_waiting_popup bbi-designer-loader"});var t=this.paramDialog.element.parent().next("#"+this.id+"_dashboardparameter_dialog_foot"),i=BoldBIDashboard.buildTag("button.bbi-dbrd-btn-primary bbi-dbrd-btn-small bbi-dbrd-margin-left bbi-dbrd-parameter-footer-button bbi-dbrd-parameter-footer-save-button",this.locale.dashboardParameterDialog.apply,{},{id:this.id+"_dashboardparameter_dialog_save",type:"button"});t.addClass("bbi-dbrd-parameter-mobile-footer");t.append(i);this.paramDialog.open()},n.prototype.addActionButtonIcon=function(n){var t=n.parent().prev("#"+this.id+"_dashboardparameter_dialog_title");t.find("#"+this.id+"_dashboardparameter_dialog_resetbutton").addClass("bbi-dbrd-parameter-reset bbi-dbrd-icon-background-theme");t.find("#"+this.id+"_dashboardparameter_dialog_backbutton").addClass("bbi-dbrd-parameter-viewer-titleBackIcon")},n.prototype.headerIconClick=function(n,t){var i=this;switch(t.currentTarget){case"reset":this.resetParameterDialog(n);break;case"back":setTimeout(function(){i.closeDialog()},100)}},n.prototype.applyParametersInViewer=function(){var n=this.designer.element.find("#"+this.id+"_dashboardparameter_dialog").data("BoldBIDashboardWaitingPopup");n.model.showOnInit?this.hideViewerIndicator():this.fetchDataWithParametersApplied();this.closeDialog()},n.prototype.getParameterCollection=function(){var n=!BoldBIDashboard.isNullOrUndefined(this.currentValueCollection)&&this.currentValueCollection.length>0?this.currentValueCollection:null;return BoldBIDashboard.isNullOrUndefined(n)?"":JSON.stringify(n)},n.prototype.closeDialog=function(){this.hideViewerIndicator();var n=new BoldBIDashboard.Dashboard.ListMultiSelectionComboBox(this.designer);n.destroyListMultiSelectionComboBox();this.paramDialog.close();this.resetParameterValues()},n.prototype.resetParameterValuesForLiteralMode=function(n,t){var i=n.LiteralModeInfo.StartValue,f=n.LiteralModeInfo.EndValue,r=t.LiteralModeInfo.StartValue,e=t.LiteralModeInfo.EndValue,u=n.LiteralModeInfo.SelectionType,o=t.LiteralModeInfo.SelectionType;switch(n.DataType){case DynamicParameterDataType.Boolean:this.resetCollection[n.ParameterID]=i===r?!0:!1;break;case DynamicParameterDataType.String:case DynamicParameterDataType.Number:this.resetCollection[n.ParameterID]=u===SelectionType.Single?r===i:r===i&&e===f;break;case DynamicParameterDataType.Date:var s=BoldBIDashboard.format(new Date(n.LiteralModeInfo.RangeStartDate),this.dateFormat),h=u===SelectionType.Single?null:BoldBIDashboard.format(new Date(n.LiteralModeInfo.RangeEndDate),this.dateFormat),c=BoldBIDashboard.format(new Date(t.LiteralModeInfo.RangeStartDate),this.dateFormat),l=o===SelectionType.Single?null:BoldBIDashboard.format(new Date(t.LiteralModeInfo.RangeEndDate),this.dateFormat),a=!BoldBIDashboard.isNullOrUndefined(n.LiteralModeInfo.RelativeDateItems);this.resetCollection[n.ParameterID]=s===c&&h===l?!0:!1;a&&(this.resetCollection[n.ParameterID]=n.LiteralModeInfo.SelectedRelativeDate===t.LiteralModeInfo.SelectedRelativeDate?!0:!1)}},n.prototype.applyParametersForFilterWidgets=function(n,t,i){i===void 0&&(i=!1);this.fetchDataWithParametersApplied(!1,this.getAllFilterWidgetParameterSelectedValues(n,t),i)},n.prototype.fetchDataWithParametersApplied=function(n,t,i){n===void 0&&(n=!0);t===void 0&&(t=null);i===void 0&&(i=!1);var e=this.designer.modules.dataConfiguration,r=[],u=[],o=this.designer.isViewMode()||this.designer.isDesignMode()||this.designer.isDesignPreviewMode()?this.widgetHelper.getAllWidgets():[],f=this.designer.designerPanel.banner.filterConfiguration.getAllWidgetSelectedValues();n&&this.applyDashboardParameter();(this.hasChanges||!n)&&(o.forEach(function(t){var i=!BoldBIDashboard.isNullOrUndefined(t.dataGroupInfo)&&t.dataGroupInfo.FieldContainers.length>0&&!BoldBIDashboard.isNullOrUndefined(t.dataGroupInfo.FieldContainers[0])&&!BoldBIDashboard.isNullOrUndefined(t.dataGroupInfo.FieldContainers[0].FieldInfos)?t.dataGroupInfo.FieldContainers[0].FieldInfos[0]:null,f=!BoldBIDashboard.isNullOrUndefined(i)&&!BoldBIDashboard.isNullOrUndefined(i.IsParameterField)?i.IsParameterField:!1;r.push(t.name);(n||!f)&&u.push(t.name)}),this.designer.addToRevertInteractionList(r),this.designer.cacheManager.isRefresh=!0,this.designer.cacheManager.clearAllFromCache(),e.fetchDataForWidgets(u,!1,f,!1,t),this.designer.modules.labelParameter.getDataForLabelParameter(f,this.id,i,null,t),this.hasChanges=!1)},n.prototype.getAllFilterWidgetParameterSelectedValues=function(n,t){for(var i,u,f,r,s=[],o=this.designer.modules.masterSlaveFilter.GetAllWidgetInstanceFromContainer(),e=0;e<o.length;e++)if(o[e].Name===t)s.push(n);else if(i=o[e].getJson().SelectedFilterValues,!BoldBIDashboard.isNullOrUndefined(i)&&i.length>0)for(u=new SelectedParameterValue,f=[],r=0;r<i.length;r++)i[r].InitialDimensionFilter.Text.length>0?f=i[r].InitialDimensionFilter.Text:i[r].InitialMeasureFilter.Values.length>0?f=i[r].InitialMeasureFilter.Values:i[r].InitialDateFilter.DateFilterList.length>0&&(f=i[r].InitialDateFilter.DateFilterList),u.SelectedValue=f,u.DataSourceName=o[e].DataGroupInfo.DataSourceName,u.ParameterId=i[r].FieldId,s.push(u);return s},n.prototype.resetParameterValues=function(){var n=this,t=this.bbdesigner$.extend(!0,[],this.paramCollection),i=this.currentValueCollection;t.forEach(function(t){var r=i.filter(function(n){return n.ParameterID===t.ParameterID})[0],u;if(!BoldBIDashboard.isNullOrUndefined(r))switch(r.Mode){case ParameterMode.Literal:n.resetParameterValuesForLiteralMode(r,t);break;case ParameterMode.List:u=t.ListModeInfo;n.resetCollection[r.ParameterID]=n.isSameValueExist(u,r)?!0:!1}})},n.prototype.resetToDefaultValueForDate=function(n,t,i,r){var u=t.find(".e-dashboarddatepicker").data("BoldBIDashboardDashboardDatePicker"),e=n.LiteralModeInfo.RangeStartDate,s=n.LiteralModeInfo.RangeEndDate,f,o;switch(n.LiteralModeInfo.SelectionType){case SelectionType.Single:u.model.startDate=r?BoldBIDashboard.format(new Date(e),this.dateFormat):e;u.model.value={range:null,start:u.model.startDate,end:null};break;case SelectionType.Range:f=BoldBIDashboard.isNullOrUndefined(n.LiteralModeInfo.SelectedRelativeDate)||!BoldBIDashboard.isNullOrUndefined(n.LiteralModeInfo.RelativeDateItems)&&n.LiteralModeInfo.RelativeDateItems.filter(function(t){return t.DisplayText===n.LiteralModeInfo.SelectedRelativeDate})[0].IsCustomRange;(n.LiteralModeInfo.IsCustomDateRange||f)&&(u.model.value={range:f?n.LiteralModeInfo.SelectedRelativeDate:null,start:BoldBIDashboard.format(new Date(e),this.dateFormat),end:BoldBIDashboard.format(new Date(s),this.dateFormat)});BoldBIDashboard.isNullOrUndefined(f)||f||n.LiteralModeInfo.IsCustomDateRange||(o=new BoldBIDashboard.Dashboard.BoldBIDashboardDynamicParameterConfiguration,o.getDateRangeValue(n,i,this.designer.model.serviceUrl,this.designer.model.mode,this.designer))}u.redraw()},n.prototype.resetToDefaultValueForLiteral=function(n,t,i,r,u){var e,o,f,s,h,c,l,a,v;switch(n.DataType){case DynamicParameterDataType.Boolean:n.LiteralModeInfo.StartValue==="True"?(e=t.find("#"+i+"_"+n.ParameterID+"_true_rdo_input"),e.prop("checked",!0)):(o=t.find("#"+i+"_"+n.ParameterID+"_false_rdo_input"),o.prop("checked",!0));break;case DynamicParameterDataType.Number:f=n.LiteralModeInfo.StartValue;s=n.LiteralModeInfo.EndValue;n.LiteralModeInfo.SelectionType===SelectionType.Single?(h=t.find("input")[0],h.value=f):(c=t.find("input")[0],l=t.find("input")[1],c.value=f,l.value=s);break;case DynamicParameterDataType.String:a=n.LiteralModeInfo.StartValue;v=t.find("input")[0];v.value=a;break;case DynamicParameterDataType.Date:this.resetToDefaultValueForDate(n,t,r,u)}},n.prototype.populateFilterValues=function(n){var t=n.ListModeInfo;return{isManualData:BoldBIDashboard.isNullOrUndefined(t.DataColumn),valueCollection:BoldBIDashboard.isNullOrUndefined(t.DataColumn)?t.ValueCollection:[],filterValues:t.SelectedValueCollection,isInclude:t.IsInclude,isCheckAll:t.SelectedValueCollection.length===0&&t.IsInclude,hasCheckedValue:t.HasCheckedState,requestInfo:BoldBIDashboard.isNullOrUndefined(t.DataColumn)?null:this.getComboBoxRequestInfo(t,n.ParameterID,n.DatasourceId,n.DataType)}},n.prototype.getComboBoxRequestInfo=function(n,t,i,r){var u=n.DataColumn;return JSON.stringify({className:BoldBIDashboard.DashboardUtil.DesignerAction.ParameterAction,designerAction:BoldBIDashboard.DashboardUtil.DesignerAction.ListDatasourceAction,dataSetId:i,action:BoldBIDashboard.DashboardDesignerUtility.Serialization.enumToString(FetchType,u.FieldFrom),fieldId:u.FieldId,isFetchFieldDataSource:!1,displayFieldId:u.DisplayFieldId,customQuery:u.QueryString,fieldName:u.FieldName,tableName:u.TableName,schemaName:u.SchemaName,paramId:t,validateId:t+r+u.FieldFrom+u.FieldId+u.FieldName,dataType:BoldBIDashboard.DashboardDesignerUtility.Serialization.enumToString(DynamicParameterDataType,r)})},n.prototype.resetToDefaultValueForList=function(n){var t=n.ListModeInfo,u=[],r=n.ParameterID+"_element",c=new BoldBIDashboard.Dashboard.ListMultiSelectionComboBox(this.designer),f=c.getMultiSelectionComboBox(r),e=f.parent().data("MultiSelectionComboBox").getPopupContainerInformation(r),o,i,s,h;if(u=BoldBIDashboard.isNullOrUndefined(e.filterValues)?t.ValueCollection:t.ValueCollection.filter(function(n){return e.filterValues.indexOf(n)<0}),u!==t.SelectedValueCollection){for(o=[],i=0;i<t.ValueCollection.length;i++)o.push({ListValue:t.ValueCollection[i]});s=new BoldBIDashboard.Dashboard.BoldBIDashboardDynamicParameterConfiguration;h={instance:s,method:"comboBoxSelectionChanged",args:[n.ParameterID,this.designer]};f.parent().data("MultiSelectionComboBox").populateMultiSelectionComboBox(r,this.populateFilterValues(n),h)}},n.prototype.resetParameterDialog=function(n){var t=this,u;n===void 0&&(n=!1);var f=this.designer.element.find(".bbi-dbrd-parameter-viewer-dialog .bbi-dbrd-parameter-reset"),r=this.id+"_dashboardparameter_container",i=this.bbdesigner$.extend(!0,[],this.paramCollection);BoldBIDashboard.isNullOrUndefined(i)||i.forEach(function(i){var u=t.designer.element.find("#"+r+"_"+i.ParameterID+"_panel"),f;if(u.length>0)switch(i.Mode){case ParameterMode.Literal:t.resetToDefaultValueForLiteral(i,u,r,i.DatasourceId,n);f=t.designer.element.find(".bbi-dbrd-parameter-viewer-dialog.e-dialog-wrap").css("z-index");t.bbdesigner$("#"+r+"_"+i.ParameterID+"_datepicker_popup_wrapper").css("z-index",parseInt(f));break;case ParameterMode.List:t.resetToDefaultValueForList(i)}});f.attr({disabled:"disabled"});f.css({cursor:"default",opacity:.35,"pointer-events":"none"});u=this.designer.element.find(".bbi-dbrd-param-input-invalid");u.removeClass("bbi-dbrd-param-input-invalid");BoldBIDashboard.isNullOrUndefined(i)||this.getTextForDataColumnParam(i)},n.prototype.updateDateModel=function(n,t){var i=t.find(".e-dashboarddatepicker").data("BoldBIDashboardDashboardDatePicker"),s=i.model.datePickerType==="single",u=s?null:BoldBIDashboard.isNullOrUndefined(i.selectedStartDate)?i.startDate:i.selectedStartDate.date,f=s?null:BoldBIDashboard.isNullOrUndefined(i.selectedEndDate)?i.endDate:i.selectedEndDate.date,e=!BoldBIDashboard.isNullOrUndefined(i.model.value.range),h=!BoldBIDashboard.isNullOrUndefined(n.LiteralModeInfo.RelativeDateItems),r=!1,o;return BoldBIDashboard.isNullOrUndefined(n.LiteralModeInfo.RangeStartDate)||BoldBIDashboard.isNullOrUndefined(n.LiteralModeInfo.RangeEndDate)||h?h?(r=!e&&n.LiteralModeInfo.SelectedRelativeDate!==i.model.value.range||e&&!BoldBIDashboard.isNullOrUndefined(n.LiteralModeInfo.SelectedRelativeDate),n.LiteralModeInfo.SelectedRelativeDate=i.model.value.range,n.LiteralModeInfo.IsCustomDateRange=BoldBIDashboard.isNullOrUndefined(i.model.value.range),n.LiteralModeInfo.RangeStartDate=n.LiteralModeInfo.IsCustomDateRange?i.model.value.start:null,n.LiteralModeInfo.RangeEndDate=n.LiteralModeInfo.IsCustomDateRange?i.model.value.end:null,e?(r=n.LiteralModeInfo.RangeStartDate!==BoldBIDashboard.format(u,this.dateFormat)||n.LiteralModeInfo.RangeEndDate!==BoldBIDashboard.format(f,this.dateFormat)||r,n.LiteralModeInfo.RangeStartDate=BoldBIDashboard.format(u,this.dateFormat),n.LiteralModeInfo.RangeEndDate=BoldBIDashboard.format(f,this.dateFormat),o=n.LiteralModeInfo.RelativeDateItems.filter(function(t){return t.DisplayText===n.LiteralModeInfo.SelectedRelativeDate}),n.LiteralModeInfo.IsCustomDateRange=o.length>0?o[0].IsCustomRange:!0):r=!0):BoldBIDashboard.isNullOrUndefined(i.selectedDate)||(r=n.LiteralModeInfo.RangeStartDate!==BoldBIDashboard.format(i.selectedDate.date,this.dateFormat),n.LiteralModeInfo.RangeStartDate=BoldBIDashboard.format(i.selectedDate.date,this.dateFormat)):(r=n.LiteralModeInfo.RangeStartDate!==BoldBIDashboard.format(u,this.dateFormat)||n.LiteralModeInfo.RangeEndDate!==BoldBIDashboard.format(f,this.dateFormat),n.LiteralModeInfo.RangeStartDate=BoldBIDashboard.format(u,this.dateFormat),n.LiteralModeInfo.RangeEndDate=BoldBIDashboard.format(f,this.dateFormat)),r},n.prototype.updateLiteralModel=function(n,t,i){var r=!1,h,u,f,e,o,s;switch(n.DataType){case DynamicParameterDataType.Boolean:h=t.find("#"+i+"_"+n.ParameterID+"_true_rdo_input");u=h.prop("checked")?"True":"False";r=n.LiteralModeInfo.StartValue!==u;n.LiteralModeInfo.StartValue=u;break;case DynamicParameterDataType.String:f=t.find("input")[0];r=n.LiteralModeInfo.StartValue!==f.value;n.LiteralModeInfo.StartValue=f.value;break;case DynamicParameterDataType.Number:n.LiteralModeInfo.SelectionType===SelectionType.Single?(e=t.find("input")[0],r=n.LiteralModeInfo.StartValue!==e.value,n.LiteralModeInfo.StartValue=e.value):(o=t.find("input")[0],s=t.find("input")[1],r=n.LiteralModeInfo.StartValue!==o.value||n.LiteralModeInfo.EndValue!==s.value,n.LiteralModeInfo.StartValue=o.value,n.LiteralModeInfo.EndValue=s.value);break;case DynamicParameterDataType.Date:r=this.updateDateModel(n,t,i)}this.hasChanges=r?r:this.hasChanges},n.prototype.updateListModel=function(n){var i=n.ParameterID+"_element",e=new BoldBIDashboard.Dashboard.ListMultiSelectionComboBox(this.designer),t=e.getMultiSelectionComboBox(i).parent().data("MultiSelectionComboBox").getPopupContainerInformation(i),r=BoldBIDashboard.isNullOrUndefined(n.ListModeInfo.DataColumn),u=r?BoldBIDashboard.isNullOrUndefined(t.filterValues)?n.ListModeInfo.ValueCollection:n.ListModeInfo.ValueCollection.filter(function(n){return t.filterValues.indexOf(n)>-1}):t.filterValues,f;this.hasChanges||(f=r?!BoldBIDashboard.isNullOrUndefined(n.ListModeInfo.SelectedValueCollection)&&n.ListModeInfo.SelectedValueCollection.length>0?n.ListModeInfo.ValueCollection.filter(function(t){return n.ListModeInfo.SelectedValueCollection.indexOf(t)<0}):[]:n.ListModeInfo.SelectedValueCollection,this.hasChanges=u===f&&n.ListModeInfo.IsInclude===t.isInclude?!1:!0);n.ListModeInfo.HasCheckedState=t.hasCheckedValue;n.ListModeInfo.SelectedValueCollection=u;n.ListModeInfo.IsInclude=t.isInclude},n.prototype.applyDashboardParameter=function(){var n=this,t=this.id+"_dashboardparameter_container",i=this.bbdesigner$.extend(!0,[],this.paramCollection);i.forEach(function(){var i=n.bbdesigner$.extend(!0,[],n.currentValueCollection);BoldBIDashboard.isNullOrUndefined(i)||i.forEach(function(i){var r=n.designer.element.find("#"+t+"_"+i.ParameterID+"_panel");if(r.length>0)switch(i.Mode){case ParameterMode.Literal:n.updateLiteralModel(i,r,t);break;case ParameterMode.List:n.updateListModel(i)}});n.currentValueCollection=n.bbdesigner$.extend(!0,[],i)})},n.prototype.convertToBooleanInfo=function(n){return{name:n.ParameterID,parameterName:n.ParameterName,parameterID:n.ParameterID,description:n.Description,type:"radiobutton",dataSource:["True","False"],startValue:n.LiteralModeInfo.StartValue,changeEvent:"changeCurrentValue",mode:BoldBIDashboard.DashboardDesignerUtility.Serialization.enumToString(ParameterMode,ParameterMode.Literal).toLowerCase(),dataType:BoldBIDashboard.DashboardDesignerUtility.Serialization.enumToString(DynamicParameterDataType,DynamicParameterDataType.Boolean).toLowerCase(),isVisible:!0,dataSetId:n.DatasourceId,dataSetName:n.DatasourceName}},n.prototype.convertToSingleSelectionTypeInfo=function(n){return{name:"current value",parameterName:n.ParameterName,parameterID:n.ParameterID,description:n.Description,type:"input",selectionType:BoldBIDashboard.DashboardDesignerUtility.Serialization.enumToString(SelectionType,n.LiteralModeInfo.SelectionType).toLowerCase(),startValue:n.LiteralModeInfo.StartValue,changeEvent:"changeCurrentValue",mode:BoldBIDashboard.DashboardDesignerUtility.Serialization.enumToString(ParameterMode,ParameterMode.Literal).toLowerCase(),dataType:BoldBIDashboard.DashboardDesignerUtility.Serialization.enumToString(DynamicParameterDataType,n.DataType).toLowerCase(),isVisible:!0,dataSetName:n.DatasourceName,dataSetId:n.DatasourceId}},n.prototype.convertToRangeSelectionTypeInfo=function(n){return{name:"current value",parameterName:n.ParameterName,parameterID:n.ParameterID,description:n.Description,type:"input",selectionType:BoldBIDashboard.DashboardDesignerUtility.Serialization.enumToString(SelectionType,SelectionType.Range).toLowerCase(),startValue:n.LiteralModeInfo.StartValue,endValue:n.LiteralModeInfo.EndValue,changeEvent:"changeCurrentValue",mode:BoldBIDashboard.DashboardDesignerUtility.Serialization.enumToString(ParameterMode,ParameterMode.Literal).toLowerCase(),dataType:BoldBIDashboard.DashboardDesignerUtility.Serialization.enumToString(DynamicParameterDataType,n.DataType).toLowerCase(),isVisible:!0,dataSetId:n.DatasourceId,dataSetName:n.DatasourceName}},n.prototype.convertToDateInfo=function(n){return{name:"current value",parameterName:n.ParameterName,parameterID:n.ParameterID,description:n.Description,type:"datepicker",selectionType:BoldBIDashboard.DashboardDesignerUtility.Serialization.enumToString(SelectionType,SelectionType.Single).toLowerCase(),startValue:n.LiteralModeInfo.RangeStartDate,changeEvent:"changeCurrentValue",mode:BoldBIDashboard.DashboardDesignerUtility.Serialization.enumToString(ParameterMode,ParameterMode.Literal).toLowerCase(),dataType:BoldBIDashboard.DashboardDesignerUtility.Serialization.enumToString(DynamicParameterDataType,DynamicParameterDataType.Date).toLowerCase(),isVisible:!0,isCustomDateRange:n.LiteralModeInfo.IsCustomDateRange,dataSetName:n.DatasourceName,dataSetId:n.DatasourceId,dateFormat:n.DateFormat}},n.prototype.convertToDateRangeInfo=function(n){return n.LiteralModeInfo.IsCustomDateRange?{name:"current value",parameterName:n.ParameterName,parameterID:n.ParameterID,description:n.Description,type:"datepicker",selectionType:BoldBIDashboard.DashboardDesignerUtility.Serialization.enumToString(SelectionType,SelectionType.Single).toLowerCase(),defaultType:"range",startValue:BoldBIDashboard.format(new Date(n.LiteralModeInfo.RangeStartDate),this.dateFormat),endValue:BoldBIDashboard.format(new Date(n.LiteralModeInfo.RangeEndDate),this.dateFormat),changeEvent:"changeCurrentValue",isVisible:!0,mode:BoldBIDashboard.DashboardDesignerUtility.Serialization.enumToString(ParameterMode,ParameterMode.Literal).toLowerCase(),dataType:BoldBIDashboard.DashboardDesignerUtility.Serialization.enumToString(DynamicParameterDataType,DynamicParameterDataType.Date).toLowerCase(),isCustomDateRange:n.LiteralModeInfo.IsCustomDateRange&&BoldBIDashboard.isNullOrUndefined(n.LiteralModeInfo.SelectedRelativeDate),selectedRelativeDate:n.LiteralModeInfo.SelectedRelativeDate,relativeDateCollection:BoldBIDashboard.isNullOrUndefined(n.LiteralModeInfo.RelativeDateItems)?null:this.getRelativeDateCollection(n.LiteralModeInfo.RelativeDateItems),dataSetId:n.DatasourceId,dataSetName:n.DatasourceName,dateFormat:n.DateFormat}:this.convertToRelativeDateInfo(n)},n.prototype.convertToRelativeDateInfo=function(n){var t,i;return BoldBIDashboard.isNullOrUndefined(n.LiteralModeInfo.RelativeDateItems)?null:(t=n.LiteralModeInfo.RelativeDateItems.filter(function(t){return t.DisplayText===n.LiteralModeInfo.SelectedRelativeDate&&!t.IsCustomRange})[0],BoldBIDashboard.isNullOrUndefined(t)||(i=new BoldBIDashboard.Dashboard.BoldBIDashboardDynamicParameterConfiguration,i.getDateRangeValue(n,n.DatasourceId,this.designer.model.serviceUrl,this.designer.model.mode,this.designer)),{name:"current value",parameterName:n.ParameterName,parameterID:n.ParameterID,description:n.Description,type:"datepicker",selectionType:BoldBIDashboard.DashboardDesignerUtility.Serialization.enumToString(SelectionType,SelectionType.Single).toLowerCase(),defaultType:"range",startValue:n.LiteralModeInfo.RangeStartDate,endValue:n.LiteralModeInfo.RangeEndDate,changeEvent:"changeCurrentValue",isVisible:!0,mode:BoldBIDashboard.DashboardDesignerUtility.Serialization.enumToString(ParameterMode,ParameterMode.Literal).toLowerCase(),dataType:BoldBIDashboard.DashboardDesignerUtility.Serialization.enumToString(DynamicParameterDataType,DynamicParameterDataType.Date).toLowerCase(),isCustomDateRange:n.LiteralModeInfo.IsCustomDateRange,selectedRelativeDate:n.LiteralModeInfo.SelectedRelativeDate,relativeDateCollection:this.getRelativeDateCollection(n.LiteralModeInfo.RelativeDateItems),dataSetId:n.DatasourceId,dataSetName:n.DatasourceName,dateFormat:n.DateFormat})},n.prototype.getRelativeDateCollection=function(n){var t=this,i={};return n.forEach(function(n){i[n.DisplayText]=n.IsCustomRange?[BoldBIDashboard.format(new Date(n.Filter.StartDate),t.dateFormat),BoldBIDashboard.format(new Date(n.Filter.EndDate),t.dateFormat)]:[BoldBIDashboard.format(new Date("1900/01/01"),t.dateFormat),BoldBIDashboard.format(new Date("2050/12/31"),t.dateFormat)]}),i},n.prototype.convertToLiteralInfo=function(n){switch(n.DataType){case DynamicParameterDataType.Boolean:return this.convertToBooleanInfo(n);case DynamicParameterDataType.String:return this.convertToSingleSelectionTypeInfo(n);case DynamicParameterDataType.Number:return n.LiteralModeInfo.SelectionType===SelectionType.Single?this.convertToSingleSelectionTypeInfo(n):this.convertToRangeSelectionTypeInfo(n);case DynamicParameterDataType.Date:return n.LiteralModeInfo.SelectionType===SelectionType.Single?this.convertToDateInfo(n):this.convertToDateRangeInfo(n)}},n.prototype.convertToListInfo=function(n){return{name:"selection type",parameterName:n.ParameterName,parameterID:n.ParameterID,description:n.Description,type:"multiselectioncombobox",value:n.ListModeInfo.SelectedValueCollection,dataSource:n.ListModeInfo.ValueCollection,changeEvent:"changeDataType",mode:BoldBIDashboard.DashboardDesignerUtility.Serialization.enumToString(ParameterMode,ParameterMode.List).toLowerCase(),dataType:BoldBIDashboard.DashboardDesignerUtility.Serialization.enumToString(DynamicParameterDataType,n.DataType).toLowerCase(),isVisible:!0,isFirstValue:n.ListModeInfo.IsFirstValue,isManualData:BoldBIDashboard.isNullOrUndefined(n.ListModeInfo.DataColumn),isInclude:n.ListModeInfo.IsInclude,hasCheckedState:n.ListModeInfo.HasCheckedState,dataColumnInfo:n.ListModeInfo.DataColumn,dataSetId:n.DatasourceId,dataSetName:n.DatasourceName,dateFormat:n.DateFormat}},n.prototype.populateParameterCollection=function(){BoldBIDashboard.isNullOrUndefined(this.currentValueCollection)||this.currentValueCollection.length===0?this.designer.modules.util.doAjaxPost("POST",this.designer.model.serviceUrl+BoldBIDashboard.Dashboard.ServiceAPI.processdata,{action:BoldBIDashboard.DashboardUtil.DesignerAction.ParameterAction,data:JSON.stringify({className:BoldBIDashboard.DashboardUtil.DesignerAction.DataDesignViewAction,designerAction:BoldBIDashboard.DashboardUtil.DesignerAction.ParameterAction,FetchDynamicParams:!0})},{fnction:this.bbdesigner$.proxy(this.paramCollectionSuccess,this,!0),indicator:[this.bbdesigner$.proxy(this.showViewerIndicator,this),this.bbdesigner$.proxy(this.hideViewerIndicator,this)]}):this.paramCollectionSuccess(!1,this.currentValueCollection)},n.prototype.paramCollectionSuccess=function(n,t){var f=this,r=[],u=n?JSON.parse(t.jsonData):t,o=this.bbdesigner$("#"+this.id+"dashboardparameters"),i=[];this.paramCollection=this.bbdesigner$.extend(!0,[],o.data("DashboardParameter"));n?(u.forEach(function(n){n.ShowInViewer&&i.push(n)}),o.data("DashboardParameter",u),this.paramCollection=u):i=u;i.forEach(function(n){var u=f.validateParameter(r,n),t,i;switch(n.Mode){case ParameterMode.Literal:t=f.convertToLiteralInfo(n);t.parameterName=u;r.push(t);break;case ParameterMode.List:i=f.convertToListInfo(n);i.parameterName=u;r.push(i)}});i.length>0&&(this.currentValueCollection=i);var s={serviceUrl:this.designer.model.serviceUrl+BoldBIDashboard.Dashboard.ServiceAPI.processdata,mode:BoldBIDashboard.Designer.mode.designpreview,elementCollection:r,dashboardDesignerInstance:this.designer,renderingMode:this.designer.model.mode===BoldBIDashboard.Designer.mode.designpreview||this.designer.model.mode===BoldBIDashboard.Designer.mode.view},h=new BoldBIDashboard.Dashboard.BoldBIDashboardDynamicParameterConfiguration(this.designer.element.find("#"+this.id+"_dashboardparameter_container"),s),e=this.paramDialog.element.find(".bbi-dashboard-parameter-dlg-container");e.addClass("bbi-dbrd-control bbi-dbrd-designer-scroll-style-3");e.BoldBIDashboardScroller({scrollerSize:this.designer.scrollerSize.scrollSize,height:e.height(),enableTouchScroll:!0,autoHide:!0,buttonSize:this.designer.scrollerSize.buttonSize});this.disableViewerElement(this.designer.element.find(".bbi-dbrd-parameter-viewer-dialog .bbi-dbrd-parameter-reset"),ParameterViewerAction.Reset);this.getTextForDataColumnParam(i)},n.prototype.getTextForDataColumnParam=function(n){var t=[];n.forEach(function(n){!BoldBIDashboard.isNullOrUndefined(n.ListModeInfo)&&!BoldBIDashboard.isNullOrUndefined(n.ListModeInfo.DataColumn)&&n.ListModeInfo.HasCheckedState&&n.ListModeInfo.SelectedValueCollection.length>0&&t.push(n)});t.length>0&&this.fetchDisplayText(t)},n.prototype.fetchDisplayText=function(n){var t=this.bbdesigner$("#"+this.id+"_dashboardparameter_dialog_wrapper"),i=BoldBIDashboard.getGuid(this.id+"DisplayText");n.forEach(function(n){var i=t.find("#"+n.ParameterID+"_element_multi_select_dropDown_text");i.text("")});t.data("displayTextRequestId",i);this.designer.modules.util.doAjaxPost("POST",this.designer.model.serviceUrl+BoldBIDashboard.Dashboard.ServiceAPI.processdata,{action:BoldBIDashboard.DashboardUtil.DesignerAction.GetDataColumnDisplayText,data:JSON.stringify({className:BoldBIDashboard.DashboardUtil.DesignerAction.ParameterAction,designerAction:BoldBIDashboard.DashboardUtil.DesignerAction.GetDataColumnDisplayText,paramData:JSON.stringify(n),requestId:i})},{fnction:this.bbdesigner$.proxy(this.updateDisplayText,this),indicator:[this.bbdesigner$.proxy(this.showViewerIndicator,this),this.bbdesigner$.proxy(this.hideViewerIndicator,this)]})},n.prototype.updateDisplayText=function(n){var t=this.bbdesigner$("#"+this.id+"_dashboardparameter_dialog_wrapper");!BoldBIDashboard.isNullOrUndefined(n)&&n.length>0&&n[0].requestId===t.data("displayTextRequestId")?n.forEach(function(n){var i=t.find("#"+n.paramId+"_element_multi_select_dropDown_text");i.text(n.displayText)}):this.showViewerIndicator()},n.prototype.validateParameter=function(n,t){if(!BoldBIDashboard.isNullOrUndefined(t)){var i=n.filter(function(n){return n.parameterName===t.ParameterName});return!BoldBIDashboard.isNullOrUndefined(i)&&i.length>0?t.ParameterName+" ("+t.DatasourceName+")":t.ParameterName}return null},n.prototype.resetAndApplyIconforValueChangeForLiteralMode=function(n,t,i,r,u){var f,e,o;if(r===void 0&&(r=!1),u===void 0&&(u=!1),f=n.ParameterID,t.ParameterID===f&&t.DataType!==DynamicParameterDataType.Date)if(e=t.LiteralModeInfo.StartValue,o=t.LiteralModeInfo.EndValue,BoldBIDashboard.isNullOrUndefined(e)||BoldBIDashboard.isNullOrUndefined(o))this.resetCollection[f]=e===i?!0:!1;else{var a=this.id+"_dashboardparameter_container",c=this.designer.element.find("#"+a+"_"+f+"_panel"),v=c.find("input")[0],y=c.find("input")[1];r?this.resetCollection[f]=e===i&&y.value===o?!0:!1:u&&(this.resetCollection[f]=o===i&&v.value===e?!0:!1)}else if(t.ParameterID===f&&t.DataType===DynamicParameterDataType.Date){var s=t.LiteralModeInfo.RangeStartDate,h=BoldBIDashboard.isNullOrUndefined(t.LiteralModeInfo.RangeEndDate)?null:t.LiteralModeInfo.RangeEndDate,l=!BoldBIDashboard.isNullOrUndefined(t.LiteralModeInfo.RelativeDateItems);this.resetCollection[f]=BoldBIDashboard.isNullOrUndefined(s)||BoldBIDashboard.isNullOrUndefined(h)||l?l?BoldBIDashboard.isNullOrUndefined(i.range)?s===i.start&&h===i.end?!0:!1:t.LiteralModeInfo.SelectedRelativeDate===i.range?!0:!1:s===i?!0:!1:s===i.start&&h===i.end?!0:!1}},n.prototype.resetAndApplyIconforValueChangeForListMode=function(n,t,i){var r=BoldBIDashboard.isNullOrUndefined(i.filterValues)||i.filterValues.length===0?[]:i.filterValues,u={SelectedValueCollection:r,ValueCollection:n.ListModeInfo.ValueCollection,IsInclude:i.isInclude,Type:n.ListModeInfo.Type,ReturnType:n.ListModeInfo.ReturnType,DataColumn:n.ListModeInfo.DataColumn,HasCheckedState:i.hasCheckedValue,IsFirstValue:n.ListModeInfo.IsFirstValue};this.resetCollection[n.ParameterID]=this.isSameValueExist(u,t)?!0:!1},n.prototype.resetAndApplyIconforValueChange=function(n,t,i,r){var o,e,f,u;if(i===void 0&&(i=!1),r===void 0&&(r=!1),o=this.designer.element.find(".bbi-dbrd-param-input-invalid").length===0?!0:!1,e=this.bbdesigner$.extend(!0,[],this.currentValueCollection),!BoldBIDashboard.isNullOrUndefined(n)&&!BoldBIDashboard.isNullOrUndefined(t)&&o){if(f=this.paramCollection.filter(function(n){return n.ParameterID===t})[0],u=BoldBIDashboard.isNullOrUndefined(e)?null:e.filter(function(n){return n.ParameterID===t})[0],!BoldBIDashboard.isNullOrUndefined(u)&&!BoldBIDashboard.isNullOrUndefined(f))switch(u.Mode){case ParameterMode.Literal:this.resetAndApplyIconforValueChangeForLiteralMode(u,f,n,i,r);break;case ParameterMode.List:this.resetAndApplyIconforValueChangeForListMode(u,f,n)}this.disableViewerElement(this.designer.element.find(".bbi-dbrd-parameter-viewer-dialog .bbi-dbrd-parameter-reset"),ParameterViewerAction.Reset)}},n.prototype.disableViewerElement=function(n,t){var r=this,i;t===ParameterViewerAction.Reset&&(i=Object.keys(this.resetCollection),i.filter(function(n){return r.resetCollection[n]===!1}).length>0?(n.removeAttr("disabled"),n.css({cursor:"pointer",opacity:1,"pointer-events":"auto"})):(n.attr({disabled:"disabled"}),n.css({cursor:"default",opacity:.35,"pointer-events":"none"})))},n.prototype.isSameValueExist=function(n,t){if(!BoldBIDashboard.isNullOrUndefined(n)&&!BoldBIDashboard.isNullOrUndefined(t)){var r=!1,i=t.ListModeInfo;return r=n.SelectedValueCollection.length===i.SelectedValueCollection.length&&n.ValueCollection.length===i.ValueCollection.length?this.checkSameValueCollection(n.SelectedValueCollection,i.SelectedValueCollection)&&this.checkSameValueCollection(n.ValueCollection,i.ValueCollection):!1,r=r&&i.IsInclude===n.IsInclude?!0:!1,BoldBIDashboard.isNullOrUndefined(i.DataColumn)||(r=r&&n.HasCheckedState===i.HasCheckedState?!0:!1),r}},n.prototype.checkSameValueCollection=function(n,t){var i=!1,r;if(n.length===0&&t.length===0)i=!0;else for(r=0;r<n.length;r++)if(t.indexOf(n[r])!==-1)i=!0;else{i=!1;break}return i},n.prototype.removeParameterCollection=function(){var n=this.designer.modules.dynamicParameterPanel;n.dashboardParameterCollection=[];n.resetCollection={};n.paramCollection=[];n.currentValueCollection=[]},n.prototype.showViewerIndicator=function(){this.designer.element.find("#"+this.id+"_dashboardparameter_dialog").data("BoldBIDashboardWaitingPopup").show()},n.prototype.hideViewerIndicator=function(){var n=this.designer.element.find("#"+this.id+"_dashboardparameter_dialog").data("BoldBIDashboardWaitingPopup");BoldBIDashboard.isNullOrUndefined(n)||n.hide()},n.prototype.openDashboardParameter=function(){this.renderDashboardParameterDesignerDialog();this.openParameterDialog()},n.prototype.renderDashboardParameterDesignerDialog=function(){var t=BoldBIDashboard.buildTag("div.bbi-userselect","",{},{id:this.id+"_dashboard_parameter_dialog"}),i=BoldBIDashboard.buildTag("div.bbi-parameter-waitingpopup","",{},{id:this.id+"_dashboard_parameter_div"}),r,u,f,n,o;t.append(i);r=BoldBIDashboard.buildTag("table.bbi-dashboard-parameter-table","",{},{unselectable:"on"});u=BoldBIDashboard.buildTag("tr","",{});this.parameterListContainer=BoldBIDashboard.buildTag("td.bbi-dashboard-parameter-list-container","",{"font-size":"13px"},{});f=BoldBIDashboard.buildTag("td.bbi-add-dbrd-parameter-container","",{},{id:this.id+"_"+this.parameterPanel});i.append(r);r.append(u);u.append(this.parameterListContainer).append(f);n=BoldBIDashboard.buildTag("div.bbi-dbrd-param-inner-list-container","",{width:"265px","margin-bottom":"2px"});o=BoldBIDashboard.buildTag("div","",{},{id:this.id+"_designer_container_main_container"});this.parameterListContainer.append(n);f.append(o);var s=BoldBIDashboard.buildTag("div.bbi-querydesigner-success-msg-wrap","",{display:"none"},{id:this.id+"_param_success_message_wrap"}),l=BoldBIDashboard.buildTag("span.bbi-querydesigner-success-message",this.locale.dashboardParameterDialog.saveParameterMessage,{width:"300px","text-align":"left"},{id:this.id+"_param_success_message"}),a=BoldBIDashboard.buildTag("span.bbi-querydesigner-success-message-icon","",{},{id:this.id+"_param_success_message_icon"}),v=BoldBIDashboard.buildTag("button.bbi-dbrd-btn-small bbi-dbrd-btn-primary bbi-dbrd-margin-left e-dbrd-designer-save-param-btn e-dbrd-save-action",this.locale.dialogOptions.saveButtonText,{float:"right"},{id:this.id+"_dashboard_param_save_btn",type:"button"}),y=BoldBIDashboard.buildTag("button.bbi-dbrd-btn-small bbi-dbrd-btn-secondary bbi-dbrd-margin-left e-dbrd-designer-param-close-btn",this.locale.dialogOptions.closeButtonText,{float:"right"},{id:this.id+"_dashboard_param_close_btn",type:"button"}),e=this.paramBodyContainer=BoldBIDashboard.buildTag("div.e-lv e-js e-parentlv e-designer-dashboard-parameter bbi-dbrd-designer-scroller bbi-dbrd-control bbi-dbrd-designer-scroll-style-3","",{width:"100%",display:"block",position:"relative"},{id:this.id+"_query_param_bodyContainer"}),h=BoldBIDashboard.buildTag("div","",{},{}),c=BoldBIDashboard.buildTag("div.bbi-list-container e-js e-widget bbi-designer-dataset","",{"border-top-width":"1px",padding:"3px"},{id:this.id+"_div_query_param_List"}),p=BoldBIDashboard.buildTag("ul.e-list-hdr e-clearall","",{width:"auto",height:"auto"},{id:this.id+"_query_param_li_container"}),w=BoldBIDashboard.buildTag("button.bbi-dbrd-btn-small bbi-dbrd-btn-primary bbi-dbrd-add-param-btn",this.locale.dialogOptions.addButtonText,{},{id:this.id+"_add_parameter_btn",type:"button"});c.append(p);h.append(c);e.append(h);n.append(e);t.BoldBIDashboardDialog({width:"auto",height:"auto",minWidth:"875px",title:this.locale.dashboardParameterDialog.titleText,beforeClose:this.bbdesigner$.proxy(this.validateCloseParameterDialog,this),enableResize:!1,showOnInit:!1,showFooter:!0,containment:"#"+this.id,target:"#"+this.id,cssClass:"bbi-dbrd-parameter-dialog boldbi-dashboarddesigner bbi-designer-dialog",enableModal:!0,close:this.bbdesigner$.proxy(BoldBIDashboard.DashboardUtil.closeDialog,this),open:this.bbdesigner$.proxy(this.dialogOpen,this),closeIconTooltip:this.locale.dialogOptions.closeButtonText});this.paramDialog=t.data("BoldBIDashboardDialog");s.append(a,l);this.designer.element.find("#"+this.id+"_dashboard_parameter_dialog_foot").append(w,y,v,s);e.BoldBIDashboardScroller({scrollerSize:this.designer.scrollerSize.scrollSize,enableTouchScroll:!0,autoHide:!0,height:n.height(),buttonSize:this.designer.scrollerSize.buttonSize}).data("BoldBIDashboardScroller");i.BoldBIDashboardWaitingPopup({showOnInit:!1,cssClass:"e-designer-waitingpopup "+this.id+"_designer_waiting_popup bbi-designer-loader"})},n.prototype.dialogOpen=function(){this.designer.element.find("#"+this.id+"_"+this.parameterPanel+"_name_input").focus()},n.prototype.saveParameterInfo=function(n){var e=this.bbdesigner$(n.currentTarget),t=this.paramConfigInstance.getCurrentParameterInfo(),i,r,u,f;t.DataType===DynamicParameterDataType.Date?this.validateDateFormat(t):(i=this.designer.element.find("#"+this.paramConfigInstance._id+"_dashboard_parameter_Div").data("BoldBIDashboardWaitingPopup").model.showOnInit,r=i?!0:this.paramConfigInstance.checkForError(!1),r||(t.Mode===ParameterMode.Literal&&t.DataType===DynamicParameterDataType.String&&(t.LiteralModeInfo.StartValue=JSON.stringify(t.LiteralModeInfo.StartValue)),e.hasClass("e-dbrd-save-action")?this.saveParameter(t):(u=this.designer.element.find(".bbi-dbrd-selected-parameter").attr("data-param-id"),f=this.paramConfigInstance.hasParamChanges(this.queryDesigner.queryParamCollection,u),f.status&&this.updateParameter(t))))},n.prototype.openParameterDialog=function(){var t={serviceUrl:this.designer.model.serviceUrl+BoldBIDashboard.Dashboard.ServiceAPI.processdata,renderingMode:!1,dashboardDesignerInstance:this.designer},n=this.designer.element.find("#"+this.id+"_"+this.parameterPanel),i=new BoldBIDashboard.Dashboard.BoldBIDashboardDynamicParameterConfiguration(n,t);this.paramConfigInstance=n.data("BoldBIDashboardDynamicParameterConfiguration");this.queryDesigner=this.designer.modules.queryDesigner;this.killPendingRequest();this.ajaxRequestCollections.push(this.designer.modules.util.doAjaxPost("POST",this.queryDesigner.model.serviceUrl+BoldBIDashboard.Dashboard.ServiceAPI.processdata,{action:BoldBIDashboard.DashboardUtil.DesignerAction.ParameterAction,data:JSON.stringify({className:BoldBIDashboard.DashboardUtil.DesignerAction.DataDesignViewAction,designerAction:BoldBIDashboard.DashboardUtil.DesignerAction.ParameterAction,dataSetId:this.queryDesigner.dataset.Id,isQueryDesignerMode:this.designer.isQueryDesignerMode})},{fnction:this.bbdesigner$.proxy(this.onParamSuccess,this),indicator:[this.bbdesigner$.proxy(this.queryDesigner.showDesignerDivIndicator,this),this.bbdesigner$.proxy(this.queryDesigner.hideDesignerDivIndicator,this)]}))},n.prototype.killPendingRequest=function(){if(this.ajaxRequestCollections.length>0)for(var n=0;n<this.ajaxRequestCollections.length;n++)this.ajaxRequestCollections[n].readyState<=4&&this.ajaxRequestCollections[n].abort();this.ajaxRequestCollections=[]},n.prototype.saveParameter=function(n,t){t===void 0&&(t=null);this.designer.modules.util.doAjaxPost("POST",this.queryDesigner.model.serviceUrl+BoldBIDashboard.Dashboard.ServiceAPI.processdata,{action:BoldBIDashboard.DashboardUtil.DesignerAction.SaveParameter,data:JSON.stringify({className:BoldBIDashboard.DashboardUtil.DesignerAction.ParameterAction,designerAction:BoldBIDashboard.DashboardUtil.DesignerAction.SaveParameter,dataSetId:this.queryDesigner.dataset.Id,dynamicParameter:JSON.stringify(n),isQueryDesignerMode:this.designer.isQueryDesignerMode})},{fnction:this.bbdesigner$.proxy(this.onSaveSuccess,this,n,!1,t),indicator:[this.bbdesigner$.proxy(this.showParamIndicator,this),this.bbdesigner$.proxy(this.hideParamIndicator,this)]},!0)},n.prototype.validateDateFormat=function(n,t){t===void 0&&(t=null);this.designer.modules.util.doAjaxPost("POST",this.queryDesigner.model.serviceUrl+BoldBIDashboard.Dashboard.ServiceAPI.processdata,{action:BoldBIDashboard.DashboardUtil.DesignerAction.ValidateDateFormat,data:JSON.stringify({className:BoldBIDashboard.DashboardUtil.DesignerAction.ParameterAction,designerAction:BoldBIDashboard.DashboardUtil.DesignerAction.ValidateDateFormat,dataSetId:this.queryDesigner.dataset.Id,dynamicParameter:JSON.stringify(n),isQueryDesignerMode:this.designer.isQueryDesignerMode,isCheck:!0})},{fnction:this.bbdesigner$.proxy(this.onValidateSuccess,this,t),indicator:[this.bbdesigner$.proxy(this.showParamIndicator,this),this.bbdesigner$.proxy(this.hideParamIndicator,this)]},!0)},n.prototype.onValidateSuccess=function(n,t){var i,r;if(!BoldBIDashboard.isNullOrUndefined(t)){var u=this.designer.element.find("#"+this.id+"_dashboard_param_save_btn"),f=this.designer.element.find("#"+this.paramConfigInstance._id+"_dashboard_parameter_Div").data("BoldBIDashboardWaitingPopup").model.showOnInit,e=f?!0:this.paramConfigInstance.checkForError(t.jsonData);e||(u.hasClass("e-dbrd-save-action")?this.saveParameter(this.paramConfigInstance.getCurrentParameterInfo(),n):(i=this.designer.element.find(".bbi-dbrd-selected-parameter").attr("data-param-id"),r=this.paramConfigInstance.hasParamChanges(this.queryDesigner.queryParamCollection,i),r.status&&this.updateParameter(this.paramConfigInstance.getCurrentParameterInfo(),n)))}},n.prototype.updateParameter=function(n,t){t===void 0&&(t=null);this.designer.modules.util.doAjaxPost("POST",this.queryDesigner.model.serviceUrl+BoldBIDashboard.Dashboard.ServiceAPI.processdata,{action:BoldBIDashboard.DashboardUtil.DesignerAction.UpdateParameter,data:JSON.stringify({className:BoldBIDashboard.DashboardUtil.DesignerAction.ParameterAction,designerAction:BoldBIDashboard.DashboardUtil.DesignerAction.UpdateParameter,dataSetId:this.queryDesigner.dataset.Id,dynamicParameter:JSON.stringify(n),isQueryDesignerMode:this.designer.isQueryDesignerMode,isCheck:!0})},{fnction:this.bbdesigner$.proxy(this.onUpdateSuccess,this,n,t),indicator:[this.bbdesigner$.proxy(this.showParamIndicator,this),this.bbdesigner$.proxy(this.hideParamIndicator,this)]},!0)},n.prototype.onSaveSuccess=function(n,t,i,r){this.designer.element.find(".e-dbrd-designer-save-param-btn").removeClass("e-dbrd-save-action").addClass("e-dbrd-update-action");this.designer.element.find(".e-dbrd-designer-save-param-btn").text(this.locale.dialogOptions.updateButtonText);this.parameterUpdateInfo(n,t,r);this.updateParamSuccessMessage(t);t?this.paramConfigInstance.updateParameterInfo():this.paramConfigInstance.saveParameterInfo();BoldBIDashboard.isNullOrUndefined(i)||(i.isClose?this.destroyDialogOnClose(!1):(this.updateSelection({target:"#"+this.id+"_li_param_"+i.name}),this.parameterItemClick(i.name)))},n.prototype.onUpdateSuccess=function(n,t,i){if(!BoldBIDashboard.isNullOrUndefined(i)&&i.hasParam)this.designer.modules.util.alertDialog(this.locale.alertDialogTitle.updateParameter,this.locale.dataSource.updateParameterText,IconType.warning,AlertType.Confirm,!1,"",{dataInfo:{Param:n,isUpdateDataSource:!0},instance:this,method:"confirmUpdate"});else this.onSaveSuccess(n,!0,t,i)},n.prototype.confirmUpdate=function(n,t){var i=t.Param,r;n?(r=!BoldBIDashboard.isNullOrUndefined(t.isUpdateDataSource)&&t.isUpdateDataSource?!0:!1,this.designer.modules.util.doAjaxPost("POST",this.queryDesigner.model.serviceUrl+BoldBIDashboard.Dashboard.ServiceAPI.processdata,{action:BoldBIDashboard.DashboardUtil.DesignerAction.UpdateParameter,data:JSON.stringify({className:BoldBIDashboard.DashboardUtil.DesignerAction.ParameterAction,designerAction:BoldBIDashboard.DashboardUtil.DesignerAction.UpdateParameter,dataSetId:this.queryDesigner.dataset.Id,dynamicParameter:JSON.stringify(t.Param),isQueryDesignerMode:this.designer.isQueryDesignerMode,isCheck:!1})},{fnction:this.bbdesigner$.proxy(this.updateParamSuccess,this,i,!0,null,r),indicator:[this.bbdesigner$.proxy(this.showParamIndicator,this),this.bbdesigner$.proxy(this.hideParamIndicator,this)]},!0)):this.updateSelectedParameter(i.ParameterID,!1,i.ParameterName)},n.prototype.updateParamSuccess=function(n,t,i,r,u){this.onSaveSuccess(n,t,i,u);this.isUpdateDS=r?!0:this.isUpdateDS;u.isClose&&this.isUpdateDS&&(this.queryDesigner.updateTableFromParam(),this.isUpdateDS=!1)},n.prototype.updateParamSuccessMessage=function(n){var t=this;this.designer.element.find("#"+this.id+"_param_success_message_wrap").css("display","inline-flex");this.designer.element.find("#"+this.id+"_param_success_message").text(n?this.locale.dashboardParameterDialog.updateParameterMessage:this.locale.dashboardParameterDialog.saveParameterMessage);setTimeout(function(){t.designer.element.find("#"+t.id+"_param_success_message_wrap").css("display","none")},3e3)},n.prototype.onParamSuccess=function(n){if(!BoldBIDashboard.isNullOrUndefined(n)){var t=JSON.parse(n.jsonData);this.paramDialog.open();BoldBIDashboard.isNullOrUndefined(t)?this.addNewParameter():t.length>0&&(this.queryDesigner.queryParamCollection=t,this.populateParameterList(),this.updateSelection({target:"#"+this.id+"_li_param_"+BoldBIDashboard.DashboardUtil.escapeSelector(t[0].ParameterName)}),this.designer.element.find("#"+this.id+"_"+this.parameterPanel).data("param-data",{isEdit:!0,data:t}),this.updateSelectedParameter(t[0].ParameterID,!1,t[0].ParameterName));this.parameterScrollerRefresh()}},n.prototype.updateTypeModeWaterMark=function(n,t,i,r){var f=n+", "+t,u=this.designer.element.find("#"+this.id+"_li_param_detail"+BoldBIDashboard.DashboardUtil.escapeSelector(i));u.length>0&&(u.attr("id",this.id+"_li_param_detail"+BoldBIDashboard.DashboardUtil.escapeSelector(r)),u.text()!==f&&u.text(f))},n.prototype.parameterUpdateInfo=function(n,t,i){var u,f,r,e,o,s;BoldBIDashboard.isNullOrUndefined(i)||BoldBIDashboard.isNullOrUndefined(t)||BoldBIDashboard.isNullOrUndefined(n)||(u=BoldBIDashboard.DashboardDesignerUtility.Serialization.enumToString(ParameterMode,n.Mode),f=BoldBIDashboard.DashboardDesignerUtility.Serialization.enumToString(DynamicParameterDataType,n.DataType),this.designer.element.find("#"+this.id+"_li_param_"+BoldBIDashboard.DashboardUtil.escapeSelector(n.ParameterName)).length===0?(r=this.designer.element.find("#"+this.id+"_query_param_bodyContainer").find("[data-param-id="+n.ParameterID+"]"),!BoldBIDashboard.isNullOrUndefined(r)&&r.length>0&&(e=r.attr("name"),this.designer.element.find("#"+this.id+"_li_param_"+BoldBIDashboard.DashboardUtil.escapeSelector(e)+" .e-list-text").text(n.ParameterName),this.updateTypeModeWaterMark(u,f,e,n.ParameterName),r.attr("name",n.ParameterName),r.attr("id",this.id+"_li_param_"+BoldBIDashboard.DashboardUtil.escapeSelector(n.ParameterName)),o=r.find(".e-list-text"),o.attr("name",n.ParameterName),o.attr("data-tooltip",n.ParameterName))):this.updateTypeModeWaterMark(u,f,n.ParameterName,n.ParameterName),t?(this.queryDesigner.queryParamCollection.forEach(function(t){t.ParameterID===n.ParameterID&&(t.ParameterName=n.ParameterName)}),this.queryDesigner.updateQueryDesignerInfo(i)):(n.Mode===ParameterMode.Literal&&n.DataType===DynamicParameterDataType.String&&(n.LiteralModeInfo.StartValue=n.LiteralModeInfo.StartValue.replace(/"/g,"")),this.queryDesigner.queryParamCollection.push(n)),s=this.designer.element.find("#"+this.id+"_query_param_li_container")[0],this.queryDesigner.queryParamCollection.length===s.childElementCount&&this.designer.element.find("#"+this.id+"_add_parameter_btn").removeAttr("disabled"),this.designer.element.find("#"+this.queryDesigner._id+"_name_alert_container").css("display")==="block"&&this.designer.element.find("#"+this.queryDesigner._id+"_name_alert_container").css("display","none"))},n.prototype.createDashboardParameter=function(){this.validateParameterRequest(!0);this.parameterScrollerRefresh()},n.prototype.parameterScrollerRefresh=function(){var t=this.designer.element.find(".e-designer-dashboard-parameter"),n=t.data("BoldBIDashboardScroller");BoldBIDashboard.isNullOrUndefined(n)||n.refresh()},n.prototype.validateCloseParameterDialog=function(n){var f=this.id+"_dashboard_param_close_btn",i,t,r,u;(BoldBIDashboard.isNullOrUndefined(n.currentTarget)||n.currentTarget.id!==f)&&(BoldBIDashboard.isNullOrUndefined(n.isInteraction)||!n.isInteraction)||(i=this.designer.element.find(".bbi-dbrd-selected-parameter").attr("data-param-id"),t=this.paramConfigInstance.hasParamChanges(this.queryDesigner.queryParamCollection,i),n.cancel=!0,r=this.designer.element.find("#"+this.paramConfigInstance._id+"_dashboard_parameter_Div").data("BoldBIDashboardWaitingPopup").model.showOnInit,t.status&&!r?this.designer.modules.util.alertDialog(this.locale.alertDialogTitle.queryParameter,this.locale.dataSource.saveParameter,IconType.warning,AlertType.Confirm,!1,"",{height:140,width:500,method:"updateParamInfo",dataInfo:{isAdd:t.isNew,isClose:!0},instance:this}):(this.destroyEjWaitingPopupElements(this.designer.element),u=new BoldBIDashboard.Dashboard.ListMultiSelectionComboBox(this.designer),u.destroyListMultiSelectionComboBox(),this.destroyDialogOnClose(!1)))},n.prototype.populateParameterList=function(){var t=this.designer.element.find("#"+this.id+"_query_param_li_container"),n,i;if(!BoldBIDashboard.isNullOrUndefined(t)&&t.children().length>0&&t.empty(),!BoldBIDashboard.isNullOrUndefined(this.queryDesigner.queryParamCollection)&&this.queryDesigner.queryParamCollection.length>0)for(n=0;n<this.queryDesigner.queryParamCollection.length;n++)i={id:this.queryDesigner.queryParamCollection[n].ParameterID,name:this.queryDesigner.queryParamCollection[n].ParameterName,mode:BoldBIDashboard.DashboardDesignerUtility.Serialization.enumToString(ParameterMode,this.queryDesigner.queryParamCollection[n].Mode),type:BoldBIDashboard.DashboardDesignerUtility.Serialization.enumToString(DynamicParameterDataType,this.queryDesigner.queryParamCollection[n].DataType)},this.appendParamList(i);this.queryDesigner.scrollerRefresh(this.paramBodyContainer)},n.prototype.validateParameterRequest=function(n,t,i){var e=this.designer.element.find("#"+this.id+"_"+this.parameterPanel).data("param-data"),r,u,f;n===!0?this.addNewParameter():(r=this.paramConfigInstance.hasParamChanges(this.queryDesigner.queryParamCollection,i),u=this.designer.element.find("#"+this.paramConfigInstance._id+"_dashboard_parameter_Div").data("BoldBIDashboardWaitingPopup").model.showOnInit,BoldBIDashboard.isNullOrUndefined(e)||r.status&&!u?this.designer.modules.util.alertDialog(this.locale.alertDialogTitle.queryParameter,this.locale.dataSource.saveParameter,IconType.warning,AlertType.Confirm,!1,"",{height:140,width:500,method:"updateParamInfo",dataInfo:{isAdd:r.isNew,name:t,isClose:!1},instance:this}):(this.updateSelection({target:"#"+this.id+"_li_param_"+BoldBIDashboard.DashboardUtil.escapeSelector(t)}),this.parameterItemClick(t),f=this.designer.element.find("#"+this.id+"_query_param_li_container")[0],(r.isNew&&!r.status||this.queryDesigner.queryParamCollection.length!==f.childElementCount)&&BoldBIDashboard.DashboardUtil.buttonEnable(this.designer.element.find("#"+this.id+"_add_parameter_btn"),!1),this.hidePopUps()))},n.prototype.parameterItemClick=function(n){var t=this.getSelectedParameterId(n),i=BoldBIDashboard.isNullOrUndefined(t)?!0:!1;this.updateSelectedParameter(t,i,n);this.designer.element.find("#"+this.id+"_"+this.parameterPanel+"_name_input").focus()},n.prototype.getSelectedParameterId=function(n){for(var i=null,t=0;t<this.queryDesigner.queryParamCollection.length;t++)if(n===this.queryDesigner.queryParamCollection[t].ParameterName){i=this.queryDesigner.queryParamCollection[t].ParameterID;break}return i},n.prototype.parameterSelection=function(n){var t=this.designer.element.find(n.currentTarget),i;BoldBIDashboard.isNullOrUndefined(t)||(this.showParamIndicator(),this.bbdesigner$(n.target).hasClass("e-chk-image")||BoldBIDashboard.isNullOrUndefined(this.queryDesigner)||(i=BoldBIDashboard.isNullOrUndefined(this.designer.element.find(".bbi-dbrd-selected-parameter").attr("data-param-id"))?this.designer.element.find(t).attr("data-param-id"):this.designer.element.find(".bbi-dbrd-selected-parameter").attr("data-param-id"),this.validateParameterRequest(!1,t.find("#"+this.queryDesigner._id+"_param_name_container").text(),i)),this.parameterScrollerRefresh(),this.hideParamIndicator())},n.prototype.updateSelection=function(n){var t=BoldBIDashboard.isNullOrUndefined(n.elementTarget)?this.designer.element.find(n.target).closest("li"):this.designer.element.find(n.elementTarget),i=this.designer.bbdesigner$;t.parent().children().each(function(){var n=i(this);n.removeClass("bbi-dbrd-selected-parameter")});t.addClass("bbi-dbrd-selected-parameter")},n.prototype.addNewParameter=function(){var n=this.getParamName(),t=this.designer.modules.util.generateGuid(),i={id:t,name:n,mode:"Literal",type:"String"};this.appendParamList(i);this.updateSelection({elementTarget:"#"+this.id+"_li_param_"+BoldBIDashboard.DashboardUtil.escapeSelector(n)});this.updateSelectedParameter(t,!0,n);this.designer.element.find("#"+this.id+"_"+this.parameterPanel).data("param-data",{isEdit:!1,data:null});BoldBIDashboard.DashboardUtil.buttonEnable(this.designer.element.find("#"+this.id+"_add_parameter_btn"),!1)},n.prototype.getParamName=function(){for(var n,i,r="Parameter",u=[],t=0;t<this.queryDesigner.queryParamCollection.length;t++)u.push(this.queryDesigner.queryParamCollection[t].ParameterName);n=0;do n++,i=u.indexOf(r+n);while(i!==-1);return r+n},n.prototype.appendParamList=function(n,t){var e,o,u;if(!BoldBIDashboard.isNullOrUndefined(n)){var i=n.name,p=n.id,w=n.mode,b=n.type,f=BoldBIDashboard.DashboardUtil.escapeSelector(i),s=BoldBIDashboard.buildTag("table","",{width:"100%",margin:"5px"},{unselectable:"on"}),h=BoldBIDashboard.buildTag("tr","",{display:"flex",width:"230px"}),c=BoldBIDashboard.buildTag("tr","",{}),l=BoldBIDashboard.buildTag("td.bbi-dashboard-parameter-list-left-container","",{"font-size":"13px",width:"90%"},{}),a=BoldBIDashboard.buildTag("td.bbi-add-dbrd-parameter-right-container","",{width:"12.8px",height:"12.8px","margin-bottom":"10px","margin-right":"10px"},{id:this.id+"_right_1"+this.parameterPanel}),v=BoldBIDashboard.buildTag("td.e-add-dbrd-parameter-left-container_2","",{},{id:this.id+"_left_2"+this.parameterPanel}),r=BoldBIDashboard.buildTag("li.e-user-select e-list e-state-default e-list-check bbi-dbrd-param-list","",{},{id:this.id+"_li_param_"+f,name:i,"data-param-id":p}),y=BoldBIDashboard.buildTag("span.e-list-text e-rel bbi-designer-content bbi-dbrd-designer-hoverable",i,{},{id:this.queryDesigner._id+"_param_name_container","data-tooltip":i,name:i});l.append(y);e=BoldBIDashboard.buildTag("div.e-chk-image e-icon e-cross-circle bbi-dbrd-designer-hoverable e-dbrd-param-list-delete","",{},{id:this.id+"_"+f,"data-tooltip":"Delete"});a.append(e);h.append(l).append(a);o=BoldBIDashboard.buildTag("div.bbi-param-list-mode-watermark",w+", "+b,{"font-size":"10px",color:"#808080","margin-top":"-6px"},{id:this.id+"_li_param_detail"+f});v.append(o);c.append(v);s.append(h).append(c);r.append(s);u=this.designer.element.find("#"+this.id+"_query_param_li_container");BoldBIDashboard.isNullOrUndefined(t)?u.append(r):t===0?(u.prepend(r),r.css({"border-bottom":"0.5px solid #c8c8c8"})):this.designer.element.find("#"+this.id+"_div_query_param_List").find("ul>li:nth-child("+t+")").after(r);this.addTooltip(y,i);this.paramBodyContainer.height()>this.designer.element.find("#"+this.id+"_div_query_param_List").height()?this.paramBodyContainer.find(".e-content").removeClass("e-content"):this.queryDesigner.scrollerRefresh(this.paramBodyContainer)}},n.prototype.updateSelectedParameter=function(n,t,i){this.paramConfigInstance.updateSelectedParameterInfo(this.queryDesigner.queryParamCollection,n,t,i);this.designer.element.find("#"+this.id+"_"+this.parameterPanel).data("param-data",{isEdit:!1,data:t?null:this.queryDesigner.queryParamCollection.filter(function(t){return t.ParameterID===n})[0]})},n.prototype.addTooltip=function(n,t){BoldBIDashboard.DashboardUtil.textWidth(t,"12px Heebo")>=n.width()&&n.attr("data-tooltip",t)},n.prototype.updateParamInfo=function(n,t){var i=!1,r,u;n&&!BoldBIDashboard.isNullOrUndefined(t)&&(i=this.paramConfigInstance.saveParameterOnAlert(t.isAdd));!i&&n?(r=this.paramConfigInstance.getCurrentParameterInfo(),r.DataType===DynamicParameterDataType.Date?this.validateDateFormat(this.paramConfigInstance.getCurrentParameterInfo(),t):(u=this.designer.element.find("#"+this.id+"_dashboard_param_save_btn"),u.hasClass("e-dbrd-save-action")?this.saveParameter(this.paramConfigInstance.saveParameterInfo(),t):this.updateParameter(this.paramConfigInstance.updateParameterInfo(),t))):t.isClose?this.destroyDialogOnClose(i):(this.updateSelection({target:"#"+this.id+"_li_param_"+t.name}),this.parameterItemClick(t.name))},n.prototype.destroyDialogOnClose=function(n){if(!n){this.hidePopUps();this.paramConfigInstance.hideComboBoxLoadingIndicator();this.paramDialog.close();var t=this.designer.element.find("#"+this.id+"_dashboard_parameter_dialog_wrapper");this.destroyEjDropDownElements(t);this.destroyEjDatepickerElements(t);t.remove();this.isUpdateDS&&(this.queryDesigner.updateTableFromParam(),this.isUpdateDS=!1)}},n.prototype.destroyEjDropDownElements=function(n){for(var i=n.find(".bbi-dropdown-element"),t=0;t<i.length;t++)this.designer.destroyEjBodyElements(this.bbdesigner$(i[t]))},n.prototype.destroyEjDatepickerElements=function(n){for(var i=n.find(".bbi-popup-button.e-dashboarddatepicker"),t=0;t<i.length;t++)this.designer.destroyEjBodyElements(this.bbdesigner$(i[t]))},n.prototype.destroyEjWaitingPopupElements=function(n){for(var i=n.find(".bbi-parameter-waitingpopup"),t=0;t<i.length;t++)this.designer.destroyEjBodyElements(this.bbdesigner$(i[t]))},n.prototype.hidePopUps=function(){var n=this.designer.element.find("#"+this.paramConfigInstance._id+"_dashboard_parameter_Div").data("BoldBIDashboardWaitingPopup"),t=this.bbdesigner$("#"+this.paramConfigInstance._id+"_table_dropdown_container_dropdown_list_popup_list_wrapper").find("ul").parent().data("BoldBIDashboardWaitingPopup"),i=this.bbdesigner$("#"+this.paramConfigInstance._id+"_field_dropdown_container_dropdown_list_popup_list_wrapper").find("ul").parent().data("BoldBIDashboardWaitingPopup");BoldBIDashboard.isNullOrUndefined(n)||n.hide();BoldBIDashboard.isNullOrUndefined(t)||this.bbdesigner$("#"+this.paramConfigInstance._id+"_table_dropdown_container_dropdown_list_popup_list_wrapper").find("ul").parent().BoldBIDashboardWaitingPopup("hide");BoldBIDashboard.isNullOrUndefined(i)||this.bbdesigner$("#"+this.paramConfigInstance._id+"_field_dropdown_container_dropdown_list_popup_list_wrapper").find("ul").parent().BoldBIDashboardWaitingPopup("hide")},n.prototype.deleteParameterFromService=function(n,t){t===void 0&&(t=null);BoldBIDashboard.isNullOrUndefined(n)||this.designer.modules.util.doAjaxPost("POST",this.queryDesigner.model.serviceUrl+BoldBIDashboard.Dashboard.ServiceAPI.processdata,{action:BoldBIDashboard.DashboardUtil.DesignerAction.DeleteParameter,data:JSON.stringify({className:BoldBIDashboard.DashboardUtil.DesignerAction.ParameterAction,designerAction:BoldBIDashboard.DashboardUtil.DesignerAction.DeleteParameter,dataSetId:this.queryDesigner.dataset.Id,selectedParamId:n,isCheck:!0,isQueryDesignerMode:this.designer.isQueryDesignerMode})},{fnction:this.bbdesigner$.proxy(this.deleteParameter,this,n),indicator:[this.bbdesigner$.proxy(this.showParamIndicator,this),this.bbdesigner$.proxy(this.hideParamIndicator,this)]},!0)},n.prototype.confirmRemoveParameter=function(n){var t=this.designer.element.find(n.currentTarget).closest("li"),i=t.attr("data-param-id"),r=this.getSelectedParameterId(t.attr("name"));BoldBIDashboard.isNullOrUndefined(r)?this.deleteParamterFromUI(i):this.deleteParameterFromService(i)},n.prototype.updateQueryDesigner=function(n,t){this.queryDesigner.updateQueryDesignerInfo(t);this.deleteParamterFromUI(n);this.isUpdateDS=!0},n.prototype.deleteParamterFromUI=function(n){for(var u,t,i,e,f=this.designer.element.find("#"+this.id+"_query_param_li_container").find("[data-param-id="+n+"]"),r=0;r<this.queryDesigner.queryParamCollection.length;r++)if(this.queryDesigner.queryParamCollection[r].ParameterID===n){this.queryDesigner.queryParamCollection.splice(r,1);break}!BoldBIDashboard.isNullOrUndefined(f)&&f.length>0&&(f.remove(),this.designer.element.find("#"+this.id+"_add_parameter_btn").removeAttr("disabled"),this.queryDesigner.queryParamCollection.length===0?(u=this.designer.element.find("#"+this.id+"_query_param_li_container")[0],this.queryDesigner.queryParamCollection.length===u.childElementCount?this.addNewParameter():(t=this.designer.element.find(u.firstElementChild),t[0].classList.add("bbi-dbrd-selected-parameter"),this.updateSelectedParameter(t.attr("data-param-id"),!0,t.attr("name")))):(i=this.queryDesigner.queryParamCollection.length,this.designer.element.find(".bbi-dbrd-selected-parameter").length>0&&this.bbdesigner$(this.designer.element.find(".bbi-dbrd-selected-parameter")).removeClass("bbi-dbrd-selected-parameter"),e=this.designer.element.find("#"+this.id+"_li_param_"+BoldBIDashboard.DashboardUtil.escapeSelector(this.queryDesigner.queryParamCollection[i-1].ParameterName))[0],this.bbdesigner$(e).addClass("bbi-dbrd-selected-parameter"),this.updateSelectedParameter(this.queryDesigner.queryParamCollection[i-1].ParameterID,!1,this.queryDesigner.queryParamCollection[i-1].ParameterName)))},n.prototype.deleteParameter=function(n,t){!BoldBIDashboard.isNullOrUndefined(t)&&t.hasParam?this.designer.modules.util.alertDialog(this.locale.alertDialogTitle.removeParameter,this.locale.dataSource.removeParameterText,IconType.warning,AlertType.Confirm,!1,"",{dataInfo:{Id:n},instance:this,method:"confirmDelete"}):this.deleteParamterFromUI(n);this.parameterScrollerRefresh()},n.prototype.confirmDelete=function(n,t){n&&this.designer.modules.util.doAjaxPost("POST",this.queryDesigner.model.serviceUrl+BoldBIDashboard.Dashboard.ServiceAPI.processdata,{action:BoldBIDashboard.DashboardUtil.DesignerAction.DeleteParameter,data:JSON.stringify({className:BoldBIDashboard.DashboardUtil.DesignerAction.ParameterAction,designerAction:BoldBIDashboard.DashboardUtil.DesignerAction.DeleteParameter,dataSetId:this.queryDesigner.dataset.Id,selectedParamId:t.Id,isCheck:!1,isQueryDesignerMode:this.designer.isQueryDesignerMode})},{fnction:this.bbdesigner$.proxy(this.updateQueryDesigner,this,t.Id),indicator:[this.bbdesigner$.proxy(this.showParamIndicator,this),this.bbdesigner$.proxy(this.hideParamIndicator,this)]},!0)},n.prototype.showParamIndicator=function(){var n=this.designer.element.find("#"+this.id+"_dashboard_parameter_div").data("BoldBIDashboardWaitingPopup");BoldBIDashboard.isNullOrUndefined(n)||n.show()},n.prototype.hideParamIndicator=function(){var n=this.designer.element.find("#"+this.id+"_dashboard_parameter_div").data("BoldBIDashboardWaitingPopup");BoldBIDashboard.isNullOrUndefined(n)||n.hide()},n.prototype.wireEvents=function(){this.designer.element.on("click",".e-chk-image.e-icon.e-cross-circle.e-dbrd-param-list-delete",this.bbdesigner$.proxy(this.confirmRemoveParameter,this));this.designer.element.on("click",".bbi-dbrd-param-list",this.bbdesigner$.proxy(this.parameterSelection,this));this.designer.element.on("click",".e-dbrd-designer-save-param-btn",this.bbdesigner$.proxy(this.saveParameterInfo,this));this.designer.element.on("click",".bbi-dbrd-add-param-btn",this.bbdesigner$.proxy(this.createDashboardParameter,this));this.designer.element.on("click",".e-dbrd-designer-param-close-btn",this.bbdesigner$.proxy(this.validateCloseParameterDialog,this));this.designer.element.on("click",".bbi-dbrd-parameter-footer-save-button",this.bbdesigner$.proxy(this.applyParametersInViewer,this));this.designer.element.on("click",".e-dbrd-viewer-param-cancel-button",this.bbdesigner$.proxy(this.closeDialog,this));this.designer.element.on("click",".bbi-dbrd-parameter-reset",this.bbdesigner$.proxy(this.resetParameterDialog,this,!0))},n.prototype.unWireEvents=function(){this.designer.element.off("click",".e-chk-image.e-icon.e-cross-circle.e-dbrd-param-list-delete",this.bbdesigner$.proxy(this.confirmRemoveParameter,this));this.designer.element.off("click",".bbi-dbrd-param-list",this.bbdesigner$.proxy(this.parameterSelection,this));this.designer.element.off("click",".e-dbrd-designer-save-param-btn",this.bbdesigner$.proxy(this.saveParameterInfo,this));this.designer.element.off("click",".bbi-dbrd-add-param-btn",this.bbdesigner$.proxy(this.createDashboardParameter,this));this.designer.element.off("click",".e-dbrd-designer-param-close-btn",this.bbdesigner$.proxy(this.validateCloseParameterDialog,this));this.designer.element.off("click",".bbi-dbrd-parameter-footer-save-button",this.bbdesigner$.proxy(this.applyParametersInViewer,this));this.designer.element.off("click",".e-dbrd-viewer-param-cancel-button",this.bbdesigner$.proxy(this.closeDialog,this));this.designer.element.off("click",".bbi-dbrd-parameter-reset",this.bbdesigner$.proxy(this.resetParameterDialog,this,!0))},n.prototype.destroy=function(){this.unWireEvents()},n}();window.BoldBIDashboard.createObject("BoldBIDashboard.DashboardDesignerUtility.DynamicParameter",InternalDynamicParameter,window);ParamInfo=function(){function n(){}return n}(),function(n){n[n.Reset=0]="Reset";n[n.Apply=1]="Apply"}(ParameterViewerAction||(ParameterViewerAction={}));ActionInfo=function(){function n(){}return n}(),function(n){var t;(function(t){var i=function(){function t(n){this.customWidgetsCollection=[];this.customWidgetItems=[];this.dashboardDesigner=n;this.bbdesigner$=this.dashboardDesigner.bbdesigner$}return t.prototype.generateToolTipTemplate=function(t,i,r){var e="",o=this.dashboardDesigner.modules.themeHelper.getTooltipTextColor(),f=this.dashboardDesigner.modules.themeHelper.getToolTipFontText(),l="background-color: "+this.dashboardDesigner.modules.themeHelper.getTooltipBackground()+"!important; border-color: "+this.dashboardDesigner.modules.themeHelper.getTooltipBorder()+"!important; z-index: "+r+"!important; color: "+o+"!important;",s,h,u;for(e+='<div class="widget-tooltip-template" style="'+l+'" id='+i+"_toolTip>",e+='<table class="tooltip-fontstyle" id='+i+"_tooltip_table>",s="color: "+o+"!important;\nfont-size: "+f.size+"!important;\nfont-family: "+f.family+"!important;",h="color: "+o+" !important;\nfont-size: "+f.size+"!important;\nfont-weight: "+f.weight+"!important;\nfont-family: "+f.family+"!important;",u=0;u<t.length;u++){var c=Object.keys(t[u])[0],a=n.DashboardUtil.encodeText(c),v=n.DashboardUtil.encodeText(t[u][c]);e+="<tr id="+i+"_"+u+"_tooltip_table_rows><td id="+i+"_"+u+'_tooltip_table_rows_key style="'+s+'">'+a+" :<\/td><td id="+i+"_"+u+'_tooltip_table_rows_value style="'+h+'" >'+v+"<\/td><\/tr>"}return e+"<\/table> <\/div>"},t.enableClearFilter=function(t){if(!n.isNullOrUndefined(t.ControlHeader)||!t.getJson().ContainerSettings.ShowHeader){var i=t.IsPoPWidget?"e-dbrd-pop-reset":"bbi-remove-control-filter-enable",r=t.IsPoPWidget?t.designerInstance.getLocalizationContent().exportPanel.reset:t.designerInstance.getLocalizationContent().enableFilter.clearFilter;t.ControlContainer.find(".bbi-remove-control-filter").removeClass("bbi-remove-control-filter-disable").addClass(i+" bbi-dbrd-icon-theme").attr("data-tooltip",r);t.ControlContainer.find(".bbi-remove-control-filter").closest(".widget-control-icon-wrapper").addClass("bbi-dbrd-icon-background-theme")}},t.disableClearFilter=function(t){if(!n.isNullOrUndefined(t.ControlHeader)||!t.getJson().ContainerSettings.ShowHeader){var i=t.IsPoPWidget?"e-dbrd-pop-reset":"bbi-remove-control-filter-enable";t.ControlContainer.find(".bbi-remove-control-filter").removeClass(i+" bbi-dbrd-icon-theme").addClass("bbi-remove-control-filter-disable").removeAttr("data-tooltip");t.ControlContainer.find(".bbi-remove-control-filter").closest(".widget-control-icon-wrapper").removeClass("bbi-dbrd-icon-background-theme")}},t.showInfoIcon=function(t,i){if(!n.isNullOrUndefined(t)&&t.trim()!==""&&!n.isNullOrUndefined(i)&&!n.isNullOrUndefined(i.ControlHeader)){i.ControlHeader.find(".bbi-dbrd-control-information-icon").remove();var r=n.buildTag("div.bbi-dbrd-control-information-icon e-dbrd-inform-control bbi-dbrd-designer-hoverable","",{display:"block","font-size":i.getIconFontSizeBasedOnResolution()},{"data-tooltip":t});i.ControlHeader.append(r);i.ControlHeader.parents(".bbi-dbrd-control-container").mouseover(function(){i.ControlHeader.find('.bbi-remove-control-filter[style*="display: none"]').length===0&&i.ControlHeader.parents(".bbi-dbrd-control-container:not(.bbi-show-widget-not-configured)").find(".bbi-dbrd-controlIcon-container").css("margin-right",i.ControlHeader.find('.bbi-dbrd-control-information-icon[style*="display: none"]').length===0?"25px":"0")})}},t.hideInfoIcon=function(t){n.isNullOrUndefined(t)||n.isNullOrUndefined(t.ControlHeader)||t.ControlHeader.find(".bbi-dbrd-control-information-icon").css("display","none").removeAttr("data-tooltip")},t.getUniqueName=function(t,i,r,u){var l=[],e=[],p=i.designerPanel.isPasteAction?"_Copy":i.designerPanel.isExistingWidget?"_Imported":"",c=t.designerInstance.element.find("#"+t.designerInstance._id+"_designCanvas ."+t.RootCss),o,s,a,v,f,h,y;if(c.each(function(n,t){l.push(BoldBIDashboardDesigner.bbdesignerstatic$(t).attr("data-name"))}),u)for(o=0;o<c.length;o++)e.push(this.getWidgetInstance(c.eq(o)).getContainerSettings().Title);s=0;do s++,a=l.indexOf(t.Type+s);while(a!==-1);if(v=t.Type+s,f=r,!n.isNullOrUndefined(r)&&(this.isAvailableWidgetName(e,r)&&(f=r+p),this.isAvailableWidgetName(e,f))){h=1;do h++,y=e.indexOf(f+h);while(y!==-1);f=f+h}return{Id:v,Name:f}},t.isAvailableWidgetName=function(n,t){for(var i=0;i<n.length;i++)if(n[i]===t)return!0;return!1},t.getWidgetElementVisibility=function(t,i,r){r===void 0&&(r=!1);var u=new WidgetElementsVisibility,f=4;return!n.isNullOrUndefined(i)&&i?(u.ShowLegend=!0,u.ShowXAxisLabels=!0,u.ShowXAxisTitle=!0,u.ShowYAxisTitle=!0,u.ShowYAxisLabels=!0):((t.RowSpan>=1*f&&t.ColumnSpan>1*f||t.RowSpan>1*f&&t.ColumnSpan>=1*f)&&(u.ShowLegend=!0),u.ShowXAxisLabels=r,t.RowSpan>=8&&t.ColumnSpan>=6&&(u.ShowXAxisTitle=!0),t.RowSpan>=1*f&&t.ColumnSpan>=2*f&&(u.ShowYAxisTitle=!0,u.ShowYAxisLabels=!0)),u},t.getWidgetInstance=function(t){return n.isNullOrUndefined(t)?null:t.data("widgetInstance")},t.prototype.getAllWidgets=function(){for(var i,f=this.dashboardDesigner.modules.Mode.designCanvas,r=f.find(".bbi-dbrditem"),u=[],t=0;t<r.length;t++)i=n.Dashboard.WidgetHelper.getWidgetInstance(this.bbdesigner$(r[t])),u.push(i);return u},t.prototype.getAllCustomWidgets=function(){for(var t=this.getAllWidgets(),i=[],n=0;n<t.length;n++)t[n].Type==="CustomWidget"&&i.push(t[n]);return i},t.prototype.getBingMapWidget=function(){for(var t=this.getAllWidgets(),i=[],n=0;n<t.length;n++)t[n].Type==="BingMap"&&i.push(t[n]);return i},t.prototype.getAllDatebucketWidgets=function(){return this.getAllWidgets().filter(function(n){return n.isDefaultDataWidget()})},t.prototype.createWidgetInstance=function(t){var f,i,r,u;try{if(n.isNullOrUndefined(t)||t.trim()==="")return null;for(f=t.split("."),i=window,r=0;r<f.length;r++)i=i[f[r]];if(!n.isNullOrUndefined(i))return u=Object.create(i.prototype),u.constructor.apply(u,[this.dashboardDesigner]),u}catch(e){console.error(e.message)}return null},t.prototype.getWidgetObj=function(t,i){for(var r,u,e=n.isNullOrUndefined(i)?this.dashboardDesigner.itemPanel.widgetItems:i,f=0;f<e.length;f++)for(r=0;r<e[f].Items.length;r++)if(u=e[f].Items[r],u.widgetNameSpace===t||u.serializationNameSpace===t)return u;return null},t.prototype.getCurrentWidgetInstance=function(){var t=this.dashboardDesigner.designerPanel.selectedReportItems[0];return n.Dashboard.WidgetHelper.getWidgetInstance(t)},t.createWidgetContainer=function(t,i,r,u,f){var o=i.designerPanel.isPasteAction||i.designerPanel.isExistingWidget,e;return n.isNullOrUndefined(t.getJson().UniqueName)||o?(e=this.getUniqueName(t,i,u,o),t.Name=e.Id,t.getContainerSettings().Title=n.isNullOrUndefined(u)||u===""?e.Id:e.Name):(t.Name=t.getJson().UniqueName,t.getContainerSettings().Title=u),n.Dashboard.WidgetContainerHelper.createContainer(t,i,r,f),this.updateWidgetFontSizeOnRendering(t,i),t.ControlContainer},t.designerEventHandler=function(t,i,r,u){return!n.isNullOrUndefined(t.EventHelper)&&t.EventHelper.isEventListenerConfigured(i,r)?t.designerEventListener(i,r,u):!1},t.isDataWidget=function(t){return t instanceof n.Dashboard.DataWidget},t.isContainerWidget=function(t){return t instanceof n.ContainerWidget},t.getLineStyle=function(n){switch(n){case"Solid":return"0";case"Dot":return"2,3";case"Dash":return"4,8";case"DotDash":return"2,6,6,10";case"LongDash":return"15";case"LongDashDotDot":return"20,10,5,5,5,10";default:return"0"}},t.setLabelParameterId=function(t,i){var f,u,r,e;if(t.find(".bbi-dbrd-label-parameter-text").length>=1)for(f=i.modules.labelParameter,u=t.find(".bbi-dbrd-label-parameter-text"),r=0;r<u.length;r++)e=f.generateIdForLabelParameterElement(u[r]),BoldBIDashboardDesigner.bbdesignerstatic$(u[r]).attr("data-labelparameterid",e),i.model.mode!==n.Designer.mode.design&&(f.setValueForLabelParameter(u[r]),BoldBIDashboardDesigner.bbdesignerstatic$(u[r]).css({display:"none"}))},t.isOlderDashboardWidgets=function(n){return n.Type==="Card"||n.Type==="ChoroplethMap"||n.Type==="BubbleMap"},t.isFilterWidgets=function(n){return n.Type==="ListBox"||n.Type==="DatePicker"||n.Type==="RangeSlider"||n.Type==="ComboBox"||n.Type==="PeriodOverPeriod"||n.Type==="RangeNavigator"},t.createWidgetActionContextMenu=function(t,i,r,u,f,e){var s,h,c,o,p,l;if(u=this.updateWidgetLinking(i,u),s=this.populateWidgetSelectionMenuItems(r,u,t),t.model.mode!==n.Designer.mode.design)if(h=s.filter(function(n){return n.IsVisible===!0}),h.length>1){c=n.buildTag("ul.bbi-designer-menu e-contextmenu","",{},{id:r+"_widget_action_menu"});c.BoldBIDashboardMenu({menuType:n.MenuType.ContextMenu,openOnClick:!1,contextMenuTarget:"#"+r,width:"auto",animationType:"none",fields:{dataSource:h,id:"Name",text:"DisplayName"},click:BoldBIDashboardDesigner.bbdesignerstatic$.proxy(this.onWidgetSelectionMenuItemClick,this,i,t,f),close:BoldBIDashboardDesigner.bbdesignerstatic$.proxy(this.onMenuItemClose,this,i,t,f)});o=t.element;c.parents(".e-menu-wrap")&&c.parents(".e-menu-wrap").appendTo(o);var a=o.find("#"+r+"_widget_action_menu"),k=a.data("BoldBIDashboardMenu"),w=a.height(),b=a.width(),v=o.offset().left,y=o.offset().top;k.show(o.width()+v-e[0]<b?e[0]-b-v:e[0]-v,o.height()+y-e[1]<w?e[1]-w-y:e[1]-y,r,f)}else h.length===1&&(p=h[0],i.performSelectedWidgetAction(p.Name,i,f,t));else for(l=0;l<s.length;l++)if(s[l].IsVisible===!0){i.Name.indexOf("Chart")!==-1&&i.Name.indexOf("Radar")===-1&&i.Name.indexOf("ScatterChart")===-1&&(f.cancel=!1);i.performSelectedWidgetAction(s.filter(function(n){return n.IsVisible===!0})[0].Name,i,f,t);this.updateWidgetFontSizeOnRendering(i,t);break}},t.updateWidgetLinking=function(t,i){return!n.isNullOrUndefined(t.getJson().WidgetLink)&&t.getJson().WidgetLink.Enable&&i.push(WidgetAction.WidgetLinking),i},t.onWidgetSelectionMenuItemClick=function(n,t,i,r){r.ID===WidgetAction.WidgetLinking?t.modules.containerTypeWidgetHelper.doInterWidgetLinking(n,i.selectedIndex):n.performSelectedWidgetAction(r.ID,n,i,t)},t.prototype.applyWidgetFilterValuesFromAPI=function(n,t){t.processFilterInformation(n)},t.onMenuItemClose=function(t,i,r,u){t.Name.indexOf("Chart")!==-1&&t.Name.indexOf("Radar")===-1&&t.Name.indexOf("ScatterChart")===-1&&(r.cancel=!1,r.model.selectedDataPointIndexes=[]);n.isNullOrUndefined(u.target.text)&&(t.Name.indexOf("Map")>-1&&t.Name.indexOf("Tree")===-1&&t.Name.indexOf("Heat")===-1?t.mapObj.removeShapeSelection():t.Name.indexOf("Grid")>-1&&t.Name.indexOf("Pivot")===-1?t.gridObj.clearSelection():t.Name.indexOf("Pivot")>-1?t.clearSelectionCell():t.Name.indexOf("RadarPolar")>-1?(t.radarPolarChartObj.selectedDataIndexes=[],t.radarPolarChartObj.refresh()):t.Name.indexOf("ScatterChart")>-1?(t.bubbleScatterChartObj.selectedDataIndexes=[],t.bubbleScatterChartObj.refresh()):t.Name.indexOf("Chart")>-1&&(n.isNullOrUndefined(t.chartObj)?(t.comboChartObj.model.selectedDataPointIndexes=[],t.comboChartObj.redraw()):(t.chartObj.model.selectedDataPointIndexes=[],t.chartObj.redraw()),!n.isNullOrUndefined(t.drilledChartObj)&&t.drillLevelInfo.length>0&&(t.drilledChartObj.model.selectedDataPointIndexes=[],t.drilledChartObj.redraw()),!n.isNullOrUndefined(t.drilledComboChartObj)&&t.drillLevelInfo.length>0&&(t.drilledComboChartObj.model.selectedDataPointIndexes=[],t.drilledComboChartObj.redraw())))},t.populateWidgetSelectionMenuItems=function(n,t,i){for(var r,u=[{Name:WidgetAction.DrillDown.toString(),DisplayName:i.getLocalizationContent().widgetActionMenu.drillDownDisplayName,IsVisible:!1},{Name:WidgetAction.Filter.toString(),DisplayName:i.getLocalizationContent().widgetActionMenu.filteringDisplayName,IsVisible:!1},{Name:WidgetAction.Linking.toString(),DisplayName:i.getLocalizationContent().widgetActionMenu.linkingDisplayName,IsVisible:!1},{Name:WidgetAction.ViewData.toString(),DisplayName:i.getLocalizationContent().widgetActionMenu.viewDataDisplayName,IsVisible:!1},{Name:WidgetAction.WidgetLinking.toString(),DisplayName:i.getLocalizationContent().widgetActionMenu.widgetLinkingDisplayName,IsVisible:!1}],f=0;f<u.length;f++)for(r=0;r<t.length;r++)if(t[r]===u[f].Name){u[f].IsVisible=!0;break}return u},t.getGlobalColumnId=function(n,t){for(var i,r=0;r<t.length;r++)if(t[r].FieldInfos.length>0&&(i=t[r].FieldInfos.filter(function(t){return t.UniqueColumnName===n}),i.length>0))return i[0].FieldActualType==="bbi-designer-dataset-datetime"?i[0].Id+"_"+i[0].DateTimeFormat:i[0].Id;return""},t.getColorCode=function(t,i,r){var u=t.designerInstance.modules.resource.getColumnColorCode(i);return n.DashboardUtil.IsStringNullorWhiteSpace(u)&&(u=!n.isNullOrUndefined(r)&&!n.DashboardUtil.IsStringNullorWhiteSpace(r.Color)?r.Color:n.DashboardUtil.defaultColorPalette[0]),u},t.updateIndividualColorBasedonTheme=function(t,i,r,u){var f;if(t&&!n.isNullOrUndefined(i)&&i.Type===ColorCustomizationType.Individual&&i.SolidColorInfo.length!==0){var s=void 0,o=void 0,h=void 0,e=void 0,c=r[0].UniqueColumnName;for(e=i.SolidColorInfo.filter(function(n){return n.BasedOn.UniqueColumnName===c})[0].DefaultColorSets,o=i.SolidColorInfo[0].BasedOn.FieldId,s=r[0].FieldActualType==="bbi-designer-dataset-datetime"?o+"_"+r[0].DateTimeFormat:o,f=0;f<e.length;f++)h=e[f].Name.toString(),e[f].Color=e[f].IsEdited?e[f].Color:u.modules.resource.getColumnValueColorCode(s,h)}},t.prototype.updateConditionBasedWidgetTitleFont=function(t,i,r){if(!n.isNullOrUndefined(r.ControlHeader)){var u=t?this.dashboardDesigner.modules.serialization.dashboardPropertyJson.WidgetFontInfo.Title.AutoFontSize?null:this.dashboardDesigner.modules.serialization.dashboardPropertyJson.WidgetFontInfo.Title.FontSize:i,f=r.ControlHeader.find(".bbi-dbrd-control-title .e-title-text");f.css("font-size",n.isNullOrUndefined(u)?"":u+"px");r.ControlHeader.css("height",window.parseFloat(f.css("font-size"),10)+WidgetHeaderFontSizeFactor.title+"px");this.updateContentContainerHeight(r)}},t.prototype.updateContentContainerHeight=function(t){if(!n.isNullOrUndefined(t)&&!n.isNullOrUndefined(t.ControlHeader)&&!n.isNullOrUndefined(t.ControlSubHeader)){var i=t.ControlHeader.height(),r=t.ControlSubHeader.css("display")!=="none";i=r?i+t.ControlSubHeader.outerHeight():i;t.ContentContainer.css("height","calc(100% - "+i+"px)")}},t.prototype.updateConditionBasedWidgetSubTitleFont=function(t,i,r){if(!n.isNullOrUndefined(r.ControlSubHeader)){var u=t?this.dashboardDesigner.modules.serialization.dashboardPropertyJson.WidgetFontInfo.Subtitle.AutoFontSize?null:this.dashboardDesigner.modules.serialization.dashboardPropertyJson.WidgetFontInfo.Subtitle.FontSize:i,f=r.ControlSubHeader.find(".bbi-dbrd-control-sub-title .e-title-text");f.css("font-size",n.isNullOrUndefined(u)?"":u+"px");r.ControlSubHeader.css("height",window.parseFloat(f.css("font-size"),10)+WidgetHeaderFontSizeFactor.subTitle+"px");this.updateContentContainerHeight(r)}},t.updateWidgetFontSizeOnRendering=function(t,i){var u,f,r,s;if(this.isDataWidget(t)){var e=t.getJson().ContainerSettings.WidgetTitleFontInfo,o=t.getJson().ContainerSettings.WidgetSubTitleFontInfo,l=n.isNullOrUndefined(e)?!0:e.AutoFontSize,a=n.isNullOrUndefined(o)?!0:o.AutoFontSize,h=l?i.modules.serialization.dashboardPropertyJson.WidgetFontInfo.Title.AutoFontSize?null:i.modules.serialization.dashboardPropertyJson.WidgetFontInfo.Title.FontSize:e.FontSize,c=a?i.modules.serialization.dashboardPropertyJson.WidgetFontInfo.Subtitle.AutoFontSize?null:i.modules.serialization.dashboardPropertyJson.WidgetFontInfo.Subtitle.FontSize:o.FontSize;n.isNullOrUndefined(t.ControlHeader)||(u=t.ControlHeader.find(".bbi-dbrd-control-title .e-title-text"),u.css("font-size",n.isNullOrUndefined(h)?"":h+"px"),t.ControlHeader.css("height",window.parseFloat(u.css("font-size"),10)+WidgetHeaderFontSizeFactor.title+"px"));n.isNullOrUndefined(t.ControlSubHeader)||(f=t.ControlSubHeader.find(".bbi-dbrd-control-sub-title .e-title-text"),f.css("font-size",n.isNullOrUndefined(c)?"":c+"px"),t.ControlSubHeader.css("height",window.parseFloat(f.css("font-size"),10)+WidgetHeaderFontSizeFactor.subTitle+"px"));n.isNullOrUndefined(t.ControlHeader)||n.isNullOrUndefined(t.ControlSubHeader)||(r=t.ControlHeader.height(),s=t.ControlSubHeader.css("display")!=="none",r=s?r+t.ControlSubHeader.outerHeight():r,t.ContentContainer.css("height","calc(100% - "+r+"px)"))}},t.updateWidgetContainerPosition=function(n,t){var i="";n.widgetOrder=t;t>0?i=t.toString():n.widgetOrder=100;n.ControlContainer.find(".bbi-dbrd-content-container").children(".bbi-dbrd-control-header,.bbi-dbrd-isimage,.bbi-nodata-container,.bbi-widget-not-configured-text").css("z-index",i);n.ControlContainer.find(".bbi-dbrd-content-container").children(".bbi-dbrd-control").css("z-index",n.widgetOrder)},t.prototype.isMobileMode=function(){return!this.dashboardDesigner.model.dashboardFromData.isExportImage&&!this.dashboardDesigner.model.dashboardFromData.isExportPdf&&window.outerWidth<=768},t.defaultColorPalette=["#77A7FB","#E57368","#FBCB43","#34B67A","#F1AB68","#6CC2D9","#195962","#E18878","#1AA27D","#BFAAC7","#89695e","#a5c77f","#f48fb1","#90caf9","#cc4452"],t}();t.WidgetHelper=i})(t=n.Dashboard||(n.Dashboard={}))}(BoldBIDashboard||(BoldBIDashboard={})),function(n){var t;(function(t){var i=function(){function t(n){this.dataConfiguration=null;this.ajaxRequestCollection=[];this.isInitialLoad=null;this.allowVirtualScrolling=!1;this.isFiltered=!1;this.isTriggered=!1;this.currentData=[];this.checkedAllItems=!1;this.selectedItems=[];this.unSelectedItems=[];this.locale=null;this.dashboardDesigner=n;this.bbdesigner$=this.dashboardDesigner.bbdesigner$;this.locale=n.getLocalizationContent();this.id=this.dashboardDesigner._id;this.virtualScrollSettings=new VirtualScrollSettings;this.dataConfiguration=this.dashboardDesigner.modules.dataConfiguration}return t.prototype.renderListMultiSelectionComboBox=function(t,i,r,u){u===void 0&&(u=null);var f=n.buildTag("div.bbi-multiselect-dropdown-item","",{width:t.width()},{id:i+"_multi_select_dropDown"}),o=this.getTextValue(i,r),s=n.buildTag("div",o,{"border-style":"none",width:t.width()-44,height:"100%","padding-left":"11px","line-height":"28px",float:"left","text-overflow":"ellipsis","white-space":"nowrap",overflow:"hidden"},{id:i+"_multi_select_dropDown_text"}),e=n.buildTag("div","",{display:"inline-block",width:"33px",height:"100%"},{}),h=n.buildTag("span.bbi-designer-ejwidgets-updown e-icon e-arrow-sans-down","",{color:"#666666",padding:"7px 10px"});this.rowId=i;this.comboBoxInfo=r;this.isInitialLoad=!0;e.append(h);f.append(s,e);f.off("click",this.bbdesigner$.proxy(this.showPopupContainer,this,i,r));f.on("click",this.bbdesigner$.proxy(this.showPopupContainer,this,i,r));t.append(f).data("MultiSelectionComboBox",this);this.renderPopupContainer(i,t.width().toString(),r,u)},t.prototype.getTextValue=function(t,i){var r,u,f,e;if(i.isCheckAll)return this.locale.common.all;if(i.filterValues.length>0&&i.hasCheckedValue){if(r=[],u=this.getPopupListBox(t).data("BoldBIDashboardListBox"),n.isNullOrUndefined(u))i.filterValues.forEach(function(n){r.push(n)});else for(f=0;f<i.filterValues.length;f++){if(e=u.getIndexByValue(i.filterValues[f]),n.isNullOrUndefined(e))return this.locale.queryDesigner.selectedMultipleValuesInComboBox;r.push(u.getTextByIndex(e))}return r.toString()}return this.locale.queryDesigner.selectedMultipleValuesInComboBox},t.prototype.renderPopupContainer=function(t,i,r,u){var h=n.buildTag("div.e-multiselect-popup-container boldbi-dashboarddesigner e-list-multiselect-popup-container","",{"min-width":"230px",height:"270px",position:"absolute",border:"1px solid #dddddd","background-color":"white","border-radius":"3px",display:"none","z-index":"10100",width:i+"px"},{id:t+"_popup_container","data-rowid":t}),c=n.buildTag("table","",{width:"100%",padding:"5px 10px"},{}),l=n.buildTag("tr","",{},{}),a=n.buildTag("td","",{width:"50%"},{}),v=n.buildTag("td","",{width:"50%"},{}),y=n.buildTag("input","",{},{type:"checkbox",id:t+"_popup_container_Check_Box"}),it=n.buildTag("label",this.locale.dialogText.checkAll,{"margin-left":"10px","font-size":"14px"},{"for":t+"_popup_container_Check_Box"}),f,e,o;this.renderSearchPanel(v,t,r);a.append(y,it);l.append(a,v);c.append(l);f=n.buildTag("div.e-multiselect-waiting-popup bbi-parameter-waitingpopup","",{height:"150px","background-color":"white","box-sizing":"border-box","-moz-box-sizing":"border-box","-webkit-box-sizing":"border-box","z-index":"1010",padding:"5px 10px"},{id:t+"_popup_container_list_Box_div"});e=n.buildTag("ul","",{},{id:t+"_popup_container_list_Box","data-isManualData":r.isManualData});f.append(e);var p=n.buildTag("table","",{width:"100%",padding:"5px 10px","border-bottom":"1px solid #dddddd"},{}),w=n.buildTag("tr","",{},{}),b=n.buildTag("td","",{width:"50%"},{}),k=n.buildTag("td","",{width:"50%"},{}),d=n.buildTag("input","",{"margin-left":"2px"},{type:"radio",name:t+"filtercondition",id:t+"_popup_container_list_Box_radio1"}),rt=n.buildTag("label","Include",{"font-size":"12px","font-color":"#303541","padding-left":"3px"},{"for":t+"_popup_container_list_Box_radio1",type:"label"}),g=n.buildTag("input","",{"margin-left":"2px"},{type:"radio",name:t+"filtercondition",id:t+"_popup_container_list_Box_radio2"}),ut=n.buildTag("label","Exclude",{"font-size":"12px","font-color":"#303541","padding-left":"3px"},{"for":t+"_popup_container_list_Box_radio2",type:"label"});p.append(w);w.append(b,k);b.append(d,rt);k.append(g,ut);var nt=n.buildTag("div.e-footerbar.e-dialog.e-js","",{width:"100%",height:"45px","box-sizing":"border-box","-moz-box-sizing":"border-box","-webkit-box-sizing":"border-box",padding:"10px 5px"},{}),s=n.buildTag("button.bbi-dbrd-btn-small bbi-dbrd-btn-primary",this.locale.dialogOptions.applyButtonText,{float:"right"},{id:t+"_popup_container_ok_btn",type:"button"}),tt=n.buildTag("button.bbi-dbrd-btn-small bbi-dbrd-btn-secondary bbi-dbrd-margin-left",this.locale.dialogOptions.cancelButtonText,{float:"right"},{id:t+"_popup_container_cancel_btn",type:"button"});nt.append(tt,s);h.append(c,f,p,nt);this.dashboardDesigner.element.append(h);s.off("click",this.bbdesigner$.proxy(this.updatePopupContainerInformation,t,null,u,this));s.on("click",this.bbdesigner$.proxy(this.updatePopupContainerInformation,t,null,u,this));tt.on("click",this.bbdesigner$.proxy(this.closePopupContainer,this,t));y.BoldBIDashboardCheckBox({width:"100%",checked:!0,change:this.bbdesigner$.proxy(this.updateCheckItemCheckChange,this,t)});o=this.getDefaultData();e.BoldBIDashboardListBox({dataSource:o.Datasource,fields:o.Fields,showCheckbox:!0,width:"100%",height:"100%",cssClass:"bbi-dbrd-control",checkChange:this.bbdesigner$.proxy(this.updateListItemCheckChange,this,t,!0)});d.BoldBIDashboardRadioButton({checked:r.isInclude,size:"small",cssClass:"e-designer-radio",change:this.bbdesigner$.proxy(this.updateApplyButtonVisibility,this,t)});g.BoldBIDashboardRadioButton({checked:!r.isInclude,size:"small",cssClass:"e-designer-radio",change:this.bbdesigner$.proxy(this.updateApplyButtonVisibility,this,t)});f.BoldBIDashboardWaitingPopup({showOnInit:!1,cssClass:"e-designer-waitingpopup "+this.id+"_designer_waiting_popup bbi-designer-loader"});this.populateMultiSelectionComboBox(t,r,u)},t.prototype.renderSearchPanel=function(t,i,r){var u=n.buildTag("div","",{width:"107px",height:"16px",float:"right","margin-top":"3px"},{id:i+"_popup_container_searchPanel"}),f=n.buildTag("input.bbi-designer-fieldcontainer-search-dataassign","",{"border-radius":"5px","padding-left":"5px",color:"lightgrey","font-size":"11px",float:"left",width:"100px",height:"15px",border:"1px solid lightGray","font-style":"italic"},{id:i+"_popup_container_searchBox",placeholder:this.locale.common.search}),e=n.buildTag("div","",{},{id:i+"_popup_container_searchIcon","class":"e-icon e-search bbi-designer-popup-container-search-icon"});u.append(f);u.append(e);t.append(u);f.on("focus",this.bbdesigner$.proxy(this.onSearchFocus,this,i,r))},t.prototype.getDefaultData=function(){return{Datasource:[{ListText:"Item1",ListValue:"Item2"}],Fields:{text:"ListText",value:"ListValue"}}},t.prototype.updateApplyButtonVisibility=function(t,i){n.isNullOrUndefined(i)||this.setToModel(t);var r=this.getIncludeRadioButton(t).data("BoldBIDashboardRadioButton").model.checked;this.selectedItems.length===0&&this.unSelectedItems.length===0&&(r&&!this.checkedAllItems||!r&&this.checkedAllItems)?this.setItemEnable(t,!1):this.setItemEnable(t,!0)},t.prototype.setItemEnable=function(t,i){var r=this.getPopupApplyButton(t);n.DashboardUtil.buttonEnable(r,i)},t.prototype.updatePopupContainerInformation=function(t,i,r){r===void 0&&(r=null);var u=this.getPopupContainer(t);u.css({display:"none"});this.setToModel(t);i.filterValues=this.selectedItems.length>0?this.selectedItems:this.unSelectedItems;i.hasCheckedValue=this.selectedItems.length>0;i.isInclude=this.getIncludeRadioButton(t).data("BoldBIDashboardRadioButton").model.checked;i.isCheckAll=this.checkedAllItems;this.getComboBoxTextField(t).text(this.getTextValue(t,i));this.resetDraftInfo();this.updateEvents(t,i,r);n.isNullOrUndefined(r)||n.DashboardUtil.invokeMethod(r.instance,r.method,r.args)},t.prototype.renderInitialData=function(t,i,r){var u;i?(n.isNullOrUndefined(this.isInitialLoad)||this.isInitialLoad)&&(u=this.getPopupListBox(t).data("BoldBIDashboardListBox"),r.cancel=!0,u.mergeData(this.currentData,!0),u.model.totalItemsCount=this.currentData.length+1,this.setItemEnable(t,!0),n.DashboardUtil.buttonEnable(this.getPopupCancelButton(t),!0)):(u=this.getPopupListBox(t).data("BoldBIDashboardListBox"),u.setModel({dataSource:r,allowMultiSelection:!0}))},t.prototype.closePopupContainer=function(n){var t=this.getPopupContainer(n),i;this.onSearchCloseClick(n,null);this.getPopupListBoxDiv(n).BoldBIDashboardWaitingPopup("hide");t.css("display","none");t.removeClass("e-list-multiselect-popup-container-visible");this.resetDraftInfo();i=this.getPopupListBoxDiv(n).data("BoldBIDashboardWaitingPopup");i.model.showOnInit&&(this.hideLoadingIndicator(n),this.killPendingRequest())},t.prototype.killPendingRequest=function(){if(this.ajaxRequestCollection.length>0)for(var n=0;n<this.ajaxRequestCollection.length;n++)this.ajaxRequestCollection[n].readyState<=4&&this.ajaxRequestCollection[n].abort();this.ajaxRequestCollection=[]},t.prototype.onSearchFocus=function(n,t){var r=this.getPopupSearchPanel(n),i=this.getSearchTextBox(r,n);i.addClass("e-focus");i.val()===""&&i.val("");i.css("color","grey");i.off("keyup",this.bbdesigner$.proxy(this.processFilterDataRequest,this,n,t));i.on("keyup",this.bbdesigner$.proxy(this.processFilterDataRequest,this,n,t))},t.prototype.processFilterDataRequest=function(n,t){var i=this,r=this.getPopupListBox(n),o=r.data("BoldBIDashboardListBox"),f=this.getPopupSearchPanel(n),u=this.getSearchTextBox(f,n),e=this.getSearchIcon(f,n);e.addClass("e-close_01").removeClass("e-search");setTimeout(function(){if(u.val().length>0){i.getPopupSearchPanel(n).children().prop("disabled",!0);u.removeClass("e-focus");e.off("click",i.bbdesigner$.proxy(i.onSearchCloseClick,i,n));e.on("click",i.bbdesigner$.proxy(i.onSearchCloseClick,i,n));r._oldStartValue=undefined;r.BoldBIDashboardListBox({dataSource:i.searchData(n,t,u.val())})}else i.getSearchIcon(f,n).addClass("e-search").removeClass("e-close_01"),t.isManualData?o.showAllItems():r.BoldBIDashboardListBox({dataSource:i.searchData(n,t,u.val())})},800)},t.prototype.searchData=function(t,i,r){var s=this.getPopupListBox(t),f=s.data("BoldBIDashboardListBox"),h=this.getPopupCheckBox(t),e,u,o;f.hideAllItems();h.data("searchEnable",!0);i.isManualData?(this.showLoadingIndicator(t),e=[],f.model.dataSource.filter(function(n){n.ListValue.toString().toLowerCase().search(r)>-1&&e.push(n.ListValue)}),f.showItemsByValues(e),this.hideLoadingIndicator(t)):(u=JSON.parse(i.requestInfo),this.isFiltered=!0,u.filterValues=r,this.killPendingRequest(),o=n.isNullOrUndefined(u.validateId)?null:u.validateId,this.getPopupCheckBox(t).data("ValidateId",o),this.ajaxRequestCollection.push(this.dashboardDesigner.modules.util.doAjaxPost("POST",this.dashboardDesigner.model.serviceUrl+n.Dashboard.ServiceAPI.processdata,{action:n.DashboardUtil.DesignerAction.getData,data:JSON.stringify(u)},{fnction:this.bbdesigner$.proxy(this.processFilterData,this,t,i,o),indicator:[this.bbdesigner$.proxy(this.showLoadingIndicator,this,t),this.bbdesigner$.proxy(this.hideLoadingIndicator,this,t)]})))},t.prototype.processFilterData=function(t,i,r,u){var s=this.getPopupCheckBox(t).data("ValidateId"),o,f,e;s===r&&(o=this.getPopupListBox(t).data("BoldBIDashboardListBox"),f=JSON.parse(u.columnData),!n.isNullOrUndefined(f)&&f.length>0&&(i.isManualData?(e=[],f.forEach(function(n){e.push(n.ListValue)}),o.showItemsByValues(e)):(this.isFiltered=!0,this.allowVirtualScrolling=u.hasMoreRecords,this.setDataSource(t,f,i,this.allowVirtualScrolling))))},t.prototype.onSearchCloseClick=function(n){this.clearSearchText(n);this.isFiltered&&(this.isTriggered=!0,this.isFiltered=!1,this.getInitialFilterValues(n,this.comboBoxInfo))},t.prototype.clearSearchText=function(n){var i=this.getPopupSearchPanel(n),t=this.getSearchTextBox(i,n),r,u;this.getSearchIcon(i,n).addClass("e-search").removeClass("e-close_01");r=this.getSearchIcon(i,n);t.off("keyup",this.bbdesigner$.proxy(this.processFilterDataRequest,this,n));r.off("click",this.bbdesigner$.proxy(this.onSearchCloseClick,this,n));t.removeClass("e-focus");t.val("");t.css("color","lightgrey");u=this.getPopupListBox(n).data("BoldBIDashboardListBox");u.showAllItems();this.comboBoxInfo.isManualData&&(this.setToModel(n),this.updateListItemFromMethod(n));this.getPopupCheckBox(n).data("searchEnable",!1)},t.prototype.checkListDatasourceForSearch=function(t){var i=this,e=this.getPopupListBox(t),f=e.data("BoldBIDashboardListBox"),r=null,o,u;this.comboBoxInfo.isManualData&&(o=this.getPopupSearchPanel(t),r=this.getSearchTextBox(o,t).val());n.isNullOrUndefined(f.model.dataSource.dataSource)?this.selectedItems.length>0?f.model.dataSource.filter(function(t){(n.isNullOrUndefined(r)||t.ListValue.toString().toLowerCase().search(r)>-1)&&i.pushItem(t.ListValue,i.selectedItems)}):this.unSelectedItems.length>0?f.model.dataSource.filter(function(t){(n.isNullOrUndefined(r)||t.ListValue.toString().toLowerCase().search(r)>-1)&&i.popItem(t.ListValue,i.unSelectedItems)}):this.checkedAllItems||f.model.dataSource.filter(function(t){(n.isNullOrUndefined(r)||t.ListValue.toString().toLowerCase().search(r)>-1)&&i.pushItem(t.ListValue,i.selectedItems)}):(u=e.find("li .e-chkbox-wrap"),this.selectedItems.length>0?u.filter(function(n){i.pushItem(u[n].parentElement.textContent,i.selectedItems)}):this.unSelectedItems.length>0?u.filter(function(n){i.popItem(u[n].parentElement.textContent,i.unSelectedItems)}):this.checkedAllItems||u.filter(function(n){i.pushItem(u[n].parentElement.textContent,i.selectedItems)}));this.setCheckAllItems(!0);f.checkAll()},t.prototype.setCheckAllItems=function(n){this.selectedItems.length===0&&this.unSelectedItems.length===0&&(this.checkedAllItems=n)},t.prototype.setCheckBoxModel=function(n,t){(this.selectedItems.length===0&&this.unSelectedItems.length===0||this.checkedAllItems)&&(this.checkedAllItems=t,this.checkBoxSetModel(n,t))},t.prototype.updateCheckItemForSearch=function(n){var t=this.getPopupListBox(n).data("BoldBIDashboardListBox");this.checkListDatasourceForSearch(n);t.checkAll();this.setCheckBoxModel(n,!0)},t.prototype.uncheckListDatasourceForSearch=function(t){var i=this,e=this.getPopupListBox(t),f=e.data("BoldBIDashboardListBox"),r=null,o,u;this.comboBoxInfo.isManualData&&(o=this.getPopupSearchPanel(t),r=this.getSearchTextBox(o,t).val());n.isNullOrUndefined(f.model.dataSource.dataSource)?this.selectedItems.length>0?f.model.dataSource.filter(function(t){(n.isNullOrUndefined(r)||t.ListValue.toString().toLowerCase().search(r)>-1)&&i.popItem(t.ListValue,i.selectedItems)}):(this.unSelectedItems.length>0||this.checkedAllItems)&&(this.checkedAllItems=!1,f.model.dataSource.filter(function(t){(n.isNullOrUndefined(r)||t.ListValue.toString().toLowerCase().search(r)>-1)&&i.pushItem(t.ListValue,i.unSelectedItems)})):(u=e.find("li .e-chkbox-wrap"),this.selectedItems.length>0?u.filter(function(n){i.popItem(u[n].parentElement.textContent,i.selectedItems)}):(this.unSelectedItems.length>0||this.checkedAllItems)&&(this.checkedAllItems=!1,u.filter(function(n){i.pushItem(u[n].parentElement.textContent,i.unSelectedItems)})));this.setCheckAllItems(!1)},t.prototype.updateunCheckItemForSearch=function(n){var t=this.getPopupListBox(n).data("BoldBIDashboardListBox");this.uncheckListDatasourceForSearch(n);t.uncheckAll();this.setCheckBoxModel(n,!1)},t.prototype.updateCheckItemCheckChange=function(t,i){if(i.isInteraction){var u=this.getPopupCheckBox(t),o=u.data("BoldBIDashboardCheckBox"),r=this.getPopupListBox(t),f=r.data("BoldBIDashboardListBox"),e=u.data("searchEnable");o.setModel({enableTriState:!1});!n.isNullOrUndefined(e)&&e?i.isChecked?r.find("li .e-chkbox-wrap").filter("[aria-checked = false]").length>0&&this.updateCheckItemForSearch(t):r.find("li .e-chkbox-wrap").filter("[aria-checked = true]").length>0&&this.updateunCheckItemForSearch(t):i.isChecked?(this.resetDraftInfo(!0),f.checkAll()):(this.resetDraftInfo(),f.uncheckAll());this.updateApplyButtonVisibility(t);this.getPopupListBox(t).data("listBoxInfo",this.setComboBoxModel())}},t.prototype.pushItem=function(n,t){var i=t.indexOf(n);i<0&&t.push(n)},t.prototype.popItem=function(n,t){var i=t.indexOf(n);i>-1&&t.splice(i,1)},t.prototype.updateCheckUncheckCollection=function(t,i){n.isNullOrUndefined(t)||(i?this.unSelectedItems.length>0?this.popItem(t,this.unSelectedItems):this.pushItem(t,this.selectedItems):this.selectedItems.length>0?this.popItem(t,this.selectedItems):this.pushItem(t,this.unSelectedItems))},t.prototype.checkBoxSetModel=function(n,t){var i=this.getPopupCheckBox(n).data("BoldBIDashboardCheckBox");i.setModel({checkState:"check",checked:t})},t.prototype.checkListBoxItem=function(n){var t=this;this.selectedItems.length>0&&this.selectedItems.forEach(function(i){n.checkItemByIndex(t.getIndex(n,i))})},t.prototype.unCheckListBoxItem=function(n){var t=this;this.unSelectedItems.length>0&&(n.checkAll(),this.unSelectedItems.forEach(function(i){n.uncheckItemByIndex(t.getIndex(n,i))}))},t.prototype.setToModel=function(t){var i=this.getPopupListBox(t).data("listBoxInfo");n.isNullOrUndefined(i)||(this.checkedAllItems=i.checkAllItems,this.selectedItems=this.bbdesigner$.extend(!0,[],i.selectedItems),this.unSelectedItems=this.bbdesigner$.extend(!0,[],i.unSelectedItems))},t.prototype.updateListItemCheckChange=function(t,i,r){this.setToModel(t);switch(i){case!0:this.updateListItemFromEvent(t,r);break;case!1:(n.isNullOrUndefined(r.type)||r.type==="actionComplete")&&this.updateListItemFromMethod(t)}this.updateApplyButtonVisibility(t);this.getPopupListBox(t).data("listBoxInfo",this.setComboBoxModel())},t.prototype.setComboBoxModel=function(){var n=new ComboBoxModel;return n.checkAllItems=this.checkedAllItems,n.selectedItems=this.selectedItems,n.unSelectedItems=this.unSelectedItems,n},t.prototype.updateListItemFromMethod=function(n){var t=this.getPopupListBox(n).data("BoldBIDashboardListBox");this.checkedAllItems?(t.checkAll(),this.checkBoxSetModel(n,!0)):(t.uncheckAll(),this.checkBoxSetModel(n,!1),this.checkListBoxItem(t),this.unCheckListBoxItem(t))},t.prototype.updateListItemFromEvent=function(t,i){if(i.isInteraction&&!n.isNullOrUndefined(i.event)){var r=n.isNullOrUndefined(i.event.isChecked)?this.bbdesigner$(i.event.currentTarget).children().attr("aria-checked")==="true":i.event.isChecked,u=this.getPopupListBox(t),f=this.getPopupCheckBox(this.rowId).data("searchEnable");f?(this.updateCheckUncheckCollection(i.value,r),this.setCheckBoxModel(t,r)):u.find("li .e-chkbox-wrap").filter("[aria-checked = false]").length===0?(this.resetDraftInfo(!0),this.checkBoxSetModel(t,!0)):u.find("li .e-chkbox-wrap").filter("[aria-checked = true]").length===0?(this.resetDraftInfo(),this.checkBoxSetModel(t,!1)):(this.updateCheckUncheckCollection(i.value,r),this.setCheckBoxModel(t,!1))}},t.prototype.getPopupContainerInformation=function(n){var i=this.getPopupListBox(n),t=i.data("listBoxInfo"),u=this.getIncludeRadioButton(n).data("BoldBIDashboardRadioButton"),f=i.data("BoldBIDashboardListBox"),r=i.attr("data-isManualData")==="true"?!0:!1,e=t.selectedItems.length>0?t.selectedItems:t.unSelectedItems,o=t.selectedItems.length>0;return{isManualData:r,isCheckAll:t.checkAllItems,valueCollection:r?f.model.dataSource:[],isInclude:u.model.checked,hasCheckedValue:o,filterValues:e,requestInfo:null}},t.prototype.resetDraftInfo=function(n){n===void 0&&(n=!1);this.checkedAllItems=n;this.selectedItems=[];this.unSelectedItems=[]},t.prototype.setDraftInfo=function(t){this.resetDraftInfo();this.checkedAllItems=t.isCheckAll;t.hasCheckedValue?this.selectedItems=n.isNullOrUndefined(t.filterValues)?[]:this.bbdesigner$.extend(!0,[],t.filterValues):this.unSelectedItems=n.isNullOrUndefined(t.filterValues)?[]:this.bbdesigner$.extend(!0,[],t.filterValues)},t.prototype.showPopupContainer=function(t,i){var r,o,f,s,h;if(this.setDraftInfo(i),r=this.getPopupContainer(t),o=r.css("display")==="block",o)r.removeClass("e-list-multiselect-popup-container-visible"),r.css({display:"none"});else{var e=this.getMultiSelectionComboBox(t),u=e.offset(),l=u.left,c=r.height(),a=window.innerHeight-(u.top+e.height()),v=a>c;this.clearSearchText(t);f=this.getPopupListBox(t).data("BoldBIDashboardListBox");r.addClass("e-list-multiselect-popup-container-visible");s=v?u.top+e.height()+2:u.top-c-4;r.css({left:l,top:s-this.dashboardDesigner.element.offset().top,display:"block","z-index":n.getMaxZindex()+1});this.rowId=t;this.comboBoxInfo=i;h=this.getPopupListBoxDiv(t);this.updateRadioButtonElements(t,i.isInclude);(this.isFiltered||!i.isManualData&&!n.isNullOrUndefined(i.requestInfo)&&n.isNullOrUndefined(h.attr("data-isLoaded")))&&(this.isInitialLoad=!0,this.isFiltered=!1,f.hideAllItems(),this.getInitialFilterValues(t,i));f._refreshScroller();this.getPopupListBox(t).data("listBoxInfo",this.setComboBoxModel());this.updateListItemCheckChange(t,!1,this)}},t.prototype.populateMultiSelectionComboBox=function(n,t,i){i===void 0&&(i=null);var r=this.getPopupListBox(n);this.rowId=n;this.comboBoxInfo=t;this.comboBoxInfo.filterValues=t.isCheckAll?null:t.filterValues;r.attr("data-isManualData",t.isManualData?"true":"false");this.updateEvents(n,t,i);t.isManualData&&this.renderInitialData(n,!1,t.valueCollection);t.hasCheckedValue||r.BoldBIDashboardListBox("checkAll");this.setDraftInfo(t);this.getPopupListBox(n).data("listBoxInfo",this.setComboBoxModel());this.updateRadioButtonElements(n,t.isInclude);this.updateListItemCheckChange(n,!1,this);this.getPopupListBoxDiv(n).removeAttr("data-isLoaded");this.getComboBoxTextField(n).text(this.getTextValue(n,t))},t.prototype.updateRadioButtonElements=function(n,t){t?(this.getIncludeRadioButton(n).BoldBIDashboardRadioButton({checked:!0}),this.getExcludeRadioButton(n).BoldBIDashboardRadioButton({checked:!1})):(this.getIncludeRadioButton(n).BoldBIDashboardRadioButton({checked:!1}),this.getExcludeRadioButton(n).BoldBIDashboardRadioButton({checked:!0}))},t.prototype.updateEvents=function(n,t,i){i===void 0&&(i=null);var r=this.getMultiSelectionComboBox(n),u=this.getPopupApplyButton(n),f=this.getSearchTextBox(this.getPopupSearchPanel(n),n);r.off("click",this.bbdesigner$.proxy(this.showPopupContainer,this,n,t));r.on("click",this.bbdesigner$.proxy(this.showPopupContainer,this,n,t));u.off("click",this.bbdesigner$.proxy(this.updatePopupContainerInformation,this,n,t,i));u.on("click",this.bbdesigner$.proxy(this.updatePopupContainerInformation,this,n,t,i));f.off("focus",this.bbdesigner$.proxy(this.onSearchFocus,this,n,t));f.on("focus",this.bbdesigner$.proxy(this.onSearchFocus,this,n,t))},t.prototype.getInitialFilterValues=function(t,i){var r=JSON.parse(i.requestInfo),u=n.isNullOrUndefined(r.validateId)?null:r.validateId;this.getPopupCheckBox(t).data("ValidateId",u);this.ajaxRequestCollection.push(this.dashboardDesigner.modules.util.doAjaxPost("POST",this.dashboardDesigner.model.serviceUrl+n.Dashboard.ServiceAPI.processdata,{action:n.DashboardUtil.DesignerAction.getData,data:i.requestInfo},{fnction:this.bbdesigner$.proxy(this.setFieldInformation,this,t,i,u),indicator:[this.bbdesigner$.proxy(this.showLoadingIndicator,this,t),this.bbdesigner$.proxy(this.hideLoadingIndicator,this,t)]}))},t.prototype.updateDataManager=function(t){var i=this,r=new n.Adaptor(null).extend({processQuery:this.bbdesigner$.proxy(this.processQuery,this),beforeSend:function(n,t){i.dashboardDesigner.beforeSendRequestForDataManager("OnDemandDataAction",t)},processResponse:this.bbdesigner$.proxy(this.processResponse,this)}),u=new n.DataManager({url:this.dashboardDesigner.model.serviceUrl+n.Dashboard.ServiceAPI.processdata,adaptor:new r,crossDomain:!0});return this.updateListItemCheckChange(t,!1,this),u},t.prototype.processQuery=function(t){var r;if(this.isInitialLoad)return t.cancel=!0,!1;r=this.getPopupListBox(this.rowId).data("BoldBIDashboardListBox");this.setItemEnable(this.rowId,!1);n.DashboardUtil.buttonEnable(this.getPopupCancelButton(this.rowId),!1);this.virtualScrollSettings.StartIndex=r._listSize+1;var u=this.getPopupSearchPanel(this.rowId),f=this.getSearchTextBox(u,this.rowId),i=JSON.parse(this.comboBoxInfo.requestInfo);return i.startIndex=this.virtualScrollSettings.StartIndex,i.pageSize=this.virtualScrollSettings.PageSize,i.filterValue=this.isFiltered?f.val():null,i.hasFilter=this.isFiltered,r.setModel({checkChange:this.bbdesigner$.proxy(this.updateListItemCheckChange,this,this.rowId,!0)}),{url:t.dataSource.url,type:"POST",contentType:"application/json",data:JSON.stringify(i)}},t.prototype.processResponse=function(t){var i=this.getPopupListBox(this.rowId).data("BoldBIDashboardListBox"),r;if(n.isNullOrUndefined(i)||n.isNullOrUndefined(t)||t.Error||t.data==="[]")this.isFiltered&&(this.clearListItems(this.rowId),this.getPopupSearchPanel(this.rowId).children().prop("disabled",!1).focus());else return r=JSON.parse(t.Data.columnData),this.setItemEnable(this.rowId,!0),n.DashboardUtil.buttonEnable(this.getPopupCancelButton(this.rowId),!0),i.option("actionComplete",this.bbdesigner$.proxy(this.updateListItemCheckChange,this,this.rowId,!1)),i.model.totalItemsCount=t.Data.hasMoreRecords?i._listSize+r.length+1:i._listSize+r.length,r;return[]},t.prototype.clearListItems=function(t){var r=this.getPopupListBox(t),i=r.data("BoldBIDashboardListBox");n.isNullOrUndefined(i)||(i._loadInitialRemoteData=!0,i._oldStartValue=undefined,i.totalItemsCount=i._listSize,!n.isNullOrUndefined(i._listitems)&&i._listSize>0?r.empty():i.model.totalItemsCount=i._listSize+1)},t.prototype.removeListboxLoader=function(t,i){n.isNullOrUndefined(i)||(i.listContainer.removeClass("e-load"),this.getPopupSearchPanel(t).children().prop("disabled",!1).focus())},t.prototype.setFieldInformation=function(t,i,r,u){var h=this.getPopupCheckBox(t).data("ValidateId"),f,o,e,s;h===r&&(f=n.isNullOrUndefined(u.columnData)?[]:JSON.parse(u.columnData),this.getPopupListBoxDiv(t).attr("data-isLoaded","loaded"),this.allowVirtualScrolling=n.isNullOrUndefined(u.hasMoreRecords)?!1:u.hasMoreRecords,!n.isNullOrUndefined(f)&&f.length>0&&(o=this.getPopupListBox(t),e=o.data("BoldBIDashboardListBox"),this.setDataSource(t,f,i,this.allowVirtualScrolling),n.isNullOrUndefined(e)||(e._oldStartValue=undefined),s=this.getIncludeRadioButton(t).data("BoldBIDashboardRadioButton").model.checked,this.updateRadioButtonElements(t,s),this.updateListItemCheckChange(t,!1,this)))},t.prototype.setDataSource=function(n,t,i,r){var u,f;this.isInitialLoad=!0;this.rowId=n;this.comboBoxInfo=i;this.currentData=t;this.clearListItems(n);r&&this.getPopupListBox(n).BoldBIDashboardListBox({actionBegin:this.bbdesigner$.proxy(this.renderInitialData,this,n,this.allowVirtualScrolling)});u=this.getPopupListBox(this.rowId);this.getPopupListBox(n).BoldBIDashboardListBox({dataSource:r?this.updateDataManager(n,i):t,allowVirtualScrolling:r,fields:{text:"ListText",value:"ListValue"},virtualScrollMode:"continuous",itemRequestCount:this.virtualScrollSettings.PageSize,actionComplete:this.bbdesigner$.proxy(this.updateListItemCheckChange,this,n,!1)});f=u.data("BoldBIDashboardListBox");this.isInitialLoad=!1;f.showAllItems()},t.prototype.showLoadingIndicator=function(t){var i=this.getPopupListBox(t).data("BoldBIDashboardListBox");n.isNullOrUndefined(i)||i.listContainer.hasClass("e-load")||this.getPopupListBoxDiv(t).BoldBIDashboardWaitingPopup("show");this.getPopupCheckBox(t).data("BoldBIDashboardCheckBox").disable();this.getIncludeRadioButton(t).data("BoldBIDashboardRadioButton").disable();this.getExcludeRadioButton(t).data("BoldBIDashboardRadioButton").disable();this.setItemEnable(t,!1);this.getPopupSearchPanel(t).children().prop("disabled",!0)},t.prototype.hideLoadingIndicator=function(t){var f=this,r=this.getPopupContainer(t),u,i;!n.isNullOrUndefined(r)&&r.length>0&&(this.getPopupListBoxDiv(t).BoldBIDashboardWaitingPopup("hide"),this.getPopupCheckBox(t).data("BoldBIDashboardCheckBox").enable(),this.getIncludeRadioButton(t).data("BoldBIDashboardRadioButton").enable(),this.getExcludeRadioButton(t).data("BoldBIDashboardRadioButton").enable(),this.setItemEnable(t,!0),this.getPopupSearchPanel(t).children().prop("disabled",!1));u=this.dashboardDesigner.element.find(".e-multiselect-popup-container:visible .e-multiselect-waiting-popup");i=this.bbdesigner$;u.each(function(n,t){i(t).length>0&&i(t).data("BoldBIDashboardWaitingPopup").model.showOnInit&&f.killPendingRequest()})},t.prototype.destroyListMultiSelectionComboBox=function(){this.dashboardDesigner.element.find(".e-list-multiselect-popup-container").remove()},t.prototype.getMultiSelectionComboBox=function(n){return this.dashboardDesigner.element.find("#"+n+"_multi_select_dropDown")},t.prototype.getIndex=function(n,t){return n.getIndexByValue(t)},t.prototype.getPopupSearchPanel=function(n){return this.dashboardDesigner.element.find("#"+n+"_popup_container_searchPanel")},t.prototype.getSearchIcon=function(n,t){return n.find("#"+t+"_popup_container_searchIcon")},t.prototype.getSearchTextBox=function(n,t){return n.find("#"+t+"_popup_container_searchBox")},t.prototype.getPopupContainer=function(n){return this.dashboardDesigner.element.find("#"+n+"_popup_container")},t.prototype.getPopupCheckBox=function(n){return this.dashboardDesigner.element.find("#"+n+"_popup_container_Check_Box")},t.prototype.getPopupListBox=function(n){return this.dashboardDesigner.element.find("#"+n+"_popup_container_list_Box")},t.prototype.getIncludeRadioButton=function(n){return this.dashboardDesigner.element.find("#"+n+"_popup_container_list_Box_radio1")},t.prototype.getExcludeRadioButton=function(n){return this.dashboardDesigner.element.find("#"+n+"_popup_container_list_Box_radio2")},t.prototype.getPopupApplyButton=function(n){return this.dashboardDesigner.element.find("#"+n+"_popup_container_ok_btn")},t.prototype.getPopupCancelButton=function(n){return this.dashboardDesigner.element.find("#"+n+"_popup_container_cancel_btn")},t.prototype.getPopupListBoxDiv=function(n){return this.dashboardDesigner.element.find("#"+n+"_popup_container_list_Box_div")},t.prototype.getComboBoxTextField=function(n){return this.dashboardDesigner.element.find("#"+n+"_multi_select_dropDown_text")},t}();t.ListMultiSelectionComboBox=i})(t=n.Dashboard||(n.Dashboard={}))}(BoldBIDashboard||(BoldBIDashboard={}));var ComboBoxModel=function(){function n(){}return n}(),ListValueInfo=function(){function n(){this.filterValues=[];this.requestInfo=null}return n}(),InternalMultiSelectionComboBox=function(){function n(n){this.waterMarkText="Search";this.listFieldName="text";this.listBoxElement=null;this.allowVirtualScrolling=!1;this.isDataLoaded=!1;this.dataConfiguration=null;this.ajaxRequestCollection=[];this.dataGroupInfo=null;this.currentData=null;this.isInitialLoad=null;this.isFiltered=!1;this.isFilterCleared=!1;this.isTriggered=!1;this.dimensionFilterInfo=null;this.checkAllState=!0;this.isInitialFilter=!1;this.filterInfo=[];this.unselectedItems={};this.selectedItems={};this.changedItems={};this.listBoxSelectedItems=[];this.listSize=1;this.filteringIndex=1;this.hasFilteredItems=!1;this.locale=null;this.dashboardDesigner=n;this.bbdesigner$=this.dashboardDesigner.bbdesigner$;this.locale=n.getLocalizationContent();this.id=this.dashboardDesigner._id;this.widgetHelper=this.dashboardDesigner.modules.widgetHelper;this.virtualScrollSettings=new VirtualScrollSettings;this.dataConfiguration=this.dashboardDesigner.modules.dataConfiguration;(this.dashboardDesigner.isDesignMode()||this.dashboardDesigner.isViewMode()||this.dashboardDesigner.isDesignPreviewMode())&&(this.dataGroupInfo=new BoldBIDashboard.Dashboard.DataGroupInfo)}return n.prototype.resetMultiSelection=function(n){this.dashboardDesigner.element.find("#"+n+"_popup_container").remove();this.dashboardDesigner.element.find("#"+n+"_multi_select_dropDown_text").empty()},n.prototype.renderMultiSelectionComboBox=function(n,t,i,r){var e,f,o,u;this.resetMultiSelection(t);this.isInitialFilter=!1;this.isFilterCleared=!1;e=BoldBIDashboard.isNullOrUndefined(this.dashboardDesigner.designerPanel)?null:this.widgetHelper.getCurrentWidgetInstance();BoldBIDashboard.isNullOrUndefined(e)||(this.dataGroupInfo=e.DataGroupInfo);this.dataSetId=i;this.rowId=t;f=BoldBIDashboard.buildTag("div.bbi-multiselect-dropdown-item","",{width:n.width()},{id:t+"_multi_select_dropDown"});o="All";BoldBIDashboard.isNullOrUndefined(r)||BoldBIDashboard.isNullOrUndefined(r.filterInfo)||(u=r.filterInfo.AllowFilterInfo,o=BoldBIDashboard.isNullOrUndefined(u)||BoldBIDashboard.isNullOrUndefined(u.FilterValues)||u.IsCheckAll?"All":u.FilterValues.toString());var h=BoldBIDashboard.buildTag("div",o,{"border-style":"none",width:n.width()-38,height:"100%","padding-left":"5px","line-height":"28px",float:"left","text-overflow":"ellipsis","white-space":"nowrap",overflow:"hidden"},{id:t+"_multi_select_dropDown_text"}),s=BoldBIDashboard.buildTag("div.bbi-designer-multi-selection-arrow-container","",{display:"inline-block",width:"33px",height:"100%"},{}),c=BoldBIDashboard.buildTag("span.bbi-designer-ejwidgets-updown e-icon e-arrow-sans-down","",{color:"#666666",padding:"7px 10px"});s.append(c);f.append(h,s);this.checkAllState=!0;this.selectedItems={};this.unselectedItems={};this.changedItems={};this.listBoxSelectedItems=[];this.currentData=[];this.dimensionFilterInfo=null;this.isFiltered=!1;this.isFilterCleared=!1;this.hasFilteredItems=!1;f.on("click",this.bbdesigner$.proxy(this.showPopupContainer,this,n,t,i,r));n.append(f).data("MultiSelectionComboBox",this);this.renderPopupContainer(t)},n.prototype.renderPopupContainer=function(n){var r=BoldBIDashboard.buildTag("div.e-multiselect-popup-container boldbi-dashboarddesigner","",{"min-width":"230px",height:"270px",position:"absolute",border:"1px solid #dddddd","background-color":"white","border-radius":"3px",display:"none","z-index":"10100",width:"245px"},{id:n+"_popup_container","data-rowid":n}),u=BoldBIDashboard.buildTag("table","",{width:"100%",padding:"5px 10px"},{}),f=BoldBIDashboard.buildTag("tr","",{},{}),e=BoldBIDashboard.buildTag("td","",{width:"50%"},{}),o=BoldBIDashboard.buildTag("td","",{width:"50%"},{}),s=BoldBIDashboard.buildTag("input","",{},{type:"checkbox",id:n+"_popup_container_Check_Box"}),k=BoldBIDashboard.buildTag("label",this.locale.dialogText.checkAll,{"margin-left":"10px","font-size":"14px"},{"for":n+"_popup_container_Check_Box"}),t,i;this.renderSearchPanel(o,n);e.append(s,k);f.append(e,o);u.append(f);t=BoldBIDashboard.buildTag("div.e-multiselect-waiting-popup","",{height:"150px","background-color":"white","box-sizing":"border-box","-moz-box-sizing":"border-box","-webkit-box-sizing":"border-box","z-index":"1010",padding:"5px 10px"},{id:n+"_popup_container_list_Box_div"});this.listBoxElement=BoldBIDashboard.buildTag("ul","",{},{id:n+"_popup_container_list_Box"});t.append(this.listBoxElement);var h=BoldBIDashboard.buildTag("table","",{width:"100%",padding:"5px 10px","border-bottom":"1px solid #dddddd"},{}),c=BoldBIDashboard.buildTag("tr","",{},{}),l=BoldBIDashboard.buildTag("td","",{width:"50%"},{}),a=BoldBIDashboard.buildTag("td","",{width:"50%"},{}),v=BoldBIDashboard.buildTag("input","",{"margin-left":"2px"},{type:"radio",name:"filtercondition",id:n+"_popup_container_list_Box_radio1"}),d=BoldBIDashboard.buildTag("label","Include",{"font-size":"12px","font-color":"#303541","padding-left":"3px"},{"for":n+"_popup_container_list_Box_radio1",type:"label"}),y=BoldBIDashboard.buildTag("input","",{"margin-left":"2px"},{type:"radio",name:"filtercondition",id:n+"_popup_container_list_Box_radio2"}),g=BoldBIDashboard.buildTag("label","Exclude",{"font-size":"12px","font-color":"#303541","padding-left":"3px"},{"for":n+"_popup_container_list_Box_radio2",type:"label"});h.append(c);c.append(l,a);l.append(v,d);a.append(y,g);var p=BoldBIDashboard.buildTag("div.e-footerbar.e-dialog.e-js","",{width:"100%",height:"45px","box-sizing":"border-box","-moz-box-sizing":"border-box","-webkit-box-sizing":"border-box",padding:"10px 5px"},{}),w=BoldBIDashboard.buildTag("button.bbi-dbrd-btn-small bbi-dbrd-btn-primary",this.locale.dialogOptions.applyButtonText,{float:"right"},{id:n+"_popup_container_ok_btn",type:"button"}),b=BoldBIDashboard.buildTag("button.bbi-dbrd-btn-small bbi-dbrd-btn-secondary bbi-dbrd-margin-left",this.locale.dialogOptions.cancelButtonText,{float:"right"},{id:n+"_popup_container_cancel_btn",type:"button"});p.append(b,w);r.append(u,t,h,p);this.dashboardDesigner.element.append(r);w.on("click",this.bbdesigner$.proxy(this.updatePopupContainerInformation,this,n));b.on("click",this.bbdesigner$.proxy(this.closePopupContainer,this,n));s.BoldBIDashboardCheckBox({width:"100%",change:this.bbdesigner$.proxy(this.updateCheckItemCheckChange,this,n)});i=this.getDefaultData();this.listBoxElement.BoldBIDashboardListBox({dataSource:i.Datasource,fields:i.Fields,showCheckbox:!0,width:"100%",height:"100%",cssClass:"bbi-dbrd-control",actionBegin:this.bbdesigner$.proxy(this.renderInitialData,this),actionComplete:this.bbdesigner$.proxy(this.updateItemSelection,this)});this.listBoxElement.BoldBIDashboardListBox("hideAllItems");v.BoldBIDashboardRadioButton({checked:!0,size:"small",cssClass:"e-designer-radio",change:this.bbdesigner$.proxy(this.updateListCondition,this,n)});y.BoldBIDashboardRadioButton({size:"small",cssClass:"e-designer-radio",change:this.bbdesigner$.proxy(this.updateListCondition,this,n)});t.BoldBIDashboardWaitingPopup({showOnInit:!1,cssClass:"e-designer-waitingpopup "+this.id+"_designer_waiting_popup bbi-designer-loader"})},n.prototype.renderSearchPanel=function(n,t){var i=BoldBIDashboard.buildTag("div","",{width:"107px",height:"16px",float:"right","margin-top":"3px"},{id:t+"_popup_container_searchPanel"}),r=BoldBIDashboard.buildTag("input.bbi-designer-fieldcontainer-search-dataassign","",{"border-radius":"5px","padding-left":"5px",color:"lightgrey","font-size":"11px",float:"left",width:"100px",height:"15px",border:"1px solid lightGray","font-style":"italic"},{id:t+"_popup_container_searchBox",placeholder:this.waterMarkText}),u=BoldBIDashboard.buildTag("div","",{},{id:t+"_popup_container_searchIcon","class":"e-icon e-search bbi-designer-popup-container-search-icon"});i.append(r);i.append(u);n.append(i);r.on("focus",this.bbdesigner$.proxy(this.onSearchFocus,this,t))},n.prototype.showPopupContainer=function(n,t,i,r){var e=this.getMultiSelectionComboBox(t),l=e.attr("data-fieldValue"),h=e.attr("data-fieldText"),o=this.dateFormats(e.attr("data-dateFormat")),f=this.getPopupContainer(t),a=f.height(),u;this.listBoxElement=this.getPopupListBox(t);var c=this.listBoxElement.data("BoldBIDashboardListBox"),y=f.css("display")==="block",s=n.offset(),v=s.left+parseFloat(n.css("padding-left"));n.width()<245&&(v=s.left+parseFloat(n.css("padding-left"))-(246-n.width()));var p=window.innerHeight-(s.top+n.height()),w=p>a,b=w?s.top+n.height()+2:s.top-a-4;f.css({left:v,top:b-this.dashboardDesigner.element.offset().top,display:y?"none":"block","z-index":BoldBIDashboard.getMaxZindex()});BoldBIDashboard.isNullOrUndefined(c)||c.hideAllItems();this.updateDropDownIcon(f,t);u=this.getPopupListBoxDiv(t);f.css("display")==="block"?(BoldBIDashboard.isNullOrUndefined(r)?BoldBIDashboard.isNullOrUndefined(o)?BoldBIDashboard.isNullOrUndefined(u.attr("data-fieldText"))||u.attr("data-fieldText")!==h?(this.filterInfo=[{Id:l,Name:h,SummaryType:"None",FieldType:"Dimensions"}],this.clearListItems(),this.getInitialFilterValues(t,o)):this.setPopupValues(t):BoldBIDashboard.isNullOrUndefined(u.attr("data-fieldText"))||u.attr("data-fieldText")!==h||BoldBIDashboard.isNullOrUndefined(u.attr("data-dateField"))||u.attr("data-dateField")!==o?(this.filterInfo=[{Id:l,Name:h,SummaryType:"None",FieldType:"Dimensions",DateTimeFormat:o}],this.clearListItems(),this.getInitialFilterValues(t,o)):this.setPopupValues(t):(this.dimensionFilterInfo=r,BoldBIDashboard.isNullOrUndefined(u.attr("data-isLoaded"))?this.getFieldValues(t,r):this.setPopupValues(t)),this.dashboardDesigner.element.find(".e-multiselect-popup-container-visible").length>0&&this.updatePopupContainerVisibility(this.dashboardDesigner.element.find(".e-multiselect-popup-container-visible")),e.addClass("bbi-dbrd-filter-dropdown"),f.addClass("e-multiselect-popup-container-visible")):(f.removeClass("e-multiselect-popup-container-visible"),e.removeClass("bbi-dbrd-filter-dropdown"),this.hideLoadingIndicator(t));c._refreshScroller()},n.prototype.getInitialFilterValues=function(n,t){this.ajaxRequestCollection.push(this.dashboardDesigner.modules.util.doAjaxPost("POST",this.dashboardDesigner.model.serviceUrl+BoldBIDashboard.Dashboard.ServiceAPI.processdata,{action:BoldBIDashboard.DashboardUtil.DesignerAction.getData,data:JSON.stringify({className:BoldBIDashboard.DashboardUtil.DesignerAction.FilterAction,designerAction:BoldBIDashboard.DashboardUtil.DesignerAction.getData,fieldInfo:this.filterInfo,dataSetId:this.dataSetId,filterType:"InitialFilter",hasFilter:!0,isQueryDesignerMode:this.dashboardDesigner.isQueryDesignerMode})},{fnction:this.bbdesigner$.proxy(this.setFieldInformation,this,n,this.filterInfo[0].Name,t),indicator:[this.bbdesigner$.proxy(this.showLoadingIndicator,this,n),this.bbdesigner$.proxy(this.hideLoadingIndicator,this,n)]}))},n.prototype.getFieldValues=function(n,t){var i,r;this.virtualScrollSettings.StartIndex=1;i=t.fieldInfo;i.FilterInfo=null;r=[i];this.dashboardDesigner.modules.util.doAjaxPost("POST",this.dashboardDesigner.model.serviceUrl+BoldBIDashboard.Dashboard.ServiceAPI.processdata,{action:BoldBIDashboard.DashboardUtil.DesignerAction.getData,data:JSON.stringify({className:BoldBIDashboard.DashboardUtil.DesignerAction.FilterAction,designerAction:BoldBIDashboard.DashboardUtil.DesignerAction.getData,fieldInfo:r,dataSetId:i.DatasourceID,startIndex:this.virtualScrollSettings.StartIndex,pageSize:this.virtualScrollSettings.PageSize,isQueryDesignerMode:this.dashboardDesigner.isQueryDesignerMode})},{fnction:this.bbdesigner$.proxy(this.setFilter,this,t,n),indicator:[this.bbdesigner$.proxy(this.showLoadingIndicator,this,n),this.bbdesigner$.proxy(this.hideLoadingIndicator,this,n)]})},n.prototype.setFilter=function(n,t,i){var u=JSON.parse(i.jsonData),r;this.allowVirtualScrolling=i.hasMoreRecords;this.listFieldName=n.fieldInfo.UniqueColumnName;this.setDataSource(t,u);this.getPopupListBoxDiv(t).attr("data-isLoaded","loaded");r=!BoldBIDashboard.isNullOrUndefined(n.filterInfo)&&!BoldBIDashboard.isNullOrUndefined(n.filterInfo.AllowFilterInfo)?n.filterInfo.AllowFilterInfo:null;BoldBIDashboard.isNullOrUndefined(r)||this.populateMultiSelectionItem(t,r);this.setPopupValues(t)},n.prototype.setDataSource=function(n,t){this.currentData=this.getDataSource(t);this.isInitialLoad=!0;this.listBoxElement.BoldBIDashboardListBox({dataSource:this.allowVirtualScrolling?this.updateDataManager():this.currentData,allowVirtualScrolling:!0,fields:{id:this.listFieldName,text:this.listFieldName},virtualScrollMode:"continuous",itemRequestCount:this.virtualScrollSettings.PageSize,actionComplete:this.bbdesigner$.proxy(this.updateItemSelection,this),actionSuccess:this.bbdesigner$.proxy(this.addLoader,this)});this.isInitialLoad=!1;this.listBoxElement.BoldBIDashboardListBox("showAllItems")},n.prototype.getDefaultData=function(){return{Datasource:[{itemId:"i1",itemName:"Item1"},{itemId:"i2",itemName:"Item2"},{itemId:"i3",itemName:"Item3"},{itemId:"i4",itemName:"Item4"},{itemId:"i5",itemName:"Item5"},{itemId:"i6",itemName:"Item6"},{itemId:"i7",itemName:"Item7"}],Fields:{id:"itemId",text:"itemName"}}},n.prototype.updateDataManager=function(){var n=this,t=new BoldBIDashboard.Adaptor(null).extend({processQuery:this.bbdesigner$.proxy(this.processQuery,this),beforeSend:function(t,i){n.dashboardDesigner.beforeSendRequestForDataManager("OnDemandDataAction",i)},processResponse:this.bbdesigner$.proxy(this.processResponse,this)});return new BoldBIDashboard.DataManager({url:this.dashboardDesigner.model.serviceUrl+BoldBIDashboard.Dashboard.ServiceAPI.processdata,adaptor:new t,crossDomain:!0})},n.prototype.renderInitialData=function(n){if(this.isInitialLoad&&!this.isFiltered){n.cancel=!0;var t=this.listBoxElement.data("BoldBIDashboardListBox");t.mergeData(this.currentData,!0);t.option("actionComplete",this.bbdesigner$.proxy(this.updateItemSelection,this));t.model.totalItemsCount=this.currentData.length+1;this.setItemEnable(this.rowId,!0);BoldBIDashboard.DashboardUtil.buttonEnable(this.getPopupCancelButton(this.rowId),!0)}},n.prototype.processQuery=function(n){var r,t,i,f,s,e,o,u;if(this.isInitialLoad&&!this.isFiltered||this.isTriggered)return n.cancel=!0,!1;for(r=this.listBoxElement.data("BoldBIDashboardListBox"),this.setItemEnable(this.rowId,!1),BoldBIDashboard.DashboardUtil.buttonEnable(this.getPopupCancelButton(this.rowId),!1),this.virtualScrollSettings.StartIndex=this.isFiltered?this.filteringIndex>1?r._listSize+1:1:r._listSize+1,t=this.isInitialFilter?this.filterInfo:this.dataConfiguration.convertDataGroupInfoToFieldInfo(this.dataGroupInfo),i=0;i<t.length;i++)if(t[i].Id===this.listFieldName||t[i].UniqueColumnName===this.listFieldName){(t[i].FilterInfo=null,this.isFiltered&&(f=JSON.parse(JSON.stringify(t[i])),t=[],t.push(f),s=this.getPopupSearchPanel(this.rowId),e=this.getSearchTextBox(s,this.rowId),e.val()!==""))&&(o=new FilterInfo,u=JSON.parse(JSON.stringify(f)),o.DimensionFilterInfo=this.getFilterInfo(this,e.val()),u.FilterInfo=o,u.isVisible=!1,t.push(u),this.isTriggered=!0);break}return r.setModel({checkChange:null}),{url:n.dataSource.url,type:"POST",contentType:"application/json",data:JSON.stringify({designerAction:BoldBIDashboard.DashboardUtil.DesignerAction.getData,className:BoldBIDashboard.DashboardUtil.DesignerAction.FilterAction,fieldInfo:t,dataSetId:BoldBIDashboard.isNullOrUndefined(this.dimensionFilterInfo)?this.dataSetId:this.dimensionFilterInfo.fieldInfo.DatasourceID,startIndex:this.virtualScrollSettings.StartIndex,pageSize:this.virtualScrollSettings.PageSize,filterType:this.isInitialFilter?"InitialFilter":"null",hasFilter:this.isFiltered,isQueryDesignerMode:this.dashboardDesigner.isQueryDesignerMode})}},n.prototype.processResponse=function(n){var t=this.listBoxElement.data("BoldBIDashboardListBox"),i;if(BoldBIDashboard.isNullOrUndefined(t)||BoldBIDashboard.isNullOrUndefined(n)||n.Error||n.data==="[]")this.isTriggered=!1,this.isFiltered&&(this.clearListItems(),this.getPopupSearchPanel(this.rowId).children().prop("disabled",!1).focus());else return i=JSON.parse(n.jsonData),this.isDataLoaded=!0,this.setItemEnable(this.rowId,!0),BoldBIDashboard.DashboardUtil.buttonEnable(this.getPopupCancelButton(this.rowId),!0),t.option("actionComplete",this.bbdesigner$.proxy(this.updateItemSelection,this)),this.isTriggered=!1,this.isFiltered?(this.listBoxElement.removeAttr("style"),t._refreshScroller(),t._loadInitialRemoteData=!0,this.filteringIndex===1&&(this.clearListItems(),t.mergeData(i,!0),this.filteringIndex=i.length+1,i=[]),t.model.totalItemsCount=n.hasMoreRecords?t._listSize+i.length+1:i.length<=5?1:i.length,this.removeListboxLoader(t),i):(t.model.totalItemsCount=n.hasMoreRecords?t._listSize+i.length+1:t._listSize+i.length,i);return[]},n.prototype.removeListboxLoader=function(n){BoldBIDashboard.isNullOrUndefined(n)||(n.listContainer.removeClass("e-load"),this.getPopupSearchPanel(this.rowId).children().prop("disabled",!1).focus())},n.prototype.processFilterDataRequest=function(n){var t=this,r=this.listBoxElement.data("BoldBIDashboardListBox"),i=this.getPopupSearchPanel(this.rowId),u=this.getSearchTextBox(i,this.rowId);this.getSearchIcon(i,n).addClass("e-close_01").removeClass("e-search");this.listBoxSelectedItems=[];r.listContainer.find("li .e-chkbox-wrap").filter("[aria-checked = true]").parent().each(function(n,i){t.listBoxSelectedItems.push(i.textContent)});this.clearListItems();setTimeout(function(){if(u.val().length>0){t.getPopupSearchPanel(n).children().prop("disabled",!0);u.removeClass("e-focus");t.getSearchIcon(i,n).off("click",t.bbdesigner$.proxy(t.onSearchCloseClick,t,n));t.getSearchIcon(i,n).on("click",t.bbdesigner$.proxy(t.onSearchCloseClick,t,n));r._oldStartValue=undefined;t.isFilterCleared=!1;t.isFiltered=!0;t.filteringIndex=1;t.filterInfo=[t.filterInfo[0]];t.listBoxElement.BoldBIDashboardListBox({dataSource:t.updateDataManager(),allowVirtualScrolling:!0,totalItemsCount:1,fields:{id:t.listFieldName,text:t.listFieldName},virtualScrollMode:"continuous",itemRequestCount:t.virtualScrollSettings.PageSize})}else t.getSearchIcon(i,n).addClass("e-search").removeClass("e-close_01"),t.isFilterCleared=!0,t.isFiltered=!1,t.isInitialFilter?(t.filterInfo=[t.filterInfo[0]],t.getInitialFilterValues(n,t.dateFormats(t.getMultiSelectionComboBox(n).attr("data-dateFormat")))):t.getFieldValues(n,t.dimensionFilterInfo)},800)},n.prototype.getFilterInfo=function(n,t){var i=new DimensionFilterInfo;return i.IsAllowFilteringApplied=!0,i.AllowFilterInfo=new AllowFilteringInfo,i.AllowFilterInfo.Conditions=BoldBIDashboard.isNullOrUndefined(this.getMultiSelectionComboBox(this.rowId).attr("data-dateField")||this.getPopupListBoxDiv(this.rowId).attr("data-dateField"))?TextFilterOption.Contains.toString():null,i.AllowFilterInfo.IsInclude=!0,i.AllowFilterInfo.FilterValues=[t],i},n.prototype.getDataSource=function(n){for(var i=function(t){n[t][Object.keys(n[t])]=Object.keys(n[t].valueOf()).map(function(i){return n[t].valueOf()[i].toString()})},t=0;t<n.length;t++)i(t);return n},n.prototype.setFieldInformation=function(n,t,i,r){var u,f,o,e;if(this.isInitialFilter=!0,u=JSON.parse(r.jsonData),!BoldBIDashboard.isNullOrUndefined(u)&&u.length>0){f=this.getPopupListBox(n).data("BoldBIDashboardListBox");for(o in u[0])this.listFieldName=o;u=this.getDataSource(u);this.allowVirtualScrolling=r.hasMoreRecords;this.setDataSource(n,u);e=this.getPopupListBoxDiv(n);BoldBIDashboard.isNullOrUndefined(f)||(f._oldStartValue=undefined);BoldBIDashboard.isNullOrUndefined(i)||e.attr("data-dateField",i);e.attr("data-fieldText",t);this.setPopupValues(n)}},n.prototype.addLoader=function(){var n=this.listBoxElement.data("BoldBIDashboardListBox");this.isFiltered&&this.isTriggered&&n.listContainer.addClass("e-load")},n.prototype.updateItemSelection=function(){var n=this.listBoxElement.data("BoldBIDashboardListBox"),i=!1,r=this.getPopupCheckBox(this.rowId).data("BoldBIDashboardCheckBox"),t;BoldBIDashboard.isNullOrUndefined(n)||((BoldBIDashboard.isNullOrUndefined(r.model.checkState)||r.model.checkState.indexOf("check")==0&&r.model.checked&&Object.keys(this.changedItems).length==0&&Object.keys(this.selectedItems).length==0)&&n.checkAll(),this.hasFilteredItems&&(t=this.checkAllState?this.getItemIndices(this.unselectedItems):this.getItemIndices(this.selectedItems),BoldBIDashboard.isNullOrUndefined(this.checkAllState)||this.checkAllState?n.checkAll():n.uncheckAll(),t.length>0&&(i=!0,this.checkAllState?n.uncheckItemsByIndices(t):n.checkItemsByIndices(t))),Object.keys(this.changedItems).length>0?(t=this.getItemIndices(this.changedItems),t.length>0?this.checkAllState?((n._listSize>=100||this.listSize>=100||!this.allowVirtualScrolling)&&n.checkAll(),n.uncheckItemsByIndices(t)):(i||n.uncheckAll(),n.checkItemsByIndices(t)):i||(this.checkAllState?n.checkAll():n.uncheckAll())):this.checkAllState||Object.keys(this.changedItems).length!=0||this.hasFilteredItems||n.uncheckAll(),n.setModel({checkChange:this.bbdesigner$.proxy(this.updateListItemCheckChange,this,this.rowId)}))},n.prototype.getItemIndices=function(n){var i=this,t=[];return Object.keys(n).forEach(function(n){var u=i.listBoxElement.find("li").filter(function(){return i.bbdesigner$(this).text()===n}),r;BoldBIDashboard.isNullOrUndefined(u)||(r=u.index(),r!==-1&&t.indexOf(r)===-1&&t.push(r))}),t},n.prototype.getCheckedUncheckedItems=function(n){for(var r=[],i=this.listBoxElement.find("li .e-chkbox-wrap").filter("[aria-checked ="+n+"]"),t=0;t<i.length;t++)this.selectedItems.hasOwnProperty(i[t].parentElement.textContent)||r.push(i[t].parentElement.textContent);return r},n.prototype.getSelectedItems=function(n,t){var u,f,r,i;if(!BoldBIDashboard.isNullOrUndefined(n)&&n.length>0){if(u=this.listBoxElement.find("li .e-chkbox-wrap"),f=u.length-n.length,u.length>0&&(this.hasFilteredItems=n.length>0),this.currentData!=null&&(t&&this.checkAllState||!t&&this.checkAllState))for(r=0;r<this.currentData.length;r++)n.indexOf(Object.values(this.currentData[r])[0].toString())==-1&&(this.selectedItems[Object.values(this.currentData[r])[0].toString()]=!0);for(i=0;i<n.length;i++)t&&this.checkAllState||!t&&this.checkAllState?this.unselectedItems[i]!=""&&(this.unselectedItems[n[i]]=!1):this.selectedItems[i]!=""&&(this.selectedItems[n[i]]=!0)}},n.prototype.setPopupValues=function(n){var t=this.getPopupCheckBox(n),f=this.getPopupListBox(n),i=f.data("BoldBIDashboardListBox"),r,u;BoldBIDashboard.isNullOrUndefined(i)||i.showAllItems();r=this.getPopupRadioButton1(n);!BoldBIDashboard.isNullOrUndefined(t)&&t.length>0&&(this.checkAllState&&Object.keys(this.changedItems).length==0&&Object.keys(this.selectedItems).length==0&&Object.keys(this.unselectedItems).length==0?(t.data("BoldBIDashboardCheckBox").setModel({enableTriState:!1}),t.data("BoldBIDashboardCheckBox").setModel({checkState:"checked",checked:!0}),i.checkAll(),i.setModel({checkChange:this.bbdesigner$.proxy(this.updateListItemCheckChange,this,n)})):this.checkAllState||Object.keys(this.changedItems).length!==0||Object.keys(this.selectedItems).length!=0||Object.keys(this.unselectedItems).length!=0?BoldBIDashboard.isNullOrUndefined(t.data("Filters"))?BoldBIDashboard.isNullOrUndefined(t.data("Filters"))&&Object.keys(this.changedItems).length>=i._listSize?t.data("BoldBIDashboardCheckBox").setModel({checkState:"check",checked:!0}):t.data("BoldBIDashboardCheckBox").setModel({enableTriState:!0,checkState:"indeterminate"}):i._listSize<=t.data("Filters").length&&Object.keys(this.changedItems).length>=i._listSize&&this.checkAllState?t.data("BoldBIDashboardCheckBox").setModel({checkState:"check",checked:!0}):t.data("BoldBIDashboardCheckBox").setModel({enableTriState:!0,checkState:"indeterminate"}):t.data("BoldBIDashboardCheckBox").setModel({checkState:"check",checked:!1}),this.isFilterCleared||(u=BoldBIDashboard.isNullOrUndefined(r.attr("Condition"))||r.attr("Condition")==="Include",u?r.data("BoldBIDashboardRadioButton").setModel({checked:u}):this.getPopupRadioButton2(n).data("BoldBIDashboardRadioButton").setModel({checked:!0})))},n.prototype.getPopupContainerInformation=function(n){var t=this.getPopupCheckBox(n),r=this.getPopupListBox(n),i=this.getPopupRadioButton1(n);return{IsCheckAll:BoldBIDashboard.isNullOrUndefined(t.attr("IsSelectAll"))||t.attr("IsSelectAll")==="true",CheckAllState:this.checkAllState,IsInclude:BoldBIDashboard.isNullOrUndefined(i.attr("Condition"))||i.attr("Condition")==="Include"&&!this.checkAllState||i.attr("Condition")==="Exclude"&&this.checkAllState,FilterValues:BoldBIDashboard.isNullOrUndefined(t.data("Filters"))?null:t.data("Filters")}},n.prototype.showLoadingIndicator=function(n){var t=this.listBoxElement.data("BoldBIDashboardListBox");BoldBIDashboard.isNullOrUndefined(t)||t.listContainer.hasClass("e-load")||this.getPopupListBoxDiv(n).BoldBIDashboardWaitingPopup("show");this.getPopupCheckBox(n).data("BoldBIDashboardCheckBox").disable();this.getPopupRadioButton1(n).data("BoldBIDashboardRadioButton").disable();this.getPopupRadioButton2(n).data("BoldBIDashboardRadioButton").disable();this.setItemEnable(n,!1);BoldBIDashboard.DashboardUtil.buttonEnable(this.getPopupCancelButton(n),!1);this.getPopupSearchPanel(n).children().prop("disabled",!0)},n.prototype.hideLoadingIndicator=function(n){var t=this.getPopupContainer(n);!BoldBIDashboard.isNullOrUndefined(t)&&t.length>0&&(this.getPopupListBoxDiv(n).BoldBIDashboardWaitingPopup("hide"),this.getPopupCheckBox(n).data("BoldBIDashboardCheckBox").enable(),this.getPopupRadioButton1(n).data("BoldBIDashboardRadioButton").enable(),this.getPopupRadioButton2(n).data("BoldBIDashboardRadioButton").enable(),this.setItemEnable(n,!0),BoldBIDashboard.DashboardUtil.buttonEnable(this.getPopupCancelButton(n),!0),this.getPopupSearchPanel(n).children().prop("disabled",!1))},n.prototype.populateMultiSelectionItem=function(n,t){var i;BoldBIDashboard.isNullOrUndefined(t)||BoldBIDashboard.isNullOrUndefined(t.FilterValues)?(this.getComboBoxTextField(n).text("All"),this.checkAllState=!0,this.getPopupCheckBox(n).attr("IsSelectAll","true"),this.isFilterCleared||this.getPopupRadioButton1(n).attr("Condition","Include"),this.getPopupCheckBox(n).data("Filters",null)):BoldBIDashboard.isNullOrUndefined(t)||Object.keys(this.selectedItems).length!=0&&Object.keys(this.unselectedItems).length!=0?(Object.keys(this.selectedItems).length>0||Object.keys(this.unselectedItems).length>0)&&(this.checkAllState||(i=this.getPopupCheckBox(n).data("Filters"),this.getComboBoxTextField(n).text(i))):this.isFilterCleared||(this.checkAllState=t.CheckAllState,this.isFiltered=!1,this.getSelectedItems(t.FilterValues,t.IsInclude),i=t.IsCheckAll||BoldBIDashboard.isNullOrUndefined(t.FilterValues)?"All":this.checkAllState?this.locale.queryDesigner.selectedMultipleValuesInComboBox:t.FilterValues.toString().replace(/^[,\s]+|[,\s]+$/g,"").replace(/,[,\s]*,/g,","),this.getComboBoxTextField(n).text(i),this.getPopupCheckBox(n).data("Filters",this.getFilterArrayValues(t)),this.getPopupCheckBox(n).attr("IsSelectAll",t.IsCheckAll),this.getPopupRadioButton1(n).attr("Condition",t.IsInclude&&!t.CheckAllState||!t.IsInclude&&t.CheckAllState?"Include":"Exclude"))},n.prototype.getFilterArrayValues=function(n){var i="",t=[];return!BoldBIDashboard.isNullOrUndefined(n.FilterValues)&&n.FilterValues.length>0&&!n.IsCheckAll?n.FilterValues.forEach(function(n){n.indexOf(i)!==-1?n.split(i).forEach(function(){n!==""&&t.push(n)}):n!==""&&t.push(n)}):t=n.FilterValues,t},n.prototype.onSearchFocus=function(n){var i=this.getPopupSearchPanel(n),t=this.getSearchTextBox(i,n);t.addClass("e-focus");t.val()===""&&t.val("");t.css("color","grey");t.off("keyup",this.bbdesigner$.proxy(this.processFilterDataRequest,this));t.on("keyup",this.bbdesigner$.proxy(this.processFilterDataRequest,this,n))},n.prototype.clearSearchText=function(n,t,i){this.getSearchIcon(n,t).addClass("e-search").removeClass("e-close_01");var r=this.getSearchIcon(n,t);this.clearListItems();this.isFiltered=!1;this.isFilterCleared=!0;i.off("keyup",this.bbdesigner$.proxy(this.processFilterDataRequest,this));r.off("click",this.bbdesigner$.proxy(this.onSearchCloseClick,this,t));i.removeClass("e-focus");i.val("");i.css("color","lightgrey");this.isInitialFilter?(this.filterInfo=[this.filterInfo[0]],this.getInitialFilterValues(t,this.dateFormats(this.getMultiSelectionComboBox(t).attr("data-dateFormat")))):this.getFieldValues(t,this.dimensionFilterInfo)},n.prototype.clearListItems=function(){var n=this.listBoxElement.data("BoldBIDashboardListBox");BoldBIDashboard.isNullOrUndefined(n)||(n._loadInitialRemoteData=!0,this.listSize=n._listSize,n._oldStartValue=undefined,n.totalItemsCount=n._listSize,!BoldBIDashboard.isNullOrUndefined(n._listitems)&&n._listSize>0?this.listBoxElement.empty():n.model.totalItemsCount=n._listSize+1)},n.prototype.onSearchCloseClick=function(n){var t=this.getPopupSearchPanel(n),i=this.getSearchTextBox(t,n);this.clearSearchText(t,n,i)},n.prototype.updateCheckItemCheckChange=function(n,t){var r=this,f=this.getPopupCheckBox(n).data("BoldBIDashboardCheckBox"),i=this.getPopupListBox(n).data("BoldBIDashboardListBox"),u;if(t.isInteraction){if(this.isFiltered&&i.mergeValue.length>0)for(i.mergeValue.forEach(function(n){var i=Object.keys(n)[0];delete r.changedItems[n[i]];delete r.selectedItems[n[i]];delete r.unselectedItems[n[i]];r.checkAllState!==t.isChecked&&(r.changedItems[n[i]]=t.isChecked)}),u=0;u<i.mergeValue.length;u++)t.isChecked?i.checkItemByIndex(u):i.uncheckItemByIndex(u);else i.setModel({checkChange:null}),f.setModel({enableTriState:!1}),this.changedItems={},this.selectedItems={},this.unselectedItems={},this.hasFilteredItems=!1,t.isChecked?(this.checkAllState=!0,i.checkAll(),this.setItemEnable(n,this.getPopupRadioButton1(n).data("BoldBIDashboardRadioButton").model.checked)):(this.checkAllState=!1,i.uncheckAll(),this.setItemEnable(n,!1)),i.setModel({checkChange:this.bbdesigner$.proxy(this.updateListItemCheckChange,this,n)});i.setModel({checkChange:this.bbdesigner$.proxy(this.updateListItemCheckChange,this,n)})}},n.prototype.updateListItemCheckChange=function(n,t){if(t.isInteraction&&!BoldBIDashboard.isNullOrUndefined(t.event)){var i=this.getPopupCheckBox(n).data("BoldBIDashboardCheckBox"),f=this.getPopupListBox(n).data("BoldBIDashboardListBox"),u=t.item[0].firstElementChild,r=JSON.parse(this.bbdesigner$(u).attr("aria-checked"));this.checkAllState==r||(!this.checkAllState||this.unselectedItems.hasOwnProperty(t.text))&&(this.checkAllState||this.selectedItems.hasOwnProperty(t.text))?(delete this.changedItems[t.text],delete this.selectedItems[t.text],delete this.unselectedItems[t.text]):this.changedItems[t.text]=r;(this.listBoxElement.find("li .e-chkbox-wrap").filter("[aria-checked = true]").length!=0||!this.isFiltered||this.checkAllState||Object.keys(this.selectedItems).length!=0)&&(this.listBoxElement.find("li .e-chkbox-wrap").filter("[aria-checked = true]").length!=0||this.isFiltered)?this.listBoxElement.find("li .e-chkbox-wrap").filter("[aria-checked = false]").length==0&&this.isFiltered&&this.checkAllState&&Object.keys(this.changedItems).length==0||this.listBoxElement.find("li .e-chkbox-wrap").filter("[aria-checked = false]").length==0&&!this.isFiltered?(this.setItemEnable(n,!0),i.setModel({enableTriState:!1}),i.setModel({checkState:"check",checked:!0}),this.isFiltered||(this.checkAllState=!0)):(this.setItemEnable(n,!0),i.setModel({enableTriState:!0,checkState:"indeterminate"})):(this.setItemEnable(n,!1),i.setModel({checkState:"check",checked:!1}),this.isFiltered||(this.checkAllState=!1))}},n.prototype.updateListCondition=function(n){var i=this.getPopupListBox(n).data("BoldBIDashboardListBox"),t=i.getCheckedItems();t.length===0&&this.checkAllState&&Object.keys(this.unselectedItems).length==0&&Object.keys(this.changedItems).length==0||t.length===0&&!this.checkAllState&&Object.keys(this.selectedItems).length==0&&Object.keys(this.changedItems).length==0?this.setItemEnable(n,!1):this.setItemEnable(n,!0)},n.prototype.setItemEnable=function(n,t){var i=this.getPopupOkButton(n);BoldBIDashboard.DashboardUtil.buttonEnable(i,t)},n.prototype.updatePopupContainerInformation=function(n){var r=this.getCheckedUncheckedItems(!0),f=this.getCheckedUncheckedItems(!1),i,t,o;if(this.isFiltered||Object.keys(this.changedItems).length>0)if(this.checkAllState)if(this.checkAllState&&Object.keys(this.changedItems).length>0){for(t=0;t<this.listBoxSelectedItems.length;t++)this.selectedItems.hasOwnProperty(this.listBoxSelectedItems[t])||r.includes(this.listBoxSelectedItems[t])||r.push(this.listBoxSelectedItems[t]);for(i=Object.keys(this.changedItems),t=0;t<i.length;t++)this.unselectedItems.hasOwnProperty(i[t])||f.includes(i[t])||f.push(i[t]);f=f.concat(Object.keys(this.unselectedItems))}else Object.keys(this.changedItems).length==0&&Object.keys(this.unselectedItems).length==0&&this.checkAllState&&(r=[],this.selectedItems=[]);else for(i=Object.keys(this.changedItems),t=0;t<i.length;t++)this.selectedItems.hasOwnProperty(i[t])||r.includes(i[t])||r.push(i[t]);var s=this.getPopupContainer(n),h=this.getComboBoxTextField(n),e=this.getPopupCheckBox(n),c=this.getPopupListBox(n),a=c.data("BoldBIDashboardListBox"),l=this.isFiltered,u=[];Object.keys(this.selectedItems).length>0&&(u=Object.keys(this.selectedItems));u=u.concat(r);this.clearSearchList(n);s.css("display","none");this.updateDropDownIcon(s,n);o=this.getPopupRadioButton1(n).data("BoldBIDashboardRadioButton").model.checked?"Include":"Exclude";!l&&e.data("BoldBIDashboardCheckBox").model.checked||u.length==0||u==[]?(h.text("All"),e.attr("IsSelectAll","true"),e.data("Filters",null)):(this.checkAllState?h.text(this.locale.queryDesigner.selectedMultipleValuesInComboBox):h.text(u.toString()),e.attr("IsSelectAll","false"),e.data("Filters",this.checkAllState?f:u),this.getSelectedItems(this.checkAllState?f:r,o==="Include"&&!this.checkAllState||o==="Exclude"&&this.checkAllState),this.dashboardDesigner.element.find(".e-error-tip").css("display","none"));this.getPopupRadioButton1(n).attr("Condition",o);s.removeClass("e-multiselect-popup-container-visible")},n.prototype.clearSearchList=function(n){var i=this.getPopupSearchPanel(n),t=this.getSearchTextBox(i,n),r=t.val();r!==""&&(t.removeClass("e-focus"),this.clearSearchText(i,n,t))},n.prototype.closePopupContainer=function(n){var t,i;this.clearSearchList(n);t=this.getPopupContainer(n);t.css("display","none");t.removeClass("e-multiselect-popup-container-visible");this.updateDropDownIcon(t,n);i=this.getPopupListBoxDiv(n).data("BoldBIDashboardWaitingPopup");i.model.showOnInit&&(this.hideLoadingIndicator(n),this.killPendingRequest())},n.prototype.hidePopups=function(){for(var t,i=this.dashboardDesigner.element.find(".e-multiselect-popup-container:visible"),n=0;n<i.length;n++)t=i.eq(n).attr("data-rowid"),this.getMultiSelectionComboBox(t).parent().data("MultiSelectionComboBox").hideMultiSelectionWaitingPopup(!0)},n.prototype.hideMultiSelectionWaitingPopup=function(){var t=this,i=this.dashboardDesigner.element.find(".e-multiselect-popup-container:visible .e-multiselect-waiting-popup"),n=this.bbdesigner$;i.each(function(i,r){n(r).length>0&&n(r).data("BoldBIDashboardWaitingPopup").model.showOnInit&&t.killPendingRequest()})},n.prototype.killPendingRequest=function(){if(this.ajaxRequestCollection.length>0)for(var n=0;n<this.ajaxRequestCollection.length;n++)this.ajaxRequestCollection[n].readyState<4&&this.ajaxRequestCollection[n].abort();this.ajaxRequestCollection=[]},n.prototype.isMultiSelectionPopupLoading=function(){var n=!1,i=this.dashboardDesigner.element.find(".e-multiselect-popup-container:visible").find(".e-multiselect-waiting-popup"),t=this.bbdesigner$;return i.each(function(i,r){t(r).length>0&&t(r).data("BoldBIDashboardWaitingPopup").model.showOnInit&&(n=!0)}),n},n.prototype.updatePopupContainerVisibility=function(n){if(!BoldBIDashboard.isNullOrUndefined(n)&&n.length>0){n.css("display","none");var t=n.attr("id").replace(/_popup_container/g,"");this.updateDropDownIcon(n,t)}},n.prototype.updateDropDownIcon=function(n,t){var i=this.getMultiSelectionComboBox(t);n.css("display")==="block"?i.find(".bbi-designer-ejwidgets-updown").removeClass("e-arrow-sans-down").addClass("e-arrow-sans-up"):i.find(".bbi-designer-ejwidgets-updown").removeClass("e-arrow-sans-up").addClass("e-arrow-sans-down")},n.prototype.getMultiSelectionComboBox=function(n){return this.dashboardDesigner.element.find("#"+n+"_multi_select_dropDown")},n.prototype.getComboBoxTextField=function(n){return this.dashboardDesigner.element.find("#"+n+"_multi_select_dropDown_text")},n.prototype.getPopupContainer=function(n){return this.dashboardDesigner.element.find("#"+n+"_popup_container")},n.prototype.getPopupListBoxDiv=function(n){return this.dashboardDesigner.element.find("#"+n+"_popup_container_list_Box_div")},n.prototype.getPopupCheckBox=function(n){return this.dashboardDesigner.element.find("#"+n+"_popup_container_Check_Box")},n.prototype.getPopupSearchPanel=function(n){return this.dashboardDesigner.element.find("#"+n+"_popup_container_searchPanel")},n.prototype.getSearchTextBox=function(n,t){return n.find("#"+t+"_popup_container_searchBox")},n.prototype.getSearchIcon=function(n,t){return n.find("#"+t+"_popup_container_searchIcon")},n.prototype.getPopupListBox=function(n){return this.dashboardDesigner.element.find("#"+n+"_popup_container_list_Box")},n.prototype.getPopupRadioButton1=function(n){return this.dashboardDesigner.element.find("#"+n+"_popup_container_list_Box_radio1")},n.prototype.getPopupRadioButton2=function(n){return this.dashboardDesigner.element.find("#"+n+"_popup_container_list_Box_radio2")},n.prototype.getPopupOkButton=function(n){return this.dashboardDesigner.element.find("#"+n+"_popup_container_ok_btn")},n.prototype.getPopupCancelButton=function(n){return this.dashboardDesigner.element.find("#"+n+"_popup_container_cancel_btn")},n.prototype.dateFormats=function(n){var t;switch(n){case"Date Time":t=DateTimeFormat.Default;break;case"Date Hour":t=DateTimeFormat.DateHour;break;case"Month Year":t=DateTimeFormat.MonthYear;break;case"Week Year":t=DateTimeFormat.WeekYear;break;case"Quarter Year":t=DateTimeFormat.QuarterYear;break;case"Day Month Year":t=DateTimeFormat.DayMonthYear;break;case"Month Day Year":t=DateTimeFormat.MonthDayYear;break;case"Day of Week":t=DateTimeFormat.DayOfWeek;break;case"Week of Year":t=DateTimeFormat.WeekOfYear;break;case"Hours":t=DateTimeFormat.Hour;break;case"Minutes":t=DateTimeFormat.Minute;break;case"Seconds":t=DateTimeFormat.Second;break;default:t=n}return t},n}();window.BoldBIDashboard.createObject("BoldBIDashboard.DashboardDesignerUtility.MultiSelectionComboBox",InternalMultiSelectionComboBox,window);var __extends=this&&this.__extends||function(){var n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,t){n.__proto__=t}||function(n,t){for(var i in t)t.hasOwnProperty(i)&&(n[i]=t[i])};return function(t,i){function r(){this.constructor=t}n(t,i);t.prototype=i===null?Object.create(i):(r.prototype=i.prototype,new r)}}(),ComboBoxProperties=function(n){function t(t){var i=n.call(this,t)||this;return i.__type="Syncfusion.Dashboard.Web.Serialization.Model.DOM.ComboBoxProperties",i.EnableMultiSelection=!1,i.AllowFilter=!1,i.SelectFirstItemByDefault=!1,i.DefaultSelectedIndices="0",i.UrlLink=null,i.IsAllSelected=!1,i.ParameterFieldSelected=[],i}return __extends(t,n),t}(WidgetProperties),TextFilterProperties=function(n){function t(t){var i=n.call(this,t)||this;return i.__type="Syncfusion.Dashboard.Web.Serialization.Model.DOM.TextFilterProperties",i}return __extends(t,n),t}(WidgetProperties),GridProperties=function(n){function t(t){var i=n.call(this,t)||this;return i.__type="Syncfusion.Dashboard.Web.Serialization.Model.DOM.GridProperties",i.AllowSorting=!0,i.AllowPaging=!1,i.FitContent=!1,i.ShowTooltip=!0,i.AllowFilter=!1,i.HorizontalGridLine=!0,i.VerticalGridLine=!1,i.EnableAlternativeRowColor=!1,i.RawData=!1,i.ShowHeader=!0,i.ShowBorder=!0,i.IsAutoHeaderFontSize=!0,i.HeaderFontSize=16,i.IsAutoRowFontSize=!0,i.RowFontSize=16,i.HeaderPadding=11,i.ContentPadding=11,i.EnableDataGrouping=!0,i.GridTemplate=[],i.HeaderSettings=new HeaderSettings,i.PoPSlaveSettings=new PoPSlaveSettings,i.HeaderHeight=42,i.RowHeight=32,i.AllowTextWrap=!1,i.ColumnAlignments=[],i.AlternativeRow=new ColorProperty,i.GridValueSection=new ColorProperty,i.NewHeaderSettings=new ColorProperty,i.AlternativeRow.Foreground.Color="#000000",i.AlternativeRow.Background.Color="#f7f7f7",i.GridValueSection.Foreground.Color="#000000",i.GridValueSection.Background.Color="#ffffff",i.NewHeaderSettings.Foreground.Color="#2D3748FF",i.NewHeaderSettings.Background.Color="#F3F7FAFF",i.PageSize=100,i.DisableVirtualization=!1,i.SummaryRowSettings=new SummaryRowSettings,i}return __extends(t,n),t}(TableWidgetProperties),ColumnAlignments=function(){function n(){this.__type="Syncfusion.Dashboard.Web.Serialization.Model.DOM.Grid.ColumnAlignments";this.HeaderAlign=BoldBIDashboard.DashboardDesignerUtility.Serialization.enumToString(TextAlignment,TextAlignment.Left);this.TextAlign=BoldBIDashboard.DashboardDesignerUtility.Serialization.enumToString(TextAlignment,TextAlignment.Left);this.ColumnWidth="";this.IsColumnWidthModified=!1}return n}(),PoPSlaveSettings=function(){function n(){this.__type="Syncfusion.Dashboard.Web.Serialization.DOM.Model.DOM.Grid.PoPSlaveSettings";this.PoPColumnSettings=[];this.PrimaryBackground="#CCFAFF";this.SecondaryBackground="#C0F2DC"}return n}(),PoPColumnSettings=function(){function n(){this.__type="Syncfusion.Dashboard.Web.Serialization.DOM.Model.DOM.Grid.PoPColumnSettings";this.IsSlaveForPop=!0;this.PopType="Absolute Difference"}return n}(),GridColumnSetting=function(){function n(){this.__type="Syncfusion.Dashboard.Web.Serialization.Model.DOM.Grid.GridColumnSetting"}return n}(),HeaderSettings=function(){function n(){this.__type="Syncfusion.Dashboard.Web.Serialization.Model.DOM.Grid.HeaderSettings";this.Foreground="#2D3748FF";this.Background="#F3F7FAFF"}return n}(),ColorProperty=function(){function n(){this.__type="Syncfusion.Dashboard.Web.Serialization.Model.DOM.Grid.ColorProperty";this.Foreground=new ColorSet;this.Background=new ColorSet}return n}(),ColorSet=function(){function n(){this.__type="Syncfusion.Dashboard.Web.Serialization.Model.DOM.Common.ColorSet";this.Color="";this.IsEdited=!1}return n}(),SummaryRowSettings=function(){function n(){this.EnableSummaryRow=!1;this.SummaryColumn=[]}return n}(),SummaryColumn=function(){function n(){this.SummaryRow=[]}return n}(),SummaryRow=function(){function n(){this.UniqueColumnName="";this.UniqueRowName="";this.Name="";this.Id="";this.Color="";this.SummaryType=SummaryType.SUM;this.ShowValue=!0;this.CustomExp="";this.MeasureFormat=new MeasureFormatting}return n}(),HeatMapProperties=function(n){function t(t){var i=n.call(this,t)||this;return i.__type="Syncfusion.Dashboard.Web.Serialization.Model.DOM.HeatMapProperties",i.CellSettings=new CellSettings,i.XAxisSettings=new AxisSettings,i.YAxisSettings=new AxisSettings,i.LegendSettings=new LegendSettings,i.ColorSettings=new ColorSettings,i.DefaultColor=new DefaultColorSet,i.SortSettings=new SortSettings,i.ColorGradientMode=BoldBIDashboard.DashboardDesignerUtility.Serialization.enumToString(ColorGradientMode,ColorGradientMode.Table),i.EnableDrilldown=!1,i}return __extends(t,n),t}(VisualWidgetProperties),PivotViewProperties=function(n){function t(t){var i=n.call(this,t)||this;return i.__type="Syncfusion.Dashboard.Web.Serialization.Model.DOM.PivotViewProperties",i.GroupBarSettings=new GroupBarSettings,i.BasicSettings=new BasicSettings,i.GrandTotalSettings=new GrandTotalSettings,i.FieldSettings=new FieldSettings,i.DrilledMembers=[],i.SelectionCellInfo=new SelectionCellInfo,i.HeaderSettings=new PivotHeaderSettings,i.ContentSettings=new ContentSettings,i.IsAutoHeaderFontSize=!0,i.HeaderFontSize=16,i.IsAutoContentFontSize=!0,i.ContentFontSize=16,i.NewHeaderSettings=new ColorProperty,i.NewHeaderSettings.Foreground.Color="#2D3748",i.NewHeaderSettings.Background.Color="#F3F7FA",i.AlignmentSettings=new PivotAlignmentSettings,i}return __extends(t,n),t}(TableWidgetProperties),DrilledMembers=function(){function n(){this._type="Syncfusion.Dashboard.Web.Serialization.Model.DOM.PivotView.DrilledMembers";this.Name="";this.Items=[]}return n}(),PivotHeaderSettings=function(){function n(){this._type="Syncfusion.Dashboard.Web.Serialization.Model.DOM.PivotView.PivotHeaderSettings";this.Row=new HeaderColorSettings;this.Column=new HeaderColorSettings}return n}(),HeaderColorSettings=function(){function n(){this._type="Syncfusion.Dashboard.Web.Serialization.Model.DOM.PivotView.HeaderColorSettings";this.Foreground="#2D3748";this.Background="#F3F7FA"}return n}(),ContentSettings=function(){function n(){this._type="Syncfusion.Dashboard.Web.Serialization.Model.DOM.PivotView.ContentSettings";this.RowHeight=48;this.ColumWidth=110;this.HeaderColumWidth=250}return n}(),PivotAlignmentSettings=function(){function n(){this._type="Syncfusion.Dashboard.Web.Serialization.Model.DOM.PivotView.PivotAlignmentSettings";this.RowHeader="Left";this.ColumnHeader="Left";this.Value="Right"}return n}(),GroupBarSettings=function(){function n(){this._type="Syncfusion.Dashboard.Web.Serialization.Model.DOM.PivotView.GroupBarSettings";this.ShowSortIcon=!0;this.ShowFilterIcon=!0;this.ShowGroupBar=!0;this.GroupPanelBackground="#F3F7FA"}return n}(),BasicSettings=function(){function n(){this._type="Syncfusion.Dashboard.Web.Serialization.Model.DOM.PivotView.BasicSettings";this.EnableValueSorting=!0;this.ExpandAllNode=!1;this.ShowNoDataItems=!1;this.ShowTooltip=!0;this.AllowTextWrap=!1;this.AllowColumnResize=!1;this.AllowContentToFit=!1;this.ShowValuesInRowAxis=!1;this.EnablePersistence=!1;this.HideEmptyHeaders=!1;this.EmptyCellsContent=""}return n}(),SelectionCellInfo=function(){function n(){this._type="Syncfusion.Dashboard.Web.Serialization.Model.DOM.SelectionCellInfo";this.IsSelected=!1}return n}(),GrandTotalSettings=function(){function n(){this._type="Syncfusion.Dashboard.Web.Serialization.Model.DOM.PivotView.GrandTotalSettings";this.ShowRowGrandTotals=!0;this.ShowColumnGrandTotals=!0;this.ShowRowSubTotals=!0;this.ShowColumnSubTotals=!0}return n}(),FieldSettings=function(){function n(){this._type="Syncfusion.Dashboard.Web.Serialization.Model.DOM.PivotView.FieldSettings";this.CustomFieldSettings=[]}return n}(),PivotViewFieldSettings=function(){function n(){this._type="Syncfusion.Dashboard.Web.Serialization.Model.DOM.PivotView.PivotViewColumnSetting";this.DisplayName="";this.UniqueColumnName="";this.IsEdited=!1;this.CaptionName="";this.ShowNoDataItem=!1}return n}(),ColorSettings=function(){function n(){this._type="Syncfusion.Dashboard.Web.Serialization.DOM.Model.DOM.HeatMap";this.MinColor="";this.MaxColor=BoldBIDashboard.DashboardUtil.defaultColorPalette[0].substring(1)+"#FF"}return n}(),AxisSettings=function(){function n(){this._type="Syncfusion.Dashboard.Web.Serialization.Model.DOM.HeatMap.AxisSettings";this.AxisTitle="";this.ShowAxisLabel=!0;this.ShowAxisTitle=!0;this.InversedAxis=!1;this.OpposedAxis=!1;this.LabelIntersectAction=BoldBIDashboard.DashboardDesignerUtility.Serialization.enumToString(LabelIntersectAction,LabelIntersectAction.Trim);this.LabelRotation=BoldBIDashboard.DashboardDesignerUtility.Serialization.enumToString(ValueLabelRotations,ValueLabelRotations.Auto);this.EnableTrim=!1;this.MaximumLabelLength=100}return n}(),LegendSettings=function(){function n(){this._type="Syncfusion.Dashboard.Web.Serialization.Model.DOM.HeatMap.LegendSettings";this.ShowLegend=!1;this.Position=BoldBIDashboard.DashboardDesignerUtility.Serialization.enumToString(LegendPositions,LegendPositions.Auto)}return n}(),SortSettings=function(){function n(){this._type="Syncfusion.Dashboard.Web.Serialization.DOM.Model.DOM.HeatMap.SortSettings";this.XAxis=BoldBIDashboard.DashboardDesignerUtility.Serialization.enumToString(SortSetting,SortSetting.Auto);this.YAxis=BoldBIDashboard.DashboardDesignerUtility.Serialization.enumToString(SortSetting,SortSetting.Auto)}return n}(),CellSettings=function(){function n(){this._type="Syncfusion.Dashboard.Web.Serialization.Model.DOM.HeatMap.CellSettings";this.CellBorder=1;this.CellRadius=3;this.ShowDataLabel=!1;this.ShowTooltip=!0;this.TileType=BoldBIDashboard.DashboardDesignerUtility.Serialization.enumToString(TileType,TileType.Rect);this.LabelColor=new ColorSet;this.LabelColor.Color="#505D6F";this.XAxisLabelColor=new ColorSet;this.XAxisLabelColor.Color="#505D6F";this.YAxisLabelColor=new ColorSet;this.YAxisLabelColor.Color="#505D6F"}return n}(),ColorGradientMode;(function(n){n[n.Table="Table"]="Table";n[n.Column="Column"]="Column";n[n.Row="Row"]="Row"})(ColorGradientMode||(ColorGradientMode={})),function(n){n[n.Bubble="Bubble"]="Bubble";n[n.Rect="Rect"]="Rect"}(TileType||(TileType={})),function(n){n[n.Center="Center"]="Center";n[n.Near="Near"]="Near";n[n.Far="Far"]="Far"}(LegendAlignment||(LegendAlignment={})),function(n){n[n.None="None"]="None";n[n.Trim="Trim"]="Trim"}(LabelIntersectAction||(LabelIntersectAction={}));UrlLink=function(){function n(){this.__type="Syncfusion.Dashboard.Web.Serialization.Model.DOM.Common.UrlLink";this.EnableLink=!1;this.EscapeSpecialCharacter=!1;this.EnableParameterEncryption=!1;this.PassingParameters=[];this.ColumnUrlDetails=[];this.UrlPath="";this.LinkType=LinkType.Url;this.GridUrlType=UrlLinkType.Row;this.TargetTypeInfo="_Blank";this.Height=100;this.Width=100;this.Title=""}return n}();ColumnUrl=function(){function n(){this.__type="Syncfusion.Dashboard.Web.Serialization.Model.DOM.Common.ColumnUrl"}return n}(),function(n){n[n.Dashboard=0]="Dashboard";n[n.Tab=1]="Tab";n[n.Url=2]="Url"}(LinkType||(LinkType={})),function(n){n[n.Row=0]="Row";n[n.Column=1]="Column";n[n.Value=2]="Value"}(UrlLinkType||(UrlLinkType={}));WidgetLink=function(){function n(){this.__type="Syncfusion.Dashboard.Web.Serialization.Model.DOM.Common.WidgetLink";this.Enable=!1;this.WidgetList=[]}return n}();LinkedWidgetList=function(){function n(){this.Widget="";this.LinkType=WidgetLinkType.Default;this.CustomIndex=""}return n}(),function(n){n[n.Default=0]="Default";n[n.Custom=1]="Custom"}(WidgetLinkType||(WidgetLinkType={}));var GridTemplate=function(){function n(){this.__type="Syncfusion.Dashboard.Web.Serialization.Model.DOM.Grid.gridTemplate";this.DisplayType=DisplayType.Value}return n}(),ConditionalFormatting=function(){function n(){this.__type="Syncfusion.Dashboard.Web.Serialization.Model.DOM.Grid.ConditionalFormatting";this.TargetMeasureColumn=new Column;this.MeasureConditionType=MeasureConditionType.Equals;this.DimensionConditionType=DimensionConditionType.Equals;this.FormatType=ConditionalFormatType.Column;this.ColorStyle=ColorType.SingleColor}return n}(),Column=function(){function n(){this.__type="Syncfusion.Dashboard.Web.Serialization.Model.DOM.Grid.Column"}return n}(),MeasureConditionType;(function(n){n[n.Equals="Equals"]="Equals";n[n.LessThan="Less Than"]="LessThan";n[n.LessThanOrEqual="Less Than Or Equal To"]="LessThanOrEqual";n[n.GreaterThanOrEqual="Greater Than Or Equal To"]="GreaterThanOrEqual";n[n.GreaterThan="Greater Than"]="GreaterThan";n[n.NotEquals="Does Not Equal"]="NotEquals";n[n.Between="Between"]="Between"})(MeasureConditionType||(MeasureConditionType={})),function(n){n[n.Equals="Equals"]="Equals";n[n.NotEquals="Does Not Equal"]="NotEquals";n[n.Contains="Contains"]="Contains";n[n.NotContains="Does Not Contains"]="NotContains";n[n.StartsWith="Starts With"]="StartsWith";n[n.EndsWith="Ends With"]="EndsWith"}(DimensionConditionType||(DimensionConditionType={})),function(n){n[n.Column="Column"]="Column";n[n.Row="Row"]="Row";n[n.Indication="Indication"]="Indication"}(ConditionalFormatType||(ConditionalFormatType={})),function(n){n[n.Number="Number"]="Number";n[n.Currency="Currency"]="Currency";n[n.Percentage="Percentage"]="Percentage"}(MeasureFormatType||(MeasureFormatType={})),function(n){n[n.SingleColor="Single Color"]="SingleColor";n[n.GradientColor="Gradient Color"]="GradientColor"}(ColorType||(ColorType={}));var Styles=function(){function n(){this.__type="Syncfusion.Dashboard.Web.Serialization.Model.DOM.Grid.Styles"}return n}(),FontFormats=function(){function n(){this.__type="Syncfusion.Dashboard.Web.Serialization.Model.DOM.Grid.FontFormats"}return n}(),TreeMapProperties=function(n){function t(t){var i=n.call(this,t)||this;return i.__type="Syncfusion.Dashboard.Web.Serialization.Model.DOM.TreeMapProperties",i.ShowLegend=!1,i.ShowValueLabel=!1,i.EnableDrilldown=!1,i.ShowTooltip=!0,i.IsCustomRange=null,i.SaturatedColor=BoldBIDashboard.DashboardUtil.defaultColorPalette[0].substring(1)+"#FF",i.MaxColor="#FBCB43FF",i.MidColor="#E57368FF",i.MinColor="#77A7FBFF",i.LabelColor="#1E1E1E",i.UrlLink=new UrlLink,i.DefaultColor=new DefaultColorSet,i}return __extends(t,n),t}(VisualWidgetProperties),CustomWidgetProperties=function(n){function t(t){var i=n.call(this,t)||this;return i.__type="Syncfusion.Dashboard.Web.Serialization.Model.DOM.CustomWidgetProperties",i.UrlLink=new UrlLink,i.CustomProperties=[],i}return __extends(t,n),t}(VisualWidgetProperties),CustomProperty=function(){function n(){}return n}(),MapsCommonProp=function(n){function t(t){var i=n.call(this,t)||this;return i.ShapeData="WorldMap_Countries",i.ShapePropertyPath="name",i.ShapeType="Country",i}return __extends(t,n),t}(VisualWidgetProperties),BubbleMapProperties=function(n){function t(t){var i=n.call(this,t)||this;return i.__type="Syncfusion.Dashboard.Web.Serialization.Model.DOM.BubbleMapProperties",i.BubbleColor=BoldBIDashboard.DashboardUtil.defaultColorPalette[0].substring(1)+"#FF",i}return __extends(t,n),t}(MapsCommonProp),ChoroplethMapProperties=function(n){function t(t){var i=n.call(this,t)||this;return i.__type="Syncfusion.Dashboard.Web.Serialization.Model.DOM.ChoroplethMapProperties",i.ShowLegend=!1,i.IsPaletteColor=!0,i.MaxColor=BoldBIDashboard.DashboardUtil.defaultColorPalette[0].substring(1)+"#FF",i.MinColor="#fae8eaFF",i}return __extends(t,n),t}(MapsCommonProp),MapProperties=function(n){function t(t){var i=n.call(this,t)||this;return i.__type="Syncfusion.Dashboard.Web.Serialization.Model.DOM.MapProperties",i.ShowLegend=!1,i.ShowLegendTitle=!0,i.LegendTitle="",i.ShowTooltip=!0,i.IsPaletteColor=!0,i.MaxColor="#F6727FFF",i.MinColor="#FFC2D8FF",i.UrlLink=new UrlLink,i.MapType="Choropleth",i.MarkerShape="Balloon",i.MarkerShapeColor="#494ca2",i.ShowLabel=!1,i.ImageUrl=null,i.EnableColorSettings=!1,i.MarkerWidth=10,i.MarkerHeight=15,i.IsEnableDrillDown=!1,i.LegendPosition="Top",i.ImageSource="Local",i.ImageName=null,i.URLPattern="{0}",i.ImageSrc=null,i.ImageLocalUrl=null,i.MarkerCustomization=new MarkerCustomizeSettings,i.EnableMultiSelection=!1,i.DefaultColor=new DefaultColorSet,i.LabelColor=new ColorSet,i.LabelColor.Color="#000000",i.LegendType="Layers",i.DefaultMarkerZoom=!1,i}return __extends(t,n),t}(MapsCommonProp),MarkerCustomizeSettings=function(){function n(){this.MarkerShape="";this.MarkerImage=null;this.MarkerColor="";this.MarkerHeight=0;this.MarkerWidth=0;this.DefaultImageUrl=null;this.DefaultMarkerColor="#494ca2";this.DefaultMarkerHeight=15;this.DefaultMarkerWidth=10;this.DefaultMarkerShape="Balloon"}return n}(),BingMapProperties=function(n){function t(t){var i=n.call(this,t)||this;return i.__type="Syncfusion.Dashboard.Web.Serialization.Model.DOM.BingMapProperties",i.MapType="r",i.ShowZoomIcon=!1,i.ShowTooltip=!0,i.DisableZoomAndPan=!1,i.ShapeType="CountryRegion",i.MapShape="Choropleth",i.MarkerShape="Round",i.MarkerShapeColor="#494ca2",i.MarkerSize=14,i.MarkerImage="Local",i.MarkerImageUrl=null,i.MarkerUrlPattern="{0}",i.MarkerLocalImageName=null,i.MarkerLocalImageUrl=null,i.DefaultColor=new DefaultColorSet,i.DefaultColor.Color="#F6727F",i.MarkerCustomization=new MarkerCustomizeSettings,i.UrlLink=new UrlLink,i.InitialZoomState="",i}return __extends(t,n),t}(VisualWidgetProperties),LabelProperties=function(n){function t(t){var i=n.call(this,t)||this;return i.__type="Syncfusion.Dashboard.Web.Serialization.Model.DOM.LabelProperties",i.Name="Label1",i.LineCollection=[],i.LabelBackgroundColor="#ffffff",i}return __extends(t,n),t}(WidgetProperties),LineProperties=function(){function n(){this.__type="Syncfusion.Dashboard.Web.Serialization.Model.DOM.Label.LineProperties";this.TextCollections=[];this.LineStyleProperties=new LineStyleProperties}return n}(),TextCollectionProperties=function(){function n(){this.__type="Syncfusion.Dashboard.Web.Serialization.Model.DOM.Label.TextCollectionProperties";this.Text=[]}return n}(),TextProperties=function(){function n(){this.__type="Syncfusion.Dashboard.Web.Serialization.Model.DOM.Label.TextProperties";this.Content="";this.TextStyle=new TextStyleProperties}return n}(),TextStyleProperties=function(){function n(){this.__type="Syncfusion.Dashboard.Web.Serialization.Model.DOM.Label.TextStyleProperties";this.FontSize="10px";this.FontFamily="Arial";this.FontColor="Black";this.FontStyle="Normal";this.TextDecoration="Normal";this.FontWeight="Normal";this.TextHighlightColor="#f5ea14"}return n}(),LineStyleProperties=function(){function n(){this.__type="Syncfusion.Dashboard.Web.Serialization.Model.DOM.Label.LineStyleProperties";this.LineTextAlignment="Left"}return n}(),DatePickerProperties=function(n){function t(t){var i=n.call(this,t)||this;return i.__type="Syncfusion.Dashboard.Web.Serialization.Model.DOM.DatePickerProperties",i.LimitDates=!0,i.Type=DatePickerType.Single,i.HighlightAvailableDates=!1,i.UrlLink=null,i.ShowLatestDate=!1,i.EnableFixedCalendarSelection=!1,i}return __extends(t,n),t}(WidgetProperties),DatePickerType;(function(n){n[n.Single=0]="Single";n[n.Range=1]="Range"})(DatePickerType||(DatePickerType={}));PoPProperties=function(n){function t(t){var i=n.call(this,t)||this;return i.__type="Syncfusion.Dashboard.Web.Serialization.Model.DOM.PoPProperties",i.FilterSettings.ActAsMasterWidget=!0,i.FilterSettings.IgnoreFilterActions=!0,i.UrlLink=null,i}return __extends(t,n),t}(WidgetProperties);RangeSliderProperties=function(n){function t(t){var i=n.call(this,t)||this;return i.__type="Syncfusion.Dashboard.Web.Serialization.Model.DOM.RangeSliderProperties",i.Type=RangeSliderType.Range,i.Orientation=RangeSliderOrientation.Auto,i.UrlLink=null,i.LabelColor=new ColorSet,i.SliderColor=new ColorSet,i.LabelColor.Color="#505D6F",i.SliderColor.Color=BoldBIDashboard.DashboardUtil.defaultColorPalette[0],i}return __extends(t,n),t}(WidgetProperties),function(n){n[n.MinRange=0]="MinRange";n[n.Range=1]="Range"}(RangeSliderType||(RangeSliderType={})),function(n){n[n.Horizontal=0]="Horizontal";n[n.Vertical=1]="Vertical";n[n.Auto=2]="Auto"}(RangeSliderOrientation||(RangeSliderOrientation={}));ListBoxProperties=function(n){function t(t){var i=n.call(this,t)||this;return i.__type="Syncfusion.Dashboard.Web.Serialization.Model.DOM.ListBoxProperties",i.EnableMultiSelection=!1,i.UrlLink=null,i}return __extends(t,n),t}(WidgetProperties);GaugeSettings=function(n){function t(t){var i=n.call(this,t)||this;return i.__type="Syncfusion.Dashboard.Web.Serialization.Model.DOM.GaugeProperties",i.RangeColor=BoldBIDashboard.DashboardUtil.defaultColorPalette[0],i.ScaleColor="#E0E0E0",i.Direction=GaugeDirection.HighIsGood,i.MinValue=0,i.MaxValue=100,i.CustomTarget=70,i.RangeCollection=[new GaugeRangeSettings(0,33,"#FF6C40","Range-1",""),new GaugeRangeSettings(33,66,"#FFE700","Range-2",""),new GaugeRangeSettings(66,100,"#2CD9C5","Range-3","")],i.RangeValueType=RangeValueType.DefaultColor,i.RangeLabelType=RangeValueType.DefaultColor,i.GaugeType=GaugeTypes.HorseShoe,i.RangeWidth=RangeWidth.Medium,i.TicksPosition=TicksPosition.Outside,i.ValuePointer=ValuePointers.RangePointer,i.TargetPointer=TargetPointers.InvertedTriangle,i.ValueLabelPosition=ValueLabelPosition.Inside,i.ScaleLabelPosition=ScaleLabelPosition.Outside,i.ShowValueLabel=!0,i.ShowScaleLabel=!0,i.ShowActualValue=!0,i.ShowDifferenceValue=!0,i.ShowTicks=!1,i.EnableAnimation=!1,i.ShowTooltip=!0,i.TicksHeight=5,i.TicksWidth=1,i.ScaleWidth=40,i.ShowRange=!1,i.NeedlePointerHeight=60,i.LabelType=LabelType.ValueLabel,i.TargetPointerColor="#424242",i.NeedlePointerColor="#505D6F",i.BackgroundColor="transparent",i.ValueColor="#505D6F",i.TitleColor="#000000",i.LabelColor="#505D6F",i.PercentValueColor="#000000",i.PercentValueSize=15,i.HighColor="#2CD9C5",i.LowColor="#FF6C40",i.MediumColor="#FFE700",i.IsCustomRange=!1,i.DefaultColor=new DefaultColorSet,i}return __extends(t,n),t}(VisualWidgetProperties),function(n){n[n.HalfRadialGauge="Half Circle"]="HalfRadialGauge";n[n.HorseShoe="Horse Shoe"]="HorseShoe";n[n.FullRadialGauge="Full Circle"]="FullRadialGauge";n[n.Auto="Auto"]="Auto"}(GaugeTypes||(GaugeTypes={})),function(n){n[n.DefaultColor="Default Color"]="DefaultColor";n[n.RangeColor="Range Color"]="RangeColor"}(RangeValueType||(RangeValueType={}));GaugeRangeSettings=function(){function n(n,t,i,r,u){this.__type="Syncfusion.Dashboard.Web.Serialization.Model.DOM.Gauge.GaugeRangeSettings";this.Start=n;this.End=t;this.Color=i;this.Name=r;this.Label=u}return n}(),function(n){n[n.HighIsGood=0]="HighIsGood";n[n.LowIsGood=1]="LowIsGood"}(GaugeDirection||(GaugeDirection={})),function(n){n[n.RangePointer="Range Pointer"]="RangePointer";n[n.NeedlePointer="Needle Pointer"]="NeedlePointer";n[n.RangeWithNeedle="Range with Needle"]="RangeWithNeedle"}(ValuePointers||(ValuePointers={})),function(n){n[n.Triangle="Triangle"]="Triangle";n[n.InvertedTriangle="Inverted Triangle"]="InvertedTriangle";n[n.Line="Line"]="Line"}(TargetPointers||(TargetPointers={})),function(n){n[n.Inside=0]="Inside";n[n.Outside=1]="Outside"}(TicksPosition||(TicksPosition={})),function(n){n[n.Inside=0]="Inside";n[n.Outside=1]="Outside"}(ValueLabelPosition||(ValueLabelPosition={})),function(n){n[n.Inside=0]="Inside";n[n.Outside=1]="Outside"}(ScaleLabelPosition||(ScaleLabelPosition={})),function(n){n[n.Thin=0]="Thin";n[n.Medium=1]="Medium";n[n.Thick=2]="Thick"}(RangeWidth||(RangeWidth={})),function(n){n[n.ValueLabel="Value Label"]="ValueLabel";n[n.RangeLabel="Range Label"]="RangeLabel"}(LabelType||(LabelType={}));var VirtualScrollSettings=function(){function n(){this.PageSize=100;this.StartIndex=1;this.FieldLastRecord=[]}return n}(),CardProperties=function(n){function t(t){var i=n.call(this,t)||this;return i.__type="Syncfusion.Dashboard.Web.Serialization.Model.DOM.CardProperties",i.PrimaryValueType=PrimaryValueType.PercentOfTarget,i.SecondaryValueType="Variation",i.ActualValueForeground="#686262",i.TitleSettings=new TitleSetting,i.SubTitleSettings=new SubTitleSetting,i.CustomRangeSettings=new CardCustomRangeSetting,i.ActualValuePrefix="",i.TargetValuePrefix="",i.Direction=!0,i.HasCustomTitle=!1,i.ValueAlignment=TextAlignment.Right,i.ShowIndicatorOnly=!1,i.EnableCompactView=!1,i.ShowActualValue=!0,i.ShowSecondaryValue=!0,i.ShowPrimaryValue=!0,i.ShowIndicator=!0,i.UniformSizing=!1,i.SparklineSettings=new SparkLineSettings,i.ActualValueTextAlignment=TextAlignment.Right,i.AdditionalValueAlignment=TextAlignment.Right,i.SecondaryValueAlignment=TextAlignment.Right,i.PrimaryValueAlignment=TextAlignment.Right,i}return __extends(t,n),t}(WidgetProperties),TitleSetting=function(){function n(){this.__type="Syncfusion.Dashboard.Web.Serialization.Model.DOM.Card.TitleSetting";this.Visibility=!0;this.Alignment=TextAlignment.Left;this.Color="#686262"}return n}(),SubTitleSetting=function(){function n(){this.__type="Syncfusion.Dashboard.Web.Serialization.Model.DOM.Card.SubTitleSetting";this.Visibility=!1;this.Color="#686262"}return n}(),CardCustomRangeSetting=function(){function n(){this.__type="Syncfusion.Dashboard.Web.Serialization.Model.DOM.Card.CardCustomRangeSetting";this.Type=CustomRangeType.Absolute;this.Ranges=[]}return n}(),CustomRangeType;(function(n){n[n.Absolute=0]="Absolute";n[n.Percent=1]="Percent"})(CustomRangeType||(CustomRangeType={})),function(n){n[n.AbsoluteDifference="Absolute Difference"]="AbsoluteDifference";n[n.PercentOfDifference="Percent of Difference"]="PercentOfDifference";n[n.PercentOfTarget="Percent of Target"]="PercentOfTarget";n[n.ActualValue="Actual Value"]="ActualValue";n[n.PercentOfChange="Percent of Change"]="PercentOfChange"}(PrimaryValueType||(PrimaryValueType={}));SparkLineSettings=function(){function n(){this.__type="Syncfusion.Dashboard.Web.Serialization.Model.DOM.Card.SparkLineSettings";this.LowValueColor="#1F497D";this.HighValueColor="#FFC000";this.ShowMarker=!0;this.Opacity=1;this.Type=SparkLineType.Line}return n}(),function(n){n[n.Line=0]="Line";n[n.Area=1]="Area";n[n.Column=2]="Column"}(SparkLineType||(SparkLineType={}));var CardCustomRange=function(){function n(){this.__type="Syncfusion.Dashboard.Web.Serialization.Model.DOM.Card.CardCustomRange"}return n}(),KPICardProperties=function(n){function t(t){var i=n.call(this,t)||this;return i.__type="Syncfusion.Dashboard.Web.Serialization.Model.DOM.KPICardProperties",i.TitleSettings=new KPICardTitleSettings,i.IndicatorSettings=new IndicatorSettings,i.KPIValueSettings=new KPIValueSettings,i.LeftValueSettings=new ValueSettings(!0),i.RightValueSettings=new ValueSettings(!1),i.LeftCaptionSettings=new CaptionSettings,i.RightCaptionSettings=new CaptionSettings,i.ImageSettings=new CardImageSettings,i.BackgroundSettings=new BackgroundSettings,i.SparklineSettings=new SparklineSettings,i.ColorSettings=new KPICardColorSettings,i.Direction="High is Good",i.ShowTooltip=!0,i.SeparatorSettings=new SeparatorSettings,i.FormatSettings=new MeasureFormatting,i.UrlLink=new UrlLink,i.AnimationSettings=new AnimationSettings,i.SeriesSettings=new SeriesSettings,i.IsFixedLayout=!1,i.ResponsiveMargin=!1,i}return __extends(t,n),t}(VisualWidgetProperties),KPICardTitleSettings=function(){function n(){this.__type="Syncfusion.Dashboard.Web.Serialization.Model.DOM.KPICard.KPICardTitleSettings";this.Visibility=!0;this.Color="#505D6F";this.FontSize=16}return n}(),IndicatorSettings=function(){function n(){this._type="Syncfusion.Dashboard.Web.Serialization.Model.DOM.KPICard.IndicatorSettings";this.LowValueType="PointerDown";this.HighValueType="PointerUp";this.WarningType="Round";this.Visibility=!0;this.Color="Green";this.FontSize=24;this.ColorType="Direction Color";this.Placement="KPI Value";this.Position="Left"}return n}(),KPIValueSettings=function(){function n(){this._type="Syncfusion.Dashboard.Web.Serialization.Model.DOM.KPICard.KPIValueSettings";this.ValueType="Absolute Difference";this.Visibility=!0;this.Color="#505D6F";this.FontSize=64;this.ColorType="Custom Color"}return n}(),ValueSettings=function(){function n(n){this._type="Syncfusion.Dashboard.Web.Serialization.Model.DOM.KPICard.ValueSettings";this.FontSize=16;this.Color="#505D6F";this.Visibility=!0;this.ValueType=n?"Actual Value":"Target Value";this.ColorType="Custom Color"}return n}(),CaptionSettings=function(){function n(){this._type="Syncfusion.Dashboard.Web.Serialization.Model.DOM.KPICard.CaptionSettings";this.Color="#505D6F";this.FontSize=16;this.Visibility=!0;this.ColorType="Custom Color"}return n}(),CardImageSettings=function(){function n(){this._type="Syncfusion.Dashboard.Web.Serialization.Model.DOM.KPICard.CardImageSettings";this.ImageMode="Uniform";this.ImageUrl="";this.ImageSource="Local";this.URLPattern="{0}";this.Visibility=!1;this.FilePath="";this.ImageName="";this.ImagePosition="Left"}return n}(),BackgroundSettings=function(){function n(){this._type="Syncfusion.Dashboard.Web.Serialization.Model.DOM.KPICard.BackgroundColorSettings";this.Color="#ffffff";this.PlotArea="KPI Background";this.Image=new CardImageSettings;this.Transparency=.5}return n}(),SparklineSettings=function(){function n(){this._type="Syncfusion.Dashboard.Web.Serialization.Model.DOM.KPICard.SparklineSettings";this.Fill="#0d9948";this.Visibility=!0;this.ColorType="Direction Color";this.Opacity=1}return n}(),KPICardColorSettings=function(){function n(){this._type="Syncfusion.Dashboard.Web.Serialization.Model.DOM.KPICard.KPICardColorSettings";this.HighValueColor="#2CD9C5";this.LowValueColor="#FF6C40";this.NeutralColor="#e5ed00";this.Direction="High is Good"}return n}(),SeparatorSettings=function(){function n(){this._type="Syncfusion.Dashboard.Web.Serialization.Model.DOM.KPICard.SeparatorSettings";this.Color="#9AA1A9"}return n}(),ComboChartProperties=function(n){function t(t){var i=n.call(this,t)||this;return i.__type="Syncfusion.Dashboard.Web.Serialization.Model.DOM.ComboChartProperties",i.ChartType=BoldBIDashboard.DashboardDesignerUtility.Serialization.enumToString(ChartTypes,ChartTypes.ComboChart),i.EnableAnimation=!1,i.ShowLegend=!0,i.ShowTooltip=!0,i.IsAutoLegendFontSize=!0,i.LegendFontSize=16,i.DefaultColors=[],i.ShowValueLabels=!1,i.EnableSmoothScroll=!1,i.ValueLabelRotation=BoldBIDashboard.DashboardDesignerUtility.Serialization.enumToString(ValueLabelRotations,ValueLabelRotations.None),i.LegendPosition=BoldBIDashboard.DashboardDesignerUtility.Serialization.enumToString(LegendPositions,LegendPositions.Auto),i.LegendTitle="",i.IsAutoLegendTitleFontSize=!0,i.LegendTitleFontSize=16,i.ShowValueLabelSuffix=!1,i.ValueLabelSuffix="",i.PrimaryValueGridLines=!0,i.SecondaryValueGridLines=!1,i.CategoryGridLines=!1,i.ShowMarker=!0,i.ShowNoDataItem=!1,i.Axis=new Axis,i.DataLabel=BoldBIDashboard.DashboardDesignerUtility.Serialization.enumToString(DataLabel,DataLabel.Percentage),i.IsEnableDrillDown=!1,i.DisplayNames=[],i.IsBasicChartType=!1,i.CustomLegendBtnVisibilty=!1,i.CustomLegendInfo=new CustomLegendSettings,i.CustomValueLabels=[],i.IsCustomLegend=!1,i.IsColorPaletteCategoryVisible=!1,i.IsDefaultColorPalette=!0,i.ColorPaletteModel=[],i.TrendLineSettings=[],i.ChartSeriesTypeInfo=[],i.PrimaryAxisRange=new AxisRange,i.SecondaryAxisRange=new AxisRange,i.ForecastProperties=new ForecastProperties,i.LegendShape=BoldBIDashboard.DashboardDesignerUtility.Serialization.enumToString(LegendShape,LegendShape.Circle),i.ColumnSpacing=.2,i.ColumnWidth=.7,i.ValueLabel=new ColorSet,i.LegendLabel=new ColorSet,i.AxisTitle=new ColorSet,i.AxisLabel=new ColorSet,i.ValueLabel.Color="#000000",i.LegendLabel.Color="#000000",i.AxisTitle.Color="#000000",i.AxisLabel.Color="#000000",i.EnableMultiSelection=!1,i.IsAutoValueLabelFontSize=!0,i.ValueLabelFontSize=16,i.ValueLabelPosition=BoldBIDashboard.DashboardDesignerUtility.Serialization.enumToString(ValueLabelPlacement,ValueLabelPlacement.Auto),i}return __extends(t,n),t}(VisualWidgetProperties),ChartSeriesType=function(){function n(){this.__type="Syncfusion.Dashboard.Web.Serialization.Model.DOM.Chart.ChartSeriesType";this.UniqueColumnName="";this.ChartType="";this.IsSecondaryAxis=!1;this.FieldName=""}return n}(),BubbleScatterChartProperties=function(n){function t(t){var i=n.call(this,t)||this;return i.__type="Syncfusion.Dashboard.Web.Serialization.Model.DOM.BubbleScatterChartProperties",i.EnableAnimation=!1,i.ShowLegend=!0,i.ShowTooltip=!0,i.LegendPosition=BoldBIDashboard.DashboardDesignerUtility.Serialization.enumToString(LegendPositions,LegendPositions.Auto),i.ChartSeriesType=[],i.CustomLegendInfo=new CustomLegendSettings,i.IsCustomLegend=!1,i.ShowValueLabel=!1,i.PrimaryValueGridLines=!0,i.CategoryAxisGridLines=!1,i.DefaultColors=[],i.ColorPaletteModel=[],i.UrlLink=new UrlLink,i.CategoryAxisSettings=new BubbleScatterCategoryAxis,i.PrimaryValueAxisSettings=new BubbleScatterPrimaryValueAxis,i.IsDefaultColorPalette=!0,i}return __extends(t,n),t}(VisualWidgetProperties),RadarPolarChartProperties=function(n){function t(t){var i=n.call(this,t)||this;return i.__type="Syncfusion.Dashboard.Web.Serialization.Model.DOM.RadarPolarChartProperties",i.DrawType=BoldBIDashboard.DashboardDesignerUtility.Serialization.enumToString(DrawType,DrawType.Polar),i.ChartType=BoldBIDashboard.DashboardDesignerUtility.Serialization.enumToString(RadarPolarType,RadarPolarType.Area),i.EnableAnimation=!1,i.ShowMarker=!0,i.ShowLegend=!0,i.ShowTooltip=!0,i.LegendPosition=BoldBIDashboard.DashboardDesignerUtility.Serialization.enumToString(LegendPosition,LegendPosition.Bottom),i.EditLegend=new CustomLegendSettings,i.ShowValueLabel=!1,i.UrlLink=new UrlLink,i.Inversed=!1,i.PrimaryAxisRange=new AxisRange,i.CustomLegendBtnVisibilty=!1,i.IsCustomLegend=!1,i.IsDefaultColorPalette=!0,i.ColorPaletteModel=[],i.DefaultColors=[],i.CategoryAxisSettings=new RadarPolarCategoryAxis,i.PrimaryValueAxisSettings=new RadarPolarPrimaryValueAxis,i.PrimaryValueGridLines=!0,i.CategoryAxisGridLines=!0,i.LegendShape=BoldBIDashboard.DashboardDesignerUtility.Serialization.enumToString(LegendShape,LegendShape.Circle),i}return __extends(t,n),t}(WidgetProperties),DrawType;(function(n){n[n.Radar="Radar"]="Radar";n[n.Polar="Polar"]="Polar"})(DrawType||(DrawType={}));var RadarPolarPrimaryValueAxis=function(){function n(){this.__type="Syncfusion.Dashboard.Web.Serialization.Model.DOM.RadarPolarPrimaryValueAxis";this.IsEnabled=!0;this.InverseAxis=!1}return n}(),RadarPolarCategoryAxis=function(){function n(){this.__type="Syncfusion.Dashboard.Web.Serialization.Model.DOM.RadarPolarCategoryAxis";this.IsEnabled=!0;this.InverseAxis=!1}return n}(),BubbleScatterCategoryAxis=function(){function n(){this.__type="Syncfusion.Dashboard.Web.Serialization.Model.DOM.BubbleScatter.BubbleScatterCategoryAxis";this.IsEnabled=!0;this.IsEnableTitle=!0;this.Title="";this.LabelRotation=BoldBIDashboard.DashboardDesignerUtility.Serialization.enumToString(ValueLabelRotations,ValueLabelRotations.Auto);this.IsCustomTitle=!1;this.Format=new MeasureFormatting}return n}(),BubbleScatterPrimaryValueAxis=function(){function n(){this.__type="Syncfusion.Dashboard.Web.Serialization.Model.DOM.BubbleScatter.BubbleScatterPrimaryValueAxis";this.IsEnabled=!0;this.IsEnableTitle=!0;this.Title="";this.IsCustomTitle=!1;this.OpposedAxis=!1;this.Format=new MeasureFormatting}return n}(),LegendPosition;(function(n){n[n.Bottom="Bottom"]="Bottom";n[n.Right="Right"]="Right";n[n.Left="Left"]="Left";n[n.Top="Top"]="Top"})(LegendPosition||(LegendPosition={})),function(n){n[n.Line="Line"]="Line";n[n.Column="Column"]="Column";n[n.Area="Area"]="Area";n[n.Spline="Spline"]="Spline";n[n.Scatter="Scatter"]="Scatter";n[n.StackedArea="Stacked Area"]="StackedArea";n[n.Stackedcolumn="Stacked Column"]="Stackedcolumn"}(RadarPolarType||(RadarPolarType={}));var NumberCardProperties=function(n){function t(t){var i=n.call(this,t)||this;return i.__type="Syncfusion.Dashboard.Web.Serialization.Model.DOM.NumberCardProperties",i.TitleSettings=new NumberCardTitleSettings,i.MeasureSettings=new MeasureSettings,i.ShowTooltip=!0,i.ImageSettings=new NumberCardImageSettings,i.BackgroundSettings=new NumberCardBackgroundSettings,i.SparklineSettings=new NumberCardSparklineSettings,i.FormatSettings=new MeasureFormatting,i.UrlLink=new UrlLink,i.AnimationSettings=new AnimationSettings,i.SeriesSettings=new SeriesSettings,i.AlignmentSettings=new AlignmentSettings,i.ResponsiveMargin=!1,i}return __extends(t,n),t}(VisualWidgetProperties),AlignmentSettings=function(){function n(){this.__type="Syncfusion.Dashboard.Web.Serialization.Model.DOM.AlignmentSettings";this.HorizontalAlignment="Left";this.VerticalAlignment="Center";this.AutoFontSize=!1;this.ScalingFactor=1}return n}(),SeriesSettings=function(){function n(){this.__type="Syncfusion.Dashboard.Web.Serialization.Model.DOM.SeriesSettings";this.IsFixedRowsAndColumns=!1;this.RowCount=1;this.ColumnCount=1}return n}(),AnimationSettings=function(){function n(){this.__type="Syncfusion.Dashboard.Web.Serialization.Model.DOM.AnimationSettings";this.EnableAnimation=!1;this.AnimationDuration=1500}return n}(),NumberCardTitleSettings=function(){function n(){this.__type="Syncfusion.Dashboard.Web.Serialization.Model.DOM.NumberCard.NumberCardTitleSettings";this.Visibility=!0;this.Color="#505D6F";this.FontSize=16;this.Text="Card Title";this.Position="Bottom";this.EnableWrap=!1}return n}(),MeasureSettings=function(){function n(){this._type="Syncfusion.Dashboard.Web.Serialization.Model.DOM.NumberCard.MeasureSettings";this.FontSize=64;this.Color="#505D6F";this.Visibility=!0;this.EnableAnimation=!1}return n}(),NumberCardImageSettings=function(){function n(){this._type="Syncfusion.Dashboard.Web.Serialization.Model.DOM.NumberCard.NumberCardImageSettings";this.ImageMode="Uniform";this.ImageUrl="";this.ImageSource="Local";this.URLPattern="{0}";this.Visibility=!1;this.FilePath="";this.ImageName="";this.ImagePosition="Right"}return n}(),NumberCardBackgroundSettings=function(){function n(){this._type="Syncfusion.Dashboard.Web.Serialization.Model.DOM.NumberCard.NumberCardBackgroundSettings";this.Color="#ffffff";this.PlotArea="Card Background";this.Image=new CardImageSettings;this.Transparency=.5}return n}(),NumberCardSparklineSettings=function(){function n(){this._type="Syncfusion.Dashboard.Web.Serialization.Model.DOM.NumberCard.SparklineSettings";this.Fill="#F29D38";this.Visibility=!0;this.Opacity=1}return n}(),RTEProperties=function(n){function t(t){var i=n.call(this,t)||this;return i.__type="Syncfusion.Dashboard.Web.Serialization.Model.DOM.RTEProperties",i.Value="",i.VerticalAlign=null,i}return __extends(t,n),t}(WidgetProperties),DateBucketProperties=function(n){function t(t){var i=n.call(this,t)||this;return i.__type="Syncfusion.Dashboard.Web.Serialization.Model.DOM.DateBucketProperties",i.selectedValue="Date",i.ConfiguredWidgetList=[],i}return __extends(t,n),t}(WidgetProperties),CombineProperties=function(n){function t(t){var i=n.call(this,t)||this;return i.__type="Syncfusion.Dashboard.Web.Serialization.Model.DOM.CombineProperties",i.DraggedWidgetList=[],i.FilterSettings.IgnoreFilterActions=!0,i}return __extends(t,n),t}(VisualWidgetProperties),LineWidgetProperties=function(n){function t(t){var i=n.call(this,t)||this;return i.__type="Syncfusion.Dashboard.Web.Serialization.Model.DOM.LineWidgetProperties",i.IsHorizontal=!0,i.Thickness=2,i.Padding=10,i.LineType="Solid",i.Color="#dbdbdb",i.FilterSettings.IgnoreFilterActions=!0,i}return __extends(t,n),t}(WidgetProperties),ChartProperties=function(n){function t(t){var i=n.call(this,t)||this;return i.__type="Syncfusion.Dashboard.Web.Serialization.Model.DOM.ChartProperties",i.ChartType=BoldBIDashboard.DashboardDesignerUtility.Serialization.enumToString(ChartTypes,ChartTypes.Column),i.EnableAnimation=!1,i.Radius=.4,i.LineWidth=1,i.ShowLegend=!0,i.ShowLegendAsDropDown=!1,i.IsLegendDropdownAllSelected=!0,i.UnselectedLegendList=[],i.ShowTooltip=!0,i.IsAutoLegendFontSize=!0,i.LegendFontSize=16,i.Chartsize=.8,i.DefaultColors=[],i.ShowValueLabels=!1,i.EnableSmoothScroll=!1,i.ValueLabelRotation=BoldBIDashboard.DashboardDesignerUtility.Serialization.enumToString(ValueLabelRotations,ValueLabelRotations.None),i.LegendPosition=BoldBIDashboard.DashboardDesignerUtility.Serialization.enumToString(LegendPositions,LegendPositions.Auto),i.LegendTitle="",i.LegendTextOverFlow=BoldBIDashboard.DashboardDesignerUtility.Serialization.enumToString(LegendTextOverFlow,LegendTextOverFlow.None),i.ColorMappingType=BoldBIDashboard.DashboardDesignerUtility.Serialization.enumToString(ColorMappingType,ColorMappingType.Data),i.LegendTextWidth=100,i.IsAutoLegendTitleFontSize=!0,i.LegendTitleFontSize=16,i.ShowValueLabelSuffix=!1,i.ValueLabelSuffix="",i.PrimaryValueGridLines=!0,i.SecondaryValueGridLines=!1,i.CategoryGridLines=!1,i.ShowMarker=!0,i.ShowNoDataItem=!1,i.Axis=new Axis,i.DataLabel=BoldBIDashboard.DashboardDesignerUtility.Serialization.enumToString(DataLabel,DataLabel.Category),i.IsEnableDrillDown=!1,i.DisplayNames=[],i.IsBasicChartType=!1,i.CustomLegendBtnVisibilty=!1,i.CustomLegendInfo=new CustomLegendSettings,i.CustomValueLabels=[],i.IsCustomLegend=!1,i.IsColorPaletteCategoryVisible=!1,i.IsDefaultColorPalette=!0,i.ColorPaletteModel=[],i.IndexColorPalette=[],i.TrendLineSettings=[],i.ChartSeriesTypeInfo=[],i.PrimaryAxisRange=new AxisRange,i.SecondaryAxisRange=new AxisRange,i.ForecastProperties=new ForecastProperties,i.LegendShape=BoldBIDashboard.DashboardDesignerUtility.Serialization.enumToString(LegendShape,LegendShape.Circle),i.ColumnSpacing=.2,i.ColumnWidth=.7,i.ValueLabel=new ColorSet,i.LegendLabel=new ColorSet,i.AxisTitle=new ColorSet,i.AxisLabel=new ColorSet,i.ValueLabel.Color="#000000",i.LegendLabel.Color="#000000",i.AxisTitle.Color="#000000",i.AxisLabel.Color="#000000",i.EnableMultiSelection=!1,i.IsAutoValueLabelFontSize=!0,i.ValueLabelFontSize=16,i.IsInversed=!1,i.ValueLabelPosition=BoldBIDashboard.DashboardDesignerUtility.Serialization.enumToString(ValueLabelPlacement,ValueLabelPlacement.Auto),i.EmptyPointMode=BoldBIDashboard.DashboardDesignerUtility.Serialization.enumToString(EmptyPointMode,EmptyPointMode.Gap),i.PageSize=200,i.ShowValueInTooltip=!1,i.FixedSeriesSettings=new SeriesSettings,i}return __extends(t,n),t}(VisualWidgetProperties),ChartLegendDropdownList=function(){function n(){this._type="Syncfusion.Dashboard.Web.Serialization.Model.DOM.Chart.ChartLegendDropdownList";this.SeriesUniqueID="";this.SeriesLegendName=""}return n}(),ColorPaletteModelSetting=function(){function n(){this.__type="Syncfusion.Dashboard.Web.Serialization.Model.DOM.Chart.ColorPaletteModelSetting";this.Name="";this.Value="";this.IsModified=!1;this.Id="";this.DefaultValue=""}return n}(),TrendLineSettings=function(){function n(){this._type="Syncfusion.Dashboard.Web.Serialization.Model.DOM.Chart.TrendLineSettings";this.CustomName="";this.LineColor="#77A7FB";this.LineStyle="";this.LineType="Linear";this.LineVisible=!0;this.LineWidth=1;this.Order=0;this.Name="";this.UniqueName="";this.Id=""}return n}(),CustomLegendSettings=function(){function n(){this.__type="Syncfusion.Dashboard.Web.Serialization.Model.DOM.Chart.CustomLegendSettings";this.Type=BoldBIDashboard.DashboardDesignerUtility.Serialization.enumToString(CustomLegendType,CustomLegendType.Individual);this.Format="{{:Row}}({{:Value}})";this.SingleValues=[];this.GroupValues=new CustomLegendsForGroup}return n}(),CustomValueLabels=function(){function n(){this._type="Syncfusion.Dashboard.Web.Serialization.Model.DOM.Chart.ValueLabels";this.Name="";this.IsEnabled=!1;this.UniqueColumnName=""}return n}(),ScatterChartSeriesType=function(){function n(){this._type="Syncfusion.Dashboard.Web.Serialization.Model.DOM.BubbleScatter.ScatterSeriesType";this.Name="";this.Shape=BoldBIDashboard.DashboardDesignerUtility.Serialization.enumToString(ChartSeriesShape,ChartSeriesShape.Circle);this.UniqueColumnName=""}return n}(),CustomLegendsForIndividual=function(){function n(){this.__type="Syncfusion.Dashboard.Web.Serialization.Model.DOM.Chart.CustomLegendsForIndividual";this.Name="";this.Caption="";this.Value="";this.IsModified=!1;this.Id=""}return n}(),CustomLegendsForGroup=function(){function n(){this.__type="Syncfusion.Dashboard.Web.Serialization.Model.DOM.Chart.CustomLegendsForGroup";this.Values=[];this.Series=[]}return n}(),Axis=function(){function n(){this.__type="Syncfusion.Dashboard.Web.Serialization.Model.DOM.Chart.Axis";this.CategoryAxis=new CategoryAxis;this.PrimaryValueAxis=new PrimaryValueAxis;this.SecondaryValueAxis=new SecondaryValueAxis}return n}(),CategoryAxis=function(){function n(){this.__type="Syncfusion.Dashboard.Web.Serialization.Model.DOM.Chart.CategoryAxis";this.IsEnabled=!0;this.LabelOverflowMode=LabelOverFlowMode.Auto.toString();this.LabelRotation="Auto";this.ShowTitle=!0;this.Title="";this.IsCustomTitle=!1;this.MaxLabelWidth=100;this.EnableTrim=!1;this.IsAutoCategoryAxisLabelFontSize=!0;this.CategoryAxisLabelFontSize=16;this.IsAutoCategoryAxisTitleFontSize=!0;this.CategoryAxisTitleFontSize=16;this.IsAutoInterval=!0;this.Interval=1}return n}(),PrimaryValueAxis=function(){function n(){this.__type="Syncfusion.Dashboard.Web.Serialization.Model.DOM.Chart.PrimaryValueAxis";this.IsEnabled=!0;this.ShowTitle=!0;this.Title="";this.IsCustomTitle=!1;this.AxisType=BoldBIDashboard.DashboardDesignerUtility.Serialization.enumToString(AxisType,AxisType.Linear);this.Format=new MeasureFormatting;this.IsAutoPrimaryAxisLabelFontSize=!0;this.PrimaryLabelFontSize=16;this.IsAutoPrimaryAxisTitleFontSize=!0;this.PrimaryTitleFontSize=16}return n}(),SecondaryValueAxis=function(){function n(){this.__type="Syncfusion.Dashboard.Web.Serialization.Model.DOM.Chart.SecondaryValueAxis";this.IsEnabled=!0;this.ShowTitle=!0;this.Title="";this.IsCustomTitle=!1;this.AxisType=BoldBIDashboard.DashboardDesignerUtility.Serialization.enumToString(AxisType,AxisType.Linear);this.Format=new MeasureFormatting;this.IsAutoSecondaryAxisLabelFontSize=!0;this.SecondaryLabelFontSize=16;this.IsAutoSecondaryAxisTitleFontSize=!0;this.SecondaryTitleFontSize=16}return n}(),AxisType;(function(n){n[n.Linear="Linear"]="Linear";n[n.Logarithmic="Logarithmic"]="Logarithmic"})(AxisType||(AxisType={}));var AxisRange=function(){function n(){this.__type="Syncfusion.Dashboard.Web.Serialization.DOM.Model.DOM.Chart.AxisRange";this.MinValue="";this.MaxValue="";this.Interval=""}return n}(),ForecastSettings=function(){function n(){this.__type="Syncfusion.Dashboard.Web.Serialization.Model.DOM.Chart.ForecastSettings";this.IsEnable=!1;this.Length=10;this.ConfidenceInterval=95;this.Seasonality=0}return n}(),ForecastProperties=function(){function n(){this.__type="Syncfusion.Dashboard.Web.Serialization.Model.DOM.Chart.ForecastProperties";this.ForecastSettings=new ForecastSettings;this.ShowForecast=!0;this.ForecastColor="#000000";this.ShowConfidence=!0;this.ConfidenceColor="#f5e4e4";this.LegendText="Upper and Lower Bounds";this.ConfidenceBandStyle=BoldBIDashboard.DashboardDesignerUtility.Serialization.enumToString(ConfidenceBandStyle,ConfidenceBandStyle.Fill)}return n}(),ConfidenceBandStyle;(function(n){n[n.Line="Line"]="Line";n[n.Fill="Fill"]="Fill";n[n.Dot="Dot"]="Dot"})(ConfidenceBandStyle||(ConfidenceBandStyle={}));ChartColumnSettinng=function(){function n(){this.__type="Syncfusion.Dashboard.Web.Serialization.Model.DOM.Chart.ChartColumnSetting"}return n}(),function(n){n[n.Auto="Auto"]="Auto";n[n.None="None"]="None";n[n.Plus45="+45"]="Plus45";n[n.Minus45="-45"]="Minus45";n[n.Plus90="+90"]="Plus90";n[n.Minus90="-90"]="Minus90"}(ValueLabelRotations||(ValueLabelRotations={})),function(n){n[n.Auto="Auto"]="Auto";n[n.Bottom="Bottom"]="Bottom";n[n.Middle="Middle"]="Middle";n[n.Top="Top"]="Top"}(ValueLabelPlacement||(ValueLabelPlacement={})),function(n){n[n.Gap="Gap"]="Gap";n[n.Zero="Zero"]="Zero";n[n.Average="Average"]="Average"}(EmptyPointMode||(EmptyPointMode={})),function(n){n[n.Auto="Auto"]="Auto";n[n.Bottom="Bottom"]="Bottom";n[n.Right="Right"]="Right";n[n.Left="Left"]="Left";n[n.Top="Top"]="Top"}(LegendPositions||(LegendPositions={})),function(n){n[n.Circle="Circle"]="Circle";n[n.Triangle="Triangle"]="Triangle";n[n.Rectangle="Rectangle"]="Rectangle";n[n.Diamond="Diamond"]="Diamond"}(ChartSeriesShape||(ChartSeriesShape={})),function(n){n[n.None="None"]="None";n[n.Trim="Trim"]="Trim";n[n.Wrap="Wrap"]="Wrap";n[n.WrapAndTrim="WrapAndTrim"]="WrapAndTrim"}(LegendTextOverFlow||(LegendTextOverFlow={})),function(n){n[n.Data="Data"]="Data";n[n.Index="Index"]="Index"}(ColorMappingType||(ColorMappingType={})),function(n){n[n.SeriesType="Series Type"]="SeriesType";n[n.Circle="Circle"]="Circle"}(LegendShape||(LegendShape={})),function(n){n[n.Auto="Auto"]="Auto";n[n.Ascending="Ascending"]="Ascending";n[n.Descending="Descending"]="Descending"}(SortSetting||(SortSetting={})),function(n){n[n.Column="Column"]="Column";n[n.Bar="Bar"]="Bar";n[n.Line="Line"]="Line";n[n.Area="Area"]="Area";n[n.Spline="Spline"]="Spline";n[n.SplineArea="Spline Area"]="SplineArea";n[n.StackedColumn="Stacked Column"]="StackedColumn";n[n.StackedBar="Stacked Bar"]="StackedBar";n[n.StackedArea="Stacked Area"]="StackedArea";n[n.PercentStackedColumn="100% Stacked Column"]="PercentStackedColumn";n[n.PercentStackedBar="100% Stacked Bar"]="PercentStackedBar";n[n.PercentStackedArea="100% Stacked Area"]="PercentStackedArea";n[n.Pie="Pie"]="Pie";n[n.Doughnut="Doughnut"]="Doughnut";n[n.Pyramid="Pyramid"]="Pyramid";n[n.Funnel="Funnel"]="Funnel";n[n.ComboChart="Combo Chart"]="ComboChart";n[n.Bubble="Bubble"]="Bubble";n[n.Scatter="Scatter"]="Scatter"}(ChartTypes||(ChartTypes={})),function(n){n[n.Trim="Trim"]="Trim";n[n.Hide="Hide"]="Hide";n[n.Auto="Auto"]="Auto"}(LabelOverFlowMode||(LabelOverFlowMode={})),function(n){n[n.Category="Category"]="Category";n[n.Value="Value"]="Value";n[n.Percentage="Percentage"]="Percentage";n[n.CategoryAndValue="Category And Value"]="CategoryAndValue";n[n.CategoryAndPercentage="Category And Percentage"]="CategoryAndPercentage";n[n.ValueAndPercentage="Value And Percentage"]="ValueAndPercentage";n[n.AllDetails="All Details"]="AllDetails"}(DataLabel||(DataLabel={})),function(n){n.Individual="Individual";n.Group="Group"}(CustomLegendType||(CustomLegendType={}));ImageProperties=function(n){function t(t){var i=n.call(this,t)||this;return i.__type="Syncfusion.Dashboard.Web.Serialization.Model.DOM.ImageProperties",i.EnableImageExport=!0,i.EnablePdfExport=!0,i.IgnoreFilterActions=!0,i.BindFromDatasource=!0,i.Stretch=ImageMode.Default,i.ImageSource=ImgSource.Local,i.PaddingSettings=new PaddingSettings,i.ImageRotation=BoldBIDashboard.DashboardDesignerUtility.Serialization.enumToString(ImageRotations,ImageRotations.ZeroDeg),i.DataSource=DataSource.BinaryData,i.URLPattern="{0}",i.ImageUrl=null,i.ImagePath=null,i.IsURL=!1,i.IsImageExist=!1,i.BindDataIsChecked=!1,i.ImageName=null,i.IsInPackage=!1,i.Name="",i.UniqueName=null,i.imageSrc=null,i.ContainerSettings.CornerRadius=0,i}return __extends(t,n),t}(WidgetProperties);PaddingSettings=function(){function n(){this._type="Syncfusion.Dashboard.Web.Serialization.DOM.Model.DOM.Image.PaddingSettings";this.Bottom=0;this.Left=0;this.Right=0;this.Top=0}return n}(),function(n){n[n.Default="Default"]="Default";n[n.Fill="Fill"]="Fill";n[n.Uniform="Uniform"]="Uniform";n[n.UniformToFill="Uniform To Fill"]="UniformToFill"}(ImageMode||(ImageMode={})),function(n){n[n.BinaryData="Binary Data"]="BinaryData";n[n.URI="URI"]="URI"}(DataSource||(DataSource={})),function(n){n[n.Local="Local"]="Local";n[n.URL="URL"]="URL";n[n.ParameterizedURL="Parameterized URL"]="ParameterizedURL"}(ImgSource||(ImgSource={})),function(n){n[n.ZeroDeg="0"]="ZeroDeg";n[n.NinetyDeg="90"]="NinetyDeg";n[n.OneEightyDeg="180"]="OneEightyDeg";n[n.TwoSeventyDeg="270"]="TwoSeventyDeg"}(ImageRotations||(ImageRotations={}));LinkProperties=function(){function n(){this.__type="Syncfusion.Dashboard.Web.Serialization.Model.DOM.Common.LinkProperties";this.Linking=new LinkSetting}return n}();LinkSetting=function(){function n(){this.__type="Syncfusion.Dashboard.Web.Serialization.Model.DOM.LinkSetting"}return n}(),function(n){n[n.Filter=0]="Filter";n[n.NonFilter=1]="NonFilter"}(WidgetType||(WidgetType={}));var ColorCustomization=function(){function n(){this.__type="Syncfusion.Dashboard.Core.CustomColor.ColorCustomization";this.DefaultColor="#A8E1F4";this.Type=ColorCustomizationType.Gradient;this.GradientSettings=new GradientSettings;this.SolidColorInfo=[];this.RuleRangeSettings=new RuleRangeSettings}return n}(),GradientColorInfo=function(){function n(){this.__type="Syncfusion.Dashboard.Core.CustomColor.GradientColorInfo";this.HasMidColor=!1;this.Low=new GradientColorSettings;this.Mid=new GradientColorSettings;this.High=new GradientColorSettings;this.DefaultFormatColor=new GradientColorSettings;this.Low.Color="#fd2e56";this.Mid.Color="#e5ed00";this.High.Color="#4cd766";this.DefaultFormatColor.Color="#F67280"}return n}(),GradientSettings=function(){function n(){this.BasedOn=new ColorFieldInfo;this.GradientColorInfo=new GradientColorInfo}return n}(),RuleRangeSettings=function(){function n(){this.BasedOn=new ColorFieldInfo;this.RangeColorInfo=[]}return n}(),SolidColorSet=function(){function n(){this.BasedOn=new ColorFieldInfo;this.DefaultColorSets=[];this.ColorMappingType=BoldBIDashboard.DashboardDesignerUtility.Serialization.enumToString(ColorMappingType,ColorMappingType.Data);this.IndexColorPalette=[]}return n}(),ColorFieldInfo=function(){function n(){this.__type="Syncfusion.Dashboard.Core.CustomColor.ColorFieldInfo";this.SummaryType=SummaryType.SUM;this.FieldId="";this.UniqueColumnName="";this.ValueType=ValueType.Value;this.IsDefaultFormat=!1;this.DefaultFormatType=DefaultFormatType.Default}return n}(),GradientColorSettings=function(){function n(){this.__type="Syncfusion.Dashboard.Core.CustomColor.GradientColorSettings";this.IsCustom=!1;this.Value=null;this.Color="#A8E1F4"}return n}(),ColorCustomizationType;(function(n){n[n.Gradient=0]="Gradient";n[n.Rule=1]="Rule";n[n.Individual=2]="Individual"})(ColorCustomizationType||(ColorCustomizationType={})),function(n){n[n.Default=0]="Default";n[n.AsZero=1]="AsZero";n[n.Specific=2]="Specific"}(DefaultFormatType||(DefaultFormatType={})),function(n){n[n.Value=0]="Value";n[n.Percentage=1]="Percentage"}(ValueType||(ValueType={}));var RangeColorSettings=function(){function n(){this.__type="Syncfusion.Dashboard.Core.CustomColor.RangeColorSettings";this.StartRange=0;this.EndRange=0;this.IsCaseSensitive=!0;this.RangeLabel="";this.DimensionConditionalValue="";this.MeasureCondition=CMeasureConditionType.CEquals;this.DimensionCondition=CDimensionConditionType.Startswith;this.PropertyColorPair=[]}return n}(),PropertyColorSettings=function(){function n(){}return n}(),TableWidgetCustomColors=function(){function n(){this.SourceColorField=new ColorFieldInfo;this.ColorCustomization=new ColorCustomization;this.EnableAsBar=!1;this.BarCustomization=new BarCustomization}return n}(),BarCustomization=function(){function n(){this.__type="Syncfusion.Dashboard.Core.CustomColor.BarCustomization";this.Minimum=new MinMaxCustomization;this.Maximum=new MinMaxCustomization;this.PositiveColor=new BarColor;this.NegativeColor=new BarColor;this.BarTextColor=new BarColor;this.DisableValue=!1;this.PositiveColor.RgbColor="rgba(44,217,197,1)";this.PositiveColor.HexColor="#2CD9C5";this.NegativeColor.RgbColor="rgba(255,108,64,1)";this.NegativeColor.HexColor="#FF6C40";this.BarTextColor.RgbColor="rgba(255,255,255,1)";this.BarTextColor.HexColor="#FFFFFF";this.EnableRTL=!1;this.FieldName="";this.BarShape=BarShapeType.Cylinder}return n}(),BarShapeType;(function(n){n[n.Cylinder=0]="Cylinder";n[n.Rectangle=1]="Rectangle"})(BarShapeType||(BarShapeType={}));var MinMaxCustomization=function(){function n(){this.__type="Syncfusion.Dashboard.Core.CustomColor.MinMaxCustomization";this.Value=0;this.IsEdited=!1}return n}(),BarColor=function(){function n(){this.__type="Syncfusion.Dashboard.Core.CustomColor.BarColor";this.IsEdited=!1}return n}(),RangeNavigatorProperties=function(n){function t(t){var i=n.call(this,t)||this;return i.__type="Syncfusion.Dashboard.Web.Serialization.Model.DOM.RangeNavigatorProperties",i.SeriesType=[],i.DefaultColors=[],i.LabelColor=new ColorSet,i.LabelColor.Color="#505D6F",i}return __extends(t,n),t}(WidgetProperties),RangeNavigatorSeriesType=function(){function n(){this.Type=RangeNavigatorType.Area;this.Name=""}return n}(),RangeNavigatorType;(function(n){n[n.Area=0]="Area";n[n.Line=1]="Line";n[n.StepLine=2]="StepLine"})(RangeNavigatorType||(RangeNavigatorType={}));var ScriptInfo=function(){function n(){this.ScriptName=null;this.NameSpace=null}return n}(),RequiredScripts=function(){function n(){this.MainScript=null;this.DependentScripts=[]}return n}(),WidgetElementsVisibility=function(){function n(){this.ShowLegend=!1;this.ShowXAxisLabels=!1;this.ShowXAxisTitle=!1;this.ShowYAxisTitle=!1;this.ShowYAxisLabels=!1}return n}(),DaConditionalResult=function(){function n(){this.ConditionalInformations=new DaConditionalInformations;this.OverallResult=!1}return n}(),DaConditionalInformations=function(){function n(){this.ConditionalInfoColleciton=[];this.GlobalFilters=[]}return n}(),DaConditionalInfo=function(){function n(){this.Filters=[]}return n}(),DaFilter=function(){function n(){this.StringCondition=new DaStringCondition}return n}(),DaMeasureFieldInfo=function(){function n(){}return n}(),DaDatasourceFieldInfo=function(){function n(){}return n}(),DaStringCondition=function(){function n(){this.Values=[];this.DateInfo=null}return n}(),DaDateFilterInfo=function(){function n(){this.DateFormatInfo=null;this.FilterValues=[];this.RelativeDateFilter=null}return n}(),DaDashboardArguments=function(){function n(){}return n}(),DaCustomExpression=function(){function n(){}return n}(),DaCustomExpressionDialogArguments=function(){function n(){}return n}(),DataAlertArgs=function(){function n(){}return n}(),ConfiguredWidgetInfo=function(){function n(){}return n}(),FilterModel=function(){function n(){}return n}(),TabbedProperties=function(n){function t(t){var i=n.call(this,t)||this;return i.__type="Syncfusion.Dashboard.Web.Serialization.Model.DOM.TabbedProperties",i.ActiveTabId="",i.HideHeader=!1,i.WidgetsList=[],i.HeaderColor="#0565FF",i.HeaderFontSize=12,i.TabInfo=[],i.FilterSettings.IgnoreFilterActions=!0,i}return __extends(t,n),t}(VisualWidgetProperties),WidgetList=function(){function n(){this.TabId="";this.WidgetIds=[]}return n}(),TabInfo=function(){function n(){this.DisplayText="";this.UniqueText=""}return n}(),InternalDataConfiguration=function(){function n(n){this.id=null;this.dashboardDesigner=null;this.canUpdate=!0;this.selectedDatasetId=null;this.selectedDatasetName=null;this.measuresList=[];this.dimensionsList=[];this.categoryItems=[];this.parametersList=[];this.removeIndex=-1;this.resizeObj={isNoData:!1,isAssign:!1};this.masterSlaveConfiguration=null;this.widgetDataRequestAjaxCollection=[];this.fetchWidgetDataRequest=[];this.labelParameter=null;this.locale=null;this.lastPosition={};this.isLiveWebDataMoved=!1;this.singleDsConnectedWidgets=[];this.requestIdCollection=[];this.id=n._id;this.dashboardDesigner=n;this.bbdesigner$=this.dashboardDesigner.bbdesigner$;this.locale=n.getLocalizationContent();(this.dashboardDesigner.isDesignMode()||this.dashboardDesigner.isViewMode()||this.dashboardDesigner.isDesignPreviewMode())&&(this.masterSlaveConfiguration=this.dashboardDesigner.modules.masterSlaveFilter,this.labelParameter=this.dashboardDesigner.modules.labelParameter);this.widgetHelper=this.dashboardDesigner.modules.widgetHelper;this.dataConfigRootContainer=BoldBIDashboard.buildTag("div.bbi-designer-designer-dataassign","",{"background-color":"white",overflow:"hidden"},{id:this.id+"_dataTabRootElement"});this.dataConfigContainer=BoldBIDashboard.buildTag("div.bbi-designer-designer-dataassign","",{},{id:this.id+"_dataTabElement"});this.dataConfigRootContainer.append(this.dataConfigContainer);this.renderAlertContainer(this.dataConfigRootContainer);this.wireEvents()}return n.prototype.isLoaded=function(){return!BoldBIDashboard.isNullOrUndefined(this.targetTag)},n.prototype.appendEjWaitingPopup=function(){this.dataConfigRootContainer.BoldBIDashboardWaitingPopup({showOnInit:!1,cssClass:"e-designer-waitingpopup bbi-designer-loader bbi-propertyPanel-waitingPopup"});this.ejWaitingPane=this.dataConfigRootContainer.data("BoldBIDashboardWaitingPopup")},n.prototype.renderContainer=function(n){var t;this.targetTag=n;this.targetTag.append(this.dataConfigRootContainer);var f=this.dashboardDesigner.element.find("#"+this.id+"_dataPanelContainer").height()-29,i=BoldBIDashboard.buildTag("div.bbi-datasource-field-container-wrap","",{padding:"10px 8px 8px 6px"},{id:this.id+"_datasetFieldsContainer"}),e=BoldBIDashboard.buildTag("div.bbi-datasource-field-container-seperator","",{height:f+"px"},{id:this.id+"_dataassignSeperator"}),r=BoldBIDashboard.buildTag("div.bbi-data-assign-field-container-wrap bbi-dbrd-designer-scroller bbi-dbrd-control bbi-dbrd-designer-scroll-style-3 bbi-ds-field-container-scroller","",{},{id:this.id+"_dataassignConfigContainer"}),u=BoldBIDashboard.buildTag("div.bbi-data-assign-field-container-scroller","",{},{id:this.id+"_dataassignConfigScrollerContainer"});r.append(u);t=BoldBIDashboard.buildTag("div.bbi-data-assign-field-splitter","",{},{id:this.id+"_dataassignConfigSplitter"});u.append(t);this.dataConfigContainer.append(i,e,r);this.dashboardDesigner.designerPanel.selectedReportItems.length>0&&BoldBIDashboard.Dashboard.WidgetHelper.isDataWidget(this.widgetHelper.getCurrentWidgetInstance())&&(this.renderDesignerExpression(i),this.renderDatasetFields(i),this.renderCategoryItems(this.getCategoryItems(),t))},n.prototype.renderDesignerExpression=function(n){n.append(this.generateDegExpTemplate());var t=this.getCurrentDatasourceInfo(this.selectedDatasetId);this.expBtnEnableOrDisable(!BoldBIDashboard.isNullOrUndefined(t)&&t.Permission.CanWrite)},n.prototype.generateDegExpTemplate=function(){return"<div class='bbi-data-assign-exp-container' style = ' height: 35px; margin-bottom: 5px'><div class='bbi-data-assign-exp-wrap' id='"+this.id+"_expressionContainer' style = 'height: 30px; margin-bottom: 6px; display: flex; flex-direction: column'><button type='button' class='bbi-dbrd-btn-secondary bbi-data-assign-btn' id='"+this.id+"_addexpression_btn' style = 'display: flex; align-items: center; justify-content: center'><div class='bbi-data-assign-exp-icon bbi-toolbarfonticonbasic bbi-dbrd-icon-theme bbi-designer-expression' id='"+this.id+"_expressionIcon' style = ' font-size: 15px; padding-right: 5px'><\/div><div class='bbi-data-assign-exp-icon-text bbi-designer-fontfamily' id='"+this.id+"_expressionIconText' style = ' font-size: 12px; '>Add Expression<\/div><\/button><\/div><\/div>"},n.prototype.expBtnEnableOrDisable=function(n){var i=this.dataConfigContainer.find("#"+this.id+"_addexpression_btn"),t;i=n?i.addClass("bbi-dbrd-designer-data-assign-exp-btn-enable").removeClass("bbi-dbrd-designer-data-assign-exp-btn-disable e-disable"):i.addClass("e-dbrd-designer-data-assign-exp-btn-disable e-disable").removeClass("bbi-dbrd-designer-data-assign-exp-btn-enable");t=this.dataConfigContainer.find("#"+this.id+"_expressionContainer");t.removeAttr("data-tooltip");n||(t=this.dataConfigContainer.find("#"+this.id+"_expressionContainer"),t.attr("data-tooltip",this.locale.fieldContainer.designerExpDisableInfo).addClass("bbi-dbrd-designer-hoverable"))},n.prototype.openQueryExression=function(){var n=this.selectedDatasetId,i=this.getCurrentDatasourceInfo(n),t=this.getCurrentDataSet(n),r=this.getQueryExpression(t),u=BoldBIDashboard.Dashboard.ConnectionHelper.getConnectionInsFromDSId(this.dashboardDesigner,n),f=this.dashboardDesigner.modules.queryExpression,e={callBackInstance:this,callBackMethod:"saveDatasourcenInfo",optionalArgs:{isEdit:!1,tableType:null,datasourceInfo:i,dataset:t}};f.openExpression(r,u,e)},n.prototype.getCurrentDatasourceInfo=function(n){var i=this.dashboardDesigner.modules.dataSource.datasources,t;return i.forEach(function(i){i.Id===n&&(t=i)}),t},n.prototype.getQueryExpression=function(n){var t=[],i=n.Query.QueryDesignerState.Expressions;return BoldBIDashboard.isNullOrUndefined(i)||i.forEach(function(n){t.push({name:n.Name,expression:n.QueryExp})}),t},n.prototype.getCurrentDataSet=function(n){var i=this.dashboardDesigner.modules.dataSet.datasets,t;return i.forEach(function(i){i.Id===n&&(t=i)}),t},n.prototype.getExpressionState=function(n){var t=null;return n&&n.length>0&&(t=[],n.forEach(function(n){var i={Name:n.name,QueryExp:n.expression};t.push(i)})),t},n.prototype.updateDatasetInfo=function(n,t){var i=this,r,u,f;if(t&&t.schema){var o=[],s=JSON.parse(t.schema),e=[];s.forEach(function(n){var t=BoldBIDashboard.DashboardUtil.updateDSFields(o,n);e.push(t)});r=this.getExpressionState(n);u=this.dashboardDesigner.modules.dataSet.datasets;u.forEach(function(n,u){if(n.Id===i.selectedDatasetId){var f=BoldBIDashboard.Dashboard.ConnectionHelper.getConnectionInsFromDSId(i.dashboardDesigner,n.Id),o=BoldBIDashboard.Dashboard.ConnectionHelper.isHierarchicalConnection(f);i.dashboardDesigner.modules.dataSet.datasets[u].Fields=[];i.dashboardDesigner.modules.dataSet.datasets[u].Fields=e;i.dashboardDesigner.modules.dataSet.datasets[u].Query.QueryDesignerState.Expressions=r;i.dashboardDesigner.modules.dataSet.datasets[u].TreeViewData=o?t.TreeViewData:null}});this.updateDataset(this.selectedDatasetId,!1,BoldBIDashboard.isNullOrUndefined(t.linkedDS)?null:JSON.parse(t.linkedDS));f=this.dashboardDesigner.modules.propertyPanel.resizeObj;this.showDataConfig(!0,f)}},n.prototype.saveDatasourcenInfo=function(n){var t=new BoldBIDashboard.DashboardDesignerUtility.DatasourceSaveDialog(this.dashboardDesigner,this.getCurrentDatasourceInfo(this.selectedDatasetId),this.getCurrentDataSet(this.selectedDatasetId),this.bbdesigner$.proxy(this.updateDatasetInfo,this,n.queryExp));t.trySavingDataSource(this.bbdesigner$.proxy(this.showIndicator,this),this.bbdesigner$.proxy(this.hideIndicator,this))},n.prototype.renderAlertContainer=function(n){var u=this.dashboardDesigner.element.find("#"+this.id+"_dataPanelContainer").height()-34;this.dataConfigAlertContainer=BoldBIDashboard.buildTag("div","",{"background-color":"white",overflow:"hidden",display:"none",height:u+"px",width:"464px","vertical-align":"middle"},{id:this.id+"_dataAlertElement"});var t=BoldBIDashboard.buildTag("div","",{}),f=BoldBIDashboard.buildTag("div.bbi-dashboarddesigner-hint-nodata","",{height:"60px"},{}),i=BoldBIDashboard.buildTag("div","",{"text-align":"center","padding-bottom":"20px"},{}),e=BoldBIDashboard.buildTag("span",this.locale.errorMessage.alertAddDatasourceMessage,{},{}),r=BoldBIDashboard.buildTag("div","",{"text-align":"center"},{}),o=BoldBIDashboard.buildTag("button.bbi-dbrd-btn-primary bbi-dbrd-btn-small",this.locale.dataSource.addDatasourceText,{},{id:this.id+"_data_addDs",type:"button"});r.append(o);i.append(e);t.append(f).append(i).append(r);this.dataConfigAlertContainer.append(t);n.append(this.dataConfigAlertContainer)},n.prototype.showAlertContainer=function(n){n?(this.dataConfigContainer.css("display","none"),this.dataConfigAlertContainer.css("display","table-cell"),this.dashboardDesigner.element.find("#"+this.id+"_propertyTabUl_datasetListContainer").css("display","none")):(this.dataConfigContainer.css("display","block"),this.dataConfigAlertContainer.css("display","none"))},n.prototype.createNewDataSource=function(){var n=this.dashboardDesigner.modules.dataConfigurationPanel,t=n.getPanelItem("DataSource");n.updatePanelDisplay(t.GroupName,t,!1)},n.prototype.updateSize=function(){this.resizeObj.isNoData=this.resizeObj.isAssign=!0;this.isLoaded()&&(this.dataConfigRootContainer.height(this.dashboardDesigner.element.find("#"+this.id+"_dataPanelContainer").height()-34+"px"),this.updatePanelSize())},n.prototype.updatePanelSize=function(){this.isLoaded()&&(this.dataConfigContainer.is(":visible")?(this.updateDataSize(),this.resizeObj.isAssign=!1):this.dataConfigAlertContainer.is(":visible")&&(this.dataConfigAlertContainer.height(this.dashboardDesigner.element.find("#"+this.id+"_dataPanelContainer").height()-34+"px"),this.resizeObj.isNoData=!1))},n.prototype.updateDataSize=function(){var n=this.dashboardDesigner.element.find("#"+this.id+"_dataPanelContainer").height()-(parseInt(this.dataConfigContainer.css("margin-top"),10)+parseInt(this.dataConfigContainer.css("margin-bottom"),10)+41);this.updateCategoryItemHeight(this.getDefaultCategoryItems(),n);this.updateCategoryItemHeight(this.getCategoryItems(),n);this.dataConfigContainer.find("#"+this.id+"_dataassignSeperator").height(this.dashboardDesigner.element.find("#"+this.id+"_dataPanelContainer").height()-29)},n.prototype.updateCategoryItemHeight=function(n,t){for(var r,u,f=n.length,i=0;i<n.length;i++)BoldBIDashboard.isNullOrUndefined(n[i].Visibility)||n[i].Visibility!==Visibility.hidden||f--;for(i=0;i<n.length;i++)(BoldBIDashboard.isNullOrUndefined(n[i].Visibility)||n[i].Visibility!==Visibility.hidden)&&(r=this.getFieldContainerHeight(t,f),this.dataConfigRootContainer.find("#"+this.id+"_"+n[i].Name+"_categoryItem").height(r),u=this.dataConfigRootContainer.find("#"+this.id+"_"+n[i].Name+"_categoryListPanel").data("BoldBIDashboardScroller"),BoldBIDashboard.isNullOrUndefined(u)||u.setModel({height:r-40+"px"}))},n.prototype.hideIndicator=function(){this.ejWaitingPane.hide()},n.prototype.showIndicator=function(){this.ejWaitingPane.show()},n.prototype.showDataConfig=function(n,t){var r=this.dashboardDesigner.modules.dataSet.datasets,i=[];this.dashboardDesigner.designerPanel.selectedReportItems.length>0&&BoldBIDashboard.Dashboard.WidgetHelper.isDataWidget(this.widgetHelper.getCurrentWidgetInstance())&&(i=this.getCategoryItems());i.length>0&&(this.validateItems(i)?(this.dataConfigContainer.empty(),this.dashboardDesigner.element.find("#"+this.id+"_group_edit_dialog").remove(),n&&this.renderContainer(this.targetTag)):this.resetContainer(i),this.updateDatasetFields(this.selectedDatasetId,this.selectedDatasetName,!1),this.populateContainer(i));this.showAlertContainer(!(r&&r.length>0));t.isDataAssign?(this.updateSize(),t.isDataAssign=!1):(this.resizeObj.isAssign||this.resizeObj.isNoData)&&this.updatePanelSize();this.hideIndicator()},n.prototype.validateItems=function(n){var t=this.dataConfigContainer.find("#"+this.id+"_dataassignConfigContainer"),i,r;if(!BoldBIDashboard.isNullOrUndefined(t[0])&&t[0].children.length>0&&t[0].children.length===n.length){for(i=0;i<t[0].children.length;i++)if(r=t[0].children[i].id.split("_")[1],n[i].Name!==r)return!0}else return!0;return!1},n.prototype.getCategoryItems=function(){var n=[];return this.dashboardDesigner.designerPanel.selectedReportItems.length>0&&(n=this.widgetHelper.getCurrentWidgetInstance().getFieldContainer(),this.categoryItems=n),n},n.prototype.getDefaultCategoryItems=function(){var n=[];return this.dashboardDesigner.designerPanel.selectedReportItems.length>0&&(n=this.widgetHelper.getCurrentWidgetInstance().getFieldView()),n.length===0&&(n=[{name:"Measures"},{name:"Dimensions"}]),n},n.prototype.resetContainer=function(n){for(var t=0;t<n.length;t++)this.dataConfigRootContainer.find("#"+this.id+"_"+n[t].Name+"_categoryList").empty(),this.createEmptyDragDropField(n[t].Name)},n.prototype.populateContainer=function(n){for(var t=0;t<n.length;t++)if(this.dashboardDesigner.designerPanel.selectedReportItems.length>0){var r=this.dashboardDesigner.designerPanel.selectedReportItems[0],u=BoldBIDashboard.Dashboard.WidgetHelper.getWidgetInstance(r),i=u.DataGroupInfo;BoldBIDashboard.isNullOrUndefined(i)||BoldBIDashboard.isNullOrUndefined(i.FieldContainers)||this.populateValues(i.FieldContainers,n[t])}},n.prototype.populateValues=function(n,t){for(var e,o,f,r,i,u=0;u<n.length;u++){if(e=[],o=[],n[u].Name===t.Name)for(f=0,r=0;r<n[u].FieldInfos.length;r++)i=n[u].FieldInfos[r],BoldBIDashboard.isNullOrUndefined(i.DateBucketInfo)||this.revertColumnNameForDatebucket(i),this.bbdesigner$(this.id+"_"+i.Id+"_categoryAggregateListUl_"+i.UniqueId).remove(),i.ItemIndex=r,i.IsLoading=!0,i.UniqueId=this.getAvailableName(),i.IsExpression=!1,i.hierarchyLevel=f>0?f-1:0,BoldBIDashboard.isNullOrUndefined(i.ParentId)||(e.push(i),f++),o.push(i);this.addItemFields(e,o)}},n.prototype.addItemFields=function(n,t){n.length>0&&this.populateHeiarchyFieldsInItemFields(t,n);for(var i=0;i<t.length;i++)this.addItem(t[i],!0,!1)},n.prototype.populateHeiarchyFieldsInItemFields=function(n,t){for(var i,u,f=this.createHeirachyFieldsFromChildFields(t),e=0,o=0,r=0;r<f.length;r++){for(i=JSON.parse(JSON.stringify(f[r][0])),e=f[r][0].hierarchyLevel,i.ItemIndex=f[r][0].ItemIndex,i.hierarchyLevel=e,i.Name=i.ParentName,i.DisplayName=i.ParentName,i.Id=i.ParentId,i.ParentId=null,i.IsParentField=!0,i.ChildHierarchicalFields=f[r],n.splice(i.ItemIndex,0,i),u=i.ItemIndex+1;u<n.length;u++)n[u].ItemIndex++,o===0&&n[u].hierarchyLevel++;o++}},n.prototype.createHeirachyFieldsFromChildFields=function(n){for(var i=[],r=[],u=function(t){r.indexOf(n[t].ParentId)===-1&&(i.push(n.filter(function(i){return i.ParentId===n[t].ParentId})),r.push(n[t].ParentId))},t=0;t<n.length;t++)u(t);return i},n.prototype.revertColumnNameForDatebucket=function(n){n.DateTimeFormat===DateTimeFormat.None||n.IsDisplayNameEdited||(n.DisplayName=n.DateTimeFormat+"("+n.Name+")")},n.prototype.renderSearchPanel=function(n){var i=BoldBIDashboard.buildTag("div","",{width:"107px",height:"16px",float:"right","margin-top":"3px"},{id:this.id+"_"+n+"_searchPanel"}),t=BoldBIDashboard.buildTag("input.bbi-designer-fieldcontainer-search-dataassign","",{"border-radius":"5px","padding-left":"5px",color:"lightgrey","font-size":"11px",float:"left",width:"100px",height:"15px",border:"1px solid lightGray"},{id:this.id+"_"+n+"_searchBox"}),r;return t.val(this.locale.dataconfiguration.fieldView.searchDisplayName),r=BoldBIDashboard.buildTag("div","",{width:"24px",height:"15px","margin-top":"-16px",float:"right",color:"lightgray"},{id:this.id+"_"+n+"_searchIcon","class":"e-icon e-search"}),t.bind("keyup",this.bbdesigner$.proxy(this.onSearchClick,this,n)),t.bind("blur",this.bbdesigner$.proxy(this.onSearchBlur,this,n)),t.bind("focus",this.bbdesigner$.proxy(this.onSearchFocus,this,n)),r.bind("click",this.bbdesigner$.proxy(this.onSearchCloseClick,this,n)),i.append(t),i.append(r),i},n.prototype.filterItems=function(n,t){var e=BoldBIDashboard.Dashboard.ConnectionHelper.getConnectionInsFromDSId(this.dashboardDesigner,this.selectedDatasetId),o=BoldBIDashboard.Dashboard.ConnectionHelper.isHierarchicalConnection(e),i=[],r,f,u;if(n==="Measures"?i=this.measuresList:n==="Dimensions"?i=this.dimensionsList:n==="Parameters"&&(i=this.parametersList),o){t.trim()!==""&&(i=this.filterHierarchicalData(t,this.bbdesigner$.extend(!0,[],i)));var s=this.widgetHelper.getCurrentWidgetInstance().getFieldView(),h=this.validateDefaultCategories(s),c=new BoldBIDashboard.Dashboard.HierarchicalConfigurationView(this.dashboardDesigner);c.renderDatasource(i,n,h)}else for(this.dataConfigRootContainer.find("#"+this.id+"_"+n+"_categoryList").empty(),r=0;r<i.length;r++)(t===""||i[r].Name.toLowerCase().indexOf(t.toLocaleLowerCase())!==-1)&&(BoldBIDashboard.isNullOrUndefined(i[r].ChildHierarchicalFields)&&BoldBIDashboard.isNullOrUndefined(i[r].ParentId)&&BoldBIDashboard.isNullOrUndefined(i[r].TreeNode)?this.createLabelForFields(i[r],this.dataConfigRootContainer.find("#"+this.id+"_"+n+"_categoryList")):!BoldBIDashboard.isNullOrUndefined(i[r].ChildHierarchicalFields)&&BoldBIDashboard.isNullOrUndefined(i[r].ParentId)&&i[r].HasChild?(f=this.createLabelForHeirachialDroppedField(i[r],!0,this.widgetHelper.getCurrentWidgetInstance()),this.dataConfigRootContainer.find("#"+this.id+"_"+n+"_categoryList").append(f)):i[r].FieldActualType==="bbi-designer-dataset-datetime"&&BoldBIDashboard.isNullOrUndefined(i[r].ParentId)&&i[r].HasChild&&this.createLabelForDateFields(i[r],this.dataConfigRootContainer.find("#"+this.id+"_"+n+"_categoryList")));u=this.dataConfigRootContainer.find("#"+this.id+"_"+n+"_categoryListPanel").data("BoldBIDashboardScroller");BoldBIDashboard.isNullOrUndefined(u)||u.refresh()},n.prototype.filterHierarchicalData=function(n,t){for(var u=[],r=[],f=[],e=null,i=0;i<t.length;i++)t[i].Name.toLowerCase().indexOf(n.toLocaleLowerCase())!==-1&&f.indexOf(t[i].ParentId)===-1?(u.push(t[i]),e=t[i].ParentId,t[i].HasChild&&f.push(t[i].ColumnId),BoldBIDashboard.isNullOrUndefined(e)?r=[]:r.length>0&&!BoldBIDashboard.isNullOrUndefined(r[r.length-1].ParentId)&&r[r.length-1].ColumnId!==t[i].ParentId&&this.removeTillCurrentItemParent(r,t[i].ParentId),r.length!==0&&(u=u.concat(r),r=[])):t[i].HasChild&&(f.indexOf(t[i].ParentId)!==-1?f.push(t[i].ColumnId):BoldBIDashboard.isNullOrUndefined(t[i].ParentId)||t[i].ParentId.trim()===""?(r=[],e=null):(!BoldBIDashboard.isNullOrUndefined(e)&&e!==t[i].ParentId||r.length>0&&!BoldBIDashboard.isNullOrUndefined(r[r.length-1].ParentId)&&r[r.length-1].ColumnId!==t[i].ParentId)&&this.removeTillCurrentItemParent(r,t[i].ParentId),r.push(t[i])),f.indexOf(t[i].ParentId)!==-1&&u.push(t[i]);return u},n.prototype.filterDataSourceBasedOnSupportedType=function(n,t){for(var f={},i=0;i<t.length;i++)switch(t[i]){case"bbi-designer-dataset-datetime":f.Date=!0;break;default:f.String=!0}var r=[],e=[],u=null;for(i=0;i<n.length;i++)f[n[i].DataType]?(e.push(n[i]),u=n[i].ParentId,BoldBIDashboard.isNullOrUndefined(u)?r=[]:r.length>0&&!BoldBIDashboard.isNullOrUndefined(r[r.length-1].ParentId)&&r[r.length-1].ColumnId!==n[i].ParentId&&this.removeTillCurrentItemParent(r,n[i].ParentId),r.length!==0&&(e=e.concat(r),r=[])):n[i].HasChild&&(BoldBIDashboard.isNullOrUndefined(n[i].ParentId)||n[i].ParentId.trim()===""?(r=[],u=null):(!BoldBIDashboard.isNullOrUndefined(u)&&u!==n[i].ParentId||r.length>0&&!BoldBIDashboard.isNullOrUndefined(r[r.length-1].ParentId)&&r[r.length-1].ColumnId!==n[i].ParentId)&&this.removeTillCurrentItemParent(r,n[i].ParentId),r.push(n[i]));return e},n.prototype.removeTillCurrentItemParent=function(n,t){for(var i=n.length-1;i>=0;i--){if(n[i].ColumnId===t)break;n.pop()}},n.prototype.setSearchText=function(n,t){this.dataConfigContainer.find("#"+this.id+"_"+n+"_searchBox").val(t)},n.prototype.onSearchClick=function(n,t){if(t.keyCode!==13){var r=this.dataConfigContainer.find("#"+this.id+"_"+n+"_searchBox"),i=r.val();i.length>0?(this.dataConfigContainer.find("#"+this.id+"_"+n+"_searchIcon").addClass("e-close_01").removeClass("e-search"),this.filterItems(n,i)):i.length===0&&(r.val(""),this.filterItems(n,""))}},n.prototype.onSearchBlur=function(n){var t=this.dataConfigContainer.find("#"+this.id+"_"+n+"_searchBox"),i=t.val();t.removeClass("e-focus");i.length===0&&(this.dataConfigContainer.find("#"+this.id+"_"+n+"_searchIcon").addClass("e-search").removeClass("e-close_01"),t.val("Search"),this.filterItems(n,""),t.css("color","lightgrey"))},n.prototype.onSearchFocus=function(n){var t=this.dataConfigContainer.find("#"+this.id+"_"+n+"_searchBox");t.addClass("e-focus");t.val()==="Search"&&t.val("");t.css("color","grey")},n.prototype.onSearchCloseClick=function(n){var t=this.dataConfigContainer.find("#"+this.id+"_"+n+"_searchBox");t.removeClass("e-focus");t.val("Search");t.css("color","lightgrey");this.filterItems(n,"");this.dataConfigContainer.find("#"+this.id+"_"+n+"_searchIcon").addClass("e-search").removeClass("e-close_01")},n.prototype.renderDatasetFields=function(n){for(var r,u,t=this.widgetHelper.getCurrentWidgetInstance().getFieldView(),f=this.dashboardDesigner.element.find("#"+this.id+"_dataPanelContainer").height()-(parseInt(this.dataConfigContainer.css("margin-top"),10)+parseInt(this.dataConfigContainer.css("margin-bottom"),10)+80),i=0;i<t.length;i++){var o=BoldBIDashboard.buildTag("div.bbi-designer-fieldcontainer-box-sizing bbi-ds-field-container-wrap","",{height:f/t.length+"px"},{id:this.id+"_"+t[i].name+"_categoryItem"}),e=BoldBIDashboard.buildTag("div.bbi-ds-fields-container-title-wrap","",{},{id:this.id+"_"+t[i].name+"_categoryLabelDiv"}),s=BoldBIDashboard.buildTag("span.bbi-designer-fontfamily bbi-ds-fields-container-title","",{},{id:this.id+"_"+t[i].name+"_categoryLabel"}),h=BoldBIDashboard.buildTag("div.bbi-ds-field-container","",{height:"auto"},{id:this.id+"_"+t[i].name+"_categoryList"});h.data("container-info",t[i]);r=BoldBIDashboard.buildTag("div.bbi-dbrd-designer-scroller bbi-dbrd-control bbi-dbrd-designer-scroll-style-3 bbi-ds-field-container-scroller","",{height:f/t.length-40+"px"},{id:this.id+"_"+t[i].name+"_categoryListPanel"});u=BoldBIDashboard.buildTag("div","",{},{});s.text(t[i].displayName);e.append(s);e.append(this.renderSearchPanel(t[i].name));u.append(h);r.append(u);o.append(e,r);n.append(o);r.BoldBIDashboardScroller({scrollerSize:this.dashboardDesigner.scrollerSize.scrollSize,enableTouchScroll:!1,autoHide:!0,buttonSize:this.dashboardDesigner.scrollerSize.buttonSize,height:f/t.length-40,width:"100%"})}},n.prototype.splitterResizeStop=function(n){var t,i,r;BoldBIDashboard.isNullOrUndefined(n)||BoldBIDashboard.isNullOrUndefined(n.event)||BoldBIDashboard.isNullOrUndefined(n.pane)||(t=this.dataConfigContainer.find("#"+n.pane[0].id),i=this.dataConfigContainer.find("#"+n.pane[1].id),this.lastPosition.clientY<n.event.clientY?(r=n.event.clientY-this.lastPosition.clientY,this.updateFieldContainerHeight(t,i,r)):this.lastPosition.clientY>n.event.clientY&&(r=this.lastPosition.clientY-n.event.clientY,this.updateFieldContainerHeight(i,t,r)),t.css("flex-basis",t.find(".bbi-ds-assign-field-container-wrap").height()+"px"),i.css("flex-basis",i.find(".bbi-ds-assign-field-container-wrap").height()+"px"),this.obtainSplitterContainerHeight(n))},n.prototype.updateFieldContainerHeight=function(n,t,i){var r=".bbi-ds-assign-field-container-wrap",u=".bbi-ds-field-container-category-list-panel";t.find(r).css({height:t.find(r).height()-i>0?t.find(r).height()-i+"px":t.find(r).css("min-height")});t.find(u).css({height:t.find(u).height()-i>0?t.find(u).height()-i+2+"px":t.find(u).css("min-height")});n.find(r).css({height:n.find(r).height()+i+"px"});n.find(u).css({height:n.find(u).height()+i+2+"px"})},n.prototype.obtainSplitterContainerHeight=function(n){var t=this.dataConfigContainer.find("#"+this.id+"_dataassignConfigSplitter"),f=t.children(),i=0,r=BoldBIDashboard.isNullOrUndefined(n.currentSeparator)?BoldBIDashboard.isNullOrUndefined(n.separator)?[]:n.separator.classList[0]:n.currentSeparator.classList[0],e,o;if(r.length>0&&(t.find("."+r).length>0||t.find(".bbi-data-assign-splitter-content-panel").length>0)){var s=t.find("."+r).length,h=t.find("."+r).height(),c=this.dashboardDesigner.element.find("#"+this.id+"_dataPanelContainer").height()-(parseInt(this.dataConfigContainer.css("margin-top"),10)+parseInt(this.dataConfigContainer.css("margin-bottom"),10)+41),l=f.length-s-1,u=t.find("#"+f[l].id);u.find(".bbi-ds-field-container-category-list-panel").css({border:"1px solid #c8c8c8"});e=u.position().top;o=u.find(".bbi-ds-assign-field-container-wrap").height();i=e+o+s*h;i=i<c?i+15:i;t.css({height:i+"px"})}this.splitterScrollerRefresh()},n.prototype.splitterResizeStart=function(n){BoldBIDashboard.isNullOrUndefined(n)||(this.lastPosition={clientX:n.event.clientX,clientY:n.event.clientY})},n.prototype.getFieldContainerHeight=function(n,t){var i=150;return t*i<n?n/t:i},n.prototype.getPaneSettings=function(n,t){for(var i=[],r=0;r<t;r++)i.push({size:n+"px"});return i},n.prototype.bindSplitterObject=function(n,t){var r=this.getPaneSettings(n,t),i=new ejdashboard.layouts.Splitter({height:n*t+20+"px",paneSettings:r,separatorSize:1,width:"209px",orientation:"Vertical",created:this.bbdesigner$.proxy(this.updateCategoryPanel,this),resizeStart:this.bbdesigner$.proxy(this.splitterResizeStart,this),resizeStop:this.bbdesigner$.proxy(this.splitterResizeStop,this)});i.appendTo("#"+this.id+"_dataassignConfigSplitter");this.setScrollerForConfigConatainer(parseInt(i.height,10),t);this.obtainSplitterContainerHeight(i)},n.prototype.updateCategoryPanel=function(){var n=this.dataConfigContainer.find("#"+this.id+"_dataassignConfigSplitter"),t=n.find(".bbi-ds-field-container-category-list-panel");t.each(function(t,i){var r=n.find("#"+i.id);r.css({height:r.height()+15+"px"})})},n.prototype.setScrollerForConfigConatainer=function(n,t){var i=this.dashboardDesigner.element.find("#"+this.id+"_dataPanelContainer").height()-(parseInt(this.dataConfigContainer.css("margin-top"),10)+parseInt(this.dataConfigContainer.css("margin-bottom"),10)+41),r=this.dataConfigContainer.find("#"+this.id+"_dataassignConfigContainer");i<n&&t>1?(r.BoldBIDashboardScroller({scrollerSize:this.dashboardDesigner.scrollerSize.scrollSize,enableTouchScroll:!0,autoHide:!0,height:i+"px",buttonSize:this.dashboardDesigner.scrollerSize.buttonSize}).data("BoldBIDashboardScroller"),this.dataConfigContainer.find("#"+this.id+"_dataassignConfigSplitter").css({border:"none",width:"209px",padding:"5px"})):(this.splitterScrollerRefresh(),t===1&&(r.find(".bbi-ds-field-container-category-list-panel").css({"border-bottom":"1px solid #ccc",height:"639px"}),this.dataConfigContainer.find("#"+this.id+"_dataassignConfigSplitter").css({padding:"5px"})))},n.prototype.splitterScrollerRefresh=function(){var n=this.dataConfigContainer.find("#"+this.id+"_dataassignConfigContainer").data("BoldBIDashboardScroller");BoldBIDashboard.isNullOrUndefined(n)||n.refresh()},n.prototype.renderCategoryItems=function(n,t){for(var r,u,i,s,e,h=this.dashboardDesigner.element.find("#"+this.id+"_dataPanelContainer").height()-(parseInt(this.dataConfigContainer.css("margin-top"),10)+parseInt(this.dataConfigContainer.css("margin-bottom"),10)+41),o=n.length,f=0;f<n.length;f++)BoldBIDashboard.isNullOrUndefined(n[f].Visibility)||n[f].Visibility!==Visibility.hidden||o--;for(r=this.getFieldContainerHeight(h,o),u=this.dataConfigContainer.find("#"+this.id+"_dataassignConfigSplitter"),i=0;i<n.length;i++)(BoldBIDashboard.isNullOrUndefined(n[i].Visibility)||n[i].Visibility===Visibility.Show)&&(s=this.getCategoryItem(n[i],r,i),e=BoldBIDashboard.buildTag("div.bbi-data-assign-splitter-content-panel","",{width:"209px","min-height":"90px",height:r+"px"},{id:this.id+"_dataassign_splitter_content_panel_"+i}),e.append(s),u.append(e));t.append(u);u.css({border:"none"});this.bindSplitterObject(r,o)},n.prototype.getCategoryItem=function(n,t,i){var f=BoldBIDashboard.buildTag("div.bbi-designer-fieldcontainer-box-sizing bbi-ds-assign-field-container-wrap","",{height:t+"px","min-height":"90px","margin-top":i!==0?"6px":"0px"},{id:this.id+"_"+n.Name+"_categoryItem"}),u=BoldBIDashboard.buildTag("div.bbi-ds-assign-field-container-title-wrap","",{},{id:this.id+"_"+n.Name+"_categoryLabelDiv"}),s=BoldBIDashboard.buildTag("span.bbi-designer-fontfamily bbi-ds-assign-field-container-title",BoldBIDashboard.isNullOrUndefined(n.DisplayName)?n.Name:n.DisplayName,{},{id:this.id+"_"+n.Name+"_categoryLabel"}),h=this.getInfoIconElement(n),r=BoldBIDashboard.buildTag("div.bbi-dbrd-rendercolumn-container bbi-ds-assign-field-container","",{height:"auto"},{id:this.id+"_"+n.Name+"_categoryList"});r.data("container-info",n);var e=BoldBIDashboard.buildTag("div.bbi-dbrd-designer-scroller e-ds-field-container-border bbi-dbrd-control bbi-dbrd-designer-scroll-style-3 bbi-ds-assign-field-container-scroller bbi-ds-field-container-category-list-panel","",{height:t-40+"px","min-height":"60px",overflow:"hidden","border-bottom":"none"},{id:this.id+"_"+n.Name+"_categoryListPanel"}),o=BoldBIDashboard.buildTag("div","",{},{}),c=this.createEmptyDragDropField(n.Name);return u.append(s),u.append(h),r.append(c),r.bind(BoldBIDashboard.DashboardUtil.MouseEvent.mouseMove,this.bbdesigner$.proxy(this.listMouseMove,this,n.Name)),o.append(r),e.append(o),f.append(u,e),f},n.prototype.getInfoIconElement=function(n){var i=BoldBIDashboard.isNullOrUndefined(n.DisplayName)?n.Name:n.DisplayName,r=this.dashboardDesigner.measureText(i,209,{size:"13",fontStyle:"Normal",fontFamily:"'Heebo', 'Roboto'"}).width+8,t=BoldBIDashboard.buildTag("span.bbi-dbrd-data-section-description e-icon-dbrd-theme bbi-dbrd-designer-hoverable");return n.ShowDescriptionIcon&&this.dashboardDesigner.model.assignDataSettings.enableFieldContainerInfo?(t.css({display:"inline-block",position:"absolute",left:r+"px"}),t.attr("data-tooltip",n.TooltipText)):(t.css("display","none"),t.attr("data-tooltip","")),t},n.prototype.getPosition=function(n,t){var i=0;return t[n]?i=t[n]:t.originalEvent&&t.originalEvent.targetTouches&&t.originalEvent.targetTouches.length>0?i=t.originalEvent.targetTouches[0][n]:t.originalEvent&&t.originalEvent.changedTouches&&t.originalEvent.changedTouches.length>0&&(i=t.originalEvent.changedTouches[0][n]),i},n.prototype.listMouseMove=function(n,t){var u=this.getPosition("pageY",t),i=this.dataConfigRootContainer.find("#"+this.id+"_"+n+"_categoryList"),r;this.dashboardDesigner.isItemDrag&&(i[0].clientHeight<=u-i[0].offsetTop+30?(r=i.scrollTop(),i.scrollTop(r+15)):i[0].offsetTop>=u-8&&(r=i.scrollTop(),i.scrollTop(r-15)))},n.prototype.removeItemForDatebucket=function(n){var i=this.widgetHelper.getCurrentWidgetInstance(),r=this.widgetHelper.getAllDatebucketWidgets(),t,u,f;if(!BoldBIDashboard.isNullOrUndefined(n.DateBucketInfo))for(t=0;t<r.length;t++)n.DateBucketInfo.DatebucketId===r[t].getJson().UniqueId&&(u=[i.getJson().UniqueName],f={WidgetName:i.getJson().UniqueName,WidgetId:i.getJson().UniqueId,FieldId:n.Id},BoldBIDashboard.DashboardUtil.invokeMethod(r[t],"removeFieldItem",[u,f]))},n.prototype.removeItem=function(n,t,i,r,u){var f,s,c,e,l,h,o;if(this.removeIndex=-1,f=-1,s=!1,BoldBIDashboard.isNullOrUndefined(n.ParentId)?(this.dashboardDesigner.element.find("#"+this.id+"_"+n.Id+"_categoryListDiv_"+n.UniqueId).remove(),this.dashboardDesigner.element.find("#"+this.id+"_"+n.Id+"_categoryListParentDiv_"+n.UniqueId).remove()):this.dashboardDesigner.element.find(".e-list-item.e-level-2.e-active").remove(),c=BoldBIDashboard.isNullOrUndefined(u)?this.dashboardDesigner.designerPanel.selectedReportItems[0]:this.dashboardDesigner.element.find("#"+u),e=BoldBIDashboard.Dashboard.WidgetHelper.getWidgetInstance(c).DataGroupInfo,this.removeItemForDatebucket(n),this.getCategoryItems(),l=this.getFieldContainer(n),f=this.getMatchedFieldContainerIndexByName(e,l.Name),f!==-1)for(h=e.FieldContainers[f].FieldInfos,o=0;o<h.length;o++)if(BoldBIDashboard.isNullOrUndefined(n.ChildHierarchicalFields)){if(h[o].UniqueColumnName===n.UniqueColumnName){this.removeIndex=e.FieldContainers[f].FieldInfos.indexOf(h[o]);s=!0;e.FieldContainers[f].FieldInfos.splice(this.removeIndex,1);break}}else this.removeHeirachialFields(n,t,i,e,f,s,r,u);BoldBIDashboard.isNullOrUndefined(n.ChildHierarchicalFields)&&this.removeSelectedItem(n,t,i,s,this.removeIndex,r,u)},n.prototype.removeHeirachialFields=function(n,t,i,r,u,f,e,o){for(var s=0;s<n.ChildHierarchicalFields.length;s++)this.removeIndex=r.FieldContainers[u].FieldInfos.indexOf(n.ChildHierarchicalFields[s]),this.removeIndex!==-1&&(f=!0,r.FieldContainers[u].FieldInfos.splice(this.removeIndex,1),this.removeSelectedItem(n.ChildHierarchicalFields[s],t,i,f,this.removeIndex,e,o))},n.prototype.removeSelectedItem=function(n,t,i,r,u,f,e){var o=BoldBIDashboard.isNullOrUndefined(e)?this.dashboardDesigner.designerPanel.selectedReportItems[0]:this.dashboardDesigner.element.find("#"+e),l=BoldBIDashboard.Dashboard.WidgetHelper.getWidgetInstance(o).DataGroupInfo,s=this.getFieldContainer(n),h,c;!BoldBIDashboard.isNullOrUndefined(f)&&f||BoldBIDashboard.isNullOrUndefined(s.CategoryCount)||this.dataConfigRootContainer.find("#"+this.id+"_"+s.Name+"_categorylistdiv_emptyfield").length!==0||this.createEmptyDragDropField(s.Name);n.ItemIndex=u;h=this.dataConfigRootContainer.find("#"+this.id+"_"+n.ContainerName+"_categoryListPanel").data("BoldBIDashboardScroller");BoldBIDashboard.isNullOrUndefined(h)||h.refresh();!BoldBIDashboard.isNullOrUndefined(f)&&f||n.IsLoading||(c=this.bbdesigner$.extend(!0,{},n),BoldBIDashboardDesigner.editManager.addCmdAction(CommandAction.DataAssignDelete,"addItem","DataConfiguration",o.attr("id"),[c,t,i,f,o.attr("id")],[]));this.widgetHelper.getCurrentWidgetInstance().updateDataGroupInfo(l,{update:!0,columnUpdate:!1,rowUpdate:!1,valueUpdate:r});(BoldBIDashboard.isNullOrUndefined(f)||!f)&&(this.removeControlFilter(),this.postDraggedFields(o,!1,null,n));this.dashboardDesigner.rptToolbar.updateFilterCondition(n.IsParameterField,!0)},n.prototype.getMatchedFieldContainerIndexByName=function(n,t){for(var i=0;i<n.FieldContainers.length;i++)if(n.FieldContainers[i].Name===t)return i;return-1},n.prototype.createEmptyDragDropField=function(n){var t=BoldBIDashboard.buildTag("div.bbi-categorylistdiv-emptyfield bbi-category-empty-field-wrap","",{},{id:this.id+"_"+n+"_categorylistdiv_emptyfield"}),i=BoldBIDashboard.buildTag("span.bbi-categorylistdiv-emptyfield bbi-assigndata-emptyfield","",{},{});return i.text(this.locale.dataconfiguration.fieldView.dragDropText),t.append(i),this.dataConfigRootContainer.find("#"+this.id+"_"+n+"_categoryList").length>0&&this.dataConfigRootContainer.find("#"+this.id+"_"+n+"_categoryList").append(t),t},n.prototype.onCloseClick=function(n,t,i,r){n.IsLoading=!1;var u=this.id+"_"+n.Id+"_categoryListIcon_"+n.UniqueId;(r.target.id===u||n.IsParentField)&&this.removeItem(n,t,i)},n.prototype.onCloseClickHierarchyFields=function(n,t,i,r,u){var a,v,f,o,s,y,p,w;if(n.IsLoading=!1,a=this.id+"_"+n.Id+"_categoryListIcon_"+n.UniqueId,v=this.id+"_"+n.Id+"_categoryListParentDiv_"+n.UniqueId,u.target.id===a){var l=0,b=this.dashboardDesigner.designerPanel.selectedReportItems[0],k=BoldBIDashboard.Dashboard.WidgetHelper.getWidgetInstance(b),d=k.dataConfigurationInstance.selectedDatasetId,h=this.dashboardDesigner.modules.dataSet.datasets,c=h.findIndex(function(n){return n.Id===d}),e;for(e=this.widgetHelper.getCurrentWidgetInstance().dataConfigurationInstance.dimensionsList,f=h[c].CustomHierarchyFields.find(function(t){return t.Id===n.ParentId}),f=BoldBIDashboard.isNullOrUndefined(f)?t:f,o=0;o<f.ChildHierarchicalFields.length;o++)if(f.ChildHierarchicalFields[o].Id===n.Id){l=o;break}f.ChildHierarchicalFields.length>1?(BoldBIDashboard.isNullOrUndefined(h[c].CustomHierarchyFields[h[c].CustomHierarchyFields.indexOf(f)])||this.dashboardDesigner.modules.dataSet.datasets[c].CustomHierarchyFields[h[c].CustomHierarchyFields.indexOf(f)].ChildHierarchicalFields.splice(l,1),BoldBIDashboard.isNullOrUndefined(t.ChildHierarchicalFields)||f.ChildHierarchicalFields.length!==t.ChildHierarchicalFields.length||f.ChildHierarchicalFields.splice(l,1),s=null,e.forEach(function(n){n.Id===f.Id&&BoldBIDashboard.isNullOrUndefined(n.ParentId)&&(s=JSON.parse(JSON.stringify(n)))}),s.ChildHierarchicalFields=[],f.ChildHierarchicalFields.forEach(function(n){e.forEach(function(t){t.Id===n.Id&&BoldBIDashboard.isNullOrUndefined(t.ParentId)&&BoldBIDashboard.isNullOrUndefined(t.TreeNode)&&s.ChildHierarchicalFields.push(JSON.parse(JSON.stringify(t)))})}),this.dashboardDesigner.element.find(".e-list-item.e-level-2.e-active").remove(),y=this.generateHierarchicalDateFields(s),p=e.filter(function(i){return i.Id===n.Id&&i.TreeNode==="hierarchy"&&i.ParentId===t.Id}),e.splice(e.indexOf(p[0]),1),this.dashboardDesigner.element.find(u.delegateTarget).find(".e-list-item.e-level-1").data("fieldInfo",y[0]),this.postHierarchyfied(n,BoldBIDashboard.DashboardUtil.DesignerAction.removeChildHierarchyFields),BoldBIDashboard.isNullOrUndefined(t.ChildHierarchicalFields)||f.ChildHierarchicalFields.length===t.ChildHierarchicalFields.length&&t.ChildHierarchicalFields.splice(l,1),this.getSubMenuforCustomHierarchy(e)):(w=this.bbdesigner$(u.delegateTarget).find(".e-list-item.e-level-1").data("fieldInfo"),this.dashboardDesigner.modules.util.alertDialog(this.dashboardDesigner.getLocalizationContent().customHierarchy.titleText,this.dashboardDesigner.getLocalizationContent().customHierarchy.dialogContentText,IconType.question,AlertType.Confirm,!1,"",{height:140,width:500,method:"alertBoxtoRemoveHierarchy",dataInfo:{fieldInfo:w},instance:this}))}else u.target.id===v&&this.removeParentHierarchyfields(n,u)},n.prototype.alertBoxtoRemoveHierarchy=function(n,t){n?this.removeParentHierarchyfields(t.fieldInfo,this):this.dashboardDesigner.element.find("#"+this.id+"_designer_alert_wrapper").remove()},n.prototype.removeParentHierarchyfields=function(n){var r=0,u=!1,f=this.generateHierarchicalDateFields(n),o=this.dashboardDesigner.designerPanel.selectedReportItems[0],s=BoldBIDashboard.Dashboard.WidgetHelper.getWidgetInstance(o),h=s.dataConfigurationInstance.selectedDatasetId,i=this.dashboardDesigner.modules.dataSet.datasets,e=i.findIndex(function(n){return n.Id===h}),t=this.widgetHelper.getCurrentWidgetInstance().dataConfigurationInstance.dimensionsList;i[e].CustomHierarchyFields.forEach(function(t,i){if(t.Id===n.Id){r=i;u=!0;return}});u&&i[e].CustomHierarchyFields.splice(r,1);this.setParentId(f);f.forEach(function(n){t.forEach(function(i){BoldBIDashboard.isNullOrUndefined(n.ChildHierarchicalFields)?BoldBIDashboard.isNullOrUndefined(i.ParentId)||n.Id!==i.Id||n.ParentId!==i.ParentId||i.HasChild||t.splice(t.indexOf(i),1):i.Id===n.Id&&i.HasChild&&!BoldBIDashboard.isNullOrUndefined(i.ChildHierarchicalFields)&&t.splice(t.indexOf(i),1)})});this.dashboardDesigner.element.find("#"+this.id+"_"+n.Id+"_categoryListParentDiv_"+n.UniqueId).remove();this.postHierarchyfied(n,BoldBIDashboard.DashboardUtil.DesignerAction.removeChildHierarchyFields);this.getSubMenuforCustomHierarchy(t)},n.prototype.getCategoryList=function(n){return this.dataConfigRootContainer.find("#"+this.id+"_"+n+"_categoryList")},n.prototype.getCategories=function(){return this.categoryItems},n.prototype.validateDefaultCategories=function(n){for(var i={enableMeasures:!1,enableDimensions:!1,supportedTypes:[]},t=0;t<n.length;t++)n[t].name==="Measures"?i.enableMeasures=!0:n[t].name==="Dimensions"&&(i.enableDimensions=!0,i.supportedTypes=this.getSupportedTypeClassList(n[t].supportedDataTypes));return i},n.prototype.getSupportedTypeClassList=function(n){for(var t,i=[],r=0;r<n.length;r++){t="";switch(n[r]){case BoldBIDashboard.Dashboard.SupportedDataType.Number:t="bbi-designer-dataset-number";break;case BoldBIDashboard.Dashboard.SupportedDataType.Boolean:t="bbi-designer-dataset-boolean";break;case BoldBIDashboard.Dashboard.SupportedDataType.DateTime:t="bbi-designer-dataset-datetime";break;case BoldBIDashboard.Dashboard.SupportedDataType.String:t="bbi-designer-dataset-string";break;default:t=""}i.push(t)}return n.length===0&&(i=["bbi-designer-dataset-number","bbi-designer-dataset-boolean","bbi-designer-dataset-datetime","bbi-designer-dataset-string"]),i},n.prototype.resetDataGroupInfoForPoP=function(n,t,i){for(var r,e=this.dashboardDesigner.modules.dataSet.datasets,u=n.DataGroupInfo,o=!1,f=0;f<e.length;f++)if(e[f].Id===t){for(r=0;r<u.FieldContainers.length;r++)u.FieldContainers[r].FieldInfos=this.dashboardDesigner.designerPanel.createFieldInfos(u.FieldContainers[r],e[f],n);o=!0;break}if(!o)for(r=0;r<u.FieldContainers.length;r++)u.FieldContainers[r].FieldInfos=[];u.DataSourceID=t;u.DataSourceName=i;n.updateDataGroupInfo(u,{update:!0,columnUpdate:!0,rowUpdate:!0,valueUpdate:!0});this.resetContainer(this.getCategoryItems());this.populateContainer(this.getCategoryItems())},n.prototype.resetDataGroupInfo=function(n,t){for(var i,f=this.dashboardDesigner.modules.dataSet.datasets,e=this.widgetHelper.getCurrentWidgetInstance(),r=e.DataGroupInfo,o=!1,u=0;u<f.length;u++)if(f[u].Id===n){for(i=0;i<r.FieldContainers.length;i++)r.FieldContainers[i].FieldInfos=this.dashboardDesigner.designerPanel.createFieldInfos(r.FieldContainers[i],f[u],e);o=!0;break}if(!o)for(i=0;i<r.FieldContainers.length;i++)r.FieldContainers[i].FieldInfos=[];r.DataSourceID=n;r.DataSourceName=t;e.updateDataGroupInfo(r,{update:!0,columnUpdate:!0,rowUpdate:!0,valueUpdate:!0});this.postDraggedFields();this.populateContainer(this.getCategoryItems())},n.prototype.updateDatasetFields=function(n,t,i){var ft=this,f,u,l,w,a,it,rt,b,v,s,r,c,y,p,k,e,d,g;this.dataConfigRootContainer.find("#"+this.id+"_Measures_categoryItem").remove();this.dataConfigRootContainer.find("#"+this.id+"_Dimensions_categoryItem").remove();this.dataConfigRootContainer.find("#"+this.id+"_Parameters_categoryItem").remove();this.renderDatasetFields(this.dataConfigRootContainer.find("#"+this.id+"_datasetFieldsContainer"));var ut=this.widgetHelper.getCurrentWidgetInstance().getFieldView(),h=this.validateDefaultCategories(ut),et=this.validateSupportedTypesForHeirachyFields(ut,h.supportedTypes);for(this.selectedDatasetId=n,this.selectedDatasetName=t,this.measuresList=[],this.dimensionsList=[],f=this.dashboardDesigner.modules.dataSet.datasets,u=0;u<f.length;u++)if(f[u].Id===n)if(BoldBIDashboard.isNullOrUndefined(f[u].TreeViewData)){for(l=0;l<f[u].Fields.length;l++)r=this.convertDataSetToFieldInfo(f[u].Fields[l],f[u].Id,f[u].Name),r.IsParameterField?(s=this.dataConfigRootContainer.find("#"+this.id+"_Parameters_categoryList"),s.length>0&&h.supportedTypes.indexOf(r.FieldActualType)!==-1&&(r.FieldType=FieldType.Parameters,c=s.data("container-info"),r.ContainerName=c.name,this.createLabelForFields(r,s),this.parametersList.push(r))):r.FieldActualType==="bbi-designer-dataset-number"&&h.enableMeasures?(w=this.dataConfigRootContainer.find("#"+this.id+"_Measures_categoryList"),r.FieldType=FieldType.Measures,c=w.data("container-info"),r.ContainerName=c.name,this.createLabelForFields(r,w),this.measuresList.push(r)):r.FieldActualType!=="bbi-designer-dataset-number"&&h.enableDimensions&&h.supportedTypes.indexOf(r.FieldActualType)!==-1&&(a=this.dataConfigRootContainer.find("#"+this.id+"_Dimensions_categoryList"),r.FieldType=FieldType.Dimensions,r.ContainerName=a.data("container-info").name,this.createLabelForFields(r,a),this.dimensionsList.push(r),r.FieldActualType==="bbi-designer-dataset-datetime"&&et&&(it=this.createLabelForDateFields(r,a),it.forEach(function(n){ft.dimensionsList.push(n)})));!BoldBIDashboard.isNullOrUndefined(f[u].CustomHierarchyFields)&&f[u].CustomHierarchyFields.length>0&&this.addCustomHierarchyFields(f[u])}else{for(rt=new BoldBIDashboard.Dashboard.HierarchicalConfigurationView(this.dashboardDesigner),b=JSON.parse(f[u].TreeViewData),this.measuresList=b.Measure,this.dimensionsList=this.filterDataSourceBasedOnSupportedType(b.Dimension,h.supportedTypes),this.parametersList=[],v=BoldBIDashboard.DashboardUtil.getFieldUsingTableType(f[u].Fields),e=0;e<v.length;e++)v[e].IsParameterField&&this.parametersList.push(v[e]);for(rt.renderTreeView({Measure:this.measuresList,Dimension:this.dimensionsList,isSSASConnection:!0},h),this.parametersList.length>0&&(s=this.dataConfigRootContainer.find("#"+this.id+"_Parameters_categoryList"),s.length>0&&s.empty()),e=0;e<this.parametersList.length;e++)s=this.dataConfigRootContainer.find("#"+this.id+"_Parameters_categoryList"),s.length>0&&(r=this.createFieldInfoFromExisting(this.parametersList[e],f[u].Id,f[u].Name),r.FieldType=FieldType.Parameters,c=s.data("container-info"),r.ContainerName=c.name,this.createLabelForFields(r,s))}this.getSubMenuforCustomHierarchy(this.dimensionsList);i&&(this.resetContainer(this.getCategoryItems()),this.resetDataGroupInfo(n,t));var o=this.widgetHelper.getCurrentWidgetInstance(),nt=this.bbdesigner$(o.ControlContainer).find(".bbi-dbrd-control-title"),tt=o.getJson().ContainerSettings.Title;for(tt=this.labelParameter.getResultantParameterString(tt,n),nt.html(tt),this.widgetHelper.updateConditionBasedWidgetTitleFont(o.getJson().ContainerSettings.WidgetTitleFontInfo.AutoFontSize,o.getJson().ContainerSettings.WidgetTitleFontInfo.FontSize,o),nt.attr("data-tooltip",nt.text()),this.labelParameter.adjustParameterColumn(this.bbdesigner$(o.ControlContainer).find(".bbi-dbrd-control-title-wrapper")),o.getJson().ContainerSettings.SubTitle!==" "&&(y=this.bbdesigner$(o.ControlContainer).find(".bbi-dbrd-control-sub-title"),p=o.getJson().ContainerSettings.SubTitle,p=this.labelParameter.getResultantParameterString(p,n),y.html(p),this.widgetHelper.updateConditionBasedWidgetSubTitleFont(o.getJson().ContainerSettings.WidgetSubTitleFontInfo.AutoFontSize,o.getJson().ContainerSettings.WidgetSubTitleFontInfo.FontSize,o),y.attr("data-tooltip",y.text()),this.labelParameter.adjustParameterColumn(this.bbdesigner$(o.ControlContainer).find(".bbi-dbrd-control-sub-header"))),k=["Measures","Dimensions","Parameters"],e=0;e<k.length;e++)d=this.dataConfigRootContainer.find("#"+this.id+"_"+k[e]+"_categoryListPanel").data("BoldBIDashboardScroller"),BoldBIDashboard.isNullOrUndefined(d)||d.refresh();g=this.getCurrentDatasourceInfo(this.selectedDatasetId);this.expBtnEnableOrDisable(!BoldBIDashboard.isNullOrUndefined(g)&&g.Permission.CanWrite)},n.prototype.createFieldInfoFromExisting=function(n,t,i){var r=new BoldBIDashboard.Dashboard.FieldInfoForUI;return r.Name=n.Name,r.Id=n.Id,r.TableName=n.TableName,r.DatasourceID=t,r.DatasourceName=i,r.IsAggregatedExpression=n.IsAggregatedExpression,r.IsExpression=n.IsExpression,r.FieldActualType=BoldBIDashboard.DashboardUtil.getDatasetTypeIcon(n.TypeName),r.DateTimeFormat=DateTimeFormat.None,r.IsParameterField=n.IsParameterField,r.ParameterMode=n.ParameterMode,r},n.prototype.validateSupportedTypesForHeirachyFields=function(n,t){return n.length<=1&&t.length===1&&t[0]==="e-reportdesigner-dataset-datetime"?!1:!0},n.prototype.addCustomHierarchyFields=function(n){for(var a=this,c=0,t=0,e=0,i=null,u,o=this.dataConfigRootContainer.find("#"+this.dashboardDesigner._id+"_Dimensions_categoryList"),s=this.widgetHelper.getCurrentWidgetInstance().dataConfigurationInstance,r=s.dimensionsList,v=s.measuresList,l=null,y=function(h){var y,p;for(r.forEach(function(i){i.Id===n.CustomHierarchyFields[h].Id&&BoldBIDashboard.isNullOrUndefined(i.ParentId)&&(t=e);e++}),y=0;y<o[0].children.length;y++)if(f.dashboardDesigner._id+"_"+n.CustomHierarchyFields[h].Id+"_categoryListDiv"===o[0].children[y].id&&r[t].Id===n.CustomHierarchyFields[h].Id&&r[t].FieldActualType!=="bbi-designer-dataset-datetime"){c=y+1;i=JSON.parse(JSON.stringify(r[t]));i.Name=n.CustomHierarchyFields[h].Name;i.DisplayName=n.CustomHierarchyFields[h].Name;i.__type="Syncfusion.Dashboard.Web.Serialization.Model.DataSources.Common.FieldInfo";i.ChildHierarchicalFields=[];n.CustomHierarchyFields[h].ChildHierarchicalFields.forEach(function(n){u=JSON.parse(JSON.stringify(r.filter(function(t){return t.Id===n.Id&&BoldBIDashboard.isNullOrUndefined(t.ParentId)})));u.length===0&&(u=JSON.parse(JSON.stringify(v.filter(function(t){return t.Id===n.Id&&BoldBIDashboard.isNullOrUndefined(t.ParentId)}))));u[0].ParentId=n.ParentId;i.ChildHierarchicalFields.push(u[0])});break}BoldBIDashboard.isNullOrUndefined(i)||(l=f.createLabelForHeirachialDroppedField(i,!0,s),BoldBIDashboard.isNullOrUndefined(r[t].ChildHierarchicalFields)||delete r[t].ChildHierarchicalFields,l.insertBefore(o.children().eq(c)),p=f.generateHierarchicalDateFields(i),f.setParentId(p),t++,BoldBIDashboard.isNullOrUndefined(r[t].ChildHierarchicalFields)||delete r[t].ChildHierarchicalFields,p.forEach(function(n){a.dimensionsList.splice(t,0,n);t++}));i=undefined;e=0},f=this,h=0;h<n.CustomHierarchyFields.length;h++)y(h)},n.prototype.rearrangeChildFields=function(n,t,i){var o=this.dashboardDesigner.designerPanel.selectedReportItems[0],s=BoldBIDashboard.Dashboard.WidgetHelper.getWidgetInstance(o),h=s.dataConfigurationInstance.selectedDatasetId,r=this.dashboardDesigner.modules.dataSet.datasets,u=r.findIndex(function(n){return n.Id===h}),e=r[u].CustomHierarchyFields.find(function(t){return t.Id===n.Id}),f;BoldBIDashboard.isNullOrUndefined(e)||(f=r[u].CustomHierarchyFields.indexOf(e),t<i?(r[u].CustomHierarchyFields[f].ChildHierarchicalFields.splice(t,0,r[u].CustomHierarchyFields[f].ChildHierarchicalFields[i]),r[u].CustomHierarchyFields[f].ChildHierarchicalFields.splice(i+1,1)):t>i&&(t===r[u].CustomHierarchyFields[f].ChildHierarchicalFields.length-1?r[u].CustomHierarchyFields[f].ChildHierarchicalFields.push(r[u].CustomHierarchyFields[f].ChildHierarchicalFields[i]):r[u].CustomHierarchyFields[f].ChildHierarchicalFields.splice(t+1,0,r[u].CustomHierarchyFields[f].ChildHierarchicalFields[i]),r[u].CustomHierarchyFields[f].ChildHierarchicalFields.splice(i,1)));this.postHierarchyfied(n,BoldBIDashboard.DashboardUtil.DesignerAction.addNewTable)},n.prototype.getSubMenuforCustomHierarchy=function(n){var i=[],r=[],u=BoldBIDashboard.Dashboard.ConnectionHelper.getConnectionInsFromDSId(this.dashboardDesigner,this.selectedDatasetId),f=BoldBIDashboard.Dashboard.ConnectionHelper.isHierarchicalConnection(u),e=new BoldBIDashboard.Dashboard.CreateFieldMenu(this.dashboardDesigner),t;for(n.filter(function(n){if(n.TreeNode==="hierarchy"&&n.HasChild&&n.FieldActualType!=="bbi-designer-dataset-datetime"){i.push(n);return}}),t=0;t<n.length;t++)if(BoldBIDashboard.isNullOrUndefined(n[t].ChildHierarchicalFields)||BoldBIDashboard.isNullOrUndefined(n[t].ContainerType)||delete n[t].ContainerType,(n[t].FieldActualType!=="bbi-designer-dataset-datetime"||n[t].TreeNode!=="hierarchy")&&(n[t].FieldActualType!=="bbi-designer-dataset-string"||n[t].TreeNode!=="hierarchy"||BoldBIDashboard.isNullOrUndefined(n[t].ParentId)))e.createMenuforHierarchy(n[t],r,this.measuresList,i,f);else continue},n.prototype.generateHierarchicalDateFields=function(n){var u,o=!1,e=[],r=JSON.parse(JSON.stringify(n)),f,i,t;if(r.TreeNode="hierarchy",r.DashboardId=this.dashboardDesigner._id,r.ColumnType="Dimension",r.ColumnId="0",r.IsParentField=!0,r.HasChild=!0,r.IsVisible=!0,r.LevelDepth=1,r.DisplayName=BoldBIDashboard.isNullOrUndefined(r.DisplayName)?r.Name:r.DisplayName,e.push(r),u=[DateTimeFormat.Year,DateTimeFormat.Quarter,DateTimeFormat.Month,DateTimeFormat.Day],!BoldBIDashboard.isNullOrUndefined(n.ChildHierarchicalFields))for(i=0;i<u.length;i++)BoldBIDashboard.isNullOrUndefined(n.ChildHierarchicalFields[i])||n.ChildHierarchicalFields[i].FieldActualType!=="bbi-designer-dataset-datetime"?u[i]=null:(u[i]=n.ChildHierarchicalFields[i].DateTimeFormat,o=!0);if(n.FieldActualType==="bbi-designer-dataset-datetime")for(i=0,i=0;i<u.length&&u[i]!==null;i++)t=JSON.parse(JSON.stringify(n)),t.ParentId=r.ColumnId,t.DashboardId=this.dashboardDesigner._id,t.ColumnId=(i+1).toString(),t.ColumnType=r.ColumnType,t.TreeNode="hierarchy",t.LevelDepth=0,t.IsVisible=!0,t.HasChild=!1,t.DateTimeFormat=u[i],t.Name=r.Name,n.ContainerName!=="Column"||BoldBIDashboard.isNullOrUndefined(n.ChildHierarchicalFields[i])||(t.Id=n.ChildHierarchicalFields[i].Id,t.UniqueId=n.ChildHierarchicalFields[i].UniqueId),t.DisplayName=this.dashboardDesigner.modules.util.getDisplayName(t),e.push(t);else if(n.FieldActualType==="bbi-designer-dataset-string")for(f=1,f=BoldBIDashboard.isNullOrUndefined(n.ChildHierarchicalFields)?f:n.ChildHierarchicalFields.length,i=0;i<f;i++)t=!BoldBIDashboard.isNullOrUndefined(n.ChildHierarchicalFields)&&n.ChildHierarchicalFields.length>=f?JSON.parse(JSON.stringify(n.ChildHierarchicalFields[i])):JSON.parse(JSON.stringify(n)),t.ParentId=r.ColumnId,t.DashboardId=this.dashboardDesigner._id,t.ColumnId=(i+1).toString(),t.ColumnType=r.ColumnType,t.ContainerName=BoldBIDashboard.isNullOrUndefined(t.ContainerName)?r.ContainerName:t.ContainerName,t.TreeNode="hierarchy",t.LevelDepth=0,t.IsVisible=!0,t.HasChild=!1,t.Name=BoldBIDashboard.isNullOrUndefined(t.DisplayName)?t.Name:t.DisplayName,n.ContainerName!=="Column"||BoldBIDashboard.isNullOrUndefined(n.ChildHierarchicalFields[i])||(t.Id=n.ChildHierarchicalFields[i].Id,t.UniqueId=n.ChildHierarchicalFields[i].UniqueId),t.DisplayName=t.Name,e.push(t);return e},n.prototype.setParentIdChildHierarchyFields=function(n){if(!BoldBIDashboard.isNullOrUndefined(n.ChildHierarchicalFields))for(var t=0;t<n.ChildHierarchicalFields.length;t++)n.ChildHierarchicalFields[t].ParentId=n.Id},n.prototype.setParentId=function(n){if(n.length>0)for(var t=0;t<n.length;t++)n[t].HasChild||(n[t].ParentId=n[0].Id)},n.prototype.createLabelForDateFields=function(n,t,i){var e;i===void 0&&(i=!1);var o=new BoldBIDashboard.Dashboard.HierarchicalConfigurationView(this.dashboardDesigner),u=new BoldBIDashboard.Dashboard.HierachicalSchemaView(this.dashboardDesigner,o.getModel()),s=this.dashboardDesigner._id+"_Dimension_categoryList",r=this.generateHierarchicalDateFields(n),f=this.dashboardDesigner.element.find("#"+this.id+"_Dimensions_categoryListPanel").data("BoldBIDashboardScroller");if(BoldBIDashboard.isNullOrUndefined(f)||f.refresh(),n.ContainerName==="Dimensions"){this.setParentIdChildHierarchyFields(n);u.passOriginalFieldValues(n);u.render(t,r,f,s);t.css("width","214px");t.find("#"+this.dashboardDesigner._id+"_Dimension_categoryList_treeview_"+r[0].Id+"_active").data("fieldInfo",r[0]);o.dragIntialize(t,!0);t.on("click",this.bbdesigner$.proxy(this.removeActiveListSelection,this));return t.find(".e-heirachy-field").data("fields",r),i&&(e=!BoldBIDashboard.isNullOrUndefined(n.ChildHierarchicalFields)&&n.ChildHierarchicalFields.length>1?BoldBIDashboard.DashboardUtil.DesignerAction.addNewTable:BoldBIDashboard.DashboardUtil.DesignerAction.fetchData,this.postHierarchyfied(r,e)),this.setParentId(r),r}t.find("#"+this.id+"_"+n.Id+"_categoryList_"+n.UniqueId).attr("child-field-count",this.getChildFieldCount(r));u.passOriginalFieldValues(n);u.render(t,r,f,s);t.data("fieldInfo",n);this.dashboardDesigner.dragDropHelper.initializeDraggable(t,"100");t.on("click",this.bbdesigner$.proxy(this.removeActiveListSelection,this))},n.prototype.postHierarchyfied=function(n,t){var r=null,i;if(BoldBIDashboard.isNullOrUndefined(n[0]))r=n;else{for(n[0].ChildHierarchicalFields=[],i=0;i<n.length;i++)n[i].HasChild||(BoldBIDashboard.isNullOrUndefined(n[i].ChildHierarchicalFields)||delete n[i].ChildHierarchicalFields,n[i].ParentId=n[0].Id,n[0].ChildHierarchicalFields.push(n[i]));r=n[0]}var u=this.dashboardDesigner.designerPanel.selectedReportItems[0],f=BoldBIDashboard.Dashboard.WidgetHelper.getWidgetInstance(u),e=f.dataConfigurationInstance,o=this.dashboardDesigner.modules.util.doAjaxPost("POST",this.dashboardDesigner.model.serviceUrl+BoldBIDashboard.Dashboard.ServiceAPI.processdata,{action:t,data:JSON.stringify({className:BoldBIDashboard.DashboardUtil.DesignerAction.CustomHierarchyAction,designerAction:t,fieldInfo:r,dataset:e.selectedDatasetId,request:AjaxRequest.Widget.toString()})},null,!1,!1,null)},n.prototype.getChildFieldCount=function(n){for(var t=0;t<n.length;t++)if(n[t].HasChild===!0)return n[t].ChildHierarchicalFields.length},n.prototype.removeActiveListSelection=function(n){this.dashboardDesigner.element.find(".e-ds-field-container").find(".e-active").length>1&&(this.dashboardDesigner.element.find(".e-ds-field-container").find("li").removeClass("e-active"),this.bbdesigner$(n.target).closest("li").addClass("e-active"))},n.prototype.convertDataSetToFieldInfo=function(n,t,i){var r=new BoldBIDashboard.Dashboard.FieldInfoForUI;return r.Name=n.Name,r.Id=n.Id,r.TableID=n.TableId,r.TableName=n.TableName,r.DatasourceID=t,r.DatasourceName=i,r.IsAggregatedExpression=n.IsAggregatedExpression,r.IsExpression=n.IsExpression,r.FieldActualType=BoldBIDashboard.DashboardUtil.getDatasetTypeIcon(n.TypeName),r.DateTimeFormat=DateTimeFormat.None,r.IsParameterField=n.IsParameterField,r.ParameterMode=n.ParameterMode,r},n.prototype.createLabelForFields=function(n,t){var e=BoldBIDashboard.buildTag("div.bbi-data-fieldinfo-drag-icon bbi-widgeticons bbi-designer-fieldcontainer-double-drag bbi-dbrd-designer-hand-cursor","",{},{id:this.id+"_"+n.Id+"_categoryListDragIcon"}),u=BoldBIDashboard.buildTag("span.bbi-designer-fontfamily bbi-data-fieldinfo-label",n.Name,{width:"120px"},{id:this.id+"_"+n.Id+"_categoryListLabel"}),o=BoldBIDashboard.buildTag("div.bbi-data-fieldinfo-dataset-icon bbi-dashboardicons "+n.FieldActualType,"",{},{id:this.id+"_"+n.Id+"_categoryListDatasetIcon"}),f=BoldBIDashboard.buildTag("div.bbi-data-fieldinfo-menu-icon bbi-widgeticons bbi-ch-menu-icon bbi-dbrd-hand-cursor bbi-normal-field","",{float:"right","margin-right":"15px","line-height":"30px"},{id:this.id+"_"+n.Id+"_categoryListSettingsIcon_"+n.UniqueId}),s=this.dashboardDesigner.modules.util.validateCategoryInfo(n)?"e-draggable":"bbi-dbrd-designer-hoverable",i=BoldBIDashboard.buildTag("div.bbi-designer-fieldcontainer-box-sizing bbi-ds-categoryLabel bbi-data-field-info-wrap "+s,"",{width:"200px"},{id:this.id+"_"+n.Id+"_categoryListDiv","data-tooltip":n.Name}),r;i.data("fieldInfo",n);i.append(e,o,u);n.ContainerName==="Dimensions"&&i.append(f);t.append(i);u.addClass(BoldBIDashboard.DashboardUtil.isExistTextWidth(u)?"e-title-tip":"");this.dashboardDesigner.dragDropHelper.initializeDraggable(i,"100");r=new BoldBIDashboard.Dashboard.FieldMenuHandler(this.dashboardDesigner);f.off("click",this.bbdesigner$.proxy(r.onSettingsClick,r,n));f.on("click",this.bbdesigner$.proxy(r.onSettingsClick,r,n));return i},n.prototype.getDragElement=function(n){var t=BoldBIDashboard.buildTag("div.bbi-dragged-field-info-wrap","",{},{id:this.id+"_"+n.Id+"_categoryListDiv"+n.UniqueId+"_draggingElement"}),i=BoldBIDashboard.buildTag("div.bbi-dragged-field-info-dataset-icon e-reportactions "+n.FieldActualType,"",{},{id:this.id+"_"+n.Id+"_categoryListDatasetIcon_draggingElement"}),r=BoldBIDashboard.buildTag("span.bbi-designer-fontfamily bbi-dragged-field-info-label",n.Name,{},{id:this.id+"_"+n.Id+"_categoryListLabel_draggingElement"});return t.append(i,r),t},n.prototype.getExpressionField=function(n,t){var r,u,e,i,f,o;for(t===void 0&&(t=!1),r=null,i=0;i<this.measuresList.length;i++)if(u=this.measuresList[i],e=t?u.ColumnId:u.Id,e===n){r=this.measuresList[i];break}for(i=0;i<this.dimensionsList.length;i++)if(f=this.dimensionsList[i],o=t?f.ColumnId:f.Id,o===n){r=this.dimensionsList[i];break}return r},n.prototype.getDataField=function(n){for(var i=n,t=0;t<this.measuresList.length;t++)if(this.measuresList[t].Name===n)return this.measuresList[t].Id;for(t=0;t<this.dimensionsList.length;t++)if(this.dimensionsList[t].Name===i)return this.dimensionsList[t].Id;return i},n.prototype.getAvailableName=function(){return BoldBIDashboard.getGuid("Column")},n.prototype.reorderItem=function(n,t){var r=this.dataConfigRootContainer.find("#"+this.id+"_"+n.ContainerName+"_categoryList"),i;this.dataConfigRootContainer.find("#"+this.id+"_"+n.Id+"_categoryListDiv_"+n.UniqueId).insertBefore(r.children().eq(n.ItemIndex));i=this.widgetHelper.getCurrentWidgetInstance().DataGroupInfo;BoldBIDashboard.DashboardUtil.invokeMethod(this.dashboardDesigner.modules.dataConfiguration,"updateDataGroupInfo",[n,i,t])},n.prototype.addItem=function(n,t,i,r,u){var c,e,l,o,a,s;if(n.ContainerType===FieldContainerType.Numeric?n.FieldType===FieldType.Dimensions&&(n.FieldType=FieldType.Measures,n.SummaryType=SummaryType.COUNT):n.ContainerType===FieldContainerType.Non_Numeric&&(n.FieldType=FieldType.Dimensions),this.dashboardDesigner.designerPanel.selectedReportItems.length>0){var f=BoldBIDashboard.isNullOrUndefined(u)?this.dashboardDesigner.designerPanel.selectedReportItems[0]:this.dashboardDesigner.element.find("#"+u),h=BoldBIDashboard.Dashboard.WidgetHelper.getWidgetInstance(f),v=h.DataGroupInfo;if(i&&BoldBIDashboard.isNullOrUndefined(n.ChildHierarchicalFields)&&(c=this.GetUniqueColumnName(v),n.UniqueColumnName="column"+(c+1)),BoldBIDashboard.isNullOrUndefined(n.ParentId)&&this.draggedFieldLabelAppend(n,r,t,h),e=n,!t&&BoldBIDashboard.isNullOrUndefined(n.ChildHierarchicalFields)&&(l=this.updateDataGroupInfo(n,v),o=l.FieldInfos.filter(function(t){return t.UniqueId===n.UniqueId}),o.length>0&&(e=o[0])),h.showSettingsIcon(n)){var y=BoldBIDashboard.Dashboard.ConnectionHelper.getConnectionInsFromDSId(this.dashboardDesigner,this.selectedDatasetId),p=BoldBIDashboard.Dashboard.ConnectionHelper.isHierarchicalConnection(y),w=new BoldBIDashboard.Dashboard.CreateFieldMenu(this.dashboardDesigner);w.createMenu(e,[],this.measuresList,p)}(BoldBIDashboard.isNullOrUndefined(r)||!r)&&!n.IsLoading&&BoldBIDashboard.isNullOrUndefined(n.ChildHierarchicalFields)&&(a=this.bbdesigner$.extend(!0,{},n),BoldBIDashboardDesigner.editManager.addCmdAction(CommandAction.DataAssignAdd,"removeItem","DataConfiguration",f.attr("id"),[a,t,i,r,f.attr("id")],[]));s=this.dataConfigRootContainer.find("#"+this.id+"_"+n.ContainerName+"_categoryListPanel").data("BoldBIDashboardScroller");BoldBIDashboard.isNullOrUndefined(s)||s.refresh();i&&BoldBIDashboard.isNullOrUndefined(n.ChildHierarchicalFields)&&(this.removeControlFilter(),this.postDraggedFields(f,!1,null,n));this.dashboardDesigner.rptToolbar.updateFilterCondition(n.IsParameterField,!1)}},n.prototype.getFieldContainer=function(n){for(var t=0;t<this.categoryItems.length;t++)if(this.categoryItems[t].Name===n.ContainerName)return n.ContainerType=this.categoryItems[t].ContainerType,this.categoryItems[t];return null},n.prototype.draggedFieldLabelAppend=function(n,t,i,r){var f=this.getFieldContainer(n),o,u,s,e;o=BoldBIDashboard.isNullOrUndefined(n.ChildHierarchicalFields)?this.createLabelForDroppedField(n,i,r):this.createLabelForHeirachialDroppedField(n,i,r);u=this.dataConfigRootContainer.find("#"+this.id+"_"+f.Name+"_categoryList");s=this.dataConfigRootContainer.find("#"+this.id+"_"+f.Name+"_categorylistdiv_emptyfield");!BoldBIDashboard.isNullOrUndefined(t)&&t?this.replaceFieldLabel(f,u,o):(e=void 0,e=BoldBIDashboard.isNullOrUndefined(n.hierarchyLevel)?n.ItemIndex:n.ItemIndex-n.hierarchyLevel,!BoldBIDashboard.isNullOrUndefined(u)&&u.length>0?e>-1&&u.children().length>0&&(o.insertBefore(u.children().eq(e)),e<u[0].children.length-1&&s.insertAfter(u.children().last())):o.insertBefore(s),!BoldBIDashboard.isNullOrUndefined(f.CategoryCount)&&u.children().length>f.CategoryCount&&s.remove())},n.prototype.replaceFieldLabel=function(n,t,i){t.children().length>0&&t.children().length+1===n.CategoryCount&&this.removeIndex!==-1?(this.removeIndex>0?i.insertAfter(t[0].children[this.removeIndex-1]):i.insertBefore(t[0].children[this.removeIndex]),this.removeIndex=-1):t.append(i)},n.prototype.createLabelForHeirachialDroppedField=function(n,t,i,r){r===void 0&&(r=!1);n=this.setSummaryTypeOfField(n);var f=this.dashboardDesigner.modules.util.validateCategoryInfo(n)?"e-draggable":"",u=BoldBIDashboard.buildTag("div.bbi-designer-fieldcontainer-box-sizing bbi-ds-categoryLabel bbi-data-datefield-info-wrap bbi-assigndata-dropped-field bbi-dbrd-designer-hoverable "+f,"",{display:"flex","flex-direction":"column",margin:"6px 0px"},{id:this.id+"_"+n.Id+"_categoryListParentDiv_"+n.UniqueId}),e=BoldBIDashboard.buildTag("span.e-heirachy-field","",{},{id:this.id+"_"+n.Id+"_categoryList_"+n.UniqueId});return u.append(e),u.data("fieldInfo",n),this.createLabelForDateFields(n,u,r),n.ContainerName==="Dimensions"&&u.css("width","214px"),u},n.prototype.createLabelForDroppedField=function(n,t,i){var f;n=this.setSummaryTypeOfField(n);var s=BoldBIDashboard.buildTag("div.bbi-data-fieldinfo-drag-icon bbi-widgeticons bbi-designer-fieldcontainer-double-drag bbi-dbrd-designer-hand-cursor bbi-dropped-field-dataset-icon","",{},{id:this.id+"_"+n.Id+"_categoryListDragIcon_"+n.UniqueId}),u=BoldBIDashboard.buildTag("span.bbi-designer-fontfamily bbi-data-fieldinfo-label bbi-dropped-field-label","",{},{id:this.id+"_"+n.Id+"_categoryListLabel_"+n.UniqueId}),e=BoldBIDashboard.buildTag("input.e-textbox bbi-datafield-edit-fieldName bbi-designer-fontfamily bbi-normal-field","",{},{id:this.id+"_"+n.Id+"_categoryListEditableTextBox_"+n.UniqueId}),h=this.dashboardDesigner.modules.util.validateCategoryInfo(n)?"e-draggable":"",r=BoldBIDashboard.buildTag("div.bbi-designer-fieldcontainer-box-sizing bbi-ds-categoryLabel bbi-data-field-info-wrap bbi-assigndata-dropped-field bbi-dbrd-designer-hoverable "+h,"",{},{id:this.id+"_"+n.Id+"_categoryListDiv_"+n.UniqueId}),o=n.DisplayName;u.text(o);f=this.getLabelText(n);r.append(s,u,e,this.getCloseIcon(t,n));i.showSettingsIcon(n)&&r.append(this.getSettingsIcon(n,o));r.data("fieldInfo",n);r.attr("data-tooltip",f);r.addClass(BoldBIDashboard.DashboardUtil.isExistTextWidth(u)?"e-title-tip":"");this.dashboardDesigner.dragDropHelper.initializeDraggable(r,"100");e.on("mousedown",this.bbdesigner$.proxy(this.displayTextBoxMouseDown,this));return r},n.prototype.hideDisplayTextBox=function(n){var t=this.bbdesigner$(n.currentTarget),e=t.parent(".bbi-ds-categoryLabel"),i=t.val(),u=e.find(".bbi-data-fieldinfo-label"),r,f;u.removeClass("hide-fieldInfo-label");r=e.data("fieldInfo");!BoldBIDashboard.DashboardUtil.IsStringNullorWhiteSpace(i)&&BoldBIDashboard.isNullOrUndefined(r)?BoldBIDashboard.DashboardUtil.IsStringNullorWhiteSpace(i)?t.removeClass("show-fieldInfo-textbox"):(f=t.parent(".all-elements-div").find(".e-parent-name"),f.removeClass("hide-fieldInfo-label"),f.text(i),t.removeClass("show-fieldInfo-textbox"),this.updateDisplayNameForHeirachialFieldInfo(t)):BoldBIDashboard.DashboardUtil.IsStringNullorWhiteSpace(i)||i===r.DisplayName?(t.removeClass("show-fieldInfo-textbox"),BoldBIDashboard.DashboardUtil.IsStringNullorWhiteSpace(i)&&u.text(r.DisplayName)):(u.text(i),this.updateDisplayNameInDataGroupInfo(t))},n.prototype.UpdateDisplayNameForCustomHierarchyField=function(n){var s=this.bbdesigner$(n.currentTarget),i,c,e,r,y,l,p,a,u;try{i=s.val();c=s.parent(".all-elements-div").find(".bbi-parent-name");c.removeClass("hide-fieldInfo-label");c.text(i);c.attr("data-tooltip",i);var h=this.widgetHelper.getCurrentWidgetInstance(),f=h.DataGroupInfo,t=s.closest(".bbi-ds-categoryLabel").data("fieldInfo"),o=s.data("e-treeview-textbox-field");if(BoldBIDashboard.isNullOrUndefined(o)){for(p=this.dashboardDesigner.element.find("#"+this.dashboardDesigner._id+"_Dimension_categoryList_treeview_"+t.Id+"_active").data("fieldInfo"),a=this.widgetHelper.getCurrentWidgetInstance().dataConfigurationInstance.dimensionsList,t=t.ContainerName!=="Dimensions"?t:p,t.DisplayName=i,t.Name=i,u=0;u<t.ChildHierarchicalFields.length;u++)t.ChildHierarchicalFields[u].ParentName=i;if(a.forEach(function(n){n.Id===t.Id&&n.HasChild&&!BoldBIDashboard.isNullOrUndefined(n.TreeNode)&&(n.DisplayName=i,n.Name=i);n.ParentId===t.Id&&(n.ParentName=i)}),t.ContainerName==="Dimensions"){this.dashboardDesigner.element.find("#"+this.dashboardDesigner._id+"_Dimension_categoryList_treeview_"+t.Id+"_active").data("fieldInfo",t);var k=this.dashboardDesigner.designerPanel.selectedReportItems[0],d=BoldBIDashboard.Dashboard.WidgetHelper.getWidgetInstance(k),g=d.dataConfigurationInstance.selectedDatasetId,w=this.dashboardDesigner.modules.dataSet.datasets,nt=w.findIndex(function(n){return n.Id===g}),v=w[nt].CustomHierarchyFields.find(function(n){return n.Id===t.Id});BoldBIDashboard.isNullOrUndefined(v)||(v.Name=i,this.postHierarchyfied(v,BoldBIDashboard.DashboardUtil.DesignerAction.renameCustomHierarchyFields))}this.getSubMenuforCustomHierarchy(a)}else{if(e={},!BoldBIDashboard.isNullOrUndefined(f))for(r=0;r<f.FieldContainers.length;r++)f.FieldContainers[r].Name===o.ContainerName&&(e=f.FieldContainers[r].FieldInfos);if(!BoldBIDashboard.isNullOrUndefined(o))for(u=0;u<e.length;u++)e[u].UniqueColumnName===o.UniqueColumnName&&(e[u].DisplayName=i,e[u].IsDisplayNameEdited=!0);for(r=0;r<f.FieldContainers.length;r++)f.FieldContainers[r].Name===o.ContainerName&&(f.FieldContainers[r].FieldInfos=e);y={update:!0,columnUpdate:!1,rowUpdate:!1,valueUpdate:!1};l=h.DataColumnBindings;BoldBIDashboard.isNullOrUndefined(o)||(l[o.UniqueColumnName]=i);this.widgetHelper.getCurrentWidgetInstance().updateDataGroupInfo(f,y);this.dashboardDesigner.modules.serialization.updateWidgetData(h.getJson(),f);h.updateDataColumnBindings(l);h.updatePropertyChange("FieldNameChange",null,null);this.dashboardDesigner.modules.serialization.notifyChange()}}catch(b){this.dashboardDesigner.designerPanel.logError({Source:"updateDisplayNameInDataGroupInfo",Error:b,Type:b.name})}finally{s.removeClass("show-fieldInfo-textbox")}},n.prototype.updateDisplayNameForHeirachialFieldInfo=function(n){var s=n.val(),e=this.widgetHelper.getCurrentWidgetInstance(),i=e.DataGroupInfo,u=n.closest(".bbi-ds-categoryLabel").data("fieldInfo"),o=n.data("e-treeview-textbox-field"),r,f,t,c,h;if(!BoldBIDashboard.isNullOrUndefined(u)){if(r={},!BoldBIDashboard.isNullOrUndefined(i))for(t=0;t<i.FieldContainers.length;t++)i.FieldContainers[t].Name===u.ContainerName&&(r=i.FieldContainers[t].FieldInfos);if(!BoldBIDashboard.isNullOrUndefined(o))for(f=0;f<r.length;f++)r[f].UniqueColumnName===o.UniqueColumnName&&(r[f].DisplayName=s,r[f].IsDisplayNameEdited=!0);for(u.DisplayName=BoldBIDashboard.isNullOrUndefined(o)&&!BoldBIDashboard.isNullOrUndefined(u)?s:u.DisplayName,t=0;t<i.FieldContainers.length;t++)i.FieldContainers[t].Name===u.ContainerName&&(i.FieldContainers[t].FieldInfos=r);c={update:!0,columnUpdate:!1,rowUpdate:!1,valueUpdate:!1};h=e.DataColumnBindings;BoldBIDashboard.isNullOrUndefined(o)||(h[o.UniqueColumnName]=s);this.widgetHelper.getCurrentWidgetInstance().updateDataGroupInfo(i,c);this.dashboardDesigner.modules.serialization.updateWidgetData(e.getJson(),i);e.updateDataColumnBindings(h);e.updatePropertyChange("FieldNameChange",null,null);this.dashboardDesigner.modules.serialization.notifyChange()}},n.prototype.displayTextBoxMouseDown=function(n){n.stopPropagation()},n.prototype.displayTextBoxKeyPress=function(n){(n.keyCode===13||n.key==="Escape")&&this.hideDisplayTextBox(n)},n.prototype.displayTextBoxKeyPressCustomHierarhy=function(n){(n.keyCode===13||n.key==="Escape")&&this.UpdateDisplayNameForCustomHierarchyField(n)},n.prototype.updateDisplayNameInDataGroupInfo=function(n){var r,u,t,s,o;try{var h=n.val(),f=this.widgetHelper.getCurrentWidgetInstance(),i=f.DataGroupInfo,e=n.parent(".bbi-ds-categoryLabel").data("fieldInfo");if(!BoldBIDashboard.isNullOrUndefined(e)){if(r={},!BoldBIDashboard.isNullOrUndefined(i))for(t=0;t<i.FieldContainers.length;t++)i.FieldContainers[t].Name===e.ContainerName&&(r=i.FieldContainers[t].FieldInfos);for(u=0;u<r.length;u++)r[u].UniqueColumnName===e.UniqueColumnName&&(r[u].DisplayName=h,r[u].IsDisplayNameEdited=!0);for(t=0;t<i.FieldContainers.length;t++)i.FieldContainers[t].Name===e.ContainerName&&(i.FieldContainers[t].FieldInfos=r);s={update:!0,columnUpdate:!1,rowUpdate:!1,valueUpdate:!1};o=f.DataColumnBindings;o[e.UniqueColumnName]=h;this.widgetHelper.getCurrentWidgetInstance().updateDataGroupInfo(i,s);this.dashboardDesigner.modules.serialization.updateWidgetData(f.getJson(),i);f.updateDataColumnBindings(o);f.updatePropertyChange("FieldNameChange",null,null);this.dashboardDesigner.modules.serialization.notifyChange()}}catch(c){this.dashboardDesigner.designerPanel.logError({Source:"updateDisplayNameInDataGroupInfo",Error:c,Type:c.name})}finally{n.removeClass("show-fieldInfo-textbox")}},n.prototype.getLabelText=function(n){return this.dashboardDesigner.modules.util.validateCategoryInfo(n)?n.DateTimeFormat!==DateTimeFormat.None?BoldBIDashboard.DashboardDesignerUtility.Serialization.enumToString(DateTimeFormat,n.DateTimeFormat)+"("+n.Name+")":n.FieldType===FieldType.Dimensions&&n.SummaryType===SummaryType.NONE||n.SummaryType===SummaryType.NONE&&n.DateTimeFormat===DateTimeFormat.None?n.Name:n.SummaryType===SummaryType.CUSTOM?this.locale.dataconfiguration.summary.custom+"("+n.Name+")":this.dashboardDesigner.modules.util.getSummaryTypeLocalizedText(n.SummaryType)+"("+n.Name+")":n.DateTimeFormat!==DateTimeFormat.None?BoldBIDashboard.DashboardDesignerUtility.Serialization.enumToString(DateTimeFormat,n.DateTimeFormat)+"("+n.Name+")":n.Name},n.prototype.setSummaryTypeOfField=function(n){return BoldBIDashboard.isNullOrUndefined(n.ContainerType)||(this.dashboardDesigner.modules.util.validateCategoryInfo(n)?BoldBIDashboard.isNullOrUndefined(n.SummaryType)&&(n.SummaryType=n.FieldType===FieldType.Measures?n.IsAggregatedExpression?SummaryType.CUSTOM:SummaryType.SUM:n.ContainerType===FieldContainerType.None?SummaryType.NONE:SummaryType.COUNT):BoldBIDashboard.isNullOrUndefined(n.SummaryType)&&(n.SummaryType=SummaryType.NONE)),n},n.prototype.getSettingsIcon=function(n){var t=BoldBIDashboard.buildTag("span.bbi-designer-click bbi-designer-toolbarIconSettings bbi-designer-toolbarsmallfonticonsettings bbi-designer-selection bbi-dbrd-designer-hand-cursor bbi-dbrd-designer-hoverable bbi-dropped-field-settings","",{},{id:this.id+"_"+n.Id+"_categoryListSettingsIcon_"+n.UniqueId,"data-tooltip":"Options"}),i=new BoldBIDashboard.Dashboard.FieldMenuHandler(this.dashboardDesigner);t.off("click",this.bbdesigner$.proxy(i.onSettingsClick,i,n));t.on("click",this.bbdesigner$.proxy(i.onSettingsClick,i,n));return n.IsParameterField&&t.css("display","none"),t},n.prototype.getCloseIcon=function(n,t){var i=BoldBIDashboard.buildTag("span.bbi-dbrd-designer-hoverable bbi-dropped-field-close bbi-widgeticons bbi-designer-close bbi-dbrd-designer-hand-cursor","",{},{id:this.id+"_"+t.Id+"_categoryListIcon_"+t.UniqueId,"data-tooltip":"Remove"});i.on("click",this.bbdesigner$.proxy(this.onCloseClick,this,t,n,!0));return i},n.prototype.removeControlFilter=function(){var n=this.widgetHelper.getCurrentWidgetInstance();n.isClearFilter=!1;n.clearFilter()},n.prototype.GetUniqueColumnName=function(n){for(var t,r,u=0,i=0;i<n.FieldContainers.length;i++)for(t=0;t<n.FieldContainers[i].FieldInfos.length;t++)n.FieldContainers[i].FieldInfos[t].UniqueColumnName!=null&&(r=parseInt(n.FieldContainers[i].FieldInfos[t].UniqueColumnName.match(/\d+$/)[0],10),r>=u&&(u=r));return u},n.prototype.replaceItem=function(n,t){this.removeItem(n,!1,!0,!0);this.addItem(t,!1,!0,!0);BoldBIDashboardDesigner.editManager.addCmdAction(CommandAction.DataAssignReplace,"replaceItem","DataConfiguration","",[t,n],[n,t])},n.prototype.updateDataset=function(n,t,i){var r=this.widgetHelper.getAllWidgets(),f,e,u;for(this.singleDsConnectedWidgets=[],f=function(t){var u=null;BoldBIDashboard.isNullOrUndefined(i)||(u=i.filter(function(n){return n===r[t].DataGroupInfo.DataSourceName})[0]);(BoldBIDashboard.isNullOrUndefined(r[t].DataGroupInfo)||r[t].DataGroupInfo.DataSourceID!==n)&&BoldBIDashboard.isNullOrUndefined(u)||e.singleDsConnectedWidgets.push(r[t])},e=this,u=0;u<r.length;u++)f(u);this.moveLiveWebConnectionDataForSingleDsConnectedWidgets(n,t,i)},n.prototype.updateDatasetForWidgets=function(n,t,i){var f;this.isLiveWebDataMoved=!0;var r=this.widgetHelper.getAllWidgets(),e=function(f){var l=null,e,o,s,h,c;if(BoldBIDashboard.isNullOrUndefined(i)||(l=i.filter(function(n){return n===r[f].DataGroupInfo.DataSourceName})[0]),!BoldBIDashboard.isNullOrUndefined(r[f].DataGroupInfo)&&r[f].DataGroupInfo.DataSourceID===n||!BoldBIDashboard.isNullOrUndefined(l))if(t){for(e=0;e<r[f].DataGroupInfo.FieldContainers.length;e++)r[f].DataGroupInfo.FieldContainers[e].FieldInfos=[],r[f].DataGroupInfo.DataSourceID=null,r[f].DataGroupInfo.DataSourceName=null;BoldBIDashboard.Dashboard.WidgetContainerHelper.showWidgetContainerImage(r[f]);BoldBIDashboard.Dashboard.WidgetContainerHelper.showAlertMessageForData(r[f].DataRequiredMessage,r[f].ContentContainer,r[f].getContainerSettings().CombineWidgetId)}else u.updatewidgetdata(r[f].DataGroupInfo.DataSourceID,r[f].ControlContainer),u.postDraggedFields(r[f].ControlContainer),o=u.bbdesigner$(r[f].ControlContainer).find(".bbi-dbrd-control-title"),s=r[f].getJson().ContainerSettings.Title,s=u.labelParameter.getResultantParameterString(s,r[f].getJson().Data.Id),o.html(s),o.attr("data-tooltip",o.text()),r[f].getJson().ContainerSettings.SubTitle!==" "&&(h=u.bbdesigner$(r[f].ControlContainer).find(".bbi-dbrd-control-sub-title"),c=r[f].getJson().ContainerSettings.SubTitle,c=u.labelParameter.getResultantParameterString(c,r[f].getJson().Data.Id),h.html(c),h.attr("data-tooltip",h.text()))},u=this;for(f=0;f<r.length;f++)e(f);this.isLiveWebDataMoved=!1},n.prototype.updatewidgetdata=function(n,t){var f=this.dashboardDesigner.designerPanel.getDataSet(n),o=t||this.dashboardDesigner.designerPanel.selectedReportItems[0],e=BoldBIDashboard.Dashboard.WidgetHelper.getWidgetInstance(o),r=e.DataGroupInfo,i,u;for(r.DataSourceName=f.Name,i=0;i<r.FieldContainers.length;i++)u=this.createValueInfo(),u.DisplayName=r.FieldContainers[i].DisplayName,u.Name=u.Id=r.FieldContainers[i].Name,u.ContainerType=r.FieldContainers[i].ContainerType,u.QueryOrder=r.FieldContainers[i].QueryOrder,u.isCustomHierarchy=r.FieldContainers[i].isCustomHierarchy,u.HasCustomDate=r.FieldContainers[i].HasCustomDate,BoldBIDashboard.isNullOrUndefined(r.FieldContainers[i].IsDrillSection)||(u.IsDrillSection=r.FieldContainers[i].IsDrillSection),BoldBIDashboard.isNullOrUndefined(r.FieldContainers[i].RestrictLargeData)||(u.RestrictLargeData=r.FieldContainers[i].RestrictLargeData),BoldBIDashboard.isNullOrUndefined(r.FieldContainers[i].Required)||(u.Required=r.FieldContainers[i].Required),u.FieldInfos=this.dashboardDesigner.designerPanel.createFieldInfos(r.FieldContainers[i],f,e,!0),r.FieldContainers[i]=u},n.prototype.postDraggedFields=function(n,t,i,r){var s=n||this.dashboardDesigner.designerPanel.selectedReportItems[0],u=BoldBIDashboard.Dashboard.WidgetHelper.getWidgetInstance(s),f=u.DataGroupInfo,h,p,e,c,o,l,y,w;for(BoldBIDashboard.isNullOrUndefined(u.DrillLevelInfo)||u.removeAllDrillElements(),h=this.convertDataGroupInfoToFieldInfo(f,u),this.disableDateBucketForEditDatsource(h),p=t?t:!1,e=0;e<f.FieldContainers.length;e++)for(c=0;c<f.FieldContainers[e].FieldInfos.length;c++)o=f.FieldContainers[e].FieldInfos[c],BoldBIDashboard.isNullOrUndefined(o.FilterInfo)||BoldBIDashboard.isNullOrUndefined(o.FilterInfo.DimensionFilterInfo)||BoldBIDashboard.isNullOrUndefined(o.FilterInfo.RelativeDateOptions)||(o.FilterInfo.DimensionFilterInfo=null);var b=u.getWidgetInfo(f),a=u.getJson(),k=null,d=b.Id,g=this.isRequiredFieldFilled(f),v=this.getExistingRequestInfo(d);v&&(v.xhr.readyState!==4&&v.xhr.abort(),this.widgetDataRequestAjaxCollection.splice(v.index,1));l=!1;BoldBIDashboard.isNullOrUndefined(r)||(y=this.getCurrentFieldContaier(r,f),l=BoldBIDashboard.isNullOrUndefined(y)?l:y.RestrictLargeData);u.isNecessaryDataConfigured()||BoldBIDashboard.Dashboard.WidgetHelper.isOlderDashboardWidgets(u)?(BoldBIDashboard.Dashboard.WidgetContainerHelper.hideWidgetContainerImage(u.ContentContainer),BoldBIDashboard.Dashboard.WidgetContainerHelper.removeAlertMessageForData(u.ContentContainer),w=this.dashboardDesigner.model.mode!==BoldBIDashboard.Designer.mode.design,k=this.dashboardDesigner.modules.util.doAjaxPost("POST",this.dashboardDesigner.model.serviceUrl+BoldBIDashboard.Dashboard.ServiceAPI.processdata,{action:BoldBIDashboard.DashboardUtil.DesignerAction.fetchData,data:JSON.stringify({className:BoldBIDashboard.DashboardUtil.DesignerAction.WidgetAction,designerAction:BoldBIDashboard.DashboardUtil.DesignerAction.fetchData,fieldInfo:h,dataset:f.DataSourceID,widgetInfo:b,request:AjaxRequest.Widget.toString(),selectedValuesList:BoldBIDashboard.isNullOrUndefined(i)?"":JSON.stringify(i),isShowAllRecords:BoldBIDashboard.isNullOrUndefined(a.HighlightAvailableDates)?!1||!BoldBIDashboard.isNullOrUndefined(a.DisableVirtualization)?a.DisableVirtualization:!1:a.HighlightAvailableDates,restrictLargeData:l,requiredFieldFilled:g,isDataSampleForViewMode:w,isLiveWebDataMoved:this.isLiveWebDataMoved})},{fnction:this.bbdesigner$.proxy(this.bindData,this,s,p),indicator:[this.bbdesigner$.proxy(this.showLoadingIndicator,this,s),this.bbdesigner$.proxy(this.hideLoadingIndicator,this,s)]},!1,!1,r),this.widgetDataRequestAjaxCollection.push({id:d,xhr:k})):(BoldBIDashboard.Dashboard.WidgetContainerHelper.showWidgetContainerImage(u),u.resetProperties(),this.dashboardDesigner.modules.serialization.updateWidgetData(u.getJson(),u.DataGroupInfo),this.dashboardDesigner.modules.serialization.notifyChange(),h.length>0?BoldBIDashboard.Dashboard.WidgetContainerHelper.showAlertMessageForData(u.DataRequiredMessage,u.ContentContainer,u.getContainerSettings().CombineWidgetId):BoldBIDashboard.Dashboard.WidgetContainerHelper.removeAlertMessageForData(u.ContentContainer),this.hideLoadingIndicator(u.ContentContainer),u.ContentContainer.find(".bbi-loader-background").css("display")==="block"&&u.ContentContainer.find(".bbi-loader-background").css("display","none"))},n.prototype.getCurrentFieldContaier=function(n,t){for(var u,i,r=0;r<t.FieldContainers.length;r++)for(u=t.FieldContainers[r].FieldInfos,i=0;i<u.length;i++)if(u[i].UniqueColumnName===n.UniqueColumnName)return t.FieldContainers[r];return null},n.prototype.disableDateBucketForEditDatsource=function(n){for(var t=0;t<n.length;t++)BoldBIDashboard.isNullOrUndefined(n[t].DateBucketInfo)||(n[t].DateBucketInfo=null)},n.prototype.isRequiredFieldFilled=function(n){for(var i=!1,t=0;t<n.FieldContainers.length;t++)if(n.FieldContainers[t].Required&&n.FieldContainers[t].FieldInfos.length>0){i=!0;break}return i},n.prototype.getExistingRequestInfo=function(n){for(var i=null,t=0;t<this.widgetDataRequestAjaxCollection.length;t++)if(this.widgetDataRequestAjaxCollection[t].id===n){i={index:t,xhr:this.widgetDataRequestAjaxCollection[t].xhr};break}return i},n.prototype.sortDataGroupInfo=function(n){var t=JSON.parse(JSON.stringify(n));return t.FieldContainers=t.FieldContainers.sort(function(n,t){return n.QueryOrder-t.QueryOrder}),t},n.prototype.getDateBucketWidgets=function(){var n=this.widgetHelper.getAllWidgets();return n.filter(function(n){return n.isDefaultDataWidget()})},n.prototype.getDatebucketFormatValues=function(){var t=this.getDateBucketWidgets(),n=[];return t.forEach(function(t){var i={widgetId:t.getJson().UniqueId,dateFormat:t.getJson().selectedValue};n.push(i)}),n},n.prototype.convertDataGroupInfoToFieldInfo=function(n,t,i,r,u,f){var h=[],e=this.sortDataGroupInfo(n),o,l,s,c;if(e.FieldContainers.length>=1)for(o=e.FieldContainers.length-1;o>=0;o--)for(l=function(n){var v=e.FieldContainers[o].FieldInfos[n],a=e.FieldContainers[o].IsDrillSection,l,u,y,c;if(!BoldBIDashboard.isNullOrUndefined(r)&&r&&!BoldBIDashboard.isNullOrUndefined(i)&&i.length>0){for(u=JSON.parse(JSON.stringify(v)),l=0;l<i.length;l++)if(u.Id===i[l].columnId&&u.UniqueColumnName===i[l].UniqueColumnName){u=s.formatFilterInfo(u,i[l].selectedItem,!1);break}h.push(s.fieldInfoFormation(u,a,n,i,f))}else if(a&&!BoldBIDashboard.isNullOrUndefined(t)&&!BoldBIDashboard.isNullOrUndefined(t.DrillLevelInfo)&&n<t.DrillLevelInfo.length)u=JSON.parse(JSON.stringify(v)),u=s.formatFilterInfo(u,t.DrillLevelInfo[n].selectedItem),h.push(s.fieldInfoFormation(u,a,n,t,f)),e.FieldContainers.length>3&&e.FieldContainers[o].Name==="Row"&&e.FieldContainers[o].FieldInfos.length>0&&BoldBIDashboard.isNullOrUndefined(t.DrillLevelInfo[n].isClickOnAxisLabel)&&(c=JSON.parse(JSON.stringify(e.FieldContainers[o].FieldInfos[0])),c=s.formatFilterInfo(c,t.DrillLevelInfo[n].rowText),h.push(s.fieldInfoFormation(c,a,n,t,f)));else if(e.FieldContainers[o].Name==="Row"&&!BoldBIDashboard.isNullOrUndefined(t)&&!BoldBIDashboard.isNullOrUndefined(t.DrillLevelInfo)&&t.DrillLevelInfo.length>0&&n<t.DrillLevelInfo.length)y=t.DrillLevelInfo.filter(function(n){return!BoldBIDashboard.isNullOrUndefined(n.rowText)}),y.length>0&&!BoldBIDashboard.isNullOrUndefined(y[0].rowText)&&(c=JSON.parse(JSON.stringify(e.FieldContainers[o].FieldInfos[0])),c=s.formatFilterInfo(c,y[0].rowText),h.push(c));else{if(h.filter(function(n){return n.Id===v.Id}).length!==0&&r&&f)return"continue";h.push(s.fieldInfoFormation(v,a,n,t,f))}},s=this,c=0;c<e.FieldContainers[o].FieldInfos.length;c++)l(c);return h=this.reorderFieldListForTooltipFields(h)},n.prototype.reorderFieldListForTooltipFields=function(n){var t=JSON.parse(JSON.stringify(n));return n.forEach(function(n){if(n.ContainerName==="Tooltip"){var i=t.map(function(n){return n.UniqueColumnName}).indexOf(n.UniqueColumnName);t.splice(i,1);t.push(n)}}),t},n.prototype.isRequestNeeded=function(n,t,i,r,u){var f,e,o,s;if(u===void 0&&(u=!1),this.dashboardDesigner.model.mode===BoldBIDashboard.Designer.mode.view&&!this.dashboardDesigner.cacheManager.isRefresh&&this.dashboardDesigner.model.clientSideCacheSettings.enable&&(f={widgetDetails:n,selectedValuesList:BoldBIDashboard.isNullOrUndefined(t)?"[]":t},this.dashboardDesigner.cacheManager.widgetList=i,!BoldBIDashboard.isNullOrUndefined(f)&&this.dashboardDesigner.cacheManager.checkCache(f))){if(e=this.dashboardDesigner.cacheManager.cacheList[this.dashboardDesigner.cacheManager.getCacheKeyForRequest(f)].data,o=this.dashboardDesigner.cacheManager.widgetList,o.length>=1)for(s=0;s<o.length;s++)this.dashboardDesigner.designerPanel.showLoadingIndicator(o[s]);return setTimeout(function(){BoldBIDashboard.DashboardUtil.invokeCallBack(e["function"],u?e.data:e.jsonData)},50),this.dashboardDesigner.cacheManager.widgetList=[],r&&!this.masterSlaveConfiguration.isInteractionCompleted&&this.InteractionCompleteUpdate(),!1}return!0},n.prototype.getWidgetSpecificData=function(n,t){var u=[],i=n.DataGroupInfo,f=this.convertDataGroupInfoToFieldInfo(i,n),e=n.getWidgetInfo(i),r=this.bbdesigner$.extend(!0,{},e);BoldBIDashboard.isNullOrUndefined(r.VirtualScrollSettings)||(r.VirtualScrollSettings.PageSize=null);u.push({widgetInfo:r,fieldInfo:f,dataset:i.DataSourceID,showAllRecords:!0});this.fetchWidgetDataRequest.push(this.dashboardDesigner.modules.util.doAjaxPost("POST",this.dashboardDesigner.model.serviceUrl+BoldBIDashboard.Dashboard.ServiceAPI.processdata,{action:BoldBIDashboard.DashboardUtil.DesignerAction.fetchWidgetData,data:JSON.stringify({className:BoldBIDashboard.DashboardUtil.DesignerAction.WidgetAction,designerAction:BoldBIDashboard.DashboardUtil.DesignerAction.fetchWidgetData,widgetDetails:JSON.stringify(u),request:AjaxRequest.Widget.toString(),selectedValuesList:this.dashboardDesigner.modules.masterSlaveFilter.getAllWidgetSelectedValues()})},{fnction:this.bbdesigner$.proxy(this.sendWidgetData,this,t,n)}))},n.prototype.sendWidgetData=function(n,t,i){var r,u;BoldBIDashboard.isNullOrUndefined(i)||(r=t.getJson(),BoldBIDashboard.isNullOrUndefined(r)||(u=r.UniqueName,i=i[u],i.WidgetName=r.ContainerSettings.Title,i.WidgetId=u,BoldBIDashboard.DashboardUtil.invokeCallBack(n,i)))},n.prototype.fieldInfoFormation=function(n,t,i,r,u){var f=n;return f.IsVisible=f.IsFilterColumn?!1:t&&!BoldBIDashboard.isNullOrUndefined(r)&&!BoldBIDashboard.isNullOrUndefined(r.DrillLevelInfo)?i===r.DrillLevelInfo.length:!0,u&&(f.IsVisible=!0),f},n.prototype.formatFilterInfo=function(n,t,i){var f=n.FieldActualType==="bbi-designer-dataset-datetime"||n.FieldActualType==="bbi-designer-dataset-time",u=new BoldBIDashboard.Dashboard.FilterInfoForUI,r=new DimensionFilterInfo;return r.IsAllowFilteringApplied=!0,r.AllowFilterInfo=new AllowFilteringInfo,r.AllowFilterInfo.IsInclude=!0,r.AllowFilterInfo.CheckAllState=i,r.AllowFilterInfo.FilterValues=[t],r.AllowFilterInfo.IsDateFormatFilteringApplied=f,u.DimensionFilterInfo=r,BoldBIDashboard.isNullOrUndefined(n.FilterInfo)||(u.CustomDateSettingsInfo=BoldBIDashboard.isNullOrUndefined(n.FilterInfo.CustomDateSettingsInfo)?null:n.FilterInfo.CustomDateSettingsInfo),n.FilterInfo=u,n},n.prototype.requestRefreshForWidgets=function(n,t){var i=this.masterSlaveConfiguration.getAllWidgetSelectedValues();this.dashboardDesigner.cacheManager.isRefresh=!0;this.fetchDataForWidgets(n,null,i,!1,null,[],t)},n.prototype.fetchDataForWidgets=function(n,t,i,r,u,f,e,o,s,h,c,l,a,v,y){var p,d,w,nt;if(l===void 0&&(l=null),a===void 0&&(a=null),v===void 0&&(v=!1),y===void 0&&(y=!1),BoldBIDashboard.isNullOrUndefined(this.dashboardDesigner.model.dashboardFromData)||!this.dashboardDesigner.model.dashboardFromData.loadFromData){this.dashboardDesigner.model.mode===BoldBIDashboard.Designer.mode.designpreview&&BoldBIDashboard.DashboardUtil.buttonEnable(this.dashboardDesigner.element.find(".close-preview"),!1);var b=[],tt=t?t:!1,it=0,g=void 0,k=[];for(p=0;p<n.length;p++)d=t?n[p]:this.masterSlaveConfiguration.GetWidgetElementByReportName(n[p]),w=BoldBIDashboard.Dashboard.WidgetHelper.getWidgetInstance(d),this.dashboardDesigner.modules.containerPropertyItem.updateBackgroundInfo(w),!BoldBIDashboard.isNullOrUndefined(w)&&BoldBIDashboard.Dashboard.WidgetHelper.isDataWidget(w)&&(it++,b.push(d),w.isNecessaryDataConfigured()&&k.push(d));!BoldBIDashboard.isNullOrUndefined(k)&&k.length>0&&(g=BoldBIDashboard.Dashboard.WidgetHelper.getWidgetInstance(k[k.length-1]));this.abortPendingWidgetDataRequest(v);n.length>0&&it===0&&(this.masterSlaveConfiguration.isInteractionCompleted=!0);y?this.fetchDataForWidgetsInternal(n,tt,b,g,t,i,r,u,f,e,o,s):(nt=this.prepareDatasources(),this.canExecutePrepareDataSource(nt)?this.dashboardDesigner.modules.util.doAjaxPost("POST",this.dashboardDesigner.model.serviceUrl+BoldBIDashboard.Dashboard.ServiceAPI.processdata,{action:BoldBIDashboard.DashboardUtil.DesignerAction.prepareDataSources,data:JSON.stringify({className:BoldBIDashboard.DashboardUtil.DesignerAction.WidgetAction,designerAction:BoldBIDashboard.DashboardUtil.DesignerAction.prepareDataSources,dataSourceActionCollection:JSON.stringify(nt)})},{fnction:this.bbdesigner$.proxy(this.moveDataForLiveWebConnectionsInternal,this,n,tt,b,g,t,i,r,u,f,e,o,s,h,a),indicator:[this.bbdesigner$.proxy(this.showLoadingIndicator,this,null,b)]}):this.moveDataForLiveWebConnectionsInternal(n,tt,b,g,t,i,r,u,f,e,o,s,h,a))}},n.prototype.moveDataToLiveWebAndRenderView=function(n){if(BoldBIDashboard.isNullOrUndefined(this.dashboardDesigner.model.dashboardFromData)||!this.dashboardDesigner.model.dashboardFromData.loadFromData&&n.rdlJsonObj&&n.rdlJsonObj.WidgetData){var t=this.prepareDatasources();this.canExecutePrepareDataSource(t)?this.dashboardDesigner.modules.util.doAjaxPost("POST",this.dashboardDesigner.model.serviceUrl+BoldBIDashboard.Dashboard.ServiceAPI.processdata,{action:BoldBIDashboard.DashboardUtil.DesignerAction.prepareDataSources,data:JSON.stringify({className:BoldBIDashboard.DashboardUtil.DesignerAction.WidgetAction,designerAction:BoldBIDashboard.DashboardUtil.DesignerAction.prepareDataSources,dataSourceActionCollection:JSON.stringify(t)})},{fnction:this.bbdesigner$.proxy(this.moveDataToLiveInitial,this,n)}):this.moveDataToLiveInitial(n)}else this.dashboardDesigner.designerPanel.renderViewModeReport(n)},n.prototype.moveDataToLiveWebAndRenderDesign=function(n){if(BoldBIDashboard.isNullOrUndefined(this.dashboardDesigner.model.dashboardFromData)||!this.dashboardDesigner.model.dashboardFromData.loadFromData&&n.rdlJsonObj&&n.rdlJsonObj.WidgetData){var t=this.prepareDatasources();this.canExecutePrepareDataSource(t)?this.dashboardDesigner.modules.util.doAjaxPost("POST",this.dashboardDesigner.model.serviceUrl+BoldBIDashboard.Dashboard.ServiceAPI.processdata,{action:BoldBIDashboard.DashboardUtil.DesignerAction.prepareDataSources,data:JSON.stringify({className:BoldBIDashboard.DashboardUtil.DesignerAction.WidgetAction,designerAction:BoldBIDashboard.DashboardUtil.DesignerAction.prepareDataSources,dataSourceActionCollection:JSON.stringify(t)})},{fnction:this.bbdesigner$.proxy(this.moveDataToLiveInitial,this)}):this.moveDataToLiveInitial(n)}else this.dashboardDesigner.designerPanel.renderDesignModeReport(n)},n.prototype.moveDataToLiveInitial=function(n){var t="",i;this.dashboardDesigner.isDesignMode()?(i=this.dashboardDesigner.modules.masterSlaveFilter.getAllWidgetSelectedValuesFromCollection(n.rdlJsonObj.WidgetData),t=JSON.stringify({className:BoldBIDashboard.DashboardUtil.DesignerAction.WidgetAction,designerAction:BoldBIDashboard.DashboardUtil.DesignerAction.MoveLiveWebConnectionData,usedDataSources:this.getDs(n.rdlJsonObj.WidgetData),selectedParameterValue:BoldBIDashboard.isNullOrUndefined(i)?"":JSON.stringify(i)})):this.dashboardDesigner.isViewMode()&&(t=JSON.stringify({className:BoldBIDashboard.DashboardUtil.DesignerAction.WidgetAction,designerAction:BoldBIDashboard.DashboardUtil.DesignerAction.MoveLiveWebConnectionData,usedDataSources:this.getDs(n.rdlJsonObj.WidgetData)}));this.dashboardDesigner.modules.designerRequests.push(this.dashboardDesigner.modules.util.doAjaxPost("POST",this.dashboardDesigner.model.serviceUrl+BoldBIDashboard.Dashboard.ServiceAPI.processdata,{action:BoldBIDashboard.DashboardUtil.DesignerAction.MoveLiveWebConnectionData,data:t},{fnction:this.bbdesigner$.proxy(this.renderDashboard,this,n)},!1,!0))},n.prototype.renderDashboard=function(n,t){BoldBIDashboard.isNullOrUndefined(t)||BoldBIDashboard.isNullOrUndefined(t.IsCacheServerError)||!t.IsCacheServerError||this.dashboardDesigner.modules.util.alertDialog(this.locale.dataSource.redisServeErrorTitle,this.locale.dataSource.redisServeErrorContent,IconType.errors,AlertType.Alert,!1,"",{width:500});this.dashboardDesigner.isDesignMode()?this.dashboardDesigner.designerPanel.renderDesignModeReport(n):this.dashboardDesigner.designerPanel.renderViewModeReport(n)},n.prototype.getDs=function(n){for(var t,i=[],r=0;r<n.length;r++)t=n[r],BoldBIDashboard.isNullOrUndefined(t)||BoldBIDashboard.isNullOrUndefined(t.Data)||i.includes(t.Data.Id)||i.push(t.Data.Id);return i.toString()},n.prototype.prepareDatasources=function(){var r=[],u=[],f=new PrepareDataSourceDetails,t;BoldBIDashboard.isNullOrUndefined(this.dashboardDesigner.rdlParser)?(this.rdlParser=new BoldBIDashboard.DashboardDesignerUtility.DashboardParser(this.dashboardDesigner),this.rdlParser.newJsonReport()):this.rdlParser=this.dashboardDesigner.rdlParser;var n=this.rdlParser.rdlJsonObj.DataSources,e=function(t){var s,f,e,o;BoldBIDashboard.isNullOrUndefined(n[t].ConnectionProperties)||BoldBIDashboard.isNullOrUndefined(n[t].ConnectionProperties.DataProvider)||(s=n[t].Id,f=n[t].ConnectionProperties.DataProvider,(f===i.locale.dataSource.dataSourceType.mySql||f===i.locale.dataSource.dataSourceType.oracle||f==="SQL")&&(e=i.dashboardDesigner.rdlParser.rdlJsonObj.DataSets.filter(function(n){return n.Id===s})[0],BoldBIDashboard.isNullOrUndefined(e)||(o=e.Query.QueryDesignerState,BoldBIDashboard.isNullOrUndefined(o)||o.StoredProcedure==null||r.push(e.Id))),f===i.locale.dataSource.dataSourceType.googleBigQuery&&n[t].ConnectionProperties.Service==="googlebigquery"&&u.push(n[t].Id))},i=this;for(t=0;t<n.length;t++)e(t);return r.length>0&&(f.GetProgrammabilityConnectionStatus=r),u.length>0&&(f.RefreshGoogleBigQueryAccessToken=u),f},n.prototype.canExecutePrepareDataSource=function(n){return!BoldBIDashboard.isNullOrUndefined(n.GetProgrammabilityConnectionStatus)&&n.GetProgrammabilityConnectionStatus.length>0||!BoldBIDashboard.isNullOrUndefined(n.RefreshGoogleBigQueryAccessToken)&&n.RefreshGoogleBigQueryAccessToken.length>0},n.prototype.abortPendingWidgetDataRequest=function(n){if(n===void 0&&(n=!1),!n&&this.fetchWidgetDataRequest&&this.fetchWidgetDataRequest.length>0){for(var t=0;t<this.fetchWidgetDataRequest.length;t++)this.fetchWidgetDataRequest[t].readyState!==4&&this.fetchWidgetDataRequest[t].abort();this.fetchWidgetDataRequest=[]}},n.prototype.moveDataForLiveWebConnectionsInternal=function(n,t,i,r,u,f,e,o,s,h,c,l,a,v,y){y===void 0&&(y=null);this.datasourceCallerId=BoldBIDashboard.isNullOrUndefined(a)?this.getCallerGuid():a;this.dashboardDesigner.modules.designerRequests.push(this.dashboardDesigner.modules.util.doAjaxPost("POST",this.dashboardDesigner.model.serviceUrl+BoldBIDashboard.Dashboard.ServiceAPI.processdata,{action:BoldBIDashboard.DashboardUtil.DesignerAction.MoveLiveWebConnectionData,data:JSON.stringify({className:BoldBIDashboard.DashboardUtil.DesignerAction.WidgetAction,designerAction:BoldBIDashboard.DashboardUtil.DesignerAction.MoveLiveWebConnectionData,usedDataSources:this.getUsedDataSources(n,u,y),selectedParameterValue:BoldBIDashboard.isNullOrUndefined(o)?"":JSON.stringify(o),isRefresh:l,datasourceCallerId:BoldBIDashboard.isNullOrUndefined(this.datasourceCallerId)?"":this.datasourceCallerId})},{fnction:this.bbdesigner$.proxy(this.fetchDataForWidgetsInternal,this,n,t,i,r,u,f,e,o,s,h,c,l,v),indicator:h?"":[this.bbdesigner$.proxy(this.showLoadingIndicator,this,null,i)]},!1,!0))},n.prototype.getCallerGuid=function(){return"xxxxxxxx-xxxx-yxxx".replace(/[xy]/g,function(n){var t=Math.random()*16|0,i=n==="x"?t:t&3|8;return i.toString(16)})},n.prototype.getUsedDataSources=function(n,t,i){var f,e,h,u,o,r,c,s;if(i===void 0&&(i=null),f=[],BoldBIDashboard.isNullOrUndefined(i))for(u=0;u<n.length;u++){if((o=t?n[u]:this.masterSlaveConfiguration.GetWidgetElementByReportName(n[u]),r=BoldBIDashboard.Dashboard.WidgetHelper.getWidgetInstance(o),r.rteContent)&&(c=r.getValue().toString(),s=c.match(/'Datasource_[a-zA-Z0-9-*]{0,64}'/g),s!=null))for(e=0;e<s.length;e++)h=s[e].toString().replaceAll(/'/g,""),f.includes(h)||f.push(h);BoldBIDashboard.isNullOrUndefined(r)||BoldBIDashboard.isNullOrUndefined(r.DataGroupInfo)||f.includes(r.DataGroupInfo.DataSourceID)||f.push(r.DataGroupInfo.DataSourceID)}else for(u=0;u<n.length;u++)o=t?n[u]:this.masterSlaveConfiguration.GetWidgetElementByReportName(n[u]),r=BoldBIDashboard.Dashboard.WidgetHelper.getWidgetInstance(o),BoldBIDashboard.isNullOrUndefined(r)||BoldBIDashboard.isNullOrUndefined(r.DataGroupInfo)||f.includes(r.DataGroupInfo.DataSourceID)||f.push(r.DataGroupInfo.DataSourceID);return f.toString()},n.prototype.moveLiveWebConnectionDataForSingleDsConnectedWidgets=function(n,t,i){this.dashboardDesigner.modules.util.doAjaxPost("POST",this.dashboardDesigner.model.serviceUrl+BoldBIDashboard.Dashboard.ServiceAPI.processdata,{action:BoldBIDashboard.DashboardUtil.DesignerAction.MoveLiveWebConnectionData,data:JSON.stringify({className:BoldBIDashboard.DashboardUtil.DesignerAction.WidgetAction,designerAction:BoldBIDashboard.DashboardUtil.DesignerAction.MoveLiveWebConnectionData,usedDataSources:this.getUsedDatasourceforWidgets(this.singleDsConnectedWidgets),selectedParameterValue:""})},{fnction:this.bbdesigner$.proxy(this.updateDatasetForWidgets,this,n,t,i)})},n.prototype.getUsedDatasourceforWidgets=function(n){for(var i=[],t=0;t<n.length;t++)BoldBIDashboard.isNullOrUndefined(n[t].DataGroupInfo)||i.includes(n[t].DataGroupInfo.DataSourceID)||i.push(n[t].DataGroupInfo.DataSourceID);return i.toString()},n.prototype.fetchDataForWidgetsInternal=function(n,t,i,r,u,f,e,o,s,h,c,l,a,v){var st,p,nt,tt,ft,g,w,et;BoldBIDashboard.isNullOrUndefined(v)||BoldBIDashboard.isNullOrUndefined(v.IsCacheServerError)||!v.IsCacheServerError||this.dashboardDesigner.modules.util.alertDialog(this.locale.dataSource.redisServeErrorTitle,this.locale.dataSource.redisServeErrorContent,IconType.errors,AlertType.Alert,!1,"",{width:500});(this.dashboardDesigner.isViewMode()||this.dashboardDesigner.model.mode===BoldBIDashboard.Designer.mode.designpreview)&&(st=this.dashboardDesigner.model.clientSideCacheSettings.enable,this.dashboardDesigner.model.clientSideCacheSettings.enable=!1,this.dashboardDesigner.modules.labelParameter.getDataForLabelParameter(this.masterSlaveConfiguration.getAllWidgetSelectedValues(),this.dashboardDesigner.id,!1,"",null,this.dashboardDesigner.cacheManager.isRefresh&&this.dashboardDesigner.model.isHideIndicator,!1,this.datasourceCallerId),this.dashboardDesigner.model.clientSideCacheSettings.enable=st);var b=this.getClubWidgetIndexes(n,u),ot=this.getSplitUpIndexes(b),it=0,rt=0,ut=0;for(p=0;p<n.length;p++){var ht=!1,k=[],d=[],ct=u?n[p]:this.masterSlaveConfiguration.GetWidgetElementByReportName(n[p]),y=BoldBIDashboard.Dashboard.WidgetHelper.getWidgetInstance(ct);if(BoldBIDashboard.isNullOrUndefined(r)||r.getJson().UniqueId!==y.getJson().UniqueId||(ht=!0),!u||this.dashboardDesigner.isDesignMode()||y.isDefaultDataWidget()||this.getUpdatedWidgetInstanceForDatebucket(y),BoldBIDashboard.Dashboard.WidgetHelper.isDataWidget(y)){if(b.length>0)if(it=ot[ut],rt=ot[ut+1],b[it]===p){for(d=this.getWidgetDetailsForMultiWidgetes(n,b,u,it,rt),g=this.getClubWidgetList(n,b,u,it,rt),nt=0;nt<d.length;nt++)k.push(d[nt].widgetDetails),this.hideImageAndUpdateAlertMessage(g[nt]);ut<ot.length-2&&ut++}else if(b.indexOf(p)===-1)k.push(this.getWidgetDetails(y,u,a).widgetDetails);else continue;else k.push(this.getWidgetDetails(y,u,a).widgetDetails);tt=this.dashboardDesigner.cacheManager.initialisingFilterList(f,k);this.concatSelectedValuesForDatebucket(s,tt);var lt={widgetDetails:k,selectedValuesList:BoldBIDashboard.isNullOrUndefined(tt)?"[]":tt},at=this.dashboardDesigner.cacheManager.getCacheKeyForRequest(lt),vt=this.dashboardDesigner.model.mode!==BoldBIDashboard.Designer.mode.design;if(this.isRequestNeeded(k,tt,i,ht))if(y.isNecessaryDataConfigured()||BoldBIDashboard.Dashboard.WidgetHelper.isOlderDashboardWidgets(y))this.hideImageAndUpdateAlertMessage(y),ft=Date.now().toLocaleString(),this.requestIdCollection.push(ft),this.fetchWidgetDataRequest.push(this.dashboardDesigner.modules.util.doAjaxPost("POST",this.dashboardDesigner.model.serviceUrl+BoldBIDashboard.Dashboard.ServiceAPI.processdata,{action:BoldBIDashboard.DashboardUtil.DesignerAction.fetchWidgetData,data:JSON.stringify({className:BoldBIDashboard.DashboardUtil.DesignerAction.WidgetAction,designerAction:BoldBIDashboard.DashboardUtil.DesignerAction.fetchWidgetData,widgetDetails:JSON.stringify(k),request:AjaxRequest.Widget.toString(),selectedValuesList:BoldBIDashboard.isNullOrUndefined(f)?"":JSON.stringify(f),selectedParameterValue:BoldBIDashboard.isNullOrUndefined(o)?"":JSON.stringify(o),isDataSampleForViewMode:vt,isRefresh:l,datasourceCallerId:BoldBIDashboard.isNullOrUndefined(this.datasourceCallerId)?"":this.datasourceCallerId})},{fnction:this.bbdesigner$.proxy(this.bindWidgetData,this,t),indicator:h?"":[this.bbdesigner$.proxy(this.showLoadingIndicator,this,ct,i)],completefnction:this.bbdesigner$.proxy(this.checkDataFetchingCompleted,this,ft,e,c)},!1,!1,at));else{if(BoldBIDashboard.Dashboard.WidgetHelper.isContainerWidget(y)||BoldBIDashboard.Dashboard.WidgetContainerHelper.showWidgetContainerImage(y),d.length>1)for(g=this.getClubWidgetList(n,b,u,it,rt),w=0;w<d.length;w++)d[w].fieldList.length>0&&BoldBIDashboard.Dashboard.WidgetContainerHelper.showAlertMessageForData(g[w].DataRequiredMessage,g[w].ContentContainer,g[w].getContainerSettings().CombineWidgetId);else d[0].fieldList.length>0&&BoldBIDashboard.Dashboard.WidgetContainerHelper.showAlertMessageForData(y.DataRequiredMessage,y.ContentContainer,y.getContainerSettings().CombineWidgetId);this.hideLoadingIndicator(y.ContentContainer);y.ContentContainer.find(".bbi-loader-background").css("display")==="block"&&y.ContentContainer.find(".bbi-loader-background").css("display","none")}}}this.masterSlaveConfiguration.isInteraction=!1;this.dashboardDesigner.refreshSetting.enableAutoRefresh&&(et=this.dashboardDesigner.modules.autoRefresh,this.dashboardDesigner.triggerDashboardRenderedEventForViewer(et),et.initializeAutoRefresh(this.dashboardDesigner.refreshSetting))},n.prototype.checkDataFetchingCompleted=function(n,t,i){var r=this.requestIdCollection.indexOf(n);r!==-1&&this.requestIdCollection.splice(r,1);this.requestIdCollection.length===0&&((!this.masterSlaveConfiguration.isInteractionCompleted||t)&&(this.InteractionCompleteUpdate(),this.triggerInteractionCompletedEvent(i,t)),(this.dashboardDesigner.isDesignMode()||this.dashboardDesigner.isDesignPreviewMode())&&this.removeLiveWebConnectionData(!1))},n.prototype.getSplitUpIndexes=function(n){var i=[],r,u,t;if(n.length>0){for(r=Math.floor(n.length/6),u=n.length%6,t=0;t<=r;t++)t===0?i[0]=0:i.push(t*6-1),t===r&&(i[t]=i[t]+u);r===0&&(i[0]=0,i[1]=u-1)}return i},n.prototype.hideImageAndUpdateAlertMessage=function(n){BoldBIDashboard.Dashboard.WidgetContainerHelper.hideWidgetContainerImage(n.ContentContainer);BoldBIDashboard.Dashboard.WidgetContainerHelper.removeAlertMessageForData(n.ContentContainer)},n.prototype.getWidgetDetails=function(n,t,i){var u,r,f;if(BoldBIDashboard.isNullOrUndefined(n.VirtualScrollSettings)||(n.VirtualScrollSettings.StartIndex=1),BoldBIDashboard.isNullOrUndefined(n)||BoldBIDashboard.isNullOrUndefined(n.DrillLevelInfo)||BoldBIDashboard.isNullOrUndefined(n.getJson().SelectedFilterValues)||n.getJson().SelectedFilterValues.length!==0||n.removeAllDrillElements(),u=n.DataGroupInfo,r=this.convertDataGroupInfoToFieldInfo(u,n),!BoldBIDashboard.isNullOrUndefined(i)&&i.length>0)for(f=0;f<i.length;f++)r.push(i[f]);t&&this.dashboardDesigner.isDesignMode()&&!n.isDefaultDataWidget()&&this.getUpdatedFieldInfoList(r);var o=n.getWidgetInfo(u),e=n.getJson(),s={widgetInfo:o,fieldInfo:r,dataset:u.DataSourceID,showAllRecords:BoldBIDashboard.isNullOrUndefined(e.HighlightAvailableDates)?!1||!BoldBIDashboard.isNullOrUndefined(e.DisableVirtualization)?e.DisableVirtualization:!1:e.HighlightAvailableDates};return{widgetDetails:s,fieldList:r}},n.prototype.getWidgetDetailsForMultiWidgetes=function(n,t,i,r,u){for(var o=[],e=this.getClubWidgetList(n,t,i,r,u),f=0;f<e.length;f++)(e[f].isNecessaryDataConfigured()||BoldBIDashboard.Dashboard.WidgetHelper.isOlderDashboardWidgets(e[f]))&&o.push(this.getWidgetDetails(e[f],i));return o},n.prototype.getClubWidgetList=function(n,t,i,r,u){var o=[],f,s,e;for(r!==0&&(r+=1),f=r;f<=u;f++)s=i?n[t[f]]:this.masterSlaveConfiguration.GetWidgetElementByReportName(n[t[f]]),e=BoldBIDashboard.Dashboard.WidgetHelper.getWidgetInstance(s),(e.isNecessaryDataConfigured()||BoldBIDashboard.Dashboard.WidgetHelper.isOlderDashboardWidgets(e))&&o.push(e);return o},n.prototype.getClubWidgetIndexes=function(n,t){for(var u,r,f=[],i=0;i<n.length;i++)u=t?n[i]:this.masterSlaveConfiguration.GetWidgetElementByReportName(n[i]),r=BoldBIDashboard.Dashboard.WidgetHelper.getWidgetInstance(u),!BoldBIDashboard.isNullOrUndefined(r)&&BoldBIDashboard.Dashboard.WidgetHelper.isDataWidget(r)&&r.canCombineRequest()&&f.push(i);return f},n.prototype.getUpdatedFieldInfoList=function(n){for(var t=0;t<n.length;t++)n[t].IsDisplayNameEdited||BoldBIDashboard.isNullOrUndefined(n[t].DateBucketInfo)||BoldBIDashboard.isNullOrUndefined(n[t].DateBucketInfo.DateBucketFormat)||(n[t].DateBucketInfo.DateBucketFormat=n[t].DateTimeFormat,n[t].DisplayName=n[t].DateTimeFormat.toString()+"("+n[t].Name+")");return n},n.prototype.getUpdatedWidgetInstanceForDatebucket=function(n){var t,i,u,r,f;if(!BoldBIDashboard.isNullOrUndefined(n)&&!BoldBIDashboard.isNullOrUndefined(n.DataGroupInfo)&&!BoldBIDashboard.isNullOrUndefined(n.DataGroupInfo.FieldContainers))for(t=0;t<n.DataGroupInfo.FieldContainers.length;t++)for(i=0;i<n.DataGroupInfo.FieldContainers[t].FieldInfos.length;i++)u=n.DataGroupInfo.FieldContainers[t].FieldInfos[i].DateTimeFormat!==DateTimeFormat.None,!BoldBIDashboard.isNullOrUndefined(n.DataGroupInfo.FieldContainers[t].FieldInfos[i].DateBucketInfo)&&u&&(r=n.DataGroupInfo.FieldContainers[t].FieldInfos[i],n.DataGroupInfo.FieldContainers[t].FieldInfos[i].IsDisplayNameEdited||(r.DisplayName=r.DateBucketInfo.DateBucketFormat.toString()+"("+r.Name+")"),f=n.getJson().Data.Containers[t].FieldInfos[i].DateBucketInfo,f===null&&this.dashboardDesigner.model.mode===BoldBIDashboard.Designer.mode.design&&(n.getJson().Data.Containers[t].FieldInfos[i].DateBucketInfo=new DateBucketInformation,n.getJson().Data.Containers[t].FieldInfos[i].DateBucketInfo.DateBucketFormat=r.DateBucketInfo.DateBucketFormat,n.getJson().Data.Containers[t].FieldInfos[i].DateBucketInfo.DatebucketId=r.DateBucketInfo.DatebucketId))},n.prototype.concatSelectedValuesForDatebucket=function(n,t){if(!BoldBIDashboard.isNullOrUndefined(n)&&n.length>0)for(var i=0;i<n.length;i++)t.push(n[i])},n.prototype.triggerDashboardRenderEvent=function(){var i=!0,t,n;if(this.dashboardDesigner.modules.serialization.getWidgetJsonString().length>0){for(t=this.widgetHelper.getAllWidgets(),n=0;n<t.length;n++)if(!t[n].IsRendered)return!1;return i}return i},n.prototype.triggerInteractionCompletedEvent=function(n,t){var i,f,r,e;if(this.dashboardDesigner.isViewMode()||this.dashboardDesigner.isDesignPreviewMode()){var h=this.dashboardDesigner.getCurrentFilters(),u=this.masterSlaveConfiguration.getAllWidgetSelectedValues(),o="",s=undefined;t||BoldBIDashboard.DashboardUtil.IsStringNullorWhiteSpace(n)||(i=this.masterSlaveConfiguration.GetWidgetElementByReportName(n),i.length>0&&(f=BoldBIDashboard.Dashboard.WidgetHelper.getWidgetInstance(i),r=f.getJson(),o=r.ContainerSettings.Title,s=r,u=u));e={encryptedData:h.encryptedData,isClearAllFilter:t,widgetName:o,widgetProperties:s,selectedFilterValues:u};this.dashboardDesigner._trigger(ViewerEvent.actionComplete,{eventType:ViewerEventType.interactionCompleted,source:{data:e}});this.removeLiveWebConnectionData()}},n.prototype.dashboardRenderedTriggered=function(){BoldBIDashboard.isNullOrUndefined(this.dashboardDesigner.model)||(this.dashboardDesigner.triggerViewerEvent(ViewerEvent.actionComplete,ViewerEventType.dashboardRendered,undefined,this.dashboardDesigner.designerPanel),this.masterSlaveConfiguration.isInteractionCompleted=!0,this.removeLiveWebConnectionData(!1))},n.prototype.removeLiveWebConnectionData=function(n){n===void 0&&(n=!1);this.dashboardDesigner.modules.util.doAjaxPost("POST",this.dashboardDesigner.model.serviceUrl+BoldBIDashboard.Dashboard.ServiceAPI.processdata,{action:BoldBIDashboard.DashboardUtil.DesignerAction.RemoveLiveWebconnectionData,data:JSON.stringify({className:BoldBIDashboard.DashboardUtil.DesignerAction.WidgetAction,designerAction:BoldBIDashboard.DashboardUtil.DesignerAction.RemoveLiveWebconnectionData,hasRemoveLiveWebDsData:n,datasourceCallerId:BoldBIDashboard.isNullOrUndefined(this.datasourceCallerId)?"":this.datasourceCallerId})},null)},n.prototype.fetchDataForViewModeWidgets=function(n,t,i,r,u,f){var s,h,o,c,e,l,a,v;if(BoldBIDashboard.isNullOrUndefined(this.dashboardDesigner.model.dashboardFromData)||!this.dashboardDesigner.model.dashboardFromData.loadFromData){for(s=[],h=0,o=0;o<n.length;o++)c=t?n[o]:this.masterSlaveConfiguration.GetWidgetElementByReportName(n[o]),e=BoldBIDashboard.Dashboard.WidgetHelper.getWidgetInstance(c),!t||this.dashboardDesigner.isDesignMode()||e.isDefaultDataWidget()||this.getUpdatedWidgetInstanceForDatebucket(e),this.dashboardDesigner.modules.containerPropertyItem.updateBackgroundInfo(e),!BoldBIDashboard.isNullOrUndefined(e)&&BoldBIDashboard.Dashboard.WidgetHelper.isDataWidget(e)&&(h++,s.push(c));l=!0;a=!0;BoldBIDashboard.isNullOrUndefined(u)||(u>0&&(l=!1),u!==f.length-1&&(a=!1));this.fetchDataForViewModeWidgetsInternal(n,s,h,t,i)}this.dashboardDesigner.refreshSetting.enableAutoRefresh&&(v=this.dashboardDesigner.modules.autoRefresh,v.initializeAutoRefresh(this.dashboardDesigner.refreshSetting))},n.prototype.fetchDataForViewModeWidgetsInternal=function(n,t,i,r,u){var k,e,c,o,d;(this.dashboardDesigner.isViewMode()||this.dashboardDesigner.model.mode===BoldBIDashboard.Designer.mode.designpreview)&&(k=this.dashboardDesigner.model.clientSideCacheSettings.enable,this.dashboardDesigner.model.clientSideCacheSettings.enable=!1,this.dashboardDesigner.modules.labelParameter.getDataForLabelParameter(this.masterSlaveConfiguration.getAllWidgetSelectedValues(),this.dashboardDesigner.id,!1,"",null,this.dashboardDesigner.cacheManager.isRefresh&&this.dashboardDesigner.model.isHideIndicator,!1,this.datasourceCallerId),this.dashboardDesigner.model.clientSideCacheSettings.enable=k);var h=this.getClubWidgetIndexes(n,r),y=this.getSplitUpIndexes(h),l=0,p=0,a=0;for(e=0;e<n.length;e++){var nt=e===i-1?!0:!1,s=[],w=[],v=[],g=r?n[e]:this.masterSlaveConfiguration.GetWidgetElementByReportName(n[e]),f=BoldBIDashboard.Dashboard.WidgetHelper.getWidgetInstance(g);if(BoldBIDashboard.Dashboard.WidgetHelper.isDataWidget(f)){if(h.length>0)if(l=y[a],p=y[a+1],h[l]===e){for(w=this.getWidgetDetailsForMultiWidgetes(n,h,r,l,p),c=this.getClubWidgetList(n,h,r,l,p),o=0;o<w.length;o++)s.push(w[o].widgetDetails),BoldBIDashboard.Dashboard.WidgetContainerHelper.hideWidgetContainerImage(c[o].ContentContainer),(c[o].isNecessaryDataConfigured()||BoldBIDashboard.Dashboard.WidgetHelper.isOlderDashboardWidgets(c[o]))&&v.push(c[o]);a<y.length-2&&a++}else if(h.indexOf(e)===-1)s.push(this.getWidgetDetails(f,r).widgetDetails),v.push(f);else continue;else s.push(this.getWidgetDetails(f,r).widgetDetails),v.push(f);var b=this.dashboardDesigner.cacheManager.initialisingFilterList(u,s),tt={widgetDetails:s,selectedValuesList:BoldBIDashboard.isNullOrUndefined(b)?"[]":b},it=this.dashboardDesigner.cacheManager.getCacheKeyForRequest(tt);BoldBIDashboard.Dashboard.WidgetContainerHelper.hideWidgetContainerImage(f.ContentContainer);d=this.dashboardDesigner.model.mode!==BoldBIDashboard.Designer.mode.design;this.isRequestNeeded(s,b,t,nt)&&(f.isNecessaryDataConfigured()||BoldBIDashboard.Dashboard.WidgetHelper.isOlderDashboardWidgets(f)?this.fetchWidgetDataRequest.push(this.dashboardDesigner.modules.util.doAjaxPost("POST",this.dashboardDesigner.model.serviceUrl+BoldBIDashboard.Dashboard.ServiceAPI.processdata,{action:BoldBIDashboard.DashboardUtil.DesignerAction.fetchWidgetData,data:JSON.stringify({className:BoldBIDashboard.DashboardUtil.DesignerAction.WidgetAction,designerAction:BoldBIDashboard.DashboardUtil.DesignerAction.fetchWidgetData,widgetDetails:JSON.stringify(s),request:AjaxRequest.Widget.toString(),selectedValuesList:BoldBIDashboard.isNullOrUndefined(u)?"":JSON.stringify(u),isDataSampleForViewMode:d,datasourceCallerId:BoldBIDashboard.isNullOrUndefined(this.datasourceCallerId)?"":this.datasourceCallerId})},{fnction:this.bbdesigner$.proxy(this.renderWidgetsInViewMode,this,v),indicator:[this.bbdesigner$.proxy(this.showLoadingIndicator,this,g,t)]},!1,!1,it)):(this.hideLoadingIndicator(f.ContentContainer),BoldBIDashboard.Dashboard.WidgetContainerHelper.addWidgetNotConfiguredClass(f),f.ContentContainer.find(".bbi-loader-background").css("display")==="block"&&f.ContentContainer.find(".bbi-loader-background").css("display","none")))}}},n.prototype.renderWidgetsInViewMode=function(n,t){for(var i=0;i<n.length;i++)setTimeout(function(i){n[i].renderViewModeWidget(t)},0,i)},n.prototype.showLoadingIndicator=function(n,t){var i,r;if(BoldBIDashboard.isNullOrUndefined(n))for(i=0;i<t.length;i++)r=BoldBIDashboard.Dashboard.WidgetHelper.getWidgetInstance(t[i]),BoldBIDashboard.Dashboard.WidgetHelper.isDataWidget(r)&&r.isNecessaryDataConfigured()&&this.dashboardDesigner.designerPanel.showLoadingIndicator(t[i]);else this.dashboardDesigner.designerPanel.showLoadingIndicator(n)},n.prototype.hideLoadingIndicator=function(n){if(!BoldBIDashboard.isNullOrUndefined(n)){var t=n.attr("data-prevent-loading-indicator");BoldBIDashboard.isNullOrUndefined(t)&&this.dashboardDesigner.designerPanel.hideLoadingIndicator(n)}},n.prototype.bindWidgetData=function(n,t){var f=null,u,r,e,s,h;if(this.dashboardDesigner.model.isHideIndicator=!1,u=Object.keys(t),u.length>0)for(r=0;r<u.length;r++){e=t[u[r]];f=this.masterSlaveConfiguration.GetWidgetElementByReportName(u[r]);var i=BoldBIDashboard.Dashboard.WidgetHelper.getWidgetInstance(f),c=u.length-1,l={widgetId:i.getJson().UniqueId,widgetName:i.getJson().ContainerSettings.Title};try{BoldBIDashboard.isNullOrUndefined(BoldBIDashboard.Dashboard.WidgetHelper.isDataWidget(i))||(this.dashboardDesigner.modules.resource.updateColorCodeInfo(e),s=BoldBIDashboard.DashboardUtil.getColumnBindings(i),i.updateDataColumnBindings(s),BoldBIDashboard.Dashboard.WidgetContainerHelper.showControlContainer(i),i.update(e));i.updateWidgetSettings();this.dashboardDesigner.model.mode===BoldBIDashboard.Designer.mode.designpreview&&c===r&&BoldBIDashboard.DashboardUtil.buttonEnable(this.dashboardDesigner.element.find(".close-preview"),!0);this.dashboardDesigner.model.mode===BoldBIDashboard.Designer.mode.view&&this.dashboardDesigner.triggerViewerEvent(ViewerEvent.actionComplete,ViewerEventType.renderWidget,f,l)}catch(o){this.dashboardDesigner.designerPanel.logError({Source:"bindWidgetData",Error:o,Type:o.name});this.dashboardDesigner.model.mode===BoldBIDashboard.Designer.mode.designpreview&&c===r&&BoldBIDashboard.DashboardUtil.buttonEnable(this.dashboardDesigner.element.find(".close-preview"),!0);i.ContentContainer.find(".bbi-dbrd-control-nodatainfo.bbi-nodata-container").is(":visible")||(BoldBIDashboard.Dashboard.WidgetContainerHelper.removeWidgetNotConfiguredClass(i),this.dashboardDesigner.designerPanel.showControlError(i.ContentContainer,o,i.CellInfo))}this.dashboardDesigner.addToWidgetCacheCollection(u[r],e,n);h=f.attr("data-prevent-loading-indicator");BoldBIDashboard.isNullOrUndefined(h)&&this.dashboardDesigner.modules.util.hideLoadingIndicator(f)}n||this.dashboardDesigner.modules.serialization.notifyChange()},n.prototype.InteractionCompleteUpdate=function(){if(this.dashboardDesigner.model.mode===BoldBIDashboard.Designer.mode.view||this.dashboardDesigner.model.mode===BoldBIDashboard.Designer.mode.designpreview){var t=!1,n=this,i=2e3,r=setInterval(function(){t=n.triggerDashboardRenderEvent();t&&(n.masterSlaveConfiguration.isInteractionCompleted=!0,clearTimeout(r),i=0)},500);setTimeout(function(){n.masterSlaveConfiguration.isInteractionCompleted=!0;clearTimeout(r)},i)}},n.prototype.removeWhiteBackgroundInWidget=function(n){!BoldBIDashboard.isNullOrUndefined(n)&&n.hasClass("bbi-dbrd-control-container")&&(n.find(".bbi-loader-background").is(":visible")||n.parents(".bbi-container-widget").length>0)&&n.find(".bbi-loader-background").remove()},n.prototype.bindData=function(n,t,i){var r=BoldBIDashboard.Dashboard.WidgetHelper.getWidgetInstance(n||this.dashboardDesigner.designerPanel.selectedReportItems[0]),f;if(!BoldBIDashboard.Dashboard.WidgetHelper.isContainerWidget(r)&&!r.isDefaultDataWidget()){try{this.dashboardDesigner.modules.resource.updateColorCodeInfo(i);this.dashboardDesigner.modules.util.updateWidgetInstanceForDatebucket(r,i);f=BoldBIDashboard.DashboardUtil.getColumnBindings(r);r.updateDataColumnBindings(f);BoldBIDashboard.Dashboard.WidgetContainerHelper.showControlContainer(r);r.update(i)}catch(u){this.dashboardDesigner.designerPanel.logError({Source:"bindData",Error:u,Type:u.name});r.ContentContainer.find(".bbi-dbrd-control-nodatainfo.bbi-nodata-container").is(":visible")||(BoldBIDashboard.Dashboard.WidgetContainerHelper.removeWidgetNotConfiguredClass(r),this.dashboardDesigner.designerPanel.showControlError(r.ContentContainer,u,r.CellInfo))}this.removeWhiteBackgroundInWidget(n);this.dashboardDesigner.loadFromCache||this.dashboardDesigner.addToWidgetCacheCollection(r.Name,i,!0);t||this.dashboardDesigner.modules.serialization.notifyChange()}},n.prototype.getValueInfo=function(n,t,i){i.MeasureFormatting=this.defaultFormatting();i.Sorting=i.FieldType===FieldType.Measures?SortingOrder.None:SortingOrder.Ascending;var r=BoldBIDashboard.isNullOrUndefined(n)?[]:this.getGroupValues(n,t,i.Name);return r.length>0?r[0]:i},n.prototype.defaultFormatting=function(){var n=this.widgetHelper.getCurrentWidgetInstance();return n.getDefaultMeasureFormat()},n.prototype.getGroupValues=function(n,t,i){for(var r,u=0;u<n.length;u++)if(n[u].Name===t)for(r=0;r<n[u].FieldInfos.length;r++)if(BoldBIDashboard.isNullOrUndefined(n[u].FieldInfos[r].UniqueId)&&(n[u].FieldInfos[r].UniqueId="LabelData"+(r+1)),n[u].FieldInfos[r].UniqueId===i)return[n[u].FieldInfos[r]];return[]},n.prototype.getColumnInfo=function(n,t,i){var e=this.createSort(),r,u,f;return e.Value="=Fields!"+i.Name+".Value",r=this.createGroup(),r.Value="=Fields!"+i.Name+".Value",i.DatasourceID=this.selectedDatasetId,u=this.widgetHelper.getCurrentWidgetInstance(),i.MeasureFormatting=u.getDefaultMeasureFormat(),i.GroupName=i.Name,i.SortExpressions=[e],i.GroupExpressions=[r],i=u.getColumnInfo(i,t),f=BoldBIDashboard.isNullOrUndefined(n)?[]:this.getGroupValues(n,t,i.UniqueId),f.length>0?f[0]:i},n.prototype.getDataInfo=function(n,t,i,r){var u=null;return t.ItemIndex<n.FieldContainers[i].FieldInfos.length?(u=this.dashboardDesigner.modules.util.validateCategoryInfo(t)?this.getValueInfo(n.FieldContainers,r,t):this.getColumnInfo(n.FieldContainers,r,t),n.FieldContainers[i].FieldInfos.splice(t.ItemIndex,0,u)):(u=this.dashboardDesigner.modules.util.validateCategoryInfo(t)?this.getValueInfo(n.FieldContainers,r,t):this.getColumnInfo(n.FieldContainers,r,t),n.FieldContainers[i].FieldInfos.push(u)),n.DataSourceID=this.selectedDatasetId,n.DataSourceName=this.selectedDatasetName,n},n.prototype.updateDataGroupInfo=function(n,t,i){var r=this.getFieldContainer(n),u=-1,e=this.dataConfigRootContainer.find("#"+this.id+"_"+r.Name+"_categoryList"),f=!1;return e.length>0?(this.categoryItems=this.widgetHelper.getCurrentWidgetInstance().getFieldContainer(),t.FieldContainers.length===0&&(t.FieldContainers=this.categoryItems),u=this.getMatchedFieldContainerIndexByName(t,r.Name),BoldBIDashboard.isNullOrUndefined(i)?(BoldBIDashboard.isNullOrUndefined(r.Name)||r.Name==="emptyField"||(t=this.getDataInfo(t,n,u,r.Name)),f=!0):(f=!0,t.FieldContainers[u].FieldInfos.splice(i.currentIndex,0,t.FieldContainers[u].FieldInfos.splice(i.previousIndex,1)[0]))):f=!0,this.widgetHelper.getCurrentWidgetInstance().updateDataGroupInfo(t,{update:f,columnUpdate:!1,rowUpdate:!1,valueUpdate:!1}),t.FieldContainers[u]},n.prototype.createValueInfo=function(){return new BoldBIDashboard.Dashboard.FieldContainerForUI},n.prototype.createDataValueInfo=function(){return{__type:"Syncfusion.RDL.DOM.DataValueInfo",Name:"",Field:"",DataField:"",DataId:"",TableId:"",TableName:"",FieldType:"",FieldActualType:"",SummaryType:"",Label:"",Value:"",FilterInfo:null,CustomSorting:null,MeasureFormatting:null,Sorting:"Ascending",DateTimeFormat:DateTimeFormat[DateTimeFormat.None],UniqueColumnName:"",IsKPIColumn:!1,KPIColumnInfo:KpiColumnInfo,IsShowAllRecords:!1,IsExpression:"",IsAggregatedExpression:""}},n.prototype.createSort=function(){return{__type:"Syncfusion.RDL.DOM.SortExpression",Value:"",Direction:"Ascending"}},n.prototype.createGroup=function(){return{__type:"Syncfusion.RDL.DOM.GroupExpression",Value:""}},n.prototype.wireEvents=function(){this.dataConfigRootContainer.on("click","#"+this.id+"_data_addDs",this.bbdesigner$.proxy(this.createNewDataSource,this));this.dataConfigRootContainer.on("blur",".bbi-datafield-edit-fieldName.bbi-normal-field",this.bbdesigner$.proxy(this.hideDisplayTextBox,this));this.dataConfigRootContainer.on("keypress",".bbi-datafield-edit-fieldName.bbi-normal-field",this.bbdesigner$.proxy(this.displayTextBoxKeyPress,this));this.dataConfigRootContainer.on("click","#"+this.id+"_addexpression_btn",this.bbdesigner$.proxy(this.openQueryExression,this));this.dataConfigRootContainer.on("blur",".e-treeview-textbox",this.bbdesigner$.proxy(this.UpdateDisplayNameForCustomHierarchyField,this));this.dataConfigRootContainer.on("keyup",".e-treeview-textbox",this.bbdesigner$.proxy(this.displayTextBoxKeyPressCustomHierarhy,this))},n.prototype.unWireEvents=function(){this.dataConfigRootContainer.off("click","#"+this.id+"_data_addDs",this.bbdesigner$.proxy(this.createNewDataSource,this));this.dataConfigRootContainer.off("blur",".bbi-datafield-edit-fieldName.bbi-normal-field",this.bbdesigner$.proxy(this.hideDisplayTextBox,this));this.dataConfigRootContainer.off("keypress",".bbi-datafield-edit-fieldName.bbi-normal-field",this.bbdesigner$.proxy(this.displayTextBoxKeyPress,this));this.dataConfigRootContainer.off("click","#"+this.id+"_addexpression_btn",this.bbdesigner$.proxy(this.openQueryExression,this));this.dataConfigRootContainer.off("blur",".e-treeview-textbox",this.bbdesigner$.proxy(this.UpdateDisplayNameForCustomHierarchyField,this));this.dataConfigRootContainer.off("keyup",".e-treeview-textbox",this.bbdesigner$.proxy(this.displayTextBoxKeyPressCustomHierarhy,this))},n.prototype.destroy=function(){this.unWireEvents()},n}();window.BoldBIDashboard.createObject("BoldBIDashboard.DashboardDesignerUtility.DataConfiguration",InternalDataConfiguration,window);DatesettingsValue=function(){function n(){this.values=""}return n}();MeasureCondition=function(){function n(){this.Values=[]}return n}(),function(n){n[n.Show=0]="Show";n[n.hidden=1]="hidden"}(Visibility||(Visibility={})),function(n){n.Widget="Widget"}(AjaxRequest||(AjaxRequest={}));window.BoldBIDashboard.Designer.settings={connection:{hidden:["Intercom","GenesysPureCloud","Basecamp3","Pinterest","Basecamp2","Twitter","EventBrite","REDCap","Projectplace","Vimeo","MicrosoftKaizala","CallRail","ChartBeat","Flurry","MixPanel","ApplicationInsights","MarkupTrace","Vertica"]},siteName:"Bold BI"};InternalDataCache=function(){function n(n){this.id=null;this.dataCached=!1;this.timeValue=null;this.dataCacheOn=!1;this.tempDataCacheState=!1;this.isCacheEnable=!1;this.timeExpire=30;this.dataCacheDialog=null;this.dataCacheContainer=null;this.locale=null;this.footerTag=null;this.dashboardDesigner=n;this.bbdesigner$=this.dashboardDesigner.bbdesigner$;this.locale=n.getLocalizationContent();this.id=this.dashboardDesigner._id;this.enableOrDisableDataCache(this.dashboardDesigner.cacheSettings);this.renderCacheDialog();this.wireEvents()}return n.prototype.enableOrDisableDataCache=function(n){n!=null&&n.isCacheEnable?(this.dataCacheOn=!0,this.timeExpire=n.timeExpire):this.dataCacheOn=!1},n.prototype.openDataCacheDialog=function(n){var t=this.dataCacheDialog.data("BoldBIDashboardDialog");BoldBIDashboard.isNullOrUndefined(t)||(t.open(),this.updateCacheDialog(n))},n.prototype.updateCacheDialog=function(n){n!=null&&(this.dataCacheDialog.find("#_off_rdo_input").prop("checked",n.isCacheEnable===!0?!1:!0),this.dataCacheDialog.find("#_on_rdo_input").prop("checked",n.isCacheEnable===!0?!0:!1),this.dataCacheDialog.find("#"+this.id+"_wdgt_data_cache_numeric").data("ejNumericTextbox").setModel({enabled:n.isCacheEnable===!0?!0:!1,value:n.isCacheEnable===!0?n.timeExpire:30}),this.tempDataCacheState=n.isCacheEnable)},n.prototype.renderCacheDialog=function(){var n=this.dataCacheDialog=BoldBIDashboard.buildTag("div.e-data-cache-dlg","",{},{id:this.id+"_data_cache_dialog"}),t=this.dataCacheContainer=BoldBIDashboard.buildTag("div.e-dbrd-data-cache-container","",{},{id:this.id+"_data_cache_container"}),i=BoldBIDashboard.buildTag("button.bbi-dbrd-btn-small bbi-dbrd-btn-primary",this.locale.dataSource.dataCacheApply,{float:"right"},{id:this.id+"container_data_cache_apply_button",type:"button"}),r=BoldBIDashboard.buildTag("button.bbi-dbrd-btn-small bbi-dbrd-btn-secondary bbi-dbrd-margin-left",this.locale.createCategoryDialog.cancelButtonText,{float:"right"},{id:this.id+"container_data_cache_cancel_button",type:"button"});this.cacheContainer(n,this.id+"_data_cache_container");t.append(this.dataCacheContainer);n.append(t);this.bbdesigner$(this.dashboardDesigner.element).append(this.dataCacheDialog);this.dataCacheDialog.BoldBIDashboardDialog({title:this.locale.dataSource.dataCacheTitle,width:"auto",height:"auto",minWidth:200,minHeight:200,enableResize:!1,showOnInit:!1,enableModal:!0,showFooter:!0,cssClass:"bbi-designer-dialog e-flat-mode boldbi-dashboarddesigner",close:this.bbdesigner$.proxy(BoldBIDashboard.DashboardUtil.closeDialog,this),containment:"#"+this.id,target:"#"+this.id,closeIconTooltip:this.locale.dialogOptions.closeButtonText});this.footerTag=this.dashboardDesigner.element.find("#"+this.id+"_data_cache_dialog_foot");this.footerTag.append(r,i)},n.prototype.cacheContainer=function(n,t){var u=BoldBIDashboard.buildTag("div","",{},{id:this.id+"_type_btn"}),i,f,r,e;n.append(u);i=BoldBIDashboard.buildTag("div","",{position:"relative",left:"4px",top:"7px"},{id:this.id+"_data_cache_min_div"});f=BoldBIDashboard.buildTag("label","Mins",{"font-size":"13px"});i.append(f);r=BoldBIDashboard.buildTag("div","",{position:"relative",top:"6px"},{id:this.id+"_data_cache_time_label_div"});e=BoldBIDashboard.buildTag("label",this.locale.dataSource.dataCacheTimeExpire,{},{id:this.id+"_wdgt_data_cache_text"});r.append(e);var o=BoldBIDashboard.buildTag("div","",{padding:"7px 14px","margin-top":"24px"},{id:t+"_btn_type_grp"}),s=BoldBIDashboard.buildTag("div","",{padding:"7px 14px","margin-top":"12px"},{id:t+"_btn_on_type_grp"}),h=BoldBIDashboard.buildTag("div","",{display:"flex","margin-top":"10px","margin-left":"48px"},{id:this.id+"_data_cache_time_div"}),c=BoldBIDashboard.buildTag("div","",{"margin-left":"11px"},{id:this.id+"_data_cache"}),l=BoldBIDashboard.buildTag("input","",{},{id:this.id+"_wdgt_data_cache_numeric"});c.append(l);h.append(r).append(c).append(i);var a=this.locale.dataSource,v={callBackInstance:this,callBackMethod:"selectionChangeEventHandler",groupName:"data-cache-type-modes",labelPosition:BoldBIDashboard.Dashboard.LabelPosition.After,dataSource:[{id:"_off",label:'<span class="bbi-data-cache-indicator">OFF<\/span>'+a.dataCacheOFFtext,isChecked:!this.isCacheEnable,value:"OFF"}]},y={callBackInstance:this,callBackMethod:"selectionChangeEventHandler",groupName:"data-cache-type-modes",labelPosition:BoldBIDashboard.Dashboard.LabelPosition.After,dataSource:[{id:"_on",label:'<span class="bbi-data-cache-indicator">ON<\/span>'+a.dataCacheONtext,isChecked:this.isCacheEnable,value:"ON"}]};u.append(o).append(s).append(h);this.offBtnObj=new BoldBIDashboard.Dashboard.RadioButton(v,o);this.oNBtnObj=new BoldBIDashboard.Dashboard.RadioButton(y,s);l.ejNumericTextbox({incrementStep:1,decimalPlaces:0,maxValue:60,minValue:1,value:this.timeExpire!=null?this.timeExpire:30,enabled:this.isCacheEnable,width:"128px"})},n.prototype.selectionChangeEventHandler=function(n){this.selectedType=n.args.value;var t=this.selectedType==="ON";this.dataCacheDialog.find("#"+this.id+"_wdgt_data_cache_numeric").data("ejNumericTextbox").setModel({enabled:t});this.tempDataCacheState=t},n.prototype.applyButtonClickEvent=function(){var t=this.dataCacheDialog.find("#"+this.id+"_wdgt_data_cache_numeric").val(),n;this.dataCached=this.tempDataCacheState;n=new CacheSettings;n.IsCacheEnable=this.dataCached;n.TimeExpire=t;BoldBIDashboard.isNullOrUndefined(this.dashboardDesigner.cacheSettings)?(this.isCacheEnable=this.dataCached,this.timeExpire=t):(this.dashboardDesigner.cacheSettings.isCacheEnable=this.dataCached,this.dashboardDesigner.cacheSettings.timeExpire=t);this.dashboardDesigner.modules.util.doAjaxPost("POST",this.dashboardDesigner.model.serviceUrl+BoldBIDashboard.Dashboard.ServiceAPI.processdata,{action:BoldBIDashboard.DashboardUtil.DesignerAction.editDataSetName,data:JSON.stringify({className:BoldBIDashboard.DashboardUtil.DesignerAction.DataCacheAction,designerAction:BoldBIDashboard.DashboardUtil.DesignerAction.GetDataCache,dataCache:n})},{});this.dataCacheDialog.data("BoldBIDashboardDialog").close()},n.prototype.closeDataCacheDialog=function(){this.dataCacheDialog.BoldBIDashboardDialog("close")},n.prototype.wireEvents=function(){this.dashboardDesigner.element.on("click","#"+this.id+"container_data_cache_apply_button",this.bbdesigner$.proxy(this.applyButtonClickEvent,this));this.dashboardDesigner.element.on("click","#"+this.id+"container_data_cache_cancel_button",this.bbdesigner$.proxy(this.closeDataCacheDialog,this))},n.prototype.unWireEvents=function(){this.dashboardDesigner.element.off("click","#"+this.id+"container_data_cache_apply_button",this.bbdesigner$.proxy(this.applyButtonClickEvent,this));this.dashboardDesigner.element.off("click","#"+this.id+"container_data_cache_cancel_button",this.bbdesigner$.proxy(this.closeDataCacheDialog,this))},n.prototype.destroy=function(){this.unWireEvents()},n}();window.BoldBIDashboard.createObject("BoldBIDashboard.DashboardDesignerUtility.DataCache",InternalDataCache,window);InternalDataAlertPanel=function(){function n(n){this.designerInstance=null;this.conditionNumbers=[];this.measureCollection=[];this.columnCollection=[];this.dimensionCollection=[];this.serverExpressions=[];this.scrollerSize={scrollSize:5,buttonSize:0};this.initialUI=new DataAlertArgs;this.localizationContent=null;this.customExpressionInstance=null;this.designerInstance=n;this.bbdesigner$=this.designerInstance.bbdesigner$;this.localizationContent=this.designerInstance.getLocalizationContent()}return n.prototype.renderDialogElements=function(n,t){BoldBIDashboard.isNullOrUndefined(t)||t===""?this.renderUIElements(n,t):this.getDataAlertAgrsModel(n,t)},n.prototype.renderUIElements=function(n){n.find("#"+this.designerInstance._id+"_designerDataAlert").length>0&&n.find("#"+this.designerInstance._id+"_designerDataAlert").remove();var t=BoldBIDashboard.buildTag("div.bbi-designer-data-alert boldbi-dashboarddesigner","",{},{id:this.designerInstance._id+"_designerDataAlert"});n.append(t);this.element=t;this.id=n.attr("id")+"_data_alert";this.daConditionalResult=this.bbdesigner$.extend(!0,{},new DaConditionalResult);this.dashboardWritePermission=BoldBIDashboard.isNullOrUndefined(this.designerInstance.model.canEditDashboard)?!1:this.designerInstance.model.canEditDashboard;this.dateRangePopup=this.designerInstance.modules.dateRangePopup;this.multiSelectionComboBox=new BoldBIDashboard.DashboardDesignerUtility.MultiSelectionComboBox(this.designerInstance);this.renderContentDialog();this.resizeDataAlertPanel();this.unWireEvents();this.wireEvents();this.designerInstance._trigger("actionComplete",{eventType:"renderDataAlert"})},n.prototype.getDataAlertAgrsModel=function(n,t){this.designerInstance.modules.util.doAjaxPost("POST",this.designerInstance.model.serviceUrl+BoldBIDashboard.Dashboard.ServiceAPI.updatedataalertmodel,{action:BoldBIDashboard.DashboardUtil.DesignerAction.DataAlertModel,data:t},{fnction:this.bbdesigner$.proxy(this.updateDataAlertAgrsModel,this,n,t)},!0,!0)},n.prototype.updateDataAlertAgrsModel=function(n,t,i){var r=JSON.parse(t);r=this.getDataAlertModel(i.Data,r);this.updateUI(r);this.renderUIElements(n,t)},n.prototype.updateUI=function(n){BoldBIDashboard.isNullOrUndefined(n)||(this.initialUI={widgetId:n.widgetId,category:n.category,daConditionalResult:n.daConditionalResult,datasourceId:n.datasourceId,daExpressionCollection:n.daExpressionCollection},this.serverExpressions=this.initialUI.daExpressionCollection)},n.prototype.resizeDataAlertPanel=function(){var n=(this.bbdesigner$(window).width()-this.element.width())/2;this.element.css("left",n+"px")},n.prototype.wireEvents=function(){this.dialogDiv.on("click",".bbi-color-custom-add-condition-wrapper",this.bbdesigner$.proxy(this.addCondition,this));this.dialogDiv.on("click",".bbi-color-dimension-where-condition",this.bbdesigner$.proxy(this.addWhereCondition,this));this.dialogDiv.on("click",".bbi-data-alert-condition-row .bbi-data-dimension-condition-content .bbi-data-alert-dimension-add",this.bbdesigner$.proxy(this.addWhereAgainCondition,this));this.dialogDiv.on("click",".bbi-data-alert-condition-row .bbi-data-dimension-condition-content .bbi-data-alert-dimension-remove",this.bbdesigner$.proxy(this.removedimensionWhereCondition,this));this.dialogDiv.on("click",".bbi-color-global-where-condition",this.bbdesigner$.proxy(this.addGlobalWhereCondition,this));this.dialogDiv.on("click",".bbi-custom-color-conditional-footer .bbi-data-add-global-conditions-parent .bbi-data-global-condition-content .bbi-data-alert-global-add",this.bbdesigner$.proxy(this.addGlobalWhereAgainCondition,this));this.dialogDiv.on("click",".bbi-custom-color-conditional-footer .bbi-data-add-global-conditions-parent .bbi-data-global-condition-content .bbi-data-alert-global-remove",this.bbdesigner$.proxy(this.removeGlobaldimensionWhereCondition,this));this.dialogDiv.on("click",".bbi-data-alert-measure-add-button",this.bbdesigner$.proxy(this.addComparisionDiv,this));this.dialogDiv.on("click",".bbi-data-alert-right-measure-condition .bbi-measure-condition-remove",this.bbdesigner$.proxy(this.removeComparisionDiv,this));this.dialogDiv.on("click",".bbi-data-alert-condition-row .bbi-data-alert-filter-div .bbi-data-alert-filter-remove",this.bbdesigner$.proxy(this.removeFilter,this));this.bbdesigner$(window).on("resize",this.bbdesigner$.proxy(this.resizeDataAlertPanel,this))},n.prototype.unWireEvents=function(){this.dialogDiv.off("click",".bbi-color-custom-add-condition-wrapper",this.bbdesigner$.proxy(this.addCondition,this));this.dialogDiv.off("click",".bbi-color-dimension-where-condition",this.bbdesigner$.proxy(this.addWhereCondition,this));this.dialogDiv.off("click",".bbi-data-alert-condition-row .bbi-data-dimension-condition-content .bbi-data-alert-dimension-add",this.bbdesigner$.proxy(this.addWhereAgainCondition,this));this.dialogDiv.off("click",".bbi-data-alert-condition-row .bbi-data-dimension-condition-content .bbi-data-alert-dimension-remove",this.bbdesigner$.proxy(this.removedimensionWhereCondition,this));this.dialogDiv.off("click",".bbi-color-global-where-condition",this.bbdesigner$.proxy(this.addGlobalWhereCondition,this));this.dialogDiv.off("click",".bbi-custom-color-conditional-footer .bbi-data-add-global-conditions-parent .bbi-data-global-condition-content .bbi-data-alert-global-add",this.bbdesigner$.proxy(this.addGlobalWhereAgainCondition,this));this.dialogDiv.off("click",".bbi-custom-color-conditional-footer .bbi-data-add-global-conditions-parent .bbi-data-global-condition-content .bbi-data-alert-global-remove",this.bbdesigner$.proxy(this.removeGlobaldimensionWhereCondition,this));this.dialogDiv.off("click",".bbi-data-alert-measure-add-button",this.bbdesigner$.proxy(this.addComparisionDiv,this));this.dialogDiv.off("click",".bbi-data-alert-right-measure-condition .bbi-measure-condition-remove",this.bbdesigner$.proxy(this.removeComparisionDiv,this));this.dialogDiv.off("click",".bbi-data-alert-condition-row .bbi-data-alert-filter-div .bbi-data-alert-filter-remove",this.bbdesigner$.proxy(this.removeFilter,this));this.bbdesigner$(window).off("resize",this.bbdesigner$.proxy(this.resizeDataAlertPanel,this))},n.prototype.addWhereCondition=function(n){var t=parseInt(this.bbdesigner$(n.currentTarget).parents(".bbi-data-alert-condition-row").attr("data-condition-num"),10),i=this.bbdesigner$(n.currentTarget).parents(".bbi-data-alert-condition-row").find(".bbi-data-dimension-condition-content").length;this.renderDimensionConditionDiv(t,null,i);this.bbdesigner$(n.currentTarget).parents(".bbi-data-add-dimension-where").css("display","none");this.refreshScroller()},n.prototype.addWhereAgainCondition=function(n){var t=parseInt(this.bbdesigner$(n.currentTarget).parents(".bbi-data-alert-condition-row").attr("data-condition-num"),10),i=this.bbdesigner$(n.currentTarget).parents(".bbi-data-alert-condition-row").find(".bbi-data-dimension-condition-content").length;this.renderDimensionConditionDiv(t,null,i);this.refreshScroller()},n.prototype.removedimensionWhereCondition=function(n){var t=this.bbdesigner$(n.currentTarget).parents(".bbi-data-alert-condition-row");t.find(".bbi-data-dimension-condition-content").length===1&&t.find(".bbi-data-add-dimension-where").css("display","block");this.bbdesigner$(n.currentTarget).parent(".bbi-data-dimension-condition-content").remove();this.refreshScroller()},n.prototype.addGlobalWhereCondition=function(n){var t=this.bbdesigner$(n.currentTarget).parents(".bbi-custom-color-conditional-footer").find(".bbi-data-global-condition-content").length;this.renderGlobalConditionDiv(null,t);this.bbdesigner$(n.currentTarget).css("display","none");this.refreshScroller()},n.prototype.removeGlobaldimensionWhereCondition=function(n){var i=this.bbdesigner$(n.currentTarget).parents(".bbi-custom-color-conditional-footer").find(".bbi-data-global-condition-content").length,t;i===1&&(t=this.bbdesigner$(n.currentTarget).parents(".bbi-custom-color-conditional-footer"),t.find(".bbi-color-global-where-condition").css("display","block"),t.find(".bbi-data-add-global-conditions-parent").css("display","none"));this.bbdesigner$(n.currentTarget).parent(".bbi-data-global-condition-content").remove();this.refreshScroller()},n.prototype.addGlobalWhereAgainCondition=function(n){var t=this.bbdesigner$(n.currentTarget).parents(".bbi-data-add-global-conditions-parent").find(".bbi-data-global-condition-content").length;this.renderGlobalConditionDiv(null,t);this.refreshScroller()},n.prototype.addComparisionDiv=function(n){var t=this.bbdesigner$(n.currentTarget);t.css("display","none");t.parents(".bbi-data-alert-condition-row").find(".bbi-data-alert-right-measure-condition").css("display","flex")},n.prototype.removeComparisionDiv=function(n){var t=this.bbdesigner$(n.currentTarget);t.parents(".bbi-data-measure-condition-content").find(".bbi-data-alert-measure-add-button").css("display","flex");t.parents(".bbi-data-alert-right-measure-condition").css("display","none")},n.prototype.addCondition=function(){var n=0;do n++;while(this.conditionNumbers.indexOf(n)>-1);this.renderConditiondiv(this.conditionalRangeBodyElement,n,null);this.updateRangeBodyElements();this.refreshScroller()},n.prototype.removeFilter=function(n){this.bbdesigner$(n.currentTarget).parents(".bbi-data-alert-condition-row").remove();var i=this.bbdesigner$(n.currentTarget).parents(".bbi-data-alert-condition-row").attr("id")[this.bbdesigner$(n.currentTarget).parents(".bbi-data-alert-condition-row").attr("id").length-1],t=this.conditionNumbers.indexOf(parseInt(i));t>-1&&this.conditionNumbers.splice(t,1);this.refreshScroller()},n.prototype.refreshScroller=function(){var n=this.conditionalContent.find("#"+this.id+"_advance_settings_coditional_range_scroller").data("BoldBIDashboardScroller");BoldBIDashboard.isNullOrUndefined(n)||n.refresh()},n.prototype.expBtnClick=function(){var n={dataSourceFields:this.dimensionCollection,customExpressions:this.serverExpressions,targetMethod:"updateCustomExpressions",id:this.id,targetObj:this.element,dataAlert:this};this.designerInstance._trigger("actionBegin",{eventType:"beforeOpenDaExpressionWindow"});this.customExpressionInstance=new BoldBIDashboard.DataAlert.CustomExpressions(n);this.customExpressionInstance.openExpression()},n.prototype.updateCustomExpressions=function(n){var t=this;this.serverExpressions=n;this.measureCollection=this.bbdesigner$.extend(!0,[],this.columnCollection);this.serverExpressions.forEach(function(n){var r,i,u;for(t.measureCollection.push({Caption:n.name,Id:n.name,IsServerExpression:!0,IsAggregatedExpression:!1,IsExpression:!1,IsKpiColumn:!1,SummaryType:"",ExpressionText:n.expression}),r=t.dialogDiv.find(".e-right-measure-dropdown.e-dropdownlist"),i=0;i<r.length;i++)u=t.bbdesigner$(r[i]),u.BoldBIDashboardDropDownList({dataSource:t.measureCollection})});this.customExpressionInstance=null;this.designerInstance._trigger("actionComplete",{eventType:"afterCloseDaExpressionWindow"})},n.prototype.saveDataAlertFilter=function(){var i,u,t,r,n,f;if(BoldBIDashboard.isNullOrUndefined(this.widgetId))this.dialogDiv.find(".bbi-data-alert-widget-error-message-container").css("display","block");else{for(this.dialogDiv.find(".bbi-data-err").toggleClass("bbi-data-err",!1),this.daConditionalResult=new DaConditionalResult,i=this.conditionalRangeBodyElement.find(".bbi-data-alert-condition-row"),n=0;n<i.length;n++)u=this.bbdesigner$(i[n]),t=this.getConditionalInfo(u),t.FilterName="Filter: "+this.conditionNumbers[n],t.FilterId=BoldBIDashboard.getGuid("").toString(),this.daConditionalResult.ConditionalInformations.ConditionalInfoColleciton.push(t);for(r=this.conditionalRangeFooterElement.find(".bbi-data-add-global-conditions-parent").find(".bbi-data-global-condition-content"),n=0;n<r.length;n++)f=this.getGlobalFilterInfo(this.bbdesigner$(r[n])),this.daConditionalResult.ConditionalInformations.GlobalFilters.push(f);if(this.dialogDiv.find(".bbi-data-err").length>0||this.daConditionalResult.ConditionalInformations.ConditionalInfoColleciton.length===0)return;this.evaluateCondition()}},n.prototype.dimensionTargetSelectionChange=function(n,t,i){var f;if(this.clearErrorMsg(),!BoldBIDashboard.isNullOrUndefined(i)&&!BoldBIDashboard.isNullOrUndefined(i.value)){var r=t?n.parents(".bbi-data-global-condition-content"):n.parents(".bbi-data-dimension-condition-content"),e=r.find(".e-data-alert-dimension-field-dropdown").data("BoldBIDashboardDropDownList"),u=r.find(".e-data-alert-actual-dropdown-span");BoldBIDashboard.isNullOrUndefined(e.model.selectedIndex)||this.dimensionCollection[e.model.selectedIndex].Type.toLocaleLowerCase()!=="datetime"?i.value==="CUSTOM"?(r.find(".bbi-data-alert-dimension-custom-value").css("display","block"),u.css("display","none")):(r.find(".bbi-data-alert-dimension-custom-value").css("display","none"),u.css("display","block")):(f=r.find(".e-data-alert-dimension-condition-dropdown").data("BoldBIDashboardDropDownList"),r.find(".bbi-data-alert-multi-selection-dropdown").css("display","block"),i.value!=="CUSTOM"||f.model.value===DateTimeFormat.Date.toString()||f.model.value===DateTimeFormat.RelativeDate.toString()?(r.find(".bbi-data-alert-dimension-custom-value").css("display","none"),u.css("display","none")):(r.find(".bbi-data-alert-dimension-custom-value").css("display","block"),r.find(".bbi-data-alert-multi-selection-dropdown").css("display","none"),u.css("display","none")))}},n.prototype.targetTypeSelectionChange=function(n,t,i,r){BoldBIDashboard.isNullOrUndefined(r)||BoldBIDashboard.isNullOrUndefined(r.itemId)||(r.itemId===1?(i.parents(".bbi-data-alert-right-measure-condition").find(".bbi-measure-condition-custom").css("display","block"),this.bbdesigner$("#"+this.id+"_rightmeasure_"+n+"_wrapper").css("display","none")):(i.parents(".bbi-data-alert-right-measure-condition").find(".bbi-measure-condition-custom").css("display","none"),this.bbdesigner$("#"+this.id+"_rightmeasure_"+n+"_wrapper").css("display","block")));this.clearErrorMsg()},n.prototype.renderContentDialog=function(){var t=BoldBIDashboard.buildTag("div.bbi-data-alert-dialog-container","",{},{id:this.id+"_data_alert_dialog_container"}),n,i;this.element.append(t);this.dialogDiv=BoldBIDashboard.buildTag("div.bbi-userselect bbi-designer-data-alert-container","",{},{id:this.id});t.append(this.dialogDiv);n=BoldBIDashboard.buildTag("div.bbi-userselect bbi-color-custom-advance-container bbi-dbrd-control bbi-dbrd-designer-scroll-style-3","",{height:"485px"},{id:this.id+"_container"});this.contentDiv=BoldBIDashboard.buildTag("div.bbi-color-custom-advance-content","",{},{id:this.id+"__content"});this.headerContent=BoldBIDashboard.buildTag("div.bbi-custom-color-header",this.getHeaderDiv(),{},{id:this.id+"_header"});i=BoldBIDashboard.buildTag("span.bbi-data-alert-widget-error-message-container","Please select a widget",{},{});this.renderHeaderWidgetDropDown(this.headerContent.find(".e-data-header-widget-dropdown"));this.headerContent.find(".bbi-header-row-widget").append(i);this.renderHeaderCategoryDropdown(this.headerContent.find(".e-data-header-category-dropdown"));this.bodyContent=BoldBIDashboard.buildTag("div.bbi-advance-condition-container","",{},{id:this.id+"_body"});this.conditionalContent=BoldBIDashboard.buildTag("div.bbi-color-conditional-UI","",{},{});this.bodyContent.append(this.conditionalContent);this.contentDiv.append(this.headerContent,this.bodyContent);n.append(this.contentDiv);this.dialogDiv.append(n);this.ejWaitingIndicator=this.dialogDiv.BoldBIDashboardWaitingPopup({showOnInit:!1,cssClass:"e-designer-waitingpopup bbi-designer-loader"}).data("BoldBIDashboardWaitingPopup")},n.prototype.renderHeaderWidgetDropDown=function(n){n.BoldBIDashboardDropDownList({dataSource:this.updateWidgetDataManager(n),watermarkText:this.localizationContent.dataAlert.widgetText,enableFilterSearch:!0,fields:{text:"Title",value:"Id"},change:this.bbdesigner$.proxy(this.widgetSelectionChange,this),actionComplete:this.bbdesigner$.proxy(this.widgetFetchCompelete,this),cssClass:"bbi-designer-ejwidgets bbi-designer-content-label bbi-dbrd-control e-data-alert-left-measure-dropdown-span",width:"200px",height:"28px"})},n.prototype.updateWidgetDataManager=function(n){var t=this,i=new BoldBIDashboard.Adaptor(null).extend({processQuery:this.bbdesigner$.proxy(this.processWidgetQuery,this,n),beforeSend:function(n,i){t.designerInstance.beforeSendRequestForDataManager("OnDemandDataAction",i)},processResponse:this.bbdesigner$.proxy(this.processWidgetResponse,this,n)});return new BoldBIDashboard.DataManager({url:this.designerInstance.model.serviceUrl+BoldBIDashboard.Dashboard.ServiceAPI.dagetallwidgets,adaptor:new i,crossDomain:!0})},n.prototype.processWidgetQuery=function(n,t){var i=n.parent().find(".e-select").addClass("e-atc").children();return i.addClass("e-load").addClass("e-input").addClass("e-icon"),i.css("background-position","center"),{url:t.dataSource.url,type:"POST",contentType:"application/json",data:""}},n.prototype.processWidgetResponse=function(n,t){var r=n.parent().find(".e-select").children(),i;if(r.removeClass("e-load").removeClass("e-input").removeClass("e-icon"),t.Status)return i=t.Data[0].WidgetInfoCollection,this.widgetInfoCollection=i,i;this.designerInstance.modules.util.alertDialog(this.localizationContent.dataAlert.dataAlertTitle,this.localizationContent.errorMessage.dataFetchingError,IconType.errors,AlertType.Alert,!0,t.Message)},n.prototype.widgetFetchCompelete=function(){BoldBIDashboard.isNullOrUndefined(this.initialUI.widgetId)||this.headerContent.find(".e-data-header-widget-dropdown").data("BoldBIDashboardDropDownList").selectItemByValue(this.initialUI.widgetId)},n.prototype.renderHeaderCategoryDropdown=function(n){n.BoldBIDashboardDropDownList({dataSource:this.getCategoryDS(),fields:{id:"Id",text:"text",value:"value"},selectedIndex:0,change:this.bbdesigner$.proxy(this.categorySelectionChange,this),cssClass:"bbi-designer-ejwidgets bbi-designer-content-label bbi-dbrd-control e-data-alert-left-measure-dropdown-span",width:"200px",height:"28px"})},n.prototype.getConditionalInfo=function(n){var t=new DaConditionalInfo,e=n.find(".e-data-alert-left-measure-dropdown").data("BoldBIDashboardDropDownList").model.selectedIndex,r,u,f,i,o,s;for(BoldBIDashboard.isNullOrUndefined(e)?n.find(".e-data-alert-left-measure-dropdown-span.e-in-wrap").addClass("bbi-data-err"):t.LeftOperand=this.measureCollection[e],t.ConditionJoinType=n.find(".e-data-alert-filter-join-dropdown").data("BoldBIDashboardDropDownList").model.value,n.find(".bbi-data-measure-condition-content").find(".bbi-data-alert-right-measure-condition").is(":visible")&&(r=n.find(".e-measure-condition-dropdown").data("BoldBIDashboardDropDownList").model.value,BoldBIDashboard.isNullOrUndefined(r)?n.find(".e-measure-condition-dropdown-span.e-in-wrap").addClass("bbi-data-err"):t.RelationalOperators=r,t.IsCustomValue=n.find(".e-measure-condition-type-dropdown").data("BoldBIDashboardDropDownList").model.selectedIndex===1,t.IsCustomValue?(t.CustomValue=n.find(".bbi-measure-condition-custom").val(),BoldBIDashboard.DashboardUtil.IsStringNullorWhiteSpace(t.CustomValue)&&n.find(".bbi-measure-condition-custom").addClass("bbi-data-err")):(u=n.find(".e-right-measure-dropdown").data("BoldBIDashboardDropDownList").model.selectedIndex,BoldBIDashboard.isNullOrUndefined(u)?n.find(".e-right-measure-dropdown-span.e-in-wrap").addClass("bbi-data-err"):t.RightOperand=this.measureCollection[u])),f=n.find(".bbi-data-add-dimension-conditions-parent").find(".bbi-data-dimension-condition-content"),i=0;i<f.length;i++)o=this.bbdesigner$(f[i]),s=this.getFilterInfo(o),t.Filters.push(s);return t},n.prototype.widgetSelectionChange=function(n){this.widgetId=this.widgetInfoCollection[n.model.selectedIndex].Id;this.datasourceId=this.widgetInfoCollection[n.model.selectedIndex].DatasourceId;this.conditionNumbers=[];this.conditionalContent.empty();this.populateConditionalFilterContent();var t=this.headerContent.find(".e-data-header-category-dropdown").data("BoldBIDashboardDropDownList");t.getSelectedValue()!==""&&(this.conditionCategory=t.getSelectedValue(),this.updateRangeBodyElements());this.clearErrorMsg();this.refreshScroller();BoldBIDashboard.isNullOrUndefined(this.initialUI.category)||this.headerContent.find(".e-data-header-category-dropdown").data("BoldBIDashboardDropDownList").selectItemByValue(this.initialUI.category);this.dashboardWritePermission&&this.getDimensionFields()},n.prototype.categorySelectionChange=function(n){BoldBIDashboard.isNullOrUndefined(this.conditionalRangeBodyElement)||(this.conditionCategory=n.model.value,this.updateRangeBodyElements());this.clearErrorMsg()},n.prototype.clearErrorMsg=function(){this.dialogDiv.find(".bbi-data-alert-widget-error-message-container").css("display","none");this.bbdesigner$(".bbi-data-err").removeClass("bbi-data-err")},n.prototype.updateRangeBodyElements=function(){BoldBIDashboard.isNullOrUndefined(this.conditionCategory)||(this.conditionCategory==="ValueChanges"?this.conditionalRangeBodyElement.find(".bbi-data-measure-condition-content").find(".bbi-data-alert-right-measure-condition").css("display","flex"):(this.conditionalRangeBodyElement.find(".bbi-data-measure-condition-content").find(".bbi-data-alert-right-measure-condition").css("display","none"),this.conditionalRangeBodyElement.find(".bbi-data-measure-condition-content").find(".bbi-data-alert-measure-add-button").css("display","none")))},n.prototype.getFilterInfo=function(n){var t=new DaFilter,u=n.find(".e-data-alert-dimension-field-dropdown").data("BoldBIDashboardDropDownList").model.selectedIndex;BoldBIDashboard.isNullOrUndefined(u)?n.find(".e-data-alert-dimension-field-dropdown-span.e-in-wrap").addClass("bbi-data-err"):t.FieldInfo=this.dimensionCollection[u];var f=n.find(".e-data-alert-dimension-condition-dropdown"),i=n.find(".e-data-alert-dimension-target-dropdown"),e=n.find(".e-data-alert-actual-dropdown"),r=n.find(".bbi-data-alert-dimension-custom-value");return t.FiltersJoinType=n.find(".e-data-alert-dimension-join-dropdown").data("BoldBIDashboardDropDownList").model.value,BoldBIDashboard.isNullOrUndefined(f.data("BoldBIDashboardDropDownList").model.selectedIndex)?n.find(".e-data-alert-dimension-condition-dropdown-span.e-in-wrap").addClass("bbi-data-err"):t.StringCondition.Conditions=f.data("BoldBIDashboardDropDownList").model.value,BoldBIDashboard.isNullOrUndefined(i.data("BoldBIDashboardDropDownList").model.selectedIndex)?n.find(".e-data-alert-dimension-target-dropdown-span.e-in-wrap").addClass("bbi-data-err"):t.StringCondition.ConditionType=i.data("BoldBIDashboardDropDownList").model.value,t.FieldInfo.Type.toLowerCase()!=="datetime"||BoldBIDashboard.isNullOrUndefined(t.StringCondition.ConditionType)?i.data("BoldBIDashboardDropDownList").model.selectedIndex===0?BoldBIDashboard.DashboardUtil.IsStringNullorWhiteSpace(e.data("BoldBIDashboardDropDownList").model.text)?n.find(".e-data-alert-actual-dropdown-span.e-in-wrap").addClass("bbi-data-err"):t.StringCondition.Values=e.data("BoldBIDashboardDropDownList").model.text.split(","):(t.StringCondition.Values.push(r.val()),r.val()===""&&r.addClass("bbi-data-err")):t=this.getDateFilterInfo(t,n),t},n.prototype.getDateFilterInfo=function(n,t){var e=t.find(".e-data-alert-dimension-target-dropdown"),r=t.find(".bbi-data-alert-dimension-custom-value"),u=t.find(".bbi-data-alert-multi-selection-dropdown"),f=t.find(".bbi-data-alert-customize-relative-button"),i;return e.data("BoldBIDashboardDropDownList").model.selectedIndex===0?n.StringCondition.Conditions===DateTimeFormat.Date.toString()?(i=this.dateRangePopup.getDateRangeValues(u.attr("id")),i.IsFilterApplied?n.StringCondition.DateInfo=this.getDateInfo(n.StringCondition.Conditions,!0,!1,i):u.find(".list.bbi-popup-button").addClass("bbi-data-err")):n.StringCondition.Conditions===DateTimeFormat.RelativeDate.toString()?(i=f.data("relativeDateInfo"),BoldBIDashboard.isNullOrUndefined(i)?f.addClass("bbi-data-err"):n.StringCondition.DateInfo=this.getDateInfo(n.StringCondition.Conditions,!0,!0,i)):(i=this.multiSelectionComboBox.getPopupContainerInformation(u.attr("id")),n.StringCondition.DateInfo=this.getDateInfo(n.StringCondition.Conditions,!1,!1,i)):r.val()===""?r.addClass("bbi-data-err"):(n.StringCondition.DateInfo=this.getDateInfo(n.StringCondition.Conditions,!0,!1,null),n.StringCondition.DateInfo.FilterValues.push(r.val())),n},n.prototype.getDateInfo=function(n,t,i,r){return{DateFormat:n,IsCheckAll:t?!1:r.IsCheckAll,IsInclude:t?!1:BoldBIDashboard.isNullOrUndefined(r)?!0:r.IsInclude,FilterValues:t?[]:r.FilterValues,CheckAllState:t?!1:r.CheckAllState,IsRelativeDate:i,RelativeDateFilter:i?r:null,DateFormatInfo:BoldBIDashboard.isNullOrUndefined(r)?null:{__type:"",DateFormatCondition:i?DateFormatOption.Range:r.DateFormatCondition,StartDate:r.StartDate,EndDate:r.EndDate}}},n.prototype.getGlobalFilterInfo=function(n){var t=new DaFilter,r=n.find(".e-data-alert-dimension-field-dropdown").data("BoldBIDashboardDropDownList").model.selectedIndex;BoldBIDashboard.isNullOrUndefined(r)?n.find(".e-data-alert-dimension-field-dropdown-span.e-in-wrap").addClass("bbi-data-err"):t.FieldInfo=this.dimensionCollection[r];var u=n.find(".e-data-alert-dimension-condition-dropdown"),f=n.find(".e-data-alert-dimension-target-dropdown"),e=n.find(".e-data-alert-actual-dropdown"),i=n.find(".bbi-data-alert-dimension-custom-value");return t.FiltersJoinType=n.find(".e-data-alert-dimension-join-dropdown").data("BoldBIDashboardDropDownList").model.value,BoldBIDashboard.isNullOrUndefined(u.data("BoldBIDashboardDropDownList").model.selectedIndex)?n.find(".e-data-alert-dimension-condition-dropdown-span.e-in-wrap").addClass("bbi-data-err"):t.StringCondition.Conditions=u.data("BoldBIDashboardDropDownList").model.value,BoldBIDashboard.isNullOrUndefined(f.data("BoldBIDashboardDropDownList").model.selectedIndex)?n.find(".e-data-alert-dimension-target-dropdown-span.e-in-wrap").addClass("bbi-data-err"):t.StringCondition.ConditionType=f.data("BoldBIDashboardDropDownList").model.value,t.FieldInfo.Type.toLowerCase()!=="datetime"||BoldBIDashboard.isNullOrUndefined(t.StringCondition.ConditionType)?n.find(".e-data-alert-dimension-target-dropdown").data("BoldBIDashboardDropDownList").model.selectedIndex===0?e.data("BoldBIDashboardDropDownList").model.selectedIndices.length>0?t.StringCondition.Values=e.data("BoldBIDashboardDropDownList").model.selectedIndices:n.find(".e-data-alert-actual-dropdown-span.e-in-wrap").addClass("bbi-data-err"):(t.StringCondition.Values[0]=i.val(),i.val()===""&&i.addClass("bbi-data-err")):t=this.getDateFilterInfo(t,n),t},n.prototype.populateConditionalFilterContent=function(){var i=BoldBIDashboard.buildTag("div.bbi-userselect bbi-dbrd-control bbi-dbrd-designer-scroller bbi-dbrd-designer-scroll-style-3","",{padding:"5px 0px 5px 12px"},{id:this.id+"_advance_settings_coditional_range_scroller"}),r=BoldBIDashboard.buildTag("div.bbi-userselect bbi-dbrd-control","",{},{id:this.id+"_advance_settings_coditional_range_scroller_child"}),t,u,f,e,n;if(this.conditionalRangeBodyElement=BoldBIDashboard.buildTag("div","",{},{id:this.id+"_conditional_range_body"}),this.dashboardWritePermission){t=BoldBIDashboard.buildTag("div.bbi-dataalert-custom-expression",this.localizationContent.dataAlert.createExpression,{},{id:this.id+"_custom_expression"});t.off("click",this.bbdesigner$.proxy(this.expBtnClick,this));t.on("click",this.bbdesigner$.proxy(this.expBtnClick,this));this.conditionalContent.append(t)}if(this.conditionalRangeFooterElement=BoldBIDashboard.buildTag("div.bbi-custom-color-conditional-footer","",{margin:"10px 0px 10px 0px"},{id:this.id+"_conditional_range_footer"}),r.append(this.conditionalRangeBodyElement,this.conditionalRangeFooterElement),i.append(r),this.conditionalContent.append(i),!BoldBIDashboard.isNullOrUndefined(this.initialUI.daConditionalResult)&&this.initialUI.daConditionalResult.ConditionalInformations.ConditionalInfoColleciton.length>0)for(n=0;n<this.initialUI.daConditionalResult.ConditionalInformations.ConditionalInfoColleciton.length;n++)u=parseInt(this.initialUI.daConditionalResult.ConditionalInformations.ConditionalInfoColleciton[n].FilterName.slice(-1)),this.renderConditiondiv(this.conditionalRangeBodyElement,u,this.initialUI.daConditionalResult.ConditionalInformations.ConditionalInfoColleciton[n]);else this.renderConditiondiv(this.conditionalRangeBodyElement,1,null);if(this.conditionalRangeFooterElement.find(".bbi-color-custom-add-condition-wrap").length===0&&this.conditionalRangeFooterElement.append(this.renderAddConditionDiv()),f=BoldBIDashboard.buildTag("div.bbi-data-add-global-where",this.getGlobalWhereConditionContent(),{},{}),this.conditionalRangeFooterElement.append(f),e=BoldBIDashboard.buildTag("div.bbi-data-add-global-conditions-parent","",{display:"none"},{id:this.id+"_global_condition"}),this.conditionalRangeFooterElement.append(e),!BoldBIDashboard.isNullOrUndefined(this.initialUI.daConditionalResult)&&!BoldBIDashboard.isNullOrUndefined(this.initialUI.daConditionalResult.ConditionalInformations.GlobalFilters)&&this.initialUI.daConditionalResult.ConditionalInformations.GlobalFilters.length>0)for(n=0;n<this.initialUI.daConditionalResult.ConditionalInformations.GlobalFilters.length;n++)this.renderGlobalConditionDiv(this.initialUI.daConditionalResult.ConditionalInformations.GlobalFilters[n],n);this.conditionalContent.css("height","380px");i.BoldBIDashboardScroller({height:"380px",scrollerSize:this.scrollerSize.scrollSize,enableTouchScroll:!0,autoHide:!0,buttonSize:this.scrollerSize.buttonSize})},n.prototype.renderAddConditionDiv=function(){return"<div class='bbi-color-custom-add-condition-wrapper'><div class='bbi-color-custom-add-condition'>"+this.localizationContent.colorCustomAdvanceLocale.addConditionText+"<\/div><\/div>"},n.prototype.renderConditiondiv=function(n,t,i){var u=BoldBIDashboard.buildTag("div.bbi-data-alert-condition-row","",{},{id:this.id+"_condition_"+t,"data-conditionId":this.id+"_condition_"+t,"data-condition-num":t}),e=BoldBIDashboard.buildTag("div.bbi-data-alert-join-div",this.getJoinTypeDiv(t),{},{}),h=BoldBIDashboard.buildTag("div.bbi-data-alert-filter-div",this.getFilterAreaContent(t),{},{}),r=BoldBIDashboard.buildTag("div.bbi-data-measure-condition-content",this.getMeasureConditionContent(t,i),{},{}),o,s,f;u.append(e,h,r);u.off("keypress",".bbi-measure-condition-custom",this.bbdesigner$.proxy(this.validateNumber,this));u.on("keypress",".bbi-measure-condition-custom",this.bbdesigner$.proxy(this.validateNumber,this));if(this.renderFilterjoinTypeDropdown(e.find(".e-data-alert-filter-join-dropdown"),i),this.renderLeftMeasureDropDown(r.find(".e-data-alert-left-measure-dropdown"),t,i),this.renderRightMeasureDropdown(r.find(".e-right-measure-dropdown"),i),this.renderRelationalConditionDropDown(r.find(".e-measure-condition-dropdown"),t,i),this.renderTargetTypeDropDown(r.find(".e-measure-condition-type-dropdown"),t,i),o=BoldBIDashboard.buildTag("div.bbi-data-add-dimension-where",this.getDimensionWhereConditionContent(),{},{}),s=BoldBIDashboard.buildTag("div.bbi-data-add-dimension-conditions-parent","",{id:this.id+"_dimension_condition_"+t},{}),u.append(o,s),BoldBIDashboard.isNullOrUndefined(i)?(r.find(".bbi-data-alert-measure-add-button").css("display","none"),r.find(".bbi-measure-condition-custom").css("display","none"),r.find(".e-right-measure-dropdown").css("display","none")):(i.IsCustomValue?r.find("#"+this.id+"_rightmeasure_"+t+"_wrapper").css("display","none"):r.find(".bbi-measure-condition-custom").css("display","none"),r.find(".bbi-data-alert-measure-add-button").css("display","none")),n.append(u),!BoldBIDashboard.isNullOrUndefined(i))for(f=0;f<i.Filters.length;f++)this.renderDimensionConditionDiv(t,i.Filters[f],f);this.conditionNumbers.push(t)},n.prototype.renderLeftMeasureDropDown=function(n,t,i){n.BoldBIDashboardDropDownList({dataSource:this.updateMeasureFieldDataManager(),watermarkText:this.localizationContent.dataAlert.columnSelect,enableFilterSearch:!0,fields:{id:"Id",text:"Caption",value:"SummaryType"},actionComplete:this.bbdesigner$.proxy(this.measureFetchComplete,this,i,n,"Left"),change:this.bbdesigner$.proxy(this.clearErrorMsg,this),cssClass:"bbi-designer-ejwidgets bbi-designer-content-label bbi-dbrd-control e-data-alert-left-measure-dropdown-span",width:"25%",height:"28px"})},n.prototype.updateMeasureFieldDataManager=function(){var n=this,t=new BoldBIDashboard.Adaptor(null).extend({processQuery:this.bbdesigner$.proxy(this.processQueryForMeasure,this),beforeSend:function(t,i){n.designerInstance.beforeSendRequestForDataManager("OnDemandDataAction",i)},processResponse:this.bbdesigner$.proxy(this.processResponseForMeasure,this)});return new BoldBIDashboard.DataManager({url:this.designerInstance.model.serviceUrl+BoldBIDashboard.Dashboard.ServiceAPI.dagetmeasurefields,adaptor:new t,crossDomain:!0})},n.prototype.processQueryForMeasure=function(n){return{url:n.dataSource.url,type:"POST",contentType:"application/json",data:JSON.stringify({widgetId:this.widgetId,datasourceId:this.datasourceId})}},n.prototype.processResponseForMeasure=function(n){if(n.Status){this.columnCollection=n.Data;var t=this.updateServerExpressionIntoColumn(n.Data);return this.measureCollection=t,t}},n.prototype.updateServerExpressionIntoColumn=function(n){return this.serverExpressions.length>0&&this.serverExpressions.forEach(function(t){n.push({Caption:t.name,Id:t.name,IsServerExpression:!0,IsAggregatedExpression:!1,IsExpression:!1,IsKpiColumn:!1,SummaryType:"",ExpressionText:t.expression})}),n},n.prototype.measureFetchComplete=function(n,t,i){BoldBIDashboard.isNullOrUndefined(n)||this.measureCollection.forEach(function(r,u){i==="Right"&&n.hasOwnProperty("RightOperand")&&r.Caption===n.RightOperand.Caption&&t.data("BoldBIDashboardDropDownList").selectItemsByIndices(u.toString());i==="Left"&&r.Caption===n.LeftOperand.Caption&&t.data("BoldBIDashboardDropDownList").selectItemsByIndices(u.toString())})},n.prototype.renderFilterjoinTypeDropdown=function(n,t){n.BoldBIDashboardDropDownList({dataSource:this.getJoinRelationDS(),watermarkText:this.localizationContent.dataAlert.columnSelect,enableFilterSearch:!0,fields:{text:"text",value:"value"},value:BoldBIDashboard.isNullOrUndefined(t)?"AND":t.ConditionJoinType,change:this.bbdesigner$.proxy(this.clearErrorMsg,this),cssClass:"bbi-designer-ejwidgets bbi-designer-content-label bbi-dbrd-control",width:"115px",height:"28px"})},n.prototype.renderRightMeasureDropdown=function(n,t){n.BoldBIDashboardDropDownList({dataSource:this.updateMeasureFieldDataManager(),watermarkText:this.localizationContent.dataAlert.columnSelect,enableFilterSearch:!0,fields:{id:"Id",text:"Caption",value:"SummaryType"},actionComplete:this.bbdesigner$.proxy(this.measureFetchComplete,this,t,n,"Right"),change:this.bbdesigner$.proxy(this.clearErrorMsg,this),cssClass:"bbi-designer-ejwidgets bbi-designer-content-label bbi-dbrd-control e-right-measure-dropdown-span",width:"40%",height:"28px"})},n.prototype.renderRelationalConditionDropDown=function(n,t,i){n.BoldBIDashboardDropDownList({dataSource:this.getMeasureFiledTypeDS(),watermarkText:this.localizationContent.dataAlert.columnSelect,enableFilterSearch:!0,fields:{text:"text",value:"value"},value:BoldBIDashboard.isNullOrUndefined(i)?null:i.RelationalOperators,change:this.bbdesigner$.proxy(this.clearErrorMsg,this),cssClass:"bbi-designer-ejwidgets bbi-designer-content-label bbi-dbrd-control e-measure-condition-dropdown-span",width:"25%",height:"28px"})},n.prototype.renderTargetTypeDropDown=function(n,t,i){n.BoldBIDashboardDropDownList({dataSource:["Condition","Custom"],watermarkText:this.localizationContent.dataAlert.selectTargetText,enableFilterSearch:!0,change:this.bbdesigner$.proxy(this.targetTypeSelectionChange,this,t,i,n),selectedIndex:BoldBIDashboard.isNullOrUndefined(i)?0:i.IsCustomValue?1:0,cssClass:"bbi-designer-ejwidgets bbi-designer-content-label bbi-dbrd-control e-measure-condition-type-dropdown-span",width:"25%",height:"28px"})},n.prototype.getMeasureFiledTypeDS=function(){return[{text:"Greater than",value:"GREATERTHAN"},{text:"Greater than or Equal to",value:"GREATERTHANOREQUALS"},{text:"Less than",value:"LESSTHAN"},{text:"Less than or Equal to",value:"LESSTHANOREQUALS"},{text:"Equal to",value:"EQUALS"},{text:"Not equal to",value:"NOTEQUALS"}]},n.prototype.getJoinRelationDS=function(){return[{text:"AND",value:"AND"},{text:"OR",value:"OR"},{text:"AND NOT",value:"ANDNOT"},{text:"OR NOT",value:"ORNOT"}]},n.prototype.getDimensionTargetTypeDS=function(){return[{text:"Actual",value:"ACTUAL"},{text:"Custom",value:"CUSTOM"}]},n.prototype.getCategoryDS=function(){return[{text:"Value Changes",value:"ValueChanges"},{text:"Increases",value:"Increases"},{text:"Continuously Increases",value:"ContinousIncreases"},{text:"Decreases",value:"Decreases"},{text:"Continuously Decreases",value:"ContinousDecreases"}]},n.prototype.getDimensionRelationDS=function(){return[{text:"Contains",value:"CONTAINS"},{text:"Starts with",value:"STARTSWITH"},{text:"Ends with",value:"ENDSWITH"},{text:"Not Contains",value:"NOTCONTAINS"},{text:"Includes",value:"INCLUDE"},{text:"Excludes",value:"EXCLUDE"}]},n.prototype.getDateFormatsList=function(){var n=[];return n.push({value:DateTimeFormat.Year,text:this.localizationContent.dataconfiguration.menuItems.year}),n.push({value:DateTimeFormat.Quarter,text:this.localizationContent.dataconfiguration.menuItems.quarter}),n.push({value:DateTimeFormat.Month,text:this.localizationContent.dataconfiguration.menuItems.month}),n.push({value:DateTimeFormat.MonthYear,text:this.localizationContent.dataconfiguration.menuItems.monthYear}),n.push({value:DateTimeFormat.WeekYear,text:this.localizationContent.dataconfiguration.menuItems.weekYear}),n.push({value:DateTimeFormat.QuarterYear,text:this.localizationContent.dataconfiguration.menuItems.quarterYear}),n.push({value:DateTimeFormat.DayMonthYear,text:this.localizationContent.dataconfiguration.menuItems.dayMonthYear}),n.push({value:DateTimeFormat.MonthDayYear,text:this.localizationContent.dataconfiguration.menuItems.monthDayYear}),n.push({value:DateTimeFormat.DateHour,text:this.localizationContent.dataconfiguration.menuItems.dateHour}),n.push({value:DateTimeFormat.DayOfWeek,text:this.localizationContent.dataconfiguration.menuItems.dayOfWeek}),n.push({value:DateTimeFormat.WeekOfYear,text:this.localizationContent.dataconfiguration.menuItems.weekOfYear}),n.push({value:DateTimeFormat.Day,text:this.localizationContent.dataconfiguration.menuItems.day}),n.push({value:DateTimeFormat.Hour,text:this.localizationContent.dataconfiguration.menuItems.hours}),n.push({value:DateTimeFormat.Minute,text:this.localizationContent.dataconfiguration.menuItems.minutes}),n.push({value:DateTimeFormat.Second,text:this.localizationContent.dataconfiguration.menuItems.seconds}),n.push({value:DateTimeFormat.Time,text:this.localizationContent.dataconfiguration.menuItems.time}),n.push({value:DateTimeFormatForFilter[DateTimeFormatForFilter.Date],text:this.localizationContent.dataconfiguration.menuItems.date}),n.push({value:DateTimeFormat.RelativeDate,text:this.localizationContent.dataconfiguration.menuItems.relativeDateOptionsDisplayName}),n},n.prototype.renderDimensionJoinTypeDropDown=function(n,t){n.BoldBIDashboardDropDownList({dataSource:["AND","OR"],watermarkText:this.localizationContent.dataAlert.columnSelect,enableFilterSearch:!0,fields:{id:"field",text:"field",value:"field"},change:this.bbdesigner$.proxy(this.clearErrorMsg,this),selectedIndex:BoldBIDashboard.isNullOrUndefined(t)?0:t.FiltersJoinType==="AND"?0:1,cssClass:"bbi-designer-ejwidgets bbi-designer-content-label bbi-dbrd-control bbi-data-alert-dimension-join-dropdown-span",width:"115px",height:"28px"})},n.prototype.renderDimensionActualDataDropDown=function(n,t,i){i===void 0&&(i=!1);n.BoldBIDashboardDropDownList({dataSource:[],watermarkText:this.localizationContent.dataAlert.columnSelect,enableFilterSearch:!0,multiSelectMode:BoldBIDashboard.MultiSelectMode.Delimiter,change:this.bbdesigner$.proxy(this.clearErrorMsg,this),actionComplete:this.bbdesigner$.proxy(i?this.actualDataDropDownFetchForGlobalFilter:this.actualDataDropDownFetch,this,n,t),cssClass:"bbi-designer-ejwidgets bbi-designer-content-label bbi-dbrd-control e-data-alert-actual-dropdown-span",width:"143px",height:"28px"})},n.prototype.actualDataDropDownFetch=function(n,t){BoldBIDashboard.isNullOrUndefined(t)||t.StringCondition.Values&&n.data("BoldBIDashboardDropDownList").selectItemByText(t.StringCondition.Values)},n.prototype.actualDataDropDownFetchForGlobalFilter=function(n,t){!BoldBIDashboard.isNullOrUndefined(t)&&t.StringCondition.Values&&t.StringCondition.ConditionType==="ACTUAL"&&n.data("BoldBIDashboardDropDownList").selectItemsByIndices(t.StringCondition.Values)},n.prototype.updateDataManagerForActualData=function(n,t){var i=this,r=new BoldBIDashboard.Adaptor(null).extend({processQuery:this.bbdesigner$.proxy(this.processQueryForActualData,this,n,t),beforeSend:function(n,t){i.designerInstance.beforeSendRequestForDataManager("OnDemandDataAction",t)},processResponse:this.bbdesigner$.proxy(this.processResponseForActualData,this,t)});return new BoldBIDashboard.DataManager({url:this.designerInstance.model.serviceUrl+BoldBIDashboard.Dashboard.ServiceAPI.dagetvaluesforselectedcolumn,adaptor:new r,crossDomain:!0})},n.prototype.processQueryForActualData=function(n,t,i){var r=t.find(".e-select").children();return r.addClass("e-load").addClass("e-input").addClass("e-icon"),r.css("background-position","center"),{url:i.dataSource.url,type:"POST",contentType:"application/json",data:JSON.stringify({datasourceId:this.datasourceId,datasourceFieldInfo:n})}},n.prototype.processResponseForActualData=function(n,t){var i=n.find(".e-select").children();return i.removeClass("e-load").removeClass("e-input").removeClass("e-icon"),t.Status?JSON.parse(t.Data):void 0},n.prototype.renderDimensionFieldDropDown=function(n,t){n.BoldBIDashboardDropDownList({dataSource:this.updateDataManager(),watermarkText:this.localizationContent.dataAlert.columnSelect,enableFilterSearch:!0,fields:{text:"Caption"},change:this.bbdesigner$.proxy(this.dimensionFieldSelectionChange,this,n,t,!1),actionComplete:this.bbdesigner$.proxy(this.dimensionFieldComplete,this,n,t),cssClass:"bbi-designer-ejwidgets bbi-designer-content-label bbi-dbrd-control e-data-alert-dimension-field-dropdown-span",width:"130px",height:"28px"})},n.prototype.dimensionFieldComplete=function(n,t){BoldBIDashboard.isNullOrUndefined(t)||this.dimensionCollection.forEach(function(i,r){i.Id===t.FieldInfo.Id&&n.data("BoldBIDashboardDropDownList").selectItemsByIndices(r.toString())})},n.prototype.renderGlobalFieldDropDown=function(n,t){n.BoldBIDashboardDropDownList({dataSource:this.updateDataManager(),watermarkText:this.localizationContent.dataAlert.columnSelect,enableFilterSearch:!0,fields:{text:"Caption"},change:this.bbdesigner$.proxy(this.dimensionFieldSelectionChange,this,n,t,!0),actionComplete:this.bbdesigner$.proxy(this.dimensionFieldComplete,this,n,t),cssClass:"bbi-designer-ejwidgets bbi-designer-content-label bbi-dbrd-control e-data-alert-dimension-field-dropdown-span",width:"130px",height:"28px"})},n.prototype.dimensionFieldSelectionChange=function(n,t,i,r){var u=i?n.parents(".bbi-data-global-condition-content"):n.parents(".bbi-data-dimension-condition-content"),f=u.find(".e-data-alert-dimension-condition-dropdown").data("BoldBIDashboardDropDownList"),e=u.find(".e-data-alert-dimension-target-dropdown").data("BoldBIDashboardDropDownList");this.dimensionCollection[r.model.selectedIndex].Type.toLowerCase()==="datetime"?(f.option("watermarkText",this.localizationContent.dataAlert.selectFormatText),f.option("dataSource",this.getDateFormatsList()),e.selectItemByIndex(0),BoldBIDashboard.isNullOrUndefined(t)?f.selectItemByIndex(0):f.selectItemByValue(t.StringCondition.Conditions),f.enable(),u.find(".e-data-alert-actual-dropdown-span").css("display","none"),u.find(".bbi-data-alert-multi-selection-dropdown").css("display",""),u.find(".bbi-multiselect-dropdown-item").attr("data-fieldText",this.dimensionCollection[r.model.selectedIndex].Caption),u.find(".bbi-multiselect-dropdown-item").attr("data-fieldValue",this.dimensionCollection[r.model.selectedIndex].Id)):this.dimensionCollection[r.model.selectedIndex].Type.toLowerCase()==="boolean"?(f.option("watermarkText",this.localizationContent.dataAlert.selectConditionText),e.enable(),f.disable(),u.find(".bbi-data-alert-multi-selection-dropdown").css("display","none"),u.find(".e-data-alert-actual-dropdown-span").css("display",""),f.selectItemByValue("INCLUDE"),this.updateValuesDropDown(u,r.model.selectedIndex)):(f.option("watermarkText",this.localizationContent.dataAlert.selectConditionText),f.option("dataSource",this.getDimensionRelationDS()),e.enable(),BoldBIDashboard.isNullOrUndefined(t)?f.selectItemByIndex(0):f.selectItemByValue(t.StringCondition.Conditions),f.enable(),u.find(".e-data-alert-actual-dropdown-span").css("display",this.updateDisplayofActualDropDown(t,e)?"none":""),u.find(".bbi-data-alert-multi-selection-dropdown").css("display","none"),u.find(".bbi-data-alert-customize-relative-button").css("display","none"),this.updateValuesDropDown(u,r.model.selectedIndex));this.clearErrorMsg()},n.prototype.updateDisplayofActualDropDown=function(n,t){return BoldBIDashboard.isNullOrUndefined(n)?BoldBIDashboard.isNullOrUndefined(t.model.selectedIndex):n.StringCondition.ConditionType==="CUSTOM"},n.prototype.updateValuesDropDown=function(n,t){var i=n.find(".e-data-alert-actual-dropdown"),r=i.data("BoldBIDashboardDropDownList"),u=i.parent().addClass("e-atc");r.option("dataSource",[]);this.bbdesigner$.extend(r.option("dataSource",this.updateDataManagerForActualData(this.dimensionCollection[t],u)))},n.prototype.updateElementsOnDimensionChange=function(n,t,i,r){var u=t?n.parents(".bbi-data-global-condition-content"):n.parents(".bbi-data-dimension-condition-content"),e=u.find(".e-data-alert-dimension-field-dropdown").data("BoldBIDashboardDropDownList"),f=u.find(".e-data-alert-dimension-target-dropdown").data("BoldBIDashboardDropDownList"),o=BoldBIDashboard.isNullOrUndefined(e.model.selectedIndex)?!1:this.dimensionCollection[e.model.selectedIndex].Type.toLowerCase()==="datetime";o?(this.updateTargetDropDownOnDate(i,f),u.find(".bbi-data-alert-multi-selection-dropdown").css("display",""),r.model.value===DateTimeFormat.Date?(u.find(".bbi-multiselect-dropdown-item").css("display","none"),u.find(".bbi-data-alert-customize-relative-button").css("display","none"),u.find(".list.bbi-popup-button").css("display",""),this.renderDatePopup(u,null,null,i)):r.model.value===DateTimeFormat.RelativeDate?(u.find(".list.bbi-popup-button").css("display","none"),u.find(".bbi-multiselect-dropdown-item").css("display","none"),u.find(".bbi-data-alert-customize-relative-button").css("display",""),this.updateRelativeDateInfo(u.find(".bbi-data-alert-customize-relative-button"),i)):(f.enable(),u.find(".bbi-data-alert-customize-relative-button").css("display","none"),u.find(".list.bbi-popup-button").css("display","none"),u.find(".bbi-multiselect-dropdown-item").attr("data-dateFormat",r.model.value),this.updateMultiSelectionComboBox(i,u))):f.enable();this.clearErrorMsg()},n.prototype.updateMultiSelectionComboBox=function(n,t){var i=t.find(".bbi-data-alert-multi-selection-dropdown"),r;BoldBIDashboard.isNullOrUndefined(n)?(t.find(".bbi-multiselect-dropdown-item").css("display",""),this.multiSelectionComboBox.populateMultiSelectionItem(i.attr("id"),null)):n.StringCondition.ConditionType==="CUSTOM"?(r=t.find(".bbi-data-alert-dimension-custom-value"),this.multiSelectionComboBox.populateMultiSelectionItem(i.attr("id"),null),t.find(".bbi-multiselect-dropdown-item").css("display","none"),r.css("display","block"),r.val(n.StringCondition.DateInfo.FilterValues[0])):(t.find(".bbi-multiselect-dropdown-item").css("display",""),this.multiSelectionComboBox.populateMultiSelectionItem(i.attr("id"),n.StringCondition.DateInfo))},n.prototype.updateTargetDropDownOnDate=function(n,t){BoldBIDashboard.isNullOrUndefined(n)?t.selectItemByIndex(0):t.selectItemByValue(n.StringCondition.ConditionType);t.disable()},n.prototype.updateRelativeDateInfo=function(n,t){BoldBIDashboard.isNullOrUndefined(t)?n.data("relativeDateInfo",null):n.data("relativeDateInfo",t.StringCondition.DateInfo.RelativeDateFilter)},n.prototype.renderRelativeDateDialog=function(n,t){var r=n.find(".e-data-alert-dimension-field-dropdown").data("BoldBIDashboardDropDownList"),u,f,i,e=this.bbdesigner$(t.currentTarget).data("relativeDateInfo");BoldBIDashboard.isNullOrUndefined(e)?(u=this.dimensionCollection[r.model.selectedIndex].Id,f=this.dimensionCollection[r.model.selectedIndex].Caption,i=new RelativeDateFilterInfo,i.ColumnId=u,i.ColumnName=f):i=e;this.designerInstance._trigger("actionBegin",{eventType:"beforeOpenDaRelativeDateDialog"});this.designerInstance.modules.relativeDateFilter.openRelativeDateFilter(this,"relativeDateFilterAction",i,null,null,t.currentTarget.id);this.updaterelativeDialogScreen()},n.prototype.updaterelativeDialogScreen=function(){var n=this.bbdesigner$("#"+this.designerInstance._id+"_relative_date_filter"),t=this.bbdesigner$("#"+this.designerInstance._id+"_relative_date_filter_overLay");n.BoldBIDashboardDialog({allowDraggable:!1});n.BoldBIDashboardDialog({beforeClose:this.bbdesigner$.proxy(this.updateFooterButton,this)});t.css("opacity","0")},n.prototype.updateFooterButton=function(){this.designerInstance._trigger("actionComplete",{eventType:"afterCloseDaRelativeDateDialog"})},n.prototype.relativeDateFilterAction=function(n,t,i,r){this.conditionalContent.find("#"+r).data("relativeDateInfo",n)},n.prototype.renderDatePopup=function(n,t,i,r){var f;t===void 0&&(t=null);i===void 0&&(i=null);r===void 0&&(r=null);var u=n.find(".bbi-data-alert-multi-selection-dropdown"),e=n.find(".e-data-alert-dimension-field-dropdown").data("BoldBIDashboardDropDownList"),o=BoldBIDashboard.isNullOrUndefined(r)?null:r.StringCondition.DateInfo.DateFormatInfo;t=BoldBIDashboard.isNullOrUndefined(t)?this.dimensionCollection[e.model.selectedIndex].Id:t;i=BoldBIDashboard.isNullOrUndefined(i)?this.dimensionCollection[e.model.selectedIndex].Caption:i;f=u.attr("id");this.dateRangePopup.updateDateFormat();u.find("#"+f+"_dimension_filter_date_dateRange_multidDrpDwn").length>0?this.dateRangePopup.populateDateRangeDrpDwn(f+"_dimension_filter_date",u,this.datasourceId,{Id:t,Name:i},o,"DimensionFilter",u.width()):this.dateRangePopup.renderDateRangeDrpDwn(f+"_dimension_filter_date",u,this.datasourceId,{Id:t,Name:i},o,"DimensionFilter",u.width());u.find("#"+f+"_dimension_filter_date_dateRange_multidDrpDwn").css("display","block")},n.prototype.updateDataManager=function(){var n=this,t=new BoldBIDashboard.Adaptor(null).extend({processQuery:this.bbdesigner$.proxy(this.processQuery,this),beforeSend:function(t,i){n.designerInstance.beforeSendRequestForDataManager("OnDemandDataAction",i)},processResponse:this.bbdesigner$.proxy(this.processResponse,this)});return new BoldBIDashboard.DataManager({url:this.designerInstance.model.serviceUrl+BoldBIDashboard.Dashboard.ServiceAPI.dagetdatasourcefields,adaptor:new t,crossDomain:!0})},n.prototype.processQuery=function(n){return{url:n.dataSource.url,type:"POST",contentType:"application/json",data:JSON.stringify({datasourceId:this.datasourceId,widgetId:this.dashboardWritePermission?null:this.widgetId})}},n.prototype.processResponse=function(n){if(n.Status){var t=n.Data.fieldValues;return this.datasourcePublishId=n.Data.publishId,this.dimensionCollection=t,t}},n.prototype.renderDimensionConditionDropDown=function(n,t,i){n.BoldBIDashboardDropDownList({dataSource:this.getDimensionRelationDS(),watermarkText:this.localizationContent.dataAlert.selectConditionText,enableFilterSearch:!0,fields:{text:"text",value:"value"},change:this.bbdesigner$.proxy(this.updateElementsOnDimensionChange,this,n,i,t),value:BoldBIDashboard.isNullOrUndefined(t)?null:t.StringCondition.Conditions,cssClass:"bbi-designer-ejwidgets bbi-designer-content-label bbi-dbrd-control e-data-alert-dimension-condition-dropdown-span",width:"165px",height:"28px"})},n.prototype.renderDimensionTargetDropDown=function(n,t,i){n.BoldBIDashboardDropDownList({dataSource:this.getDimensionTargetTypeDS(),watermarkText:this.localizationContent.dataAlert.selectTargetText,enableFilterSearch:!0,change:this.bbdesigner$.proxy(this.dimensionTargetSelectionChange,this,n,i),selectedIndex:BoldBIDashboard.isNullOrUndefined(t)?null:t.StringCondition.ConditionType==="ACTUAL"?0:1,cssClass:"bbi-designer-ejwidgets bbi-designer-content-label bbi-dbrd-control e-data-alert-dimension-target-dropdown-span",width:"16.66667%",height:"28px"})},n.prototype.evaluateCondition=function(){this.ejWaitingIndicator.show();this.designerInstance.modules.util.doAjaxPost("POST",this.designerInstance.model.serviceUrl+BoldBIDashboard.Dashboard.ServiceAPI.daevaluatecondition,{action:BoldBIDashboard.DashboardUtil.DesignerAction.DataAlertModel,data:JSON.stringify({widgetId:this.widgetId,datasourceId:this.datasourceId,conditionalResult:this.daConditionalResult,conditionCategory:this.conditionCategory})},{fnction:this.bbdesigner$.proxy(this.updateEvalauationResult,this)},!0,!0)},n.prototype.updateEvalauationResult=function(n){this.ejWaitingIndicator.hide();n.Status?(this.daConditionalResult.OverallResult=!0,this.designerInstance._trigger("afterEvaluateDataAlert",{IsValidModel:this.daConditionalResult.OverallResult,DaJsonString:JSON.stringify(this.getDataAlertModel(n.Data,null)),Filters:n.Data.Filters,DataSourceId:this.datasourcePublishId})):(this.daConditionalResult.OverallResult=!1,this.designerInstance.modules.util.alertDialog("Data Alert",n.Message,IconType.errors,AlertType.Alert,!1,""))},n.prototype.getDataAlertModel=function(n,t){var i=this,u=n.DaColumnConditionInfo,r=n.DaGlobalConditionInfo;return t=BoldBIDashboard.isNullOrUndefined(t)?this.generateDataAlertArgsModel():t,t.daConditionalResult.ConditionalInformations.ConditionalInfoColleciton.forEach(function(n,t){n.Filters.forEach(function(n,r){n=i.updateValue(n,u[t].Filters[r])})}),r.length>0&&t.daConditionalResult.ConditionalInformations.GlobalFilters.forEach(function(n,t){n=i.updateValue(n,r[t])}),t},n.prototype.updateValue=function(n,t){return BoldBIDashboard.isNullOrUndefined(n.StringCondition.DateInfo)||BoldBIDashboard.isNullOrUndefined(t.StringCondition.DateInfo.DateFormatInfo)||(n.StringCondition.DateInfo.DateFormatInfo.StartDate=t.StringCondition.DateInfo.DateFormatInfo.StartDate,n.StringCondition.DateInfo.DateFormatInfo.EndDate=t.StringCondition.DateInfo.DateFormatInfo.EndDate,n.StringCondition.DateInfo.IsRelativeDate&&(n.StringCondition.DateInfo.RelativeDateFilter.AnchorDate=t.StringCondition.DateInfo.RelativeDateFilter.AnchorDate)),n},n.prototype.getMeasureFields=function(){this.designerInstance.modules.util.doAjaxPost("POST",this.designerInstance.model.serviceUrl+BoldBIDashboard.Dashboard.ServiceAPI.dagetmeasurefields,{action:BoldBIDashboard.DashboardUtil.DesignerAction.DataAlertModel,data:JSON.stringify({widgetId:this.widgetId,datasourceId:this.datasourceId})},{fnction:this.bbdesigner$.proxy(this.updateMeasureCollection,this)},!0,!0)},n.prototype.updateMeasureCollection=function(n){n.Status&&(this.measureCollection=n.Data)},n.prototype.getDimensionFields=function(){this.designerInstance.modules.util.doAjaxPost("POST",this.designerInstance.model.serviceUrl+BoldBIDashboard.Dashboard.ServiceAPI.dagetdatasourcefields,{action:BoldBIDashboard.DashboardUtil.DesignerAction.DataAlertModel,data:JSON.stringify({datasourceId:this.datasourceId})},{fnction:this.bbdesigner$.proxy(this.updateDimensionCollection,this)},!0,!0)},n.prototype.updateDimensionCollection=function(n){n.Status&&(this.dimensionCollection=n.Data.fieldValues,this.datasourcePublishId=n.Data.publishId)},n.prototype.getMeasureConditionContent=function(n,t){var i;return i=BoldBIDashboard.isNullOrUndefined(t)?"":t.IsCustomValue?t.CustomValue:"","<input id="+this.id+"_condition_type_drpdwn_"+n+" data-condition-number="+n+" type ='text' class= 'e-data-alert-left-measure-dropdown'/><\/input><input id="+this.id+"_add_target_button_"+n+" type='button' value='Add Comparison Target' class = 'bbi-dbrd-btn-small bbi-dbrd-btn-primary bbi-data-alert-measure-add-button'><\/input><div class = 'bbi-data-alert-right-measure-condition'><input id="+this.id+"_conditiontype_"+n+" class='e-measure-condition-dropdown'><\/input><input id="+this.id+"_type_"+n+" class='e-measure-condition-type-dropdown'><\/input><input id="+this.id+"_customvalue_"+n+" value='"+i+"'  class='bbi-measure-condition-custom e-textbox'><\/input><input id="+this.id+"_rightmeasure_"+n+" class='e-right-measure-dropdown'><\/input><span class = 'bbi-measure-condition-remove'>&nbsp;<\/span><\/div>"},n.prototype.getConditionLabelName=function(n){return"Filter :  "+n},n.prototype.getFilterAreaContent=function(n){return"<span class = 'bbi-data-alert-filter-text'>"+this.getConditionLabelName(n)+"<\/span><span class = 'bbi-data-alert-filter-remove'>&nbsp;<\/span>"},n.prototype.getJoinTypeDiv=function(n){return"<input id="+this.id+n+"_filter_jointype_drpdwn_ data-condition-number="+n+" type ='text' class= 'e-data-alert-filter-join-dropdown'><\/input>"},n.prototype.getDimensionWhereConditionContent=function(){return"<div class='bbi-color-dimension-where-condition'>"+this.localizationContent.dataAlert.addWhereCondition+"<\/div>"},n.prototype.renderDimensionConditionDiv=function(n,t,i){var r=BoldBIDashboard.buildTag("div.bbi-data-dimension-condition-content",this.getDimensionConditionDiv(n,t,i),{"data-filter-number":i,"data-condition-number":n},{}),u=r.find(".bbi-data-alert-multi-selection-dropdown");this.renderDimensionJoinTypeDropDown(r.find(".e-data-alert-dimension-join-dropdown"),t);this.renderDimensionActualDataDropDown(r.find(".e-data-alert-actual-dropdown"),t);this.renderDimensionFieldDropDown(r.find(".e-data-alert-dimension-field-dropdown"),t);this.renderDimensionConditionDropDown(r.find(".e-data-alert-dimension-condition-dropdown"),t,!1);this.renderDimensionTargetDropDown(r.find(".e-data-alert-dimension-target-dropdown"),t,!1);this.multiSelectionComboBox.renderMultiSelectionComboBox(u,u.attr("id"),this.datasourceId);this.bbdesigner$("#"+this.id+"_condition_"+n).find(".bbi-data-add-dimension-conditions-parent").append(r);r.find(".bbi-data-alert-customize-relative-button").off("click",this.bbdesigner$.proxy(this.renderRelativeDateDialog,this,r));r.find(".bbi-data-alert-customize-relative-button").on("click",this.bbdesigner$.proxy(this.renderRelativeDateDialog,this,r));BoldBIDashboard.isNullOrUndefined(t)?(this.bbdesigner$("#"+this.id+n+"_dimension_actual_drpdwn_"+i+"_wrapper").css("display","none"),r.find(".bbi-data-alert-dimension-custom-value").css("display","none"),r.find(".bbi-data-alert-multi-selection-dropdown").css("display","none"),r.find(".bbi-data-alert-customize-relative-button").css("display","none")):(t.StringCondition.ConditionType==="ACTUAL"?r.find(".bbi-data-alert-dimension-custom-value").css("display","none"):this.bbdesigner$("#"+this.id+n+"_dimension_actual_drpdwn_"+i+"_wrapper").css("display","none"),this.bbdesigner$(".bbi-data-add-dimension-where").css("display","none"),this.refreshScroller())},n.prototype.getDimensionConditionDiv=function(n,t,i){var r="";return BoldBIDashboard.isNullOrUndefined(t)||(r=t.StringCondition.ConditionType==="ACTUAL"?"":t.StringCondition.Values.toString()),"<div id="+this.id+n+"_dimension-remove_"+i+" data-condition-number="+n+" class= 'bbi-data-alert-dimension-remove'><\/div><input id="+this.id+n+"_dimension_jointype_drpdwn_"+i+" data-condition-number="+n+" type ='text' class= 'e-data-alert-dimension-join-dropdown'><\/input><div id="+this.id+n+"_dimension-where-text_"+i+" data-condition-number="+n+" class= 'bbi-data-alert-dimension-where'>Where<\/div><input id="+this.id+n+"_dimension_field_drpdwn_"+i+" data-condition-number="+n+" type ='text' class= 'e-data-alert-dimension-field-dropdown'><\/input><input id="+this.id+n+"_dimension_condition_drpdwn_"+i+" data-condition-number="+n+" type ='text' class= 'e-data-alert-dimension-condition-dropdown'><\/input><input id="+this.id+n+"_dimension_target_drpdwn_"+i+" data-condition-number="+n+" type ='text' class= 'e-data-alert-dimension-target-dropdown'><\/input><input id="+this.id+n+"_dimension_custom_value_"+i+" data-condition-number="+n+" type ='text' value ='"+r+"' class= 'bbi-data-alert-dimension-custom-value e-textbox'><\/input><input id="+this.id+n+"_dimension_actual_drpdwn_"+i+" data-condition-number="+n+" type ='text' class= 'e-data-alert-actual-dropdown'><\/input><div id="+this.id+n+"_dimension_multi_selection_drpdwn_"+i+" data-condition-number="+n+" type ='text' class= 'bbi-data-alert-multi-selection-dropdown' style='width: 150px'><button id="+this.id+n+"_dimension_customize_relative_button_"+i+" data-condition-number="+n+" type ='button' class= 'bbi-data-alert-customize-relative-button bbi-dbrd-btn-small bbi-dbrd-btn-secondary'>Customize<\/button><\/div><div id="+this.id+n+"_dimension-add_"+i+" data-condition-number="+n+" class= 'bbi-data-alert-dimension-add'><\/div>"},n.prototype.getGlobalWhereConditionContent=function(){return"<div class='bbi-color-global-where-condition'>"+this.localizationContent.dataAlert.addGlobalWhereCondition+"<\/div>"},n.prototype.renderGlobalConditionDiv=function(n,t){var i=BoldBIDashboard.buildTag("div.bbi-data-global-condition-content",this.getGlobalConditionDiv(n,t),{"data-filter-number":t},{}),r;this.bbdesigner$("#"+this.id+"_global_condition").css("display","block").append(i);r=i.find(".bbi-data-alert-multi-selection-dropdown");this.renderDimensionJoinTypeDropDown(i.find(".e-data-alert-dimension-join-dropdown"),n);this.renderGlobalFieldDropDown(i.find(".e-data-alert-dimension-field-dropdown"),n);this.renderDimensionConditionDropDown(i.find(".e-data-alert-dimension-condition-dropdown"),n,!0);this.renderDimensionTargetDropDown(i.find(".e-data-alert-dimension-target-dropdown"),n,!0);this.renderDimensionActualDataDropDown(i.find(".e-data-alert-actual-dropdown"),n,!0);this.multiSelectionComboBox.renderMultiSelectionComboBox(r,r.attr("id"),this.datasourceId);i.find(".bbi-data-alert-customize-relative-button").off("click",this.bbdesigner$.proxy(this.renderRelativeDateDialog,this,i));i.find(".bbi-data-alert-customize-relative-button").on("click",this.bbdesigner$.proxy(this.renderRelativeDateDialog,this,i));BoldBIDashboard.isNullOrUndefined(n)?(this.bbdesigner$("#"+this.id+"_dimension_actual_drpdwn_"+t+"_wrapper").css("display","none"),i.find(".bbi-data-alert-dimension-custom-value").css("display","none"),i.find(".bbi-data-alert-multi-selection-dropdown").css("display","none"),i.find(".bbi-data-alert-customize-relative-button").css("display","none")):(n.StringCondition.ConditionType==="ACTUAL"?i.find(".bbi-data-alert-dimension-custom-value").css("display","none"):this.bbdesigner$("#"+this.id+"_dimension_actual_drpdwn_"+t+"_wrapper").css("display","none"),this.bbdesigner$(".bbi-data-add-global-where").css("display","none"),this.refreshScroller())},n.prototype.getHeaderDiv=function(){return"<div class = 'e-header-row bbi-header-row-widget'> <div class = 'e-header-row-label'>"+this.localizationContent.dataAlert.widgetTitle+" <\/div><input id="+this.id+"_header_widget_drpdwn type ='text' class= 'e-data-header-widget-dropdown bbi-data-header-header-dropdown'><\/input><\/div><div class = 'e-header-row'> <div class = 'e-header-row-label'>"+this.localizationContent.dataAlert.conditionTitle+" <\/div><input id="+this.id+"_header_category_drpdwn type ='text' class= 'e-data-header-category-dropdown bbi-data-header-header-dropdown'><\/input><\/div>"},n.prototype.getGlobalConditionDiv=function(n,t){var i="";return BoldBIDashboard.isNullOrUndefined(n)||(i=n.StringCondition.ConditionType==="ACTUAL"?"":n.StringCondition.Values.toString()),"<div id="+this.id+"_dimension-remove_"+t+" class= 'bbi-data-alert-global-remove'><\/div><input id="+this.id+"_dimension_jointype_drpdwn_"+t+" type ='text' class= 'e-data-alert-dimension-join-dropdown'><\/input><div id="+this.id+"_dimension-where-text_"+t+" class= 'bbi-data-alert-global-where'>Where<\/div><input id="+this.id+"_dimension_field_drpdwn_"+t+" type ='text' class= 'e-data-alert-dimension-field-dropdown'><\/input><input id="+this.id+"_dimension_condition_drpdwn_"+t+" type ='text' class= 'e-data-alert-dimension-condition-dropdown'><\/input><input id="+this.id+"_dimension_target_drpdwn_"+t+" type ='text' class= 'e-data-alert-dimension-target-dropdown'><\/input><input id="+this.id+"_dimension_custom_value_"+t+" type ='text' value ='"+i+"' class= 'bbi-data-alert-dimension-custom-value e-textbox'><\/input><input id="+this.id+"_dimension_actual_drpdwn_"+t+" type ='text' class= 'e-data-alert-actual-dropdown'><\/input><div id="+this.id+"_dimension_multi_selection_drpdwn_"+t+" data-condition-number= type ='text' class= 'bbi-data-alert-multi-selection-dropdown' style='width: 150px'><button id="+this.id+"_dimension_customize_relative_button_"+t+" data-condition-number= type ='button' class= 'bbi-data-alert-customize-relative-button bbi-dbrd-btn-small bbi-dbrd-btn-secondary'>Customize<\/button><\/div><div id="+this.id+"_dimension-add_"+t+" class= 'bbi-data-alert-global-add'><\/div>"},n.prototype.validateNumber=function(n){var t=n.keyCode;if(!(t===8)&&t>31&&(t<48||t>57)&&!(t===45)&&!(t===46))return!1},n.prototype.generateDataAlertArgsModel=function(){var n=new DataAlertArgs;return n.category=this.conditionCategory,n.daConditionalResult=this.daConditionalResult,n.datasourceId=this.datasourceId,n.widgetId=this.widgetId,n.daExpressionCollection=this.serverExpressions,n},n}();window.BoldBIDashboard.createObject("BoldBIDashboard.DashboardDesignerUtility.DataAlert",InternalDataAlertPanel,window);InternalDataAlertExpressions=function(){function n(n){this.id=null;this.oldVal="";this.oldExpName="";this.isAddButtonEnabled=!1;this.customExpressions=[];this.provider="";this.listContainer=null;this.expLiTag=null;this.bodyContainer=null;this.textBox=null;this.textArea=null;this.expressionContainer=null;this.addBtnTag=null;this.saveBtnTag=null;this.footerTag=null;this.expWaterMark="";this.successMessageLocale="";this.nameWaterMark="Expression Name";this.isAdd=!1;this.ejFunctionDropdown=null;this.ejColumnDropdown=null;this.ejFunctionList=null;this.ejColumnList=null;this.ejIndicator=null;this.scrollerSize={scrollSize:5,buttonSize:0};this.dataSourceFields=[];this.locale=null;this.aggregationList=["SUM","COUNT","AVG","MAX","MIN","VAR","STDEV","COUNTD","INDEX","TOTAL","TOTALPERCENTAGE","SUMD","AVGD","RUNNINGAVG","RUNNINGCOUNT","RUNNINGSUM","RUNNINGMAX","RUNNINGMIN","NULL"];this.rowExpression=["RUNNINGAVG","RUNNINGCOUNT","RUNNINGSUM","RUNNINGMAX","RUNNINGMIN"];this.bbdesigner$=BoldBIDashboardDesigner.bbdesignerstatic$;this.targetInstance=n.targetObj;this.targetMethod=n.targetMethod;this.serviceUrl=n.dataAlert.designerInstance.model.serviceUrl;this.customExpressions=n.customExpressions;this.dataSourceFields=n.dataSourceFields;this.dataAlert=n.dataAlert;this.id=n.id+"_expression";this.provider="SQL";this.locale=n.dataAlert.designerInstance.getLocalizationContent();this.expWaterMark=this.locale.queryExpressionDialog.QueryExpression;this.successMessageLocale=this.locale.queryExpressionDialog.successMessageNotification;this.renderQueryExpression()}return n.prototype.renderQueryExpression=function(){var b=BoldBIDashboard.buildTag("div.bbi-userselect bbi-data-alert-expression-header-container","",{},{id:this.id+"_exp_designer"}),t=BoldBIDashboard.buildTag("div","",{float:"left"},{id:this.id+"_exp_designer_div"}),f,k;b.append(t);var d=BoldBIDashboard.buildTag("table.bbi-querydesigner-exp-table","",{},{unselectable:"on"}),g=BoldBIDashboard.buildTag("tr","",{}),e=BoldBIDashboard.buildTag("td.bbi-querydesigner-exp-separator bbi-querydesigner-exp-td","",{"font-size":"13px"},{}),nt=BoldBIDashboard.buildTag("td","",{"margin-left":"12px"},{});t.append(d);d.append(g);g.append(e).append(nt);var n=BoldBIDashboard.buildTag("div","",{width:"175px",height:"490px"}),tt=this.expressionContainer=BoldBIDashboard.buildTag("div","",{"margin-left":"10px"},{id:this.id+"_exp_designer_container_exp"}),ci=BoldBIDashboard.buildTag("div","",{width:"175px",height:"40px"});e.append(n);nt.append(tt);e.append(ci);var o=BoldBIDashboard.buildTag("table.bbi-querydesigner-exp-table","",{width:"820px","padding-left":"8px"},{unselectable:"on"}),it=BoldBIDashboard.buildTag("tr","",{width:"590px"}),rt=BoldBIDashboard.buildTag("td","",{}),li=BoldBIDashboard.buildTag("label.bbi-designer-title-label",this.locale.expressionDesigner.nameText,{},{id:this.id+"_exp_designer_exp_name"}),ut=BoldBIDashboard.buildTag("tr","",{width:"590px"}),ft=BoldBIDashboard.buildTag("table","",{}),s=BoldBIDashboard.buildTag("tr","",{}),et=BoldBIDashboard.buildTag("td","",{}),h=this.textBox=BoldBIDashboard.buildTag("input.e-textbox bbi-designer-textbox","",{height:"30px",width:"240px","margin-top":"2px","margin-bottom":"5px"},{type:"text",id:this.id+"_exp_designer_textBox",spellcheck:"false"});rt.append(li);it.append(rt);et.append(h);s.append(et);ft.append(s);ut.append(ft);var ot=BoldBIDashboard.buildTag("tr","",{height:"150px",width:"590px"}),st=BoldBIDashboard.buildTag("tr","",{width:"590px",height:"30px"}),ht=BoldBIDashboard.buildTag("table","",{}),c=BoldBIDashboard.buildTag("tr","",{});ht.append(c);f=BoldBIDashboard.buildTag("td","",{});k=BoldBIDashboard.buildTag("label.bbi-designer-title-label",this.locale.expressionDesigner.expressionText,{display:"block","margin-top":"14px"},{id:this.id+"_exp_designer_trgt_name"});f.append(k);c.append(f);st.append(ht);var ct=BoldBIDashboard.buildTag("td","",{"font-size":"13px"},{}),l=this.textArea=BoldBIDashboard.buildTag("textarea.e-textarea bbi-designer-textarea","",{height:"130px",width:"785px",overflow:"auto"},{id:this.id+"_exp_designer_textarea",spellcheck:"false"}),lt=BoldBIDashboard.buildTag("tr","",{height:"300px",width:"590px"}),at=BoldBIDashboard.buildTag("td","",{display:"block"}),vt=BoldBIDashboard.buildTag("table.bbi-querydesigner-exp-innertable","",{height:"250px",width:"590px","margin-top":"6px","margin-bottom":"2px"}),yt=BoldBIDashboard.buildTag("tr","",{height:"35px",width:"590px"}),pt=BoldBIDashboard.buildTag("td","",{}),ai=BoldBIDashboard.buildTag("span.bbi-designer-title-label",this.locale.expressionDesigner.functionsText,{},{}),wt=BoldBIDashboard.buildTag("div","",{"margin-top":"6px",width:"210px"},{}),a=BoldBIDashboard.buildTag("input","",{"margin-top":"5px"},{id:this.id+"_exp_designer_options"}),vi=BoldBIDashboard.buildTag("div","",{},{id:this.id+"_exp_designer_option_div"}),bt=BoldBIDashboard.buildTag("td","",{}),yi=BoldBIDashboard.buildTag("div","",{height:"25px",margin:"25px 10px 0px -3px","border-left":"1px solid rgba(227, 227, 227, 1)"},{});bt.append(yi);var kt=BoldBIDashboard.buildTag("td","",{}),pi=BoldBIDashboard.buildTag("span.bbi-designer-title-label",this.locale.expressionDesigner.columnSettingsText,{"margin-left":"6px"},{}),dt=BoldBIDashboard.buildTag("div","",{"margin-top":"6px",width:"199px","margin-left":"6px"},{}),v=BoldBIDashboard.buildTag("input","",{height:"35px",width:"190px"},{id:this.id+"_exp_designer_data"}),wi=BoldBIDashboard.buildTag("div","",{},{id:this.id+"_exp_designer_data_div"}),bi=BoldBIDashboard.buildTag("td","",{height:"35px"}),gt=BoldBIDashboard.buildTag("tr","",{width:"590px"}),i=BoldBIDashboard.buildTag("td","",{width:"210px"},{}),ni=BoldBIDashboard.buildTag("td","",{}),ki=BoldBIDashboard.buildTag("div","",{height:"200px",margin:"-10px 10px 0px -3px","border-left":"1px solid rgba(227, 227, 227, 1)"},{});ni.append(ki);var r=BoldBIDashboard.buildTag("td","",{width:"205px"},{}),ti=BoldBIDashboard.buildTag("td","",{height:"190px"}),di=this.functionNoDataContainer=BoldBIDashboard.buildTag("div.bbi-querydesigner-function-nodata bbi-designer-empty-msg","",{width:"188px",height:"135px"},{id:this.id+"_function_nodata_container"}).text(this.locale.queryExpressionDialog.NoResultFound),ii=BoldBIDashboard.buildTag("div.bbi-querydesigner-function-search","",{width:"188px"},{id:this.id+"_div_functions_search"}),ri=BoldBIDashboard.buildTag("div.e-option-list","",{width:"205px","margin-top":"1px"},{}),gi=this.columnNoDataContainer=BoldBIDashboard.buildTag("div.bbi-querydesigner-column-nodata bbi-designer-empty-msg","",{width:"188px",height:"135px"},{id:this.id+"_column_nodata_container"}).text(this.locale.queryExpressionDialog.NoResultFound),ui=BoldBIDashboard.buildTag("div.bbi-querydesigner-column-search","",{width:"188px"},{id:this.id+"_div_columnsettings_search"}),y=BoldBIDashboard.buildTag("ul","",{},{id:this.id+"_exp_designer_option_list"}),fi=BoldBIDashboard.buildTag("div.e-data-list","",{width:"199px","margin-left":"6px","margin-top":"1px"},{}),p=BoldBIDashboard.buildTag("ul","",{},{id:this.id+"_exp_designer_data_list"}),ei=BoldBIDashboard.buildTag("div.bbi-designer-cursor","",{height:"200px",width:"355px","margin-right":"10px"},{id:this.id+"_cat_desc"}),nr=BoldBIDashboard.buildTag("div","",{height:"5px"},{}),tr=BoldBIDashboard.buildTag("div.bbi-designer-title-label","",{height:"auto"},{id:this.id+"_exp_designer_desc_heading"}),ir=BoldBIDashboard.buildTag("div","",{"text-align":"justify",height:"auto","font-size":"12px","margin-top":"8px"},{id:this.id+"_exp_designer_desc_content"}),rr=BoldBIDashboard.buildTag("div","",{height:"12px"},{}),ur=BoldBIDashboard.buildTag("div.bbi-designer-title-label","",{height:"auto"},{id:this.id+"_exp_designer_example_heading"}),fr=BoldBIDashboard.buildTag("div","",{float:"left","word-wrap":"break-word","margin-top":"8px",height:"auto","font-size":"12px",width:"190px"},{id:this.id+"_exp_designer_example_content"}),u=this.addBtnTag=BoldBIDashboard.buildTag("div.bbi-dbrd-dataalert-expression-add","",{},{id:this.id+"_exp_designer_add_btn"}),er=BoldBIDashboard.buildTag("span.bbi-dbrd-dataalert-expression-add-icon","",{},{}),or=BoldBIDashboard.buildTag("span.bbi-dbrd-dataalert-expression-add-text",this.locale.dataAlertExpression.addExpression,{},{});u.append(er,or);var oi=BoldBIDashboard.buildTag("td.bbi-querydesigner-success-msg-wrap","",{display:"none","margin-left":"465px"},{id:this.id+"_exp_success_message_wrap"}),sr=BoldBIDashboard.buildTag("span.bbi-querydesigner-success-message",this.successMessageLocale,{float:"initial"},{id:this.id+"_exp_success_message"}),hr=BoldBIDashboard.buildTag("span.bbi-querydesigner-success-message-icon","",{},{id:this.id+"_exp_success_message_icon"});this.saveBtnTag=BoldBIDashboard.buildTag("button.bbi-dbrd-btn-small bbi-dbrd-btn-primary",this.locale.expressionDesigner.saveBtnText,{float:"right"},{id:this.id+"_exp_designer_save_btn",type:"button"});c.append(oi);var w=this.bodyContainer=BoldBIDashboard.buildTag("div.e-lv e-js e-parentlv bbi-dbrd-designer-scroller bbi-dbrd-control bbi-dbrd-designer-scroll-style-3","",{width:"100%",height:n.height()-30,display:"block",position:"relative"},{id:this.id+"_exp_designer_bodyContainer"}),si=BoldBIDashboard.buildTag("div","",{},{}),hi=this.listContainer=BoldBIDashboard.buildTag("div.bbi-list-container e-js e-widget bbi-designer-dataset","",{"border-top-width":"1px",padding:"3px"},{id:this.id+"_div_expList"}),cr=this.expLiTag=BoldBIDashboard.buildTag("ul.e-list-hdr e-clearall","",{width:"auto",height:"auto"},{id:this.id+"_query_exp_li_container"});hi.append(cr);si.append(hi);w.append(si);n.append(w);n.append(u);ct.append(l);ot.append(ct);o.append(it).append(ut).append(st).append(ot);yt.append(bi).append(pt).append(bt).append(kt);pt.append(ai).append(wt);wt.append(a).append(vi);kt.append(pi).append(dt);dt.append(v).append(wi);vt.append(yt).append(gt);at.append(vt);lt.append(at);o.append(lt);i.append(ii);i.append(ri);i.append(di);ri.append(y);r.append(ui);r.append(fi);r.append(gi);fi.append(p);ti.append(ei);ei.append(nr).append(tr).append(ir).append(rr).append(ur).append(fr);gt.append(ti).append(i).append(ni).append(r);tt.append(o);this.footerTag=BoldBIDashboard.buildTag("td.e-foter","",{display:"flex","margin-left":"450px"},{id:this.id+"_exp_designer_foot"});s.append(this.footerTag);oi.append(hr,sr);this.footerTag.append(this.saveBtnTag);this.dataAlert.element.find("#"+this.dataAlert.id).append(b);a.BoldBIDashboardDropDownList({targetID:this.id+"_exp_designer_option_div",dataSource:[],popupHeight:"150px",minPopupWidth:"190px",showRoundedCorner:!0,cssClass:"bbi-designer-param-assign bbi-designer-ejwidgets bbi-designer-drpdown-selection bbi-dbrd-control",width:"190px",height:"28px",change:this.bbdesigner$.proxy(this.renderFunctionList,this)});v.BoldBIDashboardDropDownList({targetID:this.id+"_exp_designer_data_div",popupHeight:"150px",showRoundedCorner:!0,cssClass:"bbi-designer-param-assign bbi-designer-ejwidgets bbi-designer-drpdown-selection bbi-dbrd-control",minPopupWidth:"190px",fields:{id:"id",text:"name"},dataSource:[],width:"190px",height:"28px",change:this.bbdesigner$.proxy(this.renderColumnList,this)});y.BoldBIDashboardListBox({dataSource:[],height:"155px",change:this.bbdesigner$.proxy(this.optionClick,this),showRoundedCorner:!0,cssClass:"bbi-designer-param-assign bbi-designer-list-selection bbi-dbrd-control",width:"190px"});p.BoldBIDashboardListBox({dataSource:[],height:"155px",showRoundedCorner:!0,cssClass:"bbi-designer-param-assign bbi-designer-list-selection bbi-dbrd-control",width:"190px"});u.off("click",this.bbdesigner$.proxy(this.addExpression,this));this.saveBtnTag.off("click",this.bbdesigner$.proxy(this.saveExpression,this));u.on("click",this.bbdesigner$.proxy(this.addExpression,this));this.saveBtnTag.on("click",this.bbdesigner$.proxy(this.saveExpression,this));w.BoldBIDashboardScroller({scrollerSize:this.scrollerSize.scrollSize,height:n.height(),enableTouchScroll:!0,autoHide:!0,buttonSize:this.scrollerSize.buttonSize});t.BoldBIDashboardWaitingPopup({showOnInit:!1,cssClass:"e-designer-waitingpopup "+this.id+"_designer_waiting_popup bbi-designer-loader"});this.ejFunctionDropdown=a.data("BoldBIDashboardDropDownList");this.ejColumnDropdown=v.data("BoldBIDashboardDropDownList");this.ejFunctionList=y.data("BoldBIDashboardListBox");this.ejColumnList=p.data("BoldBIDashboardListBox");this.ejIndicator=t.data("BoldBIDashboardWaitingPopup");l.bind("change keyup paste",this.bbdesigner$.proxy(this.txtExpChanged,this));h.bind("change keyup paste",this.bbdesigner$.proxy(this.txtNameChanged,this));BoldBIDashboard.DashboardUtil.txtWaterMark(l,this.expWaterMark);BoldBIDashboard.DashboardUtil.txtWaterMark(h,this.nameWaterMark);this.wiredEvents();this.renderAutocomplete(ii,!0);this.renderAutocomplete(ui,!1)},n.prototype.closeDialog=function(){this.resetSearchBox();BoldBIDashboard.DashboardUtil.invokeMethod(this.targetInstance,this.targetMethod,[this.customExpressions])},n.prototype.renderAutocomplete=function(n,t){var r=BoldBIDashboard.buildTag("table.bbi-querydesigner-toolbar-table","",{width:"100%"}),u=this.bbdesigner$("<tr/>"),f=this.bbdesigner$("<td/>"),e=BoldBIDashboard.buildTag("span.e-atc e-widget","",{width:"100%",height:"28px"},{}),i=BoldBIDashboard.buildTag("span.e-in-wrap e-box e-padding bbi-designer-widget-autocomplete","",{},{}),h=this.expSearch=BoldBIDashboard.buildTag("input.bbi-autocomplete bbi-designer-widget-watermark bbi-designer-atc-boxshadow e-js e-input","",{},{type:"text",placeholder:this.locale.expressionDesigner.placeHolderText,id:t?this.id+"_function_search":this.id+"_column_search"}),o=this.expSearchIcon=BoldBIDashboard.buildTag("span.e-select bbi-designer-widget-autocomplete e-search-area","",{width:"24px",height:"30px"},{id:t?this.id+"_function_search-icon":this.id+"_column_search-icon"}),s;if(o.append(BoldBIDashboard.buildTag("span.bbi-headericon bbi-designer-search","",{display:"table-cell"})),i.append(o),i.append(h),e.append(i),s=BoldBIDashboard.buildTag("span.e-select bbi-designer-widget-select bbi-designer-widget-autocomplete","",{height:"30px"},{id:this.id+"_column_widgetClose"}),s.append("<span class='bbi-headericon e-reportdesigner-widget-left'/>"),f.append(e),u.append(f),r.append(u),n.append(r),this.functionSearchBox=this.expressionContainer.find("#"+this.id+"_function_search"),this.columnSearchBox=this.expressionContainer.find("#"+this.id+"_column_search"),this.functionSearchIcon=this.expressionContainer.find(".bbi-querydesigner-function-search .bbi-headericon"),this.functionListbox=this.expressionContainer.find("#"+this.id+"_exp_designer_option_list"),this.columnSearchIcon=this.expressionContainer.find(".bbi-querydesigner-column-search .bbi-headericon"),this.columnListbox=this.expressionContainer.find("#"+this.id+"_exp_designer_data_list"),this.functionListTd=this.expressionContainer.find(".e-option-list"),this.columnListTd=this.expressionContainer.find(".e-data-list"),t){this.expSearch.on("keyup",this.bbdesigner$.proxy(this.onSearchText,this,this.functionSearchIcon,this.functionListbox,!0));this.expSearch.on("blur",this.bbdesigner$.proxy(this.onSearchBlur,this,this.functionSearchIcon,this.functionListbox));this.expSearchIcon.on("click",this.bbdesigner$.proxy(this.onSearchCloseClick,this,this.functionSearchIcon,this.functionListbox,this.expSearch,!0));this.functionSearchBox.on("focus",this.bbdesigner$.proxy(this.onSearchTextBoxFocusIn,this,this.expressionContainer,!0));this.functionSearchBox.on("blur",this.bbdesigner$.proxy(this.onSearchTextBoxFocusOut,this,this.expressionContainer,!0))}else{this.expSearch.on("keyup",this.bbdesigner$.proxy(this.onSearchText,this,this.columnSearchIcon,this.columnListbox,!1));this.expSearch.on("blur",this.bbdesigner$.proxy(this.onSearchBlur,this,this.columnSearchIcon,this.columnListbox));this.expSearchIcon.on("click",this.bbdesigner$.proxy(this.onSearchCloseClick,this,this.columnSearchIcon,this.columnListbox,this.expSearch,!1));this.columnSearchBox.on("focus",this.bbdesigner$.proxy(this.onSearchTextBoxFocusIn,this,this.expressionContainer,!1));this.columnSearchBox.on("blur",this.bbdesigner$.proxy(this.onSearchTextBoxFocusOut,this,this.expressionContainer,!1))}},n.prototype.onSearchText=function(n,t,i,r){var u,f;r.keyCode!==13&&(u=this.bbdesigner$(r.target).val(),u.length>0?(n.addClass("bbi-designer-close").removeClass("bbi-designer-search"),f=this.filterItems(t.data("BoldBIDashboardListBox").model.dataSource,u),t.BoldBIDashboardListBox("hideAllItems"),t.BoldBIDashboardListBox("showItemsByIndices",f),this.setDisplayForListElements(i,f.length===0)):(t.BoldBIDashboardListBox("showAllItems"),this.setDisplayForListElements(i)))},n.prototype.onSearchBlur=function(n,t,i){var r=this.bbdesigner$(i.target).val();r.length===0&&(n.addClass("bbi-designer-search").removeClass("bbi-designer-close"),this.bbdesigner$(i.target).val(""),t.BoldBIDashboardListBox("showAllItems"))},n.prototype.onSearchCloseClick=function(n,t,i,r){i.val("");t.BoldBIDashboardListBox("showAllItems");n.addClass("bbi-designer-search").removeClass("bbi-designer-close");this.setDisplayForListElements(r)},n.prototype.onSearchTextBoxFocusIn=function(n,t){var i;t?(i=n.find(".bbi-querydesigner-function-search"),i.addClass("e-focus")):(i=n.find(".bbi-querydesigner-column-search"),i.addClass("e-focus"))},n.prototype.onSearchTextBoxFocusOut=function(n,t){var i;t?(i=n.find(".bbi-querydesigner-function-search"),i.hasClass("e-focus")&&i.removeClass("e-focus")):(i=n.find(".bbi-querydesigner-column-search"),i.hasClass("e-focus")&&i.removeClass("e-focus"))},n.prototype.setDisplayForListElements=function(n,t){n?(this.functionListTd.css("display",BoldBIDashboard.isNullOrUndefined(t)?"block":t?"none":"block"),this.functionNoDataContainer.css("display",BoldBIDashboard.isNullOrUndefined(t)?"none":t?"block":"none")):(this.columnListTd.css("display",BoldBIDashboard.isNullOrUndefined(t)?"block":t?"none":"block"),this.columnNoDataContainer.css("display",BoldBIDashboard.isNullOrUndefined(t)?"none":t?"block":"none"))},n.prototype.resetSearchBox=function(){this.functionSearchBox.val("");this.columnSearchBox.val("");this.functionListbox.BoldBIDashboardListBox("showAllItems");this.columnListbox.BoldBIDashboardListBox("showAllItems");this.functionListTd.css("display","block");this.functionNoDataContainer.css("display","none");this.columnListTd.css("display","block");this.columnNoDataContainer.css("display","none");this.functionSearchIcon.addClass("bbi-designer-search").removeClass("bbi-designer-close");this.columnSearchIcon.addClass("bbi-designer-search").removeClass("bbi-designer-close")},n.prototype.filterItems=function(n,t){for(var r=[],i=0;i<n.length;i++)(t===""||n[i].Name.toLowerCase().startsWith(t.toLowerCase()))&&r.push(i);return r},n.prototype.enableButton=function(n,t){BoldBIDashboard.DashboardUtil.buttonEnable(n,t)},n.prototype.enableAddButton=function(n,t){t?n.removeClass("bbi-dbrd-dataalert-expression-add-disable"):n.addClass("bbi-dbrd-dataalert-expression-add-disable")},n.prototype.txtNameChanged=function(){var t=this.textBox.val(),n=this.expressionContainer.data("e-exp");t!==this.oldExpName?n&&n.isEdit&&t!==n.name||(n&&!n.isEdit||BoldBIDashboard.isNullOrUndefined(n))&&t.length!==0?this.enableButton(this.saveBtnTag,!0):this.enableButton(this.saveBtnTag,!1):(n&&n.isEdit&&t===n.name||(n&&!n.isEdit||BoldBIDashboard.isNullOrUndefined(n))&&t.length===0)&&this.enableButton(this.saveBtnTag,!1);this.oldExpName=t},n.prototype.txtExpChanged=function(){var t=this.textArea.val(),n=this.expressionContainer.data("e-exp");t!==this.oldVal||BoldBIDashboard.isNullOrUndefined(n)||!n.isEdit?(n&&n.isEdit&&t!==n.expression||n&&!n.isEdit||BoldBIDashboard.isNullOrUndefined(n))&&t.length!==0?(this.enableButton(this.saveBtnTag,!0),this.enableAddButton(this.addBtnTag,!1)):n.isEdit&&t===n.expression?(this.enableAddButton(this.addBtnTag,this.isAddButtonEnabled),this.enableButton(this.saveBtnTag,!1)):(this.enableButton(this.saveBtnTag,!1),this.enableAddButton(this.addBtnTag,!1)):(n&&n.isEdit&&t===n.expression||(n&&!n.isEdit||BoldBIDashboard.isNullOrUndefined(n))&&t.length===0)&&this.enableButton(this.saveBtnTag,!1);this.oldVal=t},n.prototype.updateTextArea=function(){var n=this.textArea.val();n&&n.length>0?n!==this.expWaterMark&&this.textArea.hasClass("bbi-designer-txtmark")&&this.textArea.removeClass("bbi-designer-txtmark"):this.textArea.val(this.expWaterMark).addClass("bbi-designer-txtmark")},n.prototype.updateTextBox=function(){var n=this.textBox.val();n&&n.length>0?n!==this.nameWaterMark&&this.textBox.hasClass("bbi-designer-txtmark")&&this.textBox.removeClass("bbi-designer-txtmark"):this.textBox.val(this.nameWaterMark).addClass("bbi-designer-txtmark")},n.prototype.addExpression=function(){this.resetSearchBox();this.requestValidation(!0);var n=this.textBox.val();this.onListItemMouseUp({target:this.bbdesigner$("#"+this.id+"_li_"+BoldBIDashboard.DashboardUtil.escapeSelector(n))[0]})},n.prototype.requestValidation=function(n,t){var r=this.expressionContainer.data("e-exp"),u=this.textArea.val().trim(),i;r&&r.isEdit?(i=this.textBox.val(),i===this.nameWaterMark&&this.textBox.hasClass("bbi-designer-txtmark")&&(i=""),u===this.expWaterMark&&this.textArea.hasClass("bbi-designer-txtmark")&&(u=""),this.hasExpChanges(r,u)?i&&i.length===0||u&&u.length===0||!this.isValidName(i)||!/^[a-zA-Z0-9- _]*$/.test(i)?n?this.newExpression():this.expListClick(t):this.dataAlert.designerInstance.modules.util.alertDialog(this.locale.alertDialogTitle.queryExpression,this.locale.dataSource.saveExpression,IconType.warning,AlertType.Confirm,!1,"",{method:"updateExpressionInfo",instance:this,dataInfo:{name:n?i:t,isSelectionChange:n?!1:!0}}):n?this.switchEditExp():this.expListClick(t)):r&&!r.isEdit||BoldBIDashboard.isNullOrUndefined(r)?u!=="Query Expression"?this.dataAlert.designerInstance.modules.util.alertDialog(this.locale.alertDialogTitle.queryExpression,this.locale.dataSource.saveExpression,IconType.warning,AlertType.Confirm,!1,"",{height:140,width:500,method:"clearExpression",dataInfo:n?null:{isSelectionChange:!0,name:t},instance:this}):n?this.clearExpression(!1):this.expListClick(t):n?this.newExpression():this.expListClick(t)},n.prototype.clearExpression=function(n,t){if(BoldBIDashboard.isNullOrUndefined(t))if(n)this.isAdd=!0,this.saveExpression();else{var i=this.getAvailableName();this.textArea.val(this.expWaterMark).addClass("bbi-designer-txtmark");this.textBox.val(i);this.updateTextBox();this.enableButton(this.saveBtnTag,!1);this.enableAddButton(this.addBtnTag,!1)}else n?this.saveExpression(t):this.expListClick(t.name)},n.prototype.deleteEmtyExp=function(){var t=this,r=this.expLiTag.find("li"),n=null,i=this.bbdesigner$;r.each(function(r,u){for(var o=i(u).find(".e-list-text").text(),e=!0,f=0;f<t.customExpressions.length;f++)if(o===t.customExpressions[f].name){e=!1;break}if(e){n=i(u);return}});n&&n.remove()},n.prototype.getEmptyExp=function(){var n=this,i=this.expLiTag.find("li"),t=null,r=this.bbdesigner$;return i.each(function(i,u){for(var e=r(u).find(".e-list-text").text(),o=!0,f=0;f<n.customExpressions.length;f++)if(e===n.customExpressions[f].name){o=!1;break}if(o){t=e;return}}),t},n.prototype.switchEditExp=function(){var n=this,i=this.expLiTag.find("li"),t=!0,r=this.bbdesigner$;i.each(function(i,u){for(var e=r(u).find(".e-list-text").text(),o=!0,f=0;f<n.customExpressions.length;f++)if(e===n.customExpressions[f].name){o=!1;break}if(o){t=!1;n.expListClick(e);return}});t&&this.newExpression()},n.prototype.hasExpChanges=function(n,t){for(var i=0;i<this.customExpressions.length;i++)if(this.customExpressions[i].name===n.name&&t.indexOf("["+this.customExpressions[i].name+"]")===-1&&(this.customExpressions[i].name!==this.textBox.val()||this.customExpressions[i].expression!==t))return!0;return!1},n.prototype.newExpression=function(){var n=this.getAvailableName();this.textArea.val(this.expWaterMark).addClass("bbi-designer-txtmark");this.textBox.val(n);this.updateTextBox();this.expressionContainer.data("e-exp",{isEdit:!1,name:""});this.appendExpList(n);this.enableButton(this.saveBtnTag,!1);this.enableAddButton(this.addBtnTag,!1);this.UpdateMiscellaneousList()},n.prototype.updateExpressionInfo=function(n,t){var i=this.textBox.val();if(n)t.isSelectionChange?this.expressionContainer.data("e-exp").isEdit?this.expressionValidation(ExpAction.Edit,t.isSelectionChange,t.name):this.expressionValidation(ExpAction.New,t.isSelectionChange,t.name):this.expressionValidation(ExpAction.Save);else if(t.isSelectionChange)this.expListClick(t.name);else{this.switchEditExp();i=this.textBox.val();this.onListItemMouseUp({target:this.bbdesigner$("#"+this.id+"_li_"+BoldBIDashboard.DashboardUtil.escapeSelector(i))[0]})}},n.prototype.isValidName=function(n){for(var t=this.expressionContainer.data("e-exp"),i=0;i<this.customExpressions.length;i++)if(this.customExpressions[i].name===n&&(BoldBIDashboard.isNullOrUndefined(t)||t.isEdit&&t.name!==n))return!1;return!0},n.prototype.getAvailableName=function(){for(var n,i,r="Expression",u=[],t=0;t<this.customExpressions.length;t++)u.push(this.customExpressions[t].name);n=0;do n++,i=u.indexOf(r+n);while(i!==-1);return r+n},n.prototype.populateExpressions=function(){if(this.expLiTag.children().length>0&&this.expLiTag.empty(),!BoldBIDashboard.isNullOrUndefined(this.customExpressions)&&this.customExpressions.length>0){for(var n=0;n<this.customExpressions.length;n++)this.appendExpList(this.customExpressions[n].name);this.enableAddButton(this.addBtnTag,!0)}this.scrollerRefresh(this.bodyContainer)},n.prototype.updateExpList=function(n,t){var i=BoldBIDashboard.DashboardUtil.escapeSelector(n),r=BoldBIDashboard.DashboardUtil.escapeSelector(t);this.bbdesigner$("#"+this.id+"_li_"+r).remove();this.bbdesigner$("#"+this.id+"_li_"+i).unbind("click",this.bbdesigner$.proxy(this.expressionSelection,this,n));this.bbdesigner$("#"+this.id+"_"+i).unbind("click",this.bbdesigner$.proxy(this.removeExpression,this,n));this.bbdesigner$("#"+this.id+"_li_"+i+" .e-list-text").text(t);this.addTooltip(this.bbdesigner$("#"+this.id+"_li_"+i+" .e-list-text"),t);this.bbdesigner$("#"+this.id+"_li_"+i).attr("id",this.id+"_li_"+r);this.bbdesigner$("#"+this.id+"_"+i).attr("id",this.id+"_"+r);this.bbdesigner$("#"+this.id+"_li_"+r).bind("click",this.bbdesigner$.proxy(this.expressionSelection,this,t));this.bbdesigner$("#"+this.id+"_"+r).bind("click",this.bbdesigner$.proxy(this.removeExpression,this,t))},n.prototype.appendExpList=function(n,t){var f=BoldBIDashboard.DashboardUtil.escapeSelector(n),i=BoldBIDashboard.buildTag("li.e-user-select e-list e-state-default e-list-check bbi-designer-exp-list","",{},{id:this.id+"_li_"+f,name:n}),r=BoldBIDashboard.buildTag("a.e-chevron-right_01 bbi-remove-shadow","",{}),e=BoldBIDashboard.buildTag("span.e-list-text e-rel bbi-designer-content bbi-dbrd-designer-hoverable",n,{},{name:n}),u;r.append(e);u=BoldBIDashboard.buildTag("div.e-chk-image e-icon e-cross-circle bbi-dbrd-designer-hoverable","",{},{id:this.id+"_"+f,"data-tooltip":"Delete"});r.append(u);i.append(r);u.bind("click",this.bbdesigner$.proxy(this.removeExpression,this,n));i.bind("click",this.bbdesigner$.proxy(this.expressionSelection,this,n));i.bind(BoldBIDashboard.DashboardUtil.MouseEvent.mouseUp,this.bbdesigner$.proxy(this.onListItemMouseUp,this));BoldBIDashboard.isNullOrUndefined(t)?this.expLiTag.append(i):t===0?(this.expLiTag.prepend(i),i.css({"border-bottom":"0.5px solid #c8c8c8"})):this.listContainer.find("ul>li:nth-child("+t+")").after(i);this.addTooltip(e,n);this.updateContainerBorder();this.bodyContainer.height()>this.listContainer.height()?this.bodyContainer.find(".e-content").removeClass("e-content"):this.scrollerRefresh(this.bodyContainer)},n.prototype.addTooltip=function(n,t){BoldBIDashboard.DashboardUtil.textWidth(t,"12px Heebo")>=n.width()&&n.attr("data-tooltip",t)},n.prototype.onListItemMouseUp=function(n){var t=this.bbdesigner$(n.target).closest("li"),i;t.hasClass("bbi-expression-user-selection-active")||(i=this,t.parent().children().each(function(){var n=i.bbdesigner$(this);n.removeClass("bbi-expression-user-selection-active");n.find("span").removeClass("bbi-expression-user-selection-active")}),t.addClass("bbi-expression-user-selection-active"),t.find("span").addClass("e-expression-user-selection-active"),this.isAddButtonEnabled=this.addBtnTag.hasClass("bbi-dbrd-dataalert-expression-add-disable")?!1:!0)},n.prototype.expressionSelection=function(n){this.requestValidation(!1,n)},n.prototype.renderFunctionList=function(n){this.ejFunctionList.setModel({dataSource:n.value,fields:{id:"ID",text:"Name"},selectedIndex:0});var t=this.ejFunctionList.getSelectedItems();this.optionClick(t[0]);this.resetSearchBox()},n.prototype.renderColumnList=function(n){this.ejColumnList.setModel({dataSource:n.value,fields:{text:"Name"},selectedIndex:0});this.resetSearchBox()},n.prototype.scrollerRefresh=function(n){n.data("BoldBIDashboardScroller")&&n.data("BoldBIDashboardScroller").refresh()},n.prototype.functionDblClick=function(){var i=this.bbdesigner$("#"+this.id+"_exp_designer_option_list").data("BoldBIDashboardListBox"),r=i.model.selectedItems,t=i.model.dataSource[r],n=null;t&&(t.CategoryName==="Logical"?(n=t.Name,this.caretPosition(n)):(n=t.Name+"()",this.caretPosition(n,!0,n.length)))},n.prototype.columnDblClick=function(){var i=this.bbdesigner$("#"+this.id+"_exp_designer_data_list").data("BoldBIDashboardListBox"),r=i.model.selectedItems,n=i.model.dataSource[r],t=null;n&&(t=n.HasDynamicParams===!0?"@{{:"+n.Value+"}}":"["+n.Name+"]",this.caretPosition(t,!1,t.length))},n.prototype.caretPosition=function(n,t,i){var u,f,r;n&&n.length>0&&(u=this.textArea.val(),u!==this.expWaterMark&&this.textArea.hasClass("bbi-designer-txtmark")?this.textArea.removeClass("bbi-designer-txtmark"):u===this.expWaterMark&&this.textArea.hasClass("bbi-designer-txtmark")&&(u="",this.textArea.val(u).removeClass("bbi-designer-txtmark")),this.textArea.focus(),f=this.textArea[0],r=f.selectionStart,!BoldBIDashboard.isNullOrUndefined(i)&&t?(this.textArea.val(u.substring(0,r)+n+u.substring(r)),r=f.selectionEnd=r+i-1):BoldBIDashboard.isNullOrUndefined(i)||t?(this.textArea.val(u.substring(0,r)+n+u.substring(r)),r=f.selectionEnd=r):(this.textArea.val(u.substring(0,r)+n+u.substring(r)),r=f.selectionEnd=r+i),this.textArea.trigger("change"))},n.prototype.optionClick=function(n){n.data&&(this.bbdesigner$("#"+this.id+"_exp_designer_desc_heading").text("Description"),this.bbdesigner$("#"+this.id+"_exp_designer_example_heading").text("Example"),this.bbdesigner$("#"+this.id+"_exp_designer_desc_content").text(n.data.Description),this.bbdesigner$("#"+this.id+"_exp_designer_example_content").text(n.data.Example))},n.prototype.removeNestedExpression=function(n){var i=[],r,t,u;for(this.listContainer.find("#"+this.id+"_li_"+BoldBIDashboard.DashboardUtil.escapeSelector(n)).remove(),t=this.customExpressions.length-1;t>=0;t--)(this.customExpressions[t].name===n||this.customExpressions[t].expression.indexOf("["+n+"]")>-1)&&(i.push(this.customExpressions[t]),this.customExpressions.splice(t,1));if(i.length>0)for(r=[],t=i.length-1;t>=0;t--)if(r=this.removeNestedExpression(i[t].name),r.length>0)for(u=0;u<r.length;u++)i.push(r[u]);return i},n.prototype.removeExpression=function(n){this.dataAlert.designerInstance.modules.util.alertDialog(this.locale.alertDialogTitle.removeExpression,this.locale.dataSource.removeExpressionText,IconType.warning,AlertType.Confirm,!1,"",{dataInfo:{expressionName:n},instance:this,method:"conformDelete"})},n.prototype.conformRemoveExpression=function(n){var u=[],f=[],i,t,r,e,o;if(this.listContainer.find("#"+this.id+"_li_"+BoldBIDashboard.DashboardUtil.escapeSelector(n)).remove(),this.updateContainerBorder(),!BoldBIDashboard.isNullOrUndefined(this.customExpressions)&&this.customExpressions.length>0){for(t=this.customExpressions.length-1;t>=0;t--)if(this.customExpressions[t].name===n){u.push(this.customExpressions[t].name);f.push(this.customExpressions[t].expression);this.customExpressions.splice(t,1);break}if(i=this.removeNestedExpression(n),!BoldBIDashboard.isNullOrUndefined(i)&&i.length>0)for(t=i.length-1;t>=0;t--)u.push(i[t].name),f.push(i[t].expression);this.serverValidationExp({selectedExpression:"",name:u,expression:f},ExpAction.Remove);r=this.customExpressions.length;r>0?(this.expListClick(this.customExpressions[r-1].name),this.deleteEmtyExp(),this.enableAddButton(this.addBtnTag,!0)):r===0&&this.expLiTag.children().length>0&&this.expLiTag.empty()}this.expLiTag.children().length===0&&(e=this.getAvailableName(),this.appendExpList(e),this.textBox.val(e),this.updateTextBox(),this.textArea.val(this.expWaterMark).addClass("bbi-designer-txtmark"),this.expressionContainer.data("e-exp",{isEdit:!1,name:""}),this.enableAddButton(this.addBtnTag,!1));this.scrollerRefresh(this.bodyContainer);this.UpdateMiscellaneousList();o=this.textBox.val();this.onListItemMouseUp({target:this.bbdesigner$("#"+this.id+"_li_"+BoldBIDashboard.DashboardUtil.escapeSelector(o))[0]})},n.prototype.conformDelete=function(n,t){n&&this.conformRemoveExpression(t.expressionName)},n.prototype.expListClick=function(n){for(var i,r=!1,t=0;t<this.customExpressions.length;t++)if(n===this.customExpressions[t].name){this.textBox.val(this.customExpressions[t].name);this.textArea.val(this.customExpressions[t].expression);this.updateTextBox();this.updateTextArea();this.textArea.focus();i=this.textArea[0];i.selectionStart=i.selectionEnd=this.customExpressions[t].expression.length;this.expressionContainer.data("e-exp",{isEdit:!0,name:this.customExpressions[t].name,expression:this.customExpressions[t].expression});r=!0;this.enableButton(this.saveBtnTag,!1);break}r||(this.textBox.val(n),this.updateTextBox(),this.textArea.val(this.expWaterMark).addClass("bbi-designer-txtmark"),this.enableButton(this.saveBtnTag,!1),this.enableAddButton(this.addBtnTag,!1),this.expressionContainer.data("e-exp",null));this.UpdateMiscellaneousList()},n.prototype.updateContainerBorder=function(){this.listContainer.css("border-top-width",this.listContainer.find("li").length===0?"0px":"1px")},n.prototype.wiredEvents=function(){this.bbdesigner$("#"+this.id+"_exp_designer_option_list").bind(BoldBIDashboard.isTouchDevice()?"doubletap":"dblclick",this.bbdesigner$.proxy(this.functionDblClick,this));this.bbdesigner$("#"+this.id+"_exp_designer_data_list").bind(BoldBIDashboard.isTouchDevice()?"doubletap":"dblclick",this.bbdesigner$.proxy(this.columnDblClick,this));this.bbdesigner$("#"+this.id+"_exp_designer_closebutton").on("click",this.bbdesigner$.proxy(this.closeDialog,this))},n.prototype.unWiredEvents=function(){this.bbdesigner$("#"+this.id+"_exp_designer_option_list").unbind(BoldBIDashboard.isTouchDevice()?"doubletap":"dblclick",this.bbdesigner$.proxy(this.functionDblClick,this));this.bbdesigner$("#"+this.id+"_exp_designer_data_list").unbind(BoldBIDashboard.isTouchDevice()?"doubletap":"dblclick",this.bbdesigner$.proxy(this.columnDblClick,this));this.bbdesigner$("#"+this.id+"_exp_designer_closebutton").unbind("click",this.bbdesigner$.proxy(this.closeDialog,this));this.functionSearchBox.off("keyup",this.bbdesigner$.proxy(this.onSearchText,this));this.columnSearchBox.off("keyup",this.bbdesigner$.proxy(this.onSearchText,this));this.functionSearchBox.off("blur",this.bbdesigner$.proxy(this.onSearchBlur,this));this.columnSearchBox.off("blur",this.bbdesigner$.proxy(this.onSearchBlur,this));this.expSearchIcon.off("click",this.bbdesigner$.proxy(this.onSearchCloseClick,this));this.expSearchIcon.off("click",this.bbdesigner$.proxy(this.onSearchCloseClick,this))},n.prototype.openExpression=function(){var t,s,i,u,r,h,f,e,n,c;this.dataAlert.element.find("#"+this.dataAlert.id+"_container").css("display","none");this.resetDesigner(!0);t=new BoldBIDashboard.Dashboard.ExpressionDialogModel;s=new BoldBIDashboard.Dashboard.ExpressionHelper;t.FunctionUI={Selected:BoldBIDashboard.Dashboard.FieldName.All,State:0};t.Datasource=s.getMultipleData();var o=t.Datasource,l=[],a=[];if(o.length>1){for(i=[],n=0;n<o.length;n++)i=i.concat(o[n].Value);for(i.sort(function(n,t){return n.ID>t.Name?1:t.Name>n.ID?-1:0}),u=0;u<i.length;u++)a.indexOf(i[u].ID)===-1&&(a.push(i[u].ID),l.push(i[u]));t.Datasource.unshift({ID:0,Name:BoldBIDashboard.Dashboard.FieldName.All,Value:l})}if(this.ejFunctionDropdown.setModel({fields:{id:"ID",text:"Name",value:"Value"},dataSource:t.Datasource,enabled:t.FunctionUI.State===BoldBIDashboard.Dashboard.State.Enable}),this.ejFunctionDropdown.selectItemByText(t.FunctionUI.Selected),r=new BoldBIDashboard.Dashboard.ExpressionDialogModel,h=new BoldBIDashboard.Dashboard.ExpressionHelper,r.FunctionUI={Selected:BoldBIDashboard.Dashboard.FieldName.All,State:0},r.Datasource=h.getDaMultipleColumnData(this.dataSourceFields),f=r.Datasource,e=[],f.length>1){for(n=0;n<f.length;n++)f[n].Name!=="Parameters"&&(e=e.concat(f[n].Value));e.sort(function(n,t){return n.ID>t.ID?1:t.ID>n.ID?-1:0});r.Datasource.unshift({ID:0,Name:BoldBIDashboard.Dashboard.FieldName.All,Value:e})}this.ejColumnDropdown.setModel({fields:{id:"ID",text:"Name",value:"Value"},dataSource:r.Datasource,enabled:!0});this.ejColumnDropdown.selectItemByText(r.FunctionUI.Selected);this.customExpressions.length>0?(this.populateExpressions(),this.expListClick(this.customExpressions[0].name)):this.newExpression();c=this.textBox.val();this.onListItemMouseUp({target:this.bbdesigner$("#"+this.id+"_li_"+BoldBIDashboard.DashboardUtil.escapeSelector(c))[0]});this.refreshListScroller()},n.prototype.refreshListScroller=function(){var t=this.ejFunctionList,n;t.scrollerObj.model.scrollTop=0;n=this.ejColumnList;n.scrollerObj.model.scrollTop=0;this.ejFunctionList.refresh(!0);this.ejColumnList.refresh(!0)},n.prototype.confirmAction=function(n){if(n){var i=this.textBox.val(),t=(new BoldBIDashboard.DashboardDesignerUtility.ExpressionParsor).parseErrors(this.textArea.val(),this.provider);t&&t.length>0?this.dataAlert.designerInstance.modules.util.alertDialog(this.locale.alertDialogTitle.queryExpression,this.locale.dataSource.failedToParseExp,IconType.errors,AlertType.Alert,!0,t[0]):this.isAvaliableNames(i)?this.dataAlert.designerInstance.modules.util.alertDialog(this.locale.alertDialogTitle.InvalidExpressionName,this.locale.dataSource.expNameExist,IconType.warning,AlertType.Alert,!1,""):this.serverValidationExp({selectedExpression:this.expressionContainer.data("e-exp").name===""?this.textBox.val():this.expressionContainer.data("e-exp").name,name:this.textBox.val(),expression:this.textArea.val()},ExpAction.Close)}else this.closeExpressionDialog(),this.hideExpIndicator()},n.prototype.closeConfirmation=function(){var i=this.expressionContainer.data("e-exp"),n,t;i&&i.isEdit?(n=this.textBox.val(),t=this.textArea.val().trim(),n===this.nameWaterMark&&this.textBox.hasClass("bbi-designer-txtmark")&&(n=""),t===this.expWaterMark&&this.textArea.hasClass("bbi-designer-txtmark")&&(t=""),!this.hasExpChanges(i,t)||n&&n.length===0||t&&t.length===0||!this.isValidName(n)||!/^[a-zA-Z0-9- _]*$/.test(n)?(this.hideExpIndicator(),this.closeExpressionDialog()):this.dataAlert.designerInstance.modules.util.alertDialog(this.locale.alertDialogTitle.queryExpression,this.locale.dataSource.saveExpression,IconType.warning,AlertType.Confirm,!1,"",{height:140,width:500,method:"confirmAction",instance:this,dataInfo:{name:n}})):this.textArea.val()!=="Query Expression"&&this.textArea.val()!==""?this.dataAlert.designerInstance.modules.util.alertDialog(this.locale.alertDialogTitle.SaveExpression,this.locale.dataSource.saveExpression,IconType.warning,AlertType.Confirm,!1,"",{height:140,width:500,method:"confirmAction",instance:this,dataInfo:{name:this.textBox.val()}}):this.closeExpressionDialog()},n.prototype.closeExpression=function(){this.resetSearchBox();this.closeConfirmation()},n.prototype.resetDesigner=function(n){n&&this.expLiTag.children().length>0&&(this.expLiTag.empty(),this.scrollerRefresh(this.bodyContainer));this.textBox.val("");this.textArea.val("");this.bbdesigner$("#"+this.id+"_exp_designer_desc_heading").text("");this.bbdesigner$("#"+this.id+"_exp_designer_example_heading").text("");this.bbdesigner$("#"+this.id+"_exp_designer_desc_content").text("");this.bbdesigner$("#"+this.id+"_exp_designer_example_content").text("")},n.prototype.saveExpression=function(n){this.resetSearchBox();this.expressionContainer.data("e-exp")&&this.expressionContainer.data("e-exp").isEdit?n&&n.isSelectionChange?this.expressionValidation(ExpAction.Edit,n.isSelectionChange,n.name):this.expressionValidation(ExpAction.Edit):n&&n.isSelectionChange?this.expressionValidation(ExpAction.New,n.isSelectionChange,n.name):this.expressionValidation(ExpAction.New)},n.prototype.expressionValidation=function(n,t,i){var o=this.expressionContainer.data("e-exp"),u=this.textBox.val(),r=this.textArea.val().trim(),f,e;if(this.textArea.val(r),f=!1,u===this.nameWaterMark&&this.textBox.hasClass("bbi-designer-txtmark")&&(u=""),r===this.expWaterMark&&this.textArea.hasClass("bbi-designer-txtmark")&&(r=""),BoldBIDashboard.isNullOrUndefined(u)||u.length!==0?BoldBIDashboard.isNullOrUndefined(r)||r.length!==0?this.isValidName(u)?/^[a-zA-Z0-9- _]*$/.test(u)===!1?(this.dataAlert.designerInstance.modules.util.alertDialog(this.locale.alertDialogTitle.InvalidExpressionName,this.locale.dataSource.expHasSpecialChar,IconType.warning,AlertType.Alert,!1,""),f=!0):r.indexOf("["+u+"]")!==-1?(this.dataAlert.designerInstance.modules.util.alertDialog(this.locale.alertDialogTitle.queryExpression,this.locale.dataSource.expNotInColumn,IconType.errors,AlertType.Alert,!1,""),f=!0):this.isBalanceBrackets(r)?this.isAvaliableNames(u)?(this.dataAlert.designerInstance.modules.util.alertDialog(this.locale.alertDialogTitle.InvalidExpressionName,this.locale.dataSource.expNameExist,IconType.warning,AlertType.Alert,!1,""),f=!0):(r.replace(new RegExp("s"),"").toUpperCase().indexOf("TOTAL(")>-1||this.rowExpression.some(function(n){return r.replace(new RegExp("s"),"").toUpperCase().indexOf(n+"(")>-1}))&&!this.isValidRunningExpression(r)?f=!0:o&&o.isEdit?(e=(new BoldBIDashboard.DashboardDesignerUtility.ExpressionParsor).parseErrors(r,this.provider),e&&e.length>0?this.dataAlert.designerInstance.modules.util.alertDialog(this.locale.alertDialogTitle.InvalidParameter+"(s)",e[0],IconType.errors,AlertType.Alert,!1,""):this.serverValidationExp({selectedExpression:o.name,name:u,expression:r,isSelectionChange:t,selectedExp:i},n)):(e=(new BoldBIDashboard.DashboardDesignerUtility.ExpressionParsor).parseErrors(r,this.provider),e&&e.length>0?(this.isAdd=!1,this.dataAlert.designerInstance.modules.util.alertDialog(this.locale.alertDialogTitle.InvalidParameter+"(s)",this.locale.errorMessage.expressionParameterError,IconType.errors,AlertType.Alert,!0,e[0])):this.serverValidationExp({selectedExpression:"",name:u,expression:r,isSelectionChange:t,selectedExp:i},n)):(this.dataAlert.designerInstance.modules.util.alertDialog(this.locale.alertDialogTitle.queryExpression,this.locale.dataSource.invalidExpSyntax,IconType.errors,AlertType.Alert,!1,""),f=!0):(this.dataAlert.designerInstance.modules.util.alertDialog(this.locale.alertDialogTitle.queryExpression,this.locale.dataSource.expNameExist,IconType.warning,AlertType.Alert,!1,""),f=!0):(this.dataAlert.designerInstance.modules.util.alertDialog(this.locale.alertDialogTitle.queryExpression,this.locale.dataSource.emptyExp,IconType.warning,AlertType.Alert,!1,""),f=!0):(this.dataAlert.designerInstance.modules.util.alertDialog(this.locale.alertDialogTitle.InvalidExpressionName,this.locale.dataSource.emptyExpName,IconType.warning,AlertType.Alert,!1,""),f=!0),t&&f)this.onListItemMouseUp({target:this.bbdesigner$("#"+this.id+"_li_"+BoldBIDashboard.DashboardUtil.escapeSelector(o.name))[0]})},n.prototype.isAvaliableNames=function(n){for(var r=this.expressionContainer.data("e-exp"),i=this.ejColumnDropdown.model.dataSource[0].Value,t=0;t<i.length;t++)if(i[t].Name.toLowerCase()===n.toLowerCase()&&r.name.toLowerCase()!==n.toLowerCase())return!0;return!1},n.prototype.isValidRunningExpression=function(n){for(var u,r,f,s,h,a,e,c,v,o=this,i=!0,t=n,y=this.ejColumnDropdown.model.dataSource[0].Value,l=0;l<y.length;l++)u=y[l].Name,t.indexOf("["+u+"]")>-1&&/^[a-zA-Z0-9- _]*$/.test(u)===!0&&(t=t.replace("["+u+"]",""));if(r=null,t.replace(new RegExp("s"),"").toUpperCase().indexOf("TOTAL(")>-1&&(r=t.replace("TOTAL","").toUpperCase().split("[+-*/]+"),r.forEach(function(n){o.rowExpression.some(function(t){return n.indexOf(t)>-1})&&(i=!1,o.dataAlert.designerInstance.modules.util.alertDialog(o.locale.alertDialogTitle.queryExpression,o.locale.dataSource.errorMessageForTotalExpressionContainsRowExpression,IconType.warning,AlertType.Alert,!1,""))})),i){for(this.rowExpression.forEach(function(n){t.replace(new RegExp("s"),"").toUpperCase().indexOf(n+"(")>-1&&(r=t.toUpperCase().replace(n,"").split("[+-*/]+"))}),f=0,s=r;f<s.length;f++)for(h=s[f],i=!1,a=!isNaN(parseInt(h.replace("(","").replace(")",""),10)),e=0,c=this.aggregationList.filter(function(n){return n!=="TOTAL"||n!=="RUNNINGSUM"||n!=="RUNNINGAVG"||n!=="RUNNINGCOUNT"||n!=="RUNNINGMAX"||n!=="RUNNINGMIN"});e<c.length;e++)if(v=c[e],h.toString().replace(new RegExp("s"),"").toUpperCase().indexOf(v)>-1||a){i=!0;break}i||this.dataAlert.designerInstance.modules.util.alertDialog(this.locale.alertDialogTitle.queryExpression,this.locale.dataSource.parameterMustBeAnAggregated,IconType.warning,AlertType.Alert,!1,"")}return i},n.prototype.isBalanceBrackets=function(n){for(var t=0,i=0;i<n.length;i++)if(n[i]==="("?t++:n[i]===")"&&t--,t<0)return!1;return t>0?!1:!0},n.prototype.UpdateMiscellaneousList=function(){for(var r,u,t=this.ejColumnDropdown.model.dataSource[0].Value,i=this.ejColumnDropdown.model.dataSource[this.ejColumnDropdown.model.dataSource.length-1].Value,e=i.length,f=!1,o=function(n){var r=t.indexOf(t.filter(function(t){return t.Name===i[n].Name})[0]);r>-1&&t.splice(r,1)},n=0;n<e;n++)o(n);for(n=0;n<e;n++)i.pop();for(n=0;n<this.customExpressions.length;n++){for(r={ID:t.length+n,Name:this.customExpressions[n].name,Value:this.customExpressions[n].expression,DataType:null},f=!1,u=0;u<t.length;u++)if(t[u].Name===r.Name){f=!0;break}f||t.push(r);i.push(r)}this.ejColumnDropdown.model.dataSource[0].Value=t;this.ejColumnDropdown.model.dataSource[this.ejColumnDropdown.model.dataSource.length-1].Value=i;this.ejColumnList.refresh(!0)},n.prototype.serverValidationExp=function(n,t){var i=this.textBox.val(),r=this.textArea.val();this.dataAlert.designerInstance.modules.util.doAjaxPost("POST",this.serviceUrl+BoldBIDashboard.Dashboard.ServiceAPI.dagetexpressioncolumninfo,{action:BoldBIDashboard.DashboardUtil.DesignerAction.GetExpressionColumnInfo,data:JSON.stringify({datasourceId:this.dataAlert.datasourceId,expressionName:i,expressionText:r})},{fnction:this.bbdesigner$.proxy(this.updateExpressionResult,this,n,t),indicator:[this.bbdesigner$.proxy(this.showExpIndicator,this),this.bbdesigner$.proxy(this.hideExpIndicator,this)]},!0,!0)},n.prototype.updateExpressionResult=function(n,t,i){var s,c,h,e,r;if(i.Status){if(i&&i.Data.Data){var u=this.expressionContainer.data("e-exp"),f=n.name,o=n.expression;if(t===ExpAction.New){if(s=!0,this.bbdesigner$("#"+this.id+"_li_"+BoldBIDashboard.DashboardUtil.escapeSelector(f)).length===0)c=this.getEmptyExp(),this.updateExpList(c,f);else{for(h=!0,r=0;r<this.customExpressions.length;r++)if(this.customExpressions[r].name===f){h=!1;break}h||(s=!1,this.dataAlert.designerInstance.modules.util.alertDialog(this.locale.alertDialogTitle.queryExpression,this.locale.dataSource.expNameExist,IconType.warning,AlertType.Alert,!1,""))}if(s){if(this.customExpressions.push({name:f,expression:o}),this.expressionContainer.data("e-exp",{isEdit:!0,name:f,expression:o}),this.enableButton(this.saveBtnTag,!1),this.enableAddButton(this.addBtnTag,!0),this.isAdd){this.switchEditExp();e=this.textBox.val();this.onListItemMouseUp({target:this.bbdesigner$("#"+this.id+"_li_"+BoldBIDashboard.DashboardUtil.escapeSelector(e))[0]});this.isAdd=!1}if(n.isSelectionChange){this.expListClick(n.selectedExp);e=this.textBox.val();this.onListItemMouseUp({target:this.bbdesigner$("#"+this.id+"_li_"+BoldBIDashboard.DashboardUtil.escapeSelector(e))[0]})}}}else if(t===ExpAction.Edit){for(r=0;r<this.customExpressions.length;r++)this.customExpressions[r].expression.indexOf("["+u.name+"]")!==-1&&(this.customExpressions[r].expression=this.customExpressions[r].expression.replace("["+u.name+"]","["+f+"]"));for(r=0;r<this.customExpressions.length;r++)if(this.customExpressions[r].name===u.name){if(this.customExpressions[r].name=f,this.customExpressions[r].expression=o,this.customExpressions[r].name!==u.name&&this.updateExpList(u.name,f),this.expressionContainer.data("e-exp",{isEdit:!0,name:this.customExpressions[r].name,expression:this.customExpressions[r].expression}),this.enableButton(this.saveBtnTag,!1),this.enableAddButton(this.addBtnTag,!0),n.isSelectionChange){this.expListClick(n.selectedExp);e=this.textBox.val();this.onListItemMouseUp({target:this.bbdesigner$("#"+this.id+"_li_"+BoldBIDashboard.DashboardUtil.escapeSelector(e))[0]})}break}}else if(t===ExpAction.Save){for(r=0;r<this.customExpressions.length;r++)if(this.customExpressions[r].name===u.name){this.customExpressions[r].name=f;this.customExpressions[r].expression=o;this.customExpressions[r].name!==u.name&&this.updateExpList(u.name,f);this.enableButton(this.saveBtnTag,!1);this.switchEditExp();e=this.textBox.val();this.onListItemMouseUp({target:this.bbdesigner$("#"+this.id+"_li_"+BoldBIDashboard.DashboardUtil.escapeSelector(e))[0]});break}}else if(t===ExpAction.Close){for(u.name===""&&this.customExpressions.push({name:this.textBox.val(),expression:this.textArea.val()}),r=0;r<this.customExpressions.length;r++)if(this.customExpressions[r].name===u.name){this.customExpressions[r].name=f;this.customExpressions[r].expression=o;this.customExpressions[r].name!==u.name&&this.updateExpList(u.name,f);break}this.closeExpressionDialog();this.hideExpIndicator()}else t===ExpAction.Remove&&(this.customExpressions.length===0?this.enableAddButton(this.addBtnTag,!1):this.enableAddButton(this.addBtnTag,!0));this.UpdateMiscellaneousList();(t===ExpAction.New||t===ExpAction.Save||t===ExpAction.Edit)&&this.updateSuccessMessage()}}else if(this.enableButton(this.saveBtnTag,!0),this.enableAddButton(this.addBtnTag,!1),BoldBIDashboard.isNullOrUndefined(i.StatusMessage)?this.dataAlert.designerInstance.modules.util.alertDialog(this.locale.alertDialogTitle.InvalidParameter+"(s)",this.locale.errorMessage.expressionParameterError,IconType.errors,AlertType.Alert,!1,""):this.dataAlert.designerInstance.modules.util.alertDialog(this.locale.alertDialogTitle.InvalidParameter+"(s)",this.locale.errorMessage.expressionParameterError,IconType.errors,AlertType.Alert,!0,i.StatusMessage),n.isSelectionChange)this.onListItemMouseUp({target:this.bbdesigner$("#"+this.id+"_li_"+BoldBIDashboard.DashboardUtil.escapeSelector(this.textBox.val()))[0]})},n.prototype.updateSuccessMessage=function(){var n=this;this.bbdesigner$("#"+this.id+"_exp_success_message_wrap").css("display","block");setTimeout(function(){n.bbdesigner$("#"+n.id+"_exp_success_message_wrap").css("display","none")},3e3)},n.prototype.showExpIndicator=function(){BoldBIDashboard.DashboardUtil.buttonEnable(this.footerTag.children("#"+this.id+"_exp_designer_add_btn"),!1);BoldBIDashboard.DashboardUtil.buttonEnable(this.footerTag.children("#"+this.id+"_exp_designer_save_btn"),!1);BoldBIDashboard.DashboardUtil.buttonEnable(this.footerTag.children("#"+this.id+"_exp_designer_close_btn"),!1);this.ejIndicator.show()},n.prototype.hideExpIndicator=function(){BoldBIDashboard.DashboardUtil.buttonEnable(this.footerTag.children("#"+this.id+"_exp_designer_add_btn"),!0);BoldBIDashboard.DashboardUtil.buttonEnable(this.footerTag.children("#"+this.id+"_exp_designer_save_btn"),!1);BoldBIDashboard.DashboardUtil.buttonEnable(this.footerTag.children("#"+this.id+"_exp_designer_close_btn"),!0);this.ejIndicator.hide()},n.prototype.closeExpressionDialog=function(){BoldBIDashboard.DashboardUtil.invokeMethod(this.dataAlert,this.targetMethod,[this.customExpressions]);this.destroy();this.dataAlert.element.find("#"+this.dataAlert.id+"_container").css("display","block")},n.prototype.destroy=function(){this.unWiredEvents();BoldBIDashboard.DashboardUtil.destroyEjObjects(this.bbdesigner$("#"+this.id+"_exp_designer"));this.bbdesigner$("#"+this.id+"_exp_designer").length>0&&this.bbdesigner$("#"+this.id+"_exp_designer").remove()},n}();window.BoldBIDashboard.createObject("BoldBIDashboard.DataAlert.CustomExpressions",InternalDataAlertExpressions,window),function(n){var t=function(){function n(n,t,i){this.id=n;this.element=t;this.designer=i}return n.prototype.render=function(){var n=this.designer.modules.dataAlertDialog;n.dashboardWritePermission=!0;n.renderDialogElements(this.element,this.designer.model.dataAlert)},n.prototype.postRender=function(){this.designer.GetLocalizationFormat();this.render(0)},n.prototype.setContainerSize=function(){},n.prototype.renderCanvas=function(){},n.prototype.previewDashboard=function(){},n.prototype.renderCells=function(){},n.prototype.renderCellsForExport=function(){},n.prototype.updateSizeForScrollExport=function(){},n.prototype.resizeCombineWidgetForWidgetExport=function(){},n.prototype.wireEvents=function(){},n.prototype.unwireEvents=function(){},n}();n.DataAlertMode=t}(BoldBIDashboard||(BoldBIDashboard={}));InternalDateRangePopup=function(){function n(n){this.filterInfo=new DimensionFilterInfo;this.locale=null;this.dashboardDesigner=n;this.bbdesigner$=this.dashboardDesigner.bbdesigner$;this.locale=n.getLocalizationContent();this.id=this.dashboardDesigner._id;this.dateFormat=this.dashboardDesigner.model.localeSettings.dateFormat+" "+this.dashboardDesigner.model.localeSettings.timeFormat}return n.prototype.renderDateRangePopup=function(n){if(BoldBIDashboard.isNullOrUndefined(this.dateRangePopUp)||this.dateRangePopUp.length===0){this.dateRangePopUp=BoldBIDashboard.buildTag("div.bbi-daterange-popup","",{},{id:n+"_dateRange_popup"});var r=BoldBIDashboard.buildTag("div.bbi-date-range-checkBbox","",{}),u=BoldBIDashboard.buildTag("table","",{width:"100%"},{}),t=BoldBIDashboard.buildTag("tr","",{},{});this.renderRadioButton("Ranges",n,n+"_RangeBtn",!0,t,this.onRangeTypeChange,this);this.renderRadioButton("Start Date",n,n+"_startBtn",!1,t,this.onRangeTypeChange,this);this.renderRadioButton("End Date",n,n+"_endBtn",!1,t,this.onRangeTypeChange,this);var i=BoldBIDashboard.buildTag("div.bbi-date-range-field","",{},{id:n+"_dateRange_fieldDiv"}),f=BoldBIDashboard.buildTag("div","",{"margin-top":"6px"},{id:n+"_dateRange_start_tr"}),e=BoldBIDashboard.buildTag("div","",{"margin-top":"12px"},{id:n+"_dateRange_end_tr"}),o=BoldBIDashboard.buildTag("table","",{width:"100%"},{}),s=BoldBIDashboard.buildTag("tr","",{},{}),h=BoldBIDashboard.buildTag("table","",{width:"100%"},{}),c=BoldBIDashboard.buildTag("tr","",{},{}),l=BoldBIDashboard.buildTag("div.bbi-date-range-popup-footer","",{},{}),a=BoldBIDashboard.buildTag("button.bbi-dbrd-btn-small bbi-dbrd-btn-primary bbi-date-range-foot-btn",this.locale.dialogOptions.applyButtonText,{},{id:n+"_dateRange_okBtn",type:"button",disabled:"disabled"}),v=BoldBIDashboard.buildTag("button.bbi-dbrd-btn-small bbi-dbrd-btn-secondary bbi-dbrd-margin-left bbi-date-range-foot-btn",this.locale.dialogOptions.cancelButtonText,{},{id:n+"_dateRange_cancelBtn",type:"button"});this.dashboardDesigner.element.append(this.dateRangePopUp);u.append(t);r.append(u);this.dateRangePopUp.append(r);f.append(o);o.append(s);this.renderDateRangePicker(n+"_dateRange_Start",n,"Start",s,this.onPickerChange,this);e.append(h);h.append(c);this.renderDateRangePicker(n+"_dateRange_end",n,"End",c,this.onPickerChange,this);i.append(f);i.append(e);this.dateRangePopUp.append(i);l.append(v).append(a);this.dateRangePopUp.append(l);this.dateRangePopUp.css("z-index",this.bbdesigner$("#"+this.id+"_query_filter_dialog_wrapper").css("z-index")+1);a.on("click",this.bbdesigner$.proxy(this.updateDateRangeAttr,this,n));v.on("click",this.bbdesigner$.proxy(this.closeDateRangePopup,this,n));i.BoldBIDashboardWaitingPopup({showOnInit:!1,cssClass:"e-designer-waitingpopup "+this.id+"_designer_waiting_popup bbi-designer-loader"});this.resetAttributes(this.dateRangePopUp,n)}return this.dateRangePopUp},n.prototype.resetAttributes=function(n,t){n.removeAttr("IsLoaded");n.removeAttr("Range");n.removeAttr("StartDate");n.removeAttr("EndDate");n.removeAttr("IsPopulate");this.getStartPicker(t).removeAttr("minDateTime");this.getEndPicker(t).removeAttr("minDateTime")},n.prototype.showLoadingIndicator=function(n){var t=this.getFieldDiv(n);t.BoldBIDashboardWaitingPopup("show");this.getRangeRadioBtn(n).data("BoldBIDashboardRadioButton").disable();this.getStartRadioBtn(n).data("BoldBIDashboardRadioButton").disable();this.getEndRadioBtn(n).data("BoldBIDashboardRadioButton").disable()},n.prototype.hideLoadingIndicator=function(n){var t=this.getFieldDiv(n);t.BoldBIDashboardWaitingPopup("hide");this.getRangeRadioBtn(n).data("BoldBIDashboardRadioButton").enable();this.getStartRadioBtn(n).data("BoldBIDashboardRadioButton").enable();this.getEndRadioBtn(n).data("BoldBIDashboardRadioButton").enable()},n.prototype.populateDateRangeDrpDwn=function(n,t,i,r,u,f,e){this.targetTag.find("#"+n+"_dateRange_multidDrpDwn").off("click",this.bbdesigner$.proxy(this.showPopupContainer,this,n,t,i,r,e,f));this.targetTag.find("#"+n+"_dateRange_multidDrpDwn").on("click",this.bbdesigner$.proxy(this.showPopupContainer,this,n,t,i,r,e,f));this.populateDateRangePopup(n,u)},n.prototype.resetDateRangeDrpDwn=function(n){this.dateRangePopUp=null;this.renderDateRangePopup(n)},n.prototype.renderDateRangeDrpDwn=function(n,t,i,r,u,f,e){this.filterInfo=u;this.targetTag=t;var o=BoldBIDashboard.buildTag("div.list bbi-popup-button","",{width:e?e:"144px"},{id:n+"_dateRange_multidDrpDwn","e-target":"bbi-daterange-popup"}),s=BoldBIDashboard.buildTag("div.bbi-date-range-drp-dwn-text","",{width:e?e-39+"px":"calc(100% - 35px)"},{id:n+"_dateRange_multiDrpDwn_txt",text:"Date Options"}),h=BoldBIDashboard.buildTag("div.bbi-date-range-drp-dwn-btn","",{},{}),c=BoldBIDashboard.buildTag("span.bbi-designer-ejwidgets-updown e-icon e-arrow-sans-down bbi-date-range-drpdwn-icon","",{});h.append(c);o.append(s).append(h);s.text("Date Options");t.append(o);o.attr("e-targetId",n+"_dateRange_popup");o.bind("click",this.bbdesigner$.proxy(this.showPopupContainer,this,n,t,i,r,e,f));BoldBIDashboard.isNullOrUndefined(this.filterInfo)||this.populateDateRangePopup(n,this.filterInfo)},n.prototype.updateIconIndication=function(n,t){var i=this.getDateRangeDrpDwn(t);n.css("display")==="block"?(i.find(".bbi-designer-ejwidgets-updown").removeClass("e-arrow-sans-down").addClass("e-arrow-sans-up"),i.addClass("e-focus"),this.enableApplyButton(t)):(i.find(".bbi-designer-ejwidgets-updown").removeClass("e-arrow-sans-up").addClass("e-arrow-sans-down"),i.removeClass("e-focus"))},n.prototype.renderRadioButton=function(n,t,i,r,u,f,e){var o=this.bbdesigner$("<td unselectable='on'/>"),s,h;u.append(o);s=BoldBIDashboard.buildTag("input","",{},{type:"radio",name:t,id:i});o.append(s);h=BoldBIDashboard.buildTag("label.editLabel bbi-designer-title-label bbi-date-range-radio-label",n,{},{"for":i,id:i});o.append(h);s.BoldBIDashboardRadioButton({checked:r,change:this.bbdesigner$.proxy(f,e,t),cssClass:"e-designer-radio",size:"medium"})},n.prototype.renderDateRangePicker=function(n,t,i,r,u,f){var e=BoldBIDashboard.buildTag("td","",{}),h=BoldBIDashboard.buildTag("Label.bbi-designer-add-label",i,{},{type:"label"}),o=BoldBIDashboard.buildTag("td","",{"padding-left":i==="Start"?"9px":"15px"},{id:n}),s=BoldBIDashboard.buildTag("input.bbi-popup-button","",{},{type:"text",id:n+"_picker"});e.append(h);o.append(s);r.append(e);r.append(o);s.BoldBIDashboardDateTimePicker({width:"201px",height:"26px",change:this.bbdesigner$.proxy(u,f,t),cssClass:"bbi-designer-border bbi-popup-button e-dashboarddesigner-widget"})},n.prototype.showPopupContainer=function(n,t,i,r,u,f){var e=this.renderDateRangePopup(n),h=e.height(),o=t,l=e.css("display")==="block",s=o.offset(),c;e.css({display:l?"none":"block","z-index":BoldBIDashboard.getMaxZindex()});var a=window.innerHeight-(s.top+o.height()),v=a>h,y=v?s.top+o.height()+2:s.top-h-4;e.offset({left:s.left+parseFloat(o.css("padding-left"))-(u?26:126),top:y});this.updateIconIndication(e,n);e.css("display")==="block"&&(BoldBIDashboard.isNullOrUndefined(e.attr("IsLoaded"))||e.attr("IsLoaded")==="false"?(c=[{Id:r.Id,Name:r.Name,SummaryType:"None",Sorting:"Ascending",FieldType:"Dimensions",MeasureFormatting:null,DateTimeFormat:"Date",FilterInfo:null}],this.dashboardDesigner.modules.util.doAjaxPost("POST",this.dashboardDesigner.model.serviceUrl+BoldBIDashboard.Dashboard.ServiceAPI.processdata,{action:BoldBIDashboard.DashboardUtil.DesignerAction.getDateRange,data:JSON.stringify({className:BoldBIDashboard.DashboardUtil.DesignerAction.FilterAction,designerAction:BoldBIDashboard.DashboardUtil.DesignerAction.getDateRange,fieldInfo:c,dataSetId:i,type:"date",dateRangeType:f,isQueryDesignerMode:this.dashboardDesigner.isQueryDesignerMode})},{fnction:this.bbdesigner$.proxy(this.setFieldInformation,this,n),indicator:[this.bbdesigner$.proxy(this.showLoadingIndicator,this,n),this.bbdesigner$.proxy(this.hideLoadingIndicator,this,n)]})):this.setDatePopupValues(n))},n.prototype.setFieldInformation=function(n,t){var e=this.renderDateRangePopup(n),o=this.dashboardDesigner.element.find("#"+n+"_dateRange_Start_picker"),s=this.dashboardDesigner.element.find("#"+n+"_dateRange_end_picker"),u=o.data("BoldBIDashboardDateTimePicker"),f=s.data("BoldBIDashboardDateTimePicker"),i,r;BoldBIDashboard.isNullOrUndefined(u.model)||(u.model.dateTimeFormat=this.dateFormat,f.model.dateTimeFormat=this.dateFormat);i=t.MinValue;r=t.MaxValue;e.attr("isLoaded","true");o.attr("minDateTime",i).attr("maxDateTime",r);s.attr("minDateTime",i).attr("maxDateTime",r);u.setModel({minDateTime:i,maxDateTime:r});f.setModel({minDateTime:i,maxDateTime:r});e.attr("IsPopulate")==="true"?this.setDatePopupValues(n):(u.setModel({value:i}),f.setModel({value:r}))},n.prototype.setDatePopupValues=function(n){var t=this.renderDateRangePopup(n),o=BoldBIDashboard.isNullOrUndefined(t.attr("Range"))?DateFormatOption.Range.toString():t.attr("Range"),s=BoldBIDashboard.isNullOrUndefined(t.attr("StartDate"))?"":t.attr("StartDate"),h=BoldBIDashboard.isNullOrUndefined(t.attr("EndDate"))?"":t.attr("EndDate"),i="block",r="block",c=this.getStartTr(n),l=this.getEndTr(n),u=this.getRangeRadioBtn(n).data("BoldBIDashboardRadioButton"),f=this.getStartRadioBtn(n).data("BoldBIDashboardRadioButton"),e=this.getEndRadioBtn(n).data("BoldBIDashboardRadioButton");o===DateFormatOption.StartDate.toString()?(u.setModel({checked:!1}),f.setModel({checked:!0}),e.setModel({checked:!1}),r="none",i="block"):o===DateFormatOption.EndDate.toString()?(u.setModel({checked:!1}),f.setModel({checked:!1}),e.setModel({checked:!0}),r="block",i="none"):(u.setModel({checked:!0}),f.setModel({checked:!1}),e.setModel({checked:!1}));c.css("display",i);l.css("display",r);this.getStartPicker(n).data("BoldBIDashboardDateTimePicker").setModel({value:s.length===0?this.getStartPicker(n).attr("minDateTime"):s});this.getEndPicker(n).data("BoldBIDashboardDateTimePicker").setModel({value:h.length===0?this.getEndPicker(n).attr("maxDateTime"):h});this.enableApplyButton(n)},n.prototype.closeDateRangePopup=function(n){var t=this.renderDateRangePopup(n);t.css("display","none");this.updateIconIndication(t,n)},n.prototype.updateDateFormatCondition=function(n,t){var i=this.getRangeRadioBtn(n).data("BoldBIDashboardRadioButton"),r=this.getStartRadioBtn(n).data("BoldBIDashboardRadioButton"),u=this.getEndRadioBtn(n).data("BoldBIDashboardRadioButton"),f="block",e="block",o=this.getStartTr(n),s=this.getEndTr(n);t===DateFormatOption.StartDate.toString()?(i.setModel({checked:!1}),r.setModel({checked:!0}),u.setModel({checked:!1}),e="none",f="block"):t===DateFormatOption.EndDate.toString()?(i.setModel({checked:!1}),r.setModel({checked:!1}),u.setModel({checked:!0}),e="block",f="none"):(i.setModel({checked:!0}),r.setModel({checked:!1}),u.setModel({checked:!1}));o.css("display",f);s.css("display",e)},n.prototype.populateDateRangePopup=function(n,t){var i,r;this.dateRangePopUp=null;i=this.renderDateRangePopup(n);this.filterInfo=t;this.getDateRangeDrpDwnTxt(n).text("Date Options");this.updateIconIndication(i,n);i.attr("IsPopulate","true");BoldBIDashboard.isNullOrUndefined(t)?(this.resetAttributes(i,n),this.updateDateFormatCondition(n,DateFormatOption.Range.toString())):(i.attr({StartDate:t.StartDate,EndDate:t.EndDate,Range:t.DateFormatCondition}),r=t.DateFormatCondition,this.updateDateFormatCondition(n,r))},n.prototype.updateDateRangeAttr=function(n){var t=this.renderDateRangePopup(n),i=this.getStartRadioBtn(n).data("BoldBIDashboardRadioButton").model.checked,r=this.getEndRadioBtn(n).data("BoldBIDashboardRadioButton").model.checked,u=this.getStartPicker(n).data("BoldBIDashboardDateTimePicker").getValue(),f=this.getEndPicker(n).data("BoldBIDashboardDateTimePicker").getValue();t.css("display","none");this.updateIconIndication(t,n);this.hideErrorIndicator(n);t.attr("StartDate",u);t.attr("EndDate",f);r?t.attr("Range",DateFormatOption.EndDate.toString()):i?t.attr("Range",DateFormatOption.StartDate.toString()):t.attr("Range",DateFormatOption.Range.toString())},n.prototype.hideErrorIndicator=function(n){var t=this.dashboardDesigner.element.find("#"+n).find(".e-error-tip");t.length>0&&t.css("display","none")},n.prototype.getDateRangeValues=function(n){var t=this.renderDateRangePopup(n),u="Range",f=BoldBIDashboard.isNullOrUndefined(t.attr("Range"))?DateFormatOption.Range.toString():t.attr("Range"),i,r;return u=f===DateFormatOption.StartDate.toString()?DateFormatOption.StartDate.toString():f===DateFormatOption.EndDate.toString()?DateFormatOption.EndDate.toString():DateFormatOption.Range.toString(),i=BoldBIDashboard.isNullOrUndefined(t.attr("StartDate"))?"":t.attr("StartDate"),r=BoldBIDashboard.isNullOrUndefined(t.attr("EndDate"))?"":t.attr("EndDate"),{StartDate:i,EndDate:r,DateFormatCondition:u,IsFilterApplied:i===""&&r===""?!1:!0}},n.prototype.onRangeTypeChange=function(n,t){var u=this.getStartRadioBtn(n).data("BoldBIDashboardRadioButton").model.checked,f=this.getEndRadioBtn(n).data("BoldBIDashboardRadioButton").model.checked,i=this.getStartTr(n),r=this.getEndTr(n);t.isInteraction&&(u?(r.css("display","none"),i.css("display","block")):f?(i.css("display","none"),r.css({display:"block","margin-top":"6px"})):(i.css("display","block"),r.css({display:"block","margin-top":"6px"})))},n.prototype.onPickerChange=function(n,t){t.isInteraction&&this.enableApplyButton(n)},n.prototype.enableApplyButton=function(n){var i=this.getStartPicker(n).data("BoldBIDashboardDateTimePicker").getValue(),r=this.getEndPicker(n).data("BoldBIDashboardDateTimePicker").getValue(),f=this.getStartPicker(n).attr("minDateTime"),t=this.getStartPicker(n).attr("maxDateTime"),e=this.getApplyBtn(n),o=this.getStartRadioBtn(n).data("BoldBIDashboardRadioButton").model.checked,s=this.getEndRadioBtn(n).data("BoldBIDashboardRadioButton").model.checked,u=!0;u=o?i!==f?!0:!1:s?r!==t?!0:!1:i!==t||r!==t?!0:!1;BoldBIDashboard.DashboardUtil.buttonEnable(e,u)},n.prototype.updateDateFormat=function(){this.dateFormat=this.dashboardDesigner.model.localeSettings.dateFormat+" "+this.dashboardDesigner.model.localeSettings.timeFormat},n.prototype.getRangeRadioBtn=function(n){return this.dashboardDesigner.element.find("#"+n+"_RangeBtn")},n.prototype.getStartRadioBtn=function(n){return this.dashboardDesigner.element.find("#"+n+"_startBtn")},n.prototype.getEndRadioBtn=function(n){return this.dashboardDesigner.element.find("#"+n+"_endBtn")},n.prototype.getDateRangeDrpDwn=function(n){return this.targetTag.find("#"+n+"_dateRange_multidDrpDwn")},n.prototype.getStartPicker=function(n){return this.dashboardDesigner.element.find("#"+n+"_dateRange_Start_picker")},n.prototype.getEndPicker=function(n){return this.dashboardDesigner.element.find("#"+n+"_dateRange_end_picker")},n.prototype.getStartTr=function(n){return this.dashboardDesigner.element.find("#"+n+"_dateRange_start_tr")},n.prototype.getEndTr=function(n){return this.dashboardDesigner.element.find("#"+n+"_dateRange_end_tr")},n.prototype.getDateRangeDrpDwnTxt=function(n){return this.targetTag.find("#"+n+"_dateRange_multiDrpDwn_txt")},n.prototype.getApplyBtn=function(n){return this.dashboardDesigner.element.find("#"+n+"_dateRange_okBtn")},n.prototype.getFieldDiv=function(n){return this.dashboardDesigner.element.find("#"+n+"_dateRange_fieldDiv")},n}();window.BoldBIDashboard.createObject("BoldBIDashboard.DashboardDesignerUtility.DateRangePopup",InternalDateRangePopup,window),function(n){n[n.Range="Range"]="Range";n[n.StartDate="StartDate"]="StartDate";n[n.EndDate="EndDate"]="EndDate"}(DateFormatOption||(DateFormatOption={}));var __extends=this&&this.__extends||function(){var n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,t){n.__proto__=t}||function(n,t){for(var i in t)t.hasOwnProperty(i)&&(n[i]=t[i])};return function(t,i){function r(){this.constructor=t}n(t,i);t.prototype=i===null?Object.create(i):(r.prototype=i.prototype,new r)}}(),ComboBoxProperties=function(n){function t(t){var i=n.call(this,t)||this;return i.__type="Syncfusion.Dashboard.Web.Serialization.Model.DOM.ComboBoxProperties",i.EnableMultiSelection=!1,i.AllowFilter=!1,i.SelectFirstItemByDefault=!1,i.DefaultSelectedIndices="0",i.UrlLink=null,i.IsAllSelected=!1,i.ParameterFieldSelected=[],i}return __extends(t,n),t}(WidgetProperties),TextFilterProperties=function(n){function t(t){var i=n.call(this,t)||this;return i.__type="Syncfusion.Dashboard.Web.Serialization.Model.DOM.TextFilterProperties",i}return __extends(t,n),t}(WidgetProperties),GridProperties=function(n){function t(t){var i=n.call(this,t)||this;return i.__type="Syncfusion.Dashboard.Web.Serialization.Model.DOM.GridProperties",i.AllowSorting=!0,i.AllowPaging=!1,i.FitContent=!1,i.ShowTooltip=!0,i.AllowFilter=!1,i.HorizontalGridLine=!0,i.VerticalGridLine=!1,i.EnableAlternativeRowColor=!1,i.RawData=!1,i.ShowHeader=!0,i.ShowBorder=!0,i.IsAutoHeaderFontSize=!0,i.HeaderFontSize=16,i.IsAutoRowFontSize=!0,i.RowFontSize=16,i.HeaderPadding=11,i.ContentPadding=11,i.EnableDataGrouping=!0,i.GridTemplate=[],i.HeaderSettings=new HeaderSettings,i.PoPSlaveSettings=new PoPSlaveSettings,i.HeaderHeight=42,i.RowHeight=32,i.AllowTextWrap=!1,i.ColumnAlignments=[],i.AlternativeRow=new ColorProperty,i.GridValueSection=new ColorProperty,i.NewHeaderSettings=new ColorProperty,i.AlternativeRow.Foreground.Color="#000000",i.AlternativeRow.Background.Color="#f7f7f7",i.GridValueSection.Foreground.Color="#000000",i.GridValueSection.Background.Color="#ffffff",i.NewHeaderSettings.Foreground.Color="#2D3748FF",i.NewHeaderSettings.Background.Color="#F3F7FAFF",i.PageSize=100,i.DisableVirtualization=!1,i.SummaryRowSettings=new SummaryRowSettings,i}return __extends(t,n),t}(TableWidgetProperties),ColumnAlignments=function(){function n(){this.__type="Syncfusion.Dashboard.Web.Serialization.Model.DOM.Grid.ColumnAlignments";this.HeaderAlign=BoldBIDashboard.DashboardDesignerUtility.Serialization.enumToString(TextAlignment,TextAlignment.Left);this.TextAlign=BoldBIDashboard.DashboardDesignerUtility.Serialization.enumToString(TextAlignment,TextAlignment.Left);this.ColumnWidth="";this.IsColumnWidthModified=!1}return n}(),PoPSlaveSettings=function(){function n(){this.__type="Syncfusion.Dashboard.Web.Serialization.DOM.Model.DOM.Grid.PoPSlaveSettings";this.PoPColumnSettings=[];this.PrimaryBackground="#CCFAFF";this.SecondaryBackground="#C0F2DC"}return n}(),PoPColumnSettings=function(){function n(){this.__type="Syncfusion.Dashboard.Web.Serialization.DOM.Model.DOM.Grid.PoPColumnSettings";this.IsSlaveForPop=!0;this.PopType="Absolute Difference"}return n}(),GridColumnSetting=function(){function n(){this.__type="Syncfusion.Dashboard.Web.Serialization.Model.DOM.Grid.GridColumnSetting"}return n}(),HeaderSettings=function(){function n(){this.__type="Syncfusion.Dashboard.Web.Serialization.Model.DOM.Grid.HeaderSettings";this.Foreground="#2D3748FF";this.Background="#F3F7FAFF"}return n}(),ColorProperty=function(){function n(){this.__type="Syncfusion.Dashboard.Web.Serialization.Model.DOM.Grid.ColorProperty";this.Foreground=new ColorSet;this.Background=new ColorSet}return n}(),ColorSet=function(){function n(){this.__type="Syncfusion.Dashboard.Web.Serialization.Model.DOM.Common.ColorSet";this.Color="";this.IsEdited=!1}return n}(),SummaryRowSettings=function(){function n(){this.EnableSummaryRow=!1;this.SummaryColumn=[]}return n}(),SummaryColumn=function(){function n(){this.SummaryRow=[]}return n}(),SummaryRow=function(){function n(){this.UniqueColumnName="";this.UniqueRowName="";this.Name="";this.Id="";this.Color="";this.SummaryType=SummaryType.SUM;this.ShowValue=!0;this.CustomExp="";this.MeasureFormat=new MeasureFormatting}return n}(),HeatMapProperties=function(n){function t(t){var i=n.call(this,t)||this;return i.__type="Syncfusion.Dashboard.Web.Serialization.Model.DOM.HeatMapProperties",i.CellSettings=new CellSettings,i.XAxisSettings=new AxisSettings,i.YAxisSettings=new AxisSettings,i.LegendSettings=new LegendSettings,i.ColorSettings=new ColorSettings,i.DefaultColor=new DefaultColorSet,i.SortSettings=new SortSettings,i.ColorGradientMode=BoldBIDashboard.DashboardDesignerUtility.Serialization.enumToString(ColorGradientMode,ColorGradientMode.Table),i.EnableDrilldown=!1,i}return __extends(t,n),t}(VisualWidgetProperties),PivotViewProperties=function(n){function t(t){var i=n.call(this,t)||this;return i.__type="Syncfusion.Dashboard.Web.Serialization.Model.DOM.PivotViewProperties",i.GroupBarSettings=new GroupBarSettings,i.BasicSettings=new BasicSettings,i.GrandTotalSettings=new GrandTotalSettings,i.FieldSettings=new FieldSettings,i.DrilledMembers=[],i.SelectionCellInfo=new SelectionCellInfo,i.HeaderSettings=new PivotHeaderSettings,i.ContentSettings=new ContentSettings,i.IsAutoHeaderFontSize=!0,i.HeaderFontSize=16,i.IsAutoContentFontSize=!0,i.ContentFontSize=16,i.NewHeaderSettings=new ColorProperty,i.NewHeaderSettings.Foreground.Color="#2D3748",i.NewHeaderSettings.Background.Color="#F3F7FA",i.AlignmentSettings=new PivotAlignmentSettings,i}return __extends(t,n),t}(TableWidgetProperties),DrilledMembers=function(){function n(){this._type="Syncfusion.Dashboard.Web.Serialization.Model.DOM.PivotView.DrilledMembers";this.Name="";this.Items=[]}return n}(),PivotHeaderSettings=function(){function n(){this._type="Syncfusion.Dashboard.Web.Serialization.Model.DOM.PivotView.PivotHeaderSettings";this.Row=new HeaderColorSettings;this.Column=new HeaderColorSettings}return n}(),HeaderColorSettings=function(){function n(){this._type="Syncfusion.Dashboard.Web.Serialization.Model.DOM.PivotView.HeaderColorSettings";this.Foreground="#2D3748";this.Background="#F3F7FA"}return n}(),ContentSettings=function(){function n(){this._type="Syncfusion.Dashboard.Web.Serialization.Model.DOM.PivotView.ContentSettings";this.RowHeight=48;this.ColumWidth=110;this.HeaderColumWidth=250}return n}(),PivotAlignmentSettings=function(){function n(){this._type="Syncfusion.Dashboard.Web.Serialization.Model.DOM.PivotView.PivotAlignmentSettings";this.RowHeader="Left";this.ColumnHeader="Left";this.Value="Right"}return n}(),GroupBarSettings=function(){function n(){this._type="Syncfusion.Dashboard.Web.Serialization.Model.DOM.PivotView.GroupBarSettings";this.ShowSortIcon=!0;this.ShowFilterIcon=!0;this.ShowGroupBar=!0;this.GroupPanelBackground="#F3F7FA"}return n}(),BasicSettings=function(){function n(){this._type="Syncfusion.Dashboard.Web.Serialization.Model.DOM.PivotView.BasicSettings";this.EnableValueSorting=!0;this.ExpandAllNode=!1;this.ShowNoDataItems=!1;this.ShowTooltip=!0;this.AllowTextWrap=!1;this.AllowColumnResize=!1;this.AllowContentToFit=!1;this.ShowValuesInRowAxis=!1;this.EnablePersistence=!1;this.HideEmptyHeaders=!1;this.EmptyCellsContent=""}return n}(),SelectionCellInfo=function(){function n(){this._type="Syncfusion.Dashboard.Web.Serialization.Model.DOM.SelectionCellInfo";this.IsSelected=!1}return n}(),GrandTotalSettings=function(){function n(){this._type="Syncfusion.Dashboard.Web.Serialization.Model.DOM.PivotView.GrandTotalSettings";this.ShowRowGrandTotals=!0;this.ShowColumnGrandTotals=!0;this.ShowRowSubTotals=!0;this.ShowColumnSubTotals=!0}return n}(),FieldSettings=function(){function n(){this._type="Syncfusion.Dashboard.Web.Serialization.Model.DOM.PivotView.FieldSettings";this.CustomFieldSettings=[]}return n}(),PivotViewFieldSettings=function(){function n(){this._type="Syncfusion.Dashboard.Web.Serialization.Model.DOM.PivotView.PivotViewColumnSetting";this.DisplayName="";this.UniqueColumnName="";this.IsEdited=!1;this.CaptionName="";this.ShowNoDataItem=!1}return n}(),ColorSettings=function(){function n(){this._type="Syncfusion.Dashboard.Web.Serialization.DOM.Model.DOM.HeatMap";this.MinColor="";this.MaxColor=BoldBIDashboard.DashboardUtil.defaultColorPalette[0].substring(1)+"#FF"}return n}(),AxisSettings=function(){function n(){this._type="Syncfusion.Dashboard.Web.Serialization.Model.DOM.HeatMap.AxisSettings";this.AxisTitle="";this.ShowAxisLabel=!0;this.ShowAxisTitle=!0;this.InversedAxis=!1;this.OpposedAxis=!1;this.LabelIntersectAction=BoldBIDashboard.DashboardDesignerUtility.Serialization.enumToString(LabelIntersectAction,LabelIntersectAction.Trim);this.LabelRotation=BoldBIDashboard.DashboardDesignerUtility.Serialization.enumToString(ValueLabelRotations,ValueLabelRotations.Auto);this.EnableTrim=!1;this.MaximumLabelLength=100}return n}(),LegendSettings=function(){function n(){this._type="Syncfusion.Dashboard.Web.Serialization.Model.DOM.HeatMap.LegendSettings";this.ShowLegend=!1;this.Position=BoldBIDashboard.DashboardDesignerUtility.Serialization.enumToString(LegendPositions,LegendPositions.Auto)}return n}(),SortSettings=function(){function n(){this._type="Syncfusion.Dashboard.Web.Serialization.DOM.Model.DOM.HeatMap.SortSettings";this.XAxis=BoldBIDashboard.DashboardDesignerUtility.Serialization.enumToString(SortSetting,SortSetting.Auto);this.YAxis=BoldBIDashboard.DashboardDesignerUtility.Serialization.enumToString(SortSetting,SortSetting.Auto)}return n}(),CellSettings=function(){function n(){this._type="Syncfusion.Dashboard.Web.Serialization.Model.DOM.HeatMap.CellSettings";this.CellBorder=1;this.CellRadius=3;this.ShowDataLabel=!1;this.ShowTooltip=!0;this.TileType=BoldBIDashboard.DashboardDesignerUtility.Serialization.enumToString(TileType,TileType.Rect);this.LabelColor=new ColorSet;this.LabelColor.Color="#505D6F";this.XAxisLabelColor=new ColorSet;this.XAxisLabelColor.Color="#505D6F";this.YAxisLabelColor=new ColorSet;this.YAxisLabelColor.Color="#505D6F"}return n}(),ColorGradientMode;(function(n){n[n.Table="Table"]="Table";n[n.Column="Column"]="Column";n[n.Row="Row"]="Row"})(ColorGradientMode||(ColorGradientMode={})),function(n){n[n.Bubble="Bubble"]="Bubble";n[n.Rect="Rect"]="Rect"}(TileType||(TileType={})),function(n){n[n.Center="Center"]="Center";n[n.Near="Near"]="Near";n[n.Far="Far"]="Far"}(LegendAlignment||(LegendAlignment={})),function(n){n[n.None="None"]="None";n[n.Trim="Trim"]="Trim"}(LabelIntersectAction||(LabelIntersectAction={}));UrlLink=function(){function n(){this.__type="Syncfusion.Dashboard.Web.Serialization.Model.DOM.Common.UrlLink";this.EnableLink=!1;this.EscapeSpecialCharacter=!1;this.EnableParameterEncryption=!1;this.PassingParameters=[];this.ColumnUrlDetails=[];this.UrlPath="";this.LinkType=LinkType.Url;this.GridUrlType=UrlLinkType.Row;this.TargetTypeInfo="_Blank";this.Height=100;this.Width=100;this.Title=""}return n}();ColumnUrl=function(){function n(){this.__type="Syncfusion.Dashboard.Web.Serialization.Model.DOM.Common.ColumnUrl"}return n}(),function(n){n[n.Dashboard=0]="Dashboard";n[n.Tab=1]="Tab";n[n.Url=2]="Url"}(LinkType||(LinkType={})),function(n){n[n.Row=0]="Row";n[n.Column=1]="Column";n[n.Value=2]="Value"}(UrlLinkType||(UrlLinkType={}));WidgetLink=function(){function n(){this.__type="Syncfusion.Dashboard.Web.Serialization.Model.DOM.Common.WidgetLink";this.Enable=!1;this.WidgetList=[]}return n}();LinkedWidgetList=function(){function n(){this.Widget="";this.LinkType=WidgetLinkType.Default;this.CustomIndex=""}return n}(),function(n){n[n.Default=0]="Default";n[n.Custom=1]="Custom"}(WidgetLinkType||(WidgetLinkType={}));var GridTemplate=function(){function n(){this.__type="Syncfusion.Dashboard.Web.Serialization.Model.DOM.Grid.gridTemplate";this.DisplayType=DisplayType.Value}return n}(),ConditionalFormatting=function(){function n(){this.__type="Syncfusion.Dashboard.Web.Serialization.Model.DOM.Grid.ConditionalFormatting";this.TargetMeasureColumn=new Column;this.MeasureConditionType=MeasureConditionType.Equals;this.DimensionConditionType=DimensionConditionType.Equals;this.FormatType=ConditionalFormatType.Column;this.ColorStyle=ColorType.SingleColor}return n}(),Column=function(){function n(){this.__type="Syncfusion.Dashboard.Web.Serialization.Model.DOM.Grid.Column"}return n}(),MeasureConditionType;(function(n){n[n.Equals="Equals"]="Equals";n[n.LessThan="Less Than"]="LessThan";n[n.LessThanOrEqual="Less Than Or Equal To"]="LessThanOrEqual";n[n.GreaterThanOrEqual="Greater Than Or Equal To"]="GreaterThanOrEqual";n[n.GreaterThan="Greater Than"]="GreaterThan";n[n.NotEquals="Does Not Equal"]="NotEquals";n[n.Between="Between"]="Between"})(MeasureConditionType||(MeasureConditionType={})),function(n){n[n.Equals="Equals"]="Equals";n[n.NotEquals="Does Not Equal"]="NotEquals";n[n.Contains="Contains"]="Contains";n[n.NotContains="Does Not Contains"]="NotContains";n[n.StartsWith="Starts With"]="StartsWith";n[n.EndsWith="Ends With"]="EndsWith"}(DimensionConditionType||(DimensionConditionType={})),function(n){n[n.Column="Column"]="Column";n[n.Row="Row"]="Row";n[n.Indication="Indication"]="Indication"}(ConditionalFormatType||(ConditionalFormatType={})),function(n){n[n.Number="Number"]="Number";n[n.Currency="Currency"]="Currency";n[n.Percentage="Percentage"]="Percentage"}(MeasureFormatType||(MeasureFormatType={})),function(n){n[n.SingleColor="Single Color"]="SingleColor";n[n.GradientColor="Gradient Color"]="GradientColor"}(ColorType||(ColorType={}));var Styles=function(){function n(){this.__type="Syncfusion.Dashboard.Web.Serialization.Model.DOM.Grid.Styles"}return n}(),FontFormats=function(){function n(){this.__type="Syncfusion.Dashboard.Web.Serialization.Model.DOM.Grid.FontFormats"}return n}(),TreeMapProperties=function(n){function t(t){var i=n.call(this,t)||this;return i.__type="Syncfusion.Dashboard.Web.Serialization.Model.DOM.TreeMapProperties",i.ShowLegend=!1,i.ShowValueLabel=!1,i.EnableDrilldown=!1,i.ShowTooltip=!0,i.IsCustomRange=null,i.SaturatedColor=BoldBIDashboard.DashboardUtil.defaultColorPalette[0].substring(1)+"#FF",i.MaxColor="#FBCB43FF",i.MidColor="#E57368FF",i.MinColor="#77A7FBFF",i.LabelColor="#1E1E1E",i.UrlLink=new UrlLink,i.DefaultColor=new DefaultColorSet,i}return __extends(t,n),t}(VisualWidgetProperties),CustomWidgetProperties=function(n){function t(t){var i=n.call(this,t)||this;return i.__type="Syncfusion.Dashboard.Web.Serialization.Model.DOM.CustomWidgetProperties",i.UrlLink=new UrlLink,i.CustomProperties=[],i}return __extends(t,n),t}(VisualWidgetProperties),CustomProperty=function(){function n(){}return n}(),MapsCommonProp=function(n){function t(t){var i=n.call(this,t)||this;return i.ShapeData="WorldMap_Countries",i.ShapePropertyPath="name",i.ShapeType="Country",i}return __extends(t,n),t}(VisualWidgetProperties),BubbleMapProperties=function(n){function t(t){var i=n.call(this,t)||this;return i.__type="Syncfusion.Dashboard.Web.Serialization.Model.DOM.BubbleMapProperties",i.BubbleColor=BoldBIDashboard.DashboardUtil.defaultColorPalette[0].substring(1)+"#FF",i}return __extends(t,n),t}(MapsCommonProp),ChoroplethMapProperties=function(n){function t(t){var i=n.call(this,t)||this;return i.__type="Syncfusion.Dashboard.Web.Serialization.Model.DOM.ChoroplethMapProperties",i.ShowLegend=!1,i.IsPaletteColor=!0,i.MaxColor=BoldBIDashboard.DashboardUtil.defaultColorPalette[0].substring(1)+"#FF",i.MinColor="#fae8eaFF",i}return __extends(t,n),t}(MapsCommonProp),MapProperties=function(n){function t(t){var i=n.call(this,t)||this;return i.__type="Syncfusion.Dashboard.Web.Serialization.Model.DOM.MapProperties",i.ShowLegend=!1,i.ShowLegendTitle=!0,i.LegendTitle="",i.ShowTooltip=!0,i.IsPaletteColor=!0,i.MaxColor="#F6727FFF",i.MinColor="#FFC2D8FF",i.UrlLink=new UrlLink,i.MapType="Choropleth",i.MarkerShape="Balloon",i.MarkerShapeColor="#494ca2",i.ShowLabel=!1,i.ImageUrl=null,i.EnableColorSettings=!1,i.MarkerWidth=10,i.MarkerHeight=15,i.IsEnableDrillDown=!1,i.LegendPosition="Top",i.ImageSource="Local",i.ImageName=null,i.URLPattern="{0}",i.ImageSrc=null,i.ImageLocalUrl=null,i.MarkerCustomization=new MarkerCustomizeSettings,i.EnableMultiSelection=!1,i.DefaultColor=new DefaultColorSet,i.LabelColor=new ColorSet,i.LabelColor.Color="#000000",i.LegendType="Layers",i.DefaultMarkerZoom=!1,i}return __extends(t,n),t}(MapsCommonProp),MarkerCustomizeSettings=function(){function n(){this.MarkerShape="";this.MarkerImage=null;this.MarkerColor="";this.MarkerHeight=0;this.MarkerWidth=0;this.DefaultImageUrl=null;this.DefaultMarkerColor="#494ca2";this.DefaultMarkerHeight=15;this.DefaultMarkerWidth=10;this.DefaultMarkerShape="Balloon"}return n}(),BingMapProperties=function(n){function t(t){var i=n.call(this,t)||this;return i.__type="Syncfusion.Dashboard.Web.Serialization.Model.DOM.BingMapProperties",i.MapType="r",i.ShowZoomIcon=!1,i.ShowTooltip=!0,i.DisableZoomAndPan=!1,i.ShapeType="CountryRegion",i.MapShape="Choropleth",i.MarkerShape="Round",i.MarkerShapeColor="#494ca2",i.MarkerSize=14,i.MarkerImage="Local",i.MarkerImageUrl=null,i.MarkerUrlPattern="{0}",i.MarkerLocalImageName=null,i.MarkerLocalImageUrl=null,i.DefaultColor=new DefaultColorSet,i.DefaultColor.Color="#F6727F",i.MarkerCustomization=new MarkerCustomizeSettings,i.UrlLink=new UrlLink,i.InitialZoomState="",i}return __extends(t,n),t}(VisualWidgetProperties),LabelProperties=function(n){function t(t){var i=n.call(this,t)||this;return i.__type="Syncfusion.Dashboard.Web.Serialization.Model.DOM.LabelProperties",i.Name="Label1",i.LineCollection=[],i.LabelBackgroundColor="#ffffff",i}return __extends(t,n),t}(WidgetProperties),LineProperties=function(){function n(){this.__type="Syncfusion.Dashboard.Web.Serialization.Model.DOM.Label.LineProperties";this.TextCollections=[];this.LineStyleProperties=new LineStyleProperties}return n}(),TextCollectionProperties=function(){function n(){this.__type="Syncfusion.Dashboard.Web.Serialization.Model.DOM.Label.TextCollectionProperties";this.Text=[]}return n}(),TextProperties=function(){function n(){this.__type="Syncfusion.Dashboard.Web.Serialization.Model.DOM.Label.TextProperties";this.Content="";this.TextStyle=new TextStyleProperties}return n}(),TextStyleProperties=function(){function n(){this.__type="Syncfusion.Dashboard.Web.Serialization.Model.DOM.Label.TextStyleProperties";this.FontSize="10px";this.FontFamily="Arial";this.FontColor="Black";this.FontStyle="Normal";this.TextDecoration="Normal";this.FontWeight="Normal";this.TextHighlightColor="#f5ea14"}return n}(),LineStyleProperties=function(){function n(){this.__type="Syncfusion.Dashboard.Web.Serialization.Model.DOM.Label.LineStyleProperties";this.LineTextAlignment="Left"}return n}(),DatePickerProperties=function(n){function t(t){var i=n.call(this,t)||this;return i.__type="Syncfusion.Dashboard.Web.Serialization.Model.DOM.DatePickerProperties",i.LimitDates=!0,i.Type=DatePickerType.Single,i.HighlightAvailableDates=!1,i.UrlLink=null,i.ShowLatestDate=!1,i.EnableFixedCalendarSelection=!1,i}return __extends(t,n),t}(WidgetProperties),DatePickerType;(function(n){n[n.Single=0]="Single";n[n.Range=1]="Range"})(DatePickerType||(DatePickerType={}));PoPProperties=function(n){function t(t){var i=n.call(this,t)||this;return i.__type="Syncfusion.Dashboard.Web.Serialization.Model.DOM.PoPProperties",i.FilterSettings.ActAsMasterWidget=!0,i.FilterSettings.IgnoreFilterActions=!0,i.UrlLink=null,i}return __extends(t,n),t}(WidgetProperties);RangeSliderProperties=function(n){function t(t){var i=n.call(this,t)||this;return i.__type="Syncfusion.Dashboard.Web.Serialization.Model.DOM.RangeSliderProperties",i.Type=RangeSliderType.Range,i.Orientation=RangeSliderOrientation.Auto,i.UrlLink=null,i.LabelColor=new ColorSet,i.SliderColor=new ColorSet,i.LabelColor.Color="#505D6F",i.SliderColor.Color=BoldBIDashboard.DashboardUtil.defaultColorPalette[0],i}return __extends(t,n),t}(WidgetProperties),function(n){n[n.MinRange=0]="MinRange";n[n.Range=1]="Range"}(RangeSliderType||(RangeSliderType={})),function(n){n[n.Horizontal=0]="Horizontal";n[n.Vertical=1]="Vertical";n[n.Auto=2]="Auto"}(RangeSliderOrientation||(RangeSliderOrientation={}));ListBoxProperties=function(n){function t(t){var i=n.call(this,t)||this;return i.__type="Syncfusion.Dashboard.Web.Serialization.Model.DOM.ListBoxProperties",i.EnableMultiSelection=!1,i.UrlLink=null,i}return __extends(t,n),t}(WidgetProperties);GaugeSettings=function(n){function t(t){var i=n.call(this,t)||this;return i.__type="Syncfusion.Dashboard.Web.Serialization.Model.DOM.GaugeProperties",i.RangeColor=BoldBIDashboard.DashboardUtil.defaultColorPalette[0],i.ScaleColor="#E0E0E0",i.Direction=GaugeDirection.HighIsGood,i.MinValue=0,i.MaxValue=100,i.CustomTarget=70,i.RangeCollection=[new GaugeRangeSettings(0,33,"#FF6C40","Range-1",""),new GaugeRangeSettings(33,66,"#FFE700","Range-2",""),new GaugeRangeSettings(66,100,"#2CD9C5","Range-3","")],i.RangeValueType=RangeValueType.DefaultColor,i.RangeLabelType=RangeValueType.DefaultColor,i.GaugeType=GaugeTypes.HorseShoe,i.RangeWidth=RangeWidth.Medium,i.TicksPosition=TicksPosition.Outside,i.ValuePointer=ValuePointers.RangePointer,i.TargetPointer=TargetPointers.InvertedTriangle,i.ValueLabelPosition=ValueLabelPosition.Inside,i.ScaleLabelPosition=ScaleLabelPosition.Outside,i.ShowValueLabel=!0,i.ShowScaleLabel=!0,i.ShowActualValue=!0,i.ShowDifferenceValue=!0,i.ShowTicks=!1,i.EnableAnimation=!1,i.ShowTooltip=!0,i.TicksHeight=5,i.TicksWidth=1,i.ScaleWidth=40,i.ShowRange=!1,i.NeedlePointerHeight=60,i.LabelType=LabelType.ValueLabel,i.TargetPointerColor="#424242",i.NeedlePointerColor="#505D6F",i.BackgroundColor="transparent",i.ValueColor="#505D6F",i.TitleColor="#000000",i.LabelColor="#505D6F",i.PercentValueColor="#000000",i.PercentValueSize=15,i.HighColor="#2CD9C5",i.LowColor="#FF6C40",i.MediumColor="#FFE700",i.IsCustomRange=!1,i.DefaultColor=new DefaultColorSet,i}return __extends(t,n),t}(VisualWidgetProperties),function(n){n[n.HalfRadialGauge="Half Circle"]="HalfRadialGauge";n[n.HorseShoe="Horse Shoe"]="HorseShoe";n[n.FullRadialGauge="Full Circle"]="FullRadialGauge";n[n.Auto="Auto"]="Auto"}(GaugeTypes||(GaugeTypes={})),function(n){n[n.DefaultColor="Default Color"]="DefaultColor";n[n.RangeColor="Range Color"]="RangeColor"}(RangeValueType||(RangeValueType={}));GaugeRangeSettings=function(){function n(n,t,i,r,u){this.__type="Syncfusion.Dashboard.Web.Serialization.Model.DOM.Gauge.GaugeRangeSettings";this.Start=n;this.End=t;this.Color=i;this.Name=r;this.Label=u}return n}(),function(n){n[n.HighIsGood=0]="HighIsGood";n[n.LowIsGood=1]="LowIsGood"}(GaugeDirection||(GaugeDirection={})),function(n){n[n.RangePointer="Range Pointer"]="RangePointer";n[n.NeedlePointer="Needle Pointer"]="NeedlePointer";n[n.RangeWithNeedle="Range with Needle"]="RangeWithNeedle"}(ValuePointers||(ValuePointers={})),function(n){n[n.Triangle="Triangle"]="Triangle";n[n.InvertedTriangle="Inverted Triangle"]="InvertedTriangle";n[n.Line="Line"]="Line"}(TargetPointers||(TargetPointers={})),function(n){n[n.Inside=0]="Inside";n[n.Outside=1]="Outside"}(TicksPosition||(TicksPosition={})),function(n){n[n.Inside=0]="Inside";n[n.Outside=1]="Outside"}(ValueLabelPosition||(ValueLabelPosition={})),function(n){n[n.Inside=0]="Inside";n[n.Outside=1]="Outside"}(ScaleLabelPosition||(ScaleLabelPosition={})),function(n){n[n.Thin=0]="Thin";n[n.Medium=1]="Medium";n[n.Thick=2]="Thick"}(RangeWidth||(RangeWidth={})),function(n){n[n.ValueLabel="Value Label"]="ValueLabel";n[n.RangeLabel="Range Label"]="RangeLabel"}(LabelType||(LabelType={}));var VirtualScrollSettings=function(){function n(){this.PageSize=100;this.StartIndex=1;this.FieldLastRecord=[]}return n}(),CardProperties=function(n){function t(t){var i=n.call(this,t)||this;return i.__type="Syncfusion.Dashboard.Web.Serialization.Model.DOM.CardProperties",i.PrimaryValueType=PrimaryValueType.PercentOfTarget,i.SecondaryValueType="Variation",i.ActualValueForeground="#686262",i.TitleSettings=new TitleSetting,i.SubTitleSettings=new SubTitleSetting,i.CustomRangeSettings=new CardCustomRangeSetting,i.ActualValuePrefix="",i.TargetValuePrefix="",i.Direction=!0,i.HasCustomTitle=!1,i.ValueAlignment=TextAlignment.Right,i.ShowIndicatorOnly=!1,i.EnableCompactView=!1,i.ShowActualValue=!0,i.ShowSecondaryValue=!0,i.ShowPrimaryValue=!0,i.ShowIndicator=!0,i.UniformSizing=!1,i.SparklineSettings=new SparkLineSettings,i.ActualValueTextAlignment=TextAlignment.Right,i.AdditionalValueAlignment=TextAlignment.Right,i.SecondaryValueAlignment=TextAlignment.Right,i.PrimaryValueAlignment=TextAlignment.Right,i}return __extends(t,n),t}(WidgetProperties),TitleSetting=function(){function n(){this.__type="Syncfusion.Dashboard.Web.Serialization.Model.DOM.Card.TitleSetting";this.Visibility=!0;this.Alignment=TextAlignment.Left;this.Color="#686262"}return n}(),SubTitleSetting=function(){function n(){this.__type="Syncfusion.Dashboard.Web.Serialization.Model.DOM.Card.SubTitleSetting";this.Visibility=!1;this.Color="#686262"}return n}(),CardCustomRangeSetting=function(){function n(){this.__type="Syncfusion.Dashboard.Web.Serialization.Model.DOM.Card.CardCustomRangeSetting";this.Type=CustomRangeType.Absolute;this.Ranges=[]}return n}(),CustomRangeType;(function(n){n[n.Absolute=0]="Absolute";n[n.Percent=1]="Percent"})(CustomRangeType||(CustomRangeType={})),function(n){n[n.AbsoluteDifference="Absolute Difference"]="AbsoluteDifference";n[n.PercentOfDifference="Percent of Difference"]="PercentOfDifference";n[n.PercentOfTarget="Percent of Target"]="PercentOfTarget";n[n.ActualValue="Actual Value"]="ActualValue";n[n.PercentOfChange="Percent of Change"]="PercentOfChange"}(PrimaryValueType||(PrimaryValueType={}));SparkLineSettings=function(){function n(){this.__type="Syncfusion.Dashboard.Web.Serialization.Model.DOM.Card.SparkLineSettings";this.LowValueColor="#1F497D";this.HighValueColor="#FFC000";this.ShowMarker=!0;this.Opacity=1;this.Type=SparkLineType.Line}return n}(),function(n){n[n.Line=0]="Line";n[n.Area=1]="Area";n[n.Column=2]="Column"}(SparkLineType||(SparkLineType={}));var CardCustomRange=function(){function n(){this.__type="Syncfusion.Dashboard.Web.Serialization.Model.DOM.Card.CardCustomRange"}return n}(),KPICardProperties=function(n){function t(t){var i=n.call(this,t)||this;return i.__type="Syncfusion.Dashboard.Web.Serialization.Model.DOM.KPICardProperties",i.TitleSettings=new KPICardTitleSettings,i.IndicatorSettings=new IndicatorSettings,i.KPIValueSettings=new KPIValueSettings,i.LeftValueSettings=new ValueSettings(!0),i.RightValueSettings=new ValueSettings(!1),i.LeftCaptionSettings=new CaptionSettings,i.RightCaptionSettings=new CaptionSettings,i.ImageSettings=new CardImageSettings,i.BackgroundSettings=new BackgroundSettings,i.SparklineSettings=new SparklineSettings,i.ColorSettings=new KPICardColorSettings,i.Direction="High is Good",i.ShowTooltip=!0,i.SeparatorSettings=new SeparatorSettings,i.FormatSettings=new MeasureFormatting,i.UrlLink=new UrlLink,i.AnimationSettings=new AnimationSettings,i.SeriesSettings=new SeriesSettings,i.IsFixedLayout=!1,i.ResponsiveMargin=!1,i}return __extends(t,n),t}(VisualWidgetProperties),KPICardTitleSettings=function(){function n(){this.__type="Syncfusion.Dashboard.Web.Serialization.Model.DOM.KPICard.KPICardTitleSettings";this.Visibility=!0;this.Color="#505D6F";this.FontSize=16}return n}(),IndicatorSettings=function(){function n(){this._type="Syncfusion.Dashboard.Web.Serialization.Model.DOM.KPICard.IndicatorSettings";this.LowValueType="PointerDown";this.HighValueType="PointerUp";this.WarningType="Round";this.Visibility=!0;this.Color="Green";this.FontSize=24;this.ColorType="Direction Color";this.Placement="KPI Value";this.Position="Left"}return n}(),KPIValueSettings=function(){function n(){this._type="Syncfusion.Dashboard.Web.Serialization.Model.DOM.KPICard.KPIValueSettings";this.ValueType="Absolute Difference";this.Visibility=!0;this.Color="#505D6F";this.FontSize=64;this.ColorType="Custom Color"}return n}(),ValueSettings=function(){function n(n){this._type="Syncfusion.Dashboard.Web.Serialization.Model.DOM.KPICard.ValueSettings";this.FontSize=16;this.Color="#505D6F";this.Visibility=!0;this.ValueType=n?"Actual Value":"Target Value";this.ColorType="Custom Color"}return n}(),CaptionSettings=function(){function n(){this._type="Syncfusion.Dashboard.Web.Serialization.Model.DOM.KPICard.CaptionSettings";this.Color="#505D6F";this.FontSize=16;this.Visibility=!0;this.ColorType="Custom Color"}return n}(),CardImageSettings=function(){function n(){this._type="Syncfusion.Dashboard.Web.Serialization.Model.DOM.KPICard.CardImageSettings";this.ImageMode="Uniform";this.ImageUrl="";this.ImageSource="Local";this.URLPattern="{0}";this.Visibility=!1;this.FilePath="";this.ImageName="";this.ImagePosition="Left"}return n}(),BackgroundSettings=function(){function n(){this._type="Syncfusion.Dashboard.Web.Serialization.Model.DOM.KPICard.BackgroundColorSettings";this.Color="#ffffff";this.PlotArea="KPI Background";this.Image=new CardImageSettings;this.Transparency=.5}return n}(),SparklineSettings=function(){function n(){this._type="Syncfusion.Dashboard.Web.Serialization.Model.DOM.KPICard.SparklineSettings";this.Fill="#0d9948";this.Visibility=!0;this.ColorType="Direction Color";this.Opacity=1}return n}(),KPICardColorSettings=function(){function n(){this._type="Syncfusion.Dashboard.Web.Serialization.Model.DOM.KPICard.KPICardColorSettings";this.HighValueColor="#2CD9C5";this.LowValueColor="#FF6C40";this.NeutralColor="#e5ed00";this.Direction="High is Good"}return n}(),SeparatorSettings=function(){function n(){this._type="Syncfusion.Dashboard.Web.Serialization.Model.DOM.KPICard.SeparatorSettings";this.Color="#9AA1A9"}return n}(),ComboChartProperties=function(n){function t(t){var i=n.call(this,t)||this;return i.__type="Syncfusion.Dashboard.Web.Serialization.Model.DOM.ComboChartProperties",i.ChartType=BoldBIDashboard.DashboardDesignerUtility.Serialization.enumToString(ChartTypes,ChartTypes.ComboChart),i.EnableAnimation=!1,i.ShowLegend=!0,i.ShowTooltip=!0,i.IsAutoLegendFontSize=!0,i.LegendFontSize=16,i.DefaultColors=[],i.ShowValueLabels=!1,i.EnableSmoothScroll=!1,i.ValueLabelRotation=BoldBIDashboard.DashboardDesignerUtility.Serialization.enumToString(ValueLabelRotations,ValueLabelRotations.None),i.LegendPosition=BoldBIDashboard.DashboardDesignerUtility.Serialization.enumToString(LegendPositions,LegendPositions.Auto),i.LegendTitle="",i.IsAutoLegendTitleFontSize=!0,i.LegendTitleFontSize=16,i.ShowValueLabelSuffix=!1,i.ValueLabelSuffix="",i.PrimaryValueGridLines=!0,i.SecondaryValueGridLines=!1,i.CategoryGridLines=!1,i.ShowMarker=!0,i.ShowNoDataItem=!1,i.Axis=new Axis,i.DataLabel=BoldBIDashboard.DashboardDesignerUtility.Serialization.enumToString(DataLabel,DataLabel.Percentage),i.IsEnableDrillDown=!1,i.DisplayNames=[],i.IsBasicChartType=!1,i.CustomLegendBtnVisibilty=!1,i.CustomLegendInfo=new CustomLegendSettings,i.CustomValueLabels=[],i.IsCustomLegend=!1,i.IsColorPaletteCategoryVisible=!1,i.IsDefaultColorPalette=!0,i.ColorPaletteModel=[],i.TrendLineSettings=[],i.ChartSeriesTypeInfo=[],i.PrimaryAxisRange=new AxisRange,i.SecondaryAxisRange=new AxisRange,i.ForecastProperties=new ForecastProperties,i.LegendShape=BoldBIDashboard.DashboardDesignerUtility.Serialization.enumToString(LegendShape,LegendShape.Circle),i.ColumnSpacing=.2,i.ColumnWidth=.7,i.ValueLabel=new ColorSet,i.LegendLabel=new ColorSet,i.AxisTitle=new ColorSet,i.AxisLabel=new ColorSet,i.ValueLabel.Color="#000000",i.LegendLabel.Color="#000000",i.AxisTitle.Color="#000000",i.AxisLabel.Color="#000000",i.EnableMultiSelection=!1,i.IsAutoValueLabelFontSize=!0,i.ValueLabelFontSize=16,i.ValueLabelPosition=BoldBIDashboard.DashboardDesignerUtility.Serialization.enumToString(ValueLabelPlacement,ValueLabelPlacement.Auto),i}return __extends(t,n),t}(VisualWidgetProperties),ChartSeriesType=function(){function n(){this.__type="Syncfusion.Dashboard.Web.Serialization.Model.DOM.Chart.ChartSeriesType";this.UniqueColumnName="";this.ChartType="";this.IsSecondaryAxis=!1;this.FieldName=""}return n}(),BubbleScatterChartProperties=function(n){function t(t){var i=n.call(this,t)||this;return i.__type="Syncfusion.Dashboard.Web.Serialization.Model.DOM.BubbleScatterChartProperties",i.EnableAnimation=!1,i.ShowLegend=!0,i.ShowTooltip=!0,i.LegendPosition=BoldBIDashboard.DashboardDesignerUtility.Serialization.enumToString(LegendPositions,LegendPositions.Auto),i.ChartSeriesType=[],i.CustomLegendInfo=new CustomLegendSettings,i.IsCustomLegend=!1,i.ShowValueLabel=!1,i.PrimaryValueGridLines=!0,i.CategoryAxisGridLines=!1,i.DefaultColors=[],i.ColorPaletteModel=[],i.UrlLink=new UrlLink,i.CategoryAxisSettings=new BubbleScatterCategoryAxis,i.PrimaryValueAxisSettings=new BubbleScatterPrimaryValueAxis,i.IsDefaultColorPalette=!0,i}return __extends(t,n),t}(VisualWidgetProperties),RadarPolarChartProperties=function(n){function t(t){var i=n.call(this,t)||this;return i.__type="Syncfusion.Dashboard.Web.Serialization.Model.DOM.RadarPolarChartProperties",i.DrawType=BoldBIDashboard.DashboardDesignerUtility.Serialization.enumToString(DrawType,DrawType.Polar),i.ChartType=BoldBIDashboard.DashboardDesignerUtility.Serialization.enumToString(RadarPolarType,RadarPolarType.Area),i.EnableAnimation=!1,i.ShowMarker=!0,i.ShowLegend=!0,i.ShowTooltip=!0,i.LegendPosition=BoldBIDashboard.DashboardDesignerUtility.Serialization.enumToString(LegendPosition,LegendPosition.Bottom),i.EditLegend=new CustomLegendSettings,i.ShowValueLabel=!1,i.UrlLink=new UrlLink,i.Inversed=!1,i.PrimaryAxisRange=new AxisRange,i.CustomLegendBtnVisibilty=!1,i.IsCustomLegend=!1,i.IsDefaultColorPalette=!0,i.ColorPaletteModel=[],i.DefaultColors=[],i.CategoryAxisSettings=new RadarPolarCategoryAxis,i.PrimaryValueAxisSettings=new RadarPolarPrimaryValueAxis,i.PrimaryValueGridLines=!0,i.CategoryAxisGridLines=!0,i.LegendShape=BoldBIDashboard.DashboardDesignerUtility.Serialization.enumToString(LegendShape,LegendShape.Circle),i}return __extends(t,n),t}(WidgetProperties),DrawType;(function(n){n[n.Radar="Radar"]="Radar";n[n.Polar="Polar"]="Polar"})(DrawType||(DrawType={}));var RadarPolarPrimaryValueAxis=function(){function n(){this.__type="Syncfusion.Dashboard.Web.Serialization.Model.DOM.RadarPolarPrimaryValueAxis";this.IsEnabled=!0;this.InverseAxis=!1}return n}(),RadarPolarCategoryAxis=function(){function n(){this.__type="Syncfusion.Dashboard.Web.Serialization.Model.DOM.RadarPolarCategoryAxis";this.IsEnabled=!0;this.InverseAxis=!1}return n}(),BubbleScatterCategoryAxis=function(){function n(){this.__type="Syncfusion.Dashboard.Web.Serialization.Model.DOM.BubbleScatter.BubbleScatterCategoryAxis";this.IsEnabled=!0;this.IsEnableTitle=!0;this.Title="";this.LabelRotation=BoldBIDashboard.DashboardDesignerUtility.Serialization.enumToString(ValueLabelRotations,ValueLabelRotations.Auto);this.IsCustomTitle=!1;this.Format=new MeasureFormatting}return n}(),BubbleScatterPrimaryValueAxis=function(){function n(){this.__type="Syncfusion.Dashboard.Web.Serialization.Model.DOM.BubbleScatter.BubbleScatterPrimaryValueAxis";this.IsEnabled=!0;this.IsEnableTitle=!0;this.Title="";this.IsCustomTitle=!1;this.OpposedAxis=!1;this.Format=new MeasureFormatting}return n}(),LegendPosition;(function(n){n[n.Bottom="Bottom"]="Bottom";n[n.Right="Right"]="Right";n[n.Left="Left"]="Left";n[n.Top="Top"]="Top"})(LegendPosition||(LegendPosition={})),function(n){n[n.Line="Line"]="Line";n[n.Column="Column"]="Column";n[n.Area="Area"]="Area";n[n.Spline="Spline"]="Spline";n[n.Scatter="Scatter"]="Scatter";n[n.StackedArea="Stacked Area"]="StackedArea";n[n.Stackedcolumn="Stacked Column"]="Stackedcolumn"}(RadarPolarType||(RadarPolarType={}));var NumberCardProperties=function(n){function t(t){var i=n.call(this,t)||this;return i.__type="Syncfusion.Dashboard.Web.Serialization.Model.DOM.NumberCardProperties",i.TitleSettings=new NumberCardTitleSettings,i.MeasureSettings=new MeasureSettings,i.ShowTooltip=!0,i.ImageSettings=new NumberCardImageSettings,i.BackgroundSettings=new NumberCardBackgroundSettings,i.SparklineSettings=new NumberCardSparklineSettings,i.FormatSettings=new MeasureFormatting,i.UrlLink=new UrlLink,i.AnimationSettings=new AnimationSettings,i.SeriesSettings=new SeriesSettings,i.AlignmentSettings=new AlignmentSettings,i.ResponsiveMargin=!1,i}return __extends(t,n),t}(VisualWidgetProperties),AlignmentSettings=function(){function n(){this.__type="Syncfusion.Dashboard.Web.Serialization.Model.DOM.AlignmentSettings";this.HorizontalAlignment="Left";this.VerticalAlignment="Center";this.AutoFontSize=!1;this.ScalingFactor=1}return n}(),SeriesSettings=function(){function n(){this.__type="Syncfusion.Dashboard.Web.Serialization.Model.DOM.SeriesSettings";this.IsFixedRowsAndColumns=!1;this.RowCount=1;this.ColumnCount=1}return n}(),AnimationSettings=function(){function n(){this.__type="Syncfusion.Dashboard.Web.Serialization.Model.DOM.AnimationSettings";this.EnableAnimation=!1;this.AnimationDuration=1500}return n}(),NumberCardTitleSettings=function(){function n(){this.__type="Syncfusion.Dashboard.Web.Serialization.Model.DOM.NumberCard.NumberCardTitleSettings";this.Visibility=!0;this.Color="#505D6F";this.FontSize=16;this.Text="Card Title";this.Position="Bottom";this.EnableWrap=!1}return n}(),MeasureSettings=function(){function n(){this._type="Syncfusion.Dashboard.Web.Serialization.Model.DOM.NumberCard.MeasureSettings";this.FontSize=64;this.Color="#505D6F";this.Visibility=!0;this.EnableAnimation=!1}return n}(),NumberCardImageSettings=function(){function n(){this._type="Syncfusion.Dashboard.Web.Serialization.Model.DOM.NumberCard.NumberCardImageSettings";this.ImageMode="Uniform";this.ImageUrl="";this.ImageSource="Local";this.URLPattern="{0}";this.Visibility=!1;this.FilePath="";this.ImageName="";this.ImagePosition="Right"}return n}(),NumberCardBackgroundSettings=function(){function n(){this._type="Syncfusion.Dashboard.Web.Serialization.Model.DOM.NumberCard.NumberCardBackgroundSettings";this.Color="#ffffff";this.PlotArea="Card Background";this.Image=new CardImageSettings;this.Transparency=.5}return n}(),NumberCardSparklineSettings=function(){function n(){this._type="Syncfusion.Dashboard.Web.Serialization.Model.DOM.NumberCard.SparklineSettings";this.Fill="#F29D38";this.Visibility=!0;this.Opacity=1}return n}(),RTEProperties=function(n){function t(t){var i=n.call(this,t)||this;return i.__type="Syncfusion.Dashboard.Web.Serialization.Model.DOM.RTEProperties",i.Value="",i.VerticalAlign=null,i}return __extends(t,n),t}(WidgetProperties),DateBucketProperties=function(n){function t(t){var i=n.call(this,t)||this;return i.__type="Syncfusion.Dashboard.Web.Serialization.Model.DOM.DateBucketProperties",i.selectedValue="Date",i.ConfiguredWidgetList=[],i}return __extends(t,n),t}(WidgetProperties),CombineProperties=function(n){function t(t){var i=n.call(this,t)||this;return i.__type="Syncfusion.Dashboard.Web.Serialization.Model.DOM.CombineProperties",i.DraggedWidgetList=[],i.FilterSettings.IgnoreFilterActions=!0,i}return __extends(t,n),t}(VisualWidgetProperties),LineWidgetProperties=function(n){function t(t){var i=n.call(this,t)||this;return i.__type="Syncfusion.Dashboard.Web.Serialization.Model.DOM.LineWidgetProperties",i.IsHorizontal=!0,i.Thickness=2,i.Padding=10,i.LineType="Solid",i.Color="#dbdbdb",i.FilterSettings.IgnoreFilterActions=!0,i}return __extends(t,n),t}(WidgetProperties),ChartProperties=function(n){function t(t){var i=n.call(this,t)||this;return i.__type="Syncfusion.Dashboard.Web.Serialization.Model.DOM.ChartProperties",i.ChartType=BoldBIDashboard.DashboardDesignerUtility.Serialization.enumToString(ChartTypes,ChartTypes.Column),i.EnableAnimation=!1,i.Radius=.4,i.LineWidth=1,i.ShowLegend=!0,i.ShowLegendAsDropDown=!1,i.IsLegendDropdownAllSelected=!0,i.UnselectedLegendList=[],i.ShowTooltip=!0,i.IsAutoLegendFontSize=!0,i.LegendFontSize=16,i.Chartsize=.8,i.DefaultColors=[],i.ShowValueLabels=!1,i.EnableSmoothScroll=!1,i.ValueLabelRotation=BoldBIDashboard.DashboardDesignerUtility.Serialization.enumToString(ValueLabelRotations,ValueLabelRotations.None),i.LegendPosition=BoldBIDashboard.DashboardDesignerUtility.Serialization.enumToString(LegendPositions,LegendPositions.Auto),i.LegendTitle="",i.LegendTextOverFlow=BoldBIDashboard.DashboardDesignerUtility.Serialization.enumToString(LegendTextOverFlow,LegendTextOverFlow.None),i.ColorMappingType=BoldBIDashboard.DashboardDesignerUtility.Serialization.enumToString(ColorMappingType,ColorMappingType.Data),i.LegendTextWidth=100,i.IsAutoLegendTitleFontSize=!0,i.LegendTitleFontSize=16,i.ShowValueLabelSuffix=!1,i.ValueLabelSuffix="",i.PrimaryValueGridLines=!0,i.SecondaryValueGridLines=!1,i.CategoryGridLines=!1,i.ShowMarker=!0,i.ShowNoDataItem=!1,i.Axis=new Axis,i.DataLabel=BoldBIDashboard.DashboardDesignerUtility.Serialization.enumToString(DataLabel,DataLabel.Category),i.IsEnableDrillDown=!1,i.DisplayNames=[],i.IsBasicChartType=!1,i.CustomLegendBtnVisibilty=!1,i.CustomLegendInfo=new CustomLegendSettings,i.CustomValueLabels=[],i.IsCustomLegend=!1,i.IsColorPaletteCategoryVisible=!1,i.IsDefaultColorPalette=!0,i.ColorPaletteModel=[],i.IndexColorPalette=[],i.TrendLineSettings=[],i.ChartSeriesTypeInfo=[],i.PrimaryAxisRange=new AxisRange,i.SecondaryAxisRange=new AxisRange,i.ForecastProperties=new ForecastProperties,i.LegendShape=BoldBIDashboard.DashboardDesignerUtility.Serialization.enumToString(LegendShape,LegendShape.Circle),i.ColumnSpacing=.2,i.ColumnWidth=.7,i.ValueLabel=new ColorSet,i.LegendLabel=new ColorSet,i.AxisTitle=new ColorSet,i.AxisLabel=new ColorSet,i.ValueLabel.Color="#000000",i.LegendLabel.Color="#000000",i.AxisTitle.Color="#000000",i.AxisLabel.Color="#000000",i.EnableMultiSelection=!1,i.IsAutoValueLabelFontSize=!0,i.ValueLabelFontSize=16,i.IsInversed=!1,i.ValueLabelPosition=BoldBIDashboard.DashboardDesignerUtility.Serialization.enumToString(ValueLabelPlacement,ValueLabelPlacement.Auto),i.EmptyPointMode=BoldBIDashboard.DashboardDesignerUtility.Serialization.enumToString(EmptyPointMode,EmptyPointMode.Gap),i.PageSize=200,i.ShowValueInTooltip=!1,i.FixedSeriesSettings=new SeriesSettings,i}return __extends(t,n),t}(VisualWidgetProperties),ChartLegendDropdownList=function(){function n(){this._type="Syncfusion.Dashboard.Web.Serialization.Model.DOM.Chart.ChartLegendDropdownList";this.SeriesUniqueID="";this.SeriesLegendName=""}return n}(),ColorPaletteModelSetting=function(){function n(){this.__type="Syncfusion.Dashboard.Web.Serialization.Model.DOM.Chart.ColorPaletteModelSetting";this.Name="";this.Value="";this.IsModified=!1;this.Id="";this.DefaultValue=""}return n}(),TrendLineSettings=function(){function n(){this._type="Syncfusion.Dashboard.Web.Serialization.Model.DOM.Chart.TrendLineSettings";this.CustomName="";this.LineColor="#77A7FB";this.LineStyle="";this.LineType="Linear";this.LineVisible=!0;this.LineWidth=1;this.Order=0;this.Name="";this.UniqueName="";this.Id=""}return n}(),CustomLegendSettings=function(){function n(){this.__type="Syncfusion.Dashboard.Web.Serialization.Model.DOM.Chart.CustomLegendSettings";this.Type=BoldBIDashboard.DashboardDesignerUtility.Serialization.enumToString(CustomLegendType,CustomLegendType.Individual);this.Format="{{:Row}}({{:Value}})";this.SingleValues=[];this.GroupValues=new CustomLegendsForGroup}return n}(),CustomValueLabels=function(){function n(){this._type="Syncfusion.Dashboard.Web.Serialization.Model.DOM.Chart.ValueLabels";this.Name="";this.IsEnabled=!1;this.UniqueColumnName=""}return n}(),ScatterChartSeriesType=function(){function n(){this._type="Syncfusion.Dashboard.Web.Serialization.Model.DOM.BubbleScatter.ScatterSeriesType";this.Name="";this.Shape=BoldBIDashboard.DashboardDesignerUtility.Serialization.enumToString(ChartSeriesShape,ChartSeriesShape.Circle);this.UniqueColumnName=""}return n}(),CustomLegendsForIndividual=function(){function n(){this.__type="Syncfusion.Dashboard.Web.Serialization.Model.DOM.Chart.CustomLegendsForIndividual";this.Name="";this.Caption="";this.Value="";this.IsModified=!1;this.Id=""}return n}(),CustomLegendsForGroup=function(){function n(){this.__type="Syncfusion.Dashboard.Web.Serialization.Model.DOM.Chart.CustomLegendsForGroup";this.Values=[];this.Series=[]}return n}(),Axis=function(){function n(){this.__type="Syncfusion.Dashboard.Web.Serialization.Model.DOM.Chart.Axis";this.CategoryAxis=new CategoryAxis;this.PrimaryValueAxis=new PrimaryValueAxis;this.SecondaryValueAxis=new SecondaryValueAxis}return n}(),CategoryAxis=function(){function n(){this.__type="Syncfusion.Dashboard.Web.Serialization.Model.DOM.Chart.CategoryAxis";this.IsEnabled=!0;this.LabelOverflowMode=LabelOverFlowMode.Auto.toString();this.LabelRotation="Auto";this.ShowTitle=!0;this.Title="";this.IsCustomTitle=!1;this.MaxLabelWidth=100;this.EnableTrim=!1;this.IsAutoCategoryAxisLabelFontSize=!0;this.CategoryAxisLabelFontSize=16;this.IsAutoCategoryAxisTitleFontSize=!0;this.CategoryAxisTitleFontSize=16;this.IsAutoInterval=!0;this.Interval=1}return n}(),PrimaryValueAxis=function(){function n(){this.__type="Syncfusion.Dashboard.Web.Serialization.Model.DOM.Chart.PrimaryValueAxis";this.IsEnabled=!0;this.ShowTitle=!0;this.Title="";this.IsCustomTitle=!1;this.AxisType=BoldBIDashboard.DashboardDesignerUtility.Serialization.enumToString(AxisType,AxisType.Linear);this.Format=new MeasureFormatting;this.IsAutoPrimaryAxisLabelFontSize=!0;this.PrimaryLabelFontSize=16;this.IsAutoPrimaryAxisTitleFontSize=!0;this.PrimaryTitleFontSize=16}return n}(),SecondaryValueAxis=function(){function n(){this.__type="Syncfusion.Dashboard.Web.Serialization.Model.DOM.Chart.SecondaryValueAxis";this.IsEnabled=!0;this.ShowTitle=!0;this.Title="";this.IsCustomTitle=!1;this.AxisType=BoldBIDashboard.DashboardDesignerUtility.Serialization.enumToString(AxisType,AxisType.Linear);this.Format=new MeasureFormatting;this.IsAutoSecondaryAxisLabelFontSize=!0;this.SecondaryLabelFontSize=16;this.IsAutoSecondaryAxisTitleFontSize=!0;this.SecondaryTitleFontSize=16}return n}(),AxisType;(function(n){n[n.Linear="Linear"]="Linear";n[n.Logarithmic="Logarithmic"]="Logarithmic"})(AxisType||(AxisType={}));var AxisRange=function(){function n(){this.__type="Syncfusion.Dashboard.Web.Serialization.DOM.Model.DOM.Chart.AxisRange";this.MinValue="";this.MaxValue="";this.Interval=""}return n}(),ForecastSettings=function(){function n(){this.__type="Syncfusion.Dashboard.Web.Serialization.Model.DOM.Chart.ForecastSettings";this.IsEnable=!1;this.Length=10;this.ConfidenceInterval=95;this.Seasonality=0}return n}(),ForecastProperties=function(){function n(){this.__type="Syncfusion.Dashboard.Web.Serialization.Model.DOM.Chart.ForecastProperties";this.ForecastSettings=new ForecastSettings;this.ShowForecast=!0;this.ForecastColor="#000000";this.ShowConfidence=!0;this.ConfidenceColor="#f5e4e4";this.LegendText="Upper and Lower Bounds";this.ConfidenceBandStyle=BoldBIDashboard.DashboardDesignerUtility.Serialization.enumToString(ConfidenceBandStyle,ConfidenceBandStyle.Fill)}return n}(),ConfidenceBandStyle;(function(n){n[n.Line="Line"]="Line";n[n.Fill="Fill"]="Fill";n[n.Dot="Dot"]="Dot"})(ConfidenceBandStyle||(ConfidenceBandStyle={}));ChartColumnSettinng=function(){function n(){this.__type="Syncfusion.Dashboard.Web.Serialization.Model.DOM.Chart.ChartColumnSetting"}return n}(),function(n){n[n.Auto="Auto"]="Auto";n[n.None="None"]="None";n[n.Plus45="+45"]="Plus45";n[n.Minus45="-45"]="Minus45";n[n.Plus90="+90"]="Plus90";n[n.Minus90="-90"]="Minus90"}(ValueLabelRotations||(ValueLabelRotations={})),function(n){n[n.Auto="Auto"]="Auto";n[n.Bottom="Bottom"]="Bottom";n[n.Middle="Middle"]="Middle";n[n.Top="Top"]="Top"}(ValueLabelPlacement||(ValueLabelPlacement={})),function(n){n[n.Gap="Gap"]="Gap";n[n.Zero="Zero"]="Zero";n[n.Average="Average"]="Average"}(EmptyPointMode||(EmptyPointMode={})),function(n){n[n.Auto="Auto"]="Auto";n[n.Bottom="Bottom"]="Bottom";n[n.Right="Right"]="Right";n[n.Left="Left"]="Left";n[n.Top="Top"]="Top"}(LegendPositions||(LegendPositions={})),function(n){n[n.Circle="Circle"]="Circle";n[n.Triangle="Triangle"]="Triangle";n[n.Rectangle="Rectangle"]="Rectangle";n[n.Diamond="Diamond"]="Diamond"}(ChartSeriesShape||(ChartSeriesShape={})),function(n){n[n.None="None"]="None";n[n.Trim="Trim"]="Trim";n[n.Wrap="Wrap"]="Wrap";n[n.WrapAndTrim="WrapAndTrim"]="WrapAndTrim"}(LegendTextOverFlow||(LegendTextOverFlow={})),function(n){n[n.Data="Data"]="Data";n[n.Index="Index"]="Index"}(ColorMappingType||(ColorMappingType={})),function(n){n[n.SeriesType="Series Type"]="SeriesType";n[n.Circle="Circle"]="Circle"}(LegendShape||(LegendShape={})),function(n){n[n.Auto="Auto"]="Auto";n[n.Ascending="Ascending"]="Ascending";n[n.Descending="Descending"]="Descending"}(SortSetting||(SortSetting={})),function(n){n[n.Column="Column"]="Column";n[n.Bar="Bar"]="Bar";n[n.Line="Line"]="Line";n[n.Area="Area"]="Area";n[n.Spline="Spline"]="Spline";n[n.SplineArea="Spline Area"]="SplineArea";n[n.StackedColumn="Stacked Column"]="StackedColumn";n[n.StackedBar="Stacked Bar"]="StackedBar";n[n.StackedArea="Stacked Area"]="StackedArea";n[n.PercentStackedColumn="100% Stacked Column"]="PercentStackedColumn";n[n.PercentStackedBar="100% Stacked Bar"]="PercentStackedBar";n[n.PercentStackedArea="100% Stacked Area"]="PercentStackedArea";n[n.Pie="Pie"]="Pie";n[n.Doughnut="Doughnut"]="Doughnut";n[n.Pyramid="Pyramid"]="Pyramid";n[n.Funnel="Funnel"]="Funnel";n[n.ComboChart="Combo Chart"]="ComboChart";n[n.Bubble="Bubble"]="Bubble";n[n.Scatter="Scatter"]="Scatter"}(ChartTypes||(ChartTypes={})),function(n){n[n.Trim="Trim"]="Trim";n[n.Hide="Hide"]="Hide";n[n.Auto="Auto"]="Auto"}(LabelOverFlowMode||(LabelOverFlowMode={})),function(n){n[n.Category="Category"]="Category";n[n.Value="Value"]="Value";n[n.Percentage="Percentage"]="Percentage";n[n.CategoryAndValue="Category And Value"]="CategoryAndValue";n[n.CategoryAndPercentage="Category And Percentage"]="CategoryAndPercentage";n[n.ValueAndPercentage="Value And Percentage"]="ValueAndPercentage";n[n.AllDetails="All Details"]="AllDetails"}(DataLabel||(DataLabel={})),function(n){n.Individual="Individual";n.Group="Group"}(CustomLegendType||(CustomLegendType={}));ImageProperties=function(n){function t(t){var i=n.call(this,t)||this;return i.__type="Syncfusion.Dashboard.Web.Serialization.Model.DOM.ImageProperties",i.EnableImageExport=!0,i.EnablePdfExport=!0,i.IgnoreFilterActions=!0,i.BindFromDatasource=!0,i.Stretch=ImageMode.Default,i.ImageSource=ImgSource.Local,i.PaddingSettings=new PaddingSettings,i.ImageRotation=BoldBIDashboard.DashboardDesignerUtility.Serialization.enumToString(ImageRotations,ImageRotations.ZeroDeg),i.DataSource=DataSource.BinaryData,i.URLPattern="{0}",i.ImageUrl=null,i.ImagePath=null,i.IsURL=!1,i.IsImageExist=!1,i.BindDataIsChecked=!1,i.ImageName=null,i.IsInPackage=!1,i.Name="",i.UniqueName=null,i.imageSrc=null,i.ContainerSettings.CornerRadius=0,i}return __extends(t,n),t}(WidgetProperties);PaddingSettings=function(){function n(){this._type="Syncfusion.Dashboard.Web.Serialization.DOM.Model.DOM.Image.PaddingSettings";this.Bottom=0;this.Left=0;this.Right=0;this.Top=0}return n}(),function(n){n[n.Default="Default"]="Default";n[n.Fill="Fill"]="Fill";n[n.Uniform="Uniform"]="Uniform";n[n.UniformToFill="Uniform To Fill"]="UniformToFill"}(ImageMode||(ImageMode={})),function(n){n[n.BinaryData="Binary Data"]="BinaryData";n[n.URI="URI"]="URI"}(DataSource||(DataSource={})),function(n){n[n.Local="Local"]="Local";n[n.URL="URL"]="URL";n[n.ParameterizedURL="Parameterized URL"]="ParameterizedURL"}(ImgSource||(ImgSource={})),function(n){n[n.ZeroDeg="0"]="ZeroDeg";n[n.NinetyDeg="90"]="NinetyDeg";n[n.OneEightyDeg="180"]="OneEightyDeg";n[n.TwoSeventyDeg="270"]="TwoSeventyDeg"}(ImageRotations||(ImageRotations={}));LinkProperties=function(){function n(){this.__type="Syncfusion.Dashboard.Web.Serialization.Model.DOM.Common.LinkProperties";this.Linking=new LinkSetting}return n}();LinkSetting=function(){function n(){this.__type="Syncfusion.Dashboard.Web.Serialization.Model.DOM.LinkSetting"}return n}(),function(n){n[n.Filter=0]="Filter";n[n.NonFilter=1]="NonFilter"}(WidgetType||(WidgetType={}));var ColorCustomization=function(){function n(){this.__type="Syncfusion.Dashboard.Core.CustomColor.ColorCustomization";this.DefaultColor="#A8E1F4";this.Type=ColorCustomizationType.Gradient;this.GradientSettings=new GradientSettings;this.SolidColorInfo=[];this.RuleRangeSettings=new RuleRangeSettings}return n}(),GradientColorInfo=function(){function n(){this.__type="Syncfusion.Dashboard.Core.CustomColor.GradientColorInfo";this.HasMidColor=!1;this.Low=new GradientColorSettings;this.Mid=new GradientColorSettings;this.High=new GradientColorSettings;this.DefaultFormatColor=new GradientColorSettings;this.Low.Color="#fd2e56";this.Mid.Color="#e5ed00";this.High.Color="#4cd766";this.DefaultFormatColor.Color="#F67280"}return n}(),GradientSettings=function(){function n(){this.BasedOn=new ColorFieldInfo;this.GradientColorInfo=new GradientColorInfo}return n}(),RuleRangeSettings=function(){function n(){this.BasedOn=new ColorFieldInfo;this.RangeColorInfo=[]}return n}(),SolidColorSet=function(){function n(){this.BasedOn=new ColorFieldInfo;this.DefaultColorSets=[];this.ColorMappingType=BoldBIDashboard.DashboardDesignerUtility.Serialization.enumToString(ColorMappingType,ColorMappingType.Data);this.IndexColorPalette=[]}return n}(),ColorFieldInfo=function(){function n(){this.__type="Syncfusion.Dashboard.Core.CustomColor.ColorFieldInfo";this.SummaryType=SummaryType.SUM;this.FieldId="";this.UniqueColumnName="";this.ValueType=ValueType.Value;this.IsDefaultFormat=!1;this.DefaultFormatType=DefaultFormatType.Default}return n}(),GradientColorSettings=function(){function n(){this.__type="Syncfusion.Dashboard.Core.CustomColor.GradientColorSettings";this.IsCustom=!1;this.Value=null;this.Color="#A8E1F4"}return n}(),ColorCustomizationType;(function(n){n[n.Gradient=0]="Gradient";n[n.Rule=1]="Rule";n[n.Individual=2]="Individual"})(ColorCustomizationType||(ColorCustomizationType={})),function(n){n[n.Default=0]="Default";n[n.AsZero=1]="AsZero";n[n.Specific=2]="Specific"}(DefaultFormatType||(DefaultFormatType={})),function(n){n[n.Value=0]="Value";n[n.Percentage=1]="Percentage"}(ValueType||(ValueType={}));var RangeColorSettings=function(){function n(){this.__type="Syncfusion.Dashboard.Core.CustomColor.RangeColorSettings";this.StartRange=0;this.EndRange=0;this.IsCaseSensitive=!0;this.RangeLabel="";this.DimensionConditionalValue="";this.MeasureCondition=CMeasureConditionType.CEquals;this.DimensionCondition=CDimensionConditionType.Startswith;this.PropertyColorPair=[]}return n}(),PropertyColorSettings=function(){function n(){}return n}(),TableWidgetCustomColors=function(){function n(){this.SourceColorField=new ColorFieldInfo;this.ColorCustomization=new ColorCustomization;this.EnableAsBar=!1;this.BarCustomization=new BarCustomization}return n}(),BarCustomization=function(){function n(){this.__type="Syncfusion.Dashboard.Core.CustomColor.BarCustomization";this.Minimum=new MinMaxCustomization;this.Maximum=new MinMaxCustomization;this.PositiveColor=new BarColor;this.NegativeColor=new BarColor;this.BarTextColor=new BarColor;this.DisableValue=!1;this.PositiveColor.RgbColor="rgba(44,217,197,1)";this.PositiveColor.HexColor="#2CD9C5";this.NegativeColor.RgbColor="rgba(255,108,64,1)";this.NegativeColor.HexColor="#FF6C40";this.BarTextColor.RgbColor="rgba(255,255,255,1)";this.BarTextColor.HexColor="#FFFFFF";this.EnableRTL=!1;this.FieldName="";this.BarShape=BarShapeType.Cylinder}return n}(),BarShapeType;(function(n){n[n.Cylinder=0]="Cylinder";n[n.Rectangle=1]="Rectangle"})(BarShapeType||(BarShapeType={}));var MinMaxCustomization=function(){function n(){this.__type="Syncfusion.Dashboard.Core.CustomColor.MinMaxCustomization";this.Value=0;this.IsEdited=!1}return n}(),BarColor=function(){function n(){this.__type="Syncfusion.Dashboard.Core.CustomColor.BarColor";this.IsEdited=!1}return n}(),RangeNavigatorProperties=function(n){function t(t){var i=n.call(this,t)||this;return i.__type="Syncfusion.Dashboard.Web.Serialization.Model.DOM.RangeNavigatorProperties",i.SeriesType=[],i.DefaultColors=[],i.LabelColor=new ColorSet,i.LabelColor.Color="#505D6F",i}return __extends(t,n),t}(WidgetProperties),RangeNavigatorSeriesType=function(){function n(){this.Type=RangeNavigatorType.Area;this.Name=""}return n}(),RangeNavigatorType;(function(n){n[n.Area=0]="Area";n[n.Line=1]="Line";n[n.StepLine=2]="StepLine"})(RangeNavigatorType||(RangeNavigatorType={}));var ScriptInfo=function(){function n(){this.ScriptName=null;this.NameSpace=null}return n}(),RequiredScripts=function(){function n(){this.MainScript=null;this.DependentScripts=[]}return n}(),WidgetElementsVisibility=function(){function n(){this.ShowLegend=!1;this.ShowXAxisLabels=!1;this.ShowXAxisTitle=!1;this.ShowYAxisTitle=!1;this.ShowYAxisLabels=!1}return n}(),DaConditionalResult=function(){function n(){this.ConditionalInformations=new DaConditionalInformations;this.OverallResult=!1}return n}(),DaConditionalInformations=function(){function n(){this.ConditionalInfoColleciton=[];this.GlobalFilters=[]}return n}(),DaConditionalInfo=function(){function n(){this.Filters=[]}return n}(),DaFilter=function(){function n(){this.StringCondition=new DaStringCondition}return n}(),DaMeasureFieldInfo=function(){function n(){}return n}(),DaDatasourceFieldInfo=function(){function n(){}return n}(),DaStringCondition=function(){function n(){this.Values=[];this.DateInfo=null}return n}(),DaDateFilterInfo=function(){function n(){this.DateFormatInfo=null;this.FilterValues=[];this.RelativeDateFilter=null}return n}(),DaDashboardArguments=function(){function n(){}return n}(),DaCustomExpression=function(){function n(){}return n}(),DaCustomExpressionDialogArguments=function(){function n(){}return n}(),DataAlertArgs=function(){function n(){}return n}(),ConfiguredWidgetInfo=function(){function n(){}return n}(),FilterModel=function(){function n(){}return n}(),TabbedProperties=function(n){function t(t){var i=n.call(this,t)||this;return i.__type="Syncfusion.Dashboard.Web.Serialization.Model.DOM.TabbedProperties",i.ActiveTabId="",i.HideHeader=!1,i.WidgetsList=[],i.HeaderColor="#0565FF",i.HeaderFontSize=12,i.TabInfo=[],i.FilterSettings.IgnoreFilterActions=!0,i}return __extends(t,n),t}(VisualWidgetProperties),WidgetList=function(){function n(){this.TabId="";this.WidgetIds=[]}return n}(),TabInfo=function(){function n(){this.DisplayText="";this.UniqueText=""}return n}(),InternalMultiSelectionComboBox=function(){function n(n){this.waterMarkText="Search";this.listFieldName="text";this.listBoxElement=null;this.allowVirtualScrolling=!1;this.isDataLoaded=!1;this.dataConfiguration=null;this.ajaxRequestCollection=[];this.dataGroupInfo=null;this.currentData=null;this.isInitialLoad=null;this.isFiltered=!1;this.isFilterCleared=!1;this.isTriggered=!1;this.dimensionFilterInfo=null;this.checkAllState=!0;this.isInitialFilter=!1;this.filterInfo=[];this.unselectedItems={};this.selectedItems={};this.changedItems={};this.listBoxSelectedItems=[];this.listSize=1;this.filteringIndex=1;this.hasFilteredItems=!1;this.locale=null;this.dashboardDesigner=n;this.bbdesigner$=this.dashboardDesigner.bbdesigner$;this.locale=n.getLocalizationContent();this.id=this.dashboardDesigner._id;this.widgetHelper=this.dashboardDesigner.modules.widgetHelper;this.virtualScrollSettings=new VirtualScrollSettings;this.dataConfiguration=this.dashboardDesigner.modules.dataConfiguration;(this.dashboardDesigner.isDesignMode()||this.dashboardDesigner.isViewMode()||this.dashboardDesigner.isDesignPreviewMode())&&(this.dataGroupInfo=new BoldBIDashboard.Dashboard.DataGroupInfo)}return n.prototype.resetMultiSelection=function(n){this.dashboardDesigner.element.find("#"+n+"_popup_container").remove();this.dashboardDesigner.element.find("#"+n+"_multi_select_dropDown_text").empty()},n.prototype.renderMultiSelectionComboBox=function(n,t,i,r){var e,f,o,u;this.resetMultiSelection(t);this.isInitialFilter=!1;this.isFilterCleared=!1;e=BoldBIDashboard.isNullOrUndefined(this.dashboardDesigner.designerPanel)?null:this.widgetHelper.getCurrentWidgetInstance();BoldBIDashboard.isNullOrUndefined(e)||(this.dataGroupInfo=e.DataGroupInfo);this.dataSetId=i;this.rowId=t;f=BoldBIDashboard.buildTag("div.bbi-multiselect-dropdown-item","",{width:n.width()},{id:t+"_multi_select_dropDown"});o="All";BoldBIDashboard.isNullOrUndefined(r)||BoldBIDashboard.isNullOrUndefined(r.filterInfo)||(u=r.filterInfo.AllowFilterInfo,o=BoldBIDashboard.isNullOrUndefined(u)||BoldBIDashboard.isNullOrUndefined(u.FilterValues)||u.IsCheckAll?"All":u.FilterValues.toString());var h=BoldBIDashboard.buildTag("div",o,{"border-style":"none",width:n.width()-38,height:"100%","padding-left":"5px","line-height":"28px",float:"left","text-overflow":"ellipsis","white-space":"nowrap",overflow:"hidden"},{id:t+"_multi_select_dropDown_text"}),s=BoldBIDashboard.buildTag("div.bbi-designer-multi-selection-arrow-container","",{display:"inline-block",width:"33px",height:"100%"},{}),c=BoldBIDashboard.buildTag("span.bbi-designer-ejwidgets-updown e-icon e-arrow-sans-down","",{color:"#666666",padding:"7px 10px"});s.append(c);f.append(h,s);this.checkAllState=!0;this.selectedItems={};this.unselectedItems={};this.changedItems={};this.listBoxSelectedItems=[];this.currentData=[];this.dimensionFilterInfo=null;this.isFiltered=!1;this.isFilterCleared=!1;this.hasFilteredItems=!1;f.on("click",this.bbdesigner$.proxy(this.showPopupContainer,this,n,t,i,r));n.append(f).data("MultiSelectionComboBox",this);this.renderPopupContainer(t)},n.prototype.renderPopupContainer=function(n){var r=BoldBIDashboard.buildTag("div.e-multiselect-popup-container boldbi-dashboarddesigner","",{"min-width":"230px",height:"270px",position:"absolute",border:"1px solid #dddddd","background-color":"white","border-radius":"3px",display:"none","z-index":"10100",width:"245px"},{id:n+"_popup_container","data-rowid":n}),u=BoldBIDashboard.buildTag("table","",{width:"100%",padding:"5px 10px"},{}),f=BoldBIDashboard.buildTag("tr","",{},{}),e=BoldBIDashboard.buildTag("td","",{width:"50%"},{}),o=BoldBIDashboard.buildTag("td","",{width:"50%"},{}),s=BoldBIDashboard.buildTag("input","",{},{type:"checkbox",id:n+"_popup_container_Check_Box"}),k=BoldBIDashboard.buildTag("label",this.locale.dialogText.checkAll,{"margin-left":"10px","font-size":"14px"},{"for":n+"_popup_container_Check_Box"}),t,i;this.renderSearchPanel(o,n);e.append(s,k);f.append(e,o);u.append(f);t=BoldBIDashboard.buildTag("div.e-multiselect-waiting-popup","",{height:"150px","background-color":"white","box-sizing":"border-box","-moz-box-sizing":"border-box","-webkit-box-sizing":"border-box","z-index":"1010",padding:"5px 10px"},{id:n+"_popup_container_list_Box_div"});this.listBoxElement=BoldBIDashboard.buildTag("ul","",{},{id:n+"_popup_container_list_Box"});t.append(this.listBoxElement);var h=BoldBIDashboard.buildTag("table","",{width:"100%",padding:"5px 10px","border-bottom":"1px solid #dddddd"},{}),c=BoldBIDashboard.buildTag("tr","",{},{}),l=BoldBIDashboard.buildTag("td","",{width:"50%"},{}),a=BoldBIDashboard.buildTag("td","",{width:"50%"},{}),v=BoldBIDashboard.buildTag("input","",{"margin-left":"2px"},{type:"radio",name:"filtercondition",id:n+"_popup_container_list_Box_radio1"}),d=BoldBIDashboard.buildTag("label","Include",{"font-size":"12px","font-color":"#303541","padding-left":"3px"},{"for":n+"_popup_container_list_Box_radio1",type:"label"}),y=BoldBIDashboard.buildTag("input","",{"margin-left":"2px"},{type:"radio",name:"filtercondition",id:n+"_popup_container_list_Box_radio2"}),g=BoldBIDashboard.buildTag("label","Exclude",{"font-size":"12px","font-color":"#303541","padding-left":"3px"},{"for":n+"_popup_container_list_Box_radio2",type:"label"});h.append(c);c.append(l,a);l.append(v,d);a.append(y,g);var p=BoldBIDashboard.buildTag("div.e-footerbar.e-dialog.e-js","",{width:"100%",height:"45px","box-sizing":"border-box","-moz-box-sizing":"border-box","-webkit-box-sizing":"border-box",padding:"10px 5px"},{}),w=BoldBIDashboard.buildTag("button.bbi-dbrd-btn-small bbi-dbrd-btn-primary",this.locale.dialogOptions.applyButtonText,{float:"right"},{id:n+"_popup_container_ok_btn",type:"button"}),b=BoldBIDashboard.buildTag("button.bbi-dbrd-btn-small bbi-dbrd-btn-secondary bbi-dbrd-margin-left",this.locale.dialogOptions.cancelButtonText,{float:"right"},{id:n+"_popup_container_cancel_btn",type:"button"});p.append(b,w);r.append(u,t,h,p);this.dashboardDesigner.element.append(r);w.on("click",this.bbdesigner$.proxy(this.updatePopupContainerInformation,this,n));b.on("click",this.bbdesigner$.proxy(this.closePopupContainer,this,n));s.BoldBIDashboardCheckBox({width:"100%",change:this.bbdesigner$.proxy(this.updateCheckItemCheckChange,this,n)});i=this.getDefaultData();this.listBoxElement.BoldBIDashboardListBox({dataSource:i.Datasource,fields:i.Fields,showCheckbox:!0,width:"100%",height:"100%",cssClass:"bbi-dbrd-control",actionBegin:this.bbdesigner$.proxy(this.renderInitialData,this),actionComplete:this.bbdesigner$.proxy(this.updateItemSelection,this)});this.listBoxElement.BoldBIDashboardListBox("hideAllItems");v.BoldBIDashboardRadioButton({checked:!0,size:"small",cssClass:"e-designer-radio",change:this.bbdesigner$.proxy(this.updateListCondition,this,n)});y.BoldBIDashboardRadioButton({size:"small",cssClass:"e-designer-radio",change:this.bbdesigner$.proxy(this.updateListCondition,this,n)});t.BoldBIDashboardWaitingPopup({showOnInit:!1,cssClass:"e-designer-waitingpopup "+this.id+"_designer_waiting_popup bbi-designer-loader"})},n.prototype.renderSearchPanel=function(n,t){var i=BoldBIDashboard.buildTag("div","",{width:"107px",height:"16px",float:"right","margin-top":"3px"},{id:t+"_popup_container_searchPanel"}),r=BoldBIDashboard.buildTag("input.bbi-designer-fieldcontainer-search-dataassign","",{"border-radius":"5px","padding-left":"5px",color:"lightgrey","font-size":"11px",float:"left",width:"100px",height:"15px",border:"1px solid lightGray","font-style":"italic"},{id:t+"_popup_container_searchBox",placeholder:this.waterMarkText}),u=BoldBIDashboard.buildTag("div","",{},{id:t+"_popup_container_searchIcon","class":"e-icon e-search bbi-designer-popup-container-search-icon"});i.append(r);i.append(u);n.append(i);r.on("focus",this.bbdesigner$.proxy(this.onSearchFocus,this,t))},n.prototype.showPopupContainer=function(n,t,i,r){var e=this.getMultiSelectionComboBox(t),l=e.attr("data-fieldValue"),h=e.attr("data-fieldText"),o=this.dateFormats(e.attr("data-dateFormat")),f=this.getPopupContainer(t),a=f.height(),u;this.listBoxElement=this.getPopupListBox(t);var c=this.listBoxElement.data("BoldBIDashboardListBox"),y=f.css("display")==="block",s=n.offset(),v=s.left+parseFloat(n.css("padding-left"));n.width()<245&&(v=s.left+parseFloat(n.css("padding-left"))-(246-n.width()));var p=window.innerHeight-(s.top+n.height()),w=p>a,b=w?s.top+n.height()+2:s.top-a-4;f.css({left:v,top:b-this.dashboardDesigner.element.offset().top,display:y?"none":"block","z-index":BoldBIDashboard.getMaxZindex()});BoldBIDashboard.isNullOrUndefined(c)||c.hideAllItems();this.updateDropDownIcon(f,t);u=this.getPopupListBoxDiv(t);f.css("display")==="block"?(BoldBIDashboard.isNullOrUndefined(r)?BoldBIDashboard.isNullOrUndefined(o)?BoldBIDashboard.isNullOrUndefined(u.attr("data-fieldText"))||u.attr("data-fieldText")!==h?(this.filterInfo=[{Id:l,Name:h,SummaryType:"None",FieldType:"Dimensions"}],this.clearListItems(),this.getInitialFilterValues(t,o)):this.setPopupValues(t):BoldBIDashboard.isNullOrUndefined(u.attr("data-fieldText"))||u.attr("data-fieldText")!==h||BoldBIDashboard.isNullOrUndefined(u.attr("data-dateField"))||u.attr("data-dateField")!==o?(this.filterInfo=[{Id:l,Name:h,SummaryType:"None",FieldType:"Dimensions",DateTimeFormat:o}],this.clearListItems(),this.getInitialFilterValues(t,o)):this.setPopupValues(t):(this.dimensionFilterInfo=r,BoldBIDashboard.isNullOrUndefined(u.attr("data-isLoaded"))?this.getFieldValues(t,r):this.setPopupValues(t)),this.dashboardDesigner.element.find(".e-multiselect-popup-container-visible").length>0&&this.updatePopupContainerVisibility(this.dashboardDesigner.element.find(".e-multiselect-popup-container-visible")),e.addClass("bbi-dbrd-filter-dropdown"),f.addClass("e-multiselect-popup-container-visible")):(f.removeClass("e-multiselect-popup-container-visible"),e.removeClass("bbi-dbrd-filter-dropdown"),this.hideLoadingIndicator(t));c._refreshScroller()},n.prototype.getInitialFilterValues=function(n,t){this.ajaxRequestCollection.push(this.dashboardDesigner.modules.util.doAjaxPost("POST",this.dashboardDesigner.model.serviceUrl+BoldBIDashboard.Dashboard.ServiceAPI.processdata,{action:BoldBIDashboard.DashboardUtil.DesignerAction.getData,data:JSON.stringify({className:BoldBIDashboard.DashboardUtil.DesignerAction.FilterAction,designerAction:BoldBIDashboard.DashboardUtil.DesignerAction.getData,fieldInfo:this.filterInfo,dataSetId:this.dataSetId,filterType:"InitialFilter",hasFilter:!0,isQueryDesignerMode:this.dashboardDesigner.isQueryDesignerMode})},{fnction:this.bbdesigner$.proxy(this.setFieldInformation,this,n,this.filterInfo[0].Name,t),indicator:[this.bbdesigner$.proxy(this.showLoadingIndicator,this,n),this.bbdesigner$.proxy(this.hideLoadingIndicator,this,n)]}))},n.prototype.getFieldValues=function(n,t){var i,r;this.virtualScrollSettings.StartIndex=1;i=t.fieldInfo;i.FilterInfo=null;r=[i];this.dashboardDesigner.modules.util.doAjaxPost("POST",this.dashboardDesigner.model.serviceUrl+BoldBIDashboard.Dashboard.ServiceAPI.processdata,{action:BoldBIDashboard.DashboardUtil.DesignerAction.getData,data:JSON.stringify({className:BoldBIDashboard.DashboardUtil.DesignerAction.FilterAction,designerAction:BoldBIDashboard.DashboardUtil.DesignerAction.getData,fieldInfo:r,dataSetId:i.DatasourceID,startIndex:this.virtualScrollSettings.StartIndex,pageSize:this.virtualScrollSettings.PageSize,isQueryDesignerMode:this.dashboardDesigner.isQueryDesignerMode})},{fnction:this.bbdesigner$.proxy(this.setFilter,this,t,n),indicator:[this.bbdesigner$.proxy(this.showLoadingIndicator,this,n),this.bbdesigner$.proxy(this.hideLoadingIndicator,this,n)]})},n.prototype.setFilter=function(n,t,i){var u=JSON.parse(i.jsonData),r;this.allowVirtualScrolling=i.hasMoreRecords;this.listFieldName=n.fieldInfo.UniqueColumnName;this.setDataSource(t,u);this.getPopupListBoxDiv(t).attr("data-isLoaded","loaded");r=!BoldBIDashboard.isNullOrUndefined(n.filterInfo)&&!BoldBIDashboard.isNullOrUndefined(n.filterInfo.AllowFilterInfo)?n.filterInfo.AllowFilterInfo:null;BoldBIDashboard.isNullOrUndefined(r)||this.populateMultiSelectionItem(t,r);this.setPopupValues(t)},n.prototype.setDataSource=function(n,t){this.currentData=this.getDataSource(t);this.isInitialLoad=!0;this.listBoxElement.BoldBIDashboardListBox({dataSource:this.allowVirtualScrolling?this.updateDataManager():this.currentData,allowVirtualScrolling:!0,fields:{id:this.listFieldName,text:this.listFieldName},virtualScrollMode:"continuous",itemRequestCount:this.virtualScrollSettings.PageSize,actionComplete:this.bbdesigner$.proxy(this.updateItemSelection,this),actionSuccess:this.bbdesigner$.proxy(this.addLoader,this)});this.isInitialLoad=!1;this.listBoxElement.BoldBIDashboardListBox("showAllItems")},n.prototype.getDefaultData=function(){return{Datasource:[{itemId:"i1",itemName:"Item1"},{itemId:"i2",itemName:"Item2"},{itemId:"i3",itemName:"Item3"},{itemId:"i4",itemName:"Item4"},{itemId:"i5",itemName:"Item5"},{itemId:"i6",itemName:"Item6"},{itemId:"i7",itemName:"Item7"}],Fields:{id:"itemId",text:"itemName"}}},n.prototype.updateDataManager=function(){var n=this,t=new BoldBIDashboard.Adaptor(null).extend({processQuery:this.bbdesigner$.proxy(this.processQuery,this),beforeSend:function(t,i){n.dashboardDesigner.beforeSendRequestForDataManager("OnDemandDataAction",i)},processResponse:this.bbdesigner$.proxy(this.processResponse,this)});return new BoldBIDashboard.DataManager({url:this.dashboardDesigner.model.serviceUrl+BoldBIDashboard.Dashboard.ServiceAPI.processdata,adaptor:new t,crossDomain:!0})},n.prototype.renderInitialData=function(n){if(this.isInitialLoad&&!this.isFiltered){n.cancel=!0;var t=this.listBoxElement.data("BoldBIDashboardListBox");t.mergeData(this.currentData,!0);t.option("actionComplete",this.bbdesigner$.proxy(this.updateItemSelection,this));t.model.totalItemsCount=this.currentData.length+1;this.setItemEnable(this.rowId,!0);BoldBIDashboard.DashboardUtil.buttonEnable(this.getPopupCancelButton(this.rowId),!0)}},n.prototype.processQuery=function(n){var r,t,i,f,s,e,o,u;if(this.isInitialLoad&&!this.isFiltered||this.isTriggered)return n.cancel=!0,!1;for(r=this.listBoxElement.data("BoldBIDashboardListBox"),this.setItemEnable(this.rowId,!1),BoldBIDashboard.DashboardUtil.buttonEnable(this.getPopupCancelButton(this.rowId),!1),this.virtualScrollSettings.StartIndex=this.isFiltered?this.filteringIndex>1?r._listSize+1:1:r._listSize+1,t=this.isInitialFilter?this.filterInfo:this.dataConfiguration.convertDataGroupInfoToFieldInfo(this.dataGroupInfo),i=0;i<t.length;i++)if(t[i].Id===this.listFieldName||t[i].UniqueColumnName===this.listFieldName){(t[i].FilterInfo=null,this.isFiltered&&(f=JSON.parse(JSON.stringify(t[i])),t=[],t.push(f),s=this.getPopupSearchPanel(this.rowId),e=this.getSearchTextBox(s,this.rowId),e.val()!==""))&&(o=new FilterInfo,u=JSON.parse(JSON.stringify(f)),o.DimensionFilterInfo=this.getFilterInfo(this,e.val()),u.FilterInfo=o,u.isVisible=!1,t.push(u),this.isTriggered=!0);break}return r.setModel({checkChange:null}),{url:n.dataSource.url,type:"POST",contentType:"application/json",data:JSON.stringify({designerAction:BoldBIDashboard.DashboardUtil.DesignerAction.getData,className:BoldBIDashboard.DashboardUtil.DesignerAction.FilterAction,fieldInfo:t,dataSetId:BoldBIDashboard.isNullOrUndefined(this.dimensionFilterInfo)?this.dataSetId:this.dimensionFilterInfo.fieldInfo.DatasourceID,startIndex:this.virtualScrollSettings.StartIndex,pageSize:this.virtualScrollSettings.PageSize,filterType:this.isInitialFilter?"InitialFilter":"null",hasFilter:this.isFiltered,isQueryDesignerMode:this.dashboardDesigner.isQueryDesignerMode})}},n.prototype.processResponse=function(n){var t=this.listBoxElement.data("BoldBIDashboardListBox"),i;if(BoldBIDashboard.isNullOrUndefined(t)||BoldBIDashboard.isNullOrUndefined(n)||n.Error||n.data==="[]")this.isTriggered=!1,this.isFiltered&&(this.clearListItems(),this.getPopupSearchPanel(this.rowId).children().prop("disabled",!1).focus());else return i=JSON.parse(n.jsonData),this.isDataLoaded=!0,this.setItemEnable(this.rowId,!0),BoldBIDashboard.DashboardUtil.buttonEnable(this.getPopupCancelButton(this.rowId),!0),t.option("actionComplete",this.bbdesigner$.proxy(this.updateItemSelection,this)),this.isTriggered=!1,this.isFiltered?(this.listBoxElement.removeAttr("style"),t._refreshScroller(),t._loadInitialRemoteData=!0,this.filteringIndex===1&&(this.clearListItems(),t.mergeData(i,!0),this.filteringIndex=i.length+1,i=[]),t.model.totalItemsCount=n.hasMoreRecords?t._listSize+i.length+1:i.length<=5?1:i.length,this.removeListboxLoader(t),i):(t.model.totalItemsCount=n.hasMoreRecords?t._listSize+i.length+1:t._listSize+i.length,i);return[]},n.prototype.removeListboxLoader=function(n){BoldBIDashboard.isNullOrUndefined(n)||(n.listContainer.removeClass("e-load"),this.getPopupSearchPanel(this.rowId).children().prop("disabled",!1).focus())},n.prototype.processFilterDataRequest=function(n){var t=this,r=this.listBoxElement.data("BoldBIDashboardListBox"),i=this.getPopupSearchPanel(this.rowId),u=this.getSearchTextBox(i,this.rowId);this.getSearchIcon(i,n).addClass("e-close_01").removeClass("e-search");this.listBoxSelectedItems=[];r.listContainer.find("li .e-chkbox-wrap").filter("[aria-checked = true]").parent().each(function(n,i){t.listBoxSelectedItems.push(i.textContent)});this.clearListItems();setTimeout(function(){if(u.val().length>0){t.getPopupSearchPanel(n).children().prop("disabled",!0);u.removeClass("e-focus");t.getSearchIcon(i,n).off("click",t.bbdesigner$.proxy(t.onSearchCloseClick,t,n));t.getSearchIcon(i,n).on("click",t.bbdesigner$.proxy(t.onSearchCloseClick,t,n));r._oldStartValue=undefined;t.isFilterCleared=!1;t.isFiltered=!0;t.filteringIndex=1;t.filterInfo=[t.filterInfo[0]];t.listBoxElement.BoldBIDashboardListBox({dataSource:t.updateDataManager(),allowVirtualScrolling:!0,totalItemsCount:1,fields:{id:t.listFieldName,text:t.listFieldName},virtualScrollMode:"continuous",itemRequestCount:t.virtualScrollSettings.PageSize})}else t.getSearchIcon(i,n).addClass("e-search").removeClass("e-close_01"),t.isFilterCleared=!0,t.isFiltered=!1,t.isInitialFilter?(t.filterInfo=[t.filterInfo[0]],t.getInitialFilterValues(n,t.dateFormats(t.getMultiSelectionComboBox(n).attr("data-dateFormat")))):t.getFieldValues(n,t.dimensionFilterInfo)},800)},n.prototype.getFilterInfo=function(n,t){var i=new DimensionFilterInfo;return i.IsAllowFilteringApplied=!0,i.AllowFilterInfo=new AllowFilteringInfo,i.AllowFilterInfo.Conditions=BoldBIDashboard.isNullOrUndefined(this.getMultiSelectionComboBox(this.rowId).attr("data-dateField")||this.getPopupListBoxDiv(this.rowId).attr("data-dateField"))?TextFilterOption.Contains.toString():null,i.AllowFilterInfo.IsInclude=!0,i.AllowFilterInfo.FilterValues=[t],i},n.prototype.getDataSource=function(n){for(var i=function(t){n[t][Object.keys(n[t])]=Object.keys(n[t].valueOf()).map(function(i){return n[t].valueOf()[i].toString()})},t=0;t<n.length;t++)i(t);return n},n.prototype.setFieldInformation=function(n,t,i,r){var u,f,o,e;if(this.isInitialFilter=!0,u=JSON.parse(r.jsonData),!BoldBIDashboard.isNullOrUndefined(u)&&u.length>0){f=this.getPopupListBox(n).data("BoldBIDashboardListBox");for(o in u[0])this.listFieldName=o;u=this.getDataSource(u);this.allowVirtualScrolling=r.hasMoreRecords;this.setDataSource(n,u);e=this.getPopupListBoxDiv(n);BoldBIDashboard.isNullOrUndefined(f)||(f._oldStartValue=undefined);BoldBIDashboard.isNullOrUndefined(i)||e.attr("data-dateField",i);e.attr("data-fieldText",t);this.setPopupValues(n)}},n.prototype.addLoader=function(){var n=this.listBoxElement.data("BoldBIDashboardListBox");this.isFiltered&&this.isTriggered&&n.listContainer.addClass("e-load")},n.prototype.updateItemSelection=function(){var n=this.listBoxElement.data("BoldBIDashboardListBox"),i=!1,r=this.getPopupCheckBox(this.rowId).data("BoldBIDashboardCheckBox"),t;BoldBIDashboard.isNullOrUndefined(n)||((BoldBIDashboard.isNullOrUndefined(r.model.checkState)||r.model.checkState.indexOf("check")==0&&r.model.checked&&Object.keys(this.changedItems).length==0&&Object.keys(this.selectedItems).length==0)&&n.checkAll(),this.hasFilteredItems&&(t=this.checkAllState?this.getItemIndices(this.unselectedItems):this.getItemIndices(this.selectedItems),BoldBIDashboard.isNullOrUndefined(this.checkAllState)||this.checkAllState?n.checkAll():n.uncheckAll(),t.length>0&&(i=!0,this.checkAllState?n.uncheckItemsByIndices(t):n.checkItemsByIndices(t))),Object.keys(this.changedItems).length>0?(t=this.getItemIndices(this.changedItems),t.length>0?this.checkAllState?((n._listSize>=100||this.listSize>=100||!this.allowVirtualScrolling)&&n.checkAll(),n.uncheckItemsByIndices(t)):(i||n.uncheckAll(),n.checkItemsByIndices(t)):i||(this.checkAllState?n.checkAll():n.uncheckAll())):this.checkAllState||Object.keys(this.changedItems).length!=0||this.hasFilteredItems||n.uncheckAll(),n.setModel({checkChange:this.bbdesigner$.proxy(this.updateListItemCheckChange,this,this.rowId)}))},n.prototype.getItemIndices=function(n){var i=this,t=[];return Object.keys(n).forEach(function(n){var u=i.listBoxElement.find("li").filter(function(){return i.bbdesigner$(this).text()===n}),r;BoldBIDashboard.isNullOrUndefined(u)||(r=u.index(),r!==-1&&t.indexOf(r)===-1&&t.push(r))}),t},n.prototype.getCheckedUncheckedItems=function(n){for(var r=[],i=this.listBoxElement.find("li .e-chkbox-wrap").filter("[aria-checked ="+n+"]"),t=0;t<i.length;t++)this.selectedItems.hasOwnProperty(i[t].parentElement.textContent)||r.push(i[t].parentElement.textContent);return r},n.prototype.getSelectedItems=function(n,t){var u,f,r,i;if(!BoldBIDashboard.isNullOrUndefined(n)&&n.length>0){if(u=this.listBoxElement.find("li .e-chkbox-wrap"),f=u.length-n.length,u.length>0&&(this.hasFilteredItems=n.length>0),this.currentData!=null&&(t&&this.checkAllState||!t&&this.checkAllState))for(r=0;r<this.currentData.length;r++)n.indexOf(Object.values(this.currentData[r])[0].toString())==-1&&(this.selectedItems[Object.values(this.currentData[r])[0].toString()]=!0);for(i=0;i<n.length;i++)t&&this.checkAllState||!t&&this.checkAllState?this.unselectedItems[i]!=""&&(this.unselectedItems[n[i]]=!1):this.selectedItems[i]!=""&&(this.selectedItems[n[i]]=!0)}},n.prototype.setPopupValues=function(n){var t=this.getPopupCheckBox(n),f=this.getPopupListBox(n),i=f.data("BoldBIDashboardListBox"),r,u;BoldBIDashboard.isNullOrUndefined(i)||i.showAllItems();r=this.getPopupRadioButton1(n);!BoldBIDashboard.isNullOrUndefined(t)&&t.length>0&&(this.checkAllState&&Object.keys(this.changedItems).length==0&&Object.keys(this.selectedItems).length==0&&Object.keys(this.unselectedItems).length==0?(t.data("BoldBIDashboardCheckBox").setModel({enableTriState:!1}),t.data("BoldBIDashboardCheckBox").setModel({checkState:"checked",checked:!0}),i.checkAll(),i.setModel({checkChange:this.bbdesigner$.proxy(this.updateListItemCheckChange,this,n)})):this.checkAllState||Object.keys(this.changedItems).length!==0||Object.keys(this.selectedItems).length!=0||Object.keys(this.unselectedItems).length!=0?BoldBIDashboard.isNullOrUndefined(t.data("Filters"))?BoldBIDashboard.isNullOrUndefined(t.data("Filters"))&&Object.keys(this.changedItems).length>=i._listSize?t.data("BoldBIDashboardCheckBox").setModel({checkState:"check",checked:!0}):t.data("BoldBIDashboardCheckBox").setModel({enableTriState:!0,checkState:"indeterminate"}):i._listSize<=t.data("Filters").length&&Object.keys(this.changedItems).length>=i._listSize&&this.checkAllState?t.data("BoldBIDashboardCheckBox").setModel({checkState:"check",checked:!0}):t.data("BoldBIDashboardCheckBox").setModel({enableTriState:!0,checkState:"indeterminate"}):t.data("BoldBIDashboardCheckBox").setModel({checkState:"check",checked:!1}),this.isFilterCleared||(u=BoldBIDashboard.isNullOrUndefined(r.attr("Condition"))||r.attr("Condition")==="Include",u?r.data("BoldBIDashboardRadioButton").setModel({checked:u}):this.getPopupRadioButton2(n).data("BoldBIDashboardRadioButton").setModel({checked:!0})))},n.prototype.getPopupContainerInformation=function(n){var t=this.getPopupCheckBox(n),r=this.getPopupListBox(n),i=this.getPopupRadioButton1(n);return{IsCheckAll:BoldBIDashboard.isNullOrUndefined(t.attr("IsSelectAll"))||t.attr("IsSelectAll")==="true",CheckAllState:this.checkAllState,IsInclude:BoldBIDashboard.isNullOrUndefined(i.attr("Condition"))||i.attr("Condition")==="Include"&&!this.checkAllState||i.attr("Condition")==="Exclude"&&this.checkAllState,FilterValues:BoldBIDashboard.isNullOrUndefined(t.data("Filters"))?null:t.data("Filters")}},n.prototype.showLoadingIndicator=function(n){var t=this.listBoxElement.data("BoldBIDashboardListBox");BoldBIDashboard.isNullOrUndefined(t)||t.listContainer.hasClass("e-load")||this.getPopupListBoxDiv(n).BoldBIDashboardWaitingPopup("show");this.getPopupCheckBox(n).data("BoldBIDashboardCheckBox").disable();this.getPopupRadioButton1(n).data("BoldBIDashboardRadioButton").disable();this.getPopupRadioButton2(n).data("BoldBIDashboardRadioButton").disable();this.setItemEnable(n,!1);BoldBIDashboard.DashboardUtil.buttonEnable(this.getPopupCancelButton(n),!1);this.getPopupSearchPanel(n).children().prop("disabled",!0)},n.prototype.hideLoadingIndicator=function(n){var t=this.getPopupContainer(n);!BoldBIDashboard.isNullOrUndefined(t)&&t.length>0&&(this.getPopupListBoxDiv(n).BoldBIDashboardWaitingPopup("hide"),this.getPopupCheckBox(n).data("BoldBIDashboardCheckBox").enable(),this.getPopupRadioButton1(n).data("BoldBIDashboardRadioButton").enable(),this.getPopupRadioButton2(n).data("BoldBIDashboardRadioButton").enable(),this.setItemEnable(n,!0),BoldBIDashboard.DashboardUtil.buttonEnable(this.getPopupCancelButton(n),!0),this.getPopupSearchPanel(n).children().prop("disabled",!1))},n.prototype.populateMultiSelectionItem=function(n,t){var i;BoldBIDashboard.isNullOrUndefined(t)||BoldBIDashboard.isNullOrUndefined(t.FilterValues)?(this.getComboBoxTextField(n).text("All"),this.checkAllState=!0,this.getPopupCheckBox(n).attr("IsSelectAll","true"),this.isFilterCleared||this.getPopupRadioButton1(n).attr("Condition","Include"),this.getPopupCheckBox(n).data("Filters",null)):BoldBIDashboard.isNullOrUndefined(t)||Object.keys(this.selectedItems).length!=0&&Object.keys(this.unselectedItems).length!=0?(Object.keys(this.selectedItems).length>0||Object.keys(this.unselectedItems).length>0)&&(this.checkAllState||(i=this.getPopupCheckBox(n).data("Filters"),this.getComboBoxTextField(n).text(i))):this.isFilterCleared||(this.checkAllState=t.CheckAllState,this.isFiltered=!1,this.getSelectedItems(t.FilterValues,t.IsInclude),i=t.IsCheckAll||BoldBIDashboard.isNullOrUndefined(t.FilterValues)?"All":this.checkAllState?this.locale.queryDesigner.selectedMultipleValuesInComboBox:t.FilterValues.toString().replace(/^[,\s]+|[,\s]+$/g,"").replace(/,[,\s]*,/g,","),this.getComboBoxTextField(n).text(i),this.getPopupCheckBox(n).data("Filters",this.getFilterArrayValues(t)),this.getPopupCheckBox(n).attr("IsSelectAll",t.IsCheckAll),this.getPopupRadioButton1(n).attr("Condition",t.IsInclude&&!t.CheckAllState||!t.IsInclude&&t.CheckAllState?"Include":"Exclude"))},n.prototype.getFilterArrayValues=function(n){var i="",t=[];return!BoldBIDashboard.isNullOrUndefined(n.FilterValues)&&n.FilterValues.length>0&&!n.IsCheckAll?n.FilterValues.forEach(function(n){n.indexOf(i)!==-1?n.split(i).forEach(function(){n!==""&&t.push(n)}):n!==""&&t.push(n)}):t=n.FilterValues,t},n.prototype.onSearchFocus=function(n){var i=this.getPopupSearchPanel(n),t=this.getSearchTextBox(i,n);t.addClass("e-focus");t.val()===""&&t.val("");t.css("color","grey");t.off("keyup",this.bbdesigner$.proxy(this.processFilterDataRequest,this));t.on("keyup",this.bbdesigner$.proxy(this.processFilterDataRequest,this,n))},n.prototype.clearSearchText=function(n,t,i){this.getSearchIcon(n,t).addClass("e-search").removeClass("e-close_01");var r=this.getSearchIcon(n,t);this.clearListItems();this.isFiltered=!1;this.isFilterCleared=!0;i.off("keyup",this.bbdesigner$.proxy(this.processFilterDataRequest,this));r.off("click",this.bbdesigner$.proxy(this.onSearchCloseClick,this,t));i.removeClass("e-focus");i.val("");i.css("color","lightgrey");this.isInitialFilter?(this.filterInfo=[this.filterInfo[0]],this.getInitialFilterValues(t,this.dateFormats(this.getMultiSelectionComboBox(t).attr("data-dateFormat")))):this.getFieldValues(t,this.dimensionFilterInfo)},n.prototype.clearListItems=function(){var n=this.listBoxElement.data("BoldBIDashboardListBox");BoldBIDashboard.isNullOrUndefined(n)||(n._loadInitialRemoteData=!0,this.listSize=n._listSize,n._oldStartValue=undefined,n.totalItemsCount=n._listSize,!BoldBIDashboard.isNullOrUndefined(n._listitems)&&n._listSize>0?this.listBoxElement.empty():n.model.totalItemsCount=n._listSize+1)},n.prototype.onSearchCloseClick=function(n){var t=this.getPopupSearchPanel(n),i=this.getSearchTextBox(t,n);this.clearSearchText(t,n,i)},n.prototype.updateCheckItemCheckChange=function(n,t){var r=this,f=this.getPopupCheckBox(n).data("BoldBIDashboardCheckBox"),i=this.getPopupListBox(n).data("BoldBIDashboardListBox"),u;if(t.isInteraction){if(this.isFiltered&&i.mergeValue.length>0)for(i.mergeValue.forEach(function(n){var i=Object.keys(n)[0];delete r.changedItems[n[i]];delete r.selectedItems[n[i]];delete r.unselectedItems[n[i]];r.checkAllState!==t.isChecked&&(r.changedItems[n[i]]=t.isChecked)}),u=0;u<i.mergeValue.length;u++)t.isChecked?i.checkItemByIndex(u):i.uncheckItemByIndex(u);else i.setModel({checkChange:null}),f.setModel({enableTriState:!1}),this.changedItems={},this.selectedItems={},this.unselectedItems={},this.hasFilteredItems=!1,t.isChecked?(this.checkAllState=!0,i.checkAll(),this.setItemEnable(n,this.getPopupRadioButton1(n).data("BoldBIDashboardRadioButton").model.checked)):(this.checkAllState=!1,i.uncheckAll(),this.setItemEnable(n,!1)),i.setModel({checkChange:this.bbdesigner$.proxy(this.updateListItemCheckChange,this,n)});i.setModel({checkChange:this.bbdesigner$.proxy(this.updateListItemCheckChange,this,n)})}},n.prototype.updateListItemCheckChange=function(n,t){if(t.isInteraction&&!BoldBIDashboard.isNullOrUndefined(t.event)){var i=this.getPopupCheckBox(n).data("BoldBIDashboardCheckBox"),f=this.getPopupListBox(n).data("BoldBIDashboardListBox"),u=t.item[0].firstElementChild,r=JSON.parse(this.bbdesigner$(u).attr("aria-checked"));this.checkAllState==r||(!this.checkAllState||this.unselectedItems.hasOwnProperty(t.text))&&(this.checkAllState||this.selectedItems.hasOwnProperty(t.text))?(delete this.changedItems[t.text],delete this.selectedItems[t.text],delete this.unselectedItems[t.text]):this.changedItems[t.text]=r;(this.listBoxElement.find("li .e-chkbox-wrap").filter("[aria-checked = true]").length!=0||!this.isFiltered||this.checkAllState||Object.keys(this.selectedItems).length!=0)&&(this.listBoxElement.find("li .e-chkbox-wrap").filter("[aria-checked = true]").length!=0||this.isFiltered)?this.listBoxElement.find("li .e-chkbox-wrap").filter("[aria-checked = false]").length==0&&this.isFiltered&&this.checkAllState&&Object.keys(this.changedItems).length==0||this.listBoxElement.find("li .e-chkbox-wrap").filter("[aria-checked = false]").length==0&&!this.isFiltered?(this.setItemEnable(n,!0),i.setModel({enableTriState:!1}),i.setModel({checkState:"check",checked:!0}),this.isFiltered||(this.checkAllState=!0)):(this.setItemEnable(n,!0),i.setModel({enableTriState:!0,checkState:"indeterminate"})):(this.setItemEnable(n,!1),i.setModel({checkState:"check",checked:!1}),this.isFiltered||(this.checkAllState=!1))}},n.prototype.updateListCondition=function(n){var i=this.getPopupListBox(n).data("BoldBIDashboardListBox"),t=i.getCheckedItems();t.length===0&&this.checkAllState&&Object.keys(this.unselectedItems).length==0&&Object.keys(this.changedItems).length==0||t.length===0&&!this.checkAllState&&Object.keys(this.selectedItems).length==0&&Object.keys(this.changedItems).length==0?this.setItemEnable(n,!1):this.setItemEnable(n,!0)},n.prototype.setItemEnable=function(n,t){var i=this.getPopupOkButton(n);BoldBIDashboard.DashboardUtil.buttonEnable(i,t)},n.prototype.updatePopupContainerInformation=function(n){var r=this.getCheckedUncheckedItems(!0),f=this.getCheckedUncheckedItems(!1),i,t,o;if(this.isFiltered||Object.keys(this.changedItems).length>0)if(this.checkAllState)if(this.checkAllState&&Object.keys(this.changedItems).length>0){for(t=0;t<this.listBoxSelectedItems.length;t++)this.selectedItems.hasOwnProperty(this.listBoxSelectedItems[t])||r.includes(this.listBoxSelectedItems[t])||r.push(this.listBoxSelectedItems[t]);for(i=Object.keys(this.changedItems),t=0;t<i.length;t++)this.unselectedItems.hasOwnProperty(i[t])||f.includes(i[t])||f.push(i[t]);f=f.concat(Object.keys(this.unselectedItems))}else Object.keys(this.changedItems).length==0&&Object.keys(this.unselectedItems).length==0&&this.checkAllState&&(r=[],this.selectedItems=[]);else for(i=Object.keys(this.changedItems),t=0;t<i.length;t++)this.selectedItems.hasOwnProperty(i[t])||r.includes(i[t])||r.push(i[t]);var s=this.getPopupContainer(n),h=this.getComboBoxTextField(n),e=this.getPopupCheckBox(n),c=this.getPopupListBox(n),a=c.data("BoldBIDashboardListBox"),l=this.isFiltered,u=[];Object.keys(this.selectedItems).length>0&&(u=Object.keys(this.selectedItems));u=u.concat(r);this.clearSearchList(n);s.css("display","none");this.updateDropDownIcon(s,n);o=this.getPopupRadioButton1(n).data("BoldBIDashboardRadioButton").model.checked?"Include":"Exclude";!l&&e.data("BoldBIDashboardCheckBox").model.checked||u.length==0||u==[]?(h.text("All"),e.attr("IsSelectAll","true"),e.data("Filters",null)):(this.checkAllState?h.text(this.locale.queryDesigner.selectedMultipleValuesInComboBox):h.text(u.toString()),e.attr("IsSelectAll","false"),e.data("Filters",this.checkAllState?f:u),this.getSelectedItems(this.checkAllState?f:r,o==="Include"&&!this.checkAllState||o==="Exclude"&&this.checkAllState),this.dashboardDesigner.element.find(".e-error-tip").css("display","none"));this.getPopupRadioButton1(n).attr("Condition",o);s.removeClass("e-multiselect-popup-container-visible")},n.prototype.clearSearchList=function(n){var i=this.getPopupSearchPanel(n),t=this.getSearchTextBox(i,n),r=t.val();r!==""&&(t.removeClass("e-focus"),this.clearSearchText(i,n,t))},n.prototype.closePopupContainer=function(n){var t,i;this.clearSearchList(n);t=this.getPopupContainer(n);t.css("display","none");t.removeClass("e-multiselect-popup-container-visible");this.updateDropDownIcon(t,n);i=this.getPopupListBoxDiv(n).data("BoldBIDashboardWaitingPopup");i.model.showOnInit&&(this.hideLoadingIndicator(n),this.killPendingRequest())},n.prototype.hidePopups=function(){for(var t,i=this.dashboardDesigner.element.find(".e-multiselect-popup-container:visible"),n=0;n<i.length;n++)t=i.eq(n).attr("data-rowid"),this.getMultiSelectionComboBox(t).parent().data("MultiSelectionComboBox").hideMultiSelectionWaitingPopup(!0)},n.prototype.hideMultiSelectionWaitingPopup=function(){var t=this,i=this.dashboardDesigner.element.find(".e-multiselect-popup-container:visible .e-multiselect-waiting-popup"),n=this.bbdesigner$;i.each(function(i,r){n(r).length>0&&n(r).data("BoldBIDashboardWaitingPopup").model.showOnInit&&t.killPendingRequest()})},n.prototype.killPendingRequest=function(){if(this.ajaxRequestCollection.length>0)for(var n=0;n<this.ajaxRequestCollection.length;n++)this.ajaxRequestCollection[n].readyState<4&&this.ajaxRequestCollection[n].abort();this.ajaxRequestCollection=[]},n.prototype.isMultiSelectionPopupLoading=function(){var n=!1,i=this.dashboardDesigner.element.find(".e-multiselect-popup-container:visible").find(".e-multiselect-waiting-popup"),t=this.bbdesigner$;return i.each(function(i,r){t(r).length>0&&t(r).data("BoldBIDashboardWaitingPopup").model.showOnInit&&(n=!0)}),n},n.prototype.updatePopupContainerVisibility=function(n){if(!BoldBIDashboard.isNullOrUndefined(n)&&n.length>0){n.css("display","none");var t=n.attr("id").replace(/_popup_container/g,"");this.updateDropDownIcon(n,t)}},n.prototype.updateDropDownIcon=function(n,t){var i=this.getMultiSelectionComboBox(t);n.css("display")==="block"?i.find(".bbi-designer-ejwidgets-updown").removeClass("e-arrow-sans-down").addClass("e-arrow-sans-up"):i.find(".bbi-designer-ejwidgets-updown").removeClass("e-arrow-sans-up").addClass("e-arrow-sans-down")},n.prototype.getMultiSelectionComboBox=function(n){return this.dashboardDesigner.element.find("#"+n+"_multi_select_dropDown")},n.prototype.getComboBoxTextField=function(n){return this.dashboardDesigner.element.find("#"+n+"_multi_select_dropDown_text")},n.prototype.getPopupContainer=function(n){return this.dashboardDesigner.element.find("#"+n+"_popup_container")},n.prototype.getPopupListBoxDiv=function(n){return this.dashboardDesigner.element.find("#"+n+"_popup_container_list_Box_div")},n.prototype.getPopupCheckBox=function(n){return this.dashboardDesigner.element.find("#"+n+"_popup_container_Check_Box")},n.prototype.getPopupSearchPanel=function(n){return this.dashboardDesigner.element.find("#"+n+"_popup_container_searchPanel")},n.prototype.getSearchTextBox=function(n,t){return n.find("#"+t+"_popup_container_searchBox")},n.prototype.getSearchIcon=function(n,t){return n.find("#"+t+"_popup_container_searchIcon")},n.prototype.getPopupListBox=function(n){return this.dashboardDesigner.element.find("#"+n+"_popup_container_list_Box")},n.prototype.getPopupRadioButton1=function(n){return this.dashboardDesigner.element.find("#"+n+"_popup_container_list_Box_radio1")},n.prototype.getPopupRadioButton2=function(n){return this.dashboardDesigner.element.find("#"+n+"_popup_container_list_Box_radio2")},n.prototype.getPopupOkButton=function(n){return this.dashboardDesigner.element.find("#"+n+"_popup_container_ok_btn")},n.prototype.getPopupCancelButton=function(n){return this.dashboardDesigner.element.find("#"+n+"_popup_container_cancel_btn")},n.prototype.dateFormats=function(n){var t;switch(n){case"Date Time":t=DateTimeFormat.Default;break;case"Date Hour":t=DateTimeFormat.DateHour;break;case"Month Year":t=DateTimeFormat.MonthYear;break;case"Week Year":t=DateTimeFormat.WeekYear;break;case"Quarter Year":t=DateTimeFormat.QuarterYear;break;case"Day Month Year":t=DateTimeFormat.DayMonthYear;break;case"Month Day Year":t=DateTimeFormat.MonthDayYear;break;case"Day of Week":t=DateTimeFormat.DayOfWeek;break;case"Week of Year":t=DateTimeFormat.WeekOfYear;break;case"Hours":t=DateTimeFormat.Hour;break;case"Minutes":t=DateTimeFormat.Minute;break;case"Seconds":t=DateTimeFormat.Second;break;default:t=n}return t},n}();window.BoldBIDashboard.createObject("BoldBIDashboard.DashboardDesignerUtility.MultiSelectionComboBox",InternalMultiSelectionComboBox,window),function(n){var t;(function(t){var i=function(){function t(n){this.customWidgetsCollection=[];this.customWidgetItems=[];this.dashboardDesigner=n;this.bbdesigner$=this.dashboardDesigner.bbdesigner$}return t.prototype.generateToolTipTemplate=function(t,i,r){var e="",o=this.dashboardDesigner.modules.themeHelper.getTooltipTextColor(),f=this.dashboardDesigner.modules.themeHelper.getToolTipFontText(),l="background-color: "+this.dashboardDesigner.modules.themeHelper.getTooltipBackground()+"!important; border-color: "+this.dashboardDesigner.modules.themeHelper.getTooltipBorder()+"!important; z-index: "+r+"!important; color: "+o+"!important;",s,h,u;for(e+='<div class="widget-tooltip-template" style="'+l+'" id='+i+"_toolTip>",e+='<table class="tooltip-fontstyle" id='+i+"_tooltip_table>",s="color: "+o+"!important;\nfont-size: "+f.size+"!important;\nfont-family: "+f.family+"!important;",h="color: "+o+" !important;\nfont-size: "+f.size+"!important;\nfont-weight: "+f.weight+"!important;\nfont-family: "+f.family+"!important;",u=0;u<t.length;u++){var c=Object.keys(t[u])[0],a=n.DashboardUtil.encodeText(c),v=n.DashboardUtil.encodeText(t[u][c]);e+="<tr id="+i+"_"+u+"_tooltip_table_rows><td id="+i+"_"+u+'_tooltip_table_rows_key style="'+s+'">'+a+" :<\/td><td id="+i+"_"+u+'_tooltip_table_rows_value style="'+h+'" >'+v+"<\/td><\/tr>"}return e+"<\/table> <\/div>"},t.enableClearFilter=function(t){if(!n.isNullOrUndefined(t.ControlHeader)||!t.getJson().ContainerSettings.ShowHeader){var i=t.IsPoPWidget?"e-dbrd-pop-reset":"bbi-remove-control-filter-enable",r=t.IsPoPWidget?t.designerInstance.getLocalizationContent().exportPanel.reset:t.designerInstance.getLocalizationContent().enableFilter.clearFilter;t.ControlContainer.find(".bbi-remove-control-filter").removeClass("bbi-remove-control-filter-disable").addClass(i+" bbi-dbrd-icon-theme").attr("data-tooltip",r);t.ControlContainer.find(".bbi-remove-control-filter").closest(".widget-control-icon-wrapper").addClass("bbi-dbrd-icon-background-theme")}},t.disableClearFilter=function(t){if(!n.isNullOrUndefined(t.ControlHeader)||!t.getJson().ContainerSettings.ShowHeader){var i=t.IsPoPWidget?"e-dbrd-pop-reset":"bbi-remove-control-filter-enable";t.ControlContainer.find(".bbi-remove-control-filter").removeClass(i+" bbi-dbrd-icon-theme").addClass("bbi-remove-control-filter-disable").removeAttr("data-tooltip");t.ControlContainer.find(".bbi-remove-control-filter").closest(".widget-control-icon-wrapper").removeClass("bbi-dbrd-icon-background-theme")}},t.showInfoIcon=function(t,i){if(!n.isNullOrUndefined(t)&&t.trim()!==""&&!n.isNullOrUndefined(i)&&!n.isNullOrUndefined(i.ControlHeader)){i.ControlHeader.find(".bbi-dbrd-control-information-icon").remove();var r=n.buildTag("div.bbi-dbrd-control-information-icon e-dbrd-inform-control bbi-dbrd-designer-hoverable","",{display:"block","font-size":i.getIconFontSizeBasedOnResolution()},{"data-tooltip":t});i.ControlHeader.append(r);i.ControlHeader.parents(".bbi-dbrd-control-container").mouseover(function(){i.ControlHeader.find('.bbi-remove-control-filter[style*="display: none"]').length===0&&i.ControlHeader.parents(".bbi-dbrd-control-container:not(.bbi-show-widget-not-configured)").find(".bbi-dbrd-controlIcon-container").css("margin-right",i.ControlHeader.find('.bbi-dbrd-control-information-icon[style*="display: none"]').length===0?"25px":"0")})}},t.hideInfoIcon=function(t){n.isNullOrUndefined(t)||n.isNullOrUndefined(t.ControlHeader)||t.ControlHeader.find(".bbi-dbrd-control-information-icon").css("display","none").removeAttr("data-tooltip")},t.getUniqueName=function(t,i,r,u){var l=[],e=[],p=i.designerPanel.isPasteAction?"_Copy":i.designerPanel.isExistingWidget?"_Imported":"",c=t.designerInstance.element.find("#"+t.designerInstance._id+"_designCanvas ."+t.RootCss),o,s,a,v,f,h,y;if(c.each(function(n,t){l.push(BoldBIDashboardDesigner.bbdesignerstatic$(t).attr("data-name"))}),u)for(o=0;o<c.length;o++)e.push(this.getWidgetInstance(c.eq(o)).getContainerSettings().Title);s=0;do s++,a=l.indexOf(t.Type+s);while(a!==-1);if(v=t.Type+s,f=r,!n.isNullOrUndefined(r)&&(this.isAvailableWidgetName(e,r)&&(f=r+p),this.isAvailableWidgetName(e,f))){h=1;do h++,y=e.indexOf(f+h);while(y!==-1);f=f+h}return{Id:v,Name:f}},t.isAvailableWidgetName=function(n,t){for(var i=0;i<n.length;i++)if(n[i]===t)return!0;return!1},t.getWidgetElementVisibility=function(t,i,r){r===void 0&&(r=!1);var u=new WidgetElementsVisibility,f=4;return!n.isNullOrUndefined(i)&&i?(u.ShowLegend=!0,u.ShowXAxisLabels=!0,u.ShowXAxisTitle=!0,u.ShowYAxisTitle=!0,u.ShowYAxisLabels=!0):((t.RowSpan>=1*f&&t.ColumnSpan>1*f||t.RowSpan>1*f&&t.ColumnSpan>=1*f)&&(u.ShowLegend=!0),u.ShowXAxisLabels=r,t.RowSpan>=8&&t.ColumnSpan>=6&&(u.ShowXAxisTitle=!0),t.RowSpan>=1*f&&t.ColumnSpan>=2*f&&(u.ShowYAxisTitle=!0,u.ShowYAxisLabels=!0)),u},t.getWidgetInstance=function(t){return n.isNullOrUndefined(t)?null:t.data("widgetInstance")},t.prototype.getAllWidgets=function(){for(var i,f=this.dashboardDesigner.modules.Mode.designCanvas,r=f.find(".bbi-dbrditem"),u=[],t=0;t<r.length;t++)i=n.Dashboard.WidgetHelper.getWidgetInstance(this.bbdesigner$(r[t])),u.push(i);return u},t.prototype.getAllCustomWidgets=function(){for(var t=this.getAllWidgets(),i=[],n=0;n<t.length;n++)t[n].Type==="CustomWidget"&&i.push(t[n]);return i},t.prototype.getBingMapWidget=function(){for(var t=this.getAllWidgets(),i=[],n=0;n<t.length;n++)t[n].Type==="BingMap"&&i.push(t[n]);return i},t.prototype.getAllDatebucketWidgets=function(){return this.getAllWidgets().filter(function(n){return n.isDefaultDataWidget()})},t.prototype.createWidgetInstance=function(t){var f,i,r,u;try{if(n.isNullOrUndefined(t)||t.trim()==="")return null;for(f=t.split("."),i=window,r=0;r<f.length;r++)i=i[f[r]];if(!n.isNullOrUndefined(i))return u=Object.create(i.prototype),u.constructor.apply(u,[this.dashboardDesigner]),u}catch(e){console.error(e.message)}return null},t.prototype.getWidgetObj=function(t,i){for(var r,u,e=n.isNullOrUndefined(i)?this.dashboardDesigner.itemPanel.widgetItems:i,f=0;f<e.length;f++)for(r=0;r<e[f].Items.length;r++)if(u=e[f].Items[r],u.widgetNameSpace===t||u.serializationNameSpace===t)return u;return null},t.prototype.getCurrentWidgetInstance=function(){var t=this.dashboardDesigner.designerPanel.selectedReportItems[0];return n.Dashboard.WidgetHelper.getWidgetInstance(t)},t.createWidgetContainer=function(t,i,r,u,f){var o=i.designerPanel.isPasteAction||i.designerPanel.isExistingWidget,e;return n.isNullOrUndefined(t.getJson().UniqueName)||o?(e=this.getUniqueName(t,i,u,o),t.Name=e.Id,t.getContainerSettings().Title=n.isNullOrUndefined(u)||u===""?e.Id:e.Name):(t.Name=t.getJson().UniqueName,t.getContainerSettings().Title=u),n.Dashboard.WidgetContainerHelper.createContainer(t,i,r,f),this.updateWidgetFontSizeOnRendering(t,i),t.ControlContainer},t.designerEventHandler=function(t,i,r,u){return!n.isNullOrUndefined(t.EventHelper)&&t.EventHelper.isEventListenerConfigured(i,r)?t.designerEventListener(i,r,u):!1},t.isDataWidget=function(t){return t instanceof n.Dashboard.DataWidget},t.isContainerWidget=function(t){return t instanceof n.ContainerWidget},t.getLineStyle=function(n){switch(n){case"Solid":return"0";case"Dot":return"2,3";case"Dash":return"4,8";case"DotDash":return"2,6,6,10";case"LongDash":return"15";case"LongDashDotDot":return"20,10,5,5,5,10";default:return"0"}},t.setLabelParameterId=function(t,i){var f,u,r,e;if(t.find(".bbi-dbrd-label-parameter-text").length>=1)for(f=i.modules.labelParameter,u=t.find(".bbi-dbrd-label-parameter-text"),r=0;r<u.length;r++)e=f.generateIdForLabelParameterElement(u[r]),BoldBIDashboardDesigner.bbdesignerstatic$(u[r]).attr("data-labelparameterid",e),i.model.mode!==n.Designer.mode.design&&(f.setValueForLabelParameter(u[r]),BoldBIDashboardDesigner.bbdesignerstatic$(u[r]).css({display:"none"}))},t.isOlderDashboardWidgets=function(n){return n.Type==="Card"||n.Type==="ChoroplethMap"||n.Type==="BubbleMap"},t.isFilterWidgets=function(n){return n.Type==="ListBox"||n.Type==="DatePicker"||n.Type==="RangeSlider"||n.Type==="ComboBox"||n.Type==="PeriodOverPeriod"||n.Type==="RangeNavigator"},t.createWidgetActionContextMenu=function(t,i,r,u,f,e){var s,h,c,o,p,l;if(u=this.updateWidgetLinking(i,u),s=this.populateWidgetSelectionMenuItems(r,u,t),t.model.mode!==n.Designer.mode.design)if(h=s.filter(function(n){return n.IsVisible===!0}),h.length>1){c=n.buildTag("ul.bbi-designer-menu e-contextmenu","",{},{id:r+"_widget_action_menu"});c.BoldBIDashboardMenu({menuType:n.MenuType.ContextMenu,openOnClick:!1,contextMenuTarget:"#"+r,width:"auto",animationType:"none",fields:{dataSource:h,id:"Name",text:"DisplayName"},click:BoldBIDashboardDesigner.bbdesignerstatic$.proxy(this.onWidgetSelectionMenuItemClick,this,i,t,f),close:BoldBIDashboardDesigner.bbdesignerstatic$.proxy(this.onMenuItemClose,this,i,t,f)});o=t.element;c.parents(".e-menu-wrap")&&c.parents(".e-menu-wrap").appendTo(o);var a=o.find("#"+r+"_widget_action_menu"),k=a.data("BoldBIDashboardMenu"),w=a.height(),b=a.width(),v=o.offset().left,y=o.offset().top;k.show(o.width()+v-e[0]<b?e[0]-b-v:e[0]-v,o.height()+y-e[1]<w?e[1]-w-y:e[1]-y,r,f)}else h.length===1&&(p=h[0],i.performSelectedWidgetAction(p.Name,i,f,t));else for(l=0;l<s.length;l++)if(s[l].IsVisible===!0){i.Name.indexOf("Chart")!==-1&&i.Name.indexOf("Radar")===-1&&i.Name.indexOf("ScatterChart")===-1&&(f.cancel=!1);i.performSelectedWidgetAction(s.filter(function(n){return n.IsVisible===!0})[0].Name,i,f,t);this.updateWidgetFontSizeOnRendering(i,t);break}},t.updateWidgetLinking=function(t,i){return!n.isNullOrUndefined(t.getJson().WidgetLink)&&t.getJson().WidgetLink.Enable&&i.push(WidgetAction.WidgetLinking),i},t.onWidgetSelectionMenuItemClick=function(n,t,i,r){r.ID===WidgetAction.WidgetLinking?t.modules.containerTypeWidgetHelper.doInterWidgetLinking(n,i.selectedIndex):n.performSelectedWidgetAction(r.ID,n,i,t)},t.prototype.applyWidgetFilterValuesFromAPI=function(n,t){t.processFilterInformation(n)},t.onMenuItemClose=function(t,i,r,u){t.Name.indexOf("Chart")!==-1&&t.Name.indexOf("Radar")===-1&&t.Name.indexOf("ScatterChart")===-1&&(r.cancel=!1,r.model.selectedDataPointIndexes=[]);n.isNullOrUndefined(u.target.text)&&(t.Name.indexOf("Map")>-1&&t.Name.indexOf("Tree")===-1&&t.Name.indexOf("Heat")===-1?t.mapObj.removeShapeSelection():t.Name.indexOf("Grid")>-1&&t.Name.indexOf("Pivot")===-1?t.gridObj.clearSelection():t.Name.indexOf("Pivot")>-1?t.clearSelectionCell():t.Name.indexOf("RadarPolar")>-1?(t.radarPolarChartObj.selectedDataIndexes=[],t.radarPolarChartObj.refresh()):t.Name.indexOf("ScatterChart")>-1?(t.bubbleScatterChartObj.selectedDataIndexes=[],t.bubbleScatterChartObj.refresh()):t.Name.indexOf("Chart")>-1&&(n.isNullOrUndefined(t.chartObj)?(t.comboChartObj.model.selectedDataPointIndexes=[],t.comboChartObj.redraw()):(t.chartObj.model.selectedDataPointIndexes=[],t.chartObj.redraw()),!n.isNullOrUndefined(t.drilledChartObj)&&t.drillLevelInfo.length>0&&(t.drilledChartObj.model.selectedDataPointIndexes=[],t.drilledChartObj.redraw()),!n.isNullOrUndefined(t.drilledComboChartObj)&&t.drillLevelInfo.length>0&&(t.drilledComboChartObj.model.selectedDataPointIndexes=[],t.drilledComboChartObj.redraw())))},t.populateWidgetSelectionMenuItems=function(n,t,i){for(var r,u=[{Name:WidgetAction.DrillDown.toString(),DisplayName:i.getLocalizationContent().widgetActionMenu.drillDownDisplayName,IsVisible:!1},{Name:WidgetAction.Filter.toString(),DisplayName:i.getLocalizationContent().widgetActionMenu.filteringDisplayName,IsVisible:!1},{Name:WidgetAction.Linking.toString(),DisplayName:i.getLocalizationContent().widgetActionMenu.linkingDisplayName,IsVisible:!1},{Name:WidgetAction.ViewData.toString(),DisplayName:i.getLocalizationContent().widgetActionMenu.viewDataDisplayName,IsVisible:!1},{Name:WidgetAction.WidgetLinking.toString(),DisplayName:i.getLocalizationContent().widgetActionMenu.widgetLinkingDisplayName,IsVisible:!1}],f=0;f<u.length;f++)for(r=0;r<t.length;r++)if(t[r]===u[f].Name){u[f].IsVisible=!0;break}return u},t.getGlobalColumnId=function(n,t){for(var i,r=0;r<t.length;r++)if(t[r].FieldInfos.length>0&&(i=t[r].FieldInfos.filter(function(t){return t.UniqueColumnName===n}),i.length>0))return i[0].FieldActualType==="bbi-designer-dataset-datetime"?i[0].Id+"_"+i[0].DateTimeFormat:i[0].Id;return""},t.getColorCode=function(t,i,r){var u=t.designerInstance.modules.resource.getColumnColorCode(i);return n.DashboardUtil.IsStringNullorWhiteSpace(u)&&(u=!n.isNullOrUndefined(r)&&!n.DashboardUtil.IsStringNullorWhiteSpace(r.Color)?r.Color:n.DashboardUtil.defaultColorPalette[0]),u},t.updateIndividualColorBasedonTheme=function(t,i,r,u){var f;if(t&&!n.isNullOrUndefined(i)&&i.Type===ColorCustomizationType.Individual&&i.SolidColorInfo.length!==0){var s=void 0,o=void 0,h=void 0,e=void 0,c=r[0].UniqueColumnName;for(e=i.SolidColorInfo.filter(function(n){return n.BasedOn.UniqueColumnName===c})[0].DefaultColorSets,o=i.SolidColorInfo[0].BasedOn.FieldId,s=r[0].FieldActualType==="bbi-designer-dataset-datetime"?o+"_"+r[0].DateTimeFormat:o,f=0;f<e.length;f++)h=e[f].Name.toString(),e[f].Color=e[f].IsEdited?e[f].Color:u.modules.resource.getColumnValueColorCode(s,h)}},t.prototype.updateConditionBasedWidgetTitleFont=function(t,i,r){if(!n.isNullOrUndefined(r.ControlHeader)){var u=t?this.dashboardDesigner.modules.serialization.dashboardPropertyJson.WidgetFontInfo.Title.AutoFontSize?null:this.dashboardDesigner.modules.serialization.dashboardPropertyJson.WidgetFontInfo.Title.FontSize:i,f=r.ControlHeader.find(".bbi-dbrd-control-title .e-title-text");f.css("font-size",n.isNullOrUndefined(u)?"":u+"px");r.ControlHeader.css("height",window.parseFloat(f.css("font-size"),10)+WidgetHeaderFontSizeFactor.title+"px");this.updateContentContainerHeight(r)}},t.prototype.updateContentContainerHeight=function(t){if(!n.isNullOrUndefined(t)&&!n.isNullOrUndefined(t.ControlHeader)&&!n.isNullOrUndefined(t.ControlSubHeader)){var i=t.ControlHeader.height(),r=t.ControlSubHeader.css("display")!=="none";i=r?i+t.ControlSubHeader.outerHeight():i;t.ContentContainer.css("height","calc(100% - "+i+"px)")}},t.prototype.updateConditionBasedWidgetSubTitleFont=function(t,i,r){if(!n.isNullOrUndefined(r.ControlSubHeader)){var u=t?this.dashboardDesigner.modules.serialization.dashboardPropertyJson.WidgetFontInfo.Subtitle.AutoFontSize?null:this.dashboardDesigner.modules.serialization.dashboardPropertyJson.WidgetFontInfo.Subtitle.FontSize:i,f=r.ControlSubHeader.find(".bbi-dbrd-control-sub-title .e-title-text");f.css("font-size",n.isNullOrUndefined(u)?"":u+"px");r.ControlSubHeader.css("height",window.parseFloat(f.css("font-size"),10)+WidgetHeaderFontSizeFactor.subTitle+"px");this.updateContentContainerHeight(r)}},t.updateWidgetFontSizeOnRendering=function(t,i){var u,f,r,s;if(this.isDataWidget(t)){var e=t.getJson().ContainerSettings.WidgetTitleFontInfo,o=t.getJson().ContainerSettings.WidgetSubTitleFontInfo,l=n.isNullOrUndefined(e)?!0:e.AutoFontSize,a=n.isNullOrUndefined(o)?!0:o.AutoFontSize,h=l?i.modules.serialization.dashboardPropertyJson.WidgetFontInfo.Title.AutoFontSize?null:i.modules.serialization.dashboardPropertyJson.WidgetFontInfo.Title.FontSize:e.FontSize,c=a?i.modules.serialization.dashboardPropertyJson.WidgetFontInfo.Subtitle.AutoFontSize?null:i.modules.serialization.dashboardPropertyJson.WidgetFontInfo.Subtitle.FontSize:o.FontSize;n.isNullOrUndefined(t.ControlHeader)||(u=t.ControlHeader.find(".bbi-dbrd-control-title .e-title-text"),u.css("font-size",n.isNullOrUndefined(h)?"":h+"px"),t.ControlHeader.css("height",window.parseFloat(u.css("font-size"),10)+WidgetHeaderFontSizeFactor.title+"px"));n.isNullOrUndefined(t.ControlSubHeader)||(f=t.ControlSubHeader.find(".bbi-dbrd-control-sub-title .e-title-text"),f.css("font-size",n.isNullOrUndefined(c)?"":c+"px"),t.ControlSubHeader.css("height",window.parseFloat(f.css("font-size"),10)+WidgetHeaderFontSizeFactor.subTitle+"px"));n.isNullOrUndefined(t.ControlHeader)||n.isNullOrUndefined(t.ControlSubHeader)||(r=t.ControlHeader.height(),s=t.ControlSubHeader.css("display")!=="none",r=s?r+t.ControlSubHeader.outerHeight():r,t.ContentContainer.css("height","calc(100% - "+r+"px)"))}},t.updateWidgetContainerPosition=function(n,t){var i="";n.widgetOrder=t;t>0?i=t.toString():n.widgetOrder=100;n.ControlContainer.find(".bbi-dbrd-content-container").children(".bbi-dbrd-control-header,.bbi-dbrd-isimage,.bbi-nodata-container,.bbi-widget-not-configured-text").css("z-index",i);n.ControlContainer.find(".bbi-dbrd-content-container").children(".bbi-dbrd-control").css("z-index",n.widgetOrder)},t.prototype.isMobileMode=function(){return!this.dashboardDesigner.model.dashboardFromData.isExportImage&&!this.dashboardDesigner.model.dashboardFromData.isExportPdf&&window.outerWidth<=768},t.defaultColorPalette=["#77A7FB","#E57368","#FBCB43","#34B67A","#F1AB68","#6CC2D9","#195962","#E18878","#1AA27D","#BFAAC7","#89695e","#a5c77f","#f48fb1","#90caf9","#cc4452"],t}();t.WidgetHelper=i})(t=n.Dashboard||(n.Dashboard={}))}(BoldBIDashboard||(BoldBIDashboard={}));InternalFilterConfiguration=function(){function n(n){this.id=null;this.reportItems=[];this.filterContainer=null;this.filterFooterTag=null;this.updateBtnTag=null;this.configChooserTag=null;this.masterFooterTag=null;this.masterElementContainer=null;this.masterScrollElement=null;this.masterUlTag=null;this.listContainer=null;this.masterListContainer=null;this.profileField=null;this.defaultContainer=null;this.customContainer=null;this.listenerField=null;this.listenerElementContainer=null;this.profileAddIcon=null;this.filterProfileAddIconDiv=null;this.masterWidgetAddIconDiv=null;this.customAddIconDiv=null;this.columnConfig=null;this.errorMsg="";this.selectedMaster=null;this.columnContainer=null;this.filterActionInfo=null;this.isCustomColumnModified=!1;this.isChangedCheckBoxValue=!1;this.editColVal=null;this.selectedProfile=null;this.isFilterProfileModified=!1;this.targetInstance=null;this.targetMethod=null;this.sourceColumnData=[];this.targetSourceData=[];this.targetColumnData=[];this.filterSerializer=null;this.ejFilterDialog=null;this.ejMasterDialog=null;this.ejColumnGridObj=null;this.locale=null;this.dashboardDesigner=n;this.bbdesigner$=this.dashboardDesigner.bbdesigner$;this.locale=n.getLocalizationContent();this.id=this.dashboardDesigner._id;this.renderFilterConfigWindow();this.unWireEvents();this.wireEvents();this.filterSerializer=this.dashboardDesigner.modules.masterSlaveFilter;this.errorMsg=this.locale.masterSlaveWindow.errorMessage}return n.prototype.renderFilterConfigWindow=function(){var i=this.filterContainer=BoldBIDashboard.buildTag("div.bbi-userselect bbi-filter-config-dialog","",{},{id:this.id+"_filter_configuration"}),p=BoldBIDashboard.buildTag("table.bbi-designer-filter-config-table","",{},{unselectable:"on"}),w=BoldBIDashboard.buildTag("tr","",{}),b=BoldBIDashboard.buildTag("td.bbi-filterConfig-separator bbi-designer-filterConfig-td bbi-filterConfig-master-datacontainer","",{},{}),f=BoldBIDashboard.buildTag("td.bbi-designer-filterConfig-td bbi-filterConfig-filter-datacontainer","",{},{}),n,e,r,o,s,k,d,g;BoldBIDashboard.browserInfo().name==="chrome"&&f.addClass("e-browser-chrome");i.append(p);p.append(w);w.append(b).append(f);n=BoldBIDashboard.buildTag("div","",{width:"175px",height:"470px"});e=BoldBIDashboard.buildTag("div.e-filterConfig-filterempty","",{});b.append(n);f.append(e);r=BoldBIDashboard.buildTag("div.bbi-filterConfig-master-header-div","",{});o=BoldBIDashboard.buildTag("div.bbi-filterConfig-master-leftpane","",{},{});this.masterWidgetAddIconDiv=BoldBIDashboard.buildTag("div.bbi-masterslave-filter-addIcon bbi-dbrd-background-theme","",{},{});var t=BoldBIDashboard.buildTag("div.bbi-filterConfig-master-Label-div bbi-dbrd-icon-theme","",{}),yt=BoldBIDashboard.buildTag("span",this.locale.masterSlaveWindow.masterWidgetsLabelText,{}),h=BoldBIDashboard.buildTag("span.e-icon bbi-masterslave-filter-add-plusIcon bbi-dbrd-designer-hoverable bbi-filterConfig-master-addIcon bbi-designer-filter-addIcon","",{},{id:this.id+"_filter_config_master_addIcon","data-tooltip":"Add"});h.off("click",this.bbdesigner$.proxy(this.addMasterItems,this));h.on("click",this.bbdesigner$.proxy(this.addMasterItems,this));o.append(yt);this.masterWidgetAddIconDiv.append(h);t.append(o).append(this.masterWidgetAddIconDiv);r.append(t);var c=this.masterListContainer=BoldBIDashboard.buildTag("div.e-lv e-js e-parentlv e-designer-hint-newmaster bbi-dbrd-designer-scroller bbi-dbrd-control bbi-dbrd-designer-scroll-style-3","",{width:"100%",height:n.height()-r.height(),display:"block","background-color":"#ffffff"},{id:this.id+"_filter_config_listContainer"}),nt=BoldBIDashboard.buildTag("div","",{},{}),tt=this.listContainer=BoldBIDashboard.buildTag("div.bbi-list-container e-js e-widget bbi-designer-dataset bbi-filterConfig-master-list-container","",{},{id:this.id+"_filter_config_masterList"}),pt=this.masterUlTag=BoldBIDashboard.buildTag("ul.e-list-hdr e-clearall e-filterConfig-master-ui-container","",{},{id:this.id+"_filter_config_List_ulTag"});tt.append(pt);nt.append(tt);c.append(nt);n.append(r).append(c);var it=BoldBIDashboard.buildTag("div","",{margin:"0px 8px"}),rt=BoldBIDashboard.buildTag("table","",{}),l=BoldBIDashboard.buildTag("tr","",{}),ut=BoldBIDashboard.buildTag("td","",{}),wt=BoldBIDashboard.buildTag("td","",{width:"5px"}),a=BoldBIDashboard.buildTag("td","",{}),ft=BoldBIDashboard.buildTag("div","",{}),et=BoldBIDashboard.buildTag("div","",{"padding-bottom":"10px"}),ot=BoldBIDashboard.buildTag("div","",{display:"inline-block"},{});this.filterProfileAddIconDiv=BoldBIDashboard.buildTag("div.bbi-masterslave-filter-addIcon bbi-dbrd-background-theme","",{},{});var bt=BoldBIDashboard.buildTag("span",this.locale.masterSlaveWindow.filterProfileslabelText,{"padding-left":"2px"},{}),v=this.profileAddIcon=BoldBIDashboard.buildTag("span.e-icon bbi-masterslave-filter-add-plusIcon bbi-dbrd-designer-hoverable bbi-filterConfig-master-addIcon bbi-designer-filter-addIcon","",{},{id:this.id+"_filter_config_profile_addIcon","data-tooltip":"Add"}),u=this.profileField=BoldBIDashboard.buildTag("div.bbi-dbrd-designer-scroller bbi-dbrd-control bbi-filterConfig-profile-field bbi-dbrd-designer-scroll-style-3","",{}),st=BoldBIDashboard.buildTag("div","",{}),ht=BoldBIDashboard.buildTag("div","",{id:this.id+"_filter_config_profile_list"}),kt=BoldBIDashboard.buildTag("ul.e-list-hdr e-clearall e-filter-profileList bbi-filterConfig-ul-Profile-container","",{},{id:this.id+"_filter_config_profile_ulTag"});v.off("click",this.bbdesigner$.proxy(this.addNewProfile,this));v.on("click",this.bbdesigner$.proxy(this.addNewProfile,this));ot.append(bt);this.filterProfileAddIconDiv.append(v);ht.append(kt);st.append(ht);u.append(st);et.append(ot,this.filterProfileAddIconDiv);ft.append(et,u);ut.append(ft,u);var ct=BoldBIDashboard.buildTag("div","",{}),lt=BoldBIDashboard.buildTag("div.bbi-filterConfig-listene-label-div","",{}),dt=BoldBIDashboard.buildTag("span",this.locale.masterSlaveWindow.listenerWidgetsLabelText,{}),y=this.listenerField=BoldBIDashboard.buildTag("div.bbi-dbrd-designer-scroller bbi-dbrd-control bbi-filterConfig-listene-field-div bbi-dbrd-designer-scroll-style-3","",{}),at=BoldBIDashboard.buildTag("div","",{}),vt=this.listenerElementContainer=BoldBIDashboard.buildTag("div","",{},{id:this.id+"_filter_config_listener_list"}),gt=BoldBIDashboard.buildTag("table.e-designer-listener-table","",{});lt.append(dt);vt.append(gt);at.append(vt);y.append(at);ct.append(lt,y);a.append(ct);l.append(ut,wt,a);l.append(a);rt.append(l);it.append(rt);s=BoldBIDashboard.buildTag("div","",{width:"539px"});this.renderColumnConfig(s);e.append(it).append(s);k=this.updateBtnTag=BoldBIDashboard.buildTag("button.bbi-dbrd-btn-primary",this.locale.masterSlaveWindow.updateButtonText,{float:"right","margin-right":"10px",height:"28px"},{id:this.id+"_filter_config_update_btn",type:"button"});d=BoldBIDashboard.buildTag("button.bbi-dbrd-btn-secondary",this.locale.masterSlaveWindow.cancelButtonText,{float:"right",height:"28px"},{id:this.id+"_filter_config_close_btn",type:"button"});this.dashboardDesigner.element.append(i);i.BoldBIDashboardDialog({width:"auto",height:"auto",minWidth:"310px",minHeight:"215px",title:this.locale.masterSlaveWindow.alertTitle,enableResize:!1,showOnInit:!1,showFooter:!0,cssClass:"bbi-designer-dialog e-flat-mode boldbi-dashboarddesigner",enableModal:!0,close:this.bbdesigner$.proxy(BoldBIDashboard.DashboardUtil.closeDialog,this),containment:"#"+this.dashboardDesigner._id,target:"#"+this.dashboardDesigner._id,closeIconTooltip:this.locale.dialogOptions.closeButtonText});g=t.height()+parseInt(t.css("padding-top"),10)+parseInt(t.css("padding-bottom"),10);this.generateScroller(c,n.height()-g+"px","auto");this.generateScroller(u,"185px","250px");this.generateScroller(y,"185px","250px");this.filterFooterTag=this.dashboardDesigner.element.find("#"+this.id+"_filter_configuration_foot");this.filterFooterTag.append(d).append(k);this.ejFilterDialog=i.data("BoldBIDashboardDialog");this.renderMasterWindow()},n.prototype.wireEvents=function(){this.dashboardDesigner.element.on("click","#"+this.id+"_filter_config_update_btn",this.bbdesigner$.proxy(this.updateFilterConfig,this));this.dashboardDesigner.element.on("click","#"+this.id+"_filter_config_close_btn",this.bbdesigner$.proxy(this.closeFilterWindow,this));this.dashboardDesigner.element.on("click","#"+this.id+"_master_add_ok_btn",this.bbdesigner$.proxy(this.updateMasterInfo,this));this.dashboardDesigner.element.on("click","#"+this.id+"_master_add_cancel_btn",this.bbdesigner$.proxy(this.closeMasterWindow,this))},n.prototype.unWireEvents=function(){this.dashboardDesigner.element.off("click","#"+this.id+"_filter_config_update_btn",this.bbdesigner$.proxy(this.updateFilterConfig,this));this.dashboardDesigner.element.off("click","#"+this.id+"_filter_config_close_btn",this.bbdesigner$.proxy(this.closeFilterWindow,this));this.dashboardDesigner.element.off("click","#"+this.id+"_master_add_ok_btn",this.bbdesigner$.proxy(this.updateMasterInfo,this));this.dashboardDesigner.element.off("click","#"+this.id+"_master_add_cancel_btn",this.bbdesigner$.proxy(this.closeMasterWindow,this))},n.prototype.generateScroller=function(n,t,i){n.BoldBIDashboardScroller({scrollerSize:this.dashboardDesigner.scrollerSize.scrollSize,height:t,width:i,enableTouchScroll:!0,autoHide:!0,buttonSize:this.dashboardDesigner.scrollerSize.buttonSize})},n.prototype.renderColumnConfig=function(n){var f=this.configChooserTag=BoldBIDashboard.buildTag("div.bbi-filterConfig-chooser-div","",{},{}),i=BoldBIDashboard.buildTag("div","",{width:"85px",display:"inline-block"},{}),r=BoldBIDashboard.buildTag("div","",{width:"85px",display:"inline-block"},{}),e=BoldBIDashboard.buildTag("input","",{},{type:"radio",name:"customchooser",id:this.id+"_filter_config_default"}),l=BoldBIDashboard.buildTag("label","Default",{"font-size":"12px","font-color":"#303541","padding-left":"3px"},{"for":this.id+"_filter_config_default",type:"label"}),o=BoldBIDashboard.buildTag("input","",{},{type:"radio",name:"customchooser",id:this.id+"_filter_config_custom"}),a=BoldBIDashboard.buildTag("label","Custom",{"font-size":"12px","font-color":"#303541","padding-left":"3px"},{"for":this.id+"_filter_config_custom",type:"label"}),t;i.append(e);i.append(l);r.append(o);r.append(a);this.customAddIconDiv=BoldBIDashboard.buildTag("div.bbi-masterslave-filter-addIcon bbi-dbrd-background-theme","",{},{});t=BoldBIDashboard.buildTag("span.e-icon bbi-masterslave-filter-add-plusIcon bbi-dbrd-designer-hoverable bbi-filterConfig-master-addIcon bbi-designer-filter-addIcon","",{},{id:this.id+"_filter_config_custom_addIcon","data-tooltip":"Add"});this.customAddIconDiv.append(t);f.append(i).append(r).append(this.customAddIconDiv);t.off("click",this.bbdesigner$.proxy(this.addCustomColumn,this));t.on("click",this.bbdesigner$.proxy(this.addCustomColumn,this));e.BoldBIDashboardRadioButton({checked:!0,change:this.bbdesigner$.proxy(this.dataChooser,this),value:"default",text:this.locale.masterSlaveWindow.filterModeDefaultText,cssClass:"bbi-designer-radiobtn"});o.BoldBIDashboardRadioButton({checked:!1,change:this.bbdesigner$.proxy(this.dataChooser,this),value:"custom",text:this.locale.masterSlaveWindow.filterModeCustomText,cssClass:"bbi-designer-radiobtn"});var s=this.columnContainer=BoldBIDashboard.buildTag("div","",{height:"190px",width:"540px",display:"inline-block","margin-bottom":"5px","border-top":"1px solid #dddddd","background-color":"#ffffff"},{id:this.id+"_column_config_container"}),h=this.defaultContainer=BoldBIDashboard.buildTag("div","",{height:"190px",display:"block","background-color":"#ffffff","border-radius":"4px","border-width":"0px"},{id:this.id+"_default_column_container"}),c=BoldBIDashboard.buildTag("div.bbi-designer-defaultcolumn-grid","",{height:"190px",display:"block","border-width":"0px"},{id:this.id+"_default_column_grid"}),u=this.columnConfig=BoldBIDashboard.buildTag("div.bbi-dbrd-designer-scroller bbi-dbrd-control","",{height:"190px",width:"540px",display:"inline-block","border-radius":"4px","background-color":"#ffffff"},{}),v=this.customContainer=BoldBIDashboard.buildTag("div.bbi-designer-custom-column","",{display:"block","background-color":"#ffffff",height:"190px","border-width":"0px"},{id:this.id+"_custom_column_container"});u.append(v);n.append(f);n.append(s);h.append(c);s.append(u).append(h);this.generateScroller(u,"190px","540px");this.customTypeSwitcher(!1);this.createGridDefaultColumn(c)},n.prototype.createGridDefaultColumn=function(n){for(var r=[],t=[{fieldName:"SourceColumn",Name:this.locale.masterSlaveWindow.sourceColumn},{fieldName:"TargetDataSource",Name:this.locale.masterSlaveWindow.targetDataSource},{fieldName:"TargetColumn",Name:this.locale.masterSlaveWindow.targetColumn}],u=540/t.length,i=0;i<t.length;i++)r.push({field:t[i].fieldName,headerText:t[i].Name,width:u,textAlign:BoldBIDashboard.TextAlign.Left});n.BoldBIDashboardGrid({enableRowHover:!1,allowScrolling:!1,columns:r,allowSelection:!1,height:150,scrollSettings:{allowVirtualScrolling:!1,virtualScrollMode:"normal",enableTouchScroll:!1,autoHide:!0,scrollerSize:10}});this.ejColumnGridObj=n.data("BoldBIDashboardGrid")},n.prototype.appendMasterList=function(n,t){var f=n.ID,u=n.Name,i=BoldBIDashboard.buildTag("li.e-user-select e-list e-state-default e-list-check bbi-filterConfig-master-li-container bbi-designer-masterwidget-list","",{},{id:this.id+"_li_"+f,name:u,guid:f}),e=BoldBIDashboard.buildTag("a.e-chevron-right_01 bbi-remove-shadow","",{padding:"8px 0px","min-height":"16px"}),o=BoldBIDashboard.buildTag("span.e-list-text e-rel bbi-designer-content bbi-dbrd-designer-hoverable bbi-filterConfig-master-text-span",u,{},{name:u,id:this.id+"_li_"+f+"_textSpan"}),r;e.append(o);r=BoldBIDashboard.buildTag("div.e-chk-image e-icon e-cross-circle bbi-dbrd-designer-hoverable bbi-filterConfig-master-closeIcon-span bbi-filter-configuration-close","",{},{id:this.id+"_"+f,"data-tooltip":"Delete"});BoldBIDashboard.DashboardUtil.textWidth(u,"12px Heebo")>=o.width()&&o.attr("data-tooltip",u);e.append(r);i.append(e);r.off("click",this.bbdesigner$.proxy(this.removeMaster,this,i,n));i.off("click",this.bbdesigner$.proxy(this.masterSelection,this,n.ID));r.on("click",this.bbdesigner$.proxy(this.removeMaster,this,i,n));i.on("click",this.bbdesigner$.proxy(this.masterSelection,this,n.ID));i.bind(BoldBIDashboard.DashboardUtil.MouseEvent.mouseUp,this.bbdesigner$.proxy(this.onListItemMouseUp,this));i.bind(BoldBIDashboard.DashboardUtil.MouseEvent.mouseOver,this.bbdesigner$.proxy(this.elementMouseOver,this,r));i.bind(BoldBIDashboard.DashboardUtil.MouseEvent.mouseLeave,this.bbdesigner$.proxy(this.elementMouseLeave,this,r));BoldBIDashboard.isNullOrUndefined(t)?this.masterUlTag.append(i):t===0?(this.masterUlTag.prepend(i),i.css({"border-bottom":"0.5px solid #c8c8c8"})):this.listContainer.find("ul>li:nth-child("+t+")").after(i);this.masterListContainer.height()>this.listContainer.height()?this.masterListContainer.find(".e-content").removeClass("e-content"):this.scrollerRefresh(this.masterListContainer)},n.prototype.elementMouseOver=function(n){n.css("display","inline-block")},n.prototype.elementMouseLeave=function(n){n.css("display","none")},n.prototype.getSelectedMasterCollection=function(n){for(var r=null,i=this.filterActionInfo.MastersCollection,t=0;t<i.length;t++)i[t].MasterInfo.ID===n&&(r=i[t]);return r},n.prototype.masterSelection=function(n){if(n!==this.selectedMaster.MasterInfo.ID){this.profileAddIcon.attr("disabled")==="disabled"&&this.disableFilterConditionSlaveWidgetArea(!1);this.updateMasterDetails();var t=this.getSelectedMasterCollection(n);BoldBIDashboard.isNullOrUndefined(t)||(this.selectedMaster=t,this.selectedMaster.ProfileManager.length>0?(this.selectedProfile=this.selectedMaster.ProfileManager[0],this.disableFilterConditionSlaveWidgetArea(!1),this.populateProfileArea(!0),this.isChangedCheckBoxValue=!1):(this.selectedProfile=null,this.resetColumnConfiguration(),this.resetProfileFields(),this.resetListenerContainer(),this.disableFilterConditionSlaveWidgetArea(!0,!1)))}},n.prototype.getSelectedListener=function(n){for(var i,r=[],t=0;t<n.length;t++)i=this.dashboardDesigner.element.find("#"+this.id+"_listener_"+n[t].ID).data("BoldBIDashboardCheckBox"),!BoldBIDashboard.isNullOrUndefined(i)&&i.model.checked&&r.push(n[t]);return r},n.prototype.updateMasterDetails=function(){this.filterActionInfo.MastersCollection.length>0&&!BoldBIDashboard.isNullOrUndefined(this.selectedProfile)&&this.UpdateProfileDetails();this.removeEmptyCustomColumn()},n.prototype.removeMaster=function(n,t){var r,i;for(n.remove(),this.scrollerRefresh(this.masterListContainer),this.resetProfileFields(),this.scrollerRefresh(this.profileField),this.resetListenerContainer(),this.scrollerRefresh(this.listenerField),r=this.filterActionInfo.MastersCollection,i=0;i<r.length;i++)r[i].MasterInfo.ID===t.ID&&r.splice(i,1);this.masterUlTag.find("li").length>0?(this.setDefaultSelection(),this.disableFilterConfigArea(!1),this.populateProfileArea(!0),this.masterUlTag.find("li").first().addClass("bbi-masterwidget-user-selection-active")):(this.resetColumnConfiguration(),this.disableFilterConfigArea(!0),this.masterWidgetAddIconDiv.removeAttr("disabled"))},n.prototype.profileSelection=function(n){var i,t;if(this.profileAddIcon.attr("disabled")!=="disabled"&&(i=n.find("span.e-list-text").attr("name"),!BoldBIDashboard.isNullOrUndefined(this.selectedMaster)&&this.selectedMaster.ProfileManager.length>0&&i!==""&&this.selectedProfile.Name!==i))for(this.UpdateProfileDetails(),this.isChangedCheckBoxValue=!1,t=0;t<this.selectedMaster.ProfileManager.length;t++)this.selectedMaster.ProfileManager[t].ProfileInfo.Name===i&&(this.selectedProfile=this.selectedMaster.ProfileManager[t],this.populateProfileArea(!1))},n.prototype.setProfileInfoToSelectedProfileProperty=function(){this.selectedMaster.ProfileManager.length>0?(this.selectedProfile=this.selectedMaster.ProfileManager[0],this.populateProfileArea(!1),this.profileField.find(".e-filter-profileList li").first().addClass("bbi-masterwidget-user-selection-active")):(this.selectedProfile=null,this.resetListenerContainer(),this.resetColumnConfiguration(),this.listenerField.attr("disabled","true").css({opacity:"0.5","background-color":"#f4f4f4"}),this.configChooserTag.find("#"+this.id+"_filter_config_default").data("BoldBIDashboardRadioButton").disable(),this.configChooserTag.find("#"+this.id+"_filter_config_custom").data("BoldBIDashboardRadioButton").disable(),this.configChooserTag.css("opacity","0.5"))},n.prototype.onListItemMouseUp=function(n){var t=this.bbdesigner$(n.target).closest("li"),i=this.bbdesigner$;t.hasClass("bbi-masterwidget-user-selection-active")||(t.parent().children().each(function(){var n=i(this);n.removeClass("bbi-masterwidget-user-selection-active");n.find("span").removeClass("bbi-masterwidget-user-selection-active")}),t.addClass("bbi-masterwidget-user-selection-active"),t.find("span").addClass("bbi-masterwidget-user-selection-active"))},n.prototype.addNewProfile=function(){this.profileAddIcon.attr("disabled")!=="disabled"&&(this.disableFilterConditionSlaveWidgetArea(!0),this.appendProfileElement(this.selectedMaster.MasterInfo.Name,this.selectedMaster.MasterInfo.ID,"",!1),this.scrollerRefresh(this.profileField))},n.prototype.appendProfileElement=function(n,t,i,r){var e=BoldBIDashboard.getGuid(""),l=this.profileField.height()<this.profileField.find("#"+this.id+"_filter_config_profile_list").height(),o=l?190:200,u=BoldBIDashboard.buildTag("li.e-user-select e-list e-list-check bbi-designer-filterProfile-row bbi-filterConfig-master-filterprofile-li-container","",{},{id:this.id+"_li_"+e,name:i}),s=BoldBIDashboard.buildTag("a.e-chevron-right_01 bbi-remove-shadow","",{padding:"3.5px 0"}),h=BoldBIDashboard.buildTag("span.e-list-text e-rel e-user-select bbi-designer-fontfamily bbi-filterConfig-master-filterprofile-name bbi-dbrd-designer-hoverable"+(BoldBIDashboard.DashboardUtil.textWidth(i,"12px Heebo")>=o?" e-title-tip":""),i,{width:o,display:r?"inline-block":"none"},{name:i,id:this.id+"_txtSpan_"+e}),c=BoldBIDashboard.buildTag("input.e-textbox e-edit-profile bbi-designer-fontfamily bbi-filterConfig-master-filterprofile-textbox","",{width:o+26,display:r?"none":"inline-block"},{liTag:this.id+"_txtSpan_"+e,type:"text",id:this.id+"_txtEdit_"+e}),f=BoldBIDashboard.buildTag("div.e-chk-image e-icon e-cross-circle bbi-dbrd-designer-hoverable bbi-filterConfig-master-filterprofile-closeIcon-span bbi-filter-configuration-close","",{},{id:this.id+"_closeIcon_"+e,"data-tooltip":"Delete"});if(BoldBIDashboard.DashboardUtil.textWidth(i,"12px Heebo")>=o&&h.attr("data-tooltip",i),r?u.addClass("bbi-designer-filterProfile-list"):(f.addClass("e-list-close-icon"),c.addClass("e-selected-textbox")),s.append(h).append(c).append(f),u.append(s),this.profileField.find(".e-filter-profileList").append(u),r)this.profileAddIcon.css("opacity")!=="1"&&this.disableAddIcon(!1);else{this.disableAddIcon(!0);this.onListItemMouseUp({target:u})}u.off("click",this.bbdesigner$.proxy(this.profileSelection,this,u,t));f.off("click",this.bbdesigner$.proxy(this.removeProfile,this,u));u.on("click",this.bbdesigner$.proxy(this.profileSelection,this,u,t));f.on("click",this.bbdesigner$.proxy(this.removeProfile,this,u));u.bind(BoldBIDashboard.isTouchDevice()?"doubletap":"dblclick",this.bbdesigner$.proxy(this.editProfileName,this));u.bind(BoldBIDashboard.DashboardUtil.MouseEvent.mouseOver,this.bbdesigner$.proxy(this.profileMouseOver,this,f));u.bind(BoldBIDashboard.DashboardUtil.MouseEvent.mouseLeave,this.bbdesigner$.proxy(this.profileMouseLeave,this,f));u.bind(BoldBIDashboard.DashboardUtil.MouseEvent.mouseUp,this.bbdesigner$.proxy(this.onListItemMouseUp,this));u.find(".e-edit-profile").off("blur",this.bbdesigner$.proxy(this.editColumnBlur,this,t));u.find(".e-edit-profile").off("keypress",this.bbdesigner$.proxy(this.editColumnKeyPress,this,t));u.find(".e-edit-profile").on("blur",this.bbdesigner$.proxy(this.editColumnBlur,this,t));u.find(".e-edit-profile").on("keypress",this.bbdesigner$.proxy(this.editColumnKeyPress,this,t));u.find(".e-edit-profile").focus()},n.prototype.removeProfile=function(n){var i=n.find("span.e-list-text").attr("name"),t;if(!BoldBIDashboard.isNullOrUndefined(this.selectedMaster)&&this.selectedMaster.ProfileManager.length>0)if(this.selectedProfile.ProfileInfo.Name===i&&this.profileAddIcon.attr("disabled")!=="disabled")for(t=0;t<this.selectedMaster.ProfileManager.length;t++)this.selectedMaster.ProfileManager[t].ProfileInfo.Name===this.selectedProfile.ProfileInfo.Name&&(this.selectedMaster.ProfileManager.splice(t,1),n.remove(),this.setProfileInfoToSelectedProfileProperty(this.selectedMaster.MasterInfo.ID));else(BoldBIDashboard.isNullOrUndefined(i)||i==="")&&(n.remove(),this.disableFilterConditionSlaveWidgetArea(!1),this.UpdateProfileDetails(),this.setProfileInfoToSelectedProfileProperty(this.selectedMaster.MasterInfo.ID));else n.remove(),this.resetListenerContainer(),this.resetColumnConfiguration(),this.listenerField.attr("disabled","true").css({opacity:"0.5","background-color":"#f4f4f4"}),this.configChooserTag.find("#"+this.id+"_filter_config_default").data("BoldBIDashboardRadioButton").disable(),this.configChooserTag.find("#"+this.id+"_filter_config_custom").data("BoldBIDashboardRadioButton").disable(),this.configChooserTag.css("opacity","0.5"),this.profileAddIcon.css("opacity")!=="1"&&this.disableAddIcon(!1);this.scrollerRefresh(this.profileField)},n.prototype.editProfileName=function(n){var t=this.bbdesigner$(n.currentTarget).find(".e-edit-profile"),r=t[0],o=this.profileField.find(".e-filter-profileList"),u=o.find(".e-edit-profile:visible").not(t),f=this.bbdesigner$(n.currentTarget).find(".e-list-text"),e=this.bbdesigner$(n.currentTarget).find(".e-cross-circle"),i;t.css("display")==="none"&&u.length===0?(i=f.text().trim(),f.css("display","none"),n.currentTarget.classList.remove("bbi-designer-filterProfile-list"),e.css("display","none"),e.addClass("e-list-close-icon"),t.css("display","inline-block").val(i).focus(),t.addClass("e-selected-textbox"),this.editColVal=i,r.selectionStart=r.selectionEnd=i.length):u.length>0&&this.dashboardDesigner.modules.util.alertDialog(this.locale.masterSlaveWindow.alertTitle,this.locale.masterSlaveWindow.profileNameEditAdd,IconType.warning,AlertType.Alert,!1,"")},n.prototype.profileMouseOver=function(n){n.hasClass("e-list-close-icon")||n.css("display","inline-block")},n.prototype.profileMouseLeave=function(n){n.css("display","none")},n.prototype.editColumnBlur=function(n,t){var r=this.bbdesigner$(t.currentTarget),f=r.closest("li"),o=r.attr("liTag"),e=f.find("#"+o),i=r.val().trim(),s=e.attr("name"),h=f.find(".e-cross-circle"),c,u;s!==i.trim()?i.trim()===""?this.dashboardDesigner.modules.util.alertDialog(this.locale.masterSlaveWindow.alertTitle,this.locale.masterSlaveWindow.filterKeyEmpty,IconType.errors,AlertType.Alert,!1,"",{instance:this,method:"invalidFilterProfileNameAlert"}):this.isExistProfileName(i,e)?this.dashboardDesigner.modules.util.alertDialog(this.locale.alertDialogTitle.InvalidFilterProfile,this.locale.masterSlaveWindow.filterKeyExist,IconType.warning,AlertType.Alert,!1,"",{instance:this,method:"invalidFilterProfileNameAlert"}):(r.css("display","none"),e.css("display","inline-block").text(i.trim()),c=this.bbdesigner$("#"+f[0].id),u=this.bbdesigner$("#"+o),c.attr("name",i.trim()),u.attr("name",i.trim()),BoldBIDashboard.DashboardUtil.textWidth(i.trim(),"12px Heebo")>=u.width()?(u.addClass("bbi-dbrd-designer-hoverable"),u.attr("data-tooltip",i.trim())):u.removeAttr("data-tooltip"),this.UpdateSelectedProfileDetails(s,i.trim(),n),this.editColVal=null,this.profileAddIcon.css("opacity")!=="1"&&this.disableAddIcon(!1),this.addOrRemoveCloseIcon(h,f,r)):BoldBIDashboard.isNullOrUndefined(i)||i.trim()===""?i.trim()===""&&this.dashboardDesigner.modules.util.alertDialog(this.locale.masterSlaveWindow.alertTitle,this.locale.masterSlaveWindow.filterKeyEmpty,IconType.warning,AlertType.Alert,!1,"",{instance:this,method:"invalidFilterProfileNameAlert"}):(r.css("display","none"),e.css("display","inline-block"),this.addOrRemoveCloseIcon(h,f,r))},n.prototype.invalidFilterProfileNameAlert=function(){this.filterContainer.find(".e-selected-textbox").focus().select()},n.prototype.addOrRemoveCloseIcon=function(n,t,i){BoldBIDashboard.isNullOrUndefined(n)||n.removeClass("e-list-close-icon");BoldBIDashboard.isNullOrUndefined(t)||t.addClass("bbi-designer-filterProfile-list");BoldBIDashboard.isNullOrUndefined(i)||i.removeClass("e-selected-textbox")},n.prototype.editColumnKeyPress=function(n,t){var o,u;if(t.keyCode===13){var r=this.bbdesigner$(t.currentTarget),f=r.closest("li"),s=r.attr("liTag"),e=f.find("#"+s),i=r.val().trim(),h=e.attr("name"),c=f.find(".e-cross-circle");h!==i.trim()?i.trim()===""?this.dashboardDesigner.modules.util.alertDialog(this.locale.masterSlaveWindow.alertTitle,this.locale.masterSlaveWindow.filterKeyEmpty,IconType.errors,AlertType.Alert,!1,"",{instance:this,method:"invalidFilterProfileNameAlert"}):this.isExistProfileName(i,e)?this.dashboardDesigner.modules.util.alertDialog(this.locale.masterSlaveWindow.alertTitle,this.locale.masterSlaveWindow.filterKeyExist,IconType.warning,AlertType.Alert,!1,"",{instance:this,method:"invalidFilterProfileNameAlert"}):(r.css("display","none"),e.css("display","inline-block").text(i.trim()),o=this.bbdesigner$("#"+f[0].id),u=this.bbdesigner$("#"+s),o.attr("name",i.trim()),u.attr("name",i.trim()),BoldBIDashboard.DashboardUtil.textWidth(i.trim(),"12px Heebo")>=u.width()?(u.addClass("bbi-dbrd-designer-hoverable"),u.attr("data-tooltip",i.trim())):u.removeAttr("data-tooltip"),this.UpdateSelectedProfileDetails(h,i.trim(),n),this.editColVal=null,this.profileAddIcon.css("opacity")!=="1"&&this.disableAddIcon(!1),this.addOrRemoveCloseIcon(c,f,r)):BoldBIDashboard.isNullOrUndefined(i)||i.trim()===""?i.trim()===""&&this.dashboardDesigner.modules.util.alertDialog(this.locale.masterSlaveWindow.alertTitle,this.locale.masterSlaveWindow.filterKeyEmpty,IconType.errors,AlertType.Alert,!1,"",{instance:this,method:"invalidFilterProfileNameAlert"}):(r.css("display","none"),e.css("display","inline-block"),this.addOrRemoveCloseIcon(c,f,r));this.isFilterProfileModified=!0}},n.prototype.UpdateProfileDetails=function(){this.selectedMaster.ProfileManager.length>0&&!BoldBIDashboard.isNullOrUndefined(this.selectedProfile)&&(this.isCustomColumnModified&&(this.selectedProfile.ProfileInfo.FilterCondition=this.getCustomColumnValues(),this.selectedProfile.ProfileInfo.Option=this.isCustomColumnModified,this.isCustomColumnModified=!1),this.isChangedCheckBoxValue&&(this.selectedProfile.WidgetInfo=this.getSelectedListener(this.selectedProfile.WidgetInfo)))},n.prototype.SetSelectedProfile=function(n,t){var r,i;if(this.selectedMaster.MasterInfo.ID===n)for(r=this.createProfileInfo(),r.Name=t,r.FilterCondition=this.bbdesigner$.parseJSON(JSON.stringify(this.getDefaultFilterConditions(n))),this.selectedMaster.ProfileManager.push({ProfileInfo:r,WidgetInfo:this.generateWidgetInfo(n)}),i=0;i<this.selectedMaster.ProfileManager.length;i++)this.selectedMaster.ProfileManager[i].ProfileInfo.Name===t&&(this.selectedProfile=this.selectedMaster.ProfileManager[i])},n.prototype.isExistProfileName=function(n){var t;if(!BoldBIDashboard.isNullOrUndefined(this.selectedMaster.ProfileManager)&&this.selectedMaster.ProfileManager.length>0)for(t=0;t<this.selectedMaster.ProfileManager.length;t++)if(this.selectedMaster.ProfileManager[t].ProfileInfo.Name===n)return!0;return!1},n.prototype.UpdateSelectedProfileDetails=function(n,t,i){var u=!1,r;if(this.selectedMaster.ProfileManager.length>0)for(r=0;r<this.selectedMaster.ProfileManager.length;r++)this.selectedMaster.ProfileManager[r].ProfileInfo.Name===n&&(this.selectedMaster.ProfileManager[r].ProfileInfo.Name=t,u=!0);else u=!1;u||this.setNewProfile(i,t)},n.prototype.setNewProfile=function(n,t){this.UpdateProfileDetails();this.SetSelectedProfile(n,t);this.disableFilterConditionSlaveWidgetArea(!1);this.populateProfileArea(!1)},n.prototype.populateListenerWidgets=function(n,t){var o,r,i,f,u,s,e;for(this.resetListenerContainer(),o=this.listenerElementContainer.find(".e-designer-listener-table"),r=this.filterSerializer.getWidgetList(),i=0;i<r.length;i++)f=r[i].ID,f!==t.ID&&(!t.IsPoP||r[i].IsPoPSupported)&&this.checkBoxWithElementsCreation(r[i].Name,f,this.id+"_listener_"+f,!0,o,"5px 15px 0px 10px");for(u=0;u<n.length;u++)s=n[u],(!t.IsPoP||n[u].IsPoPSupported)&&(e=this.dashboardDesigner.element.find("#"+this.id+"_listener_"+s.ID).data("BoldBIDashboardCheckBox"),BoldBIDashboard.isNullOrUndefined(e)||e.setModel({checked:!0}));this.scrollerRefresh(this.listenerField)},n.prototype.resetListenerContainer=function(){this.listenerElementContainer.find(".e-designer-listener-table tr").remove()},n.prototype.dataChooser=function(n){var t,r,i;n.isInteraction&&(t=n.model.value==="custom",t?(this.isCustomColumnModified=!0,this.customTypeSwitcher(t),this.removeEmptyCustomColumn()):(this.removeEmptyCustomColumn(),r=this.getCustomColumnValues(),i=!0,i=this.isCustomColumnModified||this.selectedProfile.ProfileInfo.Option?!0:!1,i?this.dashboardDesigner.modules.util.alertDialog(this.locale.masterSlaveWindow.alertTitle,this.locale.masterSlaveWindow.resetAllCustomizationText,IconType.warning,AlertType.Confirm,!1,"",{height:140,width:500,method:"confirmAction",instance:this,dataInfo:{filterCondition:r}}):this.customTypeSwitcher(t)))},n.prototype.confirmAction=function(n,t){n?(this.customTypeSwitcher(!1),this.customContainer.empty(),this.selectedProfile.ProfileInfo.FilterCondition=this.bbdesigner$.parseJSON(JSON.stringify(this.getDefaultFilterConditions(this.selectedMaster.MasterInfo.ID))),this.updateConfigFields(this.selectedProfile.ProfileInfo.FilterCondition,this.sourceColumnData,this.targetColumnData),this.isCustomColumnModified=!1,this.selectedProfile.ProfileInfo.Option=!1):(this.configChooserTag.find("#"+this.id+"_filter_config_custom").data("BoldBIDashboardRadioButton").setModel({checked:!0}),this.customTypeSwitcher(!n),this.customContainer.empty(),this.updateConfigFields(t.filterCondition,this.sourceColumnData,this.targetColumnData),this.isCustomColumnModified=!0,this.selectedProfile.ProfileInfo.Option=!0)},n.prototype.getCustomColumnValues=function(){var n=this,i=!1,r=[],u=this.customContainer.find(".e-reportdesigner-column-config-row"),t=this.bbdesigner$;return u.each(function(u,f){var e=t(f).attr("id"),p=n.customContainer.find("#"+e+"_source_column").data("BoldBIDashboardDropDownList"),w=n.customContainer.find("#"+e+"_datasource_column").data("BoldBIDashboardDropDownList"),h=w.getSelectedValue(),b=w.getItemDataByValue(h)[0].Name,k=t(p.getSelectedItem()).text(),c=p.getSelectedValue(),a=n.customContainer.find("#"+e+"_target_column"),v="",s="",y,l,o;!BoldBIDashboard.isNullOrUndefined(a)&&a.length>0?(y=a.data("BoldBIDashboardDropDownList"),v=t(y.getSelectedItem()).text(),s=y.getSelectedValue()):(l=t("#"+e+"_target_column_div_drop_tree_wrapper_input"),l.data("BoldBIDashboardDropDownList"),v=l.data("BoldBIDashboardDropDownList").model.text,s=l.data("BoldBIDashboardDropDownList").model.value);c.length>0&&h.length>0&&s.length>0||(BoldBIDashboard.DashboardUtil.showErrIndictor(n.customContainer.find("#"+e+"_col_error_icon"),!0),i=!0);c.length>0||(n.updateBorder(t("#"+e+"_source_column_wrapper"),!0),i=!0);h.length>0||(n.updateBorder(t("#"+e+"_datasource_column_wrapper"),!0),i=!0);s.length>0||(n.updateBorder(t("#"+e+"_target_column_wrapper"),!0),i=!0);c.length>0&&h.length>0&&s.length>0&&(n.updateBorder(n.bbdesigner$("#"+e+"_source_column_wrapper > span"),!1),n.updateBorder(n.bbdesigner$("#"+e+"_datasource_column_wrapper > span"),!1),n.updateBorder(n.bbdesigner$("#"+e+"_target_column_wrapper > span"),!1),BoldBIDashboard.DashboardUtil.showErrIndictor(n.customContainer.find("#"+e+"_col_error_icon"),!1),o=n.createcolumnJson(),o.SourceColumn.Name=k,o.SourceColumn.ID=c,o.DataSource.ID=h,o.DataSource.Name=b,o.TargetColumn.Name=v,o.TargetColumn.ID=s,r.push(o),i=!1)}),r},n.prototype.updateBorder=function(n,t){t?n.addClass("bbi-designer-error"):n.removeClass("bbi-designer-error")},n.prototype.createcolumnJson=function(){return{SourceColumn:{ID:"",Name:""},DataSource:{ID:"",Name:""},TargetColumn:{ID:"",Name:""}}},n.prototype.customTypeSwitcher=function(n){var t=this.configChooserTag.find(".e-icon.bbi-masterslave-filter-add-plusIcon");n?(this.defaultContainer.css("display","none"),t.css("display","table"),this.columnConfig.css({display:"block",width:"515px"}),this.columnContainer.css({opacity:"1","background-color":"#ffffff"}),this.scrollerRefresh(this.columnConfig)):(t.css("display","none"),this.columnConfig.css("display","none"),this.defaultContainer.css("display","block"),this.columnContainer.css({opacity:"0.5","background-color":"#f4f4f4"}))},n.prototype.addCustomColumn=function(){this.renderNewConfigField();this.scrollerRefresh(this.columnConfig)},n.prototype.isDuplicate=function(n,t){for(var i=0;i<n.length;i++)if(n[i].Name===t)return!0;return!1},n.prototype.updateConfigFields=function(n){for(var r,u,t=0;t<n.length;t++){var i=this.renderNewConfigField(),f=this.customContainer.find("#"+i+"_source_column"),e=this.customContainer.find("#"+i+"_datasource_column"),o=this.customContainer.find("#"+i+"_target_column_div");f.data("BoldBIDashboardDropDownList").selectItemByText(n[t].SourceColumn.Name);e.data("BoldBIDashboardDropDownList").selectItemByValue(n[t].DataSource.ID);this.populateTargetColumn(this.targetColumnData,e,o,f,{});r=this.customContainer.find("#"+i+"_target_column");!BoldBIDashboard.isNullOrUndefined(r)&&r.length>0?r.data("BoldBIDashboardDropDownList").selectItemByText(n[t].TargetColumn.Name):(u=this.bbdesigner$("#"+i+"_target_column_div_drop_tree_wrapper_input"),u.data("BoldBIDashboardDropDownList").model.text=u.data("BoldBIDashboardDropDownList").model.value=n[t].TargetColumn.Name,u.data("BoldBIDashboardDropDownList")._addText(n[t].TargetColumn.Name))}},n.prototype.populateCustomColumn=function(n,t){var e=BoldBIDashboard.Dashboard.WidgetHelper.getWidgetInstance(this.dashboardDesigner.element.find("#"+this.dashboardDesigner._id+"_"+n)),f=t,i=[],r,u;this.bbdesigner$.each(e.supportedColumnsForFiltering(),function(n,t){i.push({Name:t.Name,Id:t.Id})});r=this.dashboardDesigner.modules.dataSet.datasets;u=this.getTargetDataSourceList(r);this.targetColumnData=r;this.targetSourceData=u;this.sourceColumnData=i;f.length>0&&(this.updateConfigFields(f,i,u),this.isCustomColumnModified=!1)},n.prototype.getTargetDataSourceList=function(n){for(var i=[],t=0;t<n.length;t++)this.isDuplicateDataSource(i,n[t].Id)||BoldBIDashboard.isNullOrUndefined(n[t].Id)||n[t].Id===""||i.push({Name:n[t].Name,Id:n[t].Id});return i},n.prototype.isDuplicateDataSource=function(n,t){for(var i=0;i<n.length;i++)if(n[i].Id===t)return!0;return!1},n.prototype.renderNewConfigField=function(){var y=this.sourceColumnData,p=this.targetSourceData,h=this.targetColumnData,n=BoldBIDashboard.getGuid(this.id+"_row_"),r=BoldBIDashboard.buildTag("div.e-reportdesigner-column-config-row","",{padding:"4px 10px","border-radius":"4px"},{id:n,rowId:n}),o,t,s,u;this.customContainer.append(r);var f=BoldBIDashboard.buildTag("table.bbi-designer-table-dialog","",{height:"40px",width:"100%"},{unselectable:"on",id:n+"_column_config_table"}),c=BoldBIDashboard.buildTag("tr","",{},{id:n+"_link_rowTag"}),l=BoldBIDashboard.buildTag("td","",{width:"145px","padding-left":"5px"}),e=BoldBIDashboard.buildTag("input","",{"font-size":"12px"},{id:n+"_source_column"});l.append(e);o=BoldBIDashboard.buildTag("td","",{width:"145px","padding-left":"5px"},{});t=BoldBIDashboard.buildTag("input","",{"font-size":"12px"},{id:n+"_datasource_column"});o.append(t);s=BoldBIDashboard.buildTag("td","",{width:"145px","padding-left":"5px"},{});u=BoldBIDashboard.buildTag("div","",{"font-size":"12px"},{id:n+"_target_column_div"});s.append(u);var a=BoldBIDashboard.buildTag("td","",{"padding-left":"5px",width:"10px"},{id:n+"_col_error_icon"}),v=BoldBIDashboard.buildTag("td","",{"padding-right":"5px",width:"20px"}),i=BoldBIDashboard.buildTag("div.e-chk-image e-icon e-cross-circle bbi-dbrd-designer-hoverable bbi-filterConfig-master-custom-closeIcon-span bbi-filter-configuration-close","",{},{id:n+"_delete_icon","data-tooltip":"Delete"});r.append(f);f.append(c);c.append(l).append(o).append(s).append(a).append(v);this.dashboardDesigner.modules.util.renderErrIndictor(a,this.id,this.errorMsg);v.append(i);i.off("click",this.bbdesigner$.proxy(this.deleteCustomColumn,this,r));i.on("click",this.bbdesigner$.proxy(this.deleteCustomColumn,this,r));return e.BoldBIDashboardDropDownList({showRoundedCorner:!0,cssClass:"bbi-designer-param-assign bbi-designer-border bbi-designer-ejwidgets bbi-dbrd-control",width:"145px",height:"26px",dataSource:y,fields:{text:"Name",value:"Id"},watermarkText:this.locale.masterSlaveWindow.sourceColumn,change:this.bbdesigner$.proxy(this.populateTargetColumn,this,h,t,u,e)}),t.BoldBIDashboardDropDownList({showRoundedCorner:!0,cssClass:"bbi-designer-param-assign bbi-designer-border bbi-designer-ejwidgets bbi-dbrd-control",width:"145px",height:"26px",dataSource:p,fields:{text:"Name",value:"Id"},watermarkText:this.locale.masterSlaveWindow.targetDataSource,change:this.bbdesigner$.proxy(this.populateTargetColumn,this,h,t,u,e)}),f.bind(BoldBIDashboard.DashboardUtil.MouseEvent.mouseOver,this.bbdesigner$.proxy(this.elementMouseOver,this,i)),f.bind(BoldBIDashboard.DashboardUtil.MouseEvent.mouseLeave,this.bbdesigner$.proxy(this.elementMouseLeave,this,i)),n},n.prototype.updateModificationStatus=function(){this.isCustomColumnModified=!0},n.prototype.setEmptyDataSource=function(n){this.isCustomColumnModified=!0;var t=n.data("BoldBIDashboardDropDownList");t.model.dataSource.length>0&&(t.model.dataSource=[],t.clearText())},n.prototype.getCheckDataField=function(n,t,i){if(t.DataField===n)return!0;if(!BoldBIDashboard.isNullOrUndefined(t.ChildFields))for(var r=0;r<t.ChildFields.length;r++)i=this.getCheckDataField(n,t.ChildFields[r],i);return i},n.prototype.populateTargetColumn=function(n,t,i,r){var l,u,v,f,y,p,a;this.updateModificationStatus(null);var e=[],w=t.data("BoldBIDashboardDropDownList").getSelectedValue(),b=[],s=null,h=r.data("BoldBIDashboardDropDownList");BoldBIDashboard.isNullOrUndefined(h)||BoldBIDashboard.isNullOrUndefined(h.model.selectedIndex)||(s=h.model.dataSource[h.model.selectedIndex].Name);var k=BoldBIDashboard.Dashboard.WidgetHelper.getWidgetInstance(this.dashboardDesigner.element.find("#"+this.dashboardDesigner._id+"_"+this.selectedMaster.MasterInfo.ID)),d=k.DataGroupInfo.DataSourceID,o=null,c=null;if(!BoldBIDashboard.isNullOrUndefined(s)&&w.length>0&&s.length>0){for(u=0;u<n.length;u++)w===n[u].Id&&(e=n[u].Fields,c=n[u]),d===n[u].Id&&(o=n[u]);if(l=null,!BoldBIDashboard.isNullOrUndefined(o))for(u=0;u<o.Fields.length;u++)if(v=this.getCheckDataField(s,o.Fields[u],!1),v){l=o.Fields[u].TypeName;break}for(f=0;f<e.length;f++)l===e[f].TypeName&&b.push({Name:e[f].Name,Id:e[f].Id});BoldBIDashboard.isNullOrUndefined(c)||BoldBIDashboard.isNullOrUndefined(c.TreeViewData)?(!BoldBIDashboard.isNullOrUndefined(i)&&i.length>0&&i[0].hasChildNodes()&&i[0].children[0].remove(),a=BoldBIDashboard.buildTag("input","",{"font-size":"12px"},{id:i.closest(".e-reportdesigner-column-config-row").attr("id")+"_target_column"}),i.append(a),a.BoldBIDashboardDropDownList({showRoundedCorner:!0,cssClass:"bbi-designer-param-assign bbi-designer-border bbi-designer-ejwidgets bbi-dbrd-control",width:"145px",height:"26px",dataSource:b,fields:{text:"Name",value:"Id"},watermarkText:this.locale.masterSlaveWindow.targetColumn,change:this.bbdesigner$.proxy(this.updateModificationStatus,this)})):(!BoldBIDashboard.isNullOrUndefined(i)&&i.length>0&&i[0].hasChildNodes()&&i[0].children[0].remove(),y=JSON.parse(c.TreeViewData),p={fields:{id:"ColumnId",parentId:"ParentId",hasChild:"HasChild",dataSource:y.Dimension,text:"Name"},callBackInstance:this,callBackMethod:"updateModificationStatus",watermarkText:this.locale.masterSlaveWindow.targetColumn,popupHeight:"100%",width:"145",height:"26px",optionalArgs:null},new BoldBIDashboard.DashboardDesignerUtility.DropdownTreeview(this.dashboardDesigner,p,i))}},n.prototype.removeEmptyCustomColumn=function(){var n=this,t,i;this.customContainer.find(".e-reportdesigner-column-config-row").length>0&&(t=this.customContainer.find(".e-reportdesigner-column-config-row"),i=this.bbdesigner$,t.each(function(t,r){var u=i(r).attr("id");n.isEmptyRow(u)&&n.customContainer.find("#"+u).remove()}),this.scrollerRefresh(this.columnConfig))},n.prototype.isEmptyRow=function(n){var u=this.customContainer.find("#"+n+"_source_column").data("BoldBIDashboardDropDownList").getSelectedValue(),f=this.customContainer.find("#"+n+"_datasource_column").data("BoldBIDashboardDropDownList").getSelectedValue(),t,i=this.customContainer.find("#"+n+"_target_column"),r=this.bbdesigner$("#"+n+"_target_column_div_drop_tree_wrapper_input");return(!BoldBIDashboard.isNullOrUndefined(i)&&i.length>0?t=i.data("BoldBIDashboardDropDownList").getSelectedValue():!BoldBIDashboard.isNullOrUndefined(r)&&r.length>0&&(t=r.data("BoldBIDashboardDropDownList").getSelectedValue()),!(u.length>0)||!(f.length>0)||!(t.length>0))?!0:!1},n.prototype.deleteCustomColumn=function(n){this.customContainer.find(".e-reportdesigner-column-config-row").length>0&&(this.isEmptyRow(n.attr("id"))||(this.isCustomColumnModified=!0),n.remove(),this.scrollerRefresh(this.columnConfig))},n.prototype.getDefaultFilterConditions=function(n){var t=BoldBIDashboard.Dashboard.WidgetHelper.getWidgetInstance(this.dashboardDesigner.element.find("#"+this.dashboardDesigner._id+"_"+n)),i=[];return t.isDefaultDataWidget()||(i=this.filterSerializer.getFilterCondition(t)),i},n.prototype.updateGridValues=function(n){for(var i=this.getDefaultFilterConditions(n),r=[],t=0;t<i.length;t++)r.push({SourceColumn:i[t].SourceColumn.Name,TargetColumn:i[t].TargetColumn.Name,TargetDataSource:i[t].DataSource.Name});this.ejColumnGridObj.setModel({dataSource:r})},n.prototype.scrollerRefresh=function(n){n.data("BoldBIDashboardScroller")&&n.data("BoldBIDashboardScroller").refresh()},n.prototype.updateFilterConfig=function(){this.updateMasterDetails();this.targetInstance!==null&&(BoldBIDashboard.DashboardUtil.invokeMethod(this.targetInstance,this.targetMethod,[this.filterActionInfo]),this.isFilterProfileModified||this.closeFilterWindow());this.isFilterProfileModified=!1},n.prototype.openFilterConfiguration=function(n,t,i){this.ejFilterDialog.open();this.resetFilter();this.targetInstance=n;this.targetMethod=t;this.filterActionInfo=this.bbdesigner$.extend(!0,{},i);this.filterActionInfo.MastersCollection.length>0?(this.setDefaultSelection(),this.populateValues(),this.disableFilterConfigArea(!1)):(this.disableFilterConfigArea(!0),this.masterWidgetAddIconDiv.removeAttr("disabled"))},n.prototype.setDefaultSelection=function(){this.filterActionInfo.MastersCollection.length>0&&(this.selectedMaster=this.filterActionInfo.MastersCollection[0]);this.selectedMaster.ProfileManager.length>0&&(this.selectedProfile=this.selectedMaster.ProfileManager[0])},n.prototype.populateValues=function(){this.populateMasterArea();this.populateProfileArea(!0)},n.prototype.populateMasterArea=function(){var n,t;if(this.masterUlTag.children().length>0&&(this.masterUlTag.empty(),this.scrollerRefresh(this.masterListContainer)),this.filterActionInfo.MastersCollection.length>0){for(n=0;n<this.filterActionInfo.MastersCollection.length;n++)t=this.filterActionInfo.MastersCollection[n].MasterInfo,this.appendMasterList(t);this.masterUlTag.find("li").first().addClass("bbi-masterwidget-user-selection-active");this.masterUlTag.find("span").first().addClass("bbi-masterwidget-user-selection-active")}},n.prototype.populateProfileArea=function(n){if(this.selectedMaster.ProfileManager.length>0){if(this.resetColumnConfiguration(),n){this.resetProfileFields();for(var t=0;t<this.selectedMaster.ProfileManager.length;t++)this.appendProfileElement(this.selectedMaster.MasterInfo.Name,this.selectedMaster.MasterInfo.ID,this.selectedMaster.ProfileManager[t].ProfileInfo.Name,!0);this.profileField.find(".e-filter-profileList li").first().addClass("bbi-masterwidget-user-selection-active")}this.populateSlaveArea();this.populateDefaultArea();this.populateCustomArea()}else this.resetColumnConfiguration(),this.resetProfileFields(),this.resetListenerContainer(),this.disableFilterConditionSlaveWidgetArea(!0,!1);this.scrollerRefresh(this.profileField)},n.prototype.populateSlaveArea=function(){this.populateListenerWidgets(this.selectedProfile.WidgetInfo,this.selectedMaster.MasterInfo)},n.prototype.populateDefaultArea=function(){this.updateGridValues(this.selectedMaster.MasterInfo.ID)},n.prototype.populateCustomArea=function(){BoldBIDashboard.isNullOrUndefined(this.selectedProfile)||(this.populateCustomColumn(this.selectedMaster.MasterInfo.ID,this.selectedProfile.ProfileInfo.FilterCondition),this.configChooserTag.find("#"+this.id+"_filter_config_custom").data("BoldBIDashboardRadioButton").setModel({checked:this.selectedProfile.ProfileInfo.Option}),this.customTypeSwitcher(this.selectedProfile.ProfileInfo.Option))},n.prototype.disableFilterConfigArea=function(n){n?(this.profileField.css({opacity:"0.5","background-color":"#f4f4f4"}),this.disableFilterConditionSlaveWidgetArea(n)):(this.profileField.css({opacity:"1","background-color":"#ffffff"}),this.disableFilterConditionSlaveWidgetArea(n))},n.prototype.disableAddIcon=function(n){n===void 0&&(n=!0);n?(this.profileAddIcon.attr("disabled","true").css("opacity","0.5"),this.filterProfileAddIconDiv.attr("disabled","true"),this.masterWidgetAddIconDiv.attr("disabled","true"),this.customAddIconDiv.attr("disabled","true")):(this.profileAddIcon.removeAttr("disabled").css("opacity","1"),this.filterProfileAddIconDiv.removeAttr("disabled"),this.masterWidgetAddIconDiv.removeAttr("disabled"),this.customAddIconDiv.removeAttr("disabled"))},n.prototype.disableFilterConditionSlaveWidgetArea=function(n,t){t===void 0&&(t=!0);n?(this.listenerField.prop("disabled","true").css({opacity:"0.5","background-color":"#f4f4f4"}),this.configChooserTag.find("#"+this.id+"_filter_config_default").data("BoldBIDashboardRadioButton").disable(),this.configChooserTag.find("#"+this.id+"_filter_config_custom").data("BoldBIDashboardRadioButton").disable(),this.disableAddIcon(t),this.configChooserTag.css("opacity","0.5"),this.columnContainer.find("#"+this.id+"_custom_column_container .e-dropdownlist").BoldBIDashboardDropDownList("disable"),this.filterContainer.find("#"+this.id+"_filter_config_listener_list .e-checkbox").BoldBIDashboardCheckBox("disable")):(this.listenerField.removeAttr("disabled").css({opacity:"1","background-color":"#ffffff"}),this.configChooserTag.find("#"+this.id+"_filter_config_default").data("BoldBIDashboardRadioButton").enable(),this.configChooserTag.find("#"+this.id+"_filter_config_custom").data("BoldBIDashboardRadioButton").enable(),this.disableAddIcon(!1),this.configChooserTag.css("opacity","1"),this.columnContainer.find("#"+this.id+"_custom_column_container .e-dropdownlist").BoldBIDashboardDropDownList("enable"),this.filterContainer.find("#"+this.id+"_filter_config_listener_list .e-checkbox").BoldBIDashboardCheckBox("enable"))},n.prototype.resetProfileFields=function(){this.profileField.find(".e-filter-profileList li").remove()},n.prototype.resetColumnConfiguration=function(){this.configChooserTag.find("#"+this.id+"_filter_config_default").data("BoldBIDashboardRadioButton").setModel({checked:!0});this.customTypeSwitcher(!1);this.destroyCustomContainer();this.customContainer.empty();this.ejColumnGridObj.setModel({dataSource:[]})},n.prototype.destroyCustomContainer=function(){BoldBIDashboard.DashboardUtil.destroyEjObjects(this.customContainer)},n.prototype.resetFilter=function(){this.masterUlTag.children().length>0&&(this.masterUlTag.empty(),this.scrollerRefresh(this.masterListContainer));this.resetListenerContainer();this.resetProfileFields();this.resetColumnConfiguration();this.reportItems=[];this.targetInstance=null;this.targetMethod=null;this.isCustomColumnModified=!1;this.filterActionInfo=null},n.prototype.closeFilterWindow=function(){this.filterContainer.find(".e-selected-textbox").length>0||(this.resetFilter(),this.disableFilterConfigArea(!1),this.ejFilterDialog.close())},n.prototype.destroy=function(){this.unWireEvents();BoldBIDashboard.DashboardUtil.destroyEjObjects(this.dashboardDesigner.element.find("#"+this.id+"_add_master"));this.dashboardDesigner.element.find("#"+this.id+"_add_master").length>0&&this.dashboardDesigner.element.find("#"+this.id+"_add_master").remove();BoldBIDashboard.DashboardUtil.destroyEjObjects(this.dashboardDesigner.element.find("#"+this.id+"_filter_configuration"));this.dashboardDesigner.element.find("#"+this.id+"_filter_configuration").length>0&&this.dashboardDesigner.element.find("#"+this.id+"_filter_configuration").remove()},n.prototype.renderMasterWindow=function(){var n=BoldBIDashboard.buildTag("div.bbi-userselect","",{},{id:this.id+"_add_master"}),i=BoldBIDashboard.buildTag("div","",{"padding-bottom":"10px"}),o=BoldBIDashboard.buildTag("span",this.locale.masterSlaveWindow.chooseWidgetText,{}),t=this.masterScrollElement=BoldBIDashboard.buildTag("div.bbi-dbrd-designer-scroller bbi-dbrd-control bbi-dbrd-designer-scroll-style-3","",{width:"100%",height:"300px",border:"1px solid #dddddd","border-radius":"4px",padding:"5px 0px"},{id:this.id+"_add_master_container"}),r=BoldBIDashboard.buildTag("div","",{}),u=this.masterElementContainer=BoldBIDashboard.buildTag("div","",{},{id:this.id+"_add_master_fields"}),s=BoldBIDashboard.buildTag("table.e-designer-master-table","",{}),f,e;u.append(s);r.append(u);t.append(r);i.append(o);n.append(i).append(t);f=BoldBIDashboard.buildTag("button.bbi-dbrd-btn-primary bbi-dbrd-btn-small",this.locale.masterSlaveWindow.okButtonText,{float:"right"},{id:this.id+"_master_add_ok_btn",type:"button"});e=BoldBIDashboard.buildTag("button.bbi-dbrd-btn-secondary bbi-dbrd-btn-small bbi-dbrd-margin-left",this.locale.masterSlaveWindow.cancelButtonText,{float:"right"},{id:this.id+"_master_add_cancel_btn",type:"button"});this.dashboardDesigner.element.append(n);n.BoldBIDashboardDialog({width:"auto",height:"auto",minWidth:"280px",minHeight:"215px",title:this.locale.masterSlaveWindow.addWidgetDialogAlertTitle,enableResize:!1,showOnInit:!1,showFooter:!0,cssClass:"bbi-designer-dialog boldbi-dashboarddesigner",enableModal:!0,close:this.bbdesigner$.proxy(BoldBIDashboard.DashboardUtil.closeDialog,this),containment:"#"+this.dashboardDesigner._id,target:"#"+this.dashboardDesigner._id,closeIconTooltip:this.locale.dialogOptions.closeButtonText});t.BoldBIDashboardScroller({scrollerSize:5,height:"190px",width:"auto",enableTouchScroll:!0,autoHide:!0,buttonSize:0});this.masterFooterTag=this.dashboardDesigner.element.find("#"+this.id+"_add_master_foot");this.masterFooterTag.append(e).append(f);this.ejMasterDialog=n.data("BoldBIDashboardDialog")},n.prototype.isAvailableMaster=function(n){for(var t=0;t<this.filterActionInfo.MastersCollection.length;t++)if(n===this.filterActionInfo.MastersCollection[t].MasterInfo.ID)return!0;return!1},n.prototype.getMasterWidgetsJson=function(){for(var t=this.filterSerializer.getMastetFilterWidgets(),i=[],n=0;n<t.length;n++)i.push(t[n].getJson());return i},n.prototype.getRemainingWidgets=function(){for(var t=this.getMasterWidgetsJson(),i=[],n=0;n<t.length;n++)this.isAvailableMaster(t[n].UniqueName)||i.push(this.getWidgetJSON(t[n].UniqueName,t[n].ContainerSettings.Title));return i},n.prototype.profileManager=function(){return{ProfileInfo:null,WidgetInfo:[]}},n.prototype.createProfileInfo=function(){return{ID:"",Name:"",FilterCondition:[],Option:!1}},n.prototype.createMasterInfo=function(){return{ID:"",Name:""}},n.prototype.createWidgetInfo=function(){return{ID:"",Name:""}},n.prototype.createMasterCollectionJSON=function(){return{MasterInfo:null,ProfileManager:[]}},n.prototype.generateWidgetInfo=function(n){for(var i,u=[],r=this.filterSerializer.getWidgetList(),t=0;t<r.length;t++)r[t].ID!==n&&(i=this.createWidgetInfo(),i.ID=r[t].ID,i.Name=r[t].Name,u.push(i));return u},n.prototype.getWidgetJSON=function(n,t){var r=this.createMasterCollectionJSON(),i=this.createMasterInfo();return i.ID=n,i.Name=t,r.MasterInfo=i,r},n.prototype.openMasterDialog=function(){if(this.reportItems=this.getRemainingWidgets(),this.reportItems.length>0)this.resetMasterFields(),this.ejMasterDialog.open(),this.populateMastersInMasterDialog(this.reportItems);else{var n=this.reportItems.length>0?"more":" ";this.dashboardDesigner.modules.util.alertDialog(this.locale.masterSlaveWindow.alertTitle,this.locale.alertWindow.noBtnText+n+this.locale.masterSlaveWindow.widgetsAvailable,IconType.information,AlertType.Alert,!1,"")}},n.prototype.addMasterItems=function(){this.openMasterDialog()},n.prototype.populateMastersInMasterDialog=function(n){for(var i=this.masterElementContainer.find(".e-designer-master-table"),t=0;t<n.length;t++)this.checkBoxWithElementsCreation(n[t].MasterInfo.Name,n[t].MasterInfo.ID,this.id+"_master_"+n[t].MasterInfo.ID.replace(" ",""),!1,i,"0px 20px 5px 10px");this.scrollerRefresh(this.masterScrollElement)},n.prototype.checkBoxWithElementsCreation=function(n,t,i,r,u,f){var s=BoldBIDashboard.buildTag("tr","",{id:i+"_tr"}),h=BoldBIDashboard.buildTag("td","",{align:"left",padding:f},{});s.append(h);u.append(s);var c=BoldBIDashboard.buildTag("div","",{display:"inline-block"},{}),e=BoldBIDashboard.buildTag("input","",{},{type:"checkbox",id:i}),o=BoldBIDashboard.buildTag("label.bbi-dashbrd-filter-widget-label bbi-dbrd-designer-hoverable",n,{height:"20px"},{"for":i,type:"label"});BoldBIDashboard.DashboardUtil.isExistTextWidth(o)&&o.attr("data-tooltip",n);c.append(e,o);h.append(c);r?e.BoldBIDashboardCheckBox({cssClass:"bbi-designer-param-assign bbi-designer-filter-checktext",change:this.bbdesigner$.proxy(this.changedCheckBoxValue,this,n,t)}):e.BoldBIDashboardCheckBox({cssClass:"bbi-designer-param-assign bbi-designer-filter-checktext"})},n.prototype.changedCheckBoxValue=function(n,t,i){var o,y,s,l,a,f,h,e,c,r,v,u;for(this.isChangedCheckBoxValue=!0,o=!1,y=0,s=0;s<this.selectedProfile.WidgetInfo.length;s++)if(this.selectedProfile.WidgetInfo[s].ID===t){o=!0;y=s;break}if(l=BoldBIDashboard.Dashboard.WidgetHelper.getWidgetInstance(this.dashboardDesigner.element.find("#"+this.dashboardDesigner._id+"_"+t)),i.isChecked){if(a=[],this.selectedMaster.MasterInfo.IsPoP&&!o){for(f=0;f<this.filterActionInfo.MastersCollection.length;f++)if(this.filterActionInfo.MastersCollection[f].MasterInfo.IsPoP&&this.filterActionInfo.MastersCollection[f].MasterInfo.ID!==this.selectedMaster.MasterInfo.ID)for(h=this.filterActionInfo.MastersCollection[f].ProfileManager,e=0;e<h.length;e++)for(c=0;c<h[e].WidgetInfo.length;c++)a.indexOf(h[e].WidgetInfo[c].ID)<0&&a.push(h[e].WidgetInfo[c].ID);if(a.indexOf(t)>-1){for(r=0;r<this.filterActionInfo.MastersCollection.length;r++)if(this.filterActionInfo.MastersCollection[r].MasterInfo.IsPoP&&this.filterActionInfo.MastersCollection[r].MasterInfo.ID!==this.selectedMaster.MasterInfo.ID)for(v=0;v<this.filterActionInfo.MastersCollection[r].ProfileManager[0].WidgetInfo.length;v++)this.filterActionInfo.MastersCollection[r].ProfileManager[0].WidgetInfo[v].ID===t&&this.dashboardDesigner.modules.util.alertDialog(this.locale.alertDialogTitle.SlaveWidgetOverrideTitle,this.locale.alertWindowMesages.slaveOverrideMessage+this.filterActionInfo.MastersCollection[r].MasterInfo.Name+this.locale.alertWindowMesages.slaveOverrideAlert+this.selectedMaster.MasterInfo.Name+" ? ",IconType.warning,AlertType.Confirm,!1,"",{dataInfo:{},instance:this,method:"confirmOverrideSlaveWidget"})}else l.isFieldBoundInUnsupportedSection()&&this.dashboardDesigner.modules.util.alertDialog(this.locale.alertDialogTitle.SlaveWidgetOverrideTitle,this.locale.alertWindowMesages.slaveWidgetDataResetMessage,IconType.warning,AlertType.Confirm,!1,"",{dataInfo:{},instance:this,method:"confirmOverrideSlaveWidget"})}o||(u=new WidgetInfo,u.ID=t,u.Name=n,u.IsPoPSupported=BoldBIDashboard.isNullOrUndefined(l)?!1:l.IsPoPSupportedWidget,this.selectedProfile.WidgetInfo.push(u))}else u=this.selectedProfile.WidgetInfo,o&&u.splice(y,1),this.selectedProfile.WidgetInfo=u},n.prototype.confirmOverrideSlaveWidget=function(n){var t,i,r;if(n){for(t=0;t<this.filterActionInfo.MastersCollection.length;t++)if(this.filterActionInfo.MastersCollection[t].MasterInfo.IsPoP&&this.filterActionInfo.MastersCollection[t].MasterInfo.ID!==this.selectedMaster.MasterInfo.ID)for(i=0;i<this.filterActionInfo.MastersCollection[t].ProfileManager[0].WidgetInfo.length;i++)for(r=0;r<this.selectedProfile.WidgetInfo.length;r++)this.filterActionInfo.MastersCollection[t].ProfileManager[0].WidgetInfo[i].ID===this.selectedProfile.WidgetInfo[r].ID&&this.filterActionInfo.MastersCollection[t].ProfileManager[0].WidgetInfo.splice(i,1)}else this.populateListenerWidgets([],this.selectedMaster.MasterInfo)},n.prototype.updateMasterInfo=function(){for(var t,i=[],r=[],n=0;n<this.reportItems.length;n++)t=!1,t=this.dashboardDesigner.element.find("#"+this.id+"_master_"+this.reportItems[n].MasterInfo.ID.replace(" ","")).data("BoldBIDashboardCheckBox").isChecked(),t?(i.push(this.reportItems[n]),this.filterActionInfo.MastersCollection.push(this.bbdesigner$.parseJSON(JSON.stringify(this.getMasterInformation(this.reportItems[n].MasterInfo.ID))))):r.push(this.reportItems[n]);i.length>0?(this.reportItems=r,this.closeMasterWindow(),this.disableFilterConfigArea(!1),this.masterUlTag.find("li").length>0&&this.updateMasterDetails(),this.setDefaultSelection(),this.populateValues()):this.dashboardDesigner.modules.util.alertDialog(this.locale.masterSlaveWindow.masterWidget,this.locale.masterSlaveWindow.selectWidget,IconType.errors,AlertType.Alert,!1,"")},n.prototype.getMasterInformation=function(n){var t=BoldBIDashboard.Dashboard.WidgetHelper.getWidgetInstance(this.dashboardDesigner.element.find("#"+this.dashboardDesigner._id+"_"+n)),i=this.filterSerializer.getWidgetList();return this.filterSerializer.generateMasterInformation(t,i)},n.prototype.resetMasterFields=function(){this.masterElementContainer.find(".e-designer-master-table tr").remove()},n.prototype.closeMasterWindow=function(){this.ejMasterDialog.close()},n}();window.BoldBIDashboard.createObject("BoldBIDashboard.DashboardDesignerUtility.FilterConfiguration",InternalFilterConfiguration,window);var FilterConfigurationModel=function(){function n(){this.MastersCollection=[]}return n}(),Widgetcollection=function(){function n(){this.MasterInfo=new MasterInfo;this.ProfileManager=[]}return n}(),MasterInfo=function(){function n(){this.ID=null;this.Name=null;this.IsPoP=!1;this.UniqueId=null;this.IsDatebucket=!1}return n}(),ProfileManager=function(){function n(){this.ProfileInfo=new ProfileInfo;this.WidgetInfo=[]}return n}(),ProfileInfo=function(){function n(){this.ID=null;this.Option=!0;this.Name=null;this.FilterCondition=[]}return n}(),FilterCondition=function(){function n(){this.SourceColumn=new ColumnDetail;this.TargetColumn=new ColumnDetail;this.DataSource=new ColumnDetail}return n}(),ColumnDetail=function(){function n(){this.ID=null;this.Name=null}return n}(),WidgetInfo=function(){function n(){this.ID=null;this.Name=null;this.IsPoPSupported=!1;this.UniqueId=null}return n}(),InternalFilterConfigurationInfo=function(){function n(){this.filterConfigurationModel=null;this.datebucketConfigurationModel=null}return n.prototype.setFilterConfiguration=function(n){this.filterConfigurationModel=n},Object.defineProperty(n.prototype,"FilterConfigurationModel",{get:function(){return this.filterConfigurationModel},enumerable:!0,configurable:!0}),n.prototype.setDatebucketConfigurationModel=function(n){this.datebucketConfigurationModel=n},Object.defineProperty(n.prototype,"DatebucketConfigurationModel",{get:function(){return this.datebucketConfigurationModel},enumerable:!0,configurable:!0}),n}();window.BoldBIDashboard.createObject("BoldBIDashboard.DashboardDesignerUtility.FilterConfigurationInfo",InternalFilterConfigurationInfo,window);var Settings=function(){function n(){this.__type="Syncfusion.Dashboard.Web.Serialization.Model.DataSources.MasterSlaveFilter.Settings";this.MasterSlaveFilterActions=[]}return n}(),MasterSlaveFilterAction=function(){function n(){this.__type="Syncfusion.Dashboard.Web.Serialization.Model.DataSources.MasterSlaveFilter.MasterSlaveFilterAction";this.FilterActions=[];this.IsPoPWidget=!1;this.IsDatebucketWidget=!1}return n}(),FilterAction=function(){function n(){this.__type="Syncfusion.Dashboard.Web.Serialization.Model.DataSources.MasterSlaveFilter.FilterAction";this.Slaves=[];this.FilterCases=[]}return n}(),FilterShell=function(){function n(){this.__type="Syncfusion.Dashboard.Web.Serialization.Model.DataSources.MasterSlaveFilter.FilterShell";this.SourceColumn=new ColumnAliasPair;this.TargetColumn=new ColumnAliasPair}return n}(),ColumnAliasPair=function(){function n(){this.__type="Syncfusion.Dashboard.Web.Serialization.Model.DataSources.MasterSlaveFilter.ColumnAliasPair"}return n}(),FilterActionScheme;(function(n){n[n.All=0]="All";n[n.Selected=1]="Selected"})(FilterActionScheme||(FilterActionScheme={}));InternalMasterSlaveFilterSerializationHelper=function(){function n(n){this.filterObject=null;this.nonSlaveFilterWidgets=[];this.allSpecialChar="&ZeroWidthSpace;";this.dashboardDesigner=null;this.isInteractionCompleted=!0;this.isInteraction=!1;this.dashboardDesigner=n;this.bbdesigner$=this.dashboardDesigner.bbdesigner$;this.filterObject=this.dashboardDesigner.modules.filterConfigurationInfo;this.widgetHelper=this.dashboardDesigner.modules.widgetHelper;this.dateFormat=this.dashboardDesigner.model.localeSettings.dateFormat;this.dateTimeFormat=this.dashboardDesigner.model.localeSettings.dateFormat+" "+this.dashboardDesigner.model.localeSettings.timeFormat}return n.prototype.getFilterConfigurationInfoInstance=function(){return this.filterObject},n.prototype.getMastetFilterWidgets=function(){var n=this;return this.widgetHelper.getAllWidgets().filter(function(t){return t.canUseWidgetAsMaster()&&!n.checkParameterFieldBinded(t)})},n.prototype.getSlaveFilterWidgets=function(){var n=this;return this.widgetHelper.getAllWidgets().filter(function(t){return n.canUseAsSlaveWidget(t.Type)&&!n.checkParameterFieldBinded(t)})},n.prototype.checkParameterFieldBinded=function(n){return!BoldBIDashboard.isNullOrUndefined(n)&&!BoldBIDashboard.isNullOrUndefined(n.DataGroupInfo)&&n.DataGroupInfo.FieldContainers.length>0&&!BoldBIDashboard.isNullOrUndefined(n.DataGroupInfo.FieldContainers[0].FieldInfos)&&n.DataGroupInfo.FieldContainers[0].FieldInfos.length>0?n.DataGroupInfo.FieldContainers[0].FieldInfos[0].IsParameterField:!1},n.prototype.canUseAsSlaveWidget=function(n){return this.nonSlaveFilterWidgets.indexOf(n.toLowerCase())===-1},n.prototype.GetWidgetCollectionsFromContainer=function(){for(var t,u,s,f,i,e,a,n,v,o=this.getMastetFilterWidgets(),h=this.getWidgetList(),l=this.getWidgetList(),c=[],y=[],r=0;r<o.length;r++)o[r].getJson().FilterSettings.ActAsMasterWidget&&c.push(o[r]),o[r].IsPoPWidget&&y.push(o[r]);for(t=new FilterConfigurationModel,u=0;u<c.length;u++){if(s=[],c[u].IsPoPWidget){for(n=0;n<t.MastersCollection.length;n++)if(t.MastersCollection[n].MasterInfo.IsPoP)for(f=t.MastersCollection[n].ProfileManager,i=0;i<f.length;i++)for(e=0;e<f[i].WidgetInfo.length;e++)s.indexOf(f[i].WidgetInfo[e].ID)<0&&s.push(f[i].WidgetInfo[e].ID);for(a=function(n){if(s.indexOf(l[n].ID)>-1){var t=h.filter(function(t){return t.ID===l[n].ID})[0];h.splice(h.indexOf(t),1)}},n=0;n<l.length;n++)a(n)}v=this.generateMasterInformation(c[u],h);t.MastersCollection.push(v)}return t},n.prototype.getWidgetList=function(){for(var i,t=this.getSlaveFilterWidgets(),r=[],n=0;n<t.length;n++)t[n].Type.toLowerCase()!=="label"&&t[n].getJson().FilterSettings.IgnoreFilterActions||(i=new WidgetInfo,i.ID=t[n].Name,i.Name=t[n].getJson().ContainerSettings.Title,i.IsPoPSupported=t[n].IsPoPSupportedWidget,i.UniqueId=t[n].getJson().UniqueId,t[n].isDefaultDataWidget()||r.push(i));return r},n.prototype.generateMasterInformation=function(n,t){var i=new Widgetcollection,r=new ProfileInfo,f=[],u=new ProfileManager;return BoldBIDashboard.isNullOrUndefined(n)||(r.FilterCondition=this.getFilterCondition(n),r.Name=n.getJson().ContainerSettings.Title+"(generated)",r.Option=!1,f=this.getSlaveWidgetList(t,n),u.ProfileInfo=r,u.WidgetInfo=f,i.MasterInfo.ID=n.Name,i.MasterInfo.Name=n.getJson().ContainerSettings.Title,i.MasterInfo.IsPoP=n.IsPoPWidget,i.MasterInfo.UniqueId=n.getJson().UniqueId,i.ProfileManager.push(u)),i},n.prototype.getSlaveWidgetList=function(n,t){for(var r=this.bbdesigner$.extend(!0,[],n),u=[],i=0;i<r.length;i++)r[i].ID!==t.Name&&(t.IsPoPWidget||u.push(r[i]));return this.slavesForMasterInCombineWidget(u,t.getJson().UniqueId)},n.prototype.slavesForMasterInCombineWidget=function(n,t){for(var u,f,e=this.bbdesigner$.extend(!0,[],n),s=this.widgetHelper.getAllWidgets().filter(function(n){return BoldBIDashboard.Dashboard.WidgetHelper.isContainerWidget(n)}),i=[],r=0;r<s.length;r++)if(u=this.dashboardDesigner.modules.containerTypeWidgetHelper.getWidgetAsContainerWidget(s[r]),i=i.concat(u.getChildWidgetList()),u.isMasterPresentInChild(t)){i=[];i=u.getChildWidgetList();break}if(i.indexOf(t)!==-1&&i.length>0)for(e=[],f=0;f<n.length;f++)for(r=0;r<i.length;r++){var c=i[r],o=n[f],h=o.UniqueId;if(!BoldBIDashboard.DashboardUtil.IsStringNullorWhiteSpace(h))if(i.indexOf(t)!==-1){if(c===h){e.push(o);break}}else e.push(o)}return e},n.prototype.getFilterCondition=function(n){var e=[],i,f,o,u,t,r,s;if(!BoldBIDashboard.isNullOrUndefined(n)&&!BoldBIDashboard.isNullOrUndefined(n.supportedColumnsForFiltering())){for(i=n.supportedColumnsForFiltering(),f=this.dashboardDesigner.modules.dataSet.datasets,o=[],u=0;u<f.length;u++)n.DataGroupInfo.DataSourceID!==f[u].Id&&o.push(f[u]);for(t=0;t<i.length;t++)r=new FilterCondition,r.SourceColumn.ID=i[t].Id,r.SourceColumn.Name=i[t].Name,r.TargetColumn.ID=i[t].Id,r.TargetColumn.Name=i[t].Name,r.DataSource.ID=n.DataGroupInfo.DataSourceID,r.DataSource.Name=n.DataGroupInfo.DataSourceName,s=this.getFieldType(i[t].Name,i[t].DatasourceID,i[t].Id),e.push(r),this.GetMatchedFieldFromOtherDataSets(o,i[t],s,e)}return e},n.prototype.GetMatchedFieldFromOtherDataSets=function(n,t,i,r){for(var e,f,u,o=0;o<n.length;o++)for(e=n[o].Fields,f=0;f<e.length;f++)t.Name===e[f].DataField&&i.toLowerCase()===e[f].TypeName.toLowerCase()&&(u=new FilterCondition,u.SourceColumn.ID=t.Id,u.SourceColumn.Name=t.Name,u.TargetColumn.ID=e[f].Id,u.TargetColumn.Name=e[f].DataField,u.DataSource.ID=n[o].Id,u.DataSource.Name=n[o].Name,r.push(u))},n.prototype.getFieldType=function(n,t,i){for(var u,e,o,r,s=this.dashboardDesigner.modules.dataSet.datasets,f=0;f<s.length;f++)if(t===s[f].Id)if(u=s[f].Fields,e=null,BoldBIDashboard.isNullOrUndefined(u[0].ChildFields)){for(r=0;r<u.length;r++)if(n===u[r].DataField)return u[r].TypeName}else{for(r=0;r<u.length;r++)if(o=this.getCurrentFieldInfo(u[r],i),!BoldBIDashboard.isNullOrUndefined(o)){e=o.TypeName;break}return e}return null},n.prototype.getCurrentFieldInfo=function(n,t){var i=null,r;if(n.Id===t)i=n;else if(!BoldBIDashboard.isNullOrUndefined(n.ChildFields))for(r=0;r<n.ChildFields.length;r++)if(i=this.getCurrentFieldInfo(n.ChildFields[r],t),!BoldBIDashboard.isNullOrUndefined(i))break;return i},n.prototype.ActAsMasterPropertyChangeInFilterConfigInfo=function(n,t){var i=this.dashboardDesigner.designerPanel.selectedReportItems.length>0?this.getCurrentWidgetInstance():t,e=this.getWidgetList(),u,r,f;if(this.filterObject.FilterConfigurationModel!=null){if(n)u=this.generateMasterInformation(i,e),this.filterObject.FilterConfigurationModel.MastersCollection.push(u),this.showOrHideClearFilterIcon(i.ControlContainer.find(".bbi-dbrd-control-header"),n);else{for(r=0;r<this.filterObject.FilterConfigurationModel.MastersCollection.length;r++)i.Name===this.filterObject.FilterConfigurationModel.MastersCollection[r].MasterInfo.ID&&this.filterObject.FilterConfigurationModel.MastersCollection.splice(r,1);n||i.clearFilter();this.showOrHideClearFilterIcon(i.ControlContainer.find(".bbi-dbrd-control-header"),n)}f=this.getFilterConfigurationModelCollectionValue();this.masterSlaveFilterSerializer(f)}else n||i.ControlHeader===null||i.ControlHeader.parents(".bbi-dbrd-control-container").attr("controlType")!==BoldBIDashboard.DashboardDesignerUtility.Serialization.enumToString(WidgetType,WidgetType.Filter)||i.clearFilter(),this.showOrHideClearFilterIcon(i.ControlContainer.find(".bbi-dbrd-control-header"),n)},n.prototype.getFilterConfigurationModelCollectionValue=function(){var n=[];return this.filterObject.FilterConfigurationModel.MastersCollection.forEach(function(t){n.push(t)}),this.filterObject.DatebucketConfigurationModel.MastersCollection.forEach(function(t){n.push(t)}),n},n.prototype.RefreshMasterSlaveTitle=function(){var t,u,i,s,n,o,f,e,r;if(this.filterObject.FilterConfigurationModel!==null)for(t=this.GetAllWidgetInstanceFromContainer(),u=this.filterObject.FilterConfigurationModel.MastersCollection,i=0;i<u.length;i++)for(s=u[i].MasterInfo.ID,n=0;n<t.length;n++)for(s===t[n].Name&&(this.filterObject.FilterConfigurationModel.MastersCollection[i].MasterInfo.Name=t[n].getJson().ContainerSettings.Title),o=u[i].ProfileManager,f=0;f<o.length;f++)for(e=o[f].WidgetInfo,r=0;r<e.length;r++)e[r].ID===t[n].Name&&(e[r].Name=t[n].getJson().ContainerSettings.Title)},n.prototype.IgnoreFilterActionPropertyChange=function(n){var r=this.getCurrentWidgetInstance(),s,t,o,i,h,f,u,e,c,l;if(this.filterObject.FilterConfigurationModel!=null){if(n){for(o=this.filterObject.FilterConfigurationModel.MastersCollection,i=0;i<o.length;i++)if(h=o[i].MasterInfo,r.Name!==h.ID)for(f=o[i].ProfileManager,u=0;u<f.length;u++)for(e=0;e<f[u].WidgetInfo.length;e++)c=f[u].WidgetInfo[e].ID,r.Name===c&&f[u].WidgetInfo.splice(e,1)}else for(s=function(n){var p=t.filterObject.FilterConfigurationModel.MastersCollection[n].MasterInfo,i,f,y,e,o,s,l,h,a;if(r.Name!==p.ID&&t.canUseAsSlaveWidget(r.Type))for(i=new WidgetInfo,i.ID=r.Name,i.Name=r.getJson().ContainerSettings.Title,i.IsPoPSupported=r.IsPoPSupportedWidget,i.UniqueId=r.getJson().UniqueId,f=0;f<t.filterObject.FilterConfigurationModel.MastersCollection[n].ProfileManager.length;f++){if(y=!1,t.filterObject.FilterConfigurationModel.MastersCollection[n].MasterInfo.IsPoP&&i.IsPoPSupported)for(e=0;e<=f;e++)if(o=t.filterObject.FilterConfigurationModel.MastersCollection[e],o.MasterInfo.IsPoP)for(s=0;s<o.ProfileManager.length;s++)for(l=o.ProfileManager[s].WidgetInfo,h=0;h<l.length;h++)l[h].ID===i.ID&&(y=!0);if(!t.filterObject.FilterConfigurationModel.MastersCollection[n].MasterInfo.IsPoP){var c=[],v=t.filterObject.FilterConfigurationModel.MastersCollection[n],u=v.ProfileManager[f];BoldBIDashboard.DashboardUtil.IsStringNullorWhiteSpace(v.MasterInfo.UniqueId)||(c.push(i),c=t.slavesForMasterInCombineWidget(c,v.MasterInfo.UniqueId));c.length>0?u.WidgetInfo.filter(function(n){return n.Name===i.Name}).length===0&&u.WidgetInfo.push(i):u.WidgetInfo.filter(function(n){return n.Name===i.Name}).length>0&&(a=u.WidgetInfo.indexOf(u.WidgetInfo.filter(function(n){return n.Name===i.Name})[0]),a!==-1&&u.WidgetInfo.splice(a,1))}}},t=this,i=0;i<this.filterObject.FilterConfigurationModel.MastersCollection.length;i++)s(i);l=this.getFilterConfigurationModelCollectionValue();this.masterSlaveFilterSerializer(l)}},n.prototype.GetAllWidgetInstanceFromContainer=function(){for(var t,i=[],u=this.dashboardDesigner.modules.Mode.designCanvas,r=u.find(".bbi-dbrditem"),n=0;n<r.length;n++)t=BoldBIDashboard.Dashboard.WidgetHelper.getWidgetInstance(this.bbdesigner$(r[n])),i.push(t);return i},n.prototype.GetWidgetElementByReportName=function(n){for(var r,u,f=this.dashboardDesigner.modules.Mode.designCanvas,i=f.find(".bbi-dbrditem"),t=0;t<i.length;t++)if(r=BoldBIDashboard.Dashboard.WidgetHelper.getWidgetInstance(this.bbdesigner$(i[t])),r.getJson().UniqueName===n){u=this.bbdesigner$(i[t]);break}return u},n.prototype.RemoveSelectedWidgetFromFilterObject=function(n){var t=BoldBIDashboard.isNullOrUndefined(n)?this.getCurrentWidgetInstance():n,i,r,u;BoldBIDashboard.isNullOrUndefined(this.filterObject.FilterConfigurationModel)||(i=this.filterObject.FilterConfigurationModel.MastersCollection,this.removeFromMasterList(i,t),this.removeFromSlaveList(i,t),r=this.filterObject.DatebucketConfigurationModel.MastersCollection,this.removeFromMasterList(r,t),this.removeFromSlaveList(r,t),u=this.getFilterConfigurationModelCollectionValue(),this.masterSlaveFilterSerializer(u),this.updatePoPSettings(t.Type==="Grid"))},n.prototype.removeFromMasterList=function(n,t){for(var r,i=0;i<n.length;i++)if(r=n[i].MasterInfo,t.Name===r.ID){this.filterObject.FilterConfigurationModel.MastersCollection.splice(i,1);break}},n.prototype.removeFromSlaveList=function(n,t){for(var e,r,i,u,o,f=0;f<n.length;f++)if(e=n[f].MasterInfo,t.Name!==e.ID)for(r=n[f].ProfileManager,i=0;i<r.length;i++)for(u=0;u<r[i].WidgetInfo.length;u++)if(o=r[i].WidgetInfo[u].ID,t.Name===o){r[i].WidgetInfo.splice(u,1);break}},n.prototype.RefreshFilterSettings=function(){this.filterObject.FilterConfigurationModel==null&&this.filterObject.setFilterConfiguration(this.GetWidgetCollectionsFromContainer());this.filterObject.DatebucketConfigurationModel==null&&this.filterObject.setDatebucketConfigurationModel(new FilterConfigurationModel);var n=this.getFilterConfigurationModelCollectionValue();this.masterSlaveFilterSerializer(n)},n.prototype.MasterSlaveFilterDeSerializer=function(n){var i,l,o,h,s,a,y,u,r,f,p,v,c,t;if(!BoldBIDashboard.isNullOrUndefined(n)&&!BoldBIDashboard.isNullOrUndefined(n.MasterFilterInfo)){var e=n.MasterFilterInfo.MasterSlaveFilterActions,w=new FilterConfigurationModel,b=new FilterConfigurationModel;for(i=0;i<e.length;i++){for(l=new Widgetcollection,o=new MasterInfo,t=0;t<n.Widgets.length;t++)n.Widgets[t].UniqueName===e[i].MasterControlName&&(o.Name=n.Widgets[t].ContainerSettings.Title,o.UniqueId=n.Widgets[t].UniqueId);for(o.ID=e[i].MasterControlName,o.IsPoP=e[i].IsPoPWidget,o.IsDatebucket=e[i].IsDatebucketWidget,h=e[i].FilterActions,s=0;s<h.length;s++){for(a=new ProfileInfo,y=new ProfileManager,a.Option=h[s].IsFilterCasesCustomized,a.Name=h[s].FilterActionName,u=h[s].FilterCases,r=0;r<u.length;r++)f=new FilterCondition,f.SourceColumn.Name=u[r].SourceColumn.Caption,f.SourceColumn.ID=u[r].SourceColumn.UniqueColumn,f.TargetColumn.Name=u[r].TargetColumn.Caption,f.TargetColumn.ID=u[r].TargetColumn.UniqueColumn,f.DataSource.Name=u[r].TargetDataSourceName,f.DataSource.ID=u[r].TargetDataSource,a.FilterCondition.push(f);for(p=h[s].Slaves,v=0;v<p.length;v++){for(c=new WidgetInfo,t=0;t<n.Widgets.length;t++)n.Widgets[t].UniqueName===p[v]&&(c.Name=n.Widgets[t].ContainerSettings.Title,c.UniqueId=n.Widgets[t].UniqueId);c.ID=p[v];c.IsPoPSupported=e[i].IsPoPWidget;y.WidgetInfo.push(c)}y.ProfileInfo=a;l.ProfileManager.push(y)}l.MasterInfo=o;e[i].IsDatebucketWidget?b.MastersCollection.push(l):w.MastersCollection.push(l)}return{filterConfigurationModel:w,datebucketConfigurationModel:b}}},n.prototype.masterSlaveFilterSerializer=function(n,t){var s,i,e,r,o,h,u,f;if(t===void 0&&(t=!0),this.dashboardDesigner.model.mode!==BoldBIDashboard.Designer.mode.view&&this.dashboardDesigner.model.mode!==BoldBIDashboard.Designer.mode.designpreview){if(s=new Settings,!BoldBIDashboard.isNullOrUndefined(n)){for(i=0;i<n.length;i++){for(e=new MasterSlaveFilterAction,e.MasterControlName=n[i].MasterInfo.ID,e.IsPoPWidget=n[i].MasterInfo.IsPoP,e.IsDatebucketWidget=n[i].MasterInfo.IsDatebucket,r=0;r<n[i].ProfileManager.length;r++){for(o=new FilterAction,o.FilterActionName=n[i].ProfileManager[r].ProfileInfo.Name,o.IsFilterCasesCustomized=n[i].ProfileManager[r].ProfileInfo.Option,h=0;h<n[i].ProfileManager[r].WidgetInfo.length;h++)(!n[i].MasterInfo.IsPoP||n[i].ProfileManager[r].WidgetInfo[h].IsPoPSupported)&&o.Slaves.push(n[i].ProfileManager[r].WidgetInfo[h].ID);for(u=0;u<n[i].ProfileManager[r].ProfileInfo.FilterCondition.length;u++)f=new FilterShell,f.SourceColumn.Caption=n[i].ProfileManager[r].ProfileInfo.FilterCondition[u].SourceColumn.Name,f.TargetColumn.Caption=n[i].ProfileManager[r].ProfileInfo.FilterCondition[u].TargetColumn.Name,f.SourceColumn.UniqueColumn=n[i].ProfileManager[r].ProfileInfo.FilterCondition[u].SourceColumn.ID,f.TargetColumn.UniqueColumn=n[i].ProfileManager[r].ProfileInfo.FilterCondition[u].TargetColumn.ID,f.TargetDataSource=n[i].ProfileManager[r].ProfileInfo.FilterCondition[u].DataSource.ID,f.TargetDataSourceName=n[i].ProfileManager[r].ProfileInfo.FilterCondition[u].DataSource.Name,o.FilterCases.push(f);e.FilterActions.push(o)}s.MasterSlaveFilterActions.push(e)}s!==null&&t&&this.dashboardDesigner.modules.util.doAjaxPost("POST",this.dashboardDesigner.model.serviceUrl+BoldBIDashboard.Dashboard.ServiceAPI.notifypropertychange,{action:BoldBIDashboard.DashboardUtil.DesignerAction.NotifyPropertyChange,data:JSON.stringify({FilterConfigurationJson:s})},{fnction:this.bbdesigner$.proxy(function(n){n.Status||console.info(n.Message)},this)})}return s}},n.prototype.updatePoPSettings=function(n){var s=[],t=this.filterObject.filterConfigurationModel.MastersCollection,i,f,o,e,h,u,r,c;if(!BoldBIDashboard.isNullOrUndefined(t)&&t.length>0)for(i=0;i<t.length;i++)if(t[i].MasterInfo.IsPoP){for(f=0;f<t[i].ProfileManager.length;f++)for(o=t[i].ProfileManager[f].WidgetInfo,e=0;e<o.length;e++)s.push(o[e].ID);h=BoldBIDashboard.Dashboard.WidgetHelper.getWidgetInstance(this.GetWidgetElementByReportName(t[i].MasterInfo.ID));h.updatePoPSettings(!1,n)}for(u=this.getWidgetList(),r=0;r<u.length;r++)u[r].IsPoPSupported&&(c=BoldBIDashboard.Dashboard.WidgetHelper.getWidgetInstance(this.GetWidgetElementByReportName(u[r].ID)),c.updatePoPSettings(s.indexOf(u[r].ID)>-1,n))},n.prototype.updateInitialFiltersForFilterControls=function(n,t,i,r){var u=new SelectedFilterValue,e=new InitialDimensionFilter,o=new InitialMeasureFilter,f=new InitialDateFilter;u.UniqueColumnName=n.UniqueColumnName;u.FieldId=n.Id;u.ColumnName=n.Name;u.ReportName=t;u.IsStdDateTime=r.IsStdDateTime;u.IsMultiSelection=r.IsMultiSelection;u.IsGroupBarFilter=r.IsGroupBarFilter;u.IsRange=r.IsRange;u.IsParameterField=n.IsParameterField;switch(i){case"bbi-designer-dataset-string":case"bbi-designer-dataset-boolean":e.DimesnionFilterCondition=r.Action;e.Text=r.FilterInfo;break;case"bbi-designer-dataset-number":o.MeasureFilterCondition=r.Action;o.Values=r.FilterInfo;break;case"bbi-designer-dataset-datetime":case"bbi-designer-dataset-time":f.DateFilterCondition=r.Action;f.DisplayDateFilterList=r.FilterInfo.DisplayFilterList;f.DateFilterList=r.FilterInfo.DateFilterList;f.DateFilterType=BoldBIDashboard.isNullOrUndefined(r.FilterInfo.DateFilterType)?f.DateFilterType:r.FilterInfo.DateFilterType;f.DateFormat=r.FilterInfo.DateFormat;f.SelectedRangeforRelativeFilter=BoldBIDashboard.isNullOrUndefined(r.FilterInfo.SelectedRangeforRelativeFilter)?null:r.FilterInfo.SelectedRangeforRelativeFilter}return u.InitialDimensionFilter=e,u.InitialMeasureFilter=o,u.InitialDateFilter=f,u},n.prototype.getAllWidgetSelectedValues=function(){for(var n,i,u=[],r=this.GetAllWidgetInstanceFromContainer(),t=0;t<r.length;t++)if(n=r[t].getJson().SelectedFilterValues,!BoldBIDashboard.isNullOrUndefined(r[t].getJson().FilterSettings)&&r[t].getJson().FilterSettings.ActAsMasterWidget&&!BoldBIDashboard.isNullOrUndefined(n)&&n.length>0)for(i=0;i<n.length;i++)u.push(n[i]);return u},n.prototype.getAllWidgetSelectedValuesFromCollection=function(n){for(var i,t,r,f=[],u=0;u<n.length;u++)if(i=n[u],t=i.SelectedFilterValues,!BoldBIDashboard.isNullOrUndefined(i.FilterSettings)&&i.FilterSettings.ActAsMasterWidget&&!BoldBIDashboard.isNullOrUndefined(t)&&t.length>0)for(r=0;r<t.length;r++)f.push(t[r]);return f},n.prototype.getDatebucketSelectedValues=function(n){for(var i,u,e,f,r=this.GetAllWidgetInstanceFromContainer(),t=0;t<r.length;t++)if(r[t].isDefaultDataWidget()&&(i=r[t].getJson().DatebucketFilterValues,!BoldBIDashboard.isNullOrUndefined(i)&&i.length>0)){for(u=0;u<i.length;u++)n.push(i[u]);e=r[t].getJson().selectedValue.replace(/\s/g,"");f=DateTimeFormat[e];BoldBIDashboard.isNullOrUndefined(f)||f===DateTimeFormat.None||BoldBIDashboard.DashboardUtil.invokeMethod(r[t],"modifyColumnValue",[f])}return n},n.prototype.getConfiguredWidgetsOfDatebucket=function(n,t){var i=this.filterObject.DatebucketConfigurationModel.MastersCollection,r,e,f,u;if(!BoldBIDashboard.isNullOrUndefined(i)&&i.length>0)for(r=0;r<i.length;r++)if(i[r].MasterInfo.ID===n){for(e=0;e<i[r].ProfileManager.length;e++)for(f=i[r].ProfileManager[e].WidgetInfo,u=0;u<f.length;u++)t.indexOf(f[u].ID)===-1&&this.isWidgetConfigured(f[u].ID)&&t.push(f[u].ID);break}return t},n.prototype.getSelectedValuesForWidgetRequest=function(){return this.dashboardDesigner.model.mode===BoldBIDashboard.Designer.mode.view||this.dashboardDesigner.model.mode===BoldBIDashboard.Designer.mode.designpreview?this.getAllWidgetSelectedValues():[]},n.prototype.GetSlaveListOfMasterWidget=function(n){var e=[],t=this.filterObject.FilterConfigurationModel.MastersCollection,i,f,u,r;if(!BoldBIDashboard.isNullOrUndefined(t)&&t.length>0)for(i=0;i<t.length;i++)if(t[i].MasterInfo.ID===n){for(f=0;f<t[i].ProfileManager.length;f++)for(u=t[i].ProfileManager[f].WidgetInfo,r=0;r<u.length;r++)e.indexOf(u[r].ID)===-1&&this.isWidgetConfigured(u[r].ID)&&e.push(u[r].ID);break}return e},n.prototype.isWidgetConfigured=function(n){var t=this.dashboardDesigner.designerPanel;return t.designPanel.find("div[data-name="+n+"] .bbi-widget-not-configured-text").css("display")==="none"?!0:!1},n.prototype.doInteraction=function(n,t){var u,f;this.RefreshFilterSettings();this.isInteraction=!0;var e=this.dashboardDesigner.modules.dataConfiguration,o=this.dashboardDesigner.designerPanel,i={selectedInfo:this.getAllWidgetSelectedValues()},r=this.GetSlaveListOfMasterWidget(n);if(this.dashboardDesigner.setFilterData([]),r.length>0&&(this.dashboardDesigner.model.mode===BoldBIDashboard.Designer.mode.view||this.dashboardDesigner.model.mode===BoldBIDashboard.Designer.mode.designpreview)&&!this.dashboardDesigner.clearAllFilterClicked&&(this.isInteractionCompleted=!1,u=this.dashboardDesigner.modules.dynamicParameterPanel.getAllFilterWidgetParameterSelectedValues(null,""),!BoldBIDashboard.isNullOrUndefined(u)&&u.length>0?e.fetchDataForWidgets(r,!1,i.selectedInfo,!1,u,null,!1,n,!1,e.datasourceCallerId,t):e.fetchDataForWidgets(r,!1,i.selectedInfo,!1,null,null,!1,n,!1,e.DatasourceCallerId,t)),this.dashboardDesigner.model.mode!==BoldBIDashboard.Designer.mode.design&&r.length===0&&this.dashboardDesigner.modules.labelParameter.getDataForLabelParameter(i.selectedInfo,this.dashboardDesigner._id,!0,n,null,!1,!0),i.selectedInfo.length>0&&this.dashboardDesigner.model.mode===BoldBIDashboard.Designer.mode.designpreview)this.dashboardDesigner.addToRevertInteractionList(r),this.dashboardDesigner.addToRevertInteractionList([n]);else if(i.selectedInfo.length===0&&this.dashboardDesigner.model.mode===BoldBIDashboard.Designer.mode.design)for(this.dashboardDesigner.removeFromRevertInteractionList(n),f=0;f<r.length;f++)this.dashboardDesigner.addToWidgetCacheCollection(r[f],null,!1);o.banner.toggleFilterOverview(i.selectedInfo.length>0);o.initialFilterIfModified(!0);this.dashboardDesigner.model.filterOverviewSettings.showSaveIcon&&(this.dashboardDesigner.filterOverviewObj.isModified=!0);BoldBIDashboard.isNullOrUndefined(this.dashboardDesigner.model.filterOverviewSettings.viewId)||this.dashboardDesigner.model.filterOverviewSettings.viewId.trim()===""||this.updateSavedViewChangeStatus(i)},n.prototype.updateSavedViewChangeStatus=function(n){if(this.dashboardDesigner.initialFilterData.length===n.selectedInfo.length){this.dashboardDesigner.designerPanel.banner.hideViewFilterChangeIndicator();for(var t=0;t<n.selectedInfo.length;t++)if(this.dashboardDesigner.initialFilterData[t].ReportName===n.selectedInfo[t].ReportName){if(this.validateCurrentFilterWithInitFilter(this.dashboardDesigner.initialFilterData[t].InitialDimensionFilter.Text,n.selectedInfo[t].InitialDimensionFilter.Text)||this.validateCurrentFilterWithInitFilter(this.dashboardDesigner.initialFilterData[t].InitialMeasureFilter.Values,n.selectedInfo[t].InitialMeasureFilter.Values)||this.validateCurrentFilterWithInitFilter(this.dashboardDesigner.initialFilterData[t].InitialDateFilter.DateFilterList,n.selectedInfo[t].InitialDateFilter.DateFilterList)){this.dashboardDesigner.designerPanel.banner.showViewFilterChangeIndicator();break}}else{this.dashboardDesigner.designerPanel.banner.showViewFilterChangeIndicator();break}}else this.dashboardDesigner.designerPanel.banner.showViewFilterChangeIndicator()},n.prototype.validateCurrentFilterWithInitFilter=function(n,t){var r=n.length,u=t.length,i;if(r===u)for(i=0;i<r;i++)if(n[i]!==t[i])return!0;return!1},n.prototype.getDateFilterList=function(n,t){for(var f,r,e=t?this.dashboardDesigner.model.localeSettings.dateFormat+" "+this.dashboardDesigner.model.localeSettings.timeFormat:this.dashboardDesigner.model.localeSettings.dateFormat,u=[],i=0;i<n.length;i++)f=BoldBIDashboard.parseDate(n[i],e),r=BoldBIDashboard.format(f,e),BoldBIDashboard.isNullOrUndefined(r)?u.push(n[i]):u.push(r);return u},n.prototype.showOrHideClearFilterIcon=function(n,t){if(n!==null){var i=10;t?(n.find(".bbi-remove-control-filter").css("display","block"),i=n.find(".bbi-dbrd-controlIcon-container").outerWidth(!0)+10):n.find(".bbi-remove-control-filter").css("display","none");n.find(".bbi-dbrd-control-title-wrapper").css({width:"calc(100%)"})}},n.prototype.isValidDataGroupInfo=function(n,t){return n.FilterSettings.ActAsMasterWidget&&!BoldBIDashboard.isNullOrUndefined(t.Values)&&!BoldBIDashboard.isNullOrUndefined(t.Values[0])&&!BoldBIDashboard.isNullOrUndefined(t.Values[0].Values)&&t.Values[0].Values.length>0},n.prototype.configureSelectedFilterInfo=function(n,t,i){var v=this,o,s;if(!BoldBIDashboard.isNullOrUndefined(n)&&!BoldBIDashboard.isNullOrUndefined(i))for(o=0;o<t.length;o++){var r=t[o],u=[],c=[],e=[],h=r.FieldActualType==="bbi-designer-dataset-string"||r.FieldActualType==="bbi-designer-dataset-boolean"||r.FieldActualType==="bbi-designer-dataset-number",l=r.FieldActualType==="bbi-designer-dataset-datetime"||r.FieldActualType==="bbi-designer-dataset-time",y=h?"bbi-designer-dataset-string":r.FieldActualType,f=h?BoldBIDashboard.DashboardDesignerUtility.Serialization.enumToString(InitialDimensionFilterCondition,InitialDimensionFilterCondition.Include):l?BoldBIDashboard.DashboardDesignerUtility.Serialization.enumToString(InitialDateFilterCondition,InitialDateFilterCondition.Include):BoldBIDashboard.DashboardDesignerUtility.Serialization.enumToString(InitialDimensionFilterCondition,InitialDimensionFilterCondition.Contains);if(f=BoldBIDashboard.isNullOrUndefined(i.action)?f:BoldBIDashboard.DashboardDesignerUtility.Serialization.enumToString(InitialDimensionFilterCondition,i.action),s=Array.isArray(i[r.UniqueColumnName])?i[r.UniqueColumnName]:[i[r.UniqueColumnName]],h?(u=s,f=u.length>0?f:BoldBIDashboard.DashboardDesignerUtility.Serialization.enumToString(InitialDimensionFilterCondition,InitialDimensionFilterCondition.Contains),u=u.filter(function(n){return typeof n=="string"?n.indexOf(v.allSpecialChar)===-1:n})):l&&(e=s,c=r.DateTimeFormat===BoldBIDashboard.DashboardDesignerUtility.Serialization.enumToString(DateTimeFormat,DateTimeFormat.Default)?this.getDateFilterList(e,!0):e,u={DateFormat:!BoldBIDashboard.isNullOrUndefined(r.DateBucketInfo)&&!BoldBIDashboard.isNullOrUndefined(r.DateBucketInfo.DateBucketFormat)?r.DateBucketInfo.DateBucketFormat:r.DateTimeFormat,DisplayFilterList:e,DateFilterList:c},f=e.length>0?f:BoldBIDashboard.DashboardDesignerUtility.Serialization.enumToString(InitialDateFilterCondition,InitialDateFilterCondition.Include)),u.length>0||!BoldBIDashboard.isNullOrUndefined(u.DateFilterList)){var a=!BoldBIDashboard.isNullOrUndefined(i.IsGroupBarFilter)&&i.IsGroupBarFilter,p=!BoldBIDashboard.isNullOrUndefined(i.IsMultiSelection)&&i.IsMultiSelection,w={FilterInfo:u,Action:f,IsStdDateTime:!1,IsMultiSelection:a&&s.length>1||p,IsGroupBarFilter:a};n.SelectedFilterValues.push(this.updateInitialFiltersForFilterControls(r,n.UniqueName,y,w))}}},n.prototype.getCurrentWidgetInstance=function(){var n=this.dashboardDesigner.designerPanel.selectedReportItems[0];return BoldBIDashboard.Dashboard.WidgetHelper.getWidgetInstance(n)},n}();BoldBIDashboard.createObject("BoldBIDashboard.DashboardDesignerUtility.MasterSlaveFilterConfiguration",InternalMasterSlaveFilterSerializationHelper,window);InternalLabelParameter=function(){function n(n){this.dashboardDesigner=null;this.masterSlaveConfiguration=null;this.labelParameterVaues={};this.labelWidgetsData=[];this.jsonRequest=[];this.cacheManager=null;this.parentFieldKey="parentField";this.childColumnNameKey="childColumnName";this.labelCounter=0;this.dashboardDesigner=n;this.bbdesigner$=this.dashboardDesigner.bbdesigner$;this.masterSlaveConfiguration=this.dashboardDesigner.modules.masterSlaveFilter;this.cacheManager=new InternalCacheManager(this.dashboardDesigner);this.widgetHelper=this.dashboardDesigner.modules.widgetHelper}return n.prototype.getResultantParameterString=function(n,t,i){i===void 0&&(i=!1);var r=this.GetValidParameterCollection(n,t);return this.getParameterizedText(r.matchedTexts,n,r.dataId,i)},n.prototype.isLabelParameterPresent=function(n,t){var i=this.GetValidParameterCollection(n,t);return i.matchedTexts.length>0?!0:!1},n.prototype.getParameterRegex=function(){return RegExp("^@{{:CURRENTUSER.FULLNAME}}|^@{{:CURRENTUSER.EMAIL}}|^@{{:CURRENTUSER.TOKEN}}","g")},n.prototype.hasDynamicParameter=function(n){return this.getParameterRegex().test(n)},n.prototype.GetValidParameterCollection=function(n,t){var w=this,e=[],v=RegExp("{{:(.*?)}}","g"),y=RegExp("^DistinctCount([(.*?)])|^DCount([(.*?)])|^Minimum([(.*?)])|^Maximum([(.*?)])|^Average([(.*?)])|^StandardDeviation([(.*?)])|^Variance([(.*?)])|^WeightedAvg([(.*?)])|^WeightedAverage([(.*?)])|^StDev([(.*?)])|^Var([(.*?)])|^Sum([(.*?)])|^Avg([(.*?)])|^Count([(.*?)])|^Year([(.*?)])|^Month([(.*?)])|^MonthYear([(.*?)])|^MonthName([(.*?)])|^DayMonthYear([(.*?)])|^MonthDayYear([(.*?)])|^QuarterYear([(.*?)])|^Quarter([(.*?)])|^DateHour([(.*?)])|^DayOfWeek([(.*?)])|^DayOfYear([(.*?)])|^Hours([(.*?)])|^Minutes([(.*?)])|^Seconds([(.*?)])|^WeekOfMonth([(.*?)])|^WeekOfYear([(.*?)])|^Day([(.*?)])|^Max([(.*?)])|^Min([(.*?)])|^WeekYear([(.*?)])|^Time([(.*?)])|^DateTime([(.*?)])|^Date([(.*?)])|^TimeSpan([(.*?)])|^TimeSpanHours([(.*?)])|^TimeSpanMinutes([(.*?)])|^TimeSpanDays([(.*?)])|^TimeSpanWeeks([(.*?)])|^TimeSpanMonths([(.*?)])|^TimeSpanYears([(.*?)])|^TimeSpanInMinutes([(.*?)])|^TimeSpanInHours([(.*?)])","ig"),o=!1,s,l,a,r,h=!1,f,u,p,i,c;if(this.hasDynamicParameter(n)&&(e=n.match(this.getParameterRegex())),v.test(n))for(u=n.match(v),this.summaryType=SummaryType.SUM,this.dateformat=DateTimeFormat.None,p=function(n){var p,c,k,v,d,b;for(r=u[n].substring(3,u[n].length-2),p=i.getChildColumnName(r),BoldBIDashboard.isNullOrUndefined(p)||(l=p[i.parentFieldKey],a=p[i.childColumnNameKey]),c=i.dashboardDesigner.modules.dataSet.datasets,y.test(r)?(k=r.match(y),v=k[0].substring(0,k[0].length-1),!BoldBIDashboard.isNullOrUndefined(v)&&v.length>0&&(i.summaryType=i.getValidSummaryType(v.toLowerCase()),i.summaryType===null||i.summaryType==="None"?(i.dateformat=DateTimeFormat[i.getValidDateFormat(v.toLowerCase())],o=!1):o=!0,r=r.replace(v,""),s=r.substring(1,r.length-1),h=!0)):(s=r,h=!1),BoldBIDashboard.isNullOrUndefined(t)&&(t=i.getDefaultDatasourceID(s)),d=function(r){var v=s,y,p;v.indexOf(c[r].Name)!==-1?(f=t!==c[r].Id?c[r].Id:t,v=v.replace(c[r].Name+".","")):f=t;c[r].Id===f&&(BoldBIDashboard.isNullOrUndefined(l)?c[r].Fields.forEach(function(t){var i=w.getCurrentFieldInfo(t,v,h,o);BoldBIDashboard.isNullOrUndefined(i)||e.push(u[n])}):(y=i.getHierarchicalField(c[r].Fields,l,a),BoldBIDashboard.isNullOrUndefined(y)||(p=i.getCurrentFieldInfo(y,a,h,o),BoldBIDashboard.isNullOrUndefined(p)||e.push(u[n]))))},b=0;b<c.length;b++)d(b)},i=this,c=0;c<u.length;c++)p(c);return{matchedTexts:e,dataId:BoldBIDashboard.isNullOrUndefined(f)?null:f}},n.prototype.getCurrentFieldInfo=function(n,t,i,r){var u=null,f;if(!BoldBIDashboard.isNullOrUndefined(n))if(n.Name.trim().toLowerCase()===t.trim().toLowerCase()&&(BoldBIDashboard.isNullOrUndefined(n.ChildFields)||!BoldBIDashboard.isNullOrUndefined(n.ChildFields)&&n.ChildFields.length===0))i?r&&n.TypeName!=="Date"&&n.TypeName!=="String"&&n.TypeName!=="Datetime"?u=n:!r&&(this.dateformat===0||this.dateformat==="None")||i&&(this.summaryType==="COUNT"||this.summaryType==="COUNTD")?u=n:r||this.dateformat===0&&this.dateformat==="None"||n.TypeName!=="Date"||(u=n):u=n;else if(!BoldBIDashboard.isNullOrUndefined(n.ChildFields))for(f=0;f<n.ChildFields.length;f++)if(u=this.getCurrentFieldInfo(n.ChildFields[f],t,i,r),!BoldBIDashboard.isNullOrUndefined(u))break;return u},n.prototype.getDefaultDatasourceID=function(n){var i=this.dashboardDesigner.modules.dataSet.datasets,f,e,o=this.getChildColumnName(n),t,s,r,u;for(BoldBIDashboard.isNullOrUndefined(o)||(f=o[this.parentFieldKey],e=o[this.childColumnNameKey]),t=0;t<i.length;t++){if(n.split(".").length>1&&n.split(".")[0]===i[t].Name)return i[t].Id;if(BoldBIDashboard.isNullOrUndefined(f)){for(r=0;r<i[t].Fields.length;r++)if(u=this.getCurrentFieldInfo(i[t].Fields[r],n,!1,!1),!BoldBIDashboard.isNullOrUndefined(u))return i[t].Id}else if(s=this.getHierarchicalField(i[t].Fields,f,e),!BoldBIDashboard.isNullOrUndefined(s)&&(u=this.getCurrentFieldInfo(s,e,!1,!1),!BoldBIDashboard.isNullOrUndefined(u)))return i[t].Id}},n.prototype.getParameterizedText=function(n,t,i,r){var e=this,u=t,f="";return n.forEach(function(n){var o=i,t;n.split(".").length>1&&(o=e.getDataSourceID(n));t=u.split(n);t.length!==0&&(t[0]!==""&&(f+=r?t[0]:"<span class= 'e-title-text e-title-value' style= 'float: left ' >"+BoldBIDashboard.DashboardUtil.encodeText(t[0])+"<\/span>"),t.splice(0,1));f+=r?"<span class= 'bbi-dbrd-label-parameter-text e-title-text' data-param='"+n+"' data-source='"+o+"' >"+n+"<\/span><span class= 'bbi-dbrd-label-parameter-value e-title-value'><\/span>":"<span class= 'bbi-dbrd-label-parameter-text e-title-text' data-param='"+n+"' data-source='"+o+"' style= 'font-weight: bold; float: left ' >"+n+"<\/span><span class= 'bbi-dbrd-label-parameter-value e-title-value' style= 'font-weight: bold; ' ><\/span>";u=t.join(" "+n+" ")}),u!==""&&u!=="."&&u!==":"&&(f+=r?u:"<span class= 'e-title-text e-title-value' >"+BoldBIDashboard.DashboardUtil.encodeText(u)+"<\/span>"),f},n.prototype.getDataSourceID=function(n){var f=RegExp("^DistinctCount([(.*?)])|^DCount([(.*?)])|^Minimum([(.*?)])|^Maximum([(.*?)])|^Average([(.*?)])|^StandardDeviation([(.*?)])|^Variance([(.*?)])|^WeightedAvg([(.*?)])|^WeightedAverage([(.*?)])|^StDev([(.*?)])|^Var([(.*?)])|^Sum([(.*?)])|^Avg([(.*?)])|^Count([(.*?)])|^Year([(.*?)])|^MonthYear([(.*?)])|^MonthName([(.*?)])|^DayMonthYear([(.*?)])|^MonthDayYear([(.*?)])|^QuarterYear([(.*?)])|^Quarter([(.*?)])|^DateHour([(.*?)])|^DayOfWeek([(.*?)])|^DayOfYear([(.*?)])|^Hours([(.*?)])|^Minutes([(.*?)])|^Seconds([(.*?)])|^WeekOfMonth([(.*?)])|^WeekOfYear([(.*?)])|^Day([(.*?)])|^Max([(.*?)])|^Min([(.*?)])|^WeekYear([(.*?)])|^Time([(.*?)])|^DateTime([(.*?)])|^Date([(.*?)])|^TimeSpan([(.*?)])|^TimeSpanHours([(.*?)])|^TimeSpanMinutes([(.*?)])|^TimeSpanDays([(.*?)])|^TimeSpanWeeks([(.*?)])|^TimeSpanMonths([(.*?)])|^TimeSpanYears([(.*?)])|^TimeSpanInMinutes([(.*?)])|^TimeSpanInHours([(.*?)])","ig"),r="",t=n.substring(3,n.length-2),u,i;return f.test(t)?(u=t.match(f),i=u[0].substring(0,u[0].length-1),!BoldBIDashboard.isNullOrUndefined(i)&&i.length>0&&(t=t.replace(i,""),r=t.substring(1,t.length-1))):r=t,this.getDefaultDatasourceID(r)},n.prototype.getInnerText=function(n){return BoldBIDashboard.isNullOrUndefined(n)?null:this.hasDynamicParameter(n)?n.substring(4,n.length-2):n.substring(3,n.length-2)},n.prototype.createParameterColumnCollection=function(n,t){for(var b,k,e,o,d,c,a,l,i,g,v,f=this.getLabelParamElements(n),ut=RegExp("^DistinctCount([(.*?)])|^DCount([(.*?)])|^Minimum([(.*?)])|^Maximum([(.*?)])|^Average([(.*?)])|^StandardDeviation([(.*?)])|^Variance([(.*?)])|^WeightedAvg([(.*?)])|^WeightedAverage([(.*?)])|^StDev([(.*?)])|^Var([(.*?)])|^Sum([(.*?)])|^Avg([(.*?)])|^Count([(.*?)])|^Year([(.*?)])|^Month([(.*?)])|^MonthYear([(.*?)])|^MonthName([(.*?)])|^DayMonthYear([(.*?)])|^MonthDayYear([(.*?)])|^QuarterYear([(.*?)])|^Quarter([(.*?)])|^DateHour([(.*?)])|^DayOfWeek([(.*?)])|^DayOfYear([(.*?)])|^Hours([(.*?)])|^Minutes([(.*?)])|^Seconds([(.*?)])|^WeekOfMonth([(.*?)])|^WeekOfYear([(.*?)])|^Day([(.*?)])|^Max([(.*?)])|^Min([(.*?)])|^WeekYear([(.*?)])|^Time([(.*?)])|^DateTime([(.*?)])|^Date([(.*?)])|^TimeSpan([(.*?)])|^TimeSpanHours([(.*?)])|^TimeSpanMinutes([(.*?)])|^TimeSpanDays([(.*?)])|^TimeSpanWeeks([(.*?)])|^TimeSpanMonths([(.*?)])|^TimeSpanYears([(.*?)])|^TimeSpanInMinutes([(.*?)])|^TimeSpanInHours([(.*?)])","ig"),y=!1,nt=!1,r,s,p,tt,it,ft,rt,h=[],w,u=0;u<f.length;u++)if(b=!0,this.bbdesigner$(f[u]).parents(".bbi-dbrd-control-container.e-label-item").length===1&&(b=this.isUpdateLabelParaForLabelWidget(this.bbdesigner$(f[u]),t)),b){for(y=!1,s=SummaryType.SUM,p=BoldBIDashboard.DateAndTimeFormat.None,tt=this.bbdesigner$(f[u]).attr("data-param"),ft=this.bbdesigner$(f[u]).attr("data-source"),w=this.generateIdForLabelParameterElement(f[u]),this.bbdesigner$(f[u]).attr("data-labelparameterid",w),r=this.getInnerText(tt),ut.test(r)?(k=r.match(ut),e=k[0].substring(0,k[0].length-1),!BoldBIDashboard.isNullOrUndefined(e)&&e.length>0&&(s=this.getValidSummaryType(e.toLowerCase()),s===null||s==="None"?(p=DateTimeFormat[this.getValidDateFormat(e.toLowerCase())],y=!1):y=!0,r=r.replace(e,""),it=r.substring(1,r.length-1),nt=!0)):(it=r,nt=!1),o=this.validateColumn(it,y,s,p,nt,ft),d=!1,c=0;c<h.length;c++)for(a=0;a<h[c].ColumnList.length;a++)w===h[c].ColumnList[a].Id&&(d=!0);BoldBIDashboard.isNullOrUndefined(o)||!o.isValid||d||(rt=this.checkIfKeyPresent(o.datasourceId,h),l=o.field,i=new ParameterColumnItem,l!==null&&l.length!==0&&(i.MatchText=tt,i.ColumnName=l.Name,i.ColumnType=this.getColumnType(l.TypeName),i.SummaryType=s,i.DateFormat=p,i.Id=w,rt==null?(g=[],g.push(i),v=new ParameterColumn,v.DataSourceId=o.datasourceId,v.ColumnList=g,h.push(v)):rt.ColumnList.push(i)))}return h},n.prototype.generateIdForLabelParameterElement=function(n){var t=this.bbdesigner$(n).attr("data-param"),i;return this.hasDynamicParameter(t)?t.substring(4,t.length-2):(i=t.substring(3,t.length-2),this.bbdesigner$(n).attr("data-source")+"_"+i)},n.prototype.validateColumn=function(n,t,i,r,u,f){var e=this.dashboardDesigner.modules.dataSet.datasets,h=null,o,c,s;if(n.split(".").length>1)for(o=0;o<e.length;o++)n.split(".")[0]===e[o].Name&&(f=e[o].Id);for(c=BoldBIDashboard.isNullOrUndefined(f)?e:e.filter(function(n){return n.Id===f}),s=0;s<c.length;s++)if(h=this.getFieldInfo(c[s],n,t,i,r,u,f),h.isValid)break;return h},n.prototype.getFieldInfo=function(n,t,i,r,u,f,e){var o=null,s=!1,y=e,c,h;t.split(".").length>1&&t.split(".")[0]===n.Name&&(t=t.replace(n.Name+".",""));var l=null,a=null,v=this.getChildColumnName(t);if(BoldBIDashboard.isNullOrUndefined(v)||(l=v[this.parentFieldKey],a=v[this.childColumnNameKey]),BoldBIDashboard.isNullOrUndefined(l)){for(h=0;h<n.Fields.length;h++)if(o=this.getCurrentFieldInfo(n.Fields[h],t,!1,!1),!BoldBIDashboard.isNullOrUndefined(o)&&o.length!==0)break}else c=this.getHierarchicalField(n.Fields,l,a),BoldBIDashboard.isNullOrUndefined(c)||(o=this.getCurrentFieldInfo(c,a,!1,!1));return BoldBIDashboard.isNullOrUndefined(o)||o.length===0||(y=n.Id,i&&o.TypeName!=="Date"&&o.TypeName!=="String"&&o.TypeName!=="Datetime"?s=!0:!i&&(u===0||u===DateTimeFormat.None)||f&&(r===SummaryType.COUNT||SummaryType.COUNTD)?s=!0:i||u===0&&u===DateTimeFormat.None||o.TypeName!=="Date"||(s=!0)),{field:o,datasourceId:y,isValid:s}},n.prototype.checkIfKeyPresent=function(n,t){for(var r=null,i=0;i<t.length;i++)if(t[i].DataSourceId===n){r=t[i];break}return r},n.prototype.getColumnType=function(n){return n==="String"||n==="Boolean"?FieldType.Dimensions:n==="Date"?FieldType.DateTime:FieldType.Measures},n.prototype.getLabelParamElements=function(){var u,t,n,i,f,r;for(this.dashboardDesigner.element.find(".e-dbrd-label-parameter-text").length>0&&this.dashboardDesigner.element.find(".e-dbrd-label-parameter-text").addClass("bbi-dbrd-label-parameter-text"),u=this.dashboardDesigner.element.find(".bbi-dbrd-label-parameter-text"),t=this.widgetHelper.getAllWidgets(),n=0;n<t.length;n++)if(t[n].ControlContainer.hasClass("e-rte-item"))for(i=void 0,f=BoldBIDashboard.buildTag("div","",{},{}),f.html(t[n].getValue()),i=f.find(".bbi-dbrd-label-parameter-text"),r=0;r<i.length;r++)u.push(i[r]);return u},n.prototype.labelParameterAction=function(n,t,i,r,u,f,e){if(r===void 0&&(r=!1),f===void 0&&(f=!1),!BoldBIDashboard.isNullOrUndefined(n)&&n.length>0){var o=this.getParamCollection();this.labelParameterFetch=this.dashboardDesigner.modules.util.doAjaxPost("POST",this.dashboardDesigner.model.serviceUrl+BoldBIDashboard.Dashboard.ServiceAPI.processdata,{action:BoldBIDashboard.DashboardUtil.DesignerAction.getLabelParameterData,data:JSON.stringify({designerAction:BoldBIDashboard.DashboardUtil.DesignerAction.getLabelParameterData,labelParameterCollection:n,dynamicParamCollection:t,hasDynamicParam:r,selectedValuesList:i,className:BoldBIDashboard.DashboardUtil.DesignerAction.FilterAction,paramCollection:BoldBIDashboard.isNullOrUndefined(o)?"":JSON.stringify(o),isParameterField:BoldBIDashboard.isNullOrUndefined(u)?!1:!0,selectedParameterValue:u,needToImportData:f,datasourceCallerId:e})},{fnction:this.bbdesigner$.proxy(this.bindLableParameterValues,this)})}},n.prototype.getDataForDynamicParam=function(n){for(var t,i,u={},r=0;r<n.length;r++)t=this.bbdesigner$(n[r]).attr("data-param"),i=this.getInnerText(t),!BoldBIDashboard.isNullOrUndefined(i)&&this.hasDynamicParameter(t)&&(u[i]=t);return u},n.prototype.getParamCollection=function(){var n=this.dashboardDesigner.modules.dynamicParameterPanel;return!BoldBIDashboard.isNullOrUndefined(n.currentValueCollection)&&n.currentValueCollection.length>0?n.currentValueCollection:null},n.prototype.getDataForLabelParameter=function(n,t,i,r,u,f,e,o){var p,c,w,b,l,a,k,tt,d,ot,st;if(i===void 0&&(i=!1),r===void 0&&(r=null),f===void 0&&(f=!1),e===void 0&&(e=!1),p=this.getLabelParamElements(t),!i)for(l=0;l<p.length;l++)this.bbdesigner$(p[l]).next().html("...");var v=this.createParameterColumnCollection(t,r),h,y=this.dashboardDesigner.modules.dataSet.datasets,it=[],rt=[],g=[],nt=this.getDataForDynamicParam(p);for(c=0;c<v.length;c++){for(w=[],b=[],l=0;l<v[c].ColumnList.length;l++){var s=v[c].ColumnList[l],ut=void 0,ft=void 0,ht=BoldBIDashboard.isNullOrUndefined(s.MatchText.match(/(.*){:/))?s.MatchText:s.MatchText.substring(3,s.MatchText.length-2),et=this.getChildColumnName(ht);for(BoldBIDashboard.isNullOrUndefined(et)||(ut=et[this.parentFieldKey],ft=et[this.childColumnNameKey]),a=0;a<y.length;a++)if(y[a].Id===v[c].DataSourceId)for(k=0;k<y[a].Fields.length;k++)if(BoldBIDashboard.isNullOrUndefined(ut)){if(h=this.getCurrentFieldInfo(y[a].Fields[k],s.ColumnName,!1,!1),!BoldBIDashboard.isNullOrUndefined(h)&&h.length!==0)break}else if(tt=this.getHierarchicalField(y[a].Fields,ut,ft),!BoldBIDashboard.isNullOrUndefined(tt)&&(h=this.getCurrentFieldInfo(tt,ft,!1,!1),!BoldBIDashboard.isNullOrUndefined(h)&&h.length!==0))break;BoldBIDashboard.isNullOrUndefined(h)||(h.TypeName.toLocaleLowerCase()==="String".toLocaleLowerCase()||h.TypeName.toLocaleLowerCase()==="Date".toLocaleLowerCase()?b.push({Name:s.ColumnName,Id:h.Id,SummaryType:this.getDimensionSummaryType(s),FieldType:FieldType.Dimensions,DateTimeFormat:s.DateFormat,FilterInfo:null,UniqueColumnName:s.Id,IsVisible:!0}):w.push({Name:s.ColumnName,Id:h.Id,SummaryType:s.SummaryType,FieldType:FieldType.Measures,DateTimeFormat:s.DateFormat,FilterInfo:null,UniqueColumnName:s.Id,IsVisible:!0}))}w.length>0&&it.push({DataSetID:v[c].DataSourceId,FieldInfo:w});b.length>0&&rt.push({DataSetID:v[c].DataSourceId,FieldInfo:b})}(it.length>0||rt.length>0)&&g.push({MeasureFieldInfo:it,DimensionFieldInfo:rt});g.length>0?(BoldBIDashboard.isNullOrUndefined(this.labelParameterFetch)||(this.labelParameterFetch.readyState!==4&&this.labelParameterFetch.abort(),this.labelParameterFetch=null),this.jsonRequest={labelParameterCollection:g,selectedValuesList:n},this.labelParameterCacheKey=this.cacheManager.getCacheKeyForRequest(this.jsonRequest),d=this.dashboardDesigner.modules.dynamicParameterPanel,ot=!BoldBIDashboard.isNullOrUndefined(d.currentValueCollection)&&d.currentValueCollection.length>0?d.currentValueCollection:null,this.dashboardDesigner.model.clientSideCacheSettings.enable&&this.dashboardDesigner.model.mode===BoldBIDashboard.Designer.mode.view&&BoldBIDashboard.isNullOrUndefined(ot)&&!f&&this.cacheManager.checkCache(this.jsonRequest)&&!i?(st=this.cacheManager.getFromCache(this.jsonRequest),this.bindLableParameterValues(st.data)):this.labelParameterAction(g,nt,n,!BoldBIDashboard.isNullOrUndefined(nt),u,e,o)):this.labelParameterAction(null,nt,null,!BoldBIDashboard.isNullOrUndefined(nt),u,e,o)},n.prototype.getHierarchicalField=function(n,t,i){var r=t.split("."),f,u,e;if(r.push(i),BoldBIDashboard.isNullOrUndefined(r))return null;for(f=function(t){if(n=n.filter(function(n){return n.Name.trim().toLowerCase()===r[t].trim().toLowerCase()})[0],!BoldBIDashboard.isNullOrUndefined(n)&&!BoldBIDashboard.isNullOrUndefined(n.ChildFields)&&n.ChildFields.length>0)n=n.ChildFields;else return"break"},u=0;u<r.length;u++)if(e=f(u),e==="break")break;return n},n.prototype.getChildColumnName=function(n){if(n.indexOf("].")!==-1){var t=n.match(/\[.*?\]/)[0],i=t.substring(1,t.length-1),r=n.match(/].(.*)/)[1];return{parentField:i,childColumnName:r}}return null},n.prototype.getDimensionSummaryType=function(n){return n.SummaryType.toString().toLocaleLowerCase()===SummaryType.SUM.toString().toLocaleLowerCase()||n.SummaryType.toString().toLocaleLowerCase()===SummaryType.NONE.toString().toLocaleLowerCase()?SummaryType.NONE:n.SummaryType},n.prototype.bindLableParameterValues=function(n){var t=this,i=this;this.labelParameterVaues.LabelParameterData=n;setTimeout(function(){var f,u,r,s,o,e,h;if(i.labelCounter++,i.masterSlaveConfiguration.isInteractionCompleted){!BoldBIDashboard.isNullOrUndefined(i.dashboardDesigner.model)&&i.dashboardDesigner.model.clientSideCacheSettings.enable&&i.dashboardDesigner.model.mode===BoldBIDashboard.Designer.mode.view&&i.cacheManager.addtoCache(i.jsonRequest,n,!1,i.labelParameterCacheKey);try{if(f=i.dashboardDesigner.modules.Mode.designCanvas,u=f.find(".bbi-dbrd-label-parameter-text"),n.length>0){for(r=0;r<u.length;r++)s=!0,o=!1,t.bbdesigner$(u[r]).parents(".bbi-dbrd-control-container.e-label-item").length===1&&(s=t.isUpdateLabelParaForLabelWidget(t.bbdesigner$(u[r])),o=!0),e=t.bbdesigner$(u[r]).attr("data-labelparameterid"),BoldBIDashboard.isNullOrUndefined(t.dashboardDesigner.model)||BoldBIDashboard.isNullOrUndefined(t.dashboardDesigner.model.dashboardFromData)||!t.dashboardDesigner.model.dashboardFromData.loadFromData||(e=t.generateIdForLabelParameterElement(u[r])),o&&!BoldBIDashboard.isNullOrUndefined(t.dashboardDesigner.model)&&!BoldBIDashboard.isNullOrUndefined(t.dashboardDesigner.model.dashboardFromData)&&t.dashboardDesigner.model.dashboardFromData.loadFromData&&t.updateValueForLabelWidgetInExporting(t.bbdesigner$(u[r]),e),s&&(h=t.getValueForLabelParameter(e),t.bbdesigner$(u[r]).next().html(h),o&&t.updateLabelWidgetCollection(t.bbdesigner$(u[r]),e,h));t.labelParameterVaues.labelWidgetsData=t.labelWidgetsData}t.resetTooltipForLabelParameters(f.find(".bbi-dbrd-control-title"));t.resetTooltipForLabelParameters(f.find(".bbi-dbrd-control-sub-title"));t.updateLabelParameterSize(f)}catch(c){return""}}else!i.masterSlaveConfiguration.isInteractionCompleted&&i.labelCounter<30?t.bindLableParameterValues(t.labelParameterVaues.LabelParameterData):(i.labelCounter=0,i.masterSlaveConfiguration.isInteractionCompleted=!0,t.bindLableParameterValues(t.labelParameterVaues.LabelParameterData))},500)},n.prototype.updateValueForLabelWidgetInExporting=function(n,t){for(var r="",i=0;i<this.labelWidgetsData.length;i++)this.labelWidgetsData[i].id===this.bbdesigner$(n).parents(".bbi-dbrd-control-container.e-label-item").attr("name")+"_"+t&&(r=this.labelWidgetsData[i].value);this.bbdesigner$(n).next().html(r)},n.prototype.updateLabelWidgetCollection=function(n,t,i){var f=this.dashboardDesigner.bbdesigner$,u,r;if(this.labelWidgetsData.length===0)this.labelWidgetsData.push({id:f(n).parents(".bbi-dbrd-control-container.e-label-item").attr("name")+"_"+t,value:i});else{for(u=!0,r=0;r<this.labelWidgetsData.length;r++)if(this.labelWidgetsData[r].id===this.bbdesigner$(n).parents(".bbi-dbrd-control-container.e-label-item").attr("name")+"_"+t){this.labelWidgetsData[r].value=i;u=!1;break}u&&this.labelWidgetsData.push({id:f(n).parents(".bbi-dbrd-control-container.e-label-item").attr("name")+"_"+t,value:i})}},n.prototype.updateLabelParameterValue=function(n){for(var r,u=this.dashboardDesigner.modules.Mode.designCanvas,i=u.find(".bbi-dbrd-label-parameter-value"),t=0;t<i.length;t++)r=!0,this.bbdesigner$(i[t]).parents(".bbi-dbrd-control-container.e-label-item").length===1&&(r=this.isUpdateLabelParaForLabelWidget(this.bbdesigner$(i[t]),n)),r&&this.bbdesigner$(i[t]).html("...")},n.prototype.isUpdateLabelParaForLabelWidget=function(n,t){var i,u,f,e,o,r,s;if(t===void 0&&(t=null),i=[],u=!1,BoldBIDashboard.isNullOrUndefined(t))if(e={selectedInfo:this.masterSlaveConfiguration.getAllWidgetSelectedValues()},e.selectedInfo.length>0)for(o=0;o<e.selectedInfo.length;o++)for(f=this.masterSlaveConfiguration.GetSlaveListOfMasterWidget(e.selectedInfo[o].ReportName),r=0;r<f.length;r++)i.indexOf(f[r])===-1&&i.push(f[r]);else u=!0;else i=this.masterSlaveConfiguration.GetSlaveListOfMasterWidget(t);for(s=0;s<i.length;s++)if(i[s]===this.bbdesigner$(n).parents(".bbi-dbrd-control-container.e-label-item").attr("data-name")){u=!0;break}return u},n.prototype.updateLabelParameterSize=function(n){var r=n.find(".bbi-dbrd-control-title-wrapper"),u=n.find(".bbi-dbrd-control-sub-header"),t,i;if(r.length>0)for(t=0;t<r.length;t++)this.adjustParameterColumn(this.bbdesigner$(r[t]));if(u.length>0)for(i=0;i<u.length;i++)this.adjustParameterColumn(this.bbdesigner$(u[i]))},n.prototype.resetTooltipForLabelParameters=function(n){var t,i;if(n.length>0)for(t=0;t<n.length;t++)if(this.bbdesigner$(n[t]).children().hasClass("bbi-dbrd-label-parameter-text")){i=void 0;try{i=this.dashboardDesigner.model.mode===BoldBIDashboard.Designer.mode.design?this.bbdesigner$(n[t]).clone().children(".bbi-dbrd-label-parameter-value").remove().end().text():this.bbdesigner$(n[t]).clone().children(".bbi-dbrd-label-parameter-text").remove().end().text()}catch(r){i=""}this.bbdesigner$(n[t]).attr("data-tooltip",i)}},n.prototype.getColumnId=function(n){for(var i=Object.keys(n[0]),r=[],t=0;t<i.length;t++)r.push({id:i[t]});return r},n.prototype.getValueForLabelParameter=function(n){var r=this.labelParameterVaues.LabelParameterData,t,f,u,i;if(!BoldBIDashboard.isNullOrUndefined(r)){for(t=0;t<r.length;t++)if(r[t].data!=="[]")for(f=JSON.parse(r[t].data),u=this.getColumnId(f),i=0;i<u.length;i++)if(u[i].id===n)return f[0][u[i].id];return""}},n.prototype.setValueForLabelParameter=function(n){var t=this.getValueForLabelParameter(this.bbdesigner$(n).attr("data-labelparameterid"));this.bbdesigner$(n).next().html(t)},n.prototype.adjustParameterColumn=function(n){var u,t,i,f,r;if(!BoldBIDashboard.isNullOrUndefined(n)&&this.bbdesigner$(n).length>0&&(u=void 0,t=void 0,this.dashboardDesigner.model.mode===BoldBIDashboard.Designer.mode.design?(u=n.find(".bbi-dbrd-label-parameter-text").length,t=n.find(".e-title-text")):(u=n.find(".bbi-dbrd-label-parameter-value").length,t=n.find(".e-title-value")),i=n[0].getBoundingClientRect().width,n.find(".bbi-dbrd-control-title").length===1&&(i=i-6),n.find(".bbi-dbrd-control-sub-title").length===1&&(i=i-10),f=i/(t.length+1),u>0)){for(r=0;r<t.length;r++)(this.bbdesigner$(t[r]).hasClass("bbi-dbrd-label-parameter-text")||this.bbdesigner$(t[r]).hasClass("bbi-dbrd-label-parameter-value"))&&this.bbdesigner$(t[r]).css({"max-width":f});this.getParameterColumnMaxWidth(t,i)}},n.prototype.getParameterColumnMaxWidth=function(n,t){for(var i,u=[],e=t-this.getAvailedParameterColumnWidth(n),f=n.length,r=0;r<f;r++)(this.bbdesigner$(n[r]).hasClass("bbi-dbrd-label-parameter-text")||this.bbdesigner$(n[r]).hasClass("bbi-dbrd-label-parameter-value"))&&u.push(this.bbdesigner$(n[r]));for(i=0;i<f;i++)(this.bbdesigner$(n[i]).hasClass("bbi-dbrd-label-parameter-text")||this.bbdesigner$(n[i]).hasClass("bbi-dbrd-label-parameter-value"))&&this.bbdesigner$(n[i]).css({"max-width":parseInt(this.bbdesigner$(n[i]).css("max-width"),10)+e/u.length+"px"})},n.prototype.getAvailedParameterColumnWidth=function(n){for(var i=0,r=n.length,t=0;t<r;t++)i+=this.bbdesigner$(n[t]).width();return i},n.prototype.getValidSummaryType=function(n){switch(n){case"sum":return"SUM";case"count":return"COUNT";case"distinctcount":case"dcount":return"COUNTD";case"avg":case"average":return"AVG";case"max":case"maximum":return"MAX";case"min":case"minimum":return"MIN";case"var":case"variance":return"VAR";case"stdev":return"STDEV"}return"None"},n.prototype.getValidDateFormat=function(n){switch(n){case"year":return"Year";case"none":return"None";case"monthname":return"Month";case"day":return"Day";case"quarter":return"Quarter";case"month":return"Month";case"monthyear":return"MonthYear";case"quarteryear":return"QuarterYear";case"daymonthyear":return"DayMonthYear";case"minutes":return"Minute";case"datehour":return"DateHour";case"dayofweek":return"DayOfWeek";case"weekofyear":return"WeekOfYear";case"timespan":return"TimeSpan";case"timespanhours":return"TimeSpanHours";case"timespanminutes":return"TimeSpanMinutes";case"timespandays":return"TimeSpanDays";case"timespanweeks":return"TimeSpanWeeks";case"timespanmonths":return"TimeSpanMonths";case"timespanyears":return"TimeSpanYears";case"timespaninminutes":return"TimeSpanInMinutes";case"timespaninhours":return"TimeSpanInHours";case"monthdayyear":return"MonthDayYear";case"datetime":return"DateTime";case"date":return"Date"}return""},n}();BoldBIDashboard.createObject("BoldBIDashboard.DashboardDesignerUtility.LabelParameter",InternalLabelParameter,window);InternalCacheManager=function(){function n(n){this.cacheList=[];this.jsonRequest=[];this.isRefresh=!1;this.widgetDetailList=[];this.initialDataCached=!1;this.jsonResponse=null;this.dashboardDesigner=n;this.dashboardDesigner.model.clientSideCacheSettings&&(this.cacheTimer=this.dashboardDesigner.model.clientSideCacheSettings.timer)}return n.prototype.addtoCache=function(n,t,i,r){var u,o,s;if(this.dashboardDesigner.model.clientSideCacheSettings.enable){var e=void 0,h=!1,f=void 0;if(n.length>0)for(u=0;u<n.length;u++)if(!BoldBIDashboard.isNullOrUndefined(n[u].widgetDetails)&&!BoldBIDashboard.isNullOrUndefined(n[u].widgetDetails[0].widgetInfo)&&(e=n[u].widgetDetails[0].widgetInfo.Id,!BoldBIDashboard.isNullOrUndefined(t.data[e]))){f=u;break}if(!BoldBIDashboard.isNullOrUndefined(t)){if(!BoldBIDashboard.isNullOrUndefined(t.length)&&t.length===0)return;if(BoldBIDashboard.isNullOrUndefined(r)){if(!BoldBIDashboard.isNullOrUndefined(t.length)&&t.length>0)o={Time:new Date,data:t},this.cacheList[this.getCacheKeyForRequest(n,r)]=o;else if(!BoldBIDashboard.isNullOrUndefined(t.data)&&!BoldBIDashboard.isNullOrUndefined(t.data[e])&&(t.data[e].Error&&(h=!0),!h&&(o={Time:new Date,data:t},this.cacheList[this.getCacheKeyForRequest(n[f],r)]=o,this.initialDataCached=!0,i&&n[f].selectedValuesList.length>1&&!BoldBIDashboard.isNullOrUndefined(t.data)&&!BoldBIDashboard.isNullOrUndefined(t.jsonData)&&!BoldBIDashboard.isNullOrUndefined(t["function"])))){var c=this.checkFilteredListRequest(n[f]),l=n[f].selectedValuesList,a=n[f].widgetDetails;for(s=0;s<this.widgetDetailList.length;s++)c.widgetDetails[0].widgetInfo.Id===this.widgetDetailList[s].widgetName?this.widgetDetailList.push(c):this.widgetDetailList.push({selectedValuesList:l,widgetName:a[0].widgetInfo.Id})}}else this.addtoCacheList(t,e,r)}}},n.prototype.addtoCacheList=function(n,t,i){var u=!1,r;!BoldBIDashboard.isNullOrUndefined(n.length)&&n.length>0?(r={Time:new Date,data:n},this.cacheList[i]=r):BoldBIDashboard.isNullOrUndefined(n.data)||BoldBIDashboard.isNullOrUndefined(n.data[t])||(n.data[t].Error&&(u=!0),u||(r={Time:new Date,data:n},this.cacheList[i]=r,this.initialDataCached=!0))},n.prototype.getCacheKeyForRequest=function(n){var i="",t;if(!BoldBIDashboard.isNullOrUndefined(n.selectedValuesList)){if(n.selectedValuesList.length>0)for(t=0;t<n.selectedValuesList.length;t++)i+=this.getSelectedFilterKey(n.selectedValuesList[t]);else i+=JSON.stringify(n.selectedValuesList);if(!BoldBIDashboard.isNullOrUndefined(n.widgetDetails)&&n.widgetDetails.length>0&&!BoldBIDashboard.isNullOrUndefined(n.widgetDetails[0].widgetInfo))i+=n.widgetDetails[0].widgetInfo.Id;else if(!BoldBIDashboard.isNullOrUndefined(n.labelParameterCollection)&&n.labelParameterCollection.length>0)for(t=0;t<n.labelParameterCollection.length;t++)i+=this.getLabelParameterCollectionKey(n.labelParameterCollection[t])}return i},n.prototype.getSelectedFilterKey=function(n){var t="",i,u,f,r;return t=n.FieldId+n.ReportName,BoldBIDashboard.isNullOrUndefined(n.InitialDateFilter)||(i=n.InitialDateFilter,!BoldBIDashboard.isNullOrUndefined(i.DateFilterList)&&i.DateFilterList.length>0&&(t+=JSON.stringify(i.DateFilterList)),!BoldBIDashboard.isNullOrUndefined(i.DisplayDateFilterList)&&i.DisplayDateFilterList.length>0&&(t+=JSON.stringify(i.DisplayDateFilterList))),BoldBIDashboard.isNullOrUndefined(n.InitialDimensionFilter)||(u=n.InitialDimensionFilter,!BoldBIDashboard.isNullOrUndefined(u.Text)&&u.Text.length>0&&(t+=JSON.stringify(u.Text))),BoldBIDashboard.isNullOrUndefined(n.InitialMeasureFilter)||(f=n.InitialMeasureFilter,!BoldBIDashboard.isNullOrUndefined(f.Values)&&f.Values.length>0&&(t+=JSON.stringify(f.Values))),n.IsPoPWidget&&!BoldBIDashboard.isNullOrUndefined(n.PoPFilter)&&(r=n.PoPFilter,t+=JSON.stringify(r.PrimaryType),t+=JSON.stringify(r.PrimaryCustomRange),t+=JSON.stringify(r.SecondaryType),t+=JSON.stringify(r.SecondaryCustomRange)),t},n.prototype.getLabelParameterCollectionKey=function(n){var r="",t={},i;if(!BoldBIDashboard.isNullOrUndefined(n.DimensionFieldInfo)&&n.DimensionFieldInfo.length>0?t=n.DimensionFieldInfo[0]:!BoldBIDashboard.isNullOrUndefined(n.MeasureFieldInfo)&&n.MeasureFieldInfo.length>0&&(t=n.MeasureFieldInfo[0]),r+=t.DataSetID,!BoldBIDashboard.isNullOrUndefined(t.FieldInfo)&&t.FieldInfo.length>0)for(i=0;i<t.FieldInfo.length;i++)r+=t.FieldInfo[i].Id+t.FieldInfo[i].Name+t.FieldInfo[i].UniqueColumnName;return r},n.prototype.clearAllFromCache=function(){this.cacheList=[];this.jsonRequest=[];this.jsonResponse=null;this.widgetDetailList=[];this.initialDataCached=!1},n.prototype.checkCache=function(n){var t;return!BoldBIDashboard.isNullOrUndefined(n.labelParameterCollection)&&n.labelParameterCollection.length>0&&this.dashboardDesigner.model.clientSideCacheSettings.enable?BoldBIDashboard.isNullOrUndefined(this.cacheList[this.getCacheKeyForRequest(n)])?!1:(t=new Date,(t-this.cacheList[this.getCacheKeyForRequest(n)].Time)/6e4<this.cacheTimer?!0:!1):!BoldBIDashboard.isNullOrUndefined(JSON.stringify(n))&&this.dashboardDesigner.model.clientSideCacheSettings.enable&&(n=this.checkFilteredListRequest(n),!BoldBIDashboard.isNullOrUndefined(this.cacheList[this.getCacheKeyForRequest(n)]))?(t=new Date,(t-this.cacheList[this.getCacheKeyForRequest(n)].Time)/6e4<this.cacheTimer?!0:(this.updateRequestList(n),!1)):(this.updateRequestList(n),!1)},n.prototype.checkFilteredListRequest=function(n){var t,i,u,r;if(!BoldBIDashboard.isNullOrUndefined(n.selectedValuesList)&&n.selectedValuesList.length>1){for(t=0;t<this.widgetDetailList.length;t++)if(this.widgetDetailList[t].selectedValuesList.length===n.selectedValuesList.length&&this.widgetDetailList[t].widgetName===n.widgetDetails[0].widgetInfo.Id){for(i=0;i<n.selectedValuesList.length;i++){for(u=!1,r=0;r<this.widgetDetailList[t].selectedValuesList.length;r++)JSON.stringify(n.selectedValuesList[i])===JSON.stringify(this.widgetDetailList[t].selectedValuesList[r])&&(u=!0);if(!u)return n}return n.selectedValuesList=this.widgetDetailList[t].selectedValuesList,n}return n}return n},n.prototype.updateRequestList=function(n){if(this.jsonRequest.length>0){for(var t=0;t<this.jsonRequest.length;t++)if(this.jsonRequest[t].widgetDetails[0].widgetInfo.Id===n.widgetDetails[0].widgetInfo.Id){this.jsonRequest[t].selectedValuesList=n.selectedValuesList;break}else if(t===this.jsonRequest.length-1){this.jsonRequest.push(n);break}}else this.jsonRequest.push(n)},n.prototype.initialisingFilterList=function(n,t){var u,f,r,i,e;if(n.length>0&&(u=this.dashboardDesigner.modules.masterSlaveFilter,f=BoldBIDashboard.Dashboard.WidgetHelper.getWidgetInstance(u.GetWidgetElementByReportName(t[0].widgetInfo.Id)),this.dashboardDesigner.designerPanel.isDataConfigured(f))){for(r=[],i=0;i<n.length;i++)e=this.getSlaveListForTheMasterWidget(n[i].ReportName),e.indexOf(t[0].widgetInfo.Id)!==-1&&r.push(n[i]);return r}return n},n.prototype.getSlaveListForTheMasterWidget=function(n){var e=[],o=this.dashboardDesigner.modules.masterSlaveFilter,t=o.filterObject.FilterConfigurationModel.MastersCollection,i,u,f,r;if(!BoldBIDashboard.isNullOrUndefined(t)&&t.length>0)for(i=0;i<t.length;i++)if(t[i].MasterInfo.ID===n){for(u=0;u<t[i].ProfileManager.length;u++)for(f=t[i].ProfileManager[u].WidgetInfo,r=0;r<f.length;r++)e.indexOf(f[r].ID)===-1&&e.push(f[r].ID);break}return e},n.prototype.processResponse=function(n,t,i,r,u,f,e){this.dashboardDesigner.model.clientSideCacheSettings.enable&&u===BoldBIDashboard.Designer.mode.view&&r.action===BoldBIDashboard.DashboardUtil.DesignerAction.fetchWidgetData&&(this.dashboardDesigner.cacheManager.isRefresh||(this.jsonResponse={"function":n.fnction,jsonData:t,data:i},BoldBIDashboard.isNullOrUndefined(this.jsonRequest)||BoldBIDashboard.isNullOrUndefined(this.jsonResponse)||this.addtoCache(this.jsonRequest,this.jsonResponse,!0,e)),this.dashboardDesigner.cacheManager.isRefresh=!1)},n.prototype.getFromCache=function(n){return this.cacheList[this.getCacheKeyForRequest(n)]},n}();window.BoldBIDashboard.createObject("BoldBIDashboard.DashboardDesignerUtility.CacheManager",InternalCacheManager,window),function(n){var t;(function(n){var t=function(){function n(){this.FieldContainers=[];this.DataSourceID="";this.DataSourceName="";this.Filters=[];this.SortExpressions=[];this.IsShowAllRecords=!0}return n}();n.DataGroupInfo=t})(t=n.Dashboard||(n.Dashboard={}))}(BoldBIDashboard||(BoldBIDashboard={}));__extends=this&&this.__extends||function(){var n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,t){n.__proto__=t}||function(n,t){for(var i in t)t.hasOwnProperty(i)&&(n[i]=t[i])};return function(t,i){function r(){this.constructor=t}n(t,i);t.prototype=i===null?Object.create(i):(r.prototype=i.prototype,new r)}}(),function(n){var t;(function(n){var f=function(){function n(){this.FunctionUI=new t;this.Datasource=[]}return n}(),t,r,i,u,e,o,s;n.ExpressionDialogModel=f;t=function(){function n(){}return n}();n.ExpUIModel=t;r=function(){function n(){}return n}();n.ExpDatasource=r;i=function(){function n(){}return n}();n.ExpressionDataStruct=i;u=function(n){function t(){return n!==null&&n.apply(this,arguments)||this}return __extends(t,n),t}(i);n.ExpColumnDataStruct=u,function(n){n[n.Enable=0]="Enable";n[n.Disable=1]="Disable";n[n.Hidden=2]="Hidden"}(e=n.State||(n.State={})),function(n){n.All="All";n.Numbers="Numbers";n.Aggregation="Aggregation";n.Conditional="Conditional";n.Logical="Logical";n.Date="Date";n.String="String";n.Row="Row"}(o=n.FunctionName||(n.FunctionName={})),function(n){n.All="All";n.Number="Number";n.Text="Text";n.Date="Date";n.Boolean="Boolean";n.Parameter="Parameters";n.Miscellaneous="Miscellaneous"}(s=n.FieldName||(n.FieldName={}))})(t=n.Dashboard||(n.Dashboard={}))}(BoldBIDashboard||(BoldBIDashboard={})),function(n){var t;(function(t){var i=function(){function i(){this.key="Designer";this.locale=window[this.key].App.LocalizationContent}return i.prototype.getNumberDataJson=function(){return this.jsonData=[{ID:"ABS",Name:"ABS",CategoryName:"Numbers",Description:this.locale.expressionDesigner.expressionHelper.absDesc,Example:this.locale.expressionDesigner.expressionHelper.absEx,State:2},{ID:"ACOS",Name:"ACOS",CategoryName:"Numbers",Description:this.locale.expressionDesigner.expressionHelper.acosDesc,Example:this.locale.expressionDesigner.expressionHelper.acosEx,State:0},{ID:"ASIN",Name:"ASIN",CategoryName:"Numbers",Description:this.locale.expressionDesigner.expressionHelper.asinDesc,Example:this.locale.expressionDesigner.expressionHelper.asinEx,State:0},{ID:"ATAN",Name:"ATAN",CategoryName:"Numbers",Description:this.locale.expressionDesigner.expressionHelper.atanDesc,Example:this.locale.expressionDesigner.expressionHelper.atanEx,State:0},{ID:"COS",Name:"COS",CategoryName:"Numbers",Description:this.locale.expressionDesigner.expressionHelper.cosDesc,Example:this.locale.expressionDesigner.expressionHelper.cosEx,State:0},{ID:"COT",Name:"COT",CategoryName:"Numbers",Description:"Returns the cotangent of the angle specified in radians of the given expression.",Example:"COT(numeric_expression)",State:0},{ID:"CEIL",Name:"CEIL",CategoryName:"Numbers",Description:"Returns the smallest integer value that is greater than or equal to the given numeric expression",Example:"CEIL(numeric_expression)",State:0},{ID:"DEGREES",Name:"DEGREES",CategoryName:"Numbers",Description:this.locale.expressionDesigner.expressionHelper.degDesc,Example:this.locale.expressionDesigner.expressionHelper.degEx,State:0},{ID:"EXP",Name:"EXP",CategoryName:"Numbers",Description:this.locale.expressionDesigner.expressionHelper.expDesc,Example:this.locale.expressionDesigner.expressionHelper.expEx,State:0},{ID:"FLOOR",Name:"FLOOR",CategoryName:"Numbers",Description:"Returns the largest integer value that is less than or equal to the given numeric expression.",Example:"FLOOR(numeric_expression)",State:0},{ID:"LOG",Name:"LOG",CategoryName:"Numbers",Description:this.locale.expressionDesigner.expressionHelper.logDesc,Example:this.locale.expressionDesigner.expressionHelper.logEx,State:0},{ID:"MOD",Name:"MOD",CategoryName:"Numbers",Description:"Returns the remainder of the first numeric expression divided by second numeric expression.",Example:"MOD(numeric_expression, numeric_expression)",State:0},{ID:"PI",Name:"PI",CategoryName:"Numbers",Description:this.locale.expressionDesigner.expressionHelper.piDesc,Example:this.locale.expressionDesigner.expressionHelper.piEx,State:0},{ID:"POWER",Name:"POWER",CategoryName:"Numbers",Description:this.locale.expressionDesigner.expressionHelper.powerDesc,Example:this.locale.expressionDesigner.expressionHelper.powerEx,State:0},{ID:"RADIANS",Name:"RADIANS",CategoryName:"Numbers",Description:this.locale.expressionDesigner.expressionHelper.radDesc,Example:this.locale.expressionDesigner.expressionHelper.radEx,State:0},{ID:"ROUND",Name:"ROUND",CategoryName:"Numbers",Description:this.locale.expressionDesigner.expressionHelper.roundDesc,Example:this.locale.expressionDesigner.expressionHelper.roundEx,State:0},{ID:"SIGN",Name:"SIGN",CategoryName:"Numbers",Description:this.locale.expressionDesigner.expressionHelper.signDesc,Example:this.locale.expressionDesigner.expressionHelper.signEx,State:0},{ID:"SIN",Name:"SIN",CategoryName:"Numbers",Description:this.locale.expressionDesigner.expressionHelper.sinDesc,Example:this.locale.expressionDesigner.expressionHelper.sinEx,State:0},{ID:"SQRT",Name:"SQRT",CategoryName:"Numbers",Description:this.locale.expressionDesigner.expressionHelper.sqrtDesc,Example:this.locale.expressionDesigner.expressionHelper.sqrtEx,State:0},{ID:"TOTALPERCENTAGE",Name:"TOTALPERCENTAGE",CategoryName:"Numbers",Description:this.locale.expressionDesigner.expressionHelper.percentageDesc,Example:this.locale.expressionDesigner.expressionHelper.percentageEx,State:0},{ID:"TAN",Name:"TAN",CategoryName:"Numbers",Description:this.locale.expressionDesigner.expressionHelper.tanDesc,Example:this.locale.expressionDesigner.expressionHelper.tanEx,State:0}]},i.prototype.getConditonalDataJson=function(){return this.jsonData=[{ID:"COALESCE",Name:"COALESCE",CategoryName:"Conditional",Description:"Returns the first non-NULL expression among its arguments, or NULL if all its arguments are NULL",Example:"COALESCE(exp1,exp2,...exp(n))",State:0},{ID:"IF",Name:"IF",CategoryName:"Conditional",Description:this.locale.expressionDesigner.expressionHelper.ifDesc,Example:this.locale.expressionDesigner.expressionHelper.ifEx,State:0},{ID:"IFNULL",Name:"IFNULL",CategoryName:"Conditional",Description:this.locale.expressionDesigner.expressionHelper.ifNullDesc,Example:this.locale.expressionDesigner.expressionHelper.ifNullEx,State:0},{ID:"ISNOTNULL",Name:"ISNOTNULL",CategoryName:"Conditional",Description:this.locale.expressionDesigner.expressionHelper.isNotNullDesc,Example:this.locale.expressionDesigner.expressionHelper.isNotNullEx,State:0},{ID:"ISNULL",Name:"ISNULL",CategoryName:"Conditional",Description:this.locale.expressionDesigner.expressionHelper.isNullDesc,Example:this.locale.expressionDesigner.expressionHelper.isNullEx,State:0}]},i.prototype.getLogicalDataJson=function(){return this.jsonData=[{ID:"AND",Name:"AND",CategoryName:"Logical",Description:this.locale.expressionDesigner.expressionHelper.andDesc,Example:this.locale.expressionDesigner.expressionHelper.andEx,State:0},{ID:"NOT",Name:"NOT",CategoryName:"Logical",Description:this.locale.expressionDesigner.expressionHelper.notDesc,Example:this.locale.expressionDesigner.expressionHelper.notEx,State:0},{ID:"OR",Name:"OR",CategoryName:"Logical",Description:this.locale.expressionDesigner.expressionHelper.orDesc,Example:this.locale.expressionDesigner.expressionHelper.orEx,State:0}]},i.prototype.getDateDataJson=function(){return this.jsonData=[{ID:"CURRENTYEAR",Name:"CURRENTYEAR",CategoryName:"Date",Description:"Returns the current year.",Example:"CURRENTYEAR()",State:0},{ID:"CURRENTMONTH",Name:"CURRENTMONTH",CategoryName:"Date",Description:"Returns the current month.",Example:"CURRENTMONTH()",State:0},{ID:"DATEADD",Name:"DATEADD",CategoryName:"Date",Description:this.locale.expressionDesigner.expressionHelper.dateAddDesc,Example:this.locale.expressionDesigner.expressionHelper.dateAddEx,State:0},{ID:"DATEDIFF",Name:"DATEDIFF",CategoryName:"Date",Description:this.locale.expressionDesigner.expressionHelper.dateDiffDesc,Example:this.locale.expressionDesigner.expressionHelper.dateDiffEx,State:0},{ID:"DATENAME",Name:"DATENAME",CategoryName:"Date",Description:this.locale.expressionDesigner.expressionHelper.dateNameDesc,Example:this.locale.expressionDesigner.expressionHelper.dateNameEx,State:0},{ID:"DATEPART",Name:"DATEPART",CategoryName:"Date",Description:this.locale.expressionDesigner.expressionHelper.datePartDesc,Example:this.locale.expressionDesigner.expressionHelper.datePartEx,State:0},{ID:"DATESUB",Name:"DATESUB",CategoryName:"Date",Description:this.locale.expressionDesigner.expressionHelper.dateSubDesc,Example:this.locale.expressionDesigner.expressionHelper.dateSubEx,State:0},{ID:"DAY",Name:"DAY",CategoryName:"Date",Description:this.locale.expressionDesigner.expressionHelper.dayDesc,Example:this.locale.expressionDesigner.expressionHelper.dayEx,State:0},{ID:"DAYDIFF",Name:"DAYDIFF",CategoryName:"Date",Description:this.locale.expressionDesigner.expressionHelper.dayDiffDesc,Example:this.locale.expressionDesigner.expressionHelper.dayDiffEx,State:0},{ID:"HOUR",Name:"HOUR",CategoryName:"Date",Description:this.locale.expressionDesigner.expressionHelper.hourDesc,Example:this.locale.expressionDesigner.expressionHelper.hourEx,State:0},{ID:"MAX",Name:"MAX",CategoryName:"Date",Description:this.locale.expressionDesigner.expressionHelper.maxDesc,Example:this.locale.expressionDesigner.expressionHelper.maxEx,State:0},{ID:"MIN",Name:"MIN",CategoryName:"Date",Description:this.locale.expressionDesigner.expressionHelper.minDesc,Example:this.locale.expressionDesigner.expressionHelper.minEx,State:0},{ID:"MINUTE",Name:"MINUTE",CategoryName:"Date",Description:this.locale.expressionDesigner.expressionHelper.minutesDesc,Example:this.locale.expressionDesigner.expressionHelper.minutesEx,State:0},{ID:"MONTH",Name:"MONTH",CategoryName:"Date",Description:this.locale.expressionDesigner.expressionHelper.monthDesc,Example:this.locale.expressionDesigner.expressionHelper.monthEx,State:0},{ID:"NOW",Name:"NOW",CategoryName:"Date",Description:this.locale.expressionDesigner.expressionHelper.nowDesc,Example:this.locale.expressionDesigner.expressionHelper.nowEx,State:0},{ID:"PREVIOUSMONTH",Name:"PREVIOUSMONTH",CategoryName:"Date",Description:"Returns the previous month.",Example:"PREVIOUSMONTH()",State:0},{ID:"PREVIOUSYEAR",Name:"PREVIOUSYEAR",CategoryName:"Date",Description:"Returns the previous year.",Example:"PREVIOUSYEAR()",State:0},{ID:"TODAY",Name:"TODAY",CategoryName:"Date",Description:this.locale.expressionDesigner.expressionHelper.todayDesc,Example:this.locale.expressionDesigner.expressionHelper.todayEx,State:0},{ID:"YEAR",Name:"YEAR",CategoryName:"Date",Description:this.locale.expressionDesigner.expressionHelper.yearDesc,Example:this.locale.expressionDesigner.expressionHelper.yearEx,State:0},{ID:"YESTERDAY",Name:"YESTERDAY",CategoryName:"YESTERDAY",Description:"Returns the yesterday date.",Example:"YESTERDAY()",State:0}]},i.prototype.getStringDataJson=function(){return this.jsonData=[{ID:"CHAR",Name:"CHAR",CategoryName:"String",Description:this.locale.expressionDesigner.expressionHelper.charDesc,Example:this.locale.expressionDesigner.expressionHelper.charEx,State:0},{ID:"CONCAT",Name:"CONCAT",CategoryName:"String",Description:this.locale.expressionDesigner.expressionHelper.concatDesc,Example:this.locale.expressionDesigner.expressionHelper.concatEx,State:0},{ID:"CONTAINS",Name:"CONTAINS",CategoryName:"String",Description:this.locale.expressionDesigner.expressionHelper.containsDesc,Example:this.locale.expressionDesigner.expressionHelper.containsEx,State:0},{ID:"ENDSWITH",Name:"ENDSWITH",CategoryName:"String",Description:this.locale.expressionDesigner.expressionHelper.endsWithDesc,Example:this.locale.expressionDesigner.expressionHelper.endsWithEx,State:0},{ID:"LEFT",Name:"LEFT",CategoryName:"String",Description:this.locale.expressionDesigner.expressionHelper.leftDesc,Example:this.locale.expressionDesigner.expressionHelper.leftEx,State:0},{ID:"LEN",Name:"LEN",CategoryName:"String",Description:this.locale.expressionDesigner.expressionHelper.lenDesc,Example:this.locale.expressionDesigner.expressionHelper.lenEx,State:0},{ID:"LOWER",Name:"LOWER",CategoryName:"String",Description:this.locale.expressionDesigner.expressionHelper.lowerDesc,Example:this.locale.expressionDesigner.expressionHelper.lowerEx,State:0},{ID:"LTRIM",Name:"LTRIM",CategoryName:"String",Description:this.locale.expressionDesigner.expressionHelper.ltrimDesc,Example:this.locale.expressionDesigner.expressionHelper.ltrimEx,State:0},{ID:"MAX",Name:"MAX",CategoryName:"String",Description:this.locale.expressionDesigner.expressionHelper.maxStrDesc,Example:this.locale.expressionDesigner.expressionHelper.maxStrEx,State:0},{ID:"MIN",Name:"MIN",CategoryName:"String",Description:this.locale.expressionDesigner.expressionHelper.minStrDesc,Example:this.locale.expressionDesigner.expressionHelper.minStrEx,State:0},{ID:"REPLACE",Name:"REPLACE",CategoryName:"String",Description:"Replaces all occurrences of the substring within the given string expression, with the new_substring.",Example:" REPLACE(string_expression, substring, new_substring)",State:0},{ID:"RIGHT",Name:"RIGHT",CategoryName:"String",Description:this.locale.expressionDesigner.expressionHelper.rightDesc,Example:this.locale.expressionDesigner.expressionHelper.rightEx,State:0},{ID:"RTRIM",Name:"RTRIM",CategoryName:"String",Description:this.locale.expressionDesigner.expressionHelper.rtrimDesc,Example:this.locale.expressionDesigner.expressionHelper.rtrimEx,State:0},{ID:"STARTSWITH",Name:"STARTSWITH",CategoryName:"String",Description:this.locale.expressionDesigner.expressionHelper.startsWithDesc,Example:this.locale.expressionDesigner.expressionHelper.startsWithEx,State:0},{ID:"SUBSTR",Name:"SUBSTR",CategoryName:"String",Description:this.locale.expressionDesigner.expressionHelper.substrDesc,Example:this.locale.expressionDesigner.expressionHelper.substrEx,State:0},{ID:"TRIM",Name:"TRIM",CategoryName:"String",Description:"Removes the leading and trailing spaces from the given string expression.",Example:"TRIM(string_expression)",State:0},{ID:"UPPER",Name:"UPPER",CategoryName:"String",Description:this.locale.expressionDesigner.expressionHelper.upperDesc,Example:this.locale.expressionDesigner.expressionHelper.upperEx,State:0}]},i.prototype.getAggDataJson=function(){return this.jsonData=[{ID:"AVG",Name:"AVG",CategoryName:"Aggregation",Description:this.locale.expressionDesigner.expressionHelper.avgDesc,Example:this.locale.expressionDesigner.expressionHelper.avgEx,State:0},{ID:"AVGD",Name:"AVGD",CategoryName:"Aggregation",Description:this.locale.expressionDesigner.expressionHelper.avgdDesc,Example:this.locale.expressionDesigner.expressionHelper.avgdEx,State:0},{ID:"COUNT",Name:"COUNT",CategoryName:"Aggregation",Description:this.locale.expressionDesigner.expressionHelper.countDesc,Example:this.locale.expressionDesigner.expressionHelper.countEx,State:0},{ID:"COUNTD",Name:"COUNTD",CategoryName:"Aggregation",Description:this.locale.expressionDesigner.expressionHelper.countdDesc,Example:this.locale.expressionDesigner.expressionHelper.countdEx,State:0},{ID:"MAX",Name:"MAX",CategoryName:"Aggregation",Description:this.locale.expressionDesigner.expressionHelper.maxAggDesc,Example:this.locale.expressionDesigner.expressionHelper.maxAggEx,State:0},{ID:"MIN",Name:"MIN",CategoryName:"Aggregation",Description:this.locale.expressionDesigner.expressionHelper.minAggDesc,Example:this.locale.expressionDesigner.expressionHelper.minAggEx,State:0},{ID:"STDEV",Name:"STDEV",CategoryName:"Aggregation",Description:this.locale.expressionDesigner.expressionHelper.stdDevDesc,Example:this.locale.expressionDesigner.expressionHelper.stdDevEx,State:0},{ID:"SUM",Name:"SUM",CategoryName:"Aggregation",Description:this.locale.expressionDesigner.expressionHelper.sumDesc,Example:this.locale.expressionDesigner.expressionHelper.sumEx,State:0},{ID:"SUMD",Name:"SUMD",CategoryName:"Aggregation",Description:this.locale.expressionDesigner.expressionHelper.sumdDesc,Example:this.locale.expressionDesigner.expressionHelper.sumdEx,State:0},{ID:"VAR",Name:"VAR",CategoryName:"Aggregation",Description:this.locale.expressionDesigner.expressionHelper.varDesc,Example:this.locale.expressionDesigner.expressionHelper.varEx,State:0},{ID:"TOTAL",Name:"TOTAL",CategoryName:"Aggregation",Description:this.locale.expressionDesigner.expressionHelper.totalDesc,Example:this.locale.expressionDesigner.expressionHelper.totalEx,State:0}]},i.prototype.getRowDataJson=function(){return this.jsonData=[{ID:"RUNNINGCOUNT",Name:"RUNNINGCOUNT",CategoryName:"Row",Description:this.locale.expressionDesigner.expressionHelper.runningCountDesc,Example:this.locale.expressionDesigner.expressionHelper.runningCountEx,State:0},{ID:"RUNNIGAVG",Name:"RUNNINGAVG",CategoryName:"Row",Description:this.locale.expressionDesigner.expressionHelper.runningAvgDesc,Example:this.locale.expressionDesigner.expressionHelper.runningAvgEx,State:0},{ID:"RUNNINGMAX",Name:"RUNNINGMAX",CategoryName:"Row",Description:this.locale.expressionDesigner.expressionHelper.runningMaxDesc,Example:this.locale.expressionDesigner.expressionHelper.runningMaxEx,State:0},{ID:"RUNNINGMIN",Name:"RUNNINGMIN",CategoryName:"Row",Description:this.locale.expressionDesigner.expressionHelper.runningMinDesc,Example:this.locale.expressionDesigner.expressionHelper.runningMinEx,State:0},{ID:"RUNNINGSUM",Name:"RUNNINGSUM",CategoryName:"Row",Description:this.locale.expressionDesigner.expressionHelper.runningSumDesc,Example:this.locale.expressionDesigner.expressionHelper.runningSumEx,State:0}]},i.prototype.getMultipleData=function(i){var r=[];if(n.isNullOrUndefined(i)){var u=this.getNumberDataJson(),f=this.getAggDataJson(),e=this.getConditonalDataJson(),o=this.getLogicalDataJson(),s=this.getDateDataJson(),h=this.getStringDataJson(),c=this.getRowDataJson();r=[{ID:1,Name:t.FunctionName.Numbers,Value:u},{ID:2,Name:t.FunctionName.Aggregation,Value:f},{ID:3,Name:t.FunctionName.Conditional,Value:e},{ID:4,Name:t.FunctionName.Logical,Value:o},{ID:5,Name:t.FunctionName.Date,Value:s},{ID:6,Name:t.FunctionName.String,Value:h},{ID:7,Name:t.FunctionName.Row,Value:c}]}return r},i.prototype.getMultipleColumnData=function(i,r){var s,u,e,f,o;if(n.isNullOrUndefined(r)){var h=[],c=[],l=[],a=[],y=[],v=[];for(u=0;u<i.length;u++)e=i[u].IsDynamicParam,i[u].DataType||i[u].TypeName!=="UnSupport"?i[u].IsExpression||(f=i[u].DataType||i[u].TypeName,f!=="geography"&&f!=="hierarchyid"&&f!=="xml"&&(o=!n.isNullOrUndefined(i[u].Value)&&i[u].Value!==""?i[u].Value:i[u].Name,f.toLowerCase()==="integer"||f.toLowerCase()==="real"?h.push({ID:u,Name:i[u].Name,Value:o,DataType:f,HasDynamicParams:e}):f.toLowerCase()==="string"?c.push({ID:u,Name:i[u].Name,Value:o,DataType:f,HasDynamicParams:e}):f.toLowerCase()==="date"?l.push({ID:u,Name:i[u].Name,Value:o,DataType:f,HasDynamicParams:e}):f.toLowerCase()==="boolean"&&a.push({ID:u,Name:i[u].Name,Value:o,DataType:f,HasDynamicParams:e}),!n.isNullOrUndefined(e)&&e&&v.push({ID:u,Name:i[u].Name,Value:o,DataType:f,HasDynamicParams:e}))):y.push({ID:u,Name:i[u].Name,Value:i[u].Name,DataType:i[u].DataType||i[u].TypeName,HasDynamicParams:e});s=[{ID:1,Name:t.FieldName.Number,Value:h},{ID:2,Name:t.FieldName.Text,Value:c},{ID:3,Name:t.FieldName.Date,Value:l},{ID:4,Name:t.FieldName.Boolean,Value:a},{ID:5,Name:t.FieldName.Parameter,Value:v},{ID:6,Name:t.FieldName.Miscellaneous,Value:[]}]}return s},i.prototype.getDaMultipleColumnData=function(i,r){var s,u,f,e;if(n.isNullOrUndefined(r)){var h=[],c=[],l=[],a=[],o=!1;for(u=0;u<i.length;u++)f=i[u].Type,e=i[u].Caption,f==="NUMERIC"?h.push({ID:u,Name:i[u].Caption,Value:e,DataType:i[u].Type,HasDynamicParams:o}):f==="STRING"?c.push({ID:u,Name:i[u].Caption,Value:e,DataType:i[u].DataType,HasDynamicParams:o}):f==="DATETIME"?l.push({ID:u,Name:i[u].Caption,Value:e,DataType:i[u].DataType,HasDynamicParams:o}):f==="BOOLEAN"&&a.push({ID:u,Name:i[u].Caption,Value:e,DataType:i[u].DataType,HasDynamicParams:o});s=[{ID:1,Name:t.FieldName.Number,Value:h},{ID:2,Name:t.FieldName.Text,Value:c},{ID:3,Name:t.FieldName.Date,Value:l},{ID:4,Name:t.FieldName.Boolean,Value:a},{ID:5,Name:t.FieldName.Miscellaneous,Value:[]}]}return s},i}();t.ExpressionHelper=i})(t=n.Dashboard||(n.Dashboard={}))}(BoldBIDashboard||(BoldBIDashboard={}));InternalQueryExpression=function(){function n(n){this.id=null;this.oldVal="";this.oldExpName="";this.isAddButtonEnabled=!1;this.queryExp=[];this.expressionLength=0;this.tempExp=[];this.provider="";this.isVirtualScrollEnabled=!1;this.listContainer=null;this.expLiTag=null;this.bodyContainer=null;this.textBox=null;this.textArea=null;this.expressionContainer=null;this.addBtnTag=null;this.saveBtnTag=null;this.footerTag=null;this.expWaterMark="";this.successMessageLocale="";this.nameWaterMark="Expression Name";this.isAdd=!1;this.ejFunctionDropdown=null;this.ejColumnDropdown=null;this.ejFunctionList=null;this.ejColumnList=null;this.ejExpDialog=null;this.ejIndicator=null;this.locale=null;this.isFromQueryDesigner=!1;this.aggregationList=["SUM","COUNT","AVG","MAX","MIN","VAR","STDEV","SUMD","AVGD","COUNTD","INDEX","TOTAL","RUNNINGAVG","RUNNINGCOUNT","RUNNINGSUM","RUNNINGMAX","RUNNINGMIN","NULL"];this.rowExpression=["RUNNINGAVG","RUNNINGCOUNT","RUNNINGSUM","RUNNINGMAX","RUNNINGMIN"];this.dashboardDesigner=n;this.bbdesigner$=this.dashboardDesigner.bbdesigner$;this.locale=n.getLocalizationContent();this.queryDesigner=this.dashboardDesigner.modules.queryDesigner;this.id=this.dashboardDesigner._id;this.widgetHelper=this.dashboardDesigner.modules.widgetHelper;this.provider="SQL";this.expWaterMark=this.locale.queryExpressionDialog.QueryExpression;this.successMessageLocale=this.locale.queryExpressionDialog.successMessageNotification;this.renderQueryExpression()}return n.prototype.renderQueryExpression=function(){var u=this,f=BoldBIDashboard.buildTag("div.bbi-userselect","",{},{id:this.id+"_exp_designer"}),t=BoldBIDashboard.buildTag("div","",{},{id:this.id+"_exp_designer_div"}),n,e;f.append(t);var b=BoldBIDashboard.buildTag("table.bbi-querydesigner-exp-table","",{},{unselectable:"on"}),k=BoldBIDashboard.buildTag("tr","",{}),d=BoldBIDashboard.buildTag("td.bbi-querydesigner-exp-separator bbi-querydesigner-exp-td","",{"font-size":"13px"},{}),g=BoldBIDashboard.buildTag("td","",{"margin-left":"12px"},{});t.append(b);b.append(k);k.append(d).append(g);n=BoldBIDashboard.buildTag("div","",{width:"175px",height:"460px"});e=this.expressionContainer=BoldBIDashboard.buildTag("div","",{"margin-left":"10px"},{id:this.id+"_exp_designer_container_exp"});d.append(n);g.append(e);var o=BoldBIDashboard.buildTag("table.bbi-querydesigner-exp-table","",{width:"623px"},{unselectable:"on"}),nt=BoldBIDashboard.buildTag("tr","",{width:"590px"}),tt=BoldBIDashboard.buildTag("td","",{}),oi=BoldBIDashboard.buildTag("label.bbi-designer-title-label",this.locale.expressionDesigner.nameText,{},{id:this.id+"_exp_designer_exp_name"}),it=BoldBIDashboard.buildTag("tr","",{width:"590px"}),rt=BoldBIDashboard.buildTag("td","",{}),s=this.textBox=BoldBIDashboard.buildTag("input.e-textbox bbi-designer-textbox","",{height:"20px",width:"240px","margin-top":"2px","margin-bottom":"5px"},{type:"text",id:this.id+"_exp_designer_textBox",spellcheck:"false"});tt.append(oi);nt.append(tt);rt.append(s);it.append(rt);var ut=BoldBIDashboard.buildTag("tr","",{height:"100px",width:"590px"}),ft=BoldBIDashboard.buildTag("tr","",{width:"590px"}),et=BoldBIDashboard.buildTag("td","",{}),si=BoldBIDashboard.buildTag("label.bbi-designer-title-label",this.locale.expressionDesigner.expressionText,{},{id:this.id+"_exp_designer_trgt_name"});et.append(si);ft.append(et);var ot=BoldBIDashboard.buildTag("td","",{"font-size":"13px"},{}),h=this.textArea=BoldBIDashboard.buildTag("textarea.e-textarea bbi-designer-textarea","",{height:"90px",width:"593px","margin-top":"6px",overflow:"auto"},{id:this.id+"_exp_designer_textarea",spellcheck:"false"}),st=BoldBIDashboard.buildTag("tr","",{height:"255px",width:"590px"}),ht=BoldBIDashboard.buildTag("td","",{}),ct=BoldBIDashboard.buildTag("table.bbi-querydesigner-exp-innertable","",{height:"250px",width:"590px","margin-top":"6px","margin-bottom":"2px"}),lt=BoldBIDashboard.buildTag("tr","",{height:"35px",width:"590px"}),at=BoldBIDashboard.buildTag("td","",{}),hi=BoldBIDashboard.buildTag("span.bbi-designer-title-label",this.locale.expressionDesigner.functionsText,{},{}),vt=BoldBIDashboard.buildTag("div","",{"margin-top":"6px",width:"210px"},{}),c=BoldBIDashboard.buildTag("input","",{"margin-top":"5px"},{id:this.id+"_exp_designer_options"}),ci=BoldBIDashboard.buildTag("div","",{},{id:this.id+"_exp_designer_option_div"}),yt=BoldBIDashboard.buildTag("td","",{}),li=BoldBIDashboard.buildTag("div","",{height:"25px",margin:"25px 10px 0px -3px","border-left":"1px solid rgba(227, 227, 227, 1)"},{});yt.append(li);var pt=BoldBIDashboard.buildTag("td","",{}),ai=BoldBIDashboard.buildTag("span.bbi-designer-title-label",this.locale.expressionDesigner.columnSettingsText,{"margin-left":"6px"},{}),wt=BoldBIDashboard.buildTag("div","",{"margin-top":"6px",width:"199px","margin-left":"6px"},{}),l=BoldBIDashboard.buildTag("input","",{height:"35px",width:"190px"},{id:this.id+"_exp_designer_data"}),vi=BoldBIDashboard.buildTag("div","",{},{id:this.id+"_exp_designer_data_div"}),yi=BoldBIDashboard.buildTag("td","",{height:"35px"}),bt=BoldBIDashboard.buildTag("tr","",{width:"590px"}),i=BoldBIDashboard.buildTag("td","",{width:"210px"},{}),kt=BoldBIDashboard.buildTag("td","",{}),pi=BoldBIDashboard.buildTag("div","",{height:"200px",margin:"-10px 10px 0px -3px","border-left":"1px solid rgba(227, 227, 227, 1)"},{});kt.append(pi);var r=BoldBIDashboard.buildTag("td","",{width:"205px"},{}),dt=BoldBIDashboard.buildTag("td","",{height:"190px"}),wi=this.functionNoDataContainer=BoldBIDashboard.buildTag("div.bbi-querydesigner-function-nodata bbi-designer-empty-msg","",{width:"188px",height:"135px"},{id:this.id+"_function_nodata_container"}).text(this.locale.queryExpressionDialog.NoResultFound),gt=BoldBIDashboard.buildTag("div.bbi-querydesigner-function-search","",{width:"188px"},{id:this.id+"_div_functions_search"}),ni=BoldBIDashboard.buildTag("div.e-option-list","",{width:"205px","margin-top":"1px"},{}),bi=this.columnNoDataContainer=BoldBIDashboard.buildTag("div.bbi-querydesigner-column-nodata bbi-designer-empty-msg","",{width:"188px",height:"135px"},{id:this.id+"_column_nodata_container"}).text(this.locale.queryExpressionDialog.NoResultFound),ti=BoldBIDashboard.buildTag("div.bbi-querydesigner-column-search","",{width:"188px"},{id:this.id+"_div_columnsettings_search"}),a=BoldBIDashboard.buildTag("ul","",{},{id:this.id+"_exp_designer_option_list"}),ii=BoldBIDashboard.buildTag("div.e-data-list","",{width:"199px","margin-left":"6px","margin-top":"1px"},{}),v=BoldBIDashboard.buildTag("ul","",{},{id:this.id+"_exp_designer_data_list"}),ri=BoldBIDashboard.buildTag("div.bbi-designer-cursor","",{height:"200px",width:"180px","margin-right":"10px"},{id:this.id+"_cat_desc"}),ki=BoldBIDashboard.buildTag("div","",{height:"5px"},{}),di=BoldBIDashboard.buildTag("div.bbi-designer-title-label","",{height:"auto"},{id:this.id+"_exp_designer_desc_heading"}),gi=BoldBIDashboard.buildTag("div","",{"text-align":"justify",height:"auto","font-size":"12px","margin-top":"8px"},{id:this.id+"_exp_designer_desc_content"}),nr=BoldBIDashboard.buildTag("div","",{height:"12px"},{}),tr=BoldBIDashboard.buildTag("div.bbi-designer-title-label","",{height:"auto"},{id:this.id+"_exp_designer_example_heading"}),ir=BoldBIDashboard.buildTag("div","",{float:"left","word-wrap":"break-word","margin-top":"8px",height:"auto","font-size":"12px",width:"190px"},{id:this.id+"_exp_designer_example_content"}),y=this.addBtnTag=BoldBIDashboard.buildTag("button.bbi-dbrd-btn-small bbi-dbrd-btn-primary",this.locale.expressionDesigner.addText,{float:"left"},{id:this.id+"_exp_designer_add_btn",type:"button"}),ui=BoldBIDashboard.buildTag("div.bbi-querydesigner-success-msg-wrap","",{display:"none"},{id:this.id+"_exp_success_message_wrap"}),rr=BoldBIDashboard.buildTag("span.bbi-querydesigner-success-message",this.successMessageLocale,{},{id:this.id+"_exp_success_message"}),ur=BoldBIDashboard.buildTag("span.bbi-querydesigner-success-message-icon","",{},{id:this.id+"_exp_success_message_icon"});this.saveBtnTag=BoldBIDashboard.buildTag("button.bbi-dbrd-btn-small bbi-dbrd-btn-primary",this.locale.expressionDesigner.saveBtnText,{float:"right"},{id:this.id+"_exp_designer_save_btn",type:"button"});var p=BoldBIDashboard.buildTag("button.bbi-dbrd-btn-small bbi-dbrd-btn-secondary bbi-dbrd-margin-left",this.locale.expressionDesigner.closeBtnText,{float:"right"},{id:this.id+"_exp_designer_close_btn",type:"button"}),w=this.bodyContainer=BoldBIDashboard.buildTag("div.e-lv e-js e-parentlv bbi-dbrd-designer-scroller bbi-dbrd-control bbi-dbrd-designer-scroll-style-3","",{width:"100%",height:n.height(),display:"block",position:"relative"},{id:this.id+"_exp_designer_bodyContainer"}),fi=BoldBIDashboard.buildTag("div","",{},{}),ei=this.listContainer=BoldBIDashboard.buildTag("div.bbi-list-container e-js e-widget bbi-designer-dataset","",{"border-top-width":"1px",padding:"3px"},{id:this.id+"_div_expList"}),fr=this.expLiTag=BoldBIDashboard.buildTag("ul.e-list-hdr e-clearall","",{width:"auto",height:"auto"},{id:this.id+"_query_exp_li_container"});ei.append(fr);fi.append(ei);w.append(fi);n.append(w);ot.append(h);ut.append(ot);o.append(nt).append(it).append(ft).append(ut);lt.append(yi).append(at).append(yt).append(pt);at.append(hi).append(vt);vt.append(c).append(ci);pt.append(ai).append(wt);wt.append(l).append(vi);ct.append(lt).append(bt);ht.append(ct);st.append(ht);o.append(st);i.append(gt);i.append(ni);i.append(wi);ni.append(a);r.append(ti);r.append(ii);r.append(bi);ii.append(v);dt.append(ri);ri.append(ki).append(di).append(gi).append(nr).append(tr).append(ir);bt.append(dt).append(i).append(kt).append(r);e.append(o);f.BoldBIDashboardDialog({width:"auto",height:"auto",minWidth:"310px",minHeight:"215px",title:this.locale.expressionDesigner.expressionTitleText,beforeClose:this.bbdesigner$.proxy(this.closeExpDialog,this),enableResize:!1,showOnInit:!1,showFooter:!0,containment:"#"+this.dashboardDesigner._id,target:"#"+this.dashboardDesigner._id,cssClass:"bbi-designer-dialog e-flat-mode boldbi-dashboarddesigner e-query-expression",enableModal:!0,close:this.bbdesigner$.proxy(BoldBIDashboard.DashboardUtil.closeDialog,this),closeIconTooltip:this.locale.dialogOptions.closeButtonText});this.footerTag=this.dashboardDesigner.element.find("#"+this.id+"_exp_designer_foot");ui.append(ur,rr);this.footerTag.append(y,p,this.saveBtnTag,ui);c.BoldBIDashboardDropDownList({targetID:this.id+"_exp_designer_option_div",dataSource:[],popupHeight:"150px",minPopupWidth:"190px",showRoundedCorner:!0,cssClass:"bbi-designer-param-assign bbi-designer-ejwidgets bbi-designer-drpdown-selection bbi-dbrd-control",width:"190px",height:"28px",change:this.bbdesigner$.proxy(this.renderFunctionList,this)});l.BoldBIDashboardDropDownList({targetID:this.id+"_exp_designer_data_div",popupHeight:"150px",showRoundedCorner:!0,cssClass:"bbi-designer-param-assign bbi-designer-ejwidgets bbi-designer-drpdown-selection bbi-dbrd-control",minPopupWidth:"190px",fields:{id:"id",text:"name"},dataSource:[],width:"190px",height:"28px",change:this.bbdesigner$.proxy(this.renderColumnList,this)});a.BoldBIDashboardListBox({dataSource:[],height:"155px",change:this.bbdesigner$.proxy(this.optionClick,this),showRoundedCorner:!0,cssClass:"bbi-designer-param-assign bbi-designer-list-selection bbi-dbrd-control",width:"190px"});v.BoldBIDashboardListBox({dataSource:[],height:"155px",showRoundedCorner:!0,itemRequest:this.bbdesigner$.proxy(function(n){u.ejColumnList.dummyUl.length===6&&n.model.allowVirtualScrolling&&(u.ejColumnList.dummyUl=u.ejColumnList.element.children())},this),cssClass:"bbi-designer-param-assign bbi-designer-list-selection bbi-dbrd-control",width:"190px"});y.off("click",this.bbdesigner$.proxy(this.addExpression,this));p.off("click",this.bbdesigner$.proxy(this.closeExpression,this));this.saveBtnTag.off("click",this.bbdesigner$.proxy(this.saveExpression,this));y.on("click",this.bbdesigner$.proxy(this.addExpression,this));p.on("click",this.bbdesigner$.proxy(this.closeExpression,this));this.saveBtnTag.on("click",this.bbdesigner$.proxy(this.saveExpression,this));w.BoldBIDashboardScroller({scrollerSize:this.dashboardDesigner.scrollerSize.scrollSize,height:n.height(),enableTouchScroll:!0,autoHide:!0,buttonSize:this.dashboardDesigner.scrollerSize.buttonSize});t.BoldBIDashboardWaitingPopup({showOnInit:!1,cssClass:"e-designer-waitingpopup "+this.id+"_designer_waiting_popup bbi-designer-loader"});this.ejFunctionDropdown=c.data("BoldBIDashboardDropDownList");this.ejColumnDropdown=l.data("BoldBIDashboardDropDownList");this.ejFunctionList=a.data("BoldBIDashboardListBox");this.ejColumnList=v.data("BoldBIDashboardListBox");this.ejExpDialog=f.data("BoldBIDashboardDialog");this.ejIndicator=t.data("BoldBIDashboardWaitingPopup");h.bind("change keyup paste",this.bbdesigner$.proxy(this.txtExpChanged,this));s.bind("change keyup paste",this.bbdesigner$.proxy(this.txtNameChanged,this));BoldBIDashboard.DashboardUtil.txtWaterMark(h,this.expWaterMark);BoldBIDashboard.DashboardUtil.txtWaterMark(s,this.nameWaterMark);this.unWiredEvents();this.wiredEvents();this.renderAutocomplete(gt,!0);this.renderAutocomplete(ti,!1)},n.prototype.closeDialog=function(){this.resetSearchBox()},n.prototype.renderAutocomplete=function(n,t){var r=BoldBIDashboard.buildTag("table.bbi-querydesigner-toolbar-table","",{width:"100%"}),u=this.bbdesigner$("<tr/>"),f=this.bbdesigner$("<td/>"),e=BoldBIDashboard.buildTag("span.e-atc e-widget","",{width:"100%",height:"28px"},{}),i=BoldBIDashboard.buildTag("span.e-in-wrap e-box e-padding bbi-designer-widget-autocomplete","",{},{}),h=this.expSearch=BoldBIDashboard.buildTag("input.bbi-autocomplete bbi-designer-widget-watermark bbi-designer-atc-boxshadow e-js e-input","",{},{type:"text",placeholder:this.locale.expressionDesigner.placeHolderText,id:t?this.id+"_function_search":this.id+"_column_search"}),o=this.expSearchIcon=BoldBIDashboard.buildTag("span.e-select bbi-designer-widget-autocomplete e-search-area","",{width:"24px",height:"30px"},{id:t?this.id+"_function_search-icon":this.id+"_column_search-icon"}),s;if(o.append(BoldBIDashboard.buildTag("span.bbi-headericon bbi-designer-search","",{display:"table-cell"})),i.append(o),i.append(h),e.append(i),s=BoldBIDashboard.buildTag("span.e-select bbi-designer-widget-select bbi-designer-widget-autocomplete","",{height:"30px"},{id:this.id+"_column_widgetClose"}),s.append("<span class='bbi-headericon e-reportdesigner-widget-left'/>"),f.append(e),u.append(f),r.append(u),n.append(r),this.functionSearchBox=this.expressionContainer.find("#"+this.id+"_function_search"),this.columnSearchBox=this.expressionContainer.find("#"+this.id+"_column_search"),this.functionSearchIcon=this.expressionContainer.find(".bbi-querydesigner-function-search .bbi-headericon"),this.functionListbox=this.expressionContainer.find("#"+this.id+"_exp_designer_option_list"),this.columnSearchIcon=this.expressionContainer.find(".bbi-querydesigner-column-search .bbi-headericon"),this.columnListbox=this.expressionContainer.find("#"+this.id+"_exp_designer_data_list"),this.functionListTd=this.expressionContainer.find(".e-option-list"),this.columnListTd=this.expressionContainer.find(".e-data-list"),t){this.expSearch.on("keyup",this.bbdesigner$.proxy(this.onSearchText,this,this.functionSearchIcon,this.functionListbox,!0));this.expSearch.on("blur",this.bbdesigner$.proxy(this.onSearchBlur,this,this.functionSearchIcon,this.functionListbox));this.expSearchIcon.on("click",this.bbdesigner$.proxy(this.onSearchCloseClick,this,this.functionSearchIcon,this.functionListbox,this.expSearch,!0));this.functionSearchBox.on("focus",this.bbdesigner$.proxy(this.onSearchTextBoxFocusIn,this,this.expressionContainer,!0));this.functionSearchBox.on("blur",this.bbdesigner$.proxy(this.onSearchTextBoxFocusOut,this,this.expressionContainer,!0))}else{this.expSearch.on("keyup",this.bbdesigner$.proxy(this.onSearchText,this,this.columnSearchIcon,this.columnListbox,!1));this.expSearch.on("blur",this.bbdesigner$.proxy(this.onSearchBlur,this,this.columnSearchIcon,this.columnListbox));this.expSearchIcon.on("click",this.bbdesigner$.proxy(this.onSearchCloseClick,this,this.columnSearchIcon,this.columnListbox,this.expSearch,!1));this.columnSearchBox.on("focus",this.bbdesigner$.proxy(this.onSearchTextBoxFocusIn,this,this.expressionContainer,!1));this.columnSearchBox.on("blur",this.bbdesigner$.proxy(this.onSearchTextBoxFocusOut,this,this.expressionContainer,!1))}},n.prototype.onSearchTextBoxFocusIn=function(n,t){var i;t?(i=n.find(".bbi-querydesigner-function-search"),i.addClass("e-focus")):(i=n.find(".bbi-querydesigner-column-search"),i.addClass("e-focus"))},n.prototype.onSearchTextBoxFocusOut=function(n,t){var i;t?(i=n.find(".bbi-querydesigner-function-search"),i.hasClass("e-focus")&&i.removeClass("e-focus")):(i=n.find(".bbi-querydesigner-column-search"),i.hasClass("e-focus")&&i.removeClass("e-focus"))},n.prototype.resetSearchBox=function(){this.resetFunction();this.resetColumn()},n.prototype.resetFunction=function(){this.functionSearchBox.val("");this.functionListbox.BoldBIDashboardListBox("showAllItems");this.functionListTd.css("display","block");this.functionNoDataContainer.css("display","none");this.functionSearchIcon.addClass("bbi-designer-search").removeClass("bbi-designer-close")},n.prototype.resetColumn=function(){this.columnSearchBox.val("");this.showAllItemsForListBox(this.columnListbox);this.columnListTd.css("display","block");this.columnNoDataContainer.css("display","none");this.columnSearchIcon.addClass("bbi-designer-search").removeClass("bbi-designer-close")},n.prototype.onSearchText=function(n,t,i,r){var u,f;r.keyCode!==13&&(u=this.bbdesigner$(r.target).val(),u.length>0?(n.addClass("bbi-designer-close").removeClass("bbi-designer-search"),t.data("BoldBIDashboardListBox").model.allowVirtualScrolling?(t.data("BoldBIDashboardListBox").option("query",(new BoldBIDashboard.Query).where("Name",BoldBIDashboard.FilterOperators.contains,u,!0)),this.refreshColumnList(),f=this.filterItems(t.data("BoldBIDashboardListBox").model.dataSource.dataSource.json,u),this.setDisplayForListElements(i,f.length===0)):(f=this.filterItems(t.data("BoldBIDashboardListBox").model.dataSource,u),t.BoldBIDashboardListBox("hideAllItems"),t.BoldBIDashboardListBox("showItemsByIndices",f),this.setDisplayForListElements(i,f.length===0))):(this.showAllItemsForListBox(t),this.setDisplayForListElements(i)))},n.prototype.showAllItemsForListBox=function(n){n.data("BoldBIDashboardListBox").model.allowVirtualScrolling?n.data("BoldBIDashboardListBox").option("query",new BoldBIDashboard.Query):n.BoldBIDashboardListBox("showAllItems")},n.prototype.setDisplayForListElements=function(n,t){n?(this.functionListTd.css("display",BoldBIDashboard.isNullOrUndefined(t)?"block":t?"none":"block"),this.functionNoDataContainer.css("display",BoldBIDashboard.isNullOrUndefined(t)?"none":t?"block":"none")):(this.columnListTd.css("display",BoldBIDashboard.isNullOrUndefined(t)?"block":t?"none":"block"),this.columnNoDataContainer.css("display",BoldBIDashboard.isNullOrUndefined(t)?"none":t?"block":"none"))},n.prototype.onSearchBlur=function(n,t,i){var r=this.bbdesigner$(i.target).val();r.length===0&&(n.addClass("bbi-designer-search").removeClass("bbi-designer-close"),this.bbdesigner$(i.target).val(""),this.showAllItemsForListBox(t))},n.prototype.onSearchCloseClick=function(n,t,i,r){i.val("");this.showAllItemsForListBox(t);n.addClass("bbi-designer-search").removeClass("bbi-designer-close");this.setDisplayForListElements(r);this.refreshSearchListScroller(t)},n.prototype.refreshSearchListScroller=function(n){var t=n.data("BoldBIDashboardListBox");BoldBIDashboard.isNullOrUndefined(t)||t.scrollerObj.refresh()},n.prototype.filterItems=function(n,t){var r=[],i;if(!BoldBIDashboard.isNullOrUndefined(n))for(i=0;i<n.length;i++)(t===""||n[i].Name.toLowerCase().search(t.toLowerCase())!==-1)&&r.push(i);return r},n.prototype.enableButton=function(n,t){BoldBIDashboard.DashboardUtil.buttonEnable(n,t)},n.prototype.txtNameChanged=function(){var t=this.textBox.val(),n=this.expressionContainer.data("e-exp");t!==this.oldExpName?n&&n.isEdit&&t!==n.name||(n&&!n.isEdit||BoldBIDashboard.isNullOrUndefined(n))&&t.length!==0?this.enableButton(this.saveBtnTag,!0):this.enableButton(this.saveBtnTag,!1):(n&&n.isEdit&&t===n.name||(n&&!n.isEdit||BoldBIDashboard.isNullOrUndefined(n))&&t.length===0)&&this.enableButton(this.saveBtnTag,!1);this.oldExpName=t},n.prototype.txtExpChanged=function(){var t=this.textArea.val(),n=this.expressionContainer.data("e-exp");t!==this.oldVal||BoldBIDashboard.isNullOrUndefined(n)||!n.isEdit?(n&&n.isEdit&&t!==n.expression||n&&!n.isEdit||BoldBIDashboard.isNullOrUndefined(n))&&t.length!==0?(this.enableButton(this.saveBtnTag,!0),this.enableButton(this.addBtnTag,!1)):n.isEdit&&t===n.expression?(this.enableButton(this.addBtnTag,this.isAddButtonEnabled),this.enableButton(this.saveBtnTag,!1)):(this.enableButton(this.saveBtnTag,!1),this.enableButton(this.addBtnTag,!1)):(n&&n.isEdit&&t===n.expression||(n&&!n.isEdit||BoldBIDashboard.isNullOrUndefined(n))&&t.length===0)&&this.enableButton(this.saveBtnTag,!1);this.oldVal=t},n.prototype.updateTextArea=function(){var n=this.textArea.val();n&&n.length>0?n!==this.expWaterMark&&this.textArea.hasClass("bbi-designer-txtmark")&&this.textArea.removeClass("bbi-designer-txtmark"):this.textArea.val(this.expWaterMark).addClass("bbi-designer-txtmark")},n.prototype.updateTextBox=function(){var n=this.textBox.val();n&&n.length>0?n!==this.nameWaterMark&&this.textBox.hasClass("bbi-designer-txtmark")&&this.textBox.removeClass("bbi-designer-txtmark"):this.textBox.val(this.nameWaterMark).addClass("bbi-designer-txtmark")},n.prototype.addExpression=function(){this.resetSearchBox();this.requestValidation(!0);var n=this.textBox.val();this.onListItemMouseUp({target:this.dashboardDesigner.element.find("#"+this.id+"_li_"+BoldBIDashboard.DashboardUtil.escapeSelector(n))[0]})},n.prototype.requestValidation=function(n,t){var r=this.expressionContainer.data("e-exp"),u=this.textArea.val().trim(),i;r&&r.isEdit?(i=this.textBox.val(),i===this.nameWaterMark&&this.textBox.hasClass("bbi-designer-txtmark")&&(i=""),u===this.expWaterMark&&this.textArea.hasClass("bbi-designer-txtmark")&&(u=""),this.hasExpChanges(r,u)?i&&i.length===0||u&&u.length===0||!this.isValidName(i)||!/^[a-zA-Z0-9- _]*$/.test(i)?n?this.newExpression():this.expListClick(t):this.dashboardDesigner.modules.util.alertDialog(this.locale.alertDialogTitle.queryExpression,this.locale.dataSource.saveExpression,IconType.warning,AlertType.Confirm,!1,"",{method:"updateExpressionInfo",instance:this,dataInfo:{name:n?i:t,isSelectionChange:n?!1:!0}}):n?this.switchEditExp():this.expListClick(t)):r&&!r.isEdit||BoldBIDashboard.isNullOrUndefined(r)?u!=="Query Expression"?this.dashboardDesigner.modules.util.alertDialog(this.locale.alertDialogTitle.queryExpression,this.locale.dataSource.saveExpression,IconType.warning,AlertType.Confirm,!1,"",{height:140,width:500,method:"clearExpression",dataInfo:n?null:{isSelectionChange:!0,name:t},instance:this}):n?this.clearExpression(!1):this.expListClick(t):n?this.newExpression():this.expListClick(t)},n.prototype.clearExpression=function(n,t){if(BoldBIDashboard.isNullOrUndefined(t))if(n)this.isAdd=!0,this.saveExpression();else{var i=this.getAvailableName();this.textArea.val(this.expWaterMark).addClass("bbi-designer-txtmark");this.textBox.val(i);this.updateTextBox();this.enableButton(this.saveBtnTag,!1);this.enableButton(this.addBtnTag,!1)}else n?this.saveExpression(t):this.expListClick(t.name)},n.prototype.deleteEmtyExp=function(){var n=this,i=this.expLiTag.find("li"),t=null;i.each(function(i,r){for(var e=n.bbdesigner$(r).find(".e-list-text").text(),f=!0,u=0;u<n.queryExp.length;u++)if(e===n.queryExp[u].name){f=!1;break}if(f){t=n.bbdesigner$(r);return}});t&&t.remove()},n.prototype.getEmptyExp=function(){var n=this,i=this.expLiTag.find("li"),t=null,r=this.bbdesigner$;return i.each(function(i,u){for(var e=r(u).find(".e-list-text").text(),o=!0,f=0;f<n.queryExp.length;f++)if(e===n.queryExp[f].name){o=!1;break}if(o){t=e;return}}),t},n.prototype.switchEditExp=function(){var n=this,i=this.expLiTag.find("li"),t=!0,r=this.bbdesigner$;i.each(function(i,u){for(var e=r(u).find(".e-list-text").text(),o=!0,f=0;f<n.queryExp.length;f++)if(e===n.queryExp[f].name){o=!1;break}if(o){t=!1;n.expListClick(e);return}});t&&this.newExpression()},n.prototype.hasExpChanges=function(n,t){for(var i=0;i<this.queryExp.length;i++)if(this.queryExp[i].name===n.name&&t.indexOf("["+this.queryExp[i].name+"]")===-1&&(this.queryExp[i].name!==this.textBox.val()||this.queryExp[i].expression!==t))return!0;return!1},n.prototype.newExpression=function(){var n=this.getAvailableName();this.textArea.val(this.expWaterMark).addClass("bbi-designer-txtmark");this.textBox.val(n);this.updateTextBox();this.expressionContainer.data("e-exp",{isEdit:!1,name:""});this.appendExpList(n);this.enableButton(this.saveBtnTag,!1);this.enableButton(this.addBtnTag,!1);this.UpdateMiscellaneousList()},n.prototype.updateExpressionInfo=function(n,t){var i=this.textBox.val();if(n)t.isSelectionChange?this.expressionContainer.data("e-exp").isEdit?this.expressionValidation(ExpAction.Edit,t.isSelectionChange,t.name):this.expressionValidation(ExpAction.New,t.isSelectionChange,t.name):this.expressionValidation(ExpAction.Save);else if(t.isSelectionChange)this.expListClick(t.name);else{this.switchEditExp();i=this.textBox.val();this.onListItemMouseUp({target:this.dashboardDesigner.element.find("#"+this.id+"_li_"+BoldBIDashboard.DashboardUtil.escapeSelector(i))[0]})}},n.prototype.isValidName=function(n){for(var t=this.expressionContainer.data("e-exp"),i=0;i<this.queryExp.length;i++)if(this.queryExp[i].name===n&&(BoldBIDashboard.isNullOrUndefined(t)||t.isEdit&&t.name!==n))return!1;return!0},n.prototype.getAvailableName=function(){for(var n,i,r="Expression",u=[],t=0;t<this.queryExp.length;t++)u.push(this.queryExp[t].name);n=0;do n++,i=u.indexOf(r+n);while(i!==-1);return r+n},n.prototype.populateExpressions=function(){if(this.expLiTag.children().length>0&&this.expLiTag.empty(),!BoldBIDashboard.isNullOrUndefined(this.queryExp)&&this.queryExp.length>0){for(var n=0;n<this.queryExp.length;n++)this.appendExpList(this.queryExp[n].name);this.enableButton(this.addBtnTag,!0)}this.scrollerRefresh(this.bodyContainer)},n.prototype.updateExpList=function(n,t){var i=BoldBIDashboard.DashboardUtil.escapeSelector(n),r=BoldBIDashboard.DashboardUtil.escapeSelector(t);this.dashboardDesigner.element.find("#"+this.id+"_li_"+r).remove();this.dashboardDesigner.element.find("#"+this.id+"_li_"+i).unbind("click",this.bbdesigner$.proxy(this.expressionSelection,this,n));this.dashboardDesigner.element.find("#"+this.id+"_"+i).unbind("click",this.bbdesigner$.proxy(this.removeExpression,this,n));this.dashboardDesigner.element.find("#"+this.id+"_li_"+i+" .e-list-text").text(t);this.addTooltip(this.dashboardDesigner.element.find("#"+this.id+"_li_"+i+" .e-list-text"),t);this.dashboardDesigner.element.find("#"+this.id+"_li_"+i).attr("id",this.id+"_li_"+r);this.dashboardDesigner.element.find("#"+this.id+"_"+i).attr("id",this.id+"_"+r);this.dashboardDesigner.element.find("#"+this.id+"_li_"+r).bind("click",this.bbdesigner$.proxy(this.expressionSelection,this,t));this.dashboardDesigner.element.find("#"+this.id+"_"+r).bind("click",this.bbdesigner$.proxy(this.removeExpression,this,t))},n.prototype.appendExpList=function(n,t){var f=BoldBIDashboard.DashboardUtil.escapeSelector(n),i=BoldBIDashboard.buildTag("li.e-user-select e-list e-state-default e-list-check bbi-designer-exp-list","",{},{id:this.id+"_li_"+f,name:n}),r=BoldBIDashboard.buildTag("a.e-chevron-right_01 bbi-remove-shadow","",{}),e=BoldBIDashboard.buildTag("span.e-list-text e-rel bbi-designer-content bbi-dbrd-designer-hoverable",n,{},{name:n}),u;r.append(e);u=BoldBIDashboard.buildTag("div.e-chk-image e-icon e-cross-circle bbi-dbrd-designer-hoverable","",{},{id:this.id+"_"+f,"data-tooltip":"Delete"});r.append(u);i.append(r);u.bind("click",this.bbdesigner$.proxy(this.removeExpression,this,n));i.bind("click",this.bbdesigner$.proxy(this.expressionSelection,this,n));i.bind(BoldBIDashboard.DashboardUtil.MouseEvent.mouseUp,this.bbdesigner$.proxy(this.onListItemMouseUp,this));BoldBIDashboard.isNullOrUndefined(t)?this.expLiTag.append(i):t===0?(this.expLiTag.prepend(i),i.css({"border-bottom":"0.5px solid #c8c8c8"})):this.listContainer.find("ul>li:nth-child("+t+")").after(i);this.addTooltip(e,n);this.updateContainerBorder();this.bodyContainer.height()>this.listContainer.height()?this.bodyContainer.find(".e-content").removeClass("e-content"):this.scrollerRefresh(this.bodyContainer)},n.prototype.addTooltip=function(n,t){BoldBIDashboard.DashboardUtil.textWidth(t,"12px Heebo")>=n.width()&&n.attr("data-tooltip",t)},n.prototype.onListItemMouseUp=function(n){var t=this.bbdesigner$(n.target).closest("li"),i=this.dashboardDesigner.bbdesigner$;t.hasClass("bbi-expression-user-selection-active")||(t.parent().children().each(function(){var n=i(this);n.removeClass("bbi-expression-user-selection-active");n.find("span").removeClass("bbi-expression-user-selection-active")}),t.addClass("bbi-expression-user-selection-active"),t.find("span").addClass("bbi-expression-user-selection-active"),this.isAddButtonEnabled=this.addBtnTag.attr("disabled")===undefined)},n.prototype.expressionSelection=function(n){this.requestValidation(!1,n)},n.prototype.renderFunctionList=function(n){this.ejFunctionList.setModel({dataSource:n.value,fields:{id:"ID",text:"Name"},selectedIndex:0});var t=this.ejFunctionList.getSelectedItems();this.optionClick(t[0]);this.resetFunction()},n.prototype.renderColumnList=function(n){var t=n.value;this.isVirtualScrollEnabled&&(t=new BoldBIDashboard.DataManager({json:n.value}));this.ejColumnList.setModel({dataSource:t,fields:{text:"Name",tooltipText:"Name"},enableWordWrap:!1,selectedIndex:0});this.resetColumn();this.refreshColumnList()},n.prototype.scrollerRefresh=function(n){n.data("BoldBIDashboardScroller")&&n.data("BoldBIDashboardScroller").refresh()},n.prototype.functionDblClick=function(){var i=this.dashboardDesigner.element.find("#"+this.id+"_exp_designer_option_list").data("BoldBIDashboardListBox"),r=i.model.selectedItems,t=i.model.dataSource[r],n=null;t&&(t.CategoryName==="Logical"?(n=t.Name,this.caretPosition(n)):(n=t.Name+"()",this.caretPosition(n,!0,n.length)))},n.prototype.columnDblClick=function(){var i=this.dashboardDesigner.element.find("#"+this.id+"_exp_designer_data_list").data("BoldBIDashboardListBox"),r=i.model.selectedItems,n=i.listitems[r],t=null;n&&(t=n.HasDynamicParams===!0?"@{{:"+n.Value+"}}":"["+n.Name+"]",this.caretPosition(t,!1,t.length))},n.prototype.caretPosition=function(n,t,i){var u,f,r;n&&n.length>0&&(n=n.search("RUNNING")!==-1?n.replace(")","SUM())"):n,BoldBIDashboard.isNullOrUndefined(i)||(i=n.search("RUNNING")!==-1?i+4:i),u=this.textArea.val(),u!==this.expWaterMark&&this.textArea.hasClass("bbi-designer-txtmark")?this.textArea.removeClass("bbi-designer-txtmark"):u===this.expWaterMark&&this.textArea.hasClass("bbi-designer-txtmark")&&(u="",this.textArea.val(u).removeClass("bbi-designer-txtmark")),this.textArea.focus(),f=this.textArea[0],r=f.selectionStart,!BoldBIDashboard.isNullOrUndefined(i)&&t?(this.textArea.val(u.substring(0,r)+n+u.substring(r)),r=f.selectionEnd=r+i-1):BoldBIDashboard.isNullOrUndefined(i)||t?(this.textArea.val(u.substring(0,r)+n+u.substring(r)),r=f.selectionEnd=r):(this.textArea.val(u.substring(0,r)+n+u.substring(r)),r=f.selectionEnd=r+i),this.textArea.trigger("change"))},n.prototype.optionClick=function(n){n.data&&(this.dashboardDesigner.element.find("#"+this.id+"_exp_designer_desc_heading").text("Description"),this.dashboardDesigner.element.find("#"+this.id+"_exp_designer_example_heading").text("Example"),this.dashboardDesigner.element.find("#"+this.id+"_exp_designer_desc_content").text(n.data.Description),this.dashboardDesigner.element.find("#"+this.id+"_exp_designer_example_content").text(n.data.Example))},n.prototype.removeNestedExpression=function(n){var i=[],r,t,u;for(this.listContainer.find("#"+this.id+"_li_"+BoldBIDashboard.DashboardUtil.escapeSelector(n)).remove(),t=this.queryExp.length-1;t>=0;t--)(this.queryExp[t].name===n||this.queryExp[t].expression.indexOf("["+n+"]")>-1)&&(i.push(this.queryExp[t]),this.queryExp.splice(t,1));if(i.length>0)for(r=[],t=i.length-1;t>=0;t--)if(r=this.removeNestedExpression(i[t].name),r.length>0)for(u=0;u<r.length;u++)i.push(r[u]);return i},n.prototype.removeExpression=function(n){this.hasExpression(n)?this.dashboardDesigner.modules.util.alertDialog(this.locale.alertDialogTitle.removeExpression,this.locale.dataSource.removeExpressionText,IconType.warning,AlertType.Confirm,!1,"",{dataInfo:{expressionName:n},instance:this,method:"conformDelete"}):this.conformRemoveExpression(n)},n.prototype.conformRemoveExpression=function(n){var u=[],f=[],i,t,r,e,o;if(this.listContainer.find("#"+this.id+"_li_"+BoldBIDashboard.DashboardUtil.escapeSelector(n)).remove(),this.updateContainerBorder(),!BoldBIDashboard.isNullOrUndefined(this.queryExp)&&this.queryExp.length>0){for(this.expressionLength=this.queryExp.length,t=this.queryExp.length-1;t>=0;t--)if(this.queryExp[t].name===n){u.push(this.queryExp[t].name);f.push(this.queryExp[t].expression);this.queryExp.splice(t,1);break}if(i=this.removeNestedExpression(n),!BoldBIDashboard.isNullOrUndefined(i)&&i.length>0)for(t=i.length-1;t>=0;t--)u.push(i[t].name),f.push(i[t].expression);this.serverValidationExp({selectedExpression:"",name:u,expression:f},ExpAction.Remove);r=this.queryExp.length;r>0?(this.expListClick(this.queryExp[r-1].name),this.deleteEmtyExp(),this.enableButton(this.addBtnTag,!0)):r===0&&this.expLiTag.children().length>0&&this.expLiTag.empty()}this.expLiTag.children().length===0&&(e=this.getAvailableName(),this.appendExpList(e),this.textBox.val(e),this.updateTextBox(),this.textArea.val(this.expWaterMark).addClass("bbi-designer-txtmark"),this.expressionContainer.data("e-exp",{isEdit:!1,name:""}),this.enableButton(this.addBtnTag,!1));this.scrollerRefresh(this.bodyContainer);this.UpdateMiscellaneousList();o=this.textBox.val();this.onListItemMouseUp({target:this.dashboardDesigner.element.find("#"+this.id+"_li_"+BoldBIDashboard.DashboardUtil.escapeSelector(o))[0]})},n.prototype.conformDelete=function(n,t){n&&this.conformRemoveExpression(t.expressionName)},n.prototype.hasExpression=function(n){for(var r,f,u,i=this.widgetHelper.getAllWidgets(),t=0;t<i.length;t++)if(!BoldBIDashboard.isNullOrUndefined(i[t].DataGroupInfo)&&i[t].DataGroupInfo.DataSourceID===this.dataset.Id)for(r=0;r<i[t].DataGroupInfo.FieldContainers.length;r++)for(f=i[t].DataGroupInfo.FieldContainers[r],u=0;u<f.FieldInfos.length;u++)if(n===f.FieldInfos[u].Name)return!0;return!1},n.prototype.expListClick=function(n){for(var i,r=!1,t=0;t<this.queryExp.length;t++)if(n===this.queryExp[t].name){this.textBox.val(this.queryExp[t].name);this.textArea.val(this.queryExp[t].expression);this.updateTextBox();this.updateTextArea();this.textArea.focus();i=this.textArea[0];i.selectionStart=i.selectionEnd=this.queryExp[t].expression.length;this.expressionContainer.data("e-exp",{isEdit:!0,name:this.queryExp[t].name,expression:this.queryExp[t].expression});r=!0;this.enableButton(this.saveBtnTag,!1);break}r||(this.textBox.val(n),this.updateTextBox(),this.textArea.val(this.expWaterMark).addClass("bbi-designer-txtmark"),this.enableButton(this.saveBtnTag,!1),this.enableButton(this.addBtnTag,!1),this.expressionContainer.data("e-exp",null));this.UpdateMiscellaneousList()},n.prototype.updateContainerBorder=function(){this.listContainer.css("border-top-width",this.listContainer.find("li").length===0?"0px":"1px")},n.prototype.wiredEvents=function(){this.dashboardDesigner.element.find("#"+this.id+"_exp_designer_option_list").bind(BoldBIDashboard.isTouchDevice()?"doubletap":"dblclick",this.bbdesigner$.proxy(this.functionDblClick,this));this.dashboardDesigner.element.find("#"+this.id+"_exp_designer_data_list").bind(BoldBIDashboard.isTouchDevice()?"doubletap":"dblclick",this.bbdesigner$.proxy(this.columnDblClick,this));this.dashboardDesigner.element.find("#"+this.id+"_exp_designer_closebutton").on("click",this.bbdesigner$.proxy(this.closeDialog,this))},n.prototype.unWiredEvents=function(){this.dashboardDesigner.element.find("#"+this.id+"_exp_designer_option_list").unbind(BoldBIDashboard.isTouchDevice()?"doubletap":"dblclick",this.bbdesigner$.proxy(this.functionDblClick,this));this.dashboardDesigner.element.find("#"+this.id+"_exp_designer_data_list").unbind(BoldBIDashboard.isTouchDevice()?"doubletap":"dblclick",this.bbdesigner$.proxy(this.columnDblClick,this));this.dashboardDesigner.element.find("#"+this.id+"_exp_designer_closebutton").unbind("click",this.bbdesigner$.proxy(this.closeDialog,this));BoldBIDashboard.isNullOrUndefined(this.functionSearchBox)||(this.functionSearchBox.off("keyup",this.bbdesigner$.proxy(this.onSearchText,this)),this.functionSearchBox.off("blur",this.bbdesigner$.proxy(this.onSearchBlur,this)));BoldBIDashboard.isNullOrUndefined(this.columnSearchBox)||(this.columnSearchBox.off("keyup",this.bbdesigner$.proxy(this.onSearchText,this)),this.columnSearchBox.off("blur",this.bbdesigner$.proxy(this.onSearchBlur,this)));BoldBIDashboard.isNullOrUndefined(this.expSearchIcon)||this.expSearchIcon.off("click",this.bbdesigner$.proxy(this.onSearchCloseClick,this))},n.prototype.openExpression=function(n,t,i,r){var f,y,o,h,s,p,w,a,l,c,e,u;this.callBackModel=i;this.queryDesigner=this.dashboardDesigner.modules.queryDesigner;this.dataset=i.optionalArgs.dataset;this.ejExpDialog.open();this.resetDesigner(!0);this.queryExp=n;this.isFromQueryDesigner=r;this.tempExp=this.bbdesigner$.extend(!0,[],n);f=new BoldBIDashboard.Dashboard.ExpressionDialogModel;y=new BoldBIDashboard.Dashboard.ExpressionHelper;f.FunctionUI={Selected:BoldBIDashboard.Dashboard.FieldName.All,State:0};f.Datasource=y.getMultipleData();f=t.beforeExpressionDialogOpen(f,"function");var v=f.Datasource,b=[],k=[];if(v.length>1){for(o=[],e=0;e<v.length;e++)o=o.concat(v[e].Value);for(o.sort(function(n,t){return n.ID>t.Name?1:t.Name>n.ID?-1:0}),h=0;h<o.length;h++)k.indexOf(o[h].ID)===-1&&(k.push(o[h].ID),b.push(o[h]));f.Datasource.unshift({ID:0,Name:BoldBIDashboard.Dashboard.FieldName.All,Value:b})}if(this.ejFunctionDropdown.setModel({fields:{id:"ID",text:"Name",value:"Value"},dataSource:f.Datasource,enabled:f.FunctionUI.State===BoldBIDashboard.Dashboard.State.Enable}),this.ejFunctionDropdown.selectItemByText(f.FunctionUI.Selected),s=new BoldBIDashboard.Dashboard.ExpressionDialogModel,p=new BoldBIDashboard.Dashboard.ExpressionHelper,s.FunctionUI={Selected:BoldBIDashboard.Dashboard.FieldName.All,State:0},w=BoldBIDashboard.Dashboard.ConnectionHelper.isHierarchicalConnection(t),a=w?BoldBIDashboard.DashboardUtil.getFieldUsingTableType(this.callBackModel.optionalArgs.tableType||this.fillFieldItems(this.dataset)):this.getFields(),this.updateDashboardParameters(a),s.Datasource=p.getMultipleColumnData(a),s=t.beforeExpressionDialogOpen(s,"column"),l=s.Datasource,c=[],l.length>1){for(e=0;e<l.length;e++)l[e].Name!=="Parameters"&&(c=c.concat(l[e].Value));c.sort(function(n,t){return n.ID>t.ID?1:t.ID>n.ID?-1:0});this.isVirtualScrollEnabled=c.length>100;s.Datasource.unshift({ID:0,Name:BoldBIDashboard.Dashboard.FieldName.All,Value:c})}u=this;setTimeout(function(n){u.isVirtualScrollEnabled?u.ejColumnList.setModel({allowVirtualScrolling:!0,virtualScrollMode:"continuous",itemRequestCount:100}):u.ejColumnList.option("allowVirtualScrolling",!1);u.ejColumnDropdown.setModel({fields:{id:"ID",text:"Name",value:"Value"},dataSource:n.Datasource,enabled:!0});u.ejColumnDropdown.selectItemByText(n.FunctionUI.Selected);u.queryExp.length>0?(u.populateExpressions(),u.expListClick(u.queryExp[0].name)):u.newExpression();var t=u.textBox.val();u.onListItemMouseUp({target:u.dashboardDesigner.element.find("#"+u.id+"_li_"+BoldBIDashboard.DashboardUtil.escapeSelector(t))[0]});u.refreshListScroller()},100,s)},n.prototype.fillFieldItems=function(n){var i=this,t=[];return n.Fields.forEach(function(n){n.IsExpression||n.IsParameterField||t.push(i.ConvertDatasetToTabletype(n))}),t},n.prototype.ConvertDatasetToTabletype=function(n){return{DataType:n.TypeName,DefaultDataType:n.TypeName,IsExpression:n.IsExpression,IsAggregatedExpression:n.IsAggregatedExpression,ID:n.Id,Name:n.Name,ChildFields:n.ChildFields}},n.prototype.getFields=function(){return BoldBIDashboard.isNullOrUndefined(this.callBackModel.optionalArgs.tableType)?this.fillFieldItems(this.dataset):this.bbdesigner$.extend(!0,[],this.callBackModel.optionalArgs.tableType)},n.prototype.updateDashboardParameters=function(n){var r=this,e=this.bbdesigner$.extend(!0,{},this.dataset),u;e.Query.DashboardParameters=this.dataset.Query.DashboardParameters;var f=[],t=!1,i=null;return f.push(e),this.dashboardDesigner.rdlParser.rdlJsonObj.DataSets.forEach(function(n){n.Id!==f[0].Id&&f.push(r.bbdesigner$.extend(!0,{},n))}),u=this,f.forEach(function(f){BoldBIDashboard.isNullOrUndefined(f)||BoldBIDashboard.isNullOrUndefined(f.Query)||BoldBIDashboard.isNullOrUndefined(f.Query.DashboardParameters)||(t=f.Id===r.callBackModel.optionalArgs.datasourceInfo.Id,f.Query.DashboardParameters=t&&!BoldBIDashboard.isNullOrUndefined(u.queryDesigner)&&!BoldBIDashboard.isNullOrUndefined(u.queryDesigner.queryParamCollection)&&(u.queryDesigner.queryParamCollection.length!==0||u.isFromQueryDesigner)?u.queryDesigner.queryParamCollection:f.Query.DashboardParameters,i=f.Name,f.Query.DashboardParameters.forEach(function(u){var f=u.ParameterName,e=BoldBIDashboard.DashboardDesignerUtility.Serialization.enumToString(DynamicParameterDataType,u.DataType),o,c,s,h;e=u.DataType===DynamicParameterDataType.Number?"integer":e;switch(u.Mode){case ParameterMode.Literal:o=u.LiteralModeInfo;c=!BoldBIDashboard.isNullOrUndefined(o.StartValue)&&!BoldBIDashboard.isNullOrUndefined(o.EndValue)||!BoldBIDashboard.isNullOrUndefined(o.RangeStartDate)&&!BoldBIDashboard.isNullOrUndefined(o.RangeEndDate)||!BoldBIDashboard.isNullOrUndefined(o.RelativeDateItems);c?(s=f+".START",h=f+".END",n.push(r.getParamItems(t?s:s+" ("+i+")",t?s:i+"."+s,e)),n.push(r.getParamItems(t?h:h+" ("+i+")",t?h:i+"."+h,e))):n.push(r.getParamItems(t?f:f+" ("+i+")",t?f:i+"."+f,e));break;case ParameterMode.List:n.push(r.getParamItems(t?f:f+" ("+i+")",t?f:i+"."+f,e))}}))}),n.push(this.getParamItems(this.locale.userParameter.fullName,"CURRENTUSER.FULLNAME","String"),this.getParamItems(this.locale.userParameter.email,"CURRENTUSER.EMAIL","String")),n},n.prototype.getParamItems=function(n,t,i){return{Name:n,Value:t,DataType:i,IsExpression:!1,IsDynamicParam:!0}},n.prototype.refreshListScroller=function(){var t=this.ejFunctionList,n;t.scrollerObj.model.scrollTop=0;n=this.ejColumnList;n.scrollerObj.model.scrollTop=0;this.ejFunctionList.refresh(!0);this.refreshColumnList()},n.prototype.refreshColumnList=function(){this.ejColumnList.model.allowVirtualScrolling&&(this.ejColumnList._oldStartValue=null,this.ejColumnList.model.totalItemsCount=0,this.ejColumnList.dummyUl=this.bbdesigner$());this.ejColumnList.refresh(!0)},n.prototype.confirmAction=function(n){if(n){var i=this.textBox.val(),t=(new BoldBIDashboard.DashboardDesignerUtility.ExpressionParsor).parseErrors(this.textArea.val(),this.provider);t&&t.length>0?this.dashboardDesigner.modules.util.alertDialog(this.locale.alertDialogTitle.queryExpression,this.locale.dataSource.failedToParseExp,IconType.errors,AlertType.Alert,!0,t[0]):this.isAvaliableNames(i)?this.dashboardDesigner.modules.util.alertDialog(this.locale.alertDialogTitle.InvalidExpressionName,this.locale.dataSource.expNameExist,IconType.warning,AlertType.Alert,!1,""):this.serverValidationExp({selectedExpression:this.expressionContainer.data("e-exp").name===""?this.textBox.val():this.expressionContainer.data("e-exp").name,name:this.textBox.val(),expression:this.textArea.val()},ExpAction.Close)}else this.ejExpDialog.close(),this.excuteExpQuery(),this.hideExpIndicator()},n.prototype.closeConfirmation=function(){var i=this.expressionContainer.data("e-exp"),n,t;i&&i.isEdit?(n=this.textBox.val(),t=this.textArea.val().trim(),n===this.nameWaterMark&&this.textBox.hasClass("bbi-designer-txtmark")&&(n=""),t===this.expWaterMark&&this.textArea.hasClass("bbi-designer-txtmark")&&(t=""),!this.hasExpChanges(i,t)||n&&n.length===0||t&&t.length===0||!this.isValidName(n)||!/^[a-zA-Z0-9- _]*$/.test(n)?(this.ejExpDialog.close(),this.excuteExpQuery(),this.hideExpIndicator()):this.dashboardDesigner.modules.util.alertDialog(this.locale.alertDialogTitle.queryExpression,this.locale.dataSource.saveExpression,IconType.warning,AlertType.Confirm,!1,"",{height:140,width:500,method:"confirmAction",instance:this,dataInfo:{name:n}})):this.textArea.val()!=="Query Expression"&&this.textArea.val()!==""?this.dashboardDesigner.modules.util.alertDialog(this.locale.alertDialogTitle.SaveExpression,this.locale.dataSource.saveExpression,IconType.warning,AlertType.Confirm,!1,"",{height:140,width:500,method:"confirmAction",instance:this,dataInfo:{name:this.textBox.val()}}):(this.ejExpDialog.close(),this.excuteExpQuery(),this.hideExpIndicator())},n.prototype.closeExpDialog=function(n){n.isInteraction&&(this.bbdesigner$("#"+this.id+"_exp_designer_div_WaitingPopup").is(":visible")?(this.hideExpIndicator(),n.cancel=!1,this.excuteExpQuery()):(n.cancel=!0,this.closeConfirmation()))},n.prototype.closeExpression=function(){this.resetSearchBox();this.closeConfirmation()},n.prototype.excuteExpQuery=function(){BoldBIDashboard.DashboardUtil.isEqualObj(this.queryExp,this.tempExp)||BoldBIDashboard.DashboardUtil.invokeMethod(this.callBackModel.callBackInstance,this.callBackModel.callBackMethod,[{isWindowClose:!0,queryExp:this.queryExp}]);this.tempExp=[]},n.prototype.resetDesigner=function(n){n&&this.expLiTag.children().length>0&&(this.expLiTag.empty(),this.scrollerRefresh(this.bodyContainer));this.textBox.val("");this.textArea.val("");this.dashboardDesigner.element.find("#"+this.id+"_exp_designer_desc_heading").text("");this.dashboardDesigner.element.find("#"+this.id+"_exp_designer_example_heading").text("");this.dashboardDesigner.element.find("#"+this.id+"_exp_designer_desc_content").text("");this.dashboardDesigner.element.find("#"+this.id+"_exp_designer_example_content").text("")},n.prototype.saveExpression=function(n){this.resetSearchBox();this.expressionContainer.data("e-exp")&&this.expressionContainer.data("e-exp").isEdit?n&&n.isSelectionChange?this.expressionValidation(ExpAction.Edit,n.isSelectionChange,n.name):this.expressionValidation(ExpAction.Edit):n&&n.isSelectionChange?this.expressionValidation(ExpAction.New,n.isSelectionChange,n.name):this.expressionValidation(ExpAction.New)},n.prototype.expressionValidation=function(n,t,i){var o=this.expressionContainer.data("e-exp"),u=this.textBox.val(),r=this.textArea.val().trim(),f,e;if(this.textArea.val(r),f=!1,u===this.nameWaterMark&&this.textBox.hasClass("bbi-designer-txtmark")&&(u=""),r===this.expWaterMark&&this.textArea.hasClass("bbi-designer-txtmark")&&(r=""),BoldBIDashboard.isNullOrUndefined(u)||u.length!==0?BoldBIDashboard.isNullOrUndefined(r)||r.length!==0?this.isValidName(u)?/^[a-zA-Z0-9- _]*$/.test(u)===!1?(this.dashboardDesigner.modules.util.alertDialog(this.locale.alertDialogTitle.InvalidExpressionName,this.locale.dataSource.expHasSpecialChar,IconType.warning,AlertType.Alert,!1,""),f=!0):r.indexOf("["+u+"]")!==-1?(this.dashboardDesigner.modules.util.alertDialog(this.locale.alertDialogTitle.queryExpression,this.locale.dataSource.expNotInColumn,IconType.errors,AlertType.Alert,!1,""),f=!0):this.isBalanceBrackets(r)?this.isAvaliableNames(u)?(this.dashboardDesigner.modules.util.alertDialog(this.locale.alertDialogTitle.InvalidExpressionName,this.locale.dataSource.expNameExist,IconType.warning,AlertType.Alert,!1,""),f=!0):(r.replace(new RegExp("s"),"").toUpperCase().indexOf("TOTAL(")>-1||this.rowExpression.some(function(n){return r.replace(new RegExp("s"),"").toUpperCase().indexOf(n+"(")>-1}))&&!this.isValidRunningExpression(r)?f=!0:o&&o.isEdit?(e=(new BoldBIDashboard.DashboardDesignerUtility.ExpressionParsor).parseErrors(r,this.provider),e&&e.length>0?this.dashboardDesigner.modules.util.alertDialog(this.locale.alertDialogTitle.InvalidParameter+"(s)",e[0],IconType.errors,AlertType.Alert,!1,""):this.serverValidationExp({selectedExpression:o.name,name:u,expression:r,isSelectionChange:t,selectedExp:i},n)):(e=(new BoldBIDashboard.DashboardDesignerUtility.ExpressionParsor).parseErrors(r,this.provider),e&&e.length>0?(this.isAdd=!1,this.dashboardDesigner.modules.util.alertDialog(this.locale.alertDialogTitle.InvalidParameter+"(s)",this.locale.errorMessage.expressionParameterError,IconType.errors,AlertType.Alert,!0,e[0])):this.serverValidationExp({selectedExpression:"",name:u,expression:r,isSelectionChange:t,selectedExp:i},n)):(this.dashboardDesigner.modules.util.alertDialog(this.locale.alertDialogTitle.queryExpression,this.locale.dataSource.invalidExpSyntax,IconType.errors,AlertType.Alert,!1,""),f=!0):(this.dashboardDesigner.modules.util.alertDialog(this.locale.alertDialogTitle.queryExpression,this.locale.dataSource.expNameExist,IconType.warning,AlertType.Alert,!1,""),f=!0):(this.dashboardDesigner.modules.util.alertDialog(this.locale.alertDialogTitle.queryExpression,this.locale.dataSource.emptyExp,IconType.warning,AlertType.Alert,!1,""),f=!0):(this.dashboardDesigner.modules.util.alertDialog(this.locale.alertDialogTitle.InvalidExpressionName,this.locale.dataSource.emptyExpName,IconType.warning,AlertType.Alert,!1,""),f=!0),t&&f)this.onListItemMouseUp({target:this.dashboardDesigner.element.find("#"+this.id+"_li_"+BoldBIDashboard.DashboardUtil.escapeSelector(o.name))[0]})},n.prototype.isAvaliableNames=function(n){for(var r=this.expressionContainer.data("e-exp"),i=this.ejColumnDropdown.model.dataSource[0].Value,t=0;t<i.length;t++)if(i[t].Name.toLowerCase()===n.toLowerCase()&&r.name.toLowerCase()!==n.toLowerCase())return!0;return!1},n.prototype.isValidRunningExpression=function(n){for(var u,r,f,s,h,a,e,c,v,o=this,i=!0,t=n,y=this.ejColumnDropdown.model.dataSource[0].Value,l=0;l<y.length;l++)u=y[l].Name,t.indexOf("["+u+"]")>-1&&/^[a-zA-Z0-9- _]*$/.test(u)===!0&&(t=t.replace("["+u+"]",""));if(r=null,t.replace(new RegExp("s"),"").toUpperCase().indexOf("TOTAL(")>-1&&(r=t.replace("TOTAL","").toUpperCase().split("[+-*/]+"),r.forEach(function(n){o.rowExpression.some(function(t){return n.indexOf(t)>-1})&&(i=!1,o.dashboardDesigner.modules.util.alertDialog(o.locale.alertDialogTitle.queryExpression,o.locale.dataSource.errorMessageForTotalExpressionContainsRowExpression,IconType.warning,AlertType.Alert,!1,""))})),i){for(this.rowExpression.forEach(function(n){t.replace(new RegExp("s"),"").toUpperCase().indexOf(n+"(")>-1&&(r=t.toUpperCase().replace(n,"").split("[+-*/]+"))}),f=0,s=r;f<s.length;f++)for(h=s[f],i=!1,a=!isNaN(parseInt(h.replace("(","").replace(")",""),10)),e=0,c=this.aggregationList.filter(function(n){return n!=="TOTAL"||n!=="RUNNINGSUM"||n!=="RUNNINGAVG"||n!=="RUNNINGCOUNT"||n!=="RUNNINGMAX"||n!=="RUNNINGMIN"});e<c.length;e++)if(v=c[e],h.toString().replace(new RegExp("s"),"").toUpperCase().indexOf(v)>-1||a){i=!0;break}i||this.dashboardDesigner.modules.util.alertDialog(this.locale.alertDialogTitle.queryExpression,this.locale.dataSource.parameterMustBeAnAggregated,IconType.warning,AlertType.Alert,!1,"")}return i},n.prototype.isBalanceBrackets=function(n){for(var i=0,r=!1,t=0;t<n.length;t++){if(r||n[t]!=="("?r||n[t]!==")"||i--:i++,i<0)return!1;n[t]==="'"&&(t===0||n[t-1]!=="\\")&&(r=!r)}return i>0?!1:!0},n.prototype.UpdateMiscellaneousList=function(){for(var r,u,t=this.ejColumnDropdown.model.dataSource[0].Value,i=this.ejColumnDropdown.model.dataSource[this.ejColumnDropdown.model.dataSource.length-1].Value,e=i.length,f=!1,o=function(n){var r=t.indexOf(t.filter(function(t){return t.Name===i[n].Name})[0]);r>-1&&t.splice(r,1)},n=0;n<e;n++)o(n);for(n=0;n<e;n++)i.pop();for(n=0;n<this.queryExp.length;n++){for(r={ID:t.length+n,Name:this.queryExp[n].name,Value:this.queryExp[n].expression,DataType:null},f=!1,u=0;u<t.length;u++)if(t[u].Name===r.Name){f=!0;break}f||t.push(r);i.push(r)}this.ejColumnDropdown.model.dataSource[0].Value=t;this.ejColumnDropdown.model.dataSource[this.ejColumnDropdown.model.dataSource.length-1].Value=i;this.refreshColumnList()},n.prototype.encrptDataSourceInfo=function(n){var t=this.bbdesigner$.extend(!0,{},n);return t.ConnectionProperties&&(t.ConnectionProperties.ConnectString=BoldBIDashboard.DashboardUtil.encryptData(t.ConnectionProperties.ConnectString),t.ConnectionProperties.UserName&&(t.ConnectionProperties.UserName=BoldBIDashboard.DashboardUtil.encryptData(t.ConnectionProperties.UserName)),t.ConnectionProperties.PassWord&&(t.ConnectionProperties.PassWord=BoldBIDashboard.DashboardUtil.encryptData(t.ConnectionProperties.PassWord))),t},n.prototype.serverValidationExp=function(n,t){var i=this.dataset.Name,r=this.dataset.Id,u=this.callBackModel.optionalArgs.isEdit,f=this.encrptDataSourceInfo(this.callBackModel.optionalArgs.datasourceInfo);this.dashboardDesigner.modules.util.doAjaxPost("POST",this.dashboardDesigner.model.serviceUrl+BoldBIDashboard.Dashboard.ServiceAPI.processdata,{action:BoldBIDashboard.DashboardUtil.DesignerAction.executeQuery,data:JSON.stringify({className:BoldBIDashboard.DashboardUtil.DesignerAction.DataDesignViewAction,designerAction:BoldBIDashboard.DashboardUtil.DesignerAction.executeQuery,datasource:f,commandType:CommandMode.Text,dataSetName:i,dataSetId:r,ExpAction:t,isExpression:!0,selectedExpression:n.selectedExpression,Expression:n.name,DisplayText:n.expression,isEdit:u,isQueryDesignerMode:this.dashboardDesigner.isQueryDesignerMode})},{fnction:this.bbdesigner$.proxy(this.expActionResult,this,{expression:n,action:t}),indicator:[this.bbdesigner$.proxy(this.showExpIndicator,this),this.bbdesigner$.proxy(this.hideExpIndicator,this)]},!0)},n.prototype.expActionResult=function(n,t){var h,u,r,f,o,c,s,e,i;if(t.Error){if(this.enableButton(this.saveBtnTag,!0),this.enableButton(this.addBtnTag,!1),BoldBIDashboard.isNullOrUndefined(t.StatusMessage)?this.dashboardDesigner.modules.util.alertDialog(this.locale.alertDialogTitle.InvalidParameter+"(s)",this.locale.errorMessage.expressionParameterError,IconType.errors,AlertType.Alert,!1,""):this.dashboardDesigner.modules.util.alertDialog(this.locale.alertDialogTitle.InvalidParameter+"(s)",this.locale.errorMessage.expressionParameterError,IconType.errors,AlertType.Alert,!0,t.StatusMessage),n.expression.isSelectionChange)this.onListItemMouseUp({target:this.dashboardDesigner.element.find("#"+this.id+"_li_"+BoldBIDashboard.DashboardUtil.escapeSelector(this.textBox.val()))[0]})}else if(this.ejExpDialog.isOpen()&&t&&t.type)if(h=JSON.parse(t.type),u=this.expressionContainer.data("e-exp"),h.length>0){if(r=n.expression.name,f=n.expression.expression,n.action===ExpAction.New){if(o=!0,this.dashboardDesigner.element.find("#"+this.id+"_li_"+BoldBIDashboard.DashboardUtil.escapeSelector(r)).length===0)c=this.getEmptyExp(),this.updateExpList(c,r);else{for(s=!0,i=0;i<this.queryExp.length;i++)if(this.queryExp[i].name===r){s=!1;break}s||(o=!1,this.dashboardDesigner.modules.util.alertDialog(this.locale.alertDialogTitle.queryExpression,this.locale.dataSource.expNameExist,IconType.warning,AlertType.Alert,!1,""))}if(o){if(this.queryExp.push({name:r,expression:f}),this.expressionContainer.data("e-exp",{isEdit:!0,name:r,expression:f}),this.enableButton(this.saveBtnTag,!1),this.isAdd){this.switchEditExp();e=this.textBox.val();this.onListItemMouseUp({target:this.dashboardDesigner.element.find("#"+this.id+"_li_"+BoldBIDashboard.DashboardUtil.escapeSelector(e))[0]});this.isAdd=!1}if(n.expression.isSelectionChange){this.expListClick(n.expression.selectedExp);e=this.textBox.val();this.onListItemMouseUp({target:this.dashboardDesigner.element.find("#"+this.id+"_li_"+BoldBIDashboard.DashboardUtil.escapeSelector(e))[0]})}}}else if(n.action===ExpAction.Edit){for(i=0;i<this.queryExp.length;i++)this.queryExp[i].expression.indexOf("["+u.name+"]")!==-1&&(this.queryExp[i].expression=this.queryExp[i].expression.replace("["+u.name+"]","["+r+"]"));for(i=0;i<this.queryExp.length;i++)if(this.queryExp[i].name===u.name){if(this.queryExp[i].name=r,this.queryExp[i].expression=f,BoldBIDashboard.isNullOrUndefined(this.queryDesigner)||BoldBIDashboard.isNullOrUndefined(this.queryDesigner.Query)||(this.queryDesigner.Query.QueryDesignerState.Expressions[i].Name=r,this.queryDesigner.Query.QueryDesignerState.Expressions[i].QueryExp=f,this.queryDesigner.dataset.Query.QueryDesignerState.Expressions[i].Name=r,this.queryDesigner.dataset.Query.QueryDesignerState.Expressions[i].QueryExp=f,this.queryDesigner.queryExp[i].name=r,this.queryDesigner.queryExp[i].expression=f,this.queryDesigner.dataset.dataset.Query.QueryDesignerState.Expressions[i].Name=r,this.queryDesigner.dataset.dataset.Query.QueryDesignerState.Expressions[i].QueryExp=f,this.queryDesigner.dataset.queryExp[i].name=r,this.queryDesigner.dataset.queryExp[i].expression=f),this.queryExp[i].name!==u.name&&this.updateExpList(u.name,r),this.expressionContainer.data("e-exp",{isEdit:!0,name:this.queryExp[i].name,expression:this.queryExp[i].expression}),this.enableButton(this.saveBtnTag,!1),n.expression.isSelectionChange){this.expListClick(n.expression.selectedExp);e=this.textBox.val();this.onListItemMouseUp({target:this.dashboardDesigner.element.find("#"+this.id+"_li_"+BoldBIDashboard.DashboardUtil.escapeSelector(e))[0]})}break}}else if(n.action===ExpAction.Save){for(i=0;i<this.queryExp.length;i++)if(this.queryExp[i].name===u.name){this.queryExp[i].name=r;this.queryExp[i].expression=f;this.queryExp[i].name!==u.name&&this.updateExpList(u.name,r);this.enableButton(this.saveBtnTag,!1);this.switchEditExp();e=this.textBox.val();this.onListItemMouseUp({target:this.dashboardDesigner.element.find("#"+this.id+"_li_"+BoldBIDashboard.DashboardUtil.escapeSelector(e))[0]});break}}else if(n.action===ExpAction.Close){for(u.name===""&&this.queryExp.push({name:this.textBox.val(),expression:this.textArea.val()}),i=0;i<this.queryExp.length;i++)if(this.queryExp[i].name===u.name){this.queryExp[i].name=r;this.queryExp[i].expression=f;this.queryExp[i].name!==u.name&&this.updateExpList(u.name,r);break}this.ejExpDialog.close();this.hideExpIndicator();this.excuteExpQuery()}else n.action===ExpAction.Remove&&(this.queryExp.length===0?this.enableButton(this.addBtnTag,!1):this.enableButton(this.addBtnTag,!0));this.UpdateMiscellaneousList();(n.action===ExpAction.New||n.action===ExpAction.Save||n.action===ExpAction.Edit)&&this.updateSuccessMessage()}else this.enableButton(this.saveBtnTag,!0)},n.prototype.updateSuccessMessage=function(){var n=this;this.dashboardDesigner.element.find("#"+this.id+"_exp_success_message_wrap").css("display","block");setTimeout(function(){n.dashboardDesigner.element.find("#"+n.id+"_exp_success_message_wrap").css("display","none")},3e3)},n.prototype.showExpIndicator=function(){BoldBIDashboard.DashboardUtil.buttonEnable(this.footerTag.children("#"+this.id+"_exp_designer_add_btn"),!1);BoldBIDashboard.DashboardUtil.buttonEnable(this.footerTag.children("#"+this.id+"_exp_designer_save_btn"),!1);BoldBIDashboard.DashboardUtil.buttonEnable(this.footerTag.children("#"+this.id+"_exp_designer_close_btn"),!1);this.ejIndicator.show()},n.prototype.hideExpIndicator=function(){BoldBIDashboard.DashboardUtil.buttonEnable(this.footerTag.children("#"+this.id+"_exp_designer_add_btn"),!0);BoldBIDashboard.DashboardUtil.buttonEnable(this.footerTag.children("#"+this.id+"_exp_designer_save_btn"),!1);BoldBIDashboard.DashboardUtil.buttonEnable(this.footerTag.children("#"+this.id+"_exp_designer_close_btn"),!0);this.ejIndicator.hide()},n.prototype.destroy=function(){this.unWiredEvents();BoldBIDashboard.DashboardUtil.destroyEjObjects(this.dashboardDesigner.element.find("#"+this.id+"_exp_designer"));this.dashboardDesigner.element.find("#"+this.id+"_exp_designer").length>0&&this.dashboardDesigner.element.find("#"+this.id+"_exp_designer").remove()},n}();window.BoldBIDashboard.createObject("BoldBIDashboard.DashboardDesignerUtility.QueryExpression",InternalQueryExpression,window),function(n){n[n.New=0]="New";n[n.Edit=1]="Edit";n[n.Save=2]="Save";n[n.Close=3]="Close";n[n.Remove=4]="Remove"}(ExpAction||(ExpAction={}));InternalExpressionParsor=function(){function n(){this.revfnctions={};this.expErrors=[];this.expErrors=[]}return n.prototype.parseExpression=function(n){var i,t;for(this.expression=n,this.provider="SQL",this.expErrors=[],this.parseDateExp(),this.parseNumExp(),this.parseStrExp(),this.parseCondExp(),i=Object.keys(this.revfnctions),t=i.length-1;t>=0;t--)this.revfnctions[i[t]]&&(this.expression=this.expression.split(i[t]).join(this.revfnctions[i[t]]));return this.expression},n.prototype.parseErrors=function(n,t){return this.parseExpression(n,t),this.expErrors},n.prototype.parseNumExp=function(){BoldBIDashboard.DashboardUtil.contains(this.expression,"abs(",!0)&&(this.expression=this.parseNumberExp(this.expression,"abs("));BoldBIDashboard.DashboardUtil.contains(this.expression,"acos(",!0)&&(this.expression=this.parseNumberExp(this.expression,"acos("));BoldBIDashboard.DashboardUtil.contains(this.expression,"asin(",!0)&&(this.expression=this.parseNumberExp(this.expression,"asin("));BoldBIDashboard.DashboardUtil.contains(this.expression,"atan(",!0)&&(this.expression=this.parseNumberExp(this.expression,"atan("));BoldBIDashboard.DashboardUtil.contains(this.expression,"cos(",!0)&&(this.expression=this.parseNumberExp(this.expression,"cos("));BoldBIDashboard.DashboardUtil.contains(this.expression,"cot(",!0)&&(this.expression=this.parseNumberExp(this.expression,"cot("));BoldBIDashboard.DashboardUtil.contains(this.expression,"ceil(",!0)&&(this.expression=this.parseNumberExp(this.expression,"ceil("));BoldBIDashboard.DashboardUtil.contains(this.expression,"degrees(",!0)&&(this.expression=this.parseNumberExp(this.expression,"degrees("));BoldBIDashboard.DashboardUtil.contains(this.expression,"exp(",!0)&&(this.expression=this.parseNumberExp(this.expression,"exp("));BoldBIDashboard.DashboardUtil.contains(this.expression,"floor(",!0)&&(this.expression=this.parseNumberExp(this.expression,"floor("));BoldBIDashboard.DashboardUtil.contains(this.expression,"log(",!0)&&(this.expression=this.parseNumberExp(this.expression,"log("));BoldBIDashboard.DashboardUtil.contains(this.expression,"mod(",!0)&&(this.expression=this.parseNumberExp(this.expression,"mod("));BoldBIDashboard.DashboardUtil.contains(this.expression,"pi(",!0)&&(this.expression=this.parseNumberExp(this.expression,"pi("));BoldBIDashboard.DashboardUtil.contains(this.expression,"power(",!0)&&(this.expression=this.parseNumberExp(this.expression,"power("));BoldBIDashboard.DashboardUtil.contains(this.expression,"totalpercentage(",!0)&&(this.expression=this.parseNumberExp(this.expression,"totalpercentage("));BoldBIDashboard.DashboardUtil.contains(this.expression,"radians(",!0)&&(this.expression=this.parseNumberExp(this.expression,"radians("));BoldBIDashboard.DashboardUtil.contains(this.expression,"round(",!0)&&(this.expression=this.parseNumberExp(this.expression,"round("));BoldBIDashboard.DashboardUtil.contains(this.expression,"sign(",!0)&&(this.expression=this.parseNumberExp(this.expression,"sign("));BoldBIDashboard.DashboardUtil.contains(this.expression,"sin(",!0)&&(this.expression=this.parseNumberExp(this.expression,"sin("));BoldBIDashboard.DashboardUtil.contains(this.expression,"sqrt(",!0)&&(this.expression=this.parseNumberExp(this.expression,"sqrt("));BoldBIDashboard.DashboardUtil.contains(this.expression,"tan(",!0)&&(this.expression=this.parseNumberExp(this.expression,"tan("))},n.prototype.parseNumberExp=function(n,t){var f=this.getExpCode(),e=this.trimEnd(t,"("),r=0,i=n,o;this.revfnctions[f]=this.updateNumberFunc(e).toUpperCase();do if(r=i.toLowerCase().lastIndexOf(t),r!==-1){var u=r+t.length,s=this.getFunctionEndIndex(u,i),c=this.getParameters(i,u,s-u-1),l=i.substr(0,r)+f+"(",h="";this.provider==="SQL"&&(h=this.getSQLNumberExp(e,c));o=")"+i.substr(s);i=l+h+o}while(r!==-1);return i},n.prototype.updateNumberFunc=function(n){return n},n.prototype.getSQLNumberExp=function(n,t){var i="";switch(n){case"pi":BoldBIDashboard.isNullOrUndefined(t)?i=i:this.expErrors.push("Invalid Arguments in "+n+" Expression");break;case"abs":case"acos":case"asin":case"atan":case"cos":case"cot":case"degrees":case"exp":case"floor":case"log":case"totalpercentage":case"radians":case"sign":case"sin":case"sqrt":case"tan":t&&t.length===1?i+=t[0]:this.expErrors.push("Invalid Arguments in "+n+" Expression");break;case"power":t&&t.length===2?i+=t[0]+","+t[1]:this.expErrors.push("Invalid Arguments in "+n+" Expression");break;case"mod":t&&t.length===2?i+=t[0]+","+t[1]:this.expErrors.push("Invalid Arguments in "+n+" Expression");break;case"round":t&&t.length===1?(i+=t[0],this.provider==="SQL"&&(i+=",0")):t&&(t.length===1||t.length===2)?i+=t[0]+","+t[1]:this.expErrors.push("Invalid Arguments in"+n+"Expression")}return i},n.prototype.parseDateExp=function(){this.provider==="SQL"&&(BoldBIDashboard.DashboardUtil.contains(this.expression,"currentyear(",!0)&&(this.expression=this.parseSQLDateExp(this.expression,"currentyear(")),BoldBIDashboard.DashboardUtil.contains(this.expression,"currentmonth(",!0)&&(this.expression=this.parseSQLDateExp(this.expression,"currentmonth(")),BoldBIDashboard.DashboardUtil.contains(this.expression,"dateadd(",!0)&&(this.expression=this.parseSQLDateExp(this.expression,"dateadd(")),BoldBIDashboard.DashboardUtil.contains(this.expression,"datesub(",!0)&&(this.expression=this.parseSQLDateExp(this.expression,"datesub(")),BoldBIDashboard.DashboardUtil.contains(this.expression,"datename(",!0)&&(this.expression=this.parseSQLDateExp(this.expression,"datename(")),BoldBIDashboard.DashboardUtil.contains(this.expression,"datepart(",!0)&&(this.expression=this.parseSQLDateExp(this.expression,"datepart(")),BoldBIDashboard.DashboardUtil.contains(this.expression,"daydiff(",!0)&&(this.expression=this.parseSQLDateExp(this.expression,"daydiff(")),BoldBIDashboard.DashboardUtil.contains(this.expression,"today(",!0)&&(this.expression=this.parseSQLDateExp(this.expression,"today(")),BoldBIDashboard.DashboardUtil.contains(this.expression,"previousyear(",!0)&&(this.expression=this.parseSQLDateExp(this.expression,"previousyear(")),BoldBIDashboard.DashboardUtil.contains(this.expression,"previousmonth(",!0)&&(this.expression=this.parseSQLDateExp(this.expression,"previousmonth(")),BoldBIDashboard.DashboardUtil.contains(this.expression,"yesterday(",!0)&&(this.expression=this.parseSQLDateExp(this.expression,"yesterday(")),BoldBIDashboard.DashboardUtil.contains(this.expression,"day(",!0)&&(this.expression=this.parseSQLDateExp(this.expression,"day(")),BoldBIDashboard.DashboardUtil.contains(this.expression,"hour(",!0)&&(this.expression=this.parseSQLDateExp(this.expression,"hour(")),BoldBIDashboard.DashboardUtil.contains(this.expression,"minute(",!0)&&(this.expression=this.parseSQLDateExp(this.expression,"minute(")),BoldBIDashboard.DashboardUtil.contains(this.expression,"month(",!0)&&(this.expression=this.parseSQLDateExp(this.expression,"month(")),BoldBIDashboard.DashboardUtil.contains(this.expression,"now(",!0)&&(this.expression=this.parseSQLDateExp(this.expression,"now(")),BoldBIDashboard.DashboardUtil.contains(this.expression,"year(",!0)&&(this.expression=this.parseSQLDateExp(this.expression,"year(")))},n.prototype.parseSQLDateExp=function(n,t){var f=this.getExpCode(),i=this.trimEnd(t,"("),u=0,r=n;this.revfnctions[f]=this.updateDateFunc(i).toUpperCase();do if(u=r.toLowerCase().lastIndexOf(t),u!==-1){var e=u+t.length,o=this.getFunctionEndIndex(e,r),s=this.getParameters(r,e,o-e-1),h=i==="today"||i==="yesterday"||i==="currentyear"||i==="currentmonth"||i==="previousyear"||i==="previousmonth"?r.substr(0,u)+f:r.substr(0,u)+f+"(",c=this.getSQLDateExp(i,s),l=i==="today"||i==="yesterday"||i==="currentyear"||i==="currentmonth"||i==="previousyear"||i==="previousmonth"?r.substr(o):")"+r.substr(o);r=h+c+l}while(u!==-1);return r},n.prototype.updateDateFunc=function(n){var t;switch(n){case"dateadd":case"datesub":t="dateadd";break;case"daydiff":t="datediff";break;case"now":t="getdate";break;case"week":case"hour":case"minute":case"datepart":t="datepart";break;case"day":case"month":case"year":case"datename":case"yesterday":case"currentyear":case"currentmonth":case"previousmonth":case"previousyear":t=n;break;case"today":t="CAST(GETDATE() AS DATE)"}return t},n.prototype.getSQLDateExp=function(n,t){var i="";switch(n){case"dateadd":t&&t.length===3?i+=t[0]+","+t[1]+","+t[2]:this.expErrors.push("Invalid Arguments in"+n+"Expression");break;case"datesub":t&&t.length===1?i+="D, 0,"+t[0]:t&&t.length===2?i+="D, -"+t[0]+","+t[1]:this.expErrors.push("Invalid Arguments in"+n+"Expression");break;case"daydiff":t&&t.length===2?i+="D,"+t[0]+","+t[1]:this.expErrors.push("Invalid Arguments in"+n+"Expression");break;case"week":case"hour":case"minute":t&&t.length===1?i+=n.toUpperCase()+","+t[0]:this.expErrors.push("Invalid Arguments in"+n+"Expression");break;case"datename":case"datepart":t&&t.length===1&&(i+="D,"+t[0]);t&&t.length===2?i+=t[0]+","+t[1]:this.expErrors.push("Invalid Arguments in"+n+"Expression");break;case"day":case"month":case"year":t&&t.length===1?i+=t[0]:this.expErrors.push("Invalid Arguments in"+n+"Expression")}return i},n.prototype.parseCondExp=function(){this.provider==="SQL"&&(BoldBIDashboard.DashboardUtil.contains(this.expression,"coalesce(",!0)&&(this.expression=this.parseSQLCondExp(this.expression,"coalesce(")),BoldBIDashboard.DashboardUtil.contains(this.expression,"ifnull(",!0)&&(this.expression=this.parseSQLCondExp(this.expression,"ifnull(")),BoldBIDashboard.DashboardUtil.contains(this.expression,"if(",!0)&&(this.expression=this.parseSQLCondExp(this.expression,"if(")),BoldBIDashboard.DashboardUtil.contains(this.expression,"isnull(",!0)&&(this.expression=this.parseSQLCondExp(this.expression,"isnull(")),BoldBIDashboard.DashboardUtil.contains(this.expression,"isnotnull(",!0)&&(this.expression=this.parseSQLCondExp(this.expression,"isnotnull(")))},n.prototype.parseSQLCondExp=function(n,t){var f=this.trimEnd(t,"("),r=0,i=n;if(f==="ifnull")i=this.parseSQLIFNullExp(n,t);else do if(r=i.toLowerCase().lastIndexOf(t),r!==-1){var e=this.getExpCode(),u=r+t.length,o=this.getFunctionEndIndex(u,i),s=this.getParameters(i,u,o-u-1),h=i.substr(0,r)+e,c=i.substr(o);this.revfnctions[e]=this.getSQLCondExp(f,s);i=h+c}while(r!==-1);return i},n.prototype.parseSQLIFNullExp=function(n,t){var f=this.getExpCode(),o=this.trimEnd(t,"("),r=0,i=n;this.revfnctions[f]="ISNULL";do if(r=i.toLowerCase().lastIndexOf(t),r!==-1){var u=r+t.length,e=this.getFunctionEndIndex(u,i),s=this.getParameters(i,u,e-u-1),h=i.substr(0,r)+f+"(",c=this.getSQLCondExp(o,s),l=")"+i.substr(e);i=h+c+l}while(r!==-1);return i},n.prototype.getSQLCondExp=function(n,t){var i="",u,r;switch(n){case"if":t&&t.length===3?i+=" CASE WHEN "+t[0]+" THEN "+t[1]+" ELSE "+t[2]+" END ":this.expErrors.push("Invalid Arguments in "+n+" Expression");break;case"ifnull":t&&t.length===2?i+=t[0]+","+t[1]:this.expErrors.push("Invalid Arguments in "+n+" Expression");break;case"isnull":t&&t.length===1?i+=" CASE WHEN "+t[0]+" IS NULL THEN 'true' ELSE 'false' END ":this.expErrors.push("Invalid Arguments in "+n+" Expression");break;case"isnotnull":t&&t.length===1?i+=" CASE WHEN "+t[0]+" IS NULL THEN 'false' ELSE 'true' END ":this.expErrors.push("Invalid Arguments in "+n+" Expression");break;case"coalesce":if(u=!0,t&&t.length>1)for(r=0;r<t.length;r++)r===t.length-1&&(u=!1),i+=u?t[r].trim()+",":t[r].trim();else this.expErrors.push("Invalid Arguments in "+n+" Expression")}return i},n.prototype.parseStrExp=function(){BoldBIDashboard.DashboardUtil.contains(this.expression,"char(",!0)&&!BoldBIDashboard.DashboardUtil.contains(this.expression,"to_char(",!0)&&(this.expression=this.parseStringExp(this.expression,"char("));BoldBIDashboard.DashboardUtil.contains(this.expression,"concat(",!0)&&(this.expression=this.parseStringExp(this.expression,"concat("));BoldBIDashboard.DashboardUtil.contains(this.expression,"contains(",!0)&&(this.expression=this.parseStringExp(this.expression,"contains("));BoldBIDashboard.DashboardUtil.contains(this.expression,"endswith(",!0)&&(this.expression=this.parseStringExp(this.expression,"endswith("));BoldBIDashboard.DashboardUtil.contains(this.expression,"left(",!0)&&(this.expression=this.parseStringExp(this.expression,"left("));BoldBIDashboard.DashboardUtil.contains(this.expression,"len(",!0)&&(this.expression=this.parseStringExp(this.expression,"len("));BoldBIDashboard.DashboardUtil.contains(this.expression,"lower(",!0)&&(this.expression=this.parseStringExp(this.expression,"lower("));BoldBIDashboard.DashboardUtil.contains(this.expression,"ltrim(",!0)&&(this.expression=this.parseStringExp(this.expression,"ltrim("));BoldBIDashboard.DashboardUtil.contains(this.expression,"max(",!0)&&(this.expression=this.parseStringExp(this.expression,"max("));BoldBIDashboard.DashboardUtil.contains(this.expression,"min(",!0)&&(this.expression=this.parseStringExp(this.expression,"min("));BoldBIDashboard.DashboardUtil.contains(this.expression,"replace(",!0)&&(this.expression=this.parseStringExp(this.expression,"replace("));BoldBIDashboard.DashboardUtil.contains(this.expression,"right(",!0)&&(this.expression=this.parseStringExp(this.expression,"right("));BoldBIDashboard.DashboardUtil.contains(this.expression,"rtrim(",!0)&&(this.expression=this.parseStringExp(this.expression,"rtrim("));BoldBIDashboard.DashboardUtil.contains(this.expression,"startswith(",!0)&&(this.expression=this.parseStringExp(this.expression,"startswith("));BoldBIDashboard.DashboardUtil.contains(this.expression,"substr(",!0)&&(this.expression=this.parseStringExp(this.expression,"substr("));BoldBIDashboard.DashboardUtil.contains(this.expression,"trim(",!0)&&(this.expression=this.parseStringExp(this.expression,"trim("))},n.prototype.parseStringExp=function(n,t){var c=this.getExpCode(),i=this.trimEnd(t,"("),u=0,r=n,e=!0,o,f,s;this.revfnctions[c]=this.updateStringFunc(i).toUpperCase();do if(u=r.toLowerCase().lastIndexOf(t),u!==-1){var h=u+t.length,l=this.getFunctionEndIndex(h,r),a=this.getParameters(r,h,l-h-1);(i==="max"||i==="min"||i==="startswith"||i==="endswith"||i==="contains")&&(e=!1);o=r.substr(0,u)+(e?c+"(":"");f="";this.provider==="SQL"&&(f=this.getSQLStringExp(i,a));s=(e?")":"")+r.substr(l);r=i==="max"||i==="min"?o+"("+f+")"+s:o+f+s}while(u!==-1);return r},n.prototype.updateStringFunc=function(n){var t;switch(n){case"contains":case"endswith":case"startswith":case"max":case"min":t="";break;case"substr":t="substring";break;default:t=n}return t},n.prototype.getSQLStringExp=function(n,t){var i="",u,r,f;switch(n){case"char":case"len":case"lower":case"ltrim":case"rtrim":case"trim":case"upper":case"max":case"min":t&&t.length===1?i+=t[0].trim():this.expErrors.push("Invalid Arguments in "+n+" Expression");break;case"left":case"right":t&&t.length===2?i+=t[0].trim()+","+t[1].trim():this.expErrors.push("Invalid Arguments in "+n+" Expression");break;case"replace":t&&t.length===3?i+=t[0].trim()+","+t[1].trim()+","+t[2].trim():this.expErrors.push("Invalid Arguments in "+n+" Expression");break;case"concat":if(u=!0,t&&t.length>1)for(r=0;r<t.length;r++)r===t.length-1&&(u=!1),i+=u?t[r].trim()+",":t[r].trim();else this.expErrors.push("Invalid Arguments in "+n+" Expression");break;case"contains":case"endswith":case"startswith":t&&t.length===2?(f=this.customizeSingleQuoteValues(n,t[1]),i+="CASE WHEN "+t[0]+" LIKE "+f+" THEN 'true' ELSE 'false' END"):this.expErrors.push("Invalid Arguments in "+n+" Expression");break;case"substr":t&&t.length===3?i+=t[0].trim()+","+t[1].trim()+","+t[2].trim():this.expErrors.push("Invalid Arguments in "+n+" Expression")}return i},n.prototype.customizeSingleQuoteValues=function(n,t){var i=t,r="",u=null,f;if(i=i.trim(),BoldBIDashboard.DashboardUtil.contains(i,"'",!0))for(f=0;f<i.length;f++)i[f]!=="'"&&(r+=i[f]);if(r.length>0)switch(n){case"contains":u="'%"+r+"%'";break;case"startswith":u="'"+r+"%'";break;case"endswith":u="'%"+r+"'"}else u=i;return u},n.prototype.getParameters=function(n,t,i){var u=n.substr(t,i);if(u.length===0)return null;for(var o=0,f=!1,r=0,e=0,s=[];r<u.length;r++)f||u[r]!==")"||o--,f||u[r]!=="("||o++,u[r]==="'"&&(r===0||u[r-1]!=="\\")&&(f=!f),f||o!==0||u[r]!==","||(s.push(u.substr(e,r-e)),e=r+1);return s.push(u.substr(e,r-e)),s},n.prototype.getFunctionEndIndex=function(n,t){for(var i=n,u=1,r=!1;u>0;){if(i>=t.length)throw"Invalid Expression";r||t[i]!==")"||u--;r||t[i]!=="("||u++;(t[i]==='"'||t[i]==="'")&&(i===0||t[i-1]!=="\\")&&(r=!r);i++}return i},n.prototype.getExpCode=function(){for(var n="",t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",i=0;i<5;i++)n+=t.charAt(Math.floor(Math.random()*t.length));return"@"+n+"@"},n.prototype.trimEnd=function(n,t){var i=n.lastIndexOf(t);return i===-1?n:n.trim().slice(0,i)},n}();window.BoldBIDashboard.createObject("BoldBIDashboard.DashboardDesignerUtility.ExpressionParsor",InternalExpressionParsor,window)