(window.webpackJsonp=window.webpackJsonp||[]).push([[18],{"./bundles/sf-dropdownlist.js":function(t,e,i){"use strict";i.r(e);i("./modules/sf-dropdownlist.js")},"./modules/sf-dropdownlist.js":function(t,e){window.sfBlazor=window.sfBlazor||{},window.sfBlazor.DropDownList=function(){"use strict";var t=function(){return(t=Object.assign||function(t){for(var e,i=1,s=arguments.length;i<s;i++)for(var o in e=arguments[i])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)},e=function(){function e(t){var e=this;this.bindScrollEvent=function(){e.observe((function(t){return e.scrollListener(t)}))},this.sentinelInfo={up:{check:function(t,i){var s=t.top-e.parent.containerRect.top;return i.entered=s>=0,s+e.parent.listHeight*e.parent.options.virtualizedItemsCount/2>=0},axis:"Y"},down:{check:function(t,i){var s=t.bottom;return i.entered=t.bottom<=e.parent.containerRect.bottom,s-e.parent.listHeight*e.parent.options.virtualizedItemsCount/2<=e.parent.listHeight*e.parent.options.virtualizedItemsCount/2},axis:"Y"}},this.parent=t}return e.prototype.scrollListener=function(e){var i=this;if(!this.parent.preventScrollAction){var s=e.sentinel,o=this.parent.preStartIndex;if(this.parent.viewInfo=this.getInfoFromView(e.direction,s,e.offset,!1),this.parent.isUpwardScroll=!1,this.parent.preStartIndex===o||this.parent.isKeyBoardAction){if(this.parent.isScrollActionMade){this.parent.preventKeyAction=!1,this.parent.isScrollActionMade=!1;var n=this.parent.list.querySelectorAll(".e-virtual-list").length,l=this.parent.list.querySelector(".e-list-item"),r=e.offset.top-l.offsetHeight*n;this.parent.list.getElementsByClassName("e-virtual-ddl-content")[0].style.transform="translate(0px,"+r+"px)"}}else this.parent.isScrollActionMade=!1,this.parent.currentPage=this.parent.viewInfo.currentPage,this.parent.virtualInfo=t({},this.parent.viewInfo),this.parent.preventKeyAction=!0,this.parent.isVirtualAction=!0,setTimeout((function(){i.parent.dotNetRef.invokeMethodAsync("VirtualScrollRefreshAsync",{virtualItemStartIndex:i.parent.viewInfo.startIndex,virtualItemEndIndex:i.parent.viewInfo.endIndex,listItemHeight:i.parent.virtualListHeight,scrollTop:i.parent.viewInfo.offsets.top,pageCount:i.parent.getPageCount(i.parent.popupObj.element,!0),isMouseScrollAction:i.parent.mouseScrollAction}).then((function(){i.parent.popupObj&&(i.parent.list=i.parent.popupObj.element.querySelector(".e-content")||sf.base.select(".e-content"),i.parent.updateSelectionList(),i.parent.liCollections=i.parent.getItems()),i.parent.isVirtualAction=!1,i.parent.preventKeyAction=!1}))}),10);this.parent.prevInfo=this.parent.viewInfo,this.parent.isKeyBoardAction=!1}},e.prototype.getInfoFromView=function(t,e,i,s){var o={direction:t,sentinelInfo:e,offsets:i,startIndex:this.parent.preStartIndex,endIndex:this.parent.preEndIndex},n=this.parent.popupContentEle.getBoundingClientRect().height,l=0===this.parent.listHeight?this.parent.virtualListHeight:this.parent.listHeight,r=i.top/l,a=n/l,p=r+a,h=this.parent.options.virtualizedItemsCount/4,u=this.parent.options.totalCount;if("down"===o.direction){var d=Math.round(p)-Math.round(h);if(sf.base.isNullOrUndefined(o.startIndex)||p>o.startIndex+Math.round(this.parent.options.virtualizedItemsCount/2+h)&&o.endIndex!==u){o.startIndex=d>=0?Math.round(d):0,o.startIndex=o.startIndex>r?Math.floor(r):o.startIndex;var c=o.startIndex+this.parent.options.virtualizedItemsCount;o.startIndex=c<p?Math.ceil(p)-this.parent.options.virtualizedItemsCount:o.startIndex,o.endIndex=c<u?c:u,o.startIndex=c>=u?o.endIndex-this.parent.options.virtualizedItemsCount>0?o.endIndex-this.parent.options.virtualizedItemsCount:0:o.startIndex,o.currentPage=Math.ceil(o.endIndex/this.parent.options.virtualizedItemsCount)}}else if("up"===o.direction){if(o.startIndex&&o.endIndex)if(r<Math.round((o.startIndex*l+h*l)/l)){var f=h>a?h:a+a/4;c=Math.round(r+f);o.endIndex=c<u?c:u;d=o.endIndex-this.parent.options.virtualizedItemsCount;o.startIndex=d>0?d:0,o.endIndex=d<0?this.parent.options.virtualizedItemsCount:o.endIndex,o.currentPage=Math.ceil(o.startIndex/this.parent.options.virtualizedItemsCount)}}return s?this.parent.scrollPreStartIndex=o.startIndex:(this.parent.preStartIndex=o.startIndex,this.parent.startIndex=o.startIndex,this.parent.preEndIndex=o.endIndex),o},e.prototype.observe=function(t){this.parent.containerRect=this.parent.popupContentEle.getBoundingClientRect(),sf.base.EventHandler.add(this.parent.popupContentEle,"wheel mousedown",this.popupScrollHandler,this),this.touchModule=new sf.base.Touch(this.parent.popupContentEle,{scroll:this.popupScrollHandler.bind(this)}),sf.base.EventHandler.add(this.parent.popupContentEle,"scroll",this.virtualScrollHandler(t),this)},e.prototype.popupScrollHandler=function(t){this.parent.mouseScrollAction=!0,this.parent.preventScrollAction=!1},e.prototype.virtualScrollHandler=function(t){var e=this,i="chrome"===sf.base.Browser.info.name?200:100,s=0,o=sf.base.debounce(t,i),n=sf.base.debounce(t,50);return function(t){var i=t.target.scrollTop,l=t.target.scrollLeft,r=s<i&&!e.parent.isUpwardScroll?"down":"up";s=i;var a=e.sentinelInfo[r],p=e.parent.scrollPreStartIndex,h={top:i,left:l};if(e.parent.list.querySelectorAll(".e-virtual-list").length>0){e.getInfoFromView(r,a,h,!0);if(e.parent.scrollPreStartIndex!==p&&!e.parent.preventScrollAction)e.parent.isScrollActionMade=!0,e.parent.list.querySelector(".e-virtual-ddl-content").style.transform="translate(0px,"+i+"px)"}var u=o;"X"===a.axis&&(u=n),u({direction:r,sentinel:a,offset:{top:i,left:l},focusElement:document.activeElement})}},e}(),i="e-list-group-item",s=function(){function t(t,i,s,o,n){this.activeIndex=null,this.prevSelectPoints={},window.sfBlazor=window.sfBlazor,this.preStartIndex=0,this.startIndex=0,this.currentPage=0,this.virtualPopupHeight=0,this.isKeyBoardAction=!1,this.scrollPreStartIndex=0,this.isScrollActionMade=!1,this.preventScrollAction=!1,this.preventKeyAction=!1,this.isVirtualAction=!1,this.keyDownAction=!1,this.isUpwardScroll=!1,this.mouseScrollAction=!1,this.firstRender=!0,this.virtualListHeight=0,this.dataId=t,this.containerElement=i,this.element=s,this.options=n,window.sfBlazor.setCompInstance(this),this.dotNetRef=o,this.virtualScrollObj=new e(this)}return t.prototype.initialize=function(){this.keyConfigure={tab:"tab",enter:"13",escape:"27",end:"35",home:"36",down:"40",up:"38",pageUp:"33",pageDown:"34",open:"alt+40",close:"shift+tab",hide:"alt+38",space:"32"},sf.base.Browser.isDevice?sf.base.EventHandler.add(window,"orientationchange",this.scrollHandler,this):(new sf.base.KeyboardEvents(this.containerElement,{keyAction:this.keyActionHandler.bind(this),keyConfigs:this.keyConfigure,eventName:"keydown"}),this.options.enableVirtualization&&sf.base.EventHandler.add(this.containerElement,"keyup",this.keyUpHandler,this)),"SfComboBox"===this.options.moduleName&&sf.base.EventHandler.add(this.element,"keydown",this.onFilterDown,this),sf.base.EventHandler.add(window,"resize",this.windowResize,this),sf.base.EventHandler.add(window,"resize",this.updateFloatLabelSize,this),this.updateFloatLabelSize()},t.prototype.keyUpHandler=function(t){this.keyDownAction=!1},t.prototype.findListElement=function(t,e,i,s){var o=null;if(t)for(var n=[].slice.call(t.querySelectorAll(e)),l=0;l<n.length;l++)if(n[l].getAttribute(i)===s+""){o=n[l];break}return o},t.prototype.windowResize=function(){this.isPopupOpen()&&this.popupObj.refreshPosition(this.containerElement)},t.prototype.updateSelectionList=function(){if(!this.list.querySelector(".e-active")&&this.options.value){var t=this.findListElement(this.list,"li","data-value",this.options.value);t&&t.classList.add("e-active")}},t.prototype.setAutoFillSelection=function(t){this.isAndroidAutoFill(t)||this.autoFillSelection(t)},t.prototype.onFilterDown=function(t){13!==t.keyCode&&40!==t.keyCode&&38!==t.keyCode&&9!==t.keyCode&&(this.prevSelectPoints=this.getSelectionPoints())},t.prototype.getSelectionPoints=function(){var t=this.element;return{start:Math.abs(t.selectionStart),end:Math.abs(t.selectionEnd)}},t.prototype.autoFillSelection=function(t){var e=this.getSelectionPoints(),i=this.element.value.substr(0,e.start);if(i&&i.toLowerCase()===t.substr(0,e.start).toLowerCase()){var s=i+t.substr(i.length,t.length);this.element.value=s,this.element.setSelectionRange(e.start,this.element.value.length)}else this.element.value=t,this.element.setSelectionRange(0,this.element.value.length)},t.prototype.isAndroidAutoFill=function(t){if(sf.base.Browser.isAndroid){var e=this.getSelectionPoints(),i=this.prevSelectPoints.end,s=e.end,o=this.prevSelectPoints.start,n=e.start;return 0!==i&&(i===t.length&&o===t.length||o>n&&i>s||i===s&&o===n)}return!1},t.prototype.removeFillSelection=function(){var t=this.getSelectionPoints();this.element.setSelectionRange(t.end,t.end)},t.prototype.keyActionHandler=function(t){if(this.preventKeyAction&&(null==this.previousKeyAction||this.previousKeyAction==t.action)&&this.options.enableVirtualization)t.preventDefault();else{var e={Action:t.action,Key:t.key,Events:t,Type:t.type};this.isDisposed||("space"===t.action&&"INPUT"!==t.target.tagName&&"TEXTAREA"!==t.target.tagName&&t.preventDefault(),this.dotNetRef.invokeMethodAsync("KeyActionHandler",e)),("tab"!==t.action&&"close"!==t.action&&"space"!==t.action&&"enter"!==t.action&&"open"!==t.action&&("SfDropDownList"===this.options.moduleName||"home"!==t.action&&"end"!==t.action)||"enter"===t.action&&!sf.base.isNullOrUndefined(this.isPopupOpen()))&&t.preventDefault()}this.keyDownAction=!0},t.prototype.getOffsetValue=function(t){var e=getComputedStyle(t),i=parseInt(e.borderTopWidth,10),s=parseInt(e.borderBottomWidth,10);return this.setPopupPosition(i+s)},t.prototype.setPopupPosition=function(t){var e,i=t,s=this.list.querySelector(".e-item-focus")||this.list.querySelector(".e-active"),o=this.isEmptyList()?this.list:this.liCollections[0],n=this.isEmptyList()?this.list:this.liCollections[this.getItems().length-1],l=o.getBoundingClientRect().height,r=this.list.offsetHeight/2,a=sf.base.isNullOrUndefined(s)?o.offsetTop:s.offsetTop;if(n.offsetTop-r<a&&!sf.base.isNullOrUndefined(this.liCollections)&&this.liCollections.length>0&&!sf.base.isNullOrUndefined(s)){var p=this.list.offsetHeight/l,h=parseInt(getComputedStyle(this.list).paddingBottom,10);e=(p-(this.liCollections.length-this.activeIndex))*l-i+h,this.list.scrollTop=s.offsetTop}else a>r?(e=r-l/2,this.list.scrollTop=a-r+l/2):e=a;return-(e=e+l+i-(l-this.containerElement.offsetHeight)/2)},t.prototype.getItems=function(){return this.list?this.list.querySelectorAll(".e-list-item"):[]},t.prototype.getListHeight=function(){var t=sf.base.createElement("div",{className:"e-dropdownbase"}),e=sf.base.createElement("li",{className:"e-list-item"}),i=sf.base.formatUnit(this.options.popupHeight);t.style.height=parseInt(i,10).toString()+"px",t.appendChild(e),document.body.appendChild(t),this.virtualPopupHeight=t.getBoundingClientRect().height;var s=Math.ceil(e.getBoundingClientRect().height);return t.remove(),this.virtualListHeight=s+parseInt(window.getComputedStyle(e).marginBottom,10),s},t.prototype.renderPopup=function(t,e,i,s,o,n){var l=this;this.options=o,this.popupHolder=e,this.popupContentEle=t.querySelector(".e-content"),this.list=e.querySelector(".e-content")||sf.base.select(".e-content",this.popupContainer),this.liCollections=this.getItems();var r,a=0;this.preventScrollAction=!0;var p,h=sf.base.formatUnit(this.options.popupHeight);if(this.wireListEvents(),t){var u=document.getElementById(t.id);u&&sf.base.remove(u)}if(document.body.appendChild(t),sf.base.Browser.isDevice&&parseInt(this.options.popupWidth,10)>window.outerWidth&&("SfDropDownList"!==this.options.moduleName||!this.options.allowFiltering)&&sf.base.addClass([t],"e-wide-popup"),t.style.visibility="hidden",this.options.allowFiltering&&("SfDropDownList"===this.options.moduleName?(this.filterInput=t.querySelector("input.e-input"),p=this.filterInput.parentElement,new sf.base.KeyboardEvents(this.filterInput,{keyAction:this.keyActionHandler.bind(this),keyConfigs:this.keyConfigure,eventName:"keydown"}),this.options.enableVirtualization&&sf.base.EventHandler.add(this.filterInput,"keyup",this.keyUpHandler,this)):this.filterInput=this.element),"auto"!==this.options.popupHeight){var d=/\d*\.?\d+rem/,c=/\d*\.?\d+vh/,f=0;if(!sf.base.isNullOrUndefined(p))if(f=p.parentElement.getBoundingClientRect().height,!sf.base.isNullOrUndefined(h)&&d.test(h)){var m=(f+2)/parseFloat(getComputedStyle(document.documentElement).fontSize);h=(parseInt(h,10)-m).toString()+"rem"}else if(!sf.base.isNullOrUndefined(h)&&c.test(h)){var v=(f+2)/window.innerHeight*100;h=(parseInt(h,10)-v).toString()+"vh"}else h=(parseInt(h,10)-2-f).toString()+"px";if(sf.base.isNullOrUndefined(p))if(!sf.base.isNullOrUndefined(h)&&d.test(h)){m=2/parseFloat(getComputedStyle(document.documentElement).fontSize);h=(parseInt(h,10)-m).toString()+"rem"}else if(!sf.base.isNullOrUndefined(h)&&c.test(h)){v=2/window.innerHeight*100;h=(parseInt(h,10)-v).toString()+"vh"}else h=(parseInt(h,10)-2).toString()+"px";if(t.querySelector(".e-ddl-header")){var g=t.querySelector(".e-ddl-header"),y=Math.round(g.getBoundingClientRect().height);t.classList.contains("e-multi-column")&&(y+=13),h=(parseInt(h,10)-(y+f)).toString()+"px"}if(t.querySelector(".e-ddl-footer")){var b=t.querySelector(".e-ddl-footer");y=Math.round(b.getBoundingClientRect().height);t.classList.contains("e-multi-column")&&(y+=13),h=(parseInt(h,10)-(y+f)).toString()+"px"}this.list.style.maxHeight=h,t.style.maxHeight=sf.base.formatUnit(this.options.popupHeight)}else t.style.height="auto";if(this.list&&"SfAutoComplete"!==this.options.moduleName&&!this.list.classList.contains("e-nodata")){if(!this.listHeight){var S=this.options.enableVirtualization&&this.options.hasItemTemplate?t.querySelectorAll("li.e-list-item:not(.e-virtual-list)"):t.querySelectorAll("li.e-list-item");this.listHeight=this.virtualListHeight=S.length>0?Math.ceil(S[0].getBoundingClientRect().height)+parseInt(window.getComputedStyle(S[0]).marginBottom,10):0}this.setScrollPosition()}if(sf.base.Browser.isDevice&&!this.options.allowFiltering&&("SfDropDownList"===this.options.moduleName||"SfComboBox"===this.options.moduleName)){a=this.getOffsetValue(t);var I=this.isEmptyList()?this.list:this.liCollections[0];r=-(parseInt(getComputedStyle(I).textIndent,10)-parseInt(getComputedStyle(this.element).paddingLeft,10)+parseInt(getComputedStyle(this.element.parentElement).borderLeftWidth,10))}this.popupCreation(t,a,r);var w=this.options.enableVirtualization&&this.options.hasItemTemplate?t.querySelectorAll("li.e-list-item:not(.e-virtual-list)"):t.querySelectorAll("li.e-list-item");this.listHeight=this.virtualListHeight=w.length>0?Math.ceil(w[0].getBoundingClientRect().height)+parseInt(window.getComputedStyle(w[0]).marginBottom,10):0,this.virtualListHeight=this.virtualListHeight<this.listHeight?this.listHeight:this.virtualListHeight,this.options.enableVirtualization&&this.firstRender&&(this.dotNetRef.invokeMethodAsync("UpdateListHeight",this.listHeight),this.firstRender=!1),this.checkCollision(t),sf.base.Browser.isDevice&&(this.popupObj.element.classList.add("e-ddl-device"),("SfDropDownList"===this.options.moduleName||"SfComboBox"===this.options.moduleName&&!this.options.allowFiltering)&&(this.popupObj.collision={X:"fit",Y:"fit"}),this.options.allowFiltering&&"SfDropDownList"===this.options.moduleName&&"FullScreen"===this.options.popupDisplayMode&&(this.popupObj.element.classList.add("e-ddl-device-filter"),this.popupObj.position={X:0,Y:0},this.popupObj.dataBind(),sf.base.attributes(this.popupObj.element,{style:"left:0px;right:0px;top:0px;bottom:0px;z-index:"+this.options.zIndex.toString()+";"}),sf.base.addClass([document.body,this.popupObj.element],"e-popup-full-page"),this.setSearchBoxPosition())),t.style.visibility="visible";var C=!!navigator.platform&&/iPad|iPhone|iPod/.test(navigator.platform);if(this.options.allowFiltering&&"SfDropDownList"===this.options.moduleName&&sf.base.Browser.isDevice&&C&&(t.style.position="fixed"),sf.base.addClass([t],"e-popup-close"),sf.base.Browser.isDevice){if("SfDropDownList"===this.options.moduleName&&!this.options.allowFiltering||"SfComboBox"===this.options.moduleName&&!this.options.allowFiltering)for(var H=0,x=this.popupObj.getScrollableParent(this.containerElement);H<x.length;H++){var A=x[H];sf.base.EventHandler.add(A,"scroll",this.scrollHandler,this)}this.isFilterLayout()&&sf.base.EventHandler.add(this.list,"scroll",this.listScroll,this)}if(null!==i&&null!==i.popup&&s){for(var E=0,O=Object.keys(i.popup);E<O.length;E++){switch(O[E]){case"collision":!i.popup.collision||this.popupObj.collision.X===i.popup.collision.X.toLowerCase()&&this.popupObj.collision.Y===i.popup.collision.Y.toLowerCase()||(this.popupObj.collision={X:i.popup.collision.X.toLowerCase(),Y:i.popup.collision.Y.toLowerCase()});break;case"position":!this.popupObj.position||this.popupObj.position.X===i.popup.position.X&&this.popupObj.position.Y===i.popup.position.Y||(this.popupObj.position={X:i.popup.position.X,Y:i.popup.position.Y});break;case"relateTo":this.popupObj.relateTo!==i.popup.relateTo&&(this.popupObj.relateTo=i.popup.relateTo);break;case"targetType":this.popupObj.targetType!==i.popup.targetType.toLowerCase()&&(this.popupObj.targetType=i.popup.targetType);break;case"offsetX":this.popupObj.offsetX!==i.popup.offsetX&&(this.popupObj.offsetX=i.popup.offsetX);break;case"offsetY":this.popupObj.offsetY!==i.popup.offsetY&&(this.popupObj.offsetY=i.popup.offsetY)}}this.popupObj.dataBind(),this.popupObj.refreshPosition(this.popupObj.relateTo,!0)}this.options.enableVirtualization&&(this.virtualScrollObj.bindScrollEvent(),setTimeout((function(){l.updateSelectionList(),l.options.value&&l.options.scrollTop&&(l.list.scrollTop=l.options.scrollTop)}),10)),"SfDropDownList"!==this.options.moduleName&&sf.base.attributes(this.element,{"aria-expanded":"true"}),sf.base.attributes(this.element,{"aria-owns":this.element.id+"_popup"});var B=this.options.allowFiltering?this.filterInput.parentElement:this.containerElement;sf.base.addClass([B],["e-input-focus"]);this.popupObj.show(new sf.base.Animation({name:"FadeIn",duration:100}),1e3===this.options.zIndex?this.element:null)},t.prototype.wireListEvents=function(){sf.base.EventHandler.add(this.list,"mouseover",this.onMouseOver,this),sf.base.EventHandler.add(this.list,"mouseout",this.onMouseLeave,this)},t.prototype.unWireListEvents=function(){sf.base.EventHandler.remove(this.list,"mouseover",this.onMouseOver),sf.base.EventHandler.remove(this.list,"mouseout",this.onMouseLeave)},t.prototype.onMouseOver=function(t){var e=sf.base.closest(t.target,".e-list-item");this.setHover(e)},t.prototype.onMouseLeave=function(t){this.removeHover()},t.prototype.listScroll=function(){this.filterInput.blur()},t.prototype.scrollHandler=function(t){this.isDisposed||("scroll"!==t.type||!this.element||this.isElementInViewport(this.element))&&"scroll"===t.type||this.dotNetRef.invokeMethodAsync("Hide")},t.prototype.isElementInViewport=function(t){var e=t.getBoundingClientRect();return e.top>=0&&e.left>=0&&e.bottom<=window.innerHeight&&e.right<=window.innerWidth},t.prototype.setFloatingHeader=function(t){var e=this.popupContainer&&this.popupContainer.querySelector(".e-content");e&&e.classList.contains("e-nodata")&&this.fixedHeaderElement?(sf.base.remove(this.fixedHeaderElement),this.fixedHeaderElement=null):this.list&&this.list.querySelector("li")&&(sf.base.isNullOrUndefined(this.fixedHeaderElement)&&(this.fixedHeaderElement=sf.base.createElement("div",{className:"e-fixed-head"}),this.list.querySelector("li").classList.contains(i)||(this.fixedHeaderElement.style.display="none"),sf.base.prepend([this.fixedHeaderElement],this.list),this.setFixedHeader()),this.scrollStop(t))},t.prototype.setFixedHeader=function(){this.list.parentElement.style.display="block";var t=0;this.list&&this.list.parentElement&&(t=parseInt(document.defaultView.getComputedStyle(this.list.parentElement,null).getPropertyValue("border-width"),10));var e=(this.list?this.list.querySelectorAll(".e-list-item")[0].offsetWidth:0)-t;this.fixedHeaderElement.style.width=e.toString()+"px",sf.base.setStyleAttribute(this.fixedHeaderElement,{zIndex:10});var s=this.list.querySelector("."+i);this.fixedHeaderElement.innerHTML=s.innerHTML},t.prototype.scrollStop=function(t){var e=t.target,s=this.list.querySelectorAll("li"),o=parseInt(getComputedStyle(s[0],null).getPropertyValue("height"),10),n=Math.round(e.scrollTop/o),l=0;this.list.querySelectorAll(".e-virtual-list")&&(l=this.list.querySelectorAll(".e-virtual-list").length);for(var r=n;r>-1;r--){if(!sf.base.isNullOrUndefined(s[r+l])&&s[r+l].classList.contains(i)){var a=s[r+l];this.fixedHeaderElement.innerHTML=a.innerHTML,this.fixedHeaderElement.style.top=t.target.scrollTop+"px",this.fixedHeaderElement.style.display="block";break}this.fixedHeaderElement.style.display="none",this.fixedHeaderElement.style.top="none"}},t.prototype.isFilterLayout=function(){return"SfDropDownList"===this.options.moduleName&&this.options.allowFiltering},t.prototype.setSearchBoxPosition=function(){var t=this.popupObj.element.querySelector("span.e-filter-parent").getBoundingClientRect().height,e=this.popupObj.element.querySelector(".e-ddl-footer"),i=this.popupObj.element.querySelector(".e-ddl-header");this.popupObj.element.style.maxHeight="100%",this.popupObj.element.style.width="100%";var s=e?e.getBoundingClientRect().height:0,o=i?i.getBoundingClientRect().height:0;this.list.style.maxHeight=this.list.style.height=window.innerHeight-(s+o+t+4)+"px"},t.prototype.checkCollision=function(t){(!sf.base.Browser.isDevice||sf.base.Browser.isDevice&&"SfDropDownList"!==this.options.moduleName)&&(sf.popups.isCollide(t).length>0&&(t.style.marginTop=-parseInt(getComputedStyle(t).marginTop,10)+"px"))},t.prototype.destroy=function(){sf.base.EventHandler.remove(document,"mousedown",this.onDocumentClick),sf.base.Browser.isDevice&&sf.base.EventHandler.remove(window,"orientationchange",this.scrollHandler)},t.prototype.refreshPopup=function(t,e){if(this.isPopupOpen()){if(this.options.enableVirtualization&&t&&(this.preventScrollAction=!0,this.list.scrollTop=0,this.preStartIndex=0,this.virtualInfo=null,this.viewInfo.startIndex=0,this.viewInfo.endIndex=this.options.virtualizedItemsCount,this.preStartIndex=0,0===this.listHeight&&e.totalCount>0)){var i=this.popupContainer.querySelectorAll("li.e-list-item:not(.e-virtual-list)");this.listHeight=i.length>0?Math.ceil(i[0].getBoundingClientRect().height)+parseInt(window.getComputedStyle(i[0]).marginBottom,10):this.virtualListHeight}this.options.totalCount=e.totalCount,this.popupObj.refreshPosition(this.containerElement),this.popupObj.element.querySelector(".e-content").classList.contains("e-nodata")&&this.fixedHeaderElement&&(sf.base.remove(this.fixedHeaderElement),this.fixedHeaderElement=null)}},t.prototype.popupCreation=function(t,e,s){var o=this;this.popupContainer=t,this.popupObj=new sf.popups.Popup(this.popupContainer,{width:this.setWidth(),targetType:"relative",relateTo:this.containerElement,collision:{X:"flip",Y:"flip"},offsetY:e,enableRtl:this.options.enableRtl,offsetX:s,position:{X:"left",Y:"bottom"},zIndex:this.options.zIndex,close:function(){sf.base.EventHandler.remove(o.list,"scroll",o.setFloatingHeader),sf.base.removeClass([o.containerElement],"e-icon-anim"),"SfAutoComplete"===o.options.moduleName&&(null==o.options.value&&(o.preStartIndex=0,o.preEndIndex=0),o.virtualInfo=null),o.fixedHeaderElement=null,o.popupHolder.appendChild(o.popupContainer),o.unWireListEvents();for(var t=0,e=o.popupObj.getScrollableParent(o.containerElement);t<e.length;t++){var i=e[t];sf.base.EventHandler.remove(i,"scroll",o.scrollHandler)}sf.base.Browser.isDevice&&o.isFilterLayout()&&"FullScreen"===o.options.popupDisplayMode&&(sf.base.removeClass([document.body,o.popupObj.element],"e-popup-full-page"),sf.base.EventHandler.remove(o.list,"scroll",o.listScroll)),o.options.enableVirtualization&&(sf.base.EventHandler.remove(o.popupContentEle,"scroll",o.virtualScrollObj.virtualScrollHandler()),"SfDropDownList"===o.options.moduleName&&o.filterInput&&sf.base.EventHandler.remove(o.filterInput,"keyup",o.keyUpHandler)),o.popupObj&&o.popupObj.destroy(),!o.isDisposed&&document.body.contains(o.element)&&o.dotNetRef.invokeMethodAsync("ClosePopup").catch((function(){}))},open:function(){null==o.options.value&&"SfAutoComplete"===o.options.moduleName&&(o.preStartIndex=0);var t=o.list.querySelector("li")&&o.list.querySelector("li").classList.contains(i);o.options.enableVirtualization&&(t=o.list.querySelector("li")&&o.list.querySelector("li.e-list-group-item")&&o.list.querySelector("li.e-list-group-item").classList.contains(i)),sf.base.EventHandler.add(document,"mousedown",o.onDocumentClick,o),o.options.allowFiltering&&o.filterInput&&o.filterInput.focus(),t&&sf.base.EventHandler.add(o.list,"scroll",o.setFloatingHeader,o)},targetExitViewport:function(){sf.base.Browser.isDevice||o.isDisposed||o.dotNetRef.invokeMethodAsync("Hide")}})},t.prototype.isEmptyList=function(){return!sf.base.isNullOrUndefined(this.liCollections)&&0===this.liCollections.length},t.prototype.setWidth=function(){var t=sf.base.formatUnit(this.options.popupWidth);t.indexOf("%")>-1&&(t=(this.containerElement.offsetWidth*parseFloat(t)/100).toString()+"px");if(sf.base.Browser.isDevice&&!this.options.allowFiltering&&("SfDropDownList"===this.options.moduleName||"SfComboBox"===this.options.moduleName)){var e=this.isEmptyList()?this.list:this.liCollections[0];t=parseInt(t,10)+2*(parseInt(getComputedStyle(e).textIndent,10)-parseInt(getComputedStyle(this.element).paddingLeft,10)+parseInt(getComputedStyle(this.element.parentElement).borderLeftWidth,10))+"px"}return t},t.prototype.onDocumentClick=function(t){var e=t.target;!sf.base.isNullOrUndefined(this.popupObj)&&sf.base.closest(e,"[id='"+this.popupObj.element.id+"']")||this.containerElement.contains(t.target)?e===this.element||this.options.allowFiltering&&e===this.filterInput||"SfComboBox"===this.options.moduleName&&!this.options.allowFiltering&&sf.base.Browser.isDevice&&e===this.containerElement.querySelector(".e-ddl-icon")||t.preventDefault():!this.containerElement.classList.contains("e-input-focus")&&!this.isPopupOpen()||this.isDisposed||this.dotNetRef.invokeMethodAsync("Hide")},t.prototype.closePopup=function(t,e){if(this.options=e,this.options.refreshVirtualIndices&&(this.virtualInfo=null,this.preStartIndex=0),this.isPopupOpen()&&!t.cancel&&this.popupObj){sf.base.Browser.isDevice&&this.popupContainer&&this.popupContainer.classList.contains("e-wide-popup")&&this.popupContainer.classList.remove("e-wide-popup"),"SfDropDownList"!==this.options.moduleName&&sf.base.attributes(this.element,{"aria-expanded":"false"}),this.element.removeAttribute("aria-owns"),this.popupObj.hide(new sf.base.Animation({name:"FadeOut",duration:20,delay:0}))}},t.prototype.setScrollPosition=function(t,e){if(this.preventScrollAction=!0,this.previousKeyAction=sf.base.isNullOrUndefined(t)?null:t.action,!this.preventKeyAction)if(!sf.base.isNullOrUndefined(t)&&sf.base.isNullOrUndefined(e))switch(t.action){case"pageDown":case"down":case"end":this.mouseScrollAction=!1,this.isKeyBoardAction=!0,this.scrollBottom(!1,!1,t.action);break;default:this.mouseScrollAction=!1,this.isKeyBoardAction="up"===t.action||"pageUp"===t.action||"open"===t.action,this.scrollTop(t.action)}else null!=e&&(this.viewInfo=this.virtualInfo=e,this.viewInfo.startIndex=this.virtualInfo.startIndex=e.virtualItemStartIndex,this.viewInfo.endIndex=this.virtualInfo.endIndex=e.virtualItemEndIndex),this.isKeyBoardAction=!1,this.list&&this.scrollBottom(!0)},t.prototype.scrollBottom=function(t,e,s){if(void 0===e&&(e=!1),void 0===s&&(s=null),this.list&&(this.list.querySelector(".e-item-focus")||this.list.querySelector(".e-active"))||this.options.enableVirtualization){var o=this.list.querySelector(".e-item-focus")||this.list.querySelector(".e-active");null==o&&this.options.enableVirtualization&&(o=this.list.querySelector(".e-list-item:not(.e-virtual-list)"));var n=o&&!isNaN(parseInt(window.getComputedStyle(o).marginBottom,10))?parseInt(window.getComputedStyle(o).marginBottom,10):0;this.isUpwardScroll=!1;var l=this.list.querySelectorAll(".e-virtual-list").length,r=this.list.offsetHeight,a=this.list.querySelector("li")?this.list.querySelector("li").classList.contains(i):null,p=this.list.querySelector("li:last-of-type")?this.list.querySelector("li:last-of-type").getAttribute("data-value"):null,h=this.virtualInfo&&this.virtualInfo.startIndex?o.offsetTop+this.virtualInfo.startIndex*(o.offsetHeight+n):o.offsetTop,u=h-l*(o.offsetHeight+n)+(o.offsetHeight+n)-this.list.scrollTop,d=this.list.scrollTop+u-r,c=!1;d=t?d+2*parseInt(getComputedStyle(this.list).paddingTop,10):d+parseInt(getComputedStyle(this.list).paddingTop,10);var f=h-l*(o.offsetHeight+n)+(o.offsetHeight+n)-this.list.scrollTop;if(f=a&&!sf.base.isNullOrUndefined(this.fixedHeaderElement)?f-this.fixedHeaderElement.offsetHeight:f,0===this.activeIndex)this.list.scrollTop=0,c=this.isKeyBoardAction;else if(u>r||!(f>0&&this.list.offsetHeight>f)){var m=o?o.getAttribute("data-value"):null,v="pageDown"===s?this.getPageCount(this.popupObj.element)-2:1;if(!this.options.enableVirtualization||this.isKeyBoardAction||e)if(this.isKeyBoardAction&&this.options.enableVirtualization&&p&&m===p&&"end"!==s&&!this.isVirtualAction){this.preventKeyAction=!0;var g="SfDropDownList"===this.options.moduleName&&"pageDown"===s&&this.filterInput?this.filterInput.offsetHeight:0;this.viewInfo&&this.options.totalCount===this.viewInfo.endIndex&&this.isKeyBoardAction||"pageDown"===s?this.list.scrollTop+=(o.offsetHeight+n)*v+g:this.list.scrollTop=d,this.preventKeyAction=!this.IsScrollerAtEnd()&&this.preventKeyAction,this.isKeyBoardAction=!1,this.preventScrollAction=!1}else this.options.enableVirtualization&&"end"===s?(this.preventKeyAction=!1,this.isKeyBoardAction=!1,this.preventScrollAction=!1,this.list.scrollTop=this.list.scrollHeight):"pageDown"===s&&this.options.enableVirtualization&&!this.isVirtualAction?(this.preventKeyAction=!1,this.isKeyBoardAction=!1,this.preventScrollAction=!1,this.list.scrollTop=d):o.previousElementSibling&&o.previousElementSibling.classList.contains("e-virtual-list")&&this.virtualInfo&&this.virtualInfo.startIndex?this.list.scrollTop=this.virtualInfo.startIndex*this.listHeight:this.list.scrollTop=d;else this.list.scrollTop=this.virtualInfo&&this.virtualInfo.startIndex?this.virtualInfo.startIndex*this.listHeight:0;c=this.isKeyBoardAction}this.isKeyBoardAction=c}},t.prototype.scrollTop=function(t){if(void 0===t&&(t=null),this.list&&(this.list.querySelector(".e-item-focus")||this.list.querySelector(".e-active"))){var e=this.list.querySelectorAll(".e-virtual-list").length,s=this.list.querySelector(".e-item-focus")||this.list.querySelector(".e-active"),o=s&&!isNaN(parseInt(window.getComputedStyle(s).marginBottom,10))?parseInt(window.getComputedStyle(s).marginBottom,10):0,n=this.virtualInfo&&this.virtualInfo.startIndex?s.offsetTop+this.virtualInfo.startIndex*(s.offsetHeight+o):s.offsetTop,l=n-e*(s.offsetHeight+o)-this.list.scrollTop,r=this.list.querySelector("li:not(.e-virtual-list)").classList.contains(i),a=this.list.querySelector("li.e-list-item:not(.e-virtual-list)")?this.list.querySelector("li.e-list-item:not(.e-virtual-list)").getAttribute("data-value"):null;l=r&&!sf.base.isNullOrUndefined(this.fixedHeaderElement)?l-this.fixedHeaderElement.offsetHeight:l;var p=n-e*(s.offsetHeight+o)+(s.offsetHeight+o)-this.list.scrollTop,h=this.options.enableVirtualization&&"SfAutoComplete"===this.options.moduleName&&l<=0;if(0===this.activeIndex)this.list.scrollTop=0;else if(l<0||h||0===l&&"home"===t){var u=s?s.getAttribute("data-value"):null,d="pageUp"===t?this.getPageCount(this.popupObj.element)-2:1;this.options.enableVirtualization&&this.isKeyBoardAction&&a&&u===a&&"home"!==t&&!this.isVirtualAction?(this.isUpwardScroll=!0,this.preventKeyAction=!0,this.list.scrollTop-=(s.offsetHeight+o)*d,this.preventKeyAction=0!==this.list.scrollTop&&this.preventKeyAction,this.isKeyBoardAction=!1,this.preventScrollAction=!1):this.options.enableVirtualization&&"home"===t?(this.preventScrollAction=!1,this.preventKeyAction=!0,this.isKeyBoardAction=!1,this.list.scrollTo(0,0)):("pageUp"===t&&this.options.enableVirtualization&&!this.isVirtualAction&&(this.preventKeyAction=!1,this.isKeyBoardAction=!1,this.preventScrollAction=!1),this.list.scrollTop=this.list.scrollTop+l)}else p>0&&this.list.offsetHeight>p||(this.list.scrollTop=n-(r&&!sf.base.isNullOrUndefined(this.fixedHeaderElement)?this.fixedHeaderElement.offsetHeight:0))}},t.prototype.IsScrollerAtEnd=function(){return this.list&&this.list.scrollTop+this.list.clientHeight>=this.list.scrollHeight},t.prototype.setHover=function(t){!t||t.classList.contains("e-hover")||t.classList.contains("e-virtual-list")||(this.removeHover(),sf.base.addClass([t],"e-hover"))},t.prototype.removeHover=function(){if(this.list){var t=this.list.querySelectorAll(".e-hover");t&&t.length&&sf.base.removeClass(t,"e-hover")}},t.prototype.isPopupOpen=function(){return this.popupObj&&document.body.contains(this.popupObj.element)},t.prototype.getPageCount=function(t,e){void 0===e&&(e=!1);var i=t&&t.querySelector(".e-content");if(i){var s=i.classList.contains("e-nodata")?null:getComputedStyle(i.querySelectorAll(".e-list-item")[0],null).getPropertyValue("height"),o=i.getBoundingClientRect().height/parseInt(s,10);return e?o:Math.round(o)}return 0},t.prototype.getTextWidth=function(t){var e=document.createElement("span");e.style.visibility="hidden",e.style.whiteSpace="nowrap",e.textContent=t,document.body.appendChild(e);var i=e.offsetWidth;return document.body.removeChild(e),i},t.prototype.updateFloatLabelSize=function(){if(this.containerElement){var t=this.containerElement.querySelector(".e-float-text");!sf.base.isNullOrUndefined(t)&&!sf.base.isNullOrUndefined(this.element)&&this.element.clientWidth>0&&(this.element.clientWidth<this.getTextWidth(t.textContent)?t.style.width=this.element.clientWidth+"px":t.style.width="")}},t.prototype.removeFloatLabelSize=function(){if(this.containerElement){var t=this.containerElement.querySelector(".e-float-text");sf.base.isNullOrUndefined(t)||(t.style.width="")}},t}();return{initialize:function(t,e,i,o,n){if(i){var l=new s(t,e,i,o,n);if(l.initialize(),!sf.base.isNullOrUndefined(sf.base.closest(i,"fieldset"))&&sf.base.closest(i,"fieldset").disabled){var r=n.enabled=!1;l.dotNetRef.invokeMethodAsync("UpdateFieldSetStatus",r)}if(n.enableVirtualization)return{itemSize:l.getListHeight(),fullPopupHeight:window.outerHeight,virtualPopupHeight:l.virtualPopupHeight}}return{itemSize:0,fullPopupHeight:0,virtualPopupHeight:0}},renderPopup:function(t,e,i,s,o,n,l){var r=window.sfBlazor.getCompInstance(t);i=i||document.getElementById(t+"_popupholder"),e=e||document.getElementById(t+"_popup"),!sf.base.isNullOrUndefined(r)&&e&&i&&r.renderPopup(e,i,s,o,n,l)},refreshPopup:function(t,e,i){var s=window.sfBlazor.getCompInstance(t);sf.base.isNullOrUndefined(s)||s.refreshPopup(e,i)},refreshVirtualIndices:function(t,e){var i=window.sfBlazor.getCompInstance(t);sf.base.isNullOrUndefined(i)||(i.virtualInfo=null,i.preStartIndex=0,i.options.totalCount=e,i.preEndIndex=0)},closePopup:function(t,e,i){var s=window.sfBlazor.getCompInstance(t);sf.base.isNullOrUndefined(s)||s.closePopup(e,i)},updateScrollPosition:function(t,e,i){var s=window.sfBlazor.getCompInstance(t);sf.base.isNullOrUndefined(s)||(s.preventKeyAction=!1,s.setScrollPosition(e,i),s.isVirtualAction=!1)},getPageCount:function(t,e){var i=window.sfBlazor.getCompInstance(t);return!sf.base.isNullOrUndefined(i)&&e?i.getPageCount(e):0},setAutoFillSelection:function(t,e){var i=window.sfBlazor.getCompInstance(t);sf.base.isNullOrUndefined(i)||i.setAutoFillSelection(e)},removeFillSelection:function(t){var e=window.sfBlazor.getCompInstance(t);sf.base.isNullOrUndefined(e)||e.removeFillSelection()},focusIn:function(t,e){var i=window.sfBlazor.getCompInstance(t);sf.base.isNullOrUndefined(i)||(document.activeElement!==i.element?setTimeout((function(){e?i.containerElement.focus():i.element.focus()}),10):e?i.containerElement.focus():i.element.focus())},focusOut:function(t,e){var i=window.sfBlazor.getCompInstance(t);sf.base.isNullOrUndefined(i)||(e?i.containerElement.blur():i.element.blur())},updateFloatLabelSize:function(t){var e=window.sfBlazor.getCompInstance(t);sf.base.isNullOrUndefined(e)||e.updateFloatLabelSize()},removeFloatLabelSize:function(t){var e=window.sfBlazor.getCompInstance(t);sf.base.isNullOrUndefined(e)||e.removeFloatLabelSize()},destroy:function(t,e,i,s,o){var n=window.sfBlazor.getCompInstance(t);sf.base.isNullOrUndefined(n)||(e&&e instanceof HTMLElement&&i&&(n.isDisposed=!0,n.closePopup(s,o)),n.destroy())}}}()}}]);(async()=>{await import(`${document.baseURI}_content/Syncfusion.Blazor.Core/scripts/syncfusion-blazor-base.min.js?v=27.2.undefined`).then(()=>{sfBlazor.loadDependencies('sfdropdownlist');})})();