function onRuleAddDialogClose(){document.getElementById("rules-add-dialog").ej2_instances[0].hide(),$(".form input[type='text']").val(""),$("#dialog-container").find("div").removeClass("e-error")}function onRuleAddDialogOpen(){$("#add-rule").removeAttr("disabled"),$(".dropdown").removeClass("open"),document.getElementById("rules-add-dialog").ej2_instances[0].show(),$(".e-dialog-icon").attr("title","Close"),$(".validation").closest("div").removeClass("has-error"),$(".ruleadd-validation-messages").css("display","none"),$("#dialog-container").find("div").removeClass("e-error")}function updateGrid(e){(e=e.filter(e=>e.ErrorMessage&&""!==e.ErrorMessage.trim())).forEach(e=>{e.ErrorMessage=`<ul class='no-padding'>${e.ErrorMessage}</ul>`});var t=document.getElementById("import_setting_grid").ej2_instances[0];t&&(t.dataSource=e,t.refresh())}function showErrorPopup(e){messageBox("",window.Server.App.LocalizationContent.ImportSettings,e,"error",function(){parent.onCloseMessageBox()})}(e=>{"function"==typeof define&&define.amd?define(["jquery"],e):"object"==typeof module&&"object"==typeof module.exports?exports=e(require("jquery")):e(jQuery)})(function(t){function n(e){var t=7.5625,n=2.75;return e<1/n?t*e*e:e<2/n?t*(e-=1.5/n)*e+.75:e<2.5/n?t*(e-=2.25/n)*e+.9375:t*(e-=2.625/n)*e+.984375}void 0!==t.easing&&(t.easing.jswing=t.easing.swing);var r=Math.pow,i=Math.sqrt,s=Math.sin,a=Math.cos,o=Math.PI,l=1.70158,u=1.525*l,d=2*o/3,c=2*o/4.5;t.extend(t.easing,{def:"easeOutQuad",swing:function(e){return t.easing[t.easing.def](e)},easeInQuad:function(e){return e*e},easeOutQuad:function(e){return 1-(1-e)*(1-e)},easeInOutQuad:function(e){return e<.5?2*e*e:1-r(-2*e+2,2)/2},easeInCubic:function(e){return e*e*e},easeOutCubic:function(e){return 1-r(1-e,3)},easeInOutCubic:function(e){return e<.5?4*e*e*e:1-r(-2*e+2,3)/2},easeInQuart:function(e){return e*e*e*e},easeOutQuart:function(e){return 1-r(1-e,4)},easeInOutQuart:function(e){return e<.5?8*e*e*e*e:1-r(-2*e+2,4)/2},easeInQuint:function(e){return e*e*e*e*e},easeOutQuint:function(e){return 1-r(1-e,5)},easeInOutQuint:function(e){return e<.5?16*e*e*e*e*e:1-r(-2*e+2,5)/2},easeInSine:function(e){return 1-a(e*o/2)},easeOutSine:function(e){return s(e*o/2)},easeInOutSine:function(e){return-(a(o*e)-1)/2},easeInExpo:function(e){return 0===e?0:r(2,10*e-10)},easeOutExpo:function(e){return 1===e?1:1-r(2,-10*e)},easeInOutExpo:function(e){return 0===e?0:1===e?1:e<.5?r(2,20*e-10)/2:(2-r(2,-20*e+10))/2},easeInCirc:function(e){return 1-i(1-r(e,2))},easeOutCirc:function(e){return i(1-r(e-1,2))},easeInOutCirc:function(e){return e<.5?(1-i(1-r(2*e,2)))/2:(i(1-r(-2*e+2,2))+1)/2},easeInElastic:function(e){return 0===e?0:1===e?1:-r(2,10*e-10)*s((10*e-10.75)*d)},easeOutElastic:function(e){return 0===e?0:1===e?1:r(2,-10*e)*s((10*e-.75)*d)+1},easeInOutElastic:function(e){return 0===e?0:1===e?1:e<.5?-(r(2,20*e-10)*s((20*e-11.125)*c))/2:r(2,-20*e+10)*s((20*e-11.125)*c)/2+1},easeInBack:function(e){return(1+l)*e*e*e-l*e*e},easeOutBack:function(e){return 1+(1+l)*r(e-1,3)+l*r(e-1,2)},easeInOutBack:function(e){return e<.5?r(2*e,2)*(7.189819*e-u)/2:(r(2*e-2,2)*((1+u)*(2*e-2)+u)+2)/2},easeInBounce:function(e){return 1-n(1-e)},easeOutBounce:n,easeInOutBounce:function(e){return e<.5?(1-n(1-2*e))/2:(1+n(2*e-1))/2}})}),(e=>{var l,u,d,t,o,a,c,f,h,p,F,I,g,m,k,_,$,r,S,E,R,v,b,T,j,z,P,N,y,w,x,i=function(e){return new i.prototype.init(e)};"undefined"!=typeof require&&"undefined"!=typeof exports&&"undefined"!=typeof module?module.exports=i:e.Globalize=i,i.cultures={},(i.prototype={constructor:i,init:function(e){return this.cultures=i.cultures,this.cultureSelector=e,this}}).init.prototype=i.prototype,i.cultures.default={name:"en",englishName:"English",nativeName:"English",isRTL:!1,language:"en",numberFormat:{pattern:["-n"],decimals:2,",":",",".":".",groupSizes:[3],"+":"+","-":"-",NaN:"NaN",negativeInfinity:"-Infinity",positiveInfinity:"Infinity",percent:{pattern:["-n %","n %"],decimals:2,groupSizes:[3],",":",",".":".",symbol:"%"},currency:{pattern:["($n)","$n"],decimals:2,groupSizes:[3],",":",",".":".",symbol:"$"}},calendars:{standard:{name:"Gregorian_USEnglish","/":"/",":":":",firstDay:0,days:{names:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],namesAbbr:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],namesShort:["Su","Mo","Tu","We","Th","Fr","Sa"]},months:{names:["January","February","March","April","May","June","July","August","September","October","November","December",""],namesAbbr:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec",""]},AM:["AM","am","AM"],PM:["PM","pm","PM"],eras:[{name:"A.D.",start:null,offset:0}],twoDigitYearMax:2029,patterns:{d:"M/d/yyyy",D:"dddd, MMMM dd, yyyy",t:"h:mm tt",T:"h:mm:ss tt",f:"dddd, MMMM dd, yyyy h:mm tt",F:"dddd, MMMM dd, yyyy h:mm:ss tt",M:"MMMM dd",Y:"yyyy MMMM",S:"yyyy'-'MM'-'dd'T'HH':'mm':'ss"}}},messages:{}},i.cultures.default.calendar=i.cultures.default.calendars.standard,i.cultures.en=i.cultures.default,i.cultureSelector="en",l=/^0x[a-f0-9]+$/i,u=/^[+\-]?infinity$/i,d=/^[+\-]?\d*\.?\d*(e[+\-]?\d+)?$/,t=/^\s+|\s+$/g,o=function(e,t){if(e.indexOf)return e.indexOf(t);for(var n=0,r=e.length;n<r;n++)if(e[n]===t)return n;return-1},a=function(e,t){return e.substr(e.length-t.length)===t},c=function(){var e,t,n,r,i,s=arguments[0]||{},a=1,o=arguments.length,l=!1;for("boolean"==typeof s&&(l=s,s=arguments[1]||{},a=2),"object"==typeof s||h(s)||(s={});a<o;a++)if(null!=(e=arguments[a]))for(t in e)i=s[t],n=e[t],s!==n&&(l&&n&&(p(n)||(r=f(n)))?(i=r?(r=!1,i&&f(i)?i:[]):i&&p(i)?i:{},s[t]=c(l,i,n)):void 0!==n&&(s[t]=n));return s},f=Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)},h=function(e){return"[object Function]"===Object.prototype.toString.call(e)},p=function(e){return"[object Object]"===Object.prototype.toString.call(e)},F=function(e,t){return 0===e.indexOf(t)},I=function(e){return(e+"").replace(t,"")},g=function(e){return isNaN(e)?NaN:Math[e<0?"ceil":"floor"](e)},m=function(e,t,n){for(var r=e.length;r<t;r+=1)e=n?"0"+e:e+"0";return e},k=function(e,t){for(var n,r=0,i=!1,s=0,a=e.length;s<a;s++)switch(n=e.charAt(s)){case"'":i?t.push("'"):r++,i=!1;break;case"\\":i&&t.push("\\"),i=!i;break;default:t.push(n),i=!1}return r},_=function(e,t){var e=e.patterns,n=(t=t||"F").length;if(1===n){if(!(e=e[t]))throw"Invalid date format string '"+t+"'.";t=e}else 2===n&&"%"===t.charAt(0)&&(t=t.charAt(1));return t},$=function(e,t,n){function r(e,t){var n,e=e+"";return 1<t&&e.length<t?(n=y[t-2]+e).substr(n.length-t,t):e}function i(e,t){if(v)return v[t];switch(t){case 0:return e.getFullYear();case 1:return e.getMonth();case 2:return e.getDate();default:throw"Invalid part value "+t}}var s,a,o,l,u,d,c,h=n.calendar,f=h.convert;if(!t||!t.length||"i"===t)return b=n&&n.name.length?f?$(e,h.patterns.F,n):(n=new Date(e.getTime()),s=E(e,h.eras),n.setFullYear(R(e,h,s)),n.toLocaleString()):e.toString();a=h.eras,o="s"===t,t=_(h,t);var p,g,m,v,b=[],y=["0","00","000"],w=/([^d]|^)(d|dd)([^d]|$)/g,x=0,C=S();for(!o&&f&&(v=f.fromGregorian(e));;){var M=C.lastIndex,A=C.exec(t),M=t.slice(M,A?A.index:t.length);if(x+=k(M,b),!A)break;if(x%2)b.push(A[0]);else switch(u=(l=A[0]).length,l){case"ddd":case"dddd":d=3===u?h.days.namesAbbr:h.days.names,b.push(d[e.getDay()]);break;case"d":case"dd":g=!0,b.push(r(i(e,2),u));break;case"MMM":case"MMMM":c=i(e,1),b.push((h.monthsGenitive&&(g||m||(g=w.test(t),m=!0),g)?h.monthsGenitive:h.months)[3===u?"namesAbbr":"names"][c]);break;case"M":case"MM":b.push(r(i(e,1)+1,u));break;case"y":case"yy":case"yyyy":c=v?v[0]:R(e,h,E(e,a),o),u<4&&(c%=100),b.push(r(c,u));break;case"h":case"hh":0===(p=e.getHours()%12)&&(p=12),b.push(r(p,u));break;case"H":case"HH":b.push(r(e.getHours(),u));break;case"m":case"mm":b.push(r(e.getMinutes(),u));break;case"s":case"ss":b.push(r(e.getSeconds(),u));break;case"t":case"tt":c=e.getHours()<12?h.AM?h.AM[0]:" ":h.PM?h.PM[0]:" ",b.push(1===u?c.charAt(0):c);break;case"f":case"ff":case"fff":b.push(r(e.getMilliseconds(),3).substr(0,u));break;case"z":case"zz":p=e.getTimezoneOffset()/60,b.push((p<=0?"+":"-")+r(Math.floor(Math.abs(p)),u));break;case"zzz":p=e.getTimezoneOffset()/60,b.push((p<=0?"+":"-")+r(Math.floor(Math.abs(p)),2)+":"+r(Math.abs(e.getTimezoneOffset()%60),2));break;case"g":case"gg":h.eras&&b.push(h.eras[E(e,a)].name);break;case"/":b.push(h["/"]);break;default:throw"Invalid date format pattern '"+l+"'."}}return b.join("")},x=function(e,t,n){var r=n.groupSizes,i=r[0],s=1,a=Math.pow(10,t),a=Math.round(e*a)/a,o=(e=a=isFinite(a)?a:e)+"",l="",a=o.split(/e/i),e=1<a.length?parseInt(a[1],10):0;o=(a=(o=a[0]).split("."))[0],l=1<a.length?a[1]:"",0<e?(o+=(l=m(l,e,!1)).slice(0,e),l=l.substr(e)):e<0&&(l=(o=m(o,1+(e=-e),!0)).slice(-e,o.length)+l,o=o.slice(0,-e));for(var l=0<t?n["."]+(l.length>t?l.slice(0,t):m(l,t)):"",u=o.length-1,d=n[","],c="";0<=u;){if(0===i||u<i)return o.slice(0,u+1)+(c.length?d+c+l:l);c=o.slice(u-i+1,u+1)+(c.length?d+c:""),u-=i,s<r.length&&(i=r[s],s++)}return o.slice(0,u+1)+d+c+l},r=function(e,t,n){var r,i,s,a,o,l;if(!isFinite(e))return e===1/0?n.numberFormat.positiveInfinity:e===-1/0?n.numberFormat.negativeInfinity:n.numberFormat.NaN;if(!t||"i"===t)return n.name.length?e.toLocaleString():e.toString();t=t||"D";var u,d=n.numberFormat,c=Math.abs(e),h=-1;switch(1<t.length&&(h=parseInt(t.slice(1),10)),r=t.charAt(0).toUpperCase()){case"D":u="n",c=g(c),-1!==h&&(c=m(""+c,h,!0)),e<0&&(c="-"+c);break;case"N":i=d;case"C":i=i||d.currency;case"P":i=i||d.percent,u=e<0?i.pattern[0]:i.pattern[1]||"n",-1===h&&(h=i.decimals),c=x(c*("P"===r?100:1),h,i);break;default:throw"Bad number format specifier: "+r}for(s=/n|\$|-|%/g,a="";o=s.lastIndex,l=s.exec(u),a+=u.slice(o,l?l.index:u.length),l;)switch(l[0]){case"n":a+=c;break;case"$":a+=d.currency.symbol;break;case"-":/[1-9]/.test(c)&&(a+=d["-"]);break;case"%":a+=d.percent.symbol}return a},S=function(){return/\/|dddd|ddd|dd|d|MMMM|MMM|MM|M|yyyy|yy|y|hh|h|HH|H|mm|m|ss|s|tt|t|fff|ff|f|zzz|zz|z|gg|g/g},E=function(e,t){var n,r,i,s;if(t)for(r=e.getTime(),i=0,s=t.length;i<s;i++)if(null===(n=t[i].start)||n<=r)return i;return 0},R=function(e,t,n,r){e=e.getFullYear();return!r&&t.eras&&(e-=t.eras[n].offset),e},T=function(e,t){var n,r;return t<100&&(n=new Date,r=E(n),n=R(n,e,r),(r="string"==typeof(r=e.twoDigitYearMax)?(new Date).getFullYear()%100+parseInt(r,10):r)<(t+=n-n%100))&&(t-=100),t},j=function(e,t,n){var r,i=e.days,s=e._upperDays;return s||(e._upperDays=s=[w(i.names),w(i.namesAbbr),w(i.namesShort)]),t=y(t),n?-1===(r=o(s[1],t))&&(r=o(s[2],t)):r=o(s[0],t),r},z=function(e,t,n){var r=e.months,i=e.monthsGenitive||e.months,s=e._upperMonths,a=e._upperMonthsGen;return s||(e._upperMonths=s=[w(r.names),w(r.namesAbbr)],e._upperMonthsGen=a=[w(i.names),w(i.namesAbbr)]),t=y(t),r=(r=o(n?s[1]:s[0],t))<0?o(n?a[1]:a[0],t):r},P=function(e,t){var n,r,i,s,a,o=e._parseRegExp;if(o){if(a=o[t])return a}else e._parseRegExp=o={};for(var l,u=_(e,t).replace(/([\^\$\.\*\+\?\|\[\]\(\)\{\}])/g,"\\\\$1"),d=["^"],c=[],h=0,f=0,p=S();null!==(l=p.exec(u));)if(n=u.slice(h,l.index),h=p.lastIndex,(f+=k(n,d))%2)d.push(l[0]);else{switch(i=(r=l[0]).length,r){case"dddd":case"ddd":case"MMMM":case"MMM":case"gg":case"g":s="(\\D+)";break;case"tt":case"t":s="(\\D*)";break;case"yyyy":case"fff":case"ff":case"f":s="(\\d{"+i+"})";break;case"dd":case"d":case"MM":case"M":case"yy":case"y":case"HH":case"H":case"hh":case"h":case"mm":case"m":case"ss":case"s":s="(\\d\\d?)";break;case"zzz":s="([+-]?\\d\\d?:\\d{2})";break;case"zz":case"z":s="([+-]?\\d\\d?)";break;case"/":s="(\\/)";break;default:throw"Invalid date format pattern '"+r+"'."}s&&d.push(s),c.push(l[0])}return k(u.slice(h),d),d.push("$"),a=d.join("").replace(/\s+/g,"\\s+"),o[t]={regExp:a,groups:c}},N=function(e,t,n){return e<t||n<e},y=function(e){return e.split("Â ").join(" ").toUpperCase()},w=function(e){for(var t=[],n=0,r=e.length;n<r;n++)t[n]=y(e[n]);return t},v=function(e,t,n){e=I(e);var r,i,s,a,o,l,u=n.calendar,n=P(u,t),d=new RegExp(n.regExp).exec(e);if(null===d)return null;for(var c,h=n.groups,f=null,p=null,g=null,m=null,v=null,b=0,y=0,w=0,x=0,C=null,M=!1,A=0,k=h.length;A<k;A++)if(r=d[A+1]){var _=h[A],$=_.length,S=parseInt(r,10);switch(_){case"dd":case"d":if(N(m=S,1,31))return null;break;case"MMM":case"MMMM":if(g=z(u,r,3===$),N(g,0,11))return null;break;case"M":case"MM":if(N(g=S-1,0,11))return null;break;case"y":case"yy":case"yyyy":if(p=$<4?T(u,S):S,N(p,0,9999))return null;break;case"h":case"hh":if(N(b=12===(b=S)?0:b,0,11))return null;break;case"H":case"HH":if(N(b=S,0,23))return null;break;case"m":case"mm":if(N(y=S,0,59))return null;break;case"s":case"ss":if(N(w=S,0,59))return null;break;case"tt":case"t":if((M=u.PM&&(r===u.PM[0]||r===u.PM[1]||r===u.PM[2]))||u.AM&&(r===u.AM[0]||r===u.AM[1]||r===u.AM[2]))break;return null;case"f":case"ff":case"fff":if(x=S*Math.pow(10,3-$),N(x,0,999))return null;break;case"ddd":case"dddd":if(v=j(u,r,3===$),N(v,0,6))return null;break;case"zzz":if(2!==(i=r.split(/:/)).length||(c=parseInt(i[0],10),N(c,-12,13))||(s=parseInt(i[1],10),N(s,0,59)))return null;C=60*c+(F(r,"-")?-s:s);break;case"z":case"zz":if(N(c=S,-12,13))return null;C=60*c;break;case"g":case"gg":if(!(a=r)||!u.eras)return null;for(a=I(a.toLowerCase()),o=0,l=u.eras.length;o<l;o++)if(a===u.eras[o].name.toLowerCase()){f=o;break}if(null===f)return null}}if(t=new Date,n=(e=u.convert)?e.fromGregorian(t)[0]:t.getFullYear(),null===p?p=n:u.eras&&(p+=u.eras[f||0].offset),null===g&&(g=0),null===m&&(m=1),e){if(null===(t=e.toGregorian(p,g,m)))return null}else if(t.setFullYear(p,g,m),t.getDate()!==m||null!==v&&t.getDay()!==v)return null;return M&&b<12&&(b+=12),t.setHours(b,y,w,x),null!==C&&(n=t.getMinutes()-(C+t.getTimezoneOffset()),t.setHours(t.getHours()+parseInt(n/60,10),n%60)),t},b=function(e,t,n){var r,i=t["-"],s=t["+"];switch(n){case"n -":i=" "+i,s=" "+s;case"n-":a(e,i)?r=["-",e.substr(0,e.length-i.length)]:a(e,s)&&(r=["+",e.substr(0,e.length-s.length)]);break;case"- n":i+=" ",s+=" ";case"-n":F(e,i)?r=["-",e.substr(i.length)]:F(e,s)&&(r=["+",e.substr(s.length)]);break;case"(n)":F(e,"(")&&a(e,")")&&(r=["-",e.substr(1,e.length-2)])}return r||["",e]},i.prototype.findClosestCulture=function(e){return i.findClosestCulture.call(this,e)},i.prototype.format=function(e,t,n){return i.format.call(this,e,t,n)},i.prototype.localize=function(e,t){return i.localize.call(this,e,t)},i.prototype.parseInt=function(e,t,n){return i.parseInt.call(this,e,t,n)},i.prototype.parseFloat=function(e,t,n){return i.parseFloat.call(this,e,t,n)},i.prototype.culture=function(e){return i.culture.call(this,e)},i.addCultureInfo=function(e,t,n){var r={},i=!1,r="string"!=typeof e?(n=e,e=this.culture().name,this.cultures[e]):"string"!=typeof t?(n=t,i=null==this.cultures[e],this.cultures[e]||this.cultures.default):(i=!0,this.cultures[t]);this.cultures[e]=c(!0,{},r,n),i&&(this.cultures[e].calendar=this.cultures[e].calendars.standard)},i.findClosestCulture=function(e){var t,n,r,i,s,a;if(!e)return this.findClosestCulture(this.cultureSelector)||this.cultures.default;if("string"==typeof e&&(e=e.split(",")),f(e)){for(var o,l=this.cultures,u=e,d=u.length,c=[],h=0;h<d;h++)r=(e=I(u[h])).split(";"),o=I(r[0]),n=1!==r.length&&0===(e=I(r[1])).indexOf("q=")?(e=e.substr(2),n=parseFloat(e),isNaN(n)?0:n):1,c.push({lang:o,pri:n});for(c.sort(function(e,t){return e.pri<t.pri?1:e.pri>t.pri?-1:0}),h=0;h<d;h++)if(t=l[o=c[h].lang])return t;for(h=0;h<d;h++)for(o=c[h].lang;;){if(-1===(i=o.lastIndexOf("-")))break;if(t=l[o=o.substr(0,i)])return t}for(h=0;h<d;h++)for(s in o=c[h].lang,l)if(a=l[s],a.language==o)return a}else if("object"==typeof e)return e;return t||null},i.format=function(e,t,n){n=this.findClosestCulture(n);return e instanceof Date?e=$(e,t,n):"number"==typeof e&&(e=r(e,t,n)),e},i.localize=function(e,t){return this.findClosestCulture(t).messages[e]||this.cultures.default.messages[e]},i.parseDate=function(e,t,n){var r,i,s,a,o,l;if(n=this.findClosestCulture(n),t){if((t="string"==typeof t?[t]:t).length)for(a=0,o=t.length;a<o&&(!(l=t[a])||!(r=v(e,l,n)));a++);}else for(i in s=n.calendar.patterns)if(r=v(e,s[i],n),r)break;return r||null},i.parseInt=function(e,t,n){return g(i.parseFloat(e,t,n))},i.parseFloat=function(e,t,n){"number"!=typeof t&&(n=t,t=10);var r,i,s,n=this.findClosestCulture(n),a=NaN,o=n.numberFormat;return-1<e.indexOf(n.numberFormat.currency.symbol)&&(e=(e=e.replace(n.numberFormat.currency.symbol,"")).replace(n.numberFormat.currency["."],n.numberFormat["."])),e=I(e),u.test(e)?a=parseFloat(e):!t&&l.test(e)?a=parseInt(e,16):(t=(n=b(e,o,o.pattern[0]))[0],s=n[1],""===t&&"(n)"!==o.pattern[0]&&(t=(n=b(e,o,"(n)"))[0],s=n[1]),""===t&&"-n"!==o.pattern[0]&&(t=(n=b(e,o,"-n"))[0],s=n[1]),t=t||"+",n=(e=(e=s.indexOf("e"))<0?s.indexOf("E"):e)<0?(i=s,null):(i=s.substr(0,e),s.substr(e+1)),s=o["."],i=(e=i.indexOf(s))<0?(r=i,null):(r=i.substr(0,e),i.substr(e+s.length)),e=o[","],r=r.split(e).join(""),s=e.replace(/\u00A0/g," "),t=t+(r=e!==s?r.split(s).join(""):r),null!==i&&(t+="."+i),null!==n&&(t+="e"+((e=b(n,o,"-n"))[0]||"+")+e[1]),d.test(t)&&(a=parseFloat(t))),a},i.culture=function(e){return void 0!==e&&(this.cultureSelector=e),this.findClosestCulture(e)||this.cultures.default}})(this),(e=>{"function"==typeof define&&define.amd?define(["jquery"],e):"object"==typeof module&&module.exports?module.exports=e(require("jquery")):e(jQuery)})(function(d){d.extend(d.fn,{validate:function(e){var r;if(this.length)return(r=d.data(this[0],"validator"))||(this.attr("novalidate","novalidate"),r=new d.validator(e,this[0]),d.data(this[0],"validator",r),r.settings.onsubmit&&(this.on("click.validate",":submit",function(e){r.submitButton=e.currentTarget,d(this).hasClass("cancel")&&(r.cancelSubmit=!0),void 0!==d(this).attr("formnovalidate")&&(r.cancelSubmit=!0)}),this.on("submit.validate",function(n){function e(){var e,t;return r.submitButton&&(r.settings.submitHandler||r.formSubmitted)&&(e=d("<input type='hidden'/>").attr("name",r.submitButton.name).val(d(r.submitButton).val()).appendTo(r.currentForm)),!(r.settings.submitHandler&&!r.settings.debug)||(t=r.settings.submitHandler.call(r,r.currentForm,n),e&&e.remove(),void 0!==t&&t)}return r.settings.debug&&n.preventDefault(),r.cancelSubmit?(r.cancelSubmit=!1,e()):r.form()?r.pendingRequest?!(r.formSubmitted=!0):e():(r.focusInvalid(),!1)})),r);e&&e.debug&&window.console&&console.warn("Nothing selected, can't validate, returning nothing.")},valid:function(){var e,t,n;return d(this[0]).is("form")?e=this.validate().form():(n=[],e=!0,t=d(this[0].form).validate(),this.each(function(){(e=t.element(this)&&e)||(n=n.concat(t.errorList))}),t.errorList=n),e},rules:function(e,t){var n,r,i,s,a,o=this[0],l=void 0!==this.attr("contenteditable")&&"false"!==this.attr("contenteditable");if(null!=o&&(!o.form&&l&&(o.form=this.closest("form")[0],o.name=this.attr("name")),null!=o.form)){if(e)switch(n=d.data(o.form,"validator").settings,r=n.rules,i=d.validator.staticRules(o),e){case"add":d.extend(i,d.validator.normalizeRule(t)),delete i.messages,r[o.name]=i,t.messages&&(n.messages[o.name]=d.extend(n.messages[o.name],t.messages));break;case"remove":return t?(a={},d.each(t.split(/\s/),function(e,t){a[t]=i[t],delete i[t]}),a):(delete r[o.name],i)}return(l=d.validator.normalizeRules(d.extend({},d.validator.classRules(o),d.validator.attributeRules(o),d.validator.dataRules(o),d.validator.staticRules(o)),o)).required&&(s=l.required,delete l.required,l=d.extend({required:s},l)),l.remote&&(s=l.remote,delete l.remote,l=d.extend(l,{remote:s})),l}}});function t(e){return e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"")}var n;d.extend(d.expr.pseudos||d.expr[":"],{blank:function(e){return!t(""+d(e).val())},filled:function(e){e=d(e).val();return null!==e&&!!t(""+e)},unchecked:function(e){return!d(e).prop("checked")}}),d.validator=function(e,t){this.settings=d.extend(!0,{},d.validator.defaults,e),this.currentForm=t,this.init()},d.validator.format=function(n,e){return 1===arguments.length?function(){var e=d.makeArray(arguments);return e.unshift(n),d.validator.format.apply(this,e)}:(void 0===e||((e=2<arguments.length&&e.constructor!==Array?d.makeArray(arguments).slice(1):e).constructor!==Array&&(e=[e]),d.each(e,function(e,t){n=n.replace(new RegExp("\\{"+e+"\\}","g"),function(){return t})})),n)},d.extend(d.validator,{defaults:{messages:{},groups:{},rules:{},errorClass:"error",pendingClass:"pending",validClass:"valid",errorElement:"label",focusCleanup:!1,focusInvalid:!0,errorContainer:d([]),errorLabelContainer:d([]),onsubmit:!0,ignore:":hidden",ignoreTitle:!1,onfocusin:function(e){this.lastActive=e,this.settings.focusCleanup&&(this.settings.unhighlight&&this.settings.unhighlight.call(this,e,this.settings.errorClass,this.settings.validClass),this.hideThese(this.errorsFor(e)))},onfocusout:function(e){this.checkable(e)||!(e.name in this.submitted)&&this.optional(e)||this.element(e)},onkeyup:function(e,t){9===t.which&&""===this.elementValue(e)||-1!==d.inArray(t.keyCode,[16,17,18,20,35,36,37,38,39,40,45,144,225])||(e.name in this.submitted||e.name in this.invalid)&&this.element(e)},onclick:function(e){e.name in this.submitted?this.element(e):e.parentNode.name in this.submitted&&this.element(e.parentNode)},highlight:function(e,t,n){("radio"===e.type?this.findByName(e.name):d(e)).addClass(t).removeClass(n)},unhighlight:function(e,t,n){("radio"===e.type?this.findByName(e.name):d(e)).removeClass(t).addClass(n)}},setDefaults:function(e){d.extend(d.validator.defaults,e)},messages:{required:"This field is required.",remote:"Please fix this field.",email:"Please enter a valid email address.",url:"Please enter a valid URL.",date:"Please enter a valid date.",dateISO:"Please enter a valid date (ISO).",number:"Please enter a valid number.",digits:"Please enter only digits.",equalTo:"Please enter the same value again.",maxlength:d.validator.format("Please enter no more than {0} characters."),minlength:d.validator.format("Please enter at least {0} characters."),rangelength:d.validator.format("Please enter a value between {0} and {1} characters long."),range:d.validator.format("Please enter a value between {0} and {1}."),max:d.validator.format("Please enter a value less than or equal to {0}."),min:d.validator.format("Please enter a value greater than or equal to {0}."),step:d.validator.format("Please enter a multiple of {0}.")},autoCreateRanges:!1,prototype:{init:function(){function e(e){var t,n,r=void 0!==d(this).attr("contenteditable")&&"false"!==d(this).attr("contenteditable");!this.form&&r&&(this.form=d(this).closest("form")[0],this.name=d(this).attr("name")),i===this.form&&(r=d.data(this.form,"validator"),t="on"+e.type.replace(/^validate/,""),(n=r.settings)[t])&&!d(this).is(n.ignore)&&n[t].call(r,this,e)}this.labelContainer=d(this.settings.errorLabelContainer),this.errorContext=this.labelContainer.length&&this.labelContainer||d(this.currentForm),this.containers=d(this.settings.errorContainer).add(this.settings.errorLabelContainer),this.submitted={},this.valueCache={},this.pendingRequest=0,this.pending={},this.invalid={},this.reset();var n,i=this.currentForm,r=this.groups={};d.each(this.settings.groups,function(n,e){"string"==typeof e&&(e=e.split(/\s/)),d.each(e,function(e,t){r[t]=n})}),n=this.settings.rules,d.each(n,function(e,t){n[e]=d.validator.normalizeRule(t)}),d(this.currentForm).on("focusin.validate focusout.validate keyup.validate",":text, [type='password'], [type='file'], select, textarea, [type='number'], [type='search'], [type='tel'], [type='url'], [type='email'], [type='datetime'], [type='date'], [type='month'], [type='week'], [type='time'], [type='datetime-local'], [type='range'], [type='color'], [type='radio'], [type='checkbox'], [contenteditable], [type='button']",e).on("click.validate","select, option, [type='radio'], [type='checkbox']",e),this.settings.invalidHandler&&d(this.currentForm).on("invalid-form.validate",this.settings.invalidHandler)},form:function(){return this.checkForm(),d.extend(this.submitted,this.errorMap),this.invalid=d.extend({},this.errorMap),this.valid()||d(this.currentForm).triggerHandler("invalid-form",[this]),this.showErrors(),this.valid()},checkForm:function(){this.prepareForm();for(var e=0,t=this.currentElements=this.elements();t[e];e++)this.check(t[e]);return this.valid()},element:function(e){var t,n,r=this.clean(e),i=this.validationTargetFor(r),s=this,a=!0;return void 0===i?delete this.invalid[r.name]:(this.prepareElement(i),this.currentElements=d(i),(n=this.groups[i.name])&&d.each(this.groups,function(e,t){t===n&&e!==i.name&&(r=s.validationTargetFor(s.clean(s.findByName(e))))&&r.name in s.invalid&&(s.currentElements.push(r),a=s.check(r)&&a)}),t=!1!==this.check(i),a=a&&t,this.invalid[i.name]=!t,this.numberOfInvalids()||(this.toHide=this.toHide.add(this.containers)),this.showErrors(),d(e).attr("aria-invalid",!t)),a},showErrors:function(t){var n;t&&(d.extend((n=this).errorMap,t),this.errorList=d.map(this.errorMap,function(e,t){return{message:e,element:n.findByName(t)[0]}}),this.successList=d.grep(this.successList,function(e){return!(e.name in t)})),this.settings.showErrors?this.settings.showErrors.call(this,this.errorMap,this.errorList):this.defaultShowErrors()},resetForm:function(){d.fn.resetForm&&d(this.currentForm).resetForm(),this.invalid={},this.submitted={},this.prepareForm(),this.hideErrors();var e=this.elements().removeData("previousValue").removeAttr("aria-invalid");this.resetElements(e)},resetElements:function(e){var t;if(this.settings.unhighlight)for(t=0;e[t];t++)this.settings.unhighlight.call(this,e[t],this.settings.errorClass,""),this.findByName(e[t].name).removeClass(this.settings.validClass);else e.removeClass(this.settings.errorClass).removeClass(this.settings.validClass)},numberOfInvalids:function(){return this.objectLength(this.invalid)},objectLength:function(e){var t,n=0;for(t in e)null!=e[t]&&!1!==e[t]&&n++;return n},hideErrors:function(){this.hideThese(this.toHide)},hideThese:function(e){e.not(this.containers).text(""),this.addWrapper(e).hide()},valid:function(){return 0===this.size()},size:function(){return this.errorList.length},focusInvalid:function(){if(this.settings.focusInvalid)try{d(this.findLastActive()||this.errorList.length&&this.errorList[0].element||[]).filter(":visible").trigger("focus").trigger("focusin")}catch(e){}},findLastActive:function(){var t=this.lastActive;return t&&1===d.grep(this.errorList,function(e){return e.element.name===t.name}).length&&t},elements:function(){var n=this,r={};return d(this.currentForm).find("input, select, textarea, [contenteditable]").not(":submit, :reset, :image, :disabled").not(this.settings.ignore).filter(function(){var e=this.name||d(this).attr("name"),t=void 0!==d(this).attr("contenteditable")&&"false"!==d(this).attr("contenteditable");return!e&&n.settings.debug&&window.console&&console.error("%o has no name assigned",this),t&&(this.form=d(this).closest("form")[0],this.name=e),!(this.form!==n.currentForm||e in r||!n.objectLength(d(this).rules())||(r[e]=!0,0))})},clean:function(e){return d(e)[0]},errors:function(){var e=this.settings.errorClass.split(" ").join(".");return d(this.settings.errorElement+"."+e,this.errorContext)},resetInternals:function(){this.successList=[],this.errorList=[],this.errorMap={},this.toShow=d([]),this.toHide=d([])},reset:function(){this.resetInternals(),this.currentElements=d([])},prepareForm:function(){this.reset(),this.toHide=this.errors().add(this.containers)},prepareElement:function(e){this.reset(),this.toHide=this.errorsFor(e)},elementValue:function(e){var t=d(e),n=e.type,r=void 0!==t.attr("contenteditable")&&"false"!==t.attr("contenteditable");return"radio"===n||"checkbox"===n?this.findByName(e.name).filter(":checked").val():"number"===n&&void 0!==e.validity?e.validity.badInput?"NaN":t.val():(e=r?t.text():t.val(),"file"===n?"C:\\fakepath\\"===e.substr(0,12)?e.substr(12):0<=(r=e.lastIndexOf("/"))||0<=(r=e.lastIndexOf("\\"))?e.substr(r+1):e:"string"==typeof e?e.replace(/\r/g,""):e)},check:function(t){t=this.validationTargetFor(this.clean(t));var e,n,r,i,s=d(t).rules(),a=d.map(s,function(e,t){return t}).length,o=!1,l=this.elementValue(t);for(n in this.abortRequest(t),"function"==typeof s.normalizer?i=s.normalizer:"function"==typeof this.settings.normalizer&&(i=this.settings.normalizer),i&&(l=i.call(t,l),delete s.normalizer),s){r={method:n,parameters:s[n]};try{if("dependency-mismatch"===(e=d.validator.methods[n].call(this,l,t,r.parameters))&&1===a)o=!0;else{if(o=!1,"pending"===e)return void(this.toHide=this.toHide.not(this.errorsFor(t)));if(!e)return this.formatAndAdd(t,r),!1}}catch(e){throw this.settings.debug&&window.console&&console.log("Exception occurred when checking element "+t.id+", check the '"+r.method+"' method.",e),e instanceof TypeError&&(e.message+=".  Exception occurred when checking element "+t.id+", check the '"+r.method+"' method."),e}}if(!o)return this.objectLength(s)&&this.successList.push(t),!0},customDataMessage:function(e,t){return d(e).data("msg"+t.charAt(0).toUpperCase()+t.substring(1).toLowerCase())||d(e).data("msg")},customMessage:function(e,t){e=this.settings.messages[e];return e&&(e.constructor===String?e:e[t])},findDefined:function(){for(var e=0;e<arguments.length;e++)if(void 0!==arguments[e])return arguments[e]},defaultMessage:function(e,t){var n=this.findDefined(this.customMessage(e.name,(t="string"==typeof t?{method:t}:t).method),this.customDataMessage(e,t.method),!this.settings.ignoreTitle&&e.title||void 0,d.validator.messages[t.method],"<strong>Warning: No message defined for "+e.name+"</strong>"),r=/\$?\{(\d+)\}/g;return"function"==typeof n?n=n.call(this,t.parameters,e):r.test(n)&&(n=d.validator.format(n.replace(r,"{$1}"),t.parameters)),n},formatAndAdd:function(e,t){var n=this.defaultMessage(e,t);this.errorList.push({message:n,element:e,method:t.method}),this.errorMap[e.name]=n,this.submitted[e.name]=n},addWrapper:function(e){return e=this.settings.wrapper?e.add(e.parent(this.settings.wrapper)):e},defaultShowErrors:function(){for(var e,t,n=0;this.errorList[n];n++)t=this.errorList[n],this.settings.highlight&&this.settings.highlight.call(this,t.element,this.settings.errorClass,this.settings.validClass),this.showLabel(t.element,t.message);if(this.errorList.length&&(this.toShow=this.toShow.add(this.containers)),this.settings.success)for(n=0;this.successList[n];n++)this.showLabel(this.successList[n]);if(this.settings.unhighlight)for(n=0,e=this.validElements();e[n];n++)this.settings.unhighlight.call(this,e[n],this.settings.errorClass,this.settings.validClass);this.toHide=this.toHide.not(this.toShow),this.hideErrors(),this.addWrapper(this.toShow).show()},validElements:function(){return this.currentElements.not(this.invalidElements())},invalidElements:function(){return d(this.errorList).map(function(){return this.element})},showLabel:function(e,t){var n,r,i,s=this.errorsFor(e),a=this.idOrName(e),o=d(e).attr("aria-describedby");s.length?(s.removeClass(this.settings.validClass).addClass(this.settings.errorClass),this.settings&&this.settings.escapeHtml?s.text(t||""):s.html(t||"")):(s=d("<"+this.settings.errorElement+">").attr("id",a+"-error").addClass(this.settings.errorClass),this.settings&&this.settings.escapeHtml?s.text(t||""):s.html(t||""),r=s,this.settings.wrapper&&(r=s.hide().show().wrap("<"+this.settings.wrapper+"/>").parent()),this.labelContainer.length?this.labelContainer.append(r):this.settings.errorPlacement?this.settings.errorPlacement.call(this,r,d(e)):r.insertAfter(e),s.is("label")?s.attr("for",a):0===s.parents("label[for='"+this.escapeCssMeta(a)+"']").length&&(r=s.attr("id"),o?o.match(new RegExp("\\b"+this.escapeCssMeta(r)+"\\b"))||(o+=" "+r):o=r,d(e).attr("aria-describedby",o),n=this.groups[e.name])&&d.each((i=this).groups,function(e,t){t===n&&d("[name='"+i.escapeCssMeta(e)+"']",i.currentForm).attr("aria-describedby",s.attr("id"))})),!t&&this.settings.success&&(s.text(""),"string"==typeof this.settings.success?s.addClass(this.settings.success):this.settings.success(s,e)),this.toShow=this.toShow.add(s)},errorsFor:function(e){var t=this.escapeCssMeta(this.idOrName(e)),e=d(e).attr("aria-describedby"),t="label[for='"+t+"'], label[for='"+t+"'] *";return e&&(t=t+", #"+this.escapeCssMeta(e).replace(/\s+/g,", #")),this.errors().filter(t)},escapeCssMeta:function(e){return void 0===e?"":e.replace(/([\\!"#$%&'()*+,./:;<=>?@\[\]^`{|}~])/g,"\\$1")},idOrName:function(e){return this.groups[e.name]||!this.checkable(e)&&e.id||e.name},validationTargetFor:function(e){return this.checkable(e)&&(e=this.findByName(e.name)),d(e).not(this.settings.ignore)[0]},checkable:function(e){return/radio|checkbox/i.test(e.type)},findByName:function(e){return d(this.currentForm).find("[name='"+this.escapeCssMeta(e)+"']")},getLength:function(e,t){switch(t.nodeName.toLowerCase()){case"select":return d("option:selected",t).length;case"input":if(this.checkable(t))return this.findByName(t.name).filter(":checked").length}return e.length},depend:function(e,t){return!this.dependTypes[typeof e]||this.dependTypes[typeof e](e,t)},dependTypes:{boolean:function(e){return e},string:function(e,t){return!!d(e,t.form).length},function:function(e,t){return e(t)}},optional:function(e){var t=this.elementValue(e);return!d.validator.methods.required.call(this,t,e)&&"dependency-mismatch"},elementAjaxPort:function(e){return"validate"+e.name},startRequest:function(e){this.pending[e.name]||(this.pendingRequest++,d(e).addClass(this.settings.pendingClass),this.pending[e.name]=!0)},stopRequest:function(e,t){this.pendingRequest--,this.pendingRequest<0&&(this.pendingRequest=0),delete this.pending[e.name],d(e).removeClass(this.settings.pendingClass),t&&0===this.pendingRequest&&this.formSubmitted&&this.form()&&0===this.pendingRequest?(d(this.currentForm).trigger("submit"),this.submitButton&&d("input:hidden[name='"+this.submitButton.name+"']",this.currentForm).remove(),this.formSubmitted=!1):!t&&0===this.pendingRequest&&this.formSubmitted&&(d(this.currentForm).triggerHandler("invalid-form",[this]),this.formSubmitted=!1)},abortRequest:function(e){var t;this.pending[e.name]&&(t=this.elementAjaxPort(e),d.ajaxAbort(t),this.pendingRequest--,this.pendingRequest<0&&(this.pendingRequest=0),delete this.pending[e.name],d(e).removeClass(this.settings.pendingClass))},previousValue:function(e,t){return t="string"==typeof t&&t||"remote",d.data(e,"previousValue")||d.data(e,"previousValue",{old:null,valid:!0,message:this.defaultMessage(e,{method:t})})},destroy:function(){this.resetForm(),d(this.currentForm).off(".validate").removeData("validator").find(".validate-equalTo-blur").off(".validate-equalTo").removeClass("validate-equalTo-blur").find(".validate-lessThan-blur").off(".validate-lessThan").removeClass("validate-lessThan-blur").find(".validate-lessThanEqual-blur").off(".validate-lessThanEqual").removeClass("validate-lessThanEqual-blur").find(".validate-greaterThanEqual-blur").off(".validate-greaterThanEqual").removeClass("validate-greaterThanEqual-blur").find(".validate-greaterThan-blur").off(".validate-greaterThan").removeClass("validate-greaterThan-blur")}},classRuleSettings:{required:{required:!0},email:{email:!0},url:{url:!0},date:{date:!0},dateISO:{dateISO:!0},number:{number:!0},digits:{digits:!0},creditcard:{creditcard:!0}},addClassRules:function(e,t){e.constructor===String?this.classRuleSettings[e]=t:d.extend(this.classRuleSettings,e)},classRules:function(e){var t={},e=d(e).attr("class");return e&&d.each(e.split(" "),function(){this in d.validator.classRuleSettings&&d.extend(t,d.validator.classRuleSettings[this])}),t},normalizeAttributeRule:function(e,t,n,r){(r=/min|max|step/.test(n)&&(null===t||/number|range|text/.test(t))&&(r=Number(r),isNaN(r))?void 0:r)||0===r?e[n]=r:t===n&&"range"!==t&&(e["date"===t?"dateISO":n]=!0)},attributeRules:function(e){var t,n,r={},i=d(e),s=e.getAttribute("type");for(t in d.validator.methods)n="required"===t?(n=e.getAttribute(t),""===n&&(n=!0),!!n):i.attr(t),this.normalizeAttributeRule(r,s,t,n);return r.maxlength&&/-1|2147483647|524288/.test(r.maxlength)&&delete r.maxlength,r},dataRules:function(e){var t,n,r={},i=d(e),s=e.getAttribute("type");for(t in d.validator.methods)n=i.data("rule"+t.charAt(0).toUpperCase()+t.substring(1).toLowerCase()),""===n&&(n=!0),this.normalizeAttributeRule(r,s,t,n);return r},staticRules:function(e){var t={},n=d.data(e.form,"validator");return t=n.settings.rules?d.validator.normalizeRule(n.settings.rules[e.name])||{}:t},normalizeRules:function(r,i){return d.each(r,function(e,t){if(!1===t)delete r[e];else if(t.param||t.depends){var n=!0;switch(typeof t.depends){case"string":n=!!d(t.depends,i.form).length;break;case"function":n=t.depends.call(i,i)}n?r[e]=void 0===t.param||t.param:(d.data(i.form,"validator").resetElements(d(i)),delete r[e])}}),d.each(r,function(e,t){r[e]="function"==typeof t&&"normalizer"!==e?t(i):t}),d.each(["minlength","maxlength"],function(){r[this]&&(r[this]=Number(r[this]))}),d.each(["rangelength","range"],function(){var e;r[this]&&(Array.isArray(r[this])?r[this]=[Number(r[this][0]),Number(r[this][1])]:"string"==typeof r[this]&&(e=r[this].replace(/[\[\]]/g,"").split(/[\s,]+/),r[this]=[Number(e[0]),Number(e[1])]))}),d.validator.autoCreateRanges&&(null!=r.min&&null!=r.max&&(r.range=[r.min,r.max],delete r.min,delete r.max),null!=r.minlength)&&null!=r.maxlength&&(r.rangelength=[r.minlength,r.maxlength],delete r.minlength,delete r.maxlength),r},normalizeRule:function(e){var t;return"string"==typeof e&&(t={},d.each(e.split(/\s/),function(){t[this]=!0}),e=t),e},addMethod:function(e,t,n){d.validator.methods[e]=t,d.validator.messages[e]=void 0!==n?n:d.validator.messages[e],t.length<3&&d.validator.addClassRules(e,d.validator.normalizeRule(e))},methods:{required:function(e,t,n){return this.depend(n,t)?"select"===t.nodeName.toLowerCase()?(n=d(t).val())&&0<n.length:this.checkable(t)?0<this.getLength(e,t):null!=e&&0<e.length:"dependency-mismatch"},email:function(e,t){return this.optional(t)||/^[a-zA-Z0-9.!#$%&'*+\/=?^_`{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/.test(e)},url:function(e,t){return this.optional(t)||/^(?:(?:(?:https?|ftp):)?\/\/)(?:(?:[^\]\[?\/<~#`!@$^&*()+=}|:";',>{ ]|%[0-9A-Fa-f]{2})+(?::(?:[^\]\[?\/<~#`!@$^&*()+=}|:";',>{ ]|%[0-9A-Fa-f]{2})*)?@)?(?:(?!(?:10|127)(?:\.\d{1,3}){3})(?!(?:169\.254|192\.168)(?:\.\d{1,3}){2})(?!172\.(?:1[6-9]|2\d|3[0-1])(?:\.\d{1,3}){2})(?:[1-9]\d?|1\d\d|2[01]\d|22[0-3])(?:\.(?:1?\d{1,2}|2[0-4]\d|25[0-5])){2}(?:\.(?:[1-9]\d?|1\d\d|2[0-4]\d|25[0-4]))|(?:(?:[a-z0-9\u00a1-\uffff][a-z0-9\u00a1-\uffff_-]{0,62})?[a-z0-9\u00a1-\uffff]\.)+(?:[a-z\u00a1-\uffff]{2,}\.?))(?::\d{2,5})?(?:[/?#]\S*)?$/i.test(e)},date:(n=!1,function(e,t){return n||(n=!0,this.settings.debug&&window.console&&console.warn("The `date` method is deprecated and will be removed in version '2.0.0'.\nPlease don't use it, since it relies on the Date constructor, which\nbehaves very differently across browsers and locales. Use `dateISO`\ninstead or one of the locale specific methods in `localizations/`\nand `additional-methods.js`.")),this.optional(t)||!/Invalid|NaN/.test(new Date(e).toString())}),dateISO:function(e,t){return this.optional(t)||/^\d{4}[\/\-](0?[1-9]|1[012])[\/\-](0?[1-9]|[12][0-9]|3[01])$/.test(e)},number:function(e,t){return this.optional(t)||/^(?:-?\d+|-?\d{1,3}(?:,\d{3})+)?(?:\.\d+)?$/.test(e)},digits:function(e,t){return this.optional(t)||/^\d+$/.test(e)},minlength:function(e,t,n){e=Array.isArray(e)?e.length:this.getLength(e,t);return this.optional(t)||n<=e},maxlength:function(e,t,n){e=Array.isArray(e)?e.length:this.getLength(e,t);return this.optional(t)||e<=n},rangelength:function(e,t,n){e=Array.isArray(e)?e.length:this.getLength(e,t);return this.optional(t)||e>=n[0]&&e<=n[1]},min:function(e,t,n){return this.optional(t)||n<=e},max:function(e,t,n){return this.optional(t)||e<=n},range:function(e,t,n){return this.optional(t)||e>=n[0]&&e<=n[1]},step:function(e,t,n){function r(e){return(e=(""+e).match(/(?:\.(\d+))?$/))&&e[1]?e[1].length:0}function i(e){return Math.round(e*Math.pow(10,s))}var s,a=d(t).attr("type"),o="Step attribute on input type "+a+" is not supported.",l=new RegExp("\\b"+a+"\\b"),u=!0;if(a&&!l.test(["text","number","range"].join()))throw new Error(o);return s=r(n),(r(e)>s||i(e)%i(n)!=0)&&(u=!1),this.optional(t)||u},equalTo:function(e,t,n){n=d(n);return this.settings.onfocusout&&n.not(".validate-equalTo-blur").length&&n.addClass("validate-equalTo-blur").on("blur.validate-equalTo",function(){d(t).valid()}),e===n.val()},remote:function(r,i,e,s){if(this.optional(i))return"dependency-mismatch";s="string"==typeof s&&s||"remote";var a,t,o=this.previousValue(i,s);return this.settings.messages[i.name]||(this.settings.messages[i.name]={}),o.originalMessage=o.originalMessage||this.settings.messages[i.name][s],this.settings.messages[i.name][s]=o.message,t=d.param(d.extend({data:r},(e="string"==typeof e?{url:e}:e).data)),o.old===t?o.valid:(o.old=t,(a=this).startRequest(i),(t={})[i.name]=r,d.ajax(d.extend(!0,{mode:"abort",port:this.elementAjaxPort(i),dataType:"json",data:t,context:a.currentForm,success:function(e){var t,n=!0===e||"true"===e;a.settings.messages[i.name][s]=o.originalMessage,n?(t=a.formSubmitted,a.toHide=a.errorsFor(i),a.formSubmitted=t,a.successList.push(i),a.invalid[i.name]=!1,a.showErrors()):(t={},e=e||a.defaultMessage(i,{method:s,parameters:r}),t[i.name]=o.message=e,a.invalid[i.name]=!0,a.showErrors(t)),o.valid=n,a.stopRequest(i,n)}},e)),"pending")}}});var r,i={};return d.ajaxPrefilter?d.ajaxPrefilter(function(e,t,n){var r=e.port;"abort"===e.mode&&(d.ajaxAbort(r),i[r]=n)}):(r=d.ajax,d.ajax=function(e){var t=("mode"in e?e:d.ajaxSettings).mode,e=("port"in e?e:d.ajaxSettings).port;return"abort"===t?(d.ajaxAbort(e),i[e]=r.apply(this,arguments),i[e]):r.apply(this,arguments)}),d.ajaxAbort=function(e){i[e]&&(i[e].abort(),delete i[e])},d}),((t,n)=>{var e=n.jQuery;"object"==typeof exports?module.exports=e?t(n,e):function(e){if(e&&!e.fn)throw"Provide jQuery or null";return t(n,e)}:"function"==typeof define&&define.amd?define(function(){return t(n)}):t(n,!1)})(function(d,G){function b(n,r){return function(){var e,t=this.base;return this.base=n,e=r.apply(this,arguments),this.base=t,e}}function l(e,t){return A(t)&&((t=b(e?e._d?e:b(u,e):u,t))._d=(e&&e._d||0)+1),t}function L(e,t){var n,r=t.props;for(n in r)!ye.test(n)||e[n]&&e[n].fix||(e[n]="convert"!==n?l(e.constructor.prototype[n],r[n]):r[n])}function e(e){return e}function u(){return""}function t(e){this.name=(G.link?"JsViews":"JsRender")+" Error",this.message=e||this.name}function C(e,t){if(e){for(var n in t)e[n]=t[n];return e}}function y(e,t,n){return e?V(e)?y.apply(v,e):(h=n?n[0]:h,/^(\W|_){5}$/.test(e+t+h)||q("Invalid delimiters"),a=e[0],r=e[1],o=t[0],c=t[1],O.delimiters=[a+r,o+c,h],e="\\"+a+"(\\"+h+")?\\"+r,t="\\"+o+"\\"+c,i="(?:(\\w+(?=[\\/\\s\\"+o+"]))|(\\w+)?(:)|(>)|(\\*))\\s*((?:[^\\"+o+"]|\\"+o+"(?!\\"+c+"))*?)",Z.rTag="(?:"+i+")",i=new RegExp("(?:"+e+i+"(\\/)?|\\"+a+"(\\"+h+")?\\"+r+"(?:(?:\\/(\\w+))\\s*|!--[\\s\\S]*?--))"+t,"g"),Z.rTmpl=new RegExp("^\\s|\\s$|<.*>|([^\\\\]|^)[{}]|"+e+".*"+t),s):O.delimiters}function k(){var e=this.get("item");return e?e.index:void 0}function _(){return this.index}function $(e,t,n,r){var i,s,a,o=0;if(1===n&&(r=1,n=void 0),t)for(a=(s=t.split(".")).length;e&&o<a;o++)i=e,e=s[o]?e[s[o]]:e;return n&&(n.lt=n.lt||o<a),void 0===e?r?u:"":r?function(){return e.apply(i,arguments)}:e}function Q(e,t,n){var r,i,s,a,o=this,l=!p&&1<arguments.length,u=o.ctx;if(e){if(o._||(s=o.index,o=o.tag),a=o,u&&u.hasOwnProperty(e)||(u=ue).hasOwnProperty(e)){if(i=u[e],"tag"===e||"tagCtx"===e||"root"===e||"parentTags"===e)return i}else u=void 0;if((!p&&o.tagCtx||o.linked)&&(i&&i._cxp||(o=!o.tagCtx&&!A(i)&&!(o=o.scope||o).isTop&&o.ctx.tag||o,u=(o=void 0!==i&&o.tagCtx?o.tagCtx.view.scope:o)._ocps,(i=u&&u.hasOwnProperty(e)&&u[e]||i)&&i._cxp)||!n&&!l||((u||(o._ocps=o._ocps||{}))[e]=i=[{_ocp:i,_vw:a,_key:e}],i._cxp={path:ce,ind:0,updateValue:function(e,t){return G.observable(i[0]).setProperty(ce,e),this}}),n=i&&i._cxp)){if(2<arguments.length)return(u=i[1]?Z._ceo(i[1].deps):[ce]).unshift(i[0]),u._cxp=n,u;if(s=n.tagElse,u=i[1]?n.tag&&n.tag.cvtArgs?n.tag.cvtArgs(s,1)[n.ind]:i[1](i[0].data,i[0],Z):i[0]._ocp,l)return Z._ucp(e,t,o,n),o;i=u}return i&&A(i)&&C(r=function(){return i.apply(this&&this!==d?this:a,arguments)},i),r||i}}function W(e,t){var n,r,i,s,a,o,l,u=this;if(u.tagName){if(!(u=((o=u).tagCtxs||[u])[e||0]))return}else o=u.tag;if(a=o.bindFrom,s=u.args,(l=(l=o.convert)&&""+l===l?"true"===l?void 0:u.view.getRsc("converters",l)||q("Unknown converter: '"+l+"'"):l)&&!t&&(s=s.slice()),a){for(i=[],n=a.length;n--;)r=a[n],i.unshift(Y(u,r));t&&(s=i)}if(l){if(void 0===(l=l.apply(o,i||s)))return s;if(n=(a=a||[0]).length,V(l)&&(!1===l.arg0||1!==n&&l.length===n&&!l.arg0)||(l=[l],a=[0],n=1),t)s=l;else for(;n--;)+(r=a[n])===r&&(s[r]=l[n])}return s}function Y(e,t){return(e=e[+t===t?"args":"props"])&&e[t]}function X(e){return this.cvtArgs(e,1)}function M(e,t,n,r,i,s,a,o){var l=this,u="array"===t;l.content=o,l.views=u?[]:{},l.data=r,l.tmpl=i,o=l._={key:0,useKey:u?0:1,id:""+ke++,onRender:a,bnds:{}},l.linked=!!a,l.type=t||"top",t&&(l.cache={_ct:O._cchCt}),n&&"top"!==n.type||((l.ctx=e||{}).root=l.data),(l.parent=n)?(l.root=n.root||l,r=n.views,l.isTop=(i=n._).scp,l.scope=(!e.tag||e.tag===n.ctx.tag)&&!l.isTop&&n.scope||l,i.useKey?((r[o.key="_"+i.useKey++]=l).index=Ie,l.getIndex=k):r.length===(o.key=l.index=s)?r.push(l):r.splice(s,0,l),l.ctx=e||n.ctx):t&&(l.root=l)}function w(e,t,n){Object.defineProperty(e,t,{value:n,configurable:!0})}function ee(e,t){var n,r=K._wm||{},i={tmpls:[],links:{},bnds:[],_is:"template",render:te};return(i=t?C(i,t):i).markup=e,i.htmlTag||(n=ve.exec(e),i.htmlTag=n?n[1].toLowerCase():""),(n=r[i.htmlTag])&&n!==r.div&&(i.markup=G.trim(i.markup)),i}function S(l,u){var d=l+"s";v[d]=function e(t,n,r){var i,s,a,o=Z.onStore[l];if(!t||typeof t!==Se||t.nodeType||t.markup||t.getTgt||"viewModel"===l&&t.getters||t.extend)return t&&""+t!==t&&(r=n,n=t,t=void 0),a=r?"viewModel"===l?r:r[d]=r[d]||{}:e,i=u.compile,void 0===n&&(n=i?t:a[t],t=void 0),null===n?t&&delete a[t]:(i&&((n=i.call(a,t,n,r,0)||{})._is=l),t&&(a[t]=n)),o&&o(t,n,r,i),n;for(s in t)e(s,t[s],n);return n||v}}function F(t){s[t]=s[t]||function(e){return arguments.length?(O[t]=e,s):O[t]}}function I(n){function r(e,t){this.tgt=n.getTgt(e,t),t.map=this}return(n=(n=A(n)?{getTgt:n}:n).baseMap?C(C({},n.baseMap),n):n).map=function(e,t){return new r(e,t)},n}function te(e,t,n,r,i,s){var a,o,l,u,d,c,h=r,f="";if(!0===t?(n=t,t=void 0):typeof t!==Se&&(t=void 0),(l=this.tag)?(u=(h=h||this.view)._getTmpl(l.template||this.tmpl),arguments.length||(e=l.contentCtx&&A(l.contentCtx)?l.contentCtx(e):h)):u=this,u){if((h=!r&&e&&"view"===e._is?e:h)&&e===h&&(e=h.data),r=!h,p=p||r,r&&((t=t||{}).root=e),!p||K.useViews||u.useViews||h&&h!==H)f=ne(u,e,t,n,h,i,s,l);else{if(h?(d=h.data,c=h.index,h.index=Ie):(d=(h=H).data,h.data=e,h.ctx=t),V(e)&&!n)for(a=0,o=e.length;a<o;a++)h.index=a,h.data=e[a],f+=u.fn(e[a],h,Z);else h.data=e,f+=u.fn(e,h,Z);h.data=d,h.index=c}r&&(p=void 0)}return f}function ne(e,t,n,r,i,s,a,o){var l,u,d,c,h,f,p,g,m,v,b,y,w,x="";if(o&&(m=o.tagName,y=o.tagCtx,n=n?D(n,o.ctx):o.ctx,e===i.content?p=e!==i.ctx._wrp?i.ctx._wrp:void 0:e!==y.content?e===o.template?(p=y.tmpl,n._wrp=y.content):p=y.content||i.content:p=i.content,!1===y.props.link)&&((n=n||{}).link=!1),i&&(a=a||i._.onRender,(w=n&&!1===n.link)&&i._.nl&&(a=void 0),n=D(n,i.ctx),y=!o&&i.tag?i.tag.tagCtxs[i.tagElse]:y),(v=y&&y.props.itemVar)&&("~"!==v[0]&&J("Use itemVar='~myItem'"),v=v.slice(1)),!0===s&&(f=!0,s=0),!0===(g=a=a&&o&&o._.noVws?void 0:a)&&(g=void 0,a=i._.onRender),b=n=e.helpers?D(e.helpers,n):n,V(t)&&!r)for((d=f?i:void 0!==s&&i||new M(n,"array",i,t,e,s,a,p))._.nl=w,i&&i._.useKey&&(d._.bnd=!o||o._.bnd&&o,d.tag=o),l=0,u=t.length;l<u;l++)c=new M(b,"item",d,t[l],e,(s||0)+l,a,d.content),v&&((c.ctx=C({},b))[v]=Z._cp(t[l],"#data",c)),h=e.fn(t[l],c,Z),x+=d._.onRender?d._.onRender(h,c):h;else d=f?i:new M(b,m||"data",i,t,e,s,a,p),v&&((d.ctx=C({},b))[v]=Z._cp(t,"#data",d)),d.tag=o,d._.nl=w,x+=e.fn(t,d,Z);return o&&(d.tagElse=y.index,y.contentView=d),g?g(x,d):x}function q(e){throw new Z.Err(e)}function J(e){q("Syntax error\n"+e)}function E(M,A,k,_,$){function S(e){(e-=T)&&z.push(M.substr(T,e).replace(he,"\\n"))}function F(e,t){e&&(e+="}}",J((t?"{{"+t+"}} block has {{/"+e+" without {{"+e:"Unmatched or missing {{/"+e)+", in template:\n"+M))}var e,t,I,E,n,R=O.allowCode||A&&A.allowCode||!0===s.allowCode,r=[],T=0,j=[],z=r,P=[,,r];if(R&&A._is&&(A.allowCode=R),k&&(void 0!==_&&(M=M.slice(0,-_.length-2)+o),M=a+M+c),F(j[0]&&j[0][2].pop()[0]),M.replace(i,function(e,t,n,r,i,s,a,o,l,u,d,c){(a&&t||l&&!n||o&&":"===o.slice(-1)||u)&&J(e),s&&(i=":",r=U);var h,f,p,u=(t||k)&&[[]],g="",m="",v="",b="",y="",w="",x="",C="",s=!(l=l||k&&!$)&&!i;n=n||(o=o||"#data",i),S(c),T=c+e.length,a?R&&z.push(["*","\n"+o.replace(/^:/,"ret+= ").replace(fe,"$1")+";\n"]):n?("else"===n&&(me.test(o)&&J('For "{{else if expr}}" use "{{else expr}}"'),u=P[9]&&[[]],P[10]=M.substring(P[10],c),f=P[11]||P[0]||J("Mismatched: "+e),P=j.pop(),z=P[2],s=!0),o&&se(o.replace(he," "),u,A,k).replace(ge,function(e,t,n,r,i,s,a,o){return"this:"===r&&(s="undefined"),o&&(p=p||"@"===o[0]),r="'"+i+"':",a?(m+=n+s+",",b+="'"+o+"',"):n?(v+=r+"j._cp("+s+',"'+o+'",view),',w+=r+"'"+o+"',"):t?x+=s:("trigger"===i&&(C+=s),"lateRender"===i&&(h="false"!==o),g+=r+s+",",y+=r+"'"+o+"',",E=E||ye.test(i)),""}).slice(0,-1),u&&u[0]&&u.pop(),I=[n,r||!!_||E||"",s&&[],ie(b||(":"===n?"'#data',":""),y,w),ie(m||(":"===n?"data,":""),g,v),x,C,h,p,u||0],z.push(I),s&&(j.push(P),(P=I)[10]=T,P[11]=f)):d&&(F(d!==P[0]&&d!==P[11]&&d,P[0]),P[10]=M.substring(P[10],c),P=j.pop()),F(!P&&d),z=P[2]}),S(M.length),(T=r[r.length-1])&&F(""+T!==T&&+T[10]===T[10]&&T[0]),k){for(t=ae(r,M,k),n=[],e=r.length;e--;)n.unshift(r[e][9]);re(t,n)}else t=ae(r,A);return t}function re(e,t){var n,r,i=0,s=t.length;for(e.deps=[],e.paths=[];i<s;i++)for(n in e.paths.push(r=t[i]),r)"_jsvto"!==n&&r.hasOwnProperty(n)&&r[n].length&&!r[n].skp&&(e.deps=e.deps.concat(r[n]))}function ie(e,t,n){return[e.slice(0,-1),t.slice(0,-1),n.slice(0,-1)]}function se($,S,e,F){var I,E,R,T,j=S&&S[0],z={bd:j},P={0:z},N=0,O=0,L=0,q={},D=0,H={},V={},B={},U={0:0},Q={0:""},W=0,e=(($="@"===$[0]?$.replace(Ae,"."):$)+(e?" ":"")).replace(Z.rPrm,function(e,t,n,r,l,i,s,a,o,u,d,c,h,f,p,g,m,v,b,y,w){i=i||"",h=h||"",n=n||t||h,l=(l=r&&!a?r+l:l)||o,(u=u&&!/\)|]/.test(w[y-1]))&&(l=l.slice(1).split(".").join("^")),d=d||v||"";var x,C,M,A,k,_=y;if(!T&&!R){if(s&&J($),m&&j){if(o=B[L-1],w.length-1>_-(o||0)){if(o=G.trim(w.slice(o,_+e.length)),x=E||P[L-1].bd,(C=x[x.length-1])&&C.prm){for(;C.sb&&C.sb.prm;)C=C.sb;M=C.sb={path:C.sb,bnd:C.bnd}}else x.push(M={path:x.pop()});C&&C.sb===M&&(Q[L]=Q[L-1].slice(C._cpPthSt)+Q[L],Q[L-1]=Q[L-1].slice(0,C._cpPthSt)),M._cpPthSt=U[L-1],M._cpKey=o,Q[L]+=w.slice(W,y),W=y,M._cpfn=Ee[o]=Ee[o]||new Function("data,view,j","//"+o+"\nvar v;\nreturn ((v="+Q[L]+("]"===g?")]":g)+")!=null?v:null);"),Q[L-1]+=V[O]&&K.cache?'view.getCache("'+o.replace(pe,"\\$&")+'"':Q[L],M.prm=z.bd,M.bnd=M.bnd||M.path&&0<=M.path.indexOf("^")}Q[L]=""}"["===d&&(d="[j._sq("),"["===n&&(n="[j._sq(")}return s=T?(T=!f)?e:h+'"':R?(R=!p)?e:h+'"':(n?(H[++O]=!0,q[O]=0,j&&(B[L++]=_++,z=P[L]={bd:[]},Q[L]="",U[L]=1),n):"")+(b?O?"":(N=w.slice(N,_),(I?(I=E=!1,"\b"):"\b,")+N+(N=_+e.length,j&&S.push(z.bd=[]),"\b")):a?(L&&J($),j&&S.pop(),I="_"+l,N=_+e.length,j&&((j=z.bd=S[I]=[]).skp=!r),l+":"):l?l.split("^").join(".").replace(Z.rPath,function(e,t,n,r,i,s,a,o){if(A="."===n,n&&(l=l.slice(t.length),/^\.?constructor$/.test(o||l)&&J(e),A||(e=(u?(F?"":"(ltOb.lt=ltOb.lt||")+"(ob=":"")+(r?'view.ctxPrm("'+r+'")':i?"view":"data")+(u?")===undefined"+(F?"":")")+'?"":view._getOb(ob,"':"")+(o?(s?"."+s:r||i?"":"."+n)+(a||""):(o=r?"":i?s||"":n,"")),e=t+("view.data"===(e+=o?"."+o:"").slice(0,9)?e.slice(5):e)+(u?(F?'"':'",ltOb')+(d?",1)":")"):"")),j)){if(x="_linkTo"===I?E=S._jsvto=S._jsvto||[]:z.bd,C=A&&x[x.length-1]){if(C._cpfn){for(;C.sb;)C=C.sb;C.prm&&(C.bnd&&(l="^"+l.slice(1)),C.sb=l,C.bnd=C.bnd||"^"===l[0])}}else x.push(l);d&&!A&&(B[L]=_,U[L]=Q[L].length)}return e})+(d||i):i||(g?"]"===g?")]":")":c?(V[O]||J($),","):t?"":(T=f,R=p,'"'))),T||R||g&&(V[O]=!1,O--),j&&(T||R||(g&&(H[O+1]&&(z=P[--L],H[O+1]=!1),D=q[O+1]),d&&(q[O+1]=Q[L].length+(n?1:0),l||g)&&(z=P[++L]={bd:[]},H[O+1]=!0)),Q[L]=(Q[L]||"")+w.slice(W,y),W=y+e.length,T||R||((k=n&&H[O+1])&&(Q[L-1]+=n,U[L-1]++),"("===d&&A&&!M&&(Q[L]=Q[L-1].slice(D)+Q[L],Q[L-1]=Q[L-1].slice(0,D))),Q[L]+=k?s.slice(1):s),T||R||!d||(O++,l&&"("===d&&(V[O]=!0)),T||R||!v||(j&&(Q[L]+=d),s+=d),s});return j&&(e=Q[0]),!O&&e||J($)}function ae(e,t,n){var r,i,s,a,o,l,u,d,c,h,f,p,g,m,v,b,y,w,x,C,M,A,k,_,$,S,F,I,E,R=0,T=K.useViews||t.useViews||t.tags||t.templates||t.helpers||t.converters,j="",z={},P=e.length;for(""+t===t?(v=n?'data-link="'+t.replace(he," ").slice(1,-1)+'"':t,t=0):(v=t.tmplName||"unnamed",t.allowCode&&(z.allowCode=!0),t.debug&&(z.debug=!0),c=t.bnds,m=t.tmpls),r=0;r<P;r++)if(""+(i=e[r])===i)j+='+"'+i+'"';else if("*"===(s=i[0]))j+=";\n"+i[1]+"\nret=ret";else{if(a=i[1],y=!n&&i[2],I=i[3],E=f=i[4],I="\n\tparams:{args:["+I[0]+"],\n\tprops:{"+I[1]+"}"+(I[2]?",\n\tctx:{"+I[2]+"}":"")+"},\n\targs:["+E[0]+"],\n\tprops:{"+E[1]+"}"+(E[2]?",\n\tctx:{"+E[2]+"}":""),E=i[6],$=i[7],F=i[8]?(S="\nvar ob,ltOb={},ctxs=",";\nctxs.lt=ltOb.lt;\nreturn ctxs;"):(S="\nreturn ",""),_=i[10]&&i[10].replace(fe,"$1"),(C="else"===s)?h&&h.push(i[9]):(k=i[5]||!1!==O.debugMode&&"undefined",c&&(h=i[9])&&(h=[h],R=c.push(1))),T=T||f[1]||f[2]||h||/view.(?!index)/.test(f[0]),(M=":"===s)?a&&(s=a===U?">":a+s):(y&&((_=ee(_,z)).tmplName=v+"/"+s,_.useViews=_.useViews||T,ae(y,_),T=_.useViews,m.push(_)),C||(b=s,T=T||s&&(!N[s]||!N[s].flow),x=j,j=""),w=(w=e[r+1])&&"else"===w[0]),_=k?";\ntry{\nret+=":"\n+",p=C="",M&&(h||E||a&&a!==U||$)){if((A=new Function("data,view,j","// "+v+" "+ ++R+" "+s+S+"{"+I+"};"+F))._er=k,A._tag=s,A._bd=!!h,A._lr=$,n)return A;re(A,h),d=!0,C=(g='c("'+a+'",view,')+R+",",p=")"}if(j+=M?(n?(k?"try{\n":"")+"return ":_)+(d?(T=u=!(d=void 0),g+(A?(c[R-1]=A,R):"{"+I+"}")+")"):">"===s?(l=!0,"h("+f[0]+")"):"((v="+f[0]+")!=null?v:"+(n?"null)":'"")')):(o=!0,"\n{view:view,content:false,tmpl:"+(y?m.length:"false")+","+I+"},"),b&&!w){if(j="["+j.slice(0,-1)+"]",g='t("'+b+'",view,this,',n||h){if((j=new Function("data,view,j"," // "+v+" "+R+" "+b+S+j+F))._er=k,j._tag=b,h&&re(c[R-1]=j,h),j._lr=$,n)return j;C=g+R+",undefined,",p=")"}j=x+_+g+(h&&R||j)+")",b=h=0}k&&!w&&(T=!0,j+=";\n}catch(e){ret"+(n?"urn ":"+=")+C+"j._err(e,view,"+k+")"+p+";}"+(n?"":"\nret=ret"))}j="// "+v+(z.debug?"\ndebugger;":"")+"\nvar v"+(o?",t=j._tag":"")+(u?",c=j._cnvt":"")+(l?",h=j._html":"")+(n?(i[8]?", ob":"")+";\n":',ret=""')+j+(n?"\n":";\nreturn ret;");try{j=new Function("data,view,j",j)}catch(e){J("Compiled template code:\n\n"+j+'\n: "'+(e.message||e)+'"')}return t&&(t.fn=j,t.useViews=!!T),j}function D(e,t){return e&&e!==t?t?C(C({},t),e):e:t&&C({},t)}function R(t,e){var n,r,i,s=e.tag,a=e.props,o=e.params.props,l=a.filter,u=a.sort,d=!0===u,c=parseInt(a.step),h=a.reverse?-1:1;if(V(t)){if(d||u&&""+u===u?((n=t.map(function(e,t){return{i:t,v:""+(e=d?e:$(e,u))===e?e.toLowerCase():e}})).sort(function(e,t){return e.v>t.v?h:e.v<t.v?-h:0}),t=n.map(function(e){return t[e.i]})):(u||h<0)&&!s.dataMap&&(t=t.slice()),A(u)&&(t=t.sort(function(){return u.apply(e,arguments)})),(t=h<0&&(!u||A(u))?t.reverse():t).filter&&l&&(t=t.filter(l,e),e.tag.onFilter)&&e.tag.onFilter(e),o.sorted&&(n=u||h<0?t:t.slice(),s.sorted?G.observable(s.sorted).refresh(n):e.map.sorted=n),r=a.start,i=a.end,(o.start&&void 0===r||o.end&&void 0===i)&&(r=i=0),isNaN(r)&&isNaN(i)||(i=void 0===i||i>t.length?t.length:+i,t=t.slice(r=+r||0,i)),1<c){for(r=0,i=t.length,n=[];r<i;r+=c)n.push(t[r]);t=n}o.paged&&s.paged&&$observable(s.paged).refresh(t)}return t}function T(e,t,n){var r=this.jquery&&(this[0]||q("Unknown template")),i=r.getAttribute(Fe);return te.call(i&&G.data(r)[g]||f(r),e,t,n)}function j(e){return _e[e]||(_e[e]="&#"+e.charCodeAt(0)+";")}function z(e,t){return $e[t]||""}function P(e){return null!=e?be.test(e)&&(""+e).replace(xe,j)||e:""}var oe=!1===G;G=G&&G.fn?G:d.jQuery;var le,i,H,x,A,V,f,B,ue,N,Z,O,K,s,a,r,o,c,h,de,p,n="v1.0.11",ce="_ocp",he=/[ \t]*(\r\n|\n|\r)/g,fe=/\\(['"\\])/g,pe=/['"\\]/g,ge=/(?:\x08|^)(onerror:)?(?:(~?)(([\w$.]+):)?([^\x08]+))\x08(,)?([^\x08]+)/gi,me=/^if\s/,ve=/<(\w+)[>\s]/,be=/[\x00`><\"'&=]/,ye=/^on[A-Z]|^convert(Back)?$/,we=/^\#\d+_`[\s\S]*\/\d+_`$/,xe=/[\x00`><"'&=]/g,Ce=/[&<>]/g,Me=/&(amp|gt|lt);/g,Ae=/\[['"]?|['"]?\]/g,ke=0,_e={"&":"&amp;","<":"&lt;",">":"&gt;","\0":"&#0;","'":"&#39;",'"':"&#34;","`":"&#96;","=":"&#61;"},$e={amp:"&",gt:">",lt:"<"},U="html",Se="object",Fe="data-jsv-tmpl",g="jsvTmpl",Ie="For #index in nested block use #getIndex().",Ee={},Re={},m=d.jsrender,Te=m&&G&&!G.render,je={template:{compile:function n(r,e,i,s){function t(e){var t;if(""+e===e||0<e.nodeType&&(a=e)){if(!a)if(/^\.?\/[^\\:*?"<>]*$/.test(e))(t=f[r=r||e])?e=t:a=document.getElementById(e);else if("#"===e.charAt(0))a=document.getElementById(e.slice(1));else if(G.fn&&!Z.rTmpl.test(e))try{a=G(e,document)[0]}catch(e){}a&&("SCRIPT"!==a.tagName&&q(e+": Use script block, not "+a.tagName),s?e=a.innerHTML:((t=a.getAttribute(Fe))&&(t!==g?(e=f[t],delete f[t]):G.fn&&(e=G.data(a)[g])),(e=t&&e?e:n(r=r||(G.fn?g:e),a.innerHTML,i,s)).tmplName=r=r||t,r!==g&&(f[r]=e),a.setAttribute(Fe,r),G.fn&&G.data(a,g,e))),a=void 0}else e.fn||(e=void 0);return e}var a,o,l,u,d,c=e=e||"";if(Z._html=B.html,0===s&&(s=void 0,c=t(c)),(s=s||(e.markup?e.bnds?C({},e):e:{})).tmplName=s.tmplName||r||"unnamed",i&&(s._parentTmpl=i),void 0!==(c=!c&&e.markup&&(c=t(e.markup))&&c.fn?c.markup:c)){if(c.render||e.render?c.tmpls&&(o=c):(e=ee(c,s),E(c.replace(pe,"\\$&"),e)),!o){var h=o=C(function(){return o.render.apply(o,arguments)},e);for(l in je)u=l+"s",h[u]&&(d=h[u],h[u]={},v[u](d,h))}return o}}},tag:{compile:function(e,t,n){function r(){this._={unlinked:!0},this.inline=!0,this.tagName=e}var i,s,a,o=new Z._tg;if(A(t)?t={depends:t.depends,render:t}:""+t===t&&(t={template:t}),s=t.baseTag)for(a in t.flow=!!t.flow,(s=""+s===s?n&&n.tags[s]||N[s]:s)||q('baseTag: "'+t.baseTag+'" not found'),o=C(o,s),t)o[a]=l(s[a],t[a]);else o=C(o,t);return void 0!==(i=o.template)&&(o.template=""+i===i?f[i]||f(i):i),(r.prototype=o).constructor=o._ctr=r,n&&(o._parentTmpl=n),o}},viewModel:{compile:function(l,e){function t(e){n.apply(this,e)}function g(){return new t(arguments)}function m(e,t){for(var n,r,i,s,a,o,l=0;l<p;l++)n=void 0,(r=h[l])+""!==r&&(r=(n=r).getter,s=n.parentRef),void 0===(i=e[r])&&n&&void 0!==(a=n.defaultVal)&&(o=e,i=A(a=a)?a.call(o):a),t(i,n&&c[n.type],r,s)}function u(e,t,n){e=e+""===e?JSON.parse(e):e;var r,i,s,a,o,l,u,d,c,h,f=0,p=this;if(V(p)){for(u={},c=[],i=e.length,s=p.length;f<i;f++){for(d=e[f],l=!1,r=0;r<s&&!l;r++)u[r]||(o=p[r],v&&(u[r]=l=v+""===v?d[v]&&(y[v]?o[v]():o[v])===d[v]:v(o,d)));l?(o.merge(d),c.push(o)):(c.push(h=g.map(d)),n&&w(h,n,t))}b?b(p).refresh(c,!0):p.splice.apply(p,[0,p.length].concat(c))}else for(a in m(e,function(e,t,n,r){t?p[n]().merge(e,p,r):p[n]()!==e&&p[n](e)}),e)a===x||y[a]||(p[a]=e[a])}function d(){function e(e){for(var t=[],n=0,r=e.length;n<r;n++)t.push(e[n].unmap());return t}var t,n,r,i,s=0,a=this;if(V(a))return e(a);for(t={};s<p;s++)r=void 0,i=a[n=(n=h[s])+""!==n?(r=n).getter:n](),t[n]=r&&i&&c[r.type]?V(i)?e(i):i.unmap():i;for(n in a)!a.hasOwnProperty(n)||"_"===n.charAt(0)&&y[n.slice(1)]||n===x||A(a[n])||(t[n]=a[n]);return t}var r,n,i,c=this,h=e.getters,s=e.extend,v=e.id,a=G.extend({_is:l||"unnamed",unmap:d,merge:u},s),o="",f="",p=h?h.length:0,b=G.observable,y={};for(t.prototype=a,r=0;r<p;r++)(t=>{t=t.getter||t,y[t]=r+1;var n="_"+t;o+=(o?",":"")+t,f+="this."+n+" = "+t+";\n",a[t]=a[t]||function(e){return arguments.length?void(b?b(this).setProperty(t,e):this[n]=e):this[n]},b&&(a[t].set=a[t].set||function(e){this[n]=e})})(h[r]);return f=new Function(o,f),((n=function(){f.apply(this,arguments),(i=arguments[p+1])&&w(this,arguments[p],i)}).prototype=a).constructor=n,g.map=function(e){var t,n,r,i,s=0,a=e=e+""===e?JSON.parse(e):e,o=[];if(V(e)){for(t=(e=e||[]).length;s<t;s++)o.push(this.map(e[s]));return o._is=l,o.unmap=d,o.merge=u,o}if(e){for(m(e,function(e,t){t&&(e=t.map(e)),o.push(e)}),a=this.apply(this,o),s=p;s--;)if(r=o[s],(i=h[s].parentRef)&&r&&r.unmap)if(V(r))for(t=r.length;t--;)w(r[t],i,a);else w(r,i,a);for(n in e)n===x||y[n]||(a[n]=e[n])}return a},g.getters=h,g.extend=s,g.id=v,g}},helper:{},converter:{}},v={jsviews:n,sub:{rPath:/^(!*?)(?:null|true|false|\d[\d.]*|([\w$]+|\.|~([\w$]+)|#(view|([\w$]+))?)([\w$.^]*?)(?:[.[^]([\w$]+)\]?)?)$/g,rPrm:/(\()(?=\s*\()|(?:([([])\s*)?(?:(\^?)(~?[\w$.^]+)?\s*((\+\+|--)|\+|-|~(?![\w$])|&&|\|\||===|!==|==|!=|<=|>=|[<>%*:?\/]|(=))\s*|(!*?(@)?[#~]?[\w$.^]+)([([])?)|(,\s*)|(?:(\()\s*)?\\?(?:(')|("))|(?:\s*(([)\]])(?=[.^]|\s*$|[^([])|[)\]])([([]?))|(\s+)/g,View:M,Err:t,tmplFn:E,parse:se,extend:C,extendCtx:D,syntaxErr:J,onStore:{template:function(e,t){null===t?delete Re[e]:e&&(Re[e]=t)}},addSetting:F,settings:{allowCode:!1},advSet:u,_thp:L,_gm:l,_tg:function(){},_cnvt:function(e,t,n,r){var i,s,a,o,l,u="number"==typeof n&&t.tmpl.bnds[n-1];if(void 0!==(r=void 0===r&&u&&u._lr?"":r)?n=r={props:{},args:[r]}:u&&(n=u(t.data,t,Z)),u=u._bd&&u,e||u){if(i=(s=t._lc)&&s.tag,n.view=t,!i){if(i=C(new Z._tg,{_:{bnd:u,unlinked:!0,lt:n.lt},inline:!s,tagName:":",convert:e,onArrayChange:!0,flow:!0,tagCtx:n,tagCtxs:[n],_is:"tag"}),1<(o=n.args.length))for(l=i.bindTo=[];o--;)l.unshift(o);s&&((s.tag=i).linkCtx=s),n.ctx=D(n.ctx,(s?s.view:t).ctx),L(i,n)}i._er=r&&a,i.ctx=n.ctx||i.ctx||{},n.ctx=void 0,a=i.cvtArgs()[0],i._er=r&&a}else a=n.args[0];return null!=(a=u&&t._.onRender?t._.onRender(a,t,i):a)?a:""},_tag:function(e,t,n,r,i,s){function P(e){var t=a[e];if(void 0!==t)for(t=V(t)?t:[t],h=t.length;h--;)_=t[h],isNaN(parseInt(_))||(t[h]=parseInt(_));return t||[0]}var a,o,l,u,d,c,h,f,p,g,m,v,b,y,w,x,C,N,M,A,k,_,$,S,F,I,E=0,R="",T=(t=t||H)._lc||!1,j=t.ctx,O=n||t.tmpl,z="number"==typeof r&&t.tmpl.bnds[r-1];for(("tag"===e._is?(e=(a=e).tagName,r=a.tagCtxs,a):o=t.getRsc("tags",e)||q("Unknown tag: {{"+e+"}} ")).template,void 0!==(s=void 0===s&&z&&(z._lr=o.lateRender&&!1!==z._lr||z._lr)?"":s)?(R+=s,r=s=[{props:{},args:[],params:{props:{}}}]):z&&(r=z(t.data,t,Z)),c=r.length;E<c;E++)w=(g=r[E]).tmpl,(!T||!T.tag||E&&!T.tag.inline||a._er||w&&+w===w)&&(w&&O.tmpls&&(g.tmpl=g.content=O.tmpls[w-1]),g.index=E,g.ctxPrm=Q,g.render=te,g.cvtArgs=W,g.bndArgs=X,g.view=t,g.ctx=D(D(g.ctx,o&&o.ctx),j)),(n=g.props.tmpl)&&(g.tmpl=t._getTmpl(n),g.content=g.content||g.tmpl),a?T&&T.fn._lr&&(x=!!a.init):(x=!!(a=new o._ctr).init,a.parent=d=j&&j.tag,a.tagCtxs=r,T&&(a.inline=!1,T.tag=a),a.linkCtx=T,(a._.bnd=z||T.fn)?(a._.ths=g.params.props.this,a._.lt=r.lt,a._.arrVws={}):a.dataBoundOnly&&q(e+" must be data-bound:\n{^{"+e+"}}")),A=a.dataMap,g.tag=a,A&&r&&(g.map=r[E].map),a.flow||(w=g.ctx=g.ctx||{},l=a.parents=w.parentTags=j&&D(w.parentTags,j.parentTags)||{},d&&(l[d.tagName]=d),l[a.tagName]=w.tag=a,w.tagCtx=g);if(!(a._er=s)){for(L(a,r[0]),a.rendering={rndr:a.rendering},E=0;E<c;E++){if(M=(g=a.tagCtx=r[E]).props,a.ctx=g.ctx,!E){if(x&&(a.init(g,T,a.ctx),x=void 0),g.args.length||!1===g.argDefault||!1===a.argDefault||(g.args=C=[g.view.data],g.params.args=["#data"]),v=P("bindTo"),void 0!==a.bindTo&&(a.bindTo=v),void 0!==a.bindFrom?a.bindFrom=P("bindFrom"):a.bindTo&&(a.bindFrom=a.bindTo=v),b=a.bindFrom||v,S=v.length,$=b.length,a._.bnd&&(F=a.linkedElement)&&(a.linkedElement=F=V(F)?F:[F],S!==F.length)&&q("linkedElement not same length as bindTo"),(F=a.linkedCtxParam)&&(a.linkedCtxParam=F=V(F)?F:[F],$!==F.length)&&q("linkedCtxParam not same length as bindFrom/bindTo"),b)for(a._.fromIndex={},a._.toIndex={},f=$;f--;)for(_=b[f],h=S;h--;)_===v[h]&&(a._.fromIndex[h]=f,a._.toIndex[f]=h);T&&(T.attr=a.attr=T.attr||a.attr||T._dfAt),u=a.attr,a._.noVws=u&&u!==U}if(C=a.cvtArgs(E),a.linkedCtxParam)for(N=a.cvtArgs(E,1),h=$,I=a.constructor.prototype.ctx;h--;)(m=a.linkedCtxParam[h])&&(_=b[h],y=N[h],g.ctx[m]=Z._cp(I&&void 0===y?I[m]:y,void 0!==y&&Y(g.params,_),g.view,a._.bnd&&{tag:a,cvt:a.convert,ind:h,tagElse:E}));(k=M.dataMap||A)&&(C.length||M.dataMap)&&((M=g.map)&&M.src===C[0]&&!i||(M&&M.src&&M.unmap(),k.map(C[0],g,M,!a._.bnd),M=g.map),C=[M.tgt]),p=void 0,a.render&&(p=a.render.apply(a,C),t.linked)&&p&&!we.test(p)&&((n={links:[]}).render=n.fn=function(){return p},p=ne(n,t.data,void 0,!0,t,void 0,void 0,a)),C.length||(C=[t]),void 0===p&&(k=C[0],a.contentCtx&&(k=!0===a.contentCtx?t:a.contentCtx(k)),p=g.render(k,!0)||(i?void 0:"")),R=R?R+(p||""):void 0!==p?""+p:void 0}a.rendering=a.rendering.rndr}return a.tagCtx=r[0],a.ctx=a.tagCtx.ctx,a._.noVws&&a.inline&&(R="text"===u?B.html(R):""),z&&t._.onRender?t._.onRender(R,t,a):R},_er:q,_err:function(e,t,n){var r=void 0!==n?A(n)?n.call(t.data,e,t):n||"":"{Error: "+(e.message||e)+"}";return O.onError&&void 0!==(n=O.onError.call(t.data,e,n&&r,t))&&(r=n),t&&!t._lc?B.html(r):r},_cp:e,_sq:function(e){return"constructor"===e&&J(""),e}},settings:{delimiters:y,advanced:function(e){return e?(C(K,e),Z.advSet(),s):K}},map:I};if((t.prototype=new Error).constructor=t,k.depends=function(){return[this.get("item"),"index"]},_.depends="index",M.prototype={get:function(e,t){t||!0===e||(t=e,e=void 0);var n,r,i,s,a=this,o="root"===t;if(e){if(!(s=t&&a.type===t&&a))if(n=a.views,a._.useKey){for(r in n)if(s=t?n[r].get(e,t):n[r])break}else for(r=0,i=n.length;!s&&r<i;r++)s=t?n[r].get(e,t):n[r]}else if(o)s=a.root;else if(t)for(;a&&!s;)s=a.type===t?a:void 0,a=a.parent;else s=a.parent;return s||void 0},getIndex:_,ctxPrm:Q,getRsc:function(e,t){var n,r,i=this;if(""+t===t){for(;void 0===n&&i;)n=(r=i.tmpl&&i.tmpl[e])&&r[t],i=i.parent;return n||v[e][t]}},_getTmpl:function(e){return e&&(e.fn?e:this.getRsc("templates",e)||f(e))},_getOb:$,getCache:function(e){return O._cchCt>this.cache._ct&&(this.cache={_ct:O._cchCt}),void 0!==this.cache[e]?this.cache[e]:this.cache[e]=Ee[e](this.data,this,Z)},_is:"view"},Z=v.sub,s=v.settings,!(m||G&&G.render)){for(le in je)S(le,je[le]);if(B=v.converters,ue=v.helpers,N=v.tags,Z._tg.prototype={baseApply:function(e){return this.base.apply(this,e)},cvtArgs:W,bndArgs:X,ctxPrm:Q},H=Z.topView=new M,G){if(G.fn.render=T,x=G.expando,G.observable){if(n!==(n=G.views.jsviews))throw"jquery.observable.js requires jsrender.js "+n;C(Z,G.views.sub),v.map=G.views.map}}else G={},oe&&(d.jsrender=G),G.renderFile=G.__express=G.compile=function(){throw"Node.js: use npm jsrender, or jsrender-node.js"},G.isFunction=function(e){return"function"==typeof e},G.isArray=Array.isArray||function(e){return"[object Array]"==={}.toString.call(e)},Z._jq=function(e){e!==G&&(C(e,G),(G=e).fn.render=T,delete G.jsrender,x=G.expando)},G.jsrender=n;for(de in(O=Z.settings).allowCode=!1,A=G.isFunction,G.render=Re,G.views=v,G.templates=f=v.templates,O)F(de);(s.debugMode=function(e){return void 0===e?O.debugMode:(O._clFns&&O._clFns(),O.debugMode=e,O.onError=e+""===e?function(){return e}:A(e)?e:void 0,s)})(!1),K=O.advanced={cache:!0,useViews:!1,_jsv:!1},N({if:{render:function(e){var t=this.tagCtx;return this.rendering.done||!e&&(t.args.length||!t.index)?"":(this.rendering.done=!0,void(this.selected=t.index))},contentCtx:!0,flow:!0},for:{sortDataMap:I(R),init:function(e,t){this.setDataMap(this.tagCtxs)},render:function(e){var t,n,r,i,s=this.tagCtx,a=!1===s.argDefault,o=s.props,l=a||s.args.length,u="",d=0;if(!this.rendering.done){if(t=l?e:s.view.data,a)for(a=o.reverse?"unshift":"push",r=+o.end,i=+o.step||1,t=[],n=+o.start||0;0<(r-n)*i;n+=i)t[a](n);void 0!==t&&(e=V(t),u+=s.render(t,!l||o.noIteration),d+=e?t.length:1),(this.rendering.done=d)&&(this.selected=s.index)}return u},setDataMap:function(e){for(var t,n,r,i=e.length;i--;)n=(t=e[i]).props,r=t.params.props,t.argDefault=void 0===n.end||0<t.args.length,n.dataMap=!1!==t.argDefault&&V(t.args[0])&&(r.sort||r.start||r.end||r.step||r.filter||r.reverse||n.sort||n.start||n.end||n.step||n.filter||n.reverse)&&this.sortDataMap},flow:!0},props:{baseTag:"for",dataMap:I(function(e,t){var n,r,i=t.map,s=i&&i.propsArr;if(!s){if(s=[],typeof e===Se||A(e))for(n in e)r=e[n],n===x||!e.hasOwnProperty(n)||t.props.noFunctions&&G.isFunction(r)||s.push({key:n,prop:r});i&&(i.propsArr=i.options&&s)}return R(s,t)}),init:u,flow:!0},include:{flow:!0},"*":{render:e,flow:!0},":*":{render:e,flow:!0},dbg:ue.dbg=B.dbg=function(e){try{throw console.log("JsRender dbg breakpoint: "+e),"dbg breakpoint"}catch(e){}return this.base?this.baseApply(arguments):e}}),B({html:P,attr:P,encode:function(e){return""+e===e?e.replace(Ce,j):e},unencode:function(e){return""+e===e?e.replace(Me,z):e},url:function(e){return null!=e?encodeURI(""+e):null===e?e:""}})}return O=Z.settings,V=(G||m).isArray,s.delimiters("{{","}}","^"),Te&&m.views.sub._jq(G),G||m},window),$(document).ready(function(){addPlacehoder("#rules-add-dialog"),createWaitingPopup("rules-add-dialog"),new ej.popups.Dialog({header:window.Server.App.LocalizationContent.AddRules,content:document.getElementById("dialog-container"),showCloseIcon:!0,width:"500px",height:"auto",isModal:!0,visible:!1,closeOnEscape:!0,animationSettings:{effect:"Zoom"},close:"onRuleAddDialogClose"}).appendTo("#rules-add-dialog"),$.validator.addMethod("isRequired",function(e,t){return!isEmptyOrWhitespace(e)},window.Server.App.LocalizationContent.InvalidRuleName),$.validator.addMethod("hasWhiteSpaceExisits",function(e,t){return!/\s/g.test(e)},window.Server.App.LocalizationContent.RuleHasSpecialCharacter),$.validator.addMethod("isValidRuleName",function(e,t){return/^[a-zA-Z0-9\s]+$/.test(e)&&!/^\s/.test(e)},window.Server.App.LocalizationContent.RuleHasSpecialCharacter),$.validator.addMethod("isIPaddressExists",function(e,t){var n=$.trim(e);return!((!isEditing||n!==existsIpAddress)&&dataSourceRule&&dataSourceRule.some(function(e){return e.IPAddress===n}))},window.Server.App.LocalizationContent.IPAddressExists),$.validator.addMethod("isRuleNameExists",function(e,t){return n=$.trim(e),!(isEditing?n!==exisitingRuleName&&dataSourceRule.some(function(e){return e.RuleName.toLowerCase().toString()===n.toLowerCase().toString()}):dataSourceRule.some(function(e){return e.RuleName.toLowerCase().toString()===n.toLowerCase().toString()}));var n},window.Server.App.LocalizationContent.RuleNameExists),$.validator.addMethod("isValidIPAddress",function(e,t){var n=$('input[name="ipaddress-type"]:checked').val();if("IPv4"===n){if(!/^(25[0-5]|2[0-4][0-9]|[0-1]?[0-9][0-9]?)\.(25[0-5]|2[0-4][0-9]|[0-1]?[0-9][0-9]?)\.(25[0-5]|2[0-4][0-9]|[0-1]?[0-9][0-9]?)\.(25[0-5]|2[0-4][0-9]|[0-1]?[0-9][0-9]?)(\/([0-9]|[1-2][0-9]|3[0-2]))?$/.test(e))return $.validator.messages.isValidIPAddress=window.Server.App.LocalizationContent.InvalidIPV4IPAddress,!1}else{if("IPv6"!==n)return!1;if(!/^(?:(?:[0-9a-fA-F]{1,4}:){7}[0-9a-fA-F]{1,4}|(?:[0-9a-fA-F]{1,4}:){1,7}:|(?:[0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|(?:[0-9a-fA-F]{1,4}:){1,5}(?::[0-9a-fA-F]{1,4}){1,2}|(?:[0-9a-fA-F]{1,4}:){1,4}(?::[0-9a-fA-F]{1,4}){1,3}|(?:[0-9a-fA-F]{1,4}:){1,3}(?::[0-9a-fA-F]{1,4}){1,4}|(?:[0-9a-fA-F]{1,4}:){1,2}(?::[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:(?::[0-9a-fA-F]{1,4}){1,6}|:(?::[0-9a-fA-F]{1,4}){1,7}|::|(?:[0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|2[0-4][0-9]|1[0-9]{2}|[1-9]?[0-9])\.){3}(25[0-5]|2[0-4][0-9]|1[0-9]{2}|[1-9]?[0-9])|::(?:ffff(?::0{1,4}){0,1}:){0,1}((25[0-5]|2[0-4][0-9]|1[0-9]{2}|[1-9]?[0-9])\.){3}(25[0-5]|2[0-4][0-9]|1[0-9]{2}|[1-9]?[0-9]))(?:\/(?:12[0-8]|1[01][0-9]|[1-9]?[0-9]))?(?:%[0-9a-zA-Z]{1,})?$/.test(e))return $.validator.messages.isValidIPAddress=window.Server.App.LocalizationContent.InvalidIPV6IPAddress,!1}return!0},window.Server.App.LocalizationContent.InvalidIPAddress),$("#dialog-container").validate({errorElement:"span",onkeyup:function(e,t){9!=t.keyCode&&(isKeyUp=!0,$(e).valid(),isKeyUp=!1)},onfocusout:function(e){$(e).valid()},rules:{"rule-name":{isRequired:!0,isValidRuleName:!0,isRuleNameExists:!0},"ip-address":{isRequired:!0,isValidIPAddress:!0,isIPaddressExists:!0}},highlight:function(e){$(e).closest("div").addClass("has-error")},unhighlight:function(e){$(e).closest("div").removeClass("has-error"),$(e).closest("div").find("span.ruleadd-validation-messages").html("")},errorPlacement:function(e,t){$(t).closest("div").find("span.ruleadd-validation-messages").html(e.html()).css("display","block")},messages:{"rule-name":{isRequired:window.Server.App.LocalizationContent.InvalidRuleName},"ip-address":{isRequired:window.Server.App.LocalizationContent.InvalidIPAddress,hasWhiteSpaceExisits:window.Server.App.LocalizationContent.RuleHasSpecialCharacter}}}),$(document).on("keyup","#dialog-container",function(e){13==e.keyCode&&($("#cancel-rule").is(":focus")?onRuleAddDialogClose():$("#add-rule").is(":focus")?e.preventDefault():$("input#add-rule").trigger("click"))}),$(document).on("click","#create-rule",function(){$("#dialog-container").valid()&&($("#add-rule").removeAttr("disabled"),$(".form input[type='text']").val(""),document.getElementById("rules-grid").ej2_instances[0].clearSelection(),$(".validation").closest("div").removeClass("has-error"),$(".ruleadd-validation-messages").css("display","none"))})}),$(document).on("click","#add-rule-btn",function(){isEditing=!1,$("#rules-add-dialog_title").text("Add Rules"),$("#add-rule").val("Add Rule"),onRuleAddDialogOpen()}),$(document).on("click","#cancel-rule",function(){onRuleAddDialogClose()}),$(document).ready(function(){$("#importsettingfile").on("click",function(){$(this).val("")}),$("#import-export-settings-container").is(":visible")&&(location.href.match(/import-settings/)?($("#import-setting-tab").tab("show"),$("#export-section-container").hide(),$("#export-settings-button").hide(),$("#import-settings-button").show(),$("#imports-settings-container").show(),"?view=import-settings"!=window.location.search.toString()&&history.pushState(null,"","?view=import-settings")):($("#export-setting-tab").tab("show"),$("#import-settings-button").hide(),$("#imports-settings-container").hide(),$("#export-section-container").show(),$("#export-settings-button").show(),"?view=export-settings"==window.location.search.toString()&&history.pushState(null,"","?view=export-settings"))),$(document).on("click","#export-settings-button",function(){var e=$("#export-site-settings").is(":checked"),t=$("#export-look-and-feel").is(":checked"),n=$("#export-embed-settings").is(":checked"),r=$("#export-email").is(":checked"),i=$("#export-accounts").is(":checked"),s=$("#export-authentication").is(":checked"),a=$("#export-security").is(":checked"),o=$("#export-api-keys").is(":checked"),l=$("#export-license").is(":checked");window.location=exportSettingsUrl+"?isIncludeSiteSettings="+e+"&isIncludeLookAndFeelSettings="+t+"&isIncludeEmbedSettings="+n+"&isIncludeEmailSettings="+r+"&isIncludeAccountSettings="+i+"&isIncludeAuthenticationSettings="+s+"&isIncludeSecuritySettings="+a+"&isIncludeApiKeysSettings="+o+"&isIncludeLicenseSettings="+l}),$("a[data-bs-toggle='tab']").on("click",function(e){$("ul.nav.nav-tabs li").removeClass("active"),"import-setting-tab"==$(this).attr("id")?($(this).closest("li").addClass("active"),$("#export-section-container").hide(),$("#export-settings-button").hide(),$("#import-settings-button").show(),$("#imports-settings-container").show(),"?view=import-settings"!=window.location.search.toString()&&history.pushState(null,"","?view=import-settings")):"export-setting-tab"==$(this).attr("id")&&($(this).closest("li").addClass("active"),$("#import-settings-button").hide(),$("#imports-settings-container").hide(),$("#export-section-container").show(),$("#export-settings-button").show(),"?view=export-settings"!=window.location.search.toString())&&history.pushState(null,"","?view=export-settings")})}),$(document).on("click","#import-trigger-file,#filename",function(){$("#filename").trigger("focus"),$("#importsettingfile").trigger("click")}),$(document).on("change","#importsettingfile",function(e){var t=$(this).val();"zip"!=$(this).val().substring($(this).val().lastIndexOf(".")+1)?($("#importsettings-upload").attr("disabled",!0),$("#filename").val(window.Server.App.LocalizationContent.ZipFileValidator),$("#filename,#import-trigger-file").addClass("validation-message"),$(".upload-box").addClass("e-error")):($("#importsettings-upload").attr("disabled",!1),$("#user-import-validation-msg").css("display","none"),$("#filename,#import-trigger-file").removeClass("validation-message"),$("#filename").val(t),$(".upload-box").removeClass("e-error"),$("#importsettingfile").attr("title",t))}),$(document).on("click","#import-settings-button",function(){var e="";null!=document.getElementById("imports-settings-file-path")&&(e=$("#imports-settings-file-path").attr("data-value")),showWaitingPopup("content-area"),$.ajax({type:"POST",url:importSettingsUrl,data:{fileName:e},success:function(e){if(e.Status)hideWaitingPopup("content-area"),$("#import-settings-button").attr("disabled","disabled"),SuccessAlert(window.Server.App.LocalizationContent.ImportSettings,window.Server.App.LocalizationContent.ImportSettingsSuccessStatus,7e3),window.location.reload();else{try{$("#import-settings-button").attr("disabled","disabled");var t=JSON.parse(e.Message);Array.isArray(t)&&0<t.length&&updateGrid(t)}catch(e){showErrorPopup(window.Server.App.LocalizationContent.ImportSettingsFailureMessage)}hideWaitingPopup("content-area")}}})}),$(document).on("click","#importsettings-upload",function(){var e=new FormData,t=$("#importsettingfile")[0].files[0];t&&(e.append("importsettingfile",t),$.ajax({url:uploadSettingsUrl,type:"POST",data:e,contentType:!1,processData:!1,success:function(e){e.success?($("#imports-settings-file-path").attr("data-value",e.path),$("#imports-settings-has-error").attr("data-value","false"),$("#import-settings-button").removeAttr("disabled"),$("#importsettings-upload").attr("disabled",!0),messageBox("",window.Server.App.LocalizationContent.FileUpload,window.Server.App.LocalizationContent.FileUploadSuccessStatus,"success",function(){parent.onCloseMessageBox()})):($("#import-settings-button").attr("disabled","disabled"),$("#importsettings-upload").attr("disabled",!0),messageBox("",window.Server.App.LocalizationContent.FileUpload,window.Server.App.LocalizationContent.FileUplaodFailureStauts,"success",function(){parent.onCloseMessageBox()}))},error:function(e,t,n){alert("An error occurred: "+e.responseText)}}))}),$(document).ready(function(){$(document).on("click","#cancel-settings",function(){window.location.href=window.location.href})});