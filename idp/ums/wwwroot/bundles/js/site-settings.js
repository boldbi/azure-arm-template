function dropDownListInitialization(e,t,n){new ejs.dropdowns.DropDownList({index:0,floatLabelType:"Never",placeholder:t,cssClass:"e-outline e-custom e-non-float",enablePersistence:!0,change:onDropDownListChange,query:new ej.data.Query,allowFiltering:n,filterType:"Contains"}).appendTo(e)}function onDropDownListChange(e){"enable-ssl"==e.element.id&&onBaseUrlChange(e),"fontfamily"==e.element.id&&onFontChange(),"application-theme"==e.element.id&&onApplicationThemeChange(),"mail-account"==e.element.id&&emailConfiguration()}function groupImportDropDownListInitialization(e,t){new ejs.dropdowns.DropDownList({index:0,floatLabelType:"Never",placeholder:t,change:ongroupImportchange,cssClass:"e-outline e-custom e-non-float",enablePersistence:!0}).appendTo(e)}function fontDropDownListInitialization(e,t,n,a){new ejs.dropdowns.DropDownList({index:0,floatLabelType:"Never",placeholder:t,change:onFontChange,cssClass:"e-outline e-custom e-non-float",enablePersistence:!0,query:new ej.data.Query,allowFiltering:n,filterType:"Contains"}).appendTo(e)}(e=>{"function"==typeof define&&define.amd?define(["jquery"],e):"object"==typeof module&&"object"==typeof module.exports?exports=e(require("jquery")):e(jQuery)})(function(t){function n(e){var t=7.5625,n=2.75;return e<1/n?t*e*e:e<2/n?t*(e-=1.5/n)*e+.75:e<2.5/n?t*(e-=2.25/n)*e+.9375:t*(e-=2.625/n)*e+.984375}void 0!==t.easing&&(t.easing.jswing=t.easing.swing);var a=Math.pow,i=Math.sqrt,o=Math.sin,r=Math.cos,s=Math.PI,l=1.70158,d=1.525*l,c=2*s/3,u=2*s/4.5;t.extend(t.easing,{def:"easeOutQuad",swing:function(e){return t.easing[t.easing.def](e)},easeInQuad:function(e){return e*e},easeOutQuad:function(e){return 1-(1-e)*(1-e)},easeInOutQuad:function(e){return e<.5?2*e*e:1-a(-2*e+2,2)/2},easeInCubic:function(e){return e*e*e},easeOutCubic:function(e){return 1-a(1-e,3)},easeInOutCubic:function(e){return e<.5?4*e*e*e:1-a(-2*e+2,3)/2},easeInQuart:function(e){return e*e*e*e},easeOutQuart:function(e){return 1-a(1-e,4)},easeInOutQuart:function(e){return e<.5?8*e*e*e*e:1-a(-2*e+2,4)/2},easeInQuint:function(e){return e*e*e*e*e},easeOutQuint:function(e){return 1-a(1-e,5)},easeInOutQuint:function(e){return e<.5?16*e*e*e*e*e:1-a(-2*e+2,5)/2},easeInSine:function(e){return 1-r(e*s/2)},easeOutSine:function(e){return o(e*s/2)},easeInOutSine:function(e){return-(r(s*e)-1)/2},easeInExpo:function(e){return 0===e?0:a(2,10*e-10)},easeOutExpo:function(e){return 1===e?1:1-a(2,-10*e)},easeInOutExpo:function(e){return 0===e?0:1===e?1:e<.5?a(2,20*e-10)/2:(2-a(2,-20*e+10))/2},easeInCirc:function(e){return 1-i(1-a(e,2))},easeOutCirc:function(e){return i(1-a(e-1,2))},easeInOutCirc:function(e){return e<.5?(1-i(1-a(2*e,2)))/2:(i(1-a(-2*e+2,2))+1)/2},easeInElastic:function(e){return 0===e?0:1===e?1:-a(2,10*e-10)*o((10*e-10.75)*c)},easeOutElastic:function(e){return 0===e?0:1===e?1:a(2,-10*e)*o((10*e-.75)*c)+1},easeInOutElastic:function(e){return 0===e?0:1===e?1:e<.5?-(a(2,20*e-10)*o((20*e-11.125)*u))/2:a(2,-20*e+10)*o((20*e-11.125)*u)/2+1},easeInBack:function(e){return(1+l)*e*e*e-l*e*e},easeOutBack:function(e){return 1+(1+l)*a(e-1,3)+l*a(e-1,2)},easeInOutBack:function(e){return e<.5?a(2*e,2)*(7.189819*e-d)/2:(a(2*e-2,2)*((1+d)*(2*e-2)+d)+2)/2},easeInBounce:function(e){return 1-n(1-e)},easeOutBounce:n,easeInOutBounce:function(e){return e<.5?(1-n(1-2*e))/2:(1+n(2*e-1))/2}})}),(e=>{var l,d,c,t,s,r,u,g,p,m,I,M,h,f,L,_,A,a,z,k,E,v,w,D,j,T,P,F,b,y,$,i=function(e){return new i.prototype.init(e)};"undefined"!=typeof require&&"undefined"!=typeof exports&&"undefined"!=typeof module?module.exports=i:e.Globalize=i,i.cultures={},(i.prototype={constructor:i,init:function(e){return this.cultures=i.cultures,this.cultureSelector=e,this}}).init.prototype=i.prototype,i.cultures.default={name:"en",englishName:"English",nativeName:"English",isRTL:!1,language:"en",numberFormat:{pattern:["-n"],decimals:2,",":",",".":".",groupSizes:[3],"+":"+","-":"-",NaN:"NaN",negativeInfinity:"-Infinity",positiveInfinity:"Infinity",percent:{pattern:["-n %","n %"],decimals:2,groupSizes:[3],",":",",".":".",symbol:"%"},currency:{pattern:["($n)","$n"],decimals:2,groupSizes:[3],",":",",".":".",symbol:"$"}},calendars:{standard:{name:"Gregorian_USEnglish","/":"/",":":":",firstDay:0,days:{names:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],namesAbbr:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],namesShort:["Su","Mo","Tu","We","Th","Fr","Sa"]},months:{names:["January","February","March","April","May","June","July","August","September","October","November","December",""],namesAbbr:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec",""]},AM:["AM","am","AM"],PM:["PM","pm","PM"],eras:[{name:"A.D.",start:null,offset:0}],twoDigitYearMax:2029,patterns:{d:"M/d/yyyy",D:"dddd, MMMM dd, yyyy",t:"h:mm tt",T:"h:mm:ss tt",f:"dddd, MMMM dd, yyyy h:mm tt",F:"dddd, MMMM dd, yyyy h:mm:ss tt",M:"MMMM dd",Y:"yyyy MMMM",S:"yyyy'-'MM'-'dd'T'HH':'mm':'ss"}}},messages:{}},i.cultures.default.calendar=i.cultures.default.calendars.standard,i.cultures.en=i.cultures.default,i.cultureSelector="en",l=/^0x[a-f0-9]+$/i,d=/^[+\-]?infinity$/i,c=/^[+\-]?\d*\.?\d*(e[+\-]?\d+)?$/,t=/^\s+|\s+$/g,s=function(e,t){if(e.indexOf)return e.indexOf(t);for(var n=0,a=e.length;n<a;n++)if(e[n]===t)return n;return-1},r=function(e,t){return e.substr(e.length-t.length)===t},u=function(){var e,t,n,a,i,o=arguments[0]||{},r=1,s=arguments.length,l=!1;for("boolean"==typeof o&&(l=o,o=arguments[1]||{},r=2),"object"==typeof o||p(o)||(o={});r<s;r++)if(null!=(e=arguments[r]))for(t in e)i=o[t],n=e[t],o!==n&&(l&&n&&(m(n)||(a=g(n)))?(i=a?(a=!1,i&&g(i)?i:[]):i&&m(i)?i:{},o[t]=u(l,i,n)):void 0!==n&&(o[t]=n));return o},g=Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)},p=function(e){return"[object Function]"===Object.prototype.toString.call(e)},m=function(e){return"[object Object]"===Object.prototype.toString.call(e)},I=function(e,t){return 0===e.indexOf(t)},M=function(e){return(e+"").replace(t,"")},h=function(e){return isNaN(e)?NaN:Math[e<0?"ceil":"floor"](e)},f=function(e,t,n){for(var a=e.length;a<t;a+=1)e=n?"0"+e:e+"0";return e},L=function(e,t){for(var n,a=0,i=!1,o=0,r=e.length;o<r;o++)switch(n=e.charAt(o)){case"'":i?t.push("'"):a++,i=!1;break;case"\\":i&&t.push("\\"),i=!i;break;default:t.push(n),i=!1}return a},_=function(e,t){var e=e.patterns,n=(t=t||"F").length;if(1===n){if(!(e=e[t]))throw"Invalid date format string '"+t+"'.";t=e}else 2===n&&"%"===t.charAt(0)&&(t=t.charAt(1));return t},A=function(e,t,n){function a(e,t){var n,e=e+"";return 1<t&&e.length<t?(n=b[t-2]+e).substr(n.length-t,t):e}function i(e,t){if(v)return v[t];switch(t){case 0:return e.getFullYear();case 1:return e.getMonth();case 2:return e.getDate();default:throw"Invalid part value "+t}}var o,r,s,l,d,c,u,p=n.calendar,g=p.convert;if(!t||!t.length||"i"===t)return w=n&&n.name.length?g?A(e,p.patterns.F,n):(n=new Date(e.getTime()),o=k(e,p.eras),n.setFullYear(E(e,p,o)),n.toLocaleString()):e.toString();r=p.eras,s="s"===t,t=_(p,t);var m,h,f,v,w=[],b=["0","00","000"],y=/([^d]|^)(d|dd)([^d]|$)/g,$=0,S=z();for(!s&&g&&(v=g.fromGregorian(e));;){var C=S.lastIndex,x=S.exec(t),C=t.slice(C,x?x.index:t.length);if($+=L(C,w),!x)break;if($%2)w.push(x[0]);else switch(d=(l=x[0]).length,l){case"ddd":case"dddd":c=3===d?p.days.namesAbbr:p.days.names,w.push(c[e.getDay()]);break;case"d":case"dd":h=!0,w.push(a(i(e,2),d));break;case"MMM":case"MMMM":u=i(e,1),w.push((p.monthsGenitive&&(h||f||(h=y.test(t),f=!0),h)?p.monthsGenitive:p.months)[3===d?"namesAbbr":"names"][u]);break;case"M":case"MM":w.push(a(i(e,1)+1,d));break;case"y":case"yy":case"yyyy":u=v?v[0]:E(e,p,k(e,r),s),d<4&&(u%=100),w.push(a(u,d));break;case"h":case"hh":0===(m=e.getHours()%12)&&(m=12),w.push(a(m,d));break;case"H":case"HH":w.push(a(e.getHours(),d));break;case"m":case"mm":w.push(a(e.getMinutes(),d));break;case"s":case"ss":w.push(a(e.getSeconds(),d));break;case"t":case"tt":u=e.getHours()<12?p.AM?p.AM[0]:" ":p.PM?p.PM[0]:" ",w.push(1===d?u.charAt(0):u);break;case"f":case"ff":case"fff":w.push(a(e.getMilliseconds(),3).substr(0,d));break;case"z":case"zz":m=e.getTimezoneOffset()/60,w.push((m<=0?"+":"-")+a(Math.floor(Math.abs(m)),d));break;case"zzz":m=e.getTimezoneOffset()/60,w.push((m<=0?"+":"-")+a(Math.floor(Math.abs(m)),2)+":"+a(Math.abs(e.getTimezoneOffset()%60),2));break;case"g":case"gg":p.eras&&w.push(p.eras[k(e,r)].name);break;case"/":w.push(p["/"]);break;default:throw"Invalid date format pattern '"+l+"'."}}return w.join("")},$=function(e,t,n){var a=n.groupSizes,i=a[0],o=1,r=Math.pow(10,t),r=Math.round(e*r)/r,s=(e=r=isFinite(r)?r:e)+"",l="",r=s.split(/e/i),e=1<r.length?parseInt(r[1],10):0;s=(r=(s=r[0]).split("."))[0],l=1<r.length?r[1]:"",0<e?(s+=(l=f(l,e,!1)).slice(0,e),l=l.substr(e)):e<0&&(l=(s=f(s,1+(e=-e),!0)).slice(-e,s.length)+l,s=s.slice(0,-e));for(var l=0<t?n["."]+(l.length>t?l.slice(0,t):f(l,t)):"",d=s.length-1,c=n[","],u="";0<=d;){if(0===i||d<i)return s.slice(0,d+1)+(u.length?c+u+l:l);u=s.slice(d-i+1,d+1)+(u.length?c+u:""),d-=i,o<a.length&&(i=a[o],o++)}return s.slice(0,d+1)+c+u+l},a=function(e,t,n){var a,i,o,r,s,l;if(!isFinite(e))return e===1/0?n.numberFormat.positiveInfinity:e===-1/0?n.numberFormat.negativeInfinity:n.numberFormat.NaN;if(!t||"i"===t)return n.name.length?e.toLocaleString():e.toString();t=t||"D";var d,c=n.numberFormat,u=Math.abs(e),p=-1;switch(1<t.length&&(p=parseInt(t.slice(1),10)),a=t.charAt(0).toUpperCase()){case"D":d="n",u=h(u),-1!==p&&(u=f(""+u,p,!0)),e<0&&(u="-"+u);break;case"N":i=c;case"C":i=i||c.currency;case"P":i=i||c.percent,d=e<0?i.pattern[0]:i.pattern[1]||"n",-1===p&&(p=i.decimals),u=$(u*("P"===a?100:1),p,i);break;default:throw"Bad number format specifier: "+a}for(o=/n|\$|-|%/g,r="";s=o.lastIndex,l=o.exec(d),r+=d.slice(s,l?l.index:d.length),l;)switch(l[0]){case"n":r+=u;break;case"$":r+=c.currency.symbol;break;case"-":/[1-9]/.test(u)&&(r+=c["-"]);break;case"%":r+=c.percent.symbol}return r},z=function(){return/\/|dddd|ddd|dd|d|MMMM|MMM|MM|M|yyyy|yy|y|hh|h|HH|H|mm|m|ss|s|tt|t|fff|ff|f|zzz|zz|z|gg|g/g},k=function(e,t){var n,a,i,o;if(t)for(a=e.getTime(),i=0,o=t.length;i<o;i++)if(null===(n=t[i].start)||n<=a)return i;return 0},E=function(e,t,n,a){e=e.getFullYear();return!a&&t.eras&&(e-=t.eras[n].offset),e},D=function(e,t){var n,a;return t<100&&(n=new Date,a=k(n),n=E(n,e,a),(a="string"==typeof(a=e.twoDigitYearMax)?(new Date).getFullYear()%100+parseInt(a,10):a)<(t+=n-n%100))&&(t-=100),t},j=function(e,t,n){var a,i=e.days,o=e._upperDays;return o||(e._upperDays=o=[y(i.names),y(i.namesAbbr),y(i.namesShort)]),t=b(t),n?-1===(a=s(o[1],t))&&(a=s(o[2],t)):a=s(o[0],t),a},T=function(e,t,n){var a=e.months,i=e.monthsGenitive||e.months,o=e._upperMonths,r=e._upperMonthsGen;return o||(e._upperMonths=o=[y(a.names),y(a.namesAbbr)],e._upperMonthsGen=r=[y(i.names),y(i.namesAbbr)]),t=b(t),a=(a=s(n?o[1]:o[0],t))<0?s(n?r[1]:r[0],t):a},P=function(e,t){var n,a,i,o,r,s=e._parseRegExp;if(s){if(r=s[t])return r}else e._parseRegExp=s={};for(var l,d=_(e,t).replace(/([\^\$\.\*\+\?\|\[\]\(\)\{\}])/g,"\\\\$1"),c=["^"],u=[],p=0,g=0,m=z();null!==(l=m.exec(d));)if(n=d.slice(p,l.index),p=m.lastIndex,(g+=L(n,c))%2)c.push(l[0]);else{switch(i=(a=l[0]).length,a){case"dddd":case"ddd":case"MMMM":case"MMM":case"gg":case"g":o="(\\D+)";break;case"tt":case"t":o="(\\D*)";break;case"yyyy":case"fff":case"ff":case"f":o="(\\d{"+i+"})";break;case"dd":case"d":case"MM":case"M":case"yy":case"y":case"HH":case"H":case"hh":case"h":case"mm":case"m":case"ss":case"s":o="(\\d\\d?)";break;case"zzz":o="([+-]?\\d\\d?:\\d{2})";break;case"zz":case"z":o="([+-]?\\d\\d?)";break;case"/":o="(\\/)";break;default:throw"Invalid date format pattern '"+a+"'."}o&&c.push(o),u.push(l[0])}return L(d.slice(p),c),c.push("$"),r=c.join("").replace(/\s+/g,"\\s+"),s[t]={regExp:r,groups:u}},F=function(e,t,n){return e<t||n<e},b=function(e){return e.split(" ").join(" ").toUpperCase()},y=function(e){for(var t=[],n=0,a=e.length;n<a;n++)t[n]=b(e[n]);return t},v=function(e,t,n){e=M(e);var a,i,o,r,s,l,d=n.calendar,n=P(d,t),c=new RegExp(n.regExp).exec(e);if(null===c)return null;for(var u,p=n.groups,g=null,m=null,h=null,f=null,v=null,w=0,b=0,y=0,$=0,S=null,C=!1,x=0,L=p.length;x<L;x++)if(a=c[x+1]){var _=p[x],A=_.length,z=parseInt(a,10);switch(_){case"dd":case"d":if(F(f=z,1,31))return null;break;case"MMM":case"MMMM":if(h=T(d,a,3===A),F(h,0,11))return null;break;case"M":case"MM":if(F(h=z-1,0,11))return null;break;case"y":case"yy":case"yyyy":if(m=A<4?D(d,z):z,F(m,0,9999))return null;break;case"h":case"hh":if(F(w=12===(w=z)?0:w,0,11))return null;break;case"H":case"HH":if(F(w=z,0,23))return null;break;case"m":case"mm":if(F(b=z,0,59))return null;break;case"s":case"ss":if(F(y=z,0,59))return null;break;case"tt":case"t":if((C=d.PM&&(a===d.PM[0]||a===d.PM[1]||a===d.PM[2]))||d.AM&&(a===d.AM[0]||a===d.AM[1]||a===d.AM[2]))break;return null;case"f":case"ff":case"fff":if($=z*Math.pow(10,3-A),F($,0,999))return null;break;case"ddd":case"dddd":if(v=j(d,a,3===A),F(v,0,6))return null;break;case"zzz":if(2!==(i=a.split(/:/)).length||(u=parseInt(i[0],10),F(u,-12,13))||(o=parseInt(i[1],10),F(o,0,59)))return null;S=60*u+(I(a,"-")?-o:o);break;case"z":case"zz":if(F(u=z,-12,13))return null;S=60*u;break;case"g":case"gg":if(!(r=a)||!d.eras)return null;for(r=M(r.toLowerCase()),s=0,l=d.eras.length;s<l;s++)if(r===d.eras[s].name.toLowerCase()){g=s;break}if(null===g)return null}}if(t=new Date,n=(e=d.convert)?e.fromGregorian(t)[0]:t.getFullYear(),null===m?m=n:d.eras&&(m+=d.eras[g||0].offset),null===h&&(h=0),null===f&&(f=1),e){if(null===(t=e.toGregorian(m,h,f)))return null}else if(t.setFullYear(m,h,f),t.getDate()!==f||null!==v&&t.getDay()!==v)return null;return C&&w<12&&(w+=12),t.setHours(w,b,y,$),null!==S&&(n=t.getMinutes()-(S+t.getTimezoneOffset()),t.setHours(t.getHours()+parseInt(n/60,10),n%60)),t},w=function(e,t,n){var a,i=t["-"],o=t["+"];switch(n){case"n -":i=" "+i,o=" "+o;case"n-":r(e,i)?a=["-",e.substr(0,e.length-i.length)]:r(e,o)&&(a=["+",e.substr(0,e.length-o.length)]);break;case"- n":i+=" ",o+=" ";case"-n":I(e,i)?a=["-",e.substr(i.length)]:I(e,o)&&(a=["+",e.substr(o.length)]);break;case"(n)":I(e,"(")&&r(e,")")&&(a=["-",e.substr(1,e.length-2)])}return a||["",e]},i.prototype.findClosestCulture=function(e){return i.findClosestCulture.call(this,e)},i.prototype.format=function(e,t,n){return i.format.call(this,e,t,n)},i.prototype.localize=function(e,t){return i.localize.call(this,e,t)},i.prototype.parseInt=function(e,t,n){return i.parseInt.call(this,e,t,n)},i.prototype.parseFloat=function(e,t,n){return i.parseFloat.call(this,e,t,n)},i.prototype.culture=function(e){return i.culture.call(this,e)},i.addCultureInfo=function(e,t,n){var a={},i=!1,a="string"!=typeof e?(n=e,e=this.culture().name,this.cultures[e]):"string"!=typeof t?(n=t,i=null==this.cultures[e],this.cultures[e]||this.cultures.default):(i=!0,this.cultures[t]);this.cultures[e]=u(!0,{},a,n),i&&(this.cultures[e].calendar=this.cultures[e].calendars.standard)},i.findClosestCulture=function(e){var t,n,a,i,o,r;if(!e)return this.findClosestCulture(this.cultureSelector)||this.cultures.default;if("string"==typeof e&&(e=e.split(",")),g(e)){for(var s,l=this.cultures,d=e,c=d.length,u=[],p=0;p<c;p++)a=(e=M(d[p])).split(";"),s=M(a[0]),n=1!==a.length&&0===(e=M(a[1])).indexOf("q=")?(e=e.substr(2),n=parseFloat(e),isNaN(n)?0:n):1,u.push({lang:s,pri:n});for(u.sort(function(e,t){return e.pri<t.pri?1:e.pri>t.pri?-1:0}),p=0;p<c;p++)if(t=l[s=u[p].lang])return t;for(p=0;p<c;p++)for(s=u[p].lang;;){if(-1===(i=s.lastIndexOf("-")))break;if(t=l[s=s.substr(0,i)])return t}for(p=0;p<c;p++)for(o in s=u[p].lang,l)if(r=l[o],r.language==s)return r}else if("object"==typeof e)return e;return t||null},i.format=function(e,t,n){n=this.findClosestCulture(n);return e instanceof Date?e=A(e,t,n):"number"==typeof e&&(e=a(e,t,n)),e},i.localize=function(e,t){return this.findClosestCulture(t).messages[e]||this.cultures.default.messages[e]},i.parseDate=function(e,t,n){var a,i,o,r,s,l;if(n=this.findClosestCulture(n),t){if((t="string"==typeof t?[t]:t).length)for(r=0,s=t.length;r<s&&(!(l=t[r])||!(a=v(e,l,n)));r++);}else for(i in o=n.calendar.patterns)if(a=v(e,o[i],n),a)break;return a||null},i.parseInt=function(e,t,n){return h(i.parseFloat(e,t,n))},i.parseFloat=function(e,t,n){"number"!=typeof t&&(n=t,t=10);var a,i,o,n=this.findClosestCulture(n),r=NaN,s=n.numberFormat;return-1<e.indexOf(n.numberFormat.currency.symbol)&&(e=(e=e.replace(n.numberFormat.currency.symbol,"")).replace(n.numberFormat.currency["."],n.numberFormat["."])),e=M(e),d.test(e)?r=parseFloat(e):!t&&l.test(e)?r=parseInt(e,16):(t=(n=w(e,s,s.pattern[0]))[0],o=n[1],""===t&&"(n)"!==s.pattern[0]&&(t=(n=w(e,s,"(n)"))[0],o=n[1]),""===t&&"-n"!==s.pattern[0]&&(t=(n=w(e,s,"-n"))[0],o=n[1]),t=t||"+",n=(e=(e=o.indexOf("e"))<0?o.indexOf("E"):e)<0?(i=o,null):(i=o.substr(0,e),o.substr(e+1)),o=s["."],i=(e=i.indexOf(o))<0?(a=i,null):(a=i.substr(0,e),i.substr(e+o.length)),e=s[","],a=a.split(e).join(""),o=e.replace(/\u00A0/g," "),t=t+(a=e!==o?a.split(o).join(""):a),null!==i&&(t+="."+i),null!==n&&(t+="e"+((e=w(n,s,"-n"))[0]||"+")+e[1]),c.test(t)&&(r=parseFloat(t))),r},i.culture=function(e){return void 0!==e&&(this.cultureSelector=e),this.findClosestCulture(e)||this.cultures.default}})(this),((t,n)=>{var e=n.jQuery;"object"==typeof exports?module.exports=e?t(n,e):function(e){if(e&&!e.fn)throw"Provide jQuery or null";return t(n,e)}:"function"==typeof define&&define.amd?define(function(){return t(n)}):t(n,!1)})(function(c,J){function w(n,a){return function(){var e,t=this.base;return this.base=n,e=a.apply(this,arguments),this.base=t,e}}function l(e,t){return x(t)&&((t=w(e?e._d?e:w(d,e):d,t))._d=(e&&e._d||0)+1),t}function N(e,t){var n,a=t.props;for(n in a)!be.test(n)||e[n]&&e[n].fix||(e[n]="convert"!==n?l(e.constructor.prototype[n],a[n]):a[n])}function e(e){return e}function d(){return""}function t(e){this.name=(J.link?"JsViews":"JsRender")+" Error",this.message=e||this.name}function S(e,t){if(e){for(var n in t)e[n]=t[n];return e}}function b(e,t,n){return e?O(e)?b.apply(v,e):(p=n?n[0]:p,/^(\W|_){5}$/.test(e+t+p)||U("Invalid delimiters"),r=e[0],a=e[1],s=t[0],u=t[1],B.delimiters=[r+a,s+u,p],e="\\"+r+"(\\"+p+")?\\"+a,t="\\"+s+"\\"+u,i="(?:(\\w+(?=[\\/\\s\\"+s+"]))|(\\w+)?(:)|(>)|(\\*))\\s*((?:[^\\"+s+"]|\\"+s+"(?!\\"+u+"))*?)",K.rTag="(?:"+i+")",i=new RegExp("(?:"+e+i+"(\\/)?|\\"+r+"(\\"+p+")?\\"+a+"(?:(?:\\/(\\w+))\\s*|!--[\\s\\S]*?--))"+t,"g"),K.rTmpl=new RegExp("^\\s|\\s$|<.*>|([^\\\\]|^)[{}]|"+e+".*"+t),o):B.delimiters}function L(){var e=this.get("item");return e?e.index:void 0}function _(){return this.index}function A(e,t,n,a){var i,o,r,s=0;if(1===n&&(a=1,n=void 0),t)for(r=(o=t.split(".")).length;e&&s<r;s++)i=e,e=o[s]?e[o[s]]:e;return n&&(n.lt=n.lt||s<r),void 0===e?a?d:"":a?function(){return e.apply(i,arguments)}:e}function H(e,t,n){var a,i,o,r,s=this,l=!m&&1<arguments.length,d=s.ctx;if(e){if(s._||(o=s.index,s=s.tag),r=s,d&&d.hasOwnProperty(e)||(d=de).hasOwnProperty(e)){if(i=d[e],"tag"===e||"tagCtx"===e||"root"===e||"parentTags"===e)return i}else d=void 0;if((!m&&s.tagCtx||s.linked)&&(i&&i._cxp||(s=!s.tagCtx&&!x(i)&&!(s=s.scope||s).isTop&&s.ctx.tag||s,d=(s=void 0!==i&&s.tagCtx?s.tagCtx.view.scope:s)._ocps,(i=d&&d.hasOwnProperty(e)&&d[e]||i)&&i._cxp)||!n&&!l||((d||(s._ocps=s._ocps||{}))[e]=i=[{_ocp:i,_vw:r,_key:e}],i._cxp={path:ue,ind:0,updateValue:function(e,t){return J.observable(i[0]).setProperty(ue,e),this}}),n=i&&i._cxp)){if(2<arguments.length)return(d=i[1]?K._ceo(i[1].deps):[ue]).unshift(i[0]),d._cxp=n,d;if(o=n.tagElse,d=i[1]?n.tag&&n.tag.cvtArgs?n.tag.cvtArgs(o,1)[n.ind]:i[1](i[0].data,i[0],K):i[0]._ocp,l)return K._ucp(e,t,s,n),s;i=d}return i&&x(i)&&S(a=function(){return i.apply(this&&this!==c?this:r,arguments)},i),a||i}}function G(e,t){var n,a,i,o,r,s,l,d=this;if(d.tagName){if(!(d=((s=d).tagCtxs||[d])[e||0]))return}else s=d.tag;if(r=s.bindFrom,o=d.args,(l=(l=s.convert)&&""+l===l?"true"===l?void 0:d.view.getRsc("converters",l)||U("Unknown converter: '"+l+"'"):l)&&!t&&(o=o.slice()),r){for(i=[],n=r.length;n--;)a=r[n],i.unshift(Y(d,a));t&&(o=i)}if(l){if(void 0===(l=l.apply(s,i||o)))return o;if(n=(r=r||[0]).length,O(l)&&(!1===l.arg0||1!==n&&l.length===n&&!l.arg0)||(l=[l],r=[0],n=1),t)o=l;else for(;n--;)+(a=r[n])===a&&(o[a]=l[n])}return o}function Y(e,t){return(e=e[+t===t?"args":"props"])&&e[t]}function X(e){return this.cvtArgs(e,1)}function C(e,t,n,a,i,o,r,s){var l=this,d="array"===t;l.content=s,l.views=d?[]:{},l.data=a,l.tmpl=i,s=l._={key:0,useKey:d?0:1,id:""+Le++,onRender:r,bnds:{}},l.linked=!!r,l.type=t||"top",t&&(l.cache={_ct:B._cchCt}),n&&"top"!==n.type||((l.ctx=e||{}).root=l.data),(l.parent=n)?(l.root=n.root||l,a=n.views,l.isTop=(i=n._).scp,l.scope=(!e.tag||e.tag===n.ctx.tag)&&!l.isTop&&n.scope||l,i.useKey?((a[s.key="_"+i.useKey++]=l).index=Me,l.getIndex=L):a.length===(s.key=l.index=o)?a.push(l):a.splice(o,0,l),l.ctx=e||n.ctx):t&&(l.root=l)}function y(e,t,n){Object.defineProperty(e,t,{value:n,configurable:!0})}function ee(e,t){var n,a=Q._wm||{},i={tmpls:[],links:{},bnds:[],_is:"template",render:te};return(i=t?S(i,t):i).markup=e,i.htmlTag||(n=ve.exec(e),i.htmlTag=n?n[1].toLowerCase():""),(n=a[i.htmlTag])&&n!==a.div&&(i.markup=J.trim(i.markup)),i}function z(l,d){var c=l+"s";v[c]=function e(t,n,a){var i,o,r,s=K.onStore[l];if(!t||typeof t!==ze||t.nodeType||t.markup||t.getTgt||"viewModel"===l&&t.getters||t.extend)return t&&""+t!==t&&(a=n,n=t,t=void 0),r=a?"viewModel"===l?a:a[c]=a[c]||{}:e,i=d.compile,void 0===n&&(n=i?t:r[t],t=void 0),null===n?t&&delete r[t]:(i&&((n=i.call(r,t,n,a,0)||{})._is=l),t&&(r[t]=n)),s&&s(t,n,a,i),n;for(o in t)e(o,t[o],n);return n||v}}function I(t){o[t]=o[t]||function(e){return arguments.length?(B[t]=e,o):B[t]}}function M(n){function a(e,t){this.tgt=n.getTgt(e,t),t.map=this}return(n=(n=x(n)?{getTgt:n}:n).baseMap?S(S({},n.baseMap),n):n).map=function(e,t){return new a(e,t)},n}function te(e,t,n,a,i,o){var r,s,l,d,c,u,p=a,g="";if(!0===t?(n=t,t=void 0):typeof t!==ze&&(t=void 0),(l=this.tag)?(d=(p=p||this.view)._getTmpl(l.template||this.tmpl),arguments.length||(e=l.contentCtx&&x(l.contentCtx)?l.contentCtx(e):p)):d=this,d){if((p=!a&&e&&"view"===e._is?e:p)&&e===p&&(e=p.data),a=!p,m=m||a,a&&((t=t||{}).root=e),!m||Q.useViews||d.useViews||p&&p!==q)g=ne(d,e,t,n,p,i,o,l);else{if(p?(c=p.data,u=p.index,p.index=Me):(c=(p=q).data,p.data=e,p.ctx=t),O(e)&&!n)for(r=0,s=e.length;r<s;r++)p.index=r,p.data=e[r],g+=d.fn(e[r],p,K);else p.data=e,g+=d.fn(e,p,K);p.data=c,p.index=u}a&&(m=void 0)}return g}function ne(e,t,n,a,i,o,r,s){var l,d,c,u,p,g,m,h,f,v,w,b,y,$="";if(s&&(f=s.tagName,b=s.tagCtx,n=n?R(n,s.ctx):s.ctx,e===i.content?m=e!==i.ctx._wrp?i.ctx._wrp:void 0:e!==b.content?e===s.template?(m=b.tmpl,n._wrp=b.content):m=b.content||i.content:m=i.content,!1===b.props.link)&&((n=n||{}).link=!1),i&&(r=r||i._.onRender,(y=n&&!1===n.link)&&i._.nl&&(r=void 0),n=R(n,i.ctx),b=!s&&i.tag?i.tag.tagCtxs[i.tagElse]:b),(v=b&&b.props.itemVar)&&("~"!==v[0]&&Z("Use itemVar='~myItem'"),v=v.slice(1)),!0===o&&(g=!0,o=0),!0===(h=r=r&&s&&s._.noVws?void 0:r)&&(h=void 0,r=i._.onRender),w=n=e.helpers?R(e.helpers,n):n,O(t)&&!a)for((c=g?i:void 0!==o&&i||new C(n,"array",i,t,e,o,r,m))._.nl=y,i&&i._.useKey&&(c._.bnd=!s||s._.bnd&&s,c.tag=s),l=0,d=t.length;l<d;l++)u=new C(w,"item",c,t[l],e,(o||0)+l,r,c.content),v&&((u.ctx=S({},w))[v]=K._cp(t[l],"#data",u)),p=e.fn(t[l],u,K),$+=c._.onRender?c._.onRender(p,u):p;else c=g?i:new C(w,f||"data",i,t,e,o,r,m),v&&((c.ctx=S({},w))[v]=K._cp(t,"#data",c)),c.tag=s,c._.nl=y,$+=e.fn(t,c,K);return s&&(c.tagElse=b.index,b.contentView=c),h?h($,c):$}function U(e){throw new K.Err(e)}function Z(e){U("Syntax error\n"+e)}function k(C,x,L,_,A){function z(e){(e-=D)&&T.push(C.substr(D,e).replace(pe,"\\n"))}function I(e,t){e&&(e+="}}",Z((t?"{{"+t+"}} block has {{/"+e+" without {{"+e:"Unmatched or missing {{/"+e)+", in template:\n"+C))}var e,t,M,k,n,E=B.allowCode||x&&x.allowCode||!0===o.allowCode,a=[],D=0,j=[],T=a,P=[,,a];if(E&&x._is&&(x.allowCode=E),L&&(void 0!==_&&(C=C.slice(0,-_.length-2)+s),C=r+C+u),I(j[0]&&j[0][2].pop()[0]),C.replace(i,function(e,t,n,a,i,o,r,s,l,d,c,u){(r&&t||l&&!n||s&&":"===s.slice(-1)||d)&&Z(e),o&&(i=":",a=W);var p,g,m,d=(t||L)&&[[]],h="",f="",v="",w="",b="",y="",$="",S="",o=!(l=l||L&&!A)&&!i;n=n||(s=s||"#data",i),z(u),D=u+e.length,r?E&&T.push(["*","\n"+s.replace(/^:/,"ret+= ").replace(ge,"$1")+";\n"]):n?("else"===n&&(fe.test(s)&&Z('For "{{else if expr}}" use "{{else expr}}"'),d=P[9]&&[[]],P[10]=C.substring(P[10],u),g=P[11]||P[0]||Z("Mismatched: "+e),P=j.pop(),T=P[2],o=!0),s&&oe(s.replace(pe," "),d,x,L).replace(he,function(e,t,n,a,i,o,r,s){return"this:"===a&&(o="undefined"),s&&(m=m||"@"===s[0]),a="'"+i+"':",r?(f+=n+o+",",w+="'"+s+"',"):n?(v+=a+"j._cp("+o+',"'+s+'",view),',y+=a+"'"+s+"',"):t?$+=o:("trigger"===i&&(S+=o),"lateRender"===i&&(p="false"!==s),h+=a+o+",",b+=a+"'"+s+"',",k=k||be.test(i)),""}).slice(0,-1),d&&d[0]&&d.pop(),M=[n,a||!!_||k||"",o&&[],ie(w||(":"===n?"'#data',":""),b,y),ie(f||(":"===n?"data,":""),h,v),$,S,p,m,d||0],T.push(M),o&&(j.push(P),(P=M)[10]=D,P[11]=g)):c&&(I(c!==P[0]&&c!==P[11]&&c,P[0]),P[10]=C.substring(P[10],u),P=j.pop()),I(!P&&c),T=P[2]}),z(C.length),(D=a[a.length-1])&&I(""+D!==D&&+D[10]===D[10]&&D[0]),L){for(t=re(a,C,L),n=[],e=a.length;e--;)n.unshift(a[e][9]);ae(t,n)}else t=re(a,x);return t}function ae(e,t){var n,a,i=0,o=t.length;for(e.deps=[],e.paths=[];i<o;i++)for(n in e.paths.push(a=t[i]),a)"_jsvto"!==n&&a.hasOwnProperty(n)&&a[n].length&&!a[n].skp&&(e.deps=e.deps.concat(a[n]))}function ie(e,t,n){return[e.slice(0,-1),t.slice(0,-1),n.slice(0,-1)]}function oe(A,z,e,I){var M,k,E,D,j=z&&z[0],T={bd:j},P={0:T},F=0,B=0,N=0,U={},R=0,q={},O={},V={},W={0:0},H={0:""},G=0,e=((A="@"===A[0]?A.replace(xe,"."):A)+(e?" ":"")).replace(K.rPrm,function(e,t,n,a,l,i,o,r,s,d,c,u,p,g,m,h,f,v,w,b,y){i=i||"",p=p||"",n=n||t||p,l=(l=a&&!r?a+l:l)||s,(d=d&&!/\)|]/.test(y[b-1]))&&(l=l.slice(1).split(".").join("^")),c=c||v||"";var $,S,C,x,L,_=b;if(!D&&!E){if(o&&Z(A),f&&j){if(s=V[N-1],y.length-1>_-(s||0)){if(s=J.trim(y.slice(s,_+e.length)),$=k||P[N-1].bd,(S=$[$.length-1])&&S.prm){for(;S.sb&&S.sb.prm;)S=S.sb;C=S.sb={path:S.sb,bnd:S.bnd}}else $.push(C={path:$.pop()});S&&S.sb===C&&(H[N]=H[N-1].slice(S._cpPthSt)+H[N],H[N-1]=H[N-1].slice(0,S._cpPthSt)),C._cpPthSt=W[N-1],C._cpKey=s,H[N]+=y.slice(G,b),G=b,C._cpfn=ke[s]=ke[s]||new Function("data,view,j","//"+s+"\nvar v;\nreturn ((v="+H[N]+("]"===h?")]":h)+")!=null?v:null);"),H[N-1]+=O[B]&&Q.cache?'view.getCache("'+s.replace(me,"\\$&")+'"':H[N],C.prm=T.bd,C.bnd=C.bnd||C.path&&0<=C.path.indexOf("^")}H[N]=""}"["===c&&(c="[j._sq("),"["===n&&(n="[j._sq(")}return o=D?(D=!g)?e:p+'"':E?(E=!m)?e:p+'"':(n?(q[++B]=!0,U[B]=0,j&&(V[N++]=_++,T=P[N]={bd:[]},H[N]="",W[N]=1),n):"")+(w?B?"":(F=y.slice(F,_),(M?(M=k=!1,"\b"):"\b,")+F+(F=_+e.length,j&&z.push(T.bd=[]),"\b")):r?(N&&Z(A),j&&z.pop(),M="_"+l,F=_+e.length,j&&((j=T.bd=z[M]=[]).skp=!a),l+":"):l?l.split("^").join(".").replace(K.rPath,function(e,t,n,a,i,o,r,s){if(x="."===n,n&&(l=l.slice(t.length),/^\.?constructor$/.test(s||l)&&Z(e),x||(e=(d?(I?"":"(ltOb.lt=ltOb.lt||")+"(ob=":"")+(a?'view.ctxPrm("'+a+'")':i?"view":"data")+(d?")===undefined"+(I?"":")")+'?"":view._getOb(ob,"':"")+(s?(o?"."+o:a||i?"":"."+n)+(r||""):(s=a?"":i?o||"":n,"")),e=t+("view.data"===(e+=s?"."+s:"").slice(0,9)?e.slice(5):e)+(d?(I?'"':'",ltOb')+(c?",1)":")"):"")),j)){if($="_linkTo"===M?k=z._jsvto=z._jsvto||[]:T.bd,S=x&&$[$.length-1]){if(S._cpfn){for(;S.sb;)S=S.sb;S.prm&&(S.bnd&&(l="^"+l.slice(1)),S.sb=l,S.bnd=S.bnd||"^"===l[0])}}else $.push(l);c&&!x&&(V[N]=_,W[N]=H[N].length)}return e})+(c||i):i||(h?"]"===h?")]":")":u?(O[B]||Z(A),","):t?"":(D=g,E=m,'"'))),D||E||h&&(O[B]=!1,B--),j&&(D||E||(h&&(q[B+1]&&(T=P[--N],q[B+1]=!1),R=U[B+1]),c&&(U[B+1]=H[N].length+(n?1:0),l||h)&&(T=P[++N]={bd:[]},q[B+1]=!0)),H[N]=(H[N]||"")+y.slice(G,b),G=b+e.length,D||E||((L=n&&q[B+1])&&(H[N-1]+=n,W[N-1]++),"("===c&&x&&!C&&(H[N]=H[N-1].slice(R)+H[N],H[N-1]=H[N-1].slice(0,R))),H[N]+=L?o.slice(1):o),D||E||!c||(B++,l&&"("===c&&(O[B]=!0)),D||E||!v||(j&&(H[N]+=c),o+=c),o});return j&&(e=H[0]),!B&&e||Z(A)}function re(e,t,n){var a,i,o,r,s,l,d,c,u,p,g,m,h,f,v,w,b,y,$,S,C,x,L,_,A,z,I,M,k,E=0,D=Q.useViews||t.useViews||t.tags||t.templates||t.helpers||t.converters,j="",T={},P=e.length;for(""+t===t?(v=n?'data-link="'+t.replace(pe," ").slice(1,-1)+'"':t,t=0):(v=t.tmplName||"unnamed",t.allowCode&&(T.allowCode=!0),t.debug&&(T.debug=!0),u=t.bnds,f=t.tmpls),a=0;a<P;a++)if(""+(i=e[a])===i)j+='+"'+i+'"';else if("*"===(o=i[0]))j+=";\n"+i[1]+"\nret=ret";else{if(r=i[1],b=!n&&i[2],M=i[3],k=g=i[4],M="\n\tparams:{args:["+M[0]+"],\n\tprops:{"+M[1]+"}"+(M[2]?",\n\tctx:{"+M[2]+"}":"")+"},\n\targs:["+k[0]+"],\n\tprops:{"+k[1]+"}"+(k[2]?",\n\tctx:{"+k[2]+"}":""),k=i[6],A=i[7],I=i[8]?(z="\nvar ob,ltOb={},ctxs=",";\nctxs.lt=ltOb.lt;\nreturn ctxs;"):(z="\nreturn ",""),_=i[10]&&i[10].replace(ge,"$1"),(S="else"===o)?p&&p.push(i[9]):(L=i[5]||!1!==B.debugMode&&"undefined",u&&(p=i[9])&&(p=[p],E=u.push(1))),D=D||g[1]||g[2]||p||/view.(?!index)/.test(g[0]),(C=":"===o)?r&&(o=r===W?">":r+o):(b&&((_=ee(_,T)).tmplName=v+"/"+o,_.useViews=_.useViews||D,re(b,_),D=_.useViews,f.push(_)),S||(w=o,D=D||o&&(!F[o]||!F[o].flow),$=j,j=""),y=(y=e[a+1])&&"else"===y[0]),_=L?";\ntry{\nret+=":"\n+",m=S="",C&&(p||k||r&&r!==W||A)){if((x=new Function("data,view,j","// "+v+" "+ ++E+" "+o+z+"{"+M+"};"+I))._er=L,x._tag=o,x._bd=!!p,x._lr=A,n)return x;ae(x,p),c=!0,S=(h='c("'+r+'",view,')+E+",",m=")"}if(j+=C?(n?(L?"try{\n":"")+"return ":_)+(c?(D=d=!(c=void 0),h+(x?(u[E-1]=x,E):"{"+M+"}")+")"):">"===o?(l=!0,"h("+g[0]+")"):"((v="+g[0]+")!=null?v:"+(n?"null)":'"")')):(s=!0,"\n{view:view,content:false,tmpl:"+(b?f.length:"false")+","+M+"},"),w&&!y){if(j="["+j.slice(0,-1)+"]",h='t("'+w+'",view,this,',n||p){if((j=new Function("data,view,j"," // "+v+" "+E+" "+w+z+j+I))._er=L,j._tag=w,p&&ae(u[E-1]=j,p),j._lr=A,n)return j;S=h+E+",undefined,",m=")"}j=$+_+h+(p&&E||j)+")",w=p=0}L&&!y&&(D=!0,j+=";\n}catch(e){ret"+(n?"urn ":"+=")+S+"j._err(e,view,"+L+")"+m+";}"+(n?"":"\nret=ret"))}j="// "+v+(T.debug?"\ndebugger;":"")+"\nvar v"+(s?",t=j._tag":"")+(d?",c=j._cnvt":"")+(l?",h=j._html":"")+(n?(i[8]?", ob":"")+";\n":',ret=""')+j+(n?"\n":";\nreturn ret;");try{j=new Function("data,view,j",j)}catch(e){Z("Compiled template code:\n\n"+j+'\n: "'+(e.message||e)+'"')}return t&&(t.fn=j,t.useViews=!!D),j}function R(e,t){return e&&e!==t?t?S(S({},t),e):e:t&&S({},t)}function E(t,e){var n,a,i,o=e.tag,r=e.props,s=e.params.props,l=r.filter,d=r.sort,c=!0===d,u=parseInt(r.step),p=r.reverse?-1:1;if(O(t)){if(c||d&&""+d===d?((n=t.map(function(e,t){return{i:t,v:""+(e=c?e:A(e,d))===e?e.toLowerCase():e}})).sort(function(e,t){return e.v>t.v?p:e.v<t.v?-p:0}),t=n.map(function(e){return t[e.i]})):(d||p<0)&&!o.dataMap&&(t=t.slice()),x(d)&&(t=t.sort(function(){return d.apply(e,arguments)})),(t=p<0&&(!d||x(d))?t.reverse():t).filter&&l&&(t=t.filter(l,e),e.tag.onFilter)&&e.tag.onFilter(e),s.sorted&&(n=d||p<0?t:t.slice(),o.sorted?J.observable(o.sorted).refresh(n):e.map.sorted=n),a=r.start,i=r.end,(s.start&&void 0===a||s.end&&void 0===i)&&(a=i=0),isNaN(a)&&isNaN(i)||(i=void 0===i||i>t.length?t.length:+i,t=t.slice(a=+a||0,i)),1<u){for(a=0,i=t.length,n=[];a<i;a+=u)n.push(t[a]);t=n}s.paged&&o.paged&&$observable(o.paged).refresh(t)}return t}function D(e,t,n){var a=this.jquery&&(this[0]||U("Unknown template")),i=a.getAttribute(Ie);return te.call(i&&J.data(a)[h]||g(a),e,t,n)}function j(e){return _e[e]||(_e[e]="&#"+e.charCodeAt(0)+";")}function T(e,t){return Ae[t]||""}function P(e){return null!=e?we.test(e)&&(""+e).replace($e,j)||e:""}var se=!1===J;J=J&&J.fn?J:c.jQuery;var le,i,q,$,x,O,g,V,de,F,K,B,Q,o,r,a,s,u,p,ce,m,n="v1.0.11",ue="_ocp",pe=/[ \t]*(\r\n|\n|\r)/g,ge=/\\(['"\\])/g,me=/['"\\]/g,he=/(?:\x08|^)(onerror:)?(?:(~?)(([\w$.]+):)?([^\x08]+))\x08(,)?([^\x08]+)/gi,fe=/^if\s/,ve=/<(\w+)[>\s]/,we=/[\x00`><\"'&=]/,be=/^on[A-Z]|^convert(Back)?$/,ye=/^\#\d+_`[\s\S]*\/\d+_`$/,$e=/[\x00`><"'&=]/g,Se=/[&<>]/g,Ce=/&(amp|gt|lt);/g,xe=/\[['"]?|['"]?\]/g,Le=0,_e={"&":"&amp;","<":"&lt;",">":"&gt;","\0":"&#0;","'":"&#39;",'"':"&#34;","`":"&#96;","=":"&#61;"},Ae={amp:"&",gt:">",lt:"<"},W="html",ze="object",Ie="data-jsv-tmpl",h="jsvTmpl",Me="For #index in nested block use #getIndex().",ke={},Ee={},f=c.jsrender,De=f&&J&&!J.render,je={template:{compile:function n(a,e,i,o){function t(e){var t;if(""+e===e||0<e.nodeType&&(r=e)){if(!r)if(/^\.?\/[^\\:*?"<>]*$/.test(e))(t=g[a=a||e])?e=t:r=document.getElementById(e);else if("#"===e.charAt(0))r=document.getElementById(e.slice(1));else if(J.fn&&!K.rTmpl.test(e))try{r=J(e,document)[0]}catch(e){}r&&("SCRIPT"!==r.tagName&&U(e+": Use script block, not "+r.tagName),o?e=r.innerHTML:((t=r.getAttribute(Ie))&&(t!==h?(e=g[t],delete g[t]):J.fn&&(e=J.data(r)[h])),(e=t&&e?e:n(a=a||(J.fn?h:e),r.innerHTML,i,o)).tmplName=a=a||t,a!==h&&(g[a]=e),r.setAttribute(Ie,a),J.fn&&J.data(r,h,e))),r=void 0}else e.fn||(e=void 0);return e}var r,s,l,d,c,u=e=e||"";if(K._html=V.html,0===o&&(o=void 0,u=t(u)),(o=o||(e.markup?e.bnds?S({},e):e:{})).tmplName=o.tmplName||a||"unnamed",i&&(o._parentTmpl=i),void 0!==(u=!u&&e.markup&&(u=t(e.markup))&&u.fn?u.markup:u)){if(u.render||e.render?u.tmpls&&(s=u):(e=ee(u,o),k(u.replace(me,"\\$&"),e)),!s){var p=s=S(function(){return s.render.apply(s,arguments)},e);for(l in je)d=l+"s",p[d]&&(c=p[d],p[d]={},v[d](c,p))}return s}}},tag:{compile:function(e,t,n){function a(){this._={unlinked:!0},this.inline=!0,this.tagName=e}var i,o,r,s=new K._tg;if(x(t)?t={depends:t.depends,render:t}:""+t===t&&(t={template:t}),o=t.baseTag)for(r in t.flow=!!t.flow,(o=""+o===o?n&&n.tags[o]||F[o]:o)||U('baseTag: "'+t.baseTag+'" not found'),s=S(s,o),t)s[r]=l(o[r],t[r]);else s=S(s,t);return void 0!==(i=s.template)&&(s.template=""+i===i?g[i]||g(i):i),(a.prototype=s).constructor=s._ctr=a,n&&(s._parentTmpl=n),s}},viewModel:{compile:function(l,e){function t(e){n.apply(this,e)}function h(){return new t(arguments)}function f(e,t){for(var n,a,i,o,r,s,l=0;l<m;l++)n=void 0,(a=p[l])+""!==a&&(a=(n=a).getter,o=n.parentRef),void 0===(i=e[a])&&n&&void 0!==(r=n.defaultVal)&&(s=e,i=x(r=r)?r.call(s):r),t(i,n&&u[n.type],a,o)}function d(e,t,n){e=e+""===e?JSON.parse(e):e;var a,i,o,r,s,l,d,c,u,p,g=0,m=this;if(O(m)){for(d={},u=[],i=e.length,o=m.length;g<i;g++){for(c=e[g],l=!1,a=0;a<o&&!l;a++)d[a]||(s=m[a],v&&(d[a]=l=v+""===v?c[v]&&(b[v]?s[v]():s[v])===c[v]:v(s,c)));l?(s.merge(c),u.push(s)):(u.push(p=h.map(c)),n&&y(p,n,t))}w?w(m).refresh(u,!0):m.splice.apply(m,[0,m.length].concat(u))}else for(r in f(e,function(e,t,n,a){t?m[n]().merge(e,m,a):m[n]()!==e&&m[n](e)}),e)r===$||b[r]||(m[r]=e[r])}function c(){function e(e){for(var t=[],n=0,a=e.length;n<a;n++)t.push(e[n].unmap());return t}var t,n,a,i,o=0,r=this;if(O(r))return e(r);for(t={};o<m;o++)a=void 0,i=r[n=(n=p[o])+""!==n?(a=n).getter:n](),t[n]=a&&i&&u[a.type]?O(i)?e(i):i.unmap():i;for(n in r)!r.hasOwnProperty(n)||"_"===n.charAt(0)&&b[n.slice(1)]||n===$||x(r[n])||(t[n]=r[n]);return t}var a,n,i,u=this,p=e.getters,o=e.extend,v=e.id,r=J.extend({_is:l||"unnamed",unmap:c,merge:d},o),s="",g="",m=p?p.length:0,w=J.observable,b={};for(t.prototype=r,a=0;a<m;a++)(t=>{t=t.getter||t,b[t]=a+1;var n="_"+t;s+=(s?",":"")+t,g+="this."+n+" = "+t+";\n",r[t]=r[t]||function(e){return arguments.length?void(w?w(this).setProperty(t,e):this[n]=e):this[n]},w&&(r[t].set=r[t].set||function(e){this[n]=e})})(p[a]);return g=new Function(s,g),((n=function(){g.apply(this,arguments),(i=arguments[m+1])&&y(this,arguments[m],i)}).prototype=r).constructor=n,h.map=function(e){var t,n,a,i,o=0,r=e=e+""===e?JSON.parse(e):e,s=[];if(O(e)){for(t=(e=e||[]).length;o<t;o++)s.push(this.map(e[o]));return s._is=l,s.unmap=c,s.merge=d,s}if(e){for(f(e,function(e,t){t&&(e=t.map(e)),s.push(e)}),r=this.apply(this,s),o=m;o--;)if(a=s[o],(i=p[o].parentRef)&&a&&a.unmap)if(O(a))for(t=a.length;t--;)y(a[t],i,r);else y(a,i,r);for(n in e)n===$||b[n]||(r[n]=e[n])}return r},h.getters=p,h.extend=o,h.id=v,h}},helper:{},converter:{}},v={jsviews:n,sub:{rPath:/^(!*?)(?:null|true|false|\d[\d.]*|([\w$]+|\.|~([\w$]+)|#(view|([\w$]+))?)([\w$.^]*?)(?:[.[^]([\w$]+)\]?)?)$/g,rPrm:/(\()(?=\s*\()|(?:([([])\s*)?(?:(\^?)(~?[\w$.^]+)?\s*((\+\+|--)|\+|-|~(?![\w$])|&&|\|\||===|!==|==|!=|<=|>=|[<>%*:?\/]|(=))\s*|(!*?(@)?[#~]?[\w$.^]+)([([])?)|(,\s*)|(?:(\()\s*)?\\?(?:(')|("))|(?:\s*(([)\]])(?=[.^]|\s*$|[^([])|[)\]])([([]?))|(\s+)/g,View:C,Err:t,tmplFn:k,parse:oe,extend:S,extendCtx:R,syntaxErr:Z,onStore:{template:function(e,t){null===t?delete Ee[e]:e&&(Ee[e]=t)}},addSetting:I,settings:{allowCode:!1},advSet:d,_thp:N,_gm:l,_tg:function(){},_cnvt:function(e,t,n,a){var i,o,r,s,l,d="number"==typeof n&&t.tmpl.bnds[n-1];if(void 0!==(a=void 0===a&&d&&d._lr?"":a)?n=a={props:{},args:[a]}:d&&(n=d(t.data,t,K)),d=d._bd&&d,e||d){if(i=(o=t._lc)&&o.tag,n.view=t,!i){if(i=S(new K._tg,{_:{bnd:d,unlinked:!0,lt:n.lt},inline:!o,tagName:":",convert:e,onArrayChange:!0,flow:!0,tagCtx:n,tagCtxs:[n],_is:"tag"}),1<(s=n.args.length))for(l=i.bindTo=[];s--;)l.unshift(s);o&&((o.tag=i).linkCtx=o),n.ctx=R(n.ctx,(o?o.view:t).ctx),N(i,n)}i._er=a&&r,i.ctx=n.ctx||i.ctx||{},n.ctx=void 0,r=i.cvtArgs()[0],i._er=a&&r}else r=n.args[0];return null!=(r=d&&t._.onRender?t._.onRender(r,t,i):r)?r:""},_tag:function(e,t,n,a,i,o){function P(e){var t=r[e];if(void 0!==t)for(t=O(t)?t:[t],p=t.length;p--;)_=t[p],isNaN(parseInt(_))||(t[p]=parseInt(_));return t||[0]}var r,s,l,d,c,u,p,g,m,h,f,v,w,b,y,$,S,F,C,x,L,_,A,z,I,M,k=0,E="",D=(t=t||q)._lc||!1,j=t.ctx,B=n||t.tmpl,T="number"==typeof a&&t.tmpl.bnds[a-1];for(("tag"===e._is?(e=(r=e).tagName,a=r.tagCtxs,r):s=t.getRsc("tags",e)||U("Unknown tag: {{"+e+"}} ")).template,void 0!==(o=void 0===o&&T&&(T._lr=s.lateRender&&!1!==T._lr||T._lr)?"":o)?(E+=o,a=o=[{props:{},args:[],params:{props:{}}}]):T&&(a=T(t.data,t,K)),u=a.length;k<u;k++)y=(h=a[k]).tmpl,(!D||!D.tag||k&&!D.tag.inline||r._er||y&&+y===y)&&(y&&B.tmpls&&(h.tmpl=h.content=B.tmpls[y-1]),h.index=k,h.ctxPrm=H,h.render=te,h.cvtArgs=G,h.bndArgs=X,h.view=t,h.ctx=R(R(h.ctx,s&&s.ctx),j)),(n=h.props.tmpl)&&(h.tmpl=t._getTmpl(n),h.content=h.content||h.tmpl),r?D&&D.fn._lr&&($=!!r.init):($=!!(r=new s._ctr).init,r.parent=c=j&&j.tag,r.tagCtxs=a,D&&(r.inline=!1,D.tag=r),r.linkCtx=D,(r._.bnd=T||D.fn)?(r._.ths=h.params.props.this,r._.lt=a.lt,r._.arrVws={}):r.dataBoundOnly&&U(e+" must be data-bound:\n{^{"+e+"}}")),x=r.dataMap,h.tag=r,x&&a&&(h.map=a[k].map),r.flow||(y=h.ctx=h.ctx||{},l=r.parents=y.parentTags=j&&R(y.parentTags,j.parentTags)||{},c&&(l[c.tagName]=c),l[r.tagName]=y.tag=r,y.tagCtx=h);if(!(r._er=o)){for(N(r,a[0]),r.rendering={rndr:r.rendering},k=0;k<u;k++){if(C=(h=r.tagCtx=a[k]).props,r.ctx=h.ctx,!k){if($&&(r.init(h,D,r.ctx),$=void 0),h.args.length||!1===h.argDefault||!1===r.argDefault||(h.args=S=[h.view.data],h.params.args=["#data"]),v=P("bindTo"),void 0!==r.bindTo&&(r.bindTo=v),void 0!==r.bindFrom?r.bindFrom=P("bindFrom"):r.bindTo&&(r.bindFrom=r.bindTo=v),w=r.bindFrom||v,z=v.length,A=w.length,r._.bnd&&(I=r.linkedElement)&&(r.linkedElement=I=O(I)?I:[I],z!==I.length)&&U("linkedElement not same length as bindTo"),(I=r.linkedCtxParam)&&(r.linkedCtxParam=I=O(I)?I:[I],A!==I.length)&&U("linkedCtxParam not same length as bindFrom/bindTo"),w)for(r._.fromIndex={},r._.toIndex={},g=A;g--;)for(_=w[g],p=z;p--;)_===v[p]&&(r._.fromIndex[p]=g,r._.toIndex[g]=p);D&&(D.attr=r.attr=D.attr||r.attr||D._dfAt),d=r.attr,r._.noVws=d&&d!==W}if(S=r.cvtArgs(k),r.linkedCtxParam)for(F=r.cvtArgs(k,1),p=A,M=r.constructor.prototype.ctx;p--;)(f=r.linkedCtxParam[p])&&(_=w[p],b=F[p],h.ctx[f]=K._cp(M&&void 0===b?M[f]:b,void 0!==b&&Y(h.params,_),h.view,r._.bnd&&{tag:r,cvt:r.convert,ind:p,tagElse:k}));(L=C.dataMap||x)&&(S.length||C.dataMap)&&((C=h.map)&&C.src===S[0]&&!i||(C&&C.src&&C.unmap(),L.map(S[0],h,C,!r._.bnd),C=h.map),S=[C.tgt]),m=void 0,r.render&&(m=r.render.apply(r,S),t.linked)&&m&&!ye.test(m)&&((n={links:[]}).render=n.fn=function(){return m},m=ne(n,t.data,void 0,!0,t,void 0,void 0,r)),S.length||(S=[t]),void 0===m&&(L=S[0],r.contentCtx&&(L=!0===r.contentCtx?t:r.contentCtx(L)),m=h.render(L,!0)||(i?void 0:"")),E=E?E+(m||""):void 0!==m?""+m:void 0}r.rendering=r.rendering.rndr}return r.tagCtx=a[0],r.ctx=r.tagCtx.ctx,r._.noVws&&r.inline&&(E="text"===d?V.html(E):""),T&&t._.onRender?t._.onRender(E,t,r):E},_er:U,_err:function(e,t,n){var a=void 0!==n?x(n)?n.call(t.data,e,t):n||"":"{Error: "+(e.message||e)+"}";return B.onError&&void 0!==(n=B.onError.call(t.data,e,n&&a,t))&&(a=n),t&&!t._lc?V.html(a):a},_cp:e,_sq:function(e){return"constructor"===e&&Z(""),e}},settings:{delimiters:b,advanced:function(e){return e?(S(Q,e),K.advSet(),o):Q}},map:M};if((t.prototype=new Error).constructor=t,L.depends=function(){return[this.get("item"),"index"]},_.depends="index",C.prototype={get:function(e,t){t||!0===e||(t=e,e=void 0);var n,a,i,o,r=this,s="root"===t;if(e){if(!(o=t&&r.type===t&&r))if(n=r.views,r._.useKey){for(a in n)if(o=t?n[a].get(e,t):n[a])break}else for(a=0,i=n.length;!o&&a<i;a++)o=t?n[a].get(e,t):n[a]}else if(s)o=r.root;else if(t)for(;r&&!o;)o=r.type===t?r:void 0,r=r.parent;else o=r.parent;return o||void 0},getIndex:_,ctxPrm:H,getRsc:function(e,t){var n,a,i=this;if(""+t===t){for(;void 0===n&&i;)n=(a=i.tmpl&&i.tmpl[e])&&a[t],i=i.parent;return n||v[e][t]}},_getTmpl:function(e){return e&&(e.fn?e:this.getRsc("templates",e)||g(e))},_getOb:A,getCache:function(e){return B._cchCt>this.cache._ct&&(this.cache={_ct:B._cchCt}),void 0!==this.cache[e]?this.cache[e]:this.cache[e]=ke[e](this.data,this,K)},_is:"view"},K=v.sub,o=v.settings,!(f||J&&J.render)){for(le in je)z(le,je[le]);if(V=v.converters,de=v.helpers,F=v.tags,K._tg.prototype={baseApply:function(e){return this.base.apply(this,e)},cvtArgs:G,bndArgs:X,ctxPrm:H},q=K.topView=new C,J){if(J.fn.render=D,$=J.expando,J.observable){if(n!==(n=J.views.jsviews))throw"jquery.observable.js requires jsrender.js "+n;S(K,J.views.sub),v.map=J.views.map}}else J={},se&&(c.jsrender=J),J.renderFile=J.__express=J.compile=function(){throw"Node.js: use npm jsrender, or jsrender-node.js"},J.isFunction=function(e){return"function"==typeof e},J.isArray=Array.isArray||function(e){return"[object Array]"==={}.toString.call(e)},K._jq=function(e){e!==J&&(S(e,J),(J=e).fn.render=D,delete J.jsrender,$=J.expando)},J.jsrender=n;for(ce in(B=K.settings).allowCode=!1,x=J.isFunction,J.render=Ee,J.views=v,J.templates=g=v.templates,B)I(ce);(o.debugMode=function(e){return void 0===e?B.debugMode:(B._clFns&&B._clFns(),B.debugMode=e,B.onError=e+""===e?function(){return e}:x(e)?e:void 0,o)})(!1),Q=B.advanced={cache:!0,useViews:!1,_jsv:!1},F({if:{render:function(e){var t=this.tagCtx;return this.rendering.done||!e&&(t.args.length||!t.index)?"":(this.rendering.done=!0,void(this.selected=t.index))},contentCtx:!0,flow:!0},for:{sortDataMap:M(E),init:function(e,t){this.setDataMap(this.tagCtxs)},render:function(e){var t,n,a,i,o=this.tagCtx,r=!1===o.argDefault,s=o.props,l=r||o.args.length,d="",c=0;if(!this.rendering.done){if(t=l?e:o.view.data,r)for(r=s.reverse?"unshift":"push",a=+s.end,i=+s.step||1,t=[],n=+s.start||0;0<(a-n)*i;n+=i)t[r](n);void 0!==t&&(e=O(t),d+=o.render(t,!l||s.noIteration),c+=e?t.length:1),(this.rendering.done=c)&&(this.selected=o.index)}return d},setDataMap:function(e){for(var t,n,a,i=e.length;i--;)n=(t=e[i]).props,a=t.params.props,t.argDefault=void 0===n.end||0<t.args.length,n.dataMap=!1!==t.argDefault&&O(t.args[0])&&(a.sort||a.start||a.end||a.step||a.filter||a.reverse||n.sort||n.start||n.end||n.step||n.filter||n.reverse)&&this.sortDataMap},flow:!0},props:{baseTag:"for",dataMap:M(function(e,t){var n,a,i=t.map,o=i&&i.propsArr;if(!o){if(o=[],typeof e===ze||x(e))for(n in e)a=e[n],n===$||!e.hasOwnProperty(n)||t.props.noFunctions&&J.isFunction(a)||o.push({key:n,prop:a});i&&(i.propsArr=i.options&&o)}return E(o,t)}),init:d,flow:!0},include:{flow:!0},"*":{render:e,flow:!0},":*":{render:e,flow:!0},dbg:de.dbg=V.dbg=function(e){try{throw console.log("JsRender dbg breakpoint: "+e),"dbg breakpoint"}catch(e){}return this.base?this.baseApply(arguments):e}}),V({html:P,attr:P,encode:function(e){return""+e===e?e.replace(Se,j):e},unencode:function(e){return""+e===e?e.replace(Ce,T):e},url:function(e){return null!=e?encodeURI(""+e):null===e?e:""}})}return B=K.settings,O=(J||f).isArray,o.delimiters("{{","}}","^"),De&&f.views.sub._jq(J),J||f},window),(e=>{"function"==typeof define&&define.amd?define(["jquery"],e):"object"==typeof module&&module.exports?module.exports=e(require("jquery")):e(jQuery)})(function(c){c.extend(c.fn,{validate:function(e){var a;if(this.length)return(a=c.data(this[0],"validator"))||(this.attr("novalidate","novalidate"),a=new c.validator(e,this[0]),c.data(this[0],"validator",a),a.settings.onsubmit&&(this.on("click.validate",":submit",function(e){a.submitButton=e.currentTarget,c(this).hasClass("cancel")&&(a.cancelSubmit=!0),void 0!==c(this).attr("formnovalidate")&&(a.cancelSubmit=!0)}),this.on("submit.validate",function(n){function e(){var e,t;return a.submitButton&&(a.settings.submitHandler||a.formSubmitted)&&(e=c("<input type='hidden'/>").attr("name",a.submitButton.name).val(c(a.submitButton).val()).appendTo(a.currentForm)),!(a.settings.submitHandler&&!a.settings.debug)||(t=a.settings.submitHandler.call(a,a.currentForm,n),e&&e.remove(),void 0!==t&&t)}return a.settings.debug&&n.preventDefault(),a.cancelSubmit?(a.cancelSubmit=!1,e()):a.form()?a.pendingRequest?!(a.formSubmitted=!0):e():(a.focusInvalid(),!1)})),a);e&&e.debug&&window.console&&console.warn("Nothing selected, can't validate, returning nothing.")},valid:function(){var e,t,n;return c(this[0]).is("form")?e=this.validate().form():(n=[],e=!0,t=c(this[0].form).validate(),this.each(function(){(e=t.element(this)&&e)||(n=n.concat(t.errorList))}),t.errorList=n),e},rules:function(e,t){var n,a,i,o,r,s=this[0],l=void 0!==this.attr("contenteditable")&&"false"!==this.attr("contenteditable");if(null!=s&&(!s.form&&l&&(s.form=this.closest("form")[0],s.name=this.attr("name")),null!=s.form)){if(e)switch(n=c.data(s.form,"validator").settings,a=n.rules,i=c.validator.staticRules(s),e){case"add":c.extend(i,c.validator.normalizeRule(t)),delete i.messages,a[s.name]=i,t.messages&&(n.messages[s.name]=c.extend(n.messages[s.name],t.messages));break;case"remove":return t?(r={},c.each(t.split(/\s/),function(e,t){r[t]=i[t],delete i[t]}),r):(delete a[s.name],i)}return(l=c.validator.normalizeRules(c.extend({},c.validator.classRules(s),c.validator.attributeRules(s),c.validator.dataRules(s),c.validator.staticRules(s)),s)).required&&(o=l.required,delete l.required,l=c.extend({required:o},l)),l.remote&&(o=l.remote,delete l.remote,l=c.extend(l,{remote:o})),l}}});function t(e){return e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"")}var n;c.extend(c.expr.pseudos||c.expr[":"],{blank:function(e){return!t(""+c(e).val())},filled:function(e){e=c(e).val();return null!==e&&!!t(""+e)},unchecked:function(e){return!c(e).prop("checked")}}),c.validator=function(e,t){this.settings=c.extend(!0,{},c.validator.defaults,e),this.currentForm=t,this.init()},c.validator.format=function(n,e){return 1===arguments.length?function(){var e=c.makeArray(arguments);return e.unshift(n),c.validator.format.apply(this,e)}:(void 0===e||((e=2<arguments.length&&e.constructor!==Array?c.makeArray(arguments).slice(1):e).constructor!==Array&&(e=[e]),c.each(e,function(e,t){n=n.replace(new RegExp("\\{"+e+"\\}","g"),function(){return t})})),n)},c.extend(c.validator,{defaults:{messages:{},groups:{},rules:{},errorClass:"error",pendingClass:"pending",validClass:"valid",errorElement:"label",focusCleanup:!1,focusInvalid:!0,errorContainer:c([]),errorLabelContainer:c([]),onsubmit:!0,ignore:":hidden",ignoreTitle:!1,onfocusin:function(e){this.lastActive=e,this.settings.focusCleanup&&(this.settings.unhighlight&&this.settings.unhighlight.call(this,e,this.settings.errorClass,this.settings.validClass),this.hideThese(this.errorsFor(e)))},onfocusout:function(e){this.checkable(e)||!(e.name in this.submitted)&&this.optional(e)||this.element(e)},onkeyup:function(e,t){9===t.which&&""===this.elementValue(e)||-1!==c.inArray(t.keyCode,[16,17,18,20,35,36,37,38,39,40,45,144,225])||(e.name in this.submitted||e.name in this.invalid)&&this.element(e)},onclick:function(e){e.name in this.submitted?this.element(e):e.parentNode.name in this.submitted&&this.element(e.parentNode)},highlight:function(e,t,n){("radio"===e.type?this.findByName(e.name):c(e)).addClass(t).removeClass(n)},unhighlight:function(e,t,n){("radio"===e.type?this.findByName(e.name):c(e)).removeClass(t).addClass(n)}},setDefaults:function(e){c.extend(c.validator.defaults,e)},messages:{required:"This field is required.",remote:"Please fix this field.",email:"Please enter a valid email address.",url:"Please enter a valid URL.",date:"Please enter a valid date.",dateISO:"Please enter a valid date (ISO).",number:"Please enter a valid number.",digits:"Please enter only digits.",equalTo:"Please enter the same value again.",maxlength:c.validator.format("Please enter no more than {0} characters."),minlength:c.validator.format("Please enter at least {0} characters."),rangelength:c.validator.format("Please enter a value between {0} and {1} characters long."),range:c.validator.format("Please enter a value between {0} and {1}."),max:c.validator.format("Please enter a value less than or equal to {0}."),min:c.validator.format("Please enter a value greater than or equal to {0}."),step:c.validator.format("Please enter a multiple of {0}.")},autoCreateRanges:!1,prototype:{init:function(){function e(e){var t,n,a=void 0!==c(this).attr("contenteditable")&&"false"!==c(this).attr("contenteditable");!this.form&&a&&(this.form=c(this).closest("form")[0],this.name=c(this).attr("name")),i===this.form&&(a=c.data(this.form,"validator"),t="on"+e.type.replace(/^validate/,""),(n=a.settings)[t])&&!c(this).is(n.ignore)&&n[t].call(a,this,e)}this.labelContainer=c(this.settings.errorLabelContainer),this.errorContext=this.labelContainer.length&&this.labelContainer||c(this.currentForm),this.containers=c(this.settings.errorContainer).add(this.settings.errorLabelContainer),this.submitted={},this.valueCache={},this.pendingRequest=0,this.pending={},this.invalid={},this.reset();var n,i=this.currentForm,a=this.groups={};c.each(this.settings.groups,function(n,e){"string"==typeof e&&(e=e.split(/\s/)),c.each(e,function(e,t){a[t]=n})}),n=this.settings.rules,c.each(n,function(e,t){n[e]=c.validator.normalizeRule(t)}),c(this.currentForm).on("focusin.validate focusout.validate keyup.validate",":text, [type='password'], [type='file'], select, textarea, [type='number'], [type='search'], [type='tel'], [type='url'], [type='email'], [type='datetime'], [type='date'], [type='month'], [type='week'], [type='time'], [type='datetime-local'], [type='range'], [type='color'], [type='radio'], [type='checkbox'], [contenteditable], [type='button']",e).on("click.validate","select, option, [type='radio'], [type='checkbox']",e),this.settings.invalidHandler&&c(this.currentForm).on("invalid-form.validate",this.settings.invalidHandler)},form:function(){return this.checkForm(),c.extend(this.submitted,this.errorMap),this.invalid=c.extend({},this.errorMap),this.valid()||c(this.currentForm).triggerHandler("invalid-form",[this]),this.showErrors(),this.valid()},checkForm:function(){this.prepareForm();for(var e=0,t=this.currentElements=this.elements();t[e];e++)this.check(t[e]);return this.valid()},element:function(e){var t,n,a=this.clean(e),i=this.validationTargetFor(a),o=this,r=!0;return void 0===i?delete this.invalid[a.name]:(this.prepareElement(i),this.currentElements=c(i),(n=this.groups[i.name])&&c.each(this.groups,function(e,t){t===n&&e!==i.name&&(a=o.validationTargetFor(o.clean(o.findByName(e))))&&a.name in o.invalid&&(o.currentElements.push(a),r=o.check(a)&&r)}),t=!1!==this.check(i),r=r&&t,this.invalid[i.name]=!t,this.numberOfInvalids()||(this.toHide=this.toHide.add(this.containers)),this.showErrors(),c(e).attr("aria-invalid",!t)),r},showErrors:function(t){var n;t&&(c.extend((n=this).errorMap,t),this.errorList=c.map(this.errorMap,function(e,t){return{message:e,element:n.findByName(t)[0]}}),this.successList=c.grep(this.successList,function(e){return!(e.name in t)})),this.settings.showErrors?this.settings.showErrors.call(this,this.errorMap,this.errorList):this.defaultShowErrors()},resetForm:function(){c.fn.resetForm&&c(this.currentForm).resetForm(),this.invalid={},this.submitted={},this.prepareForm(),this.hideErrors();var e=this.elements().removeData("previousValue").removeAttr("aria-invalid");this.resetElements(e)},resetElements:function(e){var t;if(this.settings.unhighlight)for(t=0;e[t];t++)this.settings.unhighlight.call(this,e[t],this.settings.errorClass,""),this.findByName(e[t].name).removeClass(this.settings.validClass);else e.removeClass(this.settings.errorClass).removeClass(this.settings.validClass)},numberOfInvalids:function(){return this.objectLength(this.invalid)},objectLength:function(e){var t,n=0;for(t in e)null!=e[t]&&!1!==e[t]&&n++;return n},hideErrors:function(){this.hideThese(this.toHide)},hideThese:function(e){e.not(this.containers).text(""),this.addWrapper(e).hide()},valid:function(){return 0===this.size()},size:function(){return this.errorList.length},focusInvalid:function(){if(this.settings.focusInvalid)try{c(this.findLastActive()||this.errorList.length&&this.errorList[0].element||[]).filter(":visible").trigger("focus").trigger("focusin")}catch(e){}},findLastActive:function(){var t=this.lastActive;return t&&1===c.grep(this.errorList,function(e){return e.element.name===t.name}).length&&t},elements:function(){var n=this,a={};return c(this.currentForm).find("input, select, textarea, [contenteditable]").not(":submit, :reset, :image, :disabled").not(this.settings.ignore).filter(function(){var e=this.name||c(this).attr("name"),t=void 0!==c(this).attr("contenteditable")&&"false"!==c(this).attr("contenteditable");return!e&&n.settings.debug&&window.console&&console.error("%o has no name assigned",this),t&&(this.form=c(this).closest("form")[0],this.name=e),!(this.form!==n.currentForm||e in a||!n.objectLength(c(this).rules())||(a[e]=!0,0))})},clean:function(e){return c(e)[0]},errors:function(){var e=this.settings.errorClass.split(" ").join(".");return c(this.settings.errorElement+"."+e,this.errorContext)},resetInternals:function(){this.successList=[],this.errorList=[],this.errorMap={},this.toShow=c([]),this.toHide=c([])},reset:function(){this.resetInternals(),this.currentElements=c([])},prepareForm:function(){this.reset(),this.toHide=this.errors().add(this.containers)},prepareElement:function(e){this.reset(),this.toHide=this.errorsFor(e)},elementValue:function(e){var t=c(e),n=e.type,a=void 0!==t.attr("contenteditable")&&"false"!==t.attr("contenteditable");return"radio"===n||"checkbox"===n?this.findByName(e.name).filter(":checked").val():"number"===n&&void 0!==e.validity?e.validity.badInput?"NaN":t.val():(e=a?t.text():t.val(),"file"===n?"C:\\fakepath\\"===e.substr(0,12)?e.substr(12):0<=(a=e.lastIndexOf("/"))||0<=(a=e.lastIndexOf("\\"))?e.substr(a+1):e:"string"==typeof e?e.replace(/\r/g,""):e)},check:function(t){t=this.validationTargetFor(this.clean(t));var e,n,a,i,o=c(t).rules(),r=c.map(o,function(e,t){return t}).length,s=!1,l=this.elementValue(t);for(n in this.abortRequest(t),"function"==typeof o.normalizer?i=o.normalizer:"function"==typeof this.settings.normalizer&&(i=this.settings.normalizer),i&&(l=i.call(t,l),delete o.normalizer),o){a={method:n,parameters:o[n]};try{if("dependency-mismatch"===(e=c.validator.methods[n].call(this,l,t,a.parameters))&&1===r)s=!0;else{if(s=!1,"pending"===e)return void(this.toHide=this.toHide.not(this.errorsFor(t)));if(!e)return this.formatAndAdd(t,a),!1}}catch(e){throw this.settings.debug&&window.console&&console.log("Exception occurred when checking element "+t.id+", check the '"+a.method+"' method.",e),e instanceof TypeError&&(e.message+=".  Exception occurred when checking element "+t.id+", check the '"+a.method+"' method."),e}}if(!s)return this.objectLength(o)&&this.successList.push(t),!0},customDataMessage:function(e,t){return c(e).data("msg"+t.charAt(0).toUpperCase()+t.substring(1).toLowerCase())||c(e).data("msg")},customMessage:function(e,t){e=this.settings.messages[e];return e&&(e.constructor===String?e:e[t])},findDefined:function(){for(var e=0;e<arguments.length;e++)if(void 0!==arguments[e])return arguments[e]},defaultMessage:function(e,t){var n=this.findDefined(this.customMessage(e.name,(t="string"==typeof t?{method:t}:t).method),this.customDataMessage(e,t.method),!this.settings.ignoreTitle&&e.title||void 0,c.validator.messages[t.method],"<strong>Warning: No message defined for "+e.name+"</strong>"),a=/\$?\{(\d+)\}/g;return"function"==typeof n?n=n.call(this,t.parameters,e):a.test(n)&&(n=c.validator.format(n.replace(a,"{$1}"),t.parameters)),n},formatAndAdd:function(e,t){var n=this.defaultMessage(e,t);this.errorList.push({message:n,element:e,method:t.method}),this.errorMap[e.name]=n,this.submitted[e.name]=n},addWrapper:function(e){return e=this.settings.wrapper?e.add(e.parent(this.settings.wrapper)):e},defaultShowErrors:function(){for(var e,t,n=0;this.errorList[n];n++)t=this.errorList[n],this.settings.highlight&&this.settings.highlight.call(this,t.element,this.settings.errorClass,this.settings.validClass),this.showLabel(t.element,t.message);if(this.errorList.length&&(this.toShow=this.toShow.add(this.containers)),this.settings.success)for(n=0;this.successList[n];n++)this.showLabel(this.successList[n]);if(this.settings.unhighlight)for(n=0,e=this.validElements();e[n];n++)this.settings.unhighlight.call(this,e[n],this.settings.errorClass,this.settings.validClass);this.toHide=this.toHide.not(this.toShow),this.hideErrors(),this.addWrapper(this.toShow).show()},validElements:function(){return this.currentElements.not(this.invalidElements())},invalidElements:function(){return c(this.errorList).map(function(){return this.element})},showLabel:function(e,t){var n,a,i,o=this.errorsFor(e),r=this.idOrName(e),s=c(e).attr("aria-describedby");o.length?(o.removeClass(this.settings.validClass).addClass(this.settings.errorClass),this.settings&&this.settings.escapeHtml?o.text(t||""):o.html(t||"")):(o=c("<"+this.settings.errorElement+">").attr("id",r+"-error").addClass(this.settings.errorClass),this.settings&&this.settings.escapeHtml?o.text(t||""):o.html(t||""),a=o,this.settings.wrapper&&(a=o.hide().show().wrap("<"+this.settings.wrapper+"/>").parent()),this.labelContainer.length?this.labelContainer.append(a):this.settings.errorPlacement?this.settings.errorPlacement.call(this,a,c(e)):a.insertAfter(e),o.is("label")?o.attr("for",r):0===o.parents("label[for='"+this.escapeCssMeta(r)+"']").length&&(a=o.attr("id"),s?s.match(new RegExp("\\b"+this.escapeCssMeta(a)+"\\b"))||(s+=" "+a):s=a,c(e).attr("aria-describedby",s),n=this.groups[e.name])&&c.each((i=this).groups,function(e,t){t===n&&c("[name='"+i.escapeCssMeta(e)+"']",i.currentForm).attr("aria-describedby",o.attr("id"))})),!t&&this.settings.success&&(o.text(""),"string"==typeof this.settings.success?o.addClass(this.settings.success):this.settings.success(o,e)),this.toShow=this.toShow.add(o)},errorsFor:function(e){var t=this.escapeCssMeta(this.idOrName(e)),e=c(e).attr("aria-describedby"),t="label[for='"+t+"'], label[for='"+t+"'] *";return e&&(t=t+", #"+this.escapeCssMeta(e).replace(/\s+/g,", #")),this.errors().filter(t)},escapeCssMeta:function(e){return void 0===e?"":e.replace(/([\\!"#$%&'()*+,./:;<=>?@\[\]^`{|}~])/g,"\\$1")},idOrName:function(e){return this.groups[e.name]||!this.checkable(e)&&e.id||e.name},validationTargetFor:function(e){return this.checkable(e)&&(e=this.findByName(e.name)),c(e).not(this.settings.ignore)[0]},checkable:function(e){return/radio|checkbox/i.test(e.type)},findByName:function(e){return c(this.currentForm).find("[name='"+this.escapeCssMeta(e)+"']")},getLength:function(e,t){switch(t.nodeName.toLowerCase()){case"select":return c("option:selected",t).length;case"input":if(this.checkable(t))return this.findByName(t.name).filter(":checked").length}return e.length},depend:function(e,t){return!this.dependTypes[typeof e]||this.dependTypes[typeof e](e,t)},dependTypes:{boolean:function(e){return e},string:function(e,t){return!!c(e,t.form).length},function:function(e,t){return e(t)}},optional:function(e){var t=this.elementValue(e);return!c.validator.methods.required.call(this,t,e)&&"dependency-mismatch"},elementAjaxPort:function(e){return"validate"+e.name},startRequest:function(e){this.pending[e.name]||(this.pendingRequest++,c(e).addClass(this.settings.pendingClass),this.pending[e.name]=!0)},stopRequest:function(e,t){this.pendingRequest--,this.pendingRequest<0&&(this.pendingRequest=0),delete this.pending[e.name],c(e).removeClass(this.settings.pendingClass),t&&0===this.pendingRequest&&this.formSubmitted&&this.form()&&0===this.pendingRequest?(c(this.currentForm).trigger("submit"),this.submitButton&&c("input:hidden[name='"+this.submitButton.name+"']",this.currentForm).remove(),this.formSubmitted=!1):!t&&0===this.pendingRequest&&this.formSubmitted&&(c(this.currentForm).triggerHandler("invalid-form",[this]),this.formSubmitted=!1)},abortRequest:function(e){var t;this.pending[e.name]&&(t=this.elementAjaxPort(e),c.ajaxAbort(t),this.pendingRequest--,this.pendingRequest<0&&(this.pendingRequest=0),delete this.pending[e.name],c(e).removeClass(this.settings.pendingClass))},previousValue:function(e,t){return t="string"==typeof t&&t||"remote",c.data(e,"previousValue")||c.data(e,"previousValue",{old:null,valid:!0,message:this.defaultMessage(e,{method:t})})},destroy:function(){this.resetForm(),c(this.currentForm).off(".validate").removeData("validator").find(".validate-equalTo-blur").off(".validate-equalTo").removeClass("validate-equalTo-blur").find(".validate-lessThan-blur").off(".validate-lessThan").removeClass("validate-lessThan-blur").find(".validate-lessThanEqual-blur").off(".validate-lessThanEqual").removeClass("validate-lessThanEqual-blur").find(".validate-greaterThanEqual-blur").off(".validate-greaterThanEqual").removeClass("validate-greaterThanEqual-blur").find(".validate-greaterThan-blur").off(".validate-greaterThan").removeClass("validate-greaterThan-blur")}},classRuleSettings:{required:{required:!0},email:{email:!0},url:{url:!0},date:{date:!0},dateISO:{dateISO:!0},number:{number:!0},digits:{digits:!0},creditcard:{creditcard:!0}},addClassRules:function(e,t){e.constructor===String?this.classRuleSettings[e]=t:c.extend(this.classRuleSettings,e)},classRules:function(e){var t={},e=c(e).attr("class");return e&&c.each(e.split(" "),function(){this in c.validator.classRuleSettings&&c.extend(t,c.validator.classRuleSettings[this])}),t},normalizeAttributeRule:function(e,t,n,a){(a=/min|max|step/.test(n)&&(null===t||/number|range|text/.test(t))&&(a=Number(a),isNaN(a))?void 0:a)||0===a?e[n]=a:t===n&&"range"!==t&&(e["date"===t?"dateISO":n]=!0)},attributeRules:function(e){var t,n,a={},i=c(e),o=e.getAttribute("type");for(t in c.validator.methods)n="required"===t?(n=e.getAttribute(t),""===n&&(n=!0),!!n):i.attr(t),this.normalizeAttributeRule(a,o,t,n);return a.maxlength&&/-1|2147483647|524288/.test(a.maxlength)&&delete a.maxlength,a},dataRules:function(e){var t,n,a={},i=c(e),o=e.getAttribute("type");for(t in c.validator.methods)n=i.data("rule"+t.charAt(0).toUpperCase()+t.substring(1).toLowerCase()),""===n&&(n=!0),this.normalizeAttributeRule(a,o,t,n);return a},staticRules:function(e){var t={},n=c.data(e.form,"validator");return t=n.settings.rules?c.validator.normalizeRule(n.settings.rules[e.name])||{}:t},normalizeRules:function(a,i){return c.each(a,function(e,t){if(!1===t)delete a[e];else if(t.param||t.depends){var n=!0;switch(typeof t.depends){case"string":n=!!c(t.depends,i.form).length;break;case"function":n=t.depends.call(i,i)}n?a[e]=void 0===t.param||t.param:(c.data(i.form,"validator").resetElements(c(i)),delete a[e])}}),c.each(a,function(e,t){a[e]="function"==typeof t&&"normalizer"!==e?t(i):t}),c.each(["minlength","maxlength"],function(){a[this]&&(a[this]=Number(a[this]))}),c.each(["rangelength","range"],function(){var e;a[this]&&(Array.isArray(a[this])?a[this]=[Number(a[this][0]),Number(a[this][1])]:"string"==typeof a[this]&&(e=a[this].replace(/[\[\]]/g,"").split(/[\s,]+/),a[this]=[Number(e[0]),Number(e[1])]))}),c.validator.autoCreateRanges&&(null!=a.min&&null!=a.max&&(a.range=[a.min,a.max],delete a.min,delete a.max),null!=a.minlength)&&null!=a.maxlength&&(a.rangelength=[a.minlength,a.maxlength],delete a.minlength,delete a.maxlength),a},normalizeRule:function(e){var t;return"string"==typeof e&&(t={},c.each(e.split(/\s/),function(){t[this]=!0}),e=t),e},addMethod:function(e,t,n){c.validator.methods[e]=t,c.validator.messages[e]=void 0!==n?n:c.validator.messages[e],t.length<3&&c.validator.addClassRules(e,c.validator.normalizeRule(e))},methods:{required:function(e,t,n){return this.depend(n,t)?"select"===t.nodeName.toLowerCase()?(n=c(t).val())&&0<n.length:this.checkable(t)?0<this.getLength(e,t):null!=e&&0<e.length:"dependency-mismatch"},email:function(e,t){return this.optional(t)||/^[a-zA-Z0-9.!#$%&'*+\/=?^_`{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/.test(e)},url:function(e,t){return this.optional(t)||/^(?:(?:(?:https?|ftp):)?\/\/)(?:(?:[^\]\[?\/<~#`!@$^&*()+=}|:";',>{ ]|%[0-9A-Fa-f]{2})+(?::(?:[^\]\[?\/<~#`!@$^&*()+=}|:";',>{ ]|%[0-9A-Fa-f]{2})*)?@)?(?:(?!(?:10|127)(?:\.\d{1,3}){3})(?!(?:169\.254|192\.168)(?:\.\d{1,3}){2})(?!172\.(?:1[6-9]|2\d|3[0-1])(?:\.\d{1,3}){2})(?:[1-9]\d?|1\d\d|2[01]\d|22[0-3])(?:\.(?:1?\d{1,2}|2[0-4]\d|25[0-5])){2}(?:\.(?:[1-9]\d?|1\d\d|2[0-4]\d|25[0-4]))|(?:(?:[a-z0-9\u00a1-\uffff][a-z0-9\u00a1-\uffff_-]{0,62})?[a-z0-9\u00a1-\uffff]\.)+(?:[a-z\u00a1-\uffff]{2,}\.?))(?::\d{2,5})?(?:[/?#]\S*)?$/i.test(e)},date:(n=!1,function(e,t){return n||(n=!0,this.settings.debug&&window.console&&console.warn("The `date` method is deprecated and will be removed in version '2.0.0'.\nPlease don't use it, since it relies on the Date constructor, which\nbehaves very differently across browsers and locales. Use `dateISO`\ninstead or one of the locale specific methods in `localizations/`\nand `additional-methods.js`.")),this.optional(t)||!/Invalid|NaN/.test(new Date(e).toString())}),dateISO:function(e,t){return this.optional(t)||/^\d{4}[\/\-](0?[1-9]|1[012])[\/\-](0?[1-9]|[12][0-9]|3[01])$/.test(e)},number:function(e,t){return this.optional(t)||/^(?:-?\d+|-?\d{1,3}(?:,\d{3})+)?(?:\.\d+)?$/.test(e)},digits:function(e,t){return this.optional(t)||/^\d+$/.test(e)},minlength:function(e,t,n){e=Array.isArray(e)?e.length:this.getLength(e,t);return this.optional(t)||n<=e},maxlength:function(e,t,n){e=Array.isArray(e)?e.length:this.getLength(e,t);return this.optional(t)||e<=n},rangelength:function(e,t,n){e=Array.isArray(e)?e.length:this.getLength(e,t);return this.optional(t)||e>=n[0]&&e<=n[1]},min:function(e,t,n){return this.optional(t)||n<=e},max:function(e,t,n){return this.optional(t)||e<=n},range:function(e,t,n){return this.optional(t)||e>=n[0]&&e<=n[1]},step:function(e,t,n){function a(e){return(e=(""+e).match(/(?:\.(\d+))?$/))&&e[1]?e[1].length:0}function i(e){return Math.round(e*Math.pow(10,o))}var o,r=c(t).attr("type"),s="Step attribute on input type "+r+" is not supported.",l=new RegExp("\\b"+r+"\\b"),d=!0;if(r&&!l.test(["text","number","range"].join()))throw new Error(s);return o=a(n),(a(e)>o||i(e)%i(n)!=0)&&(d=!1),this.optional(t)||d},equalTo:function(e,t,n){n=c(n);return this.settings.onfocusout&&n.not(".validate-equalTo-blur").length&&n.addClass("validate-equalTo-blur").on("blur.validate-equalTo",function(){c(t).valid()}),e===n.val()},remote:function(a,i,e,o){if(this.optional(i))return"dependency-mismatch";o="string"==typeof o&&o||"remote";var r,t,s=this.previousValue(i,o);return this.settings.messages[i.name]||(this.settings.messages[i.name]={}),s.originalMessage=s.originalMessage||this.settings.messages[i.name][o],this.settings.messages[i.name][o]=s.message,t=c.param(c.extend({data:a},(e="string"==typeof e?{url:e}:e).data)),s.old===t?s.valid:(s.old=t,(r=this).startRequest(i),(t={})[i.name]=a,c.ajax(c.extend(!0,{mode:"abort",port:this.elementAjaxPort(i),dataType:"json",data:t,context:r.currentForm,success:function(e){var t,n=!0===e||"true"===e;r.settings.messages[i.name][o]=s.originalMessage,n?(t=r.formSubmitted,r.toHide=r.errorsFor(i),r.formSubmitted=t,r.successList.push(i),r.invalid[i.name]=!1,r.showErrors()):(t={},e=e||r.defaultMessage(i,{method:o,parameters:a}),t[i.name]=s.message=e,r.invalid[i.name]=!0,r.showErrors(t)),s.valid=n,r.stopRequest(i,n)}},e)),"pending")}}});var a,i={};return c.ajaxPrefilter?c.ajaxPrefilter(function(e,t,n){var a=e.port;"abort"===e.mode&&(c.ajaxAbort(a),i[a]=n)}):(a=c.ajax,c.ajax=function(e){var t=("mode"in e?e:c.ajaxSettings).mode,e=("port"in e?e:c.ajaxSettings).port;return"abort"===t?(c.ajaxAbort(e),i[e]=a.apply(this,arguments),i[e]):a.apply(this,arguments)}),c.ajaxAbort=function(e){i[e]&&(i[e].abort(),delete i[e])},c});var isKeyUp=!1;function emailConfiguration(){switch($(".validation-txt-errors").hide(),$(".validation-errors").html(""),$("#test-connection-validation").hide(),$("#test-connection-validation").removeClass("failure").html(""),$(".has-error").removeClass("has-error"),$(".secrets-field input[type='text'], .secrets-field input[type='password']").val(""),$(".secrets-field-pwsd input[type='text'], .secrets-field-pwsd input[type='password']").val(""),document.getElementById("mail-account").ej2_instances[0].value){case"0":$(".oauth-field").hide(),$(".smtp-field").show(),$("#client-id").val(""),$("#client-secret").val(""),$("#tenant-id").val(""),$("div.placeholder").remove();break;case"1":$(".smtp-field").hide(),$(".oauth-field").show(),$("#smtp-address").val(""),$("#port-number").val(""),$("#mail-display-name").val(""),$("#sender-user-name").val(""),$("#secure-mail-authentication").prop("checked",!1),$("div.placeholder").remove()}}function onBaseUrlChange(){$(".exist-domain-info").addClass("show").removeClass("hide")}function AzureADFormValidate(){$(".success-message").hide();var e={tenantName:$("#tenantName").val().trim(),clientId:$("#clientId").val().trim(),clientKey:$("#clientKey").val().trim()};$.ajax({type:"POST",url:window.azureadTestconnectionUrl,data:e,beforeSend:showWaitingPopup("server-app-container"),success:function(e){(e.status?($("#azure-ad-setting .success-message").html("<span style='color:green'>"+e.value+"</span>"),$("#azure-ad-setting .error-message").css("display","none"),$("#azure-ad-setting .success-message")):($("#azure-ad-setting .error-message").html("<span style='color:red'>"+e.value+"</span>"),$("#azure-ad-setting .success-message").css("display","none"),$("#azure-ad-setting .error-message"))).css("display","block")},complete:function(){hideWaitingPopup("server-app-container")}})}function RemoveUploadBoxError(){$("#upload-login-image-textbox").removeClass("ValidationErrorImage").val(window.Server.App.LocalizationContent.BrowsePath),$("#upload-login-image-textbox").closest("div").removeClass("has-error"),$("#upload-login-image-textbox").parent().find(".e-box").removeClass("upload-error-border"),$("#upload-main-screen-image-textbox").removeClass("ValidationErrorImage").val(window.Server.App.LocalizationContent.BrowsePath),$("#upload-main-screen-image-textbox").closest("div").removeClass("has-error"),$("#upload-main-screen-image-textbox").parent().find(".e-box").removeClass("upload-error-border"),$("#upload-favicon-image-textbox").removeClass("ValidationErrorImage").val(window.Server.App.LocalizationContent.BrowsePath),$("#upload-favicon-image-textbox").closest("div").removeClass("has-error"),$("#upload-favicon-image-textbox").parent().find(".e-box").removeClass("upload-error-border"),$("#upload-poweredogo-image-textbox").removeClass("ValidationErrorImage").val(window.Server.App.LocalizationContent.BrowsePath),$("#upload-poweredogo-image-textbox").closest("div").removeClass("has-error"),$("#upload-poweredogo-image-textbox").parent().find(".e-box").removeClass("upload-error-border")}function parseURL(e){for(var a=parseURL.options,t=a.parser[a.strictMode?"strict":"loose"].exec(e),i={},n=14;n--;)i[a.key[n]]=t[n]||"";return i[a.q.name]={},i[a.key[12]].replace(a.q.parser,function(e,t,n){t&&(i[a.q.name][t]=n)}),i}function SetCookie(){$("#lang_tag").val()!==$("#language_hidden").val()&&$.ajax({type:"POST",url:window.setLanguageUrl,data:{returnUrl:$("#return_url").val()+"/ums/administration"},success:function(e){location.reload()}})}function addPlacehoder(e){regexIe8.test(userAgent)&&$(e).find("input[type=text][class!='hidden-input'],input[type=password][class!='hidden-input'],textarea[id='txt_welcome_note']").each(function(){""===$(this).val()?$($("<div>",{class:"placeholder",text:$(this).attr("placeholder")})).insertAfter(this).show():$($("<div>",{class:"placeholder",text:$(this).attr("placeholder"),style:"display:block"})).insertAfter(this).hide()})}function addFooterSeparator(){1==$("#enablepoweredbysyncfusion").is(":checked")&&1==$("#enablecopyrightinfo").is(":checked")?$("#footer-separator").removeClass("hide").show():$("#footer-separator").removeClass("show").hide()}function getSslValue(){return document.getElementById("enable-ssl").ej2_instances[0].value}function testMailTrigger(){var e,t;$("#email-setting-form").valid()&&(null==document.getElementById("test-mail-dialog")?((t=document.createElement("div")).setAttribute("id","test-mail-dialog"),document.getElementById("content-area").appendChild(t),createWaitingPopup("test-mail-dialog"),(e=new ejs.popups.Dialog({header:window.Server.App.LocalizationContent.SendTestMail,showCloseIcon:!0,content:document.getElementById("test-mail-box"),buttons:[{click:function(){e.hide(),$("#test-mail").val("")},buttonModel:{content:window.Server.App.LocalizationContent.CancelButton}},{click:function(e){var t=parseInt($("#authentication-type input[type='radio']:checked").val()),t={MailSettings:{MailSettingsAddress:$("#mail-user-name").val(),MailSettingsAuthType:t,MailSettingsUserName:1===t?$("#sender-user-name").val():"",MailSettingsPassword:1===t?$("#mail-password").val():"",MailSettingsHost:$("#smtp-address").val(),MailSettingsSenderName:$("#mail-display-name").val(),MailSettingsPort:parseInt($("#port-number").val()),MailSettingsIsSecureAuthentication:$("#secure-mail-authentication").is(":checked"),MachineName:$("#machineName").val(),HostDomain:$("#hostDomain").val(),MailSettingsAccount:null==document.getElementById("mail-account").ej2_instances[0].value||isNullOrWhitespace(document.getElementById("mail-account").ej2_instances[0].value)?0:parseInt(document.getElementById("mail-account").ej2_instances[0].value),MailSettingsTenantId:$("#tenant-id").val(),MailSettingsClientId:$("#client-id").val(),MailSettingsClientSecret:$("#client-secret").val()}};$("#test-mail-form").valid()&&(showWaitingPopup("test-mail-dialog"),$.ajax({type:"POST",url:sentTestMail,data:{email:$("#test-mail").val(),mailSettingsData:JSON.stringify(t)},beforeSend:showWaitingPopup("server-app-container"),success:function(e){hideWaitingPopup("server-app-container"),e.Status?($("#test-mail").val(""),$(".success-box").show(),$("#test-mail-dialog .e-footer-content").find("button").hide(),$("#test-mail-dialog .e-footer-content").find("button").last().show(),$(".e-footer-content").css("text-align","center"),$(".test-mail-info, #test-mail-form").hide()):($("#test-mail").closest("span").addClass("e-error"),$("#test-mail-validate").css("display","block"),$("#test-mail-validate").html(window.Server.App.LocalizationContent.MailSendFailureMessage1.format("<a id='mail-error-detail'>","</a>")),$("#test-main-error-message").val(e.Data)),hideWaitingPopup("test-mail-dialog")}}))},buttonModel:{isPrimary:!0,content:window.Server.App.LocalizationContent.SendButton}},{click:function(){e.hide(),$("#test-mail").val("")},buttonModel:{content:window.Server.App.LocalizationContent.DoneButton}}],animationSettings:{effect:"Zoom"},beforeOpen:showTestMailBox,width:"400px",isModal:!0})).appendTo(t)):($(".success-box").hide(),$(".test-mail-info, #test-mail-form").show(),$(".e-footer-content").css("text-align","right"),$("#test-mail-dialog .e-footer-content").find("button").show(),$("#test-mail-dialog .e-footer-content").find("button").last().hide(),(t=document.getElementById("test-mail-dialog").ej2_instances)[0].refresh(),t[0].show()))}function showTestMailBox(){$("#test-mail").val(""),$("#test-mail").parent().removeClass("e-error"),$(".e-footer-content").css("text-align","right"),$("#test-mail-validate, #test-main-error-message, .success-box").hide(),$("#test-mail-dialog .e-footer-content").find("button").show(),$("#test-mail-dialog .e-footer-content").find("button").last().hide(),$(".test-mail-info, #test-mail-form, #test-mail-box").show()}$(document).ready(function(){addPlacehoder("body");var l=!1,d=!1,c=!1,t=$.now(),u=$("#language").val();dropDownListInitialization("#time-zone",window.Server.App.LocalizationContent.TimeZone,!0),dropDownListInitialization("#date-format",window.Server.App.LocalizationContent.DateFormat,!0),dropDownListInitialization("#time_format",window.Server.App.LocalizationContent.TimeFormat),dropDownListInitialization("#language",window.Server.App.LocalizationContent.Language),dropDownListInitialization("#enable-ssl",""),dropDownListInitialization("#mail-account",""),document.getElementById("enable-ssl").ej2_instances[0].value=isSecureConnection?"https":"http",document.getElementById("enable-ssl").ej2_instances[0].text=isSecureConnection?"https":"http",document.getElementById("time-zone").ej2_instances[0].value=selectedTimeZoneValue,document.getElementById("time-zone").ej2_instances[0].text=selectedTimeZoneText,document.getElementById("time_format").ej2_instances[0].value=selectedTimeFormatValue,document.getElementById("time_format").ej2_instances[0].text=selectedTimeFormatText,document.getElementById("date-format").ej2_instances[0].value=selectedDateFormatValue,document.getElementById("date-format").ej2_instances[0].text=selectedDateFormatText,document.getElementById("language").ej2_instances[0].value=selectedLanguageValue,document.getElementById("language").ej2_instances[0].text=selectedLanguageText,document.getElementById("mail-account").ej2_instances[0].value=emailAccountValue,document.getElementById("mail-account").ej2_instances[0].text=emailAccountText,$("#time_format").is(":checked")?$(".time").html(window.Server.App.LocalizationContent.TimeFormatTrue):$(".time").html(window.Server.App.LocalizationContent.TimeFormatFalse),$("#mail-password").show(),new ej.inputs.Uploader({asyncSettings:{saveUrl:window.fileUploadUrl+"?imageType=loginlogo&&timeStamp="+t},autoUpload:!0,showFileList:!1,multiple:!1,maxFileSize:3e7,allowedExtensions:".PNG,.png,.jpg,.JPG,.jpeg,.JPEG,.svg,.SVG",buttons:{browse:window.Server.App.LocalizationContent.LogoButton},selected:function(e){showWaitingPopup("content-area"),t=$.now();e="."+(type=e.filesData[0]?.type.toLowerCase());void 0===type?hideWaitingPopup("content-area"):".png"!=e&&".jpg"!=e&&".jpeg"!=e&&".svg"!=e?($(".login-screen-logo").find(".validation-error-image").text(window.Server.App.LocalizationContent.InValidFileFormat),$(".login-screen-logo").addClass("upload-error-border"),hideWaitingPopup("content-area")):($(".login-screen-logo").find(".validation-error-image").text(""),$(".login-screen-logo").removeClass("upload-error-border"),this.asyncSettings.saveUrl=window.fileUploadUrl+"?imageType=loginlogo&&timeStamp="+t)},success:function(e){e="."+("svg"==e.file.type.toLowerCase()?e.file.type.toLowerCase():"png"),window.SystemSettingsProperties.LoginLogo="login_logo_"+t+e,e=window.baseRootUrl+"content/images/application/login_logo_"+t+e+"?v="+$.now();$("#display-login-logo").attr("src",e),hideWaitingPopup("content-area"),$("#image-container").find(".tooltip-container[data-image='login-screen']").tooltip("hide"),$("#upload-image").removeAttr("disabled")}}).appendTo("#upload-login-image"),new ej.inputs.Uploader({asyncSettings:{saveUrl:window.fileUploadUrl+"?imageType=mainlogo&&timeStamp="+t},autoUpload:!0,showFileList:!1,multiple:!1,maxFileSize:3e7,allowedExtensions:".PNG,.png,.jpg,.JPG,.jpeg,.JPEG,.svg,.SVG",buttons:{browse:window.Server.App.LocalizationContent.LogoButton},selected:function(e){showWaitingPopup("content-area"),t=$.now();e="."+(type=e.filesData[0]?.type.toLowerCase());void 0===type?hideWaitingPopup("content-area"):".png"!=e&&".jpg"!=e&&".jpeg"!=e&&".svg"!=e?($(".header-logo").find(".validation-error-image").text(window.Server.App.LocalizationContent.InValidFileFormat),$(".header-logo").addClass("upload-error-border"),hideWaitingPopup("content-area")):($(".header-logo").find(".validation-error-image").text(""),$(".header-logo").removeClass("upload-error-border"),this.asyncSettings.saveUrl=window.fileUploadUrl+"?imageType=mainlogo&&timeStamp="+t)},success:function(e){e="."+("svg"==e.file.type.toLowerCase()?e.file.type.toLowerCase():"png"),window.SystemSettingsProperties.MainScreenLogo="main_logo_"+t+e,l=!0,e=window.baseRootUrl+"content/images/application/main_logo_"+t+e+"?v="+$.now();$("#mainscreen_logo_img").attr("src",e),hideWaitingPopup("content-area"),$("#image-container").find(".tooltip-container[data-image='login-screen']").tooltip("hide"),$("#upload-image").removeAttr("disabled")}}).appendTo("#upload-Main-screen-image"),new ej.inputs.Uploader({asyncSettings:{saveUrl:window.fileUploadUrl+"?imageType=favicon&&timeStamp="+t},autoUpload:!0,showFileList:!1,multiple:!1,maxFileSize:3e7,allowedExtensions:".PNG,.png,.jpg,.JPG,.jpeg,.JPEG,.svg,.SVG,.ico,.ICO",buttons:{browse:window.Server.App.LocalizationContent.FavIconButton},selected:function(e){showWaitingPopup("content-area"),t=$.now();e="."+(type=e.filesData[0]?.type.toLowerCase());void 0===type?hideWaitingPopup("content-area"):".png"!=e&&".jpg"!=e&&".jpeg"!=e&&".svg"!=e&&".ico"!=e?($(".favicon").find(".validation-error-image").text(window.Server.App.LocalizationContent.InValidFileFormat),$(".favicon").addClass("upload-error-border"),hideWaitingPopup("content-area")):($(".favicon").find(".validation-error-image").text(""),$(".favicon").removeClass("upload-error-border"),this.asyncSettings.saveUrl=window.fileUploadUrl+"?imageType=favicon&&timeStamp="+t)},success:function(e){e="."+("svg"==e.file.type.toLowerCase()?e.file.type.toLowerCase():"png"),window.SystemSettingsProperties.FavIcon="favicon_"+t+e,d=!0,e=window.baseRootUrl+"content/images/application/favicon_"+t+e+"?v="+$.now();$("#favicon_logo_img").attr("src",e),hideWaitingPopup("content-area"),$("#image-container").find(".tooltip-container[data-image='login-screen']").tooltip("hide"),$("#upload-image").removeAttr("disabled")}}).appendTo("#upload-favicon-image"),new ej.inputs.Uploader({asyncSettings:{saveUrl:window.fileUploadUrl+"?imageType=emaillogo&&timeStamp="+t},autoUpload:!0,showFileList:!1,multiple:!1,maxFileSize:3e7,allowedExtensions:".PNG,.png,.jpg,.JPG,.jpeg,.JPEG,.svg,.SVG",buttons:{browse:window.Server.App.LocalizationContent.LogoButton},selected:function(e){showWaitingPopup("content-area"),t=$.now();e="."+(type=e.filesData[0]?.type.toLowerCase());void 0===type?hideWaitingPopup("content-area"):".png"!=e&&".jpg"!=e&&".jpeg"!=e&&".svg"!=e?($(".email-logo").find(".validation-error-image").text(window.Server.App.LocalizationContent.InValidFileFormat),$(".email-logo").addClass("upload-error-border"),hideWaitingPopup("content-area")):($(".email-logo").find(".validation-error-image").text(""),$(".email-logo").removeClass("upload-error-border"),this.asyncSettings.saveUrl=window.fileUploadUrl+"?imageType=emaillogo&&timeStamp="+t)},success:function(e){e="."+("svg"==e.file.type.toLowerCase()?e.file.type.toLowerCase():"png"),window.SystemSettingsProperties.EmailLogo="email_logo_"+t+e,e=window.baseRootUrl+"content/images/application/email_logo_"+t+e+"?v="+$.now();$("#email_logo_img").attr("src",e),hideWaitingPopup("content-area"),$("#image-container").find(".tooltip-container[data-image='login-screen']").tooltip("hide"),$("#upload-image").removeAttr("disabled")}}).appendTo("#upload-emaillogo-image"),new ej.inputs.Uploader({asyncSettings:{saveUrl:window.fileUploadUrl+"?imageType=poweredlogo&&timeStamp="+t},autoUpload:!0,showFileList:!1,multiple:!1,maxFileSize:3e7,allowedExtensions:".PNG,.png,.jpg,.JPG,.jpeg,.JPEG,.svg,.SVG",buttons:{browse:window.Server.App.LocalizationContent.LogoButton},selected:function(e){showWaitingPopup("content-area"),t=$.now();e="."+(type=e.filesData[0]?.type.toLowerCase());void 0===type?hideWaitingPopup("content-area"):".png"!=e&&".jpg"!=e&&".jpeg"!=e&&".svg"!=e?($(".footer-logo").find(".validation-error-image").text(window.Server.App.LocalizationContent.InValidFileFormat),$(".footer-logo").addClass("upload-error-border"),hideWaitingPopup("content-area")):($(".footer-logo").find(".validation-error-image").text(""),$(".footer-logo").removeClass("upload-error-border"),this.asyncSettings.saveUrl=window.fileUploadUrl+"?imageType=poweredlogo&&timeStamp="+t)},success:function(e){e="."+("svg"==e.file.type.toLowerCase()?e.file.type.toLowerCase():"png"),window.SystemSettingsProperties.PoweredByLogo="powered_logo_"+t+e,c=!0,e=window.baseRootUrl+"content/images/application/powered_logo_"+t+e+"?v="+$.now();$("#display-powered-logo").attr("src",e),hideWaitingPopup("content-area"),$("#image-container").find(".tooltip-container[data-image='login-screen']").tooltip("hide"),$("#upload-image").removeAttr("disabled")}}).appendTo("#upload-poweredlogo-image"),$.validator.addMethod("isValidUrl",function(e,t){return!(!/^(https?:\/\/)?(([a-zA-Z0-9.-]+(:[a-zA-Z0-9]*)?@)?([a-zA-Z0-9.-]+\.[a-zA-Z]{2,}|localhost))(:(\d+))?(\/.*)?$/.test(e)||(e=parseURL(getSslValue()+"://"+$("#site_url").val()),65535<parseInt(e.port)))},window.Server.App.LocalizationContent.IsValidUrl),$.validator.addMethod("isRequired",function(e,t){return!isEmptyOrWhitespace(e)},window.Server.App.LocalizationContent.EnterName),$.validator.addMethod("isValidName",function(e,t){return IsValidName("name",e)},window.Server.App.LocalizationContent.AvoidSpecailCharacters),$.validator.addMethod("isValidEmail",function(e,t){return IsEmail(e)},window.Server.App.LocalizationContent.InvalidEmailAddress),$("#look-and-feel-form").validate({errorElement:"span",onkeyup:function(e,t){9!==t.keyCode&&$(e).valid()},onfocusout:function(e){$(e).valid()},rules:{site_name:{isRequired:!0,maxlength:255},site_url:{isRequired:!0,isValidUrl:!0},copy_right_info:{isRequired:!0,maxlength:255}},highlight:function(e){$(e).closest("div").addClass("has-error")},unhighlight:function(e){$(e).closest("div").removeClass("has-error"),("site_url"==e.id?$(e).parent().parent().next():$(e).parent().find("span.validation-errors")).html("")},errorPlacement:function(e,t){("site_url"==t.attr("id")?$(t).parent().parent().next():$(t).parent().find("span.validation-errors")).html(e)},messages:{site_name:{isRequired:window.Server.App.LocalizationContent.OrganizationName},site_url:{isRequired:window.Server.App.LocalizationContent.Urlvalidator},copy_right_info:{isRequired:window.Server.App.LocalizationContent.CopyRightValidator}}}),$("#email-setting-form").validate({errorElement:"span",onkeyup:function(e,t){9!=t.keyCode&&(isKeyUp=!0,"mail-password"===e.id&&""===$(e).val()||$(e).valid(),isKeyUp=!1)},onfocusout:function(e){("mail-password"!==e.id||""===$(e).val())&&$(e).valid()},rules:{smtp_address:{required:{depends:function(){return 0===parseInt(document.getElementById("mail-account").ej2_instances[0].value)}}},port_number:{required:{depends:function(){return 0===parseInt(document.getElementById("mail-account").ej2_instances[0].value)}}},mail_display_name:{required:{depends:function(){return 0===parseInt(document.getElementById("mail-account").ej2_instances[0].value)}},isValidName:{depends:function(){return 0===parseInt(document.getElementById("mail-account").ej2_instances[0].value)}}},mail_user_name:{required:{depends:function(){return 0===parseInt(document.getElementById("mail-account").ej2_instances[0].value)||1===parseInt(document.getElementById("mail-account").ej2_instances[0].value)}},isValidEmail:{depends:function(){return 0===parseInt(document.getElementById("mail-account").ej2_instances[0].value)||1===parseInt(document.getElementById("mail-account").ej2_instances[0].value)}}},mail_password:{required:{depends:function(){return 0===parseInt(document.getElementById("mail-account").ej2_instances[0].value)}}},sender_user_name:{required:{depends:function(){return 0===parseInt(document.getElementById("mail-account").ej2_instances[0].value)}}},tenant_id:{required:{depends:function(){return 1===parseInt(document.getElementById("mail-account").ej2_instances[0].value)}}},client_id:{required:{depends:function(){return 1===parseInt(document.getElementById("mail-account").ej2_instances[0].value)}}},client_secret:{required:{depends:function(){return 1===parseInt(document.getElementById("mail-account").ej2_instances[0].value)}}}},highlight:function(e){$(e).closest("div").addClass("has-error")},unhighlight:function(e){$(e).closest("div").removeClass("has-error"),$(e).parent().find("span.validation-errors").html("")},errorPlacement:function(e,t){$(t).parent().find("span.validation-errors").html(e)},messages:{smtp_address:{required:window.Server.App.LocalizationContent.MailSMTPServerValidator},port_number:{required:window.Server.App.LocalizationContent.MailSMTPPortValidator},mail_display_name:{required:window.Server.App.LocalizationContent.SenderNameValidator},mail_user_name:{required:window.Server.App.LocalizationContent.SenderEmailValidator},mail_password:{required:window.Server.App.LocalizationContent.PasswordValidator},sender_user_name:{required:window.Server.App.LocalizationContent.UserNameValidator},tenant_id:{required:window.Server.App.LocalizationContent.TenantId},client_id:{required:window.Server.App.LocalizationContent.ClientId},client_secret:{required:window.Server.App.LocalizationContent.ClientSecret}}}),$("#active-directory-container").is(":visible")&&"?tab=azure-ad"==window.location.search.toString()&&($("#azure-ad").tab("show"),$("#update-active-dir-settings").hide(),$("#UpdateAzureADSettings-bottom").removeClass("hidden")),$(document).ready(function(){$("#active-directory-container").is(":visible")&&(location.href.match(/azure-ad/)?($("#azure-ad").tab("show"),$("#update-active-dir-settings").hide(),$("#UpdateAzureADSettings-bottom").removeClass("hidden"),$("#save-db-settings").hide(),$("#connect-database").hide()):location.href.match(/database-settings/)?($("#database-settings").tab("show"),$("#connect-database").show(),$("#save-db-settings").hide(),$("#update-active-dir-settings").hide(),$("#UpdateAzureADSettings-bottom").addClass("hidden")):($("#windows-ad").tab("show"),$("#update-active-dir-settings").show(),$("#save-db-settings").hide(),$("#connect-database").hide()),$("#change-connection").hide()),ignoreSslValidation?$("#ssl-certificate").prop("checked",!0):$("#ssl-certificate").prop("checked",!1)}),$(document).on("change","#enablepoweredbysyncfusion",function(){0==$("#enablepoweredbysyncfusion").is(":checked")?($("#poweredbysyncfusion").removeClass("show").hide(),$("#upload-poweredlogo-image").children().find(".e-uploadinput").attr("disabled",!0),$(".footer-logo").find(".logo-description h3").addClass("powerdby-logo-disabled"),$(".footer-logo").find(".logo-description p").addClass("powerdby-logo-disabled"),$("#upload-poweredlogo-image").children().find("#upload-poweredlogo-image_SelectButton").addClass("powerdby-logo-link-disabled")):($("#poweredbysyncfusion").removeClass("hide").show(),$("#upload-poweredlogo-image").children().find(".e-uploadinput").attr("disabled",!1),$(".footer-logo").find(".logo-description h3").removeClass("powerdby-logo-disabled"),$(".footer-logo").find(".logo-description p").removeClass("powerdby-logo-disabled"),$("#upload-poweredlogo-image").children().find("#upload-poweredlogo-image_SelectButton").removeClass("powerdby-logo-link-disabled")),addFooterSeparator()}),$(document).on("change","#enablecopyrightinfo",function(){0==$("#enablecopyrightinfo").is(":checked")?($("#copyrightinfo").removeClass("show").hide(),$("#site-copyright").attr("disabled","disabled"),$("#site-copyright-error").html(""),$("#site-copyright-error").hide(),$("#site-copyright").attr("style","border-color:var(--input-box-border-normal-color) !important")):($("#copyrightinfo").removeClass("hide").show(),$("#site-copyright").removeAttr("disabled"),$("#site-copyright-error").show(),$("#site-copyright-error").html(window.Server.App.LocalizationContent.CopyRightValidator),$("#site-copyright").attr("style","border-color:var(--red)!important !important")),addFooterSeparator()}),"undefined"!=typeof isEnableCopyrightInfo&&isEnableCopyrightInfo?($("#enablecopyrightinfo").attr("checked",!0),$("#copyrightinfo").removeClass("hide").addClass("show"),$("#site-copyright").attr("disabled",!1)):($("#enablecopyrightinfo").attr("checked",!1),$("#copyrightinfo").removeClass("hide").addClass("hide"),$("#site-copyright").attr("disabled",!0)),"undefined"!=typeof isEnablePoweredBySyncfusion&&isEnablePoweredBySyncfusion?($("#enablepoweredbysyncfusion").attr("checked",!0),$("#poweredbysyncfusion").removeClass("hide").addClass("show"),$("#upload-poweredlogo-image").children().find(".e-uploadinput").attr("disabled",!1),$(".footer-logo").find(".logo-description h3").removeClass("powerdby-logo-disabled"),$(".footer-logo").find(".logo-description p").removeClass("powerdby-logo-disabled"),$("#upload-poweredlogo-image").children().find("#upload-poweredlogo-image_SelectButton").removeClass("powerdby-logo-link-disabled")):($("#enablepoweredbysyncfusion").attr("checked",!1),$("#poweredbysyncfusion").removeClass("hide").addClass("hide"),$("#upload-poweredlogo-image").children().find(".e-uploadinput").attr("disabled",!0),$(".footer-logo").find(".logo-description h3").addClass("powerdby-logo-disabled"),$(".footer-logo").find(".logo-description p").addClass("powerdby-logo-disabled"),$("#upload-poweredlogo-image").children().find("#upload-poweredlogo-image_SelectButton").addClass("powerdby-logo-link-disabled")),$(document).on("click","#UpdateSystemSettings,#UpdateSystemSettings-bottom,#UpdateDatabaseSettings-bottom,#update-mail-settings",function(){var n,e,a,i,o,t,r,s;e=getSslValue()+"://"+$("#site_url").val(),$.ajax({type:"POST",url:validateIPWhitelistedUrl,async:!1,data:{domain:e},success:function(e){e.Data?($("#site_url").closest("div").removeClass("has-error"),$("#site-url-validation").css("display","none"),$("#site-url-validation").html("")):($("#site_url").closest("div").addClass("has-error"),$("#site-url-validation").css("display","block"),$("#site-url-validation").html(window.Server.App.LocalizationContent.InvalidIpDomain))}}),0==$("#look-and-feel-form").find(".has-error").length&&0==$("#email-setting-form").find(".has-error").length&&(n=$(this).hasClass("update-system-settings")?window.Server.App.LocalizationContent.SiteSettings:window.Server.App.LocalizationContent.EmailSettings,e=$("#secure-mail-authentication").is(":checked"),RemoveUploadBoxError(),$("#look-and-feel-form").valid())&&$("#email-setting-form").valid()&&(a=!1,$("#site_url").attr("data-original-value")!=$("#site_url").val()&&(a=!0),i=!1,getSslValue()==$("#scheme_value").attr("data-value")&&$("#site_url").attr("data-original-value")===$("#site_url").val()&&u==$("#language").val()||(i=!0),o=$("#site_url").val(),r=new Object,parseInt($("#port-number").val())==window.SystemSettingsProperties.MailSettingsPort&&$("#smtp-address").val()==window.SystemSettingsProperties.MailSettingsHost&&$("#mail-display-name").val()==window.SystemSettingsProperties.MailSettingsSenderName&&$("#mail-user-name").val()==window.SystemSettingsProperties.MailSettingsAddress&&e==window.SystemSettingsProperties.MailSettingsIsSecureAuthentication||(r={Address:$("#mail-user-name").val(),Password:$("#mail_password").val(),Host:$("#smtp-address").val(),SenderName:$("#mail-display-name").val(),Port:parseInt($("#port-number").val()),IsSecureAuthentication:e}),$("#mail-password").val(),t=null==document.getElementById("mail-account").ej2_instances[0].value||isNullOrWhitespace(document.getElementById("mail-account").ej2_instances[0].value)?0:parseInt(document.getElementById("mail-account").ej2_instances[0].value),r={MailSettingsAddress:$("#mail-user-name").val(),MailSettingsAuthType:0==t?parseInt($("input[name='mail-authentication-type']:checked").val()):$("#oauth-mail-authentication-type").val(),MailSettingsUserName:1===parseInt($("input[name='mail-authentication-type']:checked").val())?$("#sender-user-name").val():"",MailSettingsPassword:1===parseInt($("input[name='mail-authentication-type']:checked").val())?$("#mail-password").val():"",MailSettingsHost:$("#smtp-address").val(),MailSettingsSenderName:$("#mail-display-name").val(),MailSettingsPort:null==parseInt($("#port-number").val())||isNullOrWhitespace($("#port-number").val())?0:parseInt($("#port-number").val()),MailSettingsIsSecureAuthentication:e,MailSettingsAccount:t,MailSettingsTenantId:$("#tenant-id").val(),MailSettingsClientId:$("#client-id").val(),MailSettingsClientSecret:$("#client-secret").val()},s={OrganizationName:$("#site-orgname").val(),LoginLogo:window.SystemSettingsProperties.LoginLogo,MainScreenLogo:window.SystemSettingsProperties.MainScreenLogo,FavIcon:window.SystemSettingsProperties.FavIcon,EmailLogo:window.SystemSettingsProperties.EmailLogo,PoweredByLogo:window.SystemSettingsProperties.PoweredByLogo,WelcomeNoteText:$("#txt_welcome_note").val(),TimeZone:document.getElementById("time-zone").ej2_instances[0].value,DateFormat:document.getElementById("date-format").ej2_instances[0].value,BaseUrl:getSslValue()+"://"+$("#site_url").val(),EnableDomainChange:$("#domain-change").is(":checked"),IsSecureConnection:"https"===getSslValue(),MailSettings:r,MachineName:$("#machineName").val(),HostDomain:$("#hostDomain").val(),Language:document.getElementById("language").ej2_instances[0].value,IsEnablePoweredBySyncfusion:$("#enablepoweredbysyncfusion").is(":checked"),IsEnableCopyrightInfo:$("#enablecopyrightinfo").is(":checked"),CopyrightInformation:$("#site-copyright").val(),TimeFormat:document.getElementById("time_format").ej2_instances[0].value,IgnoreSslValidation:$("#ssl-certificate").is(":checked")},$.ajax({type:"POST",url:window.updateSystemSettingsUrl,data:{systemSettingsData:JSON.stringify(s)},beforeSend:showWaitingPopup("server-app-container"),success:function(e){var t;i?a?(t="<a href='"+restartLink+"' target='_blank'>click here.</a>",messageBox("",window.Server.App.LocalizationContent.RestartApplication,window.Server.App.LocalizationContent.RestartApplicationLink+t,"success",function(){parent.onCloseMessageBox();var e=window.location.pathname;window.location.href=getSslValue()+"://"+o+e.substring(e.indexOf("/ums/administration"))})):window.location.href=getSslValue()+"://"+location.host+location.pathname:(l&&$("#application-logo").attr("src",window.baseRootUrl+"content/images/application/"+s.MainScreenLogo),c&&$("#poweredbysyncfusion img").attr("src",window.baseRootUrl+"content/images/application/"+s.PoweredByLogo),$("#copyrightinfo").html(s.CopyrightInformation),d&&((t=document.createElement("link")).type="image/x-icon",t.rel="shortcut icon",t.href=window.baseRootUrl+"content/images/application/"+s.FavIcon,document.getElementsByTagName("head")[0].appendChild(t)),t=document.title.split("-")[0]+" - "+$("#site-orgname").val(),document.title=t),e.status?($("#enablepoweredbysyncfusion").is(":checked")?$("#poweredbysyncfusion").removeClass("hide").addClass("show"):$("#poweredbysyncfusion").removeClass("show").addClass("hide"),$("#enablecopyrightinfo").is(":checked")?$("#copyrightinfo").removeClass("hide").addClass("show"):$("#copyrightinfo").removeClass("show").addClass("hide"),$("#enablepoweredbysyncfusion").is(":checked")&&$("#enablecopyrightinfo").is(":checked")?$("#footer-separator").removeClass("hide").addClass("show"):$("#footer-separator").removeClass("show").addClass("hide"),SuccessAlert(n,window.Server.App.LocalizationContent.SiteSettingsUpdated,7e3),SetCookie()):(WarningAlert(n,window.Server.App.LocalizationContent.SiteSettingsUpdateFalied,e.Message,7e3),$(".error-message, .success-message").css("display","none")),hideWaitingPopup("server-app-container")}}))})}),$(document).ready(function(){emailConfiguration()}),$(document).on("change","#mail-password , #sender-user-name",function(){""!==$("#mail-password").val()&&$("#mail-password-error").remove(),""!==$("#sender-user-name").val()&&$("#sender-user-name-error").remove()}),$(document).on("click","a[data-toggle='tab']",function(e){"azure-ad"==$(this).attr("id")?($("#update-active-dir-settings").hide(),$("#UpdateAzureADSettings-bottom").removeClass("hidden"),$("#save-db-settings").hide(),$("#connect-database").hide(),$("#change-connection").hide(),$("#azure-ad-tab span.validation-message").addClass("ng-hide").parent().removeClass("has-error")):"windows-ad"==$(this).attr("id")?($("#UpdateAzureADSettings-bottom").addClass("hidden"),$("#update-active-dir-settings").show(),$("#save-db-settings").hide(),$("#connect-database").hide(),$("#change-connection").hide(),$("#windows-ad-tab .error").hide().parent().parent().removeClass("has-error")):(0!=$("#schema-selection").length&&$("#change-connection").trigger("click"),$("#connect-database").show(),$("#save-db-settings").hide(),$("#update-active-dir-settings").hide(),$("#change-connection").hide(),$("#UpdateAzureADSettings-bottom").addClass("hidden")),$(".success-message, .error-message").hide()}),$(document).on("change","#enable-ssl",function(){$("#help_text").css("display","https"===$(this).val()?"block":"none")}),$(document).on("click","#help_text",function(){$("#ssl-help-message").toggle()}),$(document).on("click","#time_format",function(){$("#time_format").is(":checked")?$(".time").html(window.Server.App.LocalizationContent.TimeFormatTrue):$(".time").html(window.Server.App.LocalizationContent.TimeFormatFalse)}),$(document).on("click","#update-active-dir-settings",function(){var e={UserName:$("#username").val().trim(),Password:$("#password").val().trim(),LdapURL:$("#ldapurl").val().trim(),EnableSsl:$("#enable-ldap-ssl").is(":checked"),DistinguishedName:$("#distinguished-name").val(),PortNo:$("#ldap-port-number").val().trim()};$.ajax({type:"POST",url:window.updateAdSettingsUrl,data:{ADSettingsData:JSON.stringify(e)},beforeSend:showWaitingPopup("server-app-container"),success:function(e){e.status?SuccessAlert(window.Server.App.LocalizationContent.ADSettings,window.Server.App.LocalizationContent.SiteSettingsUpdated,7e3):WarningAlert(window.Server.App.LocalizationContent.ADSettings,window.Server.App.LocalizationContent.SiteSettingsUpdateFalied,null,7e3),$(".error-message, .success-message").css("display","none")},complete:function(){hideWaitingPopup("server-app-container")}})}),$(document).on("change","input[name='mail-authentication-type']",function(){var e=$(".mail-credentials");1===parseInt($(this).val())?e.removeAttr("disabled"):(e.attr("disabled","disabled").val("").parent().removeClass("has-error"),e.siblings(".validation-errors").text(""))}),$(document).on("change click","#site_url",function(){onBaseUrlChange()}),$(document).on("mouseenter",".highlight-image",function(){var e=$(this).attr("data-image").toLowerCase();$("#image-container").find(".tooltip-container[data-image='"+e+"']").tooltip("show")}),$(document).on("mouseleave",".highlight-image",function(){var e=$(this).attr("data-image").toLowerCase();$("#image-container").find(".tooltip-container[data-image='"+e+"']").tooltip("hide")}),$(document).on("mouseenter",".tooltip-container",function(){var e=$(this).attr("data-image").toLowerCase();$(".highlight-image[data-image='"+e+"']").find(".form-control, .input-group-addon").css({"border-color":"#009AEF","box-shadow":"0 2px 2px 2px #E8F9FF"})}),$(document).on("mouseleave",".tooltip-container",function(){var e=$(this).attr("data-image").toLowerCase();$(".highlight-image[data-image='"+e+"']").find(".form-control, .input-group-addon").removeAttr("style")}),$(document).on("click","#UpdateAzureADSettings-bottom",function(){var e={TenantName:$("#tenantName").val().trim(),ClientID:$("#clientId").val().trim(),ClientKey:$("#clientKey").val().trim()};$.ajax({type:"POST",url:window.updateAzureADSettingsUrl,data:{ADSettingsData:JSON.stringify(e)},beforeSend:showWaitingPopup("server-app-container"),success:function(e){e.status?SuccessAlert(window.Server.App.LocalizationContent.AzureADSettings,window.Server.App.LocalizationContent.SiteSettingsUpdated,7e3):WarningAlert(window.Server.App.LocalizationContent.AzureADSettings,window.Server.App.LocalizationContent.SiteSettingsUpdateFalied,null,7e3),$(".azure-ad-button-area .error-message, .azure-ad-button-area .success-message").css("display","none"),hideWaitingPopup("server-app-container")},error:function(){hideWaitingPopup("server-app-container")}})}),parseURL.options={strictMode:!0,key:["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"],q:{name:"queryKey",parser:/(?:^|&)([^&=]*)=?([^&]*)/g},parser:{strict:/^(?:([^:\/?#]+):)?(?:\/\/((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\/?#]*)(?::(\d*))?))?((((?:[^?#\/]*\/)*)([^?#]*))(?:\?([^#]*))?(?:#(.*))?)/,loose:/^(?:(?![^:@]+:[^:@\/]*@)([^:\/?#.]+):)?(?:\/\/)?((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/}},$(document).ready(function(){$("#display-login-logo,#mainscreen_logo_img,#favicon_logo_img,#email_logo_img,#display-powered-logo").on("error",function(){$(this).off("error"),$(this).attr("src",'@Url.Content("~/images/boldid/application/" + IconFileNames.DefaultErrorSquareImage)')})}),$(function(){$(document).on("click",".show-hide-password",function(){$(this).siblings("input").is(":password")?($(this).siblings("input").attr("type","text").val(),$(this).removeClass("su-show").addClass("su-hide").attr("data-original-title",window.Server.App.LocalizationContent.ClicktoHide)):($(this).siblings("input").attr("type","password"),$(this).removeClass("su-hide").addClass("su-show").attr("data-original-title",window.Server.App.LocalizationContent.ClicktoView)),$(this).tooltip("show")}),$(document).on("touchstart",".show-hide-password",function(){$(this).siblings("input").is(":password")?$(this).siblings("input").attr("type","text"):$(this).siblings("input").attr("type","password")}),$(document).on("touchend",".show-hide-password",function(){$(this).siblings("input").is(":password")?$(this).siblings("input").attr("type","text"):$(this).siblings("input").attr("type","password")}),window.innerWidth<1041&&$(document).on("click",".show-hide-password",function(){$(this).siblings("input").is(":password")?$(this).siblings("input").attr("type","text"):$(this).siblings("input").attr("type","password")}),$(document).on("click",".show-hide-password-ej2",function(){$(this).siblings().find("input").is(":password")?($(this).siblings().find("input").attr("type","text"),$(this).removeClass("su-show").addClass("su-hide").attr("data-original-title",window.Server.App.LocalizationContent.ClicktoHide)):($(this).siblings().find("input").attr("type","password"),$(this).removeClass("su-hide").addClass("su-show").attr("data-original-title",window.Server.App.LocalizationContent.ClicktoView)),$(this).tooltip("show")}),$(document).on("touch",".show-hide-password-ej2",function(){$(this).siblings().find("input").is(":password")?($(this).siblings().find("input").attr("type","text"),$(this).removeClass("su-show"),$(this).addClass("su-hide")):($(this).siblings().find("input").attr("type","password"),$(this).removeClass("su-hide"),$(this).addClass("su-show"))})}),$(document).ready(function(){new ejs.inputs.TextBox({cssClass:"e-outline e-custom e-non-float",floatLabelType:"Never"}).appendTo("#test-mail"),String.prototype.format=function(){for(k in a=this,arguments)a=a.replace("{"+k+"}",arguments[k]);return a},$("#test-mail-form").validate({errorElement:"span",onkeyup:function(e,t){9!=t.keyCode&&(isKeyUp=!0,$(e).valid(),isKeyUp=!1)},onfocusout:function(e){$(e).valid(),$("#success-message").html("")},rules:{test_mail:{required:!0,isValidEmail:!0}},highlight:function(e){$(e).closest("span").addClass("e-error"),$("#test-mail-validate").css("display","block"),$(e).closest(".e-outline").siblings(".validation-message").html("")},unhighlight:function(e){$(e).closest("span").removeClass("e-error"),$("#test-mail-validate").css("display","none"),$("#test-main-error-message").hide()},errorPlacement:function(e,t){$(t).closest(".e-outline").siblings(".validation-message").css("display","block").html(e.html())},messages:{test_mail:{required:window.Server.App.LocalizationContent.EmailValidator,isValidEmail:window.Server.App.LocalizationContent.InvalidEmailAddress}}})}),$(document).on("click","#mail-error-detail",function(){$("#test-main-error-message").show()}),$(document).on("click","#test-mail-button",function(){testMailTrigger()}),$(document).ready(function(){$(document).on("click","#cancel-settings",function(){window.location.href=window.location.href})});var emailLogStartDateTime="",emailLogEndDateTime="",daterangeobj="",grid="";function emailActivityLogGrid(){var e;null==document.getElementById("emailActivityLogGrid").ej2_instances&&($("#search-event").val(""),e=new ejs.data.DataManager({url:filterEmailLogsUrl,adaptor:new ejs.data.UrlAdaptor,crossDomain:!0}),(grid=new ejs.grids.Grid({dataSource:e,gridLines:"None",allowPaging:!0,pageSettings:{pageSize:20},allowSorting:!0,allowSearching:!0,enableAltRow:!1,enableHover:!0,allowSelection:!0,selectionSettings:{type:"Multiple"},load:fnActionBegin,actionBegin:fnActionBegin,rowSelecting:function(e){this.multiSelectCtrlRequest=!0},dataBound:function(){$('[data-toggle="tooltip"]').tooltip({container:"body"})},columns:[{field:"Event",headerText:window.Server.App.LocalizationContent.Event,type:"string",width:55,allowFiltering:!1,allowSorting:!0},{field:"ModifiedDateString",headerText:window.Server.App.LocalizationContent.Date,type:"string",width:55,allowFiltering:!1,allowSorting:!0},{field:"RecipientEmail",headerText:window.Server.App.LocalizationContent.Recipient,type:"string",width:70,allowFiltering:!0,allowSorting:!0},{field:"InitiatedBy",headerText:window.Server.App.LocalizationContent.InitiatedBy,type:"string",width:70,allowFiltering:!1,allowSorting:!0},{field:"Status",headerText:window.Server.App.LocalizationContent.Status,type:"string",width:40,allowFiltering:!0,allowSorting:!1},{allowSorting:!1,headerText:window.Server.App.LocalizationContent.Action,template:"#emaillogoptions",width:40,allowFiltering:!1}]})).appendTo("#emailActivityLogGrid"))}function setTimpickerValue(){emailLogEndDateTime="True"==emailActivityLogTimeFormat?(emailLogStartDateTime="00:00","23:59"):(emailLogStartDateTime="12:00 AM","11:59 PM")}function fnActionBegin(e){var t=$("#search-event").val();0<this.properties.query.params.length&&(this.properties.query.params=[]),this.properties.query.params.push({key:"searchKey",value:t})}function closeItemInfo(){document.getElementById("email-activity-log").ej2_instances[0].hide(),$(".mail-error-message").hide()}$(document).ready(function(){addPlacehoder("#search-area"),dropDownListInitialization("#email-event",window.Server.App.LocalizationContent.EmailEvent,!0),document.getElementById("email-event").ej2_instances[0].value=selectedEventValue,document.getElementById("email-event").ej2_instances[0].text=selectedEventText,(daterangeobj=new ej.calendars.DateRangePicker({placeholder:"Select a range",format:emailActivityLogDateFormat,cssClass:"e-custom",presets:[{label:window.Server.App.LocalizationContent.Today,start:new Date,end:new Date},{label:window.Server.App.LocalizationContent.Yesterday,start:new Date((new Date).setDate((new Date).getDate()-1)),end:new Date},{label:window.Server.App.LocalizationContent.Last7Days,start:new Date((new Date).setDate((new Date).getDate()-7)),end:new Date},{label:window.Server.App.LocalizationContent.Last15Days,start:new Date((new Date).setDate((new Date).getDate()-14)),end:new Date},{label:window.Server.App.LocalizationContent.Last30Days,start:new Date((new Date).setDate((new Date).getDate()-30)),end:new Date},{label:window.Server.App.LocalizationContent.Last60Days,start:new Date((new Date).setDate((new Date).getDate()-60)),end:new Date},{label:window.Server.App.LocalizationContent.ThisWeek,start:new Date,end:new Date((new Date).setDate((new Date).getDate()+7))},{label:window.Server.App.LocalizationContent.ThisMonth,start:new Date,end:new Date((new Date).setMonth((new Date).getMonth()+1))}]})).appendTo("#datePicker"),new ejs.popups.Dialog({width:480<window.innerWidth?"400px":window.innerWidth-10+"px",height:"548px",header:window.Server.App.LocalizationContent.EmailLogDialogHeader,content:document.getElementById("dialog-content"),showCloseIcon:!0,buttons:[{click:closeItemInfo,buttonModel:{content:window.Server.App.LocalizationContent.CancelButton}}],enableModal:!0,isModal:!0,animationSettings:{effect:"Zoom"},visible:!1,close:closeItemInfo}).appendTo("#email-activity-log"),$("#mail-settings-container").is(":visible")&&(location.href.match(/logs/)?($("#email-logs-tab").tab("show"),$("#email-settings").hide(),$(".email-settings-option").hide(),"?view=logs"!=window.location.search.toString()&&history.pushState(null,"","?view=logs"),emailActivityLogGrid()):($("#email-settings-tab").tab("show"),$("#logs").hide(),$(".email-settings-option").show(),"?view=email-settings"!=window.location.search.toString()&&history.pushState(null,"","?view=email-settings"))),$("a[data-toggle='tab']").on("click",function(e){"email-logs-tab"==$(this).attr("id")?($("#logs").show(),$("#email-settings").hide(),$(".email-settings-option").hide(),"?view=logs"!=window.location.search.toString()&&history.pushState(null,"","?view=logs"),emailActivityLogGrid()):"email-settings-tab"==$(this).attr("id")&&($("#email-settings").show(),$("#logs").hide(),$(".email-settings-option").show(),"?view=email-settings"!=window.location.search.toString())&&history.pushState(null,"","?view=email-settings")})}),$(document).on("click","#apply-button",function(){setTimpickerValue();var e=null!=document.getElementById("datePicker").ej2_instances[0].startValue?document.getElementById("datePicker").ej2_instances[0].startValue.toLocaleDateString("en-US"):"",t=null!=document.getElementById("datePicker").ej2_instances[0].endValue?document.getElementById("datePicker").ej2_instances[0].endValue.toLocaleDateString("en-US"):"",e=""!=e?e+" "+emailLogStartDateTime:"",t=""!=t?t+" "+emailLogEndDateTime:"",n=document.getElementById("email-event").ej2_instances[0].value,a=document.getElementById("emailActivityLogGrid").ej2_instances[0],e=new ej.data.DataManager({url:filterEmailLogsUrl+"?startDate="+e+"&endDate="+t+"&eventType="+n,adaptor:new ej.data.UrlAdaptor});a.dataSource=e}),$(document).on("click","#refresh",function(){grid.refresh()}),$(document).on("click",".email-log-info",function(e){openEmailLogDetails(e)});var serverApp=angular.module("serverApp",[]);function openEmailLogDetails(e){var t=angular.element("[ng-controller=emailLogInfoCtrl]").scope(),e=document.getElementById("emailActivityLogGrid").ej2_instances[0].getRowInfo(e.target);t.openEmailLogInfoDialog(e)}serverApp.controller("emailLogInfoCtrl",["$scope","$timeout",function(t,n){t.EmailLogDetail=null,t.openEmailLogInfoDialog=function(e){null!=e.rowData.StatusMessage&&" "!=e.rowData.StatusMessage&&""!=e.rowData.StatusMessage&&$(".mail-error-message").show(),t.EmailLogDetail=e.rowData,document.getElementById("email-activity-log").style.visibility="visible",document.getElementById("email-activity-log").ej2_instances[0].show(),n(function(){t.$apply()},10)}}]),$(document).on("click","#reset",function(){daterangeobj.value=null,$("#search-event").val(""),$("#clear-search").hide(),$(".search-user").show();var e=$.trim(null),t=$.trim(null),n=$.trim(null),a=document.getElementById("emailActivityLogGrid").ej2_instances[0],e=new ej.data.DataManager({url:filterEmailLogsUrl+"?startDate="+e+"&endDate="+t+"&eventType="+n,adaptor:new ej.data.UrlAdaptor});a.dataSource=e,document.getElementById("email-event").ej2_instances[0].text=selectedEventText});var rowchecked,source="",isValidationSuccess=!1,fileName="",extension="",localizationGrid="",count=0,fileName=[],dropDownList="",isApplicationLanguage=!1,isavailableLanguage=!1,isNewLanguageAdded=!1;function onDropDownChange(){""!=document.getElementById("model-language").ej2_instances[0].value?$("#upload-container .e-file-select-wrap .e-btn").attr("disabled",!1):$("#upload-container .e-file-select-wrap .e-btn").attr("disabled",!0)}function onLocalizationDialogOpen(){var e;document.getElementById("localization-container").ej2_instances[0].show(),$("#delete-language").hide(),null==document.getElementById("Localization_grid").ej2_instances&&($("#search-languages").val(""),e=new ejs.data.DataManager({url:getLocalizationUrl,adaptor:new ejs.data.UrlAdaptor,crossDomain:!0}),(localizationGrid=new ejs.grids.Grid({dataSource:e,gridLines:"None",allowPaging:!0,allowSorting:!0,allowSelection:!0,selectionSettings:{type:"Multiple",mode:"Row"},pageSettings:{pageSize:9},load:fnActionBeginLocalization,actionBegin:fnActionBeginLocalization,rowSelecting:function(e){this.multiSelectCtrlRequest=!0},dataBound:function(){$('[data-toggle="tooltip"]').tooltip({container:"body"})},enableHover:!0,enableAltRow:!1,rowDataBound:function(e){e.row.querySelector(".remove-access").firstChild.style.visibility="hidden",e.row.addEventListener("mouseenter",function(e){e.target.querySelector(".remove-access").firstChild.style.visibility="visible"}),e.row.addEventListener("mouseleave",function(e){e.target.querySelector(".remove-access").firstChild.style.visibility="hidden"})},columns:[{template:"#localization-checkbox-row-template",width:10,allowFiltering:!1},{field:"LanguageName",headerText:"Language",width:150,type:"string",allowFiltering:!1,allowSorting:!0},{template:!0,template:"#remove-options",allowSorting:!1,width:40,allowFiltering:!1,customAttributes:{class:"remove-access"}}]})).appendTo("#Localization_grid"))}function closeLocalizationDialog(){localizationGrid.clearSelection(),localizationGrid.refresh(),document.getElementById("localization-container").ej2_instances[0].hide(),count=0,isNewLanguageAdded&&window.location.reload()}function uploadDialogOpen(){zipFileName=$.trim(null),$("#file-name").val(""),$("#message-container").hide(),$(".uploaded-language").attr("disabled",!0),$("#upload-container .e-file-select-wrap .e-btn").attr("disabled",!0),document.getElementById("upload-container").ej2_instances[0].show(),document.getElementById("model-language").ej2_instances[0].refresh(),count=0,$("#delete-language").hide(),$(".selected-language").hide()}function uploadLanguage(){var e;showWaitingPopup("upload-container"),isValidationSuccess&&(isavailableLanguage&&(fileName.push(document.getElementById("model-language").ej2_instances[0].value),doAjaxPost("POST",removeLocalizationUrl,"languageName="+fileName,function(e){})),e=document.getElementById("model-language").ej2_instances[0].value,doAjaxPost("POST",addLocalizationUrl,"languageName="+e,function(e){e.Status?(isNewLanguageAdded=!0,document.getElementById("upload-container").ej2_instances[0].hide(),messageBox("",window.Server.App.LocalizationContent.AddLanguageHeader,window.Server.App.LocalizationContent.LanguageAddSuccessMessage,"success",function(){parent.onCloseMessageBox()})):(document.getElementById("upload-container").ej2_instances[0].hide(),messageBox("",window.Server.App.LocalizationContent.AddLanguageHeader,e.Message,"error",function(){parent.onCloseMessageBox()})),hideWaitingPopup("upload-container")}),localizationGrid.clearSelection(),localizationGrid.refresh())}function fnActionBeginLocalization(e){var t=$("#search-languages").val();0<fileName.length&&(fileName=[]),$("#delete-language").hide(),(count=0)<this.properties.query.params.length&&(this.properties.query.params=[]),this.properties.query.params.push({key:"searchKey",value:t})}function uploadDialogClose(){fileName=[],zipFileName!=$.trim(null)&&".zip"==extension&&doAjaxPost("POST",removeTempLocalizationUrl,function(e){}),$("#file-name").val(""),$("#upload-zipfile").val(""),isValidationSuccess=!1,$("#message-container").hide(),$(".validation-error-content").remove(),$(".validation-error-message").hide(),$(".validation-error-message").removeClass("success"),document.getElementById("upload-container").ej2_instances[0].hide(),localizationGrid.clearSelection(),localizationGrid.refresh(),dropDownList.refresh(),dropDownList.value=null,dropDownList.list.innerHTML=""}function languageDeleteDialogOpen(){var e,t="";for(e of fileName){var n=e.toLowerCase();applicationLanguage==n&&(t=n,isApplicationLanguage=!0,$("#language-delete-dialog-content").removeClass("warning-message"),document.getElementById("language-delete-dialog").ej2_instances[0].show())}applicationLanguage!=t&&(isApplicationLanguage=!1,$("#language-delete-dialog-content").addClass("warning-message"),$(".info-message").html(window.Server.App.LocalizationContent.RemoveLanguage),document.getElementById("language-delete-dialog").ej2_instances[0].show())}function languageDeleteDialogClose(){document.getElementById("language-delete-dialog").ej2_instances[0].hide(),count<=1&&(fileName=[]),count=0,$("#delete-language").hide(),$(".selected-language").hide(),localizationGrid.clearSelection(),localizationGrid.refresh()}function deleteLanguages(){showWaitingPopup("language-delete-dialog"),showWaitingPopup("localization-container"),doAjaxPost("POST",removeLocalizationUrl,"languageName="+fileName,function(e){e.Status?(document.getElementById("language-delete-dialog").ej2_instances[0].hide(),messageBox("",window.Server.App.LocalizationContent.RemoveLanguageHeader,window.Server.App.LocalizationContent.LanguageRemoveSuccessMessage,"success",function(){parent.onCloseMessageBox(),isApplicationLanguage&&location.reload()})):(document.getElementById("language-delete-dialog").ej2_instances[0].hide(),e=null!=e.Message?e.Message:window.Server.App.LocalizationContent.LanguageRemoveFailedMessage,messageBox("",window.Server.App.LocalizationContent.RemoveLanguageHeader,e,"error",function(){parent.onCloseMessageBox()})),hideWaitingPopup("language-delete-dialog")}),localizationGrid.clearSelection(),localizationGrid.refresh(),fileName=[],count=0,$(".selected-language").hide(),$("#delete-language").hide(),hideWaitingPopup("localization-container")}$(document).ready(function(){createWaitingPopup("localization-container"),createWaitingPopup("upload-container"),createWaitingPopup("language-delete-dialog"),new ejs.popups.Dialog({width:"900px",height:"712px",header:window.Server.App.LocalizationContent.LanguageHeader,content:document.getElementById("localization-content"),showCloseIcon:!0,buttons:[{click:closeLocalizationDialog,buttonModel:{content:window.Server.App.LocalizationContent.CancelButton}}],enableModal:!0,isModal:!0,animationSettings:{effect:"Zoom"},visible:!1,close:closeLocalizationDialog}).appendTo("#localization-container"),(dropDownList=new ejs.dropdowns.DropDownList({dataSource:defaultLanguages,fields:{text:"Text",value:"Value"},placeholder:window.Server.App.LocalizationContent.SelectLanguage,floatLabelType:"Never",cssClass:"e-outline e-custom e-non-float",change:onDropDownChange,allowFiltering:!0,filterType:"Contains"})).appendTo("#model-language"),new ejs.popups.Dialog({header:window.Server.App.LocalizationContent.UploadLangauage,content:document.getElementById("upload-content"),showCloseIcon:!0,width:"424px",height:"auto",close:uploadDialogClose,buttons:[{click:function(){uploadDialogClose()},buttonModel:{content:window.Server.App.LocalizationContent.CancelButton}},{click:function(){uploadLanguage()},buttonModel:{content:window.Server.App.LocalizationContent.Upload,isPrimary:!0,cssClass:"uploaded-language"}}],enableModal:!0,isModal:!0,animationSettings:{effect:"Zoom"},visible:!1}).appendTo("#upload-container"),new ej.popups.Dialog({header:window.Server.App.LocalizationContent.DeleteLanguage,content:document.getElementById("language-delete-dialog-content"),showCloseIcon:!0,buttons:[{click:deleteLanguages,buttonModel:{content:window.Server.App.LocalizationContent.YesButton,isPrimary:!0,cssClass:"critical-action-button"}},{click:languageDeleteDialogClose,buttonModel:{content:window.Server.App.LocalizationContent.NoButton,cssClass:"cancel-button"}}],width:"424px",height:"176px",isModal:!0,animationSettings:{effect:"Zoom"},visible:!1}).appendTo("#language-delete-dialog"),new ej.inputs.Uploader({asyncSettings:{saveUrl:window.zipFileUploadUrl},autoUpload:!0,showFileList:!1,maxFileSize:25e6,multiple:!1,allowedExtensions:".zip",buttons:{browse:window.Server.App.LocalizationContent.SelectFile},selected:function(e){type=e.filesData[0]?.type.toLowerCase(),zipFileName=e.filesData[0]?.name,size=e.filesData[0]?.size,".zip"!=(extension="."+type)&&($("#message-container").show(),$("#file-name").val(zipFileName),$(".validation-error-message").html(window.Server.App.LocalizationContent.InValidFileFormat),$(".localization-message-content").removeClass("error-content"),$(".validation-error-content").remove(),$(".validation-error-message").show()),25e6<size&&($("#message-container").show(),$("#file-name").val(zipFileName),$(".validation-error-message").html(window.Server.App.LocalizationContent.FileSize),$(".localization-message-content").removeClass("error-content"),$(".validation-error-content").remove(),$(".validation-error-message").show())},success:function(e){var t=document.getElementById("model-language").ej2_instances[0].value;doAjaxPost("POST",validateLocalizationUrl,"zipFileName="+zipFileName+"&languageName="+t,function(e){e.Status?(isValidationSuccess=e.Status,$("#upload-container .e-file-select-wrap .e-btn").attr("disabled",!0),$(".uploaded-language").attr("disabled",!1),$("#message-container").show(),$(".validation-error-content").remove(),$("#file-name").val(zipFileName),$(".localization-message-content").addClass("error-content"),$(".validation-error-message").hide()):e.Message?(isavailableLanguage=e.Message,isValidationSuccess=!0,$("#upload-container .e-file-select-wrap .e-btn").attr("disabled",!0),$(".uploaded-language").attr("disabled",!1),$("#message-container").show(),$(".validation-error-content").remove(),$("#file-name").val(zipFileName),$(".localization-message-content").addClass("error-content"),$(".validation-error-message").hide()):(e.Message,$("#message-container").show(),$(".localization-message-content").addClass("error-content"),$(".validation-error-content").remove(),$(".validation-error-message").hide(),$("#file-name").val(zipFileName),$(".localization-message-content").append(e.result))})}}).appendTo("#upload-zipfile")}),$(document).on("click",".remove-language",function(e){fileName=[];for(var t=document.getElementById("Localization_grid").ej2_instances[0],e=t.getRowInfo(e.target),n=(fileName.push(e.rowData.LangaugeCode),t.getRows()),a=1;a<n.length;a++)n[a].querySelector("input[type=checkbox]")&&(n[a].querySelector("input[type=checkbox]").checked=!1);count=0,languageDeleteDialogOpen(),(rowchecked=e.row.querySelector("input[type=checkbox]")).checked=!0,$("#delete-language").hide(),$(".selected-language").hide()}),$(document).on("click","#clear-search",function(e){$(".close-icon").css("display","none"),$(".su-search").css("display","block")}),$(document).on("change",".localization-checkbox-row",function(){var e=$(this).is(":checked"),t=$(this).attr("data-id");e?(count++,fileName.push(t),2<=count&&($("#delete-language").show(),$("#delete-language").html(window.Server.App.LocalizationContent.Remove+" ("+count+")"),$(".selected-language").show(),$(".selected-language").html(window.Server.App.LocalizationContent.SelectedLanguage+" ("+count+")"))):2<=count?(count--,fileName.pop(t),2<=count?($("#delete-language").show(),$("#delete-language").html(window.Server.App.LocalizationContent.Remove+" ("+count+")"),$(".selected-language").show(),$(".selected-language").html(window.Server.App.LocalizationContent.SelectedLanguage+" ("+count+")")):count<=1&&($("#delete-language").hide(),$(".selected-language").hide())):(count--,fileName.pop(t))}),$("#search-languages").on("keyup keydown",function(){fileName.length=0,$("#delete-language").hide(),count=0}),$(document).on("click","#add-language",function(){uploadDialogOpen()}),$(document).on("click","#delete-language",function(){languageDeleteDialogOpen()}),$(document).on("click","#manage",function(){onLocalizationDialogOpen()});